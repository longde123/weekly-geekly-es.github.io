<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçü§ù‚Äçüë©üèΩ üö¢ ‚òùüèª Azure PowerShell: mayormente inofensivo ‚ôèÔ∏è ü•ö ü§±üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos Hoy tenemos otro proyecto de Microsoft en el cheque. Por el t√≠tulo de este art√≠culo, puede adivinar que esta vez los desarrolladores no n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Azure PowerShell: mayormente inofensivo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/470728/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5dd/f61/f7d/5ddf61f7dcf2f891ee258f9d580d3dbd.png" alt="Cuadro 6"></div><br>  Hola a todos  Hoy tenemos otro proyecto de Microsoft en el cheque.  Por el t√≠tulo de este art√≠culo, puede adivinar que esta vez los desarrolladores no nos "complacieron" con una gran cantidad de errores.  Esperamos que los autores del proyecto no se ofendan por el t√≠tulo.  Despu√©s de todo, una peque√±a cantidad de errores es excelente, ¬øno?  Sin embargo, todav√≠a logramos encontrar algo intrigante en el c√≥digo de Azure PowerShell.  Sugerimos conocer las caracter√≠sticas de este proyecto y verificar los errores que se encuentran utilizando el analizador PVS-Studio C #. <br><a name="habracut"></a><br><h2>  Sobre el proyecto </h2><br>  Azure PowerShell es un conjunto de comandos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmdlet</a> ) que le permite administrar los recursos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Azure</a> directamente desde la l√≠nea de comandos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PowerShell</a> .  El objetivo principal de este conjunto es simplificar el proceso de estudio e iniciar r√°pidamente el desarrollo para Azure.  Azure PowerShell proporciona a los administradores y desarrolladores caracter√≠sticas atractivas para crear, implementar y administrar aplicaciones de Microsoft Azure. <br><br>  Azure PowerShell se desarrolla en el entorno .NET Standard, es compatible con PowerShell 5.1 para Windows y PowerShell 6.xy versiones posteriores para todas las plataformas.  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo fuente de</a> Azure PowerShell est√° disponible en GitHub. <br><br>  Recientemente he estado recibiendo proyectos de Microsoft para un control.  En mi opini√≥n, la calidad de estos proyectos suele ser de primera categor√≠a.  Aunque, por supuesto, no sin excepciones, como se describe en el art√≠culo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WinForms: Errores, Holmes</a> ".  Pero esta vez todo est√° bien.  El proyecto es grande: los archivos de c√≥digo fuente 6845 .cs contienen aproximadamente 700,000 l√≠neas, excluyendo las en blanco (no tom√© en cuenta las pruebas y advertencias del tercer nivel de certeza).  Se encontraron muy pocos errores para tal cantidad de c√≥digo: no m√°s de cien.  Hubo muchos casos similares, as√≠ que eleg√≠ los m√°s interesantes para el art√≠culo.  Como de costumbre, clasifiqu√© los errores por los n√∫meros de las advertencias de PVS-Studio. <br><br>  Tambi√©n me top√© con algunos fragmentos de c√≥digo que parec√≠an errores, pero que no pod√≠an reconocerse como definitivamente err√≥neos, ya que no estoy lo suficientemente familiarizado con las peculiaridades del desarrollo de PowerShell.  Espero que entre los lectores haya especialistas en este tema que me ayuden.  Lo describir√© en detalle a continuaci√≥n. <br><br>  Antes de la parte de comentarios, me gustar√≠a mencionar la estructura espec√≠fica del proyecto.  El c√≥digo fuente de Azure PowerShell consta de m√°s de setenta soluciones de Visual Studio.  Algunas soluciones incluyen proyectos de otros.  Esta estructura ralentiz√≥ un poco el an√°lisis (no mucho).  A√∫n as√≠, el cheque no caus√≥ ninguna otra dificultad.  Por conveniencia, en el mensaje de error (entre par√©ntesis) especificar√© el nombre de la soluci√≥n donde se encontr√≥ el error. <br><br><h2>  Resultados de analisis </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3001</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas 'strTimespan.Contains ("M")' a la izquierda y a la derecha de '||'  operador  AzureServiceBusCmdletBase.cs 187 (EventGrid) <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> TimeSpan </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParseTimespan</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> strTimespan</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"P"</span></span>) || strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"D"</span></span>) || strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"T"</span></span>) || strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"H"</span></span>) || strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"M"</span></span>) || strTimespan.Contains(<span class="hljs-string"><span class="hljs-string">"M"</span></span>)) .... }</code> </pre> <br>  Un ejemplo de un error bastante obvio que solo un desarrollador puede solucionar.  En este caso, no est√° absolutamente claro si tratamos con la duplicaci√≥n de c√≥digo que no afecta a nada o algo m√°s tiene que tener lugar en lugar de <i>"M"</i> en una de las dos √∫ltimas verificaciones. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3001</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas 'this.AggregationType! = Null' a la izquierda y a la derecha del operador '&amp;&amp;'.  GetAzureRmMetricCommand.cs 156 (Monitor) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> AggregationType? AggregationType { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProcessRecordInternal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> aggregation = (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.AggregationType != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.AggregationType.HasValue) ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.AggregationType.Value.ToString() : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; .... }</code> </pre> <br>  Probablemente no haya ning√∫n error aqu√≠.  Este es un ejemplo de c√≥digo redundante.  A veces, dicho c√≥digo puede indicar falta de conocimiento del desarrollador.  El punto es que las comprobaciones <i>this.AggregationType! = Null</i> y <i>this.AggregationType.HasValue</i> son id√©nticas.  Es suficiente usar solo uno de ellos (cualquiera).  Personalmente, prefiero la opci√≥n con <i>HasValue:</i> <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> aggregation = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.AggregationType.HasValue ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.AggregationType.Value.ToString() : <span class="hljs-literal"><span class="hljs-literal">null</span></span>;</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3003</a> Se us√≥ el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">patr√≥n</a> 'if (A) {...} else if (A) {...}'.  Hay una probabilidad de presencia de error l√≥gico.  L√≠neas de verificaci√≥n: 152, 163. GetAzureRmRecoveryServicesBackupProtectionPolicy.cs 152 (RecoveryServices) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( WorkloadType == Models.WorkloadType.AzureVM ) { .... } .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( WorkloadType == Models.WorkloadType.AzureFiles ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( BackupManagementType != Models.BackupManagementType.AzureStorage ) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException( Resources.AzureFileUnsupportedBackupManagementTypeException ); } serviceClientProviderType = ServiceClientHelpers. GetServiceClientProviderType( Models.WorkloadType.AzureFiles ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( WorkloadType == Models.WorkloadType.AzureFiles ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( BackupManagementType != Models.BackupManagementType.AzureStorage ) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException( Resources.AzureFileUnsupportedBackupManagementTypeException ); } serviceClientProviderType = ServiceClientHelpers. GetServiceClientProviderType( Models.WorkloadType.AzureFiles ); } .... }</code> </pre> <br>  Dos <i>m√°s si los</i> bloques son absolutamente id√©nticos, incluyendo tanto la condici√≥n como el cuerpo del bloque.  Tales errores generalmente se hacen cuando se utiliza el m√©todo de copiar y pegar.  El problema aqu√≠ es nuevamente la criticidad del error.  Si no se trata de una simple duplicaci√≥n de c√≥digo, puede ser la verificaci√≥n necesaria ausente y el conjunto apropiado de acciones.  El autor definitivamente tiene que editar el c√≥digo. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3005</a> La variable 'this.VM.OSProfile.WindowsConfiguration.ProvisionVMAgent' se asigna a s√≠ misma.  SetAzureVMOperatingSystemCommand.cs 298 (Calcular) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-comment"><span class="hljs-comment">// OS Profile this.VM.OSProfile.WindowsConfiguration.ProvisionVMAgent = this.VM.OSProfile.WindowsConfiguration.ProvisionVMAgent; .... }</span></span></code> </pre> <br>  El valor de la propiedad es autoasignado.  Echa un vistazo a su declaraci√≥n: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">JsonProperty(PropertyName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"provisionVMAgent"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>? ProvisionVMAgent { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br>  La descripci√≥n de <i>JsonProperty</i> establece: "Indica a Newtonsoft.Json.JsonSerializer que siempre serialice al miembro con el nombre especificado".  Parece que todo es inocente y se ha cometido el error obvio.  El uso expl√≠cito de <i>esto</i> para acceder a la propiedad tambi√©n es bastante confuso.  Tal vez, otra variable no se especific√≥ por error en lugar de <i>esto.</i>  Pero no saltemos a conclusiones.  El hecho es que me encontr√© con muchas de esas tareas (una propiedad es autoasignada).  Aqu√≠ hay un ejemplo de una tarea, muy similar a un error: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3005</a> La variable 'this.LastHeartbeat' se asigna a s√≠ misma.  PSFabricDetails.cs 804 (RecoveryServices) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ASRInMageAzureV2SpecificRPIDetails</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> InMageAzureV2ReplicationDetails details</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.LastHeartbeat = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.LastHeartbeat; <span class="hljs-comment"><span class="hljs-comment">// &lt;= this.RecoveryAvailabilitySetId = details.RecoveryAvailabilitySetId; this.AgentVersion = details.AgentVersion; this.DiscoveryType = details.DiscoveryType; .... }</span></span></code> </pre> <br>  Echemos un vistazo m√°s de cerca a la segunda y posteriores tareas.  En la parte derecha de la expresi√≥n, los <i>detalles</i> tienen lugar en lugar de <i>esto.</i>  Ahora mire la declaraci√≥n de la propiedad <i>this.LastHeartbeat</i> : <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime? LastHeartbeat { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br>  Por √∫ltimo, busquemos la propiedad con el mismo nombre en la clase <i>InMageAzureV2ReplicationDetails</i> .  Dicha propiedad se declara all√≠: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">InMageAzureV2ReplicationDetails</span></span> : <span class="hljs-title"><span class="hljs-title">ReplicationProviderSpecificSettings</span></span> { .... [JsonProperty(PropertyName = <span class="hljs-string"><span class="hljs-string">"lastHeartbeat"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime? LastHeartbeat { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } .... }</code> </pre> <br>  Bueno, en este caso, estoy dispuesto a admitir que es un error real.  ¬øPero qu√© haremos con las siguientes advertencias?  A diferencia de dos fragmentos de c√≥digo anteriores, hay varias propiedades autoasignadas.  Bueno, esto parece menos un error: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3005</a> La variable 'this.ResourceGroupName' se asigna a s√≠ misma.  RemoveAzureRmExpressRouteConnectionCommand.cs 84 (CognitiveServices) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3005</a> La variable 'this.ExpressRouteGatewayName' se asigna a s√≠ misma.  RemoveAzureRmExpressRouteConnectionCommand.cs 85 (CognitiveServices) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3005</a> La variable 'this.Name' se asigna a s√≠ misma.  RemoveAzureRmExpressRouteConnectionCommand.cs 86 (CognitiveServices) </li></ul><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Cmdlet(VerbsCommon.Remove, ResourceManager.Common.AzureRMConstants.AzureRMPrefix + </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ExpressRouteConnection"</span></span></span><span class="hljs-meta">, DefaultParameterSetName = CortexParameterSetNames.ByExpressRouteConnectionName, SupportsShouldProcess = true), OutputType(typeof(bool))</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RemoveExpressRouteConnectionCommand</span></span> : <span class="hljs-title"><span class="hljs-title">ExpressRouteConnectionBaseCmdlet</span></span> { [Parameter( Mandatory = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, ParameterSetName = CortexParameterSetNames.ByExpressRouteConnectionName, HelpMessage = <span class="hljs-string"><span class="hljs-string">"The resource group name."</span></span>)] [ResourceGroupCompleter] [ValidateNotNullOrEmpty] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ResourceGroupName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ResourceGroupName = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ResourceGroupName; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ExpressRouteGatewayName = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ExpressRouteGatewayName; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name; } .... } .... }</code> </pre> <br>  El m√©todo <i>Execute</i> contiene tres autoasignaciones de propiedades en una fila.  Por si acaso, cit√© la declaraci√≥n completa de la clase <i>RemoveExpressRouteConnectionCommand</i> y todos sus atributos, as√≠ como la declaraci√≥n de propiedad <i>ResourceGroupName</i> (otras dos propiedades se declaran de manera similar).  Fueron estas advertencias las que me hicieron pensar en la pregunta: "¬øEs un error?"  Sospecho que puede estar ocurriendo algo de magia interna del desarrollo de PowerShell aqu√≠.  Espero que entre los lectores haya expertos que est√©n informados sobre este tema.  No estoy listo para sacar conclusiones en este caso. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3006</a> El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  StartAzureRmRecoveryServicesAsrTestFailoverJob.cs 259 (RecoveryServices) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartRPITestFailover</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException( Resources .UnsupportedDirectionForTFO); <span class="hljs-comment"><span class="hljs-comment">// Throw Unsupported Direction // Exception } .... }</span></span></code> </pre> <br>  Se omite la palabra clave <i>throw</i> .  Y el comentario dice que solo hay que lanzar la excepci√≥n.  Encontr√© varios errores m√°s similares en la soluci√≥n <i>RecoveryServices</i> : <br><br><ul><li>  V3006 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  StartAzureRmRecoveryServicesAsrTestFailoverJob.cs 305 (RecoveryServices) </li><li>  V3006 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  StartAzureRmRecoveryServicesAsrUnPlannedFailover.cs 278 (RecoveryServices) </li><li>  V3006 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  StartAzureRmRecoveryServicesAsrUnPlannedFailover.cs 322 (RecoveryServices) </li><li>  V3006 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  UpdateAzureRmRecoveryServicesAsrProtectionDirection.cs 421 (RecoveryServices) </li><li>  V3006 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': lanzar una nueva ArgumentException (FOO).  UpdateAzureRmRecoveryServicesAsrProtectionDirection.cs 452 (RecoveryServices) </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3022 La</a> expresi√≥n 'apiType.HasValue' siempre es falsa.  ApiManagementClient.cs 1134 (ApiManagement) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetApiTypeForImport</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...., PsApiManagementApiType? apiType</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (apiType.HasValue) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(apiType.Value) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PsApiManagementApiType.Http: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SoapApiType.SoapToRest; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PsApiManagementApiType.Soap: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SoapApiType.SoapPassThrough; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SoapApiType.SoapPassThrough; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> apiType.HasValue ? <span class="hljs-comment"><span class="hljs-comment">// &lt;= apiType.Value.ToString("g") : PsApiManagementApiType.Http.ToString("g"); }</span></span></code> </pre> <br>  La l√≥gica del trabajo se ha roto.  Si <i>apiType</i> contiene un valor, el control no alcanzar√° la expresi√≥n de <i>retorno</i> al final del m√©todo (todas las ramas del <i>interruptor</i> contienen <i>retorno</i> ).  De lo contrario, el m√©todo siempre devolver√° <i>PsApiManagementApiType.Http.ToString ("g")</i> , mientras que el valor <i>apiType.Value.ToString ("g")</i> nunca se devolver√°. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3022 La</a> expresi√≥n 'automationJob! = Null &amp;&amp; automationJob == null' siempre es falsa.  NodeConfigurationDeployment.cs 199 (Automatizaci√≥n) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NodeConfigurationDeployment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ...., Management.Automation.Models.Job automationJob = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">, ....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (automationJob != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; automationJob == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; .... }</code> </pre> <br>  C√≥digo contra intuitivo.  Dos controles que se contradicen entre s√≠.  Probablemente la segunda comprobaci√≥n de <i>nulo</i> contiene la variable incorrecta. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3022 La</a> expresi√≥n siempre es falsa.  DataFactoryClient.Encrypt.cs 37 (DataFactory) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPremisesEncryptString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( linkedServiceType == LinkedServiceType.OnPremisesSqlLinkedService &amp;&amp; linkedServiceType == LinkedServiceType.OnPremisesOracleLinkedService &amp;&amp; linkedServiceType == LinkedServiceType.OnPremisesFileSystemLinkedService &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Length == <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-string"><span class="hljs-string">"value"</span></span>); } .... }</code> </pre> <br>  El cheque no tiene sentido y la excepci√≥n nunca ser√° lanzada.  La condici√≥n requiere la igualdad simult√°nea de la variable <i>LinkedServiceType</i> con tres valores diferentes.  Los operadores &amp;&amp; y ||  Es probable que se confundan.  C√≥digo fijo: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( linkedServiceType == LinkedServiceType.OnPremisesSqlLinkedService || linkedServiceType == LinkedServiceType.OnPremisesOracleLinkedService || linkedServiceType == LinkedServiceType.OnPremisesFileSystemLinkedService) &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Length == <span class="hljs-number"><span class="hljs-number">0</span></span>)) ....</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3022 La</a> expresi√≥n 'Ekus == null' siempre es falsa.  PSKeyVaultCertificatePolicy.cs 129 (KeyVault) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> CertificatePolicy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToCertificatePolicy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Ekus != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { x509CertificateProperties.Ekus = Ekus == <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? <span class="hljs-literal"><span class="hljs-literal">null</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(Ekus); } .... }</code> </pre> <br>  Comprobaci√≥n redundante de la variable <i>Ekus</i> para <i>nulo</i> .  Probablemente est√© bien, pero el c√≥digo no se ve bien. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3023</a> Considere inspeccionar esta expresi√≥n.  La expresi√≥n es excesiva o contiene un error de imprenta.  PolicyRetentionObjects.cs 207 (RecoveryServices) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Validate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (RetentionTimes == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || RetentionTimes.Count == <span class="hljs-number"><span class="hljs-number">0</span></span> || RetentionTimes.Count != <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException( Resources.InvalidRetentionTimesInPolicyException); } }</code> </pre> <br>  Aqu√≠ hay un control excesivo o una condici√≥n excesiva.  El check <i>RetentionTimes.Count == 0 no</i> tiene sentido, ya que despu√©s de eso, sigue el check <i>RetentionTimes.Count! = 1</i> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3025</a> Formato incorrecto.  Se espera un n√∫mero diferente de elementos de formato al llamar a la funci√≥n 'Formatear'.  Argumentos no utilizados: this.ResourceGroupName.  NewScheduledQueryRuleCommand.cs 117 (Monitor) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProcessRecordInternal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ShouldProcess(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"Creating Log Alert Rule '{0}' in resource group {0}"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ResourceGroupName))) { .... } .... }</code> </pre> <br>  Un error en la l√≠nea de formato.  El especificador <i>{0}</i> se usa dos veces, y el m√©todo de <i>formato</i> pasa dos argumentos.  Aqu√≠ est√° la versi√≥n correcta: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ShouldProcess(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"Creating Log Alert Rule '{0}' in resource group {1}"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ResourceGroupName))) ....</code> </pre> <br>  Otro error similar: <br><br><ul><li>  V3025 Formato incorrecto.  Se espera un n√∫mero diferente de elementos de formato al llamar a la funci√≥n 'Formatear'.  Argumentos no utilizados: this.ResourceGroupName.  RemoveScheduledQueryRuleCommand.cs 88 (Monitor) </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3042</a> Posible NullReferenceException.  El '?.'  y '.'  Los operadores se utilizan para acceder a los miembros del objeto 'imageAndOsType' VirtualMachineScaleSetStrategy.cs 81 (Calcular) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ResourceConfig&lt;VirtualMachineScaleSet&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateVirtualMachineScaleSetConfig</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...., ImageAndOsType imageAndOsType, ....</span></span></span><span class="hljs-function">)</span></span> { .... VirtualMachineProfile = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VirtualMachineScaleSetVMProfile { OsProfile = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VirtualMachineScaleSetOSProfile { ...., WindowsConfiguration = imageAndOsType.CreateWindowsConfiguration(), <span class="hljs-comment"><span class="hljs-comment">// &lt;= ...., }, StorageProfile = new VirtualMachineScaleSetStorageProfile { ImageReference = imageAndOsType?.Image, // &lt;= DataDisks = DataDiskStrategy.CreateVmssDataDisks( imageAndOsType?.DataDiskLuns, dataDisks) // &lt;= }, }, .... }</span></span></code> </pre> <br>  Al crear el objeto <i>VirtualMachineScaleSetVMProfile</i> , la variable <i>imageAndOsType</i> se verifica para <i>nulo</i> sin ninguna verificaci√≥n preliminar.  Sin embargo, al crear <i>VirtualMachineScaleSetStorageProfile</i> , esta variable ya se verifica utilizando el operador de acceso condicional incluso dos veces.  El c√≥digo no parece seguro. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3042</a> Posible NullReferenceException.  El '?.'  y '.'  Los operadores se utilizan para acceder a los miembros del objeto 'existenteContacts' RemoveAzureKeyVaultCertificateContact.cs 123 (KeyVault) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... List&lt;PSKeyVaultCertificateContact&gt; existingContacts; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { existingContacts = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.DataServiceClient. GetCertificateContacts(VaultName)?.ToList(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (KeyVaultErrorException exception) { .... existingContacts = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> email <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EmailAddress) { existingContacts.RemoveAll(....); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } .... }</span></span></code> </pre> <br>  Tanto en la ejecuci√≥n normal como como resultado del manejo de una excepci√≥n, la variable <i>existenteContacts</i> puede obtener el valor <i>nulo</i> , despu√©s de lo cual la ejecuci√≥n continuar√°.  Adem√°s en el c√≥digo, esta variable se usa sin ning√∫n motivo espec√≠fico. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3066</a> Posible orden incorrecto de argumentos pasados ‚Äã‚Äãal m√©todo 'PersistSyncServerRegistration': 'storageSyncServiceUid' y 'discoveryUri'.  EcsManagementInteropClient.cs 364 (StorageSync) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EcsManagementInteropClient</span></span> : <span class="hljs-title"><span class="hljs-title">IEcsManagement</span></span> { .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersistSyncServerRegistration</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_managementObject.PersistSyncServerRegistration( serviceUri, subscriptionId, storageSyncServiceName, resourceGroupName, clusterId, clusterName, storageSyncServiceUid, <span class="hljs-comment"><span class="hljs-comment">// &lt;= discoveryUri, // &lt;= serviceLocation, resourceLocation); } .... }</span></span></code> </pre> <br>  El analizador sospecha que el orden de los argumentos del m√©todo <i>PersistSyncServerRegistration</i> es confuso.  Declaraci√≥n del m√©todo: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IEcsManagement</span></span> : <span class="hljs-title"><span class="hljs-title">IDisposable</span></span> { .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersistSyncServerRegistration</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> [In, MarshalAs(UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> serviceUri, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> subscriptionId, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> storageSyncServiceName, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> resourceGroupName, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> clusterId, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> clusterName, [In, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarshalAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnmanagedType.BStr</span></span></span><span class="hljs-function">)] </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> discoveryUri, </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">// &lt;= [In, MarshalAs(UnmanagedType.BStr)] string storageSyncServiceUid, // &lt;= [In, MarshalAs(UnmanagedType.BStr)] string serviceLocation, [In, MarshalAs(UnmanagedType.BStr)] string resourceLocation); .... }</span></span></span></span></code> </pre> <br>  De hecho, algo anda mal aqu√≠ con los argumentos n√∫mero siete y ocho.  El autor tiene que verificar el c√≥digo. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3077</a> El configurador de la propiedad 'GetGuid' no utiliza su par√°metro 'valor'.  RecoveryServicesBackupCmdletBase.cs 54 (RecoveryServices) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RecoveryServicesBackupCmdletBase</span></span> : <span class="hljs-title"><span class="hljs-title">AzureRMCmdlet</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _guid; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GetGuid { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _guid; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _guid = Guid.NewGuid().ToString(); } } .... }</code> </pre> <br>  El setter no usa el par√°metro pasado.  En cambio, crea un nuevo GUID y lo asigna al campo <i>_guid</i> .  Creo que la mayor√≠a de los lectores estar√≠an de acuerdo en que ese c√≥digo se ve al menos feo.  Esta construcci√≥n no es muy conveniente de usar: cuando (re) inicializa la propiedad <i>GetGuid</i> , uno tiene que asignarle un valor falso, que no es muy obvio.  Pero, sobre todo, me divert√≠a la forma en que los autores usaban este patr√≥n.  Solo hay un lugar, donde se maneja <i>GetGuid</i> .  Compru√©balo: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> itemResponse = ServiceClientAdapter.CreateOrUpdateProtectionIntent( GetGuid ?? Guid.NewGuid().ToString(), ....); .... }</code> </pre> <br>  Brillante! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3091</a> An√°lisis emp√≠rico.  Es posible que haya un error tipogr√°fico dentro del literal de cadena: "Id. De grupo de administraci√≥n".  La palabra 'Id' es sospechosa.  Constants.cs 36 (Recursos) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HelpMessages</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SubscriptionId = <span class="hljs-string"><span class="hljs-string">"Subscription Id of the subscription associated with the management"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GroupId = <span class="hljs-string"><span class="hljs-string">"Management Group Id"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= public const string Recurse = "Recursively list the children of the management group"; public const string ParentId = "Parent Id of the management group"; public const string GroupName = "Management Group Id"; // &lt;= public const string DisplayName = "Display Name of the management group"; public const string Expand = "Expand the output to list the children of the management group"; public const string Force = "Force the action and skip confirmations"; public const string InputObject = "Input Object from the Get call"; public const string ParentObject = "Parent Object"; }</span></span></code> </pre> <br>  El analizador se√±al√≥ un posible error en la cadena asignada para la constante <i>GroupName</i> .  La conclusi√≥n se basa en el an√°lisis emp√≠rico de otras tareas, teniendo en cuenta los nombres de las variables.  Creo que en este caso el analizador tiene raz√≥n, y el valor de las constantes de <i>GroupName</i> deber√≠a ser una especie de "Nombre del grupo de administraci√≥n".  Probablemente el error se produjo debido al hecho de que el valor de la constante <i>GroupId</i> se copi√≥, pero no se modific√≥. <br><br>  Otro error similar: <br><br><ul><li>  V3091 An√°lisis emp√≠rico.  Es posible que haya un error tipogr√°fico dentro del literal de cadena.  La palabra 'Nombre' es sospechosa.  ParamHelpMsgs.cs 153 (RecoveryServices) </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3093</a> El '|'  El operador eval√∫a ambos operandos.  Quiz√°s un cortocircuito '||'  operador debe utilizarse en su lugar.  PSKeyVaultCertificatePolicy.cs 114 (KeyVault) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> CertificatePolicy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToCertificatePolicy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(SubjectName) || DnsNames != <span class="hljs-literal"><span class="hljs-literal">null</span></span> || Ekus != <span class="hljs-literal"><span class="hljs-literal">null</span></span> || KeyUsage != <span class="hljs-literal"><span class="hljs-literal">null</span></span> | <span class="hljs-comment"><span class="hljs-comment">// &lt;= ValidityInMonths.HasValue) { .... } .... }</span></span></code> </pre> <br>  En este fragmento podr√≠a producirse un error y en el bloque <i>if</i> entre dos √∫ltimas condiciones, ||  operador podr√≠a haber sido utilizado.  Pero como sucede a menudo, solo el desarrollador puede dar la respuesta correcta. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3095</a> El objeto 'certificado' se us√≥ antes de que se verificara como nulo.  L√≠neas de verificaci√≥n: 41, 43. CertificateInfo.cs 41 (Automatizaci√≥n) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CertificateInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ...., Azure.Management.Automation.Models.Certificate certificate</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name = certificate.Name; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (certificate == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; .... }</code> </pre> <br>  Cl√°sico  Primero se usa el objeto y solo despu√©s se verifica que la referencia sea <i>nula</i> .  Nos encontramos con tales errores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">muy a menudo</a> .  Consideremos otro error similar. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3095</a> El objeto 'clusterCred' se us√≥ antes de que se verificara como nulo.  L√≠neas de verificaci√≥n: 115, 118. InvokeHiveCommand.cs 115 (HDInsight) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... _credential = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BasicAuthenticationCloudCredentials { Username = clusterCred.UserName, Password = clusterCred.Password.ConvertToString() }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (clusterConnection == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || clusterCred == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) .... }</code> </pre> <br>  Aqu√≠ hay un par de errores similares: <br><br><ul><li>  V3095 El objeto '_profile' se us√≥ antes de que se verificara como nulo.  L√≠neas de verificaci√≥n: 47, 49. RMProfileClient.cs 47 (Cuentas) </li><li>  V3095 El objeto 'this.LoadBalancer.BackendAddressPools' se us√≥ antes de que se verificara como nulo.  L√≠neas de verificaci√≥n: 56, 63. AddAzureRmLoadBalancerBackendAddressPoolConfigCommand.cs 56 (CognitiveServices) </li><li>  En t√©rminos generales, vi muchos errores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3095</a> en el c√≥digo de Azure PowerShell.  Pero todos ellos son bastante similares, por lo que no me detendr√© en este tema. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3125</a> El objeto 'startTime' se us√≥ despu√©s de que se verific√≥ contra nulo.  L√≠neas de verificaci√≥n: 1752, 1738. AutomationPSClientDSC.cs 1752 (Automatizaci√≥n) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetNodeReportListFilterString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ...., DateTimeOffset? startTime, ...., DateTimeOffset? lastModifiedTime</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (startTime.HasValue) { odataFilter.Add(<span class="hljs-string"><span class="hljs-string">"properties/startTime ge "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.FormatDateTime(startTime.Value)); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } .... if (lastModifiedTime.HasValue) { odataFilter.Add("properties/lastModifiedTime ge " + this.FormatDateTime(startTime.Value)); // &lt;= } .... }</span></span></code> </pre> <br>  Tambi√©n es un tipo de errores bastante extendido.  La variable <i>startTime</i> se verifica para detectar la presencia de un valor cuando se usa por primera vez.  Pero no se hace en el uso posterior.  Bueno, la situaci√≥n puede ser a√∫n peor.  Mira el segundo bloque <i>if</i> .  Creo que la variable <i>startTime</i> no debe estar aqu√≠ en absoluto.  En primer lugar, no se verifica la presencia de un valor antes de su uso.  En segundo lugar, la cadena formada para pasar al m√©todo <i>Add</i> tambi√©n confirma mi sugerencia.  Otra variable <i>(lastModifiedTime</i> ) se menciona en la primera parte de esta cadena. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3125</a> El objeto 'firstPage' se us√≥ despu√©s de que se verific√≥ contra nulo.  L√≠neas de verificaci√≥n: 113, 108. IntegrationAccountAgreementOperations.cs 113 (LogicApp) <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IList&lt;IntegrationAccountAgreement&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ListIntegrationAccountAgreements</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> compositeList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;IntegrationAccountAgreement&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstPage = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.LogicManagementClient. IntegrationAccountAgreements.List(....); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (firstPage != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { compositeList.AddRange(firstPage); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(firstPage.NextPageLink)) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { .... } .... }</span></span></code> </pre> <br>  Otro error obvio.  La variable <i>firstPage</i> se usa de forma insegura a pesar del hecho de que anteriormente en el c√≥digo esta variable ya se usa y se verifica preliminarmente para <i>nulo</i> . <br><br>  Encontr√© a√∫n m√°s advertencias de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3125</a> en el c√≥digo de Azure PowerShell que las de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3095</a> descritas anteriormente.  Todos ellos tambi√©n son del mismo tipo.  Creo que dos de ellos que hemos considerado son suficientes. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3137</a> La variable 'apiVersionSetId' se asigna pero no se usa al final de la funci√≥n.  GetAzureApiManagementApiVersionSet.cs 69 (ApiManagement) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String ApiVersionSetId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteApiManagementCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> apiVersionSetId; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ParameterSetName.Equals(ContextParameterSet)) { .... apiVersionSetId = ApiVersionSetId; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { apiVersionSetId = ....; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(ApiVersionSetId)) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { WriteObject(....); } else { WriteObject(Client.GetApiVersionSet(...., ApiVersionSetId)) // &lt;= } }</span></span></code> </pre> <br>  El analizador informa que la variable local <i>apiVersionSetId</i> se inicializ√≥, pero no se us√≥ de ninguna manera.  A menudo, este patr√≥n indica un error.  Creo que, en este caso, es muy probable que sea un error, especialmente teniendo en cuenta el hecho de que el nombre de la variable local <i>apiVersionSetId</i> y el nombre de la propiedad <i>ApiVersionSetId</i> difieren solo en el caso de la primera letra.  Echa un vistazo al c√≥digo.  Despu√©s de inicializar la <i>propiedad apiVersionSetId</i> (de una forma u otra), solo la propiedad <i>ApiVersionSetId</i> se usa m√°s en el c√≥digo.  Se ve extremadamente sospechoso. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3137</a> La variable 'cacheId' se asigna pero no se usa al final de la funci√≥n.  RemoveAzureApiManagementCache.cs 94 (ApiManagement) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String CacheId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExecuteApiManagementCmdlet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> cacheId; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... cacheId = InputObject.CacheId; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... cacheId = cache.CacheId; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { .... cacheId = CacheId; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionDescription = <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(...., CacheId); <span class="hljs-comment"><span class="hljs-comment">// &lt;= var actionWarning = string.Format(...., CacheId); // &lt;= .... Client.CacheRemove(resourceGroupName, serviceName, CacheId); // &lt;= .... }</span></span></code> </pre> <br>  Este es el caso que es casi el mismo que el descrito anteriormente.  La variable local <i>cacheId</i> no se usa despu√©s de la inicializaci√≥n de ninguna manera.  En cambio, se usa otra propiedad con un nombre muy similar <i>CacheId</i> .  No estoy seguro, puede ser que sea solo un patr√≥n de programaci√≥n de los desarrolladores de Azure PowerShell.  De todos modos, parece un error. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V3143</a> El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  NewAzureIntegrationAccountPartnerCommand.cs 67 (LogicApp) <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Parameter(Mandatory = false, HelpMessage = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"The integration account partner type."</span></span></span><span class="hljs-meta">, ValueFromPipelineByPropertyName = false)</span></span>] [ValidateSet(<span class="hljs-string"><span class="hljs-string">"B2B"</span></span>, IgnoreCase = <span class="hljs-literal"><span class="hljs-literal">false</span></span>)] [ValidateNotNullOrEmpty] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> PartnerType { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.partnerType; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.partnerType; } <span class="hljs-comment"><span class="hljs-comment">// &lt;= }</span></span></code> </pre> <br>  El campo <i>partnerType</i> se declara de la siguiente manera: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Default partner type. </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> private string partnerType = "B2B";</span></span></code> </pre> <br>  A pesar del nombre de la soluci√≥n (LogicApp) donde se detect√≥ un error, no encuentro l√≥gica en √©l.  No es raro que se modifique el <i>valor</i> en el setter, pero en este caso se trata de una p√©rdida del valor original.  Se ve raro  En el c√≥digo la propiedad se lee solo una vez.  Quiz√°s, necesitamos pedir el consejo de expertos nuevamente.  Tal vez simplemente no lo entiendo.  El punto es que me encontr√© con varios patrones: <br><br><ul><li>  V3143 El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  NewAzureIntegrationAccountSchemaCommand.cs 79 (LogicApp) </li><li>  V3143 El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  NewAzureIntegrationAccountSchemaCommand.cs 87 (LogicApp) </li><li>  V3143 El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  UpdateAzureIntegrationAccountPartnerCommand.cs 67 (LogicApp) </li><li>  V3143 El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  UpdateAzureIntegrationAccountSchemaCommand.cs 80 (LogicApp) </li><li>  V3143 El par√°metro 'valor' se reescribe dentro de un establecedor de propiedades, y no se usa despu√©s de eso.  UpdateAzureIntegrationAccountSchemaCommand.cs 88 (LogicApp) </li></ul><br><h2>  Conclusi√≥n </h2><br>  Todos estos son errores interesantes que se encontraron en el c√≥digo de Azure PowerShell.  Los entusiastas y los interesados ‚Äã‚Äãpueden revisar los errores en este (o en cualquier otro) proyecto.  Probablemente podr√≠a perder algo fuera de lo com√∫n.  Para hacer la revisi√≥n, solo necesita descargar e instalar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio</a> . <br><br>  Gracias por leer hasta el final.  Y, por supuesto, ¬°c√≥digo sin errores para todos! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470728/">https://habr.com/ru/post/470728/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470714/index.html">C√≥mo fui a la Final Digital Breakthrough</a></li>
<li><a href="../470718/index.html">"Efectos algebraicos" en el lenguaje humano</a></li>
<li><a href="../470720/index.html">¬øC√≥mo escribir un contrato inteligente con Python en ontolog√≠a? Parte 2: API de almacenamiento</a></li>
<li><a href="../470722/index.html">¬øC√≥mo escribir un contrato inteligente con Python en ontolog√≠a? Parte 3: API de tiempo de ejecuci√≥n</a></li>
<li><a href="../470726/index.html">C√≥mo no ahogarse en la rutina, o nuestra experiencia comparando volcados de AWR durante pruebas de estr√©s</a></li>
<li><a href="../470730/index.html">Azure PowerShell: "en su mayor√≠a inofensivo"</a></li>
<li><a href="../470732/index.html">Selecci√≥n de oto√±o: ¬øqu√© opinas de los paraguas inteligentes?</a></li>
<li><a href="../470734/index.html">Cuentos de la cripta (de 40 a√±os de trabajo del programador)</a></li>
<li><a href="../470736/index.html">WWDC 2019: instrumentos personalizados y s√≠mbolos SF, as√≠ como nuevos enfoques para el desarrollo de aplicaciones iOS</a></li>
<li><a href="../470742/index.html">Ecuaci√≥n de Navier-Stokes y simulaci√≥n de fluidos en CUDA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>