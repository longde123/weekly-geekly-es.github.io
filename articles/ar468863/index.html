<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐จโ๐จโ๐งโ๐ง Internals Go: ุงูุชูุงู ูุชุบูุฑุงุช ุญููุฉ ุงูุฅุบูุงู โฑ๏ธ ๐ฆ ๐ง๐ฝโ๐คโ๐ง๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุฑุช ุงูููู ุฃู ุฃุชุฑุฌู ูู ููุงููุง ูุตูุฑูุง ุนู ุงูุฌูุงูุจ ุงูุฏุงุฎููุฉ ูุชูููุฐ ุนูููุงุช ุงูุฅุบูุงู ุฃู ุงูุฅุบูุงู ุงููุฒุนููุฉ. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูู ุชุชุนูู ููู ูุญุงูู ุชุทุจูู Go ุชุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Internals Go: ุงูุชูุงู ูุชุบูุฑุงุช ุญููุฉ ุงูุฅุบูุงู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/468863/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/a2/v0/es/a2v0es8qfgkdntuzeattfznxanq.jpeg"></p><br><p style=";text-align:right;direction:rtl">  <em>ูุฑุฑุช ุงูููู ุฃู ุฃุชุฑุฌู ูู ููุงููุง ูุตูุฑูุง ุนู ุงูุฌูุงูุจ ุงูุฏุงุฎููุฉ ูุชูููุฐ ุนูููุงุช ุงูุฅุบูุงู ุฃู ุงูุฅุบูุงู ุงููุฒุนููุฉ.</em>  <em>ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูู ุชุชุนูู ููู ูุญุงูู ุชุทุจูู Go ุชุญุฏูุฏ ูุง ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ูุคุดุฑ / ุฑุงุจุท ุฃู ูููุฉ ูู ุญุงูุงุช ูุฎุชููุฉ ุชููุงุฆููุง.</em>  <em>ููู ูุฐู ุงูุฃุดูุงุก ุณูู ูุชุฌูุจ ุงูุฃุฎุทุงุก.</em>  <em>ูุฃุนุชูุฏ ุฃู ูู ูุฐู ุงูุฏูุงุฎู ูุซูุฑุฉ ููุงูุชูุงู.</em> </p><br><p style=";text-align:right;direction:rtl">  <em>ูุฃูุฏ ุฃูุถูุง ุฃู ุฃุฏุนููู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Golang Conf 2019</a> ุ ุงูุฐู ุณูุนูุฏ ูู 7 ุฃูุชูุจุฑ ูู ููุณูู.</em>  <em>ุฃูุง ุนุถู ูู ูุฌูุฉ ุจุฑูุงูุฌ ุงููุคุชูุฑ ุ ูููุฏ ุงุฎุชุฑุช ุฃูุง ูุฒููุงุฆู ุงูุนุฏูุฏ ูู ุงูุชูุงุฑูุฑ ุงููุชุดุงุจูุฉ ูุงููุซูุฑุฉ ููุงูุชูุงู ููุบุงูุฉ.</em>  <em>ูุง ุงุญุจู</em> </p><br><p style=";text-align:right;direction:rtl">  <em>ุชุญุช ุงููุต ุ ุฃููู ุงููููุฉ ุฅูู ุงููุคูู.</em> </p><a name="habracut"></a><br><br><p style=";text-align:right;direction:rtl">  ููุงู ุตูุญุฉ ุนูู Go wiki ุจุนููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฎุทุงุก ูุชูุฑุฑุฉ</a> .  ุงูุบุฑูุจ ุ ููุงู ูุซุงู ูุงุญุฏ ููุท: ุณูุก ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช ุญููุฉ ูุน goroutines: </p><br><pre style=";text-align:right;direction:rtl"><code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, val := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> values { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(val) }() }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ูุฐุง ุงูุฑูุฒ ุจุฅุฎุฑุงุฌ ุงููููุฉ ุงูุฃุฎูุฑุฉ ูู ุตููู ููู len (ุงูููู) ูุฑุงุช.  ุฅุตูุงุญ ุงูููุฏ ุจุณูุท ููุบุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// assume the type of each value is string for _, val := range values { go func(val string) { fmt.Println(val) }(val) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงููุซุงู ูููู ูููู ุงููุดููุฉ ูุฃูุง ูุฎุทุฆ ูุฑุฉ ุฃุฎุฑู.  ูููู ุฅุฐุง ููุช ููุชููุง ุจูุนุฑูุฉ ุชูุงุตูู ุงูุชูููุฐ ุ ูุณุชุนุทูู ูุฐู ุงูููุงูุฉ ููููุง ุนููููุง ููู ูู ุงููุดููุฉ ูุงูุญู. </p><br><h1 id="bazovye-veschi-peredacha-po-znacheniyu-i-peredacha-po-ssylke" style=";text-align:right;direction:rtl">  ุงูุฃุดูุงุก ุงูุฃุณุงุณูุฉ: ุงููุฑูุฑ ุจุงููููุฉ ูุงูุชูุฑูุฑ ุจุงูุฑุฌูุน </h1><br><p style=";text-align:right;direction:rtl">  ูู Go ุ ููุงู ุงุฎุชูุงู ูู ุชูุฑูุฑ ุงููุงุฆูุงุช ุญุณุจ ุงููููุฉ ูุงููุฑุฌุน [1].  ููุจุฏุฃ <strong>ุจุงููุซุงู 1</strong> [2]: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foobyval</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { fmt.Println(n) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++ { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> foobyval(i) } time.Sleep(<span class="hljs-number"><span class="hljs-number">100</span></span> * time.Millisecond) }</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุง ุฃุญุฏ ุ ุนูู ุงูุฃุฑุฌุญ ุ ูุฏูู ุฃู ุดู ูู ุฃู ุงููุชูุฌุฉ ุณูุชู ุนุฑุถูุง ุงูููู ูู 0 ุฅูู 4. ุฑุจูุง ูู ููุน ูู ุงูุชุฑุชูุจ ุงูุนุดูุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ููููู ูุธุฑุฉ ุนูู <strong>ุงููุซุงู 2</strong> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foobyref</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n *</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { fmt.Println(*n) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++ { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> foobyref(&amp;i) } time.Sleep(<span class="hljs-number"><span class="hljs-number">100</span></span> * time.Millisecond) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ุณูุชู ุนุฑุถ ูุง ููู: </p><br><p style=";text-align:right;direction:rtl">  5 <br>  5 <br>  5 <br>  5 <br>  5 </p><br><p style=";text-align:right;direction:rtl">  ุฅู ููู ุงูุณุจุจ ูุฑุงุก ุฐูู ูู ุฃู ูุฐุง ุณูููุฑ ููุง ุจุงููุนู 80 ูช ูู ููู ุฌููุฑ ุงููุดููุฉ.  ูุฐูู ุ ุฏุนููุง ูุฃุฎุฐ ุจุนุถ ุงูููุช ููุนุซูุฑ ุนูู ุงูุฃุณุจุงุจ. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุฅุฌุงุจุฉ ููุฌูุฏุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงุตูุงุช ูุบุฉ Go</a> .  ููุฑุฃ ุงูููุงุตูุงุช: </p><br><blockquote style=";text-align:right;direction:rtl">  ูุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช ุงููุนููุฉ ูู ุจูุงู ุงูุชููุฆุฉ ูู ูู ุญููุฉ. </blockquote><p style=";text-align:right;direction:rtl">  ูุฐุง ูุนูู ุฃูู ุนูุฏ ุชุดุบูู ุงูุจุฑูุงูุฌ ุ ููุฌุฏ ูุงุฆู ูุงุญุฏ ููุท ุฃู ุฌุฒุก ูุงุญุฏ ูู ุงูุฐุงูุฑุฉ ูููุชุบูุฑ i ุ ููุง ูุชู ุฅูุดุงุก ูุงุฆู ุฌุฏูุฏ ููู ุฏูุฑุฉ.  ูุฃุฎุฐ ูุฐุง ุงููุงุฆู ูููุฉ ุฌุฏูุฏุฉ ูู ูู ุชูุฑุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงููุฑู ูู ุฑูุฒ ุงูุฌูุงุฒ ุงูุฐู ุชู ุฅูุดุงุคู [3] ููุนุฑูุฉ ุงูุญููุฉ ูู ุงููุซุงููู 1 ู 2. ููุจุฏุฃ ุจุงููุซุงู 1. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">0x0026 00038 (go-func-byval.go:14) MOVL $8, (SP) 0x002d 00045 (go-func-byval.go:14) LEAQ "".foobyvalยทf(SB), CX 0x0034 00052 (go-func-byval.go:14) MOVQ CX, 8(SP) 0x0039 00057 (go-func-byval.go:14) MOVQ AX, 16(SP) 0x003e 00062 (go-func-byval.go:14) CALL runtime.newproc(SB) 0x0043 00067 (go-func-byval.go:13) MOVQ "".i+24(SP), AX 0x0048 00072 (go-func-byval.go:13) INCQ AX 0x004b 00075 (go-func-byval.go:13) CMPQ AX, $5 0x004f 00079 (go-func-byval.go:13) JLT 33</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุตุจุญ ุนุจุงุฑุฉ Go ุนุจุงุฑุฉ ุนู ุงุณุชุฏุนุงุก ููุธููุฉ runtime.newproc.  ุขููุงุช ูุฐู ุงูุนูููุฉ ูุซูุฑุฉ ุฌุฏุง ููุงูุชูุงู ุ ูููู ุฏุนููุง ูุชุฑู ูุฐุง ููููุงู ุงููุงุฏู.  ุงูุขู ูุญู ููุชููู ุฃูุซุฑ ุจูุง ูุญุฏุซ ูููุชุบูุฑ i.  ูุชู ุชุฎุฒููู ูู ุณุฌู AX ุ ูุงูุฐู ูุชู ุชูุฑูุฑู ุจุนุฏ ุฐูู ุจุงููููุฉ ุฎูุงู ุงููููุฉ ุฅูู ุงูุฏุงูุฉ foobyval [4] ููุณูุทุฉ ููุง.  ูุจุฏู "ุญุณุจ ุงููููุฉ" ูู ูุฐู ุงูุญุงูุฉ ูุณุฎ ูููุฉ ุชุณุฌูู AX ุนูู ุงูููุฏุณ.  ูุชุบููุฑ AX ูู ุงููุณุชูุจู ูุง ูุคุซุฑ ุนูู ูุง ูุชู ุชูุฑูุฑู ุฅูู ูุธููุฉ foobyval. </p><br><p style=";text-align:right;direction:rtl">  ูุฅููู ูุง ูุดุจู ุงููุซุงู 2: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">0x0040 00064 (go-func-byref.go:14) LEAQ "".foobyrefยทf(SB), CX 0x0047 00071 (go-func-byref.go:14) MOVQ CX, 8(SP) 0x004c 00076 (go-func-byref.go:14) MOVQ AX, 16(SP) 0x0051 00081 (go-func-byref.go:14) CALL runtime.newproc(SB) 0x0056 00086 (go-func-byref.go:13) MOVQ "".&amp;i+24(SP), AX 0x005b 00091 (go-func-byref.go:13) INCQ (AX) 0x005e 00094 (go-func-byref.go:13) CMPQ (AX), $5 0x0062 00098 (go-func-byref.go:13) JLT 57</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุฑูุฒ ูุดุงุจู ุฌุฏูุง - ูุน ุงุฎุชูุงู ูุงุญุฏ ุ ููู ููู ุฌุฏูุง.  ุงูุขู ูู AX ูู ุงูุนููุงู i ุ ูููุณ ูููุชู.  ูุงุญุธ ุฃูุถูุง ุฃู ุงูุฒูุงุฏุฉ ูุงูููุงุฑูุฉ ููุญููุฉ ุชุชู ุนูู (AX) ุ ูููุณ AX.  ูุจุนุฏ ุฐูู ุ ุนูุฏูุง ูุถุน AX ุนูู ุงูููุฏุณ ุ ูุฅููุง ุ ููุง ุงุชุถุญ ุ ููุฑุฑ ุงูุนููุงู i ุฅูู ุงููุธููุฉ.  ุณูุธูุฑ ุงูุชุบููุฑ (AX) ุจูุฐู ุงูุทุฑููุฉ ูู goroutine ุฃูุถูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ููุงุฌุขุช.  ูู ุงูููุงูุฉ ุ ูููู ุจุชูุฑูุฑ ูุคุดุฑ ุฅูู ุฑูู ูู ุงูุฏุงูุฉ foobyref. <br>  ุฃุซูุงุก ุงูุนูููุฉ ุ ุชูุชูู ุงูุฏูุฑุฉ ุจุดูู ุฃุณุฑุน ูู ุจุฏุก ุฃู ูู goroutines ุงูุชู ุชู ุฅูุดุงุคูุง.  ุนูุฏ ุจุฏุก ุงูุนูู ุ ุณูููู ูุฏููู ูุคุดุฑ ูููุณ ุงููุชุบูุฑ i ุ ูููุณ ุฅูู ูุณุฎุฉ.  ููุง ูู ูููุฉ ุฃูุง ูู ูุฐู ุงููุญุธุฉุ  ุงููููุฉ ูู 5. ุงูุชู ุชูููุช ุนููุง ุงูุฏูุฑุฉ.  ููุฐุง ูู ุงูุณุจุจ ูู ุฃู ุฌููุน goroutines ุชุณุชูุฏ 5. </p><br><h1 id="metody-so-znacheniem-vs-metody-s-ukazatelem" style=";text-align:right;direction:rtl">  ุทุฑู ุฐุงุช ูููุฉ ููุงุจู ุฃุณุงููุจ VS ูุน ูุคุดุฑ </h1><br><p style=";text-align:right;direction:rtl">  ูููู ููุงุญุธุฉ ุณููู ููุงุซู ุนูุฏ ุฅูุดุงุก goroutines ุงูุชู ุชุณุชุฏุนู ุฃู ุทุฑู.  ูุดุงุฑ ุฅูู ุฐูู ุจูุงุณุทุฉ ููุณ ุตูุญุฉ ุงููููู.  ุงูุธุฑ ุฅูู <strong>ุงููุซุงู 3</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyInt <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mi MyInt)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(mi) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { ms := []MyInt{<span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, m := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> ms { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> m.Show() } time.Sleep(<span class="hljs-number"><span class="hljs-number">100</span></span> * time.Millisecond) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ูุฐุง ุงููุซุงู ุนูุงุตุฑ ูุฌููุนุฉ ms.  ูู ุชุฑุชูุจ ุนุดูุงุฆู ุ ููุง ุชููุนูุง.  <strong>ูุซุงู</strong> ูุดุงุจู ุฌุฏูุง <strong>4</strong> ูุณุชุฎุฏู ุทุฑููุฉ ูุคุดุฑ ููุฃุณููุจ Show: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyInt <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mi *MyInt)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(*mi) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { ms := []MyInt{<span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, m := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> ms { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> m.Show() } time.Sleep(<span class="hljs-number"><span class="hljs-number">100</span></span> * time.Millisecond) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุงูู ุฃู ุชุฎูู ูุงุฐุง ุณุชููู ุงููุชูุฌุฉ: 90 ุ ูุทุจูุนุฉ ุฎูุณ ูุฑุงุช.  ุงูุณุจุจ ูู ููุณู ููุง ูู ุงููุซุงู ุงูุฃุจุณุท 2. ููุง ุงููุดููุฉ ุฃูู ูุถูุญุง ุจุณุจุจ ุงูุณูุฑ ุงููุญูู ูู Go ุนูุฏ ุงุณุชุฎุฏุงู ุทุฑู ุงููุคุดุฑ.  ูู ุงูุฃูุซูุฉ ุ ุนูุฏ ุงูุชุจุฏูู ูู ุงููุซุงู 1 ุฅูู ุงููุซุงู 2 ุ ูููุง ุจุชุบููุฑ i ุฅูู &amp; i ุ ูููุง ุชุจุฏู ุงูููุงููุฉ ููุง ูู!  m.Show () ูู ููุง ุงููุซุงููู ุ ูุงูุณููู ูุฎุชูู. </p><br><p style=";text-align:right;direction:rtl">  ููุณ ูุฒูุฌูุง ุณุนูุฏูุง ุฌุฏูุง ูู ููุฒุชู Go ุ ูุจุฏู ูู.  ูุง ุดูุก ูู ููุงู ุงูููุงููุฉ ูุดูุฑ ุฅูู ุงูุฅุฑุณุงู ุญุณุจ ุงููุฑุฌุน.  ูุณุชุญุชุงุฌ ุฅูู ุฅููุงุก ูุธุฑุฉ ุนูู ุชูููุฐ ุทุฑููุฉ ุงูุนุฑุถ ููุนุฑูุฉ ููู ุณุชุญุฏุซ ุงูููุงููุฉ (ูุงูุทุฑููุฉ ุ ุจุงูุทุจุน ุ ูููู ุฃู ุชููู ูู ููู ุฃู ุญุฒูุฉ ูุฎุชููุฉ ุชูุงููุง). </p><br><p style=";text-align:right;direction:rtl">  ูู ูุนุธู ุงูุญุงูุงุช ุ ูุฐู ุงูููุฒุฉ ูููุฏุฉ.  ููุชุจ ุฑูุฒ ูุธุงูุฉ.  ููู ููุง ุ ูุคุฏู ุงููุฑูุฑ ุจุงูุฑุฌูุน ุฅูู ุชุฃุซูุฑุงุช ุบูุฑ ูุชููุนุฉ. </p><br><h1 id="zamykaniya" style=";text-align:right;direction:rtl">  ุฏูุงุฆุฑ ูุตูุฑุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุฃุฎูุฑุง ูุฃุชู ุฅูู ุงูุฅุบูุงู.  ููููู ูุธุฑุฉ ุนูู <strong>ุงููุซุงู 5</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foobyval</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { fmt.Println(n) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++ { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { foobyval(i) }() } time.Sleep(<span class="hljs-number"><span class="hljs-number">100</span></span> * time.Millisecond) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูู ูุทุจุน ูุง ููู: </p><br><p style=";text-align:right;direction:rtl">  5 <br>  5 <br>  5 <br>  5 <br>  5 </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃููู ูุฑุฑุช ุจุงููููุฉ ุฅูู foobyval ูู ุงูุฅุบูุงู.  ุนูู ุบุฑุงุฑ ุงููุซุงู 1. ูููู ููุงุฐุงุ  ููููู ูุธุฑุฉ ุนูู ุญููุฉ ุงููุฌููุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">0x0040 00064 (go-closure.go:14) LEAQ "".main.func1ยทf(SB), CX 0x0047 00071 (go-closure.go:14) MOVQ CX, 8(SP) 0x004c 00076 (go-closure.go:14) MOVQ AX, 16(SP) 0x0051 00081 (go-closure.go:14) CALL runtime.newproc(SB) 0x0056 00086 (go-closure.go:13) MOVQ "".&amp;i+24(SP), AX 0x005b 00091 (go-closure.go:13) INCQ (AX) 0x005e 00094 (go-closure.go:13) CMPQ (AX), $5 0x0062 00098 (go-closure.go:13) JLT 57</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุดุจู ุงูุฑูุฒ ููุบุงูุฉ ุงููุซุงู 2: ูุงุญุธ ุฃูู ููุซู ุนููุงู ูู ุณุฌู AX.  ููุฐุง ูู ุ ููุฑ ุฃูุง ุจุงูุฑุฌูุน.  ููุฐุง ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู foobyval ูุณูู.  ูุณุชุฏุนู ูุต ุงูุญููุฉ ุงููุธููุฉ ุจุงุณุชุฎุฏุงู runtime.newproc ุ ููู ูู ุฃูู ุชุฃุชู ูุฐู ุงููุธููุฉุ </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก Func1 ุจูุงุณุทุฉ ุงููุญูู ุงูุจุฑูุฌู ููู ุฅุบูุงู.  ูุงู ุงููุญูู ุงูุจุฑูุฌู ุจุชุฎุตูุต ููุฏ ุงูุฅุบูุงู ูุฏุงูุฉ ูููุตูุฉ ููุฏุนูู ูู main.  ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ูุฐุง ุงูุชุฎุตูุต ูู ููููุฉ ุงูุชุนุงูู ูุน ุงููุชุบูุฑุงุช ุงูุชู ุชุบูู ุงูุงุณุชุฎุฏุงู ุ ูููู ูู ุงููุงุถุญ ุฃููุง ููุณุช ุญุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุง ูุดุจู ุฌุณู func1: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">0x0000 00000 (go-closure.go:14) MOVQ (TLS), CX 0x0009 00009 (go-closure.go:14) CMPQ SP, 16(CX) 0x000d 00013 (go-closure.go:14) JLS 56 0x000f 00015 (go-closure.go:14) SUBQ $16, SP 0x0013 00019 (go-closure.go:14) MOVQ BP, 8(SP) 0x0018 00024 (go-closure.go:14) LEAQ 8(SP), BP 0x001d 00029 (go-closure.go:15) MOVQ "".&amp;i+24(SP), AX 0x0022 00034 (go-closure.go:15) MOVQ (AX), AX 0x0025 00037 (go-closure.go:15) MOVQ AX, (SP) 0x0029 00041 (go-closure.go:15) CALL "".foobyval(SB) 0x002e 00046 (go-closure.go:16) MOVQ 8(SP), BP 0x0033 00051 (go-closure.go:16) ADDQ $16, SP 0x0037 00055 (go-closure.go:16) RET</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุซูุฑ ููุงูุชูุงู ููุง ุฃู ุงูุฏุงูุฉ ููุง ูุณูุทุฉ ูู 24 (SP) ุ ููู ูุคุดุฑ ุนูู int: ุฃูู ูุธุฑุฉ ุนูู ุงูุณุทุฑ MOVQ (AX) ุ AX ุ ูุงูุฐู ูุฃุฎุฐ ูููุฉ ูุจู ุชูุฑูุฑู ุฅูู foobyval.  ูู ุงููุงูุน ุ ูุจุฏู func1 ุดูุฆูุง ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i *</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { foobyval(*i) }    main   - : <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++ { <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> func1(&amp;i) }</code> </pre><br><p style=";text-align:right;direction:rtl">  ุชููู ูุง ูุนุงุฏู ุงููุซุงู 2 ุ ููุฐุง ูุง ููุณุฑ ุงูุงุณุชูุชุงุฌ.  ูู ุงููุบุฉ ุงููููุฉ ุ ูููู ุฅููู ูุชุบูุฑ ุญุฑ ุฏุงุฎู ุงูุฅุบูุงู ููุชู ุงูุชูุงุท ูุฐู ุงููุชุบูุฑุงุช ุจุงูุฑุฌูุน ูู Go. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูู ูุฐุง ูู ุงูุญุงู ุฏุงุฆูุงุ  ูุงููุซูุฑ ููุฏูุดุฉ ุฃู ุงูุฌูุงุจ ูู ูุง.  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูุชู ุงูุชูุงุท ุงููุชุบูุฑุงุช ุงูุญุฑุฉ ุญุณุจ ุงููููุฉ.  ุฅููู ุตูุบุฉ ูุฎุชููุฉ ูู ูุซุงููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++ { ii := i <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { foobyval(ii) }() }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงููุซุงู ุณููุชุฌ 0 ุ 1 ุ 2 ุ 3 ุ 4 ุจุชุฑุชูุจ ุนุดูุงุฆู.  ูููู ููุงุฐุง ูุฎุชูู ุงูุณููู ููุง ุนู ุงููุซุงู 5ุ </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ูุฐุง ุงูุณููู ูู ูุทุนุฉ ุฃุซุฑูุฉ ูู ูุฌุฑูุงุช ุงูุฃููุฑ ุงูุชู ูุณุชุฎุฏููุง ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู Go ุนูุฏูุง ูุนูู ูุน ุนูููุงุช ุงูุฅุบูุงู. </p><br><h1 id="smotrim-pod-kapot" style=";text-align:right;direction:rtl">  ูุญู ููุธุฑ ุชุญุช ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู ุจููุฉ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู Go ุ ูุฅููู ุฃูุตู ุจุฃู ุชูุฑุฃ ููุงูุงุชู ุงููุจูุฑุฉ ุญูู ูุฐุง ุงูููุถูุน: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2</a> . </p><br><p style=";text-align:right;direction:rtl">  ุชุจุฏู ุดุฌุฑุฉ ุจูุงุก ุงูุฌููุฉ ุงููุญุฏุฏุฉ (ุนูู ุนูุณ ุงูููุฎุต) ุงูุชู ูุชู ุงูุญุตูู ุนูููุง ุนู ุทุฑูู ุชุญููู ุงูุฑูุฒ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-number"><span class="hljs-number">0</span></span>: *syntax.CallStmt { . Tok: <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> . Call: *syntax.CallExpr { . . Fun: *syntax.FuncLit { . . . Type: *syntax.FuncType { . . . . ParamList: <span class="hljs-literal"><span class="hljs-literal">nil</span></span> . . . . ResultList: <span class="hljs-literal"><span class="hljs-literal">nil</span></span> . . . } . . . Body: *syntax.BlockStmt { . . . . List: []syntax.Stmt (<span class="hljs-number"><span class="hljs-number">1</span></span> entries) { . . . . . <span class="hljs-number"><span class="hljs-number">0</span></span>: *syntax.ExprStmt { . . . . . . X: *syntax.CallExpr { . . . . . . . Fun: foobyval @ <span class="hljs-keyword"><span class="hljs-keyword">go</span></span>-closure.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span> . . . . . . . ArgList: []syntax.Expr (<span class="hljs-number"><span class="hljs-number">1</span></span> entries) { . . . . . . . . <span class="hljs-number"><span class="hljs-number">0</span></span>: i @ <span class="hljs-keyword"><span class="hljs-keyword">go</span></span>-closure.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span> . . . . . . . } . . . . . . . HasDots: <span class="hljs-literal"><span class="hljs-literal">false</span></span> . . . . . . } . . . . . } . . . . } . . . . Rbrace: syntax.Pos {} . . . } . . } . . ArgList: <span class="hljs-literal"><span class="hljs-literal">nil</span></span> . . HasDots: <span class="hljs-literal"><span class="hljs-literal">false</span></span> . } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงููุธููุฉ ุงููุทููุจุฉ ูู ุนูุฏุฉ FuncLit ุ ููู ุฏุงูุฉ ุซุงุจุชุฉ.  ุนูุฏูุง ูุชู ุชุญููู ูุฐู ุงูุดุฌุฑุฉ ุฅูู AST (ุดุฌุฑุฉ ุจูุงุก ุฌููุฉ ูุฌุฑุฏุฉ) ุ ูุฅู ุฅุจุฑุงุฒ ูุฐู ุงููุธููุฉ ุงูุซุงุจุชุฉ ููุงุญุฏุฉ ูููุตูุฉ ุณุชููู ุงููุชูุฌุฉ.  ูุญุฏุซ ูุฐุง ูู ุทุฑููุฉ noder.funcLit ุงูุชู ุชุนูุด ูู gc / closure.go. </p><br><p style=";text-align:right;direction:rtl">  ุซู ูููู ุงููุฏูู tipe ุงูุชุญููู ุ ููุญุตู ุนูู ุงูุชูุซูู ุงูุชุงูู ูููุธููุฉ ูู AST: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">main.func1: . DCLFUNC l(<span class="hljs-number"><span class="hljs-number">14</span></span>) tc(<span class="hljs-number"><span class="hljs-number">1</span></span>) FUNC-<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DCLFUNC</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">body</span></span></span><span class="hljs-function"> . . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CALLFUNC</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(15)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function"> . . . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NAME</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foobyval</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">true</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(8)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(0)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">class</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PFUNC)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">used</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FUNC</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> . . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CALLFUNC</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-function"> . . . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NAME</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">il</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(15)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(0)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">class</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PAUTOHEAP)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">used</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃู ุงููููุฉ ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู foobyval ูู NAME-main.i ุ ุฃู ุฃููุง ูุดูุฑ ุจุดูู ุตุฑูุญ ุฅูู ุงููุชุบูุฑ ูู ุงููุธููุฉ ุงูุชู ุชูุชู ุงูุฅุบูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุฑุญูุฉ ุงูุชุดุบูู ุงูุจุฑูุฌู ุ ูุงูุชู ุชุณูู capturevars ุ ุฃู "ุงูุชูุงุท ุงููุชุบูุฑุงุช" ุ ุชุฏุฎู ุญูุฒ ุงูุชูููุฐ.  ุงูุบุฑุถ ููู ูู ุชุญุฏูุฏ ููููุฉ ุงูุชูุงุท "ุงููุชุบูุฑุงุช ุงููุบููุฉ" (ุฃู ุงููุชุบูุฑุงุช ุงููุฌุงููุฉ ุงููุณุชุฎุฏูุฉ ูู ุนูููุงุช ุงูุฅุบูุงู).  ููุง ุชุนููู ูู ูุธููุฉ ุงููุชุฑุฌู ุงูููุงุจูุฉ ุ ุงูุชู ุชุตู ุฃูุถูุง ุงูุงุณุชุฏูุงู: </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฏุนุงุก // capturevars ูู ูุฑุญูุฉ ูููุตูุฉ ุจุนุฏ ูู ุงุฎุชุจุงุฑุงุช ุงูููุน. <br>  // ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู ุงูุชูุงุท ุงููุชุบูุฑ ุญุณุจ ุงููููุฉ ุฃู ุจุงูุฅุดุงุฑุฉ. <br>  / / ูุณุชุฎุฏู ุงูุงูุชูุงุท ุญุณุจ ุงููููุฉ ููููู &lt;= 128 ุจุงูุช ูู ุชุนุฏ ุชุบูุฑ ุงููููุฉ ุจุนุฏ ุงูุงูุชูุงุท (ุงูุซูุงุจุช ูู ุงูุฃุณุงุณ). </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก capturevars ูู ุงููุซุงู 5 ุ ูุฅูู ููุฑุฑ ุฃู ูุชู ุงูุชูุงุท ูุชุบูุฑ ุงูุญููุฉ i ุจุงูุฑุฌูุน ุฅููู ุ ูุฅุถุงูุฉ ุนูุงูุฉ addrtaken ุงูููุงุณุจุฉ ุฅููู.  ูููู ููุงุญุธุฉ ุฐูู ูู ุฅุฎุฑุงุฌ AST: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">FOR l(<span class="hljs-number"><span class="hljs-number">13</span></span>) tc(<span class="hljs-number"><span class="hljs-number">1</span></span>) . LT l(<span class="hljs-number"><span class="hljs-number">13</span></span>) tc(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> . . NAME-main.ia(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) g(<span class="hljs-number"><span class="hljs-number">1</span></span>) l(<span class="hljs-number"><span class="hljs-number">13</span></span>) x(<span class="hljs-number"><span class="hljs-number">0</span></span>) class(PAUTOHEAP) esc(h) tc(<span class="hljs-number"><span class="hljs-number">1</span></span>) addrtaken assigned used <span class="hljs-keyword"><span class="hljs-keyword">int</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุชุบูุฑ ุงูุญููุฉ ุ ูุง ูุนูู ุชุญุฏูุฏ ุงููููุฉ "ุญุณุจ ุงููููุฉ" ุ ุญูุซ ุฃู ุงููุชุบูุฑ ูุบูุฑ ูููุชู ุจุนุฏ ุงูููุงููุฉ (ุชุฐูุฑ ุงูุงูุชุจุงุณ ูู ุงูููุงุตูุงุช ุงูุชู ูุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุชุบูุฑ ุงูุญููุฉ ูู ูู ุชูุฑุงุฑ).  ูุฐูู ุ ูุชู ุงูุชูุงุท ุงููุชุบูุฑ i ุจุงูุฑุฌูุน. <br>  ูู ูุฐุง ุงูุชุจุงูู ูู ูุซุงููุง ุ ุญูุซ ูุฏููุง ii: = i ุ ii ูู ุชุนุฏ ูุณุชุฎุฏูุฉ ูุจุงูุชุงูู ูุชู ุงูุชูุงุทูุง ุจุงููููุฉ [5]. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุฑู ูุซุงููุง ูุฐููุงู ุนูู ุชุฏุงุฎู ููุฒุชูู ูุฎุชููุชูู ููุบุฉ ุจุทุฑููุฉ ุบูุฑ ูุชููุนุฉ.  ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ูุชุบูุฑ ุฌุฏูุฏ ูู ูู ุชูุฑุงุฑ ููุญููุฉ ุ ูุนูุฏ Go ุงุณุชุฎุฏุงู ุงููุชุบูุฑ ููุณู.  ูุฐุง ุ ุจุฏูุฑู ุ ูุคุฏู ุฅูู ุฅุซุงุฑุฉ ุงูุงุณุชุฏูุงู ูุงุฎุชูุงุฑ ุงูุงูุชูุงุท ุญุณุจ ุงููุฑุฌุน ุ ููุฐุง ูุคุฏู ุฅูู ูุชูุฌุฉ ุบูุฑ ูุชููุนุฉ.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู Go FAQ</a> ุฃู ูุฐุง ุงูุณููู ูุฏ ูููู ุฎุทุฃ ูู ุงูุชุตููู. </p><br><blockquote style=";text-align:right;direction:rtl">  ูู ุงููุญุชูู ุฃู ูููู ูุฐุง ุงูุณููู (ูุง ุชุณุชุฎุฏู ูุชุบูุฑูุง ุฌุฏูุฏูุง) ุฎุทุฃ ุนูุฏ ุชุตููู ูุบุฉ.  ุฑุจูุง ุณูุตูุญูุง ูู ุงูุฅุตุฏุงุฑุงุช ุงููุณุชูุจููุฉ ุ ูููู ูุธุฑูุง ููุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุ ูุง ูููููุง ูุนู ุฃู ุดูุก ูู ุงูุฅุตุฏุงุฑ 1 ูู Go. </blockquote><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุนูู ุฏุฑุงูุฉ ุจุงููุดููุฉ ุ ููู ุงููุญุชูู ุฃูุง ุชุชุฏุฎู ูู ูุฐู ุงููุดููุฉ.  ููู ุถุน ูู ุงุนุชุจุงุฑู ุฃูู ูููู ุฏุงุฆููุง ุงูุชูุงุท ุงููุชุบูุฑุงุช ุงููุฌุงููุฉ ุจุงูุฑุฌูุน ุฅูููุง.  ูุชุฌูุจ ุงูุฃุฎุทุงุก ุ ุชุฃูุฏ ูู ุงูุชูุงุท ูุชุบูุฑุงุช ูููุฑุงุกุฉ ููุท ุนูุฏ ุงุณุชุฎุฏุงู goroutine.  ูุฐุง ููู ุฃูุถูุง ูุธุฑูุง ููุฌูุฏ ูุดููุงุช ูุญุชููุฉ ูู ุฑุญูุงุช ุงูุจูุงูุงุช. </p><br><hr><br><p style=";text-align:right;direction:rtl">  [1] ูุงุญุธ ุจุนุถ ุงููุฑุงุก ุฃูู ุ ุจุงููุนูู ุงูุฏููู ูููููุฉ ุ ูุง ููุฌุฏ ููููู "ุงููุฑูุฑ ุจุงูุฑุฌูุน" ูู Go ุ ูุฃู ูู ุดูุก ูุชู ุชูุฑูุฑู ุจุงููููุฉ ุ ุจูุง ูู ุฐูู ุงููุคุดุฑุงุช.  ูู ูุฐู ุงูููุงูุฉ ุ ุนูุฏูุง ุชุฑู "ุชูุฑูุฑ ุญุณุจ ุงููุฑุฌุน" ุ ุฃุนูู "ุชูุฑูุฑ ุญุณุจ ุงูุนููุงู" ููู ุตุฑูุญ ูู ุจุนุถ ุงูุญุงูุงุช (ูุซู ุชูุฑูุฑ &amp; n ุฅูู ุฏุงูุฉ ุชุชููุน * int) ุ ููู ุจุนุถ ุงูุญุงูุงุช ุถููููุง ุ ููุง ูู ุงูุญุงูุงุช ุงููุงุญูุฉ ุฃุฌุฒุงุก ูู ุงููุงุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  [2] ูููุง ููู ุ ุงุณุชุฎุฏู time.Sleep ูุทุฑููุฉ ุณุฑูุนุฉ ููุฐุฑุฉ ูุงูุชุธุงุฑ ุฅุชูุงู ุฌููุน goroutines.  ุจุฏูู ูุฐุง ุ ุณููุชูู ุงูุฑุฆูุณู ูุจู ุจุฏุก goroutines ููุนูู.  ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ููููุงู ุจุฐูู ูู ุงุณุชุฎุฏุงู ุดูุก ูุซู WaitGroup ุฃู ููุงุฉ ุชู ุงูููุงู ุจู. </p><br><p style=";text-align:right;direction:rtl">  [3] ุชู ุงูุญุตูู ุนูู ุชูุซูู ุงููุฌููุน ูุฌููุน ุงูุฃูุซูุฉ ูู ูุฐู ุงูููุงูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ go tool compile -l -S.  ุนูุงูุฉ -l ุชุนุทูู ูุธููุฉ ูุถููุฉ ููุฌุนู ุฑูุฒ ุงููุฌููุน ุฃูุซุฑ ูุงุจููุฉ ูููุฑุงุกุฉ. </p><br><p style=";text-align:right;direction:rtl">  [4] ูุง ูุชู ุงุณุชุฏุนุงุก Foobyval ูุจุงุดุฑุฉ ุ ูุฃู ุงูููุงููุฉ ุชูุฑ.  ุจุฏูุงู ูู ุฐูู ุ ูุชู ุชูุฑูุฑ ุงูุนููุงู ูุงููุณูุทุฉ ุงูุซุงููุฉ (16 (SP)) ุฅูู ูุธููุฉ runtime.newproc ุ ูุงููุณูุทุฉ ุฅูู foobyval (i ูู ูุฐู ุงูุญุงูุฉ) ุชุฑุชูุน ุงูููุฏุณ. </p><br><p style=";text-align:right;direction:rtl">  [5] ูุชูุฑูู ุ ุฃุถู ii = 10 ูุณุทุฑ ุฃุฎูุฑ ูู ุญููุฉ for (ุจุนุฏ ุงุณุชุฏุนุงุก go).  ูุงุฐุง ูุงู ุงุณุชูุชุงุฌูุ  ููุงุฐุงุ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar468863/">https://habr.com/ru/post/ar468863/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar468849/index.html">ุบูุฑ ูุนุฑูู ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูู ุจุฑูุงูุฌ ูุงุญุฏ</a></li>
<li><a href="../ar468851/index.html">ุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู React Native</a></li>
<li><a href="../ar468853/index.html">ูุตุฉ ุชุทุจูู ูุงุญุฏ ูุงุฌุญ ูู SPR ูู ูุดุฑูุน Legacy</a></li>
<li><a href="../ar468859/index.html">"ููุฌู ุงูุถุฎ": ุถุจุท ูุนุฏุงุช TP-Link ููููุฑู ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar468861/index.html">ุชูููุงุช ุฅูุฌุงุจูุฉ ุชุฌูุจ "ูุฏููุฉ ูุงุจูุฉ ููุชุทุจูุน" ุฅูู ุงูุญูุงุฉ ูู ูุฃุฒู Cyberbattle ูู HITB + CyberWeek</a></li>
<li><a href="../ar468873/index.html">ูุทุงุฑ ุฎุงุต ุฏูุฑ ุงูุฑุงุญุฉ ูุฑุฉ ูุงุญุฏุฉ</a></li>
<li><a href="../ar468875/index.html">ุงูููุงุฑ ุงูุญูุฏ ูุงูุฅููุงู ุงูุญููุฉ</a></li>
<li><a href="../ar468877/index.html">ุทุฑููุฉ ุจุฏููุฉ ูุนุฑุถ ุงูุญูู ุฃุซูุงุก ุชุฑููู ุงูุตูุญุงุช</a></li>
<li><a href="../ar468879/index.html">ูู ูุฌุฑ ุฐุงูุฑุฉ ุงูููุจููุชุฑ</a></li>
<li><a href="../ar468883/index.html">ูุงุชุงููุง ููุฒูููุณูุงูุง: "ูู ููุชู ุจุฑุณู ุฎุฑูุทุฉ ุงูุดุงุฑุน ุงูููุชูุญ: ุฑุฌุงู ุฃู ูุณุงุกุ"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>