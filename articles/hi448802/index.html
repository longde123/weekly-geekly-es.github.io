<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯд░ЁЯП╝ ЁЯЦХЁЯП╛ ЁЯЖХ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕реЛрдЪрдирд╛: рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рдкреЛрд░реНрдЯрд▓реНрд╕ рдмрдирд╛рдирд╛ ЁЯСйЁЯП╗тАНЁЯОд ЁЯМИ ЁЯзе</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреИрд╕реЗ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред рдореБрдЭреЗ рдРрд╕рд╛ рдХреЛрдИ рд╕реНрд░реЛрдд рдирд╣реАрдВ рдорд┐рд▓рд╛, рдЬреЛ рдЗрд╕ рддрд░рд╣ рдХреА рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдг...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕реЛрдЪрдирд╛: рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рдкреЛрд░реНрдЯрд▓реНрд╕ рдмрдирд╛рдирд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448802/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a9/47f/229/5a947f2299f45d3deab4cfc258045cc1.gif" alt="рдЫрд╡рд┐"></div><br>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреИрд╕реЗ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред рдореБрдЭреЗ рдРрд╕рд╛ рдХреЛрдИ рд╕реНрд░реЛрдд рдирд╣реАрдВ рдорд┐рд▓рд╛, рдЬреЛ рдЗрд╕ рддрд░рд╣ рдХреА рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реЛ (рдкреЛрд░реНрдЯрд▓реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ рдФрд░ рдЙрдирдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреБрдЬрд░рдирд╛), рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЕрдкрдирд╛ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред <br><br><h2>  рдПрдХ рдкреЛрд░реНрдЯрд▓ рдХреНрдпрд╛ рд╣реИ? </h2><br>  рдЖрдЗрдП рдЙрджрд╛рд╣рд░рдгреЛрдВ рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВ рдХрд┐ рдПрдХ рдкреЛрд░реНрдЯрд▓ рдХреНрдпрд╛ рд╣реИред  рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЛ рдПрдХ рд╕реНрдерд╛рди рд╕реЗ рджреВрд╕рд░реЗ рд╕реНрдерд╛рди рддрдХ рдЬрд╛рдиреЗ рдХреЗ рд░рд╛рд╕реНрддреЗ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╣реИред  рдХреБрдЫ рд▓реЛрдХрдкреНрд░рд┐рдп рдЦреЗрд▓реЛрдВ рдореЗрдВ, рдЗрд╕ рдЕрд╡рдзрд╛рд░рдгрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рджреГрд╢реНрдп рдкреНрд░рднрд╛рд╡реЛрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЧреЗрдордкреНрд▓реЗ рдпрд╛рдВрддреНрд░рд┐рдХреА рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><div class="spoiler">  <b class="spoiler_title">рдЧреЗрдо рдкреЛрд░реНрдЯрд▓ рдЙрджрд╛рд╣рд░рдг (GIF)</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/611/020/f86/611020f86b634e1946a79f86ee8c4024.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77d/7b9/813/77d7b9813811fc5b1748d8d29c7599ad.gif"></div><br>  <i>рдПрдВрдЯрд┐рдЪрдореНрдмрд░ (2013) рдФрд░ рдкреЛрд░реНрдЯрд▓ (2007)</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/527/671/ad1/527671ad1b23838f56c324d350bf2e1e.gif"></div><br>  <i>рдкреНрд░реАрдИ, 2006</i> </div></div><br>  рддреАрди рдЦреЗрд▓реЛрдВ рдореЗрдВ рд╕реЗ, рд╕рдмрд╕реЗ рдкреНрд░рд╕рд┐рджреНрдз рд╢рд╛рдпрдж рдкреЛрд░реНрдЯрд▓ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рд╣рдореЗрд╢рд╛ рдкреНрд░реАрддрд┐ рдХреА рдкреНрд░рд╢рдВрд╕рд╛ рдХреА рд╣реИ рдФрд░ рдпрд╣ рд╡рд╣ рдереА рдЬрд┐рд╕реЗ рдореИрдВ рдХреЙрдкреА рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдПрдХ рдмрд╛рд░ рдЬрдм рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рд▓реЗрдХрд┐рди рдореИрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реБрдЖ, рдХреНрдпреЛрдВрдХрд┐ рдЗрдВрдЬрди рдореЗрдВ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреА рдХрдореА рдереАред  рдлрд┐рд░ рднреА, рдореИрдВ рдЗрди рдкреНрд░рдпреЛрдЧреЛрдВ рдХрд╛ рд╕рдВрдЪрд╛рд▓рди рдХрд░рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣рд╛: <br><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  рдЖрдкрдХрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ HTML5 рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред <source src="http://froyok.fr/vine_archive/videos/1318354931002269696.mp4" type="video/mp4"></video></div></div></div><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХреЗрд╡рд▓ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди рдХреЗ рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдореИрдВрдиреЗ рд╡рд╛рдВрдЫрд┐рдд рдкреНрд░рднрд╛рд╡ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд┐рдпрд╛: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5lga4ppJiuI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><h2>  рдкреЛрд░реНрдЯрд▓ - рд╡реЗ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ? </h2><br>  рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рд╕рд╛рдорд╛рдиреНрдп рддрд╕реНрд╡реАрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдПрдХ рдкреЛрд░реНрдЯрд▓ рдПрдХ рдЦрд┐рдбрд╝рдХреА рд╣реИ рдЬреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдЬрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реНрдерд╛рди рдкрд░, рдЕрд░реНрдерд╛рддреН, рд╣рдо рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдХрд╣реАрдВ рдФрд░ рджреЛрд╣рд░рд╛рддреЗ рд╣реИрдВред  рдЗрд╕ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рджреЛ рд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рднрд▓реЗ рд╣реА рд╡реЗ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реЛрдВред  рдЦрд┐рдбрд╝рдХреА рдПрдХ рдореБрдЦреМрдЯрд╛ рдЬреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ рдЬреЛ рд╣рдореЗрдВ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдореВрд▓ рдПрдХ рдХреЗ рдмрдЬрд╛рдп рджреВрд╕рд░реА рдЬрдЧрд╣ рдХрд╣рд╛рдВ рдФрд░ рдХрдм рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рд╣реИред  рдЪреВрдБрдХрд┐ рджреГрд╢реНрдп рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБ рдХрд╣реАрдВ рдФрд░ рджреЛрд╣рд░рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд╕реЗ рд╣рдореЗрдВ рдирд┐рд░рдВрддрд░рддрд╛ рдХрд╛ рднреНрд░рдо рд╣реЛрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b3/d56/84b/6b3d5684bf30d66c8b60d551049f7a9b.png"></div><br>  рдЗрд╕ рдЫрд╡рд┐ рдореЗрдВ, рдХреИрдкреНрдЪрд░ рдбрд┐рд╡рд╛рдЗрд╕ (UE4 рдореЗрдВ рджреГрд╢реНрдп) рдЙрд╕ рд╕реНрдерд╛рди рдХреЗ рд╕рд╛рдордиреЗ рд╕реНрдерд┐рдд рд╣реИ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рджреЗрдЦреЗ рдЧрдП рд╕реНрдерд╛рди рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рд╕рдм рдХреБрдЫ рдЬреЛ рд▓рд╛рдЗрди рдХреЗ рдмрд╛рдж рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рдЙрд╕реЗ рдХреИрдкреНрдЪрд░ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдХреИрдкреНрдЪрд░ рдбрд┐рд╡рд╛рдЗрд╕ рджрд░рд╡рд╛рдЬреЗ рдФрд░ рдЕрдиреНрдп рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдмреАрдЪ рд╕реНрдерд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рддрдерд╛рдХрдерд┐рдд "рдХреНрд▓рд┐рдкрд┐рдВрдЧ рдкреНрд▓реЗрди" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдкреЛрд░реНрдЯрд▓ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдкреЛрд░реНрдЯрд▓ рдХреЗ рд╕рд╛рдордиреЗ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╡рд╛рд▓реА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдорд╛рд╕реНрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓реАрдкрд┐рдВрдЧ рдкреНрд▓реЗрди рд╣реЛред <br><br>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рджреЗрдирд╛ред  рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП: <br><br><ul><li>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд╛ рд╕реНрдерд╛рди </li><li>  рдкреЛрд░реНрдЯрд▓ рдПрдВрдЯреНрд░реА рдкреЙрдЗрдВрдЯ </li><li>  рдкреЛрд░реНрдЯрд▓ рдирд┐рдХрд╛рд╕ рдмрд┐рдВрджреБ </li><li>  рдХреНрд▓рд┐рдкрд┐рдВрдЧ рдкреНрд▓реЗрди рдХреЗ рд╕рд╛рде рдХреНрд▓рд┐рдкрд┐рдВрдЧ рдбрд┐рд╡рд╛рдЗрд╕ </li></ul><br>  рдЗрд╕реЗ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди рдореЗрдВ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдП? <br><br>  рдореИрдВрдиреЗ <b>рдкреНрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░</b> рдФрд░ <b>рдХреИрд░реЗрдХреНрдЯрд░</b> рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рджреЛ рдореБрдЦреНрдп рд╡рд░реНрдЧреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдкрдирд╛ рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдпрд╛ред  <b>рдкреЛрд░реНрдЯрд▓</b> рд╡рд░реНрдЧ рдПрдХ рд╕рдЪреНрдЪреЗ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдмрд┐рдВрджреБ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рджреГрд╢реНрдп / рдирд┐рдХрд╛рд╕ рдмрд┐рдВрджреБ рд▓рдХреНрд╖реНрдп рдЕрднрд┐рдиреЗрддрд╛ рд╣реИред  рдПрдХ <b>рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░</b> рднреА рд╣реИ, рдЬреЛ рдкреНрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХреИрд░реЗрдХреНрдЯрд░ рджреНрд╡рд╛рд░рд╛ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯрд▓ рдХреЛ рд╕реНрддрд░ рдкрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХреЗ, рд╕рд╛рде рд╣реА рд╕реАрдирдХреЗрдкреНрдЯреНрдпреЛрд░ рдСрдмреНрдЬреЗрдХреНрдЯ (рдЬреЛ рд╕рднреА рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рд╣реИ) рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░ рд╕рдХреЗред <br><br><blockquote>  рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдЖрдкрдХреЛ рдХреЛрдб рд╕реЗ рд╡рд░реНрдг рдФрд░ рдкреНрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░ рдХрдХреНрд╖рд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЙрдореНрдореАрдж рдХрд░рддрд╛ рд╣реИред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕рдбреНрд░реЗрдЪрд░рдЪрд░ рдФрд░ рдПрдХреНрд╕рдбреНрд░реЗрдкрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </blockquote><br><h2>  рдПрдХ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рд╡рд░реНрдЧ рдмрдирд╛рдирд╛ </h2><br>  рдЖрдЗрдП рдкреЛрд░реНрдЯрд▓ рдХреЗ рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ "рд╡рд┐рдВрдбреЛрдЬрд╝" рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдо рд╕реНрддрд░ рдкрд░ рджреЗрдЦреЗрдВрдЧреЗред  рдЕрднрд┐рдиреЗрддрд╛ рдХрд╛ рдХрд╛рд░реНрдп рд╡рд┐рднрд┐рдиреНрди рдкрджреЛрдВ рдФрд░ рдШреБрдорд╛рд╡реЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦрд┐рд▓рд╛рдбрд╝реА рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИред  рд╡рд╣ рдпрд╣ рдкрд╣рдЪрд╛рдирдиреЗ рдореЗрдВ рднреА рд▓рдЧрд╛ рд░рд╣реЗрдЧрд╛ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░ рдЬрд╛рдП, рдпрд╛ рдЙрд╕рдХрд╛ рдЯреЗрд▓реАрдкреЛрд░реНрдЯреЗрд╢рдиред <br><br>  рдЕрднрд┐рдиреЗрддрд╛ рдХреА рд╡рд┐рд╕реНрддреГрдд рдЪрд░реНрдЪрд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдХреБрдЫ рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рддрд╛ рд╣реВрдВ рдЬреЛ рдореИрдВрдиреЗ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдереА: <br><br><ul><li>  рдЧрдгрдирд╛ рдХреЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЗрдирдХрд╛рд░ рдХреЗ рд▓рд┐рдП, рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдПрдХ рд╕рдХреНрд░рд┐рдп-рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╕реНрдерд┐рддрд┐ рд╣реИред  рдпрд╣ рд╕реНрдерд┐рддрд┐ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рджреНрд╡рд╛рд░рд╛ рдЕрджреНрдпрддрди рдХреА рдЬрд╛рддреА рд╣реИред </li><li>  рдкреЛрд░реНрдЯрд▓ рдХреЗ рд╕рд╛рдордиреЗ рдФрд░ рдкреАрдЫреЗ рдХреА рдУрд░ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рджрд┐рд╢рд╛ (рдЖрдЧреЗ рдХрд╛ рд╡реЗрдХреНрдЯрд░) рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддреА рд╣реИред </li><li>  рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рд╡рд╣ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рдкрд┐рдЫрд▓реА рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд░реНрддрдорд╛рди рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдкрд┐рдЫрд▓реЗ рдорд╛рдк рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рдХреЗ рд╕рд╛рдордиреЗ рдерд╛, рдФрд░ рд╡рд░реНрддрдорд╛рди рдореЗрдВ - рдЙрд╕рдХреЗ рдкреАрдЫреЗ, рддреЛ рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдиреЗ рдЗрд╕реЗ рдкрд╛рд░ рдХрд┐рдпрд╛ред  рдЙрд▓реНрдЯреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдПрдХ рд╕реАрдорд┐рдд рдорд╛рддреНрд░рд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЬрдм рддрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдЗрд╕ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рдирд╣реАрдВ рд╣реЛ, рддрдм рддрдХ рдЧрдгрдирд╛ рдФрд░ рдЬрд╛рдВрдЪ рди рдХрд░реЗрдВред  рдЙрджрд╛рд╣рд░рдг: рдпрджрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкреЛрд░реНрдЯрд▓ рдХреЛ рдирд╣реАрдВ рдЫреВ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЪреМрд░рд╛рд╣реЗ рдХреА рдЙрдкреЗрдХреНрд╖рд╛ рдХрд░реЗрдВред </li><li>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрдерд╛рди рдХреА рдЧрдгрдирд╛ рдХреИрдорд░реЗ рдХреЗ рд╕реНрдерд╛рди рд╕реЗ рдХреА рдЬрд╛рддреА рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдХрд┐ рдЬрдм рд╡реНрдпреВ рдкреЙрдЗрдВрдЯ рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдкрд╛рд░ рд╣реЛ рдЬрд╛рдП, рд▓реЗрдХрд┐рди рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд╛ рд╢рд░реАрд░ рди рд╣реЛред </li><li>  рдкреЛрд░реНрдЯрд▓ рдПрдХ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЕрдЧрд▓реА рдмрд╛рд░ рдмрдирд╛рд╡рдЯ рдЧрд▓рдд рд╣реЛрдиреЗ рдкрд░ рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрд╛рдп рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </li><li>  рдкреЛрд░реНрдЯрд▓ рдЯрд╛рд░рдЧреЗрдЯ рдирд╛рдордХ рдПрдХ рдЕрдиреНрдп рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рддрд╛рдХрд┐ рдпрд╣ рдкрддрд╛ рдЪрд▓ рд╕рдХреЗ рдХрд┐ рджреВрд╕рд░реЗ рд╕реНрдерд╛рди рдкрд░ рдХрд╣рд╛рдВ рд╕рдВрдкрд░реНрдХ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реИред </li></ul><br>  рдЗрди рдирд┐рдпрдореЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдореИрдВрдиреЗ рдПрдПрдХреНрдЯрд░ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реА рдПрдХ рдирдИ рдПрдХреНрд╕рдбрд░рдкрд╛рд░реНрдЯрд▓ рдХреНрд▓рд╛рд╕ рдмрдирд╛рдИ, рдЬреЛ рдПрдХ рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБ рд╣реИред  рдпрд╣рд╛рдБ рдЗрд╕рдХрд╛ рд╢реАрд░реНрд╖рдХ рд╣реИ: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> once #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"CoreMinimal.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"GameFramework/Actor.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ExedrePortal.generated.h"</span></span></span><span class="hljs-meta"> UCLASS() class EXEDRE_API AExedrePortal : public AActor { GENERATED_UCLASS_BODY() protected: virtual void BeginPlay() override; public: virtual void Tick(float DeltaTime) override; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//Status of the Portal (being visualized by the player or not) UFUNCTION(BlueprintPure, Category="Exedre|Portal") bool IsActive(); UFUNCTION(BlueprintCallable, Category="Exedre|Portal") void SetActive( bool NewActive ); //Render target to use to display the portal UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category="Exedre|Portal") void ClearRTT(); UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category="Exedre|Portal") void SetRTT( UTexture* RenderTexture ); UFUNCTION(BlueprintNativeEvent, Category="Exedre|Portal") void ForceTick(); //Target of where the portal is looking UFUNCTION(BlueprintPure, Category="Exedre|Portal") AActor* GetTarget(); UFUNCTION(BlueprintCallable, Category="Exedre|Portal") void SetTarget( AActor* NewTarget ); //Helpers UFUNCTION(BlueprintCallable, Category="Exedre|Portal") bool IsPointInFrontOfPortal( FVector Point, FVector PortalLocation, FVector PortalNormal ); UFUNCTION(BlueprintCallable, Category="Exedre|Portal") bool IsPointCrossingPortal( FVector Point, FVector PortalLocation, FVector PortalNormal ); UFUNCTION(BlueprintCallable, Category="Exedre|Portal") void TeleportActor( AActor* ActorToTeleport ); protected: UPROPERTY(BlueprintReadOnly) USceneComponent* PortalRootComponent; private: bool bIsActive; AActor* Target; //Used for Tracking movement of a point FVector LastPosition; bool LastInFront; };</span></span></span></span></code> </pre> <br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣рд╛рдВ рд╡рд░реНрдгрд┐рдд рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИрдВред  рдЕрдм рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рд╢рд░реАрд░ рдореЗрдВ (.cpp) рдХреИрд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><hr><br>  рдпрд╣рд╛рдВ рдХрд╛ рдбрд┐рдЬрд╛рдЗрдирд░ рд░реВрдЯ рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕ рддреИрдпрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИред  рдореИрдВрдиреЗ рджреЛ рдореВрд▓ рдШрдЯрдХ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдЧреНрд░рд╛рдлрд┐рдХ рдкреНрд░рднрд╛рд╡ рдФрд░ рдЯрдХрд░рд╛рд╡ / рдорд╛рдиреНрдпрддрд╛ рджреЛрдиреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рджреЗрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП рдореБрдЭреЗ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рддрд░реАрдХреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА рдХрд┐ рдмреНрд▓реВрдЯреВрде рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдпрд╛ рдЕрдиреНрдп рдЪрд╛рд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ рдЦрд┐рдбрд╝рдХреА / рдкреЛрд░реНрдЯрд▓ рд╡рд┐рдорд╛рди рдХрд╣рд╛рдВ рд╣реИред  PortalRootComponent рдкреЛрд░реНрдЯрд▓ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рднреА рдЧрдгрдирд╛рдУрдВ рдХрд╛ рдЖрдзрд╛рд░ рд╣реЛрдЧрд╛ред <br><br>  рдкреЛрд░реНрдЯрд▓ рд░реВрдЯ рдбрд╛рдпрдирд╛рдорд┐рдХ рдкрд░ рд╕реЗрдЯ рд╣реИ, рдЕрдЧрд░ рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдХреНрд▓рд╛рд╕ рдЗрд╕реЗ рдПрдирд┐рдореЗрдЯ рдХрд░рддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдУрдкрди / рдХреНрд▓реЛрдЬ рдПрдиреАрдореЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ)ред <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Sets default values AExedrePortal::AExedrePortal(const FObjectInitializer&amp; ObjectInitializer) : Super(ObjectInitializer) { PrimaryActorTick.bCanEverTick = true; bIsActive = false; RootComponent = CreateDefaultSubobject&lt;USceneComponent&gt;(TEXT("RootComponent")); RootComponent-&gt;Mobility = EComponentMobility::Static; PortalRootComponent = CreateDefaultSubobject&lt;USceneComponent&gt;(TEXT("PortalRootComponent")); PortalRootComponent-&gt;SetupAttachment( GetRootComponent() ); PortalRootComponent-&gt;SetRelativeLocation( FVector(0.0f, 0.0f, 0.0f) ); PortalRootComponent-&gt;SetRelativeRotation( FRotator(0.0f, 0.0f, 0.0f) ); PortalRootComponent-&gt;Mobility = EComponentMobility::Movable; }</span></span></code> </pre> <br><hr><br>  рдХреЗрд╡рд▓ рдЧреЗрдЯ рдФрд░ рд╕реЗрдЯ рдХрд╛рд░реНрдп рд╣реИрдВ, рдФрд░ рдЕрдзрд┐рдХ рдХреБрдЫ рдирд╣реАрдВред  рд╣рдо рджреВрд╕рд░реА рдЬрдЧрд╣ рд╕реЗ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AExedrePortal::IsActive() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bIsActive; } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::SetActive( <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> NewActive ) { bIsActive = NewActive; }</code> </pre> <br><hr><br>  рдЦрд╛рдХрд╛ рдШрдЯрдирд╛рдУрдВ, рдореИрдВ рд╕реА ++ рд╡рд░реНрдЧ рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реВрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::ClearRTT_Implementation() { } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::SetRTT_Implementation( UTexture* RenderTexture ) { } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::ForceTick_Implementation() { }</code> </pre> <br><hr><br>  рд▓рдХреНрд╖реНрдп рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд╕реЗрдЯ рдХрд░реЗрдВред  рдЗрд╕ рднрд╛рдЧ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред <br><br><pre> <code class="cpp hljs">AActor* AExedrePortal::GetTarget() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Target; } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::SetTarget( AActor* NewTarget ) { Target = NewTarget; }</code> </pre> <br><hr><br>  рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде, рд╣рдо рдЖрд╕рд╛рдиреА рд╕реЗ рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреЛрдИ рдмрд┐рдВрджреБ рд╡рд┐рдорд╛рди рдХреЗ рд╕рд╛рдордиреЗ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдФрд░ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рдПрдХ рдкреЛрд░реНрдЯрд▓ рд╣реИред  рдлрд╝рдВрдХреНрд╢рди рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП UE4 рдЗрдВрдЬрди рдХреЗ FPlane рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AExedrePortal::IsPointInFrontOfPortal( FVector Point, FVector PortalLocation, FVector PortalNormal ) { FPlane PortalPlane = FPlane( PortalLocation, PortalNormal ); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> PortalDot = PortalPlane.PlaneDot( Point ); <span class="hljs-comment"><span class="hljs-comment">//If &lt; 0 means we are behind the Plane //See : http://api.unrealengine.com/INT/API/Runtime/Core/Math/FPlane/PlaneDot/index.html return ( PortalDot &gt;= 0 ); }</span></span></code> </pre> <br><hr><br>  рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдмрд┐рдВрджреБ рдиреЗ рдкреЛрд░реНрдЯрд▓ рд╡рд┐рдорд╛рди рдкрд╛рд░ рдХрд┐рдпрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред  рдпрд╣ рдпрд╣рд╛рдВ рд╣реИ рдХрд┐ рд╣рдо рдкреБрд░рд╛рдиреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдмрд┐рдВрджреБ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдЖрдо рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдХрд┐рд╕реА рднреА рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХреЗ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдлрд╝рдВрдХреНрд╢рди рдкрд┐рдЫрд▓реЗ рдФрд░ рд╡рд░реНрддрдорд╛рди рд╕реНрдерд╛рди рдХреЗ рдмреАрдЪ рдПрдХ рджрд┐рд╢рд╛ / рдЦрдВрдб рдмрдирд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдЬрд╛рдБрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╡реЗ рд╡рд┐рдорд╛рди рдХреЛ рдХрд╛рдЯрддреЗ рд╣реИрдВред  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рд╕рд╣реА рджрд┐рд╢рд╛ рдореЗрдВ (рдЖрдЧреЗ рд╕реЗ рдкреАрдЫреЗ?) рдкрд╛рд░ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AExedrePortal::IsPointCrossingPortal( FVector Point, FVector PortalLocation, FVector PortalNormal ) { FVector IntersectionPoint; FPlane PortalPlane = FPlane( PortalLocation, PortalNormal ); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> PortalDot = PortalPlane.PlaneDot( Point ); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsCrossing = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsInFront = PortalDot &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsIntersect = FMath::SegmentPlaneIntersection( LastPosition, Point, PortalPlane, IntersectionPoint ); <span class="hljs-comment"><span class="hljs-comment">//Did we intersect the portal since last Location ? //If yes, check the direction : crossing forward means we were in front and now at the back //If we crossed backward, ignore it (similar to Prey 2006) if( IsIntersect &amp;&amp; !IsInFront &amp;&amp; LastInFront ) { IsCrossing = true; } //Store values for Next check LastInFront = IsInFront; LastPosition = Point; return IsCrossing; }</span></span></code> </pre> <br><h2>  рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдПрдХреНрдЯрд░ </h2><br>  рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдХрд╛ рдЕрдВрддрд┐рдо рднрд╛рдЧ рдЬрд┐рд╕реЗ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рд╡рд╣ <b>TeleportActor ()</b> рдлрд╝рдВрдХреНрд╢рди рд╣реИред <br><br>  рдмрд┐рдВрджреБ A рд╕реЗ рдмрд┐рдВрджреБ B рддрдХ рдХрд┐рд╕реА рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд░рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рдЖрдВрджреЛрд▓рди рдФрд░ рд╕реНрдерд┐рддрд┐ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдХреЛрдИ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдЧреБрдЬрд░рддрд╛ рд╣реИ, рддреЛ рдЙрдкрдпреБрдХреНрдд рджреГрд╢реНрдп рдкреНрд░рднрд╛рд╡реЛрдВ рдХреЗ рд╕рдВрдпреЛрдЬрди рдореЗрдВ, рдпрд╣ рдЙрд╕реЗ рдкреНрд░рддреАрдд рд╣реЛрдЧрд╛ рдХрд┐ рд╡рд╣ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рджрд░рд╡рд╛рдЬреЗ рд╕реЗ рдЧреБрдЬрд░рд╛ рд╣реИред <br><br>  рдкреЛрд░реНрдЯрд▓ рдХрд╛ рдЪреМрд░рд╛рд╣рд╛ рдПрдХ рд╕реАрдзреА рд░реЗрдЦрд╛ рдореЗрдВ рдЬрд╛рдиреЗ рдЬреИрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреБрдЫ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рд╣реЛрддрд╛ рд╣реИред  рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдкрд░, рдЦрд┐рд▓рд╛рдбрд╝реА рдмрд╣реБрдд рдЕрд▓рдЧ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/185/809/d4f/185809d4fd81675cdd6f1cc871eaf193.gif"></div><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░рддреЗ рд╕рдордп, рдХреИрдорд░рд╛ рдЕрдкрдиреЗ рдЖрдЧреЗ рд╡реЗрдХреНрдЯрд░ (рд░реЛрдЯреЗрдЯреНрд╕) рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдШреВрдорддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рдкреНрд░рд╛рд░рдВрдн рдФрд░ рдЕрдВрдд рдмрд┐рдВрджреБ рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рдорд╛рдиреЛрдВ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рд╣реИрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/072/97f/b30/07297fb30171a80c1cc0d831701feb74.jpg"></div><br>  рдЗрд╕рд▓рд┐рдП, рдЗрд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЛ рдкреЛрд░реНрдЯрд▓ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕реНрдерд╛рди рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЗрд╕реЗ рд▓рдХреНрд╖реНрдп рд╕реНрдерд╛рди рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╕реЗ, рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдФрд░ рджреВрд╕рд░реА рддрд░рдл рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рдмрд╛рдж, рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЕрдВрддрд░рд┐рдХреНрд╖ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдЧрдардмрдВрдзрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдпрд╣ рди рдХреЗрд╡рд▓ рдЕрднрд┐рдиреЗрддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рд░реЛрдЯреЗрд╢рди рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рдЙрд╕рдХреА <b>рдЧрддрд┐</b> рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред <br><br><blockquote>  рдЕрдЧрд░ рд╣рдо рдХрд┐рд╕реА рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдмрджрд▓рд╛рд╡ рдХреЗ рдПрдХ рд╕реНрдерд╛рдиреАрдп рд░реЛрдЯреЗрд╢рди рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЕрднрд┐рдиреЗрддрд╛ рдЦреБрдж рдХреЛ рдЙрд▓реНрдЯрд╛ рдкрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╛рддреНрд░реЛрдВ рдпрд╛ рд╕реНрд╡рдпрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддрд╛ред  рдЖрдкрдХреЛ рдЕрднрд┐рдиреЗрддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдКрдкрд░ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortal::TeleportActor( AActor* ActorToTeleport ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ActorToTeleport == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> || Target == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//------------------------------- //Retrieve and save Player Velocity //(from the Movement Component) //------------------------------- FVector SavedVelocity = FVector::ZeroVector; AExedreCharacter* EC = nullptr; if( ActorToTeleport-&gt;IsA( AExedreCharacter::StaticClass() ) ) { EC = Cast&lt;AExedreCharacter&gt;( ActorToTeleport ); SavedVelocity = EC-&gt;GetCharMovementComponent()-&gt;GetCurrentVelocity(); } //------------------------------- //Compute and apply new location //------------------------------- FHitResult HitResult; FVector NewLocation = UTool::ConvertLocationToActorSpace( ActorToTeleport-&gt;GetActorLocation(), this, Target ); ActorToTeleport-&gt;SetActorLocation( NewLocation, false, &amp;HitResult, ETeleportType::TeleportPhysics ); //------------------------------- //Compute and apply new rotation //------------------------------- FRotator NewRotation = UTool::ConvertRotationToActorSpace( ActorToTeleport-&gt;GetActorRotation(), this, Target ); //Apply new rotation ActorToTeleport-&gt;SetActorRotation( NewRotation ); //------------------------------- //If we are teleporting a character we need to //update its controller as well and reapply its velocity //------------------------------- if( ActorToTeleport-&gt;IsA( AExedreCharacter::StaticClass() ) ) { //Update Controller AExedrePlayerController* EPC = EC-&gt;GetPlayerController(); if( EPC != nullptr ) { NewRotation = UTool::ConvertRotationToActorSpace( EPC-&gt;GetControlRotation(), this, Target ); EPC-&gt;SetControlRotation( NewRotation ); } //Reapply Velocity (Need to reorient direction into local space of Portal) { FVector Dots; Dots.X = FVector::DotProduct( SavedVelocity, GetActorForwardVector() ); Dots.Y = FVector::DotProduct( SavedVelocity, GetActorRightVector() ); Dots.Z = FVector::DotProduct( SavedVelocity, GetActorUpVector() ); FVector NewVelocity = Dots.X * Target-&gt;GetActorForwardVector() + Dots.Y * Target-&gt;GetActorRightVector() + Dots.Z * Target-&gt;GetActorUpVector(); EC-&gt;GetCharMovementComponent()-&gt;Velocity = NewVelocity; } } //Cleanup Teleport LastPosition = NewLocation; }</span></span></code> </pre> <br><hr><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдкрдиреЗ рд╢рд╛рдпрдж рджреЗрдЦрд╛, рд░реЛрдЯреЗрд╢рди / рд╕реНрдерд┐рддрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдмрд╛рд╣рд░реА рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реВрдВред  рдЙрдиреНрд╣реЗрдВ UTool рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд░реНрдЧ рд╕реЗ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╕реНрдереИрддрд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХрд╣реАрдВ рд╕реЗ рднреА (рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рд╕рд╣рд┐рдд) рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрдирдХрд╛ рдХреЛрдб рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЙрд╕ рддрд░рд╣ рд╕реЗ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд▓рдЧрддрд╛ рд╣реИ (рдпрд╣ рд╕рд┐рд░реНрдл рдкреЛрд░реНрдЯрд▓ рдкреЛрд░реНрдЯрд▓ рдЧреНрд░реБрдк рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рдбрд╛рд▓рдирд╛ рдЖрд╕рд╛рди рд╣реИ)ред <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">FVector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertLocationToActorSpace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( FVector Location, AActor* Reference, AActor* Target )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Reference == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> || Target == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FVector::ZeroVector; } FVector Direction = Location - Reference-&gt;GetActorLocation(); FVector TargetLocation = Target-&gt;GetActorLocation(); FVector Dots; Dots.X = FVector::DotProduct( Direction, Reference-&gt;GetActorForwardVector() ); Dots.Y = FVector::DotProduct( Direction, Reference-&gt;GetActorRightVector() ); Dots.Z = FVector::DotProduct( Direction, Reference-&gt;GetActorUpVector() ); FVector NewDirection = Dots.X * Target-&gt;GetActorForwardVector() + Dots.Y * Target-&gt;GetActorRightVector() + Dots.Z * Target-&gt;GetActorUpVector(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TargetLocation + NewDirection; }</code> </pre> <br>  рд╡рд┐рднрд┐рдиреНрди рдХреЛрдгреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реИрдХреНрдЯрд░ рдХреЗ рд╕реНрдХреЗрд▓рд░ рдЙрддреНрдкрд╛рдж рдХреА рдЧрдгрдирд╛ рдХрд░рдХреЗ рдпрд╣рд╛рдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рджрд┐рд╢рд╛ рд╡реЗрдХреНрдЯрд░ рдХреЛ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рд╣рдо рдлрд┐рд░ рд╕реЗ рд▓рдХреНрд╖реНрдп рд╡реИрдХреНрдЯрд░ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдбреЙрдЯреНрд╕ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдЧреБрдгрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд▓рдХреНрд╖реНрдп рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд╕реНрдерд╛рдиреАрдп рд╕реНрдерд╛рди рдкрд░ рдареАрдХ рдЙрд╕реА рджреВрд░реА рдкрд░ рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд╕рдХреЗред <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">FRotator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertRotationToActorSpace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( FRotator Rotation, AActor* Reference, AActor* Target )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Reference == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> || Target == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FRotator::ZeroRotator; } FTransform SourceTransform = Reference-&gt;GetActorTransform(); FTransform TargetTransform = Target-&gt;GetActorTransform(); FQuat QuatRotation = FQuat( Rotation ); FQuat LocalQuat = SourceTransform.GetRotation().Inverse() * QuatRotation; FQuat NewWorldQuat = TargetTransform.GetRotation() * LocalQuat; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewWorldQuat.Rotator(); }</code> </pre> <br>  рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдереЛрдбрд╝рд╛ рдХрдард┐рди рдерд╛ред  рдЕрдВрдд рдореЗрдВ, рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╕рдорд╛рдзрд╛рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer">рдЪрддреБрд░реНрдзрд╛рддреБрдХ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдХрд▓рд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer">рдпреВрд▓рд░ рдХреЛрдг рдХреЗ</a> рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рд╕рдЯреАрдХ рд╣реИ рдФрд░ рдХреЛрдб рдХреА рдХреЗрд╡рд▓ рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЧреБрдгрди рджреНрд╡рд╛рд░рд╛ рдШреВрд░реНрдгрди рдЧреБрдгрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрд▓рдЯрд╛ () рдХреЛ рд╣рдо рдЬрд┐рд╕ рд░реВрдкрд╛рдВрддрд░рдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдХреЗ, рд╣рдо рдЗрд╕реЗ рд╕реНрдерд╛рдиреАрдп рд╕реНрдерд╛рди рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджреЗрдВрдЧреЗред  рдЕрдЧрд▓рд╛, рд╣рдореЗрдВ рдмрд╕ рдЕрдВрддрд┐рдо рдореЛрдбрд╝ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рдХреНрд╖реНрдп рдореЛрдбрд╝ рджреНрд╡рд╛рд░рд╛ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЧреБрдгрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h2>  рдПрдХ рдкреЛрд░реНрдЯрд▓ рдореЗрд╖ рдмрдирд╛рдирд╛ </h2><br>  рдХрд┐рд╕реА рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╕реБрдВрджрд░ рджрд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдореЗрд░рд╛ рдкреЛрд░реНрдЯрд▓ рд╕рд┐рд╕реНрдЯрдо рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЬрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдЬрд╛рд▓ рдХреЛ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд┐рдорд╛рдиреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><ul><li>  <b>рд╡рд┐рдорд╛рди 1</b> : рдореБрдЦреНрдп рд╡рд┐рдорд╛рди рдЬрд┐рд╕ рдкрд░ рдкреЛрд░реНрдЯрд▓ рдХрд╛ рд░реЗрдВрдбрд░ рд▓рдХреНрд╖реНрдп рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕ рд╡рд┐рдорд╛рди рдореЗрдВ рдПрдХ рдЕрд╕рд╛рдорд╛рдиреНрдп рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдХрд╛рд░реНрдп рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗ рдереЛрдбрд╝рд╛ рдзрдХреНрдХрд╛ рджреЗрдирд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╡рд╣ рдХреИрдорд░реЗ рджреНрд╡рд╛рд░рд╛ рдХреНрд▓рд┐рдкрд┐рдВрдЧ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдкрд░реНрдХ рдХрд░рддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рд╡рд┐рдорд╛рди рдХреА рд╕реАрдорд╛рдПрдВ рдирд╣реАрдВ рдЪрд▓рддреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЗрд╕рдХреА рдордзреНрдп рдЪреЛрдЯрд┐рдпрд╛рдВ рдЪрд▓рддреА рд╣реИрдВ, рдЗрд╕рд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рджреГрд╢реНрдп рдХрд▓рд╛рдХреГрддрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдкрд░ рд╕реБрдкрд░рдорд┐рд╢рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИред  рдХрд┐рдирд╛рд░реЛрдВ рдкрд░ рдХрд┐рдирд╛рд░реЛрдВ рдХреЗ рдКрдкрд░реА рдЖрдзреЗ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдпреВрд╡реА рд╣реИ, рдЬрдмрдХрд┐ рдирд┐рдЪрд▓реЗ рдХрд┐рдирд╛рд░реЛрдВ рдореЗрдВ рдЖрдВрддрд░рд┐рдХ рдХрд┐рдирд╛рд░реЛрдВ рдХрд╛ рдЕрдкрдирд╛ рдпреВрд╡реА рд╣реИ, рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдЫрд╛рдпрд╛ рдореЗрдВ рдореБрдЦреМрдЯрд╛ рдХрд░рдирд╛ рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИред </li><li>  <b>рд╡рд┐рдорд╛рди 2</b> : рдЗрд╕ рд╡рд┐рдорд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдореЗрд╖ рдХреЗ рдорд╛рдирдХ рдмрд╛рдЙрдВрдбрд┐рдВрдЧ рдмреЙрдХреНрд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХреЛрдиреЗ рдХреЗ рдорд╛рдирджрдВрдб рдиреАрдЪреЗ рдХреА рдУрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЧреИрд░-рдкреНрд▓рд╛рдирд░ рдЬрдореАрди рдкрд░ рднреА рдЬрд╛рд▓реА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрдЧреА (рдХреНрдпреЛрдВрдХрд┐ рд░реЗрдВрдбрд░рд┐рдВрдЧ рд╕рд╛рдордЧреНрд░реА рджреЛ рддрд░рдлрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА)ред </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/72e/125/f6f/72e125f6fd315caa2777f65dc0eaf39a.gif"></div><br>  рдХреНрдпреЛрдВ рдЗрд╕ рддрд░рд╣ рдПрдХ рдЬрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ? <br><br>  рдореИрдВрдиреЗ рддрдп рдХрд┐рдпрд╛ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рдЖрддреЗ рд╣реА "рдкреНрд▓реЗрди 1" рдЦрд┐рдВрдЪ рдЬрд╛рдПрдЧрд╛ред  рдпрд╣ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдкреЛрд░реНрдЯрд▓ рдХреЛ рдУрд╡рд░рд▓реИрдк рдХрд░рдиреЗ рдФрд░ рдЯреНрд░рд┐рдорд┐рдВрдЧ (рдХрдЯрд┐рдВрдЧ) рдХреЗ рдмрд┐рдирд╛ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреБрдЬрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЕрдЧрд░ рдХреИрдорд░реЗ рдиреЗ рдЕрднреА рддрдХ рдкреЛрд░реНрдЯрд▓ рдХреЗ рд╡рд┐рдорд╛рди рдХреЛ рдкрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкреИрд░ рдкрд╣рд▓реЗ рд╣реА рдЫреВ рдЪреБрдХреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдЖрдк рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдХрд╛рдЯ рдирд╣реАрдВ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рджреВрд╕рд░реА рддрд░рдл рдореЗрд╖ рдХреЛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  "рд╡рд┐рдорд╛рди 2" рдХрд╛рд░реНрдп рдЬрд╛рд▓ рдХреЗ рдорд╛рдирдХ рдмрд╛рдЙрдВрдбрд┐рдВрдЧ рдмреЙрдХреНрд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рд╣реИред  рдЪреВрдБрдХрд┐ "рдкреНрд▓реЗрди 1" рд╕рдкрд╛рдЯ рд╣реИ, рдПрдХ рдЕрдХреНрд╖ рдкрд░ рдмрд╛рдЙрдВрдбрд┐рдВрдЧ рдмреЙрдХреНрд╕ рдХреА рдореЛрдЯрд╛рдИ 0 рд╣реИ, рдФрд░ рдпрджрд┐ рдХреИрдорд░рд╛ рдЗрд╕рдХреЗ рдкреАрдЫреЗ рд╣реИ, рддреЛ рдЗрдВрдЬрди рдЗрд╕реЗ рдХрд╛рдЯ рджреЗрдЧрд╛ (рдЕрд░реНрдерд╛рдд рдпрд╣ рдЗрд╕реЗ рд░реЗрдВрдбрд░ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛)ред  рдкреНрд▓реЗрди 1 рдХрд╛ рдЖрдХрд╛рд░ 128 ├Ч 128 рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдЗрдВрдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдврд╝рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╡рд┐рдорд╛рди 2 рдордВрдЬрд┐рд▓ рд╕реЗ рдереЛрдбрд╝рд╛ рдмрдбрд╝рд╛ рдФрд░ рдиреАрдЪреЗ (0 рд╕реЗ рдиреАрдЪреЗ) рд╣реИред <br><br>  рдореЗрд╖ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдмрд╕ рдЗрд╕реЗ рддреГрддреАрдп-рдкрдХреНрд╖ 3D рд╕рдВрдкрд╛рджрдХ рд╕реЗ рдирд┐рд░реНрдпрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореЗрдВ рдЖрдпрд╛рдд рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдЧрд▓реЗ рдЪрд░рдг рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><h2>  рдкреЛрд░реНрдЯрд▓ рд╕рд╛рдордЧреНрд░реА рдмрдирд╛рдирд╛ </h2><br>  рдкреЛрд░реНрдЯрд▓ рдХреЗ рджреВрд╕рд░реА рддрд░рдл рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЕрдкрдиреА рд╕рд╛рдордЧреНрд░реА рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╕рд╛рдордЧреНрд░реА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдирдИ рд╕рд╛рдордЧреНрд░реА рдмрдирд╛рдПрдВ (рдореИрдВрдиреЗ рдЗрд╕реЗ <b>MAT_PortalBase</b> рдХрд╣рд╛ рд╣реИ): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7b0/402/a9c/7b0402a9cd6c6d62438e06fa3a7cd1f4.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dea/96c/a1b/dea96ca1b613a92acc7ca35e0bbe44b1.png"></div><br>  рдЕрдм рдЗрд╕реЗ рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЧреНрд░рд╛рдл рдмрдирд╛рдПрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cfe/4fa/c17/cfe4fac175e5e399c9e615a6afd0b800.jpg"></div><br>  рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рд╕рд╛рдордЧреНрд░реА рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ: <br><br><ul><li>  <b>FadeColor</b> рд░рдВрдЧ рд╣реИ рдЬреЛ рдкреЛрд░реНрдЯрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ рдЬрдм рдпрд╣ рдмрд╣реБрдд рджреВрд░ рд╣реИред  рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ рд╕рднреА рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЛ рд░реЗрдВрдбрд░ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдкреНрд▓реЗрдпрд░ / рдХреИрдорд░рд╛ рджреВрд░ рд╣реЛрдиреЗ рдкрд░ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЛ рдЕрд╕реНрдкрд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВред </li><li>  рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдХрд┐рддрдирд╛ рджреВрд░ рд╣реИ, рдореИрдВ рдХреИрдорд░рд╛ рд╕реНрдерд┐рддрд┐ рдФрд░ рдЕрднрд┐рдиреЗрддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдмреАрдЪ рдХреА <b>рджреВрд░реА</b> рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реВрдВред  рдлрд┐рд░ рдореИрдВ рдЙрд╕ рдЕрдзрд┐рдХрддрдо рдореВрд▓реНрдп рд╕реЗ рджреВрд░реА рдХреЛ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдореИрдВ рддреБрд▓рдирд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЕрдзрд┐рдХрддрдо I рд╕реЗрдЯ 2000 рд╣реИ, рдФрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗ рджреВрд░реА 1000 рд╣реИ, рддреЛ рд╣рдореЗрдВ 0.5 рдорд┐рд▓рддрд╛ рд╣реИред  рдпрджрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдЖрдЧреЗ рд╣реИ, рддреЛ рдореБрдЭреЗ 1 рд╕реЗ рдЕрдзрд┐рдХ рдореВрд▓реНрдп рдорд┐рд▓реЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЗрд╕реЗ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрддреГрдкреНрдд рдиреЛрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред  рдЕрдЧрд▓рд╛ рд╕реНрдореВрдерд╕реНрдЯреЗрдк рдиреЛрдб рдЖрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рджреВрд░реА рдХреЛ рдврд╛рд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдкреЛрд░реНрдЯрд▓ рдЫрд╛рдпрд╛рдВрдХрди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдЬрдм рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд░реАрдм рд╣реЛ, рдЫрд╛рдпрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рдПред </li><li>  рдореИрдВ рд╢реЗрдбрд┐рдВрдЧ рд░рдВрдЧ рдФрд░ <b>рдмрдирд╛рд╡рдЯ</b> рдХреЛ рдорд┐рд╢реНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <b>Lerp</b> рдиреЛрдб рдХреЗ рд▓рд┐рдП рдЕрд▓реНрдлрд╛ рдЪреИрдирд▓ рдорд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рджреВрд░реА рдХреА рдЧрдгрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ рдЬреЛ рдкреЛрд░реНрдЯрд▓ рд▓рдХреНрд╖реНрдп рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдЧрд╛ред </li><li>  рдЕрдВрдд рдореЗрдВ, рдореИрдВ рдПрдХ рдореБрдЦреМрдЯрд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд╡рд╛рдИ рдШрдЯрдХ рдХреЛ рдЕрд▓рдЧ рдХрд░рддрд╛ рд╣реВрдВ рдЬреЛ рдЖрдкрдХреЛ рдпрд╣ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдЬрд╛рд▓ рдХреЗ рдХреМрди рд╕реЗ рдХреЛрдиреЗ рдХреЛ рдзрдХреНрдХрд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдореБрдЭреЗ рдЗрд╕ рдорд╛рд╕реНрдХ рдХреЛ рдЙрд╕ рдкреНрд░рддрд┐рдХрд░реНрд╖рдг рд░рд╛рд╢рд┐ рд╕реЗ рдЧреБрдгрд╛ рдХрд░рдирд╛ рд╣реИ рдЬрд┐рд╕рдХреА рдореБрдЭреЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдореИрдВ рдПрдХ рдирдХрд╛рд░рд╛рддреНрдордХ рдореВрд▓реНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ рддрд╛рдХрд┐ рдЬрдм рдХреЛрдиреЗ рдХреЗ рдорд╛рдирджрдВрдб рдХреЛ рдЧреБрдгрд╛ рд╕реЗ рдЧреБрдгрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдП, рддреЛ рд╡реЗ рд╡рд┐рдкрд░реАрдд рджрд┐рд╢рд╛ рдореЗрдВ рдЪрд▓рддреЗ рд╣реИрдВред </li></ul><br>  рдпрд╣ рд╕рдм рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рддреИрдпрд╛рд░-рд╕реЗ-рдЙрдкрдпреЛрдЧ рд╕рд╛рдордЧреНрд░реА рддреИрдпрд╛рд░ рдХреАред <br><br><h2>  рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдореЗрдВ рдПрдХ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдмрдирд╛рдирд╛ </h2><br>  рдЖрдЗрдП рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдПрдХ рдирдпрд╛ рдЦрд╛рдХрд╛ рддреИрдпрд╛рд░ рдХрд░реЗрдВред  рд╕рд╛рдордЧреНрд░реА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдХреНрд▓рд╛рд╕ рдЪреБрдиреЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ead/28b/5a2/ead28b5a23369c2c86a076ec8bb1dda0.png"></div><br>  рдЕрдм рдкреЛрд░реНрдЯрд▓ рд╡рд░реНрдЧ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдлрд╝реАрд▓реНрдб рдореЗрдВ "рдкреЛрд░реНрдЯрд▓" рджрд░реНрдЬ рдХрд░реЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd7/da4/555/bd7da4555cff2dc953ab3b0b0f4d1057.png"></div><br>  рдпрджрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рдЦреБрд▓рд╛ рди рд╣реЛ рддреЛ рдмреНрд▓реВрдЯреВрде рдЦреЛрд▓реЗрдВред  рдШрдЯрдХреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрджрд╛рдиреБрдХреНрд░рдо рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/73c/34c/308/73c34c308a70f644759dc9057b0facd2.png"></div><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдЙрдореНрдореАрдж рдХреА рдереА, рдПрдХ рд░реВрдЯ рдХрдВрдкреЛрдиреЗрдВрдЯ рдФрд░ рдкреЛрд░реНрдЯрд▓ рд░реВрдЯ рд╣реИред  рдЖрдЗрдП PortalRootComponent рдореЗрдВ рдПрдХ рд╕реНрдерд┐рд░ рдореЗрд╖ рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдкрд┐рдЫрд▓реЗ рдЪрд░рдг рдореЗрдВ рдмрдирд╛рдИ рдЧрдИ рдЬрд╛рд▓реА рдХреЛ рдЗрд╕рдореЗрдВ рд▓реЛрдб рдХрд░реЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa4/ef3/11d/fa4ef311d11c803afc565060a9902c24.jpg"></div><br><hr><br>  рд╣рдо рдЯрдХрд░рд╛рд╡ рдмреЙрдХреНрд╕ рднреА рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреЛрд░реНрдЯрд▓ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рдЕрдВрджрд░ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b0/28f/df6/0b028fdf696598f6b3eca9af3049caa1.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2a/85d/747/c2a85d747c8b76900cae32e9f9cc1a59.png"></div><br>  рдЯрдХрд░рд╛рд╡ рдмреЙрдХреНрд╕ рдореБрдЦреНрдп рд░реВрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рджреГрд╢реНрдп рдШрдЯрдХ рдХреЗ рдиреАрдЪреЗ рд╣реИ, рдФрд░ рдкреЛрд░реНрдЯрд▓ рд░реВрдЯ рдХреЗ рддрд╣рдд рдирд╣реАрдВред  рдореИрдВрдиреЗ рдкреЛрд░реНрдЯрд▓ рдкрд░ рд╕реНрддрд░реЛрдВ рдХреЛ рдЕрдзрд┐рдХ рджреГрд╢реНрдпрдорд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрдЗрдХрди (рдмрд┐рд▓рдмреЛрд░реНрдб) рдФрд░ рдПрдХ рддреАрд░ рдШрдЯрдХ рднреА рдЬреЛрдбрд╝рд╛ред  рдмреЗрд╢рдХ, рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред <br><br>  рдЕрдм рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рджреЛ рдЪрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ - рдПрдХ рдкреНрд░рдХрд╛рд░ <b>рдЕрднрд┐рдиреЗрддрд╛ рдХрд╛ рд╣реЛрдЧрд╛</b> рдФрд░ рдирд╛рдо <b>рдкреЛрд░реНрдЯрд▓рдЯрд╛рд░реНрдЧреЗрдЯ рдХрд╛</b> , рджреВрд╕рд░рд╛ рдкреНрд░рдХрд╛рд░ <b>рдбрд╛рдпрдирд╛рдорд┐рдХ рдордЯреЗрд░рд┐рдпрд▓ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХрд╛ рд╣реИ</b> рдФрд░ рдЗрд╕реЗ <b>рдореИрдЯреЗрд░рд┐рдпрд▓</b> <b>рдЗрдирд╕реНрдЯреЗрдВрд╕</b> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкреЛрд░реНрдЯрд▓рдЯрд╛рд░реНрдЧ рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдХрд╛ рд╕рдВрджрд░реНрдн рд╣реЛрдЧрд╛ рдЬреЛ рдкреЛрд░реНрдЯрд▓ рд╡рд┐рдВрдбреЛ рджреЗрдЦ рд░рд╣реА рд╣реИ (рдЗрд╕рд▓рд┐рдП, рдЪрд░ рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рдПрдХ рдЦреБрд▓реА рдЖрдВрдЦ рдХреЗ рдЖрдЗрдХрди рдХреЗ рд╕рд╛рде) рддрд╛рдХрд┐ рд╣рдо рдЗрд╕реЗ рддрдм рдмрджрд▓ рд╕рдХреЗрдВ рдЬрдм рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рд╕реНрддрд░ рдкрд░ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реЛред  MaterialInstance рдбрд╛рдпрдиреЗрдорд┐рдХ рдордЯреЗрд░рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╕реНрдЯреЛрд░ рдХрд░реЗрдЧрд╛ рддрд╛рдХрд┐ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╣рдо рдордХреНрдЦреА рдкрд░ рдкреЛрд░реНрдЯрд▓ рдХреЗ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░ рд╕рдХреЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/474/0b9/772/4740b9772dfc7ce30cda63300f1682a5.png"></div><br>  рд╣рдореЗрдВ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдИрд╡реЗрдВрдЯ рдиреЛрдбреНрд╕ рднреА рдЬреЛрдбрд╝рдиреЗ рд╣реЛрдВрдЧреЗред  <b>рдИрд╡реЗрдВрдЯ рдЧреНрд░рд╛рдлрд╝</b> рдореЗрдВ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдореЗрдиреВ рдЦреЛрд▓рдиреЗ рдФрд░ <b>рдИрд╡реЗрдВрдЯ</b> рдХреЗ рдирд╛рдо рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bc2/719/d22/bc2719d224381581c9bdb8ea5ce7c365.png"></div><br>  рдФрд░ рдпрд╣рд╛рдБ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f4/400/24f/0f440024f5c322c6640609bb8d20bcad.jpg"></div><br><ul><li>  <b>Play Play</b> : рдпрд╣рд╛рдВ рд╣рдо рдЗрд╕реЗ рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рд▓рд┐рдВрдХ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯрд▓ рдХреЗ рдореВрд▓ рдлрд╝рдВрдХреНрд╢рди SetTarget () рдХреЛ рдХрд╣рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдмрд╛рдж рдореЗрдВ SceneCapture рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдлрд┐рд░ рд╣рдо рдПрдХ рдирдпрд╛ рдбрд╛рдпрдирд╛рдорд┐рдХ рдордЯреЗрд░рд┐рдпрд▓ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ MaterialInstance рд╡реИрд░рд┐рдПрдмрд▓ рдХрд╛ рдорд╛рди рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕ рдирдИ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде, рд╣рдо рдЗрд╕реЗ рд╕реНрдЯреИрдЯрд┐рдХ рдореЗрд╢ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЛ рд╕реМрдВрдк рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдВрдиреЗ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ рдбрдореА рдмрдирд╛рд╡рдЯ рднреА рджрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣реИред </li><li>  <b>Clear RTT</b> : рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдкреЛрд░реНрдЯрд▓ рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╕реМрдВрдкреЗ рдЧрдП рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдХреА рдмрдирд╛рд╡рдЯ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕реЗ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рджреНрд╡рд╛рд░рд╛ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  <b>рд╕реЗрдЯ RTT</b> : рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдкреЛрд░реНрдЯрд▓ рдХреА рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕реЗ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рджреНрд╡рд╛рд░рд╛ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li></ul><br>  рдЕрдм рддрдХ рд╣рдо рдмреНрд▓реВрдЯреВрде рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо рдмрд╛рдж рдореЗрдВ рдЯрд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдВрдЧреЗред <br><br><h2>  рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ </h2><br>  рдЗрд╕рд▓рд┐рдП, рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕рднреА рдореВрд▓ рддрддреНрд╡ рд╣реИрдВ рдЬрд┐рдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдПрдПрдХреЗрдЖрд░ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реА рдПрдХ рдирдИ рдХрдХреНрд╖рд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ, рдЬреЛ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рд╣реЛрдЧреАред  рдЖрдкрдХреЛ рдЕрдкрдиреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рд╡рд░реНрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдХреБрдЫ рдкрд╣рд▓реБрдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЛ рдмрд╣реБрдд рд╕рд░рд▓ рдХрд░рддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЧрдП рдХрд╛рд░реНрдпреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рджреА рдЧрдИ рд╣реИ: <br><br><ul><li>  рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдПрдХ <b>рдЦрд┐рд▓рд╛рдбрд╝реА рд╣реИ рдЬрд┐рд╕реЗ рдкреНрд▓реЗрдпрд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ</b> рдФрд░ рдЦреЗрд▓ рд╕реНрддрд░ рдХреЗ рднреАрддрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд░рд╛рдЬреНрдп рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╕рдВрд▓рдЧреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  <b>рдЯрд╛рд░рдЧреЗрдЯ рдкреЛрд░реНрдЯрд▓</b> рдмрдирд╛рдПрдБ рдФрд░ рдирд╖реНрдЯ рдХрд░реЗрдВред  рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдПрдХ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдмрдирд╛рд╡рдЯ рдмрдирд╛рдиреЗ рдХрд╛ рд╣реИ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрдХреНрд░реАрди рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЦреЗрд▓ рдХреЗ рджреМрд░рд╛рди рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдмрджрд▓рддреЗ рд╕рдордп, рдкреНрд░рдмрдВрдзрдХ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдЖрдХрд╛рд░ рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛ред </li><li>  рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдкреЛрд░реНрдЯрд▓ рд░реЗрдВрдбрд░ рд╕реНрддрд░ рдХреЛ <b>рдвреВрдВрдврддрд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрджреНрдпрддрди</b> рдХрд░рддрд╛ <b>рд╣реИ рдФрд░</b> рдЙрдиреНрд╣реЗрдВ рдПрдХ рдЯрд╛рд░рдЧреЗрдЯ рдЯрд╛рд░рдЧреЗрдЯ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рдХрд╛рд░реНрдп рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╕реНрддрд░ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрддрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛ рд╕рдХреЗред  рдЬрдм рдПрдХ рдирдпрд╛ рдЕрднрд┐рдиреЗрддрд╛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рдПрдХ рдмрдирд╛рд╡рдЯ рдорд┐рд▓рдиреА рдЪрд╛рд╣рд┐рдПред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рд░реЗрдВрдбрд░ рд▓рдХреНрд╖реНрдп рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреНрд░рдмрдВрдзрдХ рдЕрдкрдиреЗ рдЖрдк рдПрдХ рдирдпрд╛ рднреА рдЕрд╕рд╛рдЗрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдмрдЬрд╛рдп рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдкреНрд░рдмрдВрдзрдХ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рдХреЗред </li><li>  <b>SceneCapture</b> рдШрдЯрдХ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ <b>рд╕реЗ</b> рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдЖрдкрдХреЛ рд╣рд░ рдмрд╛рд░ рдЬрдм рд╣рдо рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд╕реНрддрд░ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </li><li>  рдЬрдм рдкреЛрд░реНрдЯрд▓ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ <b>рдЯреЗрд▓реАрдкреЛрд░реНрдЯ</b> рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИред  рд╕реНрд░реЛрдд рдФрд░ рдЧрдВрддрд╡реНрдп рджреЛрдиреЛрдВ (рдпрджрд┐ рдХреЛрдИ рд╣реЛ) рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рддрд╛рдХрд┐ рд╕рдВрдХреНрд░рдордг рдмрд┐рдирд╛ рдЬреЛрдбрд╝реЛрдВ рдХреЗ рд╣реЛ рд╕рдХреЗред </li><li>  рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЛ <b>рдЕрдХреНрд╖рд░ рдЯрд┐рдХ ()</b> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЕрдВрдд рдореЗрдВ <b>рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛</b> рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдХреИрдорд░реЗ рд╕рд╣рд┐рдд рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЕрдкрдбреЗрдЯ рд╣реЛ рдЬрд╛рдПред  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕реНрдХреНрд░реАрди рдкрд░ рд╕рдм рдХреБрдЫ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд╣реИ рдФрд░ рдЗрдВрдЬрди рджреНрд╡рд╛рд░рд╛ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди рдПрдХ рдлреНрд░реЗрдо рдХреА рджреЗрд░реА рд╕реЗ рдмрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br>  рдЖрдЗрдП рдПрдХ рдирдЬрд░ рдбрд╛рд▓рддреЗ рд╣реИрдВ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рд╣реЗрдбрд░ рдкрд░: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> once #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"CoreMinimal.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"GameFramework/Actor.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ExedrePortalManager.generated.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//Forward declaration class AExedrePlayerController; class AExedrePortal; class UExedreScriptedTexture; UCLASS() class EXEDRE_API AExedrePortalManager : public AActor { GENERATED_UCLASS_BODY() public: AExedrePortalManager(); //Called by a Portal actor when wanting to teleport something UFUNCTION(BlueprintCallable, Category="Portal") void RequestTeleportByPortal( AExedrePortal* Portal, AActor* TargetToTeleport ); //Save a reference to the PlayerControler void SetControllerOwner( AExedrePlayerController* NewOwner ); //Various setup that happens during spawn void Init(); //Manual Tick void Update( float DeltaTime ); //Find all the portals in world and update them //returns the most valid/usable one for the Player AExedrePortal* UpdatePortalsInWorld(); //Update SceneCapture void UpdateCapture( AExedrePortal* Portal ); //Accessor for Debug purpose UTexture* GetPortalTexture(); //Accessor for Debug purpose FTransform GetCameraTransform(); private: //Function to create the Portal render target void GeneratePortalTexture(); UPROPERTY() USceneCaptureComponent2D* SceneCapture; //Custom class, can be replaced by a "UCanvasRenderTarget2D" instead //See : https://api.unrealengine.com/INT/API/Runtime/Engine/Engine/UCanvasRenderTarget2D/index.html UPROPERTY() UExedreScriptedTexture* PortalTexture; UPROPERTY() AExedrePlayerController* ControllerOwner; int32 PreviousScreenSizeX; int32 PreviousScreenSizeY; float UpdateDelay; };</span></span></span></span></code> </pre> <br><hr><br>  рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рджрд┐рдЦрд╛рдКрдВрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдкреНрд▓реЗрдпрд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреНрд▓рд╛рд╕ рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдмрд┐рдЧрдкреНрд▓реЗ () рдлрд╝рдВрдХреНрд╢рди рд╕реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"> FActorSpawnParameters SpawnParams; PortalManager = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; PortalManager = GetWorld()-&gt;SpawnActor&lt;AExedrePortalManager&gt;( AExedrePortalManager::StaticClass(), FVector::ZeroVector, FRotator::ZeroRotator, SpawnParams); PortalManager-&gt;AttachToActor( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, FAttachmentTransformRules::SnapToTargetIncludingScale); PortalManager-&gt;SetControllerOwner( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ); PortalManager-&gt;Init();</code> </pre> <br>  рдЗрд╕рд▓рд┐рдП, рд╣рдо рдПрдХ рдЕрднрд┐рдиреЗрддрд╛ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдирд┐рдпрдВрддреНрд░рдХ (рдпрд╣) рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рд▓рд┐рдВрдХ рдХреЛ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдЗрдирд┐рдЯ () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдпрд╣ рднреА рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╣рдо рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рдЪрд░рд┐рддреНрд░ рд╡рд░реНрдЧ рд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedreCharacter::TickActor( <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> DeltaTime, <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> ELevelTick TickType, FActorTickFunction&amp; ThisTickFunction ) { Super::TickActor( DeltaTime, TickType, ThisTickFunction ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( UGameplayStatics::GetPlayerController(GetWorld(), <span class="hljs-number"><span class="hljs-number">0</span></span>) != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { AExedrePlayerController* EPC = Cast&lt;AExedrePlayerController&gt;( UGameplayStatics::GetPlayerController(GetWorld(), <span class="hljs-number"><span class="hljs-number">0</span></span>) ); EPC-&gt;PortalManager-&gt;Update( DeltaTime ); } }</code> </pre> <br>  рдФрд░ рдпрд╣рд╛рдБ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рд╣реИред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЯрд┐рдХ рдЕрдХреНрд╖рдо рд╣реИ, рдлрд┐рд░ рд╕реЗ рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="cpp hljs">AExedrePortalManager::AExedrePortalManager(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FObjectInitializer&amp; ObjectInitializer) : Super(ObjectInitializer) { PrimaryActorTick.bCanEverTick = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; PortalTexture = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; UpdateDelay = <span class="hljs-number"><span class="hljs-number">1.1f</span></span>; PreviousScreenSizeX = <span class="hljs-number"><span class="hljs-number">0</span></span>; PreviousScreenSizeY = <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br><hr><br>  рдпрд╣рд╛рдВ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рдкрд╛рдиреЗ / рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рдХрд╛рд░реНрдп рд╣реИрдВ (рдЙрд╕рдХреЗ рдмрд╛рдж рд╣рдо рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬреЛрдВ рдкрд░ рдЖрдЧреЗ рдмрдврд╝реЗрдВрдЧреЗ): <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::SetControllerOwner( AExedrePlayerController* NewOwner ) { ControllerOwner = NewOwner; } FTransform AExedrePortalManager::GetCameraTransform() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( SceneCapture != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SceneCapture-&gt;GetComponentTransform(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FTransform(); } } UTexture* AExedrePortalManager::GetPortalTexture() { <span class="hljs-comment"><span class="hljs-comment">//Portal Texture is a custom component class that embed a UCanvasRenderTraget2D //The GetTexture() simply returns the RenderTarget contained in that class. //IsValidLowLevel() is used here as a way to ensure the Texture has not been destroyed or garbage collected. if( PortalTexture != nullptr &amp;&amp; PortalTexture-&gt;IsValidLowLevel() ) { return PortalTexture-&gt;GetTexture(); } else { return nullptr; } }</span></span></code> </pre> <br><hr><br>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдкрд╣рд▓реА рдмрд╛рдд рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <b>Init ()</b> рдлрд╝рдВрдХреНрд╢рди рд╣реИред <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп рд╕реАрдирдХреИрдкреНрдЯреНрдпреЛрд░ рдШрдЯрдХ (рдЕрд░реНрдерд╛рдд, рдКрдкрд░ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдХреИрдкреНрдЪрд░ рдбрд┐рд╡рд╛рдЗрд╕) рдмрдирд╛рдирд╛ рдФрд░ рдЗрд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдПрдХ рдирдП рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдЗрд╕ рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рдШрдЯрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕рдХреЗ рдкрдВрдЬреАрдХрд░рдг рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдлрд┐рд░ рд╣рдо рдЗрд╕ рдХреИрдкреНрдЪрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдЧреБрдг рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрд▓реНрд▓реЗрдЦ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧреБрдг:</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bCaptureEveryFrame = false</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рд╣рдо рдпрд╣ рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЬрдм рд╣рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛ, рддреЛ рд╣рдо рдЗрд╕реЗ рдЪрд╛рд▓реВ рдХрд░ рджреЗрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВрдЧреЗред</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bEnableClipPlane = true</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдкреЛрд░реНрдЯрд▓ рдХреИрдкреНрдЪрд░ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдкрддреНрддрд┐ред</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bUseCustomProjectionMatrix = true</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдпрд╣ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣рдореЗрдВ рдХреИрдкреНрдЪрд░ рдкреНрд░реЛрдЬреЗрдХреНрд╢рди рдХреЛ рдЕрдкрдиреЗ рд╕реЗ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдкреНрдЪрд░рд╕реЛрд░реНрд╕ = ESceneCaptureSource :: SCS_SceneColorSceneDepth</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдпрд╣ рдореЛрдб рдереЛрдбрд╝рд╛ рдорд╣рдВрдЧрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд░реНрдпрд╛рдкреНрдд рдорд╛рддреНрд░рд╛ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢реЗрд╖ рдЧреБрдг рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдкреЛрд╕реНрдЯ-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдорд╛рдкрджрдВрдбреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╡реЗ рдЧреБрдгрд╡рддреНрддрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рддрд░реАрдХрд╛ рд╣реИрдВ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░рддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдВрддрд┐рдо рднрд╛рдЧ рдЙрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдмрдирд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо рдиреАрдЪреЗ рджреЗрдЦреЗрдВрдЧреЗред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::Init() { <span class="hljs-comment"><span class="hljs-comment">//------------------------------------------------ //Create Camera //------------------------------------------------ SceneCapture = NewObject&lt;USceneCaptureComponent2D&gt;(this, USceneCaptureComponent2D::StaticClass(), *FString("PortalSceneCapture")); SceneCapture-&gt;AttachToComponent( GetRootComponent(), FAttachmentTransformRules::SnapToTargetIncludingScale ); SceneCapture-&gt;RegisterComponent(); SceneCapture-&gt;bCaptureEveryFrame = false; SceneCapture-&gt;bCaptureOnMovement = false; SceneCapture-&gt;LODDistanceFactor = 3; //Force bigger LODs for faster computations SceneCapture-&gt;TextureTarget = nullptr; SceneCapture-&gt;bEnableClipPlane = true; SceneCapture-&gt;bUseCustomProjectionMatrix = true; SceneCapture-&gt;CaptureSource = ESceneCaptureSource::SCS_SceneColorSceneDepth; //Setup Post-Process of SceneCapture (optimization : disable Motion Blur, etc) FPostProcessSettings CaptureSettings; CaptureSettings.bOverride_AmbientOcclusionQuality = true; CaptureSettings.bOverride_MotionBlurAmount = true; CaptureSettings.bOverride_SceneFringeIntensity = true; CaptureSettings.bOverride_GrainIntensity = true; CaptureSettings.bOverride_ScreenSpaceReflectionQuality = true; CaptureSettings.AmbientOcclusionQuality = 0.0f; //0=lowest quality..100=maximum quality CaptureSettings.MotionBlurAmount = 0.0f; //0 = disabled CaptureSettings.SceneFringeIntensity = 0.0f; //0 = disabled CaptureSettings.GrainIntensity = 0.0f; //0 = disabled CaptureSettings.ScreenSpaceReflectionQuality = 0.0f; //0 = disabled CaptureSettings.bOverride_ScreenPercentage = true; CaptureSettings.ScreenPercentage = 100.0f; SceneCapture-&gt;PostProcessSettings = CaptureSettings; //------------------------------------------------ //Create RTT Buffer //------------------------------------------------ GeneratePortalTexture(); }</span></span></code> </pre> <br><hr><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeneratePortalTexture ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рдРрд╕рд╛ рдлрдВрдХреНрд╢рди рд╣реИ рдЬрд┐рд╕реЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрдбрд╝рдиреЗ рдкрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдкрдХреЛ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдЯреЗрдХреНрд╕рдЪрд░ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдлрдВрдХреНрд╢рди рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рдЕрдкрдЧреНрд░реЗрдб рдХреЗ рджреМрд░рд╛рди рднреА рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рд╡реНрдпреВрдкреЛрд░реНрдЯ рдХреЗ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреА рдЖрдВрддрд░рд┐рдХ рдЬрд╛рдВрдЪ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЕрджреНрдпрддрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВрдиреЗ UCanvasRenderTarget2D рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрд╡рд░рдг рд╡рд░реНрдЧ рдмрдирд╛рдпрд╛ред рдореИрдВрдиреЗ рдЗрд╕реЗ ExedreScriptedTexture рдХрд╣рд╛ рд╣реИ, рдпрд╣ рдПрдХ рдШрдЯрдХ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рдЕрднрд┐рдиреЗрддрд╛ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдореИрдВрдиреЗ рдЗрд╕ рд╡рд░реНрдЧ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрди рдЕрднрд┐рдиреЗрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд▓рдХреНрд╖реНрдп рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдХрд╛рд░реНрдп рд╣реИрдВред рд╡рд╣ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдХрд╛ рдЙрдЪрд┐рдд рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдореЗрд░реЗ рдЕрдкрдиреЗ рдпреВрдЖрдИ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдЕрдиреБрдХреВрд▓ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдПрдХ рдирд┐рдпрдорд┐рдд рд░реЗрдВрдбрд░рдЯрд╛рд░реНрдЧреЗрдЯ 2 рдбреА рдмрдирд╛рд╡рдЯ рдкрд░реНрдпрд╛рдкреНрдд рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдЖрдк рдмрд╕ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::GeneratePortalTexture() { int32 CurrentSizeX = <span class="hljs-number"><span class="hljs-number">1920</span></span>; int32 CurrentSizeY = <span class="hljs-number"><span class="hljs-number">1080</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ControllerOwner != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { ControllerOwner-&gt;GetViewportSize(CurrentSizeX, CurrentSizeY); } CurrentSizeX = FMath::Clamp( <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(CurrentSizeX / <span class="hljs-number"><span class="hljs-number">1.7</span></span>), <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">1920</span></span>); <span class="hljs-comment"><span class="hljs-comment">//1920 / 1.5 = 1280 CurrentSizeY = FMath::Clamp( int(CurrentSizeY / 1.7), 128, 1080); if( CurrentSizeX == PreviousScreenSizeX &amp;&amp; CurrentSizeY == PreviousScreenSizeY ) { return; } PreviousScreenSizeX = CurrentSizeX; PreviousScreenSizeY = CurrentSizeY; //Cleanup existing RTT if( PortalTexture != nullptr &amp;&amp; PortalTexture-&gt;IsValidLowLevel() ) { PortalTexture-&gt;DestroyComponent(); GEngine-&gt;ForceGarbageCollection(); } //Create new RTT PortalTexture = nullptr; PortalTexture = NewObject&lt;UExedreScriptedTexture&gt;(this, UExedreScriptedTexture::StaticClass(), *FString("PortalRenderTarget")); PortalTexture-&gt;SizeX = CurrentSizeX; PortalTexture-&gt;SizeY = CurrentSizeY; //Custom properties of the UExedreScriptedTexture class PortalTexture-&gt;Gamma = 1.0f; PortalTexture-&gt;WrapModeX = 1; //Clamp PortalTexture-&gt;WrapModeY = 1; //Clamp PortalTexture-&gt;bDrawWidgets = false; PortalTexture-&gt;bGenerateMipMaps = false; PortalTexture-&gt;SetClearOnUpdate( false ); //Will be cleared by SceneCapture instead PortalTexture-&gt;Format = ERenderTargetFormat::RGBA16; //Needs 16b to get &gt;1 for Emissive PortalTexture-&gt;AttachToComponent( GetRootComponent(), FAttachmentTransformRules::SnapToTargetIncludingScale ); PortalTexture-&gt;RegisterComponent(); PortalTexture-&gt;SetOwner( this ); PortalTexture-&gt;Init(); PortalTexture-&gt;SetFilterMode( TextureFilter::TF_Bilinear ); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдореИрдВрдиреЗ рдЕрдкрдиреА рдЦреБрдж рдХреА рдХрдХреНрд╖рд╛ рдмрдирд╛рдИ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣рд╛рдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЧреБрдг рд╕рд╛рдорд╛рдиреНрдп рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдХреЗ рдЕрдиреБрдХреВрд▓ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдПред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХреИрдкреНрдЪрд░ рдХрд╣рд╛рдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рдЧреЗрдо рдореЗрдВ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдкреВрд░реЗ рдкреЛрд╕реНрдЯ-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рд╕реЗ рдкрд╣рд▓реЗ рд╣реЛрдЧрд╛, рдФрд░ рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдЬрд╛рдирдХрд╛рд░реА (рдмреНрд▓реВрдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП 1 рд╕реЗ рдКрдкрд░ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ) рдХреЗ рд╕рд╛рде рджреГрд╢реНрдп рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдореИрдВрдиреЗ RGBA16 рдкреНрд░рд╛рд░реВрдк рдХреЛ рдЪреБрдирд╛ (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕рдХрд╛ рдЕрдкрдирд╛ Enum рд╣реИ, рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рдмрдЬрд╛рдп ETextureRenderTargetFormat рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛)ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрди рд╕реНрд░реЛрдд рджреЗрдЦреЗрдВ:</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTextureRenderTarget2D</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ETextureRenderTargetFormat</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USceneCaptureComponent2D</font></font></a> </li></ul><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдЧреЗ рд╣рдо рдЕрджреНрдпрддрди рдХрд╛рд░реНрдпреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдореВрд▓ рдХрд╛рд░реНрдп рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ рдФрд░ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">GeneratePortalTexture () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рджреЗрд░реА рд╣реИ рдХрд┐ рд╡реНрдпреВрдкреЛрд░реНрдЯ рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓рддреЗ рд╕рдордп рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдиреЗ рд╕реЗ рдмрдЪреЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдВрдкрд╛рджрдХ рдореЗрдВ)ред </font><font style="vertical-align: inherit;">рдЦреЗрд▓ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рджреМрд░рд╛рди, рдЗрд╕ рджреЗрд░реА рдХреЛ рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::Update( <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> DeltaTime ) { <span class="hljs-comment"><span class="hljs-comment">//----------------------------------- //Generate Portal texture ? //----------------------------------- UpdateDelay += DeltaTime; if( UpdateDelay &gt; 1.0f ) { UpdateDelay = 0.0f; GeneratePortalTexture(); } //----------------------------------- //Find portals in the level and update them //----------------------------------- AExedrePortal* Portal = UpdatePortalsInWorld(); if( Portal != nullptr ) { UpdateCapture( Portal ); } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо </font><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рджреБрдирд┐рдпрд╛ рдореЗрдВ рдореМрдЬреВрдж рд╕рднреА рдкреЛрд░реНрдЯрд▓реНрд╕ (рд╕рднреА рд▓реЛрдб рдХрд┐рдП рдЧрдП рд╕реНрддрд░реЛрдВ рд╕рд╣рд┐рдд </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдЦреЛрдЬрдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font><b><font style="vertical-align: inherit;">UpdatePortalsInWorld ()</font></b><font style="vertical-align: inherit;"> рдХреЛ </font><font style="vertical-align: inherit;">рдХреЙрд▓ </font><font style="vertical-align: inherit;">рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдлрд╝рдВрдХреНрд╢рди рдпрд╣ рднреА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ "рд╕рдХреНрд░рд┐рдп" рд╣реИ, рдЕрд░реНрдерд╛рдд </font><font style="vertical-align: inherit;">рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рджрд┐рдЦрд╛рдИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рдореЗрдВ рдПрдХ рд╕рдХреНрд░рд┐рдп рдкреЛрд░реНрдЯрд▓ рдорд┐рд▓рддрд╛ рд╣реИ, рддреЛ рд╣рдо </font><font style="vertical-align: inherit;">UpdateCapture </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">() рдХрд╣рддреЗ рд╣реИрдВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЬреЛ SceneCapture рдШрдЯрдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред</font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рджреБрдирд┐рдпрд╛ рдЕрдкрдбреЗрдЯ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UpdatePortalsInWorld () рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдВрджрд░ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ </font><font style="vertical-align: inherit;">:</font></font><br><br><ol><li>   <b></b>   (    ) </li><li>   <b>iterator</b> ,         </li><li>     ,   ,    <b>ClearRTT()</b> ,    .    <b> </b> (,   ). </li><li>  ,     <b></b>  ,    ,     ,     . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреЛрд░реНрдЯрд▓ рдХреА рд╢реБрджреНрдзрддрд╛ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдЪреЗрдХ рд╕рд░рд▓ рд╣реИ: рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдирд┐рдХрдЯрддрдо рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡рд╣ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рдЕрдкрдиреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рд░рд┐рд╢реНрддреЗрджрд╛рд░реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рд▓реЗрдХрд┐рди, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкреАрдЫреЗ рд╕реНрдерд┐рдд рдкреЛрд░реНрдЯрд▓, рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЬрд╛рдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рдореИрдВ рдЕрдкрдиреЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рдЗрд╕ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХрд╛рдлреА рдореБрд╢реНрдХрд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред</font></font><br><br><pre> <code class="cpp hljs">AExedrePortal* AExedrePortalManager::UpdatePortalsInWorld() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ControllerOwner == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; } AExedreCharacter* Character = ControllerOwner-&gt;GetCharacter(); <span class="hljs-comment"><span class="hljs-comment">//----------------------------------- //Update Portal actors in the world (and active one if nearby) //----------------------------------- AExedrePortal* ActivePortal = nullptr; FVector PlayerLocation = Character-&gt;GetActorLocation(); FVector CameraLocation = Character-&gt;GetCameraComponent()-&gt;GetComponentLocation(); float Distance = 4096.0f; for( TActorIterator&lt;AExedrePortal&gt;ActorItr( GetWorld() ); ActorItr; ++ActorItr ) { AExedrePortal* Portal = *ActorItr; FVector PortalLocation = Portal-&gt;GetActorLocation(); FVector PortalNormal = -1 * Portal-&gt;GetActorForwardVector(); //Reset Portal Portal-&gt;ClearRTT(); Portal-&gt;SetActive( false ); //Find the closest Portal when the player is Standing in front of float NewDistance = FMath::Abs( FVector::Dist( PlayerLocation, PortalLocation ) ); if( NewDistance &lt; Distance ) { Distance = NewDistance; ActivePortal = Portal; } } return ActivePortal; }</span></span></code> </pre> <br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UpdateCapture ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдПрдХ рдЕрдкрдЧреНрд░реЗрдб рдлреАрдЪрд░ рд╣реИ рдЬреЛ рдкреЛрд░реНрдЯрд▓ рдХреЗ рджреВрд╕рд░реЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рд╕реЗ рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдореЗрдВ </font><font style="vertical-align: inherit;">рдХреИрд░реЗрдХреНрдЯрд░ рдФрд░ рдкреНрд▓реЗрдпрд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдВрдХ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд┐рд▓рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо </font><font style="vertical-align: inherit;">рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рдХреНрдпрд╛ рд╕рдм рдХреБрдЫ рд╕рд╣реА рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (рдкреЛрд░реНрдЯрд▓, рд╕реАрдирдХреИрдкреНрдЯреНрдпреЛрд░ рдШрдЯрдХ, рдкреНрд▓реЗрдпрд░)ред</font></font></li><li>   <b>Camera</b>    <b>Target</b>  . </li><li> <b></b>    ,     SceneCapture. </li><li>      SceneCapture     Target. </li><li> ,  SceneCapure  ,  ,   <b></b> . </li><li> <b> Render Target</b>  SceneCapture,  . </li><li>  <b> </b>  PlayerController. </li><li> ,    <b>Capture</b>  SceneCapture     . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдХрд┐рд╕реА рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд░рддреЗ рд╕рдордп, SceneCapture рдХреЗ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рдФрд░ рдирд┐рд░реНрджреЛрд╖ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдПрдХ рдкреНрд░рдореБрдЦ рддрддреНрд╡ рд╕реНрдерд╛рдиреАрдп рдЯрд╛рд░рдЧреЗрдЯ рд╕реНрдкреЗрд╕ рдореЗрдВ рдкреЛрд░реНрдЯрд▓ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рд░реЛрдЯреЗрд╢рди рдХрд╛ рд╕рд╣реА рдкрд░рд┐рд╡рд░реНрддрди рд╣реИред </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ConvertLocationToActorSpace () рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП, "рдЯреЗрд▓реАрдкреЛрд░реНрдЯрд┐рдВрдЧ рдПрдХреНрдЯрд░" рджреЗрдЦреЗрдВред </font></font></blockquote><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::UpdateCapture( AExedrePortal* Portal ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ControllerOwner == <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } AExedreCharacter* Character = ControllerOwner-&gt;GetCharacter(); <span class="hljs-comment"><span class="hljs-comment">//----------------------------------- //Update SceneCapture (discard if there is no active portal) //----------------------------------- if(SceneCapture != nullptr &amp;&amp; PortalTexture != nullptr &amp;&amp; Portal != nullptr &amp;&amp; Character != nullptr ) { UCameraComponent* PlayerCamera = Character-&gt;GetCameraComponent(); AActor* Target = Portal-&gt;GetTarget(); //Place the SceneCapture to the Target if( Target != nullptr ) { //------------------------------- //Compute new location in the space of the target actor //(which may not be aligned to world) //------------------------------- FVector NewLocation = UTool::ConvertLocationToActorSpace( PlayerCamera-&gt;GetComponentLocation(), Portal, Target ); SceneCapture-&gt;SetWorldLocation( NewLocation ); //------------------------------- //Compute new Rotation in the space of the //Target location //------------------------------- FTransform CameraTransform = PlayerCamera-&gt;GetComponentTransform(); FTransform SourceTransform = Portal-&gt;GetActorTransform(); FTransform TargetTransform = Target-&gt;GetActorTransform(); FQuat LocalQuat = SourceTransform.GetRotation().Inverse() * CameraTransform.GetRotation(); FQuat NewWorldQuat = TargetTransform.GetRotation() * LocalQuat; //Update SceneCapture rotation SceneCapture-&gt;SetWorldRotation( NewWorldQuat ); //------------------------------- //Clip Plane : to ignore objects between the //SceneCapture and the Target of the portal //------------------------------- SceneCapture-&gt;ClipPlaneNormal = Target-&gt;GetActorForwardVector(); SceneCapture-&gt;ClipPlaneBase = Target-&gt;GetActorLocation() + (SceneCapture-&gt;ClipPlaneNormal * -1.5f); //Offset to avoid visible pixel border } //Switch on the valid Portal Portal-&gt;SetActive( true ); //Assign the Render Target Portal-&gt;SetRTT( PortalTexture-&gt;GetTexture() ); SceneCapture-&gt;TextureTarget = PortalTexture-&gt;GetTexture(); //Get the Projection Matrix SceneCapture-&gt;CustomProjectionMatrix = ControllerOwner-&gt;GetCameraProjectionMatrix(); //Say Cheeeeese ! SceneCapture-&gt;CaptureScene(); } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдп </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetCameraProjectionMatrix ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрдХреНрд╖рд╛ рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ PlayerController рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рдореИрдВ рдЗрд╕реЗ рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдЬреЛрдбрд╝рд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:</font></font><br><br><pre> <code class="cpp hljs">FMatrix AExedrePlayerController::GetCameraProjectionMatrix() { FMatrix ProjectionMatrix; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( GetLocalPlayer() != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { FSceneViewProjectionData PlayerProjectionData; GetLocalPlayer()-&gt;GetProjectionData( GetLocalPlayer()-&gt;ViewportClient-&gt;Viewport, EStereoscopicPass::eSSP_FULL, PlayerProjectionData ); ProjectionMatrix = PlayerProjectionData.ProjectionMatrix; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ProjectionMatrix; }</code> </pre> <br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдВрдд рдореЗрдВ, рд╣рдореЗрдВ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдлрд╝рдВрдХреНрд╢рди рдкрд░ рдХреЙрд▓ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреЗрд▓реАрдкреЛрд░реНрдЯреЗрд╢рди рдХреЗ рдЖрдВрд╢рд┐рдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рдЖрд╡рд╢реНрдпрдХ рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рдЕрджреНрдпрддрди рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХреЗрд╡рд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рджреГрд╢реНрдп рдореЗрдВ рд╕рднреА рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдХрдиреЗрдХреНрдЯреЗрдб рдкреЛрд░реНрдЯрд▓реНрд╕ рд╣реИрдВ, рддреЛ рдПрдХ рд╕реЗ рджреВрд╕рд░реЗ рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╕рдордп, рд╣рдореЗрдВ рджреЛрдиреЛрдВ рдХреЛ рдПрдХ рдЯрд┐рдХ рдореЗрдВ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЕрдиреНрдпрдерд╛, рдЦрд┐рд▓рд╛рдбрд╝реА рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд░реЗрдЧрд╛ рдФрд░ рдкреЛрд░реНрдЯрд▓ рдХреЗ рджреВрд╕рд░реА рддрд░рдл рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рд▓рдХреНрд╖реНрдп рдкреЛрд░реНрдЯрд▓ рдЕрдЧрд▓реЗ рдлреНрд░реЗрдо / рдорд╛рдк рддрдХ рд╕рдХреНрд░рд┐рдп рдирд╣реАрдВ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд┐рдорд╛рди рдЬрд╛рд▓ рдХреА рдСрдлрд╕реЗрдЯ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рджреГрд╢реНрдп рдЕрдВрддрд░рд╛рд▓ рдмрдирд╛рдПрдЧрд╛ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдКрдкрд░ рджреЗрдЦрд╛ рдерд╛ред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::RequestTeleportByPortal( AExedrePortal* Portal, AActor* TargetToTeleport ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Portal != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> &amp;&amp; TargetToTeleport != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { Portal-&gt;TeleportActor( TargetToTeleport ); <span class="hljs-comment"><span class="hljs-comment">//----------------------------------- //Force update //----------------------------------- AExedrePortal* FuturePortal = UpdatePortalsInWorld(); if( FuturePortal != nullptr ) { FuturePortal-&gt;ForceTick(); //Force update before the player render its view since he just teleported UpdateCapture( FuturePortal ); } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдареАрдХ рд╣реИ, рдпрд╣ рд╣реИ, рд╣рдо рдЕрдВрдд рдореЗрдВ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рд╣реИ! </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦрд╛рдХрд╛ рдЦрддреНрдо рдХрд░реЛ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╕рд┐рд╕реНрдЯрдо рдХрд╛рдо рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рдЧрд╛рдпрдм рд╣реИ рдЯрд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/455/bd3/f0f/455bd3f0f3b7c9f4f3fb36d5d1ae85d0.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдордЧреНрд░реА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░ рд░рд╣реЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рддрд╛рдХрд┐ рдпрд╣ рд╕рдХреНрд░рд┐рдп рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рди рд░рд╣реЗред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдкреЛрд░реНрдЯрд▓ рд╡рд░реНрддрдорд╛рди рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рддреЛ рд╢реЗрд╖ рдЙрдкрд╛рдп рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред</font></font></li><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдорд░рд╛ рд╕реНрдерд╛рди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рдЪрд░рд┐рддреНрд░ рд╡рд░реНрдЧ рдорд┐рд▓рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд▓рд╛ рднрд╛рдЧ рдпрд╣ рдЬрд╛рдБрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреИрдорд░рд╛ рдкреЛрд░реНрдЯрд▓ рдХреЗ рдЯрдХреНрдХрд░ рдмреЙрдХреНрд╕ рдореЗрдВ рд╣реИ рдпрд╛ рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рд╣рдо рдкреЛрд░реНрдЯрд▓ рдЬрд╛рд▓ рдХреЛ рдЗрд╕рдХреА </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдордЧреНрд░реА рд╕реЗ рднрд░ рджреЗрддреЗ рд╣реИрдВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░рд╛ рднрд╛рдЧ рдЯрдХреНрдХрд░ рдмреЙрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рд╕реНрдерд╛рди рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬрд╛рдВрдЪрдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдпрд╣ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рдХреНрдпрд╛ рд╣рдо рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font></li><li>        ,   Portal manager,    <b> Teleport</b> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрд░реЗ рдЧреНрд░рд╛рдл рдХреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ, рдЖрдк рджреЛ рджрд┐рд▓рдЪрд╕реНрдк рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдиреЛрдЯрд┐рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдИрдПрд╕ рдкреНрд╡рд╛рдЗрдВрдЯ рдЗрдирд╕рд╛рдЗрдб рдмреЙрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЗрдЯ рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдореИрдВрдиреЗ рдЕрднреА рддрдХ рдЗрди рджреЛрдиреЛрдВ рдХрд╛рд░реНрдпреЛрдВ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдирд╣реАрдВ рдХреА рд╣реИред рдпреЗ рд╕реНрдерд┐рд░ рдХрд╛рд░реНрдп рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдореИрдВрдиреЗ рдЕрдкрдиреА рдХрдХреНрд╖рд╛ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдХрд╣реАрдВ рд╕реЗ рднреА рдмреБрд▓рд╛ рд╕рдХреЗрдВред рдпрд╣ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╕рд╣рд╛рдпрдХ рд╡рд░реНрдЧ рд╣реИред рдЗрди рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдХреЛрдб рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЖрдк рдЦреБрдж рддрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХрд╣рд╛рдВ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдирд╛ рд╣реИред рдпрджрд┐ рдЖрдкрдХреЛ рдкреЛрд░реНрдЯрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд╣рд░ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╕реАрдзреЗ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рд╡рд░реНрдЧ рдореЗрдВ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдореИрдВ рдЯрдХреНрдХрд░ рдмреЙрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рдкреЛрд░реНрдЯрд▓ рдЕрднрд┐рдиреЗрддрд╛ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЯрдХрд░рд╛рд╡ рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдореБрдЭреЗ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдирд╣реАрдВ рд▓рдЧ рд░рд╣рд╛ рдерд╛ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреЗрдЬрд╝ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдПрдХ рдлрд╛рдпрджрд╛ рд╣реИ: рдпрд╣ рдЕрднрд┐рдиреЗрддрд╛ рдХреЗ рд░реЛрдЯреЗрд╢рди рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsPointInsideBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( FVector Point, UBoxComponent* Box )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Box != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-comment"><span class="hljs-comment">//From : //https://stackoverflow.com/questions/52673935/check-if-3d-point-inside-a-box/52674010 FVector Center = Box-&gt;GetComponentLocation(); FVector Half = Box-&gt;GetScaledBoxExtent(); FVector DirectionX = Box-&gt;GetForwardVector(); FVector DirectionY = Box-&gt;GetRightVector(); FVector DirectionZ = Box-&gt;GetUpVector(); FVector Direction = Point - Center; bool IsInside = FMath::Abs( FVector::DotProduct( Direction, DirectionX ) ) &lt;= Half.X &amp;&amp; FMath::Abs( FVector::DotProduct( Direction, DirectionY ) ) &lt;= Half.Y &amp;&amp; FMath::Abs( FVector::DotProduct( Direction, DirectionZ ) ) &lt;= Half.Z; return IsInside; } else { return false; } }</span></span></code> </pre> <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AExedrePortalManager* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetPortalManager</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( AActor* Context )</span></span></span><span class="hljs-function"> </span></span>{ AExedrePortalManager* Manager = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-comment"><span class="hljs-comment">//Retrieve the World from the Context actor if( Context != nullptr &amp;&amp; Context-&gt;GetWorld() != nullptr ) { //Find PlayerController AExedrePlayerController* EPC = Cast&lt;AExedrePlayerController&gt;( Context-&gt;GetWorld()-&gt;GetFirstPlayerController() ); //Retrieve the Portal Manager if( EPC != nullptr &amp;&amp; EPC-&gt;GetPortalManager() != nullptr ) { Manager = EPC-&gt;GetPortalManager(); } } return Manager; }</span></span></code> </pre> <br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдЕрднрд┐рдиреЗрддрд╛ рдХрд╛ рдЕрдВрддрд┐рдо рднрд╛рдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ForceTick рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдлреЛрд░реНрд╕ рдЯрд┐рдХ рдЙрд╕ рд╕рдордп рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдХреЛрдИ рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд┐рд╕реА рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рджреВрд╕рд░реЗ рдкреЛрд░реНрдЯрд▓ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯрд▓ рдореИрдиреЗрдЬрд░ рдПрдХ рдЕрдкрдбреЗрдЯ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рдЕрднреА рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рдорд╛рди рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЖрдк рдЗрд╕рдХреЗ рд╕рд░рд▓реАрдХреГрдд рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf3/562/22e/cf356222e9d9c81dc38c57d021e51a90.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЯрд┐рдХ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рд▓рдЧрднрдЧ рдЙрд╕реА рд╕рдордп рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдХреЗрд╡рд▓ рдЕрдиреБрдХреНрд░рдо рдХреЗ рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреНрдпрд╛ рд╣рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдЧрднрдЧред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рдо рдЗрд╕ рд░реВрдк рдореЗрдВ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдгрд╛рд▓реА рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░реЗрдВрдЧреЗ:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c1/f2f/9f7/4c1f2f9f71e8ce213764d42dad1d20c3.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ gif рдореЗрдВ, рдЧреЗрдо рдХреА рдлреНрд░реЗрдо рджрд░ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП 6 FPS рддрдХ рд╕реАрдорд┐рдд рд╣реИред рдПрдХ рдлреНрд░реЗрдо рдореЗрдВ, рдХреНрдпреВрдм рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ </font><font style="vertical-align: inherit;">рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд▓рд┐рдкрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕реЗ рдЕрджреГрд╢реНрдп рдорд╛рдирддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЦреЛрдЬ рдХреЛ рд╡рд░реНрддрдорд╛рди рдлреНрд░реЗрдо рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдЕрдЧрд▓реЗ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдлреНрд░реЗрдо рдХреА рджреЗрд░реА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдмрд╛рдЙрдВрдбрд┐рдВрдЧ рдмреЙрдХреНрд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдХреЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкрдВрдЬреАрдХреГрдд рд╣реЛред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдпрд╣рд╛рдВ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рд╣рдо рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдПрдХ рдЬрдЧрд╣ рд╕реЗ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рд╕реЗ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд░рддреЗ рд╣реИрдВред</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрддрд░рди рдкреНрд░рдгрд╛рд▓реА рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рднреА рдЕрд╕рдВрднрд╡ рд╣реИ, рдЦрд╛рд╕рдХрд░ рдХреНрдпреЛрдВрдХрд┐ рдХрдИ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╕реНрддрд░ рдкрд░ рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдХрдо рдХрд░реЗрдЧрд╛ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВрдиреЗ рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди рдХреА рдХрдИ рдЯреАрдореЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рд▓реЗрдХрд┐рди рд╕рдХрд╛рд░рд╛рддреНрдордХ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рдорд┐рд▓реЗ: рд╕рднреА рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдПрдХ рдлреНрд░реЗрдо рдХреА рджреЗрд░реА рдмрдиреА рд░рд╣реАред рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рдПрдХ рд╡рд┐рд╕реНрддреГрдд рдЕрдзреНрдпрдпрди рдХреЗ рдмрд╛рдж, рдореИрдВ рдПрдХ рд╕рдорд╛рдзрд╛рди рдЦреЛрдЬрдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣рд╛ (рдкрде рд▓рдВрдмрд╛ рдерд╛ - рдЗрд╕рдореЗрдВ рдПрдХ рд╕рдкреНрддрд╛рд╣ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрд╛)! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реАрдирдХреИрдкрдЪрд░ рдШрдЯрдХ рдХреЗ рд╕рд╛рде, рдЖрдк рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдХреИрдорд░реЗ рдХреЛ рдмрддрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдордиреЗ рдПрдХ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫрд▓рд╛рдВрдЧ рд▓рдЧрд╛рдИ рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдХреИрдорд░реЗ рдХреА рд╕реНрдерд┐рддрд┐ рджреЛ рдлрд╝реНрд░реЗрдореЛрдВ рдХреЗ рдмреАрдЪ рдХреВрдж рдЧрдИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╣рдо рдкрд┐рдЫрд▓реЗ рдлреНрд░реЗрдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдорддрд┐рдиреЗ рдпрд╛ рд╕реАрдХреНрд╡реЗрдВрд╕рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдпрд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдХреИрдорд░реЗ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВ: рдЧрддрд┐ рдзреБрдВрдзрд▓рд╛ рдпрд╛ рдЪреМрд░рд╕рд╛рдИ рдкрд┐рдЫрд▓реЗ рдлреНрд░реЗрдо рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рджреЛ рдкрд╣рд▓реБрдУрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LocalPlayer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдпрд╣ рд╡рд░реНрдЧ рд╡рд┐рднрд┐рдиреНрди рдЬрд╛рдирдХрд╛рд░реА (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд╛ рд╡реНрдпреВрдкреЛрд░реНрдЯ) рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдВ рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдХреИрдорд░реЗ рдХреА рдкреНрд░рддрд┐рдкрд╛рджрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд▓реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓рд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдЬрдм рдХреЛрдИ рдЦрд┐рд▓рд╛рдбрд╝реА рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХреНрд▓рд╛рд╕ рд▓реЛрдХрд▓рдкреЗрдпрд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИред</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдмрдбрд╝рд╛ рдлрд╛рдпрджрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЗрдВрдЬрди рдХреА рд░реЗрдВрдбрд░рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди рдХреЗ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЕрдкрдбреЗрдЯ рдореЗрдВ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рдФрд░ рдЖрд╕рд╛рди рд╣реИред </font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд▓рд┐рдП рд╢реБрд░реБрдЖрдд рдХрд░рддреЗ рд╣реИрдВ рд▓реЛрдХрд▓рдкреЗрдпрд░ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рдПрдХ рдирдпрд╛ рд╡рд░реНрдЧ рдмрдирд╛рдиреЗ рдХреАред </font><font style="vertical-align: inherit;">рдиреАрдЪреЗ рдПрдХ рд╢реАрд░реНрд╖рдХ рд╣реИ рдЬреЛ рджреЛ рдореБрдЦреНрдп рдШрдЯрдХреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИ: рджреГрд╢реНрдп рд╡реНрдпреВрдкреЛрд░реНрдЯ рдЧрдгрдирд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ рдФрд░ рдХреИрдорд░рд╛ gluing рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдХрд╛рд░реНрдпред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> once #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"CoreMinimal.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Engine/LocalPlayer.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ExedreLocalPlayer.generated.h"</span></span></span><span class="hljs-meta"> UCLASS() class EXEDRE_API UExedreLocalPlayer : public ULocalPlayer { GENERATED_BODY() UExedreLocalPlayer(); public: FSceneView* CalcSceneView( class FSceneViewFamily* ViewFamily, FVector&amp; OutViewLocation, FRotator&amp; OutViewRotation, FViewport* Viewport, class FViewElementDrawer* ViewDrawer, EStereoscopicPass StereoPass) override; void PerformCameraCut(); private: bool bCameraCut; };</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Exedre.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ExedreLocalPlayer.h"</span></span></span><span class="hljs-meta"> UExedreLocalPlayer::UExedreLocalPlayer() { bCameraCut = false; } FSceneView* UExedreLocalPlayer::CalcSceneView( class FSceneViewFamily* ViewFamily, FVector&amp; OutViewLocation, FRotator&amp; OutViewRotation, FViewport* Viewport, class FViewElementDrawer* ViewDrawer, EStereoscopicPass StereoPass) { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// ULocalPlayer::CalcSceneView() use a ViewInitOptions to create // a FSceneView which contains a "bCameraCut" variable // See : H:\GitHub\UnrealEngine\Engine\Source\Runtime\Renderer\Private\SceneCaptureRendering.cpp // as well for bCameraCutThisFrame in USceneCaptureComponent2D FSceneView* View = Super::CalcSceneView(ViewFamily, OutViewLocation, OutViewRotation, Viewport, ViewDrawer, StereoPass ); if( bCameraCut ) { View-&gt;bCameraCut = true; bCameraCut = false; } return View; } void UExedreLocalPlayer::PerformCameraCut() { bCameraCut = true; }</span></span></span></span></code> </pre> <br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PerformCameraCut ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╕ рдмреВрд▓рд┐рдпрди рдорд╛рди рдХреЗ рд╕рд╛рде рдХреИрдорд░рд╛ рдХрдЯ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЬрдм рдЗрдВрдЬрди </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CalcSceneView ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рддреЛ рд╣рдо рдкрд╣рд▓реЗ рдореВрд▓ рдлрд╝рдВрдХреНрд╢рди рдЪрд▓рд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдлрд┐рд░ рд╣рдо рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдореЗрдВ рдЧреНрд▓реВрдЗрдВрдЧ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рд╛рдВ, рддреЛ рд╣рдо </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FSceneView</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдЕрдВрджрд░ рдХреИрдорд░рд╛ рдХрдЯ рдмреБрд▓рд┐рдпрди рдЪрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрдВрдЬрди рд░реЗрдВрдбрд░рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдлрд┐рд░ рдмреБрд▓рд┐рдпрди рдЪрд░ (рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ) рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░реЗрдВред</font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд▓реЗрдпрд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рд╕рд╛рдЗрдб рдкрд░, рдкрд░рд┐рд╡рд░реНрддрди рдиреНрдпреВрдирддрдо рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЖрдкрдХреЛ LocalPlayer рдХреЗ рдореВрд▓ рд╡рд░реНрдЧ рдХрд╛ рд▓рд┐рдВрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реАрд░реНрд╖ рд▓реЗрдЦ рдореЗрдВ рдПрдХ рдЪрд░ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛:</font></font><br><br><pre> <code class="cpp hljs"> UPROPERTY() UExedreLocalPlayer* LocalPlayer;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрдм </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeginPlay ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cpp hljs"> LocalPlayer = Cast&lt;UExedreLocalPlayer&gt;( GetLocalPlayer() );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореИрдВрдиреЗ рдХрдЯ рдХреЛ рдЬрд▓реНрдж рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрдВрдХреНрд╢рди рднреА рдЬреЛрдбрд╝рд╛: </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePlayerController::PerformCameraCut() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( LocalPlayer != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { LocalPlayer-&gt;PerformCameraCut(); } }</code> </pre> <br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдВрдд рдореЗрдВ, рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдлрд╝рдВрдХреНрд╢рди </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RequestTeleportByPortal () рдореЗрдВ,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдХреИрдорд░рд╛ рдХрдЯ рдЯреЗрд▓реАрдкреЛрд░реНрдЯреЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AExedrePortalManager::RequestTeleportByPortal( AExedrePortal* Portal, AActor* TargetToTeleport ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Portal != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> &amp;&amp; TargetToTeleport != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ControllerOwner != <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span> ) { ControllerOwner-&gt;PerformCameraCut(); } [...]</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рд╡рд╣ рд╕рдм рд╣реИ! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдорд░рд╛ рдХрдЯ рдХреЛ SceneCapture рдХреЗ рдЕрдкрдбреЗрдЯ рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╣реА рд╡рдЬрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╣реИред</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо </font></font></h2><br> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдм рд╣рдордиреЗ рдкреЛрд░реНрдЯрд▓реНрд╕ рдореЗрдВ рд╕реЛрдЪрдирд╛ рд╕реАрдЦ рд▓рд┐рдпрд╛ рд╣реИред </font></font></a></em> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рд╕рд┐рд╕реНрдЯрдо рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдЗрди рдЪреАрдЬреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a9/47f/229/5a947f2299f45d3deab4cfc258045cc1.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрджрд┐ рдЖрдкрдХреЛ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд░рд╣реА рд╣реИ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдВрдЪреЗрдВ: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдкреЛрд░реНрдЯрд▓ рдкреНрд░рдмрдВрдзрдХ рдареАрдХ рд╕реЗ рдмрдирд╛рдпрд╛ рдФрд░ рдЖрд░рдВрднрд┐рдХ рд╣реИред </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд░реЗрдВрдбрд░ рд▓рдХреНрд╖реНрдп рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдЖрдк рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рдордЧреНрд░реА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреЛрд░реНрдЯрд▓ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕рдХреНрд░рд┐рдп рдФрд░ рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╣реИрдВред </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреЛрд░реНрдЯрд▓реНрд╕ рдореЗрдВ рдПрдбрд┐рдЯрд░ рдореЗрдВ рдЯрд╛рд░реНрдЧреЗрдЯ рдПрдХреНрдЯрд░ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕реЗрдЯ рд╣реИред </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреНрдпреВ рдПрдВрдб рдП </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореБрдЭрд╕реЗ рдкреВрдЫреЗ рдЧрдП рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рд╕рд╡рд╛рд▓: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЗрд╕реЗ рдмреНрд▓рдВрдЯ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдФрд░ рд╕реА ++ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ? </font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рдХреЗ рдереЛрдХ рдХреЛ рджреЛ рдкрд╣рд▓реБрдУрдВ рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде, рдмреНрд▓рдВрдЯ рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрд╢рди рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ </font><font style="vertical-align: inherit;">рд╡рд╛рд▓рд╛ LocalPlayer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetProjectionData ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди </font><font style="vertical-align: inherit;">рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LocalPlayer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CalcSceneView ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди </font><font style="vertical-align: inherit;">, рдЬреЛ рдХрддрд░рди рдкреНрд░рдгрд╛рд▓реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрди рджреЛрдиреЛрдВ рдХрд╛рд░реНрдпреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рддреЛ рд╕реА ++ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдпрд╛ рдмреНрд▓реВрдкреНрд░рд┐рдВрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдиреНрд╣реЗрдВ рд╕реБрд▓рдн рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЬрди рд╕реНрд░реЛрдд рдХреЛрдб рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдореИрдВ рд╡реАрдЖрд░ рдореЗрдВ рдЗрд╕ рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ? </font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рдБ, рдЕрдзрд┐рдХрд╛рдВрд╢ рднрд╛рдЧ рдХреЗ рд▓рд┐рдПред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдХреНрд░реАрди рд╕реНрдкреЗрд╕ рдореЗрдВ рдЕрдЧрд▓-рдмрдЧрд▓ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рджреЛ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ (рдкреНрд░рддреНрдпреЗрдХ рдЖрдВрдЦ рдХреЗ рд▓рд┐рдП рдПрдХ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдФрд░ рдкреЛрд░реНрдЯрд▓ рд╕рд╛рдордЧреНрд░реА рдореЗрдВ рдорд╛рд╕реНрдХ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рд╡реАрдЖрд░ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдХреА рдЪреМрдбрд╝рд╛рдИ рдХреА рдЖрдзреА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдкрдХреЛ рд╕реНрдЯреАрд░рд┐рдпреЛрд╕реНрдХреЛрдкрд┐рдХ рдкреНрд░рднрд╛рд╡ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рджреВрд░реА (рдЖрдВрдЦреЛрдВ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА) рдХреЗ рд╕рд╛рде рд▓рдХреНрд╖реНрдп рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рд╕реАрдирдХреИрдкреНрдЯреНрдпреЛрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдкреНрд░рджрд░реНрд╢рди рд╣реЛрдЧреА, рдХреНрдпреЛрдВрдХрд┐ рдкреЛрд░реНрдЯрд▓ рдХреЗ рджреВрд╕рд░реЗ рдкрдХреНрд╖ рдХреЛ рджреЛ рдмрд╛рд░ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдХреЛрдИ рдЕрдиреНрдп рд╡рд╕реНрддреБ рдкреЛрд░реНрдЯрд▓ рдХреЛ рдкрд╛рд░ рдХрд░ рд╕рдХрддреА рд╣реИ?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрд░реЗ рдХреЛрдб рдореЗрдВ рдХреЛрдИ рдирд╣реАрдВ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕реЗ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рдмрдирд╛рдирд╛ рдЗрддрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИред рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреЛрд░реНрдЯрд▓ рдХреЛ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╡реЗ рдЗрд╕реЗ рдкрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВред </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рд╕рд┐рд╕реНрдЯрдо рд░рд┐рдХрд░реНрд╕рди (рдкреЛрд░реНрдЯрд▓ рдХреЗ рдЕрдВрджрд░ рдкреЛрд░реНрдЯрд▓) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдирд╣реАрдВ рд╣реИред рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯ рдФрд░ SceneCapture рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ рдХрд┐ рдХреМрди рд╕рд╛ рд░реЗрдВрдбрд░рдЯрд╛рд░реНрдЧ рдкрд╣рд▓реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рд╣реИ, рдФрд░ рдЗрд╕реА рддрд░рд╣ред рдпрд╣ рдХрд╛рдлреА рдХрдард┐рди рд╣реИ рдФрд░ рдореИрдВ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдореИрдВ рджреАрд╡рд╛рд░ рдХреЗ рдкрд╛рд╕ рдкреЛрд░реНрдЯрд▓ рдкрд╛рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдБрдХрд┐, рдореИрдВ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рджреЛ рддрд░реАрдХреЗ рджреЗрдЦрддрд╛ рд╣реВрдВ (рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд░реВрдк рд╕реЗ):</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рдЯрдХреНрдХрд░реЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВ рддрд╛рдХрд┐ рд╡рд╣ рджреАрд╡рд╛рд░реЛрдВ рд╕реЗ рдЧреБрдЬрд░ рд╕рдХреЗред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдХрдИ рджреБрд╖реНрдкреНрд░рднрд╛рд╡ рд╣реЛрдВрдЧреЗред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдПрдХ рдЫреЗрдж рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрдХрд░рд╛рд╡ рдкреНрд░рдгрд╛рд▓реА рдХреЛ рд╣реИрдХ рдХрд░реЗрдВ, рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЧреБрдЬрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрдВрдЬрди рдХреА рднреМрддрд┐рдХ рдкреНрд░рдгрд╛рд▓реА рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЬреЛ рдореИрдВ рдЬрд╛рдирддрд╛ рд╣реВрдБ, рд╕реНрддрд░ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╕реНрдерд┐рд░ рднреМрддрд┐рдХреА рдХреЛ рдЕрджреНрдпрддрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдХрд╛рдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдкрдХреЗ рдкреЛрд░реНрдЯрд▓реНрд╕ рд╕реНрдерд┐рд░ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдВрднрд╡рддрдГ рд╡рд┐рднрд┐рдиреНрди рдЯрдХрд░рд╛рд╡реЛрдВ рдХреЗ рдмреАрдЪ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрддрд░ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi448802/">https://habr.com/ru/post/hi448802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi448786/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдЕрдзреНрдпрд╛рдп 3 рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдлрд┐рдХреНрд╕реНрдЪрд░</a></li>
<li><a href="../hi448794/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЕрдзреНрдпрд╛рдп 5</a></li>
<li><a href="../hi448796/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди, рдЕрдзреНрдпрд╛рдп 6</a></li>
<li><a href="../hi448798/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде pytest рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдЕрдзреНрдпрд╛рдп 7</a></li>
<li><a href="../hi448800/index.html">.Vsconfig рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд╕рдВрдЧрдарди рдореЗрдВ рд╡рд┐рдЬрд╝реБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi448804/index.html">MacOS рдХреЗ рдХрдареЛрд░ рд░рдирдЯрд╛рдЗрдо рдФрд░ рдиреЛрдЯрд░реА рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рд░рд╣реА рд╣реИ</a></li>
<li><a href="../hi448806/index.html">Qt рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдкрд░ рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░ рдкреНрд░рдгрд╛рд▓реА рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi448808/index.html">рд╕рд░рд▓ рдЪреАрдЬреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдЬрдЯрд┐рд▓ред "рд╕реНрд▓реАрдкрд┐рдВрдЧ рд╕реНрдЯреАрд▓ред" рдХреИрд╕реЗ рдЬрдВрдЧ рд▓рдЧрд╛ рдмреЛрд▓реНрдЯ рдпрд╛ рдПрдХ рдХреЗ рд╕рд╛рде WD-40 рдирд╣реАрдВ ...</a></li>
<li><a href="../hi448810/index.html">рдореИрдВрдиреЗ рдПрдХ рд╣реИрдХрд░ рдХреЛ рдХреИрд╕реЗ рдкрдХрдбрд╝рд╛</a></li>
<li><a href="../hi448812/index.html">"рдмрд░реЗрд╢рд┐рдд" рдЪрдВрджреНрд░ рдорд┐рд╢рди - рдЗрд╕рдХреЗ рд╡рд╛рд╣рдХ рдХреА рджреБрд░реНрдШрдЯрдирд╛ рдХреЗ рдмрд╛рдж рдкрд╣рд▓реЗ рдЪрдВрджреНрд░ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреА рдЦреЛрдЬ рд╢реБрд░реВ рд╣реЛ рдЧрдИ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>