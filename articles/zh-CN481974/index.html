<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ· ğŸ—’ï¸ ğŸ‘â€ğŸ—¨ ä½¿ç”¨ç¥ç»ç½‘ç»œæµ‹è¯•è¥¿ç“œï¼šå®Œæ•´ç‰ˆã€‚ ä»åŸå‹åˆ°åº”ç”¨ç¨‹åºçš„å¾ªç¯ã€‚ åœ¨Google Play ğŸ…ğŸ¿ ğŸ–ï¸ â¬›ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¼€å§‹ 
 å½“æˆ‘æ‰¾åˆ°ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œä¸€åˆ‡å°±å¼€å§‹äº†ã€‚ åœ¨è‹¹æœå¸‚åœºä¸Šï¼Œæ®è¯´å¯ä»¥ç¡®å®šè¥¿ç“œçš„æˆç†Ÿåº¦ã€‚ ä¸€ä¸ªç¨‹åºå¾ˆå¥‡æ€ªã€‚ è¯•æƒ³ä¸€ä¸‹ï¼šæ‚¨åº”è¯¥ä¸ç”¨ç”¨æŒ‡å…³èŠ‚æ•²é—¨ï¼Œè€Œæ˜¯åº”è¯¥ç”¨iPhoneæ¥æ•²è¥¿ç“œï¼ å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯å†³å®šåœ¨Andtoidå¹³å°ä¸Šé‡å¤è¯¥åŠŸèƒ½ã€‚ 

 é€‰æ‹©å·¥å…· 
 è§£å†³æˆ‘ä»¬å­˜åœ¨çš„é—®é¢˜çš„æ–¹æ³•å¾ˆå°‘ï¼Œæˆ‘ä¸å¾—ä¸ä»˜å‡ºä¸€å®š...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨ç¥ç»ç½‘ç»œæµ‹è¯•è¥¿ç“œï¼šå®Œæ•´ç‰ˆã€‚ ä»åŸå‹åˆ°åº”ç”¨ç¨‹åºçš„å¾ªç¯ã€‚ åœ¨Google Play</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481974/"><h3> å¼€å§‹ </h3><br> å½“æˆ‘æ‰¾åˆ°ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œä¸€åˆ‡å°±å¼€å§‹äº†ã€‚ åœ¨è‹¹æœå¸‚åœºä¸Šï¼Œæ®è¯´å¯ä»¥ç¡®å®šè¥¿ç“œçš„æˆç†Ÿåº¦ã€‚ ä¸€ä¸ªç¨‹åºå¾ˆå¥‡æ€ªã€‚ è¯•æƒ³ä¸€ä¸‹ï¼šæ‚¨åº”è¯¥ä¸ç”¨ç”¨æŒ‡å…³èŠ‚æ•²é—¨ï¼Œè€Œæ˜¯åº”è¯¥ç”¨iPhoneæ¥æ•²è¥¿ç“œï¼ å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯å†³å®šåœ¨Andtoidå¹³å°ä¸Šé‡å¤è¯¥åŠŸèƒ½ã€‚ <br><a name="habracut"></a><br><h3> é€‰æ‹©å·¥å…· </h3><br> è§£å†³æˆ‘ä»¬å­˜åœ¨çš„é—®é¢˜çš„æ–¹æ³•å¾ˆå°‘ï¼Œæˆ‘ä¸å¾—ä¸ä»˜å‡ºä¸€å®šçš„åŠªåŠ›æ¥é¿å…ä¸€ä¸ªç®€å•çš„é—®é¢˜ã€‚ å³å‚…ç«‹å¶å˜æ¢ï¼Œå°æ³¢å’Œä¿¡å·ç¼–è¾‘å™¨ã€‚ æˆ‘æ¯•ç«Ÿæƒ³å­¦ä¹ ç¥ç»ç½‘ç»œã€‚ <br><br> æˆ‘é€‰æ‹©Kerasä½œä¸ºNNåº“ï¼Œè¿™æ˜¯Googleçš„å‡ºè‰²å·¥å…·ï¼Œæ˜¯TensorFlowå’ŒTheanoçš„åŒ…è£…ã€‚ å¦‚æœæ‚¨æ˜¯åˆå­¦è€…ï¼Œé‚£ç»å¯¹æ˜¯æœ€å¥½çš„å·¥å…·ã€‚ ä¸€æ–¹é¢ï¼ŒKerasæ˜¯åŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œé€šè¿‡é€Ÿåº¦ï¼Œå†…å­˜å’Œç¡¬ä»¶è¿›è¡Œäº†ä¼˜åŒ–ï¼ˆæ˜¯çš„ï¼Œå®ƒå¯ä¸GPUä¸€èµ·ä½¿ç”¨ï¼‰ã€‚ å¦ä¸€æ–¹é¢-å®ƒå‘ç”¨æˆ·éšè—äº†æ‰€æœ‰æ— èŠçš„äººå‘˜ï¼Œä»è€Œä½¿æ‚¨å¯ä»¥ä¸“æ³¨äºä»»åŠ¡æœ¬èº«ã€‚ å¾ˆæ–¹ä¾¿ <br><br>  Keraså’Œä¸€èˆ¬çš„ç¥ç»ç½‘ç»œé€šå¸¸éƒ½ä¸Pythonæ†ç»‘åœ¨ä¸€èµ·ï¼ŒPythonå°±åƒä¸€æ¡å·¨è›‡â€¦â€¦æ²¡å…³ç³»ã€‚ æ— è®ºå¦‚ä½•ï¼Œä¸ºäº†åœ¨æ·±åº¦å­¦ä¹ é¢†åŸŸå·¥ä½œï¼Œäººä»¬éœ€è¦äº†è§£Pythonã€‚ å¹¸è¿çš„æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§æ˜“äºå­¦ä¹ çš„è¯­è¨€ã€‚ <br><br> é™¤äº†Pythonå¤–ï¼Œæ‚¨è¿˜éœ€è¦ä¸€äº›é¢å¤–çš„åº“ï¼Œä½†æ˜¯æŒæ¡å®ƒä»¬å¾ˆå®¹æ˜“-å³ä½¿ä¸Pythonæœ¬èº«ç›¸æ¯”ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ æ‚¨éœ€è¦å…·æœ‰NumPyï¼ŒPyPlotä»¥åŠå…¶ä»–å‡ ä¸ªåº“çš„ï¼ˆæµ…ï¼‰ç»éªŒã€‚ <br><br> æœ€åå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦GPUé›†ç¾¤ï¼šæˆ‘ä»¬çš„é—®é¢˜å¯ä»¥åœ¨å•ä¸ªCPUä¸Šè§£å†³ï¼Œé€Ÿåº¦å¾ˆæ…¢ï¼Œä½†ä¸æ˜¯å¾ˆæ…¢ã€‚ <br><br><h3> å·¥ä½œè®¡åˆ’ </h3><br> é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨Ubuntuç¯å¢ƒä¸­ä½¿ç”¨Pythonå’ŒKerasåˆ›å»ºä¸€ä¸ªç¥ç»ç½‘ç»œã€‚ å¯ä»¥åœ¨Windowsä¸­åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯èŠ±æ—¶é—´é…ç½®ä¸œè¥¿åº”è¯¥è¶³ä»¥å­¦ä¹ Ubuntuã€‚ <br><br> ä¸‹ä¸€æ­¥æ˜¯ç¼–å†™ç¨‹åºã€‚ æˆ‘è®¡åˆ’åœ¨Java for Androidä¸Šæ‰§è¡Œæ­¤æ“ä½œã€‚ è¿™å°†æ˜¯ä¸€ä¸ªåŸå‹ï¼Œè¿™æ„å‘³ç€å®ƒå°†å…·æœ‰UIï¼Œä½†æ²¡æœ‰NN-å°šæœªã€‚ <br><br> ä¸ºä»€ä¹ˆæˆ‘ä»¬å¿…é¡»ç¼–å†™ä¸€ä¸ªè™šæ‹Ÿç¨‹åºï¼Ÿ è¿™å°±æ˜¯è¯€çªï¼šä»»ä½•æ·±åº¦å­¦ä¹ éƒ½éœ€è¦æ•°æ®æ¥å­¦ä¹ ã€‚ ä¸ºäº†å‘NNæä¾›è¶³å¤Ÿæ•°é‡çš„æ•°æ®&gt;ç™¾ï¼Œæˆ‘åº”è¯¥æµ‹è¯•å¤šå°‘ä¸ªè¥¿ç“œï¼ˆåœ¨è¿™ä¸ªè¯çš„ä¸¤ä¸ªå«ä¹‰ä¸­ï¼‰ï¼Ÿ è¿˜æœ‰å— <br><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è™šæ‹Ÿç¨‹åºï¼šæˆ‘å°†å…¶æ”¾ç½®åœ¨Google Playä¸Šï¼Œå°†å…¶èµ é€ï¼ˆå¥½å§ï¼Œå¼ºè¿«æˆ‘æ‰€æœ‰çš„æœ‹å‹å®‰è£…å®ƒï¼‰å¹¶ä»ä¸­æ”¶é›†æ•°æ®â€¦â€¦åœ¨å“ªé‡Œï¼Ÿ <br><br> ä¸‹ä¸€æ­¥æ˜¯ç¼–å†™ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç¨‹åºï¼Œè¯¥ç¨‹åºå°†ä»æˆ‘ä»¬çš„Androidå®¢æˆ·ç«¯æ¥æ”¶æ•°æ®ã€‚ è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä»»åŠ¡ï¼Œæˆ‘èŠ±äº†å¤§çº¦äºŒååˆ†é’Ÿæ¥å†™ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ­¥éª¤ã€‚ <br><br> æœ€åï¼Œå½“æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ•™NNã€‚ <br><br> ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å°†ç”Ÿæˆçš„NNç§»æ¤åˆ°Javaå¹¶å‘å¸ƒç¨‹åºçš„æ–°ç‰ˆæœ¬ï¼Œä»¥æ›¿æ¢â€œè™šæ‹Ÿâ€ç¨‹åºã€‚ <br><br> è·åˆ© ä¸ï¼Œç­‰ç­‰ è¯¥ç¨‹åºæ˜¯å…è´¹çš„ã€‚ åªæ˜¯ç»éªŒã€‚ <br><br><h3> åˆ›å»ºnn </h3><br> å¤„ç†éŸ³é¢‘ä¿¡å·ï¼ˆè‚¯å®šæ•²å“äº†è¥¿ç“œï¼‰æ„å‘³ç€ä½¿ç”¨é€’å½’ç¥ç»ç½‘ç»œæˆ–æ‰€è°“çš„ä¸€ä¸ªäºŒç»´CNNã€‚ ç”±äºCNNæ˜“äºä½¿ç”¨ï¼Œå¹¶ä¸”-å¯¹äºçŸ­ä¿¡å·-æ›´å¥½ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒä»¬ã€‚ å·ç§¯ç¥ç»ç½‘ç»œçš„æƒ³æ³•æ˜¯åœ¨æ•°æ®æ•°ç»„ï¼ˆæ˜¯éŸ³é¢‘ä¿¡å·ï¼‰ä¸Šâ€œæ»‘åŠ¨â€â€œä¼ æ„Ÿå™¨çª—å£â€ã€‚ ç»“æœï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨åŒæ—¶åˆ†ææ‰€æœ‰æ•°æ®ï¼Œè€Œæ˜¯åœ¨å¯»æ‰¾å±€éƒ¨å­æ¨¡å¼ã€‚  NNçš„æ¯ä¸ªåç»­å±‚éƒ½ä¸å‰ä¸€å±‚æ‰€è·å¾—çš„æ¨¡å¼ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å¯»æ‰¾æ›´é«˜çº§åˆ«çš„æ¨¡å¼ã€‚ <br><br> ä¸ºäº†ç®€åŒ–èµ·è§ï¼Œå‡è®¾æˆ‘ä»¬å¿…é¡»åœ¨æµ·æ´‹ç…§ç‰‡ä¸­æ‰¾åˆ°ä¸€åªæµ·é¸¥ã€‚ æˆ‘ä»¬åœ¨å›¾ç‰‡ä¸Šæ»‘åŠ¨ä¸€ä¸ªå°çš„â€œçª—å£â€ï¼Œå¯»æ‰¾ç™½è‰²çš„â€œç±»ä¼¼å¤é€‰æ ‡è®°â€çš„å›¾æ¡ˆã€‚ ç°åœ¨ï¼Œè¿™æ˜¯ä¸€ä¸ª2Då·ç§¯ç¥ç»ç½‘ç»œï¼Œéœ€è¦ä¸€ç»´ä¿¡å·ï¼Œå› æ­¤1D CNNæ˜¯ä¸€ä¸ªåˆç†çš„é€‰æ‹©ã€‚ <br><br>  NNå…·æœ‰ä»¥ä¸‹ç»“æ„ï¼š <br><br><pre><code class="python hljs">model = Sequential() model.add(Conv1D(filters=<span class="hljs-number"><span class="hljs-number">32</span></span>, kernel_size=<span class="hljs-number"><span class="hljs-number">512</span></span>, strides=<span class="hljs-number"><span class="hljs-number">3</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>, use_bias=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, input_shape=(nSampleSize, <span class="hljs-number"><span class="hljs-number">1</span></span>), name=<span class="hljs-string"><span class="hljs-string">'c1d'</span></span>, activation=<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>, input_shape=(nSampleSize, <span class="hljs-number"><span class="hljs-number">1</span></span>))) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">32</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span>))) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">64</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span>))) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Flatten()) model.add(Dense(<span class="hljs-number"><span class="hljs-number">64</span></span>)) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(Dropout(<span class="hljs-number"><span class="hljs-number">0.5</span></span>)) model.add(Dense(nNumOfOutputs)) <span class="hljs-comment"><span class="hljs-comment">#1)) model.add(Activation('sigmoid')) model.compile(loss='mean_squared_error', optimizer='adam', metrics=['accuracy'])</span></span></code> </pre> <br> è¯¥NNå…·æœ‰ä¸¤ä¸ªè¾“å‡ºï¼ˆå®ƒé¢„æµ‹ä¸¤ä¸ªå€¼ï¼šç”œåº¦å’Œæˆç†Ÿåº¦ã€‚ç”œåº¦å¯ä»¥ä¸º0ï¼ˆä¸ç”œï¼‰ï¼Œ1ï¼ˆæ­£å¸¸ï¼‰å’Œ2ï¼ˆä¼˜å¼‚ï¼‰ã€‚è‡³äºæˆç†Ÿåº¦ï¼Œå¯ä»¥ä¸º0ï¼ˆå¤ªåƒµç¡¬ï¼‰ï¼Œ1ï¼ˆå¥½ï¼‰ ï¼‰å’Œ2-å¤ªè½¯ï¼Œåƒå¸¦æ²™å­çš„æ£‰èŠ±ã€‚ <br><br> è¦åˆ›å»ºè¿™äº›æ ‡ç­¾ï¼ˆè¾“å‡ºï¼‰ï¼Œæˆ‘ä»¬éœ€è¦äººç±»å‡†å¤‡çš„æ•°æ®ï¼Œç¨åå°†åœ¨æœ‰å…³Androidç¨‹åºçš„ä¸€ç« ä¸­è®¨è®ºå…¶å®Œæˆæ–¹å¼ã€‚ æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œçš„ç›®æ ‡æ˜¯ä½¿ç”¨éŸ³é¢‘æ ·æœ¬é¢„æµ‹äººç±»ä¼šåšå‡ºçš„ä¼°è®¡ã€‚ <br><br><h3> ç¼–å†™ç¨‹åº </h3><br> æ­£å¦‚æˆ‘æåˆ°çš„ï¼Œç¨‹åºå°†æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šâ€œè™šæ‹Ÿâ€å’Œâ€œæœ€ç»ˆâ€ã€‚ ä¸€ä¸ªè™šæ‹Ÿçš„äººä¼šè¿›è¡Œéšæœºé¢„æµ‹ï¼ˆå¹¶ä¸”ä¼šè­¦å‘Šç”¨æˆ·ï¼‰ã€‚ è¿™æ ·ï¼Œå®ƒä¼šè®°å½•éŸ³é¢‘æ ·æœ¬å¹¶å°†å…¶ä¸ç”¨æˆ·å¯¹è¥¿ç“œçœŸå®è´¨é‡çš„ä¼°è®¡ä¸€èµ·å‘é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ æ¢å¥è¯è¯´ï¼Œè¯¥ç¨‹åºåªæ˜¯æ”¶é›†æ•°æ®ã€‚ <br><br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.snowcron.cortex.melonaire">è¿™æ˜¯</a>ç¨‹åºæœ€ç»ˆç‰ˆæœ¬çš„<a href="https://play.google.com/store/apps/details%3Fid%3Dcom.snowcron.cortex.melonaire">é¡µé¢</a> ï¼Œå®ƒæ˜¯å…è´¹çš„ã€‚ <br><br> å®ƒçš„ä½œç”¨ï¼š <br><br>  1.å½“æŒ‰ä¸‹â€œéº¦å…‹é£â€æŒ‰é’®æ—¶ï¼Œå¼€å§‹å½•éŸ³ã€‚ ç”¨æˆ·æœ‰äº”ç§’é’Ÿçš„æ—¶é—´æ•²æ‰“è¥¿ç“œä¸‰éï¼Œè¿™ä¸æ•²é—¨éå¸¸ç›¸ä¼¼ã€‚ ç„¶åæ‚¨å¯ä»¥æŒ‰â€œè¥¿ç“œâ€æŒ‰é’®ä»¥è·å–â€œé¢„æµ‹â€ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/534/298/569/534298569949fd9bf2ac74a5a6ed51f4.png" alt="å›¾ç‰‡"><br><br>  2.æˆ‘ä»¬åˆ¶ä½œçš„å½•éŸ³å°†ä¿å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ã€‚ ä¸´æ—¶çš„ï¼Œæˆ‘çš„æ„æ€æ˜¯ä¸‹ä¸€æ¬¡å½•éŸ³å°†è¦†ç›–å®ƒã€‚ å¦‚æœæœ‰äººåœ¨æˆ¿é—´é‡Œè®²è¯ï¼Œå®ƒå¯ä»¥é‡å¤æ•²é—¨ï¼ˆæ‚¨ä¸ä¼šç›¸ä¿¡è®©äººä»¬å®‰é™äº”ç§’é’Ÿæ˜¯å¤šä¹ˆå›°éš¾ï¼ï¼‰ï¼Œæ°´æµæ·Œæˆ–æœ‰å…¶ä»–å™ªéŸ³ã€‚ <br><br> å¥½çš„ï¼Œè¯´ä¹°äº†è¥¿ç“œï¼Œæ‚¨å·²ç»æŠŠå®ƒå¸¦å›å®¶äº†ã€‚ æ‚¨å·²ç»åˆ¶ä½œäº†å½•éŸ³ï¼Œç„¶åå°†å…¶å‰ªåˆ‡ï¼Œç°åœ¨å¯ä»¥ä¼°è®¡å…¶å‘³é“äº†ã€‚ <br><br> é€‰æ‹©â€œä¿å­˜â€æ ‡ç­¾ã€‚ <br><br> åœ¨æ­¤é€‰é¡¹å¡ä¸Šï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç»„åˆæ¡†ï¼šç”œåº¦å’Œæˆç†Ÿåº¦ã€‚ é€‰æ‹©å€¼ï¼Œç„¶åå•å‡»â€œä¿å­˜â€ã€‚ <br><br> é‡è¦ï¼ æ‚¨åªèƒ½æŒ‰ä¸€æ¬¡ä¿å­˜ï¼ è¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·å‘é€åŒä¸€è¥¿ç“œçš„å¤šä¸ªä¼°è®¡å€¼ã€‚ è¿™ä¹Ÿæ„å‘³ç€æ‚¨å¿…é¡»ä»”ç»†é€‰æ‹©å€¼ï¼Œç„¶åæ‰èƒ½å•å‡»â€œä¿å­˜â€ã€‚ ä¿å­˜ç»“æœåï¼ŒéŸ³é¢‘æ–‡ä»¶å°†é‡å‘½åï¼Œå¹¶ä¸”åœ¨ä¸‹æ¬¡å½•åˆ¶æ—¶ä¸ä¼šåˆ é™¤ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a2d/45d/54f/a2d45d54f0a21680a342db630b59d09d.png" alt="å›¾ç‰‡"><br><br>  3.æœ€åï¼Œåœ¨å¯¹è¥¿ç“œçš„é£Ÿç”¨é‡è¿›è¡Œäº†ä¼°ç®—ï¼ˆé£Ÿç”¨ï¼‰ä¹‹åï¼Œæ‚¨ä»æ²¡æœ‰é™åˆ¶åœ°ä½¿ç”¨è¥¿ç“œä½†æ²¡æœ‰äº’è”ç½‘çš„æ‘åº„è¿”å›ã€‚ ç°åœ¨æ‚¨åœ¨çº¿ã€‚ æ‰“å¼€â€œæäº¤â€é€‰é¡¹å¡ï¼Œç„¶åæŒ‰æŒ‰é’®ã€‚ åŒ…å«æ‚¨å°šæœªæäº¤çš„æ‰€æœ‰è¥¿ç“œä¿¡æ¯çš„è½¯ä»¶åŒ…å°†è¢«å‘é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5c/c5f/d41/d5cc5fd41549ca66036c8b49a0645c34.png" alt="å›¾ç‰‡"><br><br><h3> ç¼–å†™æœåŠ¡å™¨ç«¯ç¨‹åº </h3><br> è¿™ç¡®å®å¾ˆå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘æœ€å¥½åªå‘å¸ƒæºä»£ç ã€‚ ç¨‹åºâ€œæ•è·â€æ–‡ä»¶ï¼Œåˆ†é…å”¯ä¸€çš„åç§°ï¼Œå¹¶å°†å…¶æ”¾ç½®åˆ°ä»…ç½‘ç«™æ‰€æœ‰è€…å¯è®¿é—®çš„æ–‡ä»¶å¤¹ä¸­ã€‚ <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_uploaded_file($_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'tmp_name'</span></span>])) { $uploads_dir = <span class="hljs-string"><span class="hljs-string">'./melonaire/'</span></span>; $tmp_name = $_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'tmp_name'</span></span>]; $pic_name = $_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'name'</span></span>]; $filename = md5(date(<span class="hljs-string"><span class="hljs-string">'Ymd H:i:s:u'</span></span>)); move_uploaded_file($tmp_name, $uploads_dir.$filename); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"File not uploaded successfully."</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><h3> è®­ç»ƒnn </h3><br> æˆ‘ä»¬å°†æ•°æ®åˆ†ä¸ºè®­ç»ƒï¼ˆ70ï¼…ï¼‰å’Œæµ‹è¯•ï¼ˆ30ï¼…ï¼‰ã€‚ ç¥ç»ç½‘ç»œèåˆè‰¯å¥½ï¼Œåœ¨è¿™é‡Œä¸è¶³ä¸ºå¥‡ã€‚ åˆå­¦è€…æ³¨æ„äº‹é¡¹ï¼šä¸è¦å¿˜è®°å¯¹è¾“å…¥æ•°æ®è¿›è¡Œè§„èŒƒåŒ–ï¼Œå®ƒå°†ä¸ºæ‚¨èŠ‚çœå¤§é‡æ—¶é—´å’Œç²¾åŠ›ã€‚ åƒè¿™æ ·ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> file_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.listdir(path): nSweetness, nRipeness, arr_loaded = loadData(file_name) arr_data.append(arr_loaded / max(abs(arr_loaded))) <span class="hljs-comment"><span class="hljs-comment"># 2 stands for num. of inputs of a combo box - 1 arr_labels.append([nSweetness / 2.0, nRipeness / 2.0])</span></span></code> </pre><br><h3> ç§»æ¤åˆ°Java </h3><br> æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å°†NNä»Pythonç§»æ¤åˆ°Javaã€‚ æœ€è¿‘ï¼ŒGoogleä½¿æ­¤è¿‡ç¨‹éå¸¸æ–¹ä¾¿ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨å†³å®šå­¦ä¹ æ•™ç§‘ä¹¦ï¼Œè¯·ç¡®ä¿å®ƒä»¬ä¸å†è¿‡æ—¶ã€‚ è¿™æ˜¯æˆ‘çš„åšæ³•ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.layers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf <span class="hljs-comment"><span class="hljs-comment"># ------------------- def print_graph_nodes(filename): g = tf.GraphDef() g.ParseFromString(open(filename, 'rb').read()) print() print(filename) print("=======================INPUT=========================") print([n for n in g.node if n.name.find('input') != -1]) print("=======================OUTPUT========================") print([n for n in g.node if n.name.find('output') != -1]) print("===================KERAS_LEARNING=====================") print([n for n in g.node if n.name.find('keras_learning_phase') != -1]) print("======================================================") print() # ------------------- def get_script_path(): return os.path.dirname(os.path.realpath(sys.argv[0])) # ------------------- def keras_to_tensorflow(keras_model, output_dir, model_name,out_prefix="output_", log_tensorboard=True): if os.path.exists(output_dir) == False: os.mkdir(output_dir) out_nodes = [] for i in range(len(keras_model.outputs)): out_nodes.append(out_prefix + str(i + 1)) tf.identity(keras_model.output[i], out_prefix + str(i + 1)) sess = K.get_session() from tensorflow.python.framework import graph_util, graph_io init_graph = sess.graph.as_graph_def() main_graph = graph_util.convert_variables_to_constants(sess, init_graph, out_nodes) graph_io.write_graph(main_graph, output_dir, name=model_name, as_text=False) if log_tensorboard: from tensorflow.python.tools import import_pb_to_tensorboard import_pb_to_tensorboard.import_to_tensorboard( os.path.join(output_dir, model_name), output_dir) model = load_model(get_script_path() + "/models/model.h5") #keras_to_tensorflow(model, output_dir=get_script_path() + "/models/model.h5", # model_name=get_script_path() + "/models/converted.pb") print_graph_nodes(get_script_path() + "/models/converted.pb")</span></span></code> </pre><br> è¯·æ³¨æ„æœ€åä¸€è¡Œï¼šåœ¨Javaä»£ç ä¸­ï¼Œæ‚¨å°†éœ€è¦NNçš„è¾“å…¥å’Œè¾“å‡ºå±‚çš„åç§°ã€‚  â€œ printâ€è¯­å¥ä¸ºæˆ‘ä»¬æ˜¾ç¤ºå®ƒä»¬ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¯¼å‡ºçš„æ–‡ä»¶æ”¾ç½®åˆ°Android Studioé¡¹ç›®çš„â€œ assetsâ€æ–‡ä»¶å¤¹ä¸­ï¼ˆæ–‡ä»¶åæ˜¯coordted.pbï¼Œä¸è¦é—®ï¼‰ï¼Œæ·»åŠ åº“ï¼ˆ <a href="https://medium.com/capital-one-developers/using-a-pre-trained-tensorflow-model-on-android-part-2-153ebdd4c465">åœ¨è¿™é‡Œ</a> ï¼Œ <a href="https://medium.com/%40thepulkitagarwal/deploying-a-keras-model-on-android-3a8bb83d75ca">è¿™é‡Œ</a>æˆ–æ›´å¥½çš„åœ°æ–¹ï¼Œ <a href="https://github.com/OmarAflak/Keras-Android-XOR">åœ¨è¿™é‡Œ</a> tensorflowinferenceinterfaceï¼Œå°±è¿™æ ·ã€‚ï¼‰ã€‚ <br><br> å°±æ˜¯è¿™æ · å½“æˆ‘ç¬¬ä¸€æ¬¡è¿™æ ·åšæ—¶ï¼Œæˆ‘æ›¾é¢„æ–™ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯â€¦â€¦ä¸€åˆ‡éƒ½æ­£å¸¸äº†ã€‚ <br><br> è¿™æ˜¯ä»Javaä»£ç åˆ°æˆ‘ä»¬çš„NNçš„è°ƒç”¨ï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Void </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Void... params)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//Pass input into the tensorflow tf.feed(INPUT_NAME, m_arrInput, 1, // batch ? m_arrInput.length, 1); // channels ? //compute predictions tf.run(new String[]{OUTPUT_NAME}); //copy the output into the PREDICTIONS array tf.fetch(OUTPUT_NAME, m_arrPrediction); } catch (Exception e) { e.getMessage(); } return null; }</span></span></code> </pre><br> è¿™é‡Œçš„â€œ m_arrInputâ€-åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œæˆ‘ä»¬çš„é¢„æµ‹ï¼ˆç”œåº¦ï¼Œæˆç†Ÿåº¦ï¼‰åœ¨0åˆ°1èŒƒå›´å†…ã€‚ <br><br><h3> ç»“è®º </h3><br> æˆ‘ç›¸ä¿¡æˆ‘åº”è¯¥æ„Ÿè°¢å¬ä¼—çš„å…³æ³¨ï¼Œå¹¶å¸Œæœ›å®ƒå¾ˆæœ‰è¶£ã€‚ å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘å¸Œæœ›æ‚¨æœ‰æ›´å¤šç”œç”œçš„è¥¿ç“œï¼Œæˆ‘å¸Œæœ›æ‚¨åœ¨åƒå®ƒä»¬æ—¶èƒ½ç»™æˆ‘å‘é€æ–°çš„éŸ³é¢‘æ ·æœ¬ï¼ˆç”œç“œï¼Œä¸æ˜¯æ ·æœ¬ï¼Œæ˜¯å§ï¼ï¼‰ <br><br>  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.snowcron.cortex.melonaire">è¯¥ç¨‹åºæ˜¯å…è´¹çš„ï¼Œå½“ç„¶ã€‚</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN481974/">https://habr.com/ru/post/zh-CN481974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN481956/index.html">å¯»æ‰¾å¤±è¸ªçš„ç¨‹åºå‘˜ã€‚ æ–°å¹´çš„è¿½æ±‚</a></li>
<li><a href="../zh-CN481958/index.html">æ‚¨ä»€ä¹ˆæ—¶å€™åœ¨mail.ruä¸­ç­¾åï¼Œæˆ–è€…å¦‚ä½•é€šè¿‡é‚®ä»¶ç•Œé¢ç©¿è¶ŠT-34æˆ˜è½¦</a></li>
<li><a href="../zh-CN481960/index.html">2.å¼¹æ€§å †æ ˆï¼šåˆ†æå®‰å…¨æ—¥å¿—ã€‚ Logstash</a></li>
<li><a href="../zh-CN481964/index.html">å¦‚ä½•ç»„ç»‡å‘å¸ƒ</a></li>
<li><a href="../zh-CN481970/index.html">â€œè¢«é—å¿˜çš„éŸ³é¢‘æ ¼å¼å’Œåª’ä½“â€ï¼šç´§å‡‘éŸ³é¢‘æ—¶ä»£çš„å¼€å§‹æˆ–ç­’ç®¡çš„â€œé¦–æ¬¡å˜é©â€</a></li>
<li><a href="../zh-CN481978/index.html">å¦‚ä½•ç»„ç»‡åˆ†å¸ƒå¼å¸ƒå±€å›¢é˜Ÿçš„æœ‰æ•ˆå·¥ä½œ</a></li>
<li><a href="../zh-CN481980/index.html">æˆ‘ä»¬å¦‚ä½•åœ¨Unityä¸­ä¼˜åŒ–è„šæœ¬</a></li>
<li><a href="../zh-CN481988/index.html">ä¸ºä»€ä¹ˆKojiæ˜¯æ–°æ‰‹KaiOSåº”ç”¨åˆ›å»ºè€…çš„ç†æƒ³èµ„æº</a></li>
<li><a href="../zh-CN481990/index.html">æ¶æ„è½¯ä»¶åå¹´ï¼š2010å¹´æœ€å¤§çš„åƒµå°¸ç½‘ç»œ</a></li>
<li><a href="../zh-CN481992/index.html">Tektonç®¡é“-KubernetesåŸç”Ÿç®¡é“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>