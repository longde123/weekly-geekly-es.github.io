<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯеж ЁЯФШ ЁЯТкЁЯП╝ рд╕рдмрд╕реЗ рдЫреЛрдЯрд╛ рд╕рдВрднрд╡ рдлрд╝реЙрдиреНрдЯ ЁЯЪгЁЯП╜ ЁЯдЩЁЯП╗ ЁЯРм</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрд╛рд░реНрдп: рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рд╕рдВрднрд╡ рд░рд╛рд╢рд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╕рд╛рд░реНрдердХ рдкрд╛рда рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ред 


- рдПрдХ рдкрдардиреАрдп рдлрд╝реЙрдиреНрдЯ рдХрд┐рддрдирд╛ рдЫреЛрдЯрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ? 
- рдЗрд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдореЗрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕рдмрд╕реЗ рдЫреЛрдЯрд╛ рд╕рдВрднрд╡ рдлрд╝реЙрдиреНрдЯ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460697/"><p>  рдХрд╛рд░реНрдп: рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рд╕рдВрднрд╡ рд░рд╛рд╢рд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╕рд╛рд░реНрдердХ рдкрд╛рда рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ред </p><br><ul><li>  рдПрдХ рдкрдардиреАрдп рдлрд╝реЙрдиреНрдЯ рдХрд┐рддрдирд╛ рдЫреЛрдЯрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ? </li><li> рдЗрд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдореЗрдВ рдХрд┐рддрдиреА рдореЗрдореЛрд░реА рд▓рдЧреЗрдЧреА? </li><li>  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рддрдирд╛ рдХреЛрдб рд▓рдЧреЗрдЧрд╛? </li></ul><br><p>  рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдореЗрдВ рдХреНрдпрд╛ рдорд┐рд▓рддрд╛ рд╣реИред  рд╕реНрдкреЙрдЗрд▓рд░: </p><br><p><img src="https://habrastorage.org/webt/6k/jr/6m/6kjr6md92hgpbm7gvs8ia3o1cti.png"></p><a name="habracut"></a><br><h2 id="vvedenie-v-bitmepy">  рдмрд┐рдЯрдореИрдкреНрд╕ рдХрд╛ рдкрд░рд┐рдЪрдп </h2><br><p> рдХрдВрдкреНрдпреВрдЯрд░ рдмрд┐рдЯрдореИрдк рдХреЗ рд░реВрдк рдореЗрдВ рдмрд┐рдЯрдореИрдк рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ <code>.bmp</code> рдкреНрд░рд╛рд░реВрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрдореЛрд░реА рдореЗрдВ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИред  рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рд╣рдореЗрдВ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХреБрдЫ рд╕реАрдЦрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред </p><br><h3 id="sloi">  рд╕рдореВрд╣реЛрдВ </h3><br><p>  рдПрдХ рдЫрд╡рд┐ рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдКрдкрд░ рдХрдИ <em>рдкрд░рддреЗрдВ рд╣реЛрддреА рд╣реИрдВ</em> ред  рдЬреНрдпрд╛рджрд╛рддрд░ рд╡реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд░рдЬреАрдмреА рд░рдВрдЧ рдЕрдВрддрд░рд┐рдХреНрд╖</a> рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рдЕрдиреБрд░реВрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реЛрддреЗ рд╣реИрдВ</a> ред  рдПрдХ рдкрд░рдд <em>рд▓рд╛рд▓ рдХреЗ рд▓рд┐рдП</em> , рдПрдХ <em>рд╣рд░реА рдХреЗ рд▓рд┐рдП</em> рдФрд░ рдПрдХ <em>рдиреАрд▓реА рдХреЗ рд▓рд┐рдП</em> ред  рдпрджрд┐ рдЫрд╡рд┐ рдкреНрд░рд╛рд░реВрдк рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреМрдереА рдкрд░рдд рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ, рдЬрд┐рд╕реЗ рдЖрдорддреМрд░ рдкрд░ <em>рдЕрд▓реНрдлрд╛</em> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореЛрдЯреЗ рддреМрд░ рдкрд░, рдПрдХ рд░рдВрдЧ рдХреА рдЫрд╡рд┐ рддреАрди (рдпрд╛ рдЪрд╛рд░, рдЕрдЧрд░ рдПрдХ рдЕрд▓реНрдлрд╛ рдЪреИрдирд▓ рд╣реИ) рдХрд╛рд▓реЗ рдФрд░ рд╕рдлреЗрдж, рдПрдХ рдХреЗ рдКрдкрд░ рдПрдХ рд╕реНрдерд┐рдд рд╣реИред </p><br><ul><li>  RGB рдХреЗрд╡рд▓ рд░рдВрдЧ рд╕реНрдерд╛рди рдирд╣реАрдВ рд╣реИ;  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, JPEG рдкреНрд░рд╛рд░реВрдк, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">YUV</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рд╣рдореЗрдВ рдмрд╛рдХреА рд░рдВрдЧ рд╕реНрдерд╛рдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЙрди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред </li></ul><br><p>  рдкрд░рддреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдореЗрдореЛрд░реА рдореЗрдВ рджреЛ рддрд░реАрдХреЛрдВ рд╕реЗ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╛ рддреЛ рдЙрдиреНрд╣реЗрдВ рдЕрд▓рдЧ рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкрд░рддреЛрдВ рд╕реЗ рдорд╛рдиреЛрдВ рдХреЛ рдЗрдВрдЯрд░рд▓реЗрдп рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдмрд╛рдж рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкрд░рддреЛрдВ рдХреЛ <em>рдЪреИрдирд▓</em> рдХрд╣рд╛ рдЬрд╛рддрд╛ <em>рд╣реИ</em> , рдФрд░ рдпрд╣ рд╣реИ рдХрд┐ рд╕рдмрд╕реЗ рдЖрдзреБрдирд┐рдХ рдкреНрд░рд╛рд░реВрдк рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдорд╛рди рд▓реЗрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ 4x4 рдбреНрд░рд╛рдЗрдВрдЧ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рддреАрди рдкрд░рддреЗрдВ рд╣реИрдВ: <em>рдЖрд░</em> рд▓рд╛рд▓ рдХреЗ рд▓рд┐рдП, <em>рдЬреА</em> рд╣рд░реЗ рд░рдВрдЧ рдХреЗ рд▓рд┐рдП рдФрд░ <em>рдмреА</em> рдкреНрд░рддреНрдпреЗрдХ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рдиреАрд▓реЗ рдШрдЯрдХ рдХреЗ рд▓рд┐рдПред  рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs"> RRRR RRRR RRRR RRRR GGGG GGGG GGGG GGGG BBBB BBBB BBBB BBBB</code> </pre> <br><p>  рддреАрдиреЛрдВ рдкрд░рддреЛрдВ рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╡реИрдХрд▓реНрдкрд┐рдХ рд╕реНрд╡рд░реВрдк рдЕрд▓рдЧ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs"> RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB</code> </pre> <br><ul><li>  рдкрд╛рддреНрд░реЛрдВ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЯреНрд░рд┐рдкрд▓ <strong>рдмрд┐рд▓реНрдХреБрд▓</strong> рдПрдХ рдкрд┐рдХреНрд╕реЗрд▓ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ </li><li>  рдЯреНрд░рд┐рдкрд▓ рдХреЗ рднреАрддрд░ рдХреЗ рдорд╛рди <em>RGB</em> рдХреНрд░рдо рдореЗрдВ рд╣реИрдВред  рдХрднреА-рдХрднреА рдПрдХ рдЕрд▓рдЧ рдЖрджреЗрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <em>рдмреАрдЬреАрдЖрд░</em> ), рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдмрд╕реЗ рдЖрдо рд╣реИред </li></ul><br><p>  рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдкрд┐рдХреНрд╕рд▓ рдХреЛ рджреЛ-рдЖрдпрд╛рдореА рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдзрд┐рдХ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдпрд╣ рдпрд╛ рд╡рд╣ рдЯреНрд░рд┐рдкрд▓ рдЫрд╡рд┐ рдореЗрдВ рдХрд╣рд╛рдВ рд╣реИред  рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХрдВрдкреНрдпреВрдЯрд░ рдореЗрдореЛрд░реА рджреЛ-рдЖрдпрд╛рдореА рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ-рдЖрдпрд╛рдореА рд╣реИ, рдЗрд╕рд▓рд┐рдП 4x4 рдЪрд┐рддреНрд░ рдЗрд╕ рддрд░рд╣ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="plaintext hljs">RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB RGB</code> </pre> <br><h3 id="bpp">  bpp </h3><br><p>  рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдирд╛рдо <em>bpp</em> рдмрд┐рдЯреНрд╕ рдпрд╛ рдмрд╛рдЗрдЯреНрд╕ рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓ (рдмрд┐рдЯреНрд╕ / рдмрд╛рдЗрдЯреНрд╕ рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓) рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЖрдкрдиреЗ <code>3bpp</code> <code>24bpp</code> рдпрд╛ 3 <code>3bpp</code> рджреЗрдЦрд╛ <code>3bpp</code> ред  рдЗрди рджреЛрдиреЛрдВ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдПрдХ рд╣реА рдорддрд▓рдм рд╣реИ - <strong>24 <em>рдмрд┐рдЯ</em> рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓</strong> рдпрд╛ <strong>3 <em>рдмрд╛рдЗрдЯ</em> рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓</strong> ред  рдЪреВрдВрдХрд┐ рдПрдХ рдмрд╛рдЗрдЯ рдореЗрдВ рд╣рдореЗрд╢рд╛ 8 рдмрд┐рдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдкреНрд░рд╢реНрди рдореЗрдВ рдЗрдХрд╛рдЗрдпреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕ рдХреЗ рдореВрд▓реНрдп рд╕реЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="predstavlenie-v-pamyati">  рдореЗрдореЛрд░реА рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ </h3><br><p>  <code>24bpp</code> , рдЙрд░реНрдл тАЛтАЛ3 <code>3bpp</code> - рдлреВрд▓реЛрдВ рдХреЗ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЖрдо рдкреНрд░рд╛рд░реВрдкред  рдпрд╣ рд╣реИ рдХрд┐ <em>RGB</em> рдСрд░реНрдбрд░ рдореЗрдВ рдПрдХ <strong>рдПрдХрд▓ рдкрд┐рдХреНрд╕реЗрд▓</strong> рд╡реНрдпрдХреНрддрд┐рдЧрдд рдмрд┐рдЯреНрд╕ рдХреЗ рд╕реНрддрд░ рдкрд░ рдХреИрд╕реЗ рджрд┐рдЦрддрд╛ рд╣реИред </p><br><pre> <code class="plaintext hljs"> 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  RRRRRRRRGGGGGGGGBBBBB BBB</code> </pre> <br><ul><li>  <em>рдЖрд░ рдХреЗ</em> рд▓рд┐рдП рдПрдХ рдмрд╛рдЗрдЯ, <em>рдЬреА рдХреЗ</em> рд▓рд┐рдП рдПрдХ рдФрд░ <em>рдмреА рдХреЗ</em> рд▓рд┐рдП рдПрдХ, рдХреБрд▓ рддреАрди рдмрд╛рдЗрдЯреНрд╕ред </li><li>  рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ 0 рд╕реЗ 255 рддрдХ рдХрд╛ рдорд╛рди рд╣реИред </li></ul><br><p>  рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рджрд┐рдП рдЧрдП рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд░рдВрдЧ рд╣реИ: </p><br><ul><li> <code>R 255</code> </li> <li> <code>G 80</code> </li> <li> <code>B 100</code> </li> </ul><br><p>  рдлрд┐рд░ <code>255</code> рдкрд╣рд▓реЗ рдмрд╛рдЗрдЯ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП <code>255</code> , рджреВрд╕рд░реЗ рдореЗрдВ <code>80</code> рдФрд░ рддреАрд╕рд░реЗ рдореЗрдВ <code>100</code> ред </p><br><p>  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░, рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реЗрдХреНрд╕рд╛рдбреЗрд╕рд┐рдорд▓</a> рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдХрд╣реЛ <code>#ff5064</code>  рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдФрд░ рдХреЙрдореНрдкреИрдХреНрдЯ рд╣реИ: <code>R = 0xff</code> (рдпрд╛рдиреА рджрд╢рдорд▓рд╡ рдореЗрдВ <code>R=255</code> ), <code>G = 0x50</code> (= <code>G=80</code> ), <code>B=0x64</code> (= <code>B=100</code> )ред </p><br><ul><li>  рд╣реЗрдХреНрд╕рд╛рдбреЗрд╕рд┐рдорд▓ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдореЗрдВ рдПрдХ рдЙрдкрдпреЛрдЧреА рд╕рдВрдкрддреНрддрд┐ рд╣реИред  рдЪреВрдВрдХрд┐ рд░рдВрдЧ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдЗрдЯ рдХреЛ рджреЛ рд╡рд░реНрдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдг <strong>рдареАрдХ</strong> рдЖрдзрд╛ рдмрд╛рдЗрдЯ рдпрд╛ рдЪрд╛рд░ рдмрд┐рдЯреНрд╕ рдХреЛ рдПрдиреНрдХреЛрдб рдХрд░рддрд╛ <strong>рд╣реИ</strong> ред  4 рдмрд┐рдЯреНрд╕, рд╡реИрд╕реЗ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рдмрд▓</a> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><h3 id="shirina-stroki">  рд▓рд╛рдЗрди рдХреА рдЪреМрдбрд╝рд╛рдИ </h3><br><p>  рдЬрдм рдкрд┐рдХреНрд╕реЗрд▓ рдПрдХ рдХреЗ рдмрд╛рдж рдПрдХ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдЪреИрдирд▓ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдбреЗрдЯрд╛ рдЖрд╕рд╛рдиреА рд╕реЗ рднреНрд░рдорд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рдЬреНрдЮрд╛рдд рдирд╣реАрдВ рд╣реИ рдХрд┐ рдПрдХ рдкрдВрдХреНрддрд┐ рдХрдм рд╕рдорд╛рдкреНрдд рд╣реЛрддреА рд╣реИ рдФрд░ рдЕрдЧрд▓реА рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдмрд┐рдЯрдореИрдк рдХреЗ рд╕рд╛рде рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЫрд╡рд┐ рдХрд╛ рдЖрдХрд╛рд░ рдФрд░ <em>bpp</em> рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЪрд┐рддреНрд░ рдореЗрдВ <code>w = 4</code> рдкрд┐рдХреНрд╕реЗрд▓ рдХреА рдЪреМрдбрд╝рд╛рдИ рд╣реИ рдФрд░ рдЗрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ 3 рдмрд╛рдЗрдЯреНрд╕ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╕реНрдЯреНрд░рд┐рдВрдЧ 12 рдХреЗ рд╕рд╛рде рдПрдиреНрдХреЛрдбреЗрдб рд╣реИ (рд╕рд╛рдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ <code>w*bpp</code> ) рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВред </p><br><ul><li>  рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣рдореЗрд╢рд╛ <code>w*bpp</code> рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдПрдиреНрдХреЛрдб рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ;  рдЫрд╡рд┐ рдХреА рдЪреМрдбрд╝рд╛рдИ рдХреЛ рдХреБрдЫ рдЖрдХрд╛рд░ рдореЗрдВ рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдХреНрд╕рд░, "рдЫрд┐рдкреЗ рд╣реБрдП" рдкрд┐рдХреНрд╕рд▓ рдХреЛ рдЗрд╕рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЪрд┐рддреНрд░реЛрдВ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░рдирд╛ рддрдм рдФрд░ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ рдЙрдирдХрд╛ рдЖрдХрд╛рд░ рджреЛ рдХреА рд╢рдХреНрддрд┐ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдлрд╝рд╛рдЗрд▓ рдореЗрдВ 120x120 рдкрд┐рдХреНрд╕реЗрд▓ рдХреА рдЫрд╡рд┐ (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рд╕реБрд▓рдн) рд╣реЛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди 128x128 рдХреА рдЫрд╡рд┐ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  рдЬрдм рдХреЛрдИ рдЪрд┐рддреНрд░ рд╕реНрдХреНрд░реАрди рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЗрди рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдореЗрдВ рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реИред </li></ul><br><p>  рдПрдХ рдЖрдпрд╛рдореА рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдореЗрдВ рдХрд┐рд╕реА рднреА рдкрд┐рдХреНрд╕реЗрд▓ <code>(x, y)</code> рдХрд╛ рд╕рдордиреНрд╡рдп рд╣реИ <code>(y * w + x) * bpp</code> ред  рдпрд╣, рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ, рд╕реНрдкрд╖реНрдЯ рд╣реИ: <code>y</code> рд▓рд╛рдЗрди рдирдВрдмрд░ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдореЗрдВ <code>w</code> рдкрд┐рдХреНрд╕реЗрд▓ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП <code>y * w</code> рд╡рд╛рдВрдЫрд┐рдд рд▓рд╛рдЗрди рдХреА рд╢реБрд░реБрдЖрдд рд╣реИ, рдФрд░ <code>+x</code> рд╣рдореЗрдВ рдЗрд╕рдХреЗ рднреАрддрд░ рд╡рд╛рдВрдЫрд┐рдд <code>x</code> рдЬрд╛рддрд╛ рд╣реИред  рдФрд░ рдЪреВрдВрдХрд┐ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ, рдпрд╣ рд╕рдм рдмрд╛рдЗрдЯ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдЧреБрдгрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВред  рдЪреВрдВрдХрд┐ рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ рдПрдХ рдЧреИрд░-рдЖрдХрд╛рд░ рдХрд╛ рдЖрдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдкреНрд░рд╛рдкреНрдд рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реБрдП, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <code>bpp</code> рдмрд╛рдЗрдЯреНрд╕ рдкрдврд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╡рд╛рдВрдЫрд┐рдд рдкрд┐рдХреНрд╕реЗрд▓ рдХрд╛ рдкреВрд░рд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд╣реЛрдЧрд╛ред </p><br><h2 id="atlas-shrifta">  рдлрд╝реЙрдиреНрдЯ рдПрдЯрд▓рд╕ </h2><br><p>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдореМрдЬреВрджрд╛ рдореЙрдирд┐рдЯрд░ рдПрдХ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рддреАрди рдЙрдкрдкреНрд░рд┐рдХреНрд╕рд▓ - рд▓рд╛рд▓, рдиреАрд▓рд╛ рдФрд░ рд╣рд░рд╛ред  рдпрджрд┐ рдЖрдк рдореЙрдирд┐рдЯрд░ рдХреЛ рдЖрд╡рд░реНрдзрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛: </p><br><p><img src="https://habrastorage.org/webt/w8/nb/c9/w8nbc98aixpbrxgvffsccmxelyk.png"></p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛</a> рдбреНрд░рд╛рдЗрдВрдЧ </li></ul><br><p>  рд╣рдо рдПрд▓рд╕реАрдбреА рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рдореЙрдирд┐рдЯрд░ рд╕реЗ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕ рдкрд╛рда рдХреЛ рдкрдврд╝рддреЗ рд╣реИрдВред  рдмреЗрд╢рдХ, рдиреБрдХрд╕рд╛рди рд╣реИрдВ: </p><br><ul><li>  рд╕рднреА рдореИрдЯреНрд░рд┐рд╕реЗрд╕ рд╕рдмрдкрд┐рдХреНрд╕рд▓ рдХреЗ рдЗрд╕ рдХреНрд░рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдХрднреА-рдХрднреА рдмреАрдЬреАрдЖрд░ред </li><li>  рдпрджрд┐ рдЖрдк рдореЙрдирд┐рдЯрд░ рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓реИрдВрдбрд╕реНрдХреЗрдк рдУрд░рд┐рдПрдВрдЯреЗрд╢рди рдореЗрдВ рдлреЛрди рдХреЛ рджреЗрдЦреЗрдВ), рддреЛ рдкреИрдЯрд░реНрди рднреА рдШреВрдо рдЬрд╛рдПрдЧрд╛ рдФрд░ рдлрд╝реЙрдиреНрдЯ рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрдЧрд╛ред </li><li>  рд╡рд┐рднрд┐рдиреНрди рдореИрдЯреНрд░рд┐рдХреНрд╕ рдУрд░рд┐рдПрдВрдЯреЗрд╢рди рдФрд░ рд╕рдмрдкрд┐рдХреНрд╕рд▓ рдХреА рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреЛ рд╕реНрд╡рдпрдВ рдлреЙрдиреНрдЯ рдХреЛ рд░рд┐рд╡рд╛рдЗрдЬ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </li><li>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдпрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">AMOLED рдбрд┐рд╕реНрдкреНрд▓реЗ</a> рдкрд░ рдХрд╛рдо рдирд╣реАрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░рддрд╛</a> рд╣реИ рдЬреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреЗрдирдЯрд╛рдЗрд▓ рд▓реЗрдЖрдЙрдЯ рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдбрд┐рд╕реНрдкреНрд▓реЗ рдореЛрдмрд╛рдЗрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред </li></ul><br><p>  рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрдкрд┐рдХреНрд╕рд▓ рд╣реИрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдмрдкрд┐рдХреНрд╕рд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реЗрдВрдбрд░рд┐рдВрдЧ</a> рдХрд╣рд▓рд╛рддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред  рдЖрдк рдЯрд╛рдЗрдкреЛрдЧреНрд░рд╛рдлреА рдореЗрдВ рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> ред </p><br><p>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рдореИрдЯ рд╕рд░рдиреЛрд╡ рдиреЗ рдкрд╣рд▓реЗ рд╣реА рдПрдХ рдЫреЛрдЯреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдорд┐рд▓рд┐рдЯреЗрдХреНрд╕</a> рдлрд╝реЙрдиреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдмрдкрд┐рдХреНрд╕рд▓</a> рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрддрд╛ рд▓рдЧрд╛ рд▓рд┐рдпрд╛ред  рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ, рдЙрдиреНрд╣реЛрдВрдиреЗ рдпрд╣ рдЫреЛрдЯреА рддрд╕реНрд╡реАрд░ рдмрдирд╛рдИ: </p><br><p><img src="https://habrastorage.org/webt/p7/jk/xe/p7jkxececbln6pxlatfoa9kyymq.png"></p><br><p>  рдЬреЛ, рдпрджрд┐ рдЖрдк рдореЙрдирд┐рдЯрд░ рдХреЛ рдмрд╣реБрдд рдзреНрдпрд╛рди рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдРрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/8n/wz/fq/8nwzfqilnvn_jronmwqbfnodllg.png"></p><br><p>  рдФрд░ рдпрд╣рд╛рдБ рдпрд╣, рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ 12 рдЧреБрдирд╛ рдмрдврд╝рд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/fa/9p/us/fa9puspiilp5ip-50cuyxfyrdva.png"></p><br><p>  рдЙрдирдХреЗ рдХрд╛рдо рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдореИрдВрдиреЗ рдПрдХ рдлреЙрдиреНрдЯ рдПрдЯрд▓рд╕ рдмрдирд╛рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдг <code>1x5</code> рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рдХреЙрд▓рдо рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред  рд╡рд░реНрдг рдХреНрд░рдо рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: </p><br><pre> <code class="plaintext hljs">0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ</code> </pre> <br><p><img src="https://habrastorage.org/webt/qe/ip/_v/qeip_vlwmjwfnnbbuz9cq6rhfn4.png"></p><br><p>  рд╡рд╣реА рдПрдЯрд▓рд╕ 12 рдЧреБрдирд╛ рдмрдврд╝ рдЧрдпрд╛: </p><br><p><img src="https://habrastorage.org/webt/m3/ds/eg/m3dseggtbsmpgnmvlekvlz2aqow.png"></p><br><p>  рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП 36 рд╡рд░реНрдгреЛрдВ рдХреЗ рд╕рд╛рде, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <code>365</code> рдкрд┐рдХреНрд╕реЗрд▓ <code>365</code> рд╣реЛрддреЗ рд╣реИрдВред  рдпрджрд┐ рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкрд┐рдХреНрд╕реЗрд▓ 3 рдмрд╛рдЗрдЯреНрд╕ рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░ рд▓реЗрддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдкреВрд░реА рддрд╕реНрд╡реАрд░ (рд▓рдЧрднрдЧ) рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>36*5*3 = 540</code> рдмрд╛рдЗрдЯреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ <em>ред рдореВрд▓ рдореЗрдВ, рдЕрд▓реНрдлрд╛ рдЪреИрдирд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрдкрд╛рджрди рдХреА рдПрдХ рднреНрд░рд╛рдордХ рд╢реНрд░реГрдВрдЦрд▓рд╛, рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЛ рд╣рдЯрд╛рдиреЗ, рдЖрджрд┐)ред nред рдЕрдиреБрд╡рд╛рдж рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕реЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдФрд░ рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЕрдВрддрд┐рдо рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛</em> )ред  PNG рдлрд╛рдЗрд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреАрдВрдЧрдХреНрд░рд╢</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдкреНрдЯрд┐рдкрдВрдЧ</a> рд╕реЗ рд╣реЛрдХрд░ рдЧреБрдЬрд░рддреА рд╣реИ рдФрд░ рднреА рдХрдо рд▓рдЧрддреА рд╣реИ: </p><br><pre> <code class="plaintext hljs"># wc -c &lt; font-crushed.png 390</code> </pre> <br><p>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЕрдкрдирд╛рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдФрд░ рднреА рдЫреЛрдЯреЗ рдЖрдХрд╛рд░ рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </p><br><h1 id="szhatie">  рджрдмрд╛рд╡ </h1><br><p>  рдЪреМрдХрд╕ рдкрд╛рдардХ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдПрдЯрд▓рд╕ рдХреЗрд╡рд▓ 7 рд░рдВрдЧреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ: </p><br><ol><li> <code>#ffffff</code> </li> <li> <code>#ff0000</code> </li> <li> <code>#00ff00</code> </li> <li> <code>#0000ff</code> </li> <li> <code>#00ffff</code> </li> <li> <code>#ff00ff</code> </li> <li> <code>#ffff00</code> </li> </ol><br><h2 id="palitra">  рдкреИрд▓реЗрдЯ </h2><br><p>  рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рдкреИрд▓реЗрдЯ рдмрдирд╛рдирд╛ рдЕрдХреНрд╕рд░ рдЖрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИред  рдлрд┐рд░ рдкреНрд░рддреНрдпреЗрдХ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рд▓рд┐рдП рдЖрдк рддреАрди рдмрд╛рдЗрдЯреНрд╕ рд░рдВрдЧ рдирд╣реАрдВ рдЬрдорд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдкреИрд▓реЗрдЯ рдореЗрдВ рд░рдВрдЧ рд╕рдВрдЦреНрдпрд╛ред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, 3 рдмрд┐рдЯреНрд╕ ( <code>7 &lt; 2^3</code> ) 7 рд░рдВрдЧреЛрдВ рдореЗрдВ рд╕реЗ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдВрдЧреЗред  рдпрджрд┐ рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рддреАрди-рдмрд┐рдЯ рдорд╛рди рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдВрдкреВрд░реНрдг рдПрдЯрд▓рд╕ <em>68 рдмрд╛рдЗрдЯреНрд╕</em> рдореЗрдВ рдлрд┐рдЯ рд╣реЛрдЧрд╛ред </p><br><ul><li>  рдкрд╛рдардХ, рдбреЗрдЯрд╛ рд╕рдВрдкреАрдбрд╝рди рдореЗрдВ рдирд┐рдкреБрдг, рдЙрддреНрддрд░ рджреЗ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░ "рдЕрдВрд╢ рдмрд┐рдЯреНрд╕" рдЬреИрд╕реА рдХреЛрдИ рдЪреАрдЬ рд╣реИ рдФрд░ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ <strong>рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓ 2.875 рдмрд┐рдЯреНрд╕</strong> рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВред  рдпрд╣ рдШрдирддреНрд╡ рдХрд╛рд▓рд╛ рдЬрд╛рджреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдВрдХрдЧрдгрд┐рдд рдХреЛрдбрд┐рдВрдЧ рдХреЗ</a> рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдВрдХрдЧрдгрд┐рдд рдХреЛрдбрд┐рдВрдЧ рдПрдХ рдЬрдЯрд┐рд▓ рдмрд╛рдд рд╣реИ, рдФрд░ 68 рдмрд╛рдЗрдЯреНрд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рд╕рд╛ рд╣реИред </li></ul><br><h2 id="vyravnivanie">  рд╕рдВрд░реЗрдЦрдг </h2><br><p>  рддреАрди-рдмрд┐рдЯ рдХреЛрдбрд┐рдВрдЧ рдореЗрдВ рдПрдХ рдЧрдВрднреАрд░ рдЦрд╛рдореА рд╣реИред  рдкрд┐рдХреНрд╕реЗрд▓ рд╕рдорд╛рди рд░реВрдк рд╕реЗ 8-рдмрд┐рдЯ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдмрд╛рдЗрдЯреНрд╕ рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ рдкрддреЗ рдпреЛрдЧреНрдп рдореЗрдореЛрд░реА рдХреНрд╖реЗрддреНрд░ рд╣реИрдВред  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдо рддреАрди рдкрд┐рдХреНрд╕реЗрд▓ рдмрдЪрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">ABC</code> </pre> <br><p>  рдпрджрд┐ рдкреНрд░рддреНрдпреЗрдХ 3 рдмрд┐рдЯреНрд╕ рд▓реЗрддрд╛ рд╣реИ, рддреЛ рдЙрдиреНрд╣реЗрдВ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 2 рдмрд╛рдЗрдЯреНрд╕ рд▓рдЧреЗрдВрдЧреЗ ( <code>-</code> рдЕрдкреНрд░рдпреБрдХреНрдд рдмрд┐рдЯреНрд╕ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ): </p><br><pre> <code class="plaintext hljs">bit 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 pixel AAABBBCCC - - - - - - -</code> </pre> <br><p>  рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ, рдкрд┐рдХреНрд╕реЗрд▓ <strong>рд╕реА</strong> рдЦрд╛рд▓реА рдЬрдЧрд╣ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдирд╣реАрдВ рдЫреЛрдбрд╝рддрд╛ рд╣реИ;  рдпрд╣ рджреЛ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдмреАрдЪ <em>рдлрдЯрд╛</em> рд╣реБрдЖ рд╣реИред  рдЬрдм рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд┐рдХреНрд╕реЗрд▓ рдЬреЛрдбрд╝рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЙрдиреНрд╣реЗрдВ рдмрд╛рдЗрдЯ рд╕реАрдорд╛рдУрдВ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╕рдорд╛рдзрд╛рди рдкреНрд░рддрд┐ рдкрд┐рдХреНрд╕реЗрд▓ рдирд┐рдмрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ 8 рдХреЛ 4 рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдЗрдЯ рдореЗрдВ рдмрд┐рд▓реНрдХреБрд▓ рджреЛ рдкрд┐рдХреНрд╕реЗрд▓ рд░рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдПрдЯрд▓рд╕ рдХрд╛ рдЖрдХрд╛рд░ рдПрдХ рддрд┐рд╣рд╛рдИ рдмрдврд╝ рдЬрд╛рдПрдЧрд╛, <strong>68 рдмрд╛рдЗрдЯреНрд╕</strong> рд╕реЗ <strong>90 рдмрд╛рдЗрдЯреНрд╕ рддрдХ</strong> ред </p><br><ul><li>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдлрд╛рдЗрд▓ рдХреЛ palindrome рдХреЛрдбрд┐рдВрдЧ, рдЕрдВрддрд░рд╛рд▓ рдХреЛрдбрд┐рдВрдЧ рдФрд░ рдЕрдиреНрдп рд╕рдВрдкреАрдбрд╝рди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рднреА рдЫреЛрдЯрд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЕрдВрдХрдЧрдгрд┐рдд рдХреЛрдбрд┐рдВрдЧ рдХреА рддрд░рд╣, рд╣рдо рдЕрдЧрд▓реЗ рд▓реЗрдЦ рддрдХ рдЗрди рддрдХрдиреАрдХреЛрдВ рдХреЛ рд╕реНрдердЧрд┐рдд рдХрд░ рджреЗрддреЗ рд╣реИрдВред </li></ul><br><h2 id="bitovyy-bufer">  рдмрд┐рдЯ рдмрдлрд░ </h2><br><p>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, 3-рдмрд┐рдЯ рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рдореМрд▓рд┐рдХ рд░реВрдк рд╕реЗ рдЕрд╕рдВрднрд╡ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред  рдЖрдкрдХреЛ рдмрд╕ рдЗрд╕ рдмрд╛рдд рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдмрд╛рдЗрдЯ рдХреЗ рдЕрдВрджрд░ рд╣рдо рдХрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ рдпрд╛ рдкрдврд╝ рд░рд╣реЗ рд╣реИрдВред  рдирд┐рдореНрди рд╕рд╛рдзрд╛рд░рдг рд╡рд░реНрдЧ 3-рдмрд┐рдЯ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдПрдХ рд╕рд░рдгреА рдореЗрдВ рдХрдирд╡рд░реНрдЯ рдХрд░рддрд╛ рд╣реИред </p><br><ul><li>  рдкрдардиреАрдпрддрд╛ рдХрд╛рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдХреЛрдб рдХреЛ JS рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╡рд┐рдзрд┐ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рд╣реИред </li><li>  рдХрдо рдмрд╛рдЗрдЯ рд╕реЗ рдЙрдЪреНрдЪ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдЯрд┐рд▓ рдПрдВрдбрд┐рдпрди</a> ) рдХреЗ рд▓рд┐рдП рдкреНрд░рдпреБрдХреНрдд рдЖрджреЗрд╢ </li></ul><br><pre> <code class="plaintext hljs">class BitBuffer { constructor(bytes) { this.data = new Uint8Array(bytes); this.offset = 0; } write(value) { for (let i = 0; i &lt; 3; ) { // bits remaining const remaining = 3 - i; // bit offset in the byte ie remainder of dividing by 8 const bit_offset = this.offset &amp; 7; // byte offset for a given bit offset, ie divide by 8 const byte_offset = this.offset &gt;&gt; 3; // max number of bits we can write to the current byte const wrote = Math.min(remaining, 8 - bit_offset); // mask with the correct bit-width const mask = ~(0xff &lt;&lt; wrote); // shift the bits we want to the start of the byte and mask off the rest const write_bits = value &amp; mask; // destination mask to zero all the bits we're changing first const dest_mask = ~(mask &lt;&lt; bit_offset); value &gt;&gt;= wrote; // write it this.data[byte_offset] = (this.data[byte_offset] &amp; dest_mask) | (write_bits &lt;&lt; bit_offset); // advance this.offset += wrote; i += wrote; } } to_string() { return Array.from(this.data, (byte) =&gt; ('0' + (byte &amp; 0xff).toString(16)).slice(-2)).join(''); } };</code> </pre> <br><p>  рдЖрдЗрдП рдПрдЯрд▓рд╕ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рдПрдирдХреЛрдб рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">const PNG = require('png-js'); const fs = require('fs'); // this is our palette of colors const Palette = [ [0xff, 0xff, 0xff], [0xff, 0x00, 0x00], [0x00, 0xff, 0x00], [0x00, 0x00, 0xff], [0x00, 0xff, 0xff], [0xff, 0x00, 0xff], [0xff, 0xff, 0x00] ]; // given a color represented as [R, G, B], find the index in palette where that color is function find_palette_index(color) { const [sR, sG, sB] = color; for (let i = 0; i &lt; Palette.length; i++) { const [aR, aG, aB] = Palette[i]; if (sR === aR &amp;&amp; sG === aG &amp;&amp; sB === aB) { return i; } } return -1; } // build the bit buffer representation function build(cb) { const data = fs.readFileSync('subpixels.png'); const image = new PNG(data); image.decode(function(pixels) { // we need 3 bits per pixel, so w*h*3 gives us the # of bits for our buffer // however BitBuffer can only allocate bytes, dividing this by 8 (bits for a byte) // gives us the # of bytes, but that division can result in 67.5 ... Math.ceil // just rounds up to 68. this will give the right amount of storage for any // size atlas. let result = new BitBuffer(Math.ceil((image.width * image.height * 3) / 8)); for (let y = 0; y &lt; image.height; y++) { for (let x = 0; x &lt; image.width; x++) { // 1D index as described above const index = (y * image.width + x) * 4; // extract the RGB pixel value, ignore A (alpha) const color = Array.from(pixels.slice(index, index + 3)); // write out 3-bit palette index to the bit buffer result.write(find_palette_index(color)); } } cb(result); }); } build((result) =&gt; console.log(result.to_string()));</code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЕрдкреЗрдХреНрд╖рд┐рдд рдерд╛, рдПрдЯрд▓рд╕ <strong>68 рдмрд╛рдЗрдЯреНрд╕</strong> рдлрд┐рдЯ рдмреИрдарддрд╛ рд╣реИ, рдЬреЛ рдкреАрдПрдирдЬреА рдлрд╝рд╛рдЗрд▓ рд╕реЗ 6 рдЧреБрдирд╛ рдЫреЛрдЯрд╛ рд╣реИред </p><br><p>  ( <em>рдзреНрдпрд╛рди рджреЗрдВ: рд▓реЗрдЦрдХ рдХреБрдЫ рд╣рдж рддрдХ рдЕрд╕рднреНрдп рд╣реИ: рдЙрд╕рдиреЗ рдкреИрд▓реЗрдЯ рдФрд░ рдЫрд╡рд┐ рдЖрдХрд╛рд░ рдХреЛ рдирд╣реАрдВ рдмрдЪрд╛рдпрд╛, рдЬреЛ рдореЗрд░реЗ рдЕрдиреБрдорд╛рдиреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкреИрд▓реЗрдЯ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде 23 рдмрд╛рдЗрдЯреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдФрд░ рдЫрд╡рд┐ рдХрд╛ рдЖрдХрд╛рд░ 91 рдмрд╛рдЗрдЯреНрд╕ рддрдХ рдмрдврд╝рд╛ рджреЗрдЧрд╛</em> ) </p><br><p>  рдЕрдм рдЗрдореЗрдЬ рдХреЛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдмрджрд▓рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЖрдк рдЗрд╕реЗ рд╕реЛрд░реНрд╕ рдХреЛрдб рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░ рд╕рдХреЗрдВред  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, <code>to_string</code> рд╡рд┐рдзрд┐ <code>to_string</code> : рдпрд╣ рдПрдХ рд╣реЗрдХреНрд╕рд╛рдбреЗрд╕рд┐рдорд▓ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдЗрдЯ рдХреА рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ <code>to_string</code> ред </p><br><pre> <code class="plaintext hljs">305000000c0328d6d4b24cb46d516d4ddab669926a0ddab651db76150060009c0285 e6a0752db59054655bd7b569d26a4ddba053892a003060400d232850b40a6b61ad00</code> </pre> <br><p>  рд▓реЗрдХрд┐рди рдкрд░рд┐рдгрд╛рдореА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЕрднреА рднреА рдХрд╛рдлреА рд▓рдВрдмреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдЦреБрдж рдХреЛ 16 рд╡рд░реНрдгреЛрдВ рдХреА рд╡рд░реНрдгрдорд╛рд▓рд╛ рддрдХ рд╕реАрдорд┐рдд рдХрд░ рд▓рд┐рдпрд╛ рд╣реИред  рдЖрдк рдЗрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреЗрд╕ 64 рд╕реЗ</a> рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдХрдИ рдкрд╛рддреНрд░реЛрдВ рдХреЗ рдЪрд╛рд░ рдЧреБрдирд╛ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">to_string() { return Buffer.from(this.data).toString('base64'); }</code> </pre> <br><p>  Base64 рдореЗрдВ, рдПрдЯрд▓рд╕ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">MFAAAAwDKNbUsky0bVFtTdq2aZJqDdq2Udt2FQBgAJwCheagdS21kFRlW9e1adJqTdugU4kqADBgQA0jKFC0CmthrQA=</code> </pre> <br><p>  рдЗрд╕ рд▓рд╛рдЗрди рдХреЛ рдЬреЗрдПрд╕ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рд╣рд╛рд░реНрдбрдХреЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рддреЗрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><h1 id="rasterizaciya">  рд░реИрд╕реНрдЯрд░рд╛рдЗрдЬрд╝реЗрд╢рди </h1><br><p>  рд╕реНрдореГрддрд┐ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдмрд╛рд░ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдЕрдХреНрд╖рд░ рдХреЛ рдбрд┐рдХреЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><pre> <code class="plaintext hljs">const Alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'; const Atlas = Uint8Array.from(Buffer.from('MFAAAAwDKNbUsky0bVFtTdq2aZJqDdq2Udt2FQBgAJwCheagdS21kFRlW9e1adJqTdugU4kqADBgQA0jKFC0CmthrQA=', 'base64')); const Palette = [ [0xff, 0xff, 0xff], [0xff, 0x00, 0x00], [0x00, 0xff, 0x00], [0x00, 0x00, 0xff], [0x00, 0xff, 0xff], [0xff, 0x00, 0xff], [0xff, 0xff, 0x00] ]; // at the given bit offset |offset| read a 3-bit value from the Atlas read = (offset) =&gt; { let value = 0; for (let i = 0; i &lt; 3; ) { const bit_offset = offset &amp; 7; const read = Math.min(3 - i, 8 - bit_offset); const read_bits = (Atlas[offset &gt;&gt; 3] &gt;&gt; bit_offset) &amp; (~(0xff &lt;&lt; read)); value |= read_bits &lt;&lt; i; offset += read; i += read; } return value; }; // for a given glyph |g| unpack the palette indices for the 5 vertical pixels unpack = (g) =&gt; { return (new Uint8Array(5)).map((_, i) =&gt; read(Alphabet.length*3*i + Alphabet.indexOf(g)*3)); }; // for given glyph |g| decode the 1x5 vertical RGB strip decode = (g) =&gt; { const rgb = new Uint8Array(5*3); unpack(g).forEach((value, index) =&gt; rgb.set(Palette[value], index*3)); return rgb; }</code> </pre> <br><p>  <code>decode</code> рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдЪрд░рд┐рддреНрд░ рдХреЛ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рд╕реНрд░реЛрдд рдЫрд╡рд┐ рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдХреЙрд▓рдо рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдЬреЛ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд╣реИ рд╡рд╣ рдпрд╣ рд╣реИ рдХрд┐ рдПрдХрд▓ рд╡рд░реНрдг рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ <strong>5 рдмрд╛рдЗрдЯреНрд╕</strong> рд▓рдЧрддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рд╕рд░рдгреА рдХреЗ рд╡рд╛рдВрдЫрд┐рдд рдЯреБрдХрдбрд╝реЗ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП <strong>~ 1.875</strong> рдмрд╛рдЗрдЯреНрд╕, рдЕрд░реНрдерд╛рддреНред  рдкреНрд░рддрд┐ рдЕрдХреНрд╖рд░ рдФрд╕рдд <strong>6.875</strong> ред  рдпрджрд┐ рдЖрдк рд╡рд░реНрдгрдорд╛рд▓рд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд░рдгреА рдФрд░ <strong>36 рдмрд╛рдЗрдЯреНрд╕</strong> рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <strong>68 рдмрд╛рдЗрдЯреНрд╕</strong> рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ <em>рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд░реВрдк рд╕реЗ</em> рдЖрдк 128 рдмрд╛рдЗрдЯреНрд╕ рд░реИрдо рдХреЗ рд╕рд╛рде рдкрд╛рда рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><ul><li>  рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдпрджрд┐ рдЖрдк рд╕реА рдпрд╛ рдХреЛрдбрд╛рдВрддрд░рдХ рдореЗрдВ рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВред  рдЬреЗрдПрд╕ рдУрд╡рд░рд╣реЗрдб рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдХреЗ рдЦрд┐рд▓рд╛рдл, рдпрд╣ рдореИрдЪреЛрдВ рдкрд░ рдмрдЪрдд рд╣реИред </li></ul><br><p>  рдпрд╣ рдХреЗрд╡рд▓ рдЗрди рд╕реНрддрдВрднреЛрдВ рдХреЛ рдПрдХ рдПрдХрд▓ рдореЗрдВ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдФрд░ рдкрд╛рда рдХреЗ рд╕рд╛рде рдПрдХ рддрд╕реНрд╡реАрд░ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред </p><br><pre> <code class="plaintext hljs">print = (t) =&gt; { const c = t.toUpperCase().replace(/[^\w\d ]/g, ''); const w = c.length * 2 - 1, h = 5, bpp = 3; // * 2 for whitespace const b = new Uint8Array(w * h * bpp); [...c].forEach((g, i) =&gt; { if (g !== ' ') for (let y = 0; y &lt; h; y++) { // copy each 1x1 pixel row to the the bitmap b.set(decode(g).slice(y * bpp, y * bpp + bpp), (y * w + i * 2) * bpp); } }); return {w: w, h: h, data: b}; };</code> </pre> <br><p>  рдпрд╣ рд╕рдмрд╕реЗ рдЫреЛрдЯрд╛ рд╕рдВрднрд╡ рдлрд╝реЙрдиреНрдЯ рд╣реЛрдЧрд╛ред </p><br><pre> <code class="plaintext hljs">const fs = require('fs'); const result = print("Breaking the physical limits of fonts"); fs.writeFileSync(`${result.w}x${result.h}.bin`, result.data);</code> </pre> <br><p>  рдПрдХ рдкрдардиреАрдп рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЫрд╡рд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝рд╛ рд╕рд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрдореЗрдЬрдореИрдЬрд┐рдХ</a> рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="plaintext hljs"># convert -size 73x5 -depth 8 rgb:73x5.bin done.png</code> </pre> <br><p>  рдФрд░ рдпрд╣рд╛рдБ рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/jv/lf/gs/jvlfgsoyr4xbnxsbzuzax3shp4s.png"></p><br><p>  рдпрд╣ рднреА 12 рдЧреБрдирд╛ рдмрдврд╝рд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/6k/jr/6m/6kjr6md92hgpbm7gvs8ia3o1cti.png"></p><br><p>  рдпрд╣ рдЦрд░рд╛рдм рдХреИрд▓рд┐рдмреНрд░реЗрдЯреЗрдб рдореЙрдирд┐рдЯрд░ рдореИрдХреНрд░реЛ рд╕реЗ рд╢реВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/pd/qp/li/pdqplibvzty8wtoxosah5d3phxe.png"></p><br><p>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдпрд╣ рдореЙрдирд┐рдЯрд░ рдкрд░ рдмреЗрд╣рддрд░ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/ge/oz/rh/geozrhsclx2squmratxt8flet1a.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi460697/">https://habr.com/ru/post/hi460697/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi460675/index.html">рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдбреЗрдЯрд╛ рдПрдХреНрд╕рдЯреНрд░реИрдХреНрд╢рди</a></li>
<li><a href="../hi460683/index.html">рд▓рд╛рд░рд╡реЗрд▓ рдЗрд╡реЗрдВрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯрд░ рдФрд░ рдЗрд╡реЗрдВрдЯ рдЬрдирд░реЗрд╢рди рдХреЙрдиреНрд╕реЗрдкреНрдЯ</a></li>
<li><a href="../hi460685/index.html">рд╣рдо nginx рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Google рдбреНрд░рд╛рдЗрд╡ рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi460687/index.html">рдЕрдВрджрд░ рд╕реЗ рдбрд┐рдмреНрдмреЗ рдХреИрд╕реЗ рджрд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi460695/index.html">DAA рдХреНрдпрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдкреНрд░рдгрд╛рд▓реА рдбреНрд░реЛрди рдХреА рдорджрдж рдХреИрд╕реЗ рдХрд░рддреА рд╣реИ?</a></li>
<li><a href="../hi460699/index.html">рд╣реИрдмрд░ рд╡реАрдХрд▓реА # 10 / рд╕реБрдкрд░ рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдИ-рдкрд╛рд╕рдкреЛрд░реНрдЯ, рд╕реНрдорд╛рд░реНрдЯрдлреЛрди рдФрд░ рд░реВрд╕реА, "рдЬрд╛рд╕реВрд╕ рдЧреИрдЬреЗрдЯ", рдЙрдкрдЧреНрд░рд╣реЛрдВ рдХреЗ рдмрд┐рдирд╛ рдЬреАрд╡рди</a></li>
<li><a href="../hi460701/index.html">рдХреЛрд░реНрд╕ "рдбреЗрдЯрд╛ рд╕рд╛рдЗрдВрд╕ рдореЗрдВ рд╢реБрд░реВ": рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рдкрд╣рд▓рд╛ рдХрджрдо</a></li>
<li><a href="../hi460703/index.html">рдЕрд╡рд╕рд░ рдХрд╛ рдиреАрд▓рд╛ рдорд╣рд╛рд╕рд╛рдЧрд░: рд╢реВрдиреНрдп рд╕реЗ 400 рд╣рдЬрд╛рд░ рд╡реАрдбрд┐рдпреЛ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рддрдХ</a></li>
<li><a href="../hi460707/index.html">рдХреНрдпрд╛ рдЦреЗрд▓ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдкреНрд░рд╢рдВрд╕рдХреЛрдВ рдХреЛ рд╕реБрдирдиреЗ рд╕реЗ рд░реЛрдХрдирд╛ рд╣реИ?</a></li>
<li><a href="../hi460709/index.html">рдЪрдВрдЪрд▓рддрд╛ рдкрд░ рдЪрд┐рдВрддрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>