<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜ª ğŸ¤¢ ğŸ§€ ä½¿ç”¨werfå’ŒGitLab CIç»„è£…å’Œéƒ¨ç½²ç›¸åŒçš„å¾®æœåŠ¡ ğŸ ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ ğŸ‘©ğŸ¼â€ğŸ”¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸¤å¹´å‰ï¼Œæˆ‘ä»¬å‘è¡¨äº†æ–‡ç« â€œ ä½¿ç”¨GitLab CIæ„å»ºé¡¹ç›®ï¼šä¸€ä¸ªç”¨äºæ•°ç™¾ä¸ªåº”ç”¨ç¨‹åºçš„.gitlab-ci.yml â€ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬ä»Šå¤©å°†è®¨è®ºè§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚ æ–°ææ–™ä»‹ç»äº†å¦‚ä½•åœ¨.gitlab-ci.ymlä¸­include .gitlab-ci.ymlä»¥åŠç”¨werfæ›¿ä»£dappçš„å‡ºç°æ¥ä¸ºå¤§é‡ç±»ä¼¼çš„åº”ç”¨ç¨‹åº...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨werfå’ŒGitLab CIç»„è£…å’Œéƒ¨ç½²ç›¸åŒçš„å¾®æœåŠ¡</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/469541/"><img src="https://habrastorage.org/webt/m-/6b/h3/m-6bh3ggyovi2pibiz4iwnfraw0.png"><br><br> ä¸¤å¹´å‰ï¼Œæˆ‘ä»¬å‘è¡¨äº†æ–‡ç« â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨GitLab CIæ„å»ºé¡¹ç›®ï¼šä¸€ä¸ªç”¨äºæ•°ç™¾ä¸ªåº”ç”¨ç¨‹åºçš„.gitlab-ci.yml</a> â€ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬ä»Šå¤©å°†è®¨è®ºè§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚ æ–°ææ–™ä»‹ç»äº†å¦‚ä½•åœ¨<code>.gitlab-ci.yml</code>ä¸­<code>include</code> <code>.gitlab-ci.yml</code>ä»¥åŠç”¨werfæ›¿ä»£dappçš„å‡ºç°æ¥ä¸ºå¤§é‡ç±»ä¼¼çš„åº”ç”¨ç¨‹åºæ„å»ºCI / CDæµç¨‹ã€‚ <a name="habracut"></a><br><br><h2> ä»‹ç»æ€§ </h2><br> åœ¨æœ¬æ–‡ç»™å‡ºçš„è¿›ä¸€æ­¥è¯´æ˜ä¸­ï¼Œè€ƒè™‘äº†ä»¥ä¸‹æƒ…å†µï¼š <br><br><ul><li> æœ‰ä¸€ä¸ªå¤§å‹çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œå®ƒåˆ†ä¸ºè®¸å¤šå­˜å‚¨åº“ã€‚ </li><li> æ¯ä¸ªå­˜å‚¨åº“éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨ç¨‹åºï¼Œå¿…é¡»åœ¨Kubernetesé›†ç¾¤ä¸­è¿è¡Œã€‚ </li><li> ä½œä¸ºCIç³»ç»Ÿï¼Œä½¿ç”¨äº†GitLab CIã€‚ </li><li> éƒ¨ç½²ï¼ˆå°†ä»£ç éƒ¨ç½²åˆ°çš„åŸºç¡€ç»“æ„ï¼‰ç”±Helmå›¾è¡¨æè¿°ã€‚ </li><li> ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">werf</a>æ„å»ºæ˜ åƒå¹¶åœ¨Kubernetesä¸­è¿›è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">éƒ¨ç½²</a> ã€‚ </li></ul><br> ä¸ºäº†ç®€å•å’Œæ–¹ä¾¿ï¼ˆå¹¶å‘æ—¶å°šè‡´æ•¬ï¼‰ï¼Œæˆ‘ä»¬å°†ç»§ç»­ç§°è¿™äº›åº”ç”¨ç¨‹åºä¸ºå¾®æœåŠ¡ã€‚  <b>æ‰€æœ‰è¿™äº›å¾®æœåŠ¡éƒ½ä»¥ç›¸åŒçš„æ–¹å¼ç»„è£…ï¼Œéƒ¨ç½²å’Œå¯åŠ¨</b> ï¼Œå¹¶ä¸”ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ç‰¹å®šçš„è®¾ç½®ã€‚ <br><br> æ˜¾ç„¶ï¼Œå¤åˆ¶<code>.gitlab-ci.yml</code> ï¼Œ <code>werf.yaml</code>å’Œ<code>.helm</code>ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ã€‚ æ¯•ç«Ÿï¼Œå¯¹CIçš„ä»»ä½•ç¼–è¾‘ï¼Œç»„è£…è¿‡ç¨‹æˆ–Helm-chartçš„æè¿°éƒ½åº”æ·»åŠ åˆ°å…¶ä»–å­˜å‚¨åº“ä¸­... <br><br><h2> è¿æ¥.gitlab-ci.ymlä¸­çš„æ¨¡æ¿ </h2><br> éšç€GitLab CEä¸­çš„<code>include:file</code>æŒ‡ä»¤ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è‡ª11.7ç‰ˆå¼€å§‹</a> ï¼‰é—®ä¸–ï¼Œåˆ¶ä½œä¸€ä¸ªé€šç”¨CIæˆä¸ºå¯èƒ½ã€‚  <code>include</code>æœ¬èº«å‡ºç°å¾—æ›´æ—©ï¼ˆåœ¨11.4ä¸­ï¼‰ï¼Œä½†æ˜¯å®ƒåªå…è®¸é€šè¿‡<i>å…¬å…±</i> URLè¿æ¥æ¨¡æ¿ï¼Œè¿™åœ¨æŸç§ç¨‹åº¦ä¸Šé™åˆ¶äº†å…¶åŠŸèƒ½ã€‚  GitLabæ–‡æ¡£<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®Œç¾æè¿°äº†</a>æ‰€æœ‰åŠŸèƒ½å’Œç”¨æ³•ç¤ºä¾‹ã€‚ <br><br> å› æ­¤ï¼Œå¯ä»¥æ‹’ç»åœ¨å­˜å‚¨åº“ä¹‹é—´å¤åˆ¶<code>.gitlab-ci.yml</code>å¹¶æ”¯æŒå…¶ç›¸å…³æ€§ã€‚ è¿™æ˜¯ä¸€ä¸ª<code>.gitlab-ci.yml</code>ç¤ºä¾‹ï¼Œå…¶ä¸­<code>include</code> ï¼š <br><br><pre> <code class="plaintext hljs">include: - project: 'infra/gitlab-ci' ref: 1.0.0 file: base-gitlab-ci.yaml - project: 'infra/gitlab-ci' ref: 1.0.0 file: cleanup.yaml</code> </pre> <br> æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨<b>è°¨æ…</b>ä½¿ç”¨<code>ref</code>åˆ†æ”¯åç§°ã€‚  Includeæ˜¯åœ¨åˆ›å»ºç®¡é“æ—¶è®¡ç®—çš„ï¼Œå› æ­¤æ‚¨çš„é…ç½®é¡¹æ›´æ”¹å¯èƒ½åœ¨æœ€ä¸é€‚å½“çš„æ—¶åˆ»è‡ªåŠ¨è½å…¥ç”Ÿäº§ç®¡é“ã€‚ ä½†æ˜¯ï¼Œ <b>åœ¨<code>ref</code>ä½¿ç”¨æ ‡è®°</b>å¯ä»¥è½»æ¾åœ°å¯¹CI / CDæµç¨‹çš„æè¿°è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚ æ›´æ–°æ—¶ï¼Œæ‰€æœ‰å†…å®¹çœ‹èµ·æ¥éƒ½å°½å¯èƒ½é€æ˜ï¼Œå¹¶ä¸”å¦‚æœå¯¹æ ‡è®°ä½¿ç”¨è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼Œåˆ™å¯ä»¥è½»æ¾è·Ÿè¸ªç®¡é“ç‰ˆæœ¬çš„æ›´æ”¹å†å²è®°å½•ã€‚ <br><br><h2> ä»å•ç‹¬çš„å­˜å‚¨åº“è¿æ¥.helm </h2><br> ç”±äºè¿™äº›å¾®æœåŠ¡çš„éƒ¨ç½²å’Œè¿è¡Œæ–¹å¼ç›¸åŒï¼Œå› æ­¤éœ€è¦ç›¸åŒçš„Helmæ¨¡æ¿é›†ã€‚ ä¸ºäº†é¿å…åœ¨å­˜å‚¨åº“ä¹‹é—´å¤åˆ¶<code>.helm</code>ç›®å½•ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å…‹éš†å­˜å‚¨Helmæ¨¡æ¿çš„å­˜å‚¨åº“å¹¶æ£€æŸ¥æ‰€éœ€æ ‡ç­¾çš„æ–¹æ³•ã€‚ å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="bash hljs"> - git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://gitlab-ci-token:<span class="hljs-variable"><span class="hljs-variable">${CI_JOB_TOKEN}</span></span>@gitlab.example.com/infra/helm.git .helm - <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .helm &amp;&amp; git checkout tags/1.0.0 - <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> multiwerf &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> &lt;(multiwerf use 1.0 beta) - <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> werf &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> &lt;(werf ci-env gitlab --tagging-strategy tag-or-branch --verbose) - werf deploy --stages-storage :<span class="hljs-built_in"><span class="hljs-built_in">local</span></span></code> </pre> <br> ä½¿ç”¨gitå­æ¨¡å—ä¹Ÿæœ‰ä¸€äº›å˜åŒ–ï¼Œä½†ä¼¼ä¹æ›´åƒæ˜¯ä¸€ç§è§£å†³æ–¹æ³•... <br><br> ç°åœ¨æœ‰äº†æœ€æ–°çš„werfç‰ˆæœ¬ï¼Œä»–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å°±æœ‰æœºä¼š</a>è¿æ¥æ¥è‡ªå¤–éƒ¨å­˜å‚¨åº“çš„å›¾è¡¨ã€‚ å®Œå…¨æ”¯æŒç¨‹åºåŒ…ç®¡ç†å™¨çš„åŠŸèƒ½ï¼Œä»è€Œä½¿æˆ‘ä»¬èƒ½å¤Ÿ<i>é€æ˜åœ°</i>æè¿°åº”ç”¨ç¨‹åºéƒ¨ç½²çš„ä¾èµ–å…³ç³»ã€‚ <br><br><h2> è¡ŒåŠ¨é¡ºåº </h2><br> è®©æˆ‘ä»¬å›åˆ°è§£å†³å¾®æœåŠ¡é—®é¢˜çš„è§’åº¦ã€‚ è®©æˆ‘ä»¬æé«˜ç”¨äºå­˜å‚¨Helmå›¾è¡¨çš„å­˜å‚¨åº“-ä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ChartMuseum</a> ã€‚ å®ƒå¯ä»¥è½»æ¾åœ°éƒ¨ç½²åˆ°Kubernetesé›†ç¾¤ï¼š <br><br><pre> <code class="bash hljs">helm repo add stable https://kubernetes-charts.storage.googleapis.com helm install stable/chartmuseum --name flant-chartmuseum</code> </pre> <br> æ·»åŠ å…¥å£ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: extensions/v1beta1 kind: Ingress metadata: annotations: kubernetes.io/ingress.class: nginx nginx.ingress.kubernetes.io/force-ssl-redirect: "false" nginx.ingress.kubernetes.io/proxy-body-size: 10m nginx.ingress.kubernetes.io/ssl-redirect: "false" name: chart-museum spec: rules: - host: flant-chartmuseum.example.net http: paths: - backend: serviceName: flant-chartmuseum servicePort: 8080 path: / status: loadBalancer: {}</code> </pre> <br> éƒ¨ç½²<code>flant-chartmuseum</code>éœ€è¦å°†ç¯å¢ƒå˜é‡<code>DISABLE_API</code>æ›´æ”¹ä¸º<code>false</code> ã€‚ å¦åˆ™ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ï¼ŒChartMuseum APIè¯·æ±‚å°†ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”å°†æ— æ³•åˆ›å»ºæ–°å›¾è¡¨ã€‚ <br><br> ç°åœ¨ï¼Œæˆ‘ä»¬æè¿°å°†å­˜å‚¨å…±äº«Helmå›¾è¡¨çš„å­˜å‚¨åº“ã€‚ å…¶ç›®å½•çš„ç»“æ„å¦‚ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">. â”œâ”€â”€ charts â”‚ â””â”€â”€ yii2-microservice â”‚ â”œâ”€â”€ Chart.yaml â”‚ â””â”€â”€ templates â”‚ â”œâ”€â”€ app.yaml â””â”€â”€ README.md</code> </pre> <br>  <code>Chart.yaml</code>å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="plaintext hljs">name: yii2-microservice version: 1.0.4</code> </pre> <br>  <code>templates</code>ç›®å½•åº”åŒ…å«å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°é›†ç¾¤æ‰€éœ€çš„æ‰€æœ‰å¿…è¦çš„KubernetesåŸè¯­ã€‚ æ‚¨å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¾®æœåŠ¡æ˜¯åŸºäºyii2æ¡†æ¶çš„PHPåº”ç”¨ç¨‹åºã€‚ è®©æˆ‘ä»¬ç”¨ä¸¤ä¸ªä½¿ç”¨werfæ„å»ºçš„nginxå’Œphp-fpmå®¹å™¨æè¿°å…¶æœ€å°éƒ¨ç½²ï¼š <br><br><pre> <code class="plaintext hljs">--- apiVersion: apps/v1 kind: Deployment metadata: name: {{ .Values.global.werf.name }} spec: replicas: 1 revisionHistoryLimit: 3 template: metadata: labels: service: {{ .Values.global.werf.name }} spec: imagePullSecrets: - name: registrysecret containers: - name: backend {{ tuple "backend" . | include "werf_container_image" | indent 8 }} command: [ '/usr/sbin/php-fpm7', "-F" ] ports: - containerPort: 9000 protocol: TCP name: http env: {{ tuple "backend" . | include "werf_container_env" | indent 8 }} - name: frontend command: ['/usr/sbin/nginx'] {{ tuple "frontend" . | include "werf_container_image" | indent 8 }} ports: - containerPort: 80 name: http lifecycle: preStop: exec: command: ["/usr/sbin/nginx", "-s", "quit"] env: {{ tuple "frontend" . | include "werf_container_env" | indent 8 }} --- apiVersion: v1 kind: Service metadata: name: {{ .Values.global.werf.name }} spec: selector: service: {{ .Values.global.werf.name }} ports: - name: http port: 80 protocol: TCP</code> </pre> <br> å˜é‡<code>.Values.global.werf.name</code>åŒ…å«<code>werf.yaml</code>æ–‡ä»¶ä¸­é¡¹ç›®çš„åç§°ï¼Œè¯¥æ–‡ä»¶ä½¿æ‚¨å¯ä»¥è·å–æœåŠ¡å’Œéƒ¨ç½²çš„å¿…è¦åç§°ã€‚ <br><br> åœ¨æäº¤åˆ°masteråˆ†æ”¯æ—¶ï¼Œè®©æˆ‘ä»¬æœ€ç®€å•çš„è‡ªåŠ¨åŒ–æ“ä½œæ¥æ¨é€å›¾è¡¨çš„ChartMuseumã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬æè¿°<code>.gitlab-ci.yml</code> ï¼š <br><br><pre> <code class="plaintext hljs">Build and push to chartmuseum: script: - for i in $(ls charts); do helm package "charts/$i"; done; - for i in $(find . -type f -name "*.tgz" -printf "%f\n"); do curl --data-binary "@$i" http://flant-chartmuseum.example.net/api/charts; done; stage: build environment: name: infra only: - master tags: - my-shell-runner-tag</code> </pre> <br> é€šè¿‡æ›´æ”¹<code>Chart.yaml</code>ä¸­çš„ç‰ˆæœ¬æ¥å¯¹å›¾è¡¨è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚ æ‰€æœ‰æ–°å›¾è¡¨å°†è‡ªåŠ¨æ·»åŠ åˆ°ChartMuseumã€‚ <br><br> æˆ‘ä»¬å»ç»ˆç‚¹çº¿ï¼ åœ¨<code>.helm/requirements.yaml</code>çš„é¡¹ç›®å­˜å‚¨åº“ä¸­<code>.helm/requirements.yaml</code>ä¸ºå›¾è¡¨ç¼–å†™ä¾èµ–é¡¹ï¼š <br><br><pre> <code class="plaintext hljs">dependencies: - name: yii2-microservice version: "1.0.4" repository: "@flant"</code> </pre> <br>  ...å¹¶åœ¨åŒ…å«å­˜å‚¨åº“çš„ç›®å½•ä¸­æ‰§è¡Œï¼š <br><br><pre> <code class="bash hljs">werf helm repo init werf helm repo add flant http://flant-chartmuseum.example.net werf helm dependency update</code> </pre> <br> æˆ‘ä»¬<code>.helm/requirements.lock</code> ã€‚ ç°åœ¨ï¼Œè¦å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°é›†ç¾¤ï¼Œåœ¨è¿è¡Œ<code>werf deploy</code>ä¹‹å‰è¿è¡Œ<code>werf deploy</code> <code>werf helm dependency build</code>å°±<code>werf deploy</code> ã€‚ <br><br> è¦æ›´æ–°åº”ç”¨ç¨‹åºéƒ¨ç½²çš„æè¿°ï¼Œæ‚¨ç°åœ¨éœ€è¦éå†å¸¦æœ‰å¾®æœåŠ¡çš„å­˜å‚¨åº“ï¼Œå¹¶åº”ç”¨ä¸€äº›å…·æœ‰è¡¥ä¸çš„å°è¡¥ä¸ç¨‹åºï¼Œè¿™äº›è¡¥ä¸ä¼šæ›´æ”¹Requirements.yamlå’Œ<code>requirements.yaml</code>çš„å“ˆå¸Œå€¼å’Œæ ‡è®°ã€‚ å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥é€šè¿‡CIè‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œï¼šæˆ‘ä»¬å·²ç»åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Šè¿°æ–‡ç« ä¸­</a>ä»‹ç»äº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œã€‚ <br><br><h2> ç»“è®º </h2><br> æˆ‘å¸Œæœ›æ‰€æè¿°çš„ä¸ºç±»ä¼¼åº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„æ“ä½œé¡ºåºå°†å¯¹é¢ä¸´ç±»ä¼¼é—®é¢˜çš„å·¥ç¨‹å¸ˆæœ‰ç”¨ã€‚ æˆ‘ä»¬å¾ˆä¹æ„åˆ†äº«ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">werfçš„</a>å…¶ä»–å®ç”¨ç§˜è¯€ã€‚ å› æ­¤ï¼Œå¦‚æœæ‚¨é‡åˆ°éš¾ä»¥å…‹æœæˆ–éš¾ä»¥ç†è§£çš„å›°éš¾ï¼Œè¯·éšæ—¶ä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Telegram</a>è”ç³»æˆ–åœ¨è¯„è®ºä¸­ä¿ç•™å¯¹å°†æ¥ææ–™çš„è¦æ±‚ã€‚ <br><br><h2> èšè‹¯ä¹™çƒ¯ </h2><br> å¦è¯·å‚é˜…æˆ‘ä»¬çš„åšå®¢ï¼š <br><br><ul><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨GitLab CIæ„å»ºé¡¹ç›®ï¼šä¸€ä¸ªç”¨äºæ•°ç™¾ä¸ªåº”ç”¨ç¨‹åºçš„.gitlab-ci.yml</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitLab CIå¯åœ¨ç”Ÿäº§ä¸­è¿›è¡ŒæŒç»­é›†æˆå’Œäº¤ä»˜ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬1éƒ¨åˆ†ï¼šæˆ‘ä»¬çš„ç®¡é“</a> â€ï¼› </li><li> å…³äºwerfåˆ›æ–°çš„ä¸€ç³»åˆ—è¯´æ˜ï¼š <br><ul><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨werfæ¨å‡ºå¤æ‚çš„Helmå›¾è¡¨</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨werfä¸­æ”¯æŒmonorepoå’Œmultirepoï¼Œä»¥åŠDocker Registryä¸å®ƒæœ‰ä»€ä¹ˆå…³ç³»</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨æ™®é€šçš„Dockerfileåœ¨werfä¸­æ„å»ºDockeræ˜ åƒ</a> ã€‚â€ </li></ul></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN469541/">https://habr.com/ru/post/zh-CN469541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN469527/index.html">å¯¹è®²æœºæ˜¯é—´è°çš„è€³æœµå—ï¼Ÿ</a></li>
<li><a href="../zh-CN469529/index.html">æ–‡å­—æ¸²æŸ“è®¨åŒä½ </a></li>
<li><a href="../zh-CN469531/index.html">â€œåœ¨æ›´å¥½çš„åŸºç¡€ä¸Šæ¯”è¾ƒç¼–ç¨‹è¯­è¨€æ˜¯å®Œå…¨æ„šè ¢çš„èŒä¸šã€‚â€</a></li>
<li><a href="../zh-CN469533/index.html">ç”Ÿç‰©è¯†åˆ«çš„é—®é¢˜å’Œå¨èƒ</a></li>
<li><a href="../zh-CN469537/index.html">é€šè¿‡Snakeäº†è§£Swift</a></li>
<li><a href="../zh-CN469543/index.html">DirectisRXæœåŠ¡çš„Redisæ‰©å±•å’Œæ•…éšœè½¬ç§»</a></li>
<li><a href="../zh-CN469545/index.html">Linuxå†…æ ¸5.3çš„æ–°å¢åŠŸèƒ½-ç½‘ç»œå­ç³»ç»Ÿä¸­çš„å›¾å½¢é©±åŠ¨ç¨‹åºï¼Œè™šæ‹ŸåŒ–å’Œä¿®æ”¹</a></li>
<li><a href="../zh-CN469549/index.html">æˆ‘ä»¬å¦‚ä½•ä¸ºWindows VPSæ”¯ä»˜99å¢å¸ƒçš„å…³ç¨</a></li>
<li><a href="../zh-CN469551/index.html">å¸¦è§†é¢‘å¡çš„VDS-æˆ‘ä»¬å¯¹å˜æ€çŸ¥è¯†äº†è§£å¾ˆå¤š</a></li>
<li><a href="../zh-CN469555/index.html">å¹¿æ’­ï¼šè«æ–¯ç§‘Kubernetesèšä¼šï¼ƒ6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>