<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏾 👩🏿‍⚖️ 👩🏼‍⚕️ Encore une fois sur les composants web ... 🧦 🏻 💃🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chaque fois, lorsqu'un groupe de standards Web Components est mentionné dans un article ou dans des commentaires, presque la même chose se produit: de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encore une fois sur les composants web ...</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422499/"><img src="https://habrastorage.org/webt/-o/mo/1i/-omo1imce71dgtpvmxin4ekbfwy.png"><br><br>  Chaque fois, lorsqu'un groupe de standards Web Components est mentionné dans un article ou dans des commentaires, presque la même chose se produit: des gens qui, souvent, ont très peu d'idée de ce qui est en jeu, commencent à partager des opinions «d'experts».  A chaque fois, les discussions glissent dans un même scénario, dont le nom rime avec le mot "tour".  Et j'aimerais beaucoup une transition positive, constructive et vers des questions d'application pratique.  Dans cet article, je vais essayer de répondre immédiatement à la grande majorité des questions typiques et réfuter le maximum d'idées fausses courantes.  Par la suite, dans une situation difficile, il sera possible de battre avec un seul lien.  Alors allons-y. <br><a name="habracut"></a><br><h2>  Les bases </h2><br>  Les composants Web sont un ensemble de spécifications modernes comprenant les éléments de base suivants: <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Éléments personnalisés</a></b> - une capacité native de créer vos propres balises HTML, avec le comportement, l'apparence et votre propre balisage interne spécifiés. <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow DOM</a></b> - séparation de la structure interne du composant avec encapsulation des styles internes et du reste du corps du document. <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modèle</a></b> - une balise spéciale qui vous permet de stocker des morceaux de balisage, de les appliquer et de les réutiliser si nécessaire. <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importations HTML</a></b> - la possibilité d'importer des blocs HTML stockés dans d'autres fichiers HTML <br><br>  Le plat de tout ce qui précède peut être assaisonné avec des variables CSS natives, des modules ES natifs et une poussée de serveur HTTP / 2.  Il y a également des emplacements, des attributs personnalisés, des événements personnalisés et d'autres détails.  À leur sujet un peu plus tard, lorsque nous passerons à la pratique. <br><br><h2>  Oui, ces composants Web ne sont presque pas pris en charge. </h2><br>  Les chiffres secs sont les meilleurs amis d'un ingénieur.  Jetons un œil à «presque nulle part» sous cet angle: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Éléments personnalisés</a> - 78,71% <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DOM fantôme</a> - 79,12% <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modèle</a> - 89,61% <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importations HTML</a> - 69,16% <br><br>  Comme nous pouvons le voir, les technologies ci-dessus fonctionnent dans les navigateurs pour la grande majorité des utilisateurs.  Les importations HTML gâchent un peu l'image, mais nous ne sommes pas obligés d'utiliser l'ensemble complet (je préfère les modules ES natifs pour tout décomposer en blocs pratiques), même individuellement, vous pouvez en trouver beaucoup de «savoureux» sur cette liste. <br><br>  Je recommande fortement de ne pas me faire confiance aveuglément, mais de suivre les liens fournis.  Là, par exemple, vous pouvez voir l'état actuel de ces spécifications et le fait que les éléments personnalisés et le Shadow DOM <b>ont reçu un support complet dans Firefox, à partir de la version 63</b> .  Lorsque la plupart des utilisateurs de renards passeront à cette version, et que ce moment approche à grands pas, les chiffres globaux deviendront encore plus attrayants.  De plus, vous avez peut-être remarqué la «prise en charge incomplète» des éléments personnalisés et du Shadow DOM dans Safari.  Un navigateur Apple ne vous permettra pas d'hériter votre composant d'un élément de navigateur natif intégré, tel qu'un bouton, une sélection, etc.  Safari a également quelques nuances dans les sélecteurs CSS lors de l'utilisation du DOM fantôme.  En pratique, il est tout à fait possible de vivre avec et de ne pas pleurer.  Apparemment, par tradition, Microsoft Edge est un outsider parmi les navigateurs modernes.  Les développeurs affirment que le support est en cours d'implémentation.  Nous attendons. <br><br><h2>  Eh bien, que faire du reste ~ 20% des utilisateurs? </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les Polyfiles</a> peuvent être utilisés pour soutenir ces gars-là.  Oui, cela fonctionnera un peu plus lentement avec les polyphiles, mais ce n'est pas perceptible à l'œil nu.  Mais pour tout le monde - ce sera plus rapide. <br><br><h2>  Nous avons essayé il y a cinq ans de réaliser un projet sur le polymère.  Tout était terriblement lent. </h2><br>  En ces temps «lointains», le projet de norme (v0) faisait rage, dont le support n'était implémenté que dans Chrome.  Depuis lors, beaucoup de choses ont changé: une nouvelle version de la norme, la v1, a été adoptée, la prise en charge native a été mise en œuvre dans divers navigateurs, les polyphiles ont été réécrits et les bonnes pratiques sont allées jusqu'au bout.  Le polymère lui-même est passé d'un aperçu technologique à une solution complètement fonctionnelle, ce qui est agréable à gérer. <br><br><h2>  Certains polymères ... De quoi s'agit-il? </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Polymer</a> est une bibliothèque pour créer des composants Web.  Il implémente la prise en charge de tout ce «sucre» auquel nous sommes si habitués lorsque nous travaillons avec des frameworks frontaux populaires: liaisons de données dynamiques, répéteurs pour travailler avec des tableaux, etc. À l'heure actuelle, la 3ème version stable a déjà été publiée cette bibliothèque.  Le développement est réalisé avec la participation active des développeurs Chrome.  L'écosystème est maintenu par Google.  <s>La longueur totale de la barbe des développeurs est ...</s> <br><br><h2>  Quand utiliser les composants Web? </h2><br>  <b>Si vous avez besoin d'une bibliothèque partagée universelle de composants d'interface utilisateur.</b>  Un cas dans la vie: un projet dans lequel l'application principale est écrite dans React et le back office dans Angular.  Et je veux la similitude et toutes sortes de réutilisation de la base de code.  Et les composants Web se sentent bien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>dans différents écosystèmes</b></a> . <br><br>  <b>Si vous êtes proche de la conception dans l'approche du navigateur</b> .  Vous pouvez créer sans reconstruire constamment l'application et sans dépendances inutiles.  Cela rend le prototypage une expérience très agréable et permet à votre application d'évoluer en douceur de l'état du prototype à l'état de la version de production.  J'adore ça. <br><br>  <b>Si vous aimez le bon vieux POO</b> : créez une classe en héritant d'un élément HTML, implémentez-y les fonctionnalités et les chignons souhaités, puis héritez-en des classes pour des composants spécialisés.  Et maintenant, vous avez votre propre microframework.  La beauté! <br><br>  <b>Si vous détestez BEM</b> : Shadow DOM isole les styles de composants.  Pas besoin de nommage monstrueux à plusieurs étages, ni de navigation vers les déclarations dans un tas CSS commun.  Tout est compact dans un composant: styles, mise en page, logique. <br><br>  <b>Si vous développez des applications basées sur Electron.</b>  La version actuelle de Chromium in Electron prend déjà en charge tout ce dont vous avez besoin.  Malgré le décalage général dans les versions. <br><br>  <b>Si vous voulez écrire votre framework / bibliothèque.</b>  Les composants Web sont une excellente base de composition pour de telles expériences. <br><br>  <b>Si vous avez besoin d'une approche hybride: vous implémentez des pages Web classiques avec des éléments SPA</b> : les balises personnalisées peuvent être utilisées avec n'importe quel moteur de modèle de serveur, elles peuvent simplement faire partie du balisage général et définir votre objectif au bon moment.  Vous pouvez maintenir un équilibre délicat entre ce qui est rendu sur le serveur et ce qui fonctionne sur le client. <br><br>  <b>Si vos utilisateurs utilisent des navigateurs modernes.</b>  En soi. <br><br>  <b>Si vous développez PWA</b> : les principales plates-formes mobiles prennent tout en charge.  Pour un démarrage rapide, il existe un <a href="">kit de démarrage pwa</a> . <br><br>  <b>Si vous êtes intéressé par une sécurité accrue des applications et qu'un audit de dépendance détaillé est prohibitif pour vous.</b>  Ici, tout est simple: moins de dépendances - moins de trous non contrôlés. <br><br>  <b>Si vous êtes un optimiseur maniaque et aimez travailler avec l'API DOM</b> : les composants Web font partie de l'API DOM, avec toutes les fonctionnalités standard des éléments DOM ordinaires. <br><br>  <b>Si vous avez brûlé de briser la compatibilité descendante des versions de bibliothèque</b> : lorsque tout est basé sur le standard hardcore, il est en quelque sorte plus fiable. <br><br><h2>  Quand vous ne devez PAS utiliser de composants Web </h2><br>  <b>Lorsque les exigences de votre projet, il est nécessaire de prendre en charge les navigateurs anciens et exotiques.</b>  Dans ce cas, vous ne serez pas envié en général.  Mes condoléances. <br><br>  <b>Lorsque vous développez des produits simples avec un cycle de vie court et que vous n'avez pas besoin de développer une base de code unique.</b> <br><br>  <b>Lorsque vous traitez principalement avec un code hérité.</b> <br><br>  <b>Lorsque vous et vos collègues n'utilisez que quelque chose à la mode et ne voulez rien savoir d'autre.</b> <br><br><h2>  Pourquoi ai-je besoin de tout cela?  J'ai React / Vue / Angular / etc, assez pour moi ... </h2><br>  Ensuite, qu'une partie importante de ce que JavaScript fait dans les bibliothèques et les frameworks populaires peut être déplacée vers une implémentation de navigateur de niveau inférieur.  Par souci de vitesse, réduire la quantité exorbitante de dépendances, réduire la dépendance même des dépendances.  Pour le bien. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422499/">https://habr.com/ru/post/fr422499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422487/index.html">Guide de démarrage rapide des variables CSS (cas d'utilisation, syntaxe et exemples)</a></li>
<li><a href="../fr422491/index.html">L'argent décide. «Nous avons trois développeurs, mais nous ne savons pas comment travailler»</a></li>
<li><a href="../fr422493/index.html">Kubernetes (k8s) + Helm + GitLab CI / CD. Déployer correctement</a></li>
<li><a href="../fr422495/index.html">Conte des anciennes icônes. L'énigme de 18 couleurs. Couleurs transparentes et inverses</a></li>
<li><a href="../fr422497/index.html">L'ICANN a publié un guide détaillé sur ce à quoi s'attendre lors de la mise à niveau du KSK dans la zone racine</a></li>
<li><a href="../fr422501/index.html">De nouveaux processus technologiques pour la production de micropuces sont de plus en plus repoussés - pourquoi?</a></li>
<li><a href="../fr422507/index.html">PHP 7.3. Quoi de neuf</a></li>
<li><a href="../fr422509/index.html">Résumé du livre "Never Eat Alone"</a></li>
<li><a href="../fr422511/index.html">Chargement des données dans Splunk: Universal Forwarder vs Heavy Forwarder. Quelle est la différence?</a></li>
<li><a href="../fr422513/index.html">7 conseils pour ne pas exaspérer un collègue testeur pendant ses vacances</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>