<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍⚖️ 🔜 🧛🏽 VyOS开源路由器 🤲 🛒 🏐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我想为我提出有关VyOS网络路由器的非标准主题。 尼尔·安德森（Neil Anderson）撰写了有关如何在家里部署带有NetApp模拟器和VyOS的微型实验室的指南 ，这使我首先熟悉了这个项目。 


 重点项目 
 VyOS是一个基于Debian Linux的开源项目，它是Vyatta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VyOS开源路由器</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435568/"> 在本文中，我想为我提出有关VyOS网络路由器的非标准主题。 尼尔·安德森（Neil Anderson）撰写了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关如何在家里部署带有NetApp模拟器和VyOS的微型实验室</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">指南</a> ，这使我首先熟悉了这个项目。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8s/ua/bd/8suabdo0r5e2pd5mnw82ihdshs8.png"></div><br><h2> 重点项目 </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">VyOS</a>是一个基于Debian Linux的开源项目，它是Vyatta Routing软件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">项目的Vyatta Core Edition</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">分支</a> 。 像任何路由器一样，VyOS在OSI的第三层上运行并路由南北流量。  VyOS包括以下关键项目： <br><br><ul><li>  Debian 8内核4.19 </li><li>  FRRouting（在1.1版和更高版本中使用了Quagga） </li><li>  ISC-DHCP </li><li> 保持活力 </li><li> 强斯旺 </li><li>  OpenVPN </li><li>  PowerDNS </li><li> 线卫 </li><li>  Opennhrp </li><li> 加速器 </li><li>  xL2tpd </li><li> 鱿鱼 </li><li>  mDNS中继器 </li><li>  IGMP代理 </li><li>  iPerf </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发行说明中的​​更详细列表</a> </li></ul><br><a name="habracut"></a><br><h2> 支持平台 </h2><br>  VyOS可以作为虚拟机，在裸机上或在云中部署在大多数流行的平台上，该映像大约需要300 MB。 <br><br><h3> 虚拟化平台 </h3><br> 如何在环境中部署VyOS虚拟机： <br><br><ul><li> 虚拟机 </li><li> 里夫 </li><li> 虚拟箱 </li><li>  Nutanix AHV </li><li>  VMWare ESXi 5.1+ </li><li>  HVM模式下的Citrix XenServer </li><li> 适用于Windows Server的Microsoft Hyper-V </li><li>  OpenStack（计划） </li></ul><br><br><h3> 裸铁 </h3><br> 路由器可以安装在裸铁上，自定义映像（方案）上： <br><br><ul><li> 了戴尔 </li><li> 超微 </li><li> 边缘核 </li></ul><br><h3> 乌云 </h3><br> 就像云中的虚拟机一样： <br><br><ul><li>  Amazon EC2（Amazon Web Services上的Amazon Machine映像） </li><li> 拉韦洛 </li><li> 分组云 </li><li> 微软天蓝色 </li><li>  Google Cloud Platform（计划中） </li><li> 阿里云（计划） </li></ul><br><h3> 指令行 </h3><br> 与传统上不使用图形界面的Cisco和Juniper路由器一样，VyOS由命令行控制。  VyOS命令行与JunOS语法非常相似： <br><br><pre><code class="bash hljs">vyos@vyos<span class="hljs-comment"><span class="hljs-comment"># run show ip route forward default via 203.0.113.1 dev eth1 proto static metric 20 onlink 192.168.56.0/24 dev eth0 proto kernel scope link src 192.168.56.13 203.0.113.1 dev eth1 proto static metric 20</span></span></code> </pre> <br><h2> 功能和特点 </h2><br> 尽管这是一个开源项目，但VyOS的功能却相当庞大且十分重要： <br><br><ul><li>  VPN：动态多点VPN（DMVPN），GRE，IPSec，IPSec VTI，OpenVPN（服务器和客户端）和WireGuard </li><li> 可以使用L2TP或OpenVPN充当VPN远程访问服务器 </li><li> 隧道：L2TP，L2TPv3，VXLAN，PPTP，GRE，IPIP，SIT，IPIP，IPIP6，IP6IP6 </li><li>  L2 / L3接口：以太网桥，802.1Q VLAN，QinQ，端口聚合（LACP和静态） </li><li> 通过控制台，Python和Perl脚本工作的API </li><li> 寻址IPv4和IPv6路由： </li><li>  BGP，OSPF，OSPFv3，RIP，RIPng动态路由协议 </li><li> 静态路由和基于策略的路由（PBR） </li><li>  QoS优先处理流量 </li><li>  VyOS可以充当L2TPv3路由器，以实现站点之间的第2层连接 </li><li> 高可用性：VRRP，WAN负载平衡，Conntrack-Sync，群集 </li><li> 当然还有标准集：DHCP（服务器，客户端和中继），DNS递归服务器，网络地址转换（源和目标，端口地址，一对多，多对多），IGMP代理，NTP服务器和客户端，LLDP服务器和客户端，mDNS中继器，PPPoE服务器，具有缓存和过滤功能的代理服务器，TFTP服务器 </li><li> 流量过滤：基于区域的防火墙，状态防火墙 </li><li> 策略：整形，速率限制，基于优先级的队列 </li><li> 内置配置文件存档 </li></ul><br><h2> 支持的接线和使用方式示例 </h2><br><h3> 分行 </h3><br> 使用VyOS的最常用方案之一是将多个公司分支机构相互组合，连接到云提供商或将多个云提供商合并到一个网络中。 <br><br><img src="https://habrastorage.org/webt/qg/up/ur/qgupurqyfpccdx-xnetssxhgsdg.png"><br><br><h3> 中小企业边缘 </h3><br> 它可以用作SMB路由器，从而可以稳定且增加对全球Internet的访问。  VyOS支持NAT，DHCP和VRRP，以提高默认网关的可用性。 <br><br><img src="https://habrastorage.org/webt/er/c1/dg/erc1dgs4znwlwtgbge2obh1rcxq.png"><br><br><h3> 寄宿路由器 </h3><br>  VyOS可以用作企业边界路由器（BGP），如果不是动态路由协议中最先进的协议之一，它也可以用作其中之一。 为此，VyOS可以用作外部或内部BGP对等方（BGP-peer），从而在网络中提供高度的稳定性和可用性。 <br><br><img src="https://habrastorage.org/webt/5r/zj/5_/5rzj5_pjmawgpjsnq5egm8ek4qo.png"><br><br><h3>  VPN网关 </h3><br>  VyOS提供IPSec VPN访问：IPSec / GRE，IPSec VTI，动态多点VPN（DMVPN）和OpenVPN。 通过站点到站点配置，您可以通过全球Internet上的频繁安全网络将多个站点直接连接到云，从而使用户和服务器之间可以相互通信。 通过在站点之间创建L2网络，VyOS可以充当L2TPv3路由器。 <br><br><img src="https://habrastorage.org/webt/fh/1o/3a/fh1o3abjv6yr_wws6h4s3xmw-hg.png"><br><br><h3>  VPN RA服务器 </h3><br>  VyOS可以用作远程VPN服务器。 为此，您可以使用基于IPSec的L2TP，因为它几乎存在于所有现代操作系统中。 另一种选择是使用OpenVPN，它也已集成到VyOS中。 使用防火墙将提高访问网络的安全性和粒度。 <br><br><img src="https://habrastorage.org/webt/td/8k/-h/td8k-hf3oq1yscapqsmgeh37jfw.png"><br><br><h2> 系统要求 </h2><br>  VyOS最低资源要求： <br><br><ul><li>  CPU：一个或多个64位x86内核（取决于所使用的带宽和功能）。 还支持ClearFog ARM平台。 </li><li> 内存：512 MB或更多（取决于所使用的带宽和功能，并且主要取决于路由表的大小） </li><li> 网络接口：至少一个（最大）（与VyOS支持的平台一样） </li><li> 为了获得最佳性能，建议使用带硬件卸载功能并支持多个队列的网卡。 </li></ul><br><h2> 管理与监控 </h2><br> 管理与监控： <br><br><ul><li> 部署和管理：Secure Shell（SSH），Cloud-Init，用于远程管理的python库 </li><li> 管理和故障排除：简单网络管理协议（SNMP），Syslog，NetFlow，sFlow </li><li> 自动化Ansible，SaltStack </li><li> 任务计划程序，事件处理，脚本 </li><li> 内置配置版本存档 </li></ul><br><h2> 图像 </h2><br> 您可以从源代码自己构建VyOS，也可以以经过编译和测试的映像的形式下载VyOS，以用于您的平台。 从1.2版开始，不再免费下载GA映像，因为需要花一些钱来开发该项目。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">滚动版本</a>仍然像以前一样免费。 但是， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对于学校，学院，大学，诊所和其他类似的非营利组织，则提供了免费获取GA版本的权限</a> 。 贡献者还可以免费访问现成的GA图像，即使您提供了文档帮助，也不必成为程序员，这也对项目有所帮助。 因此，免费访问图像非常简单，容易，特别是如果您拥有维护者，贡献者或VyOS传播者徽章。 <br><br> 徽章 <br>  VyOS已颁发<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">数字证书，</a>用于： <br><ul><li> 项目维护者 </li><li> 贡献者 </li><li> 传教士 </li><li> 和网络工程师 </li></ul><br><br><h2> 结论 </h2><br>  VyOS是一个基于现代程序和实用程序进行网络路由的项目，由于它完全是100％开源的，因此可以轻松进行补充和更改。 丰富的功能和现代的路由协议使它不仅可以在家中供高级用户使用，还可以供大型公司和大型服务提供商使用。 <br><br><h3> 有用的资源 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">blog.vyos.io</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wiki.vyos.net</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">问题追踪器</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">slack.vyos.io</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">forum.vyos.io</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/vyos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">twitter.com/vyos_dev</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">领英</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">脸书</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YouTube的</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">维约斯路线图</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">滚动发布</a> <br><br><h3> 有关哈布雷的其他文章 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用VyOS进行软件路由</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">UNetLab仿真器-革命性的飞跃</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vyatta：基于Linux的防火墙和路由器</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">船上上网：卫星天线+调制解调器+平衡器+ Wi-Fi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Ubiquiti EdgeRouter X</a> <br><br> 请将有关文本错误的消息发送到<abbr title="私人讯息">LAN</abbr> 。 对相反文章的评论，补充和问题，请发表评论。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN435568/">https://habr.com/ru/post/zh-CN435568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN435556/index.html">迁移到数据中心：过去的样子</a></li>
<li><a href="../zh-CN435558/index.html">在Linux上使用HugePages测试PostgreSQL</a></li>
<li><a href="../zh-CN435560/index.html">第一台商用量子计算机-IBM</a></li>
<li><a href="../zh-CN435562/index.html">吸烟者的道路：如果您是人文主义者，如何进入程序员的职业</a></li>
<li><a href="../zh-CN435564/index.html">使用GtkApplication。 Librsvg渲染功能</a></li>
<li><a href="../zh-CN435572/index.html">Anycubic i3 Mega：Prusa i3的高品质翻拍</a></li>
<li><a href="../zh-CN435574/index.html">Zig如何工作？</a></li>
<li><a href="../zh-CN435576/index.html">1C，无痛苦</a></li>
<li><a href="../zh-CN435578/index.html">圣诞节太空漫步</a></li>
<li><a href="../zh-CN435580/index.html">Java，Spring，Kurento和媒体服务</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>