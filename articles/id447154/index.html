<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎱 ⛎ 🕡 Utang teknis mengarah ke krisis perusahaan 🀄️ 🔯 ⚠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Akumulasi hutang teknis dapat menyebabkan perusahaan Anda mengalami krisis. Tapi itu juga bisa menjadi pendorong kuat perubahan proses besar-besaran d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utang teknis mengarah ke krisis perusahaan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/447154/">  Akumulasi hutang teknis dapat menyebabkan perusahaan Anda mengalami krisis.  Tapi itu juga bisa menjadi pendorong kuat perubahan proses besar-besaran dan membantu adopsi praktik rekayasa.  Saya akan menceritakannya pada saya sendiri. <br><br><img src="https://habrastorage.org/webt/vo/nt/1m/vont1m1pxmp9xt_l6ifnysa-og0.png"><br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tim IT Dodo Pizza</a> tumbuh dari 2 pengembang yang melayani satu negara menjadi 60 orang yang melayani 12 negara selama 7 tahun.  Sebagai Scrum Master dan Pelatih XP saya membantu tim membangun proses dan mengadopsi praktik-praktik teknik, tetapi adopsi ini terlalu lambat.  Sangat menantang bagi saya untuk membuat tim menjaga kualitas kode tinggi ketika beberapa tim mengerjakan satu produk.  Kami jatuh ke dalam perangkap preferensi untuk fitur bisnis di atas keunggulan teknis dan mengakumulasi terlalu banyak utang teknis arsitektur.  Ketika pemasaran meluncurkan kampanye iklan besar-besaran pada tahun 2018, kami tidak tahan dan jatuh.  Itu memalukan.  Tetapi selama krisis, kami menyadari bahwa kami dapat bekerja berkali-kali lebih efisien.  Krisis telah mendorong kami ke arah perubahan revolusioner dalam proses dan pengenalan cepat praktik rekayasa yang paling terkenal. <br><br><h2>  Latar belakang </h2><br>  Anda mungkin berpikir bahwa Dodo Pizza adalah jaringan restoran pizza biasa.  Tetapi sebenarnya <b>Dodo Pizza adalah perusahaan IT yang kebetulan menjual pizza</b> .  Bisnis kami didasarkan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dodo IS</a> - platform berbasis cloud, yang mengelola semua proses bisnis, mulai dari mengambil pesanan, kemudian memasak dan menyelesaikan hingga manajemen inventaris, manajemen sumber daya manusia, dan pengambilan keputusan.  Hanya dalam 7 tahun, kami telah berkembang dari 2 pengembang yang melayani pizzeria tunggal menjadi 70+ pengembang yang melayani 470+ pizza di 12 negara. <br><br>  Ketika saya bergabung dengan perusahaan dua tahun lalu, kami memiliki 6 tim dan sekitar 30 pengembang.  Basis kode Dodo IS memiliki sekitar 1 juta baris kode.  Itu memiliki arsitektur monolitik dan cakupan tes unit sangat sedikit.  Kami tidak memiliki tes API / UI saat itu.  Kualitas kode sistem mengecewakan.  Kami mengetahuinya dan memimpikan masa depan yang cerah ketika membagi monolit menjadi selusin layanan dan menulis ulang bagian paling mengerikan dari sistem.  Kami bahkan menggambar diagram "menjadi arsitektur", tetapi jujur ​​tidak melakukan apa-apa terhadap keadaan di masa depan.  <b>Tujuan utama saya adalah untuk mengajarkan praktik rekayasa pengembang dan membangun proses pengembangan, membuat 6 tim bekerja pada satu produk</b> . <br><br>  Seiring berkembangnya tim, kami lebih banyak mengalami kekurangan proses dan praktik rekayasa yang jelas.  Rilis kami menjadi lebih besar dan lebih lama karena semakin banyak pengembang berkontribusi pada sistem, tetapi kami tidak memiliki tes regresi otomatis dan karenanya membuang lebih banyak waktu pada regresi manual dengan setiap rilis.  Kami menderita dari banyak perubahan yang dilakukan oleh 6 tim di cabang terpisah.  Ketika sebuah tim menggabungkan perubahan mereka ke cabang tunggal sebelum rilis, kadang-kadang kami kehilangan hingga 4 jam menyelesaikan konflik penggabungan. <br><br><blockquote><h4>  Sial terjadi </h4><br>  Pada 2018 Pemasaran menjalankan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kampanye iklan federal pertama kami di TV</a> .  Itu adalah acara besar bagi kami.  Kami menghabiskan 100 juta rubel ($ 1,5 juta) untuk mendanai kampanye - jumlah yang cukup signifikan bagi kami.  Tim TI bersiap untuk kampanye juga.  Kami mengotomatiskan dan menyederhanakan penyebaran kami - sekarang dengan satu tombol di TeamCity kami dapat menyebarkan monolit ke 12 negara.  Kami menyelidiki tes kinerja dan melakukan analisis kerentanan.  Kami melakukan yang terbaik tetapi kami menemukan masalah yang tidak terduga. <br><br>  Kampanye iklan sangat hebat.  Kami beralih dari 100 menjadi 300 pesanan / menit.  Ini kabar baik.  Berita buruknya adalah bahwa Dodo IS tidak dapat menahan beban seperti itu dan mati.  Kami mencapai batas penskalaan vertikal dan tidak dapat menangani pesanan lagi.  <b>Sistem reboot setiap 3 jam.</b>  <b>Setiap menit downtime menghabiskan jutaan uang bagi kami serta hilangnya rasa hormat dari pelanggan yang geram.</b> </blockquote><br>  Ketika saya datang ke Dodo 2 tahun lalu sebagai Chief Agile Officer, saya memiliki keinginan besar untuk membuat tim kecil kami saat itu - sekitar 12 orang, tim impian.  Saya segera mulai memperkenalkan praktik-praktik teknik.  Sebagian besar tim mengadopsi pemrograman pasangan, pengujian unit dan DDD segera.  Tapi tidak semuanya mudah.  Saya harus mengatasi perlawanan dari pengembang, Pemilik Produk, dan tim dukungan. <br><br>  Berbeda dengan praktik rekayasa, tidak semua orang menyukai gagasan tim fitur.  Pengembang terbiasa berpikir bahwa tim yang fokus pada satu komponen menulis kode yang lebih baik.  Tidak jelas bagaimana menggabungkan pengembangan fitur bisnis yang cepat dengan refactoring masif yang telah lama tertunda dari sistem yang kompleks.  Aliran bug yang terus menerus juga membutuhkan perhatian terus-menerus.  Tim dukungan lebih suka memiliki tim sendiri yang fokus hanya pada perbaikan bug.  Banyak tim terbiasa bekerja di cabang yang berbeda dan takut untuk sering berintegrasi.  Kami merilis tidak lebih dari sekali seminggu, dan setiap rilis membutuhkan waktu yang cukup lama, membutuhkan sejumlah besar regresi manual dan dukungan tes UI.  Saya mencoba memperbaikinya, tetapi perubahan proses saya terlalu lambat dan terfragmentasi. <br><br><h2>  Kisah jatuh dan bangkit </h2><br><h4>  Keadaan awal: Arsitektur Monolitik </h4><br>  Dalam mengejar kecepatan pengembangan fitur bisnis, kami tidak selalu memikirkan solusi teknis dengan baik.  Kurangnya pengalaman juga memengaruhi kami.  Pada awalnya, perusahaan tidak mampu merekrut pengembang terbaik.  Kami bekerja dengan para penggemar yang setuju untuk membantu penciptaan Dodo IS, percaya pada pendiri perusahaan - Fedor dan bekerja hampir untuk makanan (pizza, tentu saja).  Pengembang yang bergabung dengan tim kemudian mengikuti arsitektur yang sudah ada, yang menjadi ketinggalan zaman.  Jadi kami memiliki aplikasi monolitik dengan satu basis data, yang berisi semua data dari semua komponen di satu tempat.  Pelacak, checkout, situs, API untuk halaman arahan - semua komponen sistem bekerja dengan satu basis data, yang menjadi hambatan.  Arsitektur monolitik kami menciptakan masalah monolitik.  Satu posting blog mengarah ke penghentian checkout restoran. <br><blockquote><h4>  Kisah nyata </h4><br>  Untuk menggambarkan betapa rapuhnya arsitektur monolitik, saya akan memberikan satu contoh saja.  <b>Setelah semua restoran kami di Rusia berhenti menerima pesanan karena posting blog.</b>  <b>Bagaimana ini bisa terjadi?</b> <br><br>  Suatu hari CEO kami - Fedor menerbitkan sebuah posting di blog-nya.  Posting ini dengan cepat mendapatkan popularitas.  Ada penghitung di situs web blog Fedor yang menunjukkan sejumlah pizzeria di rantai kami dan total pendapatan dari semua pizzeria.  Setiap kali seseorang membaca blog Fedor, server web mengirim permintaan ke database master untuk menghitung pendapatan.  Permintaan ini membanjiri database dan berhenti melayani permintaan dari checkout restoran.  Jadi posting blog populer mengganggu pekerjaan seluruh rantai restoran.  Kami memperbaiki masalah dengan cepat, tetapi itu adalah tanda yang jelas (di antara banyak lainnya) bahwa arsitektur kami tidak dapat memenuhi kebutuhan bisnis dan harus dirancang ulang.  Tapi kami mengabaikan tanda-tanda ini.  Kami menerapkan solusi cepat dan mudah (seperti menambahkan replika database master read-only), tetapi kami tidak memiliki roadmap desain ulang teknis. </blockquote><br>  Arsitektur monolitik baik untuk memulai karena sederhana.  Tetapi tidak dapat menahan beban tinggi menjadi satu titik kegagalan. <br><br><h4>  Gagal Dini pada 2017 </h4><br>  <b>14 Februari adalah Hari Valentine</b> .  Semua orang suka liburan ini.  Bagi pecinta untuk saling memberi selamat, pada 14 Februari kami membuat pizza spesial - pepperoni dalam bentuk hati.  Saya akan mengingat 14 Februari 2017 selamanya, karena pada hari ini, ketika semua pizza bekerja dengan beban penuh, Dodo IS mulai turun.  Di setiap restoran pizza kami memiliki 4-5 tablet untuk melacak pesanan pembuat pizza membuat adonan, menaruh bahan, membuat atau mengirim pengiriman.  Jumlah pizza mencapai 300+, setiap tablet memperbarui kondisinya beberapa kali per menit.  Semua permintaan ini menciptakan beban besar pada database sehingga SQL server berhenti untuk menahan dan database mulai gagal.  Dodo diletakkan pada saat yang paling tidak tepat - selama puncak penjualan.  Ada musim liburan yang sibuk di depan: 23 Februari (Hari Angkatan Laut dan Angkatan Laut), 8 Maret (Hari Perempuan Internasional), 1 Mei (Hari Solidaritas Pekerja Internasional) dan 9 Mei (Hari Kemenangan dalam Perang Dunia II).  Selama liburan ini, kami mengharapkan pertumbuhan pesanan yang lebih besar. <br><br>  <b>Hari dimana kamu akan mati</b> .  Mengetahui rencana pertumbuhan kami dan batas beban yang dapat kami tahan, kami menemukan berapa lama kami bisa bertahan hidup, yaitu, ketika beban puncak hari ini menjadi teratur.  Perkiraan tanggal Armageddon diperkirakan sekitar enam bulan - pada Agustus atau September.  Bagaimana rasanya hidup, mengetahui tanggal kematian Anda? <br><br>  <b>Hentikan pengembangan fitur selama satu tahun</b> .  Bersama dengan CEO Fedor, kami harus membuat keputusan yang sulit.  Mungkin salah satu keputusan paling sulit dalam sejarah perusahaan.  Kami menghentikan pengembangan fitur bisnis.  Kami pikir kami akan berhenti selama 3 bulan, tetapi segera kami menyadari bahwa volume utang teknis sangat besar sehingga 3 bulan tidak akan cukup dan kami harus terus bekerja pada masalah teknis dan menunda simpanan bisnis.  Faktanya, dengan 6 tim kami hanya membuat satu fitur bisnis selama tahun berikutnya.  Sisa waktu, tim terlibat dalam pembayaran utang teknis.  Hutang ini sangat merugikan kita - lebih dari $ 1,5 juta. <br><br><h4>  Beberapa perbaikan setelah satu tahun </h4><br>  Sepanjang tahun, kami memiliki pencapaian penting ini: <br><ul><li>  Kami telah mengotomatiskan dan mempercepat pipa penempatan kami.  Sebelumnya, penyebarannya semi manual.  Kami dikerahkan ke 10 negara dalam waktu sekitar 2 jam. </li><li>  Mulai membelah monolit.  Bagian yang paling banyak dari sistem - pelacak - dibagi menjadi layanan terpisah, dengan basis datanya sendiri.  Sekarang pelacak berkomunikasi dengan seluruh sistem melalui antrian acara. </li><li>  Kami mulai memisahkan Kasir Pengiriman - komponen kedua yang menciptakan beban tinggi. </li><li>  Tulis ulang pengguna dan sistem otentikasi perangkat. </li></ul><br>  Arsitek kami mengelola jaminan teknis.  Kami menggunakan perubahan arsitektur untuk mendorong backlog.  Setiap tim memiliki kebebasan untuk melakukan apa yang benar untuk menciptakan arsitektur yang bermanfaat.  Untuk tahun ini dengan tim ke-6 yang kami buat untuk bisnis hanya satu fitur yang berharga.  Sisa waktu, tim bekerja pada utang teknis.  Tampaknya kita bisa bangga pada diri sendiri.  Tapi di depan kami ada kekecewaan besar. <br><br>  Gagal selama Kampanye Pemasaran Federal.  Krisis kepercayaan kedua. <br><br>  Utang teknis mudah untuk diakumulasikan, tetapi sangat sulit untuk dilunasi.  Kecil kemungkinan bahwa Anda akan dapat memahami terlebih dahulu berapa biayanya. <br><br>  Terlepas dari kenyataan bahwa kami menghabiskan setahun penuh melawan hutang teknis, kami tidak siap untuk Kampanye Pemasaran besar-besaran dan mengacau di depan bisnis kami.  Anda mendapatkan kepercayaan dalam tetes, Anda kehilangan itu dalam ember.  Dan kami harus mendapatkannya lagi. <br><br>  Kami melewatkan momen ketika perlu untuk memperlambat kecepatan pengembangan fitur bisnis dan mengatasi utang teknis.  Sudah terlambat ketika kita perhatikan.  Kami berbaring di bawah beban lagi.  Sistem macet dan reboot setiap 3 jam.  Bisnis kami kehilangan puluhan juta rubel. <br><br><img src="https://habrastorage.org/webt/dc/e4/r5/dce4r5zrxw4mk9xhri2qvbora0c.jpeg"><br><br>  Tetapi berkat krisis, kami melihat bahwa dalam kondisi ekstrem kami dapat bekerja berkali-kali lebih efisien.  Kami merilis 20 kali sehari.  Semua orang bekerja sebagai satu tim, fokus pada satu tujuan.  Selama dua minggu krisis, kami telah melakukan apa yang kami takutkan untuk memulai sebelumnya karena kami yakin itu akan memakan waktu berbulan-bulan.  Urutan tidak sinkron, tes kinerja, log yang jelas hanya sebagian kecil dari apa yang kami lakukan.  Kami ingin terus bekerja secara efektif, tetapi tanpa lembur dan stres. <br><br><h2>  Pelajaran yang dipetik </h2><br>  Setelah retrospektif, kami sepenuhnya merestrukturisasi proses kami.  Kami mengambil kerangka kerja LeSS dan menambahkannya dengan praktik-praktik rekayasa.  Selama beberapa bulan ke depan, kami membuat terobosan dalam adopsi praktik rekayasa.  Berdasarkan kerangka LeSS, kami telah menerapkan dan terus menggunakan: <br><ul><li>  jaminan tunggal; </li><li>  tim fitur lintas fungsi dan lintas komponen; </li><li>  pemrograman pasangan; </li><li>  Mencoba Pemrograman Mob. </li><li>  Genuine Continuous Integration, artinya integrasi banyak kode dari 9 tim dalam satu cabang; </li><li>  manajemen konfigurasi yang disederhanakan dengan pengembangan berbasis trunk; </li><li>  rilis yang sering: Penyebaran Berkelanjutan untuk layanan mikro, beberapa rilis per hari untuk monolit; </li><li>  tidak ada tim QA yang terpisah, pakar QA adalah bagian dari tim pengembangan. </li></ul><br><h4>  6 praktik yang kami pilih setelah krisis </h4><br>  <b>1. Kekuatan fokus</b> .  Sebelum krisis, masing-masing tim mengerjakan simpanan sendiri dan berspesialisasi dalam domainnya.  Di backlog, ada tugas yang terurai dengan baik, tim memilih beberapa tugas untuk lari cepat.  Tetapi selama krisis, kami bekerja sangat berbeda.  Tim tidak memiliki tugas khusus, mereka memiliki tujuan yang menantang sebagai gantinya.  Misalnya, aplikasi seluler dan API harus menangani 300 pesanan per menit, apa pun yang terjadi.  Terserah tim bagaimana mencapai tujuan.  Tim-tim itu sendiri merumuskan hipotesis, dengan cepat memeriksanya dalam Produksi dan membuangnya.  Dan inilah yang ingin kami terus lakukan.  Tim tidak ingin menjadi pembuat kode bodoh, mereka ingin menyelesaikan masalah. <br><br>  Kekuatan fokus memanifestasikan dirinya dalam memecahkan masalah yang kompleks.  Sebagai contoh, selama krisis, kami menciptakan serangkaian tes kinerja meskipun kami tidak memiliki keahlian.  Kami juga membuat logika menerima pesanan tidak sinkron.  Kami sudah lama memikirkannya dan berbicara, dan bagi kami sepertinya ini adalah tugas yang sangat sulit dan panjang.  Tetapi ternyata tim cukup mampu melakukannya dalam 2 minggu, jika mereka tidak terganggu dan benar-benar fokus pada masalah. <br><br>  <b>2. Hackathon reguler</b> .  Kami suka bekerja dalam mode ketika semua tim diarahkan pada satu tujuan dan kami memutuskan untuk terkadang mengatur "hackathons" semacam itu.  Tidak dapat dikatakan bahwa kami melaksanakannya secara teratur, tetapi ada beberapa kali.  Misalnya, ada hackathon 500 kesalahan ketika semua tim membersihkan log dan menghapus penyebab 500 kesalahan di situs dan di API.  Tujuannya adalah menjaga kebersihan log.  Ketika log bersih, kesalahan baru terlihat jelas, Anda dapat dengan mudah mengkonfigurasi nilai ambang untuk peringatan.  Ini mirip dengan tes unit - mereka tidak bisa sedikit merah. <br><br>  Contoh lain dari hackathon adalah bug.  Kami dulu memiliki tumpukan bug yang besar, beberapa bug telah ada di tumpukan selama bertahun-tahun.  Tampaknya mereka tidak akan pernah berakhir.  Dan setiap hari ada yang baru.  Anda harus entah bagaimana menggabungkan pekerjaan pada bug dan pada item backlog reguler. <br><br><div class="spoiler">  <b class="spoiler_title">Kami memperkenalkan kebijakan #zerobugspolicy dalam 4 langkah.</b> <div class="spoiler_text"><ol><li>  Pembersihan bug awal berdasarkan tanggal.  Jika bug ada di backlog selama lebih dari 3 bulan, cukup hapus saja.  Kemungkinan besar itu ada di sana selama berabad-abad. </li><li>  Sekarang, pilah cacat yang tersisa berdasarkan bagaimana pengaruhnya terhadap pelanggan.  Kami dengan hati-hati memilah bug yang tersisa.  Kami hanya menyimpan cacat yang membuat hidup jadi sulit bagi sekelompok besar pengguna.  Jika ini hanya sesuatu yang menyebabkan ketidaknyamanan, tetapi Anda dapat mengatasinya - hapus tanpa ampun.  Jadi kami mengurangi jumlah bug menjadi 25, yang dapat diterima. </li><li>  Hackathon.  Semua tim mengerumuni dan memperbaiki semua bug.  Kami melakukan ini dalam beberapa sprint.  Setiap sprint, setiap tim mengambil beberapa bug dan memperbaikinya.  Setelah 2-3 sprint kami memiliki backlog bug yang jelas.  Sekarang Anda bisa memasukkan #zerobugspolicy. </li><li>  #zerobugspolicy.  Setiap bug baru sekarang hanya memiliki dua cara.  Eter itu jatuh ke dalam tumpukan, atau tidak.  Jika masuk ke backlog, kami memperbaikinya terlebih dahulu.  Setiap bug dalam backlog memiliki prioritas lebih tinggi daripada item backlog lainnya.  Tetapi untuk masuk ke tumpukan, bug harus serius.  Entah itu menyebabkan kerusakan yang tidak dapat diperbaiki, atau itu memengaruhi sejumlah besar pengguna. </li></ol><br></div></div><br>  <b>3. Tim proyek sementara ke tim fitur stabil</b> .  Ada cerita lucu dengan tim proyek.  Selama krisis, kami membentuk tim harimau yang terdiri dari orang-orang yang paling terampil untuk tugas itu.  Setelah krisis berakhir, tim memutuskan untuk melanjutkan latihan ini dan membubarkan tim.  Terlepas dari kenyataan bahwa saya tidak menyukai ide ini sama sekali, saya membiarkan mereka mencobanya.  Hanya dalam 2 minggu (satu sprint), pada retrospektif berikutnya, tim meninggalkan praktik ini, (keputusan ini membuat saya sangat senang).  Mereka mencoba dan memahami mengapa jauh lebih nyaman bekerja di tim fitur yang stabil.  Bahkan jika tim kurang memiliki keterampilan, mereka dapat secara bertahap belajar.  Tapi semangat tim, dukungan dan bantuan timbal balik terbentuk untuk waktu yang lama, butuh berbulan-bulan.  Tim proyek jangka pendek terus-menerus berada dalam fase pembentukan dan badai.  Anda dapat menanggungnya selama beberapa minggu, tetapi Anda tidak dapat bekerja seperti ini setiap saat.  Ada baiknya bahwa tim mencoba dan memahami manfaat dari tim fitur stabil. <br><br>  <b>4. Singkirkan regresi manual</b> .  Sebelum krisis, kami dirilis seminggu sekali, dan selama krisis - puluhan kali sehari.  Kami menyukai kemampuan kami untuk sering melepaskan.  Kami menghargai betapa mudahnya melakukan perubahan kecil, dengan cepat menyebarkannya dan segera mendapatkan umpan balik dari produksi.  Oleh karena itu, kami mengubah pendekatan kami ke rilis, dan ini memengaruhi pendekatan pemrograman dan desain.  Sekarang kami merilis secara terus menerus, setiap 1-2 hari.  Segala sesuatu di cabang dev masuk ke produksi.  Bahkan jika beberapa fitur tidak siap, ini bukan alasan untuk tidak merilis kode.  Jika kami tidak ingin menampilkan beberapa fitur yang belum siap kepada pengguna, kami menyembunyikannya dengan fitur toggle.  Pendekatan ini membantu kami berkembang dalam langkah-langkah kecil. <br><br>  Kami menetapkan tujuan untuk menyingkirkan regresi manual.  Kami membutuhkan 1,5 tahun untuk mencapainya.  Tetapi memiliki tujuan ambisius jangka panjang membuat Anda berpikir tentang langkah-langkah menuju tujuan. <br><br><div class="spoiler">  <b class="spoiler_title">Kami melakukannya dalam 3 langkah.</b> <div class="spoiler_text"><ol><li>  Otomatiskan jalur kritis.  Pada Juni 2017, kami membentuk tim QA.  Tugas tim adalah untuk mengotomatiskan regresi fungsional yang paling penting dari pengambilan dan produksi pesanan IS Dodo.  Selama 6 bulan ke depan, tim QA baru yang terdiri dari 4 orang membahas seluruh jalur kritis.  Pengembang tim fitur secara aktif membantu mereka.  Bersama-sama kami menulis Domain-Specific Language (DSL) yang indah dan dapat dipahami, yang dapat dibaca bahkan oleh pelanggan.  Sejalan dengan tes End-to-End, para pengembang menutupi kode dengan tes unit.  Beberapa komponen baru didesain ulang dengan TDD.  Setelah itu kami membubarkan tim QA.  Mantan anggota tim QA bergabung dengan tim fitur untuk berbagi keahlian bagaimana mendukung dan memelihara autotest. </li><li>  Mode bayangan.  Memiliki autotest, selama 5 rilis kami melakukan regresi manual dalam mode bayangan.  Tim hanya mengandalkan suite tes otomatis, tetapi ketika tim memutuskan "Kami siap untuk melepaskan", kami menjalankan regresi manual untuk memeriksa apakah autotest kami tidak ada bug.  Kami melacak berapa banyak bug yang ditangkap secara manual dan tidak ditangkap oleh autotest.  Setelah 5 rilis kami meninjau data dan memutuskan kami dapat mempercayai autotest kami.  Tidak ada bug utama yang terlewatkan. </li><li>  Hapus regresi manual.  Ketika kami memiliki cukup tes yang kami mulai percayai, kami meninggalkan pengujian manual sepenuhnya.  Semakin banyak kita menjalankan tes, semakin kita mempercayai mereka.  Tetapi ini terjadi hanya 1,5 tahun setelah kami mulai mengotomatiskan pengujian regresi. </li></ol><br></div></div><br>  <b>5. Tes Kinerja adalah bagian dari uji regresi</b> .  Selama krisis kami menciptakan serangkaian tes kinerja.  Itu adalah area yang sama sekali baru bagi kami.  Namun demikian, hanya dalam 2 minggu, kami berhasil membuat beberapa tes kinerja menggunakan alat Visual Studio.  Tes ini membantu kami tidak hanya menangkap penurunan kinerja.  Kami menggunakannya untuk menambahkan beban sintetis ke server Produksi untuk mengidentifikasi batas kinerja.  Misalnya, jika beban produksi organik adalah 100 pesanan / mnt dan kami menambah 50 pesanan / mnt dengan bantuan tes kinerja kami, kami dapat melihat apakah server Produksi dapat menangani peningkatan beban.  Segera setelah kami melihat pengecualian atau peningkatan latensi, kami menghentikan tes.  Membuat percobaan ini, kami menemukan beban maksimum yang dapat ditangani oleh server Produksi kami, dan apa yang akan menjadi hotspot. <br><br>  Tahun depan kami melakukan outstaffed tes kinerja untuk tim PerformanceLab yang berpengalaman.  Mereka duduk bersama dengan pengembang dan orang-orang infrastruktur kami, dan membantu kami menciptakan serangkaian uji kinerja yang kuat.  Sekarang kami menjalankan tes ini setiap minggu dan memberikan umpan balik cepat kepada tim pengembangan jika kinerja terpengaruh. <br><br>  Beberapa praktik rekayasa dilakukan secara iteratif.  Misalnya, sering rilis.  Kami mulai dengan siklus rilis mingguan, didukung dengan pengujian manual yang lambat dan rapuh.  Kami mengembangkan fitur selama satu minggu dan menguji selama satu minggu lagi.  Tapi itu sulit untuk mempertahankan perubahan yang dilakukan oleh banyak selama seminggu.  Kemudian kami mencoba rilis tim terisolasi, ketika hanya perubahan yang dibuat oleh tim tunggal yang dirilis.  Tetapi proses ini gagal karena setiap tim harus menunggu dalam antrian selama beberapa minggu.  Kemudian tim belajar manfaat dari integrasi yang sering dan kami mulai berlatih rilis bersama dari beberapa tim.  Para pengembang mulai bereksperimen dengan Fitur Toggle dan mendorong ke fitur Produksi yang belum selesai.  Akhirnya kami tiba di Integrasi Berkelanjutan dan beberapa rilis per hari untuk monolit dan Penerapan Berkelanjutan untuk layanan-layanan microser. <br><br><img src="https://habrastorage.org/webt/ce/yd/ay/ceyday2plzigxpfvhdmldzhpav4.jpeg"><br><br>  Kasus lain yang menarik adalah dengan departemen QA kami.  Kami dulu tidak memiliki tim QA, sebaliknya kami memiliki penguji manual.  Menyadari perlunya otomatisasi pengujian, kami membentuk tim QA, tetapi sejak hari pertama tim ini tahu bahwa suatu hari akan dibubarkan.  Setelah 6 bulan, tim mengotomatiskan skenario bisnis utama kami dan, dengan bantuan pengembang, menulis Bahasa Spesifik Domain (DSL) yang nyaman untuk menulis tes.  Tim itu bubar, dan teknisi yang berkualitas bergabung dengan tim fitur.  Sekarang tim sendiri mengembangkan dan memelihara autotest. <br><br>  Hari ini kami memiliki satu simpanan tunggal yang sedang dikerjakan 9 tim fitur.  Tim fitur adalah tim yang stabil, lintas fungsi, lintas komponen.  Sebagian besar tim kami adalah tim fitur. <br><br>  <b>6. Fokus pada praktik rekayasa</b> .  Semua tim kami menggunakan pemrograman berpasangan.  Saya menganggap memasangkan pemrograman sebagai salah satu praktik paling sederhana namun kuat yang membantu menerapkan praktik rekayasa lainnya.  Jika Anda tidak tahu praktik rekayasa mana yang harus dimulai, saya sarankan pemrograman pasangan. <br><br><h2>  Hasil </h2><br>  Hasil utama yang diberikan krisis kepada kami adalah goncangan.  Kami bangun dan mulai bertindak.  Krisis telah membantu kami melihat peluang maksimal.  Kami melihat bahwa kami dapat bekerja berkali-kali lebih efisien dan dengan cepat mencapai tujuan kami.  Tetapi ini membutuhkan perubahan cara kerja yang teratur.  Kami tidak lagi takut untuk melakukan eksperimen yang berani.  Sebagai hasil dari percobaan ini, selama setahun terakhir kami telah secara signifikan meningkatkan kualitas dan stabilitas Dodo IS.  Jika selama liburan musim semi tahun 2018, pizza kita tidak dapat bekerja karena Dodo IS, maka pada tahun 2019, dengan pertumbuhan dari 300 menjadi 450 pizza, Dodo IS bekerja dengan sempurna.  Kami diam-diam mengalami puncak penjualan di Tahun Baru, selama Kampanye Pemasaran kedua dan liburan musim semi.  Untuk pertama kalinya dalam waktu yang lama, kami yakin akan kualitas sistem dan tidur nyenyak di malam hari.  Ini adalah hasil dari penggunaan praktik rekayasa yang konstan dan fokus pada keunggulan teknis. <br><br><h4>  Hasil untuk bisnis </h4><br>  Praktik teknik tidak diperlukan sendiri jika tidak menguntungkan bisnis Anda.  Sebagai hasil dari fokus pada keunggulan teknis, kami meningkatkan kualitas kode dan mengembangkan fitur bisnis dengan kecepatan yang dapat diprediksi.  Rilis telah menjadi acara rutin bagi kami.  Kami merilis monolit setiap 2 hari, dan layanan yang lebih kecil setiap beberapa menit.  Ini berarti bahwa kami dapat dengan cepat memberikan nilai bisnis kepada pengguna kami dan mengumpulkan umpan balik lebih cepat.  Berkat fleksibilitas tim fitur, kami mendapatkan kecepatan pengembangan yang tinggi. <br><br><blockquote>  Hari ini kami memiliki 480 pizza online, 400 di antaranya berada di Rusia.  Selama liburan Mei tahun ini, ada masalah dengan pemrosesan pesanan di restoran pizza kami lagi.  Tapi kali ini yang menjadi kendala adalah layanan pelanggan di restoran pizza.  Dodo IS berjalan seperti jarum jam, meskipun semakin banyak pizza dan pesanan. </blockquote><br><h4>  Hasil untuk tim </h4><br>  Hari ini kami menggunakan berbagai praktik rekayasa: <br><ol><li>  Tim fitur lintas fungsi dan lintas komponen. </li><li>  Pairing Programming / Pemrograman Mob. </li><li>  Integrasi Berkelanjutan Asli, artinya beberapa integrasi kode dari 9 tim dalam satu cabang. </li><li>  Manajemen konfigurasi yang disederhanakan dengan pengembangan berbasis trunk. </li><li>  Tujuan bersama untuk banyak tim. </li><li>  Subjek Ahli Masalah ada di tim. </li><li>  Tidak ada tim QA yang terpisah, pakar QA adalah bagian dari tim pengembangan. </li><li>  Pengganti regresi manual akhirnya dengan autotest. </li><li>  Kebijakan tanpa bug. </li><li>  Tunggakan hutang teknis. </li><li>  Hentikan Jalur sebagai driver untuk percepatan penyebaran pipa. </li></ol><br>  Mereka membantu 9 tim untuk mengerjakan kode umum dan satu produk yang mencakup lusinan komponen - situs seluler dan desktop, aplikasi seluler di iOS dan Android, dan kantor belakang raksasa dengan mesin kasir, pelacakan, tampilan restoran, akun pribadi , analitik dan peramalan. <br><br><h4>  Apa yang bisa lebih baik </h4><br>  Mungkin kelihatannya kita telah membuat kemajuan yang baik dalam praktik-praktik teknik, tetapi kita hanya pada awalnya, kita masih memiliki ruang untuk tumbuh.  Sebagai contoh, kami mencoba, tetapi sejauh ini tidak sistematis, pemrograman massa.  Kami mempelajari pendekatan penulisan tes BDD.  Kami masih memiliki ruang untuk tumbuh di CI, kami memahami bahwa mengintegrasikan bahkan sekali sehari tidak cukup.  Dan saat kami bertambah hingga 30 tim, perlu integrasi lebih sering.  Kami masih dalam proses transisi dari TDD ke ATDD.  Kita harus menciptakan proses pengambilan keputusan arsitektur yang berkelanjutan dan dapat diskalakan. <br>  Yang paling penting adalah kami menuju untuk memperkuat Keunggulan Teknis. <br><br>  Karena kenyataan bahwa semua 9 tim bekerja pada tumpukan yang sama dan pada satu produk, tim memiliki keinginan yang kuat untuk bekerja sama satu sama lain.  Mereka belajar membuat keputusan yang kuat sendiri. <br><br><div class="spoiler">  <b class="spoiler_title">Misalnya, praktik-praktik berikut telah diusulkan dan diterapkan oleh tim sendiri.</b> <div class="spoiler_text"><ol><li>  Hentikan Jalur sebagai driver untuk akselerasi pipa penempatan (lihat laporan pengalaman saya “Hentikan Jalur untuk Merampingkan Pipa Penempatan Anda”). </li><li>  Ganti tes UI dengan tes API. </li><li>  Satu klik penyebaran otomatis. </li><li>  Tuan rumah untuk Kubernetes. </li><li>  Tim pengembangan menyebarkan ke Produksi. </li></ol><br></div></div><br><br>  Beberapa tim menunjukkan keinginan untuk menggunakan semua 12 praktik XP dan meminta saya untuk membantu sebagai Pelatih XP dan Scrum Master. <br><br><h2>  Apa yang kami pelajari </h2><br>  Saya berharap saya tidak akan membiarkan krisis terjadi.  Sebagai pengembang, saya merasakan tanggung jawab pribadi untuk mengakumulasi hutang teknis yang terlalu besar dan tidak menaikkan bendera merah sebelumnya: <br><ul><li>  Praktik rekayasa melindungi bisnis dari krisis. </li><li>  Jangan mengakumulasi hutang teknis.  Mungkin sudah terlambat dan biayanya terlalu tinggi. </li><li>  Perubahan evolusioner membutuhkan waktu beberapa kali lebih lama daripada perubahan revolusioner. </li><li>  Krisis tidak selalu merupakan hal yang buruk.  Gunakan krisis untuk merevolusi proses. </li><li>  Namun, persiapan evolusi yang panjang diperlukan di muka. </li><li>  Jangan membabi buta menerapkan semua praktik yang Anda sukai.  Beberapa latihan menunggu di sayap, dan ketika dia datang, tim akan menggunakannya tanpa perlawanan.  Tunggu saat yang tepat. </li><li>  Perbaiki dan sesuaikan praktik dengan konteks Anda. </li><li>  Seiring waktu, tim sendiri mulai membuat keputusan yang kuat dan menerapkannya.  Beri mereka lingkungan yang aman untuk mencoba, gagal, dan belajar kesalahan. </li></ul><br><br>  Utang teknis membawa kita ke krisis.  Tetapi dari krisis, baik pengembang maupun pebisnis belajar betapa pentingnya fokus pada keunggulan teknis dan praktik rekayasa.  Kami menggunakan krisis sebagai pemicu perubahan organisasi dan proses besar-besaran. <br><hr><br><h4>  <i>Ucapan Terima Kasih</i> </h4> <i><br></i>  <i>Saya ingin mengucapkan terima kasih yang sebesar-besarnya kepada semua orang yang membantu saya dengan perjalanan saya dari krisis ke transformasi LeSS.</i>  <i>Saya terus merasakan dukungan Anda.</i> <i><br><br></i>  <i>Terima kasih banyak kepada CEO kami, Fedor Ovchinnikov atas kepercayaannya.</i>  <i>Anda adalah pemimpin sejati perusahaan dengan budaya lincah yang asli.</i> <i><br><br></i>  <i>Terima kasih banyak kepada Dmitry Pavlov, Pemilik Produk kami, teman lama saya dan pelatih bersama.</i> <i><br><br></i>  <i>Terima kasih Alex Andronov dan Andrey Morevsky karena mendukung saya dalam peran saya.</i> <i><br><br></i>  <i>Terima kasih banyak kepada Dasha Bayanova, Guru Scrum penuh waktu pertama kami, yang mempercayai saya dan selalu membantu dan mendukung saya dengan semua inisiatif kami.</i>  <i>Bantuan Anda sulit ditaksir terlalu tinggi.</i> <i><br><br></i>  <i>Terima kasih banyak untuk Johanna Rothman yang telah membantu saya menulis laporan ini dalam kondisi apa pun: sedang berlibur, pulih setelah sakit.</i>  <i>Johanna, senang bekerja dengan Anda.</i>  <i>Bantuan, saran, perhatian pada detail, dan ketekunan Anda sangat kami hargai.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id447154/">https://habr.com/ru/post/id447154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id447144/index.html">Bagaimana saya mengatur penyimpanan foto</a></li>
<li><a href="../id447146/index.html">Sakelar Tidak dikelola Industri EKI</a></li>
<li><a href="../id447148/index.html">Aplikasi Habr resmi (un) - HabrApp 2.0: akses</a></li>
<li><a href="../id447150/index.html">Mengobrol di situs dan dalam penerbitan Yandex</a></li>
<li><a href="../id447152/index.html">Cross-platform .NET UI toolkit merilis AvaloniaUI 0.8</a></li>
<li><a href="../id447156/index.html">Wireshark 3.x: analisis kode di bawah tinjauan macOS dan kesalahan</a></li>
<li><a href="../id447158/index.html">Wireshark 3.x: analisis kode macOS dan tinjauan bug</a></li>
<li><a href="../id447160/index.html">Ruang untuk anak-anak. Beberapa ide untuk Hari Kosmonautika</a></li>
<li><a href="../id447162/index.html">Jangan membeli ERP</a></li>
<li><a href="../id447164/index.html">Bagaimana cara menggabungkan keunggulan laptop dan komputer desktop? Analisis masalah dan solusi (Bagian 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>