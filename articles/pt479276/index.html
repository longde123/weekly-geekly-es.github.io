<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏼 👰🏼 👩🏼‍🌾 Três métodos de pandas que você talvez não conheça 👰🏿 👷🏼 ◾️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O autor do artigo, cuja tradução estamos publicando hoje, diz que, quando descobriu os métodos da biblioteca Pandas sobre os quais deseja falar aqui, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Três métodos de pandas que você talvez não conheça</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/479276/">  O autor do artigo, cuja tradução estamos publicando hoje, diz que, quando descobriu os métodos da biblioteca Pandas sobre os quais deseja falar aqui, sentiu-se como um programador completamente incompetente.  Porque  O fato é que, quando ele escreveu o código antes, estava com preguiça de procurar no mecanismo de pesquisa e descobrir se havia alguma maneira eficaz de resolver alguns problemas.  Como resultado, ele nem sabia da existência de vários métodos Pandas muito úteis.  Sem usar esses métodos, ele ainda conseguiu implementar a lógica necessária, mas isso exigiu várias horas de trabalho, o que o deixou nervoso.  E, claro, ao longo do caminho, ele escreveu um monte de código desnecessário.  Ele preparou este artigo para aqueles que não gostariam de estar em sua situação. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/479276/"><img src="https://habrastorage.org/webt/2p/cy/ol/2pcyoln6y8ammn1mawt3vly1c9y.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Métodos Idxmin () e idxmax ()</font> </h2><br>  Eu já <a href="https://towardsdatascience.com/3-pandas-functions-you-should-be-using-more-often-696b41e8d7ca">escrevi</a> sobre os <code>idxmin()</code> e <code>idxmax()</code> , mas se não falar sobre eles aqui, não será fácil para você entender o que discutiremos a seguir. <br><br>  Esses métodos, se você os descrever em poucas palavras, retornam o índice (posição do ponteiro) para o registro desejado.  Suponha que eu criei o seguinte objeto <code>Series</code> Pandas. <br><br><pre> <code class="python hljs"> x = pd.Series ([ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">124</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> ])</code> </pre> <br>  Preciso encontrar o índice do elemento mínimo e máximo.  Obviamente, não é difícil descobrir apenas olhando a descrição do objeto, mas em projetos reais nunca (exatamente assim - “nunca”) não atende a conjuntos de dados que consistem em um número tão pequeno de elementos. <br><br>  O que fazer  Use os <code>idxmin()</code> e <code>idxmax()</code> .  Aqui está o que parece: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce5/4c8/340/ce54c83405f1ecc4e8051687ae209eca.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4d/01d/777/b4d01d77756d96a86c911daff3459e5e.png"></div><br>  Usando esses métodos, você não deve esquecer que eles retornam o índice da primeira ocorrência do valor mínimo ou máximo. <br><br><h2>  <font color="#3AC1EF">Método Ne ()</font> </h2><br>  O método <code>ne()</code> foi uma grande descoberta para mim.  Há algum tempo, eu estava trabalhando com séries temporais de dados e tive um problema quando as primeiras <code>n</code> observações foram 0. <br><br>  Imagine que você comprou algo, mas não o consumiu por um determinado período de tempo.  O que você comprou está à sua disposição, mas como você não o está usando, o nível de consumo disso em uma determinada data é 0. Desde que eu estava interessado nos dados sobre consumo obtidos quando o uso real do que começou " comprado ”, verificou-se que o método <code>ne()</code> era exatamente o que eu precisava. <br><br>  Considere o seguinte cenário.  Temos um objeto Pandas <code>DataFrame</code> , que contém os resultados de algumas observações, que, no topo da lista, são representadas pelos valores de 0. <pre> <code class="python hljs">df = pd.DataFrame()</code> </pre> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/905/f12/1d1/905f121d19fbfc15e80b0bba7f0f349d.png"></div><br>  O método <code>ne()</code> retornará <code>True</code> apenas se o valor atual não for o especificado quando esse método foi chamado (por exemplo, quando for chamado, o valor 0 poderá ser especificado), caso contrário, retornará <code>False</code> : <pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'X'</span></span>].ne(<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93c/b3b/f66/93cb3bf66532db9f0ac6101061be1671.png"></div><br>  Este método por si só não pode ser chamado de particularmente útil.  Agora lembre-se de como, no início do artigo, eu disse que, para entender o artigo, você precisa se familiarizar com o método <code>idxmax()</code> .  Eu não estava brincando então.  Você pode anexar a chamada <code>idxmax()</code> à chamada <code>ne()</code> acima.  O resultado é o seguinte: <pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'X'</span></span>].ne(<span class="hljs-number"><span class="hljs-number">0</span></span>).idxmax()</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d6/544/38e/4d654438e0aeb4bc676b56f8d0a9e2a9.png"></div><br>  Isso nos diz que o primeiro resultado de observação diferente de zero está na posição 6. Novamente, isso pode não parecer uma descoberta tão importante.  Mas o mais importante aqui é que essas informações podem ser usadas para selecionar um subconjunto do objeto <code>DataFrame</code> e exibir apenas os valores que aparecem começando na posição detectada: <pre> <code class="python hljs">df.loc[df[<span class="hljs-string"><span class="hljs-string">'X'</span></span>].ne(<span class="hljs-number"><span class="hljs-number">0</span></span>).idxmax():]</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/530/299/cd7/530299cd784ccf0b70b3301c0d95e31e.png"></div><br>  Essa técnica é muito útil em muitas situações nas quais você precisa trabalhar com dados de séries temporais. <br><br><h2>  <font color="#3AC1EF">Métodos Nsmallest () e nlargest ()</font> </h2><br>  Suspeito que somente depois de ver os nomes desses métodos, você possa adivinhar o objetivo deles.  Suponha que eu criei o seguinte <code>DataFrame</code> : <pre> <code class="python hljs">df = pd/DataFrame({ <span class="hljs-string"><span class="hljs-string">'Name'</span></span>: [<span class="hljs-string"><span class="hljs-string">'Bob'</span></span>, <span class="hljs-string"><span class="hljs-string">'Mark'</span></span>, <span class="hljs-string"><span class="hljs-string">'Steph'</span></span>, <span class="hljs-string"><span class="hljs-string">'Jess'</span></span>, <span class="hljs-string"><span class="hljs-string">'Becky'</span></span>], <span class="hljs-string"><span class="hljs-string">'Points'</span></span>: [<span class="hljs-number"><span class="hljs-number">55</span></span>, <span class="hljs-number"><span class="hljs-number">98</span></span>, <span class="hljs-number"><span class="hljs-number">46</span></span>, <span class="hljs-number"><span class="hljs-number">77</span></span>, <span class="hljs-number"><span class="hljs-number">81</span></span>] })</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/756/c11/52b/756c1152b45e7947b262ca2888b35ec7.png"></div><br>  Para torná-lo mais interessante, suponha que aqui estão os resultados de um teste que alguns alunos passaram.  Queremos encontrar três alunos que fizeram o pior com o teste: <pre> <code class="python hljs">df.nsmallest(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'Points'</span></span>)</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04c/afe/a95/04cafea95cb32bb60a9cf2d18de215f3.png"></div><br>  Ou - descubra quem está entre os três primeiros: <br><pre> <code class="python hljs">df.nlargest(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'Points'</span></span>)</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fd/c97/12d/0fdc9712d1da471274682b34b4209fee.png"></div><br>  Esses métodos são ótimos substitutos para métodos como <code>sort_values()</code> . <br><br><h2>  <font color="#3AC1EF">Sumário</font> </h2><br>  Aqui vimos alguns métodos úteis do Pandas.  Para aqueles que sabem sobre eles, sua aplicação pode parecer completamente natural, mas para aqueles que acabaram de aprender sobre eles, eles podem parecer uma descoberta real.  Esperamos que eles o atendam bem. <br><br>  <b>Caros leitores!</b>  Conhece alguns métodos úteis do Pandas que outros desconhecem? <br><br><div style="text-align:center;"> <a href="https://ruvds.com/ru-rub"><img src="https://habrastorage.org/webt/yx/3g/bv/yx3gbv0xlht1gyjfwlg2z_kgylo.png"></a> </div><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479276/">https://habr.com/ru/post/pt479276/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479266/index.html">Análise da carga da CPU gerada por componentes JavaScript individuais</a></li>
<li><a href="../pt479268/index.html">Ouvintes de eventos e trabalhadores da Web</a></li>
<li><a href="../pt479270/index.html">Que novidades você pode esperar do Node.js em 2020?</a></li>
<li><a href="../pt479272/index.html">[marcador] 9 ferramentas que aumentam a produtividade do desenvolvedor da web</a></li>
<li><a href="../pt479274/index.html">10 truques em Python para conhecer</a></li>
<li><a href="../pt479278/index.html">De cem a quinhentos dígitos do número pi no joelho</a></li>
<li><a href="../pt479282/index.html">Se os dados não couberem na memória. Métodos mais simples</a></li>
<li><a href="../pt479284/index.html">A casa que o robô construiu</a></li>
<li><a href="../pt479286/index.html">Escrevendo um aplicativo Web simples usando Spring MVC, Spring Data JPA e Hibernate</a></li>
<li><a href="../pt479288/index.html">Por que implementar o Service Desk e como escolher uma solução para sua empresa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>