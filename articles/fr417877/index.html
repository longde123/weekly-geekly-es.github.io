<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏼 👝 🧛🏻 Comment Tinder cache (légèrement) votre position 🎷 👍🏾 💖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cette année, vous et votre ami Steve Stevington avez lancé une startup de suivi des utilisateurs. L'entreprise est basée sur la fuite de métadonnées W...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment Tinder cache (légèrement) votre position</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417877/"> Cette année, vous et votre ami Steve Stevington avez lancé une startup de suivi des utilisateurs.  L'entreprise est basée sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fuite de métadonnées WhatsApp que vous avez découverte</a> .  Vous devriez tous les deux apprendre la gestion, mais l'entreprise est toujours devenue une entreprise puissante, quoique instable, de 65 stagiaires et étudiants divers, indépendants et travailleurs non rémunérés en stage.  Vous avez récemment déménagé dans le nouveau bureau astucieux du département de littérature du XIXe siècle de la bibliothèque publique de San Francisco, et vous avez une réputation enviable dans le domaine du marketing Internet. <br><br>  Mais sous cette apparence brillante et douteuse se cache la pourriture.  Vous pensez que votre bon ami, co-fondateur et co-directeur exécutif, Steve Stevington, complote contre vous.  Il sort tout le temps de la bibliothèque à des moments étranges et quelque part disparaît pendant des heures.  Lorsque vous demandez où il va, il construit une étrange grimace, qu'il considère probablement comme un sourire malveillant - et vous dit de ne pas vous inquiéter.  Vous avez demandé aux bibliothécaires de le suivre plusieurs fois, mais ils sont tous terribles dans le travail sur le terrain. <br><a name="habracut"></a><br>  Vous vivez dans la Silicon Valley depuis un certain temps - et vous savez quelles atrocités impitoyables se produisent lorsqu'une grosse somme d'argent et des données utilisateur sont en jeu.  Steve Stevington essaie probablement de convaincre les investisseurs de vous retirer des affaires.  Vous pensez que Peter Thiel vous soutiendra, mais c'est difficile à dire à propos de tante Martha.  Vous devez donc savoir où va Steve. <br><br>  Heureusement, il est un fervent utilisateur de Tinder. <cut></cut>  L'application Tinder suit l'emplacement de ses utilisateurs pour permettre aux couples potentiels de savoir à quelle distance ils se trouvent.  Cela permet aux utilisateurs de prendre des décisions intelligentes: cela vaut-il vraiment la peine de parcourir 13 kilomètres pour rencontrer un couple à 6 ou 6,5 points lorsqu'ils prennent un bain, des glaces au réfrigérateur et travaillent le matin.  En d'autres termes, Tinder sait exactement où Steve se dirige.  Et si vous choisissez le bon exploit, vous aussi le découvrirez bientôt. <br><br>  Pour déterminer le sens de vos recherches, vous avez examiné les rapports de fuites passées de données de localisation pour les utilisateurs de Tinder.  Il y en avait plusieurs.  En 2013, il a été découvert que les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">serveurs Tinder envoient les coordonnées exactes des correspondances potentielles à une application mobile</a> .  Sur cette base, l'application a calculé la distance entre les utilisateurs, mais n'a pas affiché les coordonnées dans l'interface.  Cependant, un attaquant pourrait facilement intercepter le trafic réseau de Tinder, vérifier les données brutes et déterminer l'emplacement exact de la cible. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/545/7f6/059/5457f6059c9e1af8adfaa8677d1c0e13.jpg"><br>  <i><font color="gray">Réponse de l'API Tinder, y compris l'emplacement exact</font></i> <br><br>  Tinder a tenté de corriger discrètement la vulnérabilité en déplaçant le calcul de la distance vers les serveurs au lieu de l'application.  Après cela, les messages réseau envoyés du serveur à l'application ne contenaient que ces distances précalculées sans emplacements réels.  Cependant, Tinder a envoyé des distances avec désinvolture sous la forme de nombres non arrondis avec 15 décimales. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/094/8f5/25b/0948f525bd667d3743b376bc7177b94c.jpg"><br>  <i><font color="gray">Réponse de l'API Tinder, y compris une distance précise</font></i> <br><br>  Cette négligence a permis à des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chercheurs rusés de déterminer à nouveau l'emplacement exact des cibles en</a> utilisant un exploit pour la trilatération.  Les chercheurs ont envoyé trois fausses coordonnées à Tinder avec différents emplacements d'utilisateurs.  À chaque nouvel emplacement, ils ont demandé à Tinder dans quelle mesure la cible était.  Ensuite, trois cercles ont été dessinés sur la carte avec des centres en fausses coordonnées et des rayons égaux aux distances obtenues.  Le point d'intersection - les coordonnées de la cible avec une précision de 30 mètres. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ee/72c/b75/4ee72cb750081d088adff413e07194d5.jpg"><br>  <i><font color="gray">Exemple de trilatération de Tinder</font></i> <br><br>  L'équipe de sécurité de Tinder a regardé ces personnes qui les font constamment travailler, a soupiré et a tranquillement corrigé la vulnérabilité.  Maintenant, Tinder envoie des distances arrondies à des kilomètres à l'application.  Vous pouvez toujours utiliser la procédure de trilatération indiquée pour déterminer les coordonnées de la cible dans un kilomètre environ.  Mais dans la ville densément peuplée de San Francisco, cela ne donnera pas de réponse, où va le sournois Steve Stevington. <br><br>  Vendredi après-midi, une grimace de vol a réapparu sur le visage de Steve Stevington, indiquant une volonté de prendre diverses mesures dans des endroits inconnus.  Vous devez savoir où il se dirige avant qu'il ne soit trop tard.  Vous vous êtes enfermé dans votre compte - dans la salle de lecture de la bibliothèque au 4ème étage.  Après quinze minutes de respiration profonde et de réflexion encore plus profonde, vous avez un plan pour réanimer l'exploit de trilatération de Tinder et savoir où le Stevenator se dirige. <br><br>  Supposons que Tinder calcule maintenant les distances exactes sur les serveurs, les arrondit à l'entier le plus proche, puis envoie les nombres arrondis à votre téléphone.  Vous pouvez lancer une nouvelle attaque de la même manière qu'avec la trilatération.  Nous envoyons de faux emplacements Tinder et demandons dans quelle mesure la cible est.  Tinder peut répondre à «8 kilomètres», ce qui en soi est peu utile.  Mais alors vous pouvez déplacer un pixel vers le nord, en demandant la distance à chaque pas.  Le serveur répondra «8 kilomètres, 8 kilomètres, 8 kilomètres, 8 kilomètres, 7 kilomètres».  Si votre hypothèse sur le processus d'arrondi est correcte, le point auquel la réponse change correspond à la distance exacte jusqu'à la cible de 7,5 kilomètres.  Si vous répétez cette procédure trois fois et dessinez trois cercles, nous utiliserons à nouveau l'exploit de trilatération. <br><br>  Nous passons à des actions actives.  Pendant que Wilson est allé aux toilettes, empruntez son téléphone pour les tests - vous savez qu'il utilise Tinder, et le code de déverrouillage est visible sur l'empreinte digitale sur l'écran.  Parlez à vos stagiaires non rémunérés pendant une période d'essai afin qu'ils ne vous appellent pas ou ne disent rien à Wilson - et dépêchez-vous dans le coin isolé et inhabité de votre bureau du département de fiction pour les enfants du secondaire.  Là, vous ouvrez Tinder sur les deux téléphones.  Continuez à glisser jusqu'à ce que vous obteniez une correspondance, puis écrivez un court script Python à l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pynder</a> pour usurper les appels de l'API Tinder.  Placez Wilson au milieu de la baie de San Francisco, puis essayez de déterminer ses coordonnées, en changeant son emplacement pixel par pixel pour trouver le point lorsque la distance entre vous passe d'un nombre arrondi à un autre. <br><br>  Mais quelque chose ne va pas.  Le soir est venu, le dîner est passé et vous n'avez pas encore trouvé Wilson.  Vous vous rapprochez, mais pas assez.  Les cercles sont parfois douloureusement proches de l'intersection, mais ne donnent généralement pas de réponse significative à l'endroit où se trouve Wilson.  Vous commencez à désespérer.  Dès cette seconde, Steve Stevington peut signer un nouveau contrat avec Peter Thiel et tante Marta.  Il a peut-être déjà mis à jour la page LinkedIn de votre entreprise, vous a renommé «conseiller», «assistant» ou «ancien PDG».  La bibliothèque ferme - et vous passez au garde-manger.  Wilson continue d'appeler, mais les stagiaires en probation ne vous abandonnent pas.  Même une pensée éphémère saute pour leur donner un emploi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd0/f57/7f6/dd0f577f6ae5e7a74a9e819fb89017cd.jpg"><br><br>  Frustré, vous reculez et vous frappez la tête sur l'étagère inférieure.  Lorsque vous sortez d'une pile de produits de nettoyage, vous envisagez la possibilité que les hypothèses soient fausses.  Peut-être que Tinder n'arrondit pas seulement les distances exactes.  Vous prenez une collation dans le réfrigérateur d'un employé de la bibliothèque pour aider le processus de réflexion.  Arrêtez de dessiner des cercles et commencez à marcher le long des lignes autour de la véritable position de Wilson, en marquant chaque changement de distance. <br><br>  À la deuxième heure de la nuit, tout devient clair. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f6f/bc6/1f2/f6fbc61f235072d12c5ad7601a974277.jpg"><br>  <i><font color="gray">Placer des marques sur une carte en fonction des distances de Tinder</font></i> <br><br>  Maintenant, Tinder est si zélé pour la confidentialité des utilisateurs qu'il brise les clips ennuyeux de la géométrie conventionnelle.  Il a abandonné Euclide.  Il n'a pas besoin de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">formule haversinus</a> .  Au lieu de cela, Tinder utilise deux innovations pour calculer la distance entre les matchs. <br><br>  Tout d'abord, et surtout, il divise la ville en carrés d'environ 1 × 1 mile.  Lors du calcul de la distance, l'emplacement cible est accroché au centre du carré de grille actuel.  Il calcule ensuite et renvoie la distance approximative entre vous <i>et cet emplacement attaché</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c70/40e/ac2/c7040eac21f31af04acf613b3f0df997.jpg"><br>  <i><font color="gray">Tinder accroche les emplacements des utilisateurs dans une grille</font></i> <br><br>  Deuxièmement, il calcule les distances comme par sa formule unique.  Pour ce faire, une carte de distances approximatives et prédéfinies est prise - et superposée au centre du carré de la cible.  Tinder recherche l'emplacement de l'attaquant dans cette superposition et renvoie la distance correspondante.  Dans le calcul normal de la distance euclidienne, ce serait un ensemble de cercles concentriques. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/046/7ca/44e/0467ca44ec95e23290d311d42581e291.jpg"><br><br>  Mais Tinder semble utiliser une superposition concentrique avec des courbes étranges dans les coins alors qu'il s'éloigne de la cible. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a9a/9bd/a33/a9a9bda3337f9f250b28758e658af4ed.jpg"><br><br>  Entre autres choses, cela signifie que Tinder renvoie souvent des distances légèrement incorrectes.  Vous pensez que l'arrondi des coins est nécessaire pour corriger les distances <i>trop</i> incorrectes situées au nord-est les unes des autres. <br><br>  L'accrochage au maillage est une innovation clé dans l'approche Tinder.  Cela signifie que Tinder retournera toujours la même distance si la cible se trouve n'importe où dans le carré de la grille donné.  Votre exploit trilatéral ne fonctionnera pas.  Et si Tinder a correctement implémenté la liaison de maillage, aucun exploit purement distant ne fonctionnera jamais.  Il n'y a aucun moyen de trouver l'emplacement d'une cible avec une plus grande précision que les bordures de l'un des carrés de la grille (environ) 1 × 1 mile.  Même une surveillance aussi grossière peut faire réfléchir les utilisateurs de Tinder.  Mais en fait, c'est un comportement tout à fait raisonnable pour l'application, dont la fonction principale est de dire aux étrangers où vous en êtes. <br><br>  Vous ne savez vraiment pas pourquoi Tinder utilise une couche de carrés aussi étrange avec des coins arrondis.  Tant que les emplacements des utilisateurs sont liés à une grille, Tinder pourrait utiliser la distance euclidienne normale sans risquer la confidentialité.  C'est peut-être simplement qu'une nouvelle métrique est calculée plus rapidement, et malgré les préceptes de Gordon Moore, les ordinateurs sont toujours limités.  Cependant, tout cela mène à la conclusion que Tinder est sûr - dans cet aspect très étroit - et vous avez foiré. <br><br>  La bibliothèque est dans l'obscurité totale, sans compter la lueur verte de Xerox.  Vous êtes triste, mais balayez les pistes avec diligence.  Mettez-le dans le placard et jetez le téléphone de Wilson dans le déchiqueteur industriel de la bibliothèque.  Sortez par l'entrée principale, volez un vélo mal attaché et rentrez tristement à la maison. <br><br>  Le lendemain matin, Steve Stevington vous présente l'un des deux co-directeurs sur lesquels il a travaillé dans son cours de céramique secret de l'après-midi.  C'est complètement dégoûtant.  Ce serait mieux s'il vous donnait une paire de billets de dix dollars et restait au bureau.  Il travaillait peu et mal, et vous deviez tenir de nombreuses réunions et mentir beaucoup - généralement c'est son travail.  Mais au moins, il n'a pas volé votre entreprise.  Vous versez le café de Wilson dans votre tasse ridicule et souhaitez une bonne santé à votre bon ami. <br><br>  Lorsque vous vous endormez la nuit, des pensées surgissent dans votre tête sur ce qui se passe avec la grille Tinder au pôle Nord ... <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Votre code de cet article est publié sur Github</a> .</i>  <i>Veuillez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vous informer</a> si vous avez des questions ou si vous trouvez des erreurs.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417877/">https://habr.com/ru/post/fr417877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417867/index.html">Comment évaluer la durée d'un projet informatique et quand cela ne vaut pas la peine de le faire</a></li>
<li><a href="../fr417869/index.html">Comment déboguer WebRTC</a></li>
<li><a href="../fr417871/index.html">À la ligne d'arrivée du tourisme suborbital</a></li>
<li><a href="../fr417873/index.html">Façons de créer des fenêtres pop-up</a></li>
<li><a href="../fr417875/index.html">Sortir du spa Rabbit Hole avec des rails modernes</a></li>
<li><a href="../fr417879/index.html">Comment passer des examens de Microsoft gratuitement [par exemple, un récent concours]</a></li>
<li><a href="../fr417881/index.html">Le condensé de matières fraîches du monde du front-end des deux dernières semaines n ° 323 (8-22 juillet 2018)</a></li>
<li><a href="../fr417883/index.html">Création d'un dialogue pour choisir une sonnerie</a></li>
<li><a href="../fr417885/index.html">À propos de M et de V et un peu de C</a></li>
<li><a href="../fr417887/index.html">Gadget audio spécial: enregistreur vocal Stirlitz, son prototype réel et sa modélisation historique audacieuse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>