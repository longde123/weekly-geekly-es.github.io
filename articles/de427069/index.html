<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍✈️ 🗒️ 🎄 Lokales NPM-Repository in 5 Minuten mit seinen Paketen und dem Caching 🗼 🏆 🏩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag! 

 Früher oder später haben Unternehmen Probleme, js-Module zwischen Projekten zu verteilen. Es ist an der Zeit, dass diese Frage in unsere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lokales NPM-Repository in 5 Minuten mit seinen Paketen und dem Caching</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427069/"> Guten Tag! <br><br>  Früher oder später haben Unternehmen Probleme, js-Module zwischen Projekten zu verteilen. Es ist an der Zeit, dass diese Frage in unserem Unternehmen auftaucht. <br><br>  Das Kopieren und Einfügen von Code ist der Weg zur dunklen Seite. Daher wurde die Entscheidung getroffen, nicht nur js-Code zu schreiben, sondern daraus auch npm-Pakete zu erstellen, die zwischen Ihren Projekten verteilt werden sollen. <br><br>  Die Suche nach kostenlosen, privaten npm-Repositories hat zu einer Sackgasse geführt, und die Verwendung privater <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm-</a> Repositories erfordert eine Gebühr (was nicht unsere Mentalität ist). <br><br>  Da das Büro über einen Server verfügt, der (fast) immer funktioniert, wurde beschlossen, lokale npm bereitzustellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f25/1cf/58f/f251cf58fa84bbb5b8f9ce5f8840b380.gif" alt="Bild"><br><a name="habracut"></a><br>  Das Gerät der beliebten lokalen npm-Repositories ist recht einfach und eintönig. Wir haben uns für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verdaccio</a> entschieden, da Updates dafür erst vor relativ kurzer Zeit veröffentlicht wurden. <br><br>  Dies ist hauptsächlich ein npm-Paket, das auf Node.js&gt; 4 installiert ist und eine Webschnittstelle für einen bestimmten Port bietet. <br><br>  Ein großes Plus ist die Caching-Funktion. Wenn die lokale npm das von ihr angeforderte Paket nicht findet, geht sie zu npmjs.com, lädt das erforderliche Paket auf die Festplatte herunter und verteilt bei wiederholten Anforderungen dieses Pakets die bereits zwischengespeicherte Version. <br><br>  Also, um einzurichten. <br><br>  Auf dem Computer, der der Server sein wird: <br><br><pre><code class="javascript hljs">npm i -g verdaccio</code> </pre> <br>  Die Datei C: \ Users \ lab \ AppData \ Roaming \ verdaccio \ config.yaml enthält Serverparameter <br><br>  Die Standardparameter sind realisierbar. Sie können nichts ändern. Fügen Sie einfach die Einstellung am Ende der Datei hinzu, dank derer Verdaccio versteht, welchen Port Sie abhören müssen. <br><br><pre> <code class="javascript hljs">listen: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.51</span></span><span class="hljs-number"><span class="hljs-number">.79</span></span>:<span class="hljs-number"><span class="hljs-number">1234</span></span></code> </pre><br>  192.168.51.79 ist ein IP-Server, der die Adresse so festlegt, dass wir vom lokalen Netzwerk über den IP-Server oder über seinen DNS-Namen und durch Hinzufügen von Port 1234 auf die Webschnittstelle zugreifen können. <br><br>  Wenn Sie <i>listen</i> registrieren <i>: 192.168.51.79:80,</i> ist es nicht erforderlich, beim Konfigurieren von Clients einen Port zu schreiben. <br><br>  Führen Sie als nächstes unsere lokale npm aus <br><br><pre> <code class="javascript hljs">verdaccio</code> </pre><br>  Die verbleibenden Aktionen werden auf Clients ausgeführt. <br><br>  Legen Sie den Pfad zum lokalen Repository fest. <br><br><pre> <code class="javascript hljs">npm set registry http:<span class="hljs-comment"><span class="hljs-comment">//192.168.51.79:1234</span></span></code> </pre><br>  Fertig, jetzt werden alle Ihre npm-Anforderungen über den lokalen Server zwischengespeichert. <br><br>  Wenn Sie das npm-Paket auf dem Server veröffentlichen müssen, befolgen Sie die nachstehenden Anweisungen. <br><br>  Benutzer erstellen <br><br><pre> <code class="javascript hljs">npm adduser --registry http:<span class="hljs-comment"><span class="hljs-comment">//192.168.51.79:1234 login password mail@mail.ru</span></span></code> </pre><br>  Login <br><br><pre> <code class="javascript hljs">npm login password bezrukov@mir-omsk.ru</code> </pre><br>  Wir überprüfen, ob wir uns unter dem Benutzer "Login" befinden. <br><br><pre> <code class="javascript hljs">npm whoami</code> </pre><br>  Wir veröffentlichen das Paket, rootProjectFolder ist ein Ordner mit mindestens drei Dateien index.js \ package.json \ README.md. Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispiel wird auf github veröffentlicht</a> . <br><br><pre> <code class="javascript hljs">cd /rootProjectFolder npm publish</code> </pre><br>  Paket aktualisieren.  Wir aktualisieren die Version in package.json und führen die Befehle aus <br><br><pre> <code class="javascript hljs">cd /rootProjectFolder npm publish</code> </pre><br>  Das Paket auf dem lokalen Server können Sie unter <u><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">192.168.51.79</a> : 1234 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">überprüfen,</a></u> ob ein neues Paket vorhanden ist. <br><br>  Übrigens werden Informationen zu jedem der Pakete in einer praktischen Form dargestellt und es wird nach lokalen Paketen gesucht. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b95/6da/419/b956da41966af9bf72278a3a45c0363e.jpg" alt="Bild"><br><br>  PS: Wenn Ihr Netzwerk über einen Proxy verfügt, müssen Sie dessen Parameter auf dem Server explizit angeben, dies ist jedoch auf dem Client nicht erforderlich, da das npm-Repository lokal ist und Sie keinen Proxyserver für den Zugriff auf Clients benötigen. <br><br>  Führen Sie auf dem Server den Befehl <i>npm config edit aus</i> und fügen Sie die folgenden Zeilen hinzu <br><br><pre> <code class="javascript hljs">proxy=http:<span class="hljs-comment"><span class="hljs-comment">//name:pass@proxy:port/ https-proxy=http://name:pass@proxy:port/ registry=http://registry.npmjs.org/</span></span></code> </pre><br><br>  PPS Wenn Sie unter Windows ausgeführt werden, ist es vorzuziehen, Powershell auf dem Server zu verwenden. In cmd kann npm nach einem Tag einfrieren. <br><br>  Ich freue mich über Kommentare und Feedback, wie dies für Sie funktioniert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427069/">https://habr.com/ru/post/de427069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427055/index.html">Wie Apple gegen fünf allgemein anerkannte PR-Standards verstieß, aber seinen guten Namen behielt</a></li>
<li><a href="../de427057/index.html">Wie wir dem neuronalen Netzwerk beigebracht haben, Dokumente zu identifizieren</a></li>
<li><a href="../de427059/index.html">"Mensch, zu menschlich." Werden wir nicht durch die Implementierung einer universellen KI zu Geiseln unseres Geistes?</a></li>
<li><a href="../de427061/index.html">Sprachassistenten am Steuer des Autos: Für wen die Zukunft</a></li>
<li><a href="../de427065/index.html">Klassenattribute Metamorphosen</a></li>
<li><a href="../de427075/index.html">Die Geschichte einer Entwicklung</a></li>
<li><a href="../de427077/index.html">Laplace-Unschärfe - Ist es möglich, Laplace anstelle von Gauß zu blubbern, wie oft ist es schneller und ist es den Verlust von 1/32 Genauigkeit wert?</a></li>
<li><a href="../de427079/index.html">NetApp Insight 2018</a></li>
<li><a href="../de427081/index.html">Kriterien des menschlichen Geistes aus der Sicht eines Programmierers</a></li>
<li><a href="../de427087/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 12: Netzwerksicherheit, Teil 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>