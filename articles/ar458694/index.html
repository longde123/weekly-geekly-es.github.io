<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉโโค๏ธโ๐โ๐ฉ ๐คด๐ฝ ๐ ูู ุจูุซูู ุฌูู ููุช ุจุงููุนูุ ๐ฒ๐ฟ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน! ุงูุงุซููู ุงูููุจู ุ ุณุชุจุฏุฃ ุงููุตูู ูู ุงููุฌููุนุฉ ุงูุฌุฏูุฏุฉ ูู ุฏูุฑุฉ Python Developer ุ ููุง ูุนูู ุฃู ูุฏููุง ุงูููุช ููุดุฑ ูุงุฏุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ุ ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูู ุจูุซูู ุฌูู ููุช ุจุงููุนูุ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/458694/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุจุงูุฌููุน!  ุงูุงุซููู ุงูููุจู ุ ุณุชุจุฏุฃ ุงููุตูู ูู ุงููุฌููุนุฉ ุงูุฌุฏูุฏุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูุฑุฉ Python Developer</a> ุ ููุง ูุนูู ุฃู ูุฏููุง ุงูููุช ููุดุฑ ูุงุฏุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ุ ููู ูุง ุณููุนูู ุงูุขู.  ูู ูุฏูู ูุฑุงุกุฉ ุฌูุฏุฉ. <br><br><img src="https://habrastorage.org/webt/jb/cq/wj/jbcqwjrmctxos6x_uzhptngfd9y.png"><br><br>  ูู ุนุงู 2003 ุ ุฃุทููุช Intel ูุนุงูุฌ Pentium 4 "HT" ุงูุฌุฏูุฏ.  ูุฐุง ุงููุนุงูุฌ ููุฑูููููุฏ ุฅูู 3GHz ูุฏุนู ุชูููุฉ ุฎููุท ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/9d/z1/es/9dz1esccmgms80liftaeolcqiui.jpeg"><br><br>  ูู ุงูุณููุงุช ุงูุชุงููุฉ ุ ูุงูุญุช Intel ู AMD ูุชุญููู ุฃูุถู ุฃุฏุงุก ูุณุทุญ ุงูููุชุจ ูู ุฎูุงู ุฒูุงุฏุฉ ุณุฑุนุฉ ุงููุงูู ูุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช L2 ูุชูููู ุญุฌู ุงููุตูููุฉ ูุชูููู ุฒูู ุงููุตูู ุฅูู ุฃุฏูู ุญุฏ.  ูู ุนุงู 2004 ุ ุชู ุงุณุชุจุฏุงู ุทุฑุงุฒ HT ุจุชุฑุฏุฏ 3 ุฌูุฌุง ูุฑุชุฒ ุจูููุฐุฌ 580 Prescott ูุน ุฑูุน ุชุฑุฏุฏ ุงูุชุดุบูู ุฅูู 4 ุฌูุฌุง ูุฑุชุฒ. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AmwzUrL3vMc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  ูุจุฏู ุฃูู ูู ุงูุถุฑูุฑู ุงููุถู ูุฏููุง ูู ุฒูุงุฏุฉ ุชุฑุฏุฏ ุงูุณุงุนุฉ ุ ูููู ุงููุนุงูุฌุงุช ุงูุฌุฏูุฏุฉ ุนุงูุช ูู ุงุฑุชูุงุน ุงุณุชููุงู ุงูุทุงูุฉ ูุชุจุฏูุฏ ุงูุญุฑุงุฑุฉ. <br><br>  ูู ููุฏู ูุนุงูุฌ ุณุทุญ ุงูููุชุจ ุงูุฎุงุต ุจู 4 ุฌูุฌุง ูุฑุชุฒ ุงููููุ  ูู ุบูุฑ ุงููุฑุฌุญ ุ ูุฃู ุงููุณุงุฑ ูุชุญุณูู ุงูุฃุฏุงุก ูููู ูู ุงูููุงูุฉ ูู ุฎูุงู ุฒูุงุฏุฉ ุณุฑุนุงุช ุงูุญุงููุงุช ูุฒูุงุฏุฉ ุนุฏุฏ ุงูููู.  ูู ุนุงู 2006 ุ ุญู Intel Core 2 ูุญู Pentium 4 ููุงู ุฃูู ุณุฑุนุฉ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฅุทูุงู ูุนุงูุฌุงุช ูุชุนุฏุฏุฉ ุงูููุงุฉ ูุฌูููุฑ ูุณุชุฎุฏู ูุงุณุน ุ ุญุฏุซ ุดูุก ุขุฎุฑ ูู ุนุงู 2006.  ุฑุฃู ุจูุซูู 2.5 ุฃุฎูุฑุง ุงูููุฑ!  ููุฏ ุฌุงุก ุจุงููุนู ูุน ุฅุตุฏุงุฑ ุชุฌุฑูุจู ูู ุงููููุฉ ุงูุฃุณุงุณูุฉ ุ ูุงูุชู ุชุนุฑููุง ูุชุญุจูุง ุฌููุนูุง. <br><br>  ูุงู ูุจูุซูู 2.5 ูููุฏ ุฑุฆูุณูุฉ ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุงุณุชุฎุฏุงู Intel Core 2 ุฃู AMD Athlon X2. <br>  ูุงู ุฌูู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ุฌููุ </h2><br>  GIL (Global Interpreter Lock) ูู ูููุฉ ููุทููุฉ ูู ูุชุฑุฌู Python ุงููุญูู ุจูุงุณุทุฉ ูุงุฆู ูุฒุงููุฉ.  ูุชู ุงุณุชุฎุฏุงู ุงูููู ูู ุญููุฉ ุญุณุงุจ CPython bytecode ุงูุฑุฆูุณูุฉ ูุชุญุฏูุฏ ุฃู ูุคุดุฑ ุชุฑุงุจุท ูููุฐ ุงูุชุนูููุงุช ุญุงูููุง. <br><br>  ูุฏุนู CPython ุงุณุชุฎุฏุงู ูุคุดุฑุงุช ุชุฑุงุจุท ูุชุนุฏุฏุฉ ูู ูุชุฑุฌู ูุงุญุฏ ุ ูููู ูุฌุจ ุฃู ุชุทูุจ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุตูู ุฅูู GIL ูู ุฃุฌู ุฅุฌุฑุงุก ุนูููุงุช ููุฎูุถุฉ ุงููุณุชูู.  ููุฐุง ุจุฏูุฑู ูุนูู ุฃู ูุทูุฑู Python ูููููู ุงุณุชุฎุฏุงู ุงูุดูุฑุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุงูุชุฑุงุจุท ุงููุชุนุฏุฏ ุ ููู ูุนุฏ ุนูููู ุงูููู ุจุดุฃู ุญุธุฑ ุฃู ูุชุบูุฑุงุช ุฃู ุชุนุทู ุนูู ูุณุชูู ุงููุนุงูุฌ ุฃุซูุงุก ุญุงูุฉ ุชููู ุชุงู. <br><br>  GIL ูุจุณุท ุงูุจุฑูุฌุฉ ุจูุซูู ูุชุนุฏุฏุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท. <br><br><img src="https://habrastorage.org/webt/lg/yz/3h/lgyz3hoq07fkumzp4axuuiqxplk.gif"><br><br>  ูุฎุจุฑูุง GIL ุฃูุถูุง ุฃูู ุจูููุง ูููู ุฃู ูููู CPython ูุชุนุฏุฏ ุงูุฎููุท ุ ูููู ุชูููุฐ ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ููุท ูู ูู ูุฑุฉ.  ูุฐุง ูุนูู ุฃู ุงููุนุงูุฌ ุฑุจุงุนู ุงูููุงุฉ ูููู ุจุดูุก ูู ูุฐุง ุงููุจูู (ุจุงุณุชุซูุงุก ุงูุดุงุดุฉ ุงูุฒุฑูุงุก ุ ูุฃูู). <br><br>  ุชูุช ูุชุงุจุฉ ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู GIL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุนุงู 2009</a> ูุฏุนู ุงููุธุงุฆู ุบูุฑ ุงููุชุฒุงููุฉ ูุจููุช ุนูู ุญุงููุง ุญุชู ุจุนุฏ ูุญุงููุงุช ุนุฏูุฏุฉ ูุฅุฒุงูุชูุง ูู ุญูุซ ุงููุจุฏุฃ ุฃู ุชุบููุฑ ูุชุทูุจุงุชูุง. <br><br>  ุชู ุชุจุฑูุฑ ุฃู ุงูุชุฑุงุญ ูุฅุฒุงูุฉ GIL ุจุญูููุฉ ุฃู ุงูููู ุงูุนูููู ูููุชุฑุฌู ูุง ููุจุบู ุฃู ูุคุฏู ุฅูู ุงูุฎูุงุถ ุฃุฏุงุก ุงูุดูุฑุฉ ุงูููุฑุฏุฉ ุงูุชุฑุงุจุท.  ุฃู ุดุฎุต ุญุงูู ุชูููู hyperthreading ูู ุนุงู 2003 ุณูู ูููู ูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุชุญุฏุซ ุนูู</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ุฌูู ุงูุชุฎูู ูู CPython </h2><br>  ุฅุฐุง ููุช ุชุฑูุฏ ุจุงููุนู ููุงุฒูุฉ ุงูููุฏ ูู CPython ุ ูุณูุชุนูู ุนููู ุงุณุชุฎุฏุงู ุนุฏุฉ ุนูููุงุช. <br><br>  ูู CPython 2.6 ุ ุชูุช ุฅุถุงูุฉ ูุญุฏุฉ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ</a></i> ุฅูู ุงูููุชุจุฉ ุงูููุงุณูุฉ.  ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ููุซููู ุชูููุฏ ุงูุนูููุงุช ูู CPython (ูู ุนูููุฉ ูุน GIL ุงูุฎุงุตุฉ ุจู). <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> multiprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Process <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'hello'</span></span>, name <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: p = Process(target=f, args=(<span class="hljs-string"><span class="hljs-string">'bob'</span></span>,)) p.start() p.join()</code> </pre> <br><br>  ูุชู ุฅูุดุงุก ุงูุนูููุงุช ุ ููุชู ุฅุฑุณุงู ุงูุฃูุงูุฑ ุฅูููู ุจุงุณุชุฎุฏุงู ุงููุญุฏุงุช ุงูููุทูุฉ ุงููุชุฑุฌูุฉ ููุธุงุฆู Python ุ ุซู ูุชู ุฅุนุงุฏุฉ ุงูุถูุงููู ุฅูู ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ. <br><br>  ููุง ุชุฏุนู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช ูู ุฎูุงู ูุงุฆูุฉ ุงูุชุธุงุฑ ุฃู ููุงุฉ.  ูุฏููุง ูุงุฆู ููู ุ ูุงูุฐู ูุณุชุฎุฏู ูููู ุงููุงุฆูุงุช ูู ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ ูุงููุชุงุจุฉ ูู ุงูุนูููุงุช ุงูุฃุฎุฑู. <br><br>  ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ููุง ุนูุจ ุฑุฆูุณู ูุงุญุฏ.  ุฅูู ูุญูู ุญูููุฉ ุญุณุงุจูุฉ ูุจูุฑุฉ ุ ูุงูุชู ุชุคุซุฑ ุนูู ูู ูู ููุช ุงููุนุงูุฌุฉ ูุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ.  ุชุจูุบ ูุฏุฉ ุจุฏุก ุชุดุบูู CPython ุญุชู ุจุฏูู ุงููููุน 100-200 ูููู ุซุงููุฉ (ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://hackernoon.com/which-is-the-fastest-version-of-python-2ae7c61a6b2b</a> ููุนุฑูุฉ ุงููุฒูุฏ). <br><br>  ูุชูุฌุฉู ูุฐูู ุ ูุฏ ูููู ูุฏูู ุฑูุฒ ูุชูุงุฒู ูู CPython ุ ููู ูุง ูุฒุงู ูุชุนูู ุนููู ุงูุชุฎุทูุท ุจุนูุงูุฉ ูุนูููุงุช ุงูุนูููุงุช ุงูุทูููุฉ ุงูุฃูุฏ ุงูุชู ุชุดุชุฑู ูู ุนุฏุฉ ูุงุฆูุงุช. <br><br>  ุจุฏูู ุขุฎุฑ ูุฏ ูููู ุงุณุชุฎุฏุงู ุญุฒูุฉ ุฎุงุฑุฌูุฉ ูุซู Twisted. <br><br><h2 style=";text-align:right;direction:rtl">  PEP554 ูููุช ุฌููุ </h2><br>  ูุฐูู ุ ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ุจุฃู ุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูู CPython ุจุณูุท ุ ููููู ูู ุงููุงูุน ููุณ ููุงุฒุงุฉ ุ ูููู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ูุชูุงุฒูุฉ ุ ูููููุง ุชูุทูู ุนูู ุญูู ูุจูุฑ. <br><br>  <i>ูุงุฐุง ูู ูุงู ููุงู ุทุฑููุฉ ุฃูุถูุ</i> <br>  ุงูููุชุงุญ ูุชุฌุงูุฒ GIL ูููู ูู ุงูุงุณู ุ ูุงูููู ุงูุนุงู ูููุชุฑุฌู ูู ุฌุฒุก ูู ุงูุญุงูุฉ ุงูุนุงูููุฉ ูููุชุฑุฌู.  ูููู ุฃู ุชุญุชูู ุนูููุงุช CPython ุนูู ุงูุนุฏูุฏ ูู ุงููุชุฑุฌููู ุงูููุฑููู ุ ูุจุงูุชุงูู ุ ูุฅู ุงูุนุฏูุฏ ูู ุงูุฃููุงู ุ ูุงุฏุฑุงู ูุง ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ ุ ูุฃู ุงููุตูู ุฅูููุง ูุชู ููุท ูู ุฎูุงู C-API. <br><br>  ูุงุญุฏุฉ ูู ููุฒุงุช CPython 3.8 ูู PEP554 ุ ููู ุชุทุจูู ูููุชุฑุฌููู ุงูููุฑููู ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุน ูุญุฏุฉ ููุทูุฉ ุฌุฏูุฏุฉ <code>interpreters</code> ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ. <br><br>  ูุณูุญ ูู ูุฐุง ุจุฅูุดุงุก ุนุฏุฉ ูุชุฑุฌููู ุดููููู ูู Python ูู ุนูููุฉ ูุงุญุฏุฉ.  ุขุฎุฑ ุจูุซูู 3.8 ุงูุงุจุชูุงุฑ ูู ุฃู ุฌููุน ุงููุชุฑุฌููู ุงูููุฑููู ุณูููู ูุฏููู ุฌูู ุฎุงุต ุจูู. <br><br><img src="https://habrastorage.org/webt/bq/nc/m2/bqncm29jhm-ytakgrlkasbfe_6y.png"><br><br>  ูุธุฑูุง ูุฃู ุญุงูุฉ ุงููุชุฑุฌู ุงูุดููู ุชุญุชูู ุนูู ููุทูุฉ ูุฎุตุตุฉ ูู ุงูุฐุงูุฑุฉ ุ ููู ูุฌููุนุฉ ูู ุฌููุน ูุคุดุฑุงุช ูุงุฆูุงุช Python (ูุญููุฉ ูุนุงูููุฉ) ุ ูุง ูููู ูููุชุฑุฌููู ุงูููุฑููู ูู PEP554 ุงููุตูู ุฅูู ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ูููุชุฑุฌููู ุงูููุฑููู ุงูุขุฎุฑูู. <br><br>  ูุซู ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ุ ูุฅู ุงููุชุฑุฌููู ุงูููุฑููู ุงูุฐูู ูุดุงุฑููู ุงููุงุฆูุงุช ูุชููููู ูู ุฅุฌุฑุงุก ุชุณูุณู ููู ูุงุณุชุฎุฏุงู ูููุฐุฌ IPC (ุดุจูุฉ ุ ูุฑุต ุ ุฃู ุฐุงูุฑุฉ ูุดุชุฑูุฉ).  ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุชุณูุณู ุงููุงุฆูุงุช ูู Python ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุญุฏุฉ <code>json</code> ุ ุฃู ูุญุฏุฉ <code>pickle</code> ุ ุฃู ุทุฑู ุฃูุซุฑ ุชูุญูุฏูุง ูุซู <code>json</code> ุฃู <code>json</code> .  ูู ูุงุญุฏ ูููู ูุฏูู ุฅูุฌุงุจูุงุช ูุณูุจูุงุช ุ ููู ูููู ูุนุทู ุญูููุฉ ุงูุญูุณุจุฉ. <br><br>  ูู ุงูุฃูุถู ุฃู ูููู ูุฏูู ูุณุงุญุฉ ุฐุงูุฑุฉ ูุดุชุฑูุฉ ูููู ุชุบููุฑูุง ูุงูุชุญูู ูููุง ูู ุฎูุงู ุนูููุฉ ูุญุฏุฏุฉ.  ูุจุงูุชุงูู ุ ูููู ุฅุฑุณุงู ุงููุงุฆูุงุช ุจูุงุณุทุฉ ุงููุชุฑุฌู ุงูุฑุฆูุณู ูุงุณุชูุงููุง ุจูุงุณุทุฉ ูุชุฑุฌู ุขุฎุฑ.  ุณุชููู ูุฐู ูู ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ุงููุฏุงุฑุฉ ููุจุญุซ ุนู ูุคุดุฑุงุช PyObject ุ ูุงูุชู ูููู ููู ูุชุฑุฌู ุงููุตูู ุฅูููุง ุ ูู ุญูู ุฃู ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ ุณุชุฏูุฑ ุงูุฃููุงู. <br><br><img src="https://habrastorage.org/webt/be/ww/d8/bewwd8ju-3akmyhs7ujq7xmyliy.png"><br><br>  ูุง ูุฒุงู ูุชู ุชุทููุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ููุฐุง ุ ููู ูู ุงููุญุชูู ุฃู ุชุจุฏู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _xxsubinterpreters <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpreters <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> threading <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> textwrap <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tw <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> marshal <span class="hljs-comment"><span class="hljs-comment"># Create a sub-interpreter interpid = interpreters.create() # If you had a function that generated some data arry = list(range(0,100)) # Create a channel channel_id = interpreters.channel_create() # Pre-populate the interpreter with a module interpreters.run_string(interpid, "import marshal; import _xxsubinterpreters as interpreters") # Define a def run(interpid, channel_id): interpreters.run_string(interpid, tw.dedent(""" arry_raw = interpreters.channel_recv(channel_id) arry = marshal.loads(arry_raw) result = [1,2,3,4,5] # where you would do some calculating result_raw = marshal.dumps(result) interpreters.channel_send(channel_id, result_raw) """), shared=dict( channel_id=channel_id ), ) inp = marshal.dumps(arry) interpreters.channel_send(channel_id, inp) # Run inside a thread t = threading.Thread(target=run, args=(interpid, channel_id)) t.start() # Sub interpreter will process. Feel free to do anything else now. output = interpreters.channel_recv(channel_id) interpreters.channel_release(channel_id) output_arry = marshal.loads(output) print(output_arry)</span></span></code> </pre> <br><br>  ูุณุชุฎุฏู ูุฐุง ุงููุซุงู NumPy.  ูุชู ุฅุฑุณุงู ูุฌููุนุฉ numpy ุนุจุฑ ุงูููุงุฉ ุ ููุชู ุฅุฌุฑุงุก ุชุณูุณู ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชูุธูู ุ ุซู ูููู ุงููุชุฑุฌู ุงููุฑุนู ุจูุนุงูุฌุฉ ุงูุจูุงูุงุช (ุนูู GIL ูููุตูุฉ) ุ ูุฐูู ูุฏ ุชููู ููุงู ูุดููุฉ ููุงุฒูุฉ ูุฑุชุจุทุฉ ุจูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ููู ูุซุงููุฉ ูููุชุฑุฌููู ุงูููุฑููู. <br><br><h4 style=";text-align:right;direction:rtl">  <b>ูุจุฏู ุบูุฑ ูุนุงู</b> </h4><br>  ุชุนูู ูุญุฏุฉ <code>marshal</code> ุจุณุฑุนุฉ ูุจูุฑุฉ ุ ูููู ููุณ ุจููุณ ุณุฑุนุฉ ูุดุงุฑูุฉ ุงููุงุฆูุงุช ูุจุงุดุฑุฉู ูู ุงูุฐุงูุฑุฉ. <br><br>  ููุฏู PEP574 ุจุฑูุชูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฎูู</a> ุฌุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">(v5)</a> ูุฏุนู ุงููุฏุฑุฉ ุนูู ูุนุงูุฌุฉ ูุฎุงุฒู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ุจุดูู ูููุตู ุนู ุจููุฉ ุชูุงุฑ ุงููุฎูู.  ุจุงููุณุจุฉ ููุงุฆูุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุ ุณูุคุฏู ุฅุฌุฑุงุก ุชุณูุณู ููุง ุฌููุนูุง ุฏูุนุฉ ูุงุญุฏุฉ ูุฅูุบุงุก ุงูุชุณูุณู ูู ูุชุฑุฌู ูุฑุนู ุฅูู ุฅุถุงูุฉ ุงููุซูุฑ ูู ุงููููุงุช ุงูุนุงูุฉ. <br><br>  ูููู ุชูููุฐ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฌุฏูุฏุฉ (ูู ุงููุงุญูุฉ ุงูุงูุชุฑุงุถูุฉ) ุนูู ุงููุญู ุงูุชุงูู - <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _xxsubinterpreters <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpreters <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> threading <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> textwrap <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tw <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle <span class="hljs-comment"><span class="hljs-comment"># Create a sub-interpreter interpid = interpreters.create() # If you had a function that generated a numpy array arry = [5,4,3,2,1] # Create a channel channel_id = interpreters.channel_create() # Pre-populate the interpreter with a module interpreters.run_string(interpid, "import pickle; import _xxsubinterpreters as interpreters") buffers=[] # Define a def run(interpid, channel_id): interpreters.run_string(interpid, tw.dedent(""" arry_raw = interpreters.channel_recv(channel_id) arry = pickle.loads(arry_raw) print(f"Got: {arry}") result = arry[::-1] result_raw = pickle.dumps(result, protocol=5) interpreters.channel_send(channel_id, result_raw) """), shared=dict( channel_id=channel_id, ), ) input = pickle.dumps(arry, protocol=5, buffer_callback=buffers.append) interpreters.channel_send(channel_id, input) # Run inside a thread t = threading.Thread(target=run, args=(interpid, channel_id)) t.start() # Sub interpreter will process. Feel free to do anything else now. output = interpreters.channel_recv(channel_id) interpreters.channel_release(channel_id) output_arry = pickle.loads(output) print(f"Got back: {output_arry}")</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  <b>ูุจุฏู ููููุดุฉ</b> </h4><br>  ูู ุฌููุฑู ุ ุชู ุจูุงุก ูุฐุง ุงููุซุงู ุนูู ุงุณุชุฎุฏุงู API ูููุชุฑุฌููู ุงูููุฑููู ูู ุงููุณุชูู ุงูููุฎูุถ.  ุฅุฐุง ูู ุชุณุชุฎุฏู ููุชุจุฉ <code>multiprocessing</code> ุ <code>multiprocessing</code> ุจุนุถ ุงููุดููุงุช ูุฃูููุฉ ุจุงููุณุจุฉ ูู.  ููุณ ุงูุฃูุฑ ุจุณูุทูุง ูุซู ูุนุงูุฌุฉ ุงูุฏูู ุ ููุง ููููู ููุท ุชุดุบูู ูุฐู ุงููุธููุฉ ุจูุงุฆูุฉ ุจูุงูุงุช ุงูุฅุฏุฎุงู ูุฐู ูู ูุชุฑุฌููู ูููุตููู (ูู ุงูููุช ุงูุญุงูู). <br><br>  ุจูุฌุฑุฏ ุฏูุฌ PEP ูุน ุงูุขุฎุฑูู ุ ุฃุนุชูุฏ ุฃููุง ุณูุฑู ุงูุนุฏูุฏ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฌุฏูุฏุฉ ูู PyPi. <br><br><h3 style=";text-align:right;direction:rtl">  ูู ููุฏุงุฑ ุงูุญูู ุบูุฑ ุงููุชุฑุฌู ุงููุฑุนูุ </h3><br>  <b>ุฅุฌุงุจุฉ ูุตูุฑุฉ:</b> ุฃูุซุฑ ูู ูุฌุฑู ุ ุฃูู ูู ุนูููุฉ. <br>  <b>ุฅุฌุงุจุฉ ุทูููุฉ: ูุฏู</b> ุงููุชุฑุฌู ุญุงูุชู ุงูุฎุงุตุฉ ุ ูุฐูู ุณูุญุชุงุฌ ุฅูู ุงุณุชูุณุงุฎ ูุชููุฆุฉ ูุง ููู ุ ุนูู ุงูุฑุบู ูู ุฃู PEP554 ูุจุณุท ุฅูุดุงุก ุงููุชุฑุฌููู ุงูููุฑููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุญุฏุงุช ุงูููุทูุฉ ูู <code>importlib</code> ู <code>importlib</code> ุ </li><li style=";text-align:right;direction:rtl">  ูุญุชููุงุช ุงููุงููุณ <code>sys</code> . </li><li style=";text-align:right;direction:rtl">  ูุธุงุฆู ูุฏูุฌุฉ ( <code>print()</code> ุ <code>assert</code> ุ ุฅูุฎ) ุ </li><li style=";text-align:right;direction:rtl">  ุงูุชุฏููุงุช. </li><li style=";text-align:right;direction:rtl">  ุชูููู ุงูููุงุฉ. </li></ul><br><br>  ูููู ุงุณุชูุณุงุฎ ุชูููู kernel ุจุณูููุฉ ูู ุงูุฐุงูุฑุฉ ุ ููู ุงุณุชูุฑุงุฏ ุงููุญุฏุงุช ููุณุช ุจูุฐู ุงูุจุณุงุทุฉ.  ูููู ุงุณุชูุฑุงุฏ ุงููุญุฏุงุช ุงูููุทูุฉ ูู Python ุจุทูุฆูุง ุ ูุฐุง ุฅุฐุง ูุงู ุฅูุดุงุก ูุชุฑุฌู ูุฑุนู ูุนูู ุงุณุชูุฑุงุฏ ุงููุญุฏุงุช ุงูููุทูุฉ ุฅูู ูุณุงุญุฉ ุงุณู ูุฎุชููุฉ ูู ูู ูุฑุฉ ุ ูุชู ุชูููู ุงูููุงุฆุฏ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุงุฐุง ุนู ุงููุฒุงุญุ </h3><br>  <code>asyncio</code> ุงูุชูููุฐ ุงูุญุงูู <code>asyncio</code> ุญุฏุซ <code>asyncio</code> ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ ุฅุทุงุฑุงุช ููุฏุณ ููุชูููู ุ <code>asyncio</code> ุฃูุถูุง ุงูุญุงูุฉ ูู ุงููุชุฑุฌู ุงูุฑุฆูุณู (ูุจุงูุชุงูู ูุดุงุฑู GIL). <br><br>  ุจุนุฏ ุงูุฌูุน ุจูู PEP554 ุ ูุฑุจูุง ุจุงููุนู ูู ุจูุซูู 3.9 ุ ูููู ุงุณุชุฎุฏุงู ุชุทุจูู ุจุฏูู ูุญููุฉ ุงูุญุฏุซ (ุนูู ุงูุฑุบู ูู ุฃูู ูู ููู ุฃุญุฏ ุจุฐูู ุจุนุฏ) ุ ูุงูุฐู ูุนูู ุจุทุฑู ุบูุฑ ูุชุฒุงููุฉ ูู ุงููุชุฑุฌููู ุงูููุฑููู ุงููุชูุงุฒููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุจุฏู ุจุงุฑุฏุฉ ุ ูู ูู ุฃูุถุง! </h3><br>  ุญุณูุง ุ ููุณ ุญูุง. <br>  ูุธุฑูุง ูุฃู CPython ูุนูู ุนูู ููุณ ุงููุชุฑุฌู ุงูุดููู ููุชุฑุฉ ุทูููุฉ ุ ูุฅู ุงูุนุฏูุฏ ูู ุฃุฌุฒุงุก ูุงุนุฏุฉ ุงูููุฏ ุชุณุชุฎุฏู "ุญุงูุฉ ููุช ุงูุชุดุบูู" ุจุฏูุงู ูู "ุญุงูุฉ ุงููุชุฑุฌู" ุ ูุฐูู ุฅุฐุง ุชู ุชูุฏูู PEP554 ุงูุขู ุ ูุณูุธู ููุงู ุงููุซูุฑ ูู ุงููุดุงูู. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุชูุชูู ุญุงูุฉ ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ (ูู ุงูุฅุตุฏุงุฑุงุช 3.7 &lt;) ุฅูู ููุช ุงูุชุดุบูู. <br><br>  ูู ุงูุชุบููุฑุงุช ุงูุชู ุชุญุฏุซ ุฎูุงู ุณุจุงูุงุช PyCon ุ ุจุฏุฃุช ุญุงูุฉ ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงูุงูุชูุงู</a> ุฅูู ุงููุชุฑุฌู ุงูููุฑู ุ ุจุญูุซ ูููู ููู ูุชุฑุฌู ูุฑุนู ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ุงูุฎุงุต ุจู (ููุง ูุฌุจ ุฃู ูููู). <br><br>  ูุดููุฉ ุฃุฎุฑู ูู ุฃู ููุงู ุจุนุถ ุงููุชุบูุฑุงุช "ุงูุนุงูููุฉ" ุงูุชู ูุง ุชุฒุงู ูุงุฆูุฉ ูู ูุงุนุฏุฉ ููุฏ CPython ุฅูู ุฌุงูุจ ุงูุนุฏูุฏ ูู ุงูุงูุชุฏุงุฏุงุช ูู C. ูุฐูู ุ ุนูุฏูุง ุจุฏุฃ ุงููุงุณ ูุฌุฃุฉ ุจููุงุฒูุฉ ุงูููุฏ ุจุดูู ุตุญูุญ ุ ุฑุฃููุง ุจุนุถ ุงููุดุงูู. <br><br>  ููุงู ูุดููุฉ ุฃุฎุฑู ููู ุฃู ูุงุตูุงุช ุงูููู ุชูุชูู ุฅูู ุงูุนูููุฉ ุ ูุฐูู ุฅุฐุง ูุงู ูุฏูู ููู ููุชูุญ ูููุชุงุจุฉ ูู ูุชุฑุฌู ูุงุญุฏ ุ ููู ูุชููู ุงููุชุฑุฌู ุงููุฑุนู ูู ุงููุตูู ุฅูู ูุฐุง ุงูููู (ุจุฏูู ูุฒูุฏ ูู ุงูุชุบููุฑุงุช ุนูู CPython). <br><br>  ุจุงุฎุชุตุงุฑ ุ ูุง ุชุฒุงู ููุงู ุงูุนุฏูุฏ ูู ุงููุดููุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ูุนุงูุฌุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ: ูู ุฌูู ุตุญูุญ ุจุนุฏ ุงูุขูุ </h2><br>  ุณูุณุชูุฑ ุงุณุชุฎุฏุงู GIL ููุชุทุจููุงุช ุฐุงุช ุงูุชุฑุงุจุท ุงููุฑุฏู.  ูุฐูู ุ ุญุชู ุนูุฏ ุงุชุจุงุน PEP554 ุ ูุฅู ุงูููุฏ ุงูููุฑุฏ ุงููุชุฑุงุจุท ูุฌุฃุฉ ูู ูุตุจุญ ููุงุฒูุงู. <br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุชูุงุฒูุฉ ูู Python 3.8 ุ ูุณุชูุงุฌู ูุดููุงุช ููุงุฒูุฉ ูุฑุชุจุทุฉ ุจุงููุนุงูุฌ ุ ููู ูุฐู ุฃูุถูุง ุชุฐูุฑุฉ ุฅูู ุงููุณุชูุจู! <br><br><h2 style=";text-align:right;direction:rtl">  ูุชูุ </h2><br>  ุบุงูุจูุง ูุง ูููู Pickle v5 ููุดุงุฑูุฉ ุงูุฐุงูุฑุฉ ูููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ ูู Python 3.8 (ุฃูุชูุจุฑ 2019) ุ ูุณูุธูุฑ ุงููุชุฑุฌููู ุงูููุฑููู ุจูู ุงูุฅุตุฏุงุฑูู 3.8 ู 3.9. <br>  ุฅุฐุง ูุงูุช ูุฏูู ุฑุบุจุฉ ูู ุงูุงูุชุญุงู ุจุงูุฃูุซูุฉ ุงูููุฏูุฉ ุ ููุฏ ุฃูุดุฃุช ูุฑุนูุง ูููุตูุงู ุจูู ุงูุดูุฑุฉ ุงููุงุฒูุฉ: <a href="">https://github.com/tonybaloney/cpython/tree/subinterpreters.</a> <br><br>  ูุง ุฑุฃูู ูู ูุฐุงุ  ุงูุชุจ ุชุนูููุงุชู ูุฃุฑุงู ูู ุงูุฏูุฑุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458694/">https://habr.com/ru/post/ar458694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458684/index.html">ุชููู ICANN ุจุฅุฒุงูุฉ ุญุฏ ุงูุณุนุฑ ููุทุงู .org - ููุงุฐุง ูุนุงุฑุถ ูุฌุชูุน ุชูููููุฌูุง ุงููุนูููุงุช ููุง ุณูุญุฏุซ ุจุนุฏ ุฐูู</a></li>
<li><a href="../ar458686/index.html">ุชุถููู ุงูุชุบุฑูุฏุฉPythonetc ููููู 2019</a></li>
<li><a href="../ar458688/index.html">ูุตุงุฆุญ ูุญูู ูู my Telegram-channelpythonetc ุ ููููู 2019</a></li>
<li><a href="../ar458690/index.html">ุฃุชูุชุฉ ุฐูู! ููู ูููุง ุจุชุญุณูู ุงุฎุชุจุงุฑ ุงูุชูุงูู</a></li>
<li><a href="../ar458692/index.html">"ุฑุจูุง" ุฃุญุงุฏู ุฎูุงู ุงููุฒุงููุฉ / ูู ุงูุชุธุงุฑ C # (ุจูุง ููุงู!)</a></li>
<li><a href="../ar458696/index.html">ุงูุชุฑููุจ ุ ุฃู ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ูุชุตุจุญ ููุงู ุงูุณุทุญ. ุงูุฌุฒุก 3. PBR ูุงูููุงุฏ</a></li>
<li><a href="../ar458698/index.html">ุทุฑูู ุงูุณูุงู ููุณุงุฑ ุงูุญุฑุจ ูู ูุดุงุฑูุน ุชูููููุฌูุง ุงููุนูููุงุช</a></li>
<li><a href="../ar458702/index.html">ููุงุจ ุงูุฒูุงุฌุงุช: ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ุนููุง ุ ูููู ุชู ุฅุญุถุงุฑูุง</a></li>
<li><a href="../ar458704/index.html">ุชูููุฐ ูุธุงู DLP ุนูู ุณุจูู ุงููุซุงู ููุจูุน ุจุงูุชุฌุฒุฆุฉ</a></li>
<li><a href="../ar458706/index.html">Gopniks ููุฌูุฏูู ุงูุขู ูู ุงูุฃุณูุงู ุงูุฎุงุฑุฌูุฉ ุ ุฃู "ููุงุฐุง ูุตุนุจ ุงูุนุซูุฑ ุนูู ูุจุฑูุฌ ุนุงุฏูุ"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>