<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî£ üéè ‚ûï Creaci√≥n de 1k intro Chaos para ZX-Spectrum ü§∑üèø üë®üèø‚Äç‚öñÔ∏è üë∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inicialmente, no planeaba hacer una demostraci√≥n en Chaos Constrictions 2018 , pero 2-3 semanas antes de cc me di cuenta de que no pod√≠as ir a una fie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Creaci√≥n de 1k intro Chaos para ZX-Spectrum</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421837/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/7u/dh/ww/7udhwwjcbgzix5jaxzonykfmcf8.png"></div><br>  Inicialmente, no planeaba hacer una demostraci√≥n en <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Chaos Constrictions 2018</a></strong> , pero 2-3 semanas antes de <strong>cc me</strong> di cuenta de que no pod√≠as ir a una fiesta de demostraci√≥n con las manos vac√≠as, y decid√≠ escribir una breve demostraci√≥n para <strong>386 / EGA / DOS</strong> . <br><br>  Habiendo compilado en <strong>Turbo-C</strong> en <strong>DOS</strong> mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lib AnotherGraphicsLibrary</a> , que encajaba idealmente en la estructura del plan de ritmo del modo <strong>EGA</strong> , me decepcionaron los frenos, especialmente los frenos <strong>EGA</strong> .  La demostraci√≥n en la forma en que me gustar√≠a verlo, durante este per√≠odo muy limitado, fue imposible de hacer. <br><br>  Sin embargo, no pod√≠a rendirme y no hacer nada.  Y luego record√© que siempre hab√≠a querido participar en los concursos de demostraci√≥n de <strong>ZX-Spectrum</strong> .  Y como obtuve dos reales de <strong>48k</strong> en el √∫ltimo a√±o, podr√≠a disfrutar creando una demo.  Por cierto, para m√≠, lo m√°s importante al escribir una demostraci√≥n es probar en la vida real, los <em>emulsionantes</em> no dan tanto placer del proceso, es una sensaci√≥n maravillosa cuando, despu√©s del pr√≥ximo cambio en el c√≥digo, subes la demostraci√≥n a la vida real, y ves c√≥mo el hardware real baraja los bytes en efecto de dibujo de memoria. <br><br>  Como solo tengo <strong>48k</strong> de reales, decid√≠ hacer una demostraci√≥n de <strong>48k</strong> .  Y debido al tiempo limitado y la falta de desarrollos, la elecci√≥n recay√≥ en la creaci√≥n de una <strong>introducci√≥n</strong> de <strong>1k</strong> (demostraci√≥n de solo 1 kilobyte, o 1024 bytes). <br><a name="habracut"></a><br>  La √∫ltima vez que <strong>utilic√©</strong> el <strong>z80 asm</strong> en <strong>EmuZWin</strong> , un gran emulador con ensamblador incorporado.  Pero desafortunadamente <strong>EmuZWin</strong> no funciona en nada m√°s alto que <strong>Windows XP</strong> , o tiene errores. <br>  Despu√©s de considerar varias opciones, me detuve en un mont√≥n de programas <strong>Unreal + sjAsm + Notepad ++</strong> , que, en mi opini√≥n, son mucho <strong>m√°s f√°ciles de</strong> perder <strong>que EmuZWin</strong> por conveniencia, pero est√°n vivos, a diferencia de esto. <br><br>  Mientras escrib√≠a esta introducci√≥n, realic√©, directamente en la fuente, un registro de desarrollo, basado en el cual se escribi√≥ el siguiente texto: <br><br><h5>  Hola mundo </h5><br>  ¬øQu√© debo escribir primero, teniendo casi cero experiencia en el <strong>z80 asm</strong> ?  As√≠ es, la salida del sprite 5x5 es familiar o de 40x40 p√≠xeles, para uno de los efectos (ir√≥nicamente, en el futuro, para encajar en 1k, esta parte inacabada fue expulsada de la introducci√≥n). <br><br>  Sorprendentemente, fue bastante f√°cil hacerlo desde cero usando la etiqueta de direcci√≥n de l√≠nea pregenerada usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Down HL</a> . <br><br>  Oh, los registros de √≠ndice, qu√© tan convenientes son, pero que son m√°s lentos, literalmente consumen barras.  Tuve que tirar su uso de un mont√≥n de lugares. <br><br>  Todav√≠a aqu√≠, al principio, me encontr√© con incre√≠bles fallas <strong>sjAsm</strong> , o m√°s bien su √∫ltima versi√≥n.  El disrealismo en <strong>Unreal</strong> mostr√≥ una secuencia de comandos absolutamente loca.  Descargu√© la pen√∫ltima versi√≥n, de alguna manera ya era posible vivir con ella. <br><br><img src="https://habrastorage.org/webt/xh/yh/ot/xhyhotktsbfmg1iqk_gtrbmsvjy.png"><br><br>  Est√° claro que no puedes meter cualquier cantidad adecuada de sprites predibujados en 1k, as√≠ que decid√≠ generarlos din√°micamente.  Y no de todos modos, pero dibuja usando pol√≠gonos. <br><br>  Por lo tanto, el segundo procedimiento que escrib√≠ fue el procedimiento para dibujar un tri√°ngulo.  En su mayor parte, fue una portabilidad de su propio c√≥digo escrito en <strong>C.</strong>  Con la √∫nica diferencia global de la versi√≥n <strong>C</strong> , las l√≠neas de exploraci√≥n poligonales se generan primero, y solo luego se dibujan en estas l√≠neas de exploraci√≥n. <br><br>  Despu√©s de los lenguajes de alto nivel, obtienes algo de <strong>jr aka goto</strong> : <br><br><pre><code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.sort_me_please</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x2</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x0</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">d</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nc</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.skip1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x2</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x0</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.skip1</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x1</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x0</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">d</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nc</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.skip2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x0</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x1</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jr</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sort_me_please</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.skip2</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x2</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span>,(<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x1</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">d</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nc</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.skip3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x2</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">bc</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ld</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">tr_x1</span></span>),<span class="hljs-selector-tag"><span class="hljs-selector-tag">de</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jr</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.sort_me_please</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.skip3</span></span>:</code> </pre> <br>  Me sorprendi√≥ un poco el hecho de que <strong>result√≥</strong> en un tiempo razonable escribir un <strong>draw_triangle</strong> en <strong>z80 asm</strong> , que dibuja un pol√≠gono p√≠xel por p√≠xel y sin agujeros al conectar pol√≠gonos. <br><br><img src="https://habrastorage.org/webt/tl/sv/or/tlsvorwso0wpqcrulnaewu23_84.png"><br>  <em>Hola triangulos</em> <br><br><h5>  Part√≠culas </h5><br><img src="https://habrastorage.org/webt/ng/kx/mq/ngkxmqez4envpqx6-tzzc0wd2ge.png"><br><br>  Debido a la presencia de un generador de etiquetas de l√≠nea de pantalla, escrib√≠ un procedimiento de salida de punto bastante curvo y lento usando esta etiqueta.  El procedimiento tiene dos puntos de entrada: solo el inverso del p√≠xel y el inverso del p√≠xel con relleno con <strong>TINTA</strong> + <strong>BRILLO</strong> + y el color especificado en uno de los registros. <br><br>  En la etapa de crear un efecto con part√≠culas, descubr√≠ que el ejemplo con las estructuras de los ejemplos en el <strong>wiki sjAsm</strong> simplemente no funciona.  Google sac√≥ a relucir un tema del sitio <strong>zx-pk.ru</strong> , donde se describe este problema, y ‚Äã‚Äãno hay soluci√≥n, ja, est√° bien, otra falla. <br><br>  Decid√≠ hacer todo claramente: actualizar las coordenadas independientemente de la representaci√≥n, por interrupci√≥n.  S√≠ ... m√°s bytes para generar una tabla de interrupciones. <br><br>  Hab√≠a pocas part√≠culas en esta etapa, y apenas cab√≠an en el marco; esto es por cierto la lentitud de mi procedimiento para generar el punto%)) Pero usar una tabla com√∫n con sprites no me permiti√≥ tirarlo y prepararlo, porque  Esto ahorr√≥ mucho espacio en la necesidad de un solo generador de tabla.  Y mi amor por las bicicletas tambi√©n :) <br><br>  Muy pocas part√≠culas ... aumentaron su n√∫mero, pero ahora el renderizado se ha engordado a dos cuadros. <br><br><img src="https://habrastorage.org/webt/tb/eu/qq/tbeuqqaoeef05uf04tfe33-t7f4.jpeg"><br>  <em>Pruebas en <strong>Peters WS64</strong> , que obtuve en el √∫ltimo cc y repar√© este invierno :)</em> <br><br>  Por cierto, ya en esta etapa, los puntos se convirtieron en puntos horizontales en negrita <strong>2: 1</strong> , como en el <strong>Commodore 64</strong> .  Esto sucedi√≥ debido al peque√±o n√∫mero inicial de part√≠culas, y mi insatisfacci√≥n con el hecho de que eran bastante invisibles cuando se ejecutan en la vida real.  Resolvi√≥ el problema reemplazando la placa <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">db</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span>,<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br>  en <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">db</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-number"><span class="hljs-number">96</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre> <br>  lo que empeor√≥ la precisi√≥n del posicionamiento e hizo que el vuelo fuera un poco irregular, pero aument√≥ la visibilidad.  Aqu√≠, tambi√©n jug√≥ en la mano que las part√≠culas cayeron de arriba a abajo, su visi√≥n manchada verticalmente. <br><br>  Incidentalmente, las part√≠culas caen cada una a su propia velocidad aleatoria, y se usan dos bytes para almacenar las coordenadas <strong>Y.</strong> <br><br><h5>  Sprites </h5><br>  Tir√© la pieza inacabada de la parte del sprite, d√°ndome cuenta de que no pod√≠a encajar en <strong>1k</strong> con ella. <br><br>  Adem√°s, ya faltaba espacio, as√≠ que record√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el</a> maravilloso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo de Introspek</a> sobre empacadores, eleg√≠ <strong>zx7</strong> como empacador, que ahorr√≥ alrededor de 110 bytes.  Por cierto, ¬øtal vez alguien conoce un empacador m√°s adecuado para una introducci√≥n de 1k? <br><br><h5>  Construcciones del caos </h5><br><img src="https://habrastorage.org/webt/83/xj/h4/83xjh4wggmay449rwrmrfphx62y.png"><br><br>  Como ya ten√≠a un procedimiento para generar un pol√≠gono, me pareci√≥ una buena idea dividir el logotipo de <strong>cc</strong> en pol√≠gonos y mostrarlos uno por uno. <br><br>  Escrib√≠ un c√≥digo de prueba que muestra varios pol√≠gonos, todo funcion√≥ como pretend√≠a, est√° bien. <br><br>  Para verificar si mi idea encaja o no en <strong>1k</strong> , gener√≥ un cierto n√∫mero de pol√≠gonos aleatorios, seg√∫n las estimaciones, un n√∫mero suficiente para el logotipo, y lo llev√≥ a la fuente.  Compilado, y se asegur√≥ de que - excelente - introducci√≥n, en este formulario, se ajusta al l√≠mite de 1024 bytes. <br><br><img src="https://habrastorage.org/webt/fq/8k/bc/fq8kbcfvtdbdirtysojcd0hix8m.jpeg"><br>  <em>Foto de la vida, ¬øreconoces el dispositivo en la mesa?</em>  <em>:)))</em> <br><br>  Decid√≠ probar una vez m√°s la introducci√≥n semiacabada, ya con pol√≠gonos y un empacador, cargado a real y ... obtuve un reinicio.  En primer lugar, comenc√© a pecar porque olvid√© inicializar la memoria en alg√∫n lugar, desde el cual, donde todo funciona bien en el emulador <strong>0x00</strong> , en la vida real hay basura que causa un reinicio. <br><br>  Nada es mejor para encontrar un lugar problem√°tico que el m√©todo de media divisi√≥n y la <strong>detenci√≥n</strong> que no pude encontrar. <br><br>  Llevado a cabo con un reinicio real durante dos horas, no hab√≠a forma de localizar el problema t√©cnico ... <br>  Result√≥ que no estaba en mi c√≥digo, estaba en el <em>potenciador de</em> sonido incluido en el tel√©fono desde el que cargu√© WAV.  Un mejorador de un flujo de bits en un archivo <strong>WAV</strong> gener√≥ un flujo de delirio. <br><br>  Tan pronto como lo apagu√©, todo funcion√≥ m√°gicamente. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Describi√≥</a> el logotipo en el editor de gr√°ficos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">errores de Greenpixel, lo dividi√≥</a> en un mont√≥n de tri√°ngulos y condujo manualmente las coordenadas a la fuente.  Despu√©s de haber rellenado completamente el logotipo de <strong>Chaos Constructions</strong> y ejecutarlo en la vida real, me alegr√©, se ve√≠a bastante bien. <br><br><img src="https://habrastorage.org/webt/vy/4m/ul/vy4mul7kzdo_o7qav3wtnvc3oki.jpeg"><br>  <em>La primera visualizaci√≥n de logotipo en real</em> <br><br>  Sin embargo, rellen√© muy poco los pol√≠gonos aleatorios, y en el logotipo real, hab√≠a un l√≠mite de <strong>1k</strong> por 150 bytes.  Y esto a pesar del hecho de que el efecto de part√≠culas a√∫n no se hab√≠a completado, y la transici√≥n entre las partes fue n√≠tida. <br><br>  Ir a la cama ese d√≠a, debido al alboroto con problemas t√©cnicos, result√≥ tan temprano como las 8 a.m. 8) <br><br>  Y s√≠, trat√© de optimizar el tama√±o almacenando las coordenadas y los √≠ndices de v√©rtice por separado, pero al empacador no le gust√≥ mucho, lo que hizo que el tama√±o solo aumentara. <br><br><h5>  Final </h5><br><img src="https://habrastorage.org/webt/qv/h9/is/qvh9ist1fdq9xunbrd4uyejd3gi.png"><br><br>  Se me ocurri√≥ c√≥mo diversificar la salida del logotipo, para esto no se necesitaron m√°s que dos etiquetas de p√≠xeles m√°s: <br><br><pre> <code class="hljs">fake_points1: db 1,2,4,8,16,32,64,128; 1 ch fake_points2: db 32,8,128,2,16,1,64,4; 2 ch normal_points: db 128,64,32,16,8,4,2,1; 3 ch</code> </pre> <br>  Eso dio un efecto genial al aumentar el detalle de renderizar el logotipo, o la falta inicial de detalles y un aumento gradual de la nitidez. <br><br>  Y finalmente, hice la versi√≥n final con todas las transiciones, arrojando un mont√≥n de todo.  En el proceso, encontr√© una falla en el procedimiento para dibujar un tri√°ngulo: si los dos v√©rtices tienen las mismas coordenadas <strong>Y</strong> , entonces el tri√°ngulo se dibuja torcidamente (parece dividir entre 0 al calcular <strong>dx</strong> ), evitado con un truco temporal. <br><br><img src="https://habrastorage.org/webt/xo/a3/--/xoa3--9_kt2k-uodr2gabj8ithm.jpeg"><br>  <em>Probar la versi√≥n final en Leningrado 48</em> <br><br><h5>  Optimizaci√≥n de tama√±o </h5><br><img src="https://habrastorage.org/webt/-e/ro/l8/-erol8uszgdcler4i9jhp4n-9cu.jpeg"><br>  <em>Los d√≠gitos dobles son "bytes adicionales"</em> <br><br><h6>  94 bytes adicionales ... </h6><br>  Ha llegado el momento de eliminar la preservaci√≥n / restauraci√≥n "cultural" de los registros de los procedimientos de entrada / salida, lejos de donde sea necesario, pero la memoria se est√° comiendo. <br><br><h6>  86 bytes ... </h6><br>  Probado en la vida real, ¬°funciona!  √âl elimin√≥ un poco m√°s de memoria, ¬°al mismo tiempo repar√≥ un error dividido por 0 - 63 bytes! <br><br><h6>  57 bytes ... </h6><br>  Se agreg√≥ bucle. <br><br><pre> <code class="hljs sql">random_store: <span class="hljs-keyword"><span class="hljs-keyword">start</span></span>:</code> </pre> <br>  Por cierto, el bucle se realiza en el nivel de desembalaje, como  Como fuente de entrop√≠a para el <strong>RNG</strong> , se usaron varios bytes del c√≥digo de inicializaci√≥n (para ahorrar espacio), que el <strong>RNG</strong> estrope√≥ durante la primera parte.  Por lo tanto, para el bucle, despu√©s del final de la introducci√≥n, hay <strong>ret</strong> , bueno, y luego otro desempaque y transici√≥n al c√≥digo desempaquetado ... <br><br>  No fue posible deshacerme de los √∫ltimos 48 bytes, tuve que cortar el controlador de interrupciones, ¬°pero Hurra!  Relleno!  Incluso quedaba 1 byte extra. <br><br>  Y dado que no hay interrupciones, se puede puntuar para los cuadros, y es dif√≠cil ver la secci√≥n transversal del haz en un p√≠xel en el primer efecto, por lo que aument√© el n√∫mero de part√≠culas por ojo, con un compromiso entre la velocidad y el entretenimiento. <br><br>  Stinged a√∫n m√°s fuerte, moviendo est√∫pidamente c√≥digo y datos de un lugar a otro, ayudando al empacador.  Lo cual tom√≥ algo de tiempo :) <br><br>  Esto liber√≥ unos <strong>10 bytes</strong> en los que pegu√© una parodia del sonido.  Khk, khe, sonido: esto es en algunos lugares, por el o√≠do insertado: <br><br><pre> <code class="hljs perl"> ifdef UseSound ld a,d <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-comment"><span class="hljs-comment">#10 out (#FE),a endif</span></span></code> </pre> <br>  No "clav√©" el sonido, pero hice una definici√≥n, obteniendo as√≠ dos versiones de la introducci√≥n, con y sin sonido.  En eso sin sonido, en bytes "extra" abarrotados <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">db</span></span> <span class="hljs-string"><span class="hljs-string">'e'</span></span>,<span class="hljs-string"><span class="hljs-string">'r'</span></span>,<span class="hljs-string"><span class="hljs-string">'r'</span></span>,<span class="hljs-string"><span class="hljs-string">'o'</span></span>,<span class="hljs-string"><span class="hljs-string">'r'</span></span></code> </pre> <br>  Recolect√© <strong>trd</strong> and <strong>tap</strong> , y lo sub√≠ todo al sitio web de <strong>cc</strong> . <br><br>  ¬°Hurra! ¬°Estoy participando en demopati! <br><br><h5>  Ep√≠logo </h5><br>  Result√≥ ser divertido con el sonido, alguien en el patlace dijo "sonido claro", alguien me mir√≥ de manera extra√±a, y en <strong>pouet</strong> encontr√© lo siguiente: <br><br><img src="https://habrastorage.org/webt/vt/p_/sw/vtp_swwrkskgpqbexsuj1nubn40.png"><br><br>  Y esto: <br><br><img src="https://habrastorage.org/webt/og/vh/wc/ogvhwc8p907emey1wk2erb-ejtm.png"><br><br>  En general, no entend√≠ si a alguien le gust√≥ el sonido de 10 bytes o no :) <br><br>  Y lo √∫ltimo: es una pena que la competencia de <strong>1k</strong> no haya tenido lugar este a√±o, el trabajo result√≥ ser decente, en mi opini√≥n, pero es dif√≠cil competir con <strong>640k</strong> , pero realmente quer√≠a competir. <br><br>  <strong>Escribe demos, escribe 1k!</strong> <br><br>  Y esto es lo que termin√≥ (ps, cuida tus o√≠dos): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-Q3cD3dx5lY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Versi√≥n silenciosa: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2fwdWSiczIE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es421837/">https://habr.com/ru/post/es421837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es421823/index.html">C√≥mo trajimos X-Ray x64</a></li>
<li><a href="../es421827/index.html">¬øQu√© leer sobre Java en este momento?</a></li>
<li><a href="../es421829/index.html">La anomal√≠a de Frango: un romance fant√°stico con personas reales de TI</a></li>
<li><a href="../es421833/index.html">Escribimos nuestro programa m√°s simple para ARM Cortex-M3</a></li>
<li><a href="../es421835/index.html">La Comisi√≥n Interagencial desarrolla nueva tecnolog√≠a para bloquear Telegram</a></li>
<li><a href="../es421839/index.html">Programaci√≥n funcional de Java con Vavr</a></li>
<li><a href="../es421841/index.html">Robotaxi Waymo no est√° listo para acceder a la v√≠a p√∫blica</a></li>
<li><a href="../es421845/index.html">¬øQu√© hacen realmente los analistas de datos? Hallazgos de 35 entrevistas</a></li>
<li><a href="../es421847/index.html">Salta a la nube. Creaci√≥n de una soluci√≥n de IoT econ√≥mica en NodeMCU + Azure IoT Hub</a></li>
<li><a href="../es421849/index.html">Eventos para RRHH en TI en septiembre de 2018: My Circle Digest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>