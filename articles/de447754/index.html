<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏽 🐺 🐹 Menüleisten-App für macOS 🕥 🤸🏼 🤚🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anwendungen in der Menüleiste sind MacOS-Benutzern seit langem bekannt. Einige dieser Anwendungen haben einen „normalen“ Teil, andere befinden sich nu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menüleisten-App für macOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447754/"> Anwendungen in der Menüleiste sind MacOS-Benutzern seit langem bekannt.  Einige dieser Anwendungen haben einen „normalen“ Teil, andere befinden sich nur in der Menüleiste. <br>  In diesem Handbuch schreiben Sie eine Anwendung, in der mehrere Zitate berühmter Personen in einem Popup-Fenster angezeigt werden.  Beim Erstellen dieser Anwendung lernen Sie Folgendes: <br><br><ul><li>  Anwendungssymbol in der Menüleiste zuweisen </li><li>  Die Anwendung wird nur in der Menüleiste gehostet </li><li>  Benutzerdefiniertes Menü hinzufügen </li><li>  Zeigen Sie auf Wunsch des Benutzers ein Popup-Fenster an und blenden Sie es bei Bedarf mithilfe der <b>Ereignisüberwachung aus</b> </li></ul><br><blockquote>  <b>Hinweis: In</b> diesem Handbuch wird davon ausgegangen, dass Sie mit Swift und macOS vertraut sind. </blockquote><a name="habracut"></a><br><h2>  Erste Schritte </h2><br>  Starten Sie Xcode.  Wählen Sie als Nächstes im Menü <b>Datei / Neu / Projekt ...</b> die Vorlage <b>macOS / Anwendung / Kakao-App aus</b> und klicken Sie auf <b>Weiter</b> . <br><br>  Geben Sie im nächsten Bildschirm Angebote als <b>Produktnamen ein</b> und wählen Sie Ihren <b>Organisationsnamen</b> und Ihre <b>Organisationskennung aus</b> .  Stellen Sie dann sicher, dass Swift als Anwendungssprache ausgewählt und das Kontrollkästchen <b>Storyboards verwenden</b> aktiviert ist.  Deaktivieren Sie die Kontrollkästchen <b>Dokumentbasierte Anwendung erstellen</b> , <b>Kerndaten verwenden</b> , Komponententests einschließen und <b>UI-Tests einschließen</b> . <br><br><img src="https://habrastorage.org/webt/4c/_f/g6/4c_fg6hmxqq0k_vqkm8-zqrt_ok.png"><br><br>  Klicken Sie <b>abschließend</b> erneut auf <b>Weiter</b> , geben Sie den Speicherort für das Projekt an und klicken Sie auf <b>Erstellen</b> . <br>  Öffnen Sie nach dem <b>Erstellen</b> des neuen Projekts <b>AppDelegate.swift</b> und fügen Sie der Klasse die folgende Eigenschaft hinzu: <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> statusItem = <span class="hljs-type"><span class="hljs-type">NSStatusBar</span></span>.system.statusItem(withLength:<span class="hljs-type"><span class="hljs-type">NSStatusItem</span></span>.squareLength)</code> </pre> <br>  Hier erstellen wir in der Menüleiste Statuselement (Anwendungssymbol) eine feste Länge, die für Benutzer sichtbar ist. <br><br>  Dann müssen wir unser Bild diesem neuen Element in der Menüleiste zuweisen, damit wir unsere neue Anwendung unterscheiden können. <br><br>  Gehen Sie im Projektnavigator zu Assets.xcassets, <a href="">laden Sie ein Bild</a> hoch und ziehen Sie es in den Asset-Katalog. <br><br>  Wählen Sie ein Bild aus und öffnen Sie den Attributinspektor.  Ändern Sie die Option <b>Rendern als</b> in <b>Vorlagenbild</b> . <br><br> <a href=""><img src="https://habrastorage.org/webt/wv/es/-o/wves-ouas8duyvk97fki1swuedk.png"></a> <br><br>  Wenn Sie ein eigenes Bild verwenden, stellen Sie sicher, dass das Bild schwarzweiß ist, und konfigurieren Sie es als <b>Vorlagenbild,</b> damit das Symbol sowohl in der dunklen als auch in der hellen Menüleiste gut aussieht. <br><br>  Gehen Sie zurück zu <b>AppDelegate.swift</b> und fügen Sie den folgenden Code zu <b>applicationDidFinishLaunching (_ :) hinzu.</b> <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = statusItem.button { button.image = <span class="hljs-type"><span class="hljs-type">NSImage</span></span>(named:<span class="hljs-type"><span class="hljs-type">NSImage</span></span>.<span class="hljs-type"><span class="hljs-type">Name</span></span>(<span class="hljs-string"><span class="hljs-string">"StatusBarButtonImage"</span></span>)) button.action = #selector(printQuote(<span class="hljs-number"><span class="hljs-number">_</span></span>:)) }</code> </pre> <br>  Hier weisen wir das Anwendungssymbol zu, das wir gerade zum Anwendungssymbol hinzugefügt haben, und weisen eine <b>Aktion zu,</b> wenn wir darauf klicken. <br><br>  Fügen Sie der Klasse die folgende Methode hinzu: <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printQuote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> quoteText = <span class="hljs-string"><span class="hljs-string">"Never put off until tomorrow what you can do the day after tomorrow."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> quoteAuthor = <span class="hljs-string"><span class="hljs-string">"Mark Twain"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"\(quoteText) — \(quoteAuthor)"</span></span>) }</code> </pre> <br>  Diese Methode druckt einfach das Zitat auf die Konsole. <br><br>  <b>Beachten Sie</b> die <b>objc-</b> Methodenrichtlinie.  Auf diese Weise können Sie diese Methode als Antwort auf einen Schaltflächenklick verwenden. <br><br>  Erstellen Sie die Anwendung und führen Sie sie aus. Die neue Anwendung wird in der Menüleiste angezeigt.  Hurra! <br>  Jedes Mal, wenn Sie auf das Symbol in der Menüleiste klicken, wird das berühmte Sprichwort von Mark Twain in der Xcode-Konsole angezeigt. <br><br><h2>  Wir verstecken das Hauptfenster und das Symbol im Dock </h2><br>  Es gibt ein paar kleine Dinge, die wir tun müssen, bevor wir uns direkt mit der Funktionalität befassen: <br><br><ul><li>  Dock-Symbol löschen </li><li>  Entfernen Sie unnötiges Hauptfenster der Anwendung </li></ul><br>  Öffnen Sie die <b>Info.plist,</b> um das Dock-Symbol zu entfernen.  Fügen Sie einen neuen <b>UIElement-</b> Schlüssel <b>(Application is Agent) hinzu</b> und setzen Sie seinen Wert auf <b>YES</b> . <br><br><img src="https://habrastorage.org/webt/-c/g_/pn/-cg_pnrysiiynfs2xfab8fyblhk.png"><br><br>  Jetzt ist es an der Zeit, sich mit dem Hauptanwendungsfenster zu befassen. <br><br><ul><li>  Öffnen Sie das <b>Main.storyboard</b> </li><li>  Wählen Sie <b>Window Controller-Szene</b> und löschen Sie sie </li><li>  <b>View Controller Szene</b> verlassen, wir werden es bald verwenden </li></ul><br><br> <a href=""><img src="https://habrastorage.org/webt/td/1q/vr/td1qvrwqe8qpgp2xvadbifvu_4o.png"></a> <br><br>  Erstellen Sie die Anwendung und führen Sie sie aus.  Jetzt hat die Anwendung nicht mehr sowohl das Hauptfenster als auch das unnötige Symbol im Dock.  Großartig! <br><br><h2>  Menü zum Statuselement hinzufügen </h2><br>  Eine Antwort mit einem Klick reicht für eine ernsthafte Anwendung eindeutig nicht aus.  Der einfachste Weg, Funktionen hinzuzufügen, ist das Hinzufügen eines Menüs.  Fügen Sie diese Funktion am Ende von <b>AppDelegate hinzu</b> . <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constructMenu</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> menu = <span class="hljs-type"><span class="hljs-type">NSMenu</span></span>() menu.addItem(<span class="hljs-type"><span class="hljs-type">NSMenuItem</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Print Quote"</span></span>, action: #selector(<span class="hljs-type"><span class="hljs-type">AppDelegate</span></span>.printQuote(<span class="hljs-number"><span class="hljs-number">_</span></span>:)), keyEquivalent: <span class="hljs-string"><span class="hljs-string">"P"</span></span>)) menu.addItem(<span class="hljs-type"><span class="hljs-type">NSMenuItem</span></span>.separator()) menu.addItem(<span class="hljs-type"><span class="hljs-type">NSMenuItem</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Quit Quotes"</span></span>, action: #selector(<span class="hljs-type"><span class="hljs-type">NSApplication</span></span>.terminate(<span class="hljs-number"><span class="hljs-number">_</span></span>:)), keyEquivalent: <span class="hljs-string"><span class="hljs-string">"q"</span></span>)) statusItem.menu = menu }</code> </pre> <br>  Fügen Sie diesen Aufruf am Ende von <b>applicationDidFinishLaunching (_ :) hinzu.</b> <br><br><pre> <code class="swift hljs">constructMenu()</code> </pre> <br>  Wir erstellen <b>NSMenu</b> , fügen 3 Instanzen von <b>NSMenuItem hinzu</b> und legen dieses Menü als Anwendungssymbolmenü fest. <br><br>  Einige wichtige Punkte: <br><br><ul><li>  <b>Der Titel</b> des Menüelements ist der Text, der im Menü angezeigt wird.  Ein guter Ort, um die Anwendung zu lokalisieren (falls erforderlich). </li><li>  <b>Aktion</b> ist wie die <b>Aktion einer</b> Schaltfläche oder eines anderen Steuerelements eine Methode, die aufgerufen wird, wenn der Benutzer auf einen Menüpunkt klickt </li><li>  <b>keyEquivalent</b> ist eine Tastenkombination, mit der Sie einen Menüpunkt auswählen können.  Kleinbuchstaben verwenden <b>Cmd</b> als Modifikator und Kleinbuchstaben verwenden <b>Cmd + Umschalt</b> .  Dies funktioniert nur, wenn sich die Anwendung ganz oben befindet und aktiv ist.  In unserem Fall ist es erforderlich, dass das Menü oder ein anderes Fenster sichtbar ist, da unsere Anwendung kein Symbol im Dock hat </li><li>  <b>separatorItem</b> ist ein inaktiver Menüpunkt in Form einer grauen Linie zwischen anderen Elementen.  Verwenden Sie es zum Gruppieren </li><li>  <b>printQuote</b> ist die Methode, die Sie bereits in <b>AppDelegate</b> definiert <b>haben</b> , und <b>terminate</b> ist die von <b>NSApplication</b> definierte <b>Methode</b> . </li></ul><br>  Starten Sie die Anwendung und Sie sehen ein Menü, indem Sie auf das Anwendungssymbol klicken. <br><br><img src="https://habrastorage.org/webt/-w/2v/lv/-w2vlv2nfi_vxgosiihbqd19m5g.png"><br><br>  Klicken Sie auf das Menü. Wenn Sie Angebot drucken auswählen, wird das Angebot in der Xcode-Konsole angezeigt, und <b>Angebote</b> beenden beendet die Anwendung. <br><br><h2>  Fügen Sie ein Popup hinzu </h2><br>  Sie haben gesehen, wie einfach es ist, ein Menü aus dem Code hinzuzufügen, aber das Anzeigen eines Zitats in der Xcode-Konsole entspricht eindeutig nicht den Erwartungen der Benutzer an die Anwendung.  Jetzt fügen wir einen einfachen Ansichts-Controller hinzu, um Anführungszeichen auf die richtige Weise anzuzeigen. <br><br>  Gehen Sie zum Menü <b>Datei / Neu / Datei ...</b> , wählen Sie die Vorlage <b>macOS / Source / Cocoa Class aus</b> und klicken Sie auf <b>Weiter</b> . <br><br> <a href=""><img src="https://habrastorage.org/webt/m5/vd/7w/m5vd7wewsgjt16zajhbas3ca9mi.png"></a> <br><br><ul><li>  <b>Nennen Sie</b> die Klasse <b>QuotesViewController</b> </li><li>  Machen Sie einen Erben von <b>NSViewController</b> </li><li>  Stellen Sie sicher, dass das Kontrollkästchen <b>Auch XIB-Datei für Benutzeroberfläche erstellen</b> nicht aktiviert ist </li><li>  Stellen Sie die Sprache auf Swift ein </li></ul><br>  Klicken Sie <b>abschließend</b> erneut auf <b>Weiter</b> , wählen Sie einen Speicherort für die Datei aus und klicken Sie auf <b>Erstellen</b> . <br>  Öffnen <b>Sie</b> nun <b>Main.storyboard</b> .  Erweitern Sie <b>View Controller Scene</b> und wählen Sie <b>View Controller-Instanz aus</b> . <br><br> <a href=""><img src="https://habrastorage.org/webt/c4/dd/em/c4ddemmj9moxiu_whrzl7ilme_4.png"></a> <br><br>  <b>Wählen</b> Sie zuerst den <b>Identitätsinspektor aus</b> und ändern Sie die Klasse in <b>QuotesViewController. Setzen Sie</b> dann die <b>Storyboard-ID</b> auf <b>QuotesViewController</b> <br><br>  <b>Fügen Sie</b> nun den folgenden Code am Ende der Datei <b>QuotesViewController.swift hinzu</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QuotesViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// MARK: Storyboard instantiation static func freshController() -&gt; QuotesViewController { //1. let storyboard = NSStoryboard(name: NSStoryboard.Name("Main"), bundle: nil) //2. let identifier = NSStoryboard.SceneIdentifier("QuotesViewController") //3. guard let viewcontroller = storyboard.instantiateController(withIdentifier: identifier) as? QuotesViewController else { fatalError("Why cant i find QuotesViewController? - Check Main.storyboard") } return viewcontroller } }</span></span></code> </pre> <br>  Was ist hier los: <br><br><ol><li>  Wir bekommen einen Link zu <b>Main.storyboard</b> . </li><li>  Erstellen Sie eine <b>Szenen-ID</b> , die mit der oben installierten übereinstimmt. </li><li>  Erstellen Sie eine Instanz von <b>QuotesViewController</b> und geben Sie sie zurück. </li></ol><br>  Sie erstellen diese Methode, sodass jetzt jeder, der den <b>QuotesViewController</b> verwendet, nicht mehr wissen muss, wie er erstellt wird.  Es funktioniert einfach. <br><br>  Beachten Sie den <b>fatalError</b> in der <b>Guard-</b> Anweisung.  Es kann hilfreich sein, es oder <b>assertionFailure</b> zu verwenden, damit Sie selbst und die anderen Mitglieder des Entwicklungsteams Bescheid wissen, wenn etwas in der Entwicklung schief geht. <br><br>  Nun zurück zu <b>AppDelegate.swift</b> .  Fügen Sie eine neue Eigenschaft hinzu. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> popover = <span class="hljs-type"><span class="hljs-type">NSPopover</span></span>()</code> </pre> <br>  Ersetzen Sie dann ein <b>pplicationDidFinishLaunching (_ :) durch den</b> folgenden Code: <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applicationDidFinishLaunching</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aNotification: Notification)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = statusItem.button { button.image = <span class="hljs-type"><span class="hljs-type">NSImage</span></span>(named:<span class="hljs-type"><span class="hljs-type">NSImage</span></span>.<span class="hljs-type"><span class="hljs-type">Name</span></span>(<span class="hljs-string"><span class="hljs-string">"StatusBarButtonImage"</span></span>)) button.action = #selector(togglePopover(<span class="hljs-number"><span class="hljs-number">_</span></span>:)) } popover.contentViewController = <span class="hljs-type"><span class="hljs-type">QuotesViewController</span></span>.freshController() }</code> </pre><br>  Sie haben die <b>Klickaktion</b> geändert, um die Methode <b>togglePopover (_ :) aufzurufen</b> , die wir etwas später schreiben werden.  Anstatt ein Menü zu konfigurieren und hinzuzufügen, haben wir ein Popup-Fenster konfiguriert, in dem etwas von <b>QuotesViewController angezeigt wird</b> . <br><br>  Fügen Sie <b>AppDelegate</b> die folgenden drei Methoden <b>hinzu</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">togglePopover</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> popover.isShown { closePopover(sender: sender) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { showPopover(sender: sender) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showPopover</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = statusItem.button { popover.show(relativeTo: button.bounds, of: button, preferredEdge: <span class="hljs-type"><span class="hljs-type">NSRectEdge</span></span>.minY) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closePopover</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { popover.performClose(sender) }</code> </pre> <br>  <b>showPopover ()</b> zeigt ein Popup.  Sie geben nur an, woher es kommt, macOS positioniert es und zeichnet einen Pfeil, als würde er in der Menüleiste angezeigt. <br><br>  <b>closePopover ()</b> schließt nur das Popup, und <b>togglePopover ()</b> ist eine Methode, die das Popup je nach Status entweder <b>ein-</b> oder <b>ausblendet</b> . <br><br>  Starten Sie die Anwendung und klicken Sie auf das entsprechende Symbol. <br><br><img src="https://habrastorage.org/webt/j6/gu/oq/j6guoqowcbou3xwtqr2cdunm4ns.png"><br><br>  Alles ist in Ordnung, aber wo ist der Inhalt? <br><br><h2>  Wir implementieren den Quote View Controller </h2><br>  Zunächst benötigen Sie ein Modell zum Speichern von Anführungszeichen und Attributen.  Gehen Sie zum Menü <b>Datei / Neu / Datei ...</b> und wählen Sie die <b>Vorlage macOS / Quelle / Swift-Datei</b> und dann <b>Weiter</b> .  Benennen Sie die Datei <b>Quote</b> und klicken Sie auf <b>Create</b> . <br><br>  Öffnen Sie die Datei <b>Quote.swift</b> und fügen Sie den folgenden Code hinzu: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Quote</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> text: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> author: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> all: [<span class="hljs-type"><span class="hljs-type">Quote</span></span>] = [ <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"Never put off until tomorrow what you can do the day after tomorrow."</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Mark Twain"</span></span>), <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"Efficiency is doing better what is already being done."</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Peter Drucker"</span></span>), <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"To infinity and beyond!"</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Buzz Lightyear"</span></span>), <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"May the Force be with you."</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Han Solo"</span></span>), <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"Simplicity is the ultimate sophistication"</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Leonardo da Vinci"</span></span>), <span class="hljs-type"><span class="hljs-type">Quote</span></span>(text: <span class="hljs-string"><span class="hljs-string">"It's not just what it looks like and feels like. Design is how it works."</span></span>, author: <span class="hljs-string"><span class="hljs-string">"Steve Jobs"</span></span>) ] } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Quote</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomStringConvertible</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> description: <span class="hljs-type"><span class="hljs-type">String</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\"\(text)\" — \(author)"</span></span> } }</code> </pre> <br>  Hier definieren wir eine einfache Anführungszeichenstruktur und eine statische Eigenschaft, die alle Anführungszeichen zurückgibt.  Da wir <b>Quote</b> mit dem <b>CustomStringConvertible-</b> Protokoll kompatibel <b>gemacht haben</b> , können wir problemlos bequem formatierten Text erhalten. <br><br>  Es gibt Fortschritte, aber wir brauchen noch Steuerelemente, um all dies anzuzeigen. <br><br><h2>  Fügen Sie Schnittstellenelemente hinzu </h2><br>  Öffnen Sie Main.storyboard und ziehen Sie 3 Tasten (Drucktaste) und Beschriftung (Mehrzeilige Beschriftung <b>)</b> auf dem Ansichts-Controller heraus. <br><br>  Positionieren Sie die Schaltflächen und Beschriftungen so, dass sie ungefähr so ​​aussehen: <br><br><img src="https://habrastorage.org/webt/1v/ry/2_/1vry2_ydfrxoqiqdsklo2uouwne.png"><br><br>  Befestigen Sie den linken Knopf mit einem Abstand von 20 am linken Rand und zentrieren Sie ihn vertikal. <br>  Befestigen Sie den rechten Knopf mit einem Abstand von 20 am rechten Rand und zentrieren Sie ihn vertikal. <br>  Befestigen Sie den unteren Knopf mit einem Abstand von 20 an der Unterkante und zentrieren Sie ihn horizontal. <br>  Befestigen Sie den linken und rechten Rand der Markierung mit einem Abstand von 20 in vertikaler Mitte an den Schaltflächen. <br><br> <a href=""><img src="https://habrastorage.org/webt/jl/zi/tl/jlzitledfqmcexzv636ya6ir6sq.png"></a> <br><br>  Sie werden mehrere Layoutfehler sehen, da nicht genügend Informationen für das <b>automatische Layout vorhanden sind,</b> um dies herauszufinden. <br><br>  Setzen Sie die <b>Priorität</b> für das <b>Umarmen horizontaler Inhalte</b> auf 249, damit die Größe des Etiketts geändert werden kann. <br><br> <a href=""><img src="https://habrastorage.org/webt/a6/qp/s0/a6qps0r2_vobhsjkbcfiqohklgc.png"></a> <br><br>  Gehen Sie nun wie folgt vor: <br><br><ul><li>  Setzen Sie das <b>Bild</b> mit der linken Schaltfläche auf <b>NSGoLeftTemplate</b> und löschen Sie den <b>Titel</b> </li><li>  Setzen Sie das <b>Bild</b> mit der rechten Schaltfläche auf <b>NSGoRightTemplate</b> und löschen Sie den <b>Titel</b> </li><li>  Setzen Sie den <b>Titel der</b> Schaltfläche unten auf <b>Quit Quotes</b> . </li><li>  Stellen Sie die <b>Textausrichtung des</b> Etiketts auf Mitte ein. </li><li>  Überprüfen Sie, ob der <b>Zeilenumbruch</b> am Etikett auf <b>Zeilenumbruch eingestellt ist</b> . </li></ul><br><br>  Öffnen <b>Sie</b> nun <b>QuotesViewController.swift</b> und fügen Sie der Implementierung der <b>QuotesViewController-</b> Klasse den folgenden Code <b>hinzu</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textLabel: <span class="hljs-type"><span class="hljs-type">NSTextField!</span></span></code> </pre> <br><br>  Fügen Sie diese Erweiterung der Klassenimplementierung hinzu.  In <b>QuotesViewController.swift gibt es</b> jetzt zwei Klassenerweiterungen. <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// MARK: Actions extension QuotesViewController { @IBAction func previous(_ sender: NSButton) { } @IBAction func next(_ sender: NSButton) { } @IBAction func quit(_ sender: NSButton) { } }</span></span></code> </pre> <br>  Wir haben gerade eine <b>Steckdose</b> für das Etikett hinzugefügt, mit dem wir Anführungszeichen anzeigen, und drei Stub-Methoden, die wir mit den Schaltflächen verbinden. <br><br><h2>  Verbinden des Codes mit Interface Builder </h2><br>  Hinweis: Xcode hat Kreise links von Ihrem Code platziert - neben den Schlüsselwörtern <b>IBAction</b> und <b>IBOutlet</b> . <br><br><img src="https://habrastorage.org/webt/kv/48/k_/kv48k_pvgucw0v1jexqsna44dda.png"><br><br>  Wir werden sie verwenden, um den Code mit der Benutzeroberfläche zu verbinden. <br><br>  Klicken Sie bei <b>gedrückter</b> <b>Alt-</b> Taste im <b>Projektnavigator</b> auf <b>Main.storyboard</b> .  Daher wird das <b>Storyboard</b> im <b>Assistenten-Editor</b> rechts und der Code links geöffnet. <br><br>  Ziehen Sie den Kreis links von <b>textLabel</b> auf die Beschriftung im <b>Interface Builder</b> .  Kombinieren Sie auf die gleiche Weise die <b>vorherigen</b> , <b>nächsten</b> und <b>Beendigungsmethoden</b> mit den Schaltflächen links, rechts und unten. <br><br> <a href=""><img src="https://habrastorage.org/webt/7-/qu/yb/7-quybzu1bexw545popvn_mbeea.png"></a> <br><br>  Starten Sie Ihre Anwendung. <br><br><img src="https://habrastorage.org/webt/tr/b2/6w/trb26wseu6kdpeyqyjdbeojwoxu.png"><br><br>  Wir haben die Standard-Popup-Größe verwendet.  Wenn Sie ein größeres oder kleineres Popup möchten, ändern Sie einfach die Größe im <b>Storyboard</b> . <br><br><h2>  Schreiben eines Codes für die Schaltflächen </h2><br>  Wenn Sie den <b>Assistenten-Editor</b> noch nicht ausgeblendet haben, klicken Sie auf <b>Befehlsrückgabe</b> oder <b>Ansicht&gt; Standardeditor&gt; Standardeditor anzeigen</b> <br><br>  Öffnen Sie <b>QuotesViewController.swift</b> und fügen Sie der <b>Klassenimplementierung</b> die folgenden Eigenschaften hinzu: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> quotes = <span class="hljs-type"><span class="hljs-type">Quote</span></span>.all <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentQuoteIndex: <span class="hljs-type"><span class="hljs-type">Int</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">didSet</span></span> { updateQuote() } }</code> </pre> <br>  Die <b>Anführungszeichen-</b> Eigenschaft enthält alle Anführungszeichen, und <b>currentQuoteIndex</b> ist der Index des <b>Angebots</b> , das derzeit angezeigt wird.  <b>CurrentQuoteIndex</b> verfügt außerdem über einen <b>Eigenschaftsbeobachter,</b> mit dem der Inhalt des Etiketts mit einem neuen Anführungszeichen aktualisiert werden kann, wenn sich der Index ändert. <br><br>  Fügen Sie nun die folgenden Methoden hinzu: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() currentQuoteIndex = <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateQuote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { textLabel.stringValue = <span class="hljs-type"><span class="hljs-type">String</span></span>(describing: quotes[currentQuoteIndex]) }</code> </pre> <br>  Wenn die Ansicht geladen wird, setzen wir den Anführungszeichenindex auf 0, was wiederum zu einer Aktualisierung der Schnittstelle führt.  <b>updateQuote ()</b> aktualisiert einfach die <b>Textbezeichnung</b> , um ein Zitat anzuzeigen.  entsprechender <b>currentQuoteIndex</b> . <br><br>  Aktualisieren Sie diese Methoden abschließend mit dem folgenden Code: <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">previous</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: NSButton)</span></span></span></span> { currentQuoteIndex = (currentQuoteIndex - <span class="hljs-number"><span class="hljs-number">1</span></span> + quotes.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>) % quotes.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> } <span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: NSButton)</span></span></span></span> { currentQuoteIndex = (currentQuoteIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>) % quotes.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> } <span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: NSButton)</span></span></span></span> { <span class="hljs-type"><span class="hljs-type">NSApplication</span></span>.shared.terminate(sender) }</code> </pre> <br>  Die Methoden <b>next ()</b> und <b>previous ()</b> durchlaufen alle Zitate.  <b>Beenden</b> schließt die Anwendung. <br><br>  Starten Sie die App: <br><br><img src="https://habrastorage.org/webt/wi/qh/ju/wiqhjuzkw5c8f7bmtofythu147k.png"><br><br><h2>  Ereignisüberwachung </h2><br>  Es gibt noch eine Sache, die Benutzer von unserer Anwendung erwarten - das Popup-Fenster auszublenden, wenn der Benutzer irgendwo außerhalb darauf klickt.  Dazu benötigen wir einen Mechanismus namens <b>macOS global event monitor</b> . <br><br>  Erstellen Sie eine neue Swift-Datei, nennen Sie sie <b>EventMonitor</b> und ersetzen Sie ihren Inhalt durch den folgenden Code: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Cocoa public class EventMonitor { private var monitor: Any? private let mask: NSEvent.EventTypeMask private let handler: (NSEvent?) -&gt; Void public init(mask: NSEvent.EventTypeMask, handler: @escaping (NSEvent?) -&gt; Void) { self.mask = mask self.handler = handler } deinit { stop() } public func start() { monitor = NSEvent.addGlobalMonitorForEvents(matching: mask, handler: handler) } public func stop() { if monitor != nil { NSEvent.removeMonitor(monitor!) monitor = nil } } }</code> </pre> <br>  Beim Initialisieren einer Instanz dieser Klasse übergeben wir ihr eine Ereignismaske, die wir abhören werden (z. B. Tastenanschläge, Mausrad-Bildlauf usw.), und einen Ereignishandler. <br>  Wenn wir mit dem Abhören <b>beginnen</b> <b>möchten,</b> ruft <b>start ()</b> <b>addGlobalMonitorForEventsMatchingMask (_: handler :) auf</b> , das das zu speichernde Objekt zurückgibt.  Sobald das in der Maske enthaltene Ereignis eintritt, ruft das System Ihren Handler auf. <br><br>  Um die Überwachung von Ereignissen zu stoppen, wird <b>removeMonitor</b> <b>()</b> in <b>stop ()</b> aufgerufen und wir löschen das Objekt, indem wir es auf nil setzen. <br><br>  Wir müssen nur noch <b>start ()</b> und <b>stop ()</b> zum richtigen Zeitpunkt aufrufen.  Die Klasse ruft auch <b>stop ()</b> auf dem Deinitializer auf, um zu bereinigen. <br><br><h2>  Event Monitor verbinden </h2><br>  Öffnen Sie <b>AppDelegate.swift ein</b> letztes Mal und fügen Sie eine neue Eigenschaft hinzu: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> eventMonitor: <span class="hljs-type"><span class="hljs-type">EventMonitor?</span></span></code> </pre> <br>  Fügen Sie dann diesen Code hinzu, um den <b>Ereignismonitor</b> am Ende von <b>applicationDidFinishLaunching (_ :)</b> zu konfigurieren. <br><br><pre> <code class="swift hljs">eventMonitor = <span class="hljs-type"><span class="hljs-type">EventMonitor</span></span>(mask: [.leftMouseDown, .rightMouseDown]) { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> strongSelf = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, strongSelf.popover.isShown { strongSelf.closePopover(sender: event) } }</code> </pre> <br>  Dies informiert Ihre Anwendung, wenn Sie auf die linke oder rechte Schaltfläche klicken.  Bitte beachten Sie: Der Handler wird nicht als Reaktion auf Mausklicks in Ihrer Anwendung aufgerufen.  Aus diesem Grund wird das Popup nicht geschlossen, während Sie darauf klicken. <br><br>  Wir verwenden einen <b>schwachen</b> Bezug zu sich <b>selbst</b> , um die Gefahr eines Zyklus starker Verbindungen zwischen <b>AppDelegate</b> und <b>EventMonitor</b> zu vermeiden. <br><br>  Fügen Sie am Ende der <b>showPopover (_ :)</b> -Methode den folgenden Code hinzu: <br><br><pre> <code class="swift hljs">eventMonitor?.start()</code> </pre><br>  Hier beginnen wir mit der Überwachung von Ereignissen, wenn ein Popup-Fenster angezeigt wird. <br><br>  <b>Fügen Sie</b> nun den Code am Ende der Methode <b>closePopover (_ :) hinzu</b> : <br><br><pre> <code class="swift hljs">eventMonitor?.stop()</code> </pre><br>  Hier beenden wir die Überwachung, wenn das Popup geschlossen wird. <br><br>  Die Bewerbung ist fertig! <br><br><h2>  Fazit </h2><br>  <a href="">Hier</a> finden Sie den vollständigen Code für dieses Projekt. <br><br>  Sie haben gelernt, wie Sie das Menü und das Popup in der Anwendung in der Menüleiste einstellen.  Warum nicht mit mehreren Tags oder formatiertem Text experimentieren, um die Anführungszeichen besser sehen zu können?  Oder ein Backend anschließen, um Angebote aus dem Internet zu erhalten?  Oder möchten Sie mit der Tastatur zwischen Anführungszeichen navigieren? <br><br>  Ein guter Ort zum Recherchieren ist die offizielle Dokumentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NSMenu</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NSPopover</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NSStatusItem</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447754/">https://habr.com/ru/post/de447754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447738/index.html">Julian Assange von der britischen Polizei festgenommen</a></li>
<li><a href="../de447742/index.html">Was ist die DevOps-Methodik und wer braucht sie?</a></li>
<li><a href="../de447744/index.html">Elbrus besteigen - Aufklärung im Kampf. Technischer Teil 2. Interrupts, Ausnahmen, Systemtimer</a></li>
<li><a href="../de447750/index.html">Neue Prozessoren für Rechenzentren - wir analysieren die Ankündigungen der letzten Monate</a></li>
<li><a href="../de447752/index.html">Wie wir CAD COMPASS-3D → Teil 3 übertaktet haben</a></li>
<li><a href="../de447756/index.html">Neuer Gartner Quadrant für Application Monitoring Solutions (APM)</a></li>
<li><a href="../de447758/index.html">Hacking-Geschichte eines klassischen Dendy- oder Contra-Spiels für 100 Leben</a></li>
<li><a href="../de447786/index.html">Hintergrund: Robot Fedor, was bist du?</a></li>
<li><a href="../de447788/index.html">Wir haben einen Nachrichtenaggregator mit Schwerpunkt auf Kryptowährungen erstellt - intwt.com</a></li>
<li><a href="../de447790/index.html">Lernen, Waves Smart-Verträge auf RIDE und RIDE4DAPPS zu schreiben. Teil 1 (Multiuser Wallet)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>