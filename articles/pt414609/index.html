<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßìüèª üë©üèæ‚Äçüîß üò¨ O 2018 PWA (Progressive Web Apps) pode ser uma competi√ß√£o digna para aplicativos nativos? üñäÔ∏è ü§òüèΩ üò∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quando as mudan√ßas ocorrem gradualmente, passo a passo, √†s vezes √© dif√≠cil ver qu√£o dram√°ticas e abrangentes elas s√£o. Parece que apenas alguns anos a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O 2018 PWA (Progressive Web Apps) pode ser uma competi√ß√£o digna para aplicativos nativos?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/google/blog/414609/"><p><img src="https://habrastorage.org/webt/qa/dg/-z/qadg-zbc6_u-iiwrl7rj4wocgwu.png"></p><br><p>  Quando as mudan√ßas ocorrem gradualmente, passo a passo, √†s vezes √© dif√≠cil ver qu√£o dram√°ticas e abrangentes elas s√£o.  Parece que apenas alguns anos atr√°s a plataforma da Web estava perdendo o aplicativo nativo em quase todas as frentes, e a diferen√ßa entre o que poderia ser feito no navegador e o que estava dispon√≠vel por aplicativos baixados de lojas como a Apple App Store ou Google Play Store, era terrivelmente grande.  Uma das evid√™ncias desse abismo √© que, em 2007, a web era de fato a principal plataforma de desenvolvimento de aplicativos para o primeiro iPhone, mas essa plataforma claramente n√£o decolou.  A App Store apareceu apenas um ano depois da segunda vers√£o do sistema operacional e imediatamente houve um boom de aplicativos nativos, que formaram o cen√°rio de mercado como o conhecemos agora. </p><br><p>  Muita coisa mudou desde ent√£o, e as tecnologias da web n√£o pararam.  Eles seguiram o caminho da remo√ß√£o de restri√ß√µes e o que antes era imposs√≠vel em princ√≠pio - trabalho offline, sincroniza√ß√£o de dados em segundo plano, notifica√ß√µes push, suporte para login e pagamento com um clique usando cart√µes de cr√©dito, Apple Pay, Google Pay e outros m√©todos integrados o navegador agora √© uma realidade.  Essas fun√ß√µes complementam organicamente a parte principal da plataforma - HTML / CSS e JavaScript, que nos √∫ltimos anos vem se desenvolvendo em um ritmo mais do que ativo.  Por exemplo, o novo projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Houdini</a> , que ainda est√° em um est√°gio bastante inicial, remove quase todas as restri√ß√µes sobre o que pode ser feito usando CSS, possibilitando, entre outras coisas, criar seus pr√≥prios layouts e us√°-los em p√© de igualdade com o Grid e o Flexbox e abrir acesso program√°tico aos CSS internos motor.  Mas mesmo sem o Houdini, voc√™ pode criar anima√ß√µes CSS que funcionam a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">60 FPS</a> (quadros por segundo). </p><a name="habracut"></a><br><p> O desenvolvimento cont√≠nuo de padr√µes da Web atraiu os desenvolvedores.  Muitas pessoas com boas raz√µes acreditam que o desenvolvimento de tecnologias da Web √© mais r√°pido, f√°cil e barato. Portanto, se voc√™ procurar, por exemplo, aplicativos de desktop modernos, veremos que a maioria deles est√° escrita em Electron, uma estrutura que permite escrever aplicativos para Windows, Linux e macOS baseado na Web.  Exemplos de aplicativos da Electron s√£o o Visual Studio Code, Slack, Skype na √°rea de trabalho etc. </p><br><p>  Por outro lado, a plataforma cruzada, que √© parte integrante das tecnologias da Web, agora √© mais relevante do que nunca.  O suporte para bases de c√≥digo independentes separadas para iOS e Android √© muito caro.  Portanto, mesmo para aplicativos nativos, os desenvolvedores est√£o cada vez mais escolhendo tecnologias de plataforma cruzada, como o React Native, o Xamarin ou o Flutter do Google (se voc√™ √© um desenvolvedor m√≥vel e ainda n√£o viu o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flutter</a> , recomendo fazer isso, apenas para fins educacionais).  E com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PWA</a> , conseguimos o que todo mundo sempre sonhou - aplicativos verdadeiramente multiplataforma. </p><br><p>  Falando sobre remover as limita√ß√µes da plataforma da web, n√£o podemos deixar de mencionar o WebAssembly.  Agora, gra√ßas a essa tecnologia, praticamente n√£o h√° restri√ß√µes √† velocidade de execu√ß√£o do c√≥digo no navegador e nas linguagens de programa√ß√£o usadas.  J√° √© poss√≠vel obter desempenho apenas metade do c√≥digo C nativo que funciona diretamente no sistema operacional e esse n√£o √© o limite.  Obviamente, isso n√£o significa que voc√™ precisa jogar fora o JavaScript e mudar para escrever interfaces de usu√°rio em C ou Rust, pois o pacote JavaScript + Angular, React ou Vue.js √© extremamente eficaz para esses fins e o pr√≥prio JavaScript (ECMAScript), dispon√≠vel hoje para n√≥s - na verdade, √© uma linguagem completamente nova, conveniente e moderna, com suporte para async / waitit, a sintaxe usual de classe, a desestrutura√ß√£o, as seq√º√™ncias de modelos e muito mais.  Mas o WebAssembly traz desempenho em segmentos cr√≠ticos, como jogos, AR / VR, intelig√™ncia artificial, processamento de √°udio e v√≠deo para desempenho nativo, e custa muito.  Al√©m disso, agora √© muito mais f√°cil portar c√≥digos existentes em C, C ++, Rust, C # e outras linguagens de programa√ß√£o para o navegador.  Um bom exemplo dessa transfer√™ncia √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AutoCAD,</a> lan√ßado recentemente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, que funciona em um navegador</a> usando o WebAssembly. </p><br><p>  √â importante ter um ambiente de tempo de execu√ß√£o r√°pido (com acesso direto √† placa de v√≠deo) no dispositivo pelo motivo de que, dados os requisitos modernos de privacidade e seguran√ßa, quando alguns dados simplesmente n√£o conseguem sair do cliente e ir para o servidor, todos os dados devem ser processados ‚Äã‚Äãno cliente aplica√ß√£o.  Por exemplo, se ouvirmos um microfone em antecipa√ß√£o a uma frase-chave ou analisarmos o fluxo da c√¢mera, √© improv√°vel que os usu√°rios concordem em enviar todo o som e v√≠deo ao servidor para processamento.  Agora, temos acesso a bibliotecas como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TensorFlow.js</a> , que permitem n√£o apenas lan√ßar modelos treinados (redes neurais) no navegador, mas tamb√©m treinar esses modelos diretamente no cliente.  O que em muitos cen√°rios aumenta a seguran√ßa e a privacidade e reduz a carga do servidor. </p><br><p>  Outra √°rea na qual as limita√ß√µes da plataforma da Web s√£o tradicionalmente manifestadas √© o acesso ao sistema operacional e os recursos de hardware do dispositivo do usu√°rio.  Mas aqui, as restri√ß√µes s√£o gradualmente apagadas, embora deva-se admitir que no iOS elas apagam muito mais lentamente do que no Android.  Se falamos sobre intera√ß√£o com o sistema operacional, a API da √°rea de transfer√™ncia para trabalhar com a √°rea de transfer√™ncia apareceu recentemente, a API de apresenta√ß√£o para detectar a conex√£o de um segundo monitor / projetor e controlar o que √© exibido nele, a API de compartilhamento da Web para integra√ß√£o com a caixa de di√°logo de compartilhamento do sistema (enquanto aplicativos da Web pode atuar apenas como uma fonte, mas h√° trabalho em andamento no recebimento de dados, a API de destino do compartilhamento da Web pode ser testada no Chrome incluindo os recursos da Plataforma da Web experimental em aproximadamente: sinalizadores).  Por falar em sensores e transfer√™ncia de dados, temos acesso √† API Bluetooth da Web para trabalhar com dispositivos f√≠sicos localizados nas proximidades (que √© muito usado ativamente em solu√ß√µes IoT), bem como √† nova API de sensor gen√©rico para trabalhar com v√°rios sensores, como aceler√¥metro, girosc√≥pio , sensor de luz, b√∫ssola e outros.  E n√£o mencionei os padr√µes da web que est√£o conosco h√° muito tempo, como trabalhar com c√¢mera e microfone, suporte a vibra√ß√µes, obter informa√ß√µes sobre a bateria, tipo e velocidade da rede e a mem√≥ria dispon√≠vel do dispositivo do usu√°rio. </p><br><blockquote>  Gra√ßas a todas essas mudan√ßas e inova√ß√µes, agora os aplicativos da Web e nativos n√£o s√£o mais divididos pelo abismo.  Agora eles est√£o ombro a ombro. </blockquote><p>  Mas n√£o tome minhas palavras como um sinal de que os recursos de aplicativos nativos e plataformas da Web s√£o iguais.  Grosso modo, se h√° cinco anos a plataforma da Web oferecia oportunidades suficientes para 20% dos aplicativos (aqui, quero dizer aplicativos que exigem l√≥gica complexa, e n√£o sites com conte√∫do - nesses casos, h√° AMP - P√°ginas M√≥veis Aceleradas e tecnologias semelhantes, cobrindo cen√°rios de conte√∫do de blogs e sites de not√≠cias a lojas on-line e sites de v√°rias institui√ß√µes e organiza√ß√µes, quase cem por cento) e, em outros casos, era necess√°rio criar solu√ß√µes nativas, agora os recursos da plataforma web s√£o suficientes em 70-80% com  Uchaev.  E para um n√∫mero crescente de aplicativos, os desenvolvedores t√™m uma escolha.  Geralmente, essa op√ß√£o √© a coexist√™ncia do PWA e do aplicativo nativo, como √© o caso do Uber, Starbucks, Aviasales, Twitter, Tinder, Google Maps, AliExpress e outros. </p><br><img src="https://habrastorage.org/webt/fw/mb/fk/fwmbfkgfe-jddhbgwxb5tqp-ue4.jpeg" width="600"><br><p>  <em>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://twitter.com/necolas/status/829128165314306048</a></em> </p><br><p>  Quais s√£o esses recursos que exigem a cria√ß√£o de aplicativos nativos ou, pelo menos, o empacotamento de aplicativos da Web usando o Apache Cordova ou outros meios de distribui√ß√£o nos armazenamentos de aplicativos? </p><br><ul><li>  Trabalhe com contatos e calend√°rio no dispositivo do usu√°rio. </li><li>  Enviando / recebendo SMS, fazendo chamadas telef√¥nicas diretamente do aplicativo.  Intera√ß√£o com o cart√£o SIM do telefone. </li><li>  Trabalhar com NFC </li><li>  Geofencing </li><li>  Trabalhe com o flash e sensores n√£o padr√£o, como sensor de press√£o, monitor de batimentos card√≠acos, etc. </li><li>  Trabalho de baixo n√≠vel com o sistema - gerenciamento de aplicativos, configura√ß√µes do sistema, acesso total ao reposit√≥rio. </li><li>  Crie teclados e widgets. </li><li>  Registrando o aplicativo como o aplicativo padr√£o para abrir qualquer tipo de arquivo ou tipo de link. </li></ul><br><p>  Naturalmente, esta √© uma lista incompleta.  Por outro lado, n√£o tenho d√∫vidas de que muitos desses recursos estar√£o dispon√≠veis para a plataforma da Web em um futuro muito pr√≥ximo.  Mas voc√™ n√£o deve esperar que os sistemas operacionais e suas plataformas tamb√©m fiquem parados.  Sim, a lacuna ser√° reduzida, mas sempre haver√° algo dispon√≠vel apenas para aplicativos nativos.  Portanto, se voc√™ √© um desenvolvedor de dispositivos m√≥veis com foco no iOS ou Android, √© vital que voc√™ esteja sempre um passo √† frente para que seus aplicativos sejam os melhores do mercado. </p><br><p>  N√£o esque√ßa que os aplicativos da Web possuem recursos que n√£o est√£o dispon√≠veis para nativos.  Isso se refere principalmente √† distribui√ß√£o de aplicativos, ao custo de atra√ß√£o de usu√°rios e √† aus√™ncia de depend√™ncia da vontade do propriet√°rio da loja de aplicativos e √† velocidade de verifica√ß√£o de atualiza√ß√µes pela loja.  Sim, de acordo com as estat√≠sticas, os usu√°rios de dispositivos m√≥veis passam muito mais tempo em aplicativos e menos no navegador, mas, em m√©dia, metade dos usu√°rios instala 0 (zero) novos aplicativos por m√™s, e a maior parte do tempo gasto em aplicativos √© contabilizada por gigantes como o Facebook .  Por outro lado, os usu√°rios visitam mais de uma centena de sites diferentes por m√™s e visitam facilmente novos sites.  Portanto, o custo de atrair um usu√°rio para um site (aplicativo da Web) pode ser at√© dez vezes menor que o custo de atrair um usu√°rio para um aplicativo baixado de uma loja.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A</a> tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Play Instant</a> resolve parcialmente esse problema, permitindo que voc√™ execute aplicativos nativos do Android por meio de um link de um navegador, ignorando a loja e sem instala√ß√£o.  Tais aplicativos naturalmente t√™m funcionalidade limitada, mas oferecem uma convers√£o muito boa.  O que apenas confirma a hip√≥tese de que o modelo de distribui√ß√£o de aplicativos da web √© uma vantagem.  Embora a presen√ßa nas lojas de aplicativos, especialmente no topo das classifica√ß√µes, tamb√©m permita atrair usu√°rios, mas agora funciona muito pior do que h√° dez anos, pois h√° muito mais aplicativos nas lojas. </p><br><p>  Se voc√™ precisar da presen√ßa do seu aplicativo da Web (PWA) nos armazenamentos de aplicativos, isso tamb√©m ser√° poss√≠vel.  A Microsoft Store j√° suporta a adi√ß√£o do PWA.  No caso de outras lojas, voc√™ pode compactar o aplicativo manualmente ou usar uma ferramenta pronta, como o site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pwabuilder.com,</a> que permite, entre outras coisas, gerar pacotes do PWA com base no Apache Cordova para a Apple App Store e Google Play.  Al√©m disso, em vers√µes futuras do Chrome para Android, haver√° uma capacidade sistem√°tica de incorporar o PWA em aplicativos Android usando o mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Atividades da Web confi√°veis</a> . </p><br><h1>  Aplicativos Web progressivos em 2018 </h1><br><p>  Ao falar sobre aplicativos da Web que se aproximam dos nativos em termos de experi√™ncia do usu√°rio, interface, velocidade e recursos, eles usam o termo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PWA - Progressive Web Apps</a> .  O PWA n√£o √© algum tipo de estrutura ou SDK.  √â uma abordagem ou, se voc√™ preferir, uma filosofia de como criar aplicativos da web modernos. </p><br><p><img src="https://habrastorage.org/webt/oz/5i/ps/oz5ipsftfzdxhuzeven0-_rbtcs.png"></p><br><p>  Do ponto de vista tecnol√≥gico, o PWA usa modernos padr√µes da Web dispon√≠veis nos navegadores e nada mais.  A abordagem do PWA n√£o imp√µe nenhuma restri√ß√£o especial aos pr√≥prios aplicativos da web.  Por exemplo, os PWAs podem ser aplicativos de p√°gina √∫nica (SPA) ou podem n√£o ser.  √â importante que todos os usu√°rios possam interagir com seu aplicativo, e a abordagem de melhorias graduais (progressivas) √© usada - quanto mais moderno o navegador do usu√°rio, mais oportunidades ele ter√°. </p><br><p>  O principal recurso do PWA e o fato de nos permitir chamar o aplicativo da Web de nome orgulhoso do Progressive Web App √© o suporte ao trabalho offline usando o mecanismo Service Worker e a capacidade relacionada de adicionar o √≠cone do aplicativo √† tela inicial do dispositivo do usu√°rio (n√£o queremos adicionar a tela inicial do aplicativo do dispositivo que n√£o ser√° carregada sem uma conex√£o com a Internet?). </p><br><p>  Os funcion√°rios de servi√ßo oferecem uma oportunidade √∫nica de executar o c√≥digo separadamente das p√°ginas do seu site, mesmo quando as p√°ginas podem ser fechadas (mas voc√™ n√£o poder√° executar o c√≥digo em segundo plano por um per√≠odo arbitrariamente longo, mesmo assim, as restri√ß√µes s√£o significativas).  E essa oportunidade encontra mais e mais aplicativos em novos padr√µes da web. </p><br><p>  No campo da implementa√ß√£o de padr√µes da Web relacionados ao PWA, na primavera de 2018, uma revolu√ß√£o aconteceu.  O termo PWA tem sido amplamente usado por v√°rios anos, mas anteriormente era aplicado apenas ao navegador Google Chrome, e o trabalho offline era inicialmente suportado tanto na √°rea de trabalho quanto no Android, mas a instala√ß√£o de aplicativos funcionava apenas no Android.  Muitos desenvolvedores ainda percebem o PWA como pura tecnologia Android.  Mas no iOS 2018, lan√ßado em mar√ßo de 2018, a Apple adicionou o suporte do Service Worker ao Safari m√≥vel.  Tamb√©m foi adicionado suporte ao Safari para macOS.  A Microsoft, por sua vez, um m√™s ap√≥s a Apple, em abril de 2018, adicionou suporte para Service Workers ao seu navegador Microsoft Edge.  Al√©m disso, o Windows 10 agora oferece suporte √† distribui√ß√£o do PWA atrav√©s da Microsoft Store.  A pr√≥xima etapa, esperamos a possibilidade de instalar o PWA na √°rea de trabalho a partir de navegadores em todas as plataformas, e n√£o apenas no Chrome OS, onde j√° funciona. </p><br><p>  Voc√™ pode testar a instala√ß√£o na √°rea de trabalho incluindo os sinalizadores de PWAs e Banners de aplicativos ou Banners de aplicativos experimentais em: banners no Chrome.  Depois de ativar esses recursos experimentais, a interface de instala√ß√£o do PWA da √°rea de trabalho no Chrome na √°rea de trabalho ser√° semelhante √† captura de tela abaixo. </p><br><p>  Com o advento do PWA na √°rea de trabalho, eles provavelmente ocupar√£o parte do nicho que a Electron agora domina. <br><img src="https://habrastorage.org/webt/jn/ff/sp/jnffspedssgkf-ux8vxmc5sfm0y.jpeg"><br>  Portanto, agora voc√™ pode fornecer trabalho offline usando o mecanismo Service Worker nos iOS, Android, Windows, Linux, macOS e Chrome OS nos navegadores Chrome, Safari, Firefox, Edge e Samsung na Internet.  E em todas as plataformas m√≥veis, a adi√ß√£o do √≠cone do aplicativo √† tela inicial j√° √© suportada. <br><img src="https://habrastorage.org/webt/t9/dm/bt/t9dmbtbbqtqa7ezaasc9cap3hqc.jpeg"><br>  <em>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://caniuse.com/#feat=serviceworkers</a></em> </p><br><p>  H√° meio ano, era dif√≠cil imaginar que a introdu√ß√£o de tecnologias relacionadas √† PWA fosse t√£o r√°pida.  Na captura de tela abaixo, voc√™ pode ver parte da tela inicial do iOS com √≠cones do PWA, indistingu√≠veis dos aplicativos nativos instalados na loja.  E quero enfatizar separadamente que, falando sobre iOS, quero dizer, tanto o iPhone quanto o iPad - n√£o h√° diferen√ßa no suporte ao PWA entre o tablet e o telefone. </p><br><img src="https://habrastorage.org/webt/-v/0q/cr/-v0qcrpp2mym9htbwa38v1g0jhe.png" width="600"><br><p>  <em>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://medium.com/@firt/progressive-web-apps-on-ios-are-here-d00430dee3a7</a></em> </p><br><p>  Al√©m de implementar padr√µes modernos da Web em v√°rios navegadores, h√° mudan√ßas e melhorias no trabalho do PWA no Chrome.  E se a exibi√ß√£o do √≠cone de instala√ß√£o do PWA no OmniBox (barra de endere√ßos e barra de pesquisa) ainda estiver em desenvolvimento, a instala√ß√£o do PWA no Android usando o mecanismo WebAPK (APK - Pacote Android, cont√™iner de aplicativos Android) j√° funcionar√°.  Inicialmente, o PWA ap√≥s a instala√ß√£o era apenas um atalho do navegador na tela inicial.  Agora, este modo tamb√©m √© suportado.  Os atalhos do PWA cont√™m um pequeno √≠cone do navegador no canto.  Mas agora o principal m√©todo de instala√ß√£o √© o WebAPK.  Em ess√™ncia, o PWA no Android se torna aplicativos completos gerados em tempo real durante a instala√ß√£o.  E os PWAs agora s√£o exibidos n√£o apenas como um atalho na tela inicial, mas tamb√©m s√£o mostrados junto com outros aplicativos nativos instalados na lista de todos os aplicativos.  Embora o mecanismo WebAPK n√£o permita o acesso a nenhum recurso nativo do sistema operacional que n√£o seria acess√≠vel no navegador (exceto no suporte √† abertura de links do dom√≠nio do qual o PWA foi carregado, no pr√≥prio PWA e n√£o no navegador), mas no fato de o PWA do ponto de vista do sistema operacional s√£o aplicativos completos, ele n√£o pode deixar de se alegrar. </p><br><p>  A maturidade da tecnologia Service Worker tamb√©m confirma o fato de que todas as ferramentas populares do SPA (aplicativos de p√°gina √∫nica) suportam a gera√ß√£o de Service Workers em um comando, como √© feito na CLI Angular, ou mesmo geram o Service Worker padr√£o, como em caso com create-react-app.  Por outro lado, muitos desenvolvedores desejam entender melhor o que, como e quando √© armazenado em cache no aplicativo, para que desejem escrever o c√≥digo do Service Worker por conta pr√≥pria.  Mas isso n√£o √© uma boa ideia, repleta de erros dif√≠ceis de reproduzir e, como resultado, os usu√°rios podem ficar com uma vers√£o em cache desatualizada do aplicativo.  Uma op√ß√£o intermedi√°ria, e do meu ponto de vista, √© usar bibliotecas prontas para implementa√ß√£o de estrat√©gias de cache e sincroniza√ß√£o em segundo plano, mas que oferecem liberdade m√°xima para os desenvolvedores.  A mais popular dessas bibliotecas no momento √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caixa de Trabalho</a> .  Por exemplo, com a Caixa de trabalho, armazenamento em cache de imagens e, para que n√£o haja mais de sessenta no cache, por at√© trinta dias, fica assim. </p><br><pre><code class="hljs powershell">workbox.routing.registerRoute( /\.(?:png|gif|jpg|jpeg|svg)<span class="hljs-variable"><span class="hljs-variable">$</span></span>/, workbox.strategies.cacheFirst({ cacheName: <span class="hljs-string"><span class="hljs-string">'images'</span></span>, plugins: [ <span class="hljs-type"><span class="hljs-type">new</span></span> <span class="hljs-type"><span class="hljs-type">workbox.expiration.Plugin</span></span>({ <span class="hljs-type"><span class="hljs-type">maxEntries</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-type"><span class="hljs-type">maxAgeSeconds</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> * <span class="hljs-number"><span class="hljs-number">24</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span>, // <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-type"><span class="hljs-type">Days</span></span> }), ], }), );</code> </pre> <br><p>  N√£o pense que implementar o trabalho e o cache offline implica oferecer suporte a cem por cento da funcionalidade do aplicativo no modo offline, embora isso tamb√©m seja poss√≠vel e possa ser um bom objetivo a longo prazo.  O principal √© que, na aus√™ncia de uma conex√£o com a Internet, os usu√°rios n√£o t√™m a impress√£o de que o aplicativo n√£o funciona (o pior de tudo √© que eles v√™em um dinossauro no Chrome, indicando a impossibilidade de fazer o download).  Portanto, tudo, desde exibir o aplicativo em cinza com uma mensagem sobre a falta de uma conex√£o com a Internet at√© implementar todas as funcionalidades offline, √© uma boa op√ß√£o. </p><br><p>  Levado pelo cache, voc√™ tamb√©m n√£o deve esquecer que ele acelera significativamente apenas a segunda carga do seu aplicativo (e, √© claro, permite adicionar suporte ao trabalho offline).  Portanto, se voc√™ realmente deseja melhorar a experi√™ncia do usu√°rio, precisa acelerar o primeiro download o m√°ximo poss√≠vel.  Uma maneira de fazer isso √© a renderiza√ß√£o do servidor.  Gra√ßas √† renderiza√ß√£o no servidor, o usu√°rio poder√° ver imediatamente o conte√∫do do aplicativo, o que reduz a probabilidade de o aplicativo ser fechado antes do carregamento, porque o usu√°rio se cansar√° de esperar.  E aumenta a probabilidade de uma segunda chamada e, como resultado, d√° esperan√ßa de que o esfor√ßo despendido no suporte ao armazenamento em cache seja realmente necess√°rio.  Portanto, seus aplicativos da web devem ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">isom√≥rficos</a> - para que o mesmo c√≥digo JavaScript possa funcionar no lado do cliente e no servidor. </p><br><p>  Ent√£o, voc√™ decidiu que seu pr√≥ximo aplicativo Web ser√° o PWA.  Surge a pergunta: quais s√£o as possibilidades de implementa√ß√£o dos trabalhadores em servi√ßo?  Se voc√™ estiver desenvolvendo um novo aplicativo, recomendo que voc√™ comece a adicionar recursos na ordem em que est√£o listados na lista abaixo.  Todos esses recursos fazem sentido para o usu√°rio, juntos e separadamente. </p><br><ul><li>  Adicione o Service Worker, implemente o cache e trabalhe offline <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trabalhadores de servi√ßo: uma introdu√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o √†s arquiteturas progressivas de aplicativos Web</a> </li><li>  Adicionar Web App Manifest (manifest.json) para suportar a instala√ß√£o do aplicativo <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O manifesto do aplicativo Web</a> </li><li>  Se voc√™ enviar dados gerados pelo usu√°rio para o servidor (por exemplo, postagens ou coment√°rios), a pr√≥xima etapa poder√° ser implementar o suporte √† sincroniza√ß√£o de dados em segundo plano - Background Sync.  Nesse caso, os usu√°rios poder√£o adicionar dados ao seu aplicativo mesmo off-line e, quando uma conex√£o com a Internet aparecer, o Chrome enviar√° dados ao servidor usando o Service Worker, mesmo se o seu aplicativo j√° estiver fechado. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o √† sincroniza√ß√£o em segundo plano</a> </li><li>  Implementar login experimental com um clique e suporte para login autom√°tico <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fluxos de entrada e inscri√ß√£o sem costura</a> </li><li>  Implementar compartilhamento com a API de compartilhamento da Web <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apresentando a API de compartilhamento da Web</a> </li><li>  Se seu aplicativo exigir pagamentos, implemente o suporte deles usando a API de solicita√ß√£o de pagamento <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apresentando a API de solicita√ß√£o de pagamento</a> </li></ul><br><p>  Mas primeiro, leia a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de verifica√ß√£o do Google</a> , que descreve os principais recursos de bons aplicativos da web. </p><br><p>  Se voc√™ j√° possui um aplicativo existente ou se est√° desenvolvendo um novo aplicativo Web, recomendo come√ßar com uma auditoria.  Isso pode ser feito usando a ferramenta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lighthouse</a> , dispon√≠vel para lan√ßamento nas Ferramentas do desenvolvedor do Chrome (guia Auditorias), bem como um pacote NPM.  O Lighthouse automatiza muitas das verifica√ß√µes da lista de verifica√ß√£o.  Idealmente, voc√™ n√£o deve apenas come√ßar com uma auditoria usando o Lighthouse, mas tamb√©m integr√°-la ao processo de constru√ß√£o.  O Lighthouse permite que voc√™ veja os pontos fortes e fracos de seu aplicativo da Web e tamb√©m ajuda a obter id√©ias sobre quais outros recursos, padr√µes da Web e pr√°ticas recomendadas podem ser implementados. <br><img src="https://habrastorage.org/webt/ll/iv/_e/lliv_efxmgd1uxvbkxqqkfkmbra.jpeg"><br><img src="https://habrastorage.org/webt/pm/jd/yq/pmjdyq5i58-nakky6gkllyfibsw.jpeg"><br>  Se voc√™ quiser experimentar alguns recursos completamente experimentais, use o mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trials</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Origin</a> no Google Chrome.  Usando esse mecanismo, ap√≥s enviar e aprovar um aplicativo, voc√™ pode ativar novos padr√µes experimentais da web para os usu√°rios do seu aplicativo da web.  Esse mecanismo √© usado para testar os padr√µes da Web n√£o para toda a Internet (j√° que nesse caso ser√° muito dif√≠cil fazer altera√ß√µes ou abandonar completamente o padr√£o), mas apenas para um n√∫mero limitado de sites selecionados que est√£o interessados ‚Äã‚Äãnesses padr√µes.  No momento da reda√ß√£o deste artigo, estava dispon√≠vel um teste de origem, por exemplo, para a WebXR Device API, um novo padr√£o para realidade mista que suporta AR (realidade aumentada) e VR (realidade virtual). </p><br><h1>  Conclus√£o </h1><br><p>  Na √∫ltima d√©cada, as tecnologias da Web passaram do est√°gio de esperan√ßas e expectativas do dom√≠nio universal da Web 2.0 e HTML5 (eu me pergunto se algu√©m est√° usando esses bizvords agora?) Quando Steve Jobs declarou em 2007 que ‚ÄúVoc√™ n√£o precisa de um SDK.  Voc√™ tem tudo o que precisa (se voc√™ sabe escrever aplicativos usando os mais recentes padr√µes da Web) para escrever aplicativos impressionantes do iPhone hoje. ‚Äù, No est√°gio de frustra√ß√£o de 2010-2013, quando Chris Anderson, da revista Wired, em 2010, disse que‚Äú Por mais que gostemos de web aberta e ilimitada, a recusamos em favor de servi√ßos mais simples e elegantes [aplicativos nativos] que simplesmente funcionam ‚Äù. E Mark Zuckerberg em 2012 observou que‚Äú o maior erro que cometemos como empresa √© Apostar no HTML5, n√£o no  ativo ". </p><br><p>  Mas a noite mais escura acontece antes do amanhecer, e para as tecnologias da Web em concorr√™ncia com aplicativos nativos, esse amanhecer foi o movimento associado aos Aplicativos Web Progressivos.  Agora, em 2018, todos os navegadores j√° suportam os principais recursos do PWA - trabalhando offline e instalando na tela inicial em dispositivos m√≥veis.  Os PWAs funcionam em qualquer lugar, s√£o independentes das lojas de aplicativos e fornecem uma experi√™ncia de usu√°rio nativa pr√≥xima.  E assim o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gartner prev√™</a> que "os PWAs substituir√£o 50% dos aplicativos de uso geral".  Mas n√£o exagere nas expectativas, voc√™ quase certamente pode dizer que cem por cento do mercado de PWA n√£o ser√£o ocupados. </p><br><p>  Agora, o PWA √© uma vantagem competitiva.  Por exemplo, o Twitter da PWA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aumentou o</a> n√∫mero de p√°ginas visualizadas por sess√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em 65%</a> .  Gra√ßas √† PWA, Lancome <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aumentou a convers√£o em 17%</a> .  O OLX mostrou resultados ainda mais impressionantes e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aumentou</a> os reengajamentos em 250%.  E existem muitos exemplos.  Em breve, a disponibilidade do PWA ser√° simplesmente necess√°ria para qualquer neg√≥cio s√©rio e a aus√™ncia ser√° percebida como uma desvantagem significativa. </p><br><p>  Sergey Pugachev, especialista em desenvolvedores do Google <br>  <em>PS.</em>  <em>O artigo √© da opini√£o pessoal do autor e pode n√£o coincidir com a opini√£o de empregadores anteriores, presentes ou futuros;)</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt414609/">https://habr.com/ru/post/pt414609/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt414587/index.html">Drone aut√¥nomo DIY com controle sobre a Internet. Parte 2 sobre software</a></li>
<li><a href="../pt414595/index.html">Bloqueio de Roskomnadzor pelo Hino da Federa√ß√£o Russa</a></li>
<li><a href="../pt414597/index.html">Pergunte a Ethan: Qu√£o perto as civiliza√ß√µes alien√≠genas podem se unir?</a></li>
<li><a href="../pt414601/index.html">Quando as montanhas eram altas e os laptops eram grandes: um pouco mais da hist√≥ria da TI</a></li>
<li><a href="../pt414605/index.html">Mini imp√©rios</a></li>
<li><a href="../pt414611/index.html">Minha hist√≥ria de cria√ß√£o de um aplicativo motivacional (iOS e Android) para uma filha com uma filha no Unity e C #</a></li>
<li><a href="../pt414613/index.html">Competi√ß√£o de risco padr√£o de cr√©dito residencial Kaggle - an√°lise de dados e modelos preditivos simples</a></li>
<li><a href="../pt414615/index.html">Esque√ßa o RGPD: a reforma dos direitos autorais da UE pode mudar completamente a web</a></li>
<li><a href="../pt414617/index.html">Efici√™ncia de recursos de computa√ß√£o</a></li>
<li><a href="../pt414621/index.html">O sistema rob√≥tico acelera a amostragem e os testes de sangue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>