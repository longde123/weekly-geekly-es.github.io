<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title> 诧  Bypass de fijaci贸n SSL en la aplicaci贸n iOS ㄢ あ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola, mi nombre es Andrey Batutin, soy desarrollador s茅nior de iOS en DataArt. En un art铆culo anterior, hablamos sobre c贸mo puede detectar el tr谩fico ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bypass de fijaci贸n SSL en la aplicaci贸n iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/424485/"><img src="https://habrastorage.org/webt/r5/au/e5/r5aue5majmln6nysnmwfx95do-i.jpeg"><br><br>  Hola, mi nombre es Andrey Batutin, soy desarrollador s茅nior de iOS en DataArt.  En un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art铆culo anterior,</a> hablamos sobre c贸mo puede detectar el tr谩fico de nuestra aplicaci贸n m贸vil utilizando un proxy HTTPS.  En esto, discutiremos c贸mo evitar el anclaje SSL.  Por si acaso, te recomiendo leer el primer art铆culo si a煤n no lo has le铆do: ser谩 necesario para entender el texto a continuaci贸n. <br><br>  En realidad, en la pr谩ctica, SSL Pinning se utiliza para que el m茅todo descrito para inspeccionar y modificar el tr谩fico de una aplicaci贸n m贸vil no sea accesible para los malos o un chef curioso. <a name="habracut"></a><br><br><h2>  驴Qu茅 es el anclaje SSL? </h2><br>  En el art铆culo anterior, instalamos el Certificado Charles Root en nuestro dispositivo m贸vil, lo que permiti贸 que nuestro Proxy Charles recibiera, descifrara, nos mostrara el tr谩fico, lo volviera a cifrar y lo enviara a Dropbox. <br><br>  Si yo, como desarrollador de una aplicaci贸n m贸vil, quiero que mi tr谩fico sea inspeccionado solo por mi servidor y nadie m谩s, incluso si este otro ha instalado su certificado SSL en el dispositivo, puedo usar el anclaje SSL. <br><br>  Su esencia se reduce al hecho de que durante el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">protocolo de enlace SSL, el</a> cliente verifica el certificado recibido del servidor. <br><br>  Este art铆culo analiza el m茅todo de fijaci贸n de SSL m谩s f谩cil de implementar utilizando una lista permitida de certificados conectados a la aplicaci贸n (lista blanca). <br><br>  Puede encontrar m谩s informaci贸n sobre los tipos de anclaje SSL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu铆</a> . <br><br><h2>  Implementaci贸n de fijaci贸n de SSL en FoodSniffer </h2><br>  El c贸digo completo del proyecto est谩 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu铆</a> .  Primero, necesitamos obtener dos certificados en formato DER para dos hosts: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.dropbox.com</a> ; </li><li>  uc9b17f7c7fce374f5e5efd0a422.dl.dropboxusercontent.com. </li></ul><br>  El segundo servidor almacena JSON con una lista de nuestras compras. <br><br>  Para obtener los certificados en el formato correcto, utilic茅 Mozila Firefox. <br><br>  Abra dropbox.com en el navegador. <br><br>  Haga clic en el s铆mbolo del candado en la barra de direcciones. <br><br><img src="https://habrastorage.org/webt/sh/k3/vx/shk3vxqud9j9vmaxj7-fi6tmwa0.jpeg"><br><br><img src="https://habrastorage.org/webt/t2/h3/mh/t2h3mhypmycnrdlucabycodaz3s.jpeg"><br><br>  Haga clic en M谩s informaci贸n, seleccione Seguridad -&gt; Ver certificado. <br><br><img src="https://habrastorage.org/webt/lm/oq/k7/lmoqk7_uba_fh7rh6rjni2frpqu.jpeg"><br><br>  Luego seleccione Detalles y busque el certificado final en la Jerarqu铆a de certificados. <br><br><img src="https://habrastorage.org/webt/f_/rb/tz/f_rbtzkfvjqkfdwymdz6pmrmtcu.jpeg"><br><br>  Haga clic en Exportar y guarde en formato DER. <br><br><img src="https://habrastorage.org/webt/cj/hq/rv/cjhqrvecmcfvwnbe4mpeqbi_6oy.jpeg"><br><br>  Repita el mismo procedimiento para uc9b17f7c7fce374f5e5efd0a422.dl.dropboxusercontent.com. <br><br>  <i>Nota</i> <br>  El servidor de contenido de Dropbox (* .dl.dropboxusercontent.com) usa un certificado comod铆n.  Por lo tanto, el certificado que extrajo para el servidor uc9b17f7c7fce374f5e5efd0a422 ser谩 adecuado para cualquier otro servidor Dropbox * .dl.dropboxusercontent.com. <br><br>  Como resultado, obtuve dos archivos con certificados: <br><br>  <b>dropboxcom.crt</b> , <br>  <b>dldropboxusercontentcom.crt</b> , <br><br>  que agregu茅 al proyecto de la aplicaci贸n FoodSniffer para iOS. <br><br><img src="https://habrastorage.org/webt/fb/7h/lu/fb7hluyvt6vfrzjv_g9mvahzjco.jpeg"><br><br>  Luego agregu茅 extensi贸n para la clase FoodListAPIConsumer, en la que verifico el certificado recibido del servidor.  Para hacer esto, lo busco en la lista de certificados permitidos, procesando el delegado de Authentication Challenge del protocolo NSURLSessionDelegate: <br><br><pre><code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FoodListAPIConsumer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">urlSession</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> session: URLSession, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(URLSession.AuthChallengeDisposition, URLCredential?)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> trust = challenge.protectionSpace.serverTrust <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { completionHandler(.cancelAuthenticationChallenge, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> credential = <span class="hljs-type"><span class="hljs-type">URLCredential</span></span>(trust: trust) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validateTrustCertificateList(trust)) { completionHandler(.useCredential, credential) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { completionHandler(.cancelAuthenticationChallenge, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validateTrustCertificateList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> trust:SecTrust)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> index <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>..&lt;<span class="hljs-type"><span class="hljs-type">SecTrustGetCertificateCount</span></span>(trust) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> certificate = <span class="hljs-type"><span class="hljs-type">SecTrustGetCertificateAtIndex</span></span>(trust, index){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> serverCertificateData = <span class="hljs-type"><span class="hljs-type">SecCertificateCopyData</span></span>(certificate) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-type"><span class="hljs-type">Data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( certificates.<span class="hljs-built_in"><span class="hljs-built_in">contains</span></span>(serverCertificateData) ){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }</code> </pre> <br>  En la matriz de <b>certificados</b> , tengo representaciones de datos de mis certificados permitidos. <br><br>  Ahora, cuando se ejecuta Charles Proxy, la aplicaci贸n se desconectar谩 debido a que el certificado de Charles no est谩 incluido en la lista de permitidos.  El usuario ver谩 el siguiente error: <br><br><img src="https://habrastorage.org/webt/si/nk/gk/sinkgknwjdxwhtkcnbq8dcl-okc.jpeg"><br><br>  隆Hackers derrotados! <br><br>  Pero ahora hay un peque帽o problema: 驴c贸mo puedo yo, el desarrollador, monitorear el tr谩fico HTTPS de mi propia aplicaci贸n? <br><br><h2>  Frida </h2><br>  Una opci贸n es deshabilitar el anclaje SSL con el marco de inyecci贸n de c贸digo din谩mico del marco de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Frida</a> . <br><br>  La idea es que el m茅todo <b>validateTrustCertificateList</b> siempre devuelve verdadero durante el desarrollo de la aplicaci贸n. <br><br>  Esto, por supuesto, se puede lograr sin la inyecci贸n de c贸digo din谩mico, por ejemplo, usando la <b>condici贸n #if targetEnvironment (simulador)</b> para deshabilitar el <b>anclaje</b> SSL en el simulador, pero es demasiado simple. <br><br>  Usando Frida, podemos escribir un script JavaScript (h谩bilmente, 驴verdad?) En el que reemplazamos la implementaci贸n de validateTrustCertificateList con una que siempre devuelve verdadero. <br>  Y este script se inyectar谩 en la aplicaci贸n en la etapa de ejecuci贸n. <br><br>  C贸mo funciona Frida en iOS, puedes leer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu铆</a> . <br><br><h4>  Instalaci贸n de Frida (tomada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de aqu铆</a> ). </h4><br><br>  <i>sudo pip install frida-tools</i> <br><br><h2>  Gui贸n Frida </h2><br>  El script directo para reemplazar la funci贸n validateTrustCertificateList se ve as铆: <br><br><pre> <code class="hljs pgsql">// Are we debugging it? <span class="hljs-keyword"><span class="hljs-keyword">DEBUG</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> main() { // <span class="hljs-number"><span class="hljs-number">1</span></span> var ValidateTrustCertificateList_prt = Module.findExportByName(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, "_T016FoodSnifferFrida0A15ListAPIConsumerC024validateTrustCertificateD0SbSo03SecG0CF"); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ValidateTrustCertificateList_prt == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { console.log("[!] FoodSniffer!validateTrustCertificateList(...) not found!"); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } // <span class="hljs-number"><span class="hljs-number">2</span></span> var ValidateTrustCertificateList = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> NativeFunction(ValidateTrustCertificateList_prt, "int", ["pointer"]); // <span class="hljs-number"><span class="hljs-number">3</span></span> Interceptor.replace(ValidateTrustCertificateList_prt, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> NativeCallback(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(trust) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">DEBUG</span></span>) console.log("[*] ValidateTrustCertificateList(...) hit!"); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; }, "int", ["pointer"])); console.log("[*] ValidateTrustCertificateList(...) hooked. SSL pinnig is disabled."); } // Run the script main();</code> </pre><br><ol><li>  Encontramos el puntero para <b>validarTrustCertificateList</b> en el binario de la aplicaci贸n por el nombre completo de la funci贸n. </li><li>  Envolvemos el puntero en un contenedor NativeFunction, que indica el tipo del par谩metro y el valor de salida de la funci贸n. </li><li>  Reemplace la implementaci贸n de la funci贸n <b>validateTrustCertificateList</b> con una que siempre devuelva 1 (es decir, verdadero). </li></ol><br>  El script completo est谩 en <b>{ra铆z_origen} /fridascrpts/killCertPinnig.js</b> . <br><br>  Uno de los problemas es c贸mo se <b>obtuvo</b> el nombre completo de la funci贸n <b>_T016FoodSnifferFrida0A15ListAPIConsumerC024validateTrustCertificateD0SbSo03SecG0CF</b> <br><br>  Para esto, utilic茅 la siguiente t茅cnica. <br><br><ul><li>  Cre贸 un objetivo adicional <b>FoodSnifferFrida</b> en la aplicaci贸n. </li><li>  <b>Conect茅 la</b> biblioteca <b>FridaGadget.dylib</b> , que tom茅 aqu铆.  El procedimiento de conexi贸n de la biblioteca se describe con m谩s detalle aqu铆. </li><li>  Lanz贸 la aplicaci贸n FoodSniffer en el simulador. </li><li>  Us贸 este comando para encontrar el nombre de funci贸n completamente <b>calificado validateTrustCertificateList</b> : <br>  <i>frida-trace -R -f re.frida.Gadget -i "* validateTrust *"</i> </li><li>  Lo tengo en la forma: <br><img src="https://habrastorage.org/webt/zp/8v/ho/zp8vhoi8wdgh4hme5yttpgus5ck.jpeg"></li></ul><br>  Y luego lo us贸 en <b>killCertPinnig.js</b> . <br><br>  Por qu茅 un nombre tan "extra帽o" lleg贸 al final y qu茅 significan todos estos T016 y 0A15, se puede ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu铆</a> . <br><br><h3>  Fijaci贸n de asesinato SSL </h3><br>  隆Ahora finalmente lanza FoodSniffer con SSL Pinnig desactivado! <br><br>  Lanzamiento Charles Proxy. <br><br>  Ejecute el objetivo FoodSnifferFrida en el proyecto Xcode en el simulador.  Deber铆amos ver solo una pantalla blanca.  La aplicaci贸n espera a que Frida se conecte a ella. <br><img src="https://habrastorage.org/webt/m5/gd/0s/m5gd0sdgghn4w9zamqc8fjbeixe.jpeg"><br><br>  Ejecute Frida para ejecutar el script <b>killCertPinnig.js</b> : <br>  <i>frida -R -f re.frida.Gadget -l ./fridascrpts/killCertPinnig.js</i> <br><br>  Esperemos la conexi贸n a la aplicaci贸n iOS: <br><br><img src="https://habrastorage.org/webt/ms/ge/kx/msgekxhxchkud3skbbidl8j_v8a.jpeg"><br><br>  Contin煤e la aplicaci贸n con el comando% resume: <br><br><img src="https://habrastorage.org/webt/pc/bo/4m/pcbo4mhufsllwtifvuk6iex-pi0.jpeg"><br><br>  Ahora deber铆amos ver la lista de alimentos en la aplicaci贸n: <br><br><img src="https://habrastorage.org/webt/36/2n/za/362nzasutmf3ybjnmblxvhn0m3s.jpeg"><br><br>  Y JSON en Charles Proxy: <br><br><img src="https://habrastorage.org/webt/fz/q0/lz/fzq0lzt4ht-efkw6_iujz2dvui4.jpeg"><br><br>  Beneficio! <br><br><h3>  Conclusi贸n </h3><br>  Frida es como Wireshark para binarios.  Funciona en plataformas iOS, Android, Linux, Windows.  Este marco le permite rastrear llamadas a m茅todos y funciones, tanto del sistema como del usuario.  Y tambi茅n reemplazar los valores de par谩metros, valores de retorno e implementaci贸n de funciones. <br><br>  Pasar por alto SSL Pinning en un entorno de desarrollo con Frida puede parecer un poco <i>exagerado</i> .  Me atrae porque no necesito tener una l贸gica espec铆fica en la aplicaci贸n para la depuraci贸n y el desarrollo de aplicaciones.  Esta l贸gica satura el c贸digo y, si se implementa incorrectamente, puede filtrarse en la versi贸n de lanzamiento del ensamblaje (macros, 隆hola!). <br><br>  Adem谩s, Frida es aplicable para Android.  Lo que me da la oportunidad de facilitarle la vida a todo mi equipo y garantizar un proceso fluido de desarrollo de toda la l铆nea de productos. <br>  Frida se posiciona como una herramienta de inyecci贸n de c贸digo de proceso de caja negra.  Con 茅l, es posible, sin cambiar el c贸digo directo de la aplicaci贸n iOS, agregar el m茅todo de registro de llamadas al tiempo de ejecuci贸n, lo que puede ser indispensable al depurar errores complejos y raros. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es424485/">https://habr.com/ru/post/es424485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es424471/index.html">Independencia financiera a mi manera</a></li>
<li><a href="../es424475/index.html">Informe del Centro de Monitoreo de Seguridad de la Informaci贸n para la mitad I de 2018</a></li>
<li><a href="../es424477/index.html">La disponibilidad de juegos en pygame</a></li>
<li><a href="../es424481/index.html">Toda la verdad sobre RTOS. Art铆culo # 11. Tareas: configuraci贸n e introducci贸n a la API</a></li>
<li><a href="../es424483/index.html">Acuerdo de $ 38 mil millones y sus implicaciones: c贸mo Comcast y Disney luchan contra Amazon y Netflix con inversi贸n</a></li>
<li><a href="../es424491/index.html">Mapas del hex谩gono de la unidad: asperezas, r铆os y caminos</a></li>
<li><a href="../es424495/index.html">Google Chrome agregar谩 la capacidad de rechazar la sincronizaci贸n autom谩tica de perfiles al iniciar sesi贸n en los servicios de la compa帽铆a *</a></li>
<li><a href="../es424497/index.html">Deja de sospechar de los desarrolladores de la impostura. Aprenda a entrevistar mejor</a></li>
<li><a href="../es424499/index.html">Bueno 茅l, tu pentest</a></li>
<li><a href="../es424501/index.html">Terminales de diagn贸stico para soldadores reales</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>