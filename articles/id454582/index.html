<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèæ üßïüèΩ üë∞üèª Haruskah panjang array disimpan ke variabel lokal di C #? üî© ü§±üèæ üëæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya perhatikan bahwa orang sering menggunakan konstruksi seperti ini: 



var length = array.Length; for (int i = 0; i < length; i++) { //do smth }  ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Haruskah panjang array disimpan ke variabel lokal di C #?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454582/">  Saya perhatikan bahwa orang sering menggunakan konstruksi seperti ini: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> length = array.Length; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {    <span class="hljs-comment"><span class="hljs-comment">//do smth }</span></span></code> </pre> <br>  Mereka berpikir bahwa memiliki panggilan ke Array. Panjang pada setiap iterasi akan membuat CLR mengambil lebih banyak waktu untuk mengeksekusi kode.  Untuk menghindarinya mereka menyimpan nilai panjang dalam variabel lokal. <br>  Mari kita cari tahu (sekali dan untuk semua!) Jika ini adalah hal yang layak atau menggunakan variabel sementara adalah buang-buang waktu. <br><a name="habracut"></a><br>  Untuk memulai, mari kita periksa metode C # ini: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Berikut ini tampilannya setelah diproses oleh kompiler JIT (untuk .NET Framework 4.7.2 di bawah LegacyJIT-x86): <br><div class="scrollable-table"><table><tbody><tr><td>  Tanpa Variabel () <br>  <font color="#666666">; jumlah int = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) mengembalikan jumlah;</font> <br>  <font color="#00007f">uji</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  keluar saja <br>  <font color="#666666">; int arrayLength2 = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (i&gt; = arrayLength2)</font> <br>  <font color="#666666">;</font>  <font color="#666666">melempar IndexOutOfRangeException baru ();</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#00007f">jae</font> 056e2d31 <br>  <font color="#666666">; jumlah + = localRefToArray [i];</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">termasuk</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; jumlah pengembalian;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> </td><td>  WithVariable () <br>  <font color="#666666">; jumlah int = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; if (arrayLength == 0) mengembalikan jumlah;</font> <br>  <font color="#00007f">menguji</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  keluar saja <br>  <font color="#666666">; int arrayLength2 = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (i&gt; = arrayLength2)</font> <br>  <font color="#666666">;</font>  <font color="#666666">melempar IndexOutOfRangeException baru ();</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jae</font> 05902d31 <br>  <font color="#666666">; jumlah + = localRefToArray [i];</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">eax</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">jl</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; jumlah pengembalian;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Perbandingan di Meld:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gc/4s/mi/gc4smi2gsptfuyqiuwyizrv2q80.png"><br></div></div><br>  Sangat sepele untuk memperhatikan bahwa mereka memiliki jumlah instruksi assembler yang persis sama - 15. Bahkan logika dari instruksi ini hampir sama.  Ada sedikit perbedaan dalam urutan variabel inisialisasi dan perbandingan apakah siklus harus dilanjutkan.  Kita dapat mencatat bahwa dalam kedua kasus panjang array terdaftar dua kali sebelum siklus: <br><br><ul><li>  Untuk memeriksa 0 (arrayLength) <br></li><li>  Ke dalam variabel sementara untuk memeriksa kondisi siklus (arrayLength2). <br></li></ul><br>  Ternyata kedua metode akan dikompilasi ke dalam kode yang sama persis, tetapi yang pertama ditulis lebih cepat, meskipun tidak ada manfaat dalam hal waktu eksekusi. <br>  Kode assembler di atas membuat saya berpikir dan saya memutuskan untuk memeriksa beberapa metode lagi: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i] + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i] + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Sekarang elemen dan panjang array saat ini sedang ditambahkan, tetapi dalam kasus pertama panjang array diminta setiap kali, dan dalam kasus kedua itu disimpan sekali ke dalam variabel lokal.  Mari kita lihat kode assembler dari metode ini: <br><div class="scrollable-table"><table><tbody><tr><td>  Tanpa Variabel () <br>  jumlah <font color="#00007f">int</font> = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">int</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = ini <font color="#339933">.</font>  array <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  Panjang <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> mengembalikan jumlah <font color="#666666">;</font> <br>  <font color="#00007f">tes</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  keluar saja <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Panjang <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  melempar IndexOutOfRangeException baru <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jae</font> 05562d39 <br>  <font color="#00007f">int</font> t = array <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  t <font color="#339933">+</font> = jumlah <font color="#666666">;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  jumlah = t <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  i <font color="#339933">++</font> <font color="#666666">;</font> <br>  <font color="#00007f">termasuk</font> <font color="#46aa03">esi</font> <br>  if <font color="#009900">(</font> i &lt;arrayLength <font color="#009900">)</font> goto <font color="#00007f">loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  jumlah pengembalian <font color="#666666">;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br></td><td>  WithVariable () <br>  jumlah <font color="#00007f">int</font> = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">int</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = ini <font color="#339933">.</font>  array <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  Panjang <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  if <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> <font color="#009900">(</font> jumlah pengembalian <font color="#666666">;)</font> <br>  <font color="#00007f">tes</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  keluar saja <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Panjang <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  melempar IndexOutOfRangeException baru <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">jae</font> 04b12d39 <br>  <font color="#00007f">int</font> t = array <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  t <font color="#339933">+</font> = jumlah <font color="#666666">;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  jumlah = t <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  i <font color="#339933">++</font> <font color="#666666">;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  if <font color="#009900">(</font> i &lt;arrayLength <font color="#009900">)</font> goto <font color="#00007f">loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  <font color="#00007f">jl</font> <font color="#00007f">loop</font> <br>  jumlah pengembalian <font color="#666666">;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br></td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Perbandingan di Meld:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/co/8z/ix/co8zixjrk_p7fexmgmyhs1xfqqa.png"><br></div></div><br>  Sekali lagi, jumlah instruksi sama, dan juga (hampir) instruksi itu sendiri.  Satu-satunya perbedaan adalah urutan variabel inisialisasi dan kondisi pemeriksaan untuk kelanjutan siklus.  Anda dapat mencatat bahwa dalam perhitungan jumlah, hanya panjang array pertama yang diperhitungkan.  Sudah jelas bahwa ini: <br><blockquote>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Panjang <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> melempar IndexOutOfRangeException baru <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">jae</font> 04b12d39 </blockquote><br>  dalam keempat metode adalah array batas yang diperiksa dan dijalankan untuk setiap elemen array. <br><br>  Kita sudah dapat membuat kesimpulan pertama: menggunakan variabel tambahan untuk mencoba mempercepat siklus adalah buang-buang waktu, karena kompiler akan tetap melakukannya untuk Anda.  Satu-satunya alasan untuk menyimpan array panjang ke dalam variabel adalah untuk membuat kode lebih mudah dibaca. <br><br>  <i>ForEach</i> adalah situasi lain sepenuhnya.  Pertimbangkan tiga metode berikut: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithoutLength</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithoutLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Dan ini kode setelah JIT: <br><br><div class="spoiler">  <b class="spoiler_title">ForEachWithoutLength ()</b> <div class="spoiler_text">  <font color="#666666">; jumlah int = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) keluar goto;</font> <br>  <font color="#00007f">menguji</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  keluar saja <br>  <font color="#666666">; int t = array [i];</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; jumlah + = i;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">termasuk</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">edx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; jumlah pengembalian;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler">  <b class="spoiler_title">ForEachWithLengthWithoutLocalVariable ()</b> <div class="spoiler_text">  <font color="#666666">; jumlah int = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) pergi keluar</font> <br>  <font color="#00007f">menguji</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  keluar saja <br>  <font color="#666666">; int t = array [i];</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; jumlah + = i;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; jumlah + = localRefToArray.Length;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">termasuk</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">edx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; jumlah pengembalian;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler">  <b class="spoiler_title">ForEachWithLengthWithLocalVariable ()</b> <div class="spoiler_text">  <font color="#666666">; jumlah int = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int length = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) keluar goto;</font> <br>  <font color="#00007f">menguji</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  keluar saja <br>  <font color="#666666">; int t = array [i];</font> <br>  <font color="#00007f">lingkaran</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; jumlah + = i;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; jumlah + = panjang;</font> <br>  <font color="#00007f">tambahkan</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; jumlah pengembalian;</font> <br>  keluar <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br>  Hal pertama yang terlintas dalam pikiran adalah bahwa dibutuhkan lebih sedikit instruksi assembler daripada <i>untuk</i> siklus (misalnya, untuk penjumlahan elemen sederhana dibutuhkan 12 instruksi di <i>muka</i> , tetapi 15 di <i>untuk</i> ). <br><div class="spoiler">  <b class="spoiler_title">Perbandingan</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mw/ga/qy/mwgaqykzztnhwmztdcg4ns5thwa.png"><br></div></div><br>  Secara keseluruhan, berikut adalah hasil dari to <i>foreach</i> benchmark untuk array 1 juta elemen: <br><pre> <code class="cs hljs">sum+=array[i];</code> </pre><div class="scrollable-table"><table><tbody><tr><td>  Metode <br></td><td>  ItemCount <br></td><td>  Berarti <br></td><td>  Kesalahan <br></td><td>  Stddev <br></td><td>  Median <br></td><td>  Rasio <br></td><td>  Rasio SD <br></td></tr><tr><td>  Foreach <br></td><td>  1.000.000 <br></td><td>  1,401 ms <br></td><td>  0,2691 ms <br></td><td>  0,7935 ms <br></td><td>  1,694 ms <br></td><td>  1,00 <br></td><td>  0,00 <br></td></tr><tr><td>  Untuk <br></td><td>  1.000.000 <br></td><td>  1,586 ms <br></td><td>  0,3204 ms <br></td><td>  0,9447 ms <br></td><td>  1,740 ms <br></td><td>  1.23 <br></td><td>  0,65 <br></td></tr></tbody></table></div>  Dan untuk <br><pre> <code class="cs hljs">sum+=array[i] + array.Length;</code> </pre><div class="scrollable-table"><table><tbody><tr><td>  Metode <br></td><td>  ItemCount <br></td><td>  Berarti <br></td><td>  Kesalahan <br></td><td>  Stddev <br></td><td>  Median <br></td><td>  Rasio <br></td><td>  Rasio SD <br></td></tr><tr><td>  Foreach <br></td><td>  1.000.000 <br></td><td>  1,703 ms <br></td><td>  0,3010 ms <br></td><td>  0,8874 ms <br></td><td>  1,726 ms <br></td><td>  1,00 <br></td><td>  0,00 <br></td></tr><tr><td>  Untuk <br></td><td>  1.000.000 <br></td><td>  1,715 ms <br></td><td>  0,2859 ms <br></td><td>  0,8430 ms <br></td><td>  1,956 ms <br></td><td>  1.13 <br></td><td>  0,56 <br></td></tr></tbody></table></div><br>  <i>ForEach</i> berjalan melalui array jauh lebih cepat daripada <i>untuk</i> .  Mengapa  Untuk mengetahuinya, kita perlu membandingkan kode setelah JIT: <br><br><div class="spoiler">  <b class="spoiler_title">Perbandingan ketiga opsi foreach</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ae/wx/5s/aewx5szyufp55plv9zsq2wznplq.png"><br></div></div><br>  Mari kita lihat ForEachWithoutLength.  Panjang array hanya diminta satu kali dan tidak ada pemeriksaan untuk batas array.  Itu terjadi karena siklus ForEach pertama kali mengubah koleksi di dalam siklus, dan yang kedua tidak akan pernah keluar dari koleksi.  Karena itu, JIT mampu menghapus batas-batas array pemeriksaan. <br><br>  Sekarang mari kita perhatikan dengan seksama ForEachWithLengthWIthoutLocalVariable.  Hanya ada satu bagian yang aneh, di mana jumlah + = panjang tidak terjadi pada arrayLength variabel lokal yang disimpan sebelumnya, tetapi ke bagian baru yang diminta aplikasi dari memori setiap kali.  Itu berarti, akan ada N + 1 permintaan memori untuk panjang array, di mana N adalah panjang array. <br><br>  Dan sekarang kita sampai pada ForEachWithLengthWithLocalVariable.  Kode di sana persis sama dengan contoh sebelumnya, kecuali penanganan panjang array.  Kompilator sekali lagi menghasilkan array variabel lokalPanjang yang digunakan untuk memeriksa apakah array kosong, tetapi kompiler masih dengan jujur ‚Äã‚Äãmenyimpan panjang variabel lokal yang kami nyatakan, dan itulah yang digunakan dalam penjumlahan di dalam siklus.  Ternyata metode ini meminta panjang array dari memori hanya dua kali.  Perbedaannya sangat sulit untuk diperhatikan di dunia nyata. <br><br>  Dalam semua kasus, kode assembler ternyata sangat sederhana karena metode itu sendiri sederhana.  Jika metode memiliki lebih banyak parameter, itu harus bekerja dengan stack, variabel mungkin mendapatkan toko di luar register, akan ada lebih banyak pemeriksaan, tetapi logika utama akan tetap sama: memperkenalkan variabel lokal untuk panjang array hanya berguna untuk membuat kode lebih mudah dibaca.  Ternyata <i>Foreach</i> sering berjalan melalui array lebih cepat daripada <i>For</i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id454582/">https://habr.com/ru/post/id454582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id454568/index.html">Mozilla menyebut distribusi paket web yang ditandatangani secara digital oleh Google sebagai "buruk"</a></li>
<li><a href="../id454570/index.html">Menciptakan game DOS lama di C ++ 17</a></li>
<li><a href="../id454574/index.html">Pembelajaran mesin dalam keuangan mikro: membangun model penilaian untuk klien dengan sejarah kredit yang kosong</a></li>
<li><a href="../id454576/index.html">Penulis GandCrab berhenti bekerja: mereka mengklaim telah cukup mencuri</a></li>
<li><a href="../id454578/index.html">Bagaimana menghubungkan galeri PhotoSwipe di tampilan web android</a></li>
<li><a href="../id454584/index.html">Sekolah pengembangan antarmuka: analisis tugas untuk Minsk dan perangkat baru di Moskow</a></li>
<li><a href="../id454586/index.html">Memecahkan Teka-Teki Silang Jepang dengan PÃ∂yÃ∂tÃ∂hÃ∂oÃ∂Ã∂nÃ∂ Rust dan WebAssembly</a></li>
<li><a href="../id454588/index.html">Gazprom Neft mengundang Anda untuk mengunjungi: GPN Data Science Meetup</a></li>
<li><a href="../id454590/index.html">Zimbra Collaboration Suite dan Kontrol Seluler dengan ABQ</a></li>
<li><a href="../id454592/index.html">WAF melalui mata para peretas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>