<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçö ü•Ä üë®üèΩ‚Äçüè≠ Caminando a trav√©s de los fantasmas en Pac-Man üë®üèø‚Äçüé® üßìüèº üë∑üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo es un fragmento de mi libro Bug Voyage: A Tour of Classic Game Glitches. El libro tambi√©n contiene informaci√≥n sobre c√≥mo generar n√∫mero...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caminando a trav√©s de los fantasmas en Pac-Man</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403115/"> <em>Este art√≠culo es un fragmento de mi libro Bug Voyage: A Tour of Classic Game Glitches.</em>  <em>El libro tambi√©n contiene informaci√≥n sobre c√≥mo generar n√∫meros pseudoaleatorios, realizar c√°lculos de bajo nivel con n√∫meros binarios y decimales, as√≠ como sobre c√≥mo causar una falla en cualquier m√°quina Galaga, sin siquiera tirar monedas all√≠.</em> <br><br>  Si tiene la m√°quina de juegos Pac-Man cerca de usted, Sra.  Pac-Man o algo as√≠, est√°s de suerte, hoy son escasos.  Incluso las m√°quinas m√°s comunes de "20 a√±os de reuni√≥n" en el pasado, en las que la Sra. Se instalan juntas  Pac-Man y Galaga ahora son menos comunes. <br><br>  Pero para comprender lo que se discutir√°, es suficiente descargar un video de YouTube sobre uno de estos juegos y verlo en solo un minuto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0LTUHRgzCS8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ¬øTe has dado cuenta?  ¬øC√≥mo se mueven Pac-Man y los fantasmas sin problemas por el laberinto?  Se deslizan con tanta confianza y claridad. <br><br>  Esta fluidez, como veremos, es una ilusi√≥n, y eso no es todo.  Aqu√≠ hay otro video de YouTube: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VbzW6iNDx9U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es subido por Jamey Pittman, autor del art√≠culo del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>Dossier de Pac-Man</em></a> , que ha sido la fuente de gran parte de la informaci√≥n de Pac-Man para mi libro.  El video se ha rebobinado un poco para ahorrarle tiempo.  M√≠ralo.  En particular, vigile a Pac-Man y al fantasma rojo (el manual dice que se llama Blinky).  ¬°Note lo que sucede aproximadamente en el cuadrag√©simo segundo! <br><a name="habracut"></a><br>  Has visto  ¬°Pac-Man atraves√≥ un fantasma rojo sin problema!  ¬øC√≥mo sucedi√≥ esto?  ¬øEs posible asegurar que esto suceda todo el tiempo? <br><br>  C√°lmate, ahora explicar√© todo, y s√≠, este es un comportamiento constante.  Si sigue exactamente las instrucciones de Pittman en el primer nivel, esto siempre suceder√°. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/84c/c16/fba/84cc16fba84cd8cebb0ed65f21cc405a.png"><br>  <em>Pac-man</em> <br><br><h2>  ¬øQu√© es un sprite? </h2><br>  Una parte del equipo gr√°fico bidimensional utilizaba objetos gr√°ficos especiales en juegos llamados sprites.  Probablemente escuchaste este t√©rmino en las conversaciones modernas sobre los gr√°ficos de p√≠xeles de los personajes. <br><br>  Pero antes, el significado del t√©rmino era diferente: denotaba un objeto gr√°fico que se mov√≠a independientemente y que pod√≠a colocarse en cualquier lugar de la pantalla, o encima del resto de los gr√°ficos, llamado fondo, o debajo de √©l.  El sprite recibe las coordenadas X e Y, la imagen y su color.  A menudo se usaron para personajes del juego, pero tambi√©n se usaron como adiciones al fondo y para otros fines. <br><br>  La mayor√≠a de los sistemas admiten m√∫ltiples o (en el caso de Galaga) muchos sprites.  Ten√≠an otros nombres: Atari los llam√≥ primero "Gr√°ficos de misiles de jugador", y en la documentaci√≥n inicial de Commodore se los conoc√≠a como "Bloques de objetos m√≥viles" (MOB).  Sin embargo, poco a poco, casi todos comenzaron a llamarlos sprites. <br><br>  El equipo de m√°quinas recreativas Pac-Man admite gr√°ficos de sprites.  Puede mostrar en la pantalla hasta ocho sprites a la vez, y esto es sin usar trucos con l√≠neas de escaneo.  Uno de los sprites es la imagen del propio Pac-Man, m√°s cuatro m√°s son utilizados por fantasmas.  Cuando Pac-Man se come al fantasma, sus ojos que regresan a casa usan el esp√≠ritu fantasma. <br><br>  No todo lo que cambia en la pantalla es un sprite.  Otro tipo de gr√°ficos utilizados por el equipo de esa √©poca es el <em>fondo de</em> mosaico.  Era solo una cuadr√≠cula de elementos gr√°ficos individuales almacenados en la memoria.  Cuando cambia el contenido de un fragmento de memoria, una peque√±a parte de la pantalla correspondiente a esta parte de la cuadr√≠cula tambi√©n cambia de inmediato.  Por lo tanto, trabajar con estas cuadr√≠culas es simple. <br><br>  Los puntos en el juego de Pac-Man son fichas (fichas) del fondo, borradas cuando Pac-Man las come.  El parpadeo del Energizador, que le da fuerza a Pac-Man, se realiza coloreando estas c√©lulas en negro y luego en blanco cada pocos cuadros.  Pero estos objetos no se mueven, solo se pueden quitar o reemplazar. <br><br>  El problema con los gr√°ficos de mosaico de caracteres es que no se puede mover sin problemas.  Est√° ubicado en la cuadr√≠cula, por lo que un objeto de fondo en movimiento no podr√° moverse suavemente por la pantalla, como hacen Pac-Man y los fantasmas.  Solo puede moverse entre celdas de cuadr√≠cula.  Es imposible mover parte del espacio de la cuadr√≠cula; est√° all√≠ o no. <br><br>  Pues s√≠, eso es interesante.  ¬øPero y qu√©? <br><br><h2>  Conceptos b√°sicos del mundo Pac-Man </h2><br>  Cuando era ni√±o, escrib√≠ peque√±os juegos en Microsoft BASIC para mi Commodore 64. Esta implementaci√≥n de BASIC ten√≠a problemas.  Los programas se ejecutaron lentamente y casi nunca utilizaron el sonido y los recursos gr√°ficos de la computadora, lo cual fue sorprendente para su tiempo.  Si deseaba hacer algo con gr√°ficos y sonido, ten√≠a que aprender los comandos cr√≠pticos t√©cnicos de acceso directo a la memoria llamados POKE, o aprender a escribir en c√≥digo m√°quina. <br><br>  Una soluci√≥n fue usar objetos de caracteres en lugar de gr√°ficos de sistema de sprites, como describ√≠ anteriormente.  Los objetos hicieron saltos del tama√±o de un azulejo, pero fue mucho m√°s f√°cil trabajar con ellos.  Era posible comenzar a crear un juego usando gr√°ficos de personajes, y luego, cuando el proyecto ya era grande y serio, y quer√≠a mostrarlo a la gente, cambiar a usar sprites de hardware. <br><br>  Un objeto en la memoria a√∫n podr√≠a saltar en el mismo incremento de ocho p√≠xeles, pero el jugador no vio esto.  Todo lo que vio fue una imagen de sprite parpadeante que podr√≠a ser m√°s grande que la ficha del personaje y ocultaba lo que realmente estaba sucediendo.  Al acercarse sabiamente a la programaci√≥n, fue posible interpolar la posici√≥n del sprite para que su movimiento pareciera m√°s suave.  Si lo hiciste lo suficientemente bien, entonces el jugador nunca not√≥ la diferencia.  Solo t√∫ sabr√≠as la verdad. <br><br>  Debes haber adivinado a lo que me estoy dirigiendo.  Porque as√≠ <em>es como se program√≥ Pac-Man</em> . <br><br>  De hecho, tanto Pac-Man como los fantasmas ten√≠an dos posiciones cada uno.  Esta es la posici√≥n de los gr√°ficos de sprites que se mueven suavemente en la pantalla que ve el jugador.  Dicha informaci√≥n se le da al jugador cuando juega, pero esto es solo una sombra, una ilusi√≥n.  Si quieres entender c√≥mo funciona realmente Pac-Man, entonces necesitas mirar m√°s profundo. <br><br>  Detr√°s del escenario del juego, Pac-Man tambi√©n tiene en cuenta qu√© celdas de personajes est√°n ocupadas por Pac-Man y fantasmas.  No hay rastros de estas coordenadas en la pantalla.  Sospecho que en las primeras etapas de Pac-Man, al experimentar con el juego, los desarrolladores pod√≠an dibujar fichas directamente en la pantalla.  Jamie Pittman descubri√≥ que estas coordenadas se utilizan para la inteligencia artificial de todos los fantasmas, y tambi√©n se utilizan para reconocer todas las colisiones en el juego. <br><br>  Para mantener esta ilusi√≥n, el juego tiene que ir a trucos.  Ella rastrea hasta qu√© punto Pac-Man y los fantasmas se han movido desde su celda actual en el nivel de suscriptor, y los cambia a una nueva posici√≥n cuando est√°n lo suficientemente lejos.  Un objeto un poco m√°s r√°pido tendr√° una velocidad que hace que el cambio de celdas sea un poco m√°s frecuente. <br><br>  Estos elementos (coordenadas de cuadr√≠cula, seguimiento entre celdas y la posici√≥n del sprite en la pantalla) crean la ilusi√≥n de un movimiento suave.  Pero desde el punto de vista del juego, el movimiento se realiza exactamente de la misma manera que en mi caso cuando program√© los gr√°ficos de celda de los personajes en Commodore 64. <br><br><h2>  Ajuste de cuentas </h2><br>  Ahora tenemos toda la informaci√≥n que necesita para comprender c√≥mo Pac-Man puede atravesar fantasmas. <br><br>  Las colisiones de Pac-Man se reconocen comparando sus coordenadas de cuadr√≠cula con las coordenadas de fantasmas.  Si son iguales, entonces se produce una colisi√≥n y uno se come al otro.  Si son diferentes, entonces no hay colisi√≥n.  Eso es todo, ni m√°s ni menos. <br><br>  Puede ver que la raz√≥n de esta decisi√≥n es la velocidad del reconocimiento de colisi√≥n en los ciclos del procesador.  En cada cuadro, compara los n√∫meros X e Y de un personaje de Pac-Man con los n√∫meros de cada uno de los cuatro fantasmas.  Gracias a esto, no necesita preocuparse por las distancias y las situaciones de riesgo.  Las colisiones son coincidencias exactas de coordenadas en el sistema de cuadr√≠cula. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/63b/745/f6e/63b745f6eba1e94d8b8598b971d7e610.png"><br>  <em>Esta cuadr√≠cula (aproximadamente) corresponde al sistema de coordenadas de mosaico que representa las posiciones reales de los personajes del juego.</em>  <em>La detecci√≥n de colisi√≥n utiliza esta cuadr√≠cula.</em>  <em>El juego registra una colisi√≥n solo cuando las coordenadas de las fichas de ambos personajes coinciden.</em>  <em>Esto significa que deben ocupar una celda de cuadr√≠cula.</em> <br><br>  El problema ocurre cuando las posiciones de Pac-Man y el fantasma que se mueven entre s√≠ cambian a la siguiente celda en el mismo marco.  La comprobaci√≥n de colisi√≥n se realiza despu√©s de que todos los objetos se hayan movido en el cuadro actual.  Si Pac-Man va a la celda Blinky, y Blinky va a la celda Pac-Man anterior en el mismo marco, se produce un error cuando se detecta una colisi√≥n.  ¬°Cambiaron de lugar! <br><br>  Dado que este es el √∫nico nivel de realidad que realmente significa algo en el juego, lo que <em>ve</em> el jugador no <em>es</em> importante.  Pac-Man y el fantasma simplemente atraviesan "divergiendo como barcos en el mar". <br><br>  La inteligencia artificial (IA) en el juego tiene una naturaleza determinista, por lo que puede identificar un patr√≥n para la repetici√≥n del comportamiento.  A pesar de que el tiempo para la manifestaci√≥n de un error al pasar debe ser preciso para el cuadro, el <em>jugador</em> no tiene que ser preciso para el cuadro si sigue las reglas para ejecutar los patrones de movimiento de Pac-Man.  As√≠ se grab√≥ el video de Jamie Pittman. <br><br>  Di una descripci√≥n tan detallada para enfatizar un hecho importante.  Es muy f√°cil percibir los objetos en el juego como reales.  Pac-Man es <em>un objeto</em> en la pantalla, los fantasmas tambi√©n son objetos como una nave espacial, Mario, Sonic, Solid Snake, un soldado de Call of Duty.  Todos ellos son objetos.  Pero esto es una ilusi√≥n. <br><br>  De hecho, todos te dan una pista de un sistema interno m√°s profundo.  En este sistema, la computadora tiene que hacer un trabajo serio solo para determinar que dos objetos <em>se tocan entre s√≠</em> .  Lo que ves en la pantalla es una ilustraci√≥n del mundo abstracto, y parte del juego transmite al jugador informaci√≥n de este mundo a trav√©s de la pantalla de una manera apropiada a su sentido de la realidad. <br><br>  Es muy f√°cil olvidar lo delgada que es esta conexi√≥n.  ¬øC√≥mo sabes qu√© objeto controlas en la pantalla?  Es diferente de los dem√°s y responde a la gesti√≥n.  Pero, ¬øy si aparece exactamente lo mismo en la pantalla?  ¬øO su objeto a veces se mover√° al azar, responder√° a las se√±ales de control con retraso, a veces se convertir√° en invisibilidad, se dividir√° en dos, se convertir√° en uno de los enemigos? <br><br>  La tarea del dise√±ador es hacer que la conexi√≥n entre el mundo interno del juego y lo que ves en la pantalla sea lo m√°s simple e inmediato posible (por supuesto, si no est√° tratando de lograr alg√∫n efecto especial).  Esto es lo que significa <em>inmersi√≥n</em> , o deber√≠a significar. <br><br><h2>  Informaci√≥n adicional </h2><br>  Inserte una moneda en la m√°quina arcade "20 Year Reunion" e ingrese con el joystick del primer jugador: arriba, arriba, arriba, abajo, abajo, abajo, izquierda, derecha, izquierda, derecha, izquierda.  Si el fantasma en la pantalla de Selecci√≥n de juego se vuelve rosa y escuchas un sonido, entonces todo se hace correctamente.  Ahora, si eliges el juego Sra.  Pac-Man, entonces jugar√°s al Pac-Man original. <br><br>  En algunos hardware de gr√°ficos, puede usar trucos con l√≠neas de escaneo para crear magia poderosa.  Por ejemplo, en un sistema que puede mostrar solo ocho sprites, se puede lograr m√°s, aunque a costa del tiempo del procesador y la flexibilidad reducida. <br><br>  En este sentido, la consola Atari VCS / 2600 es m√°s notable, porque la mayor√≠a de los gr√°ficos del sistema fueron creados usando trucos con l√≠neas de escaneo.  Lea m√°s sobre estas t√©cnicas en el libro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>Racing The Beam</em></a> . <br><br>  <em>Fuentes:</em> <em><br></em>  <em>Dossier sobre Pac-Man: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://www.gamasutra.com/view/feature/3938/the_pacman_dossier.php?print=1</a></em> <em><br></em>  <em>Canal de YouTube de Jamie Pittman: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://www.youtube.com/user/jameypittman/videos</a></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es403115/">https://habr.com/ru/post/es403115/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es403101/index.html">Qu√© considerar al elegir una fuente de alimentaci√≥n ininterrumpida</a></li>
<li><a href="../es403105/index.html">Los cargadores Rombica proporcionan energ√≠a de todo, desde computadoras port√°tiles hasta helic√≥pteros</a></li>
<li><a href="../es403107/index.html">7 aplicaciones m√≥viles de Rusia, aparecieron debido al crowdfunding</a></li>
<li><a href="../es403109/index.html">Se ha desarrollado un script para robar un c√≥digo PIN a trav√©s del navegador de un tel√©fono inteligente</a></li>
<li><a href="../es403113/index.html">Procesadores Intel Xeon, l√≠nea primavera-verano 2017</a></li>
<li><a href="../es403117/index.html">Descripci√≥n general de la impresi√≥n 3D de ESUN</a></li>
<li><a href="../es403121/index.html">Auriculares y auriculares seguros para ciclistas</a></li>
<li><a href="../es403123/index.html">Si realmente quieres, puedes encontrar a cualquiera</a></li>
<li><a href="../es403125/index.html">Polar en cartesiano o qu√© significa el anillo de monedas</a></li>
<li><a href="../es403127/index.html">Caso pr√°ctico: por qu√© el servicio de intercambio puede necesitar una cadena de bloques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>