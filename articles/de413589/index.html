<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍐 👨🏿‍🏫 🧘🏿 Code Review: Erfolgreiche Erfahrung 🥂 👒 🌦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Internet gibt es eine Menge Informationen über Codeüberprüfungen: 



- Wie sich eine Überprüfung des Codes einer anderen Person auf die Unternehme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Code Review: Erfolgreiche Erfahrung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alconost/blog/413589/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ys/rj/od/ysrjodtlql3rs6zqknt8a4qtvjg.jpeg"></a> <br><br>  Im Internet gibt es eine Menge Informationen über Codeüberprüfungen: <br><br><ul><li>  Wie sich eine Überprüfung des Codes einer anderen Person auf die Unternehmenskultur auswirkt </li><li>  Regulatorische Sicherheitsüberprüfungen </li><li>  gekürzte Handbücher </li><li>  lange Listen von Empfehlungen </li><li>  Codeüberprüfung aus zwischenmenschlicher Sicht </li><li>  Warum brauche ich eine Codeüberprüfung? </li><li>  bewährte Methoden </li><li>  mehr über bewährte Methoden </li><li>  Statistik: Wie viel Codeüberprüfung hilft, Fehler zu erkennen </li><li>  Beispiele für Fehler bei der Codeüberprüfung </li></ul><br>  Ja, natürlich gibt es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bücher</a> zu diesem Thema.  Mit einem Wort, dieser Artikel beschreibt, wie die Codeüberprüfung von Palantir organisiert wird.  In Organisationen, deren Kultur eine solche Begutachtung durch Fachkollegen nicht akzeptiert, kann es nützlich sein, zuerst den brillanten Aufsatz von Karl E. Wiegers, Die Code-Revision <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit menschlichem Antlitz,</a> zu lesen und dann zu versuchen, diesem Leitfaden zu folgen. <br><br>  Dieser Text stammt aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Empfehlungen</a> zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Qualitätsverbesserung, die</a> auf der Arbeit mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Baseline</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">basieren</a> , unserem Tool zur Qualitätskontrolle von Java-Code.  Es werden folgende Themen behandelt: <br><br><ul><li>  Warum, was und wann versuchen wir, eine Codeüberprüfung zu erreichen? <br></li><li>  Code zur Überprüfung vorbereiten <br></li><li>  Ausführung der Codeüberprüfung <br></li><li>  Beispiele für die Codeüberprüfung <br></li></ul><br>  <b>Übersetzt nach <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alconost</a></b> <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/1fe/be2/b3e1febe2172047ec7dafed2a92e3026.png"><br>  <font color="#0096d6"><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XKCD</a> Comic <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">'Code Quality', kopiert unter CC BY-NC 2.5 Lizenz</a></i></font> <br><br><h2>  Motivation </h2><br>  Wir beschäftigen uns mit Code Review (RC), um die Qualität des Codes zu verbessern, und möchten daher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Team- und Unternehmenskultur positiv beeinflussen.</a>  Zum Beispiel: <br><br><ul><li>  <b>Die Autoren des Kodex sind motiviert,</b> weil sie wissen, dass ihr Prüferteam ihre Änderungswünsche berücksichtigen wird: Der Autor versucht, die Rauheit zu beseitigen, den Aktionsplan zu befolgen und das gesamte Commit im Allgemeinen zu verbessern.  Wenn Kollegen Ihre Professionalität beim Schreiben von Code anerkennen, ist dies für viele Programmierer eine Gelegenheit, stolz auf sich zu sein. <br></li><li>  <b>Der Austausch von Wissen</b> hilft dem Entwicklungsteam auf verschiedene Weise: <br></li></ul><br>  - Im Rahmen des RK wird klar angegeben, welcher Teil der Funktionalität hinzugefügt / geändert / gelöscht wurde, damit sich die Teammitglieder in Zukunft auf die bereits geleistete Arbeit verlassen können. <br><br>  - Der Autor des Codes kann eine Technik oder einen Algorithmus verwenden, anhand derer die Prüfer selbst etwas lernen.  Insgesamt hilft eine Codeüberprüfung dabei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, die Messlatte für Qualität im gesamten Unternehmen höher zu legen</a> . <br><br>  - Die Prüfer wissen möglicherweise etwas über Programmiertechniken oder die Codebasis selbst, um die vorgenommenen Änderungen zu verbessern oder zu konsolidieren.  Zum Beispiel kann jemand gleichzeitig genau die gleiche Gelegenheit entwickeln oder modifizieren. <br><br>  - Positiver Kontakt und Kommunikation stärken die sozialen Bindungen zwischen den Teammitgliedern. <br><br><ul><li>  <b>Aufgrund der Konsistenz</b> in der Codebasis ist der Code selbst viel einfacher zu lesen und zu verstehen.  Es ist einfacher, Fehler zu vermeiden und die Zusammenarbeit zwischen etablierten und nomadischen Programmierern zu fördern. <br></li><li>  Für den Autor des Codes ist es schwierig, die <b>Lesbarkeit</b> seiner eigenen Kreation zu beurteilen, und der Rezensent ist einfach, weil er nicht sieht, in welchem ​​Kontext dieser Code steht.  Von Menschen lesbarer Code ist einfacher wiederzuverwenden, weist weniger Fehler auf und ist langlebiger. <br></li><li>  <b>Zufällige Fehler</b> (z. B. Tippfehler) sowie <b>strukturelle Fehler</b> (z. B. nicht ausführbarer Code, Fehler in Logik oder Algorithmen, Leistungs- und Architekturprobleme) sind für einen wählerischen Prüfer, der den Code von der Seite betrachtet, häufig viel einfacher zu erkennen.  Untersuchungen zufolge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wirkt sich</a> bereits eine kurze und inoffizielle Codeüberprüfung erheblich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf die Qualität des Codes und das Auftreten von Fehlern aus</a> . <br></li><li>  <b>Compliance-Anforderungen</b> und gesetzliche Rahmenbedingungen erfordern häufig obligatorische Überprüfungen.  Eine Codeüberprüfung ist eine gute Möglichkeit, um häufig auftretende Sicherheitsprobleme zu vermeiden.  Wenn die Sicherheitsanforderungen in dieser Umgebung oder in Bezug auf diese Gelegenheit erhöht werden, wird die Überprüfung von Satrapen der Regulierungsbehörden empfohlen (oder sogar angefordert) (ein gutes Beispiel ist der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OWASP-</a> Leitfaden). </li></ul><br><h2>  Worauf zu achten ist </h2><br>  Es gibt keine klare Antwort auf diese Frage, und jedes Entwicklungsteam muss sich auf seinen eigenen Ansatz einigen.  Einige Teams ziehen es vor, nach Änderungen am Hauptentwicklungszweig zu suchen, während andere den „Trivialitätsschwellenwert“ berücksichtigen, ab dem eine Überprüfung erforderlich ist.  In diesem Fall muss ein Gleichgewicht zwischen der effizienten Nutzung der Zeit des Programmierers (sowohl des Autors als auch des Codeprüfers) und der Aufrechterhaltung der Codequalität hergestellt werden.  In einigen strengen Kontexten ist es manchmal erforderlich, alles, auch die trivialsten Änderungen, im Code zu überprüfen. <br><br>  Die Regeln für die Codeüberprüfung sind für alle gleich: Selbst wenn Sie der älteste Entwickler im Team sind, bedeutet dies nicht, dass für Ihren Code keine Überprüfung erforderlich ist.  Selbst wenn (manchmal) der Code perfekt ist, eröffnet die Überprüfung Möglichkeiten für Mentoring und Zusammenarbeit und hilft zumindest dabei, die Codebasis aus verschiedenen Blickwinkeln zu betrachten. <br><br><h2>  Wann zu überprüfen </h2><br>  Eine Codeüberprüfung sollte nach erfolgreichem Abschluss der automatischen Überprüfungen (Tests, Ausführung, andere Phasen der kontinuierlichen Integration), jedoch vor der Zusammenführung des neuen Codes mit dem Haupt-Repository-Zweig erfolgen.  Normalerweise greifen wir nicht auf eine formelle Überprüfung der gesamten Änderungen zurück, die seit der letzten Veröffentlichung am Code vorgenommen wurden. <br><br>  Versuchen Sie bei komplexen Änderungen, die als einzelne Einheit zum Hauptzweig des Codes hinzugefügt werden sollten, aber so umfangreich sind, dass sie nicht in einer Prüfung behandelt werden können, eine schrittweise Überprüfung.  Wir erstellen das primäre Feature / Big-Feature-Zweig und eine Reihe von sekundären (z. B. Feature / Big-Feature-API, Feature / Big-Feature-Test usw.), von denen jedes eine Teilmenge der gemeinsamen Funktionalität und jeden solchen Zweig kapselt gegen den Hauptzweig von Feature / Big-Feature geprüft.  Nachdem alle sekundären Zweige zu Feature / Big-Feature zusammengeführt wurden, erstellen Sie eine Codeüberprüfung, um diese in den Hauptzweig einzufügen. <br><br><h2>  Code zur Überprüfung vorbereiten </h2><br>  Der Autor des Codes ist verpflichtet, den Code für die Überprüfung in verdaulicher Form bereitzustellen, um den Überprüfern keine zusätzliche Zeit zu nehmen und sie nicht zu demotivieren: <br><br><ul><li>  <b>Umfang und Größe</b> .  Änderungen sollten sich auf einen engen, genau definierten und autarken Bereich beziehen, der vollständig von der Überprüfung abgedeckt wird.  Beispielsweise können Änderungen im Zusammenhang mit der Implementierung einer Funktion oder einer Fehlerbehebung stehen.  Kurze Änderungen sind langen vorzuziehen.  Wenn die Überprüfung Material enthält, das Änderungen in mehr als ~ 5 Dateien enthält, oder die Aufzeichnung länger als 1-2 Tage dauert oder die Überprüfung selbst mehr als 20 Minuten dauern kann, versuchen Sie, das Material in mehrere in sich geschlossene Fragmente zu zerlegen und jedes einzeln zu überprüfen.  Ein Entwickler kann beispielsweise eine Änderung einreichen, die die API für eine neue Funktion in Bezug auf Schnittstellen und Dokumentation definiert, und dann eine zweite Änderung hinzufügen, die die Implementierungen für diese Schnittstellen beschreibt. <br></li><li>  Sie müssen nur <b>vollständige, unabhängig getestete</b> (diff verwenden) und <b>unabhängig getestete</b> Materialien senden.  Um dem Prüfer Zeit zu sparen, testen Sie die übermittelten Änderungen (d. H. Führen Sie die Testsuite aus) und stellen Sie sicher, dass der Code alle Assemblys sowie alle Tests und alle Phasen der Qualitätskontrolle sowohl lokal als auch auf Servern für die kontinuierliche Integration besteht, <i>und wählen Sie erst dann aus Rezensenten</i> . <br></li><li>  <b>Refactoring-Änderungen</b> sollten sich nicht auf das Verhalten auswirken und umgekehrt.  Änderungen, die sich auf das Verhalten auswirken, sollten keine Umgestaltung oder Neuformatierung des Codes beinhalten.  Dafür gibt es eine Reihe guter Gründe: <br></li></ul><br>  - Änderungen im Zusammenhang mit dem Refactoring wirken sich normalerweise auf viele Codezeilen in vielen Dateien aus. Daher wird dieser Code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nicht so sorgfältig geprüft</a> .  Ungeplante Verhaltensänderungen können in die Codebasis gelangen, und niemand wird es bemerken. <br><br>  - Wesentliche Änderungen im Zusammenhang mit Refactoring verletzen die Mechanismen der Bewegung, Auswahl und anderer "Magie", die mit der Quellcodeverwaltung verbunden sind.  Es ist sehr schwierig, eine solche Verhaltensänderung rückgängig zu machen, die nach Abschluss des Refactorings vorgenommen wurde, das das gesamte Repository abdeckte. <br><br>  - Die teure Arbeitszeit, die eine Person mit der Überprüfung von Code verbringt, sollte zur Überprüfung der Programmlogik und nicht zur Diskussion über Stil, Syntax oder Formatierung des Codes verwendet werden.  Wir bevorzugen es, solche Probleme mit automatisierten Tools zu lösen, insbesondere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Checkstyle</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TSLint</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Baseline</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prettier</a> usw. <br><br><h2>  Nachrichten festschreiben </h2><br>  Das Folgende ist ein Beispiel für eine kompetente Festschreibungsnachricht, die gemäß dem weit verbreiteten Standard entworfen wurde: <br><br><pre><code class="hljs 1c"> ( <span class="hljs-number"><span class="hljs-number">80</span></span> )    ,  , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .   <span class="hljs-number"><span class="hljs-number">72</span></span> .     <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     ,    —   .   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,       (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>   );     ,  rebase,    .  -   : « »,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> « »  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> « ».      -,  , ,  git merge  git revert.      .    .</code> </pre> <br>  Versuchen Sie, die während des Commits vorgenommenen Änderungen zu beschreiben und wie genau diese Änderungen vorgenommen werden: <br><br><pre> <code class="hljs 1c">&gt; . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .    . &gt; .  jcsv- <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    IntelliJ</code> </pre><br><h2>  Suche nach Rezensenten </h2><br>  Normalerweise sucht der Autor eines Commits nach einem oder zwei Reviewern, die mit der Codebasis vertraut sind.  In dieser Funktion sind häufig der Projektmanager oder der leitende Ingenieur tätig.  Es ist ratsam, dass der Projektbesitzer sein eigenes Projekt abonniert, um Benachrichtigungen über neue Codeüberprüfungen zu erhalten.  Bei Teilnahme von drei oder mehr Gutachtern erweist sich eine Codeüberprüfung häufig als unproduktiv oder kontraproduktiv, da verschiedene Gutachter möglicherweise widersprüchliche Änderungen vorschlagen.  Dies kann auf grundsätzliche Meinungsverschiedenheiten über die korrekte Implementierung hinweisen. Solche Probleme sollten nicht während der Codeüberprüfung gelöst werden, sondern bei einem erweiterten Meeting, an dem alle interessierten Parteien persönlich oder in einem Videokonferenzmodus teilnehmen. <br><br><h2>  Ausführung der Codeüberprüfung </h2><br>  Eine Codeüberprüfung ist ein Synchronisationspunkt zwischen verschiedenen Teammitgliedern, sodass möglicherweise die Arbeit eingestellt werden kann.  Daher sollte die Codeüberprüfung betriebsbereit sein (etwa mehrere Stunden, nicht Tage), und Teammitglieder und Führungskräfte sollten sich darüber im Klaren sein, wie viel Zeit für die Überprüfung erforderlich ist, und die ihr zugewiesene Zeit entsprechend priorisieren.  Wenn Sie den Eindruck haben, dass Sie keine Zeit haben, die Überprüfung rechtzeitig abzuschließen, teilen Sie dies dem Autor des Commits unverzüglich mit, damit er einen Ersatz für Sie finden kann. <br><br>  Die Überprüfung sollte ziemlich gründlich sein, damit der Prüfer die Änderung einem anderen Entwickler mit ausreichenden Details erklären kann.  Wir werden also sicherstellen, dass die Details der Codebasis mindestens zwei und nicht einem bekannt sind. <br><br>  Als Prüfer müssen Sie die Code-Qualitätsstandards einhalten und auf einem hohen Niveau halten.  Eine Codeüberprüfung ist eher eine Kunst als eine Wissenschaft.  Dies kann nur in der Praxis gelernt werden.  Ein erfahrener Prüfer sollte zuerst versuchen, weniger erfahrene Kollegen ändern zu lassen und sie als erste bewerten zu lassen.  Wenn der Autor die oben genannten Regeln befolgt hat (insbesondere diejenigen, die sich auf Selbsttests und vorläufige Codeausführung beziehen), sollte der Prüfer bei der Überprüfung Folgendes beachten: <br><br><h3>  Zweck </h3><br><ul><li>  <b>Erreicht der Code das vom Autor festgelegte Ziel?</b>  Jede Änderung muss einen bestimmten Grund haben (neue Funktion, Refactoring, Fehlerbehebung usw.).  Führt uns der vorgeschlagene Code wirklich zu diesem Ziel? <br></li><li>  <b>Fragen stellen.</b>  Funktionen und Klassen müssen begründet sein.  Wenn ihre Zuordnung zum Prüfer nicht klar ist, bedeutet dies möglicherweise, dass der Code neu geschrieben oder durch Kommentare oder Tests unterstützt werden sollte. <br></li></ul><br><h3>  Implementierung </h3><br><ul><li>  <b>Überlegen Sie, wie Sie dieses Problem lösen würden.</b>  Wenn nicht, warum dann?  Behandelt Ihr Code mehr (Grenz-) Fälle?  Vielleicht ist es kürzer / einfacher / sauberer / schneller / sicherer und funktionell nicht schlechter?  Vielleicht haben Sie eine tiefe Regelmäßigkeit festgestellt, die vom vorhandenen Code nicht abgedeckt wird? <br></li><li>  <b>Sehen Sie das Potenzial, nützliche Abstraktionen zu erstellen?</b>  Wenn der Code teilweise dupliziert wird, bedeutet dies häufig, dass ein abstrakteres oder allgemeineres Element der Funktion daraus extrahiert werden kann, das dann in anderen Kontexten wiederverwendet werden kann. <br></li><li>  <b>Denken Sie wie ein Gegner, bleiben Sie aber nett.</b>  Versuchen Sie, Autoren zu „fangen“, die Abstriche machen oder bestimmte Fälle verpassen, indem Sie problematische Konfigurationen / Eingabedaten auslösen, die ihren Code beschädigen. <br></li><li>  <b>Denken Sie an Bibliotheken oder vorgefertigten Arbeitscode.</b>  Wenn jemand die vorhandene Funktionalität erneut implementiert, liegt dies nicht nur daran, dass er nicht über die Existenz einer vorgefertigten Lösung Bescheid weiß.  Manchmal wird Code oder Funktionalität absichtlich neu erfunden - zum Beispiel, um Abhängigkeiten zu vermeiden.  In diesem Fall sollte dies im Code deutlich kommentiert werden.  Ist diese Funktionalität bereits in einer vorhandenen Bibliothek verfügbar? <br></li><li>  <b>Passt die Änderung zu den Standardmustern?</b>  In den vorhandenen Codebasen werden Regelmäßigkeiten häufig in Bezug auf Namenskonventionen, Zerlegung der Programmlogik, Definitionen von Datentypen usw. verfolgt.  Es ist normalerweise wünschenswert, dass alle Änderungen in Übereinstimmung mit vorhandenen Mustern implementiert werden. <br></li><li>  <b>Werden während einer Änderung Abhängigkeiten hinzugefügt, die während der Kompilierung oder zur Laufzeit (insbesondere zwischen Teilprojekten) auftreten?</b>  Wir bemühen uns um die schwache Kohärenz des Codes unserer Produkte, dh wir versuchen, ein Minimum an Abhängigkeiten zuzulassen.  Änderungen in Bezug auf Abhängigkeiten und das Build-System sollten besonders sorgfältig geprüft werden. <br></li></ul><br><h3>  Lesbarkeit und Stil </h3><br><ul><li>  <b>Überlegen Sie, wie Sie diesen Code lesen.</b>  Können Sie seine Konzepte schnell genug verstehen?  Ist es vernünftig angelegt, ist es einfach, die Namen von Variablen und Methoden im Auge zu behalten?  Kann ich Code über mehrere Dateien oder Funktionen verfolgen?  Wurden Sie jemals von inkonsistenten Namen gestört? <br></li><li>  <b>Entspricht der Code bekannten Programmier- und Stilrichtlinien?</b>  Bricht der Code nach Stil, API-Namenskonventionen usw. aus dem gesamten Projekt aus?  Wie oben erwähnt, versuchen wir, Stilstreitigkeiten mit automatischen Tools zu lösen. <br></li><li>  <b>Hat der Code Aufgabenlisten (TODOs)?</b>  Aufgabenlisten sammeln sich einfach im Code an und werden schließlich zu Ballast.  Weisen Sie den Autor zu, ein Ticket an GitHub Issues oder JIRA zu senden, und fügen Sie TODO eine Aufgabennummer hinzu.  Die vorgeschlagene Änderung sollte keinen kommentierten Code enthalten. <br></li></ul><br><h3>  Usability-Unterstützung </h3><br><ul><li>  <b>Lesen Sie die Tests.</b>  Wenn der Code keine Tests enthält, diese aber vorhanden sein sollten, bitten Sie den Autor, einige zu schreiben.  Wirklich ungetestete Features sind selten und nicht getestete Feature-Implementierungen - leider oft.  Überprüfen Sie die Tests selbst: Decken sie interessante Fälle ab?  Ist es bequem, sie zu lesen?  Verringert sich die Gesamttestabdeckung nach diesem Test?  Überlegen Sie, wie dieser Code fehlschlagen könnte.  Testdesignstandards und Kerncode unterscheiden sich häufig, aber auch Teststandards sind wichtig. <br></li><li>  <b>Besteht bei der Überprüfung dieses Fragments die Gefahr, dass Testcode, Einlaufcode oder Integrationstests beschädigt werden?</b>  Oft wird eine solche Überprüfung nicht vor dem Festschreiben / Zusammenführen durchgeführt, aber wenn solche Fälle vernachlässigt werden, leidet jeder.  Beachten Sie Folgendes: Löschen von Testdienstprogrammen oder -modi, Ändern der Konfiguration, Änderungen im Layout / in der Struktur des Artefakts. <br></li><li>  <b>Verstößt diese Änderung gegen die Abwärtskompatibilität?</b>  Wenn ja, ist es möglich, diese Änderung an der Version zu diesem Zeitpunkt vorzunehmen, oder sollte sie auf eine spätere Version verschoben werden?  Zu den Verstößen können Änderungen an der Datenbank oder ihrem Schema, Änderungen an öffentlichen APIs, Änderungen am Aufgabenablauf auf Benutzerebene usw. gehören. <br></li><li>  <b>Benötigt dieser Code Integrationstests?</b>  Manchmal kann der Code nur mit Komponententests nicht ordnungsgemäß überprüft werden, insbesondere wenn er mit externen Systemen oder Konfigurationen interagiert. <br></li><li>  <b>Hinterlassen Sie Feedback zur Dokumentation für diesen Code, Kommentare und Commit-Nachrichten.</b>  Umfangreiche Kommentare verstopfen den Code und bedeuten, dass Commit-Nachrichten diejenigen verwirren, die später mit dem Code arbeiten müssen.  Dies ist nicht immer der Fall, aber Qualitätskommentare und Commit-Nachrichten im Laufe der Zeit werden Ihnen sicherlich gute Dienste leisten.  (Denken Sie daran, als Sie einen wunderschönen oder nur schrecklichen Kommentar oder eine Commit-Nachricht gesehen haben.) <br></li><li>  <b>Wurde die externe Dokumentation aktualisiert?</b>  Wenn README, CHANGELOG oder andere Dokumentationen für Ihr Projekt verwaltet werden, werden sie aktualisiert, um die vorgenommenen Änderungen widerzuspiegeln?  Veraltete Dokumentationen sind möglicherweise schädlicher als gar keine und es wird teurer sein, Fehler in Zukunft zu beheben, als jetzt Änderungen vorzunehmen. <br></li></ul><br>  Vergessen Sie nicht, den prägnanten / lesbaren / effizienten / schönen Code zu loben.  Im Gegenteil, die Ablehnung oder Ablehnung eines zur Überprüfung vorgeschlagenen Codes ist nicht unhöflich.  Wenn die Änderung übermäßig oder unbedeutend ist, lehnen Sie sie ab und erläutern Sie den Grund.  Wenn Ihnen die Änderung aufgrund eines oder mehrerer schwerwiegender Fehler nicht akzeptabel erscheint, lehnen Sie sie erneut mit gutem Grund ab.  Manchmal ist das beste Ergebnis einer Codeüberprüfung, zu sagen: "Machen wir es ganz anders" oder "Lass es uns überhaupt nicht machen". <br><br>  Respekt Peer Review.  Obwohl die Position des Gegners solide ist, haben Sie diese Gelegenheit nicht erkannt und können nicht alles für ihn entscheiden.  Wenn Sie keine Peer-Review-Meinung zum Kodex erhalten können, vereinbaren Sie eine Echtzeit-Konsultation und hören Sie sich die Meinung einer dritten Person an. <br><br><h3>  Sicherheit </h3><br>  Stellen Sie sicher, dass alle API-Endpunkte gemäß den im Rest der Codebasis festgelegten Regeln ausreichend autorisiert und authentifiziert sind.  Suchen Sie nach anderen häufigen Fehlern, z. B. schwache Konfiguration, böswillige Benutzereingaben, fehlende Protokolleinträge usw.  Zeigen Sie im Zweifelsfall den von Experten geprüften Code einem Sicherheitsexperten. <br><br><h3>  Kommentare: prägnant, höflich, Anreiz </h3><br>  Die Überprüfung sollte präzise und neutral erfolgen.  Kritisieren Sie den Code, nicht den Autor.  Wenn etwas nicht klar ist - bitten Sie um Klarstellung und gehen Sie nicht davon aus, dass das Ganze in der Unwissenheit des Autors liegt.  Vermeiden Sie Possessivpronomen, insbesondere bei Werturteilen: " <i>Mein</i> Code hat vor <i>Ihren</i> Änderungen funktioniert", " <i>Ihre</i> Methode weist einen Fehler auf" usw.  Hacken Sie nicht die Schulter ab: "Es <i>wird überhaupt nicht</i> funktionieren", "Das Ergebnis ist <i>immer</i> falsch." <br><br>  Versuchen Sie, zwischen Empfehlungen (z. B. „Empfehlung: Extrahieren Sie die Methode, dies macht den Code klarer“), notwendigen Änderungen (z. B. „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Override hinzufügen</a> “) und Meinungen zu unterscheiden, die einer Klärung oder Diskussion bedürfen (z. B. „Stimmt dieses Verhalten? ? Wenn ja, fügen Sie bitte einen Kommentar hinzu, der die Logik erklärt. ”)  Versuchen Sie, Links oder Zeiger auf eine detaillierte Beschreibung des Problems zu setzen. <br><br>  Wenn Sie die Codeüberprüfung abgeschlossen haben, geben Sie an, wie detailliert die Reaktion auf Ihre Kommentare ist, die Sie vom Autor erwarten. Möchten Sie die Überprüfung wiederholen, nachdem die Änderungen vorgenommen wurden, z. B.: „Sie können den Code nach diesen geringfügigen Korrekturen sicher in den Hauptzweig hochladen“ oder „Bitte beachten Sie meine Kommentare und lass es mich wissen, wenn ich den Code wieder sehen kann. “ <br><br><h2>  Antwort überprüfen </h2><br>  Die Codeüberprüfung soll insbesondere die vom Autor vorgeschlagene Anforderung von Änderungen verbessern.  Nehmen Sie daher die Empfehlungen des Prüfers nicht in Frage, nehmen Sie sie ernst, auch wenn Sie ihnen nicht zustimmen.  Reagieren Sie auf jeden Kommentar, auch auf das übliche "ACK" (genehmigt) oder "erledigt" (erledigt).  Erklären Sie, warum Sie diese oder jene Entscheidung getroffen haben, warum Sie bestimmte Funktionen in Ihrem Code haben usw.  Wenn Sie mit dem Prüfer keine gemeinsame Meinung erzielen können, vereinbaren Sie eine Beratung in Echtzeit und hören Sie sich die Meinung eines externen Spezialisten an. <br><br>  Korrekturen sollten in derselben Verzweigung, jedoch in einem separaten Commit behoben werden.  Wenn Sie die Commits in der Überprüfungsphase zusammenhalten, ist es für den Überprüfer schwieriger, die Änderungen zu verfolgen. <br><br>  Die Code-Zusammenführungsrichtlinie ist für verschiedene Teams unterschiedlich.  In einigen Unternehmen vertraut das Zusammenführen von Code nur dem Projektbesitzer, in anderen kann ein Teilnehmer dies tun, nachdem sein Code überprüft und genehmigt wurde. <br><br><h3>  Überprüfung des Tête-à-Tête-Codes </h3><br>  Asynchrone diff-ähnliche Tools wie Reviewable, Gerrit oder GitHub eignen sich in der Regel hervorragend für Codeüberprüfungen.  Wenn es sich um eine komplexe Überprüfung oder eine Überprüfung handelt, deren Teilnehmer sich in Bezug auf Erfahrung oder Professionalität stark unterscheiden, kann es effektiver sein, eine Überprüfung persönlich durchzuführen - entweder zusammen vor einem Monitor oder Projektor oder remote über Videokonferenzen oder Tools zur Bildschirmfreigabe. <br><br><h2>  Beispiele </h2><br>  In den folgenden Beispielen werden Überprüfungskommentare in Listen mit eingegeben <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//R: ...</span></span></code> </pre> <br><br><h3>  Inkonsistente Benennung </h3><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyClass</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countTotalPageVisits; <span class="hljs-comment"><span class="hljs-comment">//R:    private int uniqueUsersCount; }</span></span></code> </pre><br><h3>  Inkonsistente Methodensignaturen </h3><br><pre> <code class="hljs php"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> Optional#empty},  s   . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Optional&lt;String&gt; extractString(String s); <span class="hljs-comment"><span class="hljs-comment">/**  null,  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s}   . */</span></span> <span class="hljs-comment"><span class="hljs-comment">//R:    :    // Optional&lt;&gt; public String rewriteString(String s); }</span></span></code> </pre><br><h3>  Bibliotheksnutzung </h3><br><pre> <code class="hljs vhdl">//R:     MapJoiner   Guava <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> joinAndConcatenate(<span class="hljs-keyword"><span class="hljs-keyword">Map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> keyValueSeparator, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> keySeparator);</code> </pre><br><h3>  Persönliche Vorlieben </h3><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dayCount; <span class="hljs-comment"><span class="hljs-comment">//R: :   numFoo   fooCount;   ,         </span></span></code> </pre><br><h3>  Bugs </h3><br><pre> <code class="hljs perl">//R:    numIterations+<span class="hljs-number"><span class="hljs-number">1</span></span> –    ? <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    –     numIterations? <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= numIterations; ++i) { ... }</code> </pre><br><h3>  Architektonische Überlegungen </h3><br><pre> <code class="hljs objectivec">otherService.call(); <span class="hljs-comment"><span class="hljs-comment">//R: ,      OtherService.    ?</span></span></code> </pre> <br>  <b>Über den Übersetzer</b> <br><br>  Der Artikel wurde von Alconost übersetzt. <br><br>  Alconost <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lokalisiert Spiele</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anwendungen und Websites</a> in 70 Sprachen.  Muttersprachliche Übersetzer, Sprachtests, Cloud-Plattform mit API, kontinuierliche Lokalisierung, Projektmanager rund um die Uhr, jedes Format von Zeichenfolgenressourcen. <br><br>  Wir machen auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Werbe- und Schulungsvideos</a> - für Websites, die verkaufen, Image, Werbung, Schulung, Teaser, Expliner, Trailer für Google Play und den App Store. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Weitere Details</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413589/">https://habr.com/ru/post/de413589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413579/index.html">Wir werden ein Wort zur Code-Zerlegung sagen: Kontext-Programmierung</a></li>
<li><a href="../de413581/index.html">Der langjährige Selbstentladungstest des legendären Eneloop</a></li>
<li><a href="../de413583/index.html">Ehemalige BeGet- und Reg.ru-Partner fordern voneinander eine Überprüfung</a></li>
<li><a href="../de413585/index.html">Hansen-Zusammenarbeit: entweder gut oder nichts (Teil 2)</a></li>
<li><a href="../de413587/index.html">Bewertung der Testabdeckung eines Java-Projekts am Beispiel von Apache Ignite</a></li>
<li><a href="../de413591/index.html">Industrierobotik - 57 Jahre! Erinnern Sie sich, woher die Zählung kommt</a></li>
<li><a href="../de413593/index.html">Weiter den Meeresboden erobern. Microsoft und sein Unterwasser-Rechenzentrumsprojekt Natick 2</a></li>
<li><a href="../de413597/index.html">"Last Resort" oder warum Database First Design benötigt wird</a></li>
<li><a href="../de413599/index.html">Es gibt S.L.O.N.a in Teilen. ITAM einführen und nicht ersticken</a></li>
<li><a href="../de413601/index.html">Erwärmt das Rechenzentrum von Microsoft das Meer?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>