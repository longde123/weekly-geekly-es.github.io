<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßöüèª ‚ò†Ô∏è üâë Verwendung einer Computer Vision zur Beurteilung des Fahrzeugzustands. Erleben Sie Yandex.Taxi ü§∑üèæ üèåÔ∏è üëå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir bem√ºhen uns sicherzustellen, dass nach der Bestellung eines Taxis beim Benutzer ein sauberes, wartungsf√§higes Auto der Marke, Farbe und Nummer, da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwendung einer Computer Vision zur Beurteilung des Fahrzeugzustands. Erleben Sie Yandex.Taxi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/433386/"><p><img src="https://habrastorage.org/webt/fj/jx/ga/fjjxga3k-xy5tpcg0rkrgz7o0ko.png"></p><br><p>  Wir bem√ºhen uns sicherzustellen, dass nach der Bestellung eines Taxis beim Benutzer ein sauberes, wartungsf√§higes Auto der Marke, Farbe und Nummer, das in der Anwendung angegeben ist, zum Benutzer kommt.  Und daf√ºr verwenden wir die Fernqualit√§tskontrolle (DCC). </p><br><p>  Heute werde ich den Lesern von Habr erkl√§ren, wie man maschinelles Lernen einsetzt, um die Kosten f√ºr die Qualit√§tskontrolle in einem schnell wachsenden Dienst mit Hunderttausenden von Maschinen zu senken und keine Maschine in Betrieb zu nehmen, die nicht den Regeln des Dienstes entspricht. </p><a name="habracut"></a><br><h2 id="kak-byl-ustroen-dkk-do-prihoda-mashinnogo-obucheniya">  Wie wurde DCC vor dem maschinellen Lernen arrangiert? </h2><br><p><img src="https://habrastorage.org/webt/re/rv/mp/rervmpracnjzpnt5ukbhuon6svu.png" alt="DCC-Prozessdiagramm"><br>  <em>DCC-Prozessdiagramm</em> </p><br><p>  Im DCC-Prozess √ºberpr√ºfen wir die Fotos des Autos und entscheiden, ob es m√∂glich ist, Auftr√§ge f√ºr ein solches Auto zu erf√ºllen, oder ob es beispielsweise vorher gewaschen werden sollte.  Alles beginnt damit, dass wir √ºber die Treiberanwendung Taximeter den Fahrer auf dem DCC anrufen.  Dies geschieht normalerweise alle 10 Tage, manchmal aber auch seltener oder √∂fter - je nachdem, wie erfolgreich der Fahrer die vorherigen Pr√ºfungen bestanden hat.  Unmittelbar nach einem Anruf beim DCC erh√§lt der Fahrer eine Nachricht, in der er aufgefordert wird, sich einer Fotokontrolle zu unterziehen.  Sobald der Fahrer die Einladung angenommen hat, fotografiert er im selben Antrag das √Ñu√üere und Innere des Autos aus verschiedenen Blickwinkeln und sendet Fotos an Yandex.Taxi.  Der Fahrer kann Bestellungen entgegennehmen, w√§hrend das DCC eingeschaltet ist. </p><br><p><img src="https://habrastorage.org/webt/8i/a_/ms/8ia_msgfqrv1nqyv2hht2nukckc.jpeg" alt="DCC-Startbildschirm in der Taxameter-Anwendung"><br>  <em>DCC-Startbildschirm in der Taxameter-Anwendung</em> </p><br><p><img src="https://habrastorage.org/webt/kn/xs/se/knxsse6hsxextcjmcwb4hrix2l8.jpeg" alt="Bildschirm zum Fotografieren eines Autos in der Taximeter-Anwendung"><br>  <em>Bildschirm zum Fotografieren eines Autos in der Taximeter-Anwendung</em> </p><br><p>  Die resultierenden Fotos fallen in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex.Toloka</a> - einen Dienst, mit dem Sie mithilfe von Crowdsourcing schnell einfache, aber umfangreiche Aufgaben ausf√ºhren k√∂nnen.  Wie es funktioniert und warum Yandex.Tolok ben√∂tigt wird, haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in unserem Blog geschrieben</a> . </p><br><p>  In Yandex.Tolok beantworten im Rahmen einer √úberpr√ºfung mindestens drei Darsteller Fragen zum Zustand des Fahrzeugs. Wenn sich die Darsteller auf der Grundlage ihrer Antworten einig sind, wird entschieden, ob der Fahrer Bestellungen annehmen kann.  Schecks in Yandex.Tolok haben zwei Ergebnisse: </p><br><ul><li>  Wenn optisch alles in Ordnung mit dem Auto ist, nimmt der Fahrer weiterhin Bestellungen entgegen. </li><li>  Wenn das Auto verschmutzt, besch√§digt ist oder Marke, Farbe oder Nummer nicht mit den Angaben auf der Fahrerkarte √ºbereinstimmen, schr√§nkt Yandex.Taxi vor√ºbergehend die F√§higkeit des Fahrers ein, Bestellungen anzunehmen. </li></ul><br><p>  Wenn sich die Darsteller nicht einig sind, werden die Fotos an die Mitarbeiter von Yandex.Taxi gesendet - Gutachter, die das Auto gr√ºndlicher pr√ºfen und dann die endg√ºltige Entscheidung treffen.  Die Pr√ºfer absolvieren ein spezielles Schulungsprogramm und haben mehr Erfahrung. </p><br><p><img src="https://habrastorage.org/webt/2z/rh/sb/2zrhsbkynehbelrcuyv_t106tg0.png" alt="So sieht der DCC-Testamentsvollstrecker Yandex.Tolki"><br>  <em>So sieht der DCC-Testamentsvollstrecker Yandex.Tolki</em> </p><br><h2 id="zadacha">  Herausforderung </h2><br><p> Mit dem Wachstum von Yandex.Taxi steigt auch die Anzahl der DCC-Inspektionen, was bedeutet, dass die Kosten f√ºr Tolker und Gutachter steigen.  Au√üerdem sinkt die Geschwindigkeit, mit der das Auto √ºberpr√ºft wird.  W√§hrend des DCC k√∂nnen Sie den Fahrern entweder erlauben, Bestellungen anzunehmen, oder nicht.  Beide Optionen haben ihre Nachteile: Im ersten Fall hat ein skrupelloser Fahrer Zeit, mehrere Bestellungen f√ºr ein Auto anzunehmen, das nicht den Standards entspricht. Im zweiten Fall k√∂nnen alle Fahrer, die eine Fotokontrolle ben√∂tigen, erst nach Abschluss der Pr√ºfung arbeiten.  Daher ist es wichtig, Autos schnell zu √ºberpr√ºfen, damit sowohl Benutzer als auch Fahrer keine Unannehmlichkeiten haben. </p><br><p>  Als wir beobachteten, wie die Diagramme der Kosten und der durchschnittlichen Inspektionszeit wachsen, haben wir erkannt, dass wir die Kosten f√ºr Toloka senken, Gutachter entladen und die durchschnittliche Inspektionszeit reduzieren m√∂chten, mit anderen Worten, um einen Teil der Inspektionen zu automatisieren.  Nat√ºrlich wollten wir nicht auf die Servicequalit√§t verzichten und mehr Autos verpassen, die nicht den Qualit√§tsstandards f√ºr die Linie entsprachen, und wir wollten auch die Annahme von Bestellungen durch gutgl√§ubige Fahrer nicht einschr√§nken.  Wir mussten das DCC automatisieren und gleichzeitig den Fehleranteil am gesamten √úberpr√ºfungsfluss nicht erh√∂hen. </p><br><h2 id="kak-my-vnedryali-mashinnoe-obuchenie-v-dkk">  Wie wir maschinelles Lernen bei DCC implementiert haben </h2><br><p><img src="https://habrastorage.org/webt/bl/dg/nh/bldgnho9csjdpoyfny5mad6mocu.png" alt="DCC-Prozessdiagramm mit ML im Inneren"><br>  <em>DCC-Prozessdiagramm mit ML im Inneren</em> </p><br><p>  Zun√§chst haben wir uns f√ºr die Problemstellung entschieden: So viele √úberpr√ºfungen wie m√∂glich zu automatisieren, ohne die Fehlerrate im Gesamtfluss zu erh√∂hen. </p><br><p>  Lassen Sie uns herausfinden, welche Fehler in unserer Aufgabe liegen.  Sie kommen in zwei Formen vor: <strong>falsch positiv</strong> und <strong>falsch negativ</strong> .  In unserer Terminologie ist <strong>negativ</strong> das Ergebnis einer Pr√ºfung, mit der der Fahrer weiterarbeiten kann, und <strong>positiv</strong> ist das Ergebnis, das eine zeitliche Begrenzung f√ºr den Eingang von Bestellungen vorsieht.  Dann ist <strong>falsch negativ</strong> ein Fall, in dem wir gezwungen waren, einem Fahrer mit einem schlechten Auto zu erlauben, Befehle entgegenzunehmen, und <strong>falsch positiv</strong> - im Gegenteil, als wir einem Fahrer nicht erlaubten, mit einem Auto zu arbeiten, das in Ordnung ist.  Es stellt sich heraus, dass die False Negative Rate (FNR) der Anteil der Fahrer mit ‚Äûschlechten‚Äú Autos ist, mit denen wir Bestellungen annehmen durften, und die False Positive Rate (FPR) der Prozentsatz der Fahrer, mit denen wir nicht arbeiten durften, obwohl sie mit Autos in Ordnung sind.  Seit der Einf√ºhrung des maschinellen Lernens in das System wollten wir daher Folgendes: Automatisieren Sie so viele √úberpr√ºfungen wie m√∂glich, ohne die FPR und FNR im Vergleich zu einem System ohne maschinelles Lernen zu erh√∂hen. </p><br><p>  Dar√ºber hinaus musste verstanden werden, an welchen Metriken bei der Auswahl von Modellen und Schwellenwerten f√ºr Entscheidungen auf der Grundlage ihrer Vorhersagen zu orientieren ist.  Aus den Bedingungen des Problems geht hervor, dass wir an drei Gr√∂√üen interessiert sind: </p><br><ul><li>  Der Bruchteil des Threads, den Modelle f√ºr maschinelles Lernen automatisch beantworten k√∂nnen. </li><li>  FNR-Systeme. </li><li>  FPR-Systeme. </li></ul><br><p>  Wir maximieren den ersten Wert und beachten dabei die Einschr√§nkungen f√ºr den zweiten und dritten. </p><br><p>  Dies kann die Frage aufwerfen: Warum nicht die Einsparung von Geld maximieren oder die durchschnittliche Scanzeit direkt minimieren und nicht durch den Anteil automatisierter √úberpr√ºfungen?  Geldoptimierung ist eine sehr attraktive Idee, aber normalerweise schwer umzusetzen.  In unserem Fall bestehen die Einsparungen aus zwei Faktoren: Der erste ist die Einsparung aus jedem automatisierten Scheck, da jeder Scheck bei Assessoren oder in Yandex.Tolok Geld kostet;  Das zweite Problem ist die Reduzierung der Fehleranzahl, da jeder Fehler Yandex.Taxi-Geld kostet.  Die objektive Berechnung der Kosten f√ºr Fehler ist eine sehr schwierige Aufgabe. Daher beschr√§nken wir uns darauf, Einsparungen nur anhand des ersten Faktors zu berechnen.  Dieser Wert erh√∂ht sich monoton im Anteil der automatisierten Pr√ºfungen, so dass dieser Anteil maximiert werden kann, anstatt zu sparen.  Die gleiche √úberlegung gilt f√ºr die durchschnittliche DCC-Zeit, sie nimmt auch entsprechend dem Anteil der automatisierten √úberpr√ºfungen monoton ab. </p><br><h2 id="vybor-modeli">  Modellauswahl </h2><br><p>  Wir k√∂nnen sagen, dass die DCC-Pr√ºfung auf die Auswahl von Antwortoptionen f√ºr eine Reihe von Fragen zum Zustand des Autos auf den Fotos reduziert ist, und dies klingt nach einer Bildklassifizierungsaufgabe.  Solche Aufgaben werden durch Computer Vision gel√∂st und in unserer Zeit - ein spezifisches Werkzeug, Faltungs-Neuronale Netze.  Wir haben uns entschieden, sie f√ºr die DCC-Automatisierung zu verwenden. </p><br><h2 id="pervyy-variant-resheniya-ili-podhod-vsyo-i-srazu">  Die erste L√∂sung oder "alles auf einmal" Ansatz </h2><br><p>  Nachdem wir verstanden haben, was zu optimieren ist und warum, ist es an der Zeit, Daten zu sammeln und Modelle darauf zu trainieren.  Das Sammeln von Daten war einfach, da alle DCC-Pr√ºfungen protokolliert und in einer praktischen Form gespeichert werden.  In der ersten Version der L√∂sung wurden die Fotos von au√üen und innen des Fahrzeugs aus vier Winkeln, Marke, Modell und Farbe des Fahrzeugs sowie die Ergebnisse von 10 fr√ºheren DCC-Inspektionen als Zeichen verwendet.  Als Zielvariablen haben wir die Antworten auf alle √úberpr√ºfungsfragen verwendet, zum Beispiel: "Ist das Auto besch√§digt?"  oder "Stimmt die Farbe des Autos mit der auf der Fahrerkarte √ºberein?"  Die Hauptzielvariable war die Antwort auf die Hauptfrage: "Ist es notwendig, die F√§higkeit des Fahrers, Bestellungen entgegenzunehmen, einzuschr√§nken?"  Wir haben einem gro√üen Modell, das VGG mit SENet-Aufmerksamkeit sehr √§hnlich ist, beigebracht, alle Fragen gleichzeitig zu beantworten, und als Ergebnis sind wir auf mehrere Probleme gesto√üen. </p><br><p><img src="https://habrastorage.org/webt/ok/fh/dd/okfhdd-nljexwvmukz7k_je8gpq.png" alt="All-in-One-Ansatz"><br>  <em>All-in-One-Ansatz</em> </p><br><p>  Probleme des "Alles auf einmal" -Ansatzes: </p><br><ol><li>  Wir konnten die Frage nach der √úbereinstimmung der Fahrzeugnummer auf dem Foto auf der Fahrerkarte nicht beantworten.  Ein gro√ües Netzwerk zur Klassifizierung von Bildern konnte diese Aufgabe nicht bew√§ltigen. Dazu ben√∂tigen wir ein spezielles OCR-Modell (Optical Character Recognition), das zur Erkennung von Nummernschildern gesch√§rft wurde. </li><li>  Die Zielvariable war unvollst√§ndig und verrauscht.  Als die Pr√ºfer einen schwerwiegenden Fehler im Erscheinungsbild des Autos fanden, der ausreichte, um eine Entscheidung zu treffen, verga√üen sie oft, andere Fragen zu beantworten.  Wenn also das Auto auf dem Foto sowohl schmutzig als auch kaputt war, haben wir mit hoher Wahrscheinlichkeit nur eine der Markierungen beobachtet: "schmutziges Auto" oder "Auto mit Besch√§digung", w√§hrend beide Modelle f√ºr unser Modell ben√∂tigt wurden. </li><li>  Es gab keine Interpretierbarkeit der Modelll√∂sung.  Das Modell k√∂nnte die Haupt√ºberpr√ºfungsfrage mit einer Genauigkeit beantworten, die h√∂her als zuf√§llig ist, aber diese Antwort korrelierte schwach mit den Antworten auf andere Fragen.  Mit anderen Worten, wenn die Antwort lautete: ‚ÄûEs ist notwendig, die F√§higkeit zur Annahme von Bestellungen einzuschr√§nken‚Äú, haben wir den Grund f√ºr eine solche Entscheidung in den verbleibenden Antworten des Modells fast nie gesehen.  Im Allgemeinen war die Genauigkeit der Antworten auf alle Fragen mit Ausnahme der Hauptfrage nahezu zuf√§llig.  Wir konnten dem Fahrer nicht erkl√§ren, was genau repariert werden musste, um Bestellungen wieder entgegenzunehmen, was bedeutet, dass wir die F√§higkeit des Fahrers, Bestellungen entgegenzunehmen, nicht einschr√§nken konnten. </li><li>  Die Anzahl der falsch negativen Fehler in der Antwort auf die Frage: "Ist es notwendig, die F√§higkeit des Fahrers, Bestellungen entgegenzunehmen, einzuschr√§nken?"  - war zu gro√ü, um Schecks automatisch zu genehmigen.  Wir konnten nicht das gleiche FNR wie in einem System bereitstellen, das ohne maschinelles Lernen l√§uft, und dies war eine der Anforderungen in unserer Aufgabe. </li></ol><br><p>  Zusammen haben diese vier Gr√ºnde es uns nicht erm√∂glicht, die erste L√∂sung in die Praxis umzusetzen, aber wir haben nicht den Mut verloren und die zweite gefunden. </p><br><h2 id="vtoroy-variant-resheniya-ili-podhod-vsyo-no-postepenno">  Die zweite L√∂sung oder der Ansatz ‚Äûalles andere als allm√§hlich‚Äú </h2><br><p>  Wir haben uns entschlossen, das √Ñu√üere des Autos zu √ºberpr√ºfen, da diese etwa 70% des Gesamtdurchflusses ausmachen.  Dar√ºber hinaus haben wir beschlossen, die allgemeine Aufgabe in Unteraufgaben zu unterteilen und zu lernen, wie alle DCC-Fragen separat beantwortet werden. </p><br><p><img src="https://habrastorage.org/webt/6o/ag/tz/6oagtzosm68yrl1j37aala7aw8i.png" alt="N√§here dich &quot;alles, aber allm√§hlich&quot;"><br>  <em>N√§here dich "alles, aber allm√§hlich"</em> </p><br><p>  Es war einmal, dass unser Service bereits mit der DCC-Automatisierung befasst war und es gelang, ein Modell einzuf√ºhren, mit dem Sie dunkle und irrelevante Fotos filtern k√∂nnen.  Wir haben dieses Modell weiter verwendet, um die Frage zu beantworten: ‚ÄûSind die folgenden echten Fotos des Autos vorhanden: vorne, links, rechts, hinten?‚Äú. </p><br><p>  Unsere Arbeit an der zweiten L√∂sung begann mit der Tatsache, dass wir das Yandex. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Search</a> Computer Vision-Servicemodell (von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">genau</a> den Leuten, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeepHD</a> hergestellt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">haben</a> ) verwendet haben, um Nummernschilder an Autos zu erkennen.  So konnten wir die Frage beantworten: "Entsprechen Nummer und Code der Region des Autos vollst√§ndig den Angaben auf der Fahrerkarte?"  Wenn wir genauer dar√ºber sprechen, haben wir das Erkennungsergebnis mit der auf der Fahrerkarte angegebenen Nummer verglichen und je nach Levenshtein-Abstand zwischen ihnen eine der Antwortoptionen gew√§hlt: "Die Nummer stimmt √ºberein", "Die Nummer stimmt nicht √ºberein" oder "Die Frage kann nicht genau beantwortet werden". </p><br><p>  Als n√§chstes haben wir Fahrzeugklassifizierer geschult, um Marken und Modelle sowie Farben zu erkennen.  Von diesem Moment an konnten wir die Frage beantworten: "Sind Marke, Modell und Farbe des Autos auf der Fahrerkarte angegeben?" </p><br><p>  Zusammenfassend haben wir Klassifikatoren geschult, um besch√§digte und schmutzige Autos zu finden. Dadurch konnten wir die Fragen schlie√üen: ‚ÄûGibt es Sch√§den oder M√§ngel an der Karosserie?‚Äú  und "Wie schmutzig ist die Karosserie?" </p><br><p>  Der Ansatz ‚Äûalles andere als allm√§hlich‚Äú erm√∂glichte es uns, das Problem der √úberpr√ºfung des Kennzeichens eines Autos zu l√∂sen.  Wir konnten auch die Unvollst√§ndigkeit und das Rauschen der Zielvariablen beseitigen, da wir nun eine Auswahl hatten, bei der negative Klassenobjekte vollst√§ndig erfolgreich √ºberpr√ºft wurden, und positive Klassenobjekte, bei denen der Pr√ºfer oder alle drei Yandex.Tolki-Testamentsvollstrecker einen bestimmten Fehler fanden, beispielsweise eine Besch√§digung des Falls .  Nachdem wir die ersten beiden Probleme gel√∂st hatten, wurden unsere Modelle interpretierbar, und wir konnten dem Fahrer den Grund f√ºr die Einschr√§nkung erkl√§ren, damit er beim n√§chsten Test die Fehler korrigieren konnte.  Die Gesamtqualit√§t der Antworten auf Fragen hat ebenfalls erheblich zugenommen, und FPR und FNR f√ºr einige Kombinationen von Modellvertrauensschwellen sind auf das Yandex.Tolki-Niveau gefallen, wodurch die Modelle in die Produktion eingef√ºhrt werden konnten. </p><br><h2 id="vnedrenie-v-prodakshn">  Implementierung in der Produktion </h2><br><p>  Wir hatten die Wahl: einen regul√§ren Prozess zu starten, der die Modelle auf die in der Warteschlange gesammelten Schecks anwendet, oder einen separaten Dienst zu erstellen, bei dem Sie √ºber die API Modellantworten in Echtzeit erhalten k√∂nnen.  Da es f√ºr uns wichtig ist, schnell ‚Äûschlechte‚Äú Autos zu finden, haben wir uns f√ºr die zweite Option entschieden.  Sobald der Hauptteil des Dienstes geschrieben wurde und die erforderlichen Funktionen unterst√ºtzt werden konnten, haben wir begonnen, Modelle hinzuzuf√ºgen. </p><br><p>  Um die Pr√ºfung vollst√§ndig zu genehmigen, m√ºssen Sie in der Lage sein, alle Fragen der Anweisung zu beantworten. Um jedoch den skrupellosen Zugriff der Fahrer auf den Dienst einzuschr√§nken, reicht es in einigen F√§llen aus, mindestens eine Frage beantworten zu k√∂nnen.  Aus diesem Grund haben wir uns entschlossen, nicht zu warten, bis alle Modelle fertig sind, sondern sie hinzuzuf√ºgen, sobald sie verf√ºgbar sind.  Eine verallgemeinerte Pipeline zum Hinzuf√ºgen eines Modells sieht folgenderma√üen aus: </p><br><ol><li>  Sammeln Sie die Probe. </li><li>  Trainiere das Modell. </li><li>  Messen Sie die Qualit√§t und w√§hlen Sie die Schwellenwerte offline. </li><li>  F√ºgen Sie dem Service im Hintergrund ein Modell hinzu und messen Sie die Qualit√§t online. </li><li>  Nehmen Sie das Modell in die Produktion auf und treffen Sie Entscheidungen auf der Grundlage seiner Vorhersagen. </li></ol><br><p>  Dieser Ansatz erm√∂glichte es uns, nicht nur sofort mehr und mehr ‚Äûschlechte‚Äú Autos zu finden, wenn neue Modelle eingef√ºhrt wurden, sondern auch die Qualit√§t online ohne zus√§tzliche Zeitkosten zu messen, w√§hrend die Modelle im Hintergrund arbeiteten. </p><br><p>  Am Ende kam der Moment, als wir den Service erweiterten und das neueste Modell testeten.  Jetzt konnten wir alle Fragen der Inspektionen beantworten, was bedeutet, dass sie automatisch genehmigt werden.  Da es in Yandex.Taxi viel mehr ‚Äûgute‚Äú Autos als ‚Äûschlechte‚Äú gibt, hat die automatische Genehmigung von Inspektionen zu einem starken Anstieg unserer Hauptmetrik gef√ºhrt - einem Teil des Stroms automatisierter Inspektionen.  Wir konnten nur die richtigen Schwellenwerte ausw√§hlen, die den Anteil automatisierter √úberpr√ºfungen maximieren und gleichzeitig den Gesamt-FPR und den FNR des gesamten Systems auf demselben Niveau halten.  Zur Auswahl der Schwellenwerte haben wir eine Stichprobe verwendet, die unabh√§ngig von Yandex.Tolki-Testamentsvollstreckern, Assessoren und einem Yandex.Taxi-Mitarbeiter markiert wurde, der Assessoren f√ºr die √úberpr√ºfung von Autos geschult hat.  Wir haben das Markup als die wahren Werte der Zielvariablen verwendet. </p><br><h2 id="rezultaty">  Ergebnisse </h2><br><p>  Sobald wir Modelle in die Produktion aufgenommen hatten, war es notwendig, die Online-Qualit√§t der getroffenen Entscheidungen anhand ihrer Antworten zu messen.  Und hier sind die Zahlen, die wir gesehen haben: </p><br><ul><li>  30% der Fahrzeugau√üenkontrollen erhielten jetzt eine automatische Antwort. </li><li>  FNR blieb auf dem gleichen Niveau, w√§hrend FPR fiel, und wir begannen, den Zugang zu dem Dienst weniger h√§ufig auf diejenigen zu beschr√§nken, die ihn nicht verdienten. </li><li>  Die Belastung der Pr√ºfer verringerte sich um 14%, und sie konnten mehr Zeit f√ºr komplexe Tests aufwenden, die der maschinelle Lerndienst nicht √ºbernehmen konnte. </li><li>  Die Erkennungszeit f√ºr Fahrzeuge mit schwerwiegenden Fehlern w√§hrend der Inspektion wurde von einigen Stunden auf einige Sekunden reduziert. </li></ul><br><p>  Die Einf√ºhrung des maschinellen Lernens half nicht nur, Geld zu sparen, sondern machte den Dienst auch sicherer und komfortabler f√ºr die Benutzer.  Dies ist jedoch noch lange nicht das Ende der Geschichte.  Unser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schnell wachsendes</a> Team wird weiterhin aktiv daran arbeiten, noch mehr √úberpr√ºfungen zu automatisieren und Yandex.Taxi noch komfortabler, komfortabler und sicherer zu machen. </p><br><h2 id="moral-istorii">  Moral der Geschichte </h2><br><p>  Bei der Arbeit an der DCC-Automatisierung in Yandex.Taxi sind wir auf viele Probleme gesto√üen, haben mehrere erfolgreiche L√∂sungen gefunden und sechs wichtige Schlussfolgerungen gezogen: </p><br><ol><li>  Es ist nicht immer m√∂glich, das Problem direkt zu l√∂sen (selbst wenn Sie Deep Learning haben). </li><li>  Das Modell ist so gut wie die Daten, auf denen es trainiert wurde (klingt kitschig, ist es aber). </li><li>  Bei der L√∂sung eines Problems ist es wichtig, auf den tats√§chlichen Anforderungen des Unternehmens aufzubauen und nicht auf der Minimierung der Cross-Entropie. </li><li>  Bei der L√∂sung einiger Probleme sind die Menschen trotz der Einf√ºhrung des maschinellen Lernens immer noch wichtig (Hallo, Yandex.Toloka!). </li><li>  Entscheidungen, die auf Vorhersagen von Modellen f√ºr maschinelles Lernen basieren, k√∂nnen m√∂glicherweise nicht in allen F√§llen getroffen werden, sondern nur in dem Teil, in dem die Modelle sehr sicher in ihren Antworten sind.  In anderen F√§llen lohnt es sich wahrscheinlich, Entscheidungen auf die alte Art und Weise zu treffen - mit Hilfe von Menschen. </li><li>  Neben der Wahl der Architektur und der Modellschulung gibt es viele weitere Phasen des Projekts, die einen gro√üen Einfluss darauf haben k√∂nnen, wie gut ein Gesch√§ftsproblem gel√∂st wird.  Diese Phasen sind: Datenerfassung, Auswahl von Qualit√§tsmetriken, Modellimplementierungsoptionen, Produktentscheidungslogik basierend auf Modellvorhersagen und vieles mehr. </li></ol><br><h2 id="eschyo-iz-interesnogo-pro-tehnologii-taksi">  Mehr von interessant √ºber Technologie Taxi </h2><br><ol><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dynamische Preisgestaltung oder wie Yandex.Taxi eine hohe Nachfrage vorhersagt</a> . </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie Yandex.Taxi die Lieferzeiten von Autos mithilfe von maschinellem Lernen vorhersagt</a> . </p><br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433386/">https://habr.com/ru/post/de433386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433376/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 21: Datenverfolgung, Teil 1</a></li>
<li><a href="../de433378/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 21: Datenverfolgung, Teil 2</a></li>
<li><a href="../de433380/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 21: Datenverfolgung, Teil 3</a></li>
<li><a href="../de433382/index.html">[Illustriert] Leitfaden zum Networking in Kubernetes. Teil 3</a></li>
<li><a href="../de433384/index.html">Unsere pers√∂nlichen Daten werden immer noch dreist verkauft</a></li>
<li><a href="../de433388/index.html">Formel-Fan oder warum wir Spiele spielen</a></li>
<li><a href="../de433390/index.html">Yandex hat sich dem Schutz von Linux und der IT-Branche vor Patenttrolling angeschlossen</a></li>
<li><a href="../de433392/index.html">Snom D725 IP-Telefon Bewertung</a></li>
<li><a href="../de433396/index.html">Frontend 2018: Ergebnisse des Jahres</a></li>
<li><a href="../de433398/index.html">Funktionales Denken. Teil 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>