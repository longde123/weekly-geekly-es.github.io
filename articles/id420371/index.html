<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ­ ğŸ˜ª ğŸ‘†ğŸ¼ Pada masalah konstruksi sepeda di bidang penyimpanan surat listrik ğŸ² ğŸ‘‹ğŸ» ğŸ˜µ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dengan kehendak saya, ada server email dalam perawatan saya. Kecil, ~ 20 pengguna. Ini bekerja secara stabil, tidak diinginkan untuk mengubah perangka...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pada masalah konstruksi sepeda di bidang penyimpanan surat listrik</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420371/">  Dengan kehendak saya, ada server email dalam perawatan saya.  Kecil, ~ 20 pengguna.  Ini bekerja secara stabil, tidak diinginkan untuk mengubah perangkat lunak.  Dan itu tidak perlu, tetapi begitu log cadangan mengisyaratkan dengan tegas - jika Anda melanjutkan dalam semangat yang sama, sepanjang malam akan pergi ke cadangan penuh.  Dan masalahnya ada di volume kotak surat pengguna. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/lg/ef/1elgefhundgzt-huf1mhs5fgj1u.jpeg"></div><a name="habracut"></a><br>  Masalahnya ditunjukkan, perlu dipecahkan.  Cara ke depan - untuk membeli besi lebih kuat - bukan tipeku, dan anggarannya bukan karet.  Opsi yang jelas: kuota.  Namun dalam praktiknya, ini tidak banyak membantu.  Sumpah "Aku membersihkan semuanya" setelah pemeriksaan lebih dekat berubah menjadi segel, gambar lucu dan arsip foto keluarga (dalam surat perusahaan, ya).  Dan jumlah jeritan "Saya memiliki cahaya yang mendesak tidak berfungsi, lakukan segera" meningkat dengan urutan besarnya.  Jadi tidak lama dan kehilangan kepercayaan pada orang. <br><br>  Untungnya, saya bukan psikolog, bukan pelatih atau mentor.  Bisnis saya adalah teknologi.  Jadi kita akan datang dari sisi teknis. <br><br>  Hal pertama yang saya pikirkan adalah pesan yang merusak diri sendiri.  Secara kasar, segala sesuatu tanpa tanda "penting" dihapus setelah N hari.  Untuk selera saya, itu harus "dijahit" ke dalam standar penyimpanan surat elektronik.  Tapi sejauh ini tidak, dan implementasinya bagi saya terlalu ambisius. <br><br>  Pikiran kedua adalah salinan.  Ketahui pesan-pesan ini di mana Anda bukan penerima utama.  Datang kepada Anda hanya untuk informasi.  Beberapa pesan ini dapat dihapus secara otomatis.  Tapi, tiba-tiba, di sini para pengguna dibagi menjadi dua kubu: "mereka semua membutuhkanmu apa" dan "apa itu."  Saya tidak menguasai algoritma penyortiran otomatis dengan kondisi seperti itu. <br><br>  Yah, jangan hapus, jadi salin!  Ambil semua salinan dan buat tautan simbolik.  Analisis cepat menunjukkan bahwa bahkan memproses hanya duplikat LENGKAP dengan cara ini menghemat TIGA repositori.  Tapi, tapi, tapi.  Sayangnya, ini adalah jalan buntu karena banyak keterbatasan teknis. <br><br><div class="spoiler">  <b class="spoiler_title">Detail untuk mereka yang tertarik di bawah spoiler</b> <div class="spoiler_text">  - tidak semua pengarsip memahami symlink; <br>  - Perangkat lunak server menjadi gila di beberapa tempat; <br>  - kompleksitas org.  karakter dan hak akses. <br></div></div><br>  Omong-omong, dalam pengaturan server mail dan cadangan umum, dan penyimpanan arsip untuk pengguna sangat sedikit.  Jadi ruang untuk manuver kecil. <br><br>  Apa yang tersisa  Dengan sedih aku melihat segel itu <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3_/lg/nh/3_lgnhen33bf-iilsfejxyfrpuo.jpeg"></div><br>  dan bertanya-tanya sudah jaringan saraf sederhana yang akan membersihkan email untuk pengguna.  Lalu ... Permisi, permisi, tapi apa yang dilakukan kucing dalam surat itu?  Saya ingat bahwa sebuah surat dengan lampiran beratnya hampir sepertiga lebih dari satu lampiran!  Tapi bisakah saya memindahkan lampiran? <br><br>  Maka dimulailah jalan di mana ada "banyak penemuan indah."  Jika saya tahu ... Yah, Anda mengerti.  Setetes ketidaktahuan dan keberanian menuntun kita menuju kemenangan! <br><br>  Jadi: kami melakukan <b>penyimpanan lampiran secara terpisah dari surat</b> . <br><br>  Kesalahan utama yang dapat Anda lakukan di sini adalah membuka file eml dalam editor teks dan memutuskan bahwa ada teks biasa.  Jadi saya lakukan.  Dan sangat senang.  Saat ini saya akan menulis file batch.  Utilitas baris perintah untuk mengekstraksi lampiran lengkap: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/erikvdv1/eml-attachments</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/maiken2051/uudeview</a> , begitu saja.  Ada masalah dengan pengkodean, tetapi ini bukan hal yang paling penting. <br><br>  Yang paling penting: mengeluarkan file dan membuat tautan ke sana adalah hal yang sepele.  Tetapi untuk mendorong tautan ini ke huruf aslinya ... Karena tidak ada teks.  Ada <b>MIME</b> . <br><br>  Pembaca yang berpengalaman, tentu saja, tertawa kecil pada penulis yang malang itu.  Penulis, bagaimanapun, menemukan kesenangan dari "standar".  Hal terpenting yang saya mengerti: menerbangkan jamur agaric tidak diperlukan untuk jatuh menjadi mengamuk. <br><br><div class="spoiler">  <b class="spoiler_title">Contoh dan penyalahgunaan - di bawah spoiler:</b> <div class="spoiler_text"><br>  charset = utf-8 <br>  charset = "UTF-8" <br>  charset = "UTF-8" <br>  charset = UTF-8; <br>  charset = "UTF-8"; <br>  charset = "UTF-8"; <br>  Ini adalah satu hal yang sama. <br><br>  Garis terputus di tengah aliran Base64.  Dari mana mereka berasal masih merupakan misteri bagi saya. <br><br>  Dan sebaliknya: tidak adanya \ r \ n \ r \ n setelah bagian header. <br><br>  Di header itu sendiri, urutan bidang atas permintaan tumit kiri. <br><br>  Huruf yang lebih lama memungkinkan panjang garis tidak lebih dari 80 karakter, termasuk yang layanan. <br><br>  Mungkin ada jeda baris dalam nama file (di badan pesan, dan tidak dalam nama itu sendiri). <br><br>  Secara umum, jeda baris dapat di mana saja, terlepas dari kenyataan bahwa jeda baris standar dinyatakan sebagai akhir dari parameter saat ini. <br><br>  Teks surat itu sendiri dikodekan.  Bagaimana tepatnya itu dikodekan, tetap pada hati nurani server tertentu, ada banyak pilihan (bau). <br><br>  Dan, dalam surat itu hampir selalu ada bagian html.  Artinya, jika Anda mengirim "Halo" dan ada tag br atau p, maka dalam surat itu akan selalu ada DUA bagian: dengan teks sederhana dan dengan tag.  Dan teks digandakan.  Dan di sini mereka "menyelamatkan" daya komputasi ... Hanya beberapa kebun binatang dengan Frankenstein. <br><br>  Nama file yang mereka miliki adalah seperti ini: filename = "=? Encoding? Ketik?; Dan itu terjadi seperti ini: filename * 0 * = encoding '' (STA ?? !!). Yang kedua adalah standar yang lebih baru, RFC5987. Standar secara eksplisit menyatakan nama file itu * 0 * = ENC dan nama file = "=?  hal yang sama.  Di tempat ini, saya akhirnya menjadi yakin bahwa mereka mengejek saya.  Bagaimana bisa ditangani secara normal, saya tidak tahu. <br><br>  Secara terpisah, seperti biasa, Apple mencetak gol.  Mereka umumnya memiliki semacam standar sendiri.  Ke depan, upaya panjang untuk memproses kode mereka mengarah ke satu-satunya solusi yang benar: "Kesalahan: Apple mail tidak didukung." <br><br>  Thunderbird melakukannya.  Dengan kesedihan, saya naik ke sumbernya, tetapi saya tidak dapat menemukan bagian yang diperlukan dalam satu setengah gigabytes kode untuk campuran python dan dialek Jawa.  Membantu IRC mereka, di mana mereka dengan ramah memberi tahu saya ke mana harus mencari, tetapi masih tidak dapat menemukannya. <br></div></div><br>  Tapi dia tidak berkecil hati.  Jangan membaca dokumentasi @ tulis kode, dan Anda selesai.  Tidak, serius, saya harus melakukan sesuatu untuk mendekatkan akhir MIME. <br><br>  Script batch tidak cukup.  Hasilnya adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">utilitas baris perintah di C # dan dotNet</a> . <br><br>  Utilitas ini memiliki dua mode operasi: <br>  Pertama: cukup ekstrak lampirannya.  Pada saat yang sama, ini berfungsi dengan benar dengan penyandian untuk Windows. <br><br>  Kedua: dan di sini kesenangan utama.  Sekarang kita masih dapat menyimpan lampiran surat secara terpisah dari surat!  Utilitas <b>membuat surat baru alih-alih yang lama</b> : <b>lampiran dipotong, surat itu diformat ulang menjadi HTML biasa dengan pengkodean UTF</b> tanpa membatasi panjang baris.  Bagian teks / polos diambil sebagai dasarnya.  Jika ada tabel di bagian html, maka itu mentransfer mereka sambil mempertahankan format di dalam tabel, tetapi fungsi ini berfungsi begitu-begitu.  Di akhir teks surat saat ini (jika itu adalah jawaban atau penerusan), tautan ke sumber daya jaringan dimasukkan dengan jalur ke file yang diekstrak, dalam format file: /// dan ftp: //. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cad/324/3b7/cad3243b7a0c78597fddcc3f4162c563.png" alt="gambar"><br><br>  Sistem ini diuji pada 10.000+ huruf dan digunakan pada infrastruktur yang ada. <br><br>  <b>Keuntungan yang diidentifikasi:</b> <br>  + tadinya: <br><blockquote>  Cadangkan <br>  Itu dimulai pada 01:00:08 <br>  dan berhasil diselesaikan 03:26:32 <br></blockquote><br>  menjadi: <br><blockquote>  Cadangkan <br>  Itu dimulai pada 01:00:09 <br>  dan berhasil diselesaikan 01:40:36 <br></blockquote><br>  + Disimpan 30 +% dari penyimpanan: file-file pergi dari Base64 yang berat dan yang lain menyukainya ke format sistem file normal, ditambah banyak duplikat ditemukan bahkan di dalam kotak surat individual. <br><br>  + Kecepatan pemrosesan kotak surat oleh server dan program surat meningkat. <br><br>  + Menghilang â€œSaya membuka surat dari kantor pos, mengeditnya selama 10 jam dan itu tidak bertahanâ€ <br><br>  + Anda dapat menolak kuota. <br><br>  + Tetap mungkin untuk menemukan lampiran dalam surat, bukan hanya mentransfernya ke penyimpanan file. <br><br>  + Mendekati akhir MIME.  Bertobatlah, penulis! <br><br>  <b>Kekurangan keputusan:</b> <br><br>  - beberapa huruf (tetapi bukan lampiran) masih berdetak.  Pada dasarnya tidak secara internal, tetapi ketika dilihat di beberapa klien; <br>  - dalam ftp beberapa setan terus-menerus rusak; <br>  - tidak semua klien email mendukung pembukaan melalui file: /// <br><br>  <b>Masalah kontroversial:</b> <br><br>  ?  Surat Apple tidak didukung.  Bagi saya - dan Sang Buddha bersamanya; <br>  ?  Kocok huruf dengan pemformatan kompleks.  Biasanya ini adalah brosur dari Pemesanan atau iklan; <br>  ?  Jika server ftp berada pada port non-standar, maka mungkin ada masalah akses.  Diputuskan oleh bot email. <br><br>  Sedemikian rumitnya masalah itu terpecahkan. <br><br>  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420371/">https://habr.com/ru/post/id420371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420359/index.html">Var, biarkan atau const? Masalah Lingkup Variabel dan ES6</a></li>
<li><a href="../id420361/index.html">Bug saat menjalankan TextBox.GetLineText di .NET WPF</a></li>
<li><a href="../id420363/index.html">Webinar HPE pada Agustus-Oktober: topik baru (+ SHD, praktik AI, penyimpanan turnkey petabyte)</a></li>
<li><a href="../id420367/index.html">Kiamat ber-AC: skenario smart grid blackout</a></li>
<li><a href="../id420369/index.html">Extreme Extended Edge, atau Switching IEEE 802.1BR</a></li>
<li><a href="../id420373/index.html">Hampir OCR untuk mendapatkan kata sandi VPNBook. PHP + Mikrotik</a></li>
<li><a href="../id420375/index.html">Pelajari OpenGL. Pelajaran 5.8 - Bloom</a></li>
<li><a href="../id420377/index.html">Bagaimana kami memulai panggilan video</a></li>
<li><a href="../id420381/index.html">Mengapa cukup untuk menganggap jaringan saraf sebagai kotak hitam?</a></li>
<li><a href="../id420383/index.html">"Yandex.Money tidak menarik minat Anda untuk memasukkan aplikasi Anda."</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>