<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🌾 ✂️ 👩🏻‍🔧 数据中心技术：QFX交换机的一般信息 🎪 🧜 🏀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文讨论了在数据中心中构建网络的基本原理，并提供了来自瞻博网络的硬件解决方案示例。 它没有进行深入的技术分析，但对于打算组织第一个小型数据中心或在现有数据中心中寻找替代解决方案和新机会的人员而言，它可能会很有用。 

 在数据中心中建立通信网络的主题如今已不是新鲜事物。 该区域目前正在快速发展，这对...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>数据中心技术：QFX交换机的一般信息</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nag/blog/411091/"><img src="https://habrastorage.org/webt/f4/s5/z7/f4s5z7kllfw2x8i2yj_q8azb8w0.jpeg"><br><br> 本文讨论了在数据中心中构建网络的基本原理，并提供了来自瞻博网络的硬件解决方案示例。 它没有进行深入的技术分析，但对于打算组织第一个小型数据中心或在现有数据中心中寻找替代解决方案和新机会的人员而言，它可能会很有用。 <br><a name="habracut"></a><br> 在数据中心中建立通信网络的主题如今已不是新鲜事物。 该区域目前正在快速发展，这对于信息存储的需求不断增长以及服务和技术向“云”的大规模迁移是有道理的。 <br><br> 在这方面，数据中心对数据网络的需求每天都在增加。 这迫使人类开发用于网络管理，流量处理和设备操作的新技术。 优化现有解决方案，当然可以减轻人力资源负担，以消除与人为因素相关的错误。 <br><br> 一个重要的变化是数据中心的流量方向-如果以前较大的流量是从底部到顶部垂直传输，则是从服务器到外部，现在情况完全不同了，现在服务器之间相互通信，彼此之间传输大量信息，从而改变了流量比例有利于“水平”交换的流量。 <br><br>  1953年，数学家Charles Klose解决了优化用于电报网络的网络连接的问题。  “每个都有”的连接方法是多余的，需要大量资源来实施。 克洛泽的想法是按照三个层次的方案建立一个网络。 入口-中级-出口。 在此方案中，物理连接的数量急剧减少，但是整体网络性能足以运行。 <br><br><img src="https://habrastorage.org/webt/ct/mh/gg/ctmhggpfq50gx60i2uvyozg_5js.jpeg"><br><br> 相同的原则被用作在数据中心中建立数据传输网络的基础。 唯一的变化是，“输入”和“输出”级别被合并为一个级别，因为服务器既是信息源，又是其使用者。 最后，我们根据Spine-Leaf的原理得到了一个网络连接方案。 <br><br><img src="https://habrastorage.org/webt/hr/uw/wg/hruwwgrgvw7qtkd0jan9ishh0sy.gif"><br>  <i>Spine-叶子网络连接图</i> <br><br> 该计划是通过模拟自然界的植物而建立的。 叶-叶。 叶子附着在树干上。 脊柱-树干（或山脊）。 结果，我们得到了一个通用结构。 <br><br> 叶 数据中心服务器连接所在的访问级别设备。 这些是具有高端口密度的机架式顶部交换机。 从图中可以看到，所有Leaf设备都以单独的线路连接到每个Spine交换机。 这使您可以实现高水平的冗余和容错能力。 <br><br> 脊柱  “聚合”级设备通常是端口密度为25/40/50/100 Gbit / s的生产设备。 与Leaf相比，此设备的显着特征是支持的功能范围广泛，性能更高。 <br><br> 结果，我们得到了一种方案，其中流量通过Spine级别的设备流动。 如果将服务器，源服务器和接收器都连接到同一个Leaf交换机，则这种流量分配似乎不是最佳的。 这是正确的，在这种情况下，流量直接通过叶子交换机，而不会上升到更高的水平。 <br><br>  QFX是用于构建数据中心网络的一系列交换机。 <br><br><img src="https://habrastorage.org/webt/ff/uf/fj/ffuffjsqxhbvwcorupaztzuuleq.jpeg"><br><br> 缩写QFX没有任何逻辑含义，因此我们将不讨论这三个字母的含义。 该设备由瞻博网络开发和销售，瞻博网络是电信设备开发和制造的领先公司。 <br><br> 如今，任何具有自尊心的电信设备制造商，无论是Cisco，Arista，Extreme还是其他一些公司，都在处理数据中心的交换和路由问题。 <br><br> 可以与无需预装软件的设备一起使用或直接在服务器平台上使用的网络软件制造商占据了一个有趣的位置。 这个方向的发展是与电信设备制造商密切合作进行的，它们创造了新的产品和技术。 <br><br> 返回Juniper Networks QFX硬件。 整个系列旨在满足数据中心的需求。 编写软件时要考虑必要的功能，设备架构要考虑对容错和冗余的要求。 <br><br><img src="https://habrastorage.org/webt/ww/kc/yu/wwkcyupzbw37d0fqvxku25o-pvm.jpeg"><br><br> 数据中心的交换机系列由以下系列表示： <br><br><ul><li>  QFX51xx系列-叶级设备。 </li><li>  QFX52xx系列是既可以在叶子级别也可以在脊椎级别使用的设备。 </li><li>  QFX10k系列-脊柱水平设备。 </li></ul><br> 根据不同的系列，该设备基于Broadcom芯片或瞻博网络自身的开发。 一个选择和另一个选择都有其优点和缺点。 <br><br> 考虑QFX51xx-较旧的QFX5100，以及QFX5110的更新版本。 两种交换机均基于Broadcom Trident 2+，但版本不同。 结果，我们在交换机中的行为并不相同，当然，对软件功能和端口容量的支持也不同。 如前所述，此设备主要定位为叶子设备。 在小型数据中心中，可以将51xx系列用作Spine设备。 <br><br>  QFX51xx根据交流/直流，交流/交流，直流/直流方案支持电源冗余。 <br><br> 软件，设备是使用虚拟化机制构建的。 与其他系列公司交换机不同，Junos OS操作系统在设备上运行的KVM管理程序下作为虚拟机运行。 因此，该解决方案支持软件更新技术-TISSU。 在升级过程中，将创建其他Junos OS虚拟机，并且在它们之间进行切换时，服务中断最少。 <br><br><img src="https://habrastorage.org/webt/ss/bd/b3/ssbdb3hpdypt98zxpu4ovwbfrxw.jpeg"><br><br>  QFX5100建立在Trident 2+芯片的旧版本上，据我拙见，已经值得退休，而其哥哥QFX5110则被淘汰了。 <br><br>  QFX5100进行了多种修改： <br><br><ul><li>  QFX5100-48S-48端口SFP +交换机6个QSFP +端口 </li><li>  QFX5100-96S是具有8个QSFP +端口的96端口SFP +交换机。 </li><li>  QFX5100-24Q-24端口QSFP +交换机 </li><li>  QFX5100-48T-48端口10G BASE-T交换机6个QSFP +端口。 </li></ul><br>  QFX5110是51xx系列的更新型号，基于Trident 2+芯片的更新版本。 我认为，这是目前可用作Leaf设备的最佳Juniper解决方案。 <br><br>  QFX5110-51xx系列中的更新型号，基于Trident 2+芯片的更新版本 <br><br>  QFX5110有多个版本 <br><br><ul><li>  QFX5110-48S-48端口SFP + 4端口交换机QSFP28。 </li><li>  QFX5110-32Q是用于32个QSFP +端口或20个QSFP28端口的交换机。 </li></ul><br> 通常，人们可以注意到用于打开终端设备的10 Gb / s端口的密度很高，而100 Gb / s的“宽”上行链路端口密度很高，当5110型交换机满载时，可以将重新订购的上行链路级别提高到“ 1：1.2”。我认为这是一个很好的指标。 <br><br> 一个小的比较表： <br><br><img src="https://habrastorage.org/webt/mp/qr/-s/mpqr-sefbd8tqy6boje9mssrj-q.png"><br><br> 考虑QFX52xx系列。 该系列的设备以QFX5200和QFX5210两个型号为代表。 整个系列均基于第一代Broadcom战斧芯片。 这对解决方案的功能和性能施加了限制。 该系列被定位为小型数据中心的Spine设备，或者在需要连接25 Gb / s终端设备时定位为Leaf设备，这是由于QSFP28端口的密度很高，并且该设备基于Broadcom的商用芯片构建而成，功能有限。 <br><br>  QFX52xx支持根据AC / DC，AC / AC，DC / DC方案的电源冗余。 <br><br> 以上关于QFX51xx设备上软件操作的所有内容也适用于QFX52xx系列。  Junos OS操作系统的工作方式就像虚拟机一样，可以托管TISSU。 <br><br>  QFX5200有两种型号，一种是基于Broadcom战斧芯片的旧版QFX5200-32C，另一种是基于Broadcom战斧+芯片的QFX5200-48Y： <br><br><ul><li>  QFX5200-32C-32端口交换机QSFP28。 </li><li>  QFX5200-48Y-48端口SFP28交换机6个QSFP28端口。 </li></ul><br>  QFX5210由一个型号代表，实际上是两个QFX5200-32C开关，这给我们带来了相同的限制。 <br><br>  QFX5210-64C-QSFP28 64端口交换机 <br><br> 最后，我们以相对较低的成本获得了100 Gb / s的高端口密度，这使该设备成为中小型数据中心的良好Spine解决方案。 另外，我想指出一下设备允许以25 Gb / s的速度迁移Leaf级别的时刻 <br><br> 让我们继续QFX10k系列。 该系列的设备基于瞻博网络自己开发的Q5芯片，容量为500 Gb / s。 该芯片组具有连接外部存储器以存储RIB / FIB路由信息的能力。 这使您可以构建高性能的设备，并通过软件更新引入市场上出现的新功能。  QFX10k系列交换机旨在满足当前所有市场需求，可在Spine级别的大型数据中心中使用，以及在两个地理上隔开的数据中心之间建立链接-DCI-数据中心互连。 <br><br>  QFX10k开关提供固定和模块化设计。 <br><br><img src="https://habrastorage.org/webt/an/vc/rn/anvcrnyv2cgvdllyprp_q1b5kyu.jpeg"><br><br>  QFX10002是2RU固定模式开关。 该系列包括几种型号： <br><br><ul><li>  QFX10002-36 / 72Q交换机支持36/72 QSFP +端口或12/24 QSFP28端口。 </li><li>  QFX10002-60C交换机，支持60个QSFP28端口。 </li></ul><br>  QFX100xx是模块化开关。 这些是大型机箱，能够连接各种类型的线卡，并支持各种类型的接口（SFP，SFP +，SFP28，QSFP +，QSFP28）。 该设备允许在一个机箱内使用冗余组件，例如控制模块，线卡。 <br><br> 该系列包括一个机箱，能够包含8或16个线卡。 <br><br><img src="https://habrastorage.org/webt/f4/s5/z7/f4s5z7kllfw2x8i2yj_q8azb8w0.jpeg"><br><br> 今天，QFX10k设备在数据中心网络的“脊柱设备”部分中占据领先地位。 开关与该细分市场中其他制造商的设备竞争激烈。 <br><br> 所有设备均支持使用Junos Telemetry的NetConf远程配置机制，统计信息收集和分析。 <br><br> 总体而言，我们回顾了瞻博网络可能的设备的最佳实践版本的网络构建物理拓扑。 值得注意的是，其他设备制造商也有类似的开关。 使用我们的评论，您可以随时选择最适合您的。 <br><br> 最后，我建议考虑在数据中心中建立通信网络的逻辑选择。 <br><br> 到目前为止，我可以区分网络逻辑构建的两个选项： <br><br> 基于专有算法和工作协议。 <br> 基于开放算法和工作协议。 <br><br> 我们仍在考虑制造商瞻博网络。 <br><br> 在第一种情况下，在数据中心中建立网络有两种主要解决方案： <br><br> 虚拟机箱结构 <br>  Junos Fusion数据中心 <br><br> 虚拟机箱结构。 该解决方案是瞻博网络虚拟机箱技术的发展。 使用内部VCCP协议，将相同的原理用于将交换机组合到一个通用机箱中。  VCCP基于开放的IS-IS协议，并且是其修订版。 结果，解决方案的操作机制对最终用户是隐藏的，留给了开发人员，这使得解决操作过程中出现的任何问题变得困难，但允许您使用成品。 <br><br><ul><li> 通过主交换机进行单点管理。 </li><li> 支持Spine-Leaf体系结构。 </li><li> 设备的最大数量为20件（4根脊柱和16片叶子）。 </li><li> 在一个工厂中最多可扩展1536个具有10 Gb / s支持的访问端口-FCoE。 </li><li>  Junos空间管理系统。 </li></ul><br>  Junos Fusion数据中心。 该解决方案是该公司的新产品，专门设计用于数据中心。 仅支持QFX-51xx / 10k系列交换机。 该解决方案基于802.1BR，netconf和json-rpc技术。 具有从一个控制台进行控制的能力的单一逻辑结构。 该解决方案正在积极开发中，并且正在引入其他功能。 <br><br><ul><li> 基于IEEE802.1BR。 </li><li> 单点管理。 </li><li> 支持脊柱-叶技术。 </li><li> 设备的最大数量为65件。 </li><li> 在一个工厂中最多可扩展6144个10 Gb / s -FCoE端口。 </li><li> 可以在Spine级别使用1或2个设备。 </li><li>  Spine层由QFX10k开关表示。 </li><li> 叶子级别由QFX51xx开关表示。 </li><li> 在叶子级别支持本地交换。 </li><li> 在叶子级别的端口上自动配置VLAN的能力。 </li><li>  Junos空间管理系统。 </li><li> 支持MC-LAG。 </li></ul><br> 如果网络基于开放算法和工作协议构建，则只有一种解决方案-IP Fabric。 该解决方案允许使用任何制造商的设备。  IP结构仅在OSI第3层上运行。 它没有任何公共管理点和单个控制台，但是扩展的可能性以及故障排除的范围非常广泛。 <br><br> 隔离底图和覆盖图。 作为底层技术，我们为小型数据中心使用众所周知的IGP协议，例如OSPF / IS-IS。 如果数据中心有许多机架，并且使用了大量连接的终端设备，那么每个人都喜欢iBGP / eBGP。 我认为，在这里，当选择底层解决方案时，这是一种品味和常识问题。 <br><br> 作为覆盖解决方案，选择了VXLAN之类的东西，大多数网络解决方案制造商都将其与MPLS或EVPN技术一起支持。 瞻博网络设备可以与其他制造商一起用于构建类似的解决方案。 我认为这里没有特殊功能，这是不可能的。 <br><br><ul><li> 多种部署选项。 </li><li> 支持脊柱-叶技术。 </li><li> 开放的技术和协议选择。 </li><li> 能够使用来自不同制造商的解决方案。 </li><li> 与其他解决方案相比，可扩展性最高。 </li><li> 仅在OSI模型的第三级上工作。 </li></ul><br> 在本文中，我概述了为数据中心构建网络的原理，以及使用Juniper Networks设备和解决方案来实现它们的可能性。 <br><br> 所有照片资料均由Juniper Networks由工程师Bugakov Evgeny亲自提供。 为此特别感谢他。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN411091/">https://habr.com/ru/post/zh-CN411091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN411081/index.html">寻找智能团队合作的新方法</a></li>
<li><a href="../zh-CN411083/index.html">日落“人类之星”</a></li>
<li><a href="../zh-CN411085/index.html">Pi-Sonos v3.0：正在处理错误或全新项目？</a></li>
<li><a href="../zh-CN411087/index.html">显卡的不久的将来</a></li>
<li><a href="../zh-CN411089/index.html">如何识别在轨卫星</a></li>
<li><a href="../zh-CN411093/index.html">集中式控制面板，用于光源TsPKIO-2D转子</a></li>
<li><a href="../zh-CN411095/index.html">开普勒望远镜的燃料用完了。 决赛快到了</a></li>
<li><a href="../zh-CN411097/index.html">独立移动通讯程序</a></li>
<li><a href="../zh-CN411099/index.html">当用白色LED照明植物时，很容易评估PPFD：1000 lux = 15μmol/ s / m2</a></li>
<li><a href="../zh-CN411101/index.html">纽约当局允许增加矿工的电费</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>