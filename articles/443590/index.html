<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ üï≥Ô∏è üåé Ciencia de datos: predicci√≥n de eventos empresariales para mejorar el servicio üòñ üîë ‚åöÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los algoritmos para recomendaciones, predicciones de eventos o evaluaciones de riesgos son una soluci√≥n de tendencia en bancos, compa√±√≠as de seguros y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ciencia de datos: predicci√≥n de eventos empresariales para mejorar el servicio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/443590/">  Los algoritmos para recomendaciones, predicciones de eventos o evaluaciones de riesgos son una soluci√≥n de tendencia en bancos, compa√±√≠as de seguros y muchos otros sectores empresariales.  Por ejemplo, estos programas ayudan, bas√°ndose en el an√°lisis de datos, a predecir cu√°ndo un cliente devolver√° un pr√©stamo bancario, cu√°l ser√° la demanda en el comercio minorista, cu√°l es la probabilidad de un evento asegurado o una salida de clientes en telecomunicaciones, etc.  Para una empresa, esta es una valiosa oportunidad para optimizar sus gastos, aumentar la velocidad del trabajo y, en general, mejorar el servicio. <br><br>  Sin embargo, los enfoques tradicionales como la clasificaci√≥n y la regresi√≥n no son adecuados para construir tales programas.  Consideremos este problema como un ejemplo de un caso dedicado a la predicci√≥n de episodios m√©dicos: analizamos los matices en la naturaleza de los datos y los posibles enfoques para modelar, construir un modelo y analizar su calidad. <a name="habracut"></a><br><br><h3>  El desaf√≠o de predecir episodios m√©dicos </h3><br>  La predicci√≥n de episodios se basa en un an√°lisis de datos hist√≥ricos.  El conjunto de datos en este caso consta de dos partes.  El primero son los datos sobre los servicios prestados previamente al paciente.  Esta parte del conjunto de datos incluye datos sociodemogr√°ficos sobre el paciente, como la edad y el sexo, as√≠ como los diagn√≥sticos que se le hicieron en diferentes momentos en la codificaci√≥n ICD10-CM [1] y los procedimientos HCPCS realizados [2].  Estos datos forman secuencias en el tiempo que le permiten tener una idea de la condici√≥n del paciente en el momento de su inter√©s.  Para los modelos de capacitaci√≥n, as√≠ como para trabajar en la producci√≥n, los datos personalizados son suficientes. <br><br>  La segunda parte del conjunto de datos es una lista de episodios que ocurren para el paciente.  Para cada episodio, indicamos su tipo y fecha de ocurrencia, as√≠ como el per√≠odo de tiempo, los servicios incluidos y otra informaci√≥n.  A partir de estos datos, se generan variables objetivo para la predicci√≥n. <br><br>  El aspecto del tiempo es importante para resolver el problema: solo nos interesan los episodios que puedan surgir en el futuro cercano.  Por otro lado, el conjunto de datos a nuestra disposici√≥n se recopil√≥ durante un per√≠odo limitado de tiempo, m√°s all√° del cual no hay datos.  Por lo tanto, no podemos decir si los episodios ocurren fuera del per√≠odo de observaci√≥n, qu√© episodios son, en qu√© momento exacto surgen.  Esta situaci√≥n se llama censura correcta. <br><br>  Del mismo modo, ocurre la censura izquierda: para algunos pacientes, un episodio puede comenzar a desarrollarse antes de lo que est√° disponible para nuestra observaci√≥n.  Para nosotros, se ver√° como un episodio que surgi√≥ sin ning√∫n trasfondo. <br><br>  Existe otro tipo de censura de datos: la interrupci√≥n de la observaci√≥n (si el per√≠odo de observaci√≥n no se completa y el evento no ha ocurrido).  Por ejemplo, debido a un paciente en movimiento, una falla en el sistema de recolecci√≥n de datos, etc. <br><br>  En la fig.  1 muestra esquem√°ticamente diferentes tipos de censura de datos.  Todos ellos distorsionan las estad√≠sticas y dificultan la construcci√≥n de un modelo. <br><img src="https://habrastorage.org/webt/dz/qk/wd/dzqkwdyt50tyh7ehpsxwipu2j3m.png"><br><br>  <i>Notas: 1 - observaciones sin censura;</i>  <i>2, 3 - censura izquierda y derecha, respectivamente;</i>  <i>4 - censura izquierda y derecha al mismo tiempo;</i> <i><br></i>  <i>5 - interrupci√≥n de la observaci√≥n.</i> <br><br>  Otra caracter√≠stica importante del conjunto de datos est√° relacionada con la naturaleza del flujo de datos en la vida real.  Algunos datos pueden llegar tarde, en cuyo caso no est√°n disponibles en el momento de la predicci√≥n.  Para tener en cuenta esta caracter√≠stica, es necesario complementar el conjunto de datos lanzando varios elementos desde la cola de cada secuencia. <br><br><h3>  Clasificaci√≥n y regresi√≥n </h3><br>  Naturalmente, el primer pensamiento ser√° reducir el problema a la conocida clasificaci√≥n y regresi√≥n.  Sin embargo, estos enfoques encuentran serias dificultades. <br><br>  Por qu√© la regresi√≥n no nos conviene, queda claro a partir de los fen√≥menos considerados de la censura derecha e izquierda: la distribuci√≥n del tiempo de ocurrencia de un episodio en el conjunto de datos puede cambiarse.  Adem√°s, la magnitud y el hecho de la presencia de este sesgo no se pueden determinar utilizando el conjunto de datos en s√≠.  El modelo construido puede mostrar resultados arbitrariamente buenos con cualquier enfoque de validaci√≥n, pero esto, muy probablemente, no tendr√° nada que ver con su idoneidad para pronosticar datos de producci√≥n. <br><br>  M√°s prometedor, a primera vista, es un intento de reducir el problema a la clasificaci√≥n: establecer un cierto per√≠odo de tiempo y determinar el episodio que surgir√° en este per√≠odo.  La principal dificultad aqu√≠ es la vinculaci√≥n del intervalo de tiempo que nos interesa.  Puede vincularse de manera confiable solo con el momento de la √∫ltima actualizaci√≥n del historial del paciente.  Al mismo tiempo, la solicitud de predecir el episodio generalmente no est√° vinculada al tiempo y puede llegar en cualquier momento, tanto dentro de este per√≠odo (y luego se acorta el per√≠odo de inter√©s efectivo), como completamente m√°s all√°, y luego la predicci√≥n generalmente pierde su significado (ver Fig. 2)  Esto naturalmente induce un aumento en el per√≠odo de inter√©s, lo que finalmente reduce el valor de la predicci√≥n de todos modos. <br><br><img src="https://habrastorage.org/webt/rm/-g/uk/rm-gukebroujw_awxfgxibqfpv4.png"><br><br>  <i>Notas: 1: actualiza el historial del paciente;</i>  <i>2 - la √∫ltima actualizaci√≥n y el per√≠odo de tiempo asociado a ella;</i>  <i>3, 4 - solicitudes de predicci√≥n de episodios recibidas durante este per√≠odo.</i>  <i>Se ve que el intervalo de predicci√≥n efectivo para ellos es menor;</i>  <i>5 - solicitud recibida fuera del intervalo.</i>  <i>Para √©l, la predicci√≥n es imposible.</i> <br><br><h3>  An√°lisis de supervivencia </h3><br>  Como alternativa, podemos considerar el enfoque, en la literatura rusa, llamado an√°lisis de supervivencia (an√°lisis de supervivencia o an√°lisis de tiempo hasta el evento) [3].  Esta es una familia de modelos dise√±ados espec√≠ficamente para trabajar con datos censurados.  Se basa en la aproximaci√≥n de la funci√≥n de riesgo (funci√≥n de peligro, intensidad de ocurrencia de eventos), que estima la distribuci√≥n de probabilidad de la ocurrencia de un evento a lo largo del tiempo.  Este enfoque le permite tener en cuenta correctamente la presencia de diferentes tipos de censura. <br><br>  Para resolver el problema, este enfoque tambi√©n permite combinar ambos aspectos del problema en un modelo: determinar el tipo de episodio y predecir el momento de su ocurrencia.  Para hacer esto, es suficiente construir un modelo separado para cada tipo de episodio, similar al enfoque de uno contra todos en la clasificaci√≥n.  Entonces, la aparici√≥n de un episodio no objetivo puede interpretarse como la exclusi√≥n de un objeto de la muestra observada sin la ocurrencia de un evento, que es otro tipo de censura de datos y el modelo tambi√©n lo tiene en cuenta correctamente.  Esta interpretaci√≥n es correcta desde el punto de vista de la l√≥gica empresarial: si un paciente se somete a una cirug√≠a de cataratas, esto no excluye la aparici√≥n de otros episodios para √©l en el futuro. <br><br>  Entre la familia de modelos para el an√°lisis de supervivencia, se pueden distinguir dos variedades: anal√≠tica y de regresi√≥n.  Los modelos anal√≠ticos son puramente descriptivos, est√°n dise√±ados para toda la poblaci√≥n, no tienen en cuenta las caracter√≠sticas de sus miembros individuales y, por lo tanto, solo pueden predecir la ocurrencia de un evento para alg√∫n miembro t√≠pico de la poblaci√≥n.  A diferencia del an√°lisis, los modelos de regresi√≥n se construyen teniendo en cuenta las caracter√≠sticas de los miembros individuales de la poblaci√≥n y permiten hacer pron√≥sticos tambi√©n para los miembros individuales teniendo en cuenta sus caracter√≠sticas.  En este problema, fue esta variaci√≥n la que se utiliz√≥, o m√°s bien, el modelo de riesgo proporcional de Cox (en adelante, CoxPH). <br><br><h3>  Regresi√≥n de supervivencia y cirug√≠a de cataratas. </h3><br>  El enfoque m√°s simple ser√° similar a la regresi√≥n convencional: tome la expectativa matem√°tica del momento del inicio del evento como la salida.  Dado que CoxPH recibe datos como un vector num√©rico en la entrada, y nuestro conjunto de datos es, de hecho, una secuencia de c√≥digos y procedimientos de diagn√≥stico (datos categ√≥ricos), se requiere una transformaci√≥n de datos preliminar: <br><br><ul><li>  Traducci√≥n de c√≥digos en una representaci√≥n incrustada utilizando el modelo GloVe previamente entrenado [4]; </li><li>  Agregaci√≥n de todos los c√≥digos disponibles en el √∫ltimo per√≠odo de la historia del paciente en un solo vector; </li><li>  Codificaci√≥n directa del g√©nero del paciente y escala de edad. </li></ul><br><br>  Utilizamos los vectores de caracter√≠sticas obtenidos para el entrenamiento del modelo y su validaci√≥n.  El modelo resultante demuestra los siguientes valores de √≠ndice de concordancia (√≠ndice c o estad√≠stica c) [5]: <br><br><ul><li>  0,71 para la validaci√≥n de 5 veces; </li><li>  0,69 en la muestra pendiente. </li></ul><br>  Esto es comparable al nivel de 0.6-0.7 habitual para tales modelos [6]. <br><br>  Sin embargo, si observa el error absoluto medio entre el tiempo previsto esperado de ocurrencia del episodio y el real, resulta que el error es de 5 d√≠as.  La raz√≥n de un error tan grande es que la optimizaci√≥n para el √≠ndice c garantiza solo el orden correcto de los valores: si un evento debe ocurrir antes que otro, entonces los valores pronosticados del tiempo esperado para los eventos ser√°n uno menos que el otro, respectivamente.  Adem√°s, no se hacen declaraciones con respecto a los valores predichos. <br><br>  Otra posible variante del valor de salida del modelo es una tabla de valores de la funci√≥n de riesgo en diferentes momentos.  Esta opci√≥n tiene una estructura m√°s compleja, es m√°s dif√≠cil de interpretar que la anterior, pero al mismo tiempo proporciona m√°s informaci√≥n. <br><br>  Cambiar el formato de salida requiere una forma diferente de evaluar la calidad del modelo: debemos asegurarnos de que para los ejemplos positivos (cuando ocurre un episodio) el nivel de riesgo sea m√°s alto que para los ejemplos negativos (cuando no ocurre un episodio).  Para hacer esto, para cada distribuci√≥n predicha de la funci√≥n de riesgo en la muestra retrasada, pasaremos de la tabla de valores a un valor: el m√°ximo.  Habiendo contado los valores medios para ejemplos positivos y negativos, veremos que difieren de manera confiable: 0.13 versus 0.04, respectivamente. <br><br>  Luego, usamos estos valores para construir la curva ROC y calcular el √°rea debajo de ella: ROC AUC, que es 0.92, que es aceptable para el problema que se est√° resolviendo. <br><br><h3>  Conclusi√≥n </h3><br>  Por lo tanto, vimos que el an√°lisis de supervivencia es el mejor enfoque para resolver el problema de predecir episodios m√©dicos, teniendo en cuenta todos los matices del problema y los datos disponibles.  Sin embargo, su aplicaci√≥n implica un formato diferente de los datos de salida del modelo y un enfoque diferente para evaluar su calidad. <br><br>  La aplicaci√≥n del modelo CoxPH para predecir episodios de cirug√≠a de cataratas nos permiti√≥ lograr indicadores de calidad del modelo aceptables.  Se puede aplicar un enfoque similar a otros tipos de episodios, pero los indicadores de calidad espec√≠ficos de los modelos solo se pueden evaluar directamente en el proceso de modelado. <br><br><h3>  Literatura </h3><br>  [1] CIE-10 Modificaci√≥n cl√≠nica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en.wikipedia.org/wiki/ICD-10_Clinical_Modification</a> <br>  [2] Sistema de codificaci√≥n de procedimientos comunes de atenci√≥n m√©dica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en.wikipedia.org/wiki/Healthcare_Common_Procedure_Coding_System</a> <br>  [3] An√°lisis de supervivencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en.wikipedia.org/wiki/Survival_analysis</a> <br>  [4] GloVe: Vectores globales para la representaci√≥n de palabras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nlp.stanford.edu/projects/glove</a> <br>  [5] Estad√≠stica C: definici√≥n, ejemplos, ponderaci√≥n y significado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.statisticshowto.datasciencecentral.com/c-statistic</a> <br>  [6] VC Raykar y col.  Sobre la clasificaci√≥n en el an√°lisis de supervivencia: l√≠mites en el √≠ndice de concordancia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">papers.nips.cc/paper/3375-on-ranking-in-survival-analysis-bounds-on-the-concorda-index.pdf</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443590/">https://habr.com/ru/post/443590/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443578/index.html">Primeros informes sobre PHDays: intercepci√≥n de videoconferencia, nueva versi√≥n de GhostTunnel, ataques a Java Card</a></li>
<li><a href="../443582/index.html">Hackear un cartucho de color HP: convertirlo en una impresora port√°til</a></li>
<li><a href="../443584/index.html">Est√© atento a los estrenos de pel√≠culas digitales de alta calidad sin problemas</a></li>
<li><a href="../443586/index.html">GeekBrains lanza marat√≥n de trabajo remoto en l√≠nea gratuito</a></li>
<li><a href="../443588/index.html">El profesor del Instituto de Tecnolog√≠a de Massachusetts revela el futuro de las pr√≥tesis en TED</a></li>
<li><a href="../443592/index.html">RFID front end ISO 11785 est√°ndar de un antiguo receptor de FM y desechos de elevador</a></li>
<li><a href="../443594/index.html">La encrucijada de las pruebas y la arquitectura: una entrevista con Neil Ford</a></li>
<li><a href="../443600/index.html">Las mejores y peores tendencias del MWC 2019</a></li>
<li><a href="../443602/index.html">¬øQu√© es el alias estricto y por qu√© deber√≠a importarnos? Parte 2</a></li>
<li><a href="../443604/index.html">M√ìVIL PRIMERO: Hackathon en OZON</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>