<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧔 🐀 👵🏼 Gemeinsame JavaScript-Versprechen, über die jeder Bescheid wissen sollte 🤚🏿 🗓️ 👨🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Freunde! 

 Ich präsentiere Ihnen die Übersetzung des Artikels von Apal Shah, "Häufige Javascript-Versprechungsfehler, die jeder Anfänger k...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gemeinsame JavaScript-Versprechen, über die jeder Bescheid wissen sollte</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484466/"><img src="https://habrastorage.org/webt/dc/lq/9d/dclq9djzk7v2ojkzdgcu-9fes4w.jpeg"><br><br>  Guten Tag, Freunde! <br><br>  Ich präsentiere Ihnen die Übersetzung des Artikels von Apal Shah, <a href="https://gosink.in/common-javascript-promise-mistakes-beginners/" rel="nofollow">"Häufige Javascript-Versprechungsfehler, die jeder Anfänger kennen und vermeiden sollte"</a> . <br><br><h2>  Gemeinsame JavaScript-Versprechen, über die jeder Bescheid wissen sollte </h2><br>  Ich würde gerne etwas über diese Fehler erfahren, als ich JavaScript studiert habe und Versprechungen gemacht habe. <br><br>  Immer wenn ein Entwickler mich anruft und sich beschwert, dass sein Code nicht funktioniert oder langsam ausgeführt wird, achte ich zuerst auf diese Fehler.  Als ich vor 4 Jahren mit dem Programmieren anfing, wusste ich nichts über sie und war es gewohnt, sie zu ignorieren.  Nachdem ich jedoch einem Projekt zugewiesen worden war, das ungefähr eine Million Anfragen in wenigen Minuten bearbeitet, hatte ich keine andere Wahl, als meinen Code zu optimieren (da wir eine Ebene erreicht hatten, in der eine weitere vertikale Skalierung unmöglich wurde). <br><br>  In diesem Artikel möchte ich daher auf die häufigsten Fehler bei der Arbeit mit Versprechungen in JS eingehen, auf die viele nicht achten. <br><a name="habracut"></a><br><h3>  Fehler # 1. Verwenden eines Try / Catch-Blocks innerhalb eines Versprechens </h3><br>  Die Verwendung des Try / Catch-Blocks innerhalb des Versprechens ist unpraktisch, da Ihr Code, wenn er einen Fehler (innerhalb des Versprechens) auslöst, vom Fehlerbehandler des Versprechens selbst abgefangen wird. <br><br>  Darum geht es hier: <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = someFunction() <span class="hljs-comment"><span class="hljs-comment">//   resolve() } catch(e) { reject(e) } }) .then(data =&gt; console.log(data)) .catch(error =&gt; console.log(error))</span></span></code> </pre> <br>  Lassen Sie stattdessen den Code den Fehler außerhalb des Versprechens behandeln: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = someFunction() <span class="hljs-comment"><span class="hljs-comment">//   resolve(data) }) .then(data =&gt; console.log(data)) .catch(error =&gt; console.log(error))</span></span></code> </pre><br>  Dies funktioniert immer, außer wie unten beschrieben. <br><br><h3>  Fehler Nr. 2. Verwenden einer asynchronen Funktion in einem Versprechen </h3><br>  Bei Verwendung der asynchronen Funktion treten im Promise einige unangenehme Nebenwirkungen auf. <br><br>  Angenommen, Sie möchten eine asynchrone Aufgabe ausführen, das Schlüsselwort „async“ zur Zusage hinzufügen und Ihr Code gibt einen Fehler aus.  Jetzt können Sie diesen Fehler jedoch weder mit .catch () noch mit wait behandeln: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       new Promise(async() =&gt; { throw new Error('message') }).catch(e =&gt; console.log(e.message)) //        (async() =&gt; { try { await new Promise(async() =&gt; { throw new Error('message') }) } catch(e) { console.log(e.message) } })();</span></span></code> </pre><br>  Jedes Mal, wenn ich in einem Versprechen auf eine asynchrone Funktion treffe, versuche ich, sie zu trennen.  Und ich bekomme es in 9 von 10 Fällen.  Dies ist jedoch nicht immer möglich.  In diesem Fall haben Sie keine andere Wahl, als den Try / Catch-Block innerhalb des Versprechens zu verwenden (ja, dies widerspricht dem ersten Fehler, aber dies ist der einzige Ausweg): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>(resolve, reject) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'message'</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(error) { reject(error) } }).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e.message)) <span class="hljs-comment"><span class="hljs-comment">//   async/await (async() =&gt; { try { await new Promise(async(resolve, reject) =&gt; { try { throw new Error('message') } catch(error) { reject(error) } }) } catch(e) { console.log(e.message) } })();</span></span></code> </pre><br><h3>  Fehler Nummer 3. Vergiss .catch () </h3><br>  Dies ist einer der Fehler, von denen Sie nicht einmal vermuten, dass er vor Beginn des Tests auftritt.  Oder wenn Sie ein Atheist sind, der nicht an Tests glaubt, stürzt Ihr Code in der <a href="https://dic.academic.ru/dic.nsf/ruwiki/1328397" rel="nofollow">Produktion mit</a> Sicherheit ab.  Denn die Produktion folgt streng dem <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD_%25D0%259C%25D0%25B5%25D1%2580%25D1%2584%25D0%25B8" rel="nofollow">Murphy'schen Gesetz</a> , das besagt: "Alles, was schief gehen kann, wird schief gehen" (Sie können das so übersetzen: "Wenn etwas schief gehen kann, wird es passieren"; die Analogie auf Russisch ist das "Gesetz der Gemeinheit". - Ca. <br><br>  Um den Code eleganter zu gestalten, können Sie das Versprechen in try / catch einschließen, anstatt .then (). Catch () zu verwenden. <br><br><h3>  Fehler Nr. 4. Verwenden Sie Promise.all () nicht </h3><br>  Promise.all () ist dein Freund. <br><br>  Wenn Sie ein professioneller Entwickler sind, verstehen Sie wahrscheinlich, was ich sagen möchte.  Wenn Sie mehrere nicht voneinander abhängige Versprechen haben, können Sie diese gleichzeitig ausführen.  Standardmäßig werden Versprechungen parallel ausgeführt. Wenn Sie sie jedoch nacheinander ausführen müssen (mithilfe von wait), wird dies viel Zeit in Anspruch nehmen.  Promise.all () kann die Latenz erheblich reduzieren: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {promisify} = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'util'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sleep = promisify(setTimeout) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">2000</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f3</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">3000</span></span>) } <span class="hljs-comment"><span class="hljs-comment">//   (async() =&gt; { console.time('sequential') await f1() await f2() await f3() console.timeEnd('sequential') //  6  })();</span></span></code> </pre><br>  Jetzt mit Promise.all (): <br><pre> <code class="javascript hljs">(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>() =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.time(<span class="hljs-string"><span class="hljs-string">'concurrent'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.all([f1(), f2(), f3()]) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.timeEnd(<span class="hljs-string"><span class="hljs-string">'concurrent'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  3  })();</span></span></code> </pre><br><h3>  Fehler Nr. 5. Missbräuchliche Verwendung von Promise.race () </h3><br>  Promise.race () beschleunigt Ihren Code nicht immer. <br><br>  Es mag seltsam erscheinen, aber es ist es wirklich.  Ich sage nicht, dass Promise.race () eine nutzlose Methode ist, aber Sie müssen klar verstehen, warum Sie sie verwenden. <br><br>  Sie können beispielsweise Promise.race () verwenden, um den Code auszuführen, nachdem Sie eines der Versprechen gelöst haben.  Dies bedeutet jedoch nicht, dass die Ausführung des Codes, der den Versprechungen folgt, unmittelbar nach der Lösung eines dieser Versprechungen beginnt.  Promise.race () wartet auf die Auflösung aller Versprechungen und gibt erst dann den Stream frei: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {promisify} = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'util'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sleep = promisify(setTimeout) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">2000</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f3</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sleep(<span class="hljs-number"><span class="hljs-number">3000</span></span>) } (<span class="hljs-keyword"><span class="hljs-keyword">async</span></span>() =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.time(<span class="hljs-string"><span class="hljs-string">'race'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.race([f1(), f2(), f3()]) })(); process.on(<span class="hljs-string"><span class="hljs-string">'exit'</span></span>, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.timeEnd(<span class="hljs-string"><span class="hljs-string">'race'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  3 ,    ! })</span></span></code> </pre><br><h3>  Fehler Nr. 6. Missbrauch von Versprechungen </h3><br>  Versprechen verlangsamen den Code, also missbrauchen Sie sie nicht. <br><br>  Häufig müssen Entwickler eine lange .then () - Kette verwenden, damit ihr Code besser aussieht.  Sie werden keine Zeit haben, ein Auge zu blinzeln, da diese Kette zu lang wird.  Um die negativen Konsequenzen einer solchen Situation visuell überprüfen zu können, ist es notwendig (weiter werde ich ein wenig vom Originaltext abweichen, um den Vorgang detaillierter als im Artikel zu beschreiben - ca. Trans): <br><br>  1) erstelle eine script.js Datei mit folgendem Inhalt (mit zusätzlichen Versprechungen): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  ,    const user = { name: 'John Doe', age: 50, } resolve(user) }).then(userObj =&gt; { const {age} = userObj return age }).then(age =&gt; { if(age &gt; 25) { return true } throw new Error('Age is less than 25') }).then(() =&gt; { console.log('Age is greater than 25') }).catch(e =&gt; { console.log(e.message) })</span></span></code> </pre><br>  2) Öffnen Sie die Befehlszeile (für Windows-Benutzer: Um die Befehlszeile im Ordner mit der gewünschten Datei zu öffnen, halten Sie die Umschalttaste gedrückt, klicken Sie mit der rechten Maustaste und wählen Sie "Befehlsfenster öffnen" aus.) Führen Sie script.js mit dem folgenden Befehl aus (Node muss installiert sein. js): <br><pre> <code class="javascript hljs">node --trace-events-enabled script.js</code> </pre><br>  3) Node.js erstellt eine Protokolldatei (in meinem Fall node_trace.1.txt) im Ordner mit dem Skript. <br><br>  4) Öffne Chrome (weil es nur darin funktioniert), gib "chrome: // tracing" in die Adressleiste ein. <br><br>  5) Klicken Sie auf Laden, laden Sie die von Node.js erstellte Protokolldatei. <br><br>  6) Öffnen Sie die Registerkarte Versprechen. <br><br>  Wir sehen ungefähr Folgendes: <br><img src="https://habrastorage.org/webt/hg/hf/t4/hghft4f5rd2v0v0hxcwahgkgkbs.png"><br><br>  Grüne Blöcke sind Versprechungen, die jeweils mehrere Millisekunden dauern.  Je mehr Versprechungen gemacht werden, desto länger werden sie durchgeführt. <br><br>  Wir schreiben script.js neu: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> user = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'John Doe'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(user.age &gt; <span class="hljs-number"><span class="hljs-number">25</span></span>) { resolve() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { reject(<span class="hljs-string"><span class="hljs-string">'Age is less than 25'</span></span>) } }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Age is greater than 25'</span></span>) }).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e.message) })</code> </pre><br>  Wiederholen Sie den "Trace". <br><br>  Wir sehen folgendes: <br><img src="https://habrastorage.org/webt/5r/g6/0b/5rg60bujijqeshcr9z7omfd9tzs.png"><br><br>  Es gibt weniger grüne Blöcke (Versprechungen), was bedeutet, dass die Code-Ausführungszeit reduziert wurde. <br><br>  Daher sollten Sie mehrere Versprechungen nur verwenden, wenn Sie asynchronen Code ausführen müssen. <br><br>  Danke für die Aufmerksamkeit.  Schönes Wochenende!  Über Kommentare würde ich mich freuen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484466/">https://habr.com/ru/post/de484466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484454/index.html">Habra Detektiv: Ihr Bild ist verloren</a></li>
<li><a href="../de484456/index.html">ReactJS, serverseitiges Rendering und einige Feinheiten bei der Verarbeitung von Seiten-Metatags</a></li>
<li><a href="../de484458/index.html">Dieser Freiberufler ist kaputt - gib mir den nächsten</a></li>
<li><a href="../de484462/index.html">Scraping Github: Suche nach "Geheimnissen", die es zu entwickeln gilt</a></li>
<li><a href="../de484464/index.html">Japanische Motorradauktionen, wie das alles passiert</a></li>
<li><a href="../de484468/index.html">Rote Unternehmenskultur ist das Hauptproblem des russischen Geschäfts (Teil 2)</a></li>
<li><a href="../de484470/index.html">Erweiterbare Erweiterungen in JavaScript</a></li>
<li><a href="../de484472/index.html">Verwenden von asyncio zum Erstellen asynchroner Gerätetreiber unter MicroPython v.1.12</a></li>
<li><a href="../de484480/index.html">Die Kapitalisierung der 5 größten US-Technologieunternehmen überstieg 5 Billionen US-Dollar</a></li>
<li><a href="../de484482/index.html">Ein kleines Bildungsprogramm zur Wasseraufbereitung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>