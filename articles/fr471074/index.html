<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçü§ù‚Äçüë®üèΩ ü¶ó üê≠ Synet - un cadre pour lancer des r√©seaux de neurones pr√©-form√©s sur le CPU üï∂Ô∏è üíπ üé∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 
 Bonjour, cher Khabrovites! 

 Les deux derni√®res ann√©es de mon travail chez Synesis ont √©t√© √©troitement li√©es au processus de cr√©ation ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Synet - un cadre pour lancer des r√©seaux de neurones pr√©-form√©s sur le CPU</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471074/"><img src="https://habrastorage.org/webt/gh/jk/rs/ghjkrs4akso0bxg4ijmhxcizzjq.jpeg" alt="mon v√©lo"><br><br><h2>  Pr√©sentation </h2><br>  Bonjour, cher Khabrovites! <br><br>  Les deux derni√®res ann√©es de mon travail chez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Synesis</a> ont √©t√© √©troitement li√©es au processus de cr√©ation et de d√©veloppement de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Synet</a> - une biblioth√®que ouverte pour ex√©cuter des r√©seaux de neurones convolutionnels pr√©-form√©s sur le CPU.  Au cours de ce travail, j'ai d√ª rencontrer un certain nombre de points int√©ressants li√©s √† l'optimisation des algorithmes de propagation directe du signal dans les r√©seaux de neurones.  Il me semble qu'une description de ces points serait tr√®s int√©ressante pour les lecteurs d'Habrahabr.  Ce que je veux d√©dier une s√©rie de mes articles.  La dur√©e du cycle d√©pendra de votre int√©r√™t pour ce sujet et, bien s√ªr, de ma capacit√© √† surmonter la paresse.  Je veux commencer le cycle avec une description du cadre <s>v√©lo</s> lui-m√™me.  Les questions des algorithmes qui le sous-tendent seront r√©v√©l√©es dans les articles suivants: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couche de convolution: techniques d'optimisation de la multiplication matricielle</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couche convolutionnelle: convolution rapide selon la m√©thode de Shmuel Vinograd</a> </li></ol><br><a name="habracut"></a><br><h2>  R√©ponses aux questions </h2><br>  Avant de commencer une description d√©taill√©e du cadre, je vais essayer de r√©pondre imm√©diatement √† un certain nombre de questions que les lecteurs auront probablement.  L'exp√©rience sugg√®re qu'il vaut mieux le faire √† l'avance, car beaucoup commencent imm√©diatement √† √©crire des commentaires en col√®re, n'ayant pas lu jusqu'√† la fin. <br><br>  La premi√®re question qui se pose g√©n√©ralement dans de tels cas: <i>qui g√®re les r√©seaux sur des processeurs conventionnels maintenant, quand existe-t-il des acc√©l√©rateurs graphiques et des acc√©l√©rateurs tenseurs (matriciels)?</i> <br>  Je r√©pondrai que oui - il n'est vraiment pas conseill√© d'effectuer une formation sur les r√©seaux neuronaux sur le CPU, mais l'ex√©cution de r√©seaux neuronaux pr√™ts √† l'emploi est une demande importante, surtout si le r√©seau est suffisamment petit.  Les raisons peuvent √™tre diff√©rentes, mais les principales: <br><br><ol><li>  Les processeurs sont plus courants.  Toutes les machines n'ont pas de GPU, en particulier les serveurs. </li><li>  Sur les petits r√©seaux de neurones, les gains de l'utilisation du GPU sont faibles et parfois totalement absents. </li><li>  Impliquer efficacement le GPU pour acc√©l√©rer les r√©seaux de neurones n√©cessite g√©n√©ralement une structure d'application beaucoup plus complexe. </li></ol><br>  La prochaine question possible: <i>pourquoi utiliser une solution sp√©cialis√©e pour lancer quand il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Tensorflow</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Caffe</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">MXNet</a> ?</i> <br><br>  Vous pouvez r√©pondre aux questions suivantes: <br><br><ol><li>  Une vari√©t√© de frameworks n'est pas toujours bonne - donc s'il y a plusieurs mod√®les form√©s dans diff√©rents frameworks dans un projet, vous devrez tous les int√©grer dans une solution pr√™te √† l'emploi, ce qui est tr√®s g√™nant. </li><li>  Les frameworks classiques ont √©t√© con√ßus pour former des mod√®les de GPU - et ils sont certainement bons √† cela!  Mais pour ex√©cuter des mod√®les entra√Æn√©s sur le CPU, leur fonctionnalit√© est redondante et non optimale. </li><li>  La confirmation de la n√©cessit√© d'une solution sp√©cialis√©e est la popularit√© d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">OpenVINO</a> - un framework d'Intel, qui remplit la m√™me fonction. </li></ol><br>  Ici, imm√©diatement, une question logique se pose √† propos de l'invention du v√©lo: <i>pourquoi utiliser votre m√©tier alors qu'il existe une solution totalement professionnelle d'un leader mondial reconnu?</i> <br>  Ma r√©ponse est: <br><br><ol><li>  Au d√©but des travaux sur Synet, OpenVINO en √©tait encore √† ses balbutiements.  Et en v√©rit√©, si √† cette √©poque OpenVINO √©tait dans son √©tat actuel, alors avec une forte probabilit√©, je ne m'impliquerais pas dans mon propre projet. </li><li>  Vous pouvez adapter votre propre framework √† vos besoins.  Donc, dans mon cas, l'exigence principale √©tait la performance maximale d'un seul thread. </li><li>  Vous pouvez prendre en charge les nouvelles fonctionnalit√©s le plus rapidement possible si vous en avez soudainement besoin (par exemple, ajoutez une nouvelle couche et √©liminez une erreur de performances). </li><li>  Facile √† int√©grer dans une solution cl√© en main. </li><li>  Le fonctionnement de la biblioth√®que sur des plates-formes autres que x86 / x86_64 - par exemple, sur ARM. </li></ol><br>  Il est probable que les lecteurs auront d'autres questions ou objections - mais je ne peux toujours pas les pr√©dire, et donc je r√©pondrai dans les commentaires de l'article.  En attendant, commen√ßons par une description directe de Synet. <br><br><h2>  Synet Short Description </h2><br>  Synet est √©crit en <b>C ++</b> et ne contient que des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">fichiers d'en-t√™te</a> .  Des optimisations <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">sp√©cifiques aux</a> plates-formes de bas niveau sont impl√©ment√©es dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Simd</a> , un autre projet open source d√©di√© √† l'acc√©l√©ration du traitement des images sur un CPU.  Et c'est la seule d√©pendance externe de Synet (un tel sch√©ma a √©t√© choisi afin de faciliter l'int√©gration de la biblioth√®que dans des projets tiers).  Pour lancer des r√©seaux de neurones, des mod√®les de leur propre format interne sont utilis√©s. <br><br><img src="https://habrastorage.org/webt/rp/bu/rn/rpburnoopqfamvrtyhhcmbp4nnm.png" alt="image"><br><br>  La conversion des mod√®les pr√©-form√©s au format interne s'effectue selon un sch√©ma en deux √©tapes: 1) Tout d'abord, convertissez le mod√®le au format Inference Engine (bon <br>  OpenVINO dispose de tous les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">outils</a> n√©cessaires pour cela).  2) Puis, √† partir de cette repr√©sentation interm√©diaire, convertissez directement au format Synet interne. <br><br><img src="https://habrastorage.org/webt/pk/21/td/pk21tdeoswgjtrpnmym-hqby7-k.png" alt="image"><br><br>  Le mod√®le Synet contient deux fichiers: 1) * .XML - un fichier avec une description de la structure du mod√®le.  2) * .BIN - un fichier avec des poids form√©s. <br><br><img src="https://habrastorage.org/webt/w-/xa/nr/w-xanrgyr20xe7oxpbdtlavuhua.png" alt="image"><br><br><h2>  Exemple de Synet </h2><br>  Voici un exemple d'utilisation de Synet pour d√©tecter des visages.  Le mod√®le d'origine du moteur d'inf√©rence est pris <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ici</a> . <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SYNET_SIMD_LIBRARY_ENABLE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Synet/Network.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Synet/Converters/InferenceEngine.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Simd/SimdDrawing.hpp"</span></span></span><span class="hljs-meta"> typedef Synet::Network</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;float&gt; Net; typedef Synet::View View; typedef Synet::Shape Shape; typedef Synet::Region&lt;float&gt; Region; typedef std::vector&lt;Region&gt; Regions; int main(int argc, char* argv[]) { Synet::ConvertInferenceEngineToSynet("ie_fd.xml", "ie_fd.bin", true, "synet.xml", "synet.bin"); Net net; net.Load("synet.xml", "synet.bin"); net.Reshape(256, 256, 1); Shape shape = net.NchwShape(); View original; original.Load("faces_0.ppm"); View resized(shape[3], shape[2], original.format); Simd::Resize(original, resized, ::SimdResizeMethodArea); net.SetInput(resized, 0.0f, 255.0f); net.Forward(); Regions faces = net.GetRegions(original.width, original.height, 0.5f, 0.5f); uint32_t white = 0xFFFFFFFF; for (size_t i = 0; i &lt; faces.size(); ++i) { const Region &amp; face = faces[i]; ptrdiff_t l = ptrdiff_t(face.x - face.w / 2); ptrdiff_t t = ptrdiff_t(face.y - face.h / 2); ptrdiff_t r = ptrdiff_t(face.x + face.w / 2); ptrdiff_t b = ptrdiff_t(face.y + face.h / 2); Simd::DrawRectangle(original, l, t, r, b, white); } original.Save("annotated_faces_0.ppm"); return 0; }</span></span></span></span></code> </pre> <br>  √Ä la suite de l'exemple, une image avec des visages annot√©s devrait appara√Ætre: <br><br><img src="https://habrastorage.org/webt/fm/vt/cd/fmvtcdwcodslghhenbzsd2pjbz8.jpeg" alt="image"><br><br>  Prenons maintenant un exemple des √©tapes: <br><br><ol><li>  Tout d'abord, le mod√®le est converti du format Inference Engine en Synet: <br><br><pre> <code class="cpp hljs">Synet::ConvertInferenceEngineToSynet(<span class="hljs-string"><span class="hljs-string">"ie_fd.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"ie_fd.bin"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"synet.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"synet.bin"</span></span>);</code> </pre><br>  En r√©alit√©, cette √©tape est effectu√©e une fois, puis le mod√®le d√©j√† converti est utilis√© partout. </li><li>  T√©l√©chargez le mod√®le converti: <br><br><pre> <code class="cpp hljs">Net net; net.Load(<span class="hljs-string"><span class="hljs-string">"synet.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"synet.bin"</span></span>);</code> </pre></li><li>  Une √©tape facultative pour redimensionner l'image d'entr√©e et le lot (naturellement, le mod√®le doit prendre en charge le redimensionnement de l'image d'entr√©e): <br><br><pre> <code class="cpp hljs">net.Reshape(<span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre></li><li>  Charger une image et la mettre dans la taille d'entr√©e du mod√®le: <br><br><pre> <code class="cpp hljs">View original; original.Load(<span class="hljs-string"><span class="hljs-string">"faces_0.ppm"</span></span>); <span class="hljs-function"><span class="hljs-function">View </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resized</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(net.NchwShape()[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">], net.NchwShape()[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">], original.format)</span></span></span></span>; Simd::Resize(original, resized, ::SimdResizeMethodArea);</code> </pre></li><li>  Chargement de l'image dans le mod√®le: <br><br><pre> <code class="cpp hljs">net.SetInput(resized, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">255.0f</span></span>);</code> </pre></li><li>  D√©marrage de la propagation directe du signal dans le r√©seau: <br><br><pre> <code class="cpp hljs">net.Forward();</code> </pre></li><li>  Obtenir un ensemble de r√©gions avec des visages trouv√©s: <br><br><pre> <code class="cpp hljs">Regions faces = net.GetRegions(original.width, original.height, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>);</code> </pre></li></ol><br><h2>  Comparaison des performances </h2><br>  Il ne serait probablement pas tout √† fait correct de comparer Synet avec des frameworks classiques pour l'apprentissage automatique, par exemple, le moteur d'inf√©rence les <a href="" rel="nofollow">contourne plusieurs fois sur un certain nombre de tests</a> . <br>  Par cons√©quent, ce qui suit est un exemple de comparaison des performances monothread du moteur d'inf√©rence (un produit de fonctionnalit√©s similaires) et de Synet sur un √©chantillon d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ensemble de mod√®les ouverts</a> : <br><div class="scrollable-table"><table><tbody><tr><th>  Test </th><th>  La description </th><th>  i7-6700 3,4 GHz 4c / 8t FMA / AVX-2 </th><th>  i9-7900X 3,3 GHz 10c / 20t AVX-512 </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_000</a> </td><td>  Reconnaissance des attributs du v√©hicule (2,4 Mo) </td><td>  1,520 / <font color="red">1,597</font> ms ( <font color="red">-5%</font> ) </td><td>  0,772 / <font color="green">0,690</font> ms ( <font color="green">+ 12%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_001</a> </td><td>  Reconnaissance du sexe selon l'√¢ge (8,2 Mo) </td><td>  1,659 / 1,418 ms ( <font color="green">+ 17%</font> ) </td><td>  0,988 / <font color="green">0,804</font> ms ( <font color="green">+ 23%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_002</a> </td><td>  D√©tection des visages (4,0 Mo) </td><td>  34,26 / <font color="red">43,17</font> ms ( <font color="red">-21%</font> ) </td><td>  26,72 / 24,57 ms ( <font color="green">+ 9%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_003f</a> </td><td>  D√©tection des visages (2,2 Mo) </td><td>  12,63 / <font color="red">14,87</font> ms ( <font color="red">-15%</font> ) </td><td>  8.680 / <font color="red">9.326</font> ms ( <font color="red">-7%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_004</a> </td><td>  Reconnaissance de plaque d'immatriculation (4,6 Mo) </td><td>  4.350 / <font color="red">4.871</font> ms ( <font color="red">-11%</font> ) </td><td>  2,838 / <font color="green">2,432</font> ms ( <font color="green">+ 17%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_005</a> </td><td>  Reconnaissance de plaque d'immatriculation (0,7 Mo) </td><td>  0,339 / <font color="green">0,260</font> ms ( <font color="green">+ 30%</font> ) </td><td>  0,200 / 0,142 ms ( <font color="green">+ 41%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_006</a> </td><td>  R√©identification du visage (4,2 Mo) </td><td>  11,82 / <font color="green">9,052</font> ms ( <font color="green">+ 31%</font> ) </td><td>  <font color="green">8.200</font> / <font color="green">4.559</font> ms ( <font color="green">+ 80%</font> ) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">test_007</a> </td><td>  R√©identification d'une personne (3,1 Mo) </td><td>  3,567 / <font color="green">3,402</font> ms ( <font color="green">+ 5%</font> ) </td><td>  <font color="green">2,471</font> / <font color="green">1,679</font> ms ( <font color="green">+ 47%</font> ) </td></tr><tr><th>  Moyenne </th><th></th><th>  + 2% </th><th>  + 25% </th></tr></tbody></table></div><br>  Comme le montre le tableau, dans ces tests sur une machine prenant en charge AVX2 (i7-6700), les performances de Synet correspondent g√©n√©ralement aux performances du moteur d'inf√©rence (bien qu'elles varient consid√©rablement d'un mod√®le √† l'autre).  Sur une machine prenant en charge l'AVX-512 (i9-7900X), les performances de Synet sont en moyenne 25% sup√©rieures √† celles du moteur d'inf√©rence. <br><br>  Toutes les mesures ont √©t√© effectu√©es par l'application de test, qui se trouve dans Synet.  Ainsi, si vous le souhaitez, les lecteurs pourront reproduire les tests eux-m√™mes: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> -b master --recurse-submodules -v https://github.com/ermig1979/Synet.git synet <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> synet ./build.sh inference_engine ./test.sh</code> </pre><br><h2>  Avantages et inconv√©nients </h2><br>  Je vais commencer par les pros: <br><br><ol><li>  Le projet est de petite taille, facilement mis en ≈ìuvre dans des projets tiers. </li><li>  Affiche des performances monothread √©lev√©es. </li><li>  Fonctionne sur les processeurs mobiles (prend en charge ARM-NEON). </li></ol><br>  Eh bien et par contre, o√π sans eux: <br><br><ol><li>  Il n'y a pas de support pour GPU et autres acc√©l√©rateurs sp√©ciaux. </li><li>  Mauvaise parall√©lisation d'une t√¢che sur les processeurs multic≈ìurs. </li><li>  Pas de support pour INT8 (quantification des poids). </li></ol><br><h2>  Conclusion </h2><br>  Synet est actuellement utilis√© dans le cadre du projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Kipod</a> , une plate-forme cloud pour l'analyse vid√©o.  Peut-√™tre qu'il a d'autres utilisateurs, mais ce n'est pas s√ªr :).  √Ä l'avenir, au fur et √† mesure du d√©veloppement du projet, je voudrais y ajouter les √©l√©ments suivants: <br><br><ol><li>  Prise en charge de nouveaux mod√®les, couches, algorithmes. </li><li>  Prise en charge des calculs d'entiers au format INT8 (poids quantifi√©s). </li><li>  Prise en charge de l'informatique GPU. </li><li>  Convertissez √† partir du format ONNX. </li></ol><br>  Cette liste est loin d'√™tre compl√®te, et je voudrais la compl√©ter en tenant compte de l'avis de la communaut√© - j'attends donc vos retours!  Rendre l'outil utile non seulement pour notre entreprise, mais aussi pour un large √©ventail d'utilisateurs.  De plus, l'auteur ne refuserait pas l'aide communautaire au processus de d√©veloppement. <br>  En d√©crivant Synet, que j'ai fait dans cet article, je n'ai pas intentionnellement fouill√© dans les d√©tails de son impl√©mentation interne - il y a beaucoup d'algorithmes savoureux sous le capot, mais je voudrais divulguer les d√©tails de leur impl√©mentation dans les articles suivants de la s√©rie: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couche de convolution: techniques d'optimisation de la multiplication matricielle</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couche convolutionnelle: convolution rapide selon la m√©thode de Shmuel Vinograd</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr471074/">https://habr.com/ru/post/fr471074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr471054/index.html">Longrid sur le r√©alisme de la menace quantique pour les crypto-monnaies et les probl√®mes de la "proph√©tie 2027"</a></li>
<li><a href="../fr471062/index.html">Comment apprendre √† Alice √† g√©rer votre maison intelligente. Rapport Yandex</a></li>
<li><a href="../fr471066/index.html">√Ä quoi ressemble l'archive zip et que pouvons-nous faire √† ce sujet</a></li>
<li><a href="../fr471070/index.html">Quelle langue de serveur choisir ... pour un d√©veloppeur mobile</a></li>
<li><a href="../fr471072/index.html">Combien de grammes en t√©l√©gramme?</a></li>
<li><a href="../fr471076/index.html">Comment la matrice a cr√©√© un h√©ritage pare-balles</a></li>
<li><a href="../fr471078/index.html">Chrome bloquera compl√®tement le contenu mixte</a></li>
<li><a href="../fr471080/index.html">Qui est responsable de la qualit√© des tests de l'application? 10 raisons d'obtenir des erreurs de production</a></li>
<li><a href="../fr471084/index.html">Motifs proc√©duraux pouvant √™tre utilis√©s avec des cartes tuile</a></li>
<li><a href="../fr471086/index.html">G√©n√©rateur de couverture musicale Python dans Blender</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>