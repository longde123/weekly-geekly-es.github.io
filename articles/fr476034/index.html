<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍✈️ 🥤 🥊 Le plus sans défense est le Faucon pèlerin 🕵️ 💪 🚑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'étais une fois à ZeroNights, c'est une autre conférence sur la sécurité de l'information, qui cette année était complètement scorie. 

 Là, comme to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le plus sans défense est le Faucon pèlerin</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476034/"><img src="https://habrastorage.org/getpro/habr/post_images/eeb/898/936/eeb8989369172f4755662b59f4da423e.png" alt="image"><br><br>  J'étais une fois à ZeroNights, c'est une autre conférence sur la sécurité de l'information, qui cette année était complètement scorie. <br><br>  Là, comme toujours, je voulais casser quelque chose, obtenir un prix, etc., mais comme je l'ai découvert, il n'y avait pas de tâches intéressantes là-bas, et je devais me divertir. <br><br>  Ce qui s'est passé là-bas n'a pas de charge sémantique particulière, mais ce qui a commencé plus tard est quelque chose. <br><br>  À la fin de la conférence, tous ses participants ont pris des billets pour le faucon pèlerin, le dernier faucon pèlerin Saint-Pétersbourg - Moscou part à 21h00, et j'ai eu le temps pour ça ... <br><a name="habracut"></a><br><h3>  A pris une place à Sapsan </h3><br>  Je me suis assis sur mon siège dans la voiture, j'ai pensé quoi faire et j'ai commencé à lire le livre, quand tout à coup un homme est venu vers moi et m'a demandé de changer de place, car il voyageait avec sa petite amie.  J'ai changé, car comme on dit, faites du bien aux gens - et cela vous reviendra. <br><br>  J'étais assis à lire un livre, et je me suis rendu compte que bon sang, je n'ai rien interrompu d'intéressant, je vais m'asseoir pour ma tâche la plus pentue qui n'a pas été accomplie. <br><br>  J'ai décidé d'aller au bureau de poste, mais Internet n'a pas attrapé, sur le chemin il y avait souvent une couverture 2G, ce qui était IMPRESSIONNANT. <br><br>  J'ai décidé de me connecter au faucon pèlerin WiFi local. <br><br>  Je l'ai fait pour la première fois! <br><br>  Eh bien, il m'a demandé d'entrer le numéro de voiture, les lieux et les 4 derniers chiffres du passeport pour autorisation, et ici j'étais déjà un peu intéressé par ce que je peux faire avec cette grille Sapsan, mais tout de même, le plus penteste de la tâche était prioritaire. <br><br>  Je vais au courrier Yandex, et je vois cette image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8f9/0a6/94d/8f90a694d82627232c4d55c6978c4a1a.png" alt="Internet super lent n'a même pas chargé le courrier"><br><blockquote>  Internet super lent n'a même pas chargé le courrier </blockquote><br>  Et j'ai pensé, et au diable avec lui, je vais devoir lire un livre ... Et puis je me suis souvenu de ce qui a suscité mon intérêt, et c'est l'autorisation en WiFi par les numéros du passeport et le numéro de la place avec la voiture.  Sapsan stocke donc localement des données sur tous les passagers, qui se trouve à quel endroit.  Mais que faire si vous vérifiez à quel point il est difficile d'y accéder. <br><br>  Je n'avais besoin que de NMAP et de quelques exploits publics. <br><br>  Je ne décrirai pas les données d'autorisation dans les systèmes, afin de ne pas offenser les chemins de fer russes (les données d'autorisation sont les mêmes pour tous les faucons pèlerins). <br><br><h3>  Comment j'ai brisé le faucon pèlerin </h3><br>  J'exécute nmap avec les options -v -A sapsan.center et je vois quels ports leur sont ouverts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a5d/a99/41b/a5da9941ba7031c0cc55df6c142c4bcf.png" alt="image"><br><br>  Et je comprends que beaucoup de services sont suspendus. <br><br>  Je n'ouvrirai pas tous les ports, mais on peut voir beaucoup de choses dans les captures d'écran :-) Je pense que vous ne devriez pas le couvrir, car le même hack ne vous prendra pas plus de 20 minutes (20 minutes seulement parce que leur serveur est en retard). <br><br>  Eh bien, je suis allé me ​​promener sur les services qui se tiennent là. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef8/c32/1b9/ef8c321b94121de91816e1c65c706bfa.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/950/97d/532/95097d53238c731714e05dd2a13a8906.png" alt="image"><br><br>  Et sans hésitation, j'ai réalisé qu'ils avaient un serveur pour tout, et il y avait un docker stupide là-bas.  Je suis arrivé à cAdvisor, et ofigel. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/05b/bd6/507/05bbd6507935445f0d39442a4d6b80d9.png" alt="image"><br><br>  Avec la RAM sur leur serveur, tout est mauvais, est-ce que MB est en retard?  Voyons ce qu'ils ont généralement, quels conteneurs fonctionnent, quels processus sont en cours d'exécution, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/305/e21/08c/305e2108ce535ced166140e6669b10b4.png" alt="image"><br><br>  Il veut drôlement courir sous les centos, s'il n'y a pas de Windows à mettre ensuite, mais si je me souviens bien, Net Core mange plus sous la ligne de RAM que sous Windows. <br><br>  Ensuite, je suis allé étudier le contenu des conteneurs et j'ai envahi le système avec quelques CVE publics.  (ils ont des mots de passe simples et l'accès ssh à la racine est ouvert). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a98/a7b/abf/a98a7babf87d67a9f355533263efa878.png" alt="image"><br><br>  Ils avaient beaucoup de bonnes informations stockées sur le disque, et dans la base de données (mysql), ils avaient tous les passagers des vols actuels et passés. <br><br>  De là aussi vers le réseau des chemins de fer russes, il y a vpn.  Si vous le souhaitez, vous le trouverez vous-même. <br><br>  Mais surtout, j'ai été tué par le fait que les chemins de fer russes n'ont même pas dépensé pour un certificat, et mettons cryptons leurs domaines pour HTTPS <br><br><img src="https://habrastorage.org/getpro/habr/post_images/94c/8b2/54f/94c8b254f7c68c9edc68667d3996a2ca.png" alt="image"><br><br>  La conclusion de tout cela: <br><br>  Je n'ai pas pris beaucoup de captures d'écran, car je ne pensais pas écrire un article.  Mais il y a quelques années, je me suis déjà adressé aux chemins de fer russes avec une vulnérabilité, et ils m'ont rasé avec le paiement et l'ont juste fixé, donc mon attitude envers eux n'est pas si chaude.  Bien que je ne publie pas de données personnelles. <br><br>  Tout est terriblement configuré, les mêmes mots de passe partout - signe d'un bon administrateur, et le stockage des données dans des documents texte bourdonne également.  Surtout des tâches dans la couronne.  Chemins de fer russes, corrigez tout, je vérifierai à nouveau dans quelques mois. <br><br>  Tous ceux qui sont connectés à leur WiFi sont soumis à un trafic de renifleur, car tout passe par leurs mandataires, vous pouvez facilement collecter le trafic HTTP, mais si vous essayez un peu, puis HTTPS (vérifié). <br><br>  Il n'est pas difficile d'accéder aux données des passagers du vol, et cela prend 20 minutes sur leur force. <br><br>  J'espère que vous avez apprécié ma lecture, même si je ne sais pas comment écrire des articles.  Par fan mb quelque chose d'autre puis se détacher. <br><br>  Tout va bien et pauses pour le fan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476034/">https://habr.com/ru/post/fr476034/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476018/index.html">Comment fonctionne Flutter</a></li>
<li><a href="../fr476022/index.html">Vue Storefront: Relever le backend</a></li>
<li><a href="../fr476024/index.html">Meilleure architecture pour MVP: monolith, SOA, microservices ou sans serveur? .. Partie 1</a></li>
<li><a href="../fr476026/index.html">Cool Life Hacks pour travailler avec WSL (sous-système Windows pour Linux)</a></li>
<li><a href="../fr476032/index.html">Brunner Elektronik - Du système de CAO au cockpit</a></li>
<li><a href="../fr476038/index.html">Créez des applications cloud à la pointe de la technologie à l'aide de Pulumi et .NET Core</a></li>
<li><a href="../fr476040/index.html">L'architecture rencontre l'IA chez Microsoft</a></li>
<li><a href="../fr476042/index.html">13 astuces utiles pour travailler avec des tableaux en JavaScript qui peuvent être utiles</a></li>
<li><a href="../fr476048/index.html">Enquête Frontend Tools 2019 - Résultats</a></li>
<li><a href="../fr476052/index.html">ML.NET: impressions de Model Builder et pas seulement</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>