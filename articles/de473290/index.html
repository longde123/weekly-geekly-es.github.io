<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úâÔ∏è üë≤üèª ‚ùì Julia. Wo soll ich das Projekt starten? ... üåÅ üßíüèΩ üë®üèæ‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sehr oft werden bei der L√∂sung von Analyse- und Datenaufbereitungsproblemen einmalige Skripte geschrieben, deren Unterst√ºtzung und Entwicklung √ºberhau...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia. Wo soll ich das Projekt starten? ...</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473290/"><p><img src="https://habrastorage.org/webt/uw/im/j-/uwimj-szeadoje1blyonhxftmsw.png"></p><br><p>  Sehr oft werden bei der L√∂sung von Analyse- und Datenaufbereitungsproblemen einmalige Skripte geschrieben, deren Unterst√ºtzung und Entwicklung √ºberhaupt nicht bereitgestellt wird.  Dieser Ansatz hat ein Existenzrecht, insbesondere in der Studentengemeinschaft.  Wenn jedoch mehr als eine Person mit dem Code arbeitet oder der Code l√§nger als einen Arbeitstag gepflegt werden muss, ist die M√∂glichkeit, die Arbeit in Form eines Dateihaufens zu organisieren, nicht akzeptabel. <br>  Daher werden wir heute √ºber ein so wichtiges Thema sprechen, wie das Erstellen eines Projekts von Grund auf in der Julia-Sprache, wie es gef√ºllt wird und welche technologischen Tools zur Unterst√ºtzung der Entwicklung vorhanden sind. </p><a name="habracut"></a><br><h2 id="proekt">  Projekt </h2><br><p>  Wie bereits erw√§hnt, haben einmalige Skripte oder Jupyter-Notizb√ºcher das Recht, auf dem Desktop einer Person zu existieren, insbesondere wenn die Programmiersprache als erweiterter Taschenrechner verwendet wird.  Dieser Ansatz ist jedoch f√ºr die Entwicklung von Projekten, die jahrelang entwickelt und betrieben werden sollten, v√∂llig ungeeignet.  Und nat√ºrlich verf√ºgt Julia als Technologieplattform √ºber Tools, die Entwicklern diese M√∂glichkeit bieten. </p><br><p> F√ºr den Anfang ein paar allgemeine Punkte.  Julia hat ein Pkg-Modul f√ºr die Paketverwaltung.  Jede Julia-Bibliothek ist ein Modul.  Wenn das Modul nicht im Julia-Basiskit enthalten ist, wird es als separates Paket ausgegeben.  F√ºr jedes Paket gibt es eine Projektdatei <code>Project.toml</code> , die eine Beschreibung des Projekts und seiner Abh√§ngigkeit von anderen Paketen enth√§lt.  Es gibt eine zweite Datei - <code>Manifest.toml</code> , die im Gegensatz zu <code>Project.toml</code> automatisch generiert wird und eine Liste aller erforderlichen Abh√§ngigkeiten mit Paketversionsnummern enth√§lt.  Das Toml-Dateiformat ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Toms offensichtliche, minimale Sprache</a> . </p><br><h3 id="pravila-imenovaniya-paketa">  Regeln f√ºr die Paketbenennung </h3><br><p>  Gem√§√ü der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> kann der Paketname aus lateinischen Buchstaben und Zahlen bestehen.  Und dieser Name sollte so gew√§hlt werden, dass es den meisten Julia-Benutzern und nicht nur Experten in einem engen Themenbereich klar ist. </p><br><ul><li>  Jargon und kontroverse Kontraktionen, die in verschiedenen Bereichen unterschiedlich verwendet werden, sollten vermieden werden. </li><li>  Verwenden Sie nicht das Wort Julia im Paketnamen. </li><li>  Pakete, die einige Funktionen zusammen mit den darin deklarierten neuen Typen bereitstellen, sollten im Plural benannt werden. <br>  ‚ó¶ DataFrames bietet einen DataFrame-Typ. <br>  ‚ó¶ BloomFilters bietet den BloomFilter-Typ. <br>  ‚ó¶ Gleichzeitig stellt JuliaParser keinen neuen Typ zur Verf√ºgung, und die neue Funktionalit√§t ist die Funktion JuliaParser.parse (). </li><li>  Transparenz und Verst√§ndlichkeit unter Verwendung des vollst√§ndigen Namens sollten der Abk√ºrzung vorgezogen werden.  <code>RandomMatrices</code> weniger mehrdeutig als <code>RndMat</code> oder <code>RMT</code> . </li><li>  Der Name kann den Besonderheiten des Themenbereichs entsprechen.  Beispiele: <br>  ‚ó¶ Julia hat keine eigenen Grafikzeichnungspakete.  Stattdessen gibt es Pakete wie <code>Gadfly</code> , <code>PyPlot</code> , <code>Winston</code> usw., von denen jedes seinen eigenen Ansatz und seine eigene Methodik f√ºr die Verwendung implementiert. <br>  ‚ó¶ Gleichzeitig bietet <code>SortingAlgorithms</code> eine vollst√§ndige Schnittstelle f√ºr die Verwendung von Sortieralgorithmen. </li><li>  In F√§llen, in denen Pakete ein Wrapper f√ºr einige Bibliotheken von Drittanbietern sind, behalten sie den Namen dieser Bibliothek bei.  Beispiele: <br>  ‚ó¶ <code>CPLEX.jl</code> ist ein Wrapper √ºber die <code>CPLEX</code> Bibliothek. <br>  ‚ó¶ <code>MATLAB.jl</code> bietet eine Schnittstelle zum Aktivieren von <code>MATLAB</code> von Julia aus. </li></ul><br><p>  Gleichzeitig hat der Name des Git-Repositorys normalerweise das Suffix ‚Äû.jl‚Äú. </p><br><h3 id="generaciya-paketa">  Paketerstellung </h3><br><p>  Der einfachste Weg, ein Paket zu erstellen, besteht darin, es mit einem in Julia integrierten Generator zu generieren.  Dazu m√ºssen Sie in der Konsole in das Verzeichnis wechseln, in dem das Paket erstellt werden soll, dann julia ausf√ºhren und in den Paketverwaltungsmodus versetzen: </p><br><pre> <code class="julia hljs">julia&gt; ]</code> </pre> <br><p>  Der letzte Schritt besteht darin, den Paketgenerator zu starten, indem Sie den Namen angeben, den wir dem Paket geben m√∂chten. </p><br><pre> <code class="julia hljs">(v1<span class="hljs-number"><span class="hljs-number">.2</span></span>) pkg&gt; generate HelloWorld</code> </pre> <br><p>  Infolgedessen wird im aktuellen Verzeichnis ein neues Verzeichnis angezeigt, das dem Namen des Pakets entspricht, dessen Zusammensetzung mit dem Befehl <code>tree</code> (falls installiert) angezeigt werden kann: </p><br><pre> <code class="julia hljs">shell&gt; cd HelloWorld shell&gt; tree . . ‚îú‚îÄ‚îÄ Project.toml ‚îî‚îÄ‚îÄ src ‚îî‚îÄ‚îÄ HelloWorld.jl <span class="hljs-number"><span class="hljs-number">1</span></span> directory, <span class="hljs-number"><span class="hljs-number">2</span></span> files</code> </pre> <br><p>  In diesem Fall sehen wir einen minimalen, aber unzureichenden Satz von Dateien f√ºr ein gut gestaltetes Projekt. Weitere Informationen finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.github.io/Pkg.jl/v1/creating-packages/</a> . </p><br><p>  Eine alternative M√∂glichkeit zum Erstellen von Paketen ist der Generator <a href="">PkgTemplates.jl</a> .  Im Gegensatz zum integrierten Generator k√∂nnen Sie sofort einen vollst√§ndigen Satz von Servicedateien f√ºr die Wartung des Pakets generieren.  Der einzige Nachteil ist, dass es selbst als Paket installiert werden muss. </p><br><p>  Das Verfahren zum Erstellen eines Pakets mit seiner Hilfe ist wie folgt.  Wir verbinden ein Paket: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> PkgTemplates</code> </pre> <br><p>  Wir erstellen eine Vorlage, die eine Liste der Autoren, eine Lizenz, Anforderungen f√ºr Julia und eine Liste der Plugins f√ºr kontinuierliche Integrationssysteme enth√§lt (ein Beispiel aus der Dokumentation f√ºr <code>PkgTemplates</code> ): </p><br><pre> <code class="julia hljs">julia&gt; t = Template(; user=<span class="hljs-string"><span class="hljs-string">"myusername"</span></span>, <span class="hljs-comment"><span class="hljs-comment">#   github license="ISC", #   authors=["Chris de Graaf", "Invenia Technical Computing Corporation"], dir="~/code", # ,    julia_version=v"1.0", #   Julia plugins=[ #     TravisCI(), Codecov(), Coveralls(), AppVeyor(), GitHubPages(), CirrusCI(), ], )</span></span></code> </pre> <br><p>  Wir bekommen die Vorlage: </p><br><pre> <code class="julia hljs">Template: ‚Üí User: myusername ‚Üí Host: github.com ‚Üí License: ISC (Chris de Graaf, Invenia Technical Computing Corporation <span class="hljs-number"><span class="hljs-number">2018</span></span>) ‚Üí Package directory: ~/code ‚Üí Minimum Julia version: v0<span class="hljs-number"><span class="hljs-number">.7</span></span> ‚Üí SSH remote: No ‚Üí Commit Manifest.toml: No ‚Üí Plugins: ‚Ä¢ AppVeyor: ‚Üí Config file: Default ‚Üí <span class="hljs-number"><span class="hljs-number">0</span></span> gitignore entries ‚Ä¢ Codecov: ‚Üí Config file: None ‚Üí <span class="hljs-number"><span class="hljs-number">3</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"*.jl.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.*.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.mem"</span></span> ‚Ä¢ Coveralls: ‚Üí Config file: None ‚Üí <span class="hljs-number"><span class="hljs-number">3</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"*.jl.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.*.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.mem"</span></span> ‚Ä¢ GitHubPages: ‚Üí <span class="hljs-number"><span class="hljs-number">0</span></span> asset files ‚Üí <span class="hljs-number"><span class="hljs-number">2</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"/docs/build/"</span></span>, <span class="hljs-string"><span class="hljs-string">"/docs/site/"</span></span> ‚Ä¢ TravisCI: ‚Üí Config file: Default ‚Üí <span class="hljs-number"><span class="hljs-number">0</span></span> gitignore entries</code> </pre> <br><p>  Mit dieser Vorlage k√∂nnen wir nun Pakete erstellen, indem wir einfach ihren Namen angeben: </p><br><pre> <code class="julia hljs">julia&gt; generate(t, <span class="hljs-string"><span class="hljs-string">"MyPkg1"</span></span>)</code> </pre> <br><p>  In einer Minimalversion sieht die Vorlage m√∂glicherweise folgenderma√üen aus: </p><br><pre> <code class="julia hljs">julia&gt; t = Template(; user=<span class="hljs-string"><span class="hljs-string">"rssdev10"</span></span>, authors=[<span class="hljs-string"><span class="hljs-string">"rssdev10"</span></span>]) Template: ‚Üí User: rssdev10 ‚Üí Host: github.com ‚Üí License: MIT (rssdev10 <span class="hljs-number"><span class="hljs-number">2019</span></span>) ‚Üí Package directory: ~/.julia/dev ‚Üí Minimum Julia version: v1<span class="hljs-number"><span class="hljs-number">.0</span></span> ‚Üí SSH remote: No ‚Üí Add packages to main environment: Yes ‚Üí Commit Manifest.toml: No ‚Üí Plugins: None</code> </pre> <br><p>  Wenn wir aus dieser Vorlage ein Paket mit dem Namen MyPkg2 erstellen: </p><br><pre> <code class="julia hljs">julia&gt; generate(t, <span class="hljs-string"><span class="hljs-string">"MyPkg2"</span></span>)</code> </pre> <br><p>  Dann k√∂nnen wir das Ergebnis direkt von Julia √ºberpr√ºfen: </p><br><pre> <code class="julia hljs">julia&gt; run(<span class="hljs-string"><span class="hljs-string">`git -C </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(joinpath(t.dir, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"MyPkg2"</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)</span></span></span><span class="hljs-string">) ls-files`</span></span>); .appveyor.yml .gitignore .travis.yml LICENSE Project.toml README.md REQUIRE docs/Manifest.toml docs/Project.toml docs/make.jl docs/src/index.md src/MyPkg2.jl test/runtests.jl</code> </pre> <br><p>  Die folgenden Felder sollten beachtet werden: </p><br><ul><li>  <code>user="myusername"</code> ist der Name f√ºr den Eintrag in der Git-Registrierung. </li><li>  Verzeichnis f√ºr die Platzierung des Paketcodes.  Wenn nicht angegeben, wird es im Entwicklungsverzeichnis <code>~/.julia/dev</code> .  Dar√ºber hinaus ist das <code>~/.julia</code> gem√§√ü den Regeln von Unix-Dateisystemen ausgeblendet. </li></ul><br><p>  Nach dem Erstellen des Projekts wird ein ausreichender Satz von Dateien generiert und ein Git-Repository erstellt.  Dar√ºber hinaus werden alle generierten Dateien automatisch zu diesem Repository hinzugef√ºgt. </p><br><h3 id="tipovoe-raspolozhenie-faylov-v-proekte">  Typischer Dateispeicherort in einem Projekt </h3><br><p>  Wir leihen uns ein Bild mit einer typischen Anordnung von Dateien und deren Inhalten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://en.wikibooks.org/wiki/Introducing_Julia/Modules_and_packages aus</a> , aber wir werden es ein wenig erweitern: </p><br><pre> <code class="julia hljs">Calculus.jl/ <span class="hljs-comment"><span class="hljs-comment">#    Calculus deps/ #       docs/ #       src/ #    Calculus.jl #    ‚Äî   . module Calculus #        ! import Base.ctranspose #     , export derivative, check_gradient, #      ... include("derivative.jl") #     include("check_derivative.jl") include("integrate.jl") import .Derivative end #   Calculus.jl derivative.jl #     - , module Derivative #    Calculus.jl export derivative function derivative() ... end ‚Ä¶ end check_derivative.jl #     , function check_derivative(f::...)#     ... # "include("check_derivative.jl")"  Calculus.jl end ‚Ä¶ integrate.jl #     , function adaptive_simpsons_inner(f::Funct#      Calculus.jl ... end ... symbolic.jl #     Calculus.jl export processExpr, BasicVariable, ...#       import Base.show, ... #     Base , type BasicVariable &lt;: AbstractVariable# ...       ... end function process(x::Expr) ... end ... test/ #     Calculus runtests.jl #     using Calculus #    Calculus... using Test #   Base.Test... tests = ["finite_difference", ... #  -   ... for t in tests include("$(t).jl") # ...     end ... finite_difference.jl #    -   @test ... # ...      runtests.jl ...</span></span></code> </pre> <br><p>  Wir f√ºgen hinzu, dass das <code>deps</code> Verzeichnis m√∂glicherweise die Dateien enth√§lt, die f√ºr die korrekte Zusammenstellung des Pakets erforderlich sind.  Beispielsweise ist <code>deps/build.jl</code> ein Skript, das automatisch ausgef√ºhrt wird, wenn das Paket installiert wird.  Das Skript kann beliebigen Code f√ºr die Datenaufbereitung (Herunterladen eines Datensatzes oder Vorverarbeitung) oder andere f√ºr die Arbeit erforderliche Programme enthalten. </p><br><p>  Es ist zu beachten, dass ein Projekt nur ein Hauptmodul enthalten kann.  Das hei√üt, im obigen Beispiel - <code>Calculus</code> .  Im selben Beispiel gibt es jedoch ein verschachteltes Derivatmodul, das eine Verbindung √ºber <code>include</code> .  Achten Sie darauf.  <code>include</code> schlie√üt die Datei als Text ein, nicht als Modul, was beim <code>using</code> oder <code>import</code> .  Die letzten beiden Funktionen umfassen nicht nur das Modul, sondern zwingen Julia, es als separate Entit√§t zu kompilieren.  Au√üerdem wird Julia versuchen, dieses Modul in den Abh√§ngigkeitspaketen zu finden und eine Warnung ausgeben, dass es in <code>Project.toml</code> fehlt.  Wenn unsere Aufgabe darin besteht, hierarchischen Zugriff auf Funktionen zu erm√∂glichen und diese durch Namespaces abzugrenzen, f√ºgen wir Dateien √ºber <code>include</code> und aktivieren das Modul durch einen Punkt, der die lokale Zugeh√∂rigkeit angibt.  Also: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span> Calculus include(<span class="hljs-string"><span class="hljs-string">"derivative.jl"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> .Derivative ... <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Die <code>derivative</code> , die aus dem <code>Derivative</code> exportiert wird, steht uns √ºber <code>Calculus.Derivative.derivative()</code> </p><br><h2 id="fayl-proekta-projecttoml">  Project.toml Projektdatei </h2><br><p>  Die Projektdatei ist eine Textdatei.  Die Hauptabschnitte sind in der Beschreibung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.github.io/Pkg.jl/v1/toml-files/ angegeben.</a> </p><br><p>  Nachdem die Datei generiert wurde, sind bereits alle erforderlichen Felder vorhanden.  M√∂glicherweise m√ºssen Sie jedoch einen Teil der Beschreibung √§ndern, die Zusammensetzung der Pakete, ihre Versionen und die spezifischen Abh√§ngigkeiten verschiedener Betriebssysteme oder Konfigurationen √§ndern. </p><br><p>  Die Hauptfelder sind: </p><br><pre> <code class="plaintext hljs">name = "Example" uuid = "7876af07-990d-54b4-ab0e-23690620f79a" version = "1.2.5"</code> </pre> <br><p>  <code>name</code> - Der Name des Pakets, das gem√§√ü den Namensregeln ausgew√§hlt wurde.  <code>uuid</code> ist eine einheitliche Kennung, die von einem Paketgenerator oder einem anderen <code>uuid</code> Generator generiert werden kann.  <code>version</code> - <code>version</code> Pakets im Format von drei durch Punkte getrennten Dezimalzahlen.  Dies entspricht dem Format von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Semantic Versioning 2.0.0</a> .  Vor der deklarierten Version 1.0.0 sind √Ñnderungen an der Programmoberfl√§che m√∂glich.  Nach der Ver√∂ffentlichung dieser Version muss der Paketinhaber die Kompatibilit√§tsregeln einhalten.  Kompatible √Ñnderungen sollten in der kleinen Zahl (rechts) angezeigt werden.  Inkompatible √Ñnderungen m√ºssen mit einer √Ñnderung der hohen Anzahl einhergehen.  Nat√ºrlich gibt es keine automatische Kontrolle √ºber die Versionsregel, aber die Nichteinhaltung der Regel f√ºhrt lediglich dazu, dass Benutzer des Pakets die Verwendung massiv einstellen und auf das Paket migrieren, dessen Autoren diese Regel einhalten. </p><br><p>  Alle <code>[deps]</code> Abschnitt <code>[deps]</code> . </p><br><pre> <code class="plaintext hljs">[deps] Example = "7876af07-990d-54b4-ab0e-23690620f79a" Test = "8dfed614-e22c-5e08-85e1-65c5234f0b40"</code> </pre> <br><p>  Dieser Abschnitt enth√§lt eine Liste der direkten Abh√§ngigkeiten unseres Pakets.  Kaskadierende Abh√§ngigkeiten spiegeln sich in der Datei <code>Manifest.toml</code> wider, die automatisch im Projektverzeichnis generiert wird.  Alle Abh√§ngigkeiten werden durch <code>=</code> .  Und normalerweise ist dieser Teil nicht mit H√§nden gef√ºllt.  Hierzu werden die Funktionen des <code>Pkg</code> Pakets bereitgestellt.  Und meistens geschieht dies √ºber <code>REPL</code> und wechselt in den Paketverwaltungsmodus - <code>]</code> .  Weiter - die Operationen <code>add</code> , <code>rm</code> , <code>st</code> usw., jedoch immer im Kontext des aktuellen Pakets.  Wenn nicht, m√ºssen Sie die <code>activate .</code> ausf√ºhren <code>activate .</code>  . </p><br><p>  <code>Manifest.toml</code> kann im <code>git</code> Versionskontrollsystem gespeichert werden.  Mit diesem Ansatz mit zwei Dateien k√∂nnen Sie die Pakete im Abh√§ngigkeitsbaum w√§hrend des Testens des Softwareprodukts starr fixieren. Danach wird garantiert, dass bei der Bereitstellung unseres Pakets an einem neuen Speicherort dieselben Versionen von Paketen von Drittanbietern dort wiederholt werden.  Umgekehrt erhalten Sie in Abwesenheit von <code>Manifest.toml</code> die M√∂glichkeit, alle verf√ºgbaren Versionen zu verwenden, die die Grundbedingungen erf√ºllen. </p><br><p>  Im Abschnitt <code>[compat]</code> k√∂nnen Sie bestimmte Versionen von Paketen angeben, die wir ben√∂tigen. </p><br><pre> <code class="plaintext hljs">[deps] Example = "7876af07-990d-54b4-ab0e-23690620f79a" [compat] Example = "1.2" julia = "1.1"</code> </pre> <br><p>  Pakete werden durch den Namen identifiziert, der zuvor im Abschnitt <code>[compat]</code> .  Julia zeigt die Version von Julia selbst an. </p><br><p>  Bei der Angabe von Versionen gelten die unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.github.io/Pkg.jl/dev/compatibility/</a> aufgef√ºhrten Regeln.  Die gleichen Regeln sind jedoch in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">semantischen Versionierung angegeben</a> . </p><br><p>  Es gibt verschiedene Versionsregeln.  Zum Beispiel: </p><br><pre> <code class="plaintext hljs">[compat] Example = "1.2, 2"</code> </pre> <br><p>  bedeutet, dass jede Version im Bereich <code>[1.2.0, 3.0.0)</code> geeignet ist, ohne <code>3.0.0</code> .  Und dies steht im Einklang mit einer einfacheren Regel: </p><br><pre> <code class="plaintext hljs">[compat] Example = "1.2"</code> </pre> <br><p>  Dar√ºber hinaus ist die einfache Angabe der Versionsnummer eine abgek√ºrzte Form von <code>"^1.2"</code> .  Ein Beispiel f√ºr die Anwendung sieht aus wie: </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "^1.2.3" # [1.2.3, 2.0.0) PkgB = "^1.2" # [1.2.0, 2.0.0) PkgC = "^1" # [1.0.0, 2.0.0) PkgD = "^0.2.3" # [0.2.3, 0.3.0) PkgE = "^0.0.3" # [0.0.3, 0.0.4) PkgF = "^0.0" # [0.0.0, 0.1.0) PkgG = "^0" # [0.0.0, 1.0.0)</code> </pre> <br><p>  Wenn wir strengere Einschr√§nkungen festlegen m√ºssen, muss ein Formular mit einer Tilde verwendet werden. </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "~1.2.3" # [1.2.3, 1.3.0) PkgB = "~1.2" # [1.2.0, 1.3.0) PkgC = "~1" # [1.0.0, 2.0.0) PkgD = "~0.2.3" # [0.2.3, 0.3.0) PkgE = "~0.0.3" # [0.0.3, 0.0.4) PkgF = "~0.0" # [0.0.0, 0.1.0) PkgG = "~0" # [0.0.0, 1.0.0)</code> </pre> <br><p>  Nun, und nat√ºrlich gibt es einen Hinweis auf gleiche Vorzeichen / Ungleichheiten: </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "&gt;= 1.2.3" # [1.2.3, ‚àû) PkgB = "‚â• 1.2.3" # [1.2.3, ‚àû) PkgC = "= 1.2.3" # [1.2.3, 1.2.3] PkgD = "&lt; 1.2.3" # [0.0.0, 1.2.2]</code> </pre> <br><p>  Im Abschnitt <code>[targets]</code> mehrere Optionen f√ºr Abh√§ngigkeiten angegeben werden.  In Julia vor Version 1.2 wurden traditionell Abh√§ngigkeiten f√ºr die Verwendung des Pakets und f√ºr die Ausf√ºhrung von Tests angegeben.  Zu diesem Zweck wurden im Abschnitt <code>[extras]</code> zus√§tzliche Pakete angegeben und Zielkonfigurationen mit Paketnamen unter <code>[targets]</code> aufgelistet. </p><br><pre> <code class="plaintext hljs">[extras] Markdown = "d6f4376e-aef5-505a-96c1-9c027394607a" Test = "8dfed614-e22c-5e08-85e1-65c5234f0b40" [targets] test = ["Markdown", "Test"]</code> </pre> <br><p>  Ab Julia 1.2 wird empfohlen, einfach eine separate Projektdatei f√ºr die <code>test/Project.toml</code> hinzuzuf√ºgen. </p><br><h2 id="dopolnitelnye-zavisimosti">  Zus√§tzliche Abh√§ngigkeiten </h2><br><p>  Zus√§tzliche Abh√§ngigkeiten k√∂nnen √ºber die <code>deps/build.jl</code> <code>Artifacts.toml</code> wird jedoch in der Julia-Projektstruktur bereitgestellt.  Die <code>Pkg.Artifacts</code> bietet Funktionen zum Automatisieren des Ladens zus√§tzlicher Abh√§ngigkeiten.  Ein Beispiel f√ºr eine solche Datei: </p><br><pre> <code class="plaintext hljs"># Example Artifacts.toml file [socrates] git-tree-sha1 = "43563e7631a7eafae1f9f8d9d332e3de44ad7239" lazy = true [[socrates.download]] url = "https://github.com/staticfloat/small_bin/raw/master/socrates.tar.gz" sha256 = "e65d2f13f2085f2c279830e863292312a72930fee5ba3c792b14c33ce5c5cc58" [[socrates.download]] url = "https://github.com/staticfloat/small_bin/raw/master/socrates.tar.bz2" sha256 = "13fc17b97be41763b02cbb80e9d048302cec3bd3d446c2ed6e8210bddcd3ac76" [[c_simple]] arch = "x86_64" git-tree-sha1 = "4bdf4556050cb55b67b211d4e78009aaec378cbc" libc = "musl" os = "linux" [[c_simple.download]] sha256 = "411d6befd49942826ea1e59041bddf7dbb72fb871bb03165bf4e164b13ab5130" url = "https://github.com/JuliaBinaryWrappers/c_simple_jll.jl/releases/download/c_simple+v1.2.3+0/c_simple.v1.2.3.x86_64-linux-musl.tar.gz" [[c_simple]] arch = "x86_64" git-tree-sha1 = "51264dbc770cd38aeb15f93536c29dc38c727e4c" os = "macos" [[c_simple.download]] sha256 = "6c17d9e1dc95ba86ec7462637824afe7a25b8509cc51453f0eb86eda03ed4dc3" url = "https://github.com/JuliaBinaryWrappers/c_simple_jll.jl/releases/download/c_simple+v1.2.3+0/c_simple.v1.2.3.x86_64-apple-darwin14.tar.gz" [processed_output] git-tree-sha1 = "1c223e66f1a8e0fae1f9fcb9d3f2e3ce48a82200"</code> </pre> <br><p>  Wir werden nicht n√§her darauf eingehen, da die weitere Beschreibung vom spezifischen Anwendungsfall abh√§ngt.  Die Bibliotheksfunktionen <code>artifact_hash</code> , <code>download</code> , <code>create_artifact</code> , <code>bind_artifact</code> .  Weitere Informationen finden Sie in der Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.github.io/Pkg.jl/dev/artifacts/</a> . </p><br><h2 id="realizaciya-osnovnogo-koda-i-otladka">  Implementierung und Debugging des Hauptcodes </h2><br><p>  Nat√ºrlich geben wir das Entwicklungsverzeichnis beim Erstellen des Pakets explizit oder implizit an.  Bei Bedarf k√∂nnen wir dies jedoch √§ndern.  Wenn das Paket von <code>PkgTemplates</code> mit Standardparametern generiert wurde, suchen Sie es im <code>~/.julia/dev</code> .  Trotz der Tatsache, dass das Verzeichnis ausgeblendet ist, ist der √úbergang zu ihm √ºber einen direkten Link im Datei-Navigator m√∂glich.  F√ºr MacOS im Finder erfolgt dies beispielsweise durch Dr√ºcken von Befehlstaste + Umschalttaste + G.  Wenn das Paket in einem anderen Verzeichnis erstellt wurde, √∂ffnen Sie es einfach in einem Texteditor.  Der beste Editor f√ºr die Arbeit mit Julia-Code ist Atom und alles, was das <code>uber-juno</code> Plugin unterst√ºtzt.  In diesem Fall erhalten Sie einen Texteditor mit automatischer Formatierung des Codes, eine REPL-Konsole f√ºr die interaktive Codeausf√ºhrung, die M√∂glichkeit, nur ausgew√§hlte Codefragmente auszuf√ºhren und die Ergebnisse anzuzeigen, einschlie√ülich der Anzeige von Grafiken.  Und auch ein schrittweiser Debugger.  Obwohl wir zugeben m√ºssen, dass es im Moment ziemlich langsam ist, also der aktuelle Debugging-Modus - zuerst denken wir, dass wir die Debug-Ausgabe √ºberpr√ºfen und setzen wollen, dann f√ºhren wir den Test zum Testen aus. </p><br><p>  Es wird empfohlen, g√§ngige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwurfsmuster f√ºr dynamische Programmiersprachen zu betrachten</a> .  Auch das Buch "Hands-On Design Patterns mit Julia 1.0. Tom Kwong" und <a href="">Beispielcode daf√ºr</a> .  Bei der Implementierung von Programmen sollten Sie die Empfehlungen zum Programmierstil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Julia Style Guide</a> ber√ºcksichtigen. </p><br><p>  Unter den Feinheiten des Debuggens kann das <code>Revise.jl</code> Paket erw√§hnt werden.  Die Aktivierung kann in der Datei <code>.julia/config/startup.jl</code> nur f√ºr den interaktiven Modus festgelegt werden, in dem REPL √ºber den Atom-Editor ausgef√ºhrt werden kann.  Mit Revise k√∂nnen Sie den Funktionscode in unserem Paket bearbeiten, ohne die REPL-Sitzung neu zu starten. Bei jeder Ausf√ºhrung mit / import in unseren Tests werden diese Aktualisierungen aktiviert. </p><br><p>  F√ºr eine effektive Entwicklung wird empfohlen, den Hauptcode und die Tests, die ihn testen, parallel zu entwickeln.  Auf diese Weise k√∂nnen Sie nur das implementieren, was wirklich ben√∂tigt wird, da sonst in den Tests offensichtlich unn√∂tige Funktionen vorhanden sind.  Daher m√ºssen sie entfernt werden.  Im Wesentlichen bietet Julia nichts Spezifisches in den Prinzipien der Entwicklung.  Der Schwerpunkt liegt jedoch auf der Entwicklung durch Unit-Tests, da Julia den Code ziemlich langsam kompiliert und im schrittweisen Debugging-Modus die Leistung stark reduziert wird.  Das hei√üt, es h√§ngt von der Entwicklung der Tests, ihrer Organisation und der Geschwindigkeit ab, mit der das zu entwickelnde Paket debuggt und verifiziert wird. </p><br><h2 id="testy">  Tests </h2><br><p>  Ein typischer Testort ist das Testverzeichnis.  Die Datei <code>test/runtests.jl</code> ist der Ausgangspunkt f√ºr alle Tests. </p><br><p>  In Bezug auf das oben erw√§hnte Beispiel ist die typische Form der Datei: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Calculus <span class="hljs-comment"><span class="hljs-comment">#    Calculus  ... using Test #   Test... tests = ["finite_difference", "..."]#      -... for t in tests include("$(t).jl") #        end</span></span></code> </pre> <br><p>  Es wird empfohlen, Dateien spezifischer Tests auf der Grundlage der Gruppierung der getesteten Funktionen zu entwickeln.  Beispielsweise k√∂nnen in dem erw√§hnten <code>Calculus</code> verschiedene Algorithmen zum Berechnen von Ableitungen, Integralen usw. vorhanden sein. Es ist logisch, sie mit verschiedenen Tests zu testen, die sich in verschiedenen Dateien befinden. </p><br><p>  F√ºr Unit-Tests stellt Julia das <code>Test</code> aus dem Basisbibliotheks-Set zur Verf√ºgung.  In diesem Modul wird das Makro <code>@test</code> definiert, mit dem die Richtigkeit der angegebenen Anweisung √ºberpr√ºft werden soll.  Beispiele: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> Test Passed julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] + [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] == [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] Test Passed julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> <span class="hljs-literal"><span class="hljs-literal">œÄ</span></span> ‚âà <span class="hljs-number"><span class="hljs-number">3.14</span></span> atol=<span class="hljs-number"><span class="hljs-number">0.01</span></span> Test Passed</code> </pre> <br><p>         <code>‚âà</code> . </p><br><p> ,    ‚Äî <code>@test_throws</code> .  ‚Äî         : </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test_throws</span></span> <span class="hljs-built_in"><span class="hljs-built_in">BoundsError</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">4</span></span>] Test Passed Thrown: <span class="hljs-built_in"><span class="hljs-built_in">BoundsError</span></span></code> </pre> <br><p>    <code>@testset</code> .         .  Zum Beispiel: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"trigonometric identities"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Œ∏ = <span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>*<span class="hljs-literal"><span class="hljs-literal">œÄ</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> sin(-Œ∏) ‚âà -sin(Œ∏) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> cos(-Œ∏) ‚âà cos(Œ∏) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> sin(<span class="hljs-number"><span class="hljs-number">2</span></span>Œ∏) ‚âà <span class="hljs-number"><span class="hljs-number">2</span></span>*sin(Œ∏)*cos(Œ∏) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> cos(<span class="hljs-number"><span class="hljs-number">2</span></span>Œ∏) ‚âà cos(Œ∏)^<span class="hljs-number"><span class="hljs-number">2</span></span> - sin(Œ∏)^<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; Test Summary: | Pass Total trigonometric identities | <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>   ,   <code>@testset</code> ,     .     .        ,     ‚Äî        . </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Foo Tests"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Animals"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Felines"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(<span class="hljs-string"><span class="hljs-string">"cat"</span></span>) == <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Canines"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(<span class="hljs-string"><span class="hljs-string">"dog"</span></span>) == <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Arrays"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(zeros(<span class="hljs-number"><span class="hljs-number">2</span></span>)) == <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(fill(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) == <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Arrays: Test Failed Expression: foo(fill(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) == <span class="hljs-number"><span class="hljs-number">15</span></span> Evaluated: <span class="hljs-number"><span class="hljs-number">16</span></span> == <span class="hljs-number"><span class="hljs-number">15</span></span> [...] Test Summary: | Pass Fail Total Foo Tests | <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> Animals | <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Arrays | <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ERROR: Some tests did not pass: <span class="hljs-number"><span class="hljs-number">3</span></span> passed, <span class="hljs-number"><span class="hljs-number">1</span></span> failed, <span class="hljs-number"><span class="hljs-number">0</span></span> errored, <span class="hljs-number"><span class="hljs-number">0</span></span> broken.</code> </pre> <br><p> <code>@test_broken</code> , <code>@test_skip</code>         . </p><br><h2 id="profilirovanie">  </h2><br><p>      .  <code>julia</code>     : </p><br><pre> <code class="plaintext hljs"> --code-coverage={none|user|all}, --code-coverage Count executions of source lines (omitting setting is equivalent to "user") --code-coverage=tracefile.info Append coverage information to the LCOV tracefile (filename supports format tokens). --track-allocation={none|user|all}, --track-allocation Count bytes allocated by each source line (omitting setting is equivalent to "user")</code> </pre> <br><p> <code>code-coverage</code> ‚Äî     .     (  ),      .   ,          .     <code>.cov</code>      .              . <br>      : </p><br><pre> <code class="julia hljs"> - <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> vectorize(str::<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) <span class="hljs-number"><span class="hljs-number">96</span></span> tokens = str |&gt; tokenizer |&gt; wordpiece <span class="hljs-number"><span class="hljs-number">48</span></span> text = [<span class="hljs-string"><span class="hljs-string">"[CLS]"</span></span>; tokens; <span class="hljs-string"><span class="hljs-string">"[SEP]"</span></span>] <span class="hljs-number"><span class="hljs-number">48</span></span> token_indices = vocab(text) <span class="hljs-number"><span class="hljs-number">48</span></span> segment_indices = [fill(<span class="hljs-number"><span class="hljs-number">1</span></span>, length(tokens) + <span class="hljs-number"><span class="hljs-number">2</span></span>);] <span class="hljs-number"><span class="hljs-number">48</span></span> sample = (tok = token_indices, segment = segment_indices) <span class="hljs-number"><span class="hljs-number">48</span></span> bert_embedding = sample |&gt; bert_model.embed <span class="hljs-number"><span class="hljs-number">48</span></span> collect(sum(bert_embedding, dims=<span class="hljs-number"><span class="hljs-number">2</span></span>)[:]) - <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p> <code>track-allocation</code> ‚Äî      .       ,  ,    ,     ,    <code>.mem</code> . </p><br><p>    : </p><br><pre> <code class="julia hljs"> - <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> vectorize(str::<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> tokens = str |&gt; tokenizer |&gt; wordpiece <span class="hljs-number"><span class="hljs-number">6766790</span></span> text = [<span class="hljs-string"><span class="hljs-string">"[CLS]"</span></span>; tokens; <span class="hljs-string"><span class="hljs-string">"[SEP]"</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span> token_indices = vocab(text) <span class="hljs-number"><span class="hljs-number">11392</span></span> segment_indices = [fill(<span class="hljs-number"><span class="hljs-number">1</span></span>, length(tokens) + <span class="hljs-number"><span class="hljs-number">2</span></span>);] <span class="hljs-number"><span class="hljs-number">1536</span></span> sample = (tok = token_indices, segment = segment_indices) <span class="hljs-number"><span class="hljs-number">0</span></span> bert_embedding = sample |&gt; bert_model.embed <span class="hljs-number"><span class="hljs-number">170496</span></span> collect(sum(bert_embedding, dims=<span class="hljs-number"><span class="hljs-number">2</span></span>)[:]) - <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>       ,     . ,     ,    ,   ,    .      ,     .        . </p><br><p>     ‚Äî       : </p><br><pre> <code class="plaintext hljs">julia --project=@. --code-coverage --track-allocation test/runtests.jl</code> </pre> <br><p>     ‚Äî    <code>Profile.jl</code>   <code>@profile</code> .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.org/blog/2019/09/profilers</a>       .      <code>@noinline</code> ,          .  ,       <code>fib</code>  <code>fib_r</code> . </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@noinline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> fib(n) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ? fib_r(n - <span class="hljs-number"><span class="hljs-number">1</span></span>) + fib_r(n - <span class="hljs-number"><span class="hljs-number">2</span></span>) : <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> julia&gt; <span class="hljs-meta"><span class="hljs-meta">@noinline</span></span> fib_r(n) = fib(n) julia&gt; <span class="hljs-meta"><span class="hljs-meta">@time</span></span> fib(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-number"><span class="hljs-number">0.738735</span></span> seconds (<span class="hljs-number"><span class="hljs-number">3.16</span></span> k allocations: <span class="hljs-number"><span class="hljs-number">176.626</span></span> KiB) <span class="hljs-number"><span class="hljs-number">165580141</span></span> julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Profile julia&gt; <span class="hljs-meta"><span class="hljs-meta">@profile</span></span> fib(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-number"><span class="hljs-number">165580141</span></span> julia&gt; Profile.print(format=:flat, sortedby=:count) Count File Line <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> int.jl <span class="hljs-number"><span class="hljs-number">52</span></span> - <span class="hljs-number"><span class="hljs-number">14</span></span> int.jl <span class="hljs-number"><span class="hljs-number">53</span></span> + <span class="hljs-number"><span class="hljs-number">212</span></span> boot.jl <span class="hljs-number"><span class="hljs-number">330</span></span> eval <span class="hljs-number"><span class="hljs-number">5717</span></span> REPL[<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> fib_r <span class="hljs-number"><span class="hljs-number">6028</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> fib julia&gt; count(==(<span class="hljs-number"><span class="hljs-number">0</span></span>), Profile.fetch()) <span class="hljs-number"><span class="hljs-number">585</span></span></code> </pre> <br><p> <code>@profile fib(40)</code>          .    <code>Profile.print(format=:flat, sortedby=:count)</code>       . ,   ,    ,  <code>fib_r</code>  <code>fib</code>    ,     .     ,     : </p><br><pre> <code class="julia hljs">julia&gt; Profile.print(format=:tree) <span class="hljs-number"><span class="hljs-number">260</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib(::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>) <span class="hljs-number"><span class="hljs-number">112</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r(::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>) <span class="hljs-number"><span class="hljs-number">212</span></span> task.jl:<span class="hljs-number"><span class="hljs-number">333</span></span>; REPL.<span class="hljs-string"><span class="hljs-string">var"##26#27"</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> REPL.jl:<span class="hljs-number"><span class="hljs-number">118</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">macro</span></span> expansion <span class="hljs-number"><span class="hljs-number">212</span></span> REPL.jl:<span class="hljs-number"><span class="hljs-number">86</span></span>; eval_user_input <span class="hljs-number"><span class="hljs-number">212</span></span> boot.jl:<span class="hljs-number"><span class="hljs-number">330</span></span>; eval ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ‚ïé ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ‚ïé ‚ïé ‚ïé <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ...</code> </pre> <br><p>             .    PProf.jl,           . </p><br><p><img src="https://habrastorage.org/webt/c6/6w/lk/c66wlkov5bfkuqbofid1ltdbctc.png"></p><br><p>   . <a href="">https://github.com/vchuravy/PProf.jl</a> . </p><br><h2 id="dokumentirovanie">  </h2><br><p>         <code>doc</code> .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://habr.com/ru/post/439442/</a> <br> , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   Julia</a> . </p><br><p>        <code>Project.toml</code>   ,       .    ,      ,      - , ,   . </p><br><h2 id="ustanovka-paketa">   </h2><br><p>    ,        ,        .    ,     ‚Äî     .   : </p><br><ul><li>       .       .   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/JuliaRegistries/General</a>   . <a href="">https://github.com/JuliaRegistries/Registrator.jl</a> </li><li>       .         . . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.github.io/Pkg.jl/v1/registries/</a> </li><li>     git-.   ‚Äî         ,             ,   Julia      ,     . </li><li>     ,     . </li></ul><br><p>   ,      ,   . ,       ,    git clone,         .     <code>PackageCompiler.jl</code> .  ,    ,  - . </p><br><h2 id="ckripty-dlya-obsluzhivaniya-paketa"> C    </h2><br><p>     - ,     ,    (    -  ,       ),        deps,     <code>deps/build.jl</code> .         .      , , ,      . ,   , ,       ,        .  , ,   <code>build.jl</code> ,     : </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env julia --project=@. using Pkg Pkg.activate(".") Pkg.build() # Pkg.build(; verbose = true) for Julia 1.1 and up Pkg.test() # (coverage=true)</span></span></code> </pre> <br><p>   .  <code>julia --project=@.</code>  Julia  <code>Project.toml</code>   . ,   ‚Äî    <code>build.jl</code>   ,     <code>executable</code> .  ,       <code>julia --project=@. build.jl</code> . </p><br><p>  <code>Pkg.activate(".")</code>        ( <code>Project.toml</code> ). </p><br><p>  <code>Pkg.build()</code>         ,    C-,   .         <code>deps/build.jl</code> ,   . </p><br><p>  <code>Pkg.test()</code>    .    ,  -,     ,    .  -,         ,          .    <code>coverage=true</code>    .      ,      .    <code>build.jl</code>      . </p><br><p> ,         .     ,       <code>PkgTempletes</code> .     ‚Äî   Gitlab CI,  Travis CI,   GitHub   ,      . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p> ,       ,     Julia.  ,              ,     .     ,   ‚Äî          , -,     ,    . ,      . </p><br><h2 id="ssylki">  Referenzen </h2><br><ul><li> <a href="">PkgTemplates: PkgTemplates is a Julia package for creating new Julia packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pkg.jl: Creating Packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Christopher Rackauckas. Developing Julia Packages.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Video</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">A Brief Introduction to Package Management with Julia 1.0</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Introducing Julia/Modules and packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pkg.jl: Artifacts</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pkg.jl: Project.toml and Manifest.toml</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Julia.    </a> </li><li> <a href="">Hands-On Design Patterns with Julia 1.0. Tom Kwong. November 22, 2019. 460 pages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Julia Coding Style Guide</a> </li><li> <a href="">PProf.jl: Sometimes I need a hammer, sometimes I need a drill, this is a hammer-drill</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tom's Obvious, Minimal Language</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jameson Nash. Profiling tool wins and woes</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Semantic Versioning</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473290/">https://habr.com/ru/post/de473290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473278/index.html">Windows Terminal Update: Vorschau 1910</a></li>
<li><a href="../de473282/index.html">Parthenon. Slumdog-Milliard√§re: Wie die Bukhman-Br√ºder zu Milliard√§ren wurden, und Online-Vologda - global</a></li>
<li><a href="../de473284/index.html">Senior, TechLead, Architekt - wie geht es weiter? Wie gehe ich mit einer Arbeitsroutine um und wohin gehe ich?</a></li>
<li><a href="../de473286/index.html">Wir schreiben Schutz gegen DDoS-Angriffe auf XDP. Kernteil</a></li>
<li><a href="../de473288/index.html">Erstellen Sie Ihren Code von Grund auf neu, er wird Ihr Level verbessern</a></li>
<li><a href="../de473292/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 319 (am 21. und 27. Oktober)</a></li>
<li><a href="../de473294/index.html">Speicherverwaltung oder seltener schie√üen Sie sich in den Fu√ü</a></li>
<li><a href="../de473296/index.html">Start ohne Geld. Pers√∂nliche Erfahrung</a></li>
<li><a href="../de473298/index.html">Wie man Prozesse aufbaut und aufh√∂rt, sich √ºber ein Team lustig zu machen</a></li>
<li><a href="../de473300/index.html">PR im digitalen Zeitalter, moderne Treueprogramme und Festivalmarketing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>