<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ‚ğŸ¼ ğŸ‘©ğŸ½â€ğŸš’ å¸å›½ERPã€‚ å¨±ä¹ä¼šè®¡ï¼šæ€»è´¦ï¼Œç§‘ç›®ï¼Œä½™é¢ ğŸ“‰ ğŸ¤µğŸ¾ ğŸ’ˆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•æ¸—é€åˆ°â€œè¡€è…¥ä¼ä¸šâ€çš„æ ¸å¿ƒ-ä¼šè®¡ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°†ç ”ç©¶æ€»è´¦ï¼Œè´¦ç›®å’Œèµ„äº§è´Ÿå€ºè¡¨ï¼Œç¡®å®šå…¶å›ºæœ‰å±æ€§å’Œç®—æ³•ã€‚ æˆ‘ä»¬ä½¿ç”¨Pythonå’Œæµ‹è¯•é©±åŠ¨å¼€å‘æŠ€æœ¯ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è¿›è¡ŒåŸå‹åˆ¶ä½œï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åŸºæœ¬å®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå­—å…¸å’Œå…ƒç»„ï¼‰ä»£æ›¿æ•°æ®åº“ã€‚ è¯¥é¡¹ç›®æ˜¯æ ¹æ®Empire ERPé¡¹ç›®çš„è¦æ±‚å¼€å‘çš„ ã€‚ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¸å›½ERPã€‚ å¨±ä¹ä¼šè®¡ï¼šæ€»è´¦ï¼Œç§‘ç›®ï¼Œä½™é¢</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471304/"><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•æ¸—é€åˆ°â€œè¡€è…¥ä¼ä¸šâ€çš„æ ¸å¿ƒ-ä¼šè®¡ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°†ç ”ç©¶æ€»è´¦ï¼Œè´¦ç›®å’Œèµ„äº§è´Ÿå€ºè¡¨ï¼Œç¡®å®šå…¶å›ºæœ‰å±æ€§å’Œç®—æ³•ã€‚ æˆ‘ä»¬ä½¿ç”¨Pythonå’Œæµ‹è¯•é©±åŠ¨å¼€å‘æŠ€æœ¯ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è¿›è¡ŒåŸå‹åˆ¶ä½œï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åŸºæœ¬å®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå­—å…¸å’Œå…ƒç»„ï¼‰ä»£æ›¿æ•°æ®åº“ã€‚ è¯¥é¡¹ç›®æ˜¯æ ¹æ®<a href="">Empire ERPé¡¹ç›®</a>çš„è¦æ±‚<a href="">å¼€å‘çš„</a> ã€‚ </p><a name="habracut"></a><br><h2 id="uslovie-zadachi"> ä»»åŠ¡æ¡ä»¶ </h2><br><p> å¤ªç©º...å¸å›½æ˜Ÿçƒ...æ•´ä¸ªæ˜Ÿçƒä¸Šçš„ä¸€ä¸ªå·ã€‚ é€€ä¼‘2å¹´åï¼Œäººå£åœ¨2å‘¨å†…å·¥ä½œ2ä¸ªå°æ—¶ã€‚ ä¼šè®¡ç§‘ç›®è¡¨åŒ…å«12ä¸ªèŒä½ã€‚ å¸æˆ·1-4æ˜¯ä¸»åŠ¨çš„ï¼Œå¸æˆ·5-8æ˜¯ä¸»åŠ¨-è¢«åŠ¨çš„ï¼Œå¸æˆ·9-12æ˜¯è¢«åŠ¨çš„ã€‚ å…¬å¸çš„å–‡å­å’Œè¹„ã€‚ æ‰€æœ‰äº¤æ˜“å‡åœ¨ä¸€ä¸ªæŠ¥å‘ŠæœŸå†…è¿›è¡Œï¼ŒæœŸåˆæ²¡æœ‰ä½™é¢ã€‚ </p><br><h2 id="nastroyka-proekta"> é¡¹ç›®è®¾ç½® </h2><br><p> æˆ‘ä»¬ä»githubå…‹éš†é¡¹ç›®ï¼š </p><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/nomhoi/empire-erp.git</code> </pre> <br><p> æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨Python 3.7.4å¼€å‘ã€‚ è®¾ç½®è™šæ‹Ÿç¯å¢ƒï¼Œå°†å…¶æ¿€æ´»å¹¶å®‰è£…<strong>pytest</strong> ã€‚ </p><br><pre> <code class="bash hljs">pip install pytest</code> </pre> <br><h2 id="1-glavnaya-kniga">  1.æ€»è´¦ </h2><br><p> è½¬åˆ°<strong>reaserch / day1 / step1</strong>æ–‡ä»¶å¤¹ã€‚ </p><br><p>  <strong>accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs">DEBIT = <span class="hljs-number"><span class="hljs-number">0</span></span> CREDIT = <span class="hljs-number"><span class="hljs-number">1</span></span> AMOUNT = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralLedger</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-string"><span class="hljs-string">'\nGeneral ledger'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self: res += <span class="hljs-string"><span class="hljs-string">'\n {:2} {:2} {:8.2f}'</span></span>.format(e[DEBIT], e[CREDIT], e[AMOUNT]) res += <span class="hljs-string"><span class="hljs-string">"\n----------------------"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p>  <strong>test_accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> accounting <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> decimal <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * @pytest.fixture <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ledger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GeneralLedger() @pytest.mark.parametrize(<span class="hljs-string"><span class="hljs-string">'entries'</span></span>, [ [(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>), (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>)] ]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_ledger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ledger, entries)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> entries: ledger.append((entry[DEBIT], entry[CREDIT], Decimal(entry[AMOUNT]))) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(ledger) == <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">0</span></span>][DEBIT] == <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">0</span></span>][CREDIT] == <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">0</span></span>][AMOUNT] == Decimal(<span class="hljs-number"><span class="hljs-number">100.00</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">1</span></span>][DEBIT] == <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">1</span></span>][CREDIT] == <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> ledger[<span class="hljs-number"><span class="hljs-number">1</span></span>][AMOUNT] == Decimal(<span class="hljs-number"><span class="hljs-number">100.00</span></span>) print(ledger)</code> </pre> <br><p> å¦‚æˆ‘ä»¬æ‰€è§ï¼Œä¸»è¦ä¹¦ç±ä»¥è®°å½•åˆ—è¡¨çš„å½¢å¼å‘ˆç°ã€‚ æ¯ä¸ªæ¡ç›®éƒ½è®¾è®¡ä¸ºä¸€ä¸ªå…ƒç»„ã€‚ å¯¹äºåˆ°ç›®å‰ä¸ºæ­¢çš„äº¤æ˜“è®°å½•ï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨å€Ÿæ–¹å’Œè´·æ–¹å¸å·ä»¥åŠäº¤æ˜“é‡‘é¢ã€‚ æ—¥æœŸï¼Œæè¿°å’Œå…¶ä»–ä¿¡æ¯å°šä¸éœ€è¦ï¼Œæˆ‘ä»¬å°†åœ¨ä»¥åæ·»åŠ ã€‚ </p><br><p> åœ¨æµ‹è¯•æ–‡ä»¶<strong>ä¸­</strong>åˆ›å»ºäº†<strong>åˆ†ç±»å¸</strong>é”å­˜å™¨å’Œå‚æ•°åŒ–æµ‹è¯•<strong>test_ledger</strong> ã€‚ åœ¨<strong>entrys</strong>æµ‹è¯•å‚æ•°ä¸­ï¼Œæˆ‘ä»¬ç«‹å³ä¼ è¾“æ•´ä¸ªäº¤æ˜“æ¸…å•ã€‚ ä¸ºäº†è¿›è¡Œæ£€æŸ¥ï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ<strong>pytest -s -v</strong>å‘½ä»¤ã€‚ æµ‹è¯•åº”è¯¥é€šè¿‡ï¼Œæˆ‘ä»¬å°†åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°æ€»åˆ†ç±»å¸ä¸­å­˜å‚¨çš„äº¤æ˜“çš„å®Œæ•´åˆ—è¡¨ï¼š </p><br><pre> <code class="bash hljs">General ledger 1 12 100.00 1 11 100.00</code> </pre> <br><h2 id="2-scheta">  2.å¸æˆ· </h2><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†å‘ç¥¨æ”¯æŒæ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚ è½¬åˆ°æ–‡ä»¶å¤¹<strong>day1 / step2</strong> ã€‚ </p><br><p>  <strong>accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralLedger</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, accounts=None)</span></span></span><span class="hljs-function">:</span></span> self.accounts = accounts <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, entry)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.accounts <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.accounts.append_entry(entry) super().append(entry)</code> </pre> <br><p>  <strong>GeneralLedger</strong>ç±»é‡è½½äº†<strong>append</strong>æ–¹æ³•ã€‚ å½“æ‚¨å°†äº¤æ˜“æ·»åŠ åˆ°ä¹¦ç±æ—¶ï¼Œæˆ‘ä»¬ä¼šç«‹å³å°†å…¶æ·»åŠ åˆ°å¸æˆ·ä¸­ã€‚ </p><br><p>  <strong>accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id, begin=Decimal</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">0.00</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.id = id self.begin = begin self.end = begin self.entries = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id, amount)</span></span></span><span class="hljs-function">:</span></span> self.entries.append((id, amount)) self.end += amount <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Accounts</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(dict)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.range = range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.range: self[i] = Account(i) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_entry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, entry)</span></span></span><span class="hljs-function">:</span></span> self[entry[DEBIT]].append(entry[CREDIT], Decimal(entry[AMOUNT])) self[entry[CREDIT]].append(entry[DEBIT], Decimal(-entry[AMOUNT]))</code> </pre> <br><p>  <strong>Accounts</strong>ç±»è¢«è®¾è®¡ä¸ºå­—å…¸ã€‚ åœ¨é”®ä¸­ï¼Œæ˜¯å¸å·ï¼Œåœ¨å€¼ä¸­æ˜¯å¸å·çš„å†…å®¹ï¼Œå³  <strong>Account</strong>ç±»çš„å®ä¾‹ï¼Œè¯¥ç±»åˆåŒ…å«æœŸåˆå’ŒæœŸæœ«ä½™é¢å­—æ®µä»¥åŠä¸æ­¤å¸æˆ·ç›¸å…³çš„äº¤æ˜“åˆ—è¡¨ã€‚ è¯·æ³¨æ„ï¼Œåœ¨æ­¤åˆ—è¡¨ä¸­ï¼Œå€Ÿæ–¹å’Œè´·æ–¹äº¤æ˜“çš„é‡‘é¢å­˜å‚¨åœ¨ä¸€ä¸ªå­—æ®µä¸­ï¼Œå€Ÿæ–¹é‡‘é¢ä¸ºæ­£ï¼Œå€Ÿæ–¹é‡‘é¢ä¸ºè´Ÿã€‚ </p><br><p>  <strong>test_accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.fixture def accounts(): return Accounts() @pytest.fixture def ledger(accounts): return GeneralLedger(accounts)</span></span></code> </pre> <br><p> åœ¨æµ‹è¯•æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†<strong>å¸æˆ·</strong>é”å®šå¹¶è°ƒæ•´äº†<strong>åˆ†ç±»å¸</strong>é”å®šã€‚ </p><br><p>  <strong>test_accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.mark.parametrize('entries', [ [(1, 12, 100.00), (1, 11, 100.00)] ]) def test_accounts(accounts, ledger, entries): for entry in entries: ledger.append((entry[DEBIT], entry[CREDIT], Decimal(entry[AMOUNT]))) assert len(ledger) == 2 assert ledger[0][DEBIT] == 1 assert ledger[0][CREDIT] == 12 assert ledger[0][AMOUNT] == Decimal(100.00) assert len(accounts) == 12 assert accounts[1].end == Decimal(200.00) assert accounts[11].end == Decimal(-100.00) assert accounts[12].end == Decimal(-100.00) print(ledger) print(accounts)</span></span></code> </pre> <br><p> æ·»åŠ äº†ä¸€ä¸ªæ–°æµ‹è¯•<strong>test_accounts</strong> ã€‚ </p><br><p> è¿è¡Œæµ‹è¯•å¹¶è§‚å¯Ÿè¾“å‡ºï¼š </p><br><pre> <code class="bash hljs">General ledger 1 12 100.00 1 11 100.00 ---------------------- Account 1 beg: 0.00 0.00 12: 100.00 0.00 11: 100.00 0.00 end: 200.00 0.00 ---------------------- Account 11 beg: 0.00 0.00 1: 0.00 100.00 end: 0.00 100.00 ---------------------- Account 12 beg: 0.00 0.00 1: 0.00 100.00 end: 0.00 100.00 ----------------------</code> </pre><br><p> åœ¨<strong>Account</strong>å’Œ<strong>Acconts</strong>ç±»ä¸­ï¼Œ <strong>__str__æ–¹æ³•</strong>ä¹Ÿå¾ˆé‡è½½ï¼Œæ‚¨å¯ä»¥åœ¨é¡¹ç›®æºä»£ç ä¸­çœ‹åˆ°ã€‚ ä¸ºäº†æ›´æ¸…æ¥šåœ°è¯´æ˜è¿‡å¸å’Œç»“ä½™ï¼Œåˆ—åœ¨ä¸¤ä¸ªåˆ—ä¸­ï¼šå€Ÿæ–¹å’Œè´·æ–¹ã€‚ </p><br><h2 id="3-scheta-proverka-provodok">  3.å¸æˆ·ï¼šè¿‡å¸éªŒè¯ </h2><br><p> æˆ‘ä»¬å›é¡¾ä»¥ä¸‹è§„åˆ™ï¼š </p><br><pre> <code class="bash hljs">        .         .   -         .</code> </pre> <br><p> ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨<strong>Account</strong>ç±»çš„å®ä¾‹ä¸­ï¼Œæ´»åŠ¨<strong>å¸æˆ·</strong>çš„<strong>æœ€ç»ˆ</strong>å€¼ï¼ˆæœ€ç»ˆä½™é¢ï¼‰ä¸èƒ½ä¸ºè´Ÿï¼Œè€Œåœ¨è¢«åŠ¨å¸æˆ·ä¸Šåˆ™ä¸èƒ½ä¸ºæ­£ã€‚ </p><br><p> è½¬åˆ°æ–‡ä»¶å¤¹<strong>day1 / step3</strong> ã€‚ </p><br><p>  <strong>accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BalanceException</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Exception)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre> <br><p> æ·»åŠ äº†<strong>BalanceException</strong> ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Account</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_active</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.id &lt; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_passive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.id &gt; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> ...</code> </pre> <br><p> å°†æ£€æŸ¥æ·»åŠ åˆ°â€œ <strong>å¸æˆ·â€</strong>ç±»ï¼Œä»¥ç¡®å®šè¯¥å¸æˆ·æ˜¯ä¸»åŠ¨å¸æˆ·è¿˜æ˜¯è¢«åŠ¨å¸æˆ·ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Accounts</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(dict)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check_balance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, entry)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self[entry[CREDIT]].end - Decimal(entry[AMOUNT]) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> self[entry[CREDIT]].is_active(): <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> BalanceException(<span class="hljs-string"><span class="hljs-string">'BalanceException'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self[entry[DEBIT]].end + Decimal(entry[AMOUNT]) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> self[entry[DEBIT]].is_passive(): <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> BalanceException(<span class="hljs-string"><span class="hljs-string">'BalanceException'</span></span>) ...</code> </pre> <br><p> å¦‚æœæ·»åŠ æ–°äº¤æ˜“åï¼Œå¦‚æœåœ¨æ´»åŠ¨å¸æˆ·ä¸Šç”Ÿæˆäº†è´Ÿå€Ÿæ–¹å€¼ï¼Œåˆ™å°†æ·»åŠ æ”¯ç¥¨åˆ°<strong>Accounts.py</strong>ç±»ä¸­ï¼Œå°†å¼•å‘ä¸€ä¸ªä¾‹å¤–ï¼›å¦‚æœåœ¨è¢«åŠ¨å¸æˆ·ä¸­è·å¾—äº†è´Ÿçš„è´·æ–¹å€¼ï¼Œåˆ™ä¹Ÿä¼šå‡ºç°åŒæ ·çš„æƒ…å†µã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralLedger</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, entry)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.accounts <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.accounts.check_balance(entry) self.accounts.append_entry(entry) super().append(entry) ...</code> </pre> <br><p> åœ¨<strong>GeneralLedger</strong>ç±»ä¸­<strong>ï¼Œ</strong>åœ¨å°†è¿‡å¸æ·»åŠ åˆ°å¸æˆ·ä¹‹å‰ï¼Œæˆ‘ä»¬è¿›è¡Œæ£€æŸ¥ã€‚ å¦‚æœå¼•å‘å¼‚å¸¸ï¼Œåˆ™è¿‡å¸ä¸ä¼šå±äºå¸æˆ·æˆ–æ€»åˆ†ç±»å¸ã€‚ </p><br><p>  <strong>test_accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.mark.parametrize('entries, exception', [ ([(12, 1, 100.00)], BalanceException('BalanceException')), ([(12, 6, 100.00)], BalanceException('BalanceException')), ([(12, 11, 100.00)], BalanceException('BalanceException')), ([(6, 2, 100.00)], BalanceException('BalanceException')), #([(6, 7, 100.00)], BalanceException('BalanceException')), #([(6, 12, 100.00)], BalanceException('BalanceException')), ([(1, 2, 100.00)], BalanceException('BalanceException')), #([(1, 6, 100.00)], BalanceException('BalanceException')), #([(1, 12, 100.00)], BalanceException('BalanceException')), ]) def test_accounts_balance(accounts, ledger, entries, exception): for entry in entries: try: ledger.append((entry[DEBIT], entry[CREDIT], Decimal(entry[AMOUNT]))) except BalanceException as inst: assert isinstance(inst, type(exception)) assert inst.args == exception.args else: pytest.fail("Expected error but found none") assert len(ledger) == 0 assert len(accounts) == 12</span></span></code> </pre> <br><p> å°†<strong>test_accounts_balance</strong>æµ‹è¯•æ·»åŠ åˆ°æµ‹è¯•<strong>æ¨¡å—</strong> ã€‚ äº‹åŠ¡åˆ—è¡¨é¦–å…ˆåˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„äº‹åŠ¡ç»„åˆï¼Œå¹¶æ³¨é‡Šæ‰äº†æ²¡æœ‰å¼•å‘å¼‚å¸¸çš„æ‰€æœ‰äº‹åŠ¡ã€‚ è¿è¡Œæµ‹è¯•ï¼Œå¹¶ç¡®ä¿å…¶ä½™5ä¸ªå‘å¸ƒé€‰é¡¹å¼•å‘<strong>BalanceException</strong> ã€‚ </p><br><h2 id="4-balans">  4.å¹³è¡¡ </h2><br><p> è½¬åˆ°æ–‡ä»¶å¤¹<strong>day1 / step4</strong> ã€‚ </p><br><p>  <strong>accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Balance</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, accounts)</span></span></span><span class="hljs-function">:</span></span> self.accounts = accounts self.suma = Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) self.sump = Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.suma = Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) self.sump = Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.accounts.range: active = self.accounts[i].end <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.accounts[i].end &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) passive = -self.accounts[i].end <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.accounts[i].end &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Decimal(<span class="hljs-number"><span class="hljs-number">0.00</span></span>) self.append((active, passive)) self.suma += active self.sump += passive</code> </pre> <br><p> åˆ›å»ºä½™é¢æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä»ä¸€ä¸ªè¡¨ä¸­çš„æ‰€æœ‰å¸æˆ·ä¸­æ”¶é›†ä½™é¢å³å¯ã€‚ </p><br><p>  <strong>test_accounting.py</strong> ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.fixture def balance(accounts): return Balance(accounts)</span></span></code> </pre> <br><p> åˆ›å»ºä¸€ä¸ª<strong>å¹³è¡¡</strong>é—©é”ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.mark.parametrize('entries', [ [ ( 1, 12, 200.00), # increase active and passive ],[ ( 1, 12, 200.00), # increase active and passive (12, 1, 100.00), # decrease passive and decrease active ],[ ( 1, 12, 300.00), # increase active and passive (12, 1, 100.00), # decrease passive and decrease active ( 2, 1, 100.00), # increase active and decrease active ],[ ( 1, 12, 300.00), # increase active and passive (12, 1, 100.00), # decrease passive and decrease active ( 2, 1, 100.00), # increase active and decrease active (12, 11, 100.00), # decrease passive and increase passive ] ]) def test_balance(accounts, ledger, balance, entries): for entry in entries: ledger.append(entry) balance.create() print(accounts) print(balance)</span></span></code> </pre> <br><p> æˆ‘ä»¬åˆ›å»ºäº†<strong>test_balance</strong>æµ‹è¯•ã€‚ åœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œåˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„äº¤æ˜“ç±»å‹ï¼šå¢åŠ èµ„äº§å’Œè´Ÿå€ºï¼Œå‡å°‘èµ„äº§å’Œè´Ÿå€ºï¼Œå¢åŠ èµ„äº§å’Œå‡å°‘èµ„äº§ï¼Œå¢åŠ è´Ÿå€ºå’Œå‡å°‘è´Ÿå€ºã€‚ å‘å‡º4ä¸ªå‘å¸ƒé€‰é¡¹ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥é€æ­¥æŸ¥çœ‹è¾“å‡ºã€‚ å¯¹äºæœ€åä¸€ä¸ªé€‰é¡¹ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š </p><br><pre> <code class="plaintext hljs">General ledger 1 12 300.00 12 1 100.00 2 1 100.00 12 11 100.00 ---------------------- Account 1 beg: 0.00 0.00 12: 300.00 0.00 12: 0.00 100.00 2: 0.00 100.00 end: 100.00 0.00 ---------------------- Account 2 beg: 0.00 0.00 1: 100.00 0.00 end: 100.00 0.00 ---------------------- Account 11 beg: 0.00 0.00 12: 0.00 100.00 end: 0.00 100.00 ---------------------- Account 12 beg: 0.00 0.00 1: 0.00 300.00 1: 100.00 0.00 11: 100.00 0.00 end: 0.00 100.00 ---------------------- Balance 1 : 100.00 0.00 2 : 100.00 0.00 3 : 0.00 0.00 4 : 0.00 0.00 5 : 0.00 0.00 6 : 0.00 0.00 7 : 0.00 0.00 8 : 0.00 0.00 9 : 0.00 0.00 10 : 0.00 0.00 11 : 0.00 100.00 12 : 0.00 100.00 ---------------------- sum: 200.00 200.00 ======================</code> </pre> <br><h2 id="5-storno">  5.åè½¬ </h2><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹åè½¬æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚ </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.mark.parametrize('entries', [ [ ( 1, 12, 100.00), ( 1, 12,-100.00), ] ]) def test_storno(accounts, ledger, balance, entries): for entry in entries: ledger.append(entry) balance.create() print(ledger) print(accounts) print(balance)</span></span></code> </pre> <br><p> ç»“è®ºå¦‚ä¸‹ï¼š </p><br><pre> <code class="bash hljs">General ledger 1 12 100.00 1 12 -100.00 ---------------------- Account 1 beg: 0.00 0.00 12: 100.00 0.00 12: 0.00 100.00 end: 0.00 0.00 ---------------------- Account 12 beg: 0.00 0.00 1: 0.00 100.00 1: 100.00 0.00 end: 0.00 0.00 ---------------------- Balance 1 : 0.00 0.00 2 : 0.00 0.00 3 : 0.00 0.00 4 : 0.00 0.00 5 : 0.00 0.00 6 : 0.00 0.00 7 : 0.00 0.00 8 : 0.00 0.00 9 : 0.00 0.00 10 : 0.00 0.00 11 : 0.00 0.00 12 : 0.00 0.00 ---------------------- sum: 0.00 0.00 ======================</code> </pre><br><p> ä¸€åˆ‡ä¼¼ä¹éƒ½æ˜¯æ­£ç¡®çš„ã€‚ </p><br><p> å¦‚æœæˆ‘ä»¬ä½¿ç”¨è¿™æ ·çš„ä¸€ç»„å¸–å­ï¼Œåˆ™æµ‹è¯•å°†é€šè¿‡ï¼š </p><br><pre> <code class="python hljs">( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>), (<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>), ( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">-100.00</span></span>),</code> </pre> <br><p> å¦‚æœæ˜¯è¿™æ ·çš„é›†åˆï¼Œåˆ™å°†æœ€åä¸¤è¡Œäº¤æ¢åˆ°é€‚å½“çš„ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªä¾‹å¤–ï¼š </p><br><pre> <code class="python hljs">( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>), ( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">-100.00</span></span>), (<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>),</code> </pre> <br><p> å› æ­¤ï¼Œä¸ºäº†æ•è·è¿™ç§é”™è¯¯ï¼Œå¿…é¡»åœ¨æ›´æ­£äº¤æ˜“ä¹‹åç«‹å³è¿›è¡Œå†²é”€ã€‚ </p><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> åœ¨ä»¥ä¸‹æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­è¿›è¡Œä¼šè®¡ç ”ç©¶ï¼Œå¹¶å°†æ ¹æ®Empire ERPçš„è¦æ±‚æ¸…å•è€ƒè™‘ç³»ç»Ÿå¼€å‘çš„æ‰€æœ‰æ–¹é¢ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN471304/">https://habr.com/ru/post/zh-CN471304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN471294/index.html">å…³äºHaskellï¼ŒC ++å’Œç¨‹åºå‘˜çš„è¯—</a></li>
<li><a href="../zh-CN471296/index.html">ç²¾ç›Šåˆ¶é€ -æ•ˆç‡å·¥å…·</a></li>
<li><a href="../zh-CN471298/index.html">æ¯”ä¼¯å’Œç¢§å…°æŒ¥ç¬”ã€‚ AIç°åœ¨æ­£åœ¨å”±æ­Œ</a></li>
<li><a href="../zh-CN471300/index.html">ååº”ï¼šæå‡çŠ¶æ€å°†æ€æ­»æ‚¨çš„åº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN471302/index.html">ä¸­å›½çš„ç”¨æˆ·éªŒè¯å’Œç¤¾ä¼šä¿¡ç”¨</a></li>
<li><a href="../zh-CN471306/index.html">ç”¨äºSailfish OSçš„Continent-AP VPNæ’ä»¶çš„å¼€å‘</a></li>
<li><a href="../zh-CN471310/index.html">æˆ‘å¯¹ä¸“ä¸šçš„çœ‹æ³•éå¸¸ä¸»è§‚ï¼Œè€Œä¸ä»…ä»…æ˜¯ITæ•™è‚²</a></li>
<li><a href="../zh-CN471312/index.html">å‡†å¤‡æ˜¥å­£ä¸“ä¸šè®¤è¯ã€‚ æ˜¥å­£é´</a></li>
<li><a href="../zh-CN471318/index.html">ä¹æœˆæœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½æ–°é—»æ‘˜è¦</a></li>
<li><a href="../zh-CN471320/index.html">é€‚ç”¨äºè½¯ä»¶å¼€å‘äººå‘˜çš„å·¥å…·ï¼šå¼€æ”¾æ¡†æ¶å’Œæœºå™¨å­¦ä¹ åº“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>