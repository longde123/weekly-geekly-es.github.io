<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëºüèº üíπ üê§ Controlador de ventilador de escape WiFi üö¥üèΩ üéí üèà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Han pasado casi dos a√±os desde la fabricaci√≥n del controlador de control de humedad para el ba√±o . Todo este tiempo, el controlador sirvi√≥ fielmente s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Controlador de ventilador de escape WiFi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389751/"><img src="https://habrastorage.org/getpro/geektimes/post_images/3a1/a88/611/3a1a8861166cf7da5704db22042179b4.jpg" alt="imagen" width="50%" height="50%"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Han pasado casi dos a√±os desde la fabricaci√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del controlador de control de humedad para el ba√±o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Todo este tiempo, el controlador sirvi√≥ fielmente sin fallas ni congelaciones, como corresponde a un buen dispositivo, e incluso obtuvo un glamoroso estuche hecho a mano de las manos de mi esposa.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/c86/ff9/d8d/c86ff9d8d569c42c9d7cf7569b012272.jpg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero el progreso tecnol√≥gico avanza inexorablemente y las nuevas tendencias me persiguen nuevamente. </font><font style="vertical-align: inherit;">Durante mucho tiempo he nutrido la idea de implementar el concepto de un hogar inteligente en los m√≥dulos WiFi ESP8266. </font><font style="vertical-align: inherit;">Experiment√≥ con estos m√≥dulos durante alg√∫n tiempo y ahora decidi√≥ transferirles su "hogar inteligente". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El objetivo principal del proyecto era la implementaci√≥n de nuevas caracter√≠sticas que usar√© en otros dispositivos en el futuro. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øqu√© me dar√° la actualizaci√≥n del controlador de ventilador en el ESP8266?</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuevas caracter√≠sticas</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ver todos los indicadores en WiFi desde una computadora / tableta / tel√©fono.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procesamiento de par√°metros adicionales: tiempo de funcionamiento del ventilador y tiempo de encendido de la l√°mpara en el ba√±o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Control de ventilador WiFi desde computadora / tableta / tel√©fono.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurar el controlador a trav√©s de WiFi con guardar valores en la memoria no vol√°til.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grabando peri√≥dicamente los valores de todos los indicadores en un servidor en Internet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bueno, como todav√≠a existe Internet, la hora se muestra con sincronizaci√≥n a trav√©s del protocolo NTP.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas estas funciones permiten analizar el funcionamiento del controlador y, en el futuro, optimizar los par√°metros del algoritmo de control. </font><font style="vertical-align: inherit;">Bueno, este controlador entrar√° en el sistema general de una casa inteligente con monitoreo de los par√°metros ambientales del ba√±o. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0aa/4eb/9af/0aa4eb9aff0949f62d03278d63b78888.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El esquema no ha cambiado mucho desde la versi√≥n anterior:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atmega328 reemplazado por ESP8266</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El indicador de siete segmentos reemplaz√≥ el m√≥dulo de visualizaci√≥n terminado con TN1637</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un triac con un optoacoplador se reemplaza por un rel√© de estado s√≥lido (el mismo, pero en el caso). </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las principales diferencias en el programa controlador.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de componentes</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√≥dulo ESP8266 ESP07 con placa adaptadora ~ $ 2.3 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pantalla de cuatro d√≠gitos y siete segmentos en el chip TM1637 con conexi√≥n I2C ~ $ 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rel√© de estado s√≥lido OMRON G3MB-202P ~ $ 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente de alimentaci√≥n 220V / 3.3V 600mA ~ $ 2.2 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor de temperatura y humedad (baja precisi√≥n, pero suficiente para mis tareas) DHT11 ~ $ 0.7 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instrumento caja de pl√°stico 110x73x34 ~ $ 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fotoresistor, solo resistencias, tablero y cables</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total de alrededor de $ 9 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las partes, excepto la carcasa y la fuente de alimentaci√≥n, se compraron en aliexpress.com. </font><font style="vertical-align: inherit;">Ordeno cajas y fuentes de alimentaci√≥n a precios razonables de taobao.com</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/5c1/97c/326/5c197c32676bae632c6c787660684342.jpg" alt="imagen"><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensamblaje de controlador</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este controlador es un prototipo para futuros dispositivos en el ESP8266, por lo que la instalaci√≥n se realiz√≥ en una placa de pruebas. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0f4/7e5/506/0f47e5506e9cb91f6fd3f81687b7c9db.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hago un filtro de luz debajo del indicador desde una esquina de carpeta para papeles, comprado en una papeler√≠a. Una ventana transparente para la fotorresistencia: una pel√≠cula protectora que qued√≥ de un tel√©fono (lo ped√≠ una vez con un margen, ahora est√° por ah√≠). </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/eb6/241/e2d/eb6241e2d359c96633d1a1ab43ed5435.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y este es mi viejo controlador que funcion√≥ en el ba√±o durante dos a√±os. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0ed/70f/3dd/0ed70f3dd2b9ecb5c0bc5211d99cee9a.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al depurar, se detect√≥ un defecto tecnol√≥gico: el fotodiodo detr√°s de la ventana en el estuche recibi√≥ muy poca luz y sin un amplificador no funcion√≥ cuando se encendi√≥ la l√°mpara en el ba√±o, tuve que llevarla hacia la l√°mpara. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/7dc/b61/e7e/7dcb61e7ec707b9669015f42bb828b5a.jpg" alt="imagen"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/4be/f32/079/4bef32079eac0bf243f9310fbd7f7646.jpg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora le contar√© sobre las caracter√≠sticas del programa, los algoritmos de control y la configuraci√≥n de este controlador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ESP8266, a diferencia de Atmega328, en el que se implement√≥ la versi√≥n anterior, tiene mucha m√°s memoria (RAM, ROM. EEPROM), que, junto con el WiFi incorporado, le permite implementar las funciones del servidor WEB incorporado sin guardar memoria para cadenas de texto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero con el GPIO, el ESP8266 es bastante malo, por lo tanto, un lujo como administrar un indicador de siete segmentos no es directamente accesible para √©l. </font><font style="vertical-align: inherit;">Por lo tanto, se seleccion√≥ el indicador en el chip TM1637, que requiere solo dos salidas para la conexi√≥n.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entorno de desarrollo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He jugado lo suficiente con varios firmwares ESP8266 que me permiten escribir programas en los int√©rpretes integrados LUA, JC y generalmente programar a trav√©s de WEB. Trat√© de escribir en un SDK. Se decidi√≥ por una opci√≥n de compromiso: programar en el IDE de Arduino. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una instalaci√≥n bastante simple, programaci√≥n y una gran cantidad de bibliotecas listas para usar, que, en su mayor parte, funcionan en el ESP. Este entorno permiti√≥ el uso de una gran cantidad de c√≥digo antiguo que proporciona la l√≥gica b√°sica para el funcionamiento del controlador de control del ventilador, que se conserv√≥ de la versi√≥n anterior. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√°sicamente, fue interesante transferir el algoritmo bien probado que implementa la m√°quina de estado determinista finita descrita en la tabla de transici√≥n de estado: las </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0b4/084/954/0b4084954c75e341cc80122c1b48c6b9.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bibliotecas Arduino surgieron sin problemas</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHT para trabajar con sensores de humedad / temperatura de Adafruit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para trabajar con el indicador en TM1637 DigitalTube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los detalles del uso del Arduino IDE para programar el ESP8266 se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">describen</font></a><font style="vertical-align: inherit;"> bien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en este art√≠culo.</font></font></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementando nuevas caracter√≠sticas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es muy inconveniente hacer controladores WiFi en los que se unan los par√°metros de conexi√≥n de red. ¬øImag√≠nese el resultado del cambio de nombre o contrase√±a del punto de acceso si hay una docena de tales controladores en casa? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, este programa implementa las funciones de almacenar par√°metros de conexi√≥n en la memoria EEPROM no vol√°til y configurarlos en la red. La estructura para guardar los par√°metros, as√≠ como para leerla y escribirla, se implementa en los archivos WC_EEPROM.h y WC_EEPROM.cpp de mi proyecto. La verificaci√≥n de lectura y escritura se realiza calculando la suma de verificaci√≥n de la configuraci√≥n y compar√°ndola con la escrita en la EEPROM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s de la configuraci√≥n de red, todos los tiempos de espera y otros par√°metros del algoritmo de control del ventilador tambi√©n se guardan en la memoria, lo que permite optimizar y ajustar este controlador directamente "por aire".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La visualizaci√≥n de los modos de funcionamiento, la configuraci√≥n de las configuraciones del controlador y el control directo del ventilador se implementan utilizando el servidor WEB incorporado (archivos WC_HTTP.h y WC_TTP.cpp). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo de configuraci√≥n del punto de acceso es el siguiente: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el gabinete ESP no pudo conectarse al punto de acceso especificado en la configuraci√≥n EEPROM , luego eleva su punto de acceso y en la direcci√≥n 192.168.4.1, le permite configurarlo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, si est√° conectado, funciona como de costumbre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La p√°gina principal del servidor WEB muestra los par√°metros b√°sicos del controlador y le permite encender / apagar manualmente el controlador (an√°logo a presionar el bot√≥n de control manual) </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/cf8/ebe/af6/cf8ebeaf6be714e3ef08094effc831c0.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ tambi√©n puede ir a la </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/798/18e/6d0/79818e6d0e5302d38efcdde24130753b.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p√°gina de </font><font style="vertical-align: inherit;">configuraci√≥n de red </font><font style="vertical-align: inherit;">y la p√°gina de configuraci√≥n del algoritmo de operaci√≥n del controlador</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b50/f14/58b/b50f1458b47bfae1545c36fd2928c9fa.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde estas dos p√°ginas, puede reiniciar el controlador y restablecer todas las configuraciones "predeterminadas". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estoy planeando aportar belleza a la interfaz en el futuro, cuando el concepto de un hogar inteligente con WiFi est√© m√°s o menos establecido en mi cabeza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra funci√≥n implementada en este programa es un reloj en tiempo real sincronizado a trav√©s del protocolo NTP en Internet. (Archivos WC_NTP.h y WC_NTP.cpp) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No describir√© el algoritmo principal, la l√≥gica de trabajo ha funcionado bien y sigue siendo la misma, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puedes leer sobre esto en el art√≠culo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Los principales cambios han afectado la pantalla. Quiero llamar la atenci√≥n sobre una "caracter√≠stica": la funci√≥n DisplaySpecialChar (), que le permite mostrar cualquier car√°cter que pueda imaginar para mostrar en un indicador de siete segmentos utilizando una m√°scara de bits. Se me ocurri√≥ este s√≠mbolo de "porcentaje" en la pantalla de humedad </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/de2/393/0a5/de23930a598bc88b2f76712ebaa4219a.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y el s√≠mbolo de "grado" en la pantalla de temperatura. Los </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/62d/330/3aa/62d3303aa4f387f9a41326d0926529d2.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bits en la m√°scara de bits corresponden a los segmentos del indicador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, la √∫ltima de las nuevas caracter√≠sticas es guardar par√°metros en un servidor en Internet para su visualizaci√≥n y posterior an√°lisis. Se guardan los valores de humedad, temperatura, un puerto anal√≥gico con un fotorresistor para ajustar el umbral de iluminaci√≥n, el tiempo del ventilador, el tiempo de encendido de la luz y el tiempo de funcionamiento del controlador desde el √∫ltimo reinicio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La grabaci√≥n en el servidor ocurre en dos modos. </font><font style="vertical-align: inherit;">Los par√°metros se registran con mayor frecuencia, cuando "algo sucede" en el ba√±o, en este momento la luz est√° encendida o el ventilador est√° funcionando. </font><font style="vertical-align: inherit;">Todos los tiempos de espera se configuran a trav√©s de la interfaz WEB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos se almacenan en mi servidor en Internet. </font><font style="vertical-align: inherit;">La direcci√≥n del servidor se puede configurar, pero el formato de grabaci√≥n todav√≠a est√° cosido en el programa. </font><font style="vertical-align: inherit;">De nuevo, hasta tiempos mejores concepto ustanivaniya))). </font><font style="vertical-align: inherit;">Ahora los par√°metros se guardan mediante el script PHP m√°s simple en una tabla con una estructura simple. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/ead/95d/d8e/ead95dd8e903225e298e4dfa1dcbfe89.jpg" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bastante simple reconfigurar la configuraci√≥n de guardado en la misma "supervisi√≥n p√∫blica". </font><font style="vertical-align: inherit;">Personalmente, este servidor no me satisface con restricciones en la frecuencia de almacenamiento de datos y la profundidad del archivo.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimizar la configuraci√≥n del controlador</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de la "operaci√≥n de prueba", puede determinar si los umbrales de iluminaci√≥n y humedad est√°n configurados correctamente, as√≠ como los tiempos de espera de varios eventos. </font><font style="vertical-align: inherit;">En la implementaci√≥n anterior, configur√© el tiempo de respuesta en 20 minutos, sentado en el ba√±o con un cron√≥metro. </font><font style="vertical-align: inherit;">Despu√©s de observar el gr√°fico de par√°metros durante varias duchas, vi lo siguiente:</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/25b/d3b/aed/25bd3baed056cad736524d82f429043b.jpg" alt="imagen"><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La humedad en el invierno cambia en un 35-40%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiempo de normalizaci√≥n de humedad con ventilaci√≥n natural 20-25 minutos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiempo de normalizaci√≥n de humedad con un ventilador de trabajo 10-12 min.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El ventilador duplica la eficiencia de la ventilaci√≥n.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En base a esto, puede reducir de manera segura el tiempo de funcionamiento del ventilador a 12 minutos, extendiendo as√≠ su vida √∫til y ahorrando un poco de energ√≠a. </font><font style="vertical-align: inherit;">Se puede hacer un an√°lisis similar para otras estaciones, cuando la humedad en el departamento es completamente diferente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora, despu√©s del an√°lisis, puede aumentar el per√≠odo de escritura de par√°metros en el servidor.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusiones</font></font></h4><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El controlador en el ESP8266 es estable, realiza sus funciones.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su funcionalidad se ha expandido, ahora es f√°cil de administrar y se integra normalmente en el sistema Smart Home</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algunas cosas deben mejorarse, por ejemplo, la interfaz WEB, la autorizaci√≥n de acceso, la parte del servidor y algunas imprecisiones en el c√°lculo del ventilador y las horas de funcionamiento de la luz. </font><font style="vertical-align: inherit;">Se pueden revelar otros deseos de mejora.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El proyecto piloto para Smart Home en WiFi puede considerarse exitoso;)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El boceto se puede descargar aqu√≠. </font><font style="vertical-align: inherit;">Estar√≠a muy agradecido si denuncias alg√∫n error. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boceto del controlador del ventilador en WiFi El</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tiempo dedicado al proyecto es de dos d√≠as sin </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS. Respondo inmediatamente a la pregunta, ¬øpor qu√© es tan dif√≠cil? </font><font style="vertical-align: inherit;">¬øPuedo sentarme en paralelo con el interruptor o en el temporizador? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - S√≠ puedes. </font><font style="vertical-align: inherit;">Pero la inclusi√≥n de temporizador y luz no me conven√≠a. </font><font style="vertical-align: inherit;">Adem√°s, es un hobby, la implementaci√≥n de algunas ideas que se utilizan en otros proyectos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La instalaci√≥n de almacenamiento ten√≠a errores nuevamente, as√≠ que las im√°genes de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mi blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">All√≠ puedes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ver mis desarrollos en el hogar inteligente</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es389751/">https://habr.com/ru/post/es389751/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es389733/index.html">Los banqueros daneses predicen la introducci√≥n de ingresos incondicionales en Europa</a></li>
<li><a href="../es389735/index.html">Visualizaci√≥n de todo el dinero y los mercados del mundo.</a></li>
<li><a href="../es389737/index.html">"‚Ä¶ —Å–µ–π—á–∞—Å –∫ –ª—é–¥—è–º –Ω–∞–¥–æ –ø–æ–º—è–≥—à–µ, –∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å–º–æ—Ç—Ä–µ—Ç—å —à–∏—Ä—à–µ" ‚Äî Read & Comment —é–∑–µ—Ä—ã –Ω–∞ ¬´–ì–∏–∫—Ç–∞–π–º—Å¬ª</a></li>
<li><a href="../es389739/index.html">El proceso de evoluci√≥n de los adaptadores de video de los 80 a los 2000.</a></li>
<li><a href="../es389749/index.html">Revisi√≥n de video WLToys V383 - vuelo de prueba</a></li>
<li><a href="../es389755/index.html">DeLorean vuelve al mercado automovil√≠stico</a></li>
<li><a href="../es389759/index.html">Juguetes impresos en 3D para ni√±os (en su mayor√≠a)</a></li>
<li><a href="../es389761/index.html">LG est√° trabajando en una tarjeta de cr√©dito universal</a></li>
<li><a href="../es389765/index.html">La NASA pondr√° a un equipo de 4 personas durante 30 d√≠as en una simulaci√≥n de vuelo en un asteroide</a></li>
<li><a href="../es389767/index.html">Continuaci√≥n del art√≠culo sobre modificaciones a la impresora MC2, parte 2. Calibraci√≥n, refinamiento del sistema de enfriamiento.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>