<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ง ๐ฉโ๐ฉโ๐ฆ ูุญูุฏ ุงููุฑู ุฏุงุฎู ุงููุท - ูู ุจุชุดุบูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู ูุญุงูู Kopycat ๐ฉ๐พโ๐คโ๐จ๐ผ ๐๐ฝ ๐ค</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุฅุทุงุฑ ุงูุงุฌุชูุงุน 0x0A DC7831 DEF CON ููุฌูู ูููุบูุฑูุฏ ูู 16 ูุจุฑุงูุฑ ูุฏููุง โโุชูุฑูุฑูุง ุนู ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ููุถุงูุงุฉ ุงูููุฏ ุงูุซูุงุฆู ูุชุทููุฑูุง - ูุญุงูู ูููุตุงุช ุงูุฃ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุญูุฏ ุงููุฑู ุฏุงุฎู ุงููุท - ูู ุจุชุดุบูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู ูุญุงูู Kopycat</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inforion/blog/445798/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gi/pb/7e/gipb7e8ucwinvebjerxy1fk2d-8.jpeg" width="80%"></div><br><p style=";text-align:right;direction:rtl">  ูู ุฅุทุงุฑ ุงูุงุฌุชูุงุน 0x0A DC7831 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DEF CON ููุฌูู ูููุบูุฑูุฏ</a> ูู 16 ูุจุฑุงูุฑ ูุฏููุง โโุชูุฑูุฑูุง ุนู ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ููุถุงูุงุฉ ุงูููุฏ ุงูุซูุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุทููุฑูุง</a> - ูุญุงูู ูููุตุงุช ุงูุฃุฌูุฒุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kopycat</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุตู ุฅุทูุงู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุฌูุงุฒ ูู ุงููุญุงูู ุ ูุฅุธูุงุฑ ุงูุชูุงุนู ูุน ุงููุตุญุญ ูุฅุฌุฑุงุก ุชุญููู ุฏููุงูููู ุตุบูุฑ ููุจุฑูุงูุฌ ุงูุซุงุจุช. </p><a name="habracut"></a><br><h2 id="predystoriya" style=";text-align:right;direction:rtl">  ูุจู ุงูุชุงุฑูุฎ </h2><br><p style=";text-align:right;direction:rtl"><del>  ููุฐ ุฒูู ุทููู ูู ูุฌุฑุฉ โโุจุนูุฏุฉ </del></p><br><p style=";text-align:right;direction:rtl">  ูุจู ุจุถุน ุณููุงุช ูู ูุฎุชุจุฑูุง ุ ูุงูุช ููุงู ุญุงุฌุฉ ูุฏุฑุงุณุฉ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุฌูุงุฒ.  ุชู ุถุบุท ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ูุชูุฑูุบู ุจูุงุณุทุฉ ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู.  ููุฏ ูุนู ุฐูู ุจุทุฑููุฉ ูุฑุชุจูุฉ ููุบุงูุฉ ุ ุญูุซ ููู ุงูุจูุงูุงุช ุนุฏุฉ ูุฑุงุช ูู ุงูุฐุงูุฑุฉ.  ูุนู ุ ูุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุณูุง ุซู ุชูุงุนูุช ุจูุดุงุท ูุน ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ.  ููู ูุฐุง ุนูู MIPS ุงูุฃุณุงุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุณุจุงุจ ููุถูุนูุฉ ุ ูู ุชูุงุณุจูุง ุจุฑุงูุฌ ุงููุญุงูุงุฉ ุงูุญุงููุฉ ุ ููููู ูุง ุฒูุช ุฃุฑุบุจ ูู ุชุดุบูู ุงูููุฏ.  ุซู ูุฑุฑูุง ุฅูุดุงุก ูุญุงูู ุฎุงุต ุจูุง ุ ูุงูุฐู ุณูุคุฏู ุฅูู ุงูุญุฏ ุงูุฃุฏูู ููุณูุญ ุจูู ุญุฒู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุฑุฆูุณูุฉ.  ุญุงูููุง - ุงุชุถุญ  ููุง ูุธู ุ ูุงุฐุง ูู ุฃุถููุง ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ูู ุฃุฌู ุฃุฏุงุก ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุฑุฆูุณูุฉ ุฃูุถูุง.  ูู ููู ุงูุฃูุฑ ูุคูููุง ุฌุฏูุง - ููุฏ ูุฌุญุช ุฃูุถูุง.  ููุฑูุง ูุฑุฉ ุฃุฎุฑู ููุฑุฑูุง ุฅูุดุงุก ูุญุงูู ูุงูู. </p><br><p style=";text-align:right;direction:rtl">  ููุงูุช ุงููุชูุฌุฉ ูุญุงูู ุฃูุธูุฉ ุงูุญูุณุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kopycat</a> . </p><br><img src="https://habrastorage.org/webt/eb/cx/b6/ebcxb6pxtiypy0s-usvu6i_hdwu.png" align="right"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุงุฐุง ููุจููุงุชุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุงู ูุณุฑุญูุฉ ุนูู ุงููููุงุช. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>copycat</em> (ุงูุฅูุฌููุฒูุฉ ุ n. [ษkษpษชkรฆt]) - ุชูููุฏ ุ ุชูููุฏ </li><li style=";text-align:right;direction:rtl">  <em>ูุทุฉ</em> (ุงูุฅูุฌููุฒูุฉ ุ n. []kรฆt]) - ูุทุฉ ุ ูุทุฉ - ุญููุงู ููุถู ูุฃุญุฏ ุงููุจุฏุนูู ูู ุงููุดุฑูุน </li><li style=";text-align:right;direction:rtl">  ุฑุณุงูุฉ "K" - ูู ูุบุฉ ุงูุจุฑูุฌุฉ Kotlin </li></ol></div></div><br><h2 id="kopycat" style=";text-align:right;direction:rtl">  Kopycat </h2><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ุงููุญุงูู ุ ุชู ุชุญุฏูุฏ ุฃูุฏุงู ูุญุฏุฏุฉ ุชูุงููุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ูุญูุท ุ ูุญุฏุฉ ููุทูุฉ ุ ูุนุงูุฌ ุฌุฏูุฏ ุจุณุฑุนุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุชุฌููุน ุฌูุงุฒ ุงูุชุฑุงุถู ูู ูุญุฏุงุช ูุฎุชููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุชุญููู ุฃู ุจูุงูุงุช ุซูุงุฆูุฉ (ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ) ูู ุฐุงูุฑุฉ ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุงูุนูู ูุน ููุทุงุช (ููุทุงุช ูุญุงูุฉ ุงููุธุงู) ุ </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุงูุชูุงุนู ูุน ุงููุญุงูู ูู ุฎูุงู ูุตุญุญ ุงูุฃุฎุทุงุก ุงููุถููู ุ </li><li style=";text-align:right;direction:rtl">  ูุบุฉ ุญุฏูุซุฉ ูุทููุฉ ูุชุทููุฑ. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุชู ุงุฎุชูุงุฑ Kotlin ููุชูููุฐ ุ ููููู ุงูุญุงููุฉ (ูุฐุง ุนูุฏูุง ุชุชูุงุตู ุงููุญุฏุงุช ูุน ุจุนุถูุง ุงูุจุนุถ ุนุจุฑ ุญุงููุงุช ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ) ุ ู JSON ูุชูุณูู ูุตู ุงูุฌูุงุฒ ุ ู GDB RSP ูุจุฑูุชูููู ููุชูุงุนู ูุน ุงููุตุญุญ. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชูุฑุช ุงูุชูููุฉ ูุฃูุซุฑ ูู ุนุงููู ุจูููู ููู ูุณุชูุฑุฉ ุจูุดุงุท.  ุฎูุงู ูุฐุง ุงูููุช ุ ุชู ุชูููุฐ ุงูููู MIPS ุ x86 ุ V850ES ุ ARM ุ PowerPC. </p><br><p style=";text-align:right;direction:rtl">  ุงููุดุฑูุน ูููู ุ ููุฏ ุญุงู ุงูููุช ูุนุฑุถู ุนูู ุงูุฌูููุฑ.  ุณููุฏู ูุตููุง ุชูุตููููุง ูููุดุฑูุน ูุงุญููุง ุ ูููู ุงูุขู ุณูุฑูุฒ ุนูู ุงุณุชุฎุฏุงู Kopycat. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃูุซุฑ ููุงุฏ ุงูุตุจุฑ - ูููู ุชูุฒูู ุงูุฅุตุฏุงุฑ ุงูุชุฑููุฌู ูู ุงููุญุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><h2 id="nosorog-v-emulyatore" style=";text-align:right;direction:rtl">  ูุญูุฏ ุงููุฑู ูู ุงููุถุงูุงุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุชุฐูุฑ ุฃูู ูู ููุช ุณุงุจู ูู ุฃุฌู ูุคุชูุฑ SMARTRHINO-2018 ุ ุชู ุฅูุดุงุก ุฌูุงุฒ ุงุฎุชุจุงุฑ "ูุญูุฏ ุงููุฑู" ููุชุฏุฑูุจ ุนูู ููุงุฑุงุช ุงูููุฏุณุฉ ุงูุนูุณูุฉ.  ุชู ูุตู ุนูููุฉ ุชุญููู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุซุงุจุชุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู ุงูููุงูุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฏุนููุง ูุญุงูู ุฅุถุงูุฉ "ููุจุฑุงุช ุตูุช" ูุชุดุบูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู ุงููุญุงูู. </p><br><p style=";text-align:right;direction:rtl">  ุณูุญุชุงุฌ: <br>  1) ุฌุงูุง 1.8 <br>  2) ุจูุซูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌูุจ</a> ูุญุฏุฉ ูุงุณุชุฎุฏุงู ุจูุซูู ุฏุงุฎู ุงููุญุงูู.  ูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุฒูู</a> ูุฌููุนุฉ WHL ููุญุฏุฉ Jep ููุธุงู ุงูุชุดุบูู Windows <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  <strong>ููุธุงู ุงูุชุดุบูู Windows:</strong> <br>  1) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">com0com</a> <br>  2) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุฌูู</a> </p><br><p style=";text-align:right;direction:rtl">  <strong>ููุธุงู ุงูุชุดุบูู Linux:</strong> <br>  1) ุณูุฑุงุท </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู Eclipse ุฃู IDA Pro ุฃู radare2 ูุนููู GDB. </p><br><h2 id="kak-eto-rabotaet" style=";text-align:right;direction:rtl">  ููู ูุนููุ </h2><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุฃุฏุงุก ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู ุงููุญุงูู ุ ูุฌุจ ุนููู "ุชุฌููุน" ุฌูุงุฒ ุงูุชุฑุงุถู ุ ููู ุจูุซุงุจุฉ ุฌูุงุฒ ุญูููู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุนุฑุถ ุงูุฌูุงุฒ ุงูุญูููู ("ูุญูุฏ ุงููุฑู") ูู ูุฎุทุท ูุชูุฉ: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nh/ph/ph/nhphph7rjwm3xiv52mvp_uefdq8.jpeg" alt="ุฏุงุฑุฉ ุงูุฌูุงุฒ ุงูุญูููู" width="60%"></div><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุงููุญุงูู ุนูู ุจููุฉ ูุนูุงุฑูุฉ ููููู ูุตู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุงูููุงุฆู ูู ููู JSON. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">JSON ุนูู 105 ุฎุทูุท</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"top"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, // Plugin name should be the same as file name (or full path from library start) <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"rhino"</span></span>, // Directory where plugin places <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"user"</span></span>, // Plugin parameters (constructor parameters if jar-plugin version) <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"tty_dbg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"String"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"tty_bt"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"String"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"firmware"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"String"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: <span class="hljs-string"><span class="hljs-string">"NUL"</span></span>} ], // Plugin outer ports <span class="hljs-attr"><span class="hljs-attr">"ports"</span></span>: [ ], // Plugin internal buses <span class="hljs-attr"><span class="hljs-attr">"buses"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"mem"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"size"</span></span>: <span class="hljs-string"><span class="hljs-string">"BUS30"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"nand"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"size"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"gpio"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"size"</span></span>: <span class="hljs-string"><span class="hljs-string">"BUS32"</span></span> } ], // Plugin internal components <span class="hljs-attr"><span class="hljs-attr">"modules"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"u1_stm32"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"STM32F042"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"firmware:String"</span></span>: <span class="hljs-string"><span class="hljs-string">"params.firmware"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"usart_debug"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"UartSerialTerminal"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"terminals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"tty"</span></span>: <span class="hljs-string"><span class="hljs-string">"params.tty_dbg"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"term_bt"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"UartSerialTerminal"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"terminals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"tty"</span></span>: <span class="hljs-string"><span class="hljs-string">"params.tty_bt"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"bluetooth"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"BT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_4"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_5"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_6"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_7"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_8"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_9"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_10"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_12"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_13"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_14"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"led_15"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"LED"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"library"</span></span>: <span class="hljs-string"><span class="hljs-string">"mcu"</span></span> } ], // Plugin connection between components <span class="hljs-attr"><span class="hljs-attr">"connections"</span></span>: [ [ <span class="hljs-string"><span class="hljs-string">"u1_stm32.ports.usart1_m"</span></span>, <span class="hljs-string"><span class="hljs-string">"usart_debug.ports.term_s"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"u1_stm32.ports.usart1_s"</span></span>, <span class="hljs-string"><span class="hljs-string">"usart_debug.ports.term_m"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"u1_stm32.ports.usart2_m"</span></span>, <span class="hljs-string"><span class="hljs-string">"bluetooth.ports.usart_m"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"u1_stm32.ports.usart2_s"</span></span>, <span class="hljs-string"><span class="hljs-string">"bluetooth.ports.usart_s"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"bluetooth.ports.bt_s"</span></span>, <span class="hljs-string"><span class="hljs-string">"term_bt.ports.term_m"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"bluetooth.ports.bt_m"</span></span>, <span class="hljs-string"><span class="hljs-string">"term_bt.ports.term_s"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_0.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x00"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_1.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x01"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_2.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x02"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_3.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x03"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_4.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x04"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_5.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x05"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_6.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x06"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_7.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x07"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_8.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x08"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_9.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x09"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_10.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0A"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_11.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0B"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_12.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0C"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_13.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0D"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_14.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0E"</span></span>], [ <span class="hljs-string"><span class="hljs-string">"led_15.ports.pin"</span></span>, <span class="hljs-string"><span class="hljs-string">"u1_stm32.buses.pin_output_a"</span></span>, <span class="hljs-string"><span class="hljs-string">"0x0F"</span></span>] ] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชุจู ุฅูู ูุนููุฉ <em>ุงูุจุฑูุงูุฌ ุงูุซุงุจุช</em> ูู ูุณู <strong>params</strong> - ูุฐุง ูู ุงุณู ุงูููู ุงูุฐู ูููู ุชูุฒููู ุนูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูุจุฑูุงูุฌ ุซุงุจุช. </p></div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุชูุซูู ุฌูุงุฒ ุงูุชุฑุงุถู ูุชูุงุนูู ูุน ูุธุงู ุงูุชุดุบูู ุงูุฑุฆูุณู ุนูู ุงููุญู ุงูุชุงูู: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/m9/i_/27/m9i_27btauj0onjugttzj3srmfg.jpeg" alt="ุฌูุงุฒ ูุญุงูุงุฉ ุงูุฏุงุฆุฑุฉ" width="80%"></div><br><p style=";text-align:right;direction:rtl">  ุชุชุถูู ูุณุฎุฉ ุงูุงุฎุชุจุงุฑ ุงูุญุงููุฉ ูููุถุงูุงุฉ ุงูุชูุงุนู ูุน ููุงูุฐ COM ููุธุงู ุงูุชุดุบูู ุงูุฑุฆูุณู (ุชุตุญูุญ UART ู UART ููุญุฏุฉ Bluetooth).  ูููู ุฃู ุชููู ูุฐู ููุงูุฐ ุญููููุฉ ูุชุตูุฉ ุจูุง ุงูุฃุฌูุฒุฉ ุฃู ููุงูุฐ COM ุงูุชุฑุงุถูุฉ ( <em>com0com / socat</em> ูุฎุตุตุฉ ููุฐุง <em>ุงูุบุฑุถ</em> ููุท <em>)</em> . </p><br><p style=";text-align:right;direction:rtl">  ููุฌุฏ ุญุงูููุง ุทุฑููุชุงู ุฑุฆูุณูุชุงู ููุชูุงุนู ูุน ุงููุญุงูู ูู ุงูุฎุงุฑุฌ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุฑูุชูููู GDB RSP (ุนูู ุงูุชูุงูู ุ ูุฏุนู ูุฐุง ุงูุจุฑูุชูููู ุ ุงูุฃุฏูุงุช - Eclipse / IDA / radare2) ุ </li><li style=";text-align:right;direction:rtl">  ูุญุงูู ุณุทุฑ ุงูุฃูุงูุฑ ุงูุฏุงุฎูู (Argparse ุฃู Python). </li></ul><br><h3 id="virtualnye-com-porty" style=";text-align:right;direction:rtl">  ููุงูุฐ COM ุงูุงูุชุฑุงุถูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุงูุชูุงุนู ูุน UART ููุฌูุงุฒ ุงูุธุงูุฑู ุนูู ุงูุฌูุงุฒ ุงููุญูู ูู ุฎูุงู ุงูุฌูุงุฒ ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุงุซููู ูู ููุงูุฐ COM ุงูุธุงูุฑูุฉ ุงููุชุตูุฉ.  ูู ุญุงูุชูุง ุ ูุณุชุฎุฏู ูููุฐ ูุงุญุฏ ูุญุงูููุง ุ ูุงูุซุงูู ุจุฑูุงูุฌ ูุญุทุฉ (ุงููุนุฌูู ุฃู ุงูุดุงุดุฉ): </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5d/jr/0w/5djr0wz88dgdaiw1xaasrof2wyk.png" alt="ููุงูุฐ COM ุงูุงูุชุฑุงุถูุฉ" width="80%"></div><br><h4 id="ispolzovanie-com0com" style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู com0com </h4><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููู ููุงูุฐ COM ุงูุธุงูุฑูุฉ ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุฅุนุฏุงุฏ ุงููุณุงุนุฏุฉ ูู ูุฌููุนุฉ com0com (ุฅุตุฏุงุฑ ูุญุฏุฉ ุงูุชุญูู ูู <em>C: \ ูููุงุช ุงูุจุฑูุงูุฌ (x86) \ com0com \ setup.exe ุ</em> ุฃู ุฅุตุฏุงุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ูู <em>C: \ ูููุงุช ุงูุจุฑูุงูุฌ (x86) \ com0com \ setupg.exe</em> ) : </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/v-/j9/pf/v-j9pfquunpiezqhkcr6cuyq-9k.png" alt="ุชูููู ููุงูุฐ COM ุงูุงูุชุฑุงุถูุฉ"></div><br><p style=";text-align:right;direction:rtl">  <strong><em>ุชุญูู ูู ุชูููู ุฎุงูุงุช ุงูุงุฎุชูุงุฑ ุชุฌุงูุฒ ุงููุฎุฒู ุงููุคูุช</em></strong> ููุงูุฉ ุงูููุงูุฐ ุงูุธุงูุฑูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ูุฅูุง ูุฅู ุงููุญุงูู ุณูู ููุชุธุฑ ุงุณุชุฌุงุจุฉ ูู ูููุฐ COM. </p><br><h4 id="ispolzovanie-socat" style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู socat </h4><br><p style=";text-align:right;direction:rtl">  ูู ุฃูุธูุฉ UNIX ุ ูุชู ุฅูุดุงุก ููุงูุฐ COM ุงูุงูุชุฑุงุถูุฉ ุชููุงุฆููุง ุจูุงุณุทุฉ ุงููุญุงูู ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ socat. ููููุงู ุจุฐูู ุ ุนูุฏ ุจุฏุก ุชุดุบูู ุงููุญุงูู ุ ุญุฏุฏ <code>socat:</code> ุจุงุฏุฆุฉ ูู ุงุณู ุงููููุฐ. </p><br><h3 id="vnutrenniy-interfeys-komandnoy-stroki-argparse-ili-python" style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ุณุทุฑ ุงูุฃูุงูุฑ ุงูุฏุงุฎููุฉ (Argparse ุฃู Python) </h3><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู Kopycat ูู ุชุทุจูู ูุญุฏุฉ ุงูุชุญูู ุ ูููุฑ ุงููุญุงูู ุฎูุงุฑูู ููุงุฌูุฉ ุณุทุฑ ุงูุฃูุงูุฑ ููุชูุงุนู ูุน ุงููุงุฆูุงุช ูุงููุชุบูุฑุงุช: Argparse ู Python. </p><br><p style=";text-align:right;direction:rtl">  Argparse ูู CLI ุงููุฏูุฌุฉ ูู Kopycat ุ ููู ูุชููุฑุฉ ุฏุงุฆููุง ููุฌููุน. </p><br><p style=";text-align:right;direction:rtl">  CLI ุงูุจุฏูู ูู ูุชุฑุฌู Python.  ูุงุณุชุฎุฏุงููุง ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ูุญุฏุฉ Jep Python ูุชูููู ุงููุญุงูู ููุนูู ูุน Python (ุณูุชู ุงุณุชุฎุฏุงู ูุชุฑุฌู Python ุงููุซุจุช ุนูู ุงููุธุงู ุงูุฑุฆูุณู ูููุณุชุฎุฏู). </p><br><h4 id="ustanovka-python-modulya-jep" style=";text-align:right;direction:rtl">  ุชุซุจูุช ูุญุฏุฉ ุจูุซูู ุฌูุจ </h4><br><p style=";text-align:right;direction:rtl">  ุชุญุช Linux ุ ูููู ุชุซุจูุช Jep ุนุจุฑ ููุทุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pip install jep</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชุซุจูุช Jep ุถูู Windows ุ ูุฌุจ ุฃููุงู ุชุซุจูุช Windows SDK ูุจุฑูุงูุฌ Microsoft Visual Studio ุงููุทุงุจู.  ููุฏ ูููุง ุจุชุจุณูุท ูููุชู ููููุงู ูุฌุนููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฌููุนุงุช</a> WHL JEP ููุฅุตุฏุงุฑุงุช ุงูุญุงููุฉ ูู Python for Windows ุ ุจุญูุซ ูููู ุชุซุจูุช ุงููุญุฏุฉ ุงูููุทูุฉ ูู ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pip install jep-3.8.2-cp27-cp27m-win_amd64.whl</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุชุญูู ูู ุชุซุจูุช Jep ุ ูุฌุจ ุชุดุบูู ุณุทุฑ ุงูุฃูุงูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">python -c <span class="hljs-string"><span class="hljs-string">"import jep"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฑุฏุงู ุนูู ุฐูู ุ ูุฌุจ ุงุณุชูุงู ุฑุณุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">ImportError: Jep is not supported <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> standalone Python, it must be embedded <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Java.</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ููู ุงูุฏููุนุงุช ุงููุญุงูู ููุธุงูู ( <em>kopycat.bat</em> ููุธุงู Windows ุ <em>kopycat</em> ููุธุงู ุงูุชุดุบูู Linux) ุฃุถู ุงููุนููุฉ ุงูุฅุถุงููุฉ <code>Djava.library.path</code> ุฅูู ูุงุฆูุฉ ูุนููุงุช <code>DEFAULT_JVM_OPTS</code> - ูุฌุจ ุฃู ุชุญุชูู ุนูู ุงููุณุงุฑ ุฅูู ูุญุฏุฉ Jep ุงููุซุจุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉู ูุฐูู ุ ุจุงููุณุจุฉ ููุธุงู Windows ุ ูุฌุจ ุฃู ุชุญุตู ุนูู ุฎุท ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">set DEFAULT_JVM_OPTS="-XX:MaxMetaspaceSize=256m" "-XX:+UseParallelGC" "-XX:SurvivorRatio=6" "-XX:-UseGCOverheadLimit" "-Djava.library.path=C:/Python27/Lib/site-packages/jep"</code> </pre> <br><h2 id="zapusk-kopycat" style=";text-align:right;direction:rtl">  ุฅุทูุงู Kopycat </h2><br><p style=";text-align:right;direction:rtl">  ุงููุญุงูู ูู ุชุทุจูู JVM ูุญุฏุฉ ุงูุชุญูู.  ูุชู ุงูุฅุทูุงู ูู ุฎูุงู ุงูุจุฑูุงูุฌ ุงููุตู ูุณุทุฑ ุงูุฃูุงูุฑ ููุธุงู ุงูุชุดุบูู (sh / cmd). </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃูุฑ ูุชุดุบูู ุชุญุช ูููุฏูุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">bin\kopycat -g 23946 -n rhino -l user -y library -p firmware=firmware\rhino_pass.bin,tty_dbg=COM26,tty_bt=COM28</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃูุฑ ุงูุชุดุบูู ุนูู Linux ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ socat: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">./bin/kopycat -g 23946 -n rhino -l user -y library -p firmware=./firmware/rhino_pass.bin,tty_dbg=socat:./COM26,tty_bt=socat:./COM28</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>-g 23646</code> - ูููุฐ TCP ุงูุฐู ุณูููู ููุชูุญูุง ูููุตูู ุฅูู ุฎุงุฏู GDB ุ </li><li style=";text-align:right;direction:rtl">  <code>-n rhino</code> - ุงุณู ุงููุญุฏุฉ ุงูุฑุฆูุณูุฉ ูููุธุงู (ุชุฌููุน ุงูุฌูุงุฒ) ุ </li><li style=";text-align:right;direction:rtl">  <code>-l user</code> - ุงุณู ุงูููุชุจุฉ ููุจุญุซ ุนู ุงููุญุฏุฉ ุงูุฑุฆูุณูุฉ ุ </li><li style=";text-align:right;direction:rtl">  - <code>-y library</code> - ุงููุณุงุฑ ููุจุญุซ ุนู ุงููุญุฏุงุช ุงูููุทูุฉ ุงููุถููุฉ ูู ุงูุฌูุงุฒ ุ </li><li style=";text-align:right;direction:rtl">  <code>firmware\rhino_pass.bin</code> - ุงููุณุงุฑ ุฅูู ููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุ </li><li style=";text-align:right;direction:rtl">  COM26 ู COM28 ูู ููุงูุฐ COM ุงูุธุงูุฑู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุณุชููู ุงููุชูุฌุฉ ูู <code>Python &gt;</code> (ุฃู <code>Argparse &gt;</code> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">18:07:59 INFO [eFactoryBuilder.create ]: Module top successfully created as top 18:07:59 INFO [ Module.initializeAndRes]: Setup core to top.u1_stm32.cortexm0.arm for top 18:07:59 INFO [ Module.initializeAndRes]: Setup debugger to top.u1_stm32.dbg for top 18:07:59 WARN [ Module.initializeAndRes]: Tracer wasn't found in top... 18:07:59 INFO [ Module.initializeAndRes]: Initializing ports and buses... 18:07:59 WARN [ Module.initializePortsA]: ATTENTION: Some ports has warning use printModulesPortsWarnings to see it... 18:07:59 FINE [ ARMv6CPU.reset ]: Set entry point address to 08006A75 18:07:59 INFO [ Module.initializeAndRes]: Module top is successfully initialized and reset as a top cell! 18:07:59 INFO [ Kopycat.open ]: Starting virtualization of board top[rhino] with arm[ARMv6Core] 18:07:59 INFO [ GDBServer.debuggerModule ]: Set new debugger module top.u1_stm32.dbg for GDB_SERVER(port=23946,alive=true) Python &gt;</code> </pre> <br><h2 id="vzaimodeystvie-s-ida-pro" style=";text-align:right;direction:rtl">  ุงูุชูุงุนู ูุน IDA Pro </h2><br><p style=";text-align:right;direction:rtl">  ูุชุจุณูุท ุงูุงุฎุชุจุงุฑ ุ ูุณุชุฎุฏู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ูู Rhino ูููู <a href="">ELF</a> (ูุชู ุญูุธ ุงููุนูููุงุช ุงูุชุนุฑูููุฉ ููุงู) ูููู ูุตุฏุฑ ููุชุญููู ูู IDA. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุฑุฆูุณูุฉ ุจุฏูู ูุนูููุงุช ุงูุชุนุฑูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก Kopycat ูู IDA Pro ุ ูู ูุงุฆูุฉ Debugger ุ ุงูุชูู ุฅูู ุนูุตุฑ " <em>Switch debugger ...</em> " ูุญุฏุฏ " <em>Remote GDB debugger</em> ".  ุจุนุฏ ุฐูู ุ ูู ุจุชูููู ุงูุงุชุตุงู: ูุงุฆูุฉ <em>ุงููุตุญุญ - ุฎูุงุฑุงุช ุงูุนูููุฉ ...</em> </p><br><p style=";text-align:right;direction:rtl">  ุงุถุจุท ุงูููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุทุจูู - ุฃู ูููุฉ </li><li style=";text-align:right;direction:rtl">  ุงุณู ุงููุถูู: 127.0.0.1 (ุฃู ุนููุงู IP ุงูุฎุงุต ุจุงูุฌูุงุฒ ุงูุจุนูุฏ ุญูุซ ุชุนูู Kopycat) </li><li style=";text-align:right;direction:rtl">  ูููุงุก: 23946 </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mx/kw/-l/mxkw-lbzq_igoewovazplw4moho.png" alt="ุชูููู ุงูุงุชุตุงู ุจุฎุงุฏู GDB"></div><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุชููุฑ ุฒุฑ ุจุฏุก ุงูุชุตุญูุญ (ุงูููุชุงุญ F9): </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/af/mu/-q/afmu-qpi0ymfpsga-orunargmas.png"></div><br><p style=";text-align:right;direction:rtl">  ุงุถุบุท ุนููู - ูุชุตู ุจูุญุฏุฉ ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุงููุญุงูู.  ููุชูู IDA ุฅูู ูุถุน ุงูุชุตุญูุญ ูุชุตุจุญ ููุงู ููุงูุฐ ุฅุถุงููุฉ ูุชุงุญุฉ: ูุนูููุงุช ุญูู ุงูุณุฌูุงุช ุ ุญูู ุงูููุฏุณ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูููููุง ุงุณุชุฎุฏุงู ุฌููุน ุงูููุฒุงุช ุงูููุงุณูุฉ ููุนูู ูุน ุงููุตุญุญ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููุฐ ุงูุชุนูููุงุช <em>ุฎุทูุฉ ุจุฎุทูุฉ</em> ( <em>ุงูุฎุทูุฉ ุฅูู</em> <em>ุงูุฎุทูุฉ ุฎุทูุฉ</em> - ุงูููุงุชูุญ F7 ู F8 ุ ุนูู ุงูุชูุงูู) ุ </li><li style=";text-align:right;direction:rtl">  ุงูุจุฏุก ูุฅููุงู ุงูุชูููุฐ ุ </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ููุงุท ุชููู ุนูู ูู ูู ุงูููุฏ ูุงูุจูุงูุงุช (ููุชุงุญ F2). </li></ul><br><p style=";text-align:right;direction:rtl">  ูุง ูุนูู ุงูุงุชุตุงู ุจูุตุญุญ ุงูุฃุฎุทุงุก ุจุฏุก ุชุดุบูู ุฑูุฒ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช.  ูุฌุจ ุฃู ูููู ุงูููุถุน ุงูุญุงูู ููุชูููุฐ ูู ุงูุนููุงู <code>0x08006A74</code> - ุจุฏุงูุฉ ูุธููุฉ <em>Reset_Handler</em> .  ุฅุฐุง ููุช ุจุงูุชูุฑูุฑ ูุฃุณูู ุงููุงุฆูุฉ ุฃุฏูุงู ุ ููููู ุฑุคูุฉ ุงูุฏุนูุฉ ุฅูู ุงููุธููุฉ <em>ุงูุฑุฆูุณูุฉ</em> .  ููููู ูุถุน ุงููุคุดุฑ ุนูู ูุฐุง ุงูุณุทุฑ (ุงูุนููุงู <code>0x08006ABE</code> ) ูุชูููุฐ " <em>ุชุดุบูู ุญุชู ุชุดุบูู ุงููุคุดุฑ"</em> (ุงูููุชุงุญ F4). </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wx/k4/3r/wxk43r-316cpnsdabb9eydkzus4.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููููู ุงูุถุบุท ุนูู ุงูููุชุงุญ F7 ููุฏุฎูู ุฅูู ุงููุธููุฉ <em>ุงูุฑุฆูุณูุฉ</em> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชูููุฐ ุฃูุฑ <em>ูุชุงุจุนุฉ ุงูุนูููุฉ</em> (ุงูููุชุงุญ F9) ุ ูุณุชุธูุฑ ูุงูุฐุฉ "ุงูุฑุฌุงุก ุงูุงูุชุธุงุฑ" ูุน ุฒุฑ <em>ุชุนููู</em> ูุงุญุฏ: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9e/78/tg/9e78tgoterc50rqvmosunzp1u5i.png"></div><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุถุบุท ุนูู <em>Suspend ุ ูุชู ุชุนููู</em> ุชูููุฐ ุฑูุฒ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููููู ุฃู ูุณุชูุฑ ูู ููุณ ุงูุนููุงู ูู ุงูููุฏ ุญูุซ ุชูุช ููุงุทุนุฉ ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชุงุจุนุช ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุนูุฏุฆุฐู ูู ุงููุญุทุงุช ุงูุทุฑููุฉ ุงููุชุตูุฉ ุจููุงูุฐ COM ุงูุธุงูุฑูุฉ ุ ููููู ุฑุคูุฉ ุงูุฃุณุทุฑ ุงูุชุงููุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fi/vi/j-/fivij-hshz3izcxoo0lnewnznc8.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2m/cn/oq/2mcnoqd__te1i0sq5z28jd29mdg.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุดูุฑ ูุฌูุฏ ุงูุณูุณูุฉ "ุชุฌุงูุฒ ุงูุญุงูุฉ" ุฅูู ุฃู ูุญุฏุฉ Bluetooth ุงูุงูุชุฑุงุถูุฉ ูุฏ ุชุญููุช ุฅูู ูุถุน ุชููู ุงูุจูุงูุงุช ูู ูููุฐ COM ุงูุฎุงุต ุจุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ูุญุทุฉ Bluetooth (ูู ุงูุดูู - COM29) ุ ููููู ุฅุฏุฎุงู ุงูุฃูุงูุฑ ููููุง ูุจุฑูุชูููู ุงููุฑูุฏู.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุฑุฌุน ุงูุณูุณูุฉ "mur-mur" ุฅูู ุงูุฃูุฑ "MEOW" ูู ูุญุทุฉ Bluetooth: </p><br><img src="https://habrastorage.org/webt/yq/td/ab/yqtdabgfdd3jlzswsrk3rvbdzds.png"><br><br><h3 id="emuliruy-menya-ne-polnostyu" style=";text-align:right;direction:rtl">  ูุญุงูุงุฉ ูู ููุณ ุชูุงูุง </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ูุญุงูู ุ ููููู ุงุฎุชูุงุฑ ุฏุฑุฌุฉ ุงูุชูุงุตูู / ูุถุงูุงุฉ ุงูุฌูุงุฒ.  ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูููู ูุญุงูุงุฉ ูุญุฏุฉ Bluetooth ุจุทุฑู ูุฎุชููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌูุงุฒ ูุถุงูุงุฉ ุจุงููุงูู ูุน ูุฌููุนุฉ ูุงููุฉ ูู ุงูุฃูุงูุฑ ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ูุญุงูุงุฉ ุฃูุงูุฑ AT ุ ููุชู ุชููู ุฏูู ุงูุจูุงูุงุช ูู ูููุฐ COM ูู ุงููุธุงู ุงูุฑุฆูุณู ุ </li><li style=";text-align:right;direction:rtl">  ูููุฑ ุงูุฌูุงุฒ ุงูุธุงูุฑู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุจูุงูุงุช ุจุงููุงูู ุฅูู ุฌูุงุฒ ุญูููู ุ </li><li style=";text-align:right;direction:rtl">  ูุนูุตุฑ ุจุณูุท ูุนูุฏ ุฏุงุฆููุง "ููุงูู". </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ุงููุญุงูู ุ ูุชู ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูุซุงููุฉ - ุชููู ูุญุฏุฉ Bluetooth ุงูุงูุชุฑุงุถูุฉ ุจุฅุฌุฑุงุก ุงูุชูููู ุ ูุจุนุฏ ุฐูู ุชููู ุจุงูุชุจุฏูู ุฅูู ูุถุน ุงููููู ููุจูุงูุงุช ูู ูููุฐ COM ุงูุฎุงุต ุจุงููุธุงู ุงูุฑุฆูุณู ุฅูู ูููุฐ UART ุงูุฎุงุต ุจุงููุญุงูู. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/e6/5c/m_/e65cm_tl2bggpbg0-q0azjvdz64.jpeg"></div><br><p style=";text-align:right;direction:rtl">  ุงููุธุฑ ูู ุฅููุงููุฉ ุงูุฃุฌูุฒุฉ ุจุณูุทุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฅุฐุง ูู ูุชู ุชูููุฐ ุฌุฒุก ูู ุงููุญูุท.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูู ูุชู ุฅูุดุงุก ูุคูุช ูุชุญูู ูู ููู ุงูุจูุงูุงุช ูู DMA (ูุชู ุฅุฌุฑุงุก ุงูุชุญูู ูู ูุธููุฉ <em>ws2812b_wait</em> ุงูููุฌูุฏุฉ ูู <code>0x08006840</code> ) ุ <code>0x08006840</code> ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุฏุงุฆููุง ุงูุฅุดุงุฑุฉ <em>ุงููุฒุฏุญูุฉ</em> ุงูููุฌูุฏุฉ ูู <code>0x200004C4</code> ูุฅุนุงุฏุฉ ุชุนููู ุฎุท ุจูุงูุงุช DMA: </p><br><img src="https://habrastorage.org/webt/pt/jj/su/ptjjsutfya2dkoqdoshkeyeeqzw.png"><br><p style=";text-align:right;direction:rtl">  ูููููุง ุงูุชุญุงูู ุนูู ูุฐุง ุงููููู ุนู ุทุฑูู ุฅุนุงุฏุฉ ุชุนููู ุงูุนูู <em>ุงููุดุบูู</em> ูุฏูููุง ููุฑ ุถุจุทู.  ูู IDA Pro ุ ููููู ุฅูุดุงุก ูุธููุฉ Python ูุงุณุชุฏุนุงุฆูุง ูู ููุทุฉ ุชููู ุ ููุฌุจ ุชุนููู ููุทุฉ ุชููู ูู ุงูููุฏ ุจุนุฏ ูุชุงุจุฉ ุงููููุฉ 1 ุฅูู ุงูุนูุงูุฉ <em>ุงููุฒุฏุญูุฉ</em> . </p><br><h4 id="breakpoint-obrabotchik" style=";text-align:right;direction:rtl">  ููุทุฉ ุชููู ูุนุงูุฌ </h4><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูู ุจุฅูุดุงุก ุฏุงูุฉ Python ูู ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ.  <em>ููู</em> ุงููุงุฆูุฉ <em>- ุงูููุงุฏุฉ ุงููุตู ...</em> </p><br><p style=";text-align:right;direction:rtl">  ุฃุถู ููุชุทููุง ุฌุฏูุฏูุง ูู ุงููุงุฆูุฉ ุงูููุฌูุฏุฉ ุนูู ุงููุณุงุฑ ุ ูุงุณูู (ุนูู ุณุจูู ุงููุซุงู ุ <em>BPT</em> ) ุ <br>  ูู ูุฑุจุน ุงููุต ุนูู ุงููููู ูุฏุฎู ุฑูุฒ ุงููุธููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skip_dma</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Skipping wait ws2812..."</span></span> value = Byte(<span class="hljs-number"><span class="hljs-number">0x200004C4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> value == <span class="hljs-number"><span class="hljs-number">1</span></span>: PatchDbgByte(<span class="hljs-number"><span class="hljs-number">0x200004C4</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zi/za/-d/ziza-ddx3arqlqfbd-o6jvdmnjc.png"></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุงููุฑ ููู " <em>ุชุดุบูู"</em> ูุฃุบูู ุฅุทุงุฑ ุงูุจุฑูุงูุฌ ุงููุตู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุ ุฏุนูุง ูุฐูุจ ุฅูู ุงูููุฏ ุนูู <code>0x0800688A</code> ุ ูู ุจุชุนููู ููุทุฉ ุชููู (ููุชุงุญ F2) ุ ูู ุจุชุญุฑูุฑู (ูุงุฆูุฉ ุณูุงู <em>ุชุญุฑูุฑ ...</em> ) ุ ูุง ุชูุณู ุถุจุท ููุน ุงูุจุฑูุงูุฌ ุงููุตู - Python: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fo/pn/1v/fopn1vb8fbxqrhn6xoia_rgnsau.png"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/h6/yq/b2/h6yqb29r1m9sngr3csfimxcxsew.png"></div><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงููููุฉ ุงูุญุงููุฉ <em>ููุนูุงูุฉ</em> <em>ูุดุบูู</em> ูู 1 ุ ููุฌุจ <em>ุชูููุฐ</em> ูุธููุฉ <em>skip_dma</em> ูู ุณุทุฑ ุงูุจุฑูุงูุฌ ุงููุตู: </p><br><img src="https://habrastorage.org/webt/m-/t8/in/m-t8in2th7ei6neigdzgzq17kxy.png"><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชุดุบูู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุชูููุฐ ุ ูููููู ุฑุคูุฉ ุฑูุฒ ูุนุงูุฌ ููุทุฉ ุงูุฅููุงู ูู ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ ูู ูุงูุฐุฉ <em>ุงูุฅุฎุฑุงุฌ</em> ุนูู ุงูุฎุท <code>Skipping wait ws2812...</code>  ุงูุขู ูู ุชูุชุธุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูุฅุนุงุฏุฉ ุชุนููู ุงูุนูู <em>ุงููุดุบูู</em> . </p><br><h4 id="vzaimodeystvie-s-emulyatorom" style=";text-align:right;direction:rtl">  ุชูุงุนู ุงููุญุงูู </h4><br><p style=";text-align:right;direction:rtl">  ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ูุณุจุจ ูุถุงูุงุฉ ูู ุฃุฌู ูุถุงูุงุฉ ุงูุจูุฌุฉ ูุงูุจูุฌุฉ.  ุณูููู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุฅุฐุง ูุงู ุงููุญุงูู ูุณุงุนุฏ ุงูุจุงุญุซ ุนูู ุฑุคูุฉ ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ ุฃู ูุชุฃุณูุณ ุชูุงุนู ุงูุชุฏููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุถุญ ููููุฉ ุชุฃุณูุณ ุชูุงุนู ููุงู RTOS ุฏููุงูููููุง.  ุฃููุงู ุ ูู ุจุฅููุงู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุคูุชูุง ุฅุฐุง ูุงู ููุฏ ุงูุชุดุบูู.  ุฅุฐุง ููุช ุจุงูุชุจุฏูู ุฅูู ูุธููุฉ <em>bluetooth_task_entry</em> ูู ูุฑุน ูุนุงูุฌุฉ ุงูุฃูุฑ "LED" (ุงูุนููุงู <code>0x080057B8</code> ) ุ ููููู ุฑุคูุฉ ูุง ุชู ุฅูุดุงุคู ุฃููุงู ุ ุซู ูุชู ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุธุงู <em>ledControlQueueHandle</em> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/po/bk/zm/pobkzmapmust02eaafle7d_pxba.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุนููู ุชุนููู ููุทุฉ ุชููู ูููุตูู ุฅูู ูุชุบูุฑ <em>ledControlQueueHandle</em> ุงูููุฌูุฏ ูู <code>0x20000624</code> ููุชุงุจุนุฉ ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ev/wo/g3/evwog3vrv7ozxlxjozd4itvve0a.png"></div><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉู ูุฐูู ุ ุณุชุชููู ูู <code>0x080057CA</code> ุนูู ุงูุนููุงู <code>0x080057CA</code> ูุจู ุงุณุชุฏุนุงุก ูุธููุฉ <em>osMailAlloc</em> ุ ุซู ูู <code>0x08005806</code> ูุจู ุงูุงุชุตุงู ุจูุธููุฉ <em>osMailPut</em> ุ ุซู ุจุนุฏ ูุชุฑุฉ ูู ุงูููุช ูู ุงูุนููุงู <code>0x08005BD4</code> (ูุจู ุงุณุชุฏุนุงุก ูุธููุฉ <em>osMailGet</em> ) ุ ุงูุชู ุชูุชูู ุฅูู ูุธููุฉ <em>leds_task_entry</em> (LED LED) ุ ุฃู ูุงู ููุงู ููุชุงุญ ูููุฉ ุ ูุงูุขู ุชููู ุงูุชุญูู ูููุฉ LED. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/th/ni/zh/thnizhzqykfn20l9-btkuqhawlc.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุจูุฐู ุงูุทุฑููุฉ ุงูุจุณูุทุฉ ุ ููููู ุชุญุฏูุฏ ููููุฉ ุชูุงุนู ููุงู RTOS ูุน ุจุนุถูุง ุงูุจุนุถ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูู ุงููุงูุน ุ ูููู ุฃู ูููู ุชูุงุนู ุงูููุงู ุฃูุซุฑ ุชุนููุฏูุง ุ ูููู ุงุณุชุฎุฏุงู ูุญุงูู ูุชุชุจุน ูุฐุง ุงูุชูุงุนู ูุตุจุญ ุฃูู ุตุนูุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููููู ูุดุงูุฏุฉ ููุทุน ููุฏูู ูุตูุฑ ูุฅุทูุงู ุงููุญุงูู ูุงูุชูุงุนู ูุน IDA Pro. </p><br><h2 id="zapusk-s-radare2" style=";text-align:right;direction:rtl">  ุฅุทูุงู ูุน Radare2 </h2><br><p style=";text-align:right;direction:rtl">  ูุง ููููู ุชุฌุงูู ุฃุฏุงุฉ ุนุงูููุฉ ูุซู Radare2. </p><br><p style=";text-align:right;direction:rtl">  ููุงุชุตุงู ุจุงููุญุงูู ุจุงุณุชุฎุฏุงู r2 ุ ุณูุจุฏู ุงูุฃูุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">radare2 -A -a arm -b 16 -d gdb://localhost:23946 rhino_fw42k6.elf</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุงุจุฏุฃ ( <code>dc</code> ) ูุชูููุฐ ุงูุฅููุงู ุงููุคูุช (Ctrl + C). </p><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูู ุงูููุช ุงูุญุงูู ูู r2 ุ ููุงู ูุดุงูู ุนูุฏ ุงูุนูู ูุน ุฎุงุฏู gdb ููุฃุฌูุฒุฉ ูุชุฑููุฒ ุงูุฐุงูุฑุฉ ุ ูููุฐุง ุงูุณุจุจ ุ ูุง ุชุนูู ููุงุท ุงูุชููู ูุงูุฎุทูุงุช (ุงูุฃูุฑ <code>ds</code> ).  ูุฃูู ุฃู ูุชู ุฅุตูุงุญ ูุฐุง ูู ุงููุณุชูุจู ุงููุฑูุจ. </p><br><h2 id="zapusk-s-eclipse" style=";text-align:right;direction:rtl">  ุฅุทูุงู ูุน ุงููุณูู </h2><br><p style=";text-align:right;direction:rtl">  ุฃุญุฏ ุงูุฎูุงุฑุงุช ูุงุณุชุฎุฏุงู ุงููุญุงูู ูู ุชุตุญูุญ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุฌูุงุฒ ููุฏ ุงูุชุทููุฑ.  ูู ุฃุฌู ุงููุถูุญ ุ ุณูู ูุณุชุฎุฏู ุฃูุถูุง ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูู Rhino.  ููููู ุชูุฒูู ูุตุงุฏุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุณูู ูุณุชุฎุฏู ุงููุณูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Workbench System for STM32</a> suite ุจุงุนุชุจุงุฑู IDE. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุชุญููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุงููุชุฑุฌู ูุจุงุดุฑุฉ ูู Eclipse ุฅูู ุงููุญุงูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงููุนููุฉ <code>firmware=null</code> ุฅูู ุฃูุฑ ุจุฏุก ุงููุญุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">bin\kopycat -g 23946 -n rhino -l user -y library -p firmware=null,tty_dbg=COM26,tty_bt=COM28</code> </pre> <br><h3 id="nastroyka-debug-konfiguracii" style=";text-align:right;direction:rtl">  ุชูููู ุงูุชุตุญูุญ </h3><br><p style=";text-align:right;direction:rtl">  ูู Eclipse ุ ุญุฏุฏ ุงููุงุฆูุฉ <em>Run - Debug Configurations ...</em> ูู ุงููุงูุฐุฉ ุงูุชู ุชูุชุญ ุ ูู ูุณู <em>GDB Hardware Debugging</em> ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุชูููู ุฌุฏูุฏ ุ ูุจุนุฏ ุฐูู ุชุดูุฑ ุนูุงูุฉ ุงูุชุจููุจ "Main" ุฅูู ุงููุดุฑูุน ุงูุญุงูู ูุงูุชุทุจูู ูุชุตุญูุญ ุงูุฃุฎุทุงุก: </p><br><img src="https://habrastorage.org/webt/f-/yk/eo/f-ykeob2i5vg25qbrz_egbqntou.png"><br><p style=";text-align:right;direction:rtl">  ูู ุนูุงูุฉ ุงูุชุจููุจ Debugger ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ุฃูุฑ GDB: <br> <code>${openstm32_compiler_path}\arm-none-eabi-gdb</code> </p> <br><p style=";text-align:right;direction:rtl">  ูุฃุฏุฎู ุฃูุถูุง ุงููุนููุงุช ุงูุฎุงุตุฉ ุจุงูุงุชุตุงู ุจุฎุงุฏู GDB (ุงููุถูู ูุงููููุฐ): </p><br><img src="https://habrastorage.org/webt/ef/ud/fo/efudfommb7a9gkr4kcvp0vtnqfm.png"><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุชุญุฏูุฏ ุงููุนููุงุช ุงูุชุงููุฉ ูู ุนูุงูุฉ ุงูุชุจููุจ "ุจุฏุก ุงูุชุดุบูู": </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููู ุฎุงูุฉ ุงูุงุฎุชูุงุฑ <em>ุชุญููู ุงูุตูุฑุฉ</em> (ุจุญูุซ ูุชู ุชุญููู ุตูุฑุฉ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงููุฌูุนุฉ ูู ุงููุญุงูู) ุ </li><li style=";text-align:right;direction:rtl">  ุชูููู ุนูุงูุฉ <em>ุชุญููู ุงูุฑููุฒ</em> ุ </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุฃูุฑ ุจุฏุก: <code>set $pc = *0x08000004</code> (ูู ุจุชุนููู ุงููููุฉ ูู ุงูุฐุงูุฑุฉ ุฅูู ุณุฌู ุงูููุจููุชุฑ ุนูู ุงูุนููุงู <code>0x08000004</code> - ูุชู ุชุฎุฒูู ุนููุงู <code>0x08000004</code> ููุงู). </li></ul><br><p style=";text-align:right;direction:rtl">  <strong>ูุฑุฌู ููุงุญุธุฉ</strong> ุฃูู ุฅุฐุง ููุช ูุง ุชุฑุบุจ ูู ุชูุฒูู ููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ูู Eclipse ุ ููู ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูุนููุงุช <em>ุชุญููู ุตูุฑุฉ</em> <em>ูุชุดุบูู</em> . </p><br><img src="https://habrastorage.org/webt/w3/q8/2f/w3q82fvei4c91385rlcipmuiy_i.png"><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูููุฑ ููู Debug ุ ููููู ุงูุนูู ูู ูุถุน ุงูุชุตุญูุญ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฎุทูุฉ ุจุฎุทูุฉ <br><img src="https://habrastorage.org/webt/1h/6n/ax/1h6nax1gpgcdyrwakdmzzlu6_x8.png"></li><li style=";text-align:right;direction:rtl">  ุงูุชูุงุนู ูุน ููุงุท ุงูุชููู <br><img src="https://habrastorage.org/webt/4d/n1/5e/4dn15e4hzaukbif58ggwhy_wg18.png"></li></ul><br><p style=";text-align:right;direction:rtl">  <strong><em>ุงููุฐูุฑุฉ.</em></strong>  <em>ูุญุชูู Eclipse ุนูู ุจุนุถ ุงูููุฒุงุช ... ูุนููู ุฃู ุชุนูุด ูุนูู.</em>  <em>ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุธูุฑุช ุงูุฑุณุงูุฉ "No source available for" 0x0 "" ุนูุฏ ุจุฏุก ุชุดุบูู ุงููุตุญุญ ุ ููู ุจุชุดุบูู ุงูุฃูุฑ Step (F5)</em> </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ra/uz/ko/rauzko55hgnj1y_uapnqbz8ftrw.png"></div><br><h2 id="vmesto-zaklyucheniya" style=";text-align:right;direction:rtl">  ุจุฏูุง ูู ุงูุงุณุชูุชุงุฌ </h2><br><p style=";text-align:right;direction:rtl">  ูุถุงูุงุฉ ุงูููุฏ ุงูุฃุตูู ูู ุดูุก ูุซูุฑ ููุงูุชูุงู ููุบุงูุฉ.  ุจุงููุณุจุฉ ููุทูุฑ ุงูุฌูุงุฒ ุ ูุตุจุญ ูู ุงููููู ุชุตุญูุญ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุจุฏูู ุฌูุงุฒ ุญูููู.  ููุจุงุญุซ - ุงููุฏุฑุฉ ุนูู ุฅุฌุฑุงุก ุชุญููู ุงูุดูุฑุฉ ุงูุฏููุงูููู ุ ููู ุฃูุฑ ุบูุฑ ูููู ุฏุงุฆููุง ุญุชู ูุน ูุฌูุฏ ุฌูุงุฒ. </p><br><p style=";text-align:right;direction:rtl">  ูุฑูุฏ ุฃู ูููุฑ ูููุชุฎุตุตูู ุฃุฏุงุฉ ูู ุดุฃููุง ุฃู ุชููู ูุฑูุญุฉ ูุจุณูุทุฉ ุฅูู ุญุฏ ูุง ููู ุชุณุชุบุฑู ุงููุซูุฑ ูู ุงูุฌูุฏ ูุงูููุช ูุชูููููุง ูุฅุทูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุจ ุงูุชุนูููุงุช ุญูู ุชุฌุฑุจุชู ูุน ุงุณุชุฎุฏุงู ุจุฑุงูุฌ ูุญุงูุงุฉ ุงูุฃุฌูุฒุฉ.  ูุญู ูุฏุนูู ุฅูู ููุงูุดุฉ ูุณูููู ุณุนุฏุงุก ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar445798/">https://habr.com/ru/post/ar445798/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar445786/index.html">ุงูุชุดููุฑ ูู ุฌุงูุง. KeyStore ุงูุฏุฑุฌุฉ</a></li>
<li><a href="../ar445788/index.html">ุงููุฑุงูุจุฉ ุจุงูููุฏูู ุงูุณุญุงุจูุฉ ุงูุนููุง ุจููุณู: ููุฒุงุช ุฌุฏูุฏุฉ ูู Ivideon Web SDK</a></li>
<li><a href="../ar445792/index.html">ููู ูููู ุจุชุทููุฑ ุงููุซุงุฆู ูู ูุดุฑูุน Embox ููุชูุญ</a></li>
<li><a href="../ar445794/index.html">ุนูุงููุฉ ุชูููููุฌูุง ุงููุนูููุงุช ุชูุดู ุงูููุงุจ ุนู ุงูุญู ุงููุฎุชูุท ููุดุฑ ุงูุณุญุงุจุฉ ุงููุฌููุฉ</a></li>
<li><a href="../ar445796/index.html">Fintech Digest: ุฏูุฑุณู ุชุฏูุน ูุน bitcoins ุ ูุงุณุชุฑุงุชูุฌูุฉ blockchain ุงูุฃุณุชุฑุงููุฉ ุ ู Levi IPO ุ ูุนูุฏุฉ ุดููุงุบู ุ ูุญุชููุฉ bitcoin</a></li>
<li><a href="../ar445800/index.html">ูููุงุฏ ูู 15 ุฏูููุฉ</a></li>
<li><a href="../ar445802/index.html">5 ุฃุดูุงุก ูุฌุจ ุฃู ูุนุฑููุง ุงุชุฌุงูุงุช ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar445804/index.html">ุชุบููู ููุณุงููุฑุงู ุงูุญูููู ุ ุฃู ุงููุฑูู ุงูุฏูููุฉ ุงููุฑุชุจุทุฉ ุงููููุฉ ุงูุฃุณุงุณูุฉ ูู C #</a></li>
<li><a href="../ar445806/index.html">ููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุบูุฑ ุงูุนูู</a></li>
<li><a href="../ar445808/index.html">ูุญู ููุฑู ููุทุงุฑุฏ: ุงูุญูุงุฉ ุงูุฎุทูุฑุฉ ูููุฑูุน ุงูููุฑูุณุงุช ุงูุฐู ูุตูุน ุฃุนุฏุงุก ุฃูููุงุก</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>