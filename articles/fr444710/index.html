<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‚ğŸ¾ ğŸ’ªğŸ½ ğŸ‘©â€ğŸ’» Comprendre le protocole de consensus stellaire ğŸ”‚ ğŸ§¦ ğŸ§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le protocole de consensus stellaire a Ã©tÃ© dÃ©crit pour la premiÃ¨re fois dans un article scientifique de 2015 par David Mazier. Il s'agit d'un Â«systÃ¨me ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comprendre le protocole de consensus stellaire</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444710/"><img src="https://habrastorage.org/getpro/habr/post_images/d61/191/bb6/d61191bb66df2fb90fda24b86afb49b2.gif"><br><br>  Le protocole de consensus stellaire a Ã©tÃ© dÃ©crit pour la premiÃ¨re fois dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article scientifique de</a> 2015 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">par</a> David Mazier.  Il s'agit d'un Â«systÃ¨me fÃ©dÃ©ral de l'accord byzantinÂ», qui permet aux rÃ©seaux informatiques dÃ©centralisÃ©s sans dirigeants de parvenir efficacement Ã  un consensus sur toute dÃ©cision.  Le rÃ©seau de facturation Stellar utilise le protocole de consensus Stellar (SCP) pour conserver un historique des transactions cohÃ©rent que tous les membres voient. <br><br>  Les protocoles de consensus sont considÃ©rÃ©s comme difficiles Ã  comprendre.  Le SCP est plus simple que la plupart d'entre eux, mais partage toujours cette rÃ©putation - en partie Ã  cause de l'idÃ©e erronÃ©e que le Â«vote fÃ©dÃ©ralÂ», auquel la premiÃ¨re moitiÃ© de l'article scientifique est consacrÃ©, est le SCP.  Mais ce n'est pas le cas!  Ceci est juste un Ã©lÃ©ment de construction important, qui dans la seconde moitiÃ© de l'article est utilisÃ© pour crÃ©er le protocole de consensus stellaire <i>rÃ©el</i> . <br><a name="habracut"></a><br>  Dans cet article, nous dÃ©crivons briÃ¨vement ce qu'est un Â«systÃ¨me d'accordsÂ», ce qui peut le rendre Â«byzantinÂ» et pourquoi rendre le systÃ¨me byzantin Â«fÃ©dÃ©ralÂ».  Ensuite, nous expliquons la procÃ©dure de vote fÃ©dÃ©rÃ© dÃ©crite dans l'article du SCP, et expliquons enfin le protocole SCP lui-mÃªme. <br><br><h1>  SystÃ¨mes d'accord </h1><br>  Le systÃ¨me d'accords permet Ã  un groupe de participants de parvenir Ã  un consensus sur un sujet, par exemple, quoi commander pour le dÃ©jeuner. <br><br>  Chez Interstellar, nous avons mis en place notre propre systÃ¨me de restauration: nous commandons ce que dit notre directeur des opÃ©rations, John.  Il s'agit d'un systÃ¨me d'accord simple et efficace.  Nous faisons tous confiance Ã  John et croyons que chaque jour, il trouvera quelque chose d'intÃ©ressant et de nutritif. <br><br>  Mais que faire si John abuse de notre confiance?  Il peut Ã  lui seul dÃ©cider que nous devrions tous devenir des vÃ©gÃ©taliens.  Dans une semaine ou deux, nous allons probablement le renverser et remettre l'autoritÃ© Ã  Elizabeth.  Mais soudain, elle aime les avocats aux anchois et pense que tout le monde devrait devenir comme Ã§a.  Le pouvoir corrompt.  Par consÃ©quent, il est prÃ©fÃ©rable de trouver une mÃ©thode plus dÃ©mocratique: un moyen de s'assurer que les diffÃ©rentes prÃ©fÃ©rences sont prises en compte, tout en garantissant un rÃ©sultat rapide et sans ambiguÃ¯tÃ© afin que personne ne commande le dÃ©jeuner ou que cinq personnes passent des commandes diffÃ©rentes, ou que la discussion se prolonge jusqu'au soir. <br><br>  Il semblerait que la solution soit simple: voter!  Mais c'est une impression trompeuse.  Qui collectera les bulletins de vote et communiquera les rÃ©sultats?  Et pourquoi les autres devraient-ils croire ce qu'il dit?  Peut-Ãªtre pouvons-nous d' <i>abord</i> voter pour le leader en qui nous avons confiance pour diriger le vote - mais qui dirigera ce <i>premier</i> vote?  Et si on n'arrive pas Ã  s'entendre sur un leader?  Ou si nous sommes d'accord et que ce leader est coincÃ© dans une rÃ©union ou part en congÃ© de maladie? <br><br>  Des problÃ¨mes similaires se retrouvent dans les rÃ©seaux informatiques distribuÃ©s.  Tous les participants ou nÅ“uds doivent se mettre d'accord sur une solution, par exemple, Ã  qui revient de mettre Ã  jour le fichier partagÃ© ou de retirer la tÃ¢che de la file d'attente de traitement.  Dans un rÃ©seau de crypto-monnaie, les nÅ“uds doivent Ã  plusieurs reprises choisir Ã  quoi ressemble l'histoire complÃ¨te parmi plusieurs versions possibles qui sont parfois en conflit.  Cet accord de rÃ©seau donne au destinataire la garantie que la piÃ¨ce est (a) valide (non contrefaite) et (b) non encore dÃ©pensÃ©e ailleurs.  Il garantit Ã©galement qu'il pourra dÃ©penser des piÃ¨ces Ã  l'avenir car le nouveau destinataire aura les mÃªmes garanties pour les mÃªmes raisons. <br><br>  Tout systÃ¨me de correspondance dans un rÃ©seau informatique distribuÃ© doit Ãªtre tolÃ©rant aux pannes: il doit donner des rÃ©sultats cohÃ©rents, malgrÃ© les erreurs, telles que les lignes de communication lentes, les nÅ“uds non rÃ©actifs et l'ordre des messages incorrect.  <i>Le</i> systÃ¨me d'accords <i>byzantin</i> est en outre rÃ©sistant aux erreurs Â«byzantinesÂ»: des nÅ“uds qui fournissent de fausses informations, que ce soit Ã  cause d'une erreur ou dans une tentative dÃ©libÃ©rÃ©e de saper le systÃ¨me ou d'obtenir un avantage.  La rÃ©silience Â«byzantineÂ» - la capacitÃ© de faire confiance Ã  une dÃ©cision de groupe, mÃªme lorsque certains membres du groupe peuvent mentir ou ne pas suivre les rÃ¨gles de la prise de dÃ©cision - est appelÃ©e la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parabole des gÃ©nÃ©raux de l'Empire byzantin</a> qui ont tentÃ© de coordonner l'attaque.  Anthony Stevens a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bonne description</a> . <br><br>  ConsidÃ©rez le propriÃ©taire de la piÃ¨ce cryptographique Alice, qui doit choisir entre acheter une dÃ©licieuse glace de Bob et payer la dette de Carol.  Peut-Ãªtre qu'Alice veut payer les deux Ã  la fois, dÃ©pensant frauduleusement la mÃªme piÃ¨ce.  Pour ce faire, elle doit convaincre l'ordinateur de Bob que la piÃ¨ce n'a jamais Ã©tÃ© payÃ©e Ã  Carol et convaincre l'ordinateur de Carol que la piÃ¨ce n'a jamais Ã©tÃ© payÃ©e Ã  Bob.  Le systÃ¨me byzantin de conventions rend cela pratiquement impossible en utilisant une forme de rÃ¨gle de majoritÃ© appelÃ©e <i>quorum</i> .  Un nÅ“ud dans un tel rÃ©seau refuse de basculer vers une certaine version de l'historique jusqu'Ã  ce qu'il constate qu'un nombre suffisant de nÅ“uds homologues - un quorum - accepte une telle transition.  DÃ¨s que cela se produit, ils formeront un bloc Ã©lectoral suffisamment grand pour forcer les nÅ“uds de rÃ©seau restants Ã  approuver leur dÃ©cision.  Alice peut faire mentir certains nÅ“uds en son nom, mais si le rÃ©seau est suffisamment grand, sa tentative sera supprimÃ©e par les voix de nÅ“uds honnÃªtes. <br><br>  Combien de nÅ“uds sont nÃ©cessaires pour un quorum?  Au minimum, une majoritÃ©, ou plutÃ´t une majoritÃ© qualifiÃ©e, pour lutter contre les erreurs et les fraudes.  Mais pour calculer la majoritÃ©, vous devez connaÃ®tre le nombre total de participants.  Au bureau d'Interstellar ou aux Ã©lections de district, ces chiffres sont faciles Ã  reconnaÃ®tre.  Mais si votre groupe est un rÃ©seau mal dÃ©fini dans lequel les nÅ“uds peuvent entrer et sortir comme vous le souhaitez sans coordination avec le centre, alors vous avez besoin d'un systÃ¨me d'accord byzantin <i>fÃ©dÃ©ral</i> qui peut dÃ©terminer les collÃ¨ges non pas Ã  partir d'une liste de nÅ“uds prÃ©dÃ©terminÃ©e, mais dynamiquement, Ã  partir d'un environnement en constante Ã©volution et inÃ©vitablement incomplet. instantanÃ© des nÅ“uds Ã  un certain moment. <br><br>  Il peut ne pas sembler possible de crÃ©er un quorum en termes d'un seul nÅ“ud dans un rÃ©seau Ã©tendu, mais c'est possible.  Un tel quorum peut mÃªme garantir les rÃ©sultats d'un vote dÃ©centralisÃ©.  Le livre blanc du SCP montre comment procÃ©der en utilisant une procÃ©dure appelÃ©e <i>vote fÃ©dÃ©rÃ©</i> . <br><br><h1>  Pour les impatients </h1><br>  Le reste de l'article dÃ©taille le vote fÃ©dÃ©ral et le protocole de consensus stellaire.  Si vous n'Ãªtes pas intÃ©ressÃ© par les dÃ©tails, voici un aperÃ§u gÃ©nÃ©ral du processus. <br><br><ol><li>  Les nÅ“uds mÃ¨nent des tours de scrutin fÃ©dÃ©ral sur les Â«candidatsÂ».  Un tour de scrutin fÃ©dÃ©ral signifie: <br><ul><li>  Le nÅ“ud vote pour toute dÃ©claration, par exemple, "Je propose la valeur de V"; <br></li><li>  Le nÅ“ud Ã©coute les voix des fÃªtes jusqu'Ã  ce qu'il en trouve une qui puisse Â«recevoirÂ»; <br></li><li>  Le nÅ“ud recherche un Â«quorumÂ» pour cette dÃ©claration.  Le quorum Â«confirmeÂ» le candidat. </li></ul></li><li>  DÃ¨s qu'un nÅ“ud peut confirmer un ou plusieurs candidats, il essaie de Â«prÃ©parerÂ» un Â«scrutinÂ» Ã  travers plusieurs tours de scrutin fÃ©dÃ©ral. <br></li><li>  DÃ¨s que le nÅ“ud est en mesure de vÃ©rifier l'Ã©tat de prÃ©paration du scrutin, il essaie de le nourrir avec encore plus de tours de scrutin fÃ©dÃ©rÃ©. <br></li><li>  Une fois qu'un site peut confirmer l'engagement d'une newsletter, il peut Â«externaliserÂ» la valeur de cette newsletter, en l'utilisant par consensus. </li></ol><br>  Ces Ã©tapes comprennent plusieurs tours de scrutin fÃ©dÃ©rÃ©, qui forment ensemble un tour de SCP.  Nous examinerons plus en dÃ©tail ce qui se passe Ã  chaque Ã©tape. <br><br><h1>  Vote fÃ©dÃ©rÃ© </h1><br>  Le vote fÃ©dÃ©rÃ© consiste Ã  dÃ©terminer si un rÃ©seau peut se mettre d'accord sur une proposition.  Lors d'un tour de scrutin, chaque nÅ“ud doit sÃ©lectionner l'une des nombreuses valeurs possibles.  Il ne peut pas faire cela tant qu'il n'est pas sÃ»r que les autres nÅ“uds du rÃ©seau ne choisiront pas un rÃ©sultat diffÃ©rent.  Pour en Ãªtre sÃ»r, les nÅ“uds Ã©changent une sÃ©rie de messages dans les deux sens afin que tout le monde <i>confirme</i> que le <i>quorum des</i> nÅ“uds <i>prend</i> la mÃªme <i>dÃ©cision</i> .  Le reste de cette section explique les termes de cette phrase et comment se dÃ©roule toute la procÃ©dure. <br><br><h1>  Quorums et tranches de quorum </h1><br>  CommenÃ§ons par dÃ©finir un quorum.  Comme nous l'avons vu ci-dessus, dans un rÃ©seau dÃ©centralisÃ© Ã  appartenance dynamique, il est impossible de savoir Ã  l'avance le nombre de nÅ“uds et, par consÃ©quent, la quantitÃ© nÃ©cessaire pour la plupart.  Le vote fÃ©dÃ©rÃ© rÃ©sout ce problÃ¨me en introduisant une nouvelle idÃ©e de tranche de quorum: un petit ensemble de nÅ“uds homologues auxquels le nÅ“ud fait confiance pour transmettre des informations sur l'Ã©tat du vote dans le reste du rÃ©seau.  Chaque nÅ“ud dÃ©finit sa propre tranche de quorum (dont il devient membre en fait). <br><br>  La formation du collÃ¨ge commence par une rÃ©duction du collÃ¨ge.  Pour chaque nÅ“ud, des nÅ“uds de sa tranche sont ajoutÃ©s.  Ensuite, des membres de tranche de <i>ces nÅ“uds</i> sont ajoutÃ©s <i>,</i> etc.  Au fur et Ã  mesure que vous continuez, de plus en plus de nÅ“uds apparaissent que vous ne pouvez pas ajouter, car ils sont dÃ©jÃ  inclus dans la tranche.  Lorsqu'il n'y a plus de nouveaux nÅ“uds Ã  ajouter, le processus s'arrÃªte: nous avons formÃ© un quorum par Â«fermeture transitiveÂ» en coupant le quorum du nÅ“ud initial. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24f/13f/a42/24f13fa423c0f748a8a18a6451a50815.png"><br>  <i><font color="gray">Pour trouver le quorum Ã  partir de ce nÅ“ud ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/746/820/ead/746820ead5d2d898a333851fef565965.png"><br>  <i><font color="gray">... ajouter des membres Ã  sa tranche ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ad/198/03f/2ad19803ff449504de13bb60f6e14212.png"><br>  <i><font color="gray">... puis ajoutez des membres de tranche Ã  ces nÅ“uds.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/709/d25/521/709d2552176aa897f933421ca4410661.png"><br>  <i><font color="gray">Continuez jusqu'Ã  ce qu'il n'y ait plus de nÅ“uds Ã  ajouter.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b1/8b0/662/4b18b0662787f3a6d8420c2992113afa.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/138/d6c/11d/138d6c11deb2d32589eee523663d2682.png"><br>  <i><font color="gray">Pas de nÅ“uds Ã  ajouter Ã  gauche.</font></i>  <i><font color="gray">Ceci est un quorum.</font></i> <br><br>  En fait, chaque nÅ“ud peut entrer dans plus d'une tranche.  Pour former un quorum, sÃ©lectionnez une seule des tranches et ajoutez des membres;  puis sÃ©lectionnez une tranche pour chaque membre et ajoutez des membres Ã  <i>cette</i> tranche et ainsi de suite.  Cela signifie que chaque nÅ“ud est membre de nombreux collÃ¨ges possibles. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e7/f3d/e1a/8e7f3de1a529c59cb486ebd67f3bf8ec.png"><br>  <i><font color="gray">SÃ©lectionnez une seule tranche de quorum Ã  chaque Ã©tape.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e34/14f/370/e3414f370b9ae824bf894069b547bf36.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e4a/cb6/6e7/e4acb66e79e18c72db3c0839c1e76e25.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cb/cca/c69/0cbccac69b859093788ea2a37e6c3aed.png"><br>  <i><font color="gray">Un quorum possible.</font></i>  <i><font color="gray">Ou une alternative ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c26/7cc/911/c267cc911e0b6bbb6f1729c5a5003704.png"><br>  <i><font color="gray">... sÃ©lectionnez d'autres tranches ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f35/0a5/8fb/f350a58fba9d8b9c640edd7d273d6f15.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf4/73c/3fe/bf473c3fedaa8c8d98820485b24f3034.png"><br>  <i><font color="gray">... (si possible) ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0b/b61/fc1/c0bb61fc1ed34f0ad6fb57711820dc83.png"><br>  <i><font color="gray">... crÃ©e un autre quorum.</font></i> <br><br>  Comment un nÅ“ud sait-il dans quelles tranches se trouvent les autres nÅ“uds?  De la mÃªme maniÃ¨re que les autres informations sur les autres nÅ“uds: des transmissions que chaque nÅ“ud diffuse au rÃ©seau lorsque son statut de vote change.  Chaque diffusion comprend des informations sur les tranches du nÅ“ud Ã©metteur.  Le document technique du SCP ne spÃ©cifie pas de mÃ©canisme de communication.  Les implÃ©mentations utilisent gÃ©nÃ©ralement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le protocole Gossip</a> pour garantir la diffusion des messages sur le rÃ©seau. <br><br>  Rappelons que dans un systÃ¨me byzantin non fÃ©dÃ©ral d'accords, un quorum est dÃ©fini comme la majoritÃ© de tous les nÅ“uds.  Le systÃ¨me byzantin d'accords a Ã©tÃ© dÃ©veloppÃ© du point de vue de la question: combien de nÅ“uds malhonnÃªtes le systÃ¨me peut-il supporter?  Dans un systÃ¨me de N nÅ“uds conÃ§u pour survivre Ã  f pannes (astuces), le nÅ“ud devrait Ãªtre capable de progresser en recevant une rÃ©ponse de N - f pairs, car f d'entre eux peuvent ne pas fonctionner.  Mais ayant reÃ§u une rÃ©ponse de N - f pairs, nous pouvons supposer que tous les f pairs (dont le nÅ“ud n'a pas reÃ§u de rÃ©ponse) sont rÃ©ellement honnÃªtes.  Ainsi, f de N - f pairs (desquels une rÃ©ponse est reÃ§ue) sont malveillants.  Pour que les nÅ“uds parviennent au mÃªme consensus, la majoritÃ© des nÅ“uds restants doivent Ãªtre honnÃªtes, c'est-Ã -dire que nous avons besoin que N - f soit supÃ©rieur Ã  2f ou N&gt; 3f.  Donc, gÃ©nÃ©ralement, un systÃ¨me conÃ§u pour survivre aux dÃ©faillances f aura un total de N = 3f + 1 nÅ“uds et une taille de quorum de 2f + 1.  DÃ¨s que la proposition franchit le seuil de quorum, le reste du rÃ©seau est convaincu que toute proposition concurrente Ã©chouera.  Le rÃ©seau converge donc vers le rÃ©sultat. <br><br>  Mais dans un systÃ¨me fÃ©dÃ©ral byzantin d'accords, non seulement il ne peut y avoir de majoritÃ© (car personne ne connaÃ®t la taille globale du rÃ©seau), mais le concept de majoritÃ© est gÃ©nÃ©ralement inutile!  Si l'appartenance au systÃ¨me est ouverte, alors quelqu'un peut obtenir la majoritÃ© en conduisant simplement la soi-disant attaque Sibyl: en rejoignant Ã  plusieurs reprises le rÃ©seau via plusieurs nÅ“uds.  Alors, pourquoi la fermeture transitive d'une tranche peut-elle Ãªtre qualifiÃ©e de <i>quorum</i> et comment est-elle capable de supprimer les offres concurrentes? <br><br>  Techniquement, pas question!  Imaginez un rÃ©seau de six nÅ“uds, oÃ¹ deux triplets sont isolÃ©s dans des tranches de quorum l'un de l'autre.  Le premier sous-groupe peut prendre une dÃ©cision dont le second n'entendra jamais et vice versa.  Il n'y a aucun moyen pour ce rÃ©seau de parvenir Ã  un consensus (sauf par hasard). <br><br>  Par consÃ©quent, SCP requiert que le rÃ©seau ait une propriÃ©tÃ© appelÃ©e <i>croisement de quorum</i> pour le vote fÃ©dÃ©rÃ© (et pour l'application d'importants thÃ©orÃ¨mes d'article).  Sur un rÃ©seau avec cette propriÃ©tÃ©, deux quorums qui peuvent Ãªtre construits se chevauchent toujours dans au moins un nÅ“ud.  DÃ©terminer l'humeur du rÃ©seau est aussi bon que d'avoir la majoritÃ©.  Intuitivement, cela signifie que si un quorum est d'accord avec la dÃ©claration X, aucun autre quorum ne pourra jamais Ãªtre d'accord avec autre chose, car il inclura nÃ©cessairement un nÅ“ud du premier quorum qui a dÃ©jÃ  votÃ© pour X. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/399/d79/c47/399d79c473bba703f30e370d8dbd3832.png"><br>  <i><font color="gray">Si le rÃ©seau a une intersection de collÃ¨ges ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/56b/04f/e6d/56b04fe6de47463d12959711a1c02de0.png"><br>  <i><font color="gray">... puis deux quorums que vous pouvez construire ...</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e65/090/30b/e6509030b1532429b806b521c3009d2b.png"><br>  <i><font color="gray">... se croiseront toujours.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e25/a00/b4f/e25a00b4fe739f7930dccd184be76302.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/06c/13b/e5e/06c13be5e94fc380e2b49f17de2e33e1.png"><br><br>  (Bien sÃ»r, les nÅ“uds qui se chevauchent peuvent s'avÃ©rer Ãªtre de type byzantin ou mauvais Ã  d'autres Ã©gards. Dans ce cas, les quorums qui se croisent n'aident pas du tout le rÃ©seau Ã  s'entendre. intersection de quorums <i>mÃªme aprÃ¨s suppression des nÅ“uds dÃ©fectueux</i> . Pour simplifier, nous laissons ces hypothÃ¨ses <i>implicites</i> dans la suite de l'article). <br><br>  Il peut sembler dÃ©raisonnable de s'attendre Ã  ce que dans un rÃ©seau de nÅ“uds indÃ©pendants une intersection fiable de quorums soit possible.  Mais il en est ainsi pour deux raisons. <br><br>  La premiÃ¨re raison est l'existence d'Internet lui-mÃªme.  Internet est un exemple idÃ©al de rÃ©seau de nÅ“uds indÃ©pendants avec intersection de quorums.  La plupart des sites sur Internet ne se connectent qu'Ã  quelques autres sites locaux, mais ces petits ensembles se chevauchent suffisamment pour rendre chaque site accessible Ã  partir de tous les autres sites sur un itinÃ©raire particulier. <br><br>  La deuxiÃ¨me raison est spÃ©cifique au rÃ©seau de paiement Stellar (l'utilisation la plus courante de SCP).  Chaque actif du rÃ©seau Stellar a un Ã©metteur, et les recommandations Stellar exigent que chaque Ã©metteur dÃ©signe un ou plusieurs nÅ“uds du rÃ©seau pour traiter les demandes de remboursement.  Il est dans votre intÃ©rÃªt d'inclure directement ou indirectement ces nÅ“uds dans des tranches de quorum pour chaque actif qui vous intÃ©resse.  Ensuite, les quorums de tous les nÅ“uds intÃ©ressÃ©s par cet actif se chevaucheront au moins dans ces nÅ“uds de remboursement.  Les nÅ“uds intÃ©ressÃ©s par plusieurs actifs incluront dans leurs tranches de quorum tous les nÅ“uds de remboursement des Ã©metteurs respectifs, et ils s'efforceront de combiner tous les actifs ensemble.  De plus, tous les actifs qui ne sont pas connectÃ©s de cette maniÃ¨re avec d'autres sur le rÃ©seau et <i>ne doivent pas Ãªtre connectÃ©s</i> - il est conÃ§u de maniÃ¨re Ã  ce qu'il n'y ait pas de dÃ©passement de quorum pour ce rÃ©seau (par exemple, les banques de la zone dollar veulent parfois commercer avec des banques de la zone euro et des banques de la zone de peso, ils sont donc sur le mÃªme rÃ©seau, mais aucun ne se soucie d'un rÃ©seau sÃ©parÃ© d'enfants vendant des cartes de baseball). <br><br>  Bien sÃ»r, <i>attendre l'</i> intersection des collÃ¨ges n'est pas une <i>garantie</i> .  D'autres systÃ¨mes d'accord byzantins doivent en grande partie leur complexitÃ© Ã  la garantie des collÃ¨ges.  Une innovation importante de SCP est qu'il supprime la responsabilitÃ© de crÃ©er des collÃ¨ges Ã  partir de l'algorithme de consensus lui-mÃªme et l'amÃ¨ne au niveau de l'application.  Ainsi, bien qu'un vote fÃ©dÃ©rÃ© soit suffisamment gÃ©nÃ©ral pour voter sur n'importe quelle question, sa fiabilitÃ© dÃ©pend en fait de maniÃ¨re critique de la signification plus large de ces valeurs.  Certaines utilisations hypothÃ©tiques peuvent ne pas Ãªtre aussi pratiques pour construire des rÃ©seaux bien connectÃ©s que d'autres. <br><br><h1>  Vote, acceptation et confirmation </h1><br>  Lors du tour de scrutin fÃ©dÃ©ral, le nÅ“ud commence Ã©ventuellement Ã  voter pour une valeur de V. Cela signifie que le message est envoyÃ© au rÃ©seau: Â«Je suis le nÅ“ud N, mes tranches de quorum sont Q et je vote pour VÂ».  Lorsqu'un nÅ“ud vote de cette faÃ§on, il promet qu'il n'a jamais votÃ© contre V et ne le fera jamais. <br><br>  Dans les diffusions Ã  partir de nÅ“uds d'Ã©gal Ã  Ã©gal, chaque nÅ“ud voit comment les autres votent.  DÃ¨s que le nÅ“ud recueille un nombre suffisant de ces messages, il peut suivre les tranches de quorum et essayer de trouver des quorums.  S'il voit un quorum de pairs qui votent Ã©galement pour V, il peut alors <i>accepter</i> V et diffuser ce nouveau message au rÃ©seau: Â«Je suis le nÅ“ud N, mes tranches sont le quorum Q et j'accepte VÂ».  L'acceptation offre une garantie plus forte qu'un simple vote.  Lorsqu'un nÅ“ud vote pour V, il ne peut jamais voter pour d'autres options.  Mais si un nÅ“ud accepte V, aucun nÅ“ud sur le Web n'acceptera jamais une autre option (le ThÃ©orÃ¨me 8 dans le livre blanc technique SCP le prouve). <br><br>  Bien sÃ»r, il est trÃ¨s probable qu'il n'y aura pas immÃ©diatement un quorum de nÅ“uds d'accord avec V. D'autres nÅ“uds peuvent voter pour d'autres valeurs.  Mais pour le site, il y a une autre faÃ§on de passer du simple vote Ã  l'acceptation.  N peut prendre une valeur diffÃ©rente de W, mÃªme s'il n'a pas votÃ© pour lui, et mÃªme s'il ne voit pas de quorum pour cela.  Pour dÃ©cider de changer de voix, il suffit de voir un <i>ensemble de</i> nÅ“uds <i>bloquants</i> qui ont acceptÃ© W. Un ensemble de blocage est un nÅ“ud dans chacune des tranches des quorums de N. Comme son nom l'indique, il peut <i>bloquer</i> toute autre valeur.  Si tous les nÅ“uds d'un tel ensemble acceptent W, alors (par le thÃ©orÃ¨me 8) il ne sera jamais possible de former un quorum en supposant une valeur diffÃ©rente, et donc il est Ã©galement sÃ»r d'accepter W. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc2/b0f/6db/dc2b0f6db96bc646f9c13eed191934d9.png"><br>  <i><font color="gray">Node N avec trois tranches de quorums.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b12/544/25a/b1254425aec3dde64f6c0025ea6e7c41.png"><br>  <i><font color="gray">BDF est un ensemble de blocage pour N: il comprend un nÅ“ud de chacune des N tranches.</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee2/051/c90/ee2051c903689ee5ad2f0c4239e6c574.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BE est Ã©galement un ensemble de blocage pour N, car E apparaÃ®t dans deux tranches de N.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mais un ensemble de blocage n'est pas un quorum. Il serait trop facile d'inciter le nÅ“ud N Ã  accepter la valeur souhaitÃ©e s'il suffit de casser un seul nÅ“ud dans chacune des tranches N. Par consÃ©quent, l'adoption de la valeur n'est pas la fin du vote. Au lieu de cela, N doit confirmer la valeur, c'est-Ã -dire voir le quorum des nÅ“uds qui le reÃ§oivent. S'il va aussi loin, alors, comme le prouve le livre blanc du SCP (dans le thÃ©orÃ¨me 11), le reste du rÃ©seau finira Ã©galement par confirmer la mÃªme valeur, donc N mettra fin au vote fÃ©dÃ©rÃ© avec une valeur spÃ©cifique comme rÃ©sultat.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6eb/682/405/6eb682405d056f88c1eb2b272875e269.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vote fÃ©dÃ©rÃ©.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le processus de vote, d'acceptation et de confirmation est un tour complet de vote fÃ©dÃ©rÃ©. </font><font style="vertical-align: inherit;">Le Protocole de consensus stellaire rassemble bon nombre de ces cycles pour crÃ©er un systÃ¨me de consensus complet.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Protocole de consensus stellaire </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les deux caractÃ©ristiques les plus importantes d'un systÃ¨me consensuel sont la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sÃ©curitÃ©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capacitÃ© de survie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Lâ€™algorithme de consensus est Â«sÃ»rÂ» sâ€™il ne peut jamais donner des rÃ©sultats diffÃ©rents Ã  diffÃ©rents participants (une copie de lâ€™histoire de Bob ne contredira jamais Carol). "VitalitÃ©" signifie que l'algorithme produira toujours un rÃ©sultat, c'est-Ã -dire qu'il ne restera pas bloquÃ©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La procÃ©dure de vote fÃ©dÃ©rÃ© dÃ©crite est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sÃ»re</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en ce sens que si un nÅ“ud confirme la valeur de V, aucun autre nÅ“ud ne confirme l'autre valeur. Mais Â«ne confirme pas un autre sensÂ» - cela ne signifie pas qu'il confirmera nÃ©cessairement quelque chose. Les participants peuvent voter pour tant de valeurs diffÃ©rentes que rien n'atteint le seuil d'acceptation. Cela signifie qu'il n'y a pas de vote fÃ©dÃ©ral.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capacitÃ© de survie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le Protocole de consensus stellaire utilise le vote fÃ©dÃ©rÃ© d'une maniÃ¨re qui garantit Ã  la fois la sÃ©curitÃ© et la vitalitÃ©. (Les garanties de sÃ©curitÃ© et de survie des SCP ont une limite thÃ©orique. La conception choisit une garantie de sÃ©curitÃ© trÃ¨s forte, sacrifiant un lÃ©ger affaiblissement de la survie, mais avec suffisamment de temps, un consensus est susceptible d'Ãªtre atteint.) En rÃ©sumÃ©, l'idÃ©e est de mener plusieurs votes fÃ©dÃ©rÃ©s sur plusieurs valeurs jusqu'Ã  ce que l'une d'entre elles passe complÃ¨tement par toutes les phases du vote SCP dÃ©crites ci-dessous.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les valeurs par lesquelles SCP s'efforce de parvenir Ã  un consensus peuvent Ãªtre un historique des transactions ou une commande de dÃ©jeuner, ou autre chose, mais il est important de noter que ce ne sont pas les valeurs acceptÃ©es ou confirmÃ©es. Au lieu de cela, le vote fÃ©dÃ©rÃ© a lieu sur les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revendications de ces valeurs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les premiers tours de scrutin fÃ©dÃ©rÃ© ont lieu lors de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> phase de nomination, sur un ensemble de candidatures Â«Je nomme VÂ», Ã©ventuellement pour de nombreuses valeurs diffÃ©rentes de V.Le but de la nomination est de trouver une ou plusieurs candidatures qui passent par l'acceptation et la confirmation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AprÃ¨s avoir trouvÃ© des candidats confirmÃ©s, SCP passe Ã  la phase de vote, oÃ¹ le but est de trouver un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bulletin de vote</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c'est-Ã -dire un conteneur pour la valeur proposÃ©e) et un quorum qui peut dÃ©clarer un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour cela (commit). </font><font style="vertical-align: inherit;">Si un quorum engage un scrutin, sa valeur est prise comme consensus. </font><font style="vertical-align: inherit;">Mais avant que le nÅ“ud ne puisse voter pour la validation du scrutin, il doit d'abord confirmer l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">annulation de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tous les scrutins avec une contre-valeur infÃ©rieure. </font><font style="vertical-align: inherit;">Ces Ã©tapes - annulation des scrutins pour en trouver un pour lequel vous pouvez confirmer l'engagement - comprennent plusieurs tours de scrutin fÃ©dÃ©rÃ© sur plusieurs bulletins de vote. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les sections suivantes dÃ©crivent plus en dÃ©tail la nomination et le vote.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nomination </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au dÃ©but de la phase de nomination, chaque nÅ“ud peut spontanÃ©ment sÃ©lectionner la valeur V et voter pour la dÃ©claration Â«Je nomme VÂ». L'objectif Ã  ce stade est de confirmer la nomination d'une certaine valeur par un vote fÃ©dÃ©ral.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peut-Ãªtre qu'un nombre suffisant de nÅ“uds votent pour des dÃ©clarations assez diffÃ©rentes, et aucune nomination ne peut atteindre le seuil d'adoption. Par consÃ©quent, en plus de diffuser leurs propres votes de candidats, les nÅ“uds Â«reflÃ¨tentÂ» les nominations de leurs pairs. La rÃ©flexion (Ã©cho) signifie que si le nÅ“ud vote pour la nomination de V, mais voit un message du voisin votant pour la nomination de W, maintenant il votera pour la nomination de V et W. (Tous les votes des pairs ne sont pas reflÃ©tÃ©s pendant la nomination parce que cela peut conduire Ã  une explosion de diffÃ©rents candidats. SCP comprend un mÃ©canisme de rÃ©gulation de ces voix. En bref, il existe une formule pour dÃ©terminer la "prioritÃ©" de la fÃªte du point de vue du nÅ“ud, et seuls les votes des nÅ“uds Ã  prioritÃ© Ã©levÃ©e sont reflÃ©tÃ©s. Plus l'extension a lieu, plus le seuil est bas, donc le nÅ“ud se dÃ©veloppe un ensemble de fÃªtes dont il reflÃ¨tera les voix.La formule de prioritÃ© en tant que l'une des donnÃ©es d'entrÃ©e comprend le numÃ©ro d'emplacement, de sorte qu'un homologue de prioritÃ© Ã©levÃ©e pour un emplacement peut Ãªtre de faible prioritÃ© pour un autre, et vice versa).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur le plan conceptuel, la nomination en parallÃ¨le des deux V et W sont des votes fÃ©dÃ©raux distincts, chacun sÃ©parÃ©ment pouvant obtenir l'acceptation ou la confirmation. En pratique, les messages de protocole SCP regroupent ces voix individuelles ensemble. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que voter pour la candidature V soit une promesse de ne jamais voter contre la candidature V, au niveau de la candidature - dans ce cas, SCP - il est dÃ©fini ce qui signifie Â«contreÂ». SCP ne voit pas de dÃ©claration qui contredit le vote Â«Je nomme XÂ», c'est-Ã -dire qu'il n'y a pas de message Â«Je suis contre la nomination XÂ», de sorte que le nÅ“ud peut voter pour la nomination de valeurs. Beaucoup de ces nominations ne mÃ¨neront Ã  rien, mais en fin de compte, le nÅ“ud pourra accepter ou confirmer une ou plusieurs valeurs. Une fois le candidat confirmÃ©, il devient </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">candidat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65e/c7d/c03/65ec7dc03a79b55877355e653fed6829.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nomination du SCP par vote fÃ©dÃ©rÃ©. Il peut y avoir de nombreuses valeurs Â«BÂ» poussÃ©es par les pairs et Â«reflÃ©tÃ©esÂ» par le pair.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La nomination des candidats peut entraÃ®ner la confirmation de plusieurs candidats. Par consÃ©quent, SCP requiert que la couche application fournisse une mÃ©thode de combinaison des candidats en un seul</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> composite.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(composite). La mÃ©thode de l'union peut Ãªtre n'importe quoi. L'essentiel est que si cette mÃ©thode est dÃ©terminÃ©e, chaque nÅ“ud rÃ©unira les mÃªmes candidats. Dans le systÃ¨me de vote pour le dÃ©jeuner, Â«associationÂ» peut simplement signifier le rejet d'un des deux candidats. (Mais de maniÃ¨re dÃ©terministe: chaque nÅ“ud doit choisir la mÃªme valeur Ã  rÃ©initialiser. Par exemple, une sÃ©lection antÃ©rieure par ordre alphabÃ©tique). Dans le rÃ©seau de paiement Stellar, oÃ¹ l'historique des transactions est votÃ©, la combinaison des deux candidats proposÃ©s implique de combiner les transactions qu'elles contiennent et le dernier de leurs deux horodatages.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La description technique de SCP prouve (ThÃ©orÃ¨me 12) qu'Ã  la fin de la phase d'extension, le rÃ©seau finit par converger vers un seul composite. </font><font style="vertical-align: inherit;">Mais il y a un problÃ¨me: le vote fÃ©dÃ©rÃ© est un protocole asynchrone (comme SCP). </font><font style="vertical-align: inherit;">En d'autres termes, les nÅ“uds ne sont pas coordonnÃ©s dans le temps, mais uniquement en fonction des messages qu'ils envoient. </font><font style="vertical-align: inherit;">Du point de vue du nÅ“ud, on ne sait pas quand </font><font style="vertical-align: inherit;">la phase d'extension </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'est terminÃ©e</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Et bien que tous les nÅ“uds finiront par arriver au mÃªme composite, ils peuvent choisir des itinÃ©raires diffÃ©rents en cours de route, crÃ©ant diffÃ©rents candidats composites en cours de route, et ils ne peuvent jamais dire lequel est final. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais c'est normal. </font><font style="vertical-align: inherit;">La nomination n'est qu'une prÃ©paration. </font><font style="vertical-align: inherit;">L'essentiel est de limiter le nombre de candidats pour parvenir Ã  un consensus qui intervient lors du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scrutin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bulletin de vote </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un bulletin d'information est une paire de &lt;compteur, valeur&gt;, oÃ¹ compteur est un entier qui commence par 1, et la valeur est un candidat de l'Ã©tape de nomination. Il peut s'agir du propre candidat d'un nÅ“ud ou d'un candidat voisin adoptÃ© par ce nÅ“ud. En gros, pendant la course, des tentatives rÃ©pÃ©tÃ©es sont faites pour forcer le rÃ©seau Ã  atteindre un consensus sur un candidat lors d'un scrutin en tenant potentiellement de nombreux votes fÃ©dÃ©raux sur les demandes de scrutin. Les compteurs dans les bulletins de vote gardent une trace des tentatives faites, et les bulletins de vote avec des compteurs supÃ©rieurs ont prioritÃ© sur les bulletins de vote avec des compteurs infÃ©rieurs. Si le bulletin &lt;compteur, valeur&gt; est bloquÃ©, un nouveau vote commence, maintenant sur le bulletin &lt;compteur + 1, valeur&gt;. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est </font><i><font style="vertical-align: inherit;">important</font></i><font style="vertical-align: inherit;"> de distinguer les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valeurs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par exemple, quelle devrait Ãªtre la commande pour le dÃ©jeuner: pizza ou salade), </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bulletins de vote</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (une paire de contre-valeur) et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dÃ©clarations</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur les bulletins de vote. </font><font style="vertical-align: inherit;">Le tour du SCP comprend plusieurs tours de scrutin fÃ©dÃ©rÃ©, en particulier sur de telles dÃ©clarations:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â«Je suis prÃªt Ã  engager le bulletin BÂ» et </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â«Je dÃ©clare un engagement au Bulletin BÂ» </font></font></li></ul><br>  Du point de vue de ce nÅ“ud, un consensus est atteint quand il trouve le Bulletin B pour lequel il peut confirmer (c'est-Ã -dire trouver un quorum qui accepte) la dÃ©claration Â«Je dÃ©clare un engagement envers le Bulletin BÂ».  DÃ©sormais, vous pouvez agir en toute sÃ©curitÃ© sur la valeur spÃ©cifiÃ©e en B - par exemple, passer cette commande pour le dÃ©jeuner.  Cela s'appelle <i>externaliser la</i> valeur.  Une fois l'acceptation du scrutin confirmÃ©e, le nÅ“ud peut Ãªtre sÃ»r que tout autre nÅ“ud a externalisÃ© la mÃªme valeur ou l'engagera dÃ©finitivement Ã  l'avenir. <br><br>  Bien que, conceptuellement, de nombreux votes fÃ©dÃ©rÃ©s aient lieu sur les candidatures Ã  de nombreux scrutins diffÃ©rents, ils n'Ã©changent pas autant de messages car chaque message encapsule un certain nombre de scrutins.  Un message, par consÃ©quent, fait la promotion de l'Ã©tat de nombreux votes fÃ©dÃ©rÃ©s Ã  la fois, par exemple: Â«J'accepte des commissions de vote allant de &lt;min, V&gt; Ã  &lt;max, V&gt;Â». <br><br>  Que signifient les termes Â«prÃ©parÃ©Â» et Â«engagerÂ»? <br><br>  Un nÅ“ud vote pour valider un scrutin lorsqu'il est convaincu que d'autres nÅ“uds ne valideront pas de scrutin avec des valeurs diffÃ©rentes.  Convaincre ceci est le but de la prÃ©paration de la dÃ©claration.  Un vote qui dit "Je suis prÃªt Ã  valider le bulletin B" est une promesse de ne jamais valider un bulletin infÃ©rieur Ã  B, c'est-Ã -dire avec un compteur infÃ©rieur (SCP exige que les valeurs dans les bulletins aient un certain ordre. Ainsi, Le bulletin &lt;N1, V1&gt; est infÃ©rieur Ã  &lt;N2, V2&gt; si N1 &lt;N2, et aussi si N1 = N2 et V1 &lt;V2).  Ces petits bulletins de vote sont Â«abandonnÃ©sÂ» lors du vote prÃ©paratoire, tandis que B est considÃ©rÃ© comme Â«prÃ©parÃ©Â». <br><br>  Pourquoi Â«Je suis prÃªt Ã  engager le bulletin BÂ» signifie-t-il Â«Je promets de ne jamais engager de scrutin infÃ©rieur Ã  BÂ»?  Parce que SCP dÃ©finit l'abandon comme l'opposÃ© de la validation.  Voter pour la prÃ©paration d'un bulletin de vote implique Ã©galement de voter pour annuler certains autres bulletins de vote et, comme nous l'avons vu plus haut, voter pour une chose est une promesse de ne jamais voter contre. <br><br>  Avant de diffuser le commit, le site doit d'abord trouver le bulletin, qu'il peut confirmer tel qu'il a Ã©tÃ© prÃ©parÃ©.  En d'autres termes, il tient un vote fÃ©dÃ©ral sur Â«Je suis prÃªt Ã  m'engager dans le Bulletin BÂ», peut-Ãªtre pour de nombreux scrutins diffÃ©rents, jusqu'Ã  ce qu'il en trouve un qui accepte le quorum. <br><br>  D'oÃ¹ proviennent les bulletins de vote?  PremiÃ¨rement, le nÅ“ud diffuse les prÃ©paratifs du vote pour &lt;1, â€‹â€‹C&gt;, oÃ¹ C est le candidat composite produit au stade de la nomination.  Cependant, mÃªme aprÃ¨s le dÃ©but des prÃ©paratifs de vote, la nomination peut conduire Ã  l'apparition de candidats supplÃ©mentaires qui deviendront de nouveaux scrutins.  Pendant ce temps, les pairs peuvent avoir des candidats diffÃ©rents, et ils peuvent former un ensemble de blocage qui accepte Â«Je suis prÃªt Ã  engager le bulletin B2Â», ce qui convaincra le nÅ“ud de l'accepter aussi.  Enfin, il existe un mÃ©canisme de temporisation qui gÃ©nÃ¨re de nouveaux tours de scrutin fÃ©dÃ©rÃ© sur les nouveaux bulletins de vote avec des compteurs plus Ã©levÃ©s si les bulletins de vote actuels sont bloquÃ©s. <br><br>  DÃ¨s que le nÅ“ud trouve le Bulletin B, qu'il peut confirmer comme prÃ©parÃ©, il diffuse un nouveau message, Â«Bulletin B CommitÂ».  Ce vote indique aux pairs que le nÅ“ud n'abandonnera jamais B. En fait, si B est un bulletin de vote &lt;N, C&gt;, alors "Commit Bulletin &lt;N, C&gt;" signifie un consentement inconditionnel Ã  voter pour la prÃ©paration de chaque bulletin de vote de &lt;N, C&gt; Ã  &lt;âˆ, s&gt;.  Cette valeur supplÃ©mentaire aide les autres nÅ“uds Ã  rattraper un commit, s'ils sont encore aux premiers stades du protocole. <br><br>  Ã€ ce stade, il convient de souligner une fois de plus qu'il s'agit de protocoles asynchrones.  Ce n'est pas parce qu'un nÅ“ud envoie des votes pour un commit que ses pairs le font aussi.  Certains d'entre eux peuvent encore voter sur les candidatures en vue du vote, d'autres peuvent avoir dÃ©jÃ  externalisÃ© le sens.  SCP explique comment un nÅ“ud doit traiter chaque type de message homologue, quelle que soit sa phase. <br><br>  Si le message Â«Je dÃ©clare un commit &lt;N, C&gt;Â» ne peut Ãªtre acceptÃ© ou confirmÃ©, c'est-Ã -dire la probabilitÃ© d'acceptation ou de confirmation du message &lt;N + 1, C&gt; ou &lt;N + 2, C&gt; - ou, en tout cas, tout bulletin avec une valeur de C, et pas d'autre, puisque le nÅ“ud a dÃ©jÃ  promis de ne jamais annuler &lt;N, C&gt;.  Au moment oÃ¹ le nÅ“ud diffusera les votes pour le commit, ce sera C ou rien, selon jusqu'oÃ¹ ira le consensus.  Cependant, cela ne suffit pas pour que le nÅ“ud extÃ©riorise C. Certains festins byzantins (moins d'un quorum, sur la base de nos hypothÃ¨ses sur la sÃ©curitÃ©) peuvent mentir au nÅ“ud.  L'adoption puis la confirmation d'un certain scrutin (ou plage de scrutin) est ce qui donne au nÅ“ud la confiance pour finalement externaliser C. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a6/882/059/0a6882059dac957e22a9059c79d1d710.png"><br>  <i><font color="gray">SCP passant par le vote fÃ©dÃ©rÃ©.</font></i>  <i><font color="gray">Non illustrÃ©: Ã  tout moment un chronomÃ¨tre peut fonctionner, augmentant le compteur dans le bulletin de vote (et, Ã©ventuellement, produisant un nouveau composite Ã  partir de candidats supplÃ©mentaires dÃ©signÃ©s).</font></i> <br><br>  Et c'est tout!  Une fois que le rÃ©seau est parvenu Ã  un consensus, il est prÃªt Ã  le faire encore et encore.  Sur le rÃ©seau de facturation Stellar, cela se produit environ toutes les 5 secondes: un exploit qui nÃ©cessite Ã  la fois la sÃ©curitÃ© et la capacitÃ© de survie, garantie par SCP. <br><br>  Le SCP peut y parvenir en s'appuyant sur plusieurs tours de scrutin fÃ©dÃ©rÃ©.  Le vote fÃ©dÃ©rÃ© a Ã©tÃ© rendu possible grÃ¢ce au concept de tranches de quorum: des ensembles de nÅ“uds homologues auxquels chaque nÅ“ud a dÃ©cidÃ© de faire confiance dans le cadre de son quorum (subjectif).  Cette configuration signifie que vous pouvez atteindre un consensus mÃªme sur un rÃ©seau Ã  adhÃ©sion ouverte et tromperie byzantine. <br><br><h1>  Lectures complÃ©mentaires </h1><br><ul><li>  Le document technique SCP original peut Ãªtre trouvÃ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici le</a> projet de spÃ©cifications pour sa mise en Å“uvre. <br></li><li>  L'auteur original du protocole SCP, David Mazier, simplifie (mais toujours techniquement) l'explique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br></li><li>  Vous avez peut-Ãªtre Ã©tÃ© surpris de ne pas trouver les termes Â«exploitation miniÃ¨reÂ» ou Â«preuve de travailÂ» dans cet article.  SCP n'utilise pas ces mÃ©thodes, mais certains autres algorithmes de consensus le font.  Zane Witherspoon a Ã©crit une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">revue</a> accessible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des algorithmes de consensus</a> . <br></li><li>  <a href="">Une description Ã©tape par Ã©tape d'un</a> rÃ©seau simple qui parvient Ã  un consensus dans un cycle complet de SCP. <br></li><li>  Pour les lecteurs intÃ©ressÃ©s par les implÃ©mentations SCP: voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">code C ++</a> utilisÃ© par le rÃ©seau de paiement Stellar, ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le code Go que</a> j'ai Ã©crit pour une meilleure comprÃ©hension de SCP. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444710/">https://habr.com/ru/post/fr444710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444696/index.html">Augmentez la densitÃ© des conteneurs sur un nÅ“ud Ã  l'aide de la technologie PFCACHE</a></li>
<li><a href="../fr444700/index.html">Bases de donnÃ©es alÃ©atoires. Oracle Enterprise Data Quality - Shield and Sword for Enterprise Storage</a></li>
<li><a href="../fr444704/index.html">OpportunitÃ©s nanoCAD SPDS Chantier de construction dans des projets de construction et de reconstruction dans des conditions exiguÃ«s</a></li>
<li><a href="../fr444706/index.html">Photos Facebook 3D Ã  l'intÃ©rieur: Shaders Parallax</a></li>
<li><a href="../fr444708/index.html">Application PentQL avec GraphQL</a></li>
<li><a href="../fr444712/index.html">Â«Attitude atypique Ã  l'Ã©gard de la financeÂ» - et si les employÃ©s gÃ©raient eux-mÃªmes leurs revenus. Conversation avec Flant</a></li>
<li><a href="../fr444714/index.html">Comment nous avons overclockÃ© CAD COMPASS-3D â†’ Partie 1</a></li>
<li><a href="../fr444716/index.html">Un tÃ©lÃ©phone Samsung avec un Ã©cran pliable pour 2000 $ affiche un pli</a></li>
<li><a href="../fr444718/index.html">Holographie amateur - le dÃ©but du voyage</a></li>
<li><a href="../fr444720/index.html">Ce que l'auteur a fumÃ©: ajoutez la vieille Ã©cole Ã  ce monde fou de jeux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>