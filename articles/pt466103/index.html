<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìû ‚ôÇÔ∏è üëºüèø Monitoramento de seguran√ßa na nuvem üë±üèø üçå ‚Ü™Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Transferir dados e aplicativos para as nuvens √© um novo problema para os SOCs corporativos que nem sempre est√£o prontos para monitorar a infraestrutur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Monitoramento de seguran√ßa na nuvem</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cisco/blog/466103/"> Transferir dados e aplicativos para as nuvens √© um novo problema para os SOCs corporativos que nem sempre est√£o prontos para monitorar a infraestrutura de outras pessoas.  Segundo a Netoskope, uma empresa de m√©dio porte (aparentemente ainda nos EUA) usa 1246 servi√ßos em nuvem diferentes, 22% a mais do que um ano atr√°s.  1246 servi√ßos em nuvem !!!  175 deles referem-se a servi√ßos de RH, 170 s√£o relacionados a marketing, 110 - no campo das comunica√ß√µes e 76 em finan√ßas e CRM.  A Cisco usa "total" 700 servi√ßos em nuvem externos.  Portanto, estou um pouco confuso com esses n√∫meros.  Mas, em qualquer caso, o problema n√£o est√° neles, mas no fato de que as nuvens est√£o sendo usadas ativamente por um n√∫mero crescente de empresas que gostariam de ter os mesmos recursos para monitorar a infraestrutura de nuvem que em sua pr√≥pria rede.  E essa tend√™ncia est√° crescendo - de acordo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com o American Audit</a> Office, em 2023, 1.200 data centers ser√£o fechados nos EUA (6.250 j√° fecharam).  Mas a transi√ß√£o para a nuvem n√£o √© apenas "mas vamos transferir nossos servidores para um provedor externo".  Nova arquitetura de TI, novo software, novos processos, novas restri√ß√µes ... Tudo isso faz altera√ß√µes significativas no trabalho n√£o apenas da TI, mas tamb√©m da seguran√ßa da informa√ß√£o.  E se os provedores aprenderem a lidar com a seguran√ßa da pr√≥pria nuvem (o benef√≠cio das recomenda√ß√µes √© bastante), haver√° dificuldades significativas com o monitoramento da seguran√ßa da informa√ß√£o na nuvem, especialmente nas plataformas SaaS, sobre as quais falaremos. <br><br><img src="https://habrastorage.org/webt/om/_s/ky/om_skylpw021ujxp-z46t1m40mc.png" alt="imagem"><br><a name="habracut"></a><br>  Digamos que sua empresa mudou parte de sua infraestrutura para a nuvem ... Pare.  N√£o √© assim.  Se a infraestrutura for transferida e voc√™ s√≥ agora estiver pensando em como ir√° monitor√°-la, voc√™ j√° ter√° perdido.  Se n√£o for Amazon, Google ou Microsoft (e com reservas), provavelmente voc√™ n√£o ter√° muitas oportunidades para monitorar seus dados e aplicativos.  Bem, se voc√™ tiver a oportunidade de trabalhar com logs.  √Äs vezes, os dados sobre eventos de seguran√ßa estar√£o dispon√≠veis, mas voc√™ n√£o ter√° acesso a eles.  Por exemplo, Office 365. Se voc√™ possui a licen√ßa E1 mais barata, os eventos de seguran√ßa n√£o est√£o dispon√≠veis para voc√™.  Se voc√™ possui uma licen√ßa E3, voc√™ s√≥ precisa armazenar dados por 90 dias e somente se tiver E5 - a dura√ß√£o dos logs estar√° dispon√≠vel por um ano (embora existam algumas nuances associadas √† necessidade de solicitar separadamente v√°rias fun√ß√µes de log do suporte da Microsoft).  A prop√≥sito, a licen√ßa E3 √© muito mais fraca em termos de fun√ß√µes de monitoramento do que o Exchange corporativo.  Para atingir o mesmo n√≠vel, voc√™ precisa de uma licen√ßa E5 ou uma licen√ßa adicional de conformidade avan√ßada, que pode exigir dinheiro adicional que n√£o foi inclu√≠do no seu modelo financeiro para a transi√ß√£o para a infraestrutura de nuvem.  E este √© apenas um exemplo de subestima√ß√£o de problemas relacionados ao monitoramento da nuvem IS.  Neste artigo, sem pretender concluir, quero chamar a aten√ß√£o para algumas nuances que devem ser consideradas ao escolher um provedor de nuvem do ponto de vista da seguran√ßa.  E no final do artigo, ser√° fornecida uma lista de verifica√ß√£o, que deve ser conclu√≠da antes que voc√™ considere que o problema de monitoramento da seguran√ßa das informa√ß√µes na nuvem foi resolvido. <br><br>  Existem v√°rios problemas t√≠picos que levam a incidentes em ambientes em nuvem, aos quais os servi√ßos de IB n√£o t√™m tempo para responder ou n√£o veem: <br><br><ul><li>  Os logs de seguran√ßa n√£o existem.  Essa √© uma situa√ß√£o bastante comum, especialmente para iniciantes no mercado de nuvem.  Mas acabar com eles imediatamente n√£o vale a pena.  Os pequenos players, especialmente os dom√©sticos, s√£o mais sens√≠veis aos requisitos dos clientes e podem implementar rapidamente algumas fun√ß√µes solicitadas, alterando o roteiro aprovado para seus produtos.  Sim, n√£o ser√° um an√°logo do GuardDuty da Amazon ou do m√≥dulo Proactive Defense da Bitrix, mas pelo menos alguma coisa. </li><li>  O IB n√£o sabe onde os logs est√£o armazenados ou n√£o h√° acesso a eles.  Aqui √© necess√°rio entrar em negocia√ß√µes com o provedor de servi√ßos em nuvem - talvez ele forne√ßa essas informa√ß√µes se considerar o cliente significativo para si mesmo.  Mas, em geral, isso n√£o √© muito bom quando o acesso aos logs √© fornecido "por uma decis√£o especial". </li><li>  Tamb√©m acontece que o provedor de nuvem possui logs, mas eles fornecem monitoramento e log de eventos limitados, insuficientes para detectar todos os incidentes.  Por exemplo, voc√™ pode receber apenas os registros de altera√ß√µes no site ou os registros de tentativas de autentica√ß√£o de usu√°rios, mas eles n√£o podem fornecer outros eventos, por exemplo, sobre tr√°fego de rede, que ocultar√° uma camada inteira de eventos que caracterizam tentativas de invas√£o da infraestrutura da nuvem. </li><li>  Existem logs, mas o acesso a eles √© dif√≠cil de automatizar, o que os faz monitorar n√£o continuamente, mas de acordo com uma programa√ß√£o.  E se voc√™ ainda n√£o pode baixar os logs no modo autom√°tico, o upload de logs, por exemplo, no formato Excel (como em alguns fornecedores de solu√ß√µes em nuvem dom√©sticas), pode levar √† falta de vontade de mexer com eles no servi√ßo de SI corporativo. </li><li>  Sem monitoramento de log.  Esse talvez seja o motivo mais incompreens√≠vel para a ocorr√™ncia de incidentes de seguran√ßa da informa√ß√£o em ambientes em nuvem.  Parece que existem logs, e voc√™ pode automatizar o acesso a eles, mas ningu√©m faz isso.  Porque </li></ul><br><h2>  Conceito de seguran√ßa compartilhada em nuvem </h2><br>  Mudar para as nuvens √© sempre a busca de um equil√≠brio entre o desejo de manter o controle sobre a infraestrutura e transferi-la para as m√£os mais profissionais do provedor de nuvem, especializado em mant√™-la.  E no campo da seguran√ßa na nuvem, esse equil√≠brio tamb√©m deve ser buscado.  Al√©m disso, dependendo do modelo usado de presta√ß√£o de servi√ßos em nuvem (IaaS, PaaS, SaaS), esse equil√≠brio ser√° sempre diferente.  Em qualquer situa√ß√£o, devemos lembrar que hoje todos os provedores de nuvem seguem o chamado modelo de responsabilidade compartilhada e seguran√ßa de informa√ß√µes compartilhadas.  A nuvem √© respons√°vel por alguma coisa, o cliente √© respons√°vel por alguma coisa, tendo colocado seus dados, aplicativos, m√°quinas virtuais e outros recursos na nuvem.  Seria tolice esperar que, tendo entrado na nuvem, transferiremos toda a responsabilidade para o provedor.  Mas construir toda a seguran√ßa por conta pr√≥pria ao migrar para a nuvem tamb√©m √© irracional.  √â necess√°rio um equil√≠brio, que depender√° de muitos fatores: - estrat√©gias de gerenciamento de riscos, modelos de amea√ßas dispon√≠veis para o provedor de mecanismos de defesa, legisla√ß√£o, etc. <br><br><img src="https://habrastorage.org/webt/-d/46/k8/-d46k8uvw64f1khkn0waazrr8tw.png" alt="Conceito de seguran√ßa compartilhada"><br><br>  Por exemplo, a classifica√ß√£o dos dados hospedados na nuvem √© sempre de responsabilidade do cliente.  Um provedor de nuvem ou um provedor de servi√ßos externo pode ajud√°-lo apenas com um kit de ferramentas que ajudar√° a marcar dados na nuvem, identificar viola√ß√µes, excluir dados que violam a lei ou mascar√°-los usando um m√©todo ou outro.  Por outro lado, a seguran√ßa f√≠sica √© sempre de responsabilidade do provedor de nuvem, que n√£o pode compartilhar com os clientes.  Mas tudo o que h√° entre os dados e a infraestrutura f√≠sica √© precisamente o assunto da discuss√£o neste artigo.  Por exemplo, a disponibilidade da nuvem √© de responsabilidade do provedor e a defini√ß√£o de regras da ITU ou a ativa√ß√£o da criptografia √© de responsabilidade do cliente.  Neste artigo, tentaremos ver que tipo de mecanismos de seguran√ßa da informa√ß√£o s√£o fornecidos por v√°rios provedores de nuvem populares na R√∫ssia atualmente, quais s√£o os recursos de seus aplicativos e quando procurar solu√ß√µes de sobreposi√ß√£o externa (por exemplo, Cisco E-mail Security) que expandem os recursos de sua nuvem em parte ciberseguran√ßa.  Em alguns casos, especialmente ao seguir uma estrat√©gia de v√°rias nuvens, voc√™ n√£o ter√° escolha a n√£o ser usar solu√ß√µes de monitoramento de seguran√ßa externas em v√°rios ambientes de nuvem ao mesmo tempo (por exemplo, Cisco CloudLock ou Cisco Stealthwatch Cloud).  Bem, em alguns casos, voc√™ entender√° que o provedor de nuvem que voc√™ escolheu (ou lhe imp√¥s) n√£o oferece nenhuma op√ß√£o para monitorar a seguran√ßa das informa√ß√µes.  Isso √© desagrad√°vel, mas tamb√©m muito, pois permite avaliar adequadamente o n√≠vel de risco associado ao trabalho com essa nuvem. <br><br><h2>  Ciclo de vida do monitoramento de seguran√ßa na nuvem </h2><br>  Para monitorar a seguran√ßa das nuvens que voc√™ usa, voc√™ tem apenas tr√™s op√ß√µes: <br><br><ul><li>  confie nas ferramentas fornecidas pelo seu provedor de nuvem, </li><li>  aproveite as solu√ß√µes de terceiros que monitorar√£o as plataformas IaaS, PaaS ou SaaS usadas, </li><li>  Crie sua pr√≥pria infraestrutura de monitoramento de nuvem (apenas plataformas IaaS / PaaS). </li></ul><br>  Vamos ver quais recursos cada uma dessas op√ß√µes possui.  Mas primeiro, precisamos entender o esquema geral que ser√° usado no monitoramento de plataformas em nuvem.  Eu destacaria seis componentes principais do processo de monitoramento de seguran√ßa da informa√ß√£o na nuvem: <br><br><ul><li>  Prepara√ß√£o de infraestrutura.  Identifica√ß√£o dos aplicativos e infraestrutura necess√°rios para a coleta de eventos importantes para a seguran√ßa da informa√ß√£o no reposit√≥rio. </li><li>  Cole√ß√£o.  Nesse est√°gio, os eventos de seguran√ßa s√£o agregados de v√°rias fontes para posterior transmiss√£o ao processamento, armazenamento e an√°lise. </li><li>  Processando.  Nesse ponto, os dados s√£o transformados e enriquecidos para facilitar sua an√°lise subsequente. </li><li>  Armazenamento.  Esse componente √© respons√°vel pelo armazenamento de curto e longo prazo dos dados processados ‚Äã‚Äãe brutos coletados. </li><li>  An√°lise.  Nesta fase, voc√™ tem a capacidade de detectar incidentes e responder a eles automaticamente ou manualmente. </li><li>  Relat√≥rios  Esse est√°gio ajuda a formar indicadores-chave para as partes interessadas (gerenciamento, auditores, provedores de nuvem, clientes etc.) que nos ajudam a tomar certas decis√µes, por exemplo, alterar o provedor ou fortalecer o SI. </li></ul><br>  A compreens√£o desses componentes permitir√° determinar rapidamente o que voc√™ pode obter do seu provedor e o que voc√™ ter√° que fazer sozinho ou com a ajuda de consultores externos. <br><br><h2>  Servi√ßos em nuvem integrados </h2><br>  Eu j√° escrevi acima que muitos servi√ßos em nuvem hoje n√£o oferecem nenhuma possibilidade de monitorar a seguran√ßa das informa√ß√µes.  Em geral, eles n√£o prestam muita aten√ß√£o ao t√≥pico de seguran√ßa da informa√ß√£o.  Por exemplo, um dos servi√ßos russos populares para enviar relat√≥rios a ag√™ncias governamentais pela Internet (n√£o mencionarei especificamente o nome).  Toda a se√ß√£o de seguran√ßa deste servi√ßo gira em torno do uso de ferramentas certificadas de prote√ß√£o de informa√ß√µes criptogr√°ficas.  A se√ß√£o de seguran√ßa da informa√ß√£o de outro servi√ßo de nuvem dom√©stica para gerenciamento de documentos eletr√¥nicos n√£o √© mais um exemplo.  Ele fala sobre certificados de chave p√∫blica, criptografia certificada, elimina√ß√£o de vulnerabilidades da Web, prote√ß√£o contra ataques DDoS, aplica√ß√£o de ITU, backup e at√© mesmo auditorias regulares de IS.  Mas nem uma palavra sobre monitoramento, nem sobre a possibilidade de obter acesso a eventos de seguran√ßa da informa√ß√£o que possam ser do interesse dos clientes desse provedor de servi√ßos. <br><br>  Em geral, pela maneira como o provedor de nuvem descreve os problemas de seguran√ßa da informa√ß√£o em seu site e na documenta√ß√£o, pode-se entender com que seriedade ele geralmente leva esse problema.  Por exemplo, se voc√™ ler os manuais dos produtos My Office, n√£o haver√° uma palavra sobre seguran√ßa e a documenta√ß√£o do produto My Office separado.  O KS3 ‚Äù, projetado para proteger contra acesso n√£o autorizado, √© a enumera√ß√£o usual de cl√°usulas da 17¬™ ordem do FSTEC, que executa‚Äú My office.KS3 ‚Äù, mas n√£o est√° descrito como ele funciona e, o mais importante, como integrar esses mecanismos √† seguran√ßa das informa√ß√µes corporativas.  Talvez essa documenta√ß√£o esteja l√°, mas n√£o a encontrei em dom√≠nio p√∫blico no site My Office.  Embora talvez eu simplesmente n√£o tenha acesso a essas informa√ß√µes classificadas? <br><br><img src="https://habrastorage.org/webt/n2/dk/2w/n2dk2ww8k3y9_5v4wffwygrmhok.png" alt="imagem"><br><br>  A mesma situa√ß√£o do Bitrix √© muito melhor.  A documenta√ß√£o descreve os formatos dos logs de eventos e, curiosamente, o log de intrus√£o, que cont√©m eventos relacionados a amea√ßas potenciais √† plataforma em nuvem.  A partir da√≠, voc√™ pode obter IP, nome de usu√°rio ou nome do convidado, fonte do evento, hora, agente do usu√°rio, tipo de evento etc.  √â verdade que voc√™ pode trabalhar com esses eventos no painel de controle da pr√≥pria nuvem ou fazer upload de dados no formato MS Excel.  Agora √© dif√≠cil automatizar o trabalho com os registros do Bitrix e voc√™ ter√° que fazer parte do trabalho manualmente (fa√ßa o upload do relat√≥rio e carregue-o no SIEM).  Mas se voc√™ se lembrar disso at√© recentemente, e isso n√£o era poss√≠vel, esse √© um grande progresso.  Ao mesmo tempo, quero observar que muitos provedores de nuvem estrangeiros oferecem funcionalidades semelhantes ‚Äúpara iniciantes‚Äù - olhe os logs com seus olhos atrav√©s do painel de controle ou fa√ßa o upload de dados para si mesmo (embora a maioria fa√ßa upload de dados no formato .csv, n√£o no Excel). <br><br><img src="https://habrastorage.org/webt/g6/h1/gu/g6h1gufkzsphhnmiiz0fvok34mq.png" alt="Registro de Eventos Bitrix"><br><br>  Se voc√™ n√£o considera a op√ß√£o sem logs, os provedores de nuvem geralmente oferecem tr√™s op√ß√µes para monitorar eventos de seguran√ßa - pain√©is, upload de dados e acesso a eles via API.  O primeiro parece resolver muitos problemas para voc√™, mas isso n√£o √© totalmente verdade - se houver v√°rias revistas, voc√™ precisar√° alternar entre as telas que as exibem, perdendo o quadro geral.  Al√©m disso, √© improv√°vel que o provedor de nuvem ofere√ßa a voc√™ a oportunidade de correlacionar eventos de seguran√ßa e geralmente analis√°-los do ponto de vista da seguran√ßa (geralmente voc√™ est√° lidando com dados brutos que precisa entender).  Existem exce√ß√µes e falaremos mais sobre elas.  Por fim, vale a pena perguntar: quais eventos seu provedor de nuvem registra, em qual formato e quanto eles correspondem ao seu processo de monitoramento de IS?  Por exemplo, a identifica√ß√£o e autentica√ß√£o de usu√°rios e convidados.  O mesmo Bitrix permite registrar a data e hora do evento, o nome do usu√°rio ou convidado (na presen√ßa do m√≥dulo Web Analytics), o objeto ao qual o acesso √© feito e outros elementos t√≠picos do site.  Mas os servi√ßos de IS corporativos podem precisar de informa√ß√µes sobre se um usu√°rio efetuou login na nuvem a partir de um dispositivo confi√°vel (por exemplo, em uma rede corporativa, o Cisco ISE implementa esta tarefa).  E uma tarefa t√£o simples como a fun√ß√£o de IP geogr√°fico, que ajudar√° a determinar se a conta de usu√°rio do servi√ßo em nuvem √© roubada?  E mesmo que o provedor de nuvem o forne√ßa, isso n√£o √© suficiente.  O mesmo Cisco CloudLock n√£o apenas analisa a localiza√ß√£o geogr√°fica, mas usa o aprendizado de m√°quina para isso e analisa dados hist√≥ricos de cada usu√°rio e rastreia v√°rias anomalias na tentativa de identificar e autenticar.  Somente o MS Azure possui funcionalidade semelhante (se houver uma assinatura correspondente). <br><br><img src="https://habrastorage.org/webt/ig/fo/6i/igfo6itm3uw9oq2eelwfzaxej58.png" alt="imagem"><br><br>  H√° mais uma dificuldade - j√° que para muitos provedores de nuvem o monitoramento de IS √© um novo t√≥pico com o qual eles est√£o apenas come√ßando a lidar, eles est√£o constantemente mudando algo em suas decis√µes.  Hoje eles t√™m uma vers√£o da API, amanh√£ outra, o terceiro dia depois de amanh√£.  √â preciso tamb√©m estar preparado para isso.  A mesma coisa com a funcionalidade que pode mudar, que deve ser levada em considera√ß√£o no seu sistema de monitoramento de seguran√ßa da informa√ß√£o.  Por exemplo, a Amazon tinha inicialmente servi√ßos de monitoramento de eventos em nuvem separados - AWS CloudTrail e AWS CloudWatch.  Em seguida, veio um servi√ßo de monitoramento de eventos de IS separado - AWS GuardDuty.  Depois de algum tempo, a Amazon lan√ßou o novo sistema de gerenciamento Amazon Security Hub, que inclui uma an√°lise dos dados recebidos do GuardDuty, Amazon Inspector, Amazon Macie e v√°rios outros.  Outro exemplo √© a ferramenta de integra√ß√£o de log do Azure com o SIEM - AzLog.  Muitos fornecedores de SIEM o utilizaram ativamente, at√© 2018 a Microsoft anunciou o t√©rmino de seu desenvolvimento e suporte, o que colocou muitos clientes que usavam essa ferramenta antes do problema (como foi resolvido, falaremos mais adiante). <br><br>  Portanto, monitore cuidadosamente todas as fun√ß√µes de monitoramento que seu provedor de nuvem oferece a voc√™.  Ou confie em fornecedores externos de solu√ß√µes que atuar√£o como intermedi√°rios entre seu SOC e a nuvem que voc√™ deseja monitorar.  Sim, ser√° mais caro (embora nem sempre), mas voc√™ transferir√° toda a responsabilidade para os ombros dos outros.  Ou n√£o todos? .. Lembre-se do conceito de seguran√ßa compartilhada e entenda que n√£o podemos mudar nada - voc√™ precisar√° descobrir como diferentes provedores de nuvem fornecem monitoramento de seguran√ßa das informa√ß√µes de seus dados, aplicativos, m√°quinas virtuais e outros recursos localizados na nuvem.  E come√ßaremos com o que a Amazon oferece nesta parte. <br><br><h2>  Exemplo: monitoramento de seguran√ßa em IaaS baseado na AWS </h2><br>  Sim, entendo que a Amazon n√£o √© o melhor exemplo, pois √© um servi√ßo americano e pode ser bloqueada como parte da luta contra o extremismo e a dissemina√ß√£o de informa√ß√µes proibidas na R√∫ssia.  Mas nesta publica√ß√£o, gostaria apenas de mostrar como as diferentes plataformas de nuvem diferem nos recursos de seguran√ßa da informa√ß√£o e em que voc√™ deve prestar aten√ß√£o ao transferir seus principais processos para as nuvens do ponto de vista da seguran√ßa.  Bem, se alguns dos desenvolvedores russos de solu√ß√µes em nuvem obtiverem algo √∫til para si mesmos, ser√° √≥timo. <br><br><img src="https://habrastorage.org/webt/so/ai/kw/soaikwhskmqtt7za8yccefpbgdc.png" alt="Avalia√ß√£o da AWS Opportunity Assessment"><br><br>  Primeiro, devo dizer que a Amaz√¥nia n√£o √© uma fortaleza inexpugn√°vel.  V√°rios incidentes acontecem regularmente com seus clientes.  Por exemplo, os nomes, endere√ßos, datas de nascimento e telefones de 198 milh√µes de eleitores foram roubados do Deep Root Analytics.  14 milh√µes de registros de assinatura da Verizon roubados da Nice Systems, Israel  Ao mesmo tempo, os recursos internos da AWS permitem detectar uma ampla variedade de incidentes.  Por exemplo: <br><br><ul><li>  Influ√™ncia na infraestrutura (DDoS) </li><li>  comprometimento do n√≥ (inje√ß√£o de comando) </li><li>  comprometimento da conta e acesso n√£o autorizado </li><li>  configura√ß√£o incorreta e vulnerabilidades </li><li>  interfaces e APIs desprotegidas. </li></ul><br>  Essa discrep√¢ncia se deve ao fato de o pr√≥prio cliente ser respons√°vel pela seguran√ßa dos dados do cliente, conforme descobrimos acima.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E se ele n√£o se preocupou com a inclus√£o de mecanismos de prote√ß√£o e n√£o incluiu ferramentas de monitoramento, ele aprender√° sobre o incidente apenas na m√≠dia ou em seus clientes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para detectar incidentes, voc√™ pode usar uma ampla variedade de v√°rios servi√ßos de monitoramento desenvolvidos pela Amazon (embora sejam frequentemente complementados por ferramentas externas, como a osquery). Portanto, na AWS, todas as a√ß√µes do usu√°rio s√£o rastreadas, independentemente de como s√£o realizadas - por meio do console de gerenciamento, linha de comando, SDK ou outros servi√ßos da AWS. Todos os registros das a√ß√µes de cada conta da AWS (incluindo nome de usu√°rio, a√ß√£o, servi√ßo, par√¢metros de atividade e seu resultado) e uso da API est√£o dispon√≠veis no AWS CloudTrail. Voc√™ pode visualizar esses eventos (por exemplo, fazer login no console do AWS IAM) no console do CloudTrail, analis√°-los usando o Amazon Athena ou "fornec√™-los" para solu√ß√µes externas, como Splunk, AlienVault etc. Os pr√≥prios logs do AWS CloudTrail s√£o colocados no seu bucket do AWS S3.</font></font><br><br><img src="https://habrastorage.org/webt/tb/u8/8a/tbu88aytjwv9ce6j2t8ffwtkg5e.jpeg" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os outros dois servi√ßos da AWS fornecem alguns recursos de monitoramento mais importantes. Em primeiro lugar, o Amazon CloudWatch √© um servi√ßo de monitoramento de recursos e aplicativos da AWS que, entre outras coisas, pode detectar v√°rias anomalias em sua nuvem. Todos os servi√ßos internos da AWS, como Amazon Elastic Compute Cloud (servidores), Amazon Relational Database Service (bancos de dados), Amazon Elastic MapReduce (an√°lise de dados) e 30 outros servi√ßos da Amazon, usam o Amazon CloudWatch para armazenar seus logs. Os desenvolvedores podem usar a API aberta do Amazon CloudWatch para adicionar funcionalidade de monitoramento de log aos aplicativos e servi√ßos do usu√°rio, o que permite expandir a gama de eventos analisados ‚Äã‚Äãno contexto da seguran√ßa da informa√ß√£o.</font></font><br><br><img src="https://habrastorage.org/webt/sy/2_/zz/sy2_zz9rqtmvs4mjqly1gq2uds8.jpeg" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em segundo lugar, o servi√ßo VPC Flow Logs permite analisar o tr√°fego de rede enviado ou recebido pelos servidores da AWS (externa ou internamente), bem como entre microsservi√ßos. Quando qualquer um dos seus recursos do AWS VPC interage com a rede, o servi√ßo VPC Flow Logs registra as informa√ß√µes de tr√°fego da rede, incluindo as interfaces de rede de origem e de destino, bem como endere√ßos IP, portas, protocolo, n√∫mero de bytes e n√∫mero de pacotes que voc√™ viu. Aqueles com experi√™ncia em seguran√ßa de rede local reconhecem isso como um an√°logo dos fluxos </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">NetFlow</font></a><font style="vertical-align: inherit;"> .</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que podem ser criados por switches, roteadores e firewalls de n√≠vel corporativo. </font><font style="vertical-align: inherit;">Esses logs s√£o importantes para o monitoramento da seguran√ßa das informa√ß√µes, porque, diferentemente dos eventos de atividades de usu√°rios e aplicativos, eles tamb√©m permitem que voc√™ n√£o perca a comunica√ß√£o de rede no ambiente de nuvem privada virtual da AWS. </font></font><br><br><img src="https://habrastorage.org/webt/0o/ly/k7/0olyk7jygxkitvtzcqcxkfuyzpu.jpeg" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, esses tr√™s servi√ßos da AWS - AWS CloudTrail, Amazon CloudWatch e VPC Flow Logs - juntos fornecem uma vis√£o bastante eficaz do uso da sua conta, comportamento do usu√°rio, gerenciamento da infraestrutura, atividade de aplicativos e servi√ßos e atividade de rede. </font><font style="vertical-align: inherit;">Por exemplo, eles podem ser usados ‚Äã‚Äãpara detectar as seguintes anomalias:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tentativas de varrer o site, procurar backdoors, procurar vulnerabilidades atrav√©s de explos√µes de "erros 404". </font></font></li><li> Injection- (, SQL injection)   ‚Äú 500‚Äù. </li><li>     sqlmap, nikto, w3af, nmap  ..    User Agent. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Amazon Web Services tamb√©m desenvolveu outros servi√ßos de seguran√ßa cibern√©tica que abordam muitos outros desafios. Por exemplo, a AWS possui um servi√ßo interno para auditoria de pol√≠ticas e configura√ß√µes - AWS Config. Esse servi√ßo fornece auditoria cont√≠nua dos recursos da AWS e de suas configura√ß√µes. Considere um exemplo simples: suponha que voc√™ queira ter certeza de que as senhas dos usu√°rios estejam desabilitadas em todos os seus servidores e que o acesso seja poss√≠vel apenas com base em certificados. O AWS Config facilita a verifica√ß√£o disso para todos os seus servidores. Existem outras pol√≠ticas que podem ser aplicadas aos servidores em nuvem: ‚ÄúNenhum servidor pode usar a porta 22‚Äù, ‚ÄúSomente administradores podem alterar as regras de firewall‚Äù ou ‚ÄúSomente o usu√°rio Ivashko pode criar novas contas de usu√°rio e ele pode fazer √© apenas √†s ter√ßas-feiras ".No ver√£o de 2016, o AWS Config foi expandido para automatizar a detec√ß√£o de viola√ß√µes das pol√≠ticas desenvolvidas. As regras de configura√ß√£o da AWS s√£o, em ess√™ncia, solicita√ß√µes de configura√ß√£o cont√≠nua para os servi√ßos Amazon que voc√™ usa, que geram eventos em caso de viola√ß√£o das pol√≠ticas relevantes. Por exemplo, em vez de executar periodicamente solicita√ß√µes do AWS Config para verificar se todas as unidades de servidor virtual est√£o criptografadas, as Regras de configura√ß√£o da AWS podem ser usadas para verificar constantemente essas unidades do servidor quanto a essa condi√ß√£o. E, mais importante, no contexto desta publica√ß√£o, quaisquer viola√ß√µes geram eventos que podem ser analisados ‚Äã‚Äãpelo seu servi√ßo de SI.Solicita√ß√µes de configura√ß√£o cont√≠nua para os servi√ßos Amazon que voc√™ usa que geram eventos quando pol√≠ticas s√£o violadas. Por exemplo, em vez de executar periodicamente solicita√ß√µes do AWS Config para verificar se todas as unidades de servidor virtual est√£o criptografadas, as Regras de configura√ß√£o da AWS podem ser usadas para verificar constantemente essas unidades do servidor quanto a essa condi√ß√£o. E, mais importante, no contexto desta publica√ß√£o, quaisquer viola√ß√µes geram eventos que podem ser analisados ‚Äã‚Äãpelo seu servi√ßo de SI.Solicita√ß√µes de configura√ß√£o cont√≠nua para os servi√ßos Amazon que voc√™ usa que geram eventos quando pol√≠ticas s√£o violadas. Por exemplo, em vez de executar periodicamente solicita√ß√µes do AWS Config para verificar se todas as unidades de servidor virtual est√£o criptografadas, as Regras de configura√ß√£o da AWS podem ser usadas para verificar constantemente essas unidades do servidor quanto a essa condi√ß√£o. E, mais importante, no contexto desta publica√ß√£o, quaisquer viola√ß√µes geram eventos que podem ser analisados ‚Äã‚Äãpelo seu servi√ßo de SI.As Regras de configura√ß√£o da AWS podem ser usadas para verificar constantemente os discos do servidor quanto a essa condi√ß√£o. E, mais importante, no contexto desta publica√ß√£o, quaisquer viola√ß√µes geram eventos que podem ser analisados ‚Äã‚Äãpelo seu servi√ßo de SI.As Regras de configura√ß√£o da AWS podem ser usadas para verificar constantemente os discos do servidor quanto a essa condi√ß√£o. E, mais importante, no contexto desta publica√ß√£o, quaisquer viola√ß√µes geram eventos que podem ser analisados ‚Äã‚Äãpelo seu servi√ßo de SI.</font></font><br><br><img src="https://habrastorage.org/webt/o1/ox/kg/o1oxkgrrvmmoickwf2_tpkhj9_i.jpeg" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A AWS tamb√©m tem seus equivalentes √†s solu√ß√µes tradicionais de seguran√ßa da informa√ß√£o corporativa, que tamb√©m geram eventos de seguran√ßa que voc√™ pode e deve analisar: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Detec√ß√£o de intrus√£o - AWS GuardDuty </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> controle de vazamento - AWS Macie </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EDR (embora falar sobre pontos de extremidade na nuvem seja um pouco estranho) - AWS Cloudwatch + osquery de c√≥digo aberto ou solu√ß√µes GRR </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> An√°lise de fluxo de rede - AWS Cloudwatch + AWS VPC Flow </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> An√°lise de DNS - AWS Cloudwatch + AWS Route53 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AD - Servi√ßo de Diret√≥rio da AWS </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerenciamento de contas - AWS IAM </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSO - SSO da AWS </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> an√°lise de seguran√ßa - AWS Inspector </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gerenciamento de configura√ß√£o - AWS Config </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WAF - AWS WAF. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o detalharei todos os servi√ßos da Amazon que possam ser √∫teis no contexto de seguran√ßa da informa√ß√£o. </font><font style="vertical-align: inherit;">O principal a entender √© que todos eles podem gerar eventos que podemos e devemos analisar no contexto da seguran√ßa da informa√ß√£o, envolvendo tanto os recursos internos da Amazon quanto as solu√ß√µes externas, por exemplo, SIEM, que pode levar eventos de seguran√ßa ao seu centro de monitoramento e analis√°-los, juntamente com eventos de outros servi√ßos em nuvem ou de infraestrutura interna, per√≠metro ou dispositivos m√≥veis. </font></font><br><br><img src="https://habrastorage.org/webt/ev/_l/8k/ev_l8kkz43qcrmsyxxmrl6cu_ko.png" alt="Monitoramento da AWS com ELK"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De qualquer forma, tudo come√ßa com fontes de dados que fornecem eventos de IB. </font><font style="vertical-align: inherit;">Essas fontes incluem, mas n√£o est√£o limitadas a:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CloudTrail - Uso da API e a√ß√µes do usu√°rio </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Consultor Confi√°vel - Verifica√ß√£o de Seguran√ßa para Melhores Pr√°ticas </font></font></li><li> Config ‚Äî         </li><li> VPC Flow Logs ‚Äî     </li><li> IAM ‚Äî     </li><li> ELB Access Logs ‚Äî   </li><li> Inspector ‚Äî    </li><li> S3 ‚Äî   </li><li> CloudWatch ‚Äî   </li><li> SNS ‚Äî  . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Amazon, oferecendo uma variedade de fontes e ferramentas de eventos para sua gera√ß√£o, √© muito limitada em sua capacidade de analisar os dados coletados no contexto da seguran√ßa da informa√ß√£o. </font><font style="vertical-align: inherit;">Voc√™ ter√° que estudar independentemente os logs dispon√≠veis, procurando os indicadores correspondentes de comprometimento neles. </font><font style="vertical-align: inherit;">O AWS Security Hub, lan√ßado recentemente pela Amazon, tem como objetivo resolver esse problema, tornando-se uma esp√©cie de SIEM para a AWS baseado em nuvem. </font><font style="vertical-align: inherit;">Por√©m, embora esteja apenas no in√≠cio de sua jornada e seja limitado tanto pelo n√∫mero de fontes com as quais trabalha, quanto por outras restri√ß√µes estabelecidas pela arquitetura e assinaturas da pr√≥pria Amazon.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemplo: Monitorando o IS no IaaS baseado no Azure </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o quero entrar em um longo debate sobre qual dos tr√™s provedores de nuvem (Amazon, Microsoft ou Google) √© melhor (especialmente porque cada um deles tem suas pr√≥prias caracter√≠sticas espec√≠ficas e √© adequado para resolver seus problemas); concentre-se nos recursos de monitoramento de seguran√ßa que esses players fornecem. √â certo que o Amazon AWS foi um dos primeiros nesse segmento e, portanto, avan√ßou mais em termos de fun√ß√µes de seguran√ßa da informa√ß√£o (embora muitos admitam que √© dif√≠cil us√°-los). Mas isso n√£o significa que ignoraremos as oportunidades que a Microsoft nos oferece ao Google.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os produtos da Microsoft sempre se destacaram por sua "abertura" e no Azure a situa√ß√£o √© semelhante. Por exemplo, se AWS e GCP sempre v√™m do conceito de "tudo o que n√£o √© permitido √© proibido", o Azure tem a abordagem exatamente oposta. Por exemplo, criando uma rede virtual na nuvem e uma m√°quina virtual nela, todas as portas e protocolos s√£o abertos e ativados por padr√£o. Portanto, voc√™ precisar√° gastar um pouco mais de esfor√ßo na configura√ß√£o inicial do sistema de controle de acesso na nuvem da Microsoft. E isso tamb√©m imp√µe requisitos mais rigorosos para voc√™ em termos de atividade de monitoramento na nuvem do Azure.</font></font><br><br><img src="https://habrastorage.org/webt/eg/zq/9c/egzq9csqrrhuvyysxc26eodm5go.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A AWS tem uma peculiaridade relacionada ao fato de que, quando voc√™ monitora seus recursos virtuais, se eles estiverem em regi√µes diferentes, voc√™ tem dificuldades em combinar todos os eventos e sua an√°lise √∫nica, para eliminar os quais voc√™ precisa recorrer a v√°rios truques, como Crie um c√≥digo personalizado para o AWS Lambda que carregar√° eventos entre regi√µes. N√£o existe esse problema no Azure - seu mecanismo de log de atividades monitora todas as atividades da organiza√ß√£o sem restri√ß√µes. O mesmo vale para o AWS Security Hub, desenvolvido recentemente pela Amazon para consolidar muitas fun√ß√µes de seguran√ßa em um √∫nico centro de seguran√ßa, mas apenas em sua regi√£o, que, no entanto, n√£o √© relevante para a R√∫ssia. O Azure possui sua pr√≥pria Central de Seguran√ßa, que n√£o est√° vinculada a restri√ß√µes regionais,fornecendo acesso a todos os recursos de seguran√ßa da plataforma em nuvem. Al√©m disso, para v√°rias equipes locais, ele pode fornecer seu pr√≥prio conjunto de recursos defensivos, incluindo eventos de seguran√ßa gerenciados por elas. O AWS Security Hub ainda est√° se esfor√ßando para se tornar como a Central de Seguran√ßa do Azure. Mas vale a pena adicionar uma mosca na pomada - voc√™ pode extrair muito do que foi descrito anteriormente na AWS no Azure, mas isso √© feito de maneira mais conveniente apenas para o Azure AD, o Azure Monitor e o Centro de Seguran√ßa do Azure. Todos os outros mecanismos de defesa do Azure, incluindo a an√°lise de eventos de seguran√ßa, ainda n√£o s√£o gerenciados da maneira mais conveniente. Parte do problema √© resolvida pela API que permeia todos os servi√ßos do Microsoft Azure, mas isso exigir√° esfor√ßos adicionais para integrar sua nuvem ao seu SOC e √† disponibilidade de especialistas qualificados (na verdade,como com qualquer outro. SIEM trabalhando com APIs de nuvem). Alguns SIEMs, que ser√£o discutidos posteriormente, j√° oferecem suporte ao Azure e podem automatizar a tarefa de monitor√°-lo, mas existem algumas dificuldades com ele - nem todos eles podem receber todos os logs que o Azure possui.</font></font><br><br><img src="https://habrastorage.org/webt/ki/ua/cb/kiuacbupluq6j6-t4h97ocukxxw.png" alt="Log de atividades do Azure"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A coleta e o monitoramento de eventos no Azure s√£o fornecidos usando o servi√ßo Azure Monitor, que √© a principal ferramenta para coletar, armazenar e analisar dados na nuvem da Microsoft e seus recursos - reposit√≥rios Git, cont√™ineres, m√°quinas virtuais, aplicativos etc. Todos os dados coletados pelo Azure Monitor s√£o divididos em duas categorias: m√©tricas em tempo real que descrevem os principais indicadores de desempenho da nuvem do Azure e logs de registro contendo dados organizados em registros, caracterizando certos aspectos das atividades dos recursos e servi√ßos do Azure. Al√©m disso, usando a API do coletor de dados, o servi√ßo Monitor do Azure pode coletar dados de qualquer fonte REST para criar seus pr√≥prios cen√°rios de monitoramento.</font></font><br><br><img src="https://habrastorage.org/webt/kr/kr/mk/krkrmkuo31dizsis30njdglcmuu.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aqui est√£o algumas fontes de eventos de seguran√ßa que o Azure oferece a voc√™ que voc√™ pode acessar por meio da API do Portal, CLI, PowerShell ou REST do Azure (e algumas apenas pela API do Azure Monitor / Insight): </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logs de atividades - este di√°rio responde √†s perguntas cl√°ssicas ‚Äúquem‚Äù, ‚Äúo qu√™‚Äù e ‚Äúquando‚Äù em rela√ß√£o a qualquer opera√ß√£o de grava√ß√£o (PUT, POST, DELETE) sobre recursos da nuvem. </font><font style="vertical-align: inherit;">Eventos relacionados ao acesso de leitura (GET) n√£o se enquadram nesse log, nem em v√°rios outros.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Logs de diagn√≥stico - cont√©m dados sobre opera√ß√µes com um recurso espec√≠fico inclu√≠do na sua assinatura. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Relat√≥rio do Azure AD - cont√©m as atividades do usu√°rio e do sistema relacionadas ao gerenciamento de grupos e usu√°rios. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Log de Eventos do Windows e Syslog do Linux - cont√©m eventos de m√°quinas virtuais hospedadas na nuvem. </font></font></li><li> Metrics ‚Äî       ‚Äú‚Äù     .    .   30 . </li><li> Network Security Group Flow Logs ‚Äî      ,     Network Watcher      . </li><li> Storage Logs ‚Äî  ,     . </li></ul><br><img src="https://habrastorage.org/webt/dv/p3/-5/dvp3-53kd698qvhbrigx14h8lse.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para o monitoramento, voc√™ pode usar o SIEM externo ou o Azure Monitor interno e suas extens√µes. </font><font style="vertical-align: inherit;">Falaremos mais sobre os sistemas de gerenciamento de eventos de SI, mas, por enquanto, veremos o que o pr√≥prio Azure nos oferece para analisar dados no contexto de seguran√ßa. </font><font style="vertical-align: inherit;">A tela principal de tudo relacionado √† seguran√ßa no Azure Monitor √© o Painel de Auditoria e Seguran√ßa do Log Analytics (a vers√£o gratuita suporta o armazenamento de uma quantidade limitada de eventos por apenas uma semana). </font><font style="vertical-align: inherit;">Este painel √© dividido em 5 √°reas principais que visualizam estat√≠sticas resumidas do que est√° acontecendo no seu ambiente de nuvem:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dom√≠nios de seguran√ßa - principais indicadores quantitativos relacionados √† seguran√ßa da informa√ß√£o - o n√∫mero de incidentes, o n√∫mero de n√≥s comprometidos, os n√≥s sem patches, os eventos de seguran√ßa de rede etc. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Problemas not√°veis ‚Äã‚Äã- Exibe o n√∫mero e a import√¢ncia dos problemas de IB ativos </font></font></li><li> Detections ‚Äî  ,     </li><li> Threat Intelligence ‚Äî      ,    </li><li> Common security queries ‚Äî  ,       . </li></ul><br><img src="https://habrastorage.org/webt/65/rw/w9/65rww9mazk40oijpir1vf57tbpe.jpeg" alt="imagem"><br><br>  As extens√µes do Monitor do Azure incluem o Azure Key Vault (prote√ß√£o de chaves criptogr√°ficas na nuvem), Avalia√ß√£o de Malware (an√°lise de prote√ß√£o contra c√≥digo malicioso em m√°quinas virtuais), Azure Application Gateway Analytics (an√°lise de, entre outras coisas, logs de firewall na nuvem), etc. .  Essas ferramentas, enriquecidas por certas regras de processamento de eventos, permitem visualizar v√°rios aspectos da atividade dos servi√ßos em nuvem, incluindo seguran√ßa, e identificar certos desvios do trabalho.  Por√©m, como costuma acontecer, qualquer funcionalidade adicional requer uma assinatura paga apropriada, o que exigir√° investimentos financeiros apropriados, que voc√™ deve planejar com anteced√™ncia. <br><br><img src="https://habrastorage.org/webt/ii/xz/eb/iixzebodwxh6vvchcdanbw_x6ny.png" alt="imagem"><br><br>  O Azure possui v√°rios recursos internos de monitoramento de amea√ßas integrados ao Azure AD, Azure Monitor e Centro de Seguran√ßa do Azure.  Entre eles, por exemplo, detectar a intera√ß√£o de m√°quinas virtuais com IPs maliciosos conhecidos (devido √† integra√ß√£o com os servi√ßos Microsoft Threat Intelligence), detectar malware na infraestrutura da nuvem ao receber alarmes de m√°quinas virtuais localizadas na nuvem, ataques como "adivinha√ß√£o de senha" ‚ÄùPara m√°quinas virtuais, vulnerabilidades na configura√ß√£o do sistema de identifica√ß√£o do usu√°rio, logon de anonimizadores ou n√≥s infectados, vazamento de conta, logon de locais incomuns, etc.  O Azure hoje √© um dos poucos provedores de nuvem que oferece recursos internos de Threat Intelligence para enriquecer os eventos de seguran√ßa das informa√ß√µes coletadas. <br><br><img src="https://habrastorage.org/webt/0i/ha/qk/0ihaqk2fwd1ffcvr-ssbko85gvk.png" alt="imagem"><br><br>  Como mencionado acima, a funcionalidade de prote√ß√£o e, como conseq√º√™ncia, os eventos de seguran√ßa gerados por ela n√£o s√£o acess√≠veis a todos os usu√°rios igualmente, mas requer uma certa assinatura que inclua a funcionalidade necess√°ria, que gera os eventos correspondentes para monitorar a seguran√ßa das informa√ß√µes.  Por exemplo, algumas das fun√ß√µes para monitorar anomalias nas contas descritas no par√°grafo anterior est√£o dispon√≠veis apenas na licen√ßa premium P2 do Azure AD.  Sem ele, voc√™, como no caso da AWS, ter√° que analisar os eventos de seguran√ßa coletados "manualmente".  Al√©m disso, dependendo do tipo de licen√ßa do Azure AD, nem todos os eventos para an√°lise estar√£o dispon√≠veis para voc√™. <br><br>  No portal do Azure, voc√™ pode gerenciar as consultas de pesquisa nos logs de seu interesse e configurar os pain√©is para visualizar os principais indicadores de seguran√ßa das informa√ß√µes.  Al√©m disso, voc√™ pode escolher as extens√µes do Azure Monitor, que permitem expandir a funcionalidade dos logs do Azure Monitor e obter uma an√°lise mais aprofundada dos eventos do ponto de vista da seguran√ßa. <br><br><img src="https://habrastorage.org/webt/0y/uy/1u/0yuy1ual2yppi1yftzdfjtwsujm.png" alt="imagem"><br><br>  Se voc√™ precisar n√£o apenas da capacidade de trabalhar com logs, mas tamb√©m do abrangente centro de seguran√ßa da sua plataforma em nuvem do Azure, incluindo o gerenciamento de pol√≠ticas de IS, poder√° falar sobre a necessidade de trabalhar com a Central de Seguran√ßa do Azure, a maioria √∫til por uma taxa, por exemplo, detec√ß√£o de amea√ßas, monitoramento fora do Azure, avalia√ß√£o de conformidade etc.  (Na vers√£o gratuita, voc√™ s√≥ tem acesso a uma avalia√ß√£o de seguran√ßa e recomenda√ß√µes para resolver problemas identificados).  Consolida todos os problemas de seguran√ßa em um s√≥ lugar.  De fato, podemos falar sobre um n√≠vel mais alto de seguran√ßa das informa√ß√µes do que o Azure Monitor fornece, pois, nesse caso, os dados coletados em toda a sua f√°brica em nuvem s√£o enriquecidos usando uma variedade de fontes, como Azure, Office 365, Microsoft CRM online, Microsoft Dynamics AX, Outlook .com, MSN.com, Microsoft Digital Crimes Unit (DCU) e Microsoft Security Response Center (MSRC), sobrepostos a v√°rios algoritmos sofisticados de aprendizado de m√°quina e de an√°lise comportamental, que devem aumentar a efici√™ncia da detec√ß√£o e resposta a amea√ßas. <br><br>  O Azure possui seu pr√≥prio SIEM - ele apareceu no in√≠cio de 2019.  Este √© o Azure Sentinel, que depende de dados do Azure Monitor e tamb√©m pode se integrar.  solu√ß√µes de seguran√ßa externa (por exemplo, NGFW ou WAF), cuja lista √© atualizada constantemente.  Al√©m disso, com a integra√ß√£o da API do Microsoft Graph Security, voc√™ pode conectar seus pr√≥prios feeds do Threat Intelligence ao Sentinel, o que enriquece a capacidade de analisar incidentes na nuvem do Azure.  Pode-se argumentar que o Azure Sentinel √© o primeiro SIEM "nativo" que apareceu nos provedores de nuvem (o mesmo Splunk ou ELK, que pode ser colocado na nuvem, por exemplo, AWS, ainda n√£o foi desenvolvido pelos provedores de servi√ßos em nuvem tradicionais).  O Sentinel e a Central de Seguran√ßa do Azure poderiam ser chamados de SOC para a nuvem do Azure e poderiam ser limitados (com certas reservas) se voc√™ n√£o tivesse mais nenhuma infraestrutura e transferisse todos os seus recursos de computa√ß√£o para a nuvem e seria uma nuvem da Microsoft Azure <br><br><img src="https://habrastorage.org/webt/tr/8s/-d/tr8s-dlmf_tb_0enu4tbqzaaos4.png" alt="imagem"><br><br>  Por√©m, como os recursos internos do Azure (mesmo com uma assinatura do Sentinel) muitas vezes n√£o s√£o suficientes para o monitoramento e integra√ß√£o de IS desse processo com outras fontes de eventos de seguran√ßa (na nuvem e internos), torna-se necess√°rio exportar os dados coletados para sistemas externos, que pode incluir SIEM.  Isso √© feito com a ajuda da API e com extens√µes especiais que est√£o oficialmente dispon√≠veis no momento apenas para os seguintes SIEMs - Splunk (complemento do Azure Monitor para Splunk), IBM QRadar (DSM do Microsoft Azure), SumoLogic, ArcSight e ELK.  Mais recentemente, havia mais SIEMs, mas a partir de 1 de junho de 2019, a Microsoft parou de oferecer suporte √† Ferramenta de Integra√ß√£o de Log do Azure (AzLog), que no in√≠cio do Azure e na aus√™ncia de padroniza√ß√£o normal do trabalho com logs (o Monitor do Azure nem sequer existia) tornou mais f√°cil Integre SIEMs externos ao Microsoft Cloud.  Agora a situa√ß√£o mudou e a Microsoft recomenda a plataforma Azure Event Hub como a principal ferramenta de integra√ß√£o para o restante do SIEM.  Muitos j√° implementaram essa integra√ß√£o, mas tenha cuidado - eles podem n√£o capturar todos os logs do Azure, mas apenas alguns (consulte a documenta√ß√£o do seu SIEM). <br><br>  Concluindo uma breve excurs√£o ao Azure, desejo dar uma recomenda√ß√£o geral sobre este servi√ßo em nuvem - antes de falar sobre as fun√ß√µes de monitoramento de seguran√ßa no Azure, voc√™ deve configur√°-las com muito cuidado e testar se elas funcionam conforme escrito na documenta√ß√£o e conforme os consultores informaram Microsoft (e eles podem ter vis√µes diferentes sobre o desempenho dos recursos do Azure).  Se voc√™ tiver os recursos financeiros do Azure, poder√° extrair muitas informa√ß√µes √∫teis sobre o monitoramento de seguran√ßa das informa√ß√µes.  Se seus recursos forem limitados, como no caso da AWS, voc√™ precisar√° confiar apenas em seus pr√≥prios recursos e dados brutos fornecidos pelo Azure Monitor.  E lembre-se de que muitas fun√ß√µes de monitoramento custam dinheiro e √© melhor se familiarizar com os pre√ßos com anteced√™ncia.  Por exemplo, voc√™ pode armazenar dados por 31 dias, no m√°ximo, 5 GB para um cliente de gra√ßa - exceder esses valores exigir√° que voc√™ pague adicionalmente (aproximadamente US $ 2 ou mais para armazenar cada GB adicional do cliente e US $ 0,1 para armazenar 1 GB por m√™s adicional )  Trabalhar com telemetria e m√©tricas de aplicativos tamb√©m pode exigir recursos financeiros adicionais, al√©m de trabalhar com alertas e notifica√ß√µes (um certo limite est√° dispon√≠vel gratuitamente, o que pode n√£o ser suficiente para suas necessidades). <br><br><h2>  Exemplo: monitoramento de IS na IaaS com base no Google Cloud Platform </h2><br>  O Google Cloud Platform no cen√°rio da AWS e do Azure parece bastante jovem, mas isso √© parcialmente bom.  Diferentemente da AWS, que estava desenvolvendo seus recursos, inclusive os defensivos, gradualmente, tendo problemas com a centraliza√ß√£o;  O GCP, como o Azure, √© muito melhor gerenciado centralmente, o que reduz o n√∫mero de erros e o tempo de implementa√ß√£o na empresa.  Do ponto de vista da seguran√ßa, o GCP est√°, curiosamente, localizado entre a AWS e o Azure.  Ele tamb√©m tem um registro de evento √∫nico para toda a organiza√ß√£o, mas est√° incompleto.  Algumas fun√ß√µes ainda est√£o no modo beta, mas gradualmente essa defici√™ncia deve ser eliminada e o GCP se tornar√° uma plataforma mais madura em termos de monitoramento de seguran√ßa da informa√ß√£o. <br><br><img src="https://habrastorage.org/webt/6r/3i/fn/6r3ifntzmtnnylmqrbkk34u3kqw.png" alt="imagem"><br><br>  A principal ferramenta para registrar eventos no GCP √© o Stackdriver Logging (um an√°logo do Azure Monitor), que permite coletar eventos em toda a infraestrutura da nuvem (assim como na AWS).  De uma perspectiva de seguran√ßa no GCP, toda organiza√ß√£o, projeto ou pasta possui quatro logs: <br><br><ul><li>  Atividade administrativa - cont√©m todos os eventos relacionados ao acesso administrativo, por exemplo, cria√ß√£o de uma m√°quina virtual, altera√ß√£o de direitos de acesso etc.  Este di√°rio √© sempre escrito, independentemente do seu desejo, e armazena seus dados por 400 dias. </li><li>  Acesso a dados - cont√©m todos os eventos relacionados ao trabalho com dados de usu√°rios da nuvem (criar, modificar, ler etc.).  Por padr√£o, este di√°rio n√£o est√° escrito, porque seu volume aumenta muito rapidamente.  Por esse motivo, seu prazo de validade √© de apenas 30 dias.  Al√©m disso, longe de tudo, est√° escrito neste di√°rio.  Por exemplo, eventos relacionados a recursos que est√£o dispon√≠veis publicamente a todos os usu√°rios ou acess√≠veis sem acesso ao GCP n√£o s√£o gravados nele. </li><li>  Evento do sistema - cont√©m eventos do sistema que n√£o est√£o relacionados aos usu√°rios ou as a√ß√µes de um administrador que altera a configura√ß√£o dos recursos da nuvem.  √â sempre escrito e armazenado por 400 dias. </li><li>  A Transpar√™ncia de acesso √© um exemplo √∫nico de um di√°rio de bordo que registra todas as a√ß√µes dos funcion√°rios do Google (mas ainda n√£o para todos os servi√ßos GCP) que obt√™m acesso √† sua infraestrutura como parte de suas responsabilidades profissionais.  Esse di√°rio √© armazenado por 400 dias e n√£o est√° dispon√≠vel para todos os clientes GCP, mas apenas sujeito a v√°rias condi√ß√µes (suporte Gold ou Platinum, ou a presen√ßa de 4 fun√ß√µes de um determinado tipo como parte do suporte corporativo).  Um recurso semelhante tamb√©m est√° dispon√≠vel, por exemplo, no Office 365 - Lockbox. </li></ul><br>  Exemplo de log: Transpar√™ncia de acesso <br><br><pre><code class="plaintext hljs">{  insertId:  "abcdefg12345"  jsonPayload: {  @type:  "type.googleapis.com/google.cloud.audit.TransparencyLog"  location: {   principalOfficeCountry:  "US"   principalEmployingEntity:  "Google LLC"   principalPhysicalLocationCountry:  "CA"  }  product: [   0:  "Cloud Storage"  ]  reason: [   detail:  "Case number: bar123"   type:  "CUSTOMER_INITIATED_SUPPORT"  ]  accesses: [   0: {   methodName: "GoogleInternal.Read"   resourceName: "//googleapis.com/storage/buckets/[BUCKET_NAME]/objects/foo123"   }  ]  }  logName:  "projects/[PROJECT_NAME]/logs/cloudaudit.googleapis.com%2Faccess_transparency"  operation: {  id:  "12345xyz"  }  receiveTimestamp:  "2017-12-18T16:06:37.400577736Z"  resource: {  labels: {   project_id:  "1234567890"  }  type:  "project"  }  severity:  "NOTICE"  timestamp:  "2017-12-18T16:06:24.660001Z" }</code> </pre> <br>  O acesso a esses logs √© poss√≠vel de v√°rias maneiras (da mesma maneira que anteriormente considerada pelo Azure e AWS) - por meio da interface do Log Viewer, da API, do Google Cloud SDK ou da p√°gina Activity do seu projeto, de acordo com o qual voc√™ est√° interessado em eventos.  Da mesma forma, eles tamb√©m podem ser exportados para solu√ß√µes externas para an√°lises adicionais.  O √∫ltimo √© feito exportando logs para o armazenamento do BigQuery ou Cloud Pub / Sub. <br><br>  Al√©m do Stackdriver Logging, a plataforma GCP tamb√©m oferece a funcionalidade Stackdriver Monitoring, que permite rastrear as principais m√©tricas (desempenho, MTBF, status geral etc.) dos servi√ßos e aplicativos em nuvem.  Os dados processados ‚Äã‚Äãe visualizados podem facilitar a localiza√ß√£o de problemas em sua infraestrutura de nuvem, inclusive no contexto de seguran√ßa.  Mas deve-se observar que essa funcionalidade n√£o ser√° muito rica precisamente no contexto da seguran√ßa das informa√ß√µes, j√° que hoje o GCP n√£o tem an√°logo do mesmo AWS GuardDuty e n√£o pode distinguir os ruins de todos os eventos registrados (o Google desenvolveu a detec√ß√£o de amea√ßas de eventos, mas at√© agora √© na vers√£o beta e fale sobre sua utilidade mais cedo).  O Stackdriver Monitoring pode ser usado como um sistema para detectar anomalias, que ser√£o investigadas para encontrar as causas de sua ocorr√™ncia.  Mas, nas condi√ß√µes de escassez de pessoal qualificado no campo de seguran√ßa da informa√ß√£o GCP no mercado, essa tarefa no momento parece dif√≠cil. <br><br><img src="https://habrastorage.org/webt/qf/pt/np/qfptnplt5vm3g6tkpppop4l7n8g.png" alt="imagem"><br><br>  Tamb√©m vale a pena listar alguns dos m√≥dulos de seguran√ßa da informa√ß√£o que podem ser usados ‚Äã‚Äãna sua nuvem GCP e semelhantes ao que a AWS oferece: <br><br><ul><li>  O Cloud Security Command Center √© um an√°logo do AWS Security Hub e do Azure Security Center. </li><li>  Cloud DLP - detec√ß√£o e edi√ß√£o autom√°ticas (por exemplo, mascaramento) de dados localizados na nuvem, de acordo com mais de 90 pol√≠ticas de classifica√ß√£o predefinidas. </li><li>  O Cloud Scanner √© um scanner de vulnerabilidades conhecidas (XSS, Flash Injection, bibliotecas sem patch etc.) no App Engine, Compute Engine e Google Kubernetes. </li><li>  Cloud IAM - controle de acesso a todos os recursos do GCP. </li><li>  Identidade na nuvem - gerencie contas de usu√°rio, dispositivos e aplicativos GCP a partir de um √∫nico console. </li><li>  Cloud HSM - prote√ß√£o de chave criptogr√°fica. </li><li>  Servi√ßo de gerenciamento de chaves na nuvem - gerenciamento de chaves criptogr√°ficas no GCP. </li><li>  Controle de servi√ßo da VPC - Crie um per√≠metro seguro em torno dos recursos do GCP para proteg√™-los contra vazamentos. </li><li>  Titan Security Key - prote√ß√£o contra phishing. </li></ul><br><img src="https://habrastorage.org/webt/4p/jr/ye/4pjryeme-wtdhmo-5uhyjc1z81o.png" alt="imagem"><br><br>  Muitos desses m√≥dulos geram eventos de seguran√ßa que podem ser enviados ao BigQuery para an√°lise ou exporta√ß√£o para outros sistemas, incluindo SIEM.  Como j√° mencionado acima, o GCP √© uma plataforma desenvolvida ativamente e agora o Google est√° desenvolvendo v√°rios novos m√≥dulos de seguran√ßa da informa√ß√£o para sua plataforma.  Entre eles est√£o a detec√ß√£o de amea√ßas a eventos (agora dispon√≠vel na vers√£o beta), que verifica os logs do Stackdriver em busca de vest√≠gios de atividade n√£o autorizada (semelhante ao GuardDuty na AWS) ou a Policy Intelligence (dispon√≠vel em alfa), que permitir√° o desenvolvimento de pol√≠ticas de acesso inteligente aos recursos do GCP. <br><br>  Fiz uma breve revis√£o dos recursos internos de monitoramento em plataformas populares de nuvem.  Mas voc√™ tem especialistas capazes de trabalhar com os logs brutos do provedor de IaaS (nem todos est√£o prontos para comprar recursos avan√ßados da AWS, Azure ou Google)?  Al√©m disso, muitas pessoas conhecem o prov√©rbio "confie, mas verifique", o que no campo da seguran√ßa √© mais verdadeiro do que nunca.  Quanto voc√™ confia nos recursos internos do provedor de nuvem que lhe enviam eventos de IB?  Quanto eles se concentram na seguran√ßa da informa√ß√£o? <br><br>  √Äs vezes, vale a pena procurar solu√ß√µes de sobreposi√ß√£o para monitorar infraestruturas de nuvem que podem complementar a seguran√ßa interna da nuvem, e √†s vezes essas solu√ß√µes s√£o a √∫nica maneira de obter dados sobre a seguran√ßa de seus dados e aplicativos localizados na nuvem.  Al√©m disso, eles s√£o simplesmente mais convenientes, pois assumem todas as tarefas de analisar os logs necess√°rios gerados por diferentes servi√ßos de nuvem de diferentes provedores de nuvem.  Um exemplo dessa solu√ß√£o imposta √© o Cisco Stealthwatch Cloud, que se concentra na √∫nica tarefa - monitorar anomalias de SI em ambientes em nuvem, incluindo n√£o apenas Amazon AWS, Microsoft Azure e Google Cloud Platform, mas tamb√©m nuvens privadas. <br><br><h2>  Exemplo: Monitorando a Seguran√ßa com a Nuvem Stealthwatch </h2><br>  A AWS fornece uma plataforma de computa√ß√£o flex√≠vel, mas essa flexibilidade facilita para as empresas cometer erros que levam a problemas de seguran√ßa.  E o modelo de IS compartilhado apenas contribui para isso.  A execu√ß√£o de software na nuvem com vulnerabilidades desconhecidas (por exemplo, o AWS Inspector ou o GCP Cloud Scanner pode combater vulnerabilidades conhecidas), senhas fracas, configura√ß√µes incorretas, informa√ß√µes privilegiadas etc.  E tudo isso afeta o comportamento dos recursos da nuvem, o que pode ser observado pelo Cisco Stealthwatch Cloud, que √© um sistema para monitorar a seguran√ßa das informa√ß√µes e a detec√ß√£o de ataques.  nuvens p√∫blicas e privadas. <br><br><img src="https://habrastorage.org/webt/km/tx/h6/kmtxh6qhvhwn1c9zshmyelor8du.png" alt="imagem"><br><br>  Um dos principais recursos do Cisco Stealthwatch Cloud √© a capacidade de modelar entidades.  Com sua ajuda, voc√™ pode criar um modelo de programa (isto √©, uma simula√ß√£o quase em tempo real) de cada um dos seus recursos de nuvem (n√£o importa se √© AWS, Azure, GCP ou outra coisa).  Isso pode incluir servidores e usu√°rios, al√©m de tipos de recursos espec√≠ficos para o seu ambiente de nuvem, como grupos de seguran√ßa e grupos de dimensionamento autom√°tico.  Esses modelos usam fluxos de dados estruturados fornecidos pelos servi√ßos em nuvem como entrada.  Por exemplo, para a AWS, esses ser√£o Logs de fluxo da VPC, AWS CloudTrail, AWS CloudWatch, AWS Config, AWS Inspector, AWS Lambda e AWS IAM.  A modelagem de entidades detecta automaticamente a fun√ß√£o e o comportamento de qualquer um dos seus recursos (voc√™ pode falar sobre a cria√ß√£o de perfil de todas as atividades da nuvem).  Entre essas fun√ß√µes est√£o um dispositivo m√≥vel Android ou Apple, servidor Citrix PVS, servidor RDP, gateway de correio, cliente VoIP, servidor de terminal, controlador de dom√≠nio, etc.  Ele ent√£o monitora continuamente seu comportamento para determinar quando ocorre um comportamento arriscado ou amea√ßador √† seguran√ßa.  Voc√™ pode identificar a adivinha√ß√£o de senha, ataques DDoS, vazamentos de dados, acesso remoto ilegal, c√≥digo malicioso, verifica√ß√£o de vulnerabilidades e outras amea√ßas.  Por exemplo, veja como √© detectar uma tentativa de acesso remoto de um pa√≠s at√≠pico de sua organiza√ß√£o (Cor√©ia do Sul) ao cluster Kubernetes via SSH: <br><br><img src="https://habrastorage.org/webt/kd/uw/i4/kduwi4v3aryzsbi7oddsk_-iwki.png" alt="imagem"><br><br>  E √© com isso que parece o suposto vazamento de informa√ß√µes do banco de dados do Postgress em um pa√≠s que n√£o foi previamente interagido: <br><br><img src="https://habrastorage.org/webt/a0/io/cs/a0iocsz8cwo7rwisjbj69l8hemu.png" alt="imagem"><br><br>  Finalmente, √© assim que muitas tentativas de acesso SSH com falha da China e da Indon√©sia a partir de um dispositivo remoto externo se parecem: <br><br><img src="https://habrastorage.org/webt/vq/ca/2q/vqca2qrw5zmdsh4tafetaooc_zw.png" alt="imagem"><br><br>  Ou, suponha que uma inst√¢ncia de servidor em uma VPC, de acordo com a pol√≠tica, nunca deva ser um destino para logon remoto.  Al√©m disso, suponha que um logon remoto tenha ocorrido neste computador devido a uma altera√ß√£o incorreta na diretiva de regra do firewall.  O recurso de modelagem de entidade detectar√° e reportar√° essa atividade ("Acesso remoto incomum") quase em tempo real e apontar√° para uma chamada espec√≠fica da API do AWS CloudTrail, Azure Monitor ou GCP Stackdriver Logging API (incluindo nome do usu√°rio, data e hora, entre outros detalhes), o que causou a altera√ß√£o na regra da ITU.  E ent√£o essa informa√ß√£o pode ser fornecida ao SIEM para an√°lise. <br><br><img src="https://habrastorage.org/webt/hv/td/kw/hvtdkwnm7mqcvwnplqwe-ybamny.png" alt="imagem"><br><br>  Recursos semelhantes est√£o dispon√≠veis para qualquer ambiente em nuvem suportado pelo Cisco Stealthwatch Cloud: <br><br><img src="https://habrastorage.org/webt/qz/ex/ti/qzextig23hkqnqzcz4cloijtg30.png" alt="imagem"><br><br>  A modelagem de entidades √© uma forma exclusiva de automa√ß√£o de seguran√ßa que pode detectar um problema anteriormente desconhecido com seu pessoal, processos ou tecnologias.  Por exemplo, ele permite detectar, entre outras coisas, problemas de seguran√ßa como: <br><br><ul><li>  Algu√©m encontrou um backdoor no software que usamos? </li><li>  Existe algum software ou dispositivo de terceiros em nossa nuvem? </li><li>  Um usu√°rio autorizado abuse de privil√©gios? </li><li>  Houve um erro de configura√ß√£o que permitiu acesso remoto ou outro uso inadvertido de recursos? </li><li>  Existem vazamentos de dados de nossos servidores? </li><li>  Algu√©m tentou se conectar conosco a partir de uma localiza√ß√£o geogr√°fica at√≠pica? </li><li>  Nossa nuvem est√° infectada com c√≥digo malicioso? </li></ul><br><img src="https://habrastorage.org/webt/sg/pp/zq/sgppzqmw015hnevhwjrxrm3mtoy.png" alt="imagem"><br><br>  O evento IB detectado pode ser transmitido na forma de um ticket correspondente ao sistema de gerenciamento de incidentes Slack, Cisco Spark, PagerDuty e tamb√©m enviado a v√°rios SIEMs, incluindo Splunk ou ELK.  Resumindo, podemos dizer que, se sua empresa usa uma estrat√©gia de v√°rias nuvens e n√£o se limita a um provedor de nuvem, os recursos de monitoramento de seguran√ßa das informa√ß√µes descritos acima, o uso do Cisco Stealthwatch Cloud √© uma boa op√ß√£o para obter um conjunto unificado de recursos de monitoramento para os principais players de nuvem - Amazon , Microsoft e Google.  O mais interessante √© que, se voc√™ comparar os pre√ßos da Stealthwatch Cloud com licen√ßas avan√ßadas de monitoramento de seguran√ßa na AWS, Azure ou GCP, pode ser que a solu√ß√£o da Cisco seja ainda mais barata que os recursos internos das solu√ß√µes Amazon, Microsoft e Google.  Paradoxalmente, √©.  E quanto mais nuvens e seus recursos voc√™ usar, mais √≥bvia ser√° a vantagem de uma solu√ß√£o consolidada. <br><br><img src="https://habrastorage.org/webt/jn/t5/ab/jnt5ab0witivf4gzgu8i36toxaw.png" alt="imagem"><br><br>  Al√©m disso, o Stealthwatch Cloud tamb√©m pode monitorar nuvens privadas implantadas em sua organiza√ß√£o, por exemplo, com base em cont√™ineres Kubernetes ou monitorando fluxos do Netflow ou tr√°fego de rede recebido atrav√©s do espelhamento de equipamentos de rede (mesmo produ√ß√£o dom√©stica), dados AD ou servidores DNS etc.  Todos esses dados ser√£o enriquecidos com informa√ß√µes de Intelig√™ncia de Amea√ßas coletadas pela Cisco Talos, o maior grupo n√£o governamental de pesquisadores de amea√ßas de SI do mundo. <br><br><img src="https://habrastorage.org/webt/pb/vc/fp/pbvcfps2j14ue_hyaoo8h9we4t0.png" alt="imagem"><br><br>  Isso permite implementar um sistema de monitoramento unificado para nuvens p√∫blicas e h√≠bridas que sua empresa pode usar.  As informa√ß√µes coletadas podem ser analisadas usando os recursos internos do Stealthwatch Cloud ou enviadas para o SIEM (Splunk, ELK, SumoLogic e v√°rios outros s√£o suportados por padr√£o). <br><br>  Isso conclui a primeira parte do artigo em que examinei as ferramentas internas e externas para monitorar plataformas IaaS / PaaS que nos permitem detectar e responder rapidamente a incidentes nos ambientes em nuvem que nossa empresa escolheu.  Na segunda parte, continuaremos o t√≥pico e consideraremos as op√ß√µes de monitoramento para plataformas SaaS usando o Salesforce e o Dropbox como exemplo, al√©m de tentar resumir e reunir tudo, criando um sistema unificado de monitoramento de seguran√ßa das informa√ß√µes para diferentes provedores de nuvem. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466103/">https://habr.com/ru/post/pt466103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466081/index.html">3 de setembro</a></li>
<li><a href="../pt466089/index.html">Algoritmo de Pensamento e Consci√™ncia, Parte 2</a></li>
<li><a href="../pt466093/index.html">Como funciona o kubectl exec?</a></li>
<li><a href="../pt466097/index.html">Monitorando aplicativos .NET</a></li>
<li><a href="../pt466099/index.html">Recursos de teste de um aplicativo Web para servi√ßo de v√≠deo</a></li>
<li><a href="../pt466105/index.html">API de Magento Rest com Overclocking com RoadRunner</a></li>
<li><a href="../pt466107/index.html">Sistema Smart Home fa√ßa voc√™ mesmo</a></li>
<li><a href="../pt466109/index.html">Solu√ß√£o de problemas com pwnable.kr 22 - brainfuck. Ataque Ret2libc</a></li>
<li><a href="../pt466111/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 32. Recupera√ß√£o de senha, XMODEM / TFTPDNLD e ativa√ß√£o de licen√ßa da Cisco</a></li>
<li><a href="../pt466113/index.html">Definindo codifica√ß√£o de texto no PHP em vez de mb_detect_encoding</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>