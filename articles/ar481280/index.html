<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏽‍🤝‍🧑🏽 👩🏽‍⚕️ 🧜🏽 كيف قمنا بإعداد مرحلة التأهيل من CTFZone-2020 🧘 🎺 ♠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="30 نوفمبر - 1 ديسمبر اجتاز مرحلة التصفيات من بطولة CTFZone ، والتي سجلت 1043 فريقا من جميع أنحاء العالم. وفقًا لبياناتنا ، تم حل المشكلات حتى في زيمبا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيف قمنا بإعداد مرحلة التأهيل من CTFZone-2020</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bizone/blog/481280/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  30 نوفمبر - 1 ديسمبر اجتاز مرحلة التصفيات من بطولة <a href="https://ctf.bi.zone/">CTFZone</a> ، والتي سجلت 1043 فريقا من جميع أنحاء العالم.  وفقًا لبياناتنا ، تم حل المشكلات حتى في زيمبابوي (26 عنوان IP فريدًا).  حفر أعمق ، وكان فريق الجامعة من مدينة بولاوايو. </p><br><p style=";text-align:right;direction:rtl">  أصبحت CTFZone هذا العام هي المرحلة التأهيلية ل <a href="https://www.oooverflow.io/dc-ctf-2020-quals/">DEF CON CTF</a> ، لذا فإن الفريق الذي يفوز بالنهائي (الذي سيقام في <a href="https://offzone.moscow/ru/">OFFZONE من</a> 16 إلى 17 أبريل 2020) سيذهب إلى البطولة في لاس فيجاس.  لكي يحصل المحظوظون على وقت للحصول على تأشيرات ، تم نقل مواعيد المؤتمر إلى تاريخ سابق. </p><br><p style=";text-align:right;direction:rtl">  تعد DEF CON CTF أقدم وأهم مسابقة أمنية للعديد من الفرق.  لا يتم منح الفائزين فرعًا للنخيل ، لكن حتى بدونه ، كل شيء يسير على ما يرام.  الآن في العالم ، هناك 6 بطولات فقط يمكنك من خلالها التأهل إلى DEF CON CTF. </p><br><a name="habracut"></a><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xt/iy/2x/xtiy2x-ewxvtrylyhnclq6rfiku.png"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/i_/de/cm/i_decmpgdkn4esd5c8dfjoe12zs.png"></div><br>  <i>جغرافيا المشاركين CTFZone</i> <br><br><h2 style=";text-align:right;direction:rtl">  عن المفهوم </h2><br><p style=";text-align:right;direction:rtl">  في حركة CTF الدولية ، حدث أن فرق من مناطق مختلفة تتخصص في مناطق معينة.  على سبيل المثال ، من الناحية التاريخية ، كان الروس أفضل في حل الويب ، في حين أن الفرق الآسيوية والأمريكية أقوى في PWN.  على نفس DEF CON ، كل المهام تقريبًا تكون ثنائيات.  ربما هذا هو السبب في أداء الفرق الأمريكية والآسيوية مؤخرًا بشكل أفضل هناك.  نحن في CTFZone نحاول أن نظهر أن CTF ليس فقط PWN ، ولكن أيضًا العديد من الفئات الأخرى المثيرة للاهتمام: الويب ، التشفير ، الاتجاه المعاكس ، OSINT ، الطب الشرعي ، PPC. </p><br><h3 style=";text-align:right;direction:rtl">  <u>شبكة</u> </h3><br><p style=";text-align:right;direction:rtl">  في المهام المستندة إلى الويب ، حاول المؤلفون - خبراء اختبار الاختراق أثناء ساعات العمل - نقل الثغرات الأمنية من مشاريع العالم الحقيقي.  على سبيل المثال ، في مهمة <b>Web-Shop ،</b> استخدمنا مكتبة python-markdown2 الشهيرة ، حيث اكتشف خبرائنا نقطة ضعف في اليوم السابق لتجاوز مرشح XSS قبل أسابيع قليلة من المنافسة.  خلال CTF ، وجد كل فريق من الفرق الأربعة الحاسمة نسخته الخاصة من مشكلة عدم الحصانة هذه ، مما يجعلنا نفكر في جودة التصفية في المكتبة. </p><br><p style=";text-align:right;direction:rtl">  بالنسبة لمهمة <b>Web-Card</b> ، استخدمنا ثغرة اليوم صفر في فئة التحقق من صحة Java XML القياسية.  تم اكتشافه عند اختبار جدار حماية تطبيق ويب حقيقي ، لذلك قمنا بدعوة المشاركين لتجاوز WAF ، الذي قمنا بتطويره خصيصًا للمهمة.  النسخة التفصيلية من wrightup سيكون في وقت لاحق. </p><br><p style=";text-align:right;direction:rtl">  حسنًا ، أظهرت مهمة <b>EmeraldRush</b> كيف أصبحت GitLab و Github على مدار العام الماضي - نقاط الضعف المرتبطة بروبي ، وكلاهما مكتوب.  يعتمد أحدهما على CVE-2018-18649 (ومع ذلك ، لا يوجد استغلال مفتوح للوصول إليه) ، والثاني تم اكتشافه ونشره مؤخرًا على منصة HackerOne (للحصول على وصف ، راجع <a href="https://blog.teddykatz.com/2019/11/05/github-oauth-bypass.html">المقال</a> ).  بالطبع ، تم إخطار المطورين بكل من هذه الثغرات وجميع نقاط الضعف الأخرى على الويب قبل المنافسة ، وفقًا لمبادئ الإفصاح المسؤول. </p><br><h3 style=";text-align:right;direction:rtl">  <u>التشفير</u> </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bm/88/yk/bm88ykz-uzxelmwibh5blfghnue.jpeg"></div><br><p style=";text-align:right;direction:rtl">  بدوره ، أخذ فريق تطوير cryptotask كأساس ليس فقط للأخطاء التي واجهتها باستمرار في CTF ذات الصلة بتنفيذ RSA ، ولكن أيضا الهجمات المثيرة في السنوات الأخيرة.  على سبيل المثال ، كان على المهمة <b>OCB2</b> التعامل مع الهجوم على نظام التشفير المتماثل الذي يحمل نفس الاسم ، لاكتشافه في مؤتمر Crypto الذي منحه جائزة Best Paper Award. </p><br><p style=";text-align:right;direction:rtl">  وفي مهمة <b>NTRU</b> ، كان من الضروري دراسة الهجوم على نظام شعرية غير متماثل.  تم وصفها في شهر سبتمبر ، لكن العثور على المقالة المناسبة وقراءتها لم يكن كافيًا.  واجه مؤلف المشكلة نفسه المشكلات عندما اتضح أن المنشور أخذ الحالة الأكثر ملاءمة للوصف ، والتي لم تنجح مع المعلمات المحددة في المهمة النهائية.  اضطررت إلى إعادة الخوارزمية!  من المثير للاهتمام أن أحد المشاركين (أليكسي أودوفينكو من فريق LC / BC) حل المشكلة دون مقال ، حيث توصلوا إلى طريقة حل مختلفة قليلاً تستند إلى نفس المبدأ. <br><br></p><h3 style=";text-align:right;direction:rtl">  <u>الطب الشرعي</u> </h3><br><p style=";text-align:right;direction:rtl">  حسنًا ، كانت فئة الطب الشرعي الأكثر صعوبة في الطب الشرعي لدينا.  اعتاد الجميع على التفكير في أن هذه المهام يتم حلها باستخدام ثلاث أدوات مساعدة: قبل كل شيء ، التقلب والخيوط.  ولكن كان لدينا مهام مختلفة - على سبيل المثال ، مهمة غير عادية <b>في الظلال</b> ، والتي كان من الضروري حلها من أجل التعامل مع التقنية الموضحة <a href="https://github.com/libyal/libvshadow/blob/master/documentation/Volume%2520Shadow%2520Snapshot%2520(VSS)%2520format.asciidoc">هنا</a> .  سيتم أيضًا نشر التفاصيل في لجنة المقاطعة لاحقًا. </p><br><h2 style=";text-align:right;direction:rtl">  عن التدريب </h2><br><p style=";text-align:right;direction:rtl">  تألفت الإعداد المباشر لمؤهلات CTFZone من عدة مراحل رئيسية (جمع فريق المشروع ، وتطوير المهام ، واختبار ونشر البنية التحتية ، وإطلاق صاروخ في الفضاء) والعديد من تلك المساعدة (البحث عن الإلهام ، وإقامة الاتصالات ، والعذاب والشك ، والاكتئاب ، والتغلب على الأزمة الوجودية). </p><br><p style=";text-align:right;direction:rtl">  قبل ثلاثة أشهر من بدء الاجتماع العام ، تم اختيار المواعيد - 7 و 8 ديسمبر.  توصل الفريق إلى نتيجة مفادها أنه لن يكون هناك وقت ، لكن لا يزال هناك مجال للعمل.  وبعد سبعة أيام ، تم تغيير هذه المواعيد النهائية غير الواقعية قبل أسبوع ، حيث إن التواريخ المحددة وجميع الإجراءات التالية قد اتخذت بالفعل CTFs.  كل ما بقي هو أن تبتسم وتبسم أسنانك وتعمل بثلاثة أضعاف الطاقة.  لم يكن هناك عودة إلى الوراء ؛ تطوير startanul. </p><br><br><img src="https://habrastorage.org/webt/bj/pr/j7/bjprj7dhi5vsmc2-4nkohbuzxxm.png"><br><br><p style=";text-align:right;direction:rtl">  نتيجة لذلك ، كانت المهمة أكثر من المعتاد - 30 قطعة.  كل مهمة فريدة من نوعها ، ولكنها لا تعيش طويلاً: 3 أشهر من الإعداد و 36 ساعة فقط من الرحلة.  لكن ماذا!  ستلمس CTFers الرائدة في العالم الأزرار التي قمت برسمها بعناية على الواجهة الأمامية - سوف تغمر نفسها في فكرتك وتعطيك ردود فعل شخصية.  هذه تجربة رائعة وفرصة لإخبار مجتمعنا عن عملهم.  بعد كل شيء ، في كثير من الأحيان مع وجود ثغرات أمنية تكمن في المهام ، يتم توصيل نوع من القصة.  كانت بعض المهام صعبة للغاية بحيث لم يستطع أحد تحديدها.  بحلول نهاية تأهيل المشكلات التي لم يتم حلها ، بقيت اثنتان: <b>الطب الشرعي الشعبي</b> <b>وبطاقة الويب</b> . </p><br><h2 style=";text-align:right;direction:rtl">  حول البنية التحتية </h2><br><p style=";text-align:right;direction:rtl">  تنظيم البنية التحتية للبطولة يمكن التعامل معها بطرق مختلفة.  على سبيل المثال ، بالطريقة القديمة ، قم بقطع الأجهزة الافتراضية لمطوري المهام ومنحهم إمكانية الوصول إليها.  في هذه الحالة ، يصبح كل مطور مسؤولاً راضياً عن المضيف المحلي ، ويعمل كل شيء كما يريد ، ويظل توفير اتصال الشبكة فقط.  من الواضح ، مع ذلك ، أنه لا يوجد حديث عن أي تكرار وتسامح مع الخطأ في هذه الحالة.  الشخص المسؤول عن بنيتنا الأساسية قد أخفق في فشل أحد أقطاب التدريب في ZeroNights في عام 2016 ، وهذه المرة ، التي تم تدريسها من خلال تجربة مريرة ، قرر القيام بالأشياء بطريقة مختلفة. </p><br><p style=";text-align:right;direction:rtl">  قررنا لفترة طويلة المكان الذي سنعيش فيه ، وفي النهاية قررنا الالتفاف في السحابة.  الأسباب واضحة: مسابقات للمتسللين ، لذلك من الأفضل كسر Google ، وكانت هناك بالفعل تطورات جاهزة في zashnik.  كانت الأداة الرئيسية لإنشاء النظام الأساسي هي Terraform ، التي تسمح لك بوصف البنية التحتية في شكل كود في شكل إعلان ، وتعتني بجميع الإيماءات الأخرى.  هذا ، على سبيل المثال ، لا تحتاج إلى التفكير في كيفية الانتقال إلى Google API وإخباره بعدد الأجهزة الظاهرية التي تريد نشرها. <br>  كان من الضروري أيضًا تحديد كيفية بدء المهام.  كنا محظوظين جدًا لأن جميع المطورين كانوا قادرين بالفعل على كتابة المهام في Docker.  هذا عبارة عن حاوية حاوية من الضجيج تسمح لك بحزم خدمة بكل التبعيات في بيئة معزولة لا تتغير بين إعادة التشغيل.  لا توجد طرق عديدة للعمل مع Docker: هؤلاء هم أساسًا أوركسترا مثل Compose و k8s.  لجعل كل شيء جميلًا ، أي تطبيق قائمة الأمنيات مع الموازنة والنسخ المتماثلة والتسامح مع الأعطال والمؤسسات الأخرى ، كان اختيار الأوركسترا واضحًا - Kubernetes. </p><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mw/ra/ed/mwraedirnl7haxeqf7fg7yedopk.jpeg"></div><br><p style=";text-align:right;direction:rtl">  هنا ، ومع ذلك ، كان هناك بعض سوء الفهم بين منشئ البنية التحتية والمطورين.  يمثل البنتستر فئة خاصة من عالم تكنولوجيا المعلومات: فهم يشبهون إلى حدٍ ما المسؤولين والمسؤولين عن الشبكات ويعرفون كيفية قاعدة البيانات وموجهون في البرمجة.  بشكل عام ، وليس الناس ، ولكن السكاكين السويسرية.  إنهم استثنائيون وطموحون للغاية ، لكن لسوء الحظ ، عندما تقرر كتابة "هيلم" لكل مهمة ، نسيت بطريقة أو بأخرى أن المحتالين ما زالوا غير مدراء محترفين.  أدى ذلك إلى حرب صغيرة ، كان من الضروري خلالها شرح سبب اتخاذ بعض القرارات بالقوة ووضع قيود. </p><br><p style=";text-align:right;direction:rtl">  لم يكن لدى اللاعبين أي خبرة في كتابة هيلم ، لكنهم جميعًا يعرفون كيفية الكتابة.  أنت نفسك تدرك أن هناك بين فجأة من تأليف و مخطط هيلم المحلي وجود فجوة في بضعة أسابيع أو حتى أشهر من دراسة المادة.  كانت هذه أول جرس يلمح إلى وجود بعض المشاكل (حيث سيكون CTF بدونها ، خاصةً عندما يكون الفريق والمشرف جديدين في كل مرة تقريبًا). </p><br><p style=";text-align:right;direction:rtl">  نظرًا لضيق الوقت ، لم يكن من الممكن أتمتة كل شيء - يجب نقل بعض الأشياء إلى أكتاف المطورين أنفسهم.  اضطر العاشقون إلى الجلوس في اجتماعات ، حيث قيل لهم كيف يكتبون الخوذات ، بينما هم ، على ما يبدو ، لعنوا هذا التفاني على ماهية الضوء.  ولكن ، على الرغم من كل شيء ، نجحنا - تم توضيح جميع المهام وتعبئتها في مخططات Helm ، وتم تكوين المراقبة في شكل Grafana و Prometheus.  لقد وصلت لحظة الحقيقة. </p><br><p style=";text-align:right;direction:rtl">  وهنا ، ارتياحًا للجميع ، اتضح أن البنية الأساسية الناتجة سهلة للغاية.  عندما تم وصف كل شيء ونشره على Google ، أجرينا إحاطة لأولئك الذين يقومون بالخدمة.  كان هناك عشرة منهم ، وقام الجميع بعمل رائع: لقد قاموا برفع المتسولين ، وجمعوا الإصدار المصحح وطرحوه في مكعب. </p><br><h2 style=";text-align:right;direction:rtl">  حول التصفيات النهائية </h2><br><p style=";text-align:right;direction:rtl">  نتيجة لذلك ، تم اختيار 10 فرق نجوم للنهائيات.  لماذا ممتاز؟  والحقيقة هي أن 6 من أصل 10 فرق في بطولة العالم العشرة الأولى في CTFtime ، والأربعة المتبقية متأخرة قليلا عن المراكز العشرة الأولى ، ولكن أيضا في القمة. </p><br><p style=";text-align:right;direction:rtl">  كانت الميزة الرئيسية للبطولة هي أن النضال الأكثر عنفا لم يكن لمكان في المراكز الثلاثة الأولى ، ولكن للخط العاشر.  كان من المهم للمشاركين المشاركة في النهائيات ، وهناك إعادة ضبط الموقف ، ويمكن أن يتغير توزيع المقاعد التي قمنا بها بناءً على نتائج المسابقات التصفيات. </p><br><br><img src="https://habrastorage.org/webt/er/bh/re/erbhrehftsca65fee8fimrrdvrw.png"><br>  <i>تصفيات CTFZone 2019 النهائية</i> <br><br><h2 style=";text-align:right;direction:rtl">  ما التالي؟ </h2><br><p style=";text-align:right;direction:rtl">  علاوة على ذلك ، سيكون من الممكن الزفير قليلاً ، ثم أخذ نفسًا عميقًا مرة أخرى وبدء الاستعداد للنهائي.  سيتم عقده في تنسيق الهجوم / الدفاع ، وهذه قصة مختلفة تمامًا.  قد يتساءل شخص ما: لماذا هذا كله؟  السؤال جيد ، لكن ربما لا توجد إجابة منطقية عليه.  إنه مجرد أنه إذا كنت على الأقل لمدة 5 ثوانٍ ، فيمكنك حقًا أن تتفوق على ما يحدث ، وتشعر أنك على قيد الحياة وأن ترى الفريق الذي أنت جزء منه ، فهذا ليس هباء! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar481280/">https://habr.com/ru/post/ar481280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar481258/index.html">نحن الغراء الإطار ل schooner دون تسجيل والرسائل النصية القصيرة</a></li>
<li><a href="../ar481260/index.html">استكشاف التنسيقات الثنائية باستخدام bytecode لملف .class كمثال.</a></li>
<li><a href="../ar481264/index.html">كم عدد الأشخاص الذين يرون أيقونتك في متجر التطبيقات أثناء تطبيق "App of the Day"</a></li>
<li><a href="../ar481272/index.html">التجميد أو التحديث - ماذا نفعل في إجازة؟</a></li>
<li><a href="../ar481276/index.html">كيف خلقت YP ومترجم له لمدة 12 عاما</a></li>
<li><a href="../ar481282/index.html">ما تستحقه الفكرة وكيفية تحويلها إلى مفهوم: أدوات مصمم اللعبة</a></li>
<li><a href="../ar481286/index.html">الحصول على الطاولة! مكتب الأشياء الصغيرة التي ليست أشياء صغيرة على الإطلاق</a></li>
<li><a href="../ar481288/index.html">Redux Toolkit كأداة لتطوير Redux الفعال</a></li>
<li><a href="../ar481290/index.html">إعدادات HOW-to / Network و VLAN على خادم Hetzner و Mikrotik مخصص</a></li>
<li><a href="../ar481294/index.html">أفضل 10 أدوات أتمتة اختبار البرمجيات</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>