<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äç‚öñÔ∏è üë©üèø‚Äçü§ù‚Äçüë®üèæ ‚òùüèø Desarrollo de una nueva rama de producto: c√≥mo deshacerse de lo poco pr√°ctico y seguir siendo √∫til üçº üóúÔ∏è ü§¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Mi nombre es Dmitry, soy desarrollador en ISPsystem. Recientemente, lanzamos en versi√≥n beta una nueva versi√≥n del panel de control de la m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo de una nueva rama de producto: c√≥mo deshacerse de lo poco pr√°ctico y seguir siendo √∫til</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ispsystem/blog/441968/"><img src="https://habrastorage.org/webt/y1/x1/ec/y1x1ece2ww4irdsajxg6qeme6bw.jpeg"><br><br>  Hola Habr!  Mi nombre es Dmitry, soy desarrollador en ISPsystem.  Recientemente, lanzamos en versi√≥n beta una nueva versi√≥n del panel de control de la m√°quina virtual.  Hoy les contar√© c√≥mo decidimos qu√© tomar de un producto antiguo y qu√© es mejor rechazar.  Revisar√© los problemas m√°s importantes para nosotros: una biblioteca para trabajar con libvirt, soporte para varios sistemas operativos durante la instalaci√≥n del producto, la transici√≥n de monolitos a microservicios y la implementaci√≥n de m√°quinas virtuales. <br><br>  El art√≠culo trata sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VMmanager</a> .  Este es un sistema para administrar, implementar y monitorear m√°quinas virtuales basadas en virtualizaci√≥n KVM y OVZ.  La quinta generaci√≥n sali√≥ en 2012.  Desde entonces, la interfaz se ha vuelto muy desactualizada y la arquitectura centralizada ha impedido el desarrollo del producto.  Es hora de hacer una nueva versi√≥n. <br><a name="habracut"></a><br><h2>  La primera historia  Usamos el trabajo de los elfos dom√©sticos <br></h2><h5>  <font color="#787979">Trabaje con libvirt: considere opciones, seleccione bibliotecas</font> </h5><br>  Como herramienta para administrar la virtualizaci√≥n de KVM, nuestro producto usa libvirt.  En 2012, se eligi√≥ una biblioteca escrita en C para trabajar con ella, por lo que era m√°s conveniente para ese equipo de desarrollo.  Como resultado, una gran cantidad de c√≥digo escrito en C ++, que llama a la biblioteca C, que implementa el trabajo directo con libvirt. <br><br>  Y ahora, en el umbral de un nuevo proyecto, miramos hacia atr√°s y examinamos nuestro producto, evaluamos si vale la pena tomar una soluci√≥n / tecnolog√≠a en particular;  lo que ha demostrado y lo que necesita ser recordado y nunca repetido. <br><br>  Nos sentamos y hacemos una retrospectiva de muchos a√±os de trabajo en la versi√≥n anterior del producto.  Somos pacientes, tomamos calcoman√≠as y escribimos tres tipos de hojas de papel: <br><ol><li>  ¬øQu√© tuvo √©xito en el producto?  ¬øQu√© elogiaron los usuarios?  ¬øQu√© nunca has escuchado quejas?  ¬øQu√© te gust√≥ a ti mismo? </li><li>  ¬øQu√© fall√≥?  ¬øCu√°les fueron los problemas constantemente?  ¬øQu√© obstaculiz√≥ el trabajo y por qu√© comenzaron una nueva sucursal? </li><li>  ¬øQu√© se puede cambiar?  ¬øQu√© piden los usuarios?  ¬øQu√© quieren cambiar los miembros del equipo? </li></ol><br>  El grupo de personas que estropea celosamente el papel debe incluir tanto a aquellos que han estado en contacto cercano con el producto durante siglos, como a aquellos que pueden tener una nueva visi√≥n del producto.  No olvide la Solicitud de funciones y el gerente de producto.  Las pegatinas ya hechas est√°n pegadas al tablero, definitivamente nos ayudar√°n. <br><img src="https://habrastorage.org/webt/u8/wv/dp/u8wvdprmraomcmn1ykdj7fhht7i.png"><br>  De vuelta a la historia.  Examinamos un fragmento de c√≥digo donde el est√°ndar C ++ 98 coexiste pac√≠ficamente con las llamadas de la biblioteca C.  Recordamos que 2018 es el a√±o y decidimos dejarlo solo.  Pero, ¬øc√≥mo repetir la funcionalidad de trabajar con m√°quinas virtuales (VM), haciendo que el c√≥digo sea m√°s compacto y conveniente para el trabajo? <br><br>  Estudiamos el problema, entendemos que no importa qu√© soluci√≥n y en qu√© idioma elijamos, ser√° un contenedor sobre la biblioteca C.  Como una opci√≥n interesante, vale la pena se√±alar la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca en Go desde DigitalOcean</a> , utiliza el protocolo RPC para comunicarse directamente con libvirt, pero tiene sus inconvenientes.  Nos instalamos en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca Python</a> . <br><br>  Como resultado, obtuvimos la velocidad de escribir c√≥digo, facilidad de uso y lectura.  Vale la pena explicar estas hermosas palabras. <br><ul><li>  <b>Velocidad</b> .  Ahora podemos crear r√°pidamente un prototipo de una determinada parte del trabajo con el dominio directamente desde la consola en el servidor de depuraci√≥n, sin reconstruir la aplicaci√≥n principal. </li><li>  <b>Simplicidad</b>  En lugar de llamar a muchos m√©todos de C ++ en un determinado controlador, tenemos una llamada de secuencia de comandos Python con paso de par√°metros. </li><li>  <b>La depuraci√≥n</b> tambi√©n <b>es</b> lo m√°s r√°pida e indolora posible.  En mi opini√≥n, a la larga esto puede llevar una experiencia de usuario interesante.  Imag√≠nese, el administrador del sistema, descontento de que sus m√°quinas virtuales est√©n esperando un apagado antes de destruir, va y redefine el script para el m√©todo host_stop.  <s>¬øPuedo tambi√©n escribir un panel para ti?</s> </li></ul><br>  Como resultado, obtuvimos una herramienta simple y conveniente para trabajar con m√°quinas virtuales a nivel de servidor. <br><br><h2>  La segunda historia.  Un producto bien embalado no necesita caricias adicionales <br></h2><h5>  <font color="#787979">Distribuci√≥n del producto: rechazamos muchos paquetes y pasamos a Docker</font> </h5><br><img src="https://habrastorage.org/webt/dr/ow/wm/drowwmt-ru8iwccg64mlsjmmc8y.png"><br>  VMmanager 5 se distribuye como un conjunto de paquetes de Linux.  CentOS 6/7 y, hasta hace poco, Debian 7 son compatibles ¬øQu√© significa esto?  Esto significa m√°s servidores de compilaci√≥n para CI / CD, m√°s pruebas, m√°s atenci√≥n al c√≥digo.  Debemos recordar que cuando en el repositorio oficial de CentOS 7 qemu versi√≥n 1.5.3, en CentOS 6 es 0.12.1.  Al mismo tiempo, el usuario puede usar repositorios en los que la versi√≥n de este paquete es mucho m√°s alta.  Esto significa que debe admitir diferentes versiones de api cuando trabaje con m√°quinas virtuales, en particular, durante la migraci√≥n.  Debemos recordar la diferencia entre inicializadores (init, systemd), tener en cuenta la diferencia en los nombres de paquetes y utilidades.  Las utilidades que funcionan en CentOS no funcionar√°n en Debian, o sus versiones en los repositorios oficiales var√≠an ampliamente.  Para cada inserci√≥n, debe recopilar paquetes para todas las versiones, y es aconsejable no olvidar probarlos tambi√©n. <br><br>  Todo esto en el nuevo producto no nos conviene.  Para no admitir una l√≥gica diferente, abandonamos varios sistemas y dejamos solo CentOS 7. ¬øSe resolvi√≥ el problema?  En realidad no <br><br>  Tampoco queremos verificar la versi√≥n del sistema operativo antes de la instalaci√≥n, si las utilidades necesarias est√°n disponibles, qu√© reglas est√°n instaladas en SELinux, y no queremos reconfigurar el firewall y las listas de repositorios.  Me gustar√≠a una vez, y eso es todo, haciendo clic para <s>destruir cada segundo para</s> implementar todo el entorno y el producto en s√≠.  Se dice: hecho, el proyecto est√° envuelto en un contenedor acoplable. <br><br>  Ahora es suficiente hacer: <br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker pull vmmanager # docker run -d vmmanager:latest</span></span></code> </pre> <br>  El panel est√° en funcionamiento. <br><br>  Por supuesto, estoy exagerando, el usuario debe instalar Docker por s√≠ mismo, y tenemos m√°s de un contenedor, y actualmente VMmanager se ejecuta en modo enjambre como un servicio SaaS.  Sobre lo que encontramos al elegir Docker y c√≥mo resolverlo, puede escribir un art√≠culo por separado. <br><br>  El hecho en s√≠ mismo es lo importante que es simplificar el desarrollo, y lo m√°s importante, la implementaci√≥n de su producto, install.sh, que una vez ocup√≥ <a href="">2097 l√≠neas</a> . <br><br>  Como resultado: <br><ol><li>  Un entorno de instalaci√≥n de producto homog√©neo simplifica el c√≥digo del programa y reduce los costos de montaje y prueba. </li><li>  La distribuci√≥n de la aplicaci√≥n como un contenedor acoplable hace que la implementaci√≥n sea simple y predecible. </li></ol><br><h2>  La tercera historia.  Primera relaci√≥n con microservicios. <br></h2><h5>  <font color="#787979">Arquitectura: abandonamos el monolito en favor de microservicios, o no</font> </h5><br><img src="https://habrastorage.org/webt/h0/x5/hv/h0x5hv2builkoorlw3wxiheknru.png"><br>  La quinta versi√≥n del producto es un gran sistema monol√≠tico con el est√°ndar C ++ obsoleto.  Como resultado, la implementaci√≥n problem√°tica de nuevas tecnolog√≠as y la dificultad de refactorizar el c√≥digo heredado, escalado horizontal deficiente.  En la nueva sucursal, decidieron utilizar el enfoque de microservicio como una de las formas de evitar tales problemas. <br><br>  Los microservicios son una tendencia moderna que tiene ventajas y desventajas.  Intentar√© presentar mi visi√≥n de las fortalezas de esta arquitectura y hablar sobre la soluci√≥n de los problemas que trae al proyecto.  Vale la pena se√±alar que este ser√° el primer vistazo a la arquitectura de microservicios en la pr√°ctica desde el lado de un desarrollador ordinario.  Los aspectos que probablemente no mencionar√© est√°n cubiertos en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">buen art√≠culo de revisi√≥n</a> . <br><br><h3>  Lado positivo </h3><br>  <b>El peque√±o servicio brinda muchas oportunidades.</b> <br>  Adem√°s de la conveniencia de escribir, probar y depurar, los microservicios introdujeron un nuevo lenguaje de programaci√≥n para el proyecto.  Cuando su proyecto es un monolito, es dif√≠cil imaginar que alg√∫n d√≠a tratar√° de reescribir parte de √©l en otro idioma que le interese.  En arquitectura de microservicios, por favor.  Adem√°s del lenguaje de programaci√≥n, tambi√©n puede probar nuevas tecnolog√≠as, con la √∫nica advertencia de que todo esto estar√° justificado para el negocio.  Por ejemplo, escribimos algunos de los microservicios en Golang, mientras ahorramos una buena cantidad de tiempo. <br><br>  <b>Escalado del equipo</b> <br>  Podemos dividir a muchas personas que sol√≠an comprometerse con un repositorio e intentaron mantener la estructura del monolito en su cabeza en varios equipos.  Cada equipo se dedicar√° a su servicio.  Adem√°s, la entrada de una nueva persona en el trabajo es mucho m√°s simple y r√°pida, debido al contexto limitado en el que trabajar√°.  Por otro lado, hay menos personas que agregan conocimiento mundial, y siempre se puede conocer cualquier aspecto de un sistema enorme.  Quiz√°s con el tiempo reconsidere mi actitud a este punto. <br><br>  <b>Degradaci√≥n independiente</b> <br>  Atribuir√≠a la degradaci√≥n independiente a los lados positivo y negativo de los microservicios, porque ¬øqui√©n necesita su aplicaci√≥n si, por ejemplo, se encuentra un servicio de autorizaci√≥n?  Sin embargo, esto sigue siendo un lado positivo.  Anteriormente, la recopilaci√≥n de estad√≠sticas de varios cientos de m√°quinas virtuales hac√≠a que nuestro monolito trabajara duro, en el momento de la carga m√°xima, la espera para que la solicitud de un usuario aumente aument√≥ significativamente.  Un servicio de recopilaci√≥n de estad√≠sticas separado puede recopilarlo sin afectar a otros servicios, mientras que a√∫n puede escalarse agregando nuevo hardware o aumentando el n√∫mero de recopiladores de las mismas estad√≠sticas.  E incluso podemos seleccionar un servidor separado para Graphite, donde este servicio registra estad√≠sticas.  Con un monolito, donde hay una base, esto es imposible. <br><br><h3>  Lado negativo </h3><br>  <b>Contexto de solicitud</b> <br>  Toda mi depuraci√≥n en el monolito se redujo a dos consultas en la consola: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># tail -n 460 var/vmmgr.log | grep ERR # tail -n 460 var/vmmgr.log | grep thread_id_with_err</span></span></code> </pre> <br>  Hecho  Puedo rastrear toda la solicitud, desde su recepci√≥n hasta el sistema hasta que se produzca un error. <br><br>  Pero, ¬øqu√© pasa ahora, cuando la solicitud viaja del microservicio al microservicio, acompa√±ada de llamadas adicionales a los servicios y registros vecinos en varias bases de datos?  Para hacer esto, implementamos informaci√≥n de solicitud, que contiene el identificador de solicitud e informaci√≥n sobre el usuario o servicio que la produjo.  Por lo tanto, se hace m√°s f√°cil rastrear toda la cadena de eventos, pero el deseo es escribir un servicio de agregaci√≥n de registros, porque, despu√©s de todo, tenemos una arquitectura de microservicio.  Tambi√©n puede mirar hacia Elasticsearch, este problema est√° abierto y se resolver√° pronto. <br><br>  <b>Inconsistencia de datos</b> <br>  Los datos en microservicios est√°n descentralizados, no existe una base de datos √∫nica en la que se almacene toda la informaci√≥n.  Reflexionando sobre este art√≠culo, revis√© las principales interacciones entre microservicios en mi mente, donde podemos obtener duplicados, donde usamos transacciones entre redes, y me di cuenta de que resolvimos el problema de la inconsistencia con un monolito. <br><br>  Realmente construimos un monolito con una base principal, envolviendo la mayor√≠a de las acciones transaccionales en √©l.  Y alrededor del monolito se recopilaron todos los microservicios que no afectan la consistencia de los datos principales.  La excepci√≥n es un mont√≥n de autorizaci√≥n de servicio + monolito.  El problema en este caso es que la base de datos de la aplicaci√≥n base no contiene usuarios como tales, sus roles y par√°metros adicionales, todo esto est√° en el servicio de autorizaci√≥n. <br><br>  El usuario del sistema puede trabajar con m√°quinas virtuales en un monolito, mientras que en el servicio de autorizaci√≥n sus derechos pueden cambiar o quedar√° completamente bloqueado.  El sistema debe responder a esto de manera oportuna.  En esta situaci√≥n, la consistencia de los datos se logra al verificar los par√°metros del usuario antes de ejecutar cualquier solicitud. <br><br>  En cuanto a los microservicios restantes, la imposibilidad de registrarse en el servicio de estad√≠sticas no afecta el funcionamiento de la m√°quina virtual, y esta acci√≥n siempre se puede repetir.  Bueno, estamos haciendo un microservicio de recopilaci√≥n de estad√≠sticas.  Pero el servicio de dominio definido (crear una m√°quina virtual usando libvirt) nunca ver√° la luz, ya que qui√©n necesita un espacio en blanco de la m√°quina sin su existencia real. <br><br><h2>  La cuarta historia.  Fresco es enemigo de lo bueno <br></h2><h5>  <font color="#787979">Implementaci√≥n de VM: instalaci√≥n desde im√°genes en lugar de instalaci√≥n sobre una red</font> </h5><br>  En la quinta versi√≥n del producto, el despliegue de una m√°quina virtual lleva bastante tiempo seg√∫n los est√°ndares reales.  La raz√≥n de esto es instalar el sistema operativo en la red. <br><br>  Para Centos, Fedora, RedHat es el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√©todo kickstart</a> : <br>  1. Cree un archivo kickstart. <br>  2. Especifique el enlace al archivo de respuesta en los par√°metros del kernel linux inst.ks = &lt;enlace al archivo kickstart&gt;. <br>  3. Ejecute la instalaci√≥n kickstart. <br><br>  Kickstart-file es bastante flexible, en √©l puede describir todos los pasos de la instalaci√≥n, comenzando por su m√©todo y configurando la zona horaria, terminando con la partici√≥n del disco y configurando la red.  El par√°metro url en nuestras plantillas indica que la instalaci√≥n es desde un servidor remoto. <br><br>  Para Debian y Ubuntu, el m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">preestablecido</a> : <br>  Es similar al anterior, este m√©todo tambi√©n se basa en el archivo de configuraci√≥n y sus contenidos.  En √©l, tambi√©n configuramos la instalaci√≥n a trav√©s de la red. <br><br>  La instalaci√≥n de FreeBSD es similar, pero en lugar de un archivo kickstart, hay un script de shell de nuestra propia producci√≥n. <br><br><h3>  Aspectos positivos del enfoque. </h3><br>  Esta opci√≥n de instalaci√≥n le permite utilizar una plantilla en nuestros dos productos: VMmanager y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DCImanager</a> (gesti√≥n de servidores dedicados). <br><br>  La implementaci√≥n de m√°quinas virtuales es bastante flexible, el administrador del panel puede simplemente copiar la plantilla del sistema operativo y cambiar el archivo de configuraci√≥n como lo considere conveniente. <br><br>  Todos los usuarios siempre tienen versiones actualizadas de los sistemas operativos si se actualizan de manera oportuna en un servidor remoto. <br><br><img src="https://habrastorage.org/webt/8w/z_/bk/8wz_bkz62ncaywrpb3mbd-eoyae.png"><br><br><h3>  Lado negativo </h3><br>  Como ha demostrado la pr√°ctica, los usuarios de VMmanager no necesitaban flexibilidad de instalaci√≥n: en comparaci√≥n con los servidores dedicados, pocas personas se preocupaban por la configuraci√≥n espec√≠fica de los archivos kickstart para m√°quinas virtuales.  Pero esperar la instalaci√≥n del sistema operativo fue realmente un lujo inadmisible.  La otra cara de la relevancia de los sistemas operativos es que parte del instalador est√° en la red y parte es local para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">initrd</a> .  Y sus versiones deben coincidir. <br><br>  Estos son problemas solucionables.  Puede crear un grupo de m√°quinas instaladas y crear su propio repositorio para sistemas operativos, pero esto conlleva costos adicionales. <br><br>  ¬øC√≥mo resolver estos problemas sin crear repositorios y grupos?  Seleccionamos archivos de imagen del sistema operativo.  Ahora el proceso de instalaci√≥n se ve as√≠: <br>  1. Copiar la imagen del sistema operativo en el disco de la m√°quina virtual. <br>  2. Aumente la secci√≥n principal de la imagen en el tama√±o del espacio libre despu√©s de la copia. <br>  3. Configuraci√≥n b√°sica (configuraci√≥n de una contrase√±a, zona horaria, etc.). <br><br>  Todo lo nuevo est√° bien olvidado de lo viejo.  Utilizamos im√°genes del sistema operativo en VDSmanager-Linux, el progenitor de VMmanager. <br><br>  Pero, ¬øqu√© pasa con la flexibilidad de instalaci√≥n?  La pr√°ctica ha demostrado que la mayor√≠a de los usuarios no est√°n interesados ‚Äã‚Äãen configuraciones de red espec√≠ficas y mapeo de disco en m√°quinas virtuales. <br>  ¬øY la relevancia de los datos?  Se puede lograr mediante la presencia de im√°genes con las √∫ltimas versiones del sistema operativo en el repositorio, y se pueden instalar actualizaciones menores en el script de configuraci√≥n inicial.  Por lo tanto, la m√°quina virtual ya estar√° creada y ejecut√°ndose, y yendo a ella, encontrar√° la actualizaci√≥n yum condicional ejecut√°ndose. <br><br>  A cambio, obtenemos una m√°quina virtual lista para usar, cuya implementaci√≥n depende solo de copiar el disco, aumentar la partici√≥n del disco e iniciar el sistema operativo.  La implementaci√≥n de este enfoque para trabajar con m√°quinas nos da la oportunidad de crear nuestras propias im√°genes y compartirlas.  El usuario puede instalar un paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LAMP</a> o alg√∫n entorno complejo en la m√°quina virtual, luego hacer una imagen de esta m√°quina.  Ahora, otras personas no tendr√°n que perder el tiempo instalando las utilidades necesarias. <br><br>  Implementamos la configuraci√≥n y modificaci√≥n de particiones usando las utilidades de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">suite libguestfs</a> .  Por ejemplo, cambiar una contrase√±a en una m√°quina Linux cambi√≥ de 40 l√≠neas de c√≥digo, que consisten en mount, chroot y usermod, en una sola l√≠nea: <br><br><pre> <code class="cpp hljs">command = <span class="hljs-string"><span class="hljs-string">"/usr/bin/virt-customize --root-password password:{password} --domain '{domain_name}'"</span></span>.format(password=args.password, domain_name=args.domain_name)</code> </pre> <br>  Como resultado, hicimos que la m√°quina virtual terminada fuera lo m√°s r√°pida posible.  Vale la pena hacer un comentario de que con la configuraci√≥n de la red y la instalaci√≥n de scripts internos, el tiempo de implementaci√≥n ha aumentado ligeramente.  Resolvimos este problema mostrando los pasos de instalaci√≥n en el extremo frontal, completando as√≠ la pausa formada entre la creaci√≥n y la preparaci√≥n completa de la m√°quina. <br><br>  Tambi√©n obtuvimos un enfoque m√°s flexible para implementar m√°quinas virtuales, en funci√≥n del cual es conveniente crear sus propias im√°genes con el entorno necesario. <br><br><h2>  ¬øQu√© lograste hacer? </h2><br>  En la sexta versi√≥n del producto, tratamos de tener en cuenta el principal inconveniente de la quinta: la complejidad de la interacci√≥n del usuario con el producto.  Hemos reducido el tiempo de entrega de acciones clave.  Junto con una interfaz sin bloqueo, esto permite trabajar con el panel sin una espera forzada.  La contenedorizaci√≥n ha hecho que el proceso de instalaci√≥n del producto sea m√°s f√°cil y m√°s conveniente.  El uso de tecnolog√≠as modernas y varios lenguajes de programaci√≥n ha simplificado el soporte y el mantenimiento tanto para programadores como para especialistas en soporte t√©cnico.  El cambio a microservicios permiti√≥ agregar nuevas funciones r√°pidamente y con restricciones menores. <br><br>  En conclusi√≥n, quiero decir que el nuevo producto es una buena oportunidad para probar otros enfoques de desarrollo, nuevas tecnolog√≠as.  Vale la pena recordar por qu√© est√° haciendo esto, qu√© cosas nuevas traer√° a usted y a sus usuarios.  ¬°A por ello! <br><br><blockquote>  Invitamos a la comunidad Habr a ver la versi√≥n beta de VMmanager 6 y dejar sus comentarios.  Para hacer esto, vaya a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">my.saasvm.com</a> , inicie sesi√≥n y conecte un servidor dedicado (CentOS 7 x64, acceso a Internet, direcci√≥n IP p√∫blica). <br><br>  Si no tiene un servidor, escr√≠banos a <a href="">help@ispsystem.com</a> o <a href="">chatee</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el sitio</a> , le proporcionaremos equipos de prueba de nuestro socio, Selectel. <br><br>  Lea m√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en las noticias en el sitio web del ISPsystem</a> . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/441968/">https://habr.com/ru/post/441968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441954/index.html">Recompensa del usuario a los autores de Habr</a></li>
<li><a href="../441956/index.html">Manejo unificado de errores (opci√≥n C ++ para microcontroladores)</a></li>
<li><a href="../441962/index.html">√çndices en PostgreSQL - 1</a></li>
<li><a href="../441964/index.html">Consejos y trucos de Kubernetes: reubicar recursos del cl√∫ster en Helm 2</a></li>
<li><a href="../441966/index.html">Kit de inicio de pruebas de seguridad web</a></li>
<li><a href="../441970/index.html">An√°lisis FinFisher Butkit</a></li>
<li><a href="../441972/index.html">Invidious - interfaz de YouTube alternativa</a></li>
<li><a href="../441974/index.html">El camino del historiador de RRHH a programadores Java: un poco de suerte y perseverancia</a></li>
<li><a href="../441976/index.html">Contigo FizTech.Science: buscamos par√°metros ocultos y nos sumergimos en el maravilloso mundo cu√°ntico</a></li>
<li><a href="../441978/index.html">Pruebas funcionales de las habilidades de Yandex Alice en Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>