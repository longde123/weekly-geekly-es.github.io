<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôèüèº üå®Ô∏è üë¨ Interrupteurs tactiles avec Modbus: pourquoi sont-ils n√©cessaires et comment les appliquer dans un appartement intelligent üëù ‚öïÔ∏è üßõüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les syst√®mes √©conomiques d'une maison intelligente, des commutateurs standard sont g√©n√©ralement utilis√©s - leur type de sortie est √©galement appe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interrupteurs tactiles avec Modbus: pourquoi sont-ils n√©cessaires et comment les appliquer dans un appartement intelligent</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirenboard/blog/417093/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/up/wo/hl/upwohlfmxuv_nz9mr5vatxwj3ky.jpeg" width="600"></div><br>  Dans les syst√®mes √©conomiques d'une maison intelligente, des commutateurs standard sont g√©n√©ralement utilis√©s - leur type de sortie est √©galement appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´contact sec¬ª</a> .  Cependant, ce n'est pas la seule option: √† la recherche d'un magnifique commutateur, je suis tomb√© sur des appareils avec le protocole Modbus RTU √† l'int√©rieur.  En plus de leur belle apparence, ils vous permettent de configurer le mode de fonctionnement de chaque bouton, de contr√¥ler le r√©tro-√©clairage en d√©tail et de les connecter au contr√¥leur central (j'ai utilis√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wiren Board 5</a> ), quatre fils suffisent - alimentation, terre et deux lignes pour RS-485. <br><br>  Comment connecter un tel interrupteur et configurer le contr√¥le de la lumi√®re et de la ventilation √† partir de celui-ci, voir ci-dessous.  L'article d√©crira √©galement en d√©tail comment travailler avec les appareils Modbus en g√©n√©ral. <br><a name="habracut"></a><br>  <i>Explication du marketeur Wiren Board: Cet article est n√© d'un sujet cr√©√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Kallyanbl4</a> dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notre forum</a> .</i>  <i>Apr√®s notre demande, il a √©crit un article √† part enti√®re et a permis de le publier sur notre blog, dont un grand merci √† lui.</i>  <i>Tout le texte est √©crit par l'auteur, √† l'exception des notes √† la fin.</i> <br><br><h3>  Description des interrupteurs </h3><br>  Apr√®s avoir √©tudi√© ce qui est maintenant sur le march√©, j'ai achet√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ces</a> commutateurs int√©ressants aux Chinois: <br><br><img src="https://habrastorage.org/webt/xw/lm/5_/xwlm5_ynjxrtogilijnfvqxd4bk.jpeg" width="600"><br><br>  Leurs avantages: <br><br><ul><li>  bon design; </li><li>  interrupteurs tactiles, lorsqu'ils sont enfonc√©s, clignotent, √©clair√©s dans l'obscurit√© dans une agr√©able couleur blanche; </li><li>  prix relativement bas - 2000 roubles chacun.  Le prix comprend la gravure laser individuelle; </li><li>  interrupteur programmable - vous pouvez r√©gler le bouton pour presque n'importe quelle action: allumer la lumi√®re, contr√¥ler les LED, lever / abaisser le rideau, ... </li></ul><br>  Sp√©cifications du commutateur: <br><br><ul><li>  tension d'alimentation - 12 V; </li><li>  taux de transfert de donn√©es - 19200 bit / s; </li><li>  nombre de bits transmis - 8; </li><li>  nombre de bits d'arr√™t - 1; </li><li>  contr√¥le de parit√© - pas de v√©rification. </li></ul><br>  Lorsque vous travaillez sur Modbus RTU, les appareils connect√©s ont les soi-disant registres - cellules dans lesquelles les informations sont stock√©es.  Dans la capture d'√©cran, une description des registres du commutateur √† quatre touches: <br><br><img src="https://habrastorage.org/webt/jc/ve/uz/jcveuzacmo7a4kscyvauqrd0fec.jpeg"><br><br>  Lorsque vous cliquez sur l'un des boutons tactiles, les valeurs dans les registres 0-3 passent de 0 √† 1. <br><br><h3>  Disjoncteur </h3><br>  Dans le contr√¥leur Wiren Board 5, selon la configuration, il y a de deux √† quatre ports RS-485.  Les commutateurs (dans mon cas, il y en a 27) doivent √™tre connect√©s √† ces ports. <br><br>  Dans ce cas, tous les commutateurs peuvent fonctionner sur un bus commun.  Les commutateurs peuvent √™tre connect√©s en s√©rie, conduisant le c√¢ble d'un commutateur √† un autre, mais j'ai d√©cid√© de connecter tous les c√¢bles dans un blindage. <br><br>  C√¢ble de connexion - UTP Cat 5e √† huit conducteurs.  Vous pouvez utiliser un quatre c≈ìurs, mais je fais g√©n√©ralement tout au "cas o√π".  Vous pouvez envisager d'autres c√¢bles √† quatre conducteurs, mais le point important est que le c√¢ble doit √™tre blind√©, car m√™me en d√©pit des fr√©quences de signal assez faibles, les pertes et les micros ne sont pas exclus. <br><br>  En cons√©quence, tous les commutateurs sont interconnect√©s comme indiqu√© dans l'image: <br><br><img src="https://habrastorage.org/webt/5e/bg/vg/5ebgvgcgc-u6uamikfwmpudrcqm.jpeg" width="400"><br><br>  Comme le montre la figure, tous les commutateurs sont interconnect√©s √† l'aide d'un commutateur UTP passif.  Pour les c≈ìurs 1 et 2 (orange et blanc-orange), les donn√©es sont transmises (lignes A et B), une alimentation 12 V est connect√©e aux c≈ìurs 7 et 8 (marron et blanc-brun). J'utilise Mean Well NDR-75-12 comme source d'alimentation . <br><br>  Je ne savais pas comment se comportait le commutateur UTP chinois passif.Par cons√©quent, lors de la conception du blindage, j'ai fourni une place pour un commutateur RS-423 actif.  Je note que le circuit fonctionne √† la fois via des commutateurs passifs et actifs.  Et m√™me lorsqu'ils sont connect√©s ensemble. <br><br><img src="https://habrastorage.org/webt/b3/ur/at/b3urat_0w80cu1lw3lnp1jf_o50.jpeg" width="400"><br><br><h3>  Contr√¥le de la lumi√®re par relais </h3><br>  Selon mon projet, 27 appareils ind√©pendants (lumi√®re, ventilateurs) sont pr√©vus dans l'appartement, aliment√©s en 220 V. Trois modules relais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WBIO-DO-R10A-8</a> et un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WBIO-DO-R10R-4</a> ont √©t√© s√©lectionn√©s pour les contr√¥ler.  Le choix est d√ª au fait que presque tout l'√©clairage de l'appartement est √† LED, ce qui diff√®re des lampes √† incandescence par un courant de d√©marrage √©lev√©.  Les relais s√©lectionn√©s sont capables de fournir une commutation de courant jusqu'√† 10 A par canal, ce qui dans mon cas n'est pas n√©cessaire - mais, comme mentionn√© pr√©c√©demment, ¬´juste au cas o√π avec une marge¬ª. <br><br><img src="https://habrastorage.org/webt/pd/ov/yy/pdovyyz0vwsmyp9jbsn7nyx7gca.jpeg" width="400"><br><br>  La commutation des relais s'effectue via l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interface Web du contr√¥leur</a> .  La proc√©dure est intuitive, aucune instruction ou astuce n'est requise. <br><br><h3>  Partie logiciel </h3><br>  <b>Fichier de port</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nous</a> apprenons de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">description mat√©rielle de Wiren Board 5</a> qu'elle a deux ports de p√©riph√©rique <i>/ dev / ttyAPP1</i> et <i>/ dev / ttyAPP4</i> correspondant √† deux ports RS-485.  Dans mon cas, le commutateur est connect√© au port <i>/ dev / ttyAPP1</i> . <br><br>  <b>Adresse du p√©riph√©rique (commutateur)</b> <br><br>  Lors de l'√©change de donn√©es √† l'aide du protocole Modbus RTU, chaque appareil est identifi√© par son propre num√©ro unique - l'adresse Modbus.  En r√®gle g√©n√©rale, le fabricant indique cette adresse sous la forme de trois chiffres sur l'appareil lui-m√™me, mais s'il n'y a pas un tel num√©ro sur l'appareil, vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parcourir les adresses √† partir de la ligne de commande</a> (il est utilis√© que l'adresse soit stock√©e dans le registre Modbus 0x80): <br><br><pre><code class="bash hljs">root@wirenboard:~<span class="hljs-comment"><span class="hljs-comment"># service wb-mqtt-serial stop root@wirenboard:~# for i in {1..247}; do modbus_client -mrtu /dev/ttyAPP1 --debug -a$i -t3 -r0x80 -s1 -pnone; done 2&gt;/dev/null | grep Data:</span></span></code> </pre> <br>  Le r√©sultat doit √™tre sous la forme: <br><br><pre> <code class="bash hljs">Data: 0x008e</code> </pre><br>  R√©ponse re√ßue au format hexad√©cimal et correspond √† 142 en d√©cimal. <br>  Il convient de noter que chaque fois que l'utilitaire <i>modbus_client</i> est <i>appel√©</i> , la norme de pilote d'interrogation <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s√©rie wb-mqtt-serial</a></i> pour le contr√¥leur doit √™tre arr√™t√©e;  sinon, l'utilitaire <i>modbus_client</i> ne fonctionnera pas. <br><br>  <b>√âchange de donn√©es entre le commutateur et la carte Wiren</b> <br><br>  Ci-dessus, une boucle est √©crite qui interroge toutes les adresses Modbus possibles et renvoie la valeur d'adresse si un appareil est trouv√©.  La boucle utilise l'utilitaire <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modbus_client</a></i> , qui est n√©cessaire pour d√©boguer les appareils connect√©s.  √Ä ce stade, en l'utilisant, nous nous assurerons que tout est correctement connect√© et que le commutateur interagit correctement avec le contr√¥leur.  Pour ce faire, essayez de lire les donn√©es dans le commutateur de registre 0x01: <br><br><pre> <code class="bash hljs">root@wirenboard:~<span class="hljs-comment"><span class="hljs-comment"># service wb-mqtt-serial stop root@wirenboard:~# modbus_client -mrtu /dev/ttyAPP1 --debug -a142 -s1 -pnone -b19200 -a142 -t0x03</span></span></code> </pre><br>  (une description de l'utilitaire et de ses cl√©s se trouve dans la documentation du contr√¥leur). <br><br>  Le r√©sultat sera le suivant: <br><br><pre> <code class="bash hljs">Opening /dev/ttyAPP1 at 19200 bauds (N, 8, 1) [8E][03][00][64][00][01][DA][EA] Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a confirmation... &lt;8E&gt;&lt;03&gt;&lt;02&gt;&lt;00&gt;&lt;01&gt;&lt;2C&gt;&lt;5B&gt; SUCCESS: <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> 1 of elements: Data: 0x0001</code> </pre><br>  Un tel r√©sultat signifie qu'une valeur discr√®te 1 est √©crite dans le registre. Apr√®s avoir appuy√© sur l'un des boutons du commutateur, la valeur du registre passera √† la valeur oppos√©e: <br><br><pre> <code class="bash hljs">SUCCESS: <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> 1 of elements: Data: 0x0000</code> </pre><br>  Si le r√©sultat est observ√©, comme dans ce paragraphe, alors tout est correctement connect√©, le commutateur et le contr√¥leur se comprennent. <br><br>  <b>Pilote natif pour le commutateur</b> <br><br>  Apr√®s nous √™tre assur√©s que le contr√¥leur et le commutateur se comprennent, il est temps de donner une description des touches du commutateur au niveau du logiciel.  Les d√©veloppeurs sugg√®rent d'ajouter une description de l'appareil connect√© au fichier /etc/wb-mqtt-serial.conf ou de cr√©er un mod√®le personnalis√© sous la forme du fichier /usr/share/wb-mqtt-serial/templates/config-*.json <br><br>  Je suis all√© dans la deuxi√®me voie, mon mod√®le ressemble √† ceci: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"4-band-switch"</span></span>, <span class="hljs-string"><span class="hljs-string">"device"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"4-band-switch"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"4bsw"</span></span>, <span class="hljs-string"><span class="hljs-string">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"channels"</span></span>: [{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"All"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x00"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Window"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x01"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Side"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x02"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Diode"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x03"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> } ] } }</code> </pre><br>  Une description d√©taill√©e du mod√®le √©crit ci-dessus se trouve dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">description du pilote <i>wb-mqtt-serial</i></a> .  Traitez bri√®vement les domaines: <br><br><ul><li>  "Nom": "Tout" est le nom du bouton.  Si le mod√®le est correctement orthographi√©, ce bouton appara√Ætra dans l'onglet Param√®tres avec l'adresse <i>/ appareils / 4bsw_142 / contr√¥les / Tous</i> </li><li>  "Reg_type": "holding" - type et taille du registre.  Le commutateur utilise le ¬´maintien¬ª - un registre 16 bits disponible pour la lecture et l'√©criture. </li><li>  "Adresse": "0x00" - l'adresse du registre de commutation √† partir de laquelle le contr√¥leur lira les donn√©es. </li><li>  ¬´Type¬ª: ¬´commutateur¬ª - comment le commutateur sera affich√© dans l'interface Web.  Dans le cas de "commutateur" - sous la forme d'un commutateur discret. </li></ul><br>  Enregistrez le mod√®le sur le contr√¥leur.  Apr√®s cela, dans la section de l'interface Web (Configs -&gt; /etc/wb-mqtt-serial.conf), vous pouvez ajouter un nouveau p√©riph√©rique avec ce mod√®le (commutateur 4 bandes).  Ajoutez notre premier commutateur et cliquez sur Enregistrer. <br><br><h4>  La r√®gle qui active le relais lorsque le bouton de l'interrupteur est enfonc√© </h4><br>  √Ä l'int√©rieur du contr√¥leur d'√©tat, tous les appareils connect√©s sont d√©crits par des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">messages MQTT</a> .  Les appareils sont √©galement contr√¥l√©s par l'envoi de messages MQTT.  Les clients de la file d'attente de messages MQTT (courtier) sont √† la fois l'interface Web et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le moteur de r√®gles</a> . <br><br>  Pour plus de clart√©, nous verrons comment l'interface Web g√®re le message entrant.  Nous ouvrons l'onglet Param√®tres de l'interface Web et voyons ce qui se passe lorsque le bouton Tout est enfonc√© sur le commutateur: √† l'int√©rieur du commutateur, la valeur du registre Modbus change, le pilote <i>wb-mqtt-serial</i> interroge le commutateur et, conform√©ment au mod√®le d'appareil, le commutateur √† 4 bandes envoie un message MQTT dans la rubrique <i>/ devices / 4bsw_142 / Controls / All</i> - et sur la page Param√®tres, la valeur dans la rubrique <i>/ Devices / 4bsw_142 / Controls / All</i> passera instantan√©ment de 0 √† 1. <br><br>  Prenons le deuxi√®me client, le moteur de r√®gles.  Le moteur, comme l'interface Web, fonctionne avec la file d'attente de messages et peut r√©pondre aux modifications de la valeur - la fonction <i>whenChanged</i> est utilis√©e pour cela.  Dans mon cas, la r√®gle ressemblait √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   defineRule("switch_all", { whenChanged: "4bsw_142/All", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT3_R3A2"] = newValue; dev["wb-gpio"]["EXT3_R3A5"] = newValue; dev["wb-gpio"]["EXT1_R3A1"] = newValue; dev["wb-gpio"]["EXT1_R3A2"] = newValue; dev["wb-gpio"]["EXT1_R3A5"] = newValue; dev["wb-gpio"]["EXT2_R3A8"] = newValue; dev["wb-gpio"]["EXT3_R3A7"] = newValue; } }); //  defineRule("switch_window", { whenChanged: "4bsw_142/Window", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT4_ON4"] = newValue; // dev["wb-gpio"]["EXT3_R3A6"] = newValue; // dev["wb-gpio"]["EXT3_R3A7"] = newValue; } }); // defineRule("switch_side", { whenChanged: "4bsw_142/Side", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT1_R3A3"] = newValue; dev["wb-gpio"]["EXT1_R3A4"] = newValue; dev["wb-gpio"]["EXT2_R3A1"] = newValue; } }); // defineRule("switch_diode", { whenChanged: "4bsw_142/Diode", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT2_R3A2"] = newValue; dev["wb-gpio"]["EXT2_R3A3"] = newValue; dev["wb-gpio"]["EXT3_R3A3"] = newValue; } });</span></span></code> </pre><br>  Je me ferai un plaisir de r√©pondre √† toutes les questions dans les commentaires. <br><br><h3>  Notes du marketing </h3><br><ol><li>  Il est pr√©f√©rable de poser la ligne RS-485 avec un c√¢ble KSPEVG 2x2x0,35 (cela ne co√ªte que 30 roubles par m√®tre), et non pas avec une √©toile, mais avec un bus. </li><li>  Nous vous conseillons d'√™tre prudent avec les lampes LED - leur courant de d√©marrage peut d√©passer le 150 (!) Fois nominal (ce sera un article s√©par√©) - regardez les puissants modules de relais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WB-MR6</a> : courant 16 A par canal, y compris le courant d'appel jusqu'√† 800 (!) Ampli en modification S. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417093/">https://habr.com/ru/post/fr417093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417083/index.html">Fortes charges de la Coupe du monde 2018</a></li>
<li><a href="../fr417085/index.html">Les navigateurs coupent le son dans votre application WebRTC. Arr√™te quoi?</a></li>
<li><a href="../fr417087/index.html">HPE Digitize 2018: √©v√©nement et diffusion en direct</a></li>
<li><a href="../fr417089/index.html">Ordinateur quantique: un photon pour tout gouverner</a></li>
<li><a href="../fr417091/index.html">Cr√©ez un shader d'eau de dessin anim√© pour le Web. 3e partie</a></li>
<li><a href="../fr417097/index.html">M√©taprogrammation JavaScript</a></li>
<li><a href="../fr417099/index.html">Comment ai-je √©crit la biblioth√®que C ++ 11 standard ou pourquoi boost est si effrayant. Chapitre 2</a></li>
<li><a href="../fr417101/index.html">D√©finition de pr√™t - ce que nous avons oubli√© de dire</a></li>
<li><a href="../fr417103/index.html">Spark SQL. Un peu sur l'optimiseur de requ√™tes</a></li>
<li><a href="../fr417105/index.html">Impression sur une imprimante 3D. Exp√©riences secr√®tes de 3Dtool</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>