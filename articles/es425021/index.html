<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüè≠ ‚û°Ô∏è üë®üèº‚Äçüé® Estamos buscando una biblioteca universal r√°pida para trabajar con archivos gr√°ficos, entiendo el punto de referencia de Google „ÄΩÔ∏è üßú üêØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy en d√≠a, cuando las redes neuronales aran las extensiones de Big Data, y la inteligencia artificial est√° considerando si es rentable para √©l obtene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estamos buscando una biblioteca universal r√°pida para trabajar con archivos gr√°ficos, entiendo el punto de referencia de Google</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/425021/"><img src="https://habrastorage.org/webt/2_/2t/wx/2_2twxajpekzwruuxeno7ssg3l4.jpeg"><br><br>  Hoy en d√≠a, cuando las redes neuronales aran las extensiones de Big Data, y la inteligencia artificial est√° considerando si es rentable para √©l obtener un salario por su trabajo en Bitcoin, la tarea que tuve fue encontrar la biblioteca multiplataforma abierta m√°s r√°pida para cargar, guardar y transcodificar archivos gr√°ficos parec√≠a un anacronismo real .  Pero, de hecho, esta tarea es m√°s relevante que nunca: para todas las tecnolog√≠as de visi√≥n artificial y aprendizaje autom√°tico, se deben descargar gigabytes de im√°genes y, a veces, los datos intermedios se deben guardar como im√°genes.  Entonces, hacer esto de la manera m√°s r√°pida es muy deseable.  En este art√≠culo encontraremos la biblioteca que estamos buscando y, lo m√°s importante, trataremos con un producto muy √∫til que simplifica enormemente tareas similares y muchas otras: Google Benchmark. <br><a name="habracut"></a><br>  Entonces, la declaraci√≥n exacta del problema dice: en la aplicaci√≥n, los archivos jpeg y tiff con profundidad de color de 24 y 8 bits, as√≠ como bmp de 32 bits, se cargan en la memoria.  Los tama√±os de imagen var√≠an de peque√±os (32x32 p√≠xeles) a grandes, con una resoluci√≥n de 15K.  En el proceso, los archivos se modifican, despu√©s de lo cual deben guardarse en el disco en los formatos especificados.  Y esto debe hacerse mediante una biblioteca de c√≥digo abierto multiplataforma que tenga el m√°ximo rendimiento en los procesadores Intel modernos con soporte para instrucciones vectoriales AVX2.  La biblioteca tambi√©n es compatible con la biblioteca de formatos de textura comprimida DirectX DXT1.  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componente de im√°genes de Windows</a> se toma como punto de referencia para el rendimiento: el marco est√°ndar para trabajar con im√°genes en Windows, es decir, necesita encontrar una biblioteca que funcione en pie de igualdad o m√°s r√°pido que WIC. <br><br>  Pero el requisito m√°s importante es que se necesita una soluci√≥n en este momento, pero mejor ayer. <br><br><h2>  <font color="#0071c5">Conozca las bibliotecas para trabajar con bmp, tiff, jpeg</font> </h2><br>  La soluci√≥n comienza con un paso obvio y sin complicaciones, aunque no muy r√°pido: un estudio exhaustivo de <s>Wikileaks</s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">stackoverflow</a> y otros google en busca de candidatos adecuados para el papel de la biblioteca deseada.  Hab√≠a pocos de esos: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>FreeImage</b></a> .  Un shell sobre las famosas bibliotecas LibJPEG, LibPNG, LibTIFF.  El soporte DXT1 est√° presente a trav√©s del complemento.  La desventaja es que la calidad del ahorro de JPEG en la API se establece de manera demasiado discreta: 100, 75.50 y 25%.  Para cambiar este par√°metro, deber√° comprender y editar el c√≥digo.  El proyecto est√° activo y en desarrollo: la √∫ltima versi√≥n 3.18.0 se lanz√≥ el 31 de julio de 2018. El ensamblaje en Windows es trivial, todos los componentes se crean autom√°ticamente. </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>Cimg Este</b></a> es un contenedor de archivos de encabezado C ++ sobre un antiguo paquete de <s>artefactos</s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ImageMagick</a> .  El paquete requiere una instalaci√≥n de compilaci√≥n separada, tambi√©n es posible usarlo directamente, sin pasar por Cimg.  Tiene muchas posibilidades para trabajar con im√°genes: filtros, transformaciones, definici√≥n de morfolog√≠a, etc.  Admite HDR, no admite DXT1. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>DevIL</b></a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Biblioteca de im√°genes del desarrollador</a> ).  Una biblioteca C muy sencilla de estilo OpenGL.  Contiene un shell sobre LibJPEG, LibPNG, LibTIFF, pero tambi√©n tiene una amplia funcionalidad incorporada, adem√°s admite muchos formatos de imagen, incluido DXT1.  Para el montaje utiliza CMake.  La mayor√≠a de las dependencias, incluidas LibJPEG, LibPNG, LibTIFF, no est√°n incluidas en DevIL y deben descargarse y compilarse por separado.  La √∫ltima actualizaci√≥n de DevIL con respecto al sistema de compilaci√≥n tiene fecha 01/01/2017, y la anterior generalmente ocurri√≥ en 2014, por lo que si hay posibles problemas con la biblioteca, puede haber problemas con su soluci√≥n. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>OpenImageIO</b></a> .  Se posiciona como una herramienta de desarrollo de software profesional para trabajar con im√°genes.  Es compatible en forma de complementos que funcionan con muchos formatos de fotos ex√≥ticas e incluso video.  Build for Windows requiere Boost y Qt 4. precompilados. No hay una versi√≥n ensamblada ya preparada para las pruebas. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>Boost GIL</b></a> (Biblioteca de im√°genes gen√©ricas) Boost y eso es todo.  Aunque no todos.  Esta biblioteca tambi√©n contiene un contenedor sobre LibJPEG, LibPNG y LibTIFF. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>SDL_image 2.0</b></a> Se utiliza con la biblioteca SDL y, se reir√°, pero tambi√©n contiene un shell sobre LibJPEG, LibPNG y LibTIFF. </li></ul><br>  Todas las bibliotecas encontradas se compilaron en Windows utilizando el nivel m√°ximo de optimizaci√≥n del compilador de Visual Studio y el modificador / arch: AVX2. <br><br>  Lo mismo se aplica a las bibliotecas LibJPEG, LibPNG y LibTIFF, para acelerar el trabajo tomado del nuevo paquete de la <a href="">biblioteca OpenCV</a> . <br><br><h2>  <font color="#0071c5">Conoce el punto de referencia de Google</font> </h2><br>  El siguiente paso de la soluci√≥n tambi√©n es obvio: crear un punto de referencia para comparar el rendimiento de las bibliotecas encontradas, y el uso de la biblioteca de microbenchmarking de Google Benchmark, ampliamente conocida en c√≠rculos estrechos, lo hace simple y r√°pido. <br>  Google Benchmark puede medir con precisi√≥n el rendimiento de los fragmentos de c√≥digo que insert√≥ en el cuerpo del ciclo C ++ 11. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BM_foo1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(benchmark::State&amp; state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     Init_your_code(); for (auto _ : state){ //  -  your_code_to_benchmark(); }</span></span></code> </pre> <br>  en funciones registradas como referencia <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//       BENCHMARK(BM_foo1);</span></span></code> </pre><br>  Y ejecutarlos: <br><br><pre> <code class="cpp hljs">BENCHMARK_MAIN();</code> </pre> <br>  Luego emita un informe en el formato especificado: salida de la consola, json, csv. <br><br>  El informe contendr√° datos sobre el sistema de ejecuci√≥n (procesador, configuraci√≥n de cach√©), el tiempo operativo global total de cada una de las funciones medidas, as√≠ como el tiempo que le toma al procesador.  Estos tiempos generalmente difieren: el primero, por ejemplo, incluye un retraso de lectura / escritura, y el segundo para puntos de referencia de subprocesos m√∫ltiples es la suma del tiempo de funcionamiento de todos los n√∫cleos. <br><br>  El √∫ltimo par√°metro que muestra el punto de referencia de Google es el n√∫mero de iteraciones realizadas para la funci√≥n, que es necesaria para una medici√≥n precisa estad√≠sticamente correcta de su tiempo de operaci√≥n.  El sistema lo selecciona usted mismo, autom√°ticamente, haciendo mediciones preliminares. <br><br>  ¬øQu√© es una "medici√≥n precisa" del tiempo de ejecuci√≥n?  Puede escribir disertaciones sobre este tema, pero en este caso es suficiente decir que: <br><br><ul><li>  Por defecto, la medici√≥n est√° en grupos de procesadores, es decir, el orden te√≥rico de precisi√≥n es exactamente esto.  La salida predeterminada es en nanosegundos; </li><li>  los resultados en todas las pruebas que he visto son muy estables de lanzamiento a lanzamiento; </li><li>  Seg√∫n mis datos de inteligencia, los desarrolladores de software de computadora de a bordo de una de las empresas automovil√≠sticas m√°s grandes del mundo utilizan y conf√≠an plenamente en sus resultados.  Entonces lo creeremos. </li></ul><br>  Lo √∫nico a lo que vale la pena prestarle atenci√≥n: el punto de referencia de Google no proporciona "limpieza" de la memoria cach√© entre los inicios de las iteraciones de referencia.  Si es necesario, debe ocuparse de esto usted mismo. <br><br>  Pero el punto de referencia de Google puede hacer muchas otras cosas: <br><br><ul><li>  calcular la complejidad asint√≥tica del algoritmo (O); </li><li>  funcionan correctamente con puntos de referencia de subprocesos m√∫ltiples, midiendo su duraci√≥n no en tics de procesador, sino en el modo "en tiempo real" (reloj de pared); </li><li>  use su propia funci√≥n de medici√≥n de tiempo "manual", que puede ser √∫til, por ejemplo, al medir el trabajo en la GPU; </li><li>  establecer autom√°ticamente puntos de referencia con diferentes conjuntos de argumentos para un cuerpo dado de la funci√≥n medida; </li><li>  muestra el valor promedio, la mediana y la desviaci√≥n est√°ndar para m√∫ltiples inicios del punto de referencia; </li><li>  Establezca sus propios contadores y etiquetas que se reflejar√°n en el informe de referencia de Google. </li></ul><br>  El benchmark de Google se descarga desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el repositorio de github</a> , ensamblado para la plataforma apropiada usando Cmake (el ensamblaje de Visual Studio est√° disponible para Windows), la biblioteca resultante se vincular√° a su proyecto (en el caso de Windows, tambi√©n se requiere un enlace con la biblioteca shlwapi), el archivo de encabezado de benchmark se agrega a su c√≥digo .h, despu√©s de lo cual todo funciona como se describe anteriormente. <br><br>  Si no funciona, el √∫nico lugar, adem√°s del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio ya indicado</a> , donde puede obtener al menos algo de informaci√≥n y ayuda sobre el punto de referencia de Google es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">foro de productos especializado</a> . <br><br>  En nuestro caso, todo funcion√≥ sin problemas.  Despu√©s de comunicarse con los clientes, se definieron 4 puntos de referencia, que se cargan y guardan con un nombre diferente: <br><br><ul><li>  Archivo jpeg de 8 bits con una resoluci√≥n de 15k </li><li>  Archivo jpeg de 24 bits con una resoluci√≥n de 15k </li><li>  Archivo tiff de 24 bits con una resoluci√≥n de 15k </li><li>  Archivo bmp de 32 bits con una resoluci√≥n de 32x32 </li></ul><br><h2>  <font color="#0071c5">Conoce los resultados</font> </h2><br>  Originalmente se plane√≥ que todas las bibliotecas encontradas, es decir, FreeImage, Cimg, DevIL, OpenImageIO, Boost GIL y SDL_image 2.0, participen en la prueba de comparaci√≥n con Windows Imaging Component (WIC).  Pero los √∫ltimos tres bibliotecas, dependiendo de "monstruos" como Boost y SDL, les pidieron a los clientes que se fueran en reserva en caso de emergencia, si la biblioteca deseada no se encuentra entre las tres primeras.  Y, afortunadamente, fue encontrada.  Aunque no de inmediato. <br><br>  El siguiente es un informe generado por el punto de referencia de Google, que muestra que: <br><br><ul><li>  FreeImage completamente con una puntuaci√≥n aplastante pierde WIC en todas las pruebas, por lo que ya no se puede considerar. </li><li>  Cimg pierde WIC limpiamente en todas partes, excepto para cargar tiff, donde es ligeramente (menos del 5%) m√°s r√°pido.  Por desgracia, tambi√©n tendr√° que ser eliminado.  Adem√°s, esto se aplica al uso directo del paquete ImageMagick. </li></ul><br>  Sigue siendo la biblioteca DevIL.  Muestra excelentes resultados en casos de carga de bmp y tiff (3 y 2.8 veces m√°s altos que WIC!), JPEG en blanco y negro (1.75 veces mejor que WIC), pero se ralentiza un poco al cargar un JPEG normal de 24 bits: lo hace en 3 % m√°s lento que WIC. <br><table><tbody><tr><td colspan="4"> <code>08/15/18 11:15:44 <br> Running c:\WIC\WIC_test\Release\WIC_test.exe <br> Run on (8 X 4008 MHz CPU s) <br> CPU Caches: <br> L1 Data 32K (x4) <br> L1 Instruction 32K (x4) <br> L2 Unified 262K (x4) <br> L3 Unified 8388K (x1)</code> </td> </tr><tr><td> <code>Benchmark</code> </td> <td> <code>Time</code> </td> <td> <code>CPU</code> </td> <td> <code>Iterations</code> </td> </tr><tr><td> <code><font color="#0000FF">BM_WIC8jpeg</font></code> </td> <td> <code><font color="#0000FF">72 ms</font></code> </td> <td> <code><font color="#0000FF">70 ms</font></code> </td> <td> <code><font color="#0000FF">11</font></code> </td> </tr><tr><td> <code>BM_cimg8jpeg</code> </td> <td> <code>562 ms</code> </td> <td> <code>52 ms</code> </td> <td> <code>10</code> </td> </tr><tr><td> <code>BM_FreeImage8jpeg</code> </td> <td> <code>147 ms</code> </td> <td> <code>144 ms</code> </td> <td> <code>5</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL8jpeg</font></code> </td> <td> <code><font color="#FF0000">41 ms</font></code> </td> <td> <code><font color="#FF0000">41 ms</font></code> </td> <td> <code><font color="#FF0000">17</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC24jpeg</font></code> </td> <td> <code><font color="#0000FF">266 ms</font></code> </td> <td> <code><font color="#0000FF">260 ms</font></code> </td> <td> <code><font color="#0000FF">3</font></code> </td> </tr><tr><td> <code>BM_cimg24jpeg</code> </td> <td> <code>656 ms</code> </td> <td> <code>128 ms</code> </td> <td> <code>6</code> </td> </tr><tr><td> <code>BM_FreeImage24jpeg</code> </td> <td> <code>594 ms</code> </td> <td> <code>594 ms</code> </td> <td> <code>1</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL24jpeg</font></code> </td> <td> <code><font color="#FF0000">276 ms</font></code> </td> <td> <code><font color="#FF0000">276 ms</font></code> </td> <td> <code><font color="#FF0000">3</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC24tiff</font></code> </td> <td> <code><font color="#0000FF">844 ms</font></code> </td> <td> <code><font color="#0000FF">844 ms</font></code> </td> <td> <code><font color="#0000FF">1</font></code> </td> </tr><tr><td> <code>BM_cimg24tiff</code> </td> <td> <code>808 ms</code> </td> <td> <code>131 ms</code> </td> <td> <code>5</code> </td> </tr><tr><td> <code>BM_FreeImage24tiff</code> </td> <td> <code>953 ms</code> </td> <td> <code>938 ms</code> </td> <td> <code>1</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL24tiff</font></code> </td> <td> <code><font color="#FF0000">305 ms</font></code> </td> <td> <code><font color="#FF0000">305 ms</font></code> </td> <td> <code><font color="#FF0000">2</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC32</font></code> </td> <td> <code><font color="#0000FF">3 ms</font></code> </td> <td> <code><font color="#0000FF">3 ms</font></code> </td> <td> <code><font color="#0000FF">236</font></code> </td> </tr><tr><td> <code>BM_cimg32</code> </td> <td> <code>71 ms</code> </td> <td> <code>7 ms</code> </td> <td> <code>90</code> </td> </tr><tr><td> <code>BM_FreeImage32</code> </td> <td> <code>6 ms</code> </td> <td> <code>5 ms</code> </td> <td> <code>112</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL32</font></code> </td> <td> <code><font color="#FF0000">1 ms</font></code> </td> <td> <code><font color="#FF0000">1 ms</font></code> </td> <td> <code><font color="#FF0000">747</font></code> </td> </tr></tbody></table>  Por supuesto, DevIL tambi√©n podr√≠a ser rechazado en esta etapa, pero aqu√≠ aparece otra biblioteca en el marco: <b>Libjpeg-turbo</b> . <br><br>  Su salida se puede cumplir f√°cilmente con aplausos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Libjpeg-turbo</a> es una biblioteca multiplataforma que implementa completamente la funcionalidad libjpeg (API) y agrega su propia funcionalidad (por ejemplo, trabajando con buffers de 32 bits).  Al mismo tiempo, para la arquitectura x86, Libjpeg-turbo utiliza activamente instrucciones de vectores (SSE2, AVX2) y, seg√∫n sus creadores, es 2-6 veces m√°s r√°pido que libjpeg (!) <br><br>  Por lo tanto, el siguiente paso es construir DevIL con Libjpeg-turbo en lugar de libjpeg.  Libjpeg-turbo con la ayuda de CMake construye Visual Studio sin problemas, y luego casi de inmediato (con el reemplazo del √∫nico #define, que determina la versi√≥n de libjpeg en el archivo de encabezado DevIL), comienza a funcionar como parte de DevIL. <br><br>  Como resultado, el informe de referencia de Google se ve as√≠: <br><table><tbody><tr><td> <code>Benchmark</code> </td> <td> <code>Time</code> </td> <td> <code>CPU</code> </td> <td> <code>Iterations</code> </td> </tr><tr><td> <code><font color="#0000FF">BM_WIC8jpeg</font></code> </td> <td> <code><font color="#0000FF">72 ms</font></code> </td> <td> <code><font color="#0000FF">68 ms</font></code> </td> <td> <code><font color="#0000FF">9</font></code> </td> </tr><tr><td> <code>BM_cimg8jpeg</code> </td> <td> <code>565 ms</code> </td> <td> <code>39 ms</code> </td> <td> <code>10</code> </td> </tr><tr><td> <code>BM_FreeImage8jpeg</code> </td> <td> <code>148 ms</code> </td> <td> <code>141 ms</code> </td> <td> <code>5</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL8jpeg</font></code> </td> <td> <code><font color="#FF0000">31 ms</font></code> </td> <td> <code><font color="#FF0000">31 ms</font></code> </td> <td> <code><font color="#FF0000">24</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC24jpeg</font></code> </td> <td> <code><font color="#0000FF">269 ms</font></code> </td> <td> <code><font color="#0000FF">266 ms</font></code> </td> <td> <code><font color="#0000FF">2</font></code> </td> </tr><tr><td> <code>BM_cimg24jpeg</code> </td> <td> <code>675 ms</code> </td> <td> <code>131 ms</code> </td> <td> <code>5</code> </td> </tr><tr><td> <code>BM_FreeImage24jpeg</code> </td> <td> <code>604 ms</code> </td> <td> <code>594 ms</code> </td> <td> <code>1</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL24jpeg</font></code> </td> <td> <code><font color="#FF0000">149 ms</font></code> </td> <td> <code><font color="#FF0000">150 ms</font></code> </td> <td> <code><font color="#FF0000">5</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC24tiff</font></code> </td> <td> <code><font color="#0000FF">833 ms</font></code> </td> <td> <code><font color="#0000FF">828 ms</font></code> </td> <td> <code><font color="#0000FF">1</font></code> </td> </tr><tr><td> <code>BM_cimg24tiff</code> </td> <td> <code>785 ms</code> </td> <td> <code>138 ms</code> </td> <td> <code>5</code> </td> </tr><tr><td> <code>BM_FreeImage24tiff</code> </td> <td> <code>943 ms</code> </td> <td> <code>938 ms</code> </td> <td> <code>1</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL24tiff</font></code> </td> <td> <code><font color="#FF0000">318 ms</font></code> </td> <td> <code><font color="#FF0000">320 ms</font></code> </td> <td> <code><font color="#FF0000">2</font></code> </td> </tr><tr><td colspan="4"></td></tr><tr><td> <code><font color="#0000FF">BM_WIC32</font></code> </td> <td> <code><font color="#0000FF">4 ms</font></code> </td> <td> <code><font color="#0000FF">3 ms</font></code> </td> <td> <code><font color="#0000FF">236</font></code> </td> </tr><tr><td> <code>BM_cimg32</code> </td> <td> <code>74 ms</code> </td> <td> <code>8 ms</code> </td> <td> <code>56</code> </td> </tr><tr><td> <code>BM_FreeImage32</code> </td> <td> <code>6 ms</code> </td> <td> <code>5 ms</code> </td> <td> <code>100</code> </td> </tr><tr><td> <code><font color="#FF0000">BM_devIL32</font></code> </td> <td> <code><font color="#FF0000">1 ms</font></code> </td> <td> <code><font color="#FF0000">1 ms</font></code> </td> <td> <code><font color="#FF0000">747</font></code> </td> </tr></tbody></table>  Por supuesto, las mejoras de rendimiento con jpeg ni siquiera son el doble en comparaci√≥n con libjpeg, pero deber√≠a serlo, porque la superioridad de la velocidad solo se aplica a la codificaci√≥n / decodificaci√≥n jpeg, y la prueba incluye la sobrecarga de leer / escribir un archivo. <br><br>  Pero se puede ver que, en promedio, DevIL es m√°s r√°pido que WIC en el caso de jpeg de 8 bits <b>2.3</b> veces, jpeg de 24 bits <b>1.8</b> veces, tiff de 24 bits - <b>2.7</b> veces, bmp de 32 bits - <b>3.5</b> veces. <br><br>  El problema est√° resuelto.  Tres d√≠as laborables previos a las vacaciones de verano se gastaron completamente en la decisi√≥n.  Por supuesto, si hubiera un poco m√°s, ser√≠a posible que hubiera una biblioteca con resultados a√∫n m√°s impresionantes, y si fuera mucho m√°s, entonces quiz√°s escribir√≠a la biblioteca que estaba buscando. <br><br>  Pero incluso lo que es impresionante.  Por lo tanto, si est√° buscando una biblioteca multiplataforma para trabajar con archivos gr√°ficos que sea r√°pida y f√°cil en todos los sentidos, preste atenci√≥n a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DevIL</a> , y si necesita realizar mediciones comparativas del c√≥digo de manera r√°pida y precisa, entonces <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el punto de referencia de Google est√°</a> a su servicio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425021/">https://habr.com/ru/post/es425021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425007/index.html">Iridium y Jeff Bezos AWS se unieron para desarrollar un proyecto global de Internet satelital IoT</a></li>
<li><a href="../es425009/index.html">Lisa Alert: voluntarios que salvan vidas</a></li>
<li><a href="../es425011/index.html">Haiku R1 primera versi√≥n beta lanzada</a></li>
<li><a href="../es425015/index.html">Venta sin errores: seguridad digital de plataformas de comercio electr√≥nico</a></li>
<li><a href="../es425019/index.html">Voronezh, esper√°ndote (y no solo) + competencia</a></li>
<li><a href="../es425023/index.html">Traducimos la receta al idioma multicooker</a></li>
<li><a href="../es425025/index.html">Pruebas de Golang fuera de Gotour</a></li>
<li><a href="../es425027/index.html">Desarrollo de sombreadores GLSL en Kotlin</a></li>
<li><a href="../es425031/index.html">M√°s pr√°ctica! Ense√±emos Spring Framework y perfiles sin conferencias</a></li>
<li><a href="../es425033/index.html">Construyendo un Jetpack: JetPack Aviation 2017 Annual Report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>