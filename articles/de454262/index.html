<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö´Ô∏è üôã üîö Warum jeder Datenwissenschaftler Dask kennen sollte üëÆ üë®üèø‚Äçüè≠ üö∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Kollegen! 

 Vielleicht h√§tte der Titel der heutigen Ver√∂ffentlichung mit einem Fragezeichen besser ausgesehen - es ist schwer zu sagen. Auf jed...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Warum jeder Datenwissenschaftler Dask kennen sollte</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/454262/"> Hallo Kollegen! <br><br>  Vielleicht h√§tte der Titel der heutigen Ver√∂ffentlichung mit einem Fragezeichen besser ausgesehen - es ist schwer zu sagen.  Auf jeden Fall m√∂chten wir Ihnen heute eine kurze Tour anbieten, die Sie in die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dask-</a> Bibliothek einf√ºhrt, mit der Aufgaben in Python parallelisiert werden sollen.  Wir hoffen, dass wir in Zukunft noch ausf√ºhrlicher auf dieses Thema zur√ºckkommen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/v1/sy/al/v1syalwkg-cp2dnxebftth8yhnu.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Foto aufgenommen bei</i></a> <br><a name="habracut"></a><br>  Dask ist ohne √úbertreibung das revolution√§rste Datenverarbeitungswerkzeug, auf das ich gesto√üen bin.  Wenn Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pandas und Numpy m√∂gen</a> , aber manchmal nicht mit Daten umgehen k√∂nnen, die nicht in den Arbeitsspeicher passen, ist Dask genau das, was Sie brauchen.  Dask unterst√ºtzt den Pandas-Datenrahmen und Numpy-Datenstrukturen (Arrays).  Dask kann entweder auf dem lokalen Computer oder skaliert ausgef√ºhrt und dann im Cluster ausgef√ºhrt werden.  Im Wesentlichen schreiben Sie den Code nur einmal und w√§hlen dann aus, ob Sie ihn auf dem lokalen Computer verwenden oder in einem Cluster mit vielen Knoten mithilfe der g√§ngigsten Python-Syntax bereitstellen m√∂chten.  Die Funktion selbst ist gro√üartig, aber ich habe beschlossen, diesen Artikel zu schreiben, um zu betonen: Jeder Data Scientist (zumindest mit Python) sollte Dask verwenden.  Aus meiner Sicht besteht die Magie von Dask darin, dass Sie durch Minimieren des Codes ihn mithilfe der Rechenleistung parallelisieren k√∂nnen, die beispielsweise auf meinem Laptop bereits verf√ºgbar ist.  Bei paralleler Datenverarbeitung l√§uft das Programm schneller, Sie m√ºssen weniger warten und dementsprechend bleibt mehr Zeit f√ºr die Analyse.  In diesem Artikel werden wir insbesondere √ºber das Objekt <code>dask.delayed</code> sprechen und dar√ºber, wie es in den Data Science-Aufgabenstrom passt. <br><br><h3>  Dask vorstellen </h3><br>  Als Einf√ºhrung in Dask finden Sie hier einige Beispiele, um Ihnen einen Eindruck von der v√∂llig unauff√§lligen und nat√ºrlichen Syntax zu vermitteln.  Die wichtigste Schlussfolgerung, die ich in diesem Fall vorschlagen m√∂chte, ist, dass das Wissen, √ºber das Sie bereits verf√ºgen, ausreicht, um zu arbeiten.  Sie m√ºssen kein neues Big-Data-Tool wie Hadoop oder Spark erlernen. <br><br>  Dask bietet 3 parallele Sammlungen an, in denen Sie Daten speichern k√∂nnen, die die Gr√∂√üe des RAM √ºberschreiten, n√§mlich Dataframes, Bags und Arrays.  In jeder dieser Arten von Sammlungen k√∂nnen Sie Daten speichern, indem Sie sie zwischen RAM und Festplatte segmentieren sowie Daten auf mehrere Knoten in einem Cluster verteilen. <br><br>  Ein Dask DataFrame besteht aus geschredderten Datenframes, z. B. in Pandas, sodass Sie eine Teilmenge der Funktionen der Pandas-Abfragesyntax verwenden k√∂nnen.  Unten finden Sie einen Beispielcode, der alle CSV-Dateien f√ºr 2018 herunterl√§dt, ein Feld mit einem Zeitstempel analysiert und eine Pandas-Anforderung startet: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dask.dataframe <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> dd df = dd.read_csv(<span class="hljs-string"><span class="hljs-string">'logs/2018-*.*.csv'</span></span>, parse_dates=[<span class="hljs-string"><span class="hljs-string">'timestamp'</span></span>]) df.groupby(df.timestamp.dt.hour).value.mean().compute()</code> </pre> <br>  <i>Dask Dataframe-Beispiel</i> <br><br>  In Dask Bag k√∂nnen Sie Sammlungen von Python-Objekten speichern und verarbeiten, die nicht in den Speicher passen.  Dask Bag eignet sich hervorragend f√ºr die Verarbeitung von Protokollen und Sammlungen von Dokumenten im JSON-Format.  In diesem Codebeispiel werden alle JSON-Dateien f√ºr 2018 in die Dask Bag-Datenstruktur geladen, jeder JSON-Datensatz wird analysiert und Benutzerdaten werden mithilfe der Lambda-Funktion gefiltert: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dask.bag <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> db <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json records = db.read_text(<span class="hljs-string"><span class="hljs-string">'data/2018-*-*.json'</span></span>).map(json.loads) records.filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> d: d[<span class="hljs-string"><span class="hljs-string">'username'</span></span>] == <span class="hljs-string"><span class="hljs-string">'Aneesha'</span></span>).pluck(<span class="hljs-string"><span class="hljs-string">'id'</span></span>).frequencies()</code> </pre> <br>  <i>Dask Bag Beispiel</i> <br><br>  Die Datenstruktur von Dask Arrays unterst√ºtzt Slices im Numpy-Stil.  Im folgenden Beispiel wird ein Satz von HDF5-Daten in Dimensionsbl√∂cke (5000, 5000) aufgeteilt: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> h5py f = h5py.File(<span class="hljs-string"><span class="hljs-string">'myhdf5file.hdf5'</span></span>) dset = f[<span class="hljs-string"><span class="hljs-string">'/data/path'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dask.array <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> da x = da.from_array(dset, chunks=(<span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>))</code> </pre> <br>  <i>Dask Array Beispiel</i> <br><br><h3>  Parallelverarbeitung in Dask </h3><br>  Ein weiterer ebenso genauer Titel f√ºr diesen Abschnitt w√§re "Tod eines sequentiellen Zyklus".  Hin und wieder sto√üe ich auf ein gemeinsames Muster: Durchlaufen Sie die Liste der Elemente und f√ºhren Sie dann die Python-Methode mit jedem Element aus, jedoch mit unterschiedlichen Eingabeargumenten.  Zu den g√§ngigen Datenverarbeitungsszenarien geh√∂rt das Berechnen von Feature-Aggregaten f√ºr jeden Client oder das Aggregieren von Ereignissen aus dem Protokoll f√ºr jeden Sch√ºler.  Anstatt auf jedes Argument in einer sequentiellen Schleife eine Funktion anzuwenden, k√∂nnen Sie mit dem Objekt Dask Delayed viele Elemente parallel verarbeiten.  Bei der Arbeit mit Dask Delayed werden alle Funktionsaufrufe in die Warteschlange gestellt und in das Ausf√ºhrungsdiagramm eingef√ºgt. Danach sollen sie verarbeitet werden. <br><br>  Ich war immer etwas faul, meine eigene Threading-Engine zu schreiben oder Asyncio zu verwenden, daher werde ich Ihnen nicht einmal √§hnliche Beispiele zum Vergleich zeigen.  Mit Dask k√∂nnen Sie weder die Syntax noch den Programmierstil √§ndern!  Sie m√ºssen nur die Methode kommentieren oder <code>@dask.delayed</code> , die parallel zu <code>@dask.delayed</code> und die Berechnungsmethode aufrufen, nachdem der Schleifencode ausgef√ºhrt wurde. <br><br><img src="https://habrastorage.org/webt/e_/_t/k9/e__tk9l_qrxshram0hqh-golmie.png"><br><br><h3>  Dask Computing Graph Beispiel </h3><br>  Im folgenden Beispiel sind die beiden Methoden mit <code>@dask.delayed</code> .  Drei Zahlen werden in einer Liste gespeichert, sie m√ºssen quadriert und dann summiert werden.  Dask erstellt einen Berechnungsgraphen, der die parallele Ausf√ºhrung der Quadrierungsmethode <code>sum_list</code> . <code>sum_list</code> das Ergebnis dieser Operation an die <code>sum_list</code> Methode √ºbergeben.  Das Berechnungsdiagramm kann durch <code>calling .visualize()</code> angezeigt werden.  <code>Calling .compute()</code> wird das Berechnungsdiagramm ausgef√ºhrt.  Wie aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schlussfolgerung hervorgeht</a> , werden die Listenelemente nicht in der richtigen Reihenfolge, sondern parallel verarbeitet. <br><br>  Die Anzahl der Threads kann festgelegt werden (z. B. <code>dask.set_options( pool=ThreadPool(10)</code> ), und sie k√∂nnen auch einfach ausgetauscht werden, um Prozesse auf Ihrem Laptop oder PC zu verwenden (z. B. <code>dask.config.set( scheduler='processes'</code> ). . <br><br>  Daher habe ich gezeigt, wie trivial es sein wird, einem Projekt aus dem Bereich Data Science mithilfe von Dask eine parallele Verarbeitung von Aufgaben hinzuzuf√ºgen.  Kurz bevor ich diesen Artikel schrieb, habe ich Dask verwendet, um die Daten √ºber Benutzer-Klick-Streams (Besuchsverlauf) in 40-min√ºtige Sitzungen aufzuteilen und dann die Attribute f√ºr jeden Benutzer f√ºr weitere Cluster zu aggregieren.  Sagen Sie uns, wie Sie Dask verwendet haben! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454262/">https://habr.com/ru/post/de454262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454248/index.html">Leibeigene im Zeitalter der k√ºnstlichen Intelligenz</a></li>
<li><a href="../de454252/index.html">Selbst die Webressourcen bekannter Organisationen sind nicht vor Fehlern von Kindern gesch√ºtzt.</a></li>
<li><a href="../de454254/index.html">Wir schreiben Reverse socks5 Proxy auf Powershell. Teil 3</a></li>
<li><a href="../de454256/index.html">Was ist los mit unserer IT</a></li>
<li><a href="../de454260/index.html">Bad Code Kindertag</a></li>
<li><a href="../de454264/index.html">4 sinnvolle Youtube-Kan√§le zu technischen Interviews</a></li>
<li><a href="../de454266/index.html">Dell und Alienware auf der Computex 2019: Sprechen Sie √ºber wichtige Innovationen</a></li>
<li><a href="../de454272/index.html">Die ganze Wahrheit √ºber RTOS. Artikel 27. Systemzeit</a></li>
<li><a href="../de454274/index.html">Licht, Kamera ... Wolke: Wie Wolken die Filmindustrie ver√§ndern</a></li>
<li><a href="../de454278/index.html">Cyberversicherung auf dem russischen Markt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>