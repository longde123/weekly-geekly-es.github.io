<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👧🏾 👸🏽 📝 Manajemen parameter dalam aplikasi bisnis mirip dengan sistem kontrol versi 🐌 🥕 ⬛️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam berbagai aplikasi, tugas muncul secara teratur untuk mendukung logika perubahan waktu dari beberapa atribut suatu objek relatif terhadap subjek ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manajemen parameter dalam aplikasi bisnis mirip dengan sistem kontrol versi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/468553/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ht/ww/gi/htwwgiirud8bctw_f6ndjlbsoee.jpeg" alt="gambar"></div><br>  Dalam berbagai aplikasi, tugas muncul secara teratur untuk mendukung logika perubahan waktu dari beberapa atribut suatu objek relatif terhadap subjek tertentu (atau subjek).  Misalnya, ini dapat berupa perubahan harga eceran barang di toko atau indikator KPI untuk karyawan. <br><br>  Pada artikel ini, saya akan menunjukkan logika domain dan antarmuka apa yang dapat dibangun untuk menyelesaikan masalah ini.  Saya akan segera membuat reservasi yang akan menyangkut pengaruh manajerial pengguna pada atribut, dan bukan refleksi dari perubahan historis. <br><br>  Implementasi akan disajikan berdasarkan platform <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lsFusion</a> terbuka dan gratis, tetapi skema serupa dapat diterapkan ketika menggunakan teknologi lainnya. <br><a name="habracut"></a><br><h3>  Pendahuluan </h3><br>  Untuk presentasi dan pemahaman artikel yang lebih sederhana, kami mengambil harga sebagai atribut, produk sebagai objek, dan gudang akan menjadi subjek.  Dalam hal ini, interval minimum yang mungkin untuk mengatur atribut adalah tanggal.  Dengan demikian, pengguna akan dapat menentukan berapa harga untuk tanggal tertentu akan untuk setiap produk dan gudang. <br><br>  Skema input pengguna untuk perubahan harga akan serupa dengan yang digunakan dalam sistem kontrol versi klasik.  Setiap perubahan, dari sudut pandang logika domain, akan menjadi <i>komit</i> tunggal, berdasarkan status status untuk tanggal tertentu akan dihitung.  Di banyak bidang studi, komit semacam itu disebut dokumen atau transaksi.  Dalam hal ini, dengan komit ini kita akan mengartikan apa yang disebut daftar harga.  Setiap daftar harga akan menentukan barang dan gudang yang termasuk di dalamnya, serta masa berlakunya. <br><br>  Skema yang dijelaskan memiliki keuntungan sebagai berikut: <br><br><ul><li>  <b>Atomicity</b> .  Setiap perubahan dikeluarkan sebagai dokumen terpisah.  Oleh karena itu, dokumen-dokumen ini dapat disimpan sementara, tetapi tidak diposting.  Dengan input yang salah, mudah untuk memutar kembali seluruh perubahan. </li><li>  <b>Transparansi</b>  Sangat mudah untuk menentukan siapa yang membuat perubahan dan kapan, serta menunjukkan alasannya dengan membuat komentar pada dokumen. </li></ul><br>  Perbedaan utama dari sistem kontrol versi adalah bahwa commit eksplisit tidak tergantung satu sama lain.  Dengan demikian, dimungkinkan untuk menghapus semua komit yang relatif tanpa rasa sakit kapan saja.  Selain itu, setiap komit tersebut dapat diatur untuk berakhir ketika berhenti berfungsi, yang tentu saja tidak ada dalam sistem kontrol versi. <br><br><h3>  Implementasi </h3><br>  Kami mulai definisi logika domain dengan gudang.  Mari kita sedikit mempersulit solusi dengan menggabungkan gudang ke dalam hierarki sekelompok kedalaman dinamis.  Dengan prinsip apa ini dilakukan dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> terkait, jadi saya hanya akan memberikan sepotong kode yang menyatakan grup dan membuat formulir untuk mengeditnya: <br><br><div class="spoiler">  <b class="spoiler_title">Pengumuman Kelompok Gudang</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">CLASS</font> Group <font color="#50a14f">' '</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Group); <br> <br> parent = <font color="#a626a4">DATA</font> Group (Group); <br> nameParent <font color="#50a14f">' '</font> (Group g) = name(parent(g)); <br> <br> level <font color="#50a14f">''</font> (Group child, Group parent) = <br> <font color="#a626a4">RECURSION</font> <font color="#986801">1l</font> <font color="#a626a4">IF</font> child <font color="#a626a4">IS</font> Group <font color="#a626a4">AND</font> parent = child <br> <font color="#a626a4">STEP</font> <font color="#986801">2l</font> <font color="#a626a4">IF</font> parent = parent($parent) <font color="#a626a4">MATERIALIZED</font> ; <br> <br> <font color="#a626a4">FORM</font> group <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (g) name, nameParent <br> <br> <font color="#a626a4">EDIT</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">FORM</font> groups <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> name, nameParent <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> groups; <br> } <br></code> </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Contoh hierarki grup</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/fh/5e/ct/fh5ect60pun-rowwwblr7uucr9w.png" alt="gambar"></div><br></div></div><br>  Selanjutnya, nyatakan gudang yang dapat diikat ke salah satu grup: <br><br><div class="spoiler">  <b class="spoiler_title">Pengumuman Gudang</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Stock <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Stock); <br> <br> group <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Group (Stock); <br> nameGroup <font color="#50a14f">''</font> (Stock st) = name(group(st)); <br> <br> <font color="#a626a4">FORM</font> stock <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (s) name, nameGroup <br> <br> <font color="#a626a4">EDIT</font> Stock <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">FORM</font> stocks <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name, nameGroup <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Stock <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> stocks; <br> } <br></code> </td></tr></tbody></table></div><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Contoh Gudang</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/30/mc/iy/30mciyqfgm2bjiu9_-fonon1mga.png" alt="gambar"></div><br></div></div><br>  Dan akhirnya, nyatakan logika barang: <br><br><div class="spoiler">  <b class="spoiler_title">Pengumuman Produk</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Product); <br> <br> <font color="#a626a4">FORM</font> product <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) name <br> <br> <font color="#a626a4">EDIT</font> Product <font color="#a626a4">OBJECT</font> p <br> ; <br> <br> <font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Product <font color="#a626a4">OBJECT</font> p <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br></code> </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Contoh produk</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/3g/sz/y6/3gszy6zobgdvqnmtzqzoynhdrzw.png" alt="gambar"></div><br></div></div><br>  Kami melanjutkan langsung ke pembuatan logika daftar harga.  Pertama, kami menetapkan kelas <i>daftar harga</i> itu sendiri, serta periode validitasnya: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> PriceList <font color="#50a14f">'-'</font> ; <br> fromDate <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (PriceList); <br> toDate <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (PriceList);</code> </td> </tr></tbody></table></div>  Kami percaya bahwa jika tidak ada <i>Tanggal yang</i> ditetapkan, maka daftar harga tidak ada habisnya. <br>  Kami menambahkan acara yang, ketika membuat daftar harga, secara otomatis akan mencantumkan tanggal saat ini dari mana ia akan mulai beroperasi. <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">SET</font> (PriceList p <font color="#a626a4">IS</font> PriceList) <font color="#a626a4">DO</font> <br> fromDate(p) &lt;- currentDate(); <br></code> </td></tr></tbody></table></div>  Kata kunci <i>LOCAL</i> berarti bahwa acara tersebut tidak akan diaktifkan ketika save diterapkan ke basis data, tetapi segera ketika perubahan dilakukan. <br><br>  Kemudian tambahkan pengguna yang membuatnya dan waktu pembuatan: <br><div class="scrollable-table"><table><tbody><tr><td> <code>createdTime <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATETIME</font> (PriceList); <br> createdUser = <font color="#a626a4">DATA</font> User (PriceList); <br> nameCreatedUser <font color="#50a14f">''</font> (PriceList p) = name(createdUser(p)); <br></code> </td></tr></tbody></table></div>  Sekarang buat acara yang secara otomatis mengisinya: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">WHEN</font> <font color="#a626a4">SET</font> (PriceList p <font color="#a626a4">IS</font> PriceList) <font color="#a626a4">DO</font> { <br> createdTime(p) &lt;- currentDateTime(); <br> createdUser(p) &lt;- currentUser(); <br> } <br></code> </td></tr></tbody></table></div>  Acara ini, tidak seperti yang sebelumnya, akan dipicu hanya ketika tombol Simpan diklik.  Artinya, selama transaksi simpan ke database. <br><br>  Selanjutnya, buat garis daftar harga di mana barang dan harga akan ditetapkan: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> PriceListDetail <font color="#50a14f">' -'</font> ; <br> priceList = <font color="#a626a4">DATA</font> PriceList (PriceListDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> product = <font color="#a626a4">DATA</font> Product (PriceListDetail); <br> nameProduct <font color="#50a14f">''</font> (PriceListDetail d) = name(product(d)); <br> <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (PriceListDetail); <br></code> </td></tr></tbody></table></div>  Atribut <i>NONULL</i> menunjukkan bahwa properti <i>priceList harus</i> selalu ditetapkan, dan <i>DELETE</i> menunjukkan bahwa ketika nilai properti di-zeroed (misalnya, ketika menghapus daftar harga), baris yang sesuai harus dihapus secara otomatis. <br><br>  Untuk penggunaan di masa mendatang, kami akan membuat properti yang akan menentukan periode validitas garis daftar harga: <br><div class="scrollable-table"><table><tbody><tr><td> <code>fromDate <font color="#50a14f">' '</font> (PriceListDetail d) = fromDate(priceList(d)); <br> toDate <font color="#50a14f">' '</font> (PriceListDetail d) = toDate(priceList(d)); <br></code> </td></tr></tbody></table></div>  Sekarang kita akan mengikat daftar harga ke gudang yang akan dioperasikan.  Pertama, tambahkan properti utama, yang akan menjadi kenyataan jika seluruh kelompok gudang termasuk dalam daftar harga: <br><div class="scrollable-table"><table><tbody><tr><td> <code>dataIn <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (PriceList, Group); <br></code> </td></tr></tbody></table></div>  Kami menghitung "inklusi" grup dengan mempertimbangkan orang tua yang dipilih (seperti yang dijelaskan dalam artikel tentang hierarki): <br><div class="scrollable-table"><table><tbody><tr><td> <code>in <font color="#50a14f">' ()'</font> (PriceList p, Group child) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> dataIn(p, Group parent) <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(child, parent) <font color="#a626a4">WHERE</font> dataIn(p, parent); <br></code> </td></tr></tbody></table></div>  Tambahkan properti utama, yang dengannya Anda dapat menentukan bahwa daftar harga bertindak pada gudang tertentu: <br><div class="scrollable-table"><table><tbody><tr><td> <code>dataIn <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (PriceList, Stock); <br></code> </td></tr></tbody></table></div>  Kami menghitung properti akhir, yang akan menentukan bahwa daftar harga mengubah harga di gudang terkait, dengan mempertimbangkan grup: <br><div class="scrollable-table"><table><tbody><tr><td> <code>in <font color="#50a14f">''</font> (PriceList p, Stock s) = dataIn(p, s) <font color="#a626a4">OR</font> in(p, group(s)); <br></code> </td></tr></tbody></table></div>  Buat properti yang akan menampilkan nama semua grup dan gudang yang dipilih dari daftar harga, untuk pengguna yang lebih nyaman untuk melihat daftar daftar harga: <br><div class="scrollable-table"><table><tbody><tr><td> <code>stocks <font color="#50a14f">''</font> (PriceList p) = <font color="#a626a4">CONCAT</font> <font color="#50a14f">' / '</font> , <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Group g) <font color="#a626a4">IF</font> dataIn(p, g), <font color="#50a14f">','</font> <font color="#a626a4">ORDER</font> g, <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Stock s) <font color="#a626a4">IF</font> dataIn(p, s), <font color="#50a14f">','</font> <font color="#a626a4">ORDER</font> s <br> <font color="#a626a4">CHARWIDTH</font> <font color="#986801">30</font> ; <br></code> </td></tr></tbody></table></div>  Langkah terakhir dalam deskripsi logika domain akan secara langsung menghitung harga barang saat ini di gudang.  Untuk melakukan ini, buat properti yang menemukan baris terakhir berdasarkan tanggal pada daftar harga dengan barang, gudang, dan masa berlaku yang diinginkan: <br><div class="scrollable-table"><table><tbody><tr><td> <code>priceListDetail (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> PriceListDetail d <br> <font color="#a626a4">ORDER</font> fromDate(d), d <br> <font color="#a626a4">WHERE</font> product(d) = p <font color="#a626a4">AND</font> in(priceList(d), s) <font color="#a626a4">AND</font> <br> fromDate(d) &lt;= dt <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> toDate(d) &lt; dt; <br></code> </td></tr></tbody></table></div>  Dalam logika penghitungan properti ini, berbagai variasi dimungkinkan.  Anda dapat mengubah filter untuk memukul baris (misalnya, menambahkan kondisi di <i>WHERE</i> bahwa daftar harga diposting) dan pesanan.  Perlu dicatat bahwa objek itu sendiri, atau lebih tepatnya pengenal internalnya, telah ditambahkan ke urutan pemilihan oleh parameter kedua.  Ini diperlukan agar nilai harga selalu ditentukan dengan cara yang unik. <br><br>  Berdasarkan garis daftar harga yang diterima, kami menentukan nilai harga dan masa berlakunya: <br><div class="scrollable-table"><table><tbody><tr><td> <code>price <font color="#50a14f">''</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = price(priceListDetail(p, s, dt)); <br> fromDate <font color="#50a14f">' '</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = fromDate(priceListDetail(p, s, dt)); <br> toDate <font color="#50a14f">' '</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = toDate(priceListDetail(p, s, dt)); <br></code> </td></tr></tbody></table></div>  Mereka akan lebih lanjut digunakan dalam tabel antarmuka pengguna. <br><br>  Selanjutnya, kita beralih ke membangun antarmuka pengguna.  Pertama, kami menggambar formulir untuk mengedit daftar harga.  Buat formulir dan tambahkan "header" dari dokumen di sana: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> priceList <font color="#50a14f">'-'</font> <br> <font color="#a626a4">OBJECTS</font> p = PriceList <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) fromDate, toDate <br> <br> <font color="#a626a4">EDIT</font> PriceList <font color="#a626a4">OBJECT</font> p <br> ; <br></code> </td></tr></tbody></table></div>  Tambahkan baris daftar harga ke formulir: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> priceList <br> <font color="#a626a4">OBJECTS</font> d = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameProduct, price <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> priceList(d) = p <br> ; <br></code> </td></tr></tbody></table></div>  Selanjutnya, tambahkan pohon di mana akan ada grup dan gudang: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> priceList <br> <font color="#a626a4">TREE</font> stocks g = Group <font color="#a626a4">PARENT</font> parent, s = Stock <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g), name(s) <br> <font color="#a626a4">PROPERTIES</font> dataIn(p, g), in(p, g) <br> <font color="#a626a4">PROPERTIES</font> dataIn(p, s), in(p, s) <br> <font color="#a626a4">FILTERS</font> group(s) = g <br> ; <br></code> </td></tr></tbody></table></div>  Properti untuk grup dan gudang ditambahkan ke pohon secara bersamaan.  Platform akan, tergantung pada objek, menunjukkan properti ini atau itu dalam urutan mereka ditambahkan ke formulir. <br><br>  Kami menyesuaikan desain formulir sehingga barang dan gudang digambar dalam tab terpisah: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> priceList { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">TABBED</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { caption = <font color="#50a14f">''</font> ; } <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> stocks) { caption = <font color="#50a14f">''</font> ; } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div>  Formulir edit akan terlihat seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/dc/l9/nrdcl9twis0_96fwj8lhz2sb1w4.png" alt="gambar"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rl/0c/qj/rl0cqj4vcyhb80a0rignrd3yt0w.png" alt="gambar"></div><br>  Tetap membangun bentuk dasar manajemen harga.  Ini akan terdiri dari dua tab.  Yang pertama akan menampilkan daftar semua daftar harga (mirip dengan daftar commit).  Tab kedua akan menampilkan harga saat ini untuk gudang tertentu untuk tanggal yang dipilih. <br><br>  Untuk menerapkan tab pertama, tambahkan ke formulir daftar daftar harga dengan garis untuk pratinjau cepat: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> managePrices <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> p = PriceList <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> fromDate, toDate, stocks, createdTime, nameCreatedUser <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">OBJECTS</font> d = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">READONLY</font> nameProduct, price <br> <font color="#a626a4">FILTERS</font> priceList(d) = p <br> ; <br></code> </td></tr></tbody></table></div>  Untuk tab kedua, pertama-tama kita tambahkan tanggal di mana harga ditampilkan, pohon kelompok gudang, serta gudang itu sendiri: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> dt = <font color="#a626a4">DATE</font> <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">VALUE</font> (dt) <br> <br> <font color="#a626a4">TREE</font> groups g = Group <font color="#a626a4">PARENT</font> parent <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g) <br> <br> <font color="#a626a4">OBJECTS</font> s = Stock <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name, nameGroup <br> <font color="#a626a4">FILTERS</font> level(group(s), g) <br> ; <br></code> </td></tr></tbody></table></div>  Daftar gudang akan menunjukkan semua gudang yang merupakan keturunan dari kelompok yang dipilih di bagian atas. <br><br>  Selanjutnya, tambahkan ke formulir daftar barang yang ada harga valid untuk gudang pada tanggal yang dipilih: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> pr = Product <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(pr), price(pr, s, dt), fromDate(pr, s, dt), toDate(pr, s, dt) <br> <font color="#a626a4">FILTERS</font> price(pr, s, dt) <br> ; <br></code> </td></tr></tbody></table></div>  Baik harga itu sendiri maupun masa berlakunya ditambahkan ke kolom.  Anda juga dapat menambahkan nomor daftar harga - maka tabel ini akan menyerupai logika anotasi dalam sistem kontrol versi. <br><br>  Agar pengguna memahami dari mana harga tersebut berasal, kami menambahkan daftar garis daftar harga dengan barang dan gudang yang sesuai: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> prd = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> <font color="#a626a4">BACKGROUND</font> (priceListDetail(pr, s, dt) = prd) <br> fromDate(prd), toDate(prd), <font color="#50a14f">''</font> = stocks(priceList(prd)), price(prd) <br> <font color="#a626a4">FILTERS</font> product(prd) = pr <font color="#a626a4">AND</font> in(priceList(prd), s) <br> ; <br></code> </td></tr></tbody></table></div>  Menggunakan atribut <i>BACKGROUND,</i> sorot baris yang menentukan harga yang ditunjukkan pada tabel. <br><br>  Juga, untuk kenyamanan pengguna, kami akan menambahkan kemampuan untuk membuka formulir edit dari daftar harga yang sesuai dalam sesi baru langsung dari cerita ini: <br><div class="scrollable-table"><table><tbody><tr><td> <code>edit (PriceListDetail d) + { edit(priceList(d)); } <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">PROPERTIES</font> (prd) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">EDIT</font> <br> ; <br></code> </td></tr></tbody></table></div>  Untuk mencapai ini, Anda perlu menentukan tindakan yang akan dilakukan ketika Anda mencoba mengedit garis dengan menerapkan tindakan <i>edit</i> bawaan.  Kemudian, tombol standar untuk mengedit objek melalui panggilan dialog ditambahkan ke formulir dengan cara standar. <br><br>  Dan akhirnya, kami membentuk desain akhir dari formulir: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> managePrices { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">TABBED</font> ; <br> <font color="#a626a4">NEW</font> priceLists { <br> caption = <font color="#50a14f">'-'</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d); <br> } <br> <font color="#a626a4">NEW</font> prices { <br> caption = <font color="#50a14f">''</font> ; <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">NEW</font> leftPane { <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (dt); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> groups); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (s); <br> } <br> <font color="#a626a4">NEW</font> rightPane { <br> fill = <font color="#986801">3</font> ; <br> type = <font color="#a626a4">SPLITV</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (pr) { fill = <font color="#986801">3</font> ; } <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (prd); <br> } <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div>  Di sini, wadah <i>pane</i> ditambahkan terlebih dahulu, yang terdiri dari dua tab: <i>daftar</i> <i>harga</i> dan <i>harga</i> .  Yang pertama hanya menambahkan daftar daftar harga dan garis.  Dalam yang kedua, dua panel dibuat: <i>leftPane</i> dan <i>rightPane</i> .  Panel kiri berisi tanggal dan gudang, dan panel kanan berisi barang dan sejarah harga. <br><br><h3>  Hasil </h3><br>  Pertimbangkan opsi utama untuk menggunakan logika yang dihasilkan. <br><br>  Misalkan kita memiliki dua daftar harga terpisah untuk berbagai kelompok barang.  Kemudian, tergantung pada gudang yang dipilih, di tab dengan harga, hanya produk dari daftar harga yang sesuai yang akan ditampilkan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fj/pq/nc/fjpqnc-cp2whdwy9ihbl-xboeqg.gif" alt="gambar"></div><br>  Sekarang buat daftar harga baru dengan periode validitas terbatas, daftar gudang dan harga baru.  Pada tab kedua, jika kita memilih tanggal di kisaran daftar harga baru, kita akan mendapatkan harga baru darinya.  Segera setelah masa berlaku berakhir, harga lama akan kembali dari harga aslinya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jn/wm/om/jnwmom0uyge-bd2cr5d0oh7fvfu.gif" alt="gambar"></div><br>  Dengan menggunakan mekanisme yang sama, Anda dapat "membatalkan" aksi harga tertentu dari tanggal tertentu.  Misalnya, jika Anda memasukkan harga baru tanpa menentukan harga, ternyata harga akan diatur ulang dan barang akan hilang dari filter.  Dalam hal ini, saat menghapus dokumen yang dimasukkan, semuanya kembali ke keadaan lama: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rl/sf/0i/rlsf0ie34x-qwfhmdidm6qv7lpu.gif" alt="gambar"></div><br>  Properti yang dihasilkan dengan harga barang oleh gudang pada tanggal dapat digunakan lebih lanjut dalam berbagai acara atau bentuk lainnya.  Misalnya, Anda dapat membuat penetapan harga otomatis dalam urutan berdasarkan pada logika penetapan harga ini: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">CHANGED</font> (sku(UserOrderDetail d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (stock(d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (dateTime(d)) <font color="#a626a4">DO</font> <br> price(d) &lt;- price(sku(d), stock(d), dateTime(d)); <br></code> </td></tr></tbody></table></div>  Bonus bagus dalam logika ini adalah bahwa ketika Anda menambahkan gudang baru ke grup, harga dari daftar harga yang sudah dibuat akan secara otomatis berlaku untuk itu.  Hal yang sama akan terjadi ketika Anda mengubah grup untuk gudang. <br><br>  Jika mau, Anda dapat membuat kolom dengan harga di tab dengan harga saat ini dapat diedit dan menambahkan tombol yang akan membuat komit baru untuk perubahan harga. <br><br><h3>  Kesimpulan </h3><br>  Dalam solusi di tingkat platform, tidak ada buku referensi, atau dokumen dengan string, atau register, atau laporan dan abstraksi lain yang tidak perlu digunakan.  Semuanya dilakukan secara eksklusif pada konsep kelas dan properti.  Perhatikan bahwa logika yang cukup rumit ini diterapkan di sekitar 150 baris kode yang bermakna di lsFusion.  Untuk mengimplementasikannya dalam formulasi yang sama di platform lain (misalnya, 1C) adalah tugas yang jauh lebih sulit. <br><br>  Skema yang dijelaskan di atas banyak digunakan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">solusi ERP</a> berbasis lsFusion.  Dengan menggunakannya, dengan berbagai modifikasi, daftar harga pemasok, harga eceran manajemen, stok, dan banyak parameter manajemen lainnya didukung. <br><br>  Templat dapat menjadi rumit dengan menambahkan beberapa entitas ke dokumen (misalnya, pemasok dapat ditambahkan ke gudang), serta mendefinisikan beberapa atribut dalam satu dokumen sekaligus.  Secara khusus, Anda bisa menambahkan Tipe Harga entitas, dan di baris dokumen setel harga untuk tupel baris dan tipe harga yang sesuai.  Dalam logika yang dijelaskan di atas, Anda hanya perlu menambahkan beberapa parameter tambahan ke beberapa properti. <br><br>  Dengan bantuan beberapa baris kode tambahan, dimungkinkan untuk mendenormalisasi semua catatan perubahan ke dalam satu tabel untuk membangun indeks yang sesuai.  Maka pemilihan nilai apa pun untuk tanggal apa pun akan dilakukan dalam waktu logaritmik.  Optimalisasi seperti itu diperlukan ketika ada beberapa ratus juta catatan dalam tabel ini. <br><br>  Anda dapat mencoba contoh buatannya secara online pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman</a> situs yang bersangkutan (bagian Platform).  Berikut ini seluruh kode sumber yang harus Anda tempelkan ke bidang yang diinginkan: <br><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">REQUIRE</font> Authentication, Time; <br> <br> <font color="#a626a4">CLASS</font> Group <font color="#50a14f">' '</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Group); <br> <br> parent = <font color="#a626a4">DATA</font> Group (Group); <br> nameParent <font color="#50a14f">' '</font> (Group g) = name(parent(g)); <br> <br> level <font color="#50a14f">''</font> (Group child, Group parent) = <br> <font color="#a626a4">RECURSION</font> <font color="#986801">1l</font> <font color="#a626a4">IF</font> child <font color="#a626a4">IS</font> Group <font color="#a626a4">AND</font> parent = child <br> <font color="#a626a4">STEP</font> <font color="#986801">2l</font> <font color="#a626a4">IF</font> parent = parent($parent) <font color="#a626a4">MATERIALIZED</font> ; <br> <br> <font color="#a626a4">FORM</font> group <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (g) name, nameParent <br> <br> <font color="#a626a4">EDIT</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">FORM</font> groups <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> name, nameParent <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> groups; <br> } <br> <br> <font color="#a626a4">CLASS</font> Stock <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Stock); <br> <br> group <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Group (Stock); <br> nameGroup <font color="#50a14f">''</font> (Stock st) = name(group(st)); <br> <br> <font color="#a626a4">FORM</font> stock <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (s) name, nameGroup <br> <br> <font color="#a626a4">EDIT</font> Stock <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">FORM</font> stocks <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name, nameGroup <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Stock <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> stocks; <br> } <br> <br> <font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Product); <br> <br> <font color="#a626a4">FORM</font> product <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) name <br> <br> <font color="#a626a4">EDIT</font> Product <font color="#a626a4">OBJECT</font> p <br> ; <br> <br> <font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Product <font color="#a626a4">OBJECT</font> p <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br> <br> <font color="#a626a4">CLASS</font> PriceList <font color="#50a14f">'-'</font> ; <br> fromDate <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (PriceList); <br> toDate <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (PriceList); <br> <br> createdTime <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATETIME</font> (PriceList); <br> createdUser = <font color="#a626a4">DATA</font> User (PriceList); <br> nameCreatedUser <font color="#50a14f">''</font> (PriceList p) = name(createdUser(p)); <br> <br> <font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">SET</font> (PriceList p <font color="#a626a4">IS</font> PriceList) <font color="#a626a4">DO</font> <br> fromDate(p) &lt;- currentDate(); <br> <br> <font color="#a626a4">WHEN</font> <font color="#a626a4">SET</font> (PriceList p <font color="#a626a4">IS</font> PriceList) <font color="#a626a4">DO</font> { <br> createdTime(p) &lt;- currentDateTime(); <br> createdUser(p) &lt;- currentUser(); <br> } <br> <br> <font color="#a626a4">CLASS</font> PriceListDetail <font color="#50a14f">' -'</font> ; <br> priceList = <font color="#a626a4">DATA</font> PriceList (PriceListDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> product = <font color="#a626a4">DATA</font> Product (PriceListDetail); <br> nameProduct <font color="#50a14f">''</font> (PriceListDetail d) = name(product(d)); <br> <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (PriceListDetail); <br> <br> fromDate <font color="#50a14f">' '</font> (PriceListDetail d) = fromDate(priceList(d)); <br> toDate <font color="#50a14f">' '</font> (PriceListDetail d) = toDate(priceList(d)); <br> <br> dataIn <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (PriceList, Group); <br> <br> in <font color="#50a14f">' ()'</font> (PriceList p, Group child) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> dataIn(p, Group parent) <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(child, parent) <font color="#a626a4">WHERE</font> dataIn(p, parent); <br> <br> dataIn <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (PriceList, Stock); <br> in <font color="#50a14f">''</font> (PriceList p, Stock s) = dataIn(p, s) <font color="#a626a4">OR</font> in(p, group(s)); <br> <br> stocks <font color="#50a14f">''</font> (PriceList p) = <font color="#a626a4">CONCAT</font> <font color="#50a14f">' / '</font> , <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Group g) <font color="#a626a4">IF</font> dataIn(p, g), <font color="#50a14f">','</font> <font color="#a626a4">ORDER</font> g, <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Stock s) <font color="#a626a4">IF</font> dataIn(p, s), <font color="#50a14f">','</font> <font color="#a626a4">ORDER</font> s <br> <font color="#a626a4">CHARWIDTH</font> <font color="#986801">30</font> ; <br> <br> priceListDetail (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> PriceListDetail d <br> <font color="#a626a4">ORDER</font> fromDate(d), d <br> <font color="#a626a4">WHERE</font> product(d) = p <font color="#a626a4">AND</font> in(priceList(d), s) <font color="#a626a4">AND</font> <br> fromDate(d) &lt;= dt <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> toDate(d) &lt; dt; <br> <br> price <font color="#50a14f">''</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = price(priceListDetail(p, s, dt)); <br> fromDate <font color="#50a14f">' '</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = fromDate(priceListDetail(p, s, dt)); <br> toDate <font color="#50a14f">' '</font> (Product p, Stock s, <font color="#a626a4">DATE</font> dt) = toDate(priceListDetail(p, s, dt)); <br> <br> <font color="#a626a4">FORM</font> priceList <font color="#50a14f">'-'</font> <br> <font color="#a626a4">OBJECTS</font> p = PriceList <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) fromDate, toDate <br> <br> <font color="#a626a4">EDIT</font> PriceList <font color="#a626a4">OBJECT</font> p <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> priceList <br> <font color="#a626a4">OBJECTS</font> d = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameProduct, price <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> priceList(d) = p <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> priceList <br> <font color="#a626a4">TREE</font> stocks g = Group <font color="#a626a4">PARENT</font> parent, s = Stock <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g), name(s) <br> <font color="#a626a4">PROPERTIES</font> dataIn(p, g), in(p, g) <br> <font color="#a626a4">PROPERTIES</font> dataIn(p, s), in(p, s) <br> <font color="#a626a4">FILTERS</font> group(s) = g <br> ; <br> <br> <font color="#a626a4">DESIGN</font> priceList { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">TABBED</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { caption = <font color="#50a14f">''</font> ; } <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> stocks) { caption = <font color="#50a14f">''</font> ; } <br> } <br> } <br> } <br> <br> <font color="#a626a4">FORM</font> managePrices <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> p = PriceList <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> fromDate, toDate, stocks, createdTime, nameCreatedUser <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">OBJECTS</font> d = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">READONLY</font> nameProduct, price <br> <font color="#a626a4">FILTERS</font> priceList(d) = p <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> dt = <font color="#a626a4">DATE</font> <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">VALUE</font> (dt) <br> <br> <font color="#a626a4">TREE</font> groups g = Group <font color="#a626a4">PARENT</font> parent <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g) <br> <br> <font color="#a626a4">OBJECTS</font> s = Stock <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name, nameGroup <br> <font color="#a626a4">FILTERS</font> level(group(s), g) <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> pr = Product <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(pr), price(pr, s, dt), fromDate(pr, s, dt), toDate(pr, s, dt) <br> <font color="#a626a4">FILTERS</font> price(pr, s, dt) <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">OBJECTS</font> prd = PriceListDetail <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> <font color="#a626a4">BACKGROUND</font> (priceListDetail(pr, s, dt) = prd) <br> fromDate(prd), toDate(prd), <font color="#50a14f">''</font> = stocks(priceList(prd)), price(prd) <br> <font color="#a626a4">FILTERS</font> product(prd) = pr <font color="#a626a4">AND</font> in(priceList(prd), s) <br> ; <br> <br> edit (PriceListDetail d) + { edit(priceList(d)); } <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> managePrices <br> <font color="#a626a4">PROPERTIES</font> (prd) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">EDIT</font> <br> ; <br> <br> <font color="#a626a4">DESIGN</font> managePrices { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">TABBED</font> ; <br> <font color="#a626a4">NEW</font> priceLists { <br> caption = <font color="#50a14f">'-'</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d); <br> } <br> <font color="#a626a4">NEW</font> prices { <br> caption = <font color="#50a14f">''</font> ; <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">NEW</font> leftPane { <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (dt); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> groups); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (s); <br> } <br> <font color="#a626a4">NEW</font> rightPane { <br> fill = <font color="#986801">3</font> ; <br> type = <font color="#a626a4">SPLITV</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (pr) { fill = <font color="#986801">3</font> ; } <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (prd); <br> } <br> } <br> } <br> } <br> } <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> managePrices; <br> } <br></code> </td></tr></tbody></table></div></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id468553/">https://habr.com/ru/post/id468553/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id468541/index.html">Seret - & - Jatuhkan komponen untuk pengguna tunanetra? Apakah kamu bercanda?</a></li>
<li><a href="../id468543/index.html">FrontendConf Komite Program Hari Kerja. Wawancara dengan Sergey Popov</a></li>
<li><a href="../id468545/index.html">"Alice, ayo pergi ke frontend!"</a></li>
<li><a href="../id468547/index.html">Berbicara Bahasa Inggris, CSS, Kisi dan Aksesibilitas di FrontendConf</a></li>
<li><a href="../id468549/index.html">Terikat GPU. Cara mentransfer semuanya ke kartu video dan sedikit lagi. Animasi</a></li>
<li><a href="../id468555/index.html">Pengantar majelis deterministik dalam C / C ++. Bagian 2</a></li>
<li><a href="../id468557/index.html">WEB 3.0 - pendekatan kedua ke proyektil</a></li>
<li><a href="../id468559/index.html">Cadangkan cloud, teman-teman</a></li>
<li><a href="../id468561/index.html">Minggu Keamanan 39: kesalahan keamanan dan biasa</a></li>
<li><a href="../id468563/index.html">Watchmen Watch: Keadaan Saat Ini dari Fasilitas Pelacakan Antariksa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>