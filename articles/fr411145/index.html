<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïü üçé üßõüèΩ Mes petits relais: l'ordinateur Brainfuck est une r√©alit√© üë¥üèª ‚õπüèª ü§ó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Exactement un an s'est √©coul√© depuis la derni√®re publication et j'ai pens√© que le premier avril √©tait un grand jour pour le r√©sum√© annuel de mes trois...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mes petits relais: l'ordinateur Brainfuck est une r√©alit√©</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411145/"><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/m0/ly/sf/m0lysfg74dvrhabcw-sbs1lld7g.jpeg"></a> <br>  Exactement un an s'est √©coul√© depuis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la derni√®re publication</a> et j'ai pens√© que le premier avril √©tait un grand jour pour le r√©sum√© annuel de mes trois projets informatiques fous.  A cette √©poque, le projet n'existait que sur le papier, mais maintenant il est d√©finitivement devenu une r√©alit√©. </p><br><p>  Sonnerie des blocs de relais, les calculs de relais les plus rapides au monde (mais ce n'est pas pr√©cis), conclusion, indicateurs de vide et LED clignotantes. </p><a name="habracut"></a><br><h1 id="istoricheskaya-spravka">  Contexte historique </h1><br><p><img src="https://habrastorage.org/webt/kh/qa/4m/khqa4myljg149ffbe7kjbmlmh_q.jpeg"><br>  <em>Figure 1: Un volume de "Radio-Electronic Toys" de Wojciechowski, 1979, battu par ma vie et moi-m√™me.</em> </p><br><p>  Il √©tait une fois, quand tout √©tait grand et que j'√©tais petit (un an comme √ßa en 2002), mon p√®re m'a donn√© le livre Radio-Electronic Toys de Wojciechowski.  Ensuite, je n'avais pas d'ordinateur, mais je n'ai pas entendu parler d'Internet du tout, et un livre familier √† beaucoup s'est av√©r√© √™tre juste un entrep√¥t d'appareils √©lectroniques divertissants.  Parmi eux, il y avait une description d'un ordinateur √©lectronique et d'un mod√®le de circuit simple sur des relais t√©l√©phoniques.  Ce mod√®le, √©tant dans ma deuxi√®me ann√©e √† l'universit√© en 2008, j'ai mis en place pour un rapport sur l'histoire des ordinateurs. </p><br><p><img src="https://habrastorage.org/webt/cn/1w/-3/cn1w-35bc5xkah3gs2f8hgr8fgc.jpeg"><br>  <em>Figure 2: RCM - ALU 4 bits</em> </p><br><p>  √Ä cette √©poque, j'explorais d√©j√† les vastes √©tendues d'Internet et j'√©tais conscient de l'existence √† la fois de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ordinateur relais de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Harry Porter, de l'</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ordinateur relais n ¬∞ 2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">et de l'ordinateur relais Zuse</a> - je pensais √† construire ma propre unit√©. </p><br><p>  Pour ceux qui connaissent mal ce que les autres ont, je sugg√®re de visionner ma revue vid√©o des ordinateurs relais faits maison.  Au fil de l'ann√©e, il est un peu d√©pass√©, mais n'a pas cess√© d'√™tre moins int√©ressant: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/whk8NKAdsB8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Dans le m√™me 2008, dans les cours sur les fondements th√©oriques de l'√©lectrotechnique, j'ai d√©cid√© du composant principal - un relais reed.  Dans l'un des laboratoires, j'ai √©t√© surpris d'observer sur la forme d'onde le fonctionnement du b√©b√© RES55 √† une fr√©quence de 50 Hz.  Cela m'a fait une impression durable et j'ai commenc√© √† accumuler des interrupteurs √† lames. </p><br><h1 id="proshlo-10-let">  10 ans se sont √©coul√©s .... </h1><br><p>  Et apr√®s une d√©cennie, le projet avance √† grande vitesse pour sortir.  Tout est pass√© d'un point mort en novembre 2016, lorsque l'architecture actuelle est n√©e.  Malheureusement, j'ai d√©cid√© de fabriquer toutes les cartes de circuits imprim√©s par moi-m√™me ... en cons√©quence, un m√®tre carr√© de PCB double face s'est transform√© en trou noir et a aspir√© en lui-m√™me plusieurs centaines d'heures de travail, ce qui repr√©sente environ six mois pour un employ√©.  D'avril √† novembre 2k17, il ne s'est pratiquement rien pass√©. </p><br><h1 id="infografika">  Infographie </h1><br><p><img src="https://habrastorage.org/webt/sl/is/nf/slisnf0apkc-ncrszkk55oxehxu.jpeg"></p><br><p>  L'architecture de la machine correspond √† la machine de Turing.  Il y a une bande avec des donn√©es - RAM pour 64 kiloslov (mot 16 bits).  RAM - puces de cache d'une sorte de tapis.  cartes m√®res pour Intel Pentium.  Pour l'authenticit√©, rendez-vous dans la section ... Authenticit√©.  La RAM √† microcircuit est utilis√©e dans la plupart des ordinateurs relais maison que je connais. </p><br><p>  L'√©l√©ment central est un additionneur parall√®le 16 bits.  Il est responsable du calcul du num√©ro de la prochaine instruction et travaille avec des donn√©es et un pointeur vers celles-ci. <br>  Aux entr√©es de l'additionneur se trouvent un registre temporaire de 16 bits et un registre de commande de 12 bits.  12 bits sont √©galement envoy√©s aux 4 bits de poids fort de l'additionneur, ce qui donne un "plein" 16 bits.  Il est important que l'additionneur fonctionne correctement avec l'addition et la soustraction d'un nombre de 12 bits. </p><br><p>  L'inconv√©nient est √©vident - √† la fois, nous ne pouvons sauter que 2 ^ 12 instructions en arri√®re ou en avant, ou changer le pointeur ou les donn√©es selon cette valeur.  Le premier - vous devez tenir compte lors de l'√©criture de programmes, le second - vous pouvez toujours r√©p√©ter la proc√©dure. </p><br><p>  La soustraction est dans le code suppl√©mentaire.  Le transfert parall√®le fournit un retard de calcul constant - seulement 3 relais en s√©rie.  Ce n'est pas plus de 2 ms. </p><br><p>  Le registre IP et le registre AP, ainsi que l'entr√©e RAM, sont connect√©s √† la sortie de l'additionneur via des verrous. </p><br><h2 id="vychisleniya">  Calculs </h2><br><p>  Les op√©rations principales sont exactement deux pi√®ces.  Dans un cas, nous travaillons avec le calcul d'une nouvelle valeur de pointeur, dans l'autre, une nouvelle valeur de donn√©es. </p><br><p>  Chaque front montant commence le calcul d'un nouveau num√©ro d'instruction.  Essentiellement, IP ++ est termin√©.  Apr√®s le calcul, IP est appliqu√© √† l'entr√©e d'adresse de la carte m√©moire et via le bus de donn√©es, l'instruction entre dans le registre de commande.  Les 4 bits sup√©rieurs d√©terminent la future instruction, les 12 bas ne sont probablement pas √©gaux √† z√©ro et √† l'avenir l'additionneur changera le nombre dans le registre temporaire exactement de cette valeur. </p><br><p>  Chaque front descendant commence l'op√©ration. </p><br><p>  Pour les op√©rations avec des registres AP et IP, la s√©quence d'actions ressemble √† ceci: </p><br><ol><li>  Via le bus d'adresse, le contenu du registre IP (AP) est copi√© dans le registre temporaire; </li><li>  Des registres temporaires et de commande sont fournis √† l'entr√©e de l'additionneur.  Apr√®s 2 ms, la r√©ponse sera pr√™te √† la sortie de l'additionneur. </li><li>  La r√©ponse est enregistr√©e dans le registre IP ou AP. </li></ol><br><p>  Il y a quelques fonctionnalit√©s.  Pour les commandes AP + BIAS et AP-BIAS, c'est exactement le cas, pour les commandes conditionnelles, lorsque par exemple IP = (* AP == 0?) IP + 1: IP + -BIAS, nous devons toujours t√©l√©charger la valeur actuelle de la cellule de donn√©es sur le bus de donn√©es et la supprimer informations provenant d'un d√©tecteur nul. </p><br><p>  Pour les op√©rations <em>AP + BIAS et</em> AP-BIAS, la s√©quence est l√©g√®rement diff√©rente. </p><br><ol><li>  Via le bus de donn√©es, la valeur actuelle de la cellule m√©moire est √©crite dans le registre temporaire. </li><li>  Des registres temporaires et de commande sont fournis √† l'entr√©e de l'additionneur.  Apr√®s 2 ms, la r√©ponse sera pr√™te √† la sortie de l'additionneur. </li><li>  Le registre AP continue d'√™tre aliment√© √† l'entr√©e de la carte m√©moire.  La r√©ponse de l'additionneur est √©crite directement dans la m√©moire. </li></ol><br><p>  Les calculs se produisent toujours en mode 16 bits.  Mais le drapeau nul de la branche conditionnelle est d√©fini comme: </p><br><pre><code class="cpp hljs">Z = ((<span class="hljs-number"><span class="hljs-number">16b</span></span>it?) *AP : (*AP) &amp; <span class="hljs-number"><span class="hljs-number">0x00FF</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) ;</code> </pre> <br><h1 id="konstrukciya">  La construction </h1><br><p>  Rien n'a chang√© depuis la derni√®re fois. </p><br><h2 id="modul">  Module </h2><br><p><img src="https://habrastorage.org/webt/h1/9b/9m/h19b9mwdk162l0g8x5iwtbweypo.jpeg"><br>  <em>Figure 3: Module informatique.</em>  <em>De gauche √† droite: module D-flip-flop, module diode, module 2AND / 2XOR</em> </p><br><p>  Au c≈ìur se trouve un petit module de 40x64 mm.  Chaque module est une carte de circuit imprim√© √† 4 relais, sur laquelle une op√©ration logique simple est impl√©ment√©e.  Il y a un connecteur pour 16 contacts (il y a des modules pour 12 et 14 contacts) et jusqu'√† 4 LED.  Toutes les tailles sont strictement fixes. </p><br><p><img src="https://habrastorage.org/webt/an/jz/uo/anjzuocj0hnbubswwexxtukvn_e.jpeg"><br>  <em>Figure 4: Modules pendant l'assemblage</em> </p><br><p>  Par exemple: </p><br><ol><li>  Module 2AND / 2XOR - 2 op√©rations logiques ind√©pendantes - 2AND et 2XOR.  32 pi√®ces sont utilis√©es dans le bloc additionneur, deux modules par bit.  Au d√©but, les 4 LED ont √©t√© soud√©es, mais les circuits du module sont tels que deux relais sur chaque module sont connect√©s en parall√®le, et pour r√©duire la puissance consomm√©e par l'unit√©, la moiti√© des LED a √©t√© retir√©e. </li><li>  Module D-trigger - 64 pi√®ces vont √† deux blocs de registres.  Parmi ceux-ci, 60 sont des d√©clencheurs sans signal d'activation. </li><li>  Module de diode - seulement 8 diodes sur la carte pour impl√©menter une diode √† entr√©es multiples OU.  Un hack sale, mais il permet d'√©conomiser √† la fois sur un relais (j'ai encore environ 400 relais en r√©serve maintenant) et sur le temps - par rapport √† un relais, le signal est transmis √† la sortie d'un tel √©l√©ment logique instantan√©ment. </li><li>  Module 2 &amp; - Ceci est la brique de base.  En fait, il y a 4 relais avec un contact de commutation pour impl√©menter absolument n'importe quel circuit logique.  Ils iront √† des blocs de logique en quantit√© inconnue. </li><li>  Universal 2AND / 2OR qui est fait de telle mani√®re qu'il permet d'impl√©menter presque toutes les fonctions logiques - 4AND, 4OR, 4AND-NOT, 4OR-NOT et ainsi de suite.  Il ira √©galement au bloc logique en une quantit√© inconnue. </li></ol><br><p>  Comme je l'ai dit - apr√®s avoir perdu beaucoup de temps √† faire des circuits imprim√©s faits maison, j'ai paniqu√© et j'ai command√© un ensemble complet de circuits imprim√©s aux Chinois.  Au cours de la premi√®re semaine, j'ai assembl√© les premiers modules.  Et un mois plus tard, tous les modules du bloc additionneur √©taient pr√™ts. </p><br><p><img src="https://habrastorage.org/webt/xn/72/gz/xn72gzk6fnala_kjqcga1ycq-cc.jpeg"><br>  <em>Figure 5: bloc Adder</em> </p><br><h2 id="blok">  Bloquer </h2><br><p>  32 modules de 8 modules sur 4 rang√©es sont combin√©s en un bloc fonctionnel.  Il y a 5 blocs au total (dans le pire des cas, 6): </p><br><ol><li>  Le bloc additionneur est un additionneur complet 16 bits.  Deux entr√©es 16 bits pour les nombres, 1 ligne de transfert z√©ro bit, deux sorties.  L'un est l'op√©ration de sommation, l'autre est le XOR entre les entr√©es.  Il peut √™tre utilis√© comme une op√©ration ind√©pendante. </li><li>  Bloc de registre IP / AP - Deux registres 16 bits ind√©pendants sans signal d'activation.  Les r√©sultats de Q et ~ Q sont utilis√©s directement et sont aliment√©s par des verrous √† l'endroit o√π ils suivent.  Il √©tait possible de souder 4 relais, mais pour sauver le relais, la fonctionnalit√© a √©t√© mise sur des verrous externes. </li><li>  Bloc de registres TMP / CMD - Il y a ici trois registres.  L'un est un registre temporaire 16 bits.  Exactement la m√™me chose que IP ou AP.  Le second est de 12 bits; sa sortie est connect√©e √† l'entr√©e de l'additionneur via un verrou.  Le troisi√®me est 4 bits, avec un signal d'activation int√©gr√©.  Il est utilis√© pour stocker l'instruction en cours. </li><li>  Blocs logiques - 2 pi√®ces.  Ou trois.  Le sch√©ma est encore inconnu.  Les calculs pr√©liminaires montrent que 64 modules suffiront (GOTO: Memory Board). </li></ol><br><p>  √Ä la base de chaque bloc, la plaque de base mesure 200x150 mm, sans c√¢blage.  Tout ce qui s'y trouve, ce sont 32 connecteurs et broches carr√©es qui sortent par le bas pour une installation enveloppante. </p><br><p><img src="https://habrastorage.org/webt/s_/pn/tl/s_pntl-inevaow8u_8bnzg-710k.jpeg"><br>  <em>Figure 6: Plinthe et son panier</em> </p><br><p>  Les modules qui sortent dans le connecteur comme √ßa ne sont pas fiables.  Ils s'accrocheront ici et l√†, passeront de secousses et r√©duiront en tout point la fiabilit√© de la structure.  Pour les r√©parer, j'ai dessin√© et imprim√© des paniers sp√©ciaux avec des rainures.  Les modules n'iront certainement nulle part en eux - ils ont surv√©cu √† un trajet en train vers Moscou et vice versa sans aucun probl√®me. </p><br><p>  Le panier aurait pu √™tre dessin√© plus facilement - avec une couche de 0,32 mm, il imprimerait un peu plus de 10 heures.  Trois paniers sont imprim√©s avec du plastique PLA, deux autres avec HIPS.  Ce dernier, en raison de l'absence de bo√Ætier pour mon imprimante, se d√©forme sensiblement lors de l'impression. </p><br><p>  Vous remarquerez peut-√™tre que le bloc additionneur n'a pas d'oreille pour la fixation.  Le panier pour lui a √©t√© imprim√© le premier.  Ensuite, je vais amarrer ces oreilles ou imprimer un nouveau panier. <br><img src="https://habrastorage.org/webt/y3/es/a5/y3esa50tcletmcbmu5zn5nhxhrk.jpeg"><br>  <em>Figure 7: bloc additionneur et bloc logique.</em> </p><br><h2 id="montazh-nakrutkoy">  Enroulement de fil </h2><br><p>  Au fond, nous attendons 600 conclusions qui doivent √™tre interconnect√©es.  Heureusement, il est n√©cessaire de connecter non seulement tout, mais presque tout.  En revanche, cela ne devient pas plus facile. </p><br><p>  Nous prenons un outil sp√©cial, une bobine de fil et une jambe apr√®s une jambe, nous enroulons le sch√©ma de connexion. </p><br><p><img src="https://habrastorage.org/webt/wj/ak/gv/wjakgvtczgj932i6vpb77xjpb_e.jpeg"><br>  <em>Figure 8: R√©capitulation du bloc additionneur</em> </p><br><p>  Ce n'est que le d√©but du travail.  Eh bien, pour commencer.  Au d√©but, il y avait une horreur tranquille - les fils √©taient pos√©s au hasard, certains cavaliers sont longs, d'autres sont trop longs ... Apr√®s avoir appris un peu mieux qu'avant, j'ai retir√© la plupart des cavaliers et je l'ai tordu √† nouveau - j'ai commenc√© √† √©tirer les cavaliers avec une corde.  Ainsi, les fils ne tra√Ænent pas et le r√©sultat est bien meilleur.  J'ai essay√© de le mettre de fa√ßon √† ce que les fils n'appuient pas sur les coins de leurs broches.  En cons√©quence, pas un seul circuit.  D√®s la premi√®re tentative, il n'y avait que des lignes de terre. </p><br><p><img src="https://habrastorage.org/webt/bq/6t/e3/bq6te3y4th4_ahzqaa12kto6llw.jpeg"><br>  <em>Figure 9: R√©capitulation du bloc additionneur.</em>  <em>R√©sultat final</em> </p><br><p>  Pour le moment, ce n'est pas vraiment simple, mais pour la premi√®re planche un tr√®s bon r√©sultat, je pense.  Jusqu'√† pr√©sent, je n'ai pas appris √† poser du fil √† bobiner, ni un outil courbe, ni des mains ... </p><br><p>  Chez camarade  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">UA3MQJ</a> contient un <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article d√©taill√©</a></strong> sur cette m√©thode d'installation. </p><br><p>  En plus du bloc additionneur, un bloc de registre est n√©cessaire.  Plut√¥t, deux registres de blocs.  Encore quelques mois - et 64 autres modules sont assembl√©s et test√©s.  Reste √† enrouler la planche de base. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ctT1eXD5qDE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  C'√©tait comment. </p><br><h1 id="indikatornye-moduli">  Modules indicateurs </h1><br><p><img src="https://habrastorage.org/webt/pq/u-/2i/pqu-2ianoeafpk1aubms_sevths.jpeg"><br>  <em>Figure 10: Module indicateur</em> </p><br><p>  L'√©tat actuel des registres du processeur doit √™tre affich√© sur quelque chose et j'ai d√©cid√© que les indicateurs de vide seront parfaits.  Sur la carte 100x100mm (pour 10 pi√®ces de cette taille que vous pouvez commander aupr√®s des chinois pour 5 $), il y a 6 indicateurs IV-6, des d√©clencheurs K155TM8 et un microcontr√¥leur.  L'indication ici est dynamique. </p><br><p>  Il y a √©galement une entr√©e 16 bits pour une lecture directe de l'√©tat du registre et un port UART pour recevoir des commandes de la carte m√©moire. </p><br><p>  Le micrologiciel peut d√©sormais lire l'√©tat du port 16 bits et l'afficher au format HEX sur l'indicateur.  Au total, j'ai besoin de 4 pi√®ces de ces modules.  Trois afficheront l'√©tat actuel des registres - IP, AP et CMD du registre afin d'avoir une visualisation plus pratique des valeurs stock√©es actuelles.  Quatri√®mement - affichera le nombre total d'instructions ex√©cut√©es. </p><br><h1 id="zaschelka">  Loquet </h1><br><p><img src="https://habrastorage.org/webt/tt/u8/s6/ttu8s6chfwlltkbgkzbsbrldz0k.jpeg"><br>  <em>Figure 11: Module de verrouillage</em> </p><br><p>  Le module de verrouillage est compos√© de 8 relais RES43.  √Ä l'int√©rieur se trouvent deux contacts.  Gauche et droite sont des LED qui affichent l'√©tat actuel de l'entr√©e et de la sortie. </p><br><p>  La taille du verrou est de 100x100 mm.  La quantit√© requise est de 8 pi√®ces.  Deux sont pr√™ts, il reste √† en collecter six de plus. </p><br><h1 id="plata-pamyati">  Carte m√©moire </h1><br><p><img src="https://habrastorage.org/webt/ou/zw/vt/ouzwvtghdzcjmuywgdroiiovasi.jpeg"><br>  <em>Figure 12: Carte m√©moire.</em>  <em>Vue g√©n√©rale</em> </p><br><p>  Le bloc le plus grand, qui contient principalement deux 64 Ko de puces de RAM statique et des sch√©mas de correspondance pour les entr√©es d'adresse et un port de donn√©es.  La carte abrite le microcontr√¥leur ATmega1280.  Il a deux t√¢ches essentielles: </p><br><ol><li>  T√©l√©chargement du programme et des donn√©es initiales sur la RAM.  Le binaire compil√© doit √™tre plac√© en m√©moire.  Pour ce faire, il sera possible de se connecter √† la carte m√©moire via UART ou telnet (via Wi-Fi) et de t√©l√©charger le fichier ex√©cutable.  MK lira l'en-t√™te et disposera des sections de code et de donn√©es dans la RAM.  Je suis compl√®tement trop paresseux pour le faire avec les interrupteurs √† bascule et les boutons - un programme de brainfuck qui peut faire quelque chose de plus compliqu√© HelloWorld contient des milliers d'instructions.  Il y a quelques atouts dans le nid √† cet √©gard, mais √† leur sujet une autre fois. </li><li>  Il impl√©mente des commandes pour lire les donn√©es de la console et y √©crire.  Oui oui instructions. ""  et ¬´,¬ª sont impl√©ment√©s √† l'aide de MK.  Au contraire, la logique de relais informe le MK qu'il est maintenant n√©cessaire de transf√©rer l'√©tat du bus de donn√©es vers la console, ou vice versa pour sortir la valeur de la console vers le bus de donn√©es.  En fait, MK fonctionne comme un convertisseur d'interface parall√®le dans UART.  Oui, il est tout √† fait possible d'ex√©cuter sur certains sp√©ciaux.  puce et je vais y penser. </li></ol><br><p>  Je n'ai toujours pas d√©cid√© quoi faire avec le mode 16 bits.  Bien s√ªr, la plupart des programmes sont √©crits sous le brainfuck 8 bits et tout est simple - nous lisons et √©crivons l'octet bas.  Et en mode 16 bits, que dois-je faire?  Afficher le mot entier ou seulement l'octet bas aussi? </p><br><p>  En plus des principales, MK a un certain nombre de t√¢ches secondaires, dont vous pouvez vous passer, en principe, mais elles visent √† la commodit√© d'utilisation de la machine: </p><br><ol><li>  MK est responsable de l'affichage d'une petite zone de m√©moire sur une matrice LED 32x16 pixels.  Il le fait alors que le bus d'adresse et le bus de donn√©es ne sont pas occup√©s par la logique principale.  Ici, je ne suis pas s√ªr que pour MK, il y aura g√©n√©ralement du temps dans le bus, donc la question doit √™tre v√©rifi√©e.  Mais dans l'en-t√™te du programme, il y aura une adresse de d√©but pour l'affichage et je vais essayer de le faire fonctionner.  L'indication est dynamique.  Deux colonnes de donn√©es sont sorties simultan√©ment en un seul cycle d'horloge. </li><li>  Lorsque le drapeau du mode de m√©moire prot√©g√©e est activ√© dans le binaire, en cas de tentative d'ex√©cution d'une section de donn√©es ou d'√©criture dans la section de m√©moire, le MK g√©n√©rera une exception "D√©faut de segmentation".  Nous pouvons donc nous assurer que le programme ne va pas l√† o√π il ne devrait pas.  La lecture de la section m√©moire n'est pas interdite. </li><li>  Lorsque le drapeau de contr√¥le de code est activ√©, MK active le simulateur et y ex√©cutera les m√™mes instructions que l'ordinateur, en comparant les r√©sultats attendus et re√ßus.  Si le r√©sultat est diff√©rent, l'exception ¬´Erreur machine¬ª sera lev√©e.  Cela signifie qu'une erreur s'est produite dans les calculs et qu'un module a peut-√™tre commenc√© √† √©chouer.  Ou nous avons aussi augment√© la fr√©quence d'horloge et les relais n'ont plus le temps de calculer.  Juste avec l'aide de cette fonctionnalit√©, j'essaierai de tirer le maximum de la voiture - quelque chose devra contr√¥ler le bon fonctionnement pendant cette p√©riode. </li></ol><br><p>  Il y a toujours une fonction temporaire, mais toujours vitale, de la carte m√©moire - √©muler un bloc de logique alors qu'il n'est pas l√†.  Il y a des lignes d'entr√©e et de sortie sur la carte m√©moire et nous pouvons fournir les signaux n√©cessaires aux blocs.  Ainsi, en connectant toutes les lignes de contr√¥le √† la carte m√©moire et en √©crivant un programme qui √©met la s√©quence de commandes n√©cessaire, cela se r√©v√©lera dans les plus brefs d√©lais: </p><br><ol><li>  ex√©cuter les premiers programmes pour ex√©cution; </li><li>  D√©boguer les algorithmes et les circuits du bloc logique, ce qui augmentera les chances de son assemblage et de son fonctionnement sans erreur plus tard. </li></ol><br><p>  Ensuite, en collectant les modules n√©cessaires des blocs logiques, toutes les fonctions seront progressivement transf√©r√©es "√† repasser".  Lorsque MK cesse d'√™tre responsable de la logique, le projet sera consid√©r√© comme termin√©. </p><br><h1 id="autentichnost">  L'authenticit√© </h1><br><p>  Le projet n'a pas √©t√© con√ßu √† l'origine comme purement relais, sans l'utilisation de transistors et de microcircuits.  D'une part, l'ordinateur se r√©v√®le √™tre hybride et perd en r√©sistance aux radiations, d'autre part, la plupart des ordinateurs relais ont une maladie similaire.  La version finale de la machine utilisera une puce m√©moire et un microcontr√¥leur.  La m√©moire de ferrite sera utilis√©e dans un autre projet, d√©j√† ¬´sans silicone¬ª. </p><br><p>  Pour compenser l'effet non-canon, j'ai obtenu une machine √† √©crire √©lectronique "Robotron S6130" </p><br><p><img src="https://habrastorage.org/webt/7q/sc/qp/7qscqpvy4fjdknrgucm0ryum5im.jpeg"><br>  <em>Figure 13: Machine √† √©crire √©lectronique de type camomille.</em> </p><br><p>  Malheureusement, la machine est all√©e vers moi dans un √©tat de vie minable.  Il fut longtemps utilis√© en comptabilit√©, mais fut finalement abandonn√© pour mourir dans un splendide isolement. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Bmlq4-TQYF0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Je recommande de consulter une critique unique de ce monstre. </p><br><p>  Directement, la m√©canique est en bon √©tat, mais la carte processeur, sur laquelle reposait une paire de batteries Ni-Cd D-0,25, a √©t√© fortement prise.  Ils ont fui en toute s√©curit√© et ont tout inond√© d'√©lectrolyte. </p><br><p>  Je veux le restaurer et l'utiliser comme terminal d'entr√©e / sortie pour l'ordinateur.Toutefois, en plus du dysfonctionnement de la partie √©lectronique, la machine a une marguerite russe (lecteur avec des lettres) et des touches russes.  Le second est d√©cid√© par des stickers, le premier est √† chercher et l√† je n'ai pas encore de chance.  √Ä propos du fait qu'une cartouche avec un ruban encreur est n√©cessaire, je me tais g√©n√©ralement.  Au moins, j'ai du papier pour elle .. </p><br><p>  S'il est d√©cid√© par l'√©lectronique qu'elle est irr√©m√©diablement perdue, alors j'essaierai de trouver un donneur, ou je d√©velopperai un nouveau remplissage √©lectronique.  Faire d'un tableau de commande une poign√©e de shagoviks n'est pas la t√¢che la plus difficile.  Il sera plus difficile de traduire un manuel de l'allemand et de comprendre les savoirs traditionnels.  Bien s√ªr, cette machine m√©rite un article s√©par√© sur les r√©sultats de la renaissance.  Contre elle, jusqu'ici est la priorit√© du travail effectu√©. </p><br><h1 id="testy">  Les tests </h1><br><p>  Tous ceux qui auront lu jusqu'√† cet endroit recevront une r√©compense sous la forme de blocs de relais qui craquent et bourdonnent. </p><br><p>  Pour commencer, essayons d'appliquer une onde carr√©e √† l'entr√©e du relais via une cascade de transistors: </p><br><p><img src="https://habrastorage.org/webt/aa/9s/ob/aa9sobefi3g2phsqmkudkq9cafw.jpeg"><br>  <em>Figure 14: Test √† grande vitesse du commutateur √† lames RES55.</em>  <em>Un signal jaune est sur la bobine, le bleu est sur les contacts</em> </p><br><p>  Puisque l'entr√©e de l'oscilloscope a une certaine capacit√©, et apr√®s l'ouverture du contact du relais, il reste dans l'air et l'autod√©charge commence, nous voyons l'exposant oppos√©.  √Ä une fr√©quence de 1,7 kHz!  Pour le relais!  Pour un petit relais reed!  D√©crochage ordinaire √† 20 Hz ou l√©g√®rement sup√©rieur.  √Ä une fr√©quence nominale de 100 Hz, les fronts montant et descendant sont d'environ 600 Œºs chacun.  Ici, ils sont si petits (200 microsecondes), car l'√©nergie de la pr√©c√©dente reste toujours dans la bobine lors de la prochaine mise sous tension. </p><br><p>  Nous appliquons une tension aux blocs, coupons les interrupteurs des instruments de mesure sovi√©tiques aux entr√©es. </p><br><p><img src="https://habrastorage.org/webt/yx/zv/pa/yxzvpakpbgnygfzcnkxcvllaxvq.jpeg"><br>  <em>Figure 15: bloc additionneur et bloc registre en fonctionnement</em> </p><br><p>  √áa compte!  Cool. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zqWaLdvAkPY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Donc, √ßa avait l'air de la sc√®ne.  Au d√©but, je voulais refaire les commutateurs en 16 bits.  Connectez les indicateurs √† l'entr√©e et √† la sortie, mais ... je n'ai pas pu r√©sister. </p><br><p>  Eh bien, puisque tout fonctionne et que le relais s'est av√©r√© √™tre capable de vitesses folles, nous alimentons le m√©andre de la ligne de transfert: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8WnqqeKWtjw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Et nous avons coup√© 500 Hz.  L'additionneur fait face, bien que le son ne puisse pas √™tre dit.  En fait, le son est clair, mais le microphone √† condensateur pense diff√©remment.  √Ä ma connaissance, c'est l'additionneur de relais le plus rapide au monde. </p><br><h1 id="prodolzhenie-sleduet">  √Ä suivre </h1><br><p><img src="https://habrastorage.org/webt/3v/et/il/3vetilfxdaaga8060ahosnruc34.jpeg"><br>  <em>Figure 16: Conception d'un ch√¢ssis d'ordinateur</em> </p><br><p>  Progressivement, les six pi√®ces de loquets manquantes sont r√©cup√©r√©es et le ch√¢ssis de la future machine commence √† √™tre con√ßu.  Il y a six blocs dans le dessin au cas o√π 64 modules ne seraient pas suffisants pour la logique.  Et si cela suffit, la place sous le bloc central inf√©rieur restera vide. </p><br><p>  Dans le m√™me temps, j'√©cris un firmware pour une carte m√©moire afin qu'elle puisse remplacer un bloc logique manquant.  L'√©t√©, l'ordinateur pourra ex√©cuter son premier programme. </p><br><h2 id="tri-kompyutera">  Trois ordinateurs ??? </h2><br><p>  Oui, trois.  Le premier est l'actuel BrainfuckPC.  Le second est un ordinateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pneumatique</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nomm√© FluidicPC</a> . </p><br><div class="spoiler">  <b class="spoiler_title">√Ä propos du troisi√®me futur monstre r√©sistant aux radiations, vous pouvez d√©j√† trouver des r√©f√©rences sur Internet, mais je ne veux pas pulv√©riser entre les projets et je veux d'abord terminer le projet actuel - je ne fais pas encore d'annonce √† ce sujet.</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/fn/l2/xu/fnl2xu1n17czsdx6lbs5u2yzkmi.jpeg"><br>  <em>Figure 17: D√©catrons de commutation A101, A102 et A103</em> <br>  Bien qu'√† partir de cette image, vous pouvez d√©j√† deviner ce qui sera discut√©. </p></div></div><br><h2 id="zacheeeem">  POURQUOI ???? </h2><br><img src="https://habrastorage.org/files/1fb/f24/c16/1fbf24c164974f8fabba8e7e03e5856b.jpg"><br><br><h2 id="ssylki">  Les r√©f√©rences </h2><br><p>  L'ensemble du projet reste totalement ouvert.  Par cons√©quent, les principaux liens du projet: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©f√©rentiel avec sch√©mas de circuits et sch√©mas de circuits imprim√©s</a> .  Il existe √©galement un firmware pour le module indicateur et la carte m√©moire </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sur cette page,</a> je publie chaque semaine et peu de rapports sur ce qui a √©t√© fait.  Vous lisez maintenant un article, un peu plus que compl√®tement compos√© de ces notes.  Avec traduction, commentaires et ajouts. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Compilateur et √©mulateur</a> . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr411145/">https://habr.com/ru/post/fr411145/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr411135/index.html">Param√®tres</a></li>
<li><a href="../fr411137/index.html">VTC - Centre de communication par satellite (Vladivostok)</a></li>
<li><a href="../fr411139/index.html">Le myst√®re de la dur√©e de vie des neutrons devient plus compliqu√© et la mati√®re noire n'est toujours pas visible</a></li>
<li><a href="../fr411141/index.html">"Smart home" sur Arduino pour un vestiaire</a></li>
<li><a href="../fr411143/index.html">Programmation des microcontr√¥leurs modernes: le√ßon 1</a></li>
<li><a href="../fr411147/index.html">Immenses taches de plan√®tes g√©antes</a></li>
<li><a href="../fr411149/index.html">Pr√©vision TRIZ des syst√®mes d√©centralis√©s et de la soci√©t√© cyber-physique de 2035</a></li>
<li><a href="../fr411151/index.html">iMX6ULL. Transition vers les modules processeurs</a></li>
<li><a href="../fr411153/index.html">Neuf cercles de bureaucratie: comment un a√©roport de Denver tente d'obtenir une licence de port spatial</a></li>
<li><a href="../fr411155/index.html">Remplacez les antibiotiques habituels par des mol√©cules synth√©tiques d'IBM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>