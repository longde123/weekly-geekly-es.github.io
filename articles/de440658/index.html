<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∞üèΩ üë®‚Äçüíº ü§æüèæ Exploring Docker, Teil 4: Reduzieren der Gr√∂√üe von Bildern und Beschleunigen ihrer Montage üëÉüèæ üë≤üèº ü§òüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Teil der √úbersetzung der Docker-Reihe werden wir dar√ºber sprechen, wie Sie die Bildgr√∂√üe optimieren und die Montage beschleunigen k√∂nnen. In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exploring Docker, Teil 4: Reduzieren der Gr√∂√üe von Bildern und Beschleunigen ihrer Montage</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/440658/">  In diesem Teil der √úbersetzung der Docker-Reihe werden wir dar√ºber sprechen, wie Sie die Bildgr√∂√üe optimieren und die Montage beschleunigen k√∂nnen.  In fr√ºheren Materialien haben wir Docker-Bilder mit Pizza, Begriffe mit Donuts und Dockerfile-Anweisungen mit Bagels verglichen.  Heute wird nicht gebacken.  Es ist Zeit, eine Di√§t zu machen. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1: die Grundlagen</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2: Begriffe und Konzepte</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3: Dockerfile-Dateien</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4: Verkleinern von Bildern und Beschleunigen ihrer Montage</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5: Teams</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 6: Arbeiten mit Daten</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d1/a39/97f/4d1a3997f86da202d60bfbfb882efb9e.jpg"></div><br>  Um zu verstehen, wor√ºber wir hier sprechen werden, ist es hilfreich, wenn Sie die Erinnerung an das auffrischen, was im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dritten Teil</a> dieser Materialreihe besprochen wurde.  Dort haben wir n√§mlich √ºber Dockerfile-Dateianweisungen gesprochen.  Wenn Sie diese Anweisungen und die Funktionen von Docker kennen, die wir heute diskutieren, k√∂nnen Sie Ihre Docker-Bilddateien optimieren. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Caching</font> </h2><br>  Eine der St√§rken von Docker ist das Caching.  Dank dieses Mechanismus wird die Zusammenstellung von Bildern beschleunigt. <br><br>  Beim Zusammenstellen eines Docker-Images folgen die Anweisungen der Docker-Datei in der angegebenen Reihenfolge.  W√§hrend der Analyse von Anweisungen √ºberpr√ºft Docker seinen eigenen Cache auf Bilder, die wir in den Zwischenphasen des Zusammenstellens anderer Bilder erhalten.  Wenn solche Bilder gefunden werden k√∂nnen, kann das System sie verwenden, ohne Zeit damit zu verschwenden, sie neu zu erstellen. <br><br>  Wenn der Cache ung√ºltig ist, wird die Anweisung ausgef√ºhrt, in der er ausgef√ºhrt wurde, und es wird eine neue Ebene erstellt, ohne den Cache zu verwenden.  Das gleiche passiert, wenn Sie die folgenden Anweisungen ausf√ºhren. <br><br>  Wenn sich w√§hrend der Ausf√ºhrung von Anweisungen aus der Docker-Datei herausstellt, dass sich das Basis-Image im Cache befindet, wird dieses Image aus dem Cache verwendet.  Dies wird als Cache-Treffer bezeichnet.  Befindet sich das Basis-Image nicht im Cache, wird der gesamte Prozess der Image-Assemblierung ohne Verwendung des Caches ausgef√ºhrt. <br><br>  Anschlie√üend wird die folgende Anweisung mit allen Bildern aus dem Cache verglichen, die auf demselben Basisbild basieren, das bereits im Cache gefunden wurde.  Jedes zwischengespeicherte Zwischenbild wird √ºberpr√ºft, um festzustellen, ob es das enth√§lt, was mit derselben Anweisung erstellt wurde.  Wenn keine √úbereinstimmung gefunden werden kann, wird dies als "Cache-Fehler" bezeichnet und der Cache wird als ung√ºltig betrachtet.  Das gleiche passiert, bis die gesamte Docker-Datei verarbeitet ist. <br><br>  Die meisten neuen Anweisungen werden einfach mit den bereits in den Zwischenbildern enthaltenen verglichen.  Wenn es dem System gelingt, eine √úbereinstimmung zu finden, verwendet die Assembly das, was sich bereits im Cache befindet. <br><br>  Die Verwendung eines Caches kann das Zusammenstellen von Bildern beschleunigen, es gibt jedoch ein Problem.  Wenn beispielsweise in der Docker-Datei eine Anweisung <code>RUN pip install -r requirements.txt</code> require.txt gefunden wird, sucht Docker in seinem lokalen Cache mit Zwischenbildern nach derselben Anweisung.  Der Inhalt der alten und der neuen Version der Datei require.txt wird jedoch nicht verglichen. <br><br>  Dies kann zu Problemen f√ºhren, wenn der <code>requirements.txt</code> Informationen zu neuen Paketen hinzugef√ºgt wurden. Anschlie√üend m√ºssen Sie beim Erstellen des aktualisierten Abbilds die <code>RUN pip install</code> Anweisung erneut ausf√ºhren, um einen neuen Satz von Paketen zu <code>RUN pip install</code> .  Bald werden wir dar√ºber sprechen, wie wir mit diesem Problem umgehen k√∂nnen. <br><br>  Im Gegensatz zu anderen Docker-Anweisungen muss Docker beim Ausf√ºhren der <code>ADD</code> und <code>COPY</code> Anweisungen den Inhalt der Datei oder der Dateien √ºberpr√ºfen, um festzustellen, ob der Cache beim Erstellen des Bildes verwendet werden kann.  Die Pr√ºfsumme der in diesen Anweisungen genannten Dateien wird n√§mlich mit der Pr√ºfsumme der Dateien verglichen, die sich in den Zwischenbildern befinden, die sich bereits im Cache befinden.  Wenn sich der Inhalt der Dateien oder ihrer Metadaten ge√§ndert hat, wird der Cache ung√ºltig. <br><br>  Hier einige Tipps zur Nutzung des Docker-Cache: <br><br><ul><li>  Das Caching kann deaktiviert werden, indem der Schalter <code>--no-cache=True</code> an den <code>docker build</code> . </li><li>  Wenn Sie beabsichtigen, √Ñnderungen an den Dockerfile-Anweisungen vorzunehmen, wird jede Ebene, die durch die nach den ge√§nderten Anweisungen kommenden Anweisungen erstellt wird, h√§ufig ohne Verwendung eines Caches neu zusammengesetzt.  Platzieren Sie Anweisungen, die sich h√∂chstwahrscheinlich √§ndern, so nahe wie m√∂glich am Ende der Docker-Datei, um das Caching zu nutzen. </li><li>  Kombinieren Sie die <code>RUN apt-get update</code> Befehle <code>RUN apt-get update</code> und <code>apt-get install</code> in Ketten, um Probleme im Zusammenhang mit der unsachgem√§√üen Verwendung des Caches zu vermeiden. </li><li>  Wenn Sie Paketmanager wie <code>pip</code> mit der Datei <code>pip</code> , halten Sie sich an das folgende Schema, um die Verwendung veralteter Zwischenbilder aus dem Cache auszuschlie√üen, der die in der alten Version der Datei require.txt aufgef√ºhrten Pakete enth√§lt.  So sieht es aus: <br><br><pre> <code class="bash hljs">COPY requirements.txt /tmp/ RUN pip install -r /tmp/requirements.txt COPY . /tmp/</code> </pre> </li></ul><br>  Wenn Sie andere M√∂glichkeiten kennen, um mit dem Problem ‚Äûrequire.txt‚Äú umzugehen, k√∂nnen Sie dies in den Kommentaren erl√§utern. <br><br><h2>  <font color="#3AC1EF">Reduzierung der Bildgr√∂√üe</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç Sorgf√§ltige Auswahl des Grundbildes</font> </h3><br>  Docker-Bilder k√∂nnen sehr gro√ü sein.  Dies widerspricht dem begr√ºndeten Wunsch der Person, die sie erstellt, sie so kompakt wie m√∂glich zu gestalten, was das Herunterladen aus einem Remote-Repository erleichtert und sich positiv auf die Menge an freiem Speicherplatz auf dem Computer auswirkt, auf den sie geladen werden.  Lassen Sie uns dar√ºber sprechen, wie sie ihre Gr√∂√üe reduzieren k√∂nnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbe/87c/ea4/dbe87cea4a1c04e25bd2becd194e34d8.jpg"></div><br>  <i><font color="#999999">Anstelle von Bagels und Donuts werden wir jetzt Gem√ºse essen</font></i> <br><br>  Eine M√∂glichkeit, die Gr√∂√üe von Bildern zu verringern, besteht darin, die Grundbilder sorgf√§ltig auszuw√§hlen und sie anschlie√üend anzupassen. <br><br>  Das grundlegende Alpine-Image ist beispielsweise eine vollst√§ndige Distribution eines Linux-√§hnlichen Betriebssystems, das ein Minimum an zus√§tzlichen Paketen enth√§lt.  Seine Gr√∂√üe betr√§gt ungef√§hr 5 Megabyte.  Das Erstellen eines eigenen Images auf Alpine-Basis erfordert jedoch viel Zeit, um es mit allem auszustatten, was f√ºr den Betrieb einer bestimmten Anwendung erforderlich ist. <br><br>  Es gibt auch spezielle Versionen des Grundbildes der Alpen.  Das entsprechende Bild aus dem Python-Repository, in das das <code>print("hello world")</code> gepackt ist, wiegt beispielsweise etwa 78,5 MB.  Hier ist die Docker-Datei zum Erstellen eines solchen Images: <br><br><pre> <code class="bash hljs">FROM python:3.7.2-alpine3.8 COPY . /app ENTRYPOINT [<span class="hljs-string"><span class="hljs-string">"python"</span></span>, <span class="hljs-string"><span class="hljs-string">"./app/my_script.py"</span></span>, <span class="hljs-string"><span class="hljs-string">"my_var"</span></span>]</code> </pre> <br>  Gleichzeitig gibt der Docker Hub an, dass dieses Basis-Image eine Gr√∂√üe von 29 MB hat.  Die Gr√∂√üe eines auf diesem Basis-Image basierenden Images wird durch Herunterladen und Installieren von Python erh√∂ht. <br><br>  Zus√§tzlich zur Verwendung von Basisbildern auf Alpine-Basis k√∂nnen Sie die Gr√∂√üe von Bildern mithilfe der mehrstufigen Montagetechnologie reduzieren. <br><br><h3>  <font color="#3AC1EF">‚ñç Mehrstufige Zusammenstellung von Bildern</font> </h3><br>  Die Docker-Datei, die die mehrstufige Zusammenstellung eines Bildes beschreibt, verwendet mehrere <code>FROM</code> Anweisungen.  Der Ersteller eines solchen Bildes kann das selektive Kopieren von Dateien, die als Build-Artefakte bezeichnet werden, von einer Build-Ebene auf eine andere einrichten.  Gleichzeitig wird es m√∂glich, alles loszuwerden, was im fertigen Bild nicht ben√∂tigt wird.  Dank dieser Methode k√∂nnen Sie die Gr√∂√üe des fertigen Bildes reduzieren. <br><br>  So funktioniert jede <code>FROM</code> Anweisung: <br><br><ul><li>  Sie beginnt einen neuen Schritt. </li><li>  Dies h√§ngt nicht davon ab, was im vorherigen Erstellungsschritt erstellt wurde. </li><li>  Sie kann ein Grundbild verwenden, das sich von dem im vorherigen Schritt verwendeten unterscheidet. </li></ul><br>  Hier ist ein modifiziertes Beispiel f√ºr eine Docker-Datei aus der Docker- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> , die einen mehrstufigen Build beschreibt. <br><br><pre> <code class="bash hljs">FROM golang:1.7.3 AS build WORKDIR /go/src/github.com/alexellis/href-counter/ RUN go get -d -v golang.org/x/net/html COPY app.go . RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app . FROM alpine:latest RUN apk --no-cache add ca-certificates WORKDIR /root/ COPY --from=build /go/src/github.com/alexellis/href-counter/app . CMD [<span class="hljs-string"><span class="hljs-string">"./app"</span></span>]</code> </pre> <br>  Bitte beachten Sie, dass wir den Namen der ersten Stufe der Assembly angegeben haben und ihn nach der <code>FROM</code> Anweisung angegeben haben.  Wir verweisen auf die benannte Erstellungsphase in der <code>COPY --from=</code> unten in der Docker-Datei. <br><br>  Die Verwendung des mehrstufigen Image-Assemblierungsprozesses ist in einigen F√§llen sinnvoll, wenn Sie viele Container f√ºr die Produktionsumgebung erstellen m√ºssen.  Mit der mehrstufigen Baugruppe k√∂nnen Sie die Gr√∂√üe des fertigen Bildes minimieren.  Manchmal erschwert dieser Ansatz jedoch die Unterst√ºtzung von Bildern.  Daher werden Sie in den F√§llen, in denen Sie darauf verzichten k√∂nnen, wahrscheinlich keine mehrstufige Montage von Bildern verwenden.  √úber die Funktionen dieser Technologie k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> lesen. <br><br>  Wie Sie sehen, ist die mehrstufige Montage eine interessante Technologie, die jedoch nicht f√ºr alle F√§lle geeignet ist.  Die gleiche Methode zur Reduzierung der Bildgr√∂√üe, die wir weiter unten erl√§utern werden, kann absolut jedem empfohlen werden. <br><br><h3>  <font color="#3AC1EF">‚ñç .dockerignore-Datei</font> </h3><br>  Jeder, der Docker lernen m√∂chte, muss etwas √ºber <code>.dockerignore</code> Dateien wissen.  Diese Dateien √§hneln <code>.gitignore</code> Dateien.  Sie enthalten eine Liste von Dateien und Ordnern in Form von Namen oder Vorlagen, die Docker bei der Image-Assemblierung ignorieren sollte. <br><br>  Diese Datei befindet sich dort, wo sich die Docker-Datei befindet, und alles andere, was im Kontext der Image-Assembly enthalten ist. <br><br>  Wenn Sie den <code>docker build</code> ausf√ºhren, der die Assemblierung des Images initiiert, √ºberpr√ºft Docker den Ordner auf das Vorhandensein der <code>.dockerignore</code> Datei.  Wenn eine solche Datei gefunden werden kann, wird diese Datei analysiert, und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Regeln</a> der <code>Match()</code> Funktion aus dem <code>filepath</code> Go-Paket und einige seiner eigenen Docker- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Regeln</a> werden verwendet, um die Liste der zu ignorierenden Dateien zu bestimmen. <br><br>  Wenn beispielsweise eine Vorlage des Formulars <code>*.jpg</code> in der <code>.dockerignore</code> Datei gefunden wird, werden beim Erstellen eines Bildes Dateien mit einem beliebigen Namen und der Erweiterung <code>.jpg</code> ignoriert.  Wenn die Zeichenfolgenvideos in der Datei <code>videos</code> werden, ignoriert das System den Videoordner und seinen gesamten Inhalt. <br><br>  Wenn Sie eine <code>.dockerignore</code> Datei kompilieren, k√∂nnen Sie sie mit dem Symbol <code>#</code> kommentieren. <br><br>  Die <code>.dockerignore</code> Datei bietet jedem, der Docker-Images erstellt, <code>.dockerignore</code> : <br><br><ul><li>  Auf diese Weise k√∂nnen Sie vertrauliche Informationen wie Anmeldungen und Kennw√∂rter aus den Bilddateien ausschlie√üen. </li><li>  Auf diese Weise k√∂nnen Sie die Bildgr√∂√üe reduzieren.  Je kleiner die Dateien im Bild sind, desto kleiner ist die Gr√∂√üe und desto schneller kann damit gearbeitet werden. </li><li>  Dies erm√∂glicht es, die Anzahl der Gr√ºnde f√ºr die Ung√ºltigmachung des Caches beim Zusammenstellen √§hnlicher Bilder zu verringern.  Wenn sich beispielsweise w√§hrend des erneuten Zusammenbaus des Images einige Servicedateien des Projekts √§ndern, z. B. Protokolldateien, aufgrund derer die im Cache gespeicherten Daten im Wesentlichen unangemessen ung√ºltig werden, verlangsamt dies das Zusammenstellen von Images. </li></ul><br>  Weitere <code>.dockerignore</code> zur <code>.dockerignore</code> Datei finden Sie in der Docker- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . <br><br><h2>  <font color="#3AC1EF">Bildgr√∂√üenforschung</font> </h2><br>  Lassen Sie uns dar√ºber sprechen, wie Sie mithilfe der Befehlszeilentools die Gr√∂√üe von Docker-Images und -Containern ermitteln. <br><br><ul><li>  Um die ungef√§hre Gr√∂√üe eines laufenden Containers zu ermitteln, k√∂nnen Sie einen Befehl des Formular- <code>docker container ls -s</code> . </li><li>  Der <code>docker image ls</code> zeigt die <code>docker image ls</code> . </li><li>  Mit dem <code>docker image history my_image:my_tag</code> Sie die Gr√∂√üe von Zwischenbildern ermitteln, aus denen ein bestimmtes Bild zusammengestellt wird. </li><li>  Mit dem <code>docker image inspect my_image:tag</code> k√∂nnen Sie detaillierte Informationen zum Bild <code>docker image inspect my_image:tag</code> , einschlie√ülich der Gr√∂√üe der einzelnen Ebenen.  Ebenen unterscheiden sich geringf√ºgig von den Zwischenbildern, aus denen das fertige Bild besteht. In den meisten F√§llen k√∂nnen sie jedoch als identische Einheiten betrachtet werden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier finden Sie</a> gutes Material zu den Details der internen Struktur von Docker-Images. </li><li>  Um den Inhalt von Containern zu untersuchen, k√∂nnen Sie das Tauchpaket installieren. </li></ul><br>  Nachdem wir die M√∂glichkeiten zur Reduzierung der Bildgr√∂√üe er√∂rtert haben, mache ich Sie auf acht Empfehlungen zur Reduzierung der Bildgr√∂√üe und zur Beschleunigung des Zusammenbaus aufmerksam. <br><br><h2>  <font color="#3AC1EF">Empfehlungen zur Reduzierung der Bildgr√∂√üe und zur Beschleunigung des Montageprozesses</font> </h2><br><ol><li>  Verwenden Sie nach M√∂glichkeit offizielle Bilder als Basisbilder.  Offizielle Bilder werden regelm√§√üig aktualisiert, sie sind sicherer als informelle Bilder. </li><li>  Verwenden Sie Basisbilder auf Basis von Alpine Linux, um m√∂glichst kompakte Bilder zu sammeln. </li><li>  Wenn Sie <code>apt</code> , kombinieren Sie die Befehle <code>apt-get update</code> und <code>apt-get install</code> in einer <code>RUN</code> Anweisung.  Kombinieren Sie au√üerdem Paketinstallationsbefehle in einer einzigen Anweisung.  Listen Sie Pakete alphabetisch in mehreren Zeilen auf und trennen Sie die Liste durch <code>\</code> .  Zum Beispiel k√∂nnte es so aussehen: <br><br><pre> <code class="bash hljs">RUN apt-get update &amp;&amp; apt-get install -y \   package-one \   package-two \   package-three &amp;&amp; rm -rf /var/lib/apt/lists/*</code> </pre> <br>  Diese Methode reduziert die Anzahl der Ebenen, die dem Bild hinzugef√ºgt werden sollen, und hilft dabei, den Dateicode in einer anst√§ndigen Form zu halten. </li><li>  F√ºgen Sie am Ende der <code>RUN</code> Anweisung, die zum Installieren von Paketen verwendet wird, ein Konstrukt wie <code>&amp;&amp; rm -rf /var/lib/apt/lists/*</code> .  Dadurch wird der <code>apt</code> Cache <code>apt</code> und nicht in der durch den Befehl <code>RUN</code> gebildeten Ebene gespeichert.  Details dazu finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . </li><li>  Verwenden Sie Ihre Caching-Funktionen mit Bedacht, indem Sie Befehle in die Docker-Datei einf√ºgen, die sich h√∂chstwahrscheinlich gegen Ende der Datei √§ndern. </li><li>  Verwenden Sie die <code>.dockerignore</code> Datei. </li><li>  Schauen Sie sich <code>dive</code> , ein gro√üartiges Tool zum Erkunden von Docker-Bildern, mit dessen Hilfe Sie die Gr√∂√üe reduzieren k√∂nnen. </li><li>  Installieren Sie keine Pakete, auf die verzichtet werden kann. </li></ol><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Jetzt wissen Sie, wie Sie Docker-Images schnell zusammenstellen, schnell aus Repositorys laden und nicht zu viel Computerplatz beanspruchen k√∂nnen.  N√§chstes Mal werden wir √ºber Docker-Teams sprechen. <br><br>  <b>Liebe Leser!</b>  Haben Sie beim Erstellen von Docker-Images Probleme mit den Caching-Mechanismen festgestellt? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440658/">https://habr.com/ru/post/de440658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440648/index.html">√úberblick √ºber die russische Gesetzgebung im Bereich der Barrierefreiheit im Internet</a></li>
<li><a href="../de440650/index.html">Wie Bewusstsein funktioniert: Schlussfolgerungen aus dem Buch von Alexander Nevzorov</a></li>
<li><a href="../de440652/index.html">Computervideo in 755 Megapixeln: Plenoptik gestern, heute und morgen</a></li>
<li><a href="../de440654/index.html">Python lernen: Argparse-Modul</a></li>
<li><a href="../de440656/index.html">Professionelle Containerisierung von Node.js-Anwendungen mit Docker</a></li>
<li><a href="../de440660/index.html">Docker lernen, Teil 5: Befehle</a></li>
<li><a href="../de440662/index.html">React Tutorial Teil 18: Die sechste Phase der Arbeit an einer TODO-Anwendung</a></li>
<li><a href="../de440666/index.html">Klassifizierung handschriftlicher Zeichnungen. Bericht in Yandex</a></li>
<li><a href="../de440670/index.html">Die Zentralbank ver√∂ffentlichte Empfehlungen zum kryptografischen Schutz von EBS</a></li>
<li><a href="../de440672/index.html">Methoden der Rationalit√§t und das Maghreb-Gebet Mat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>