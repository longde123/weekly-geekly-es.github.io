<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😂 🚝 🧑🏾‍🤝‍🧑🏼 Analyseur statique Detekt pour Kotlin 🚵 🏇🏼 👨🏿‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il est temps d'aimer les analyseurs statiques! Rencontrez Detekt à Kotlin 
 Si vous savez déjà ce qui sera discuté et que vous souhaitez uniquement me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analyseur statique Detekt pour Kotlin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442500/"><h2>  Il est temps d'aimer les analyseurs statiques!  Rencontrez Detekt à Kotlin </h2><br>  Si vous savez déjà ce qui sera discuté et que vous souhaitez uniquement mettre en œuvre le projet, passez immédiatement au point d'installation. <br><br><h3>  Qu'est-ce que c'est? </h3><br><img src="https://github.com/arturbosch/detekt/raw/master/docs/images/detekt_in_action.png" alt="image"><br><br>  Analyse logicielle effectuée (par opposition à l'analyse dynamique) sans exécution réelle des programmes à l'étude.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">Wikipédia</a> <br><br>  Et selon vos propres mots, c'est un outil pratique qui vous aide à respecter les règles d'un bon code.  Permet une personnalisation très flexible des filtres par la définition d'un mauvais code.  Qui à chaque lancement générera un certain rapport, y compris des statistiques sur les conflits détectés, des informations à leur sujet, ce qui permet de déterminer où le conflit s'est produit et son type. <br><br>  Les analyseurs statiques facilitent le travail du réviseur et font généralement gagner du temps à l'équipe de développement. <br><a name="habracut"></a><br>  Supposons que nous ayons un bon PR, cependant, l'auteur a donné des noms trop longs pour les variables, a écrit du code qui peut être facilement simplifié ou violer l'une des nombreuses règles définies dans le fichier de configuration Detekt, les règles ne sont pas compliquées, mais la révision du code ne passera pas un tel PR. <br>  L'auteur devra à nouveau basculer entre les projets, ainsi que les relecteurs, je suis sûr que la relecture répétée apportera peu de plaisir. <br><blockquote>  Automatisez si c'est rapide et pas cher.  (C) Bon sens </blockquote><h3>  Que sont les analyseurs statiques? </h3><br>  <b>Pour java:</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Find-bugs</a> (obsolète en 2015) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Repérer les bogues</a> </li></ul><br>  <b>Pour Kotlin:</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Detekt</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ktlint</a> </li></ul><br>  Je réponds à la question qui se pose dans votre tête, Spot-bugs sur Kotlin ne fonctionne pas. <br><br><h3>  Introduire Detekt dans le projet </h3><br>  Detect peut être installé de plusieurs manières: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plugin</a> pour AndroidStudio </li><li>  Gradle </li></ol><br>  Je pense que la configuration via Gradle est plus flexible et j'en parle. <br><br>  Sur le site officiel, il existe plusieurs façons d'installer Detekt dans le projet, selon la version de Gradle, qu'il s'agisse d'un projet Android.  Mais, dans mon expérience de la mise en œuvre d'un projet Android, <s>certaines instructions ne fonctionnent pas</s> .  Pour le moment, le projet est très proche de la version 1.0.  La dernière version au moment de la rédaction est la version 1.0.0-RC14 <br><br>  Alors. <br><br>  Nous allons sur le site officiel de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gradle</a> et voyons les instructions d'installation. <br><br><pre><code class="kotlin hljs">buildscript { repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } dependencies { classpath <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.0.0-RC14"</span></span> } }</code> </pre> <br>  C'est cette décision que je vous conseille d'adhérer au projet Android. <br><br>  Vous avez probablement remarqué que j'ai supprimé la ligne de plugin apply: car je vous conseille de séparer Detekt dans un fichier séparé et d'appliquer déjà la demande. <br><br><h4>  Étape 1: </h4><br>  Copiez donc ce code dans le niveau d'application build.gradle. <br><br>  Là, dans le bloc <b>allprojects,</b> nous devons écrire une ligne pour appliquer notre fichier contenant les paramètres detekt. <br><br><pre> <code class="kotlin hljs">allprojects { apply from: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$rootDir</span></span></span><span class="hljs-string">/detekt.gradle"</span></span> repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } }</code> </pre><br><h4>  Étape 2: </h4><br>  Ensuite, vous devez créer le fichier <b>detekt.gradle</b> <br><br><pre> <code class="kotlin hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt"</span></span> detekt { toolVersion = <span class="hljs-string"><span class="hljs-string">"1.0.0-RC14"</span></span> <span class="hljs-comment"><span class="hljs-comment">// Version of the Detekt CLI that will be used. When unspecified the latest detekt version found will be used. Override to stay on the same version. input = files("src/main/java") // The directories where detekt looks for input files. Defaults to `files("src/main/java", "src/main/kotlin")`. parallel = true // Builds the AST in parallel. Rules are always executed in parallel. Can lead to speedups in larger projects. `false` by default. filters = ".*build.*,.*/resources/.*,.*/tmp/.*" // Regular expression of paths that should be excluded separated by `;` or `,`. config = files("$rootDir/detekt-config.yml") // Define the detekt configuration(s) you want to use. Defaults to the default detekt configuration. reports { xml { enabled = true // Enable/Disable XML report (default: true) destination = file("build/reports/detekt.xml") // Path where XML report will be stored (default: `build/reports/detekt/detekt.xml`) } html { enabled = true // Enable/Disable HTML report (default: true) destination = file("build/reports/detekt.html") // Path where HTML report will be stored (default: `build/reports/detekt/detekt.html`) } } }</span></span></code> </pre><br><h4>  Étape 3: </h4><br>  Vous devez maintenant créer le fichier de configuration <a href="">detekt-config.yml</a> <br><br>  Il s'agit d'un fichier de configuration standard du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel</a> . <br><br><h4>  Étape 4: </h4><br>  Ouvrez une console et exécutez la commande: <b>gradlew detekt</b> <br><br><h3>  C’est tout! </h3><br>  Vous avez maintenant des statistiques prêtes pour votre projet.  Ils sont affichés dans la console, et vous pouvez également les trouver le long du chemin: {u_project} \ app \ build \ reports \ detekt <br><br><h3>  En conclusion </h3><br>  Il est très pratique d'utiliser Detekt lors de la construction à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jenkins</a> <br>  Le temps d'exécution de la tâche dans un projet avec plus de 2000 classes est de 4 à 7 secondes *. <br><br>  Je veux dire que l'utilisation d'un analyseur statique simplifie un peu notre travail.  Accélère le processus de développement et fait économiser de l'argent aux entreprises. <br><br>  Références: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Detekt github</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Configurer detekt</a> <br>  <a href="">default-detekt-config.yml</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442500/">https://habr.com/ru/post/fr442500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442486/index.html">ReactOS 0.4.11 - Cent autres applications</a></li>
<li><a href="../fr442492/index.html">Tout le monde peut facilement apprendre l'anglais</a></li>
<li><a href="../fr442494/index.html">Composant Figma et organisation des instances en utilisant Userpic comme exemple</a></li>
<li><a href="../fr442496/index.html">Cochon d'entreprise</a></li>
<li><a href="../fr442498/index.html">Top 10 des rapports de la conférence C ++ Russia 2018: vidéos complètes, diapositives, commentaires</a></li>
<li><a href="../fr442502/index.html">Nous transformons le lieu de travail en vélo couché pour 200 $</a></li>
<li><a href="../fr442504/index.html">Proxy PHP Xdebug: lorsque les fonctionnalités standard de Xdebug ne suffisent pas</a></li>
<li><a href="../fr442506/index.html">La Russie est-elle punie pour commerce illégal de données personnelles?</a></li>
<li><a href="../fr442508/index.html">Comment udalenka accélère l'innovation sur GitLab</a></li>
<li><a href="../fr442512/index.html">Personnalisation de Django ORM sur l'exemple de ZomboDB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>