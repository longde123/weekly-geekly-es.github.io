<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍💼 🎡 👨‍👦‍👦 手动＃2：Sunrise，据IDE的核心人物，Cmake和我对动物的失望 👩🏽‍🎓 🙇🏻 📜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在上一篇文章中，我敢于使用CLion作为IDE。 然后一个男人跑来问一个问题：哦，专有的付费工艺品，卖光了，被窃笑了，等等。 公平地说，对哈布雷只有这样一条评论，但实际上有数千条评论。 例如，自2010年以来，我已经注册了最后一个有效的LOR帐户，并且在几乎所有涉及某些专有软件的讨论中，这都开始了。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>手动＃2：Sunrise，据IDE的核心人物，Cmake和我对动物的失望</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425209/"><p>在上一篇文章中，我敢于使用CLion作为IDE。 然后一个男人跑来问一个问题：哦，专有的付费工艺品，卖光了，被窃笑了，等等。 公平地说，对哈布雷只有这样一条评论，但实际上有数千条评论。 例如，自2010年以来，我已经注册了最后一个有效的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LOR</a>帐户，并且在几乎所有涉及某些专有软件的讨论中，这都开始了。 显然，我不会向任何人证明任何东西，但是它可以帮助过去的难得的流浪汉。 </p><br><p> 本文有条件地分为两个部分：出于社会动机和技术（如何在Windows上的各种IDE下构建CMake）。 </p><br><p><img src="https://habrastorage.org/webt/9g/45/pb/9g45pbrivllf4bxi6-yxx3ejxno.png"><br></p><a name="habracut"></a><br><h1 id="otkuda-vsyo-poshlo"> 一切都去了哪里 </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一篇文章的评论是文章的</a>基础：“如果播客是针对初学者和非专业人士的，那么您为什么不考虑IDE许可证:(”及以下内容。 </p><br><p> 本文基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Twitch流</a>的结果以及您对此的反馈。 该记录在YouTube上。 本文不是播客的笔录，而是理解它的产物。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/y8U8iTrV9PU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 id="ishodnyy-posyl"> 源消息 </h1><br><p> 首先，让我们检查一下原始假设的有效性：软件很昂贵。 如果您访问该站点，事实证明CLion每月花费8.90美元。  580卢布。 显然，对于一个不以编程为生的人来说，这有时可以显示出可用于一些更有用的东西的数额。 例如，买一顿饭。 </p><br><p> 对于专业人士而言，一切都完全不同，但是让我们离开这个话题。 记者与软件或游戏制造商的市场部门的员工不同，在于他不宣传党的政策，不采取措施宣传产品。 他按原样说话。 这一切真的如何，记者如何真正看到一个问题。 真正的传道人也是一样。 </p><br><blockquote> 现象的本质和一连串的岁月， <br> 朋友的面孔，敌人的面具， <br> 清晰可见，无法隐藏 <br> 从诗人的眼中-几个世纪的主人。 <br><br> 遥远的星星的光和黎明的开始 <br> 生活的秘密和爱的秘密 <br> 受到阳光的熏陶， <br> 一切都反映在诗人的灵魂中- <br> 在世界的镜子里... <br><br>  （c） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">康斯坦丁·尼科尔斯基，《世界镜报》</a> <br></blockquote><p> 如果真的很有趣，CLion如何增加您的收入，您会找到需要联系的人，在这里我们在谈论其他事情。 </p><br><h1 id="tipologiya"> 类型学 </h1><br><p> 取而代之的是，考虑尽可能多的人从封闭的软件中遭到炸弹袭击。 </p><br><p> 如您所知，我不是nifiga的社会学家，而且我只有在论坛摊牌热中发展起来的类型学。 它的唯一优点是，通过查看前两个注释，实际上可以将一个人归为某个特定组，而无需包括大脑。 </p><br><p> 因此，人们是： </p><br><ul><li> 自由斗士与开源 </li><li> 老实说错 </li><li> 动物 </li></ul><br><p> 我建议不要考虑作者的错误。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我是另一回事</a> 。 </p><br><h1 id="borcy-za-svobodu-i-opensorc"> 自由斗士与开源 </h1><br><p> 最纯洁最聪明的是揭幕战的战士。 我本人就是那些听到“ Linux”一词并不断改正的人之一， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“不是Linux，而是GNU / Linux”</a> 。 问题在于现实世界绝不会是黑白的。 我们有一定程度的自由，这是必要时可以使用的资源。 正如Mozilla管理层的一个人开玩笑（或不开玩笑）说：“如果不花钱，为什么我们需要信任？” </p><br><p> 例子：有一个这样的人，米格尔·德·伊卡萨。 他制作了Gnome，并以我们了解的方式帮助构建了一个令人反感的GNU / Linux。 然后他被赶出了社区，斯托曼称他为“自由叛徒”： </p><br><blockquote>  “ Miguel de Icaza本质上是自由软件社区的叛徒。  &lt;...&gt;该项目旨在安排Windows平台上所谓的“开源”程序的功能； 因此，开发人员的宝贵时间花在了免费平台上” <br></blockquote><p> 米格尔现在在哪里？ 他和他的团队与近年来最大的项目之一并肩工作-在许可的情况下将.NET移植到GNU / Linux。 他确实度过了自己的时间。 </p><br><p> 在流上，我花了至少二十分钟才在Visual Studio Code下绊倒CMake。 无法解决。 在免费但不是免费的Visual Studio中，这是第一次出现。 这正是我们尝试使用自由软件时经常得到的：由于明显的原因，在开放源代码中，没有时间思考端到端脚本并照顾整个产品。 感谢开发人员至少做了一些事情。 但是对于我们来说，作为用户，我们仍然有道德和道德选择：要么选择自由，然后花大量时间踢免费软件，要么相反，将我们的自由花在购买时间上，然后花点时间做些好事。 </p><br><p> 由于此问题超出了技术问题的范围，因此我们将在此处结束。 一个真正的思想上的人对他的想法是正确的。 </p><br><h1 id="zhivotnye"> 动物 </h1><br><p> 哦，但是这个类别在轰炸我。 </p><br><blockquote>  “一个人将他与其他动物区分开的特征是直立的姿势，高度发达的大脑，思维和表达清晰的语言。一个人学习并改变自己和周围的世界，创造出一种文化和自己的故事。”  （c） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">维基百科</a> 。 </blockquote><p> 不幸的是，在关于IDE的对话中，经常会发现对话者没有独立思考的能力，没有表达清楚的讲话，而是喃喃地说“我已经有了规范”并吃掉了他们给出的东西。 由于直立的姿势，很容易将其与人混淆，但不要误会。 </p><br><p> 这些生物将一切都带给任何人。 在游戏中，他们出售带有怀旧音乐的战利品和DLC。 在编辑器中，他们被戴在各种肛门上，目的是将患者与特定的环境，生态系统联系起来，以至于不需要<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">苯扎西m</a> 。 他们会吃掉一切。  <em>“对我来说规范也是如此。”</em> </p><br><p> 重要的是要补充一点，不仅市场营销人员在开车，而且巨魔或自然的临床精神分裂者也是如此。  schizos很多，您不会相信的。 </p><br><p> 例如，还记得Nikitonsky最近发布的宣言（更准确地说，是将其翻译为Habr）： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我对软件的失望</a> ？ 我怎么被他炸了。 我衷心希望Nikitonsky写所有这一切是为了有意识地接触，而不是真的。 </p><br><p> 看那里的论文： </p><br><ul><li> 一切都令人难以忍受的缓慢-一部现代手机比将人送上月球的电脑功能强大； </li><li> 一切都是巨大的-Android重达6 GB； </li><li> 一切都烂了-旧设备无法正常工作或无法正常工作； </li><li> 在编程混乱中，查看npm和左键盘中的依赖关系图。 </li></ul><br><p> 拖钓是拖钓，但是某人可能并不熟悉源代码的大小是“使人登上月球的原因”，即Apollo 11，因此作者几乎不需要阅读它们。 </p><br><p><img src="https://habrastorage.org/webt/rc/uc/fb/rcucfbhz3eka-xvpqmer_ofdnow.jpeg"><br></p><br><p> 现代OS定义了任何设备，并在每种情况下都具备了所有功能。 当梅里莎资本家弯腰发展铁水平到现代水平时，设备的减速导致了一个奇妙的情况，这归功于我们口袋里有一个适合所有场合的大型设备。 甚至不需要毛巾，它在Google Play上。 提到的npm可以让普通人写出数年前难以想象的复杂性。 </p><br><p> 然后，对于所有这些“吃饱了自己的东西”的同志来说，上面列出的宏大想法突然开始浮现在我的脑海。 让我们扩展到IDE： </p><br><ul><li> 对于Electron（Visual Studio Code，Atom）上的应用程序，无论是vim还是emacs，字母在屏幕上的显示速度都太慢。 </li><li>  Eclipse IDE变慢； </li><li> 通常，Java以及包括Java编写的所有内容（包括NetBeans，IDEA和Clion）都会放慢速度。 </li><li> 任何IDE都会像这样放慢饮食速度； </li><li> 独裁是邪恶的。 </li><li> 清单继续。 </li></ul><br><p> 这个清单已经足以检修屋顶。 不要相信任何垃圾。 如果在某些情况下vim比Eclipse更好（反之亦然），那么这绝对不是因为邻居用微波炉照射vimers，而外星人则在晚上绑架了蚀子。 </p><br><p> 不幸的是，由于长期的网络战争，它的确被确立了：这里不能进行对话。 对人-人，对动物-动物。 生活就是这样安排的。 有人阅读本文并<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">改变主意</a>的可能性非常小，这极大地<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">改善了人们的看法</a> 。 </p><br><h1 id="chestno-zabluzhdayuschiesya"> 老实说错 </h1><br><p> 现在，我们已经完成了极端工作：在光谱的一侧，特别是来自Stallman教派的聪明人，而另一方面则不是非常聪明的动物，让我们谈谈普通人。 </p><br><p> 第一个误解是我们在某种程度上被钉在了IDE上。 它始于人们使用某种Delphi 7和旧版本的Microsoft Visual Studio的时代。 他们说，在新的Vizhualka中，项目文件一切正常。 大家好，现在是2018年，没有奴隶制了。 </p><br><p> 为了摆脱奴隶制，我们从上面获得了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CMake</a> ：一个跨平台的开源实用工具，使您可以构建，测试和打包应用程序。 </p><br><p>它仍然没有对新手说什么，他伸手去拿IDE。 所有这些都是由于恐惧和对正在发生的事情的误解。 我本人来自Java，因此我很清楚第一次看到<code>pom.xml</code>的人的眼睛是如何扩展的。 </p><br><p> 让我们弄清楚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上次创建</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">项目</a>由什么组成，以及如何在各种不同的IDE中进行构建。 </p><br><p> 文件组成： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CMakeLists.txt</a> </li><li>  <a href="">main.cpp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">着色器</a> </li></ul><br><p> 着色器<a href="">使用D3DCompile函数</a>在运行时直接编译。  DirectX SDK（现在为Windows SDK）中的D3DCompiler可以工作。 不需要IDE来构建它。 </p><br><p>  <code>main.cpp</code>是唯一要构建的文件。 并使用完全在<code>CMakeLists.txt</code>信息进行收集。 </p><br><p> 在相反的方向： <code>CMakeLists.txt</code>告诉我们将要编译的内容。 程序集<code>main.cpp</code>已在其中注册。 这足以编译项目。 编译后，将获得一个exe文件，该文件在启动后将收集着色器并将其显示在屏幕上。 一切都非常简单，IDE不在此链中，可以是任何东西。 </p><br><p>  IDE是可选的。 一般而言。 这里有什么不可理解的？ </p><br><h1 id="sborka"> 组装方式 </h1><br><h2 id="podgotovitelnye-momenty"> 准备时刻 </h2><br><p> 与往常一样，准备工作占据了整个过程的大部分。 有一些事情需要澄清。 </p><br><p> 假定一切都基于我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上次安装</a>的Msys2 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">完成</a> 。 如果不是这种情况，您将不得不纠结自己:) </p><br><h3 id="kak-ustanovit-cmake-i-ninja"> 如何安装CMake和Ninja </h3><br><p> 为了能够收集到一些东西，如果尚未安装，则必须安装CMake。 </p><br><ul><li> 从站点下载： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//cmake.org/download</a> 。 我有cmake-3.12.2-win64-x64; </li><li> 解压缩并将路径添加到Windows环境变量PATH中cmake.exe所在的位置； </li><li> 从网站下载<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最新版本</a>的忍者生成器; </li><li> 打开包装，然后将其放在PATH中的某个位置。 </li></ul><br><h3 id="kak-redaktirovat-path-chtoby-ne-poehat-kukuhoy"> 如何编辑路径，以免像布谷鸟一样旅行 </h3><br><p> 第一种方法是众所周知的：赢+暂停-&gt;高级系统设置-&gt;高级-&gt;环境变量。 不幸的是，即使在添加了PATH变量编辑器的Windows 10中，这仍然不是很方便。 </p><br><p> 如果您经常摆弄PATH，那么使用标准的编辑窗口会很烦人。 我建议您使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Rapid Environment Editor-</a>它是免费的，可以极大地节省您的神经。 </p><br><h3 id="kak-podklyuchat-dll-iz-mingw-v-rezhime-razrabotki"> 如何在开发模式下从MinGW连接DLL </h3><br><p> 为了启动应用程序，您至少需要<code>mingw64\bin</code> dll文件。 </p><br><p> 不幸的是，我找不到将库从MinGW扔到PATH的真正方便的解决方案。 如果有些贤哲能在评论中说出来，我将不胜感激。 </p><br><p> 现在，最简单的方法是将MinGW bin目录直接附加到PATH的第一位。  （对于Visual Studio，您可以简单地将库放到Assembly目录中。）不幸的是，此方法有很多缺点：修改PATH之后，Windows中的某些软件会立即崩溃。 例如，《守望先锋》停止为我工作，这是完全致命的事情。 </p><br><p> 如果像我一样，您生活在计算机中，而不仅仅是在工作时间打开计算机，则建议采用以下方案：在编程之前将MinGW添加到PATH，然后将其删除。 为了简化此过程，您需要制作两个可以通过双击启动的批处理文件： </p><br><p>  before.bat： </p><br><pre> <code class="hljs tex">setx path "Z:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">msys</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bin</span></span></span></span>;<span class="hljs-comment"><span class="hljs-comment">%path%"</span></span></code> </pre> <br><p>  after.bat： </p><br><pre> <code class="hljs pgsql">setx <span class="hljs-type"><span class="hljs-type">PATH</span></span> "%PATH:Z:\msys64\mingw64\bin;=%"</code> </pre><br><h3 id="kak-podklyuchat-dll-v-rezhime-testovogo-reliza"> 如何在测试发布模式下连接DLL </h3><br><p> 显然，只有当<code>mingw64\bin</code>在PATH中时，即在开发人员的计算机上，才可以使用前一种方法。 即使在那儿，您也不总是要破坏PATH。 如果它启动一个普通人（或在after.bat之后启动我们自己），则类似于： </p><br><img width="400" src="https://habrastorage.org/webt/d2/ka/-b/d2ka-bup2zcih2chipoohkcj6u8.png"><br><p><img width="400" src="https://habrastorage.org/webt/tf/ia/zh/tfiazhyj4f-f_-omq2tojpkykmk.png"><br></p><br><p> 解决此问题的最简单方法是将必要的dll放在可执行文件旁边。 但是为此，您需要知道使用了哪些dll！ </p><br><p> 我们已经有一些Microsoft制造的实用程序。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用ListDLLs</a>可以看到正在运行的应用程序的完整列表，但它不会显示尚未加载的内容。 </li><li> 如果您执行工具-&gt; Visual Studio命令提示符，则<code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> ，那么它将仅显示第一级dll。 换句话说，如果仅完成dumpbin告诉您的内容，则在启动后仍然会出现错误-它们仅与其他DLL有关。 </li></ul><br><p> 为了深入了解依赖关系， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有一个</a>可以直接从命令行执行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的脚本</a> （msys2，cygwin等-足以在其中安装python2 / 3和objdump）。 </p><br><ul><li> 下载mingw-bundledlls脚本， </li><li> 放在文件旁边， </li><li> 在文本编辑器的<code>blacklist = [</code>数组中<code>blacklist = [</code>添加我们的DirectX件： <code>d3d10.dll, d3d11.dll, d3dcompiler_43.dll</code> ， </li><li>  <code>chmod 755 ./mingw-bundledlls</code> ， </li><li> 要查看使用的<code>./mingw-bundledlls ./src.exe</code> ： <code>./mingw-bundledlls ./src.exe</code> （好吧，您更感兴趣的任何可执行文件）， </li><li> 自动复制并放置下一个： <code>./mingw-bundledlls --copy ./src.exe</code> </li><li> 利润：双击exe文件并从Visual Studio像这样启动可执行文件。 </li></ul><br><p> 仍然有各种棘手的方法来签约CMake来复制dll本身，但是如果您开始研究发行问题，那么您将永远无法完成本文。 </p><br><h1 id="sborka-vruchnuyu"> 手动组装 </h1><br><ul><li> 蝙蝠前 </li><li> 开始-&gt;运行-&gt; cmd.exe </li><li> <code>cd /dz://game/src</code> </li> <li> <code>cmake -G "Ninja" -D EXECUTABLE_OUTPUT_PATH="bin" -D CMAKE_CXX_COMPILER="Z:/msys64/mingw64/bin/g++.exe" -D CMAKE_C_COMPILER="Z:/msys64/mingw64/bin/gcc.exe" .</code> </li> <li> 忍者 </li><li> 立即运行bin中生成的文件，或根据上述说明附加dll，然后执行after.bat </li></ul><br><p> 我们已经证明我们完全不依赖于IDE。 </p><br><h1 id="sborka-v-visual-studio"> 在Visual Studio中构建 </h1><br><p> 但是，没有IDE进行开发仍然不是问题。 上一次，我们已经使用CLion编写了一个测试应用程序。 但这是有偿所有权和zashkvar，对吗？ 算了 现在只有免费。 </p><br><p> 在Visual Studio中，必要动作的顺序非常简单。 </p><br><ul><li> 蝙蝠前 </li><li> 启动Visual Studio； </li><li> 文件-&gt;打开-&gt; CMake; </li><li> 选择CMakeLists.txt; </li><li> 可视化工具思考并显示项目一段时间。 </li><li> 主菜单-&gt;缓存-&gt;生成-&gt;项目名称； </li><li> 我们查看输出并修复错误（例如，我发誓使用CMake版本，我不得不将其降低到3.11而不是3.12）； </li><li> 主菜单-&gt; CMake-&gt;更改CMake设置（选择MinGW64-Debug）； </li><li>  CMakeSettings.json文件将在项目中自动生成。 我们在此处指示到MinGW的路径（在上一个视频“ Z：\ msys64 \ mingw64”中有此路径），保存文件； </li><li> 主菜单-&gt;缓存-&gt;生成-&gt; CMakeLists.txt; </li><li> 主菜单-&gt;缓存-&gt;生成-&gt;项目名称； </li><li> 如果一切都正确完成，则带有项目名称的项目将出现在“选择有效的启动项目”菜单中（绿色箭头旁边以启动应用程序）。 </li><li> 我们开始。 </li></ul><br><p> 与使用控制台一样，您可以直接启动它（记住MinGW在PATH中），也可以执行after.bat并根据说明放置必要的DLL。  DLL需要直接放置在应用程序所在的目录中。 可以在CMakeSettings.json文件的buildRoot参数中指定它。 </p><br><p> 因此，先生们，最重要的事情是：从Visual Studio中，一切都可以编译并完美运行。 我们已经证明我们不依赖于商业IDE。 </p><br><h1 id="sborka-v-visual-studio-code"> 在Visual Studio Code中生成 </h1><br><p> 不幸的是，Visual Studio仍然不是专有的封闭源代码软件。 我们需要继续免费一些，这就是Visual Studio Code。 </p><br><p> 首先有趣的mindfak。 如果您在大型显示器上运行VSCode（例如，我正坐在家里看电视），则VSCode界面会变得一团糟。 为防止这种情况发生，您需要使用<code>--force-device-scale-factor</code>键（使其成为桌面快捷方式或类似名称）来运行它。 </p><br><p> 不幸的是，我没有掌握VSCode的PATH管理，因此启动它的唯一方法是使用before.bat和另一个技巧修改PATH，我将在下面进行介绍。 </p><br><p> 接下来，您需要配置VSCode。 </p><br><ul><li> 安装CMake工具：查看-&gt;扩展-&gt;在搜索中输入“ CMake Tools”，单击“ vector-of-bool”作者制作的软件包前面的安装。 </li><li> 查看-&gt;资源管理器-&gt;打开文件夹（选择项目所在的目录）； </li><li>  Command Palette（CP，快捷键Ctrl + P）-&gt;“&gt; CMake：扫描套件”； </li><li> 选择我们的“ GCC 8.2.0”，它将指向安装msys2或在其中使用的位置的正确位置； </li><li> 文件&gt;首选项&gt;设置； </li><li> 转到用户设置选项卡； </li><li> 单击面板右上角的三个点，然后从菜单中选择“打开settings.json”； </li><li> 添加以下选项： </li></ul><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"cmake.configureOnOpen"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shell.windows"</span></span>: <span class="hljs-string"><span class="hljs-string">"D:/msys64/usr/bin/bash.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shellArgs.windows"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-i"</span></span> ], <span class="hljs-string"><span class="hljs-string">"terminal.integrated.env.windows"</span></span>: { <span class="hljs-string"><span class="hljs-string">"PATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"/mingw64/bin;/usr/local/bin;/usr/bin;/bin;Z:/msys64/bin/;Z:/msys64/usr/local/bin;Z:/msys64/usr/bin;Z:/msys64/bin;Z:/msys64/mingw64/bin/;%PATH%"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cmake.buildDirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{workspaceRoot}/build/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{buildType}"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.clearOutputBeforeBuild"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"cmake.generator"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.cmakePath"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:\\my\\opt\\cmake-3.12.2-win64-x64\\cmake-3.12.2-win64-x64\\bin\\cmake.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.mingwSearchDirs"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Z:/msys64/mingw64"</span></span>, ], <span class="hljs-string"><span class="hljs-string">"cmake.preferredGenerators"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span> ], <span class="hljs-string"><span class="hljs-string">"cmake.loggingLevel"</span></span>: <span class="hljs-string"><span class="hljs-string">"debug"</span></span></code> </pre> <br><ul><li> 构建应该自动进行，并且构建将被折叠到<code>build</code>目录中。 如果这没有发生，则需要用鼠标单击<code>Build</code>按钮，并使齿轮位于状态行中。 </li></ul><br><p> 显然，您需要直接指定mingw和cmake的路径。  “但是我有路径！” 请指出，这将解决所有问题。 </p><br><p> 但是，有一种不丢弃PATH的独占方法。 </p><br><ul><li> <code>"cmake.generator": "MSYS Makefiles"</code> </li> <li> <code>"cmake.preferredGenerators": [ "MSYS Makefiles"]</code> </li> <li> 检查MinGW是否不在PATH（after.bat）中； </li><li> 确认您已删除项目中的构建目录。 </li><li> 启动Msys2控制台； </li><li>  <code>export PATH=/z/msys64/mingw64/bin;$PATH</code> （然后可以在某种<code>"~/.bashrc"</code>输入它） </li><li> 例如，从中运行VSCode，例如： <code>"C:\Users\olegchir\AppData\Local\Programs\Microsoft VS Code\Code.exe"</code> </li><li> 然后一切都和以前一样。 该文件应正常生成。 </li><li> 当您尝试通过双击从资源管理器中立即启动它时，会立即导致DLL搜索错误-这意味着一切正确，我们实际上在VSCode中使用了特殊的PATH，但在外部使用了特殊的PATH。 </li></ul><br><p> 因此，我们证明了，在免费的IDE中，我们也可以自己生活。 </p><br><h1 id="itogi"> 总结 </h1><br><p> 总结一下，如果您是普通人，则可以使用CMake，MinGW，而不会吹入胡须。 一切都可以在IDE之间自由移植，一切正常。 我们可以随时使用任何付费，封闭，非免费的IDE，我们将一无所获。 但是其他所有人都会受苦，这是正确的。 </p><br><p> 以后的文章将考虑您的意见。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在Twitch直播期间，</a>您可以提出问题并在评论中提供建议。 这些文章是否全部取决于您在此评论下弹起箭头的力度。 </p><br><pre> <code class="hljs">                </code> </pre> <br><p>  ©亚历山大·雷夫斯基 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425209/">https://habr.com/ru/post/zh-CN425209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425199/index.html">是什么保护买家免受非接触式支付欺诈</a></li>
<li><a href="../zh-CN425201/index.html">“我已经研究了三年的冒名顶替综合症”-程序员的10个问题，第7期</a></li>
<li><a href="../zh-CN425203/index.html">旧的UPnP漏洞以新方式</a></li>
<li><a href="../zh-CN425205/index.html">项目管理中的软技能：成功使用业务的概念，目标和技巧</a></li>
<li><a href="../zh-CN425207/index.html">设计测试：Heisenbug 2018 Piter十大话题</a></li>
<li><a href="../zh-CN425211/index.html">286和网络</a></li>
<li><a href="../zh-CN425213/index.html">计划下一个版本的Vue.js</a></li>
<li><a href="../zh-CN425215/index.html">优化Webpack应用程序的4个技巧</a></li>
<li><a href="../zh-CN425217/index.html">升级Kubernetes集群时的应用程序容错</a></li>
<li><a href="../zh-CN425219/index.html">什么是心理健康：心理学/心理疗法的视角</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>