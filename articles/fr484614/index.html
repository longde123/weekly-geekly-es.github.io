<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèΩ üå´Ô∏è üë¶üèº 6 recommandations pour d√©velopper des applications Go s√©curis√©es üë¥üèº üç£ üîÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ces derni√®res ann√©es, Golang s'est propag√© de plus en plus. Des projets r√©ussis comme Docker, Kubernetes et Terraform ont fait d'√©normes paris sur ce ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>6 recommandations pour d√©velopper des applications Go s√©curis√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/484614/">  Ces derni√®res ann√©es, Golang s'est propag√© de plus en plus.  Des projets r√©ussis comme Docker, Kubernetes et Terraform ont fait d'√©normes paris sur ce langage de programmation.  Go est devenu la norme de facto pour la cr√©ation d'outils de ligne de commande.  Et si nous parlons de s√©curit√©, il s'av√®re que dans ce domaine chez Go, tout est en parfait √©tat.  A savoir, depuis 2002, <a href="https://www.cvedetails.com/vendor/1485/Golang.html">une</a> seule vuln√©rabilit√© Golang a √©t√© enregistr√©e dans le registre CVE. <br><br>  Cependant, le fait qu'il n'y ait aucune vuln√©rabilit√© dans le langage de programmation ne signifie pas que toute application √©crite dans ce langage sera compl√®tement s√ªre.  Si le d√©veloppeur n'adh√®re pas √† certaines recommandations, il peut tr√®s bien cr√©er une application non prot√©g√©e m√™me dans un tel langage.  Dans le cas de Go, vous pouvez trouver des recommandations similaires en vous r√©f√©rant au mat√©riel <a href="https://www.owasp.org/index.php/OWASP_Secure_Coding_Practices_-_Quick_Reference_Guide">OWASP</a> . <br><br><img src="https://habrastorage.org/webt/xc/f0/b_/xcf0b_xlknav3wjietldqa1nexc.jpeg"><br><br>  L'auteur de l'article, dont nous publions aujourd'hui la traduction, a formul√©, sur la base des donn√©es OWASP, 6 recommandations pour d√©velopper des applications s√©curis√©es sur Go. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. V√©rifiez l'entr√©e utilisateur</font> </h2><br>  La validation des donn√©es saisies par l'utilisateur est n√©cessaire non seulement pour assurer le bon fonctionnement de l'application.  Il vise √©galement √† lutter contre les intrus qui, √† l'aide de donn√©es pr√©par√©es de mani√®re particuli√®re, tentent de perturber le syst√®me.  De plus, la v√©rification des donn√©es utilisateur aide les utilisateurs √† travailler avec l'application en toute confiance, car elle les prot√®ge des erreurs courantes.  Par exemple, en analysant les commandes utilisateur, vous pouvez emp√™cher une tentative de suppression de plusieurs enregistrements en m√™me temps dans une situation o√π une telle action peut entra√Æner un dysfonctionnement du syst√®me. <br><br>  Vous pouvez utiliser des packages Go standard pour v√©rifier l'entr√©e utilisateur.  Par exemple, le package <code>strconv</code> permet de convertir des donn√©es de cha√Æne en d'autres types de donn√©es.  Go prend √©galement en charge, gr√¢ce √† <code>regexp</code> , les expressions r√©guli√®res.  Ils peuvent √™tre utilis√©s pour impl√©menter des scripts de validation de donn√©es complexes.  Malgr√© le fait que dans l'environnement de d√©veloppement on pr√©f√®re g√©n√©ralement Go aux biblioth√®ques standard, il existe des packages tiers destin√©s √† v√©rifier les donn√©es.  Par exemple, <a href="https://github.com/go-playground/validator">validateur</a> .  Ce package facilite la v√©rification de structures de donn√©es complexes ou de valeurs uniques.  Par exemple, le code suivant v√©rifie la structure de l' <code>User</code> pour l'exactitude de l'adresse e-mail qu'elle contient: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>  <span class="hljs-string"><span class="hljs-string">"gopkg.in/go-playground/validator.v9"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> User <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {  Email <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`json:"email" validate:"required,email"`</span></span>  Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`json:"name" validate:"required"`</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  v := validator.New()  a := User{    Email: <span class="hljs-string"><span class="hljs-string">"a"</span></span>,  }  err := v.Struct(a)  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, e := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> err.(validator.ValidationErrors) {    fmt.Println(e)  } }</code> </pre> <br><h2>  <font color="#3AC1EF">2. Utilisez des mod√®les HTML</font> </h2><br>  XSS (cross-site scripting, cross-site scripting) est une vuln√©rabilit√© grave et r√©pandue.  La vuln√©rabilit√© XSS permet √† un attaquant d'injecter du code malveillant dans l'application qui pourrait affecter les donn√©es g√©n√©r√©es par l'application.  Par exemple, quelqu'un peut envoyer du code JavaScript √† l'application, dans le cadre d'une cha√Æne de requ√™te dans une URL.  Lorsque l'application traite une telle demande, ce code JavaScript peut √™tre ex√©cut√©.  En cons√©quence, il s'av√®re que le d√©veloppeur de l'application doit s'y attendre et nettoyer les donn√©es re√ßues de l'utilisateur. <br><br>  Go a un package <a href="https://golang.org/pkg/html/template/">html / template</a> qui vous permet de g√©n√©rer du code HTML prot√©g√© contre les fragments malveillants.  En cons√©quence, le navigateur qui affiche l'application attaqu√©e, au lieu d'ex√©cuter du code comme <code>&lt;script&gt;alert('You've Been Hacked!');&lt;/script&gt;</code> , qui informe l'utilisateur qu'il a √©t√© pirat√©, percevra le code JavaScript malveillant comme du texte brut .  Voici √† quoi ressemble un serveur HTTP utilisant des mod√®les HTML: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"html/template"</span></span>  <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span></span></span> {  param1 := r.URL.Query().Get(<span class="hljs-string"><span class="hljs-string">"param1"</span></span>)  tmpl := template.New(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>)  tmpl, _ = tmpl.Parse(<span class="hljs-string"><span class="hljs-string">`{{define "T"}}{{.}}{{end}}`</span></span>)  tmpl.ExecuteTemplate(w, <span class="hljs-string"><span class="hljs-string">"T"</span></span>, param1) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  http.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, handler)  http.ListenAndServe(<span class="hljs-string"><span class="hljs-string">":8080"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) }</code> </pre> <br>  Il existe des biblioth√®ques tierces que vous pouvez utiliser lors du d√©veloppement d'applications Web sur Go.  Disons que c'est la <a href="https://www.gorillatoolkit.org/">bo√Æte √† outils Web Gorilla</a> .  Cette bo√Æte √† outils comprend des biblioth√®ques qui aident le d√©veloppeur, par exemple, √† coder des valeurs dans les cookies d'authentification.  Et voici un autre projet - <a href="https://github.com/justinas/nosurf">nosurf</a> .  Il s'agit d'un paquet HTTP qui aide √† pr√©venir <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">les</a> attaques <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">CSRF</a> . <br><br><h2>  <font color="#3AC1EF">3. Prot√©gez votre projet de l'injection SQL</font> </h2><br>  Si vous n'√™tes pas nouveau dans le d√©veloppement Web, vous connaissez probablement les attaques par injection SQL (en utilisant une m√©thode d'injection de code SQL arbitraire dans les requ√™tes).  La vuln√©rabilit√© correspondante occupe toujours le premier rang du <a href="https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%2528en%2529.pdf.pdf">classement OWASP Top 10</a> .  Pour prot√©ger les applications de l'injection SQL, vous devez prendre en compte certaines fonctionnalit√©s.  Ainsi, la premi√®re chose √† faire est que l'utilisateur qui se connecte √† la base de donn√©es ait des privil√®ges limit√©s.  Il est recommand√©, en outre, d'effacer les donn√©es entr√©es par l'utilisateur, comme nous l'avons d√©j√† mentionn√©, ou d'√©chapper des caract√®res sp√©ciaux et d'utiliser la fonction <a href="https://golang.org/pkg/html/template/">HTMLEscapeString</a> du <a href="https://golang.org/pkg/html/template/">package</a> <code>html/template</code> . <br><br>  Mais la chose la plus importante dans la protection contre l'injection SQL est l'utilisation de requ√™tes param√©tr√©es (expressions pr√©par√©es).  Dans Go, les expressions ne sont pas pr√©par√©es pour une connexion, mais pour une base de donn√©es.  Voici un exemple d'utilisation de requ√™tes param√©tr√©es: <br><br><pre> <code class="go hljs">customerName := r.URL.Query().Get(<span class="hljs-string"><span class="hljs-string">"name"</span></span>) db.Exec(<span class="hljs-string"><span class="hljs-string">"UPDATE creditcards SET name=? WHERE customerId=?"</span></span>, customerName, <span class="hljs-number"><span class="hljs-number">233</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>)</code> </pre> <br>  Mais que faire si le moteur de base de donn√©es ne prend pas en charge l'utilisation d'expressions pr√©-pr√©par√©es?  Mais que se passe-t-il si cela affecte les performances des requ√™tes?  Dans de tels cas, vous pouvez utiliser la fonction <code>db.Query()</code> , mais vous devez d'abord vous rappeler d'effacer l'entr√©e utilisateur.  Pour emp√™cher les attaques utilisant l'injection SQL, vous pouvez utiliser des biblioth√®ques tierces, comme <a href="https://github.com/sqlmapproject/sqlmap">sqlmap</a> . <br><br>  Il convient de noter que, malgr√© tous les efforts pour prot√©ger les applications contre les attaques SQL, les attaquants r√©ussissent parfois encore √† ces attaques.  Dites - √† travers les d√©pendances des applications externes.  Afin d'augmenter le niveau de s√©curit√© du projet, vous pouvez utiliser les outils appropri√©s pour v√©rifier la s√©curit√© des applications.  Par exemple, les outils de la plateforme <a href="https://www.sqreen.com/">Sqreen</a> . <br><br><h2>  <font color="#3AC1EF">4. Chiffrer les informations importantes</font> </h2><br>  Si une certaine ligne, par exemple, dans le codage BASE64, ne peut pas √™tre lue par une personne, cela ne signifie pas que les informations qui y sont cach√©es sont prot√©g√©es de mani√®re fiable.  Par cons√©quent, les informations importantes doivent √™tre crypt√©es, les prot√©geant des intrus qui peuvent acc√©der aux donn√©es crypt√©es.  Informations g√©n√©ralement crypt√©es telles que les mots de passe de base de donn√©es, les mots de passe des utilisateurs, les donn√©es personnelles des utilisateurs. <br><br>  Dans le cadre du projet OWASP, certaines <a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html">recommandations sont faites</a> concernant les algorithmes de chiffrement pr√©f√©r√©s.  Par exemple, il s'agit de <code>bcrypt</code> , <code>PDKDF2</code> , <code>Argon2</code> , <code>scrypt</code> .  Il existe un package Go, <a href="https://godoc.org/golang.org/x/crypto">crypto</a> , qui contient des impl√©mentations fiables de divers algorithmes de cryptage.  Voici un exemple utilisant l'algorithme <code>bcrypt</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"database/sql"</span></span>  <span class="hljs-string"><span class="hljs-string">"context"</span></span>  <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>  <span class="hljs-string"><span class="hljs-string">"golang.org/x/crypto/bcrypt"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  ctx := context.Background()  email := []<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"john.doe@somedomain.com"</span></span>)  password := []<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"47;u5:B(95m72;Xq"</span></span>)  hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  }  stmt, err := db.PrepareContext(ctx, <span class="hljs-string"><span class="hljs-string">"INSERT INTO accounts SET hash=?, email=?"</span></span>)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  }  result, err := stmt.ExecContext(ctx, hashedPassword, email)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  } }</code> </pre> <br>  Veuillez noter que m√™me en utilisant le cryptage, vous devez prendre soin du transfert s√©curis√© des informations entre les services.  Par exemple, vous ne devez pas transf√©rer le mot de passe de l'utilisateur quelque part en texte brut, m√™me s'il est stock√© sous forme crypt√©e.  Lors de la transmission de donn√©es sur Internet, il convient de partir de l'hypoth√®se qu'elles peuvent √™tre intercept√©es par un attaquant qui collecte des donn√©es √† partir de requ√™tes ex√©cut√©es dans un certain syst√®me.  L'attaquant peut faire correspondre les informations collect√©es avec les donn√©es re√ßues d'autres syst√®mes et, par cons√©quent, peut casser le projet qui l'int√©resse. <br><br><h2>  <font color="#3AC1EF">5. Appliquer HTTPS</font> </h2><br>  De nos jours, la plupart des navigateurs n√©cessitent des sites qui s'ouvrent avec eux pour prendre en charge HTTPS.  Chrome, par exemple, affichera une notification dans la barre d'adresse si des donn√©es sont √©chang√©es avec le site sans utiliser HTTPS.  Dans une organisation soutenant un certain projet, une politique de s√©curit√© peut √™tre appliqu√©e visant √† organiser un √©change s√©curis√© de donn√©es entre les services qui composent ce projet.  Par cons√©quent, pour assurer la s√©curit√© des connexions, il faut faire attention non seulement √† l'√©coute de l'application sur le port 443. Le projet doit avoir les certificats appropri√©s, il est n√©cessaire d'organiser l'utilisation forc√©e de HTTPS afin d'emp√™cher l'attaquant de basculer vers l'√©change de donn√©es HTTP. <br><br>  Voici un exemple d'application qui applique HTTPS: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"crypto/tls"</span></span>  <span class="hljs-string"><span class="hljs-string">"log"</span></span>  <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  mux := http.NewServeMux()  mux.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, req *http.Request)</span></span></span></span> {    w.Header().Add(<span class="hljs-string"><span class="hljs-string">"Strict-Transport-Security"</span></span>, <span class="hljs-string"><span class="hljs-string">"max-age=63072000; includeSubDomains"</span></span>)    w.Write([]<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"This is an example server.\n"</span></span>))  })  cfg := &amp;tls.Config{    MinVersion:        tls.VersionTLS12,    CurvePreferences:     []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},    PreferServerCipherSuites: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,    CipherSuites: []<span class="hljs-keyword"><span class="hljs-keyword">uint16</span></span>{      tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,      tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,      tls.TLS_RSA_WITH_AES_256_GCM_SHA384,      tls.TLS_RSA_WITH_AES_256_CBC_SHA,    },  }  srv := &amp;http.Server{    Addr:     <span class="hljs-string"><span class="hljs-string">":443"</span></span>,    Handler:   mux,    TLSConfig:  cfg,    TLSNextProto: <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*http.Server, *tls.Conn, http.Handler)</span></span></span><span class="hljs-function">, 0),  }  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fatal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(srv.ListenAndServeTLS("tls.crt", "tls.key")</span></span></span><span class="hljs-function">) }</span></span></code> </pre> <br>  Veuillez noter que l'application √©coute sur le port 443. Et voici la ligne responsable de l'utilisation forc√©e de HTTPS: <br><br><pre> <code class="go hljs">w.Header().Add(<span class="hljs-string"><span class="hljs-string">"Strict-Transport-Security"</span></span>, <span class="hljs-string"><span class="hljs-string">"max-age=63072000; includeSubDomains"</span></span>)</code> </pre> <br>  De plus, la sp√©cification du nom du serveur dans la configuration TLS peut avoir un sens: <br><br><pre> <code class="go hljs">config := &amp;tls.Config{ServerName: <span class="hljs-string"><span class="hljs-string">"yourSiteOrServiceName"</span></span>}</code> </pre> <br>  Il est recommand√© de toujours utiliser le cryptage des donn√©es transmises entre les parties du syst√®me, m√™me si l'application Web est un peu une soci√©t√© de chat interne.  Imaginez les cons√©quences possibles d'une attaque dans laquelle un attaquant intercepte des donn√©es d'application transmises sur un r√©seau.  Dans la mesure du possible, il vaut la peine de se pr√©parer √† d'√©ventuelles attaques contre le projet, en essayant de compliquer au maximum la vie des attaquants. <br><br><h2>  <font color="#3AC1EF">6. Faites attention √† la gestion et √† la journalisation des erreurs.</font> </h2><br>  Cet article est le dernier de notre liste, mais il est certainement loin d'√™tre le dernier en importance.  Ici, nous parlons de la gestion des erreurs et de la journalisation. <br><br>  Afin de faire face en temps opportun aux probl√®mes survenant dans la production, vous devez √©quiper l'application d'outils appropri√©s.  Dans le m√™me temps, vous devez faire tr√®s attention aux messages d'erreur affich√©s aux utilisateurs.  Vous ne devez pas dire aux utilisateurs ce qui ne va pas.  Le fait est qu'un attaquant peut utiliser ces informations afin de d√©couvrir quels services et technologies sont utilis√©s dans le projet.  De plus, il convient de rappeler que bien que les journaux soient g√©n√©ralement per√ßus sous un jour positif, ces journaux sont stock√©s quelque part.  Et si le journal des applications tombe entre de mauvaises mains, l'analyse des informations qu'il contient peut aider √† mener une attaque contre le projet. <br><br>  La premi√®re chose √† consid√©rer ici est qu'il n'y a aucune exception √† Go.  Cela signifie que les erreurs dans les applications √©crites en Go ne traitent pas les erreurs de la m√™me mani√®re que les erreurs dans les applications √©crites dans d'autres langues.  Habituellement, cela ressemble √† ceci: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br>  De plus, Go poss√®de une biblioth√®que standard pour travailler avec des journaux, appel√©e <code>log</code> .  Voici un exemple simple de son utilisation: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"log"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  log.Print(<span class="hljs-string"><span class="hljs-string">"Logging in Go!"</span></span>) }</code> </pre> <br>  Il existe des biblioth√®ques tierces pour organiser la journalisation.  Par exemple, il s'agit de <code>logrus</code> , <code>glog</code> , <code>loggo</code> .  Voici un petit exemple d'utilisation de <code>logrus</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"os"</span></span>  log <span class="hljs-string"><span class="hljs-string">"github.com/sirupsen/logrus"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  file, err := os.OpenFile(<span class="hljs-string"><span class="hljs-string">"info.log"</span></span>, os.O_CREATE|os.O_APPEND, <span class="hljs-number"><span class="hljs-number">0644</span></span>)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    log.Fatal(err)  }  <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> file.Close()  log.SetOutput(file)  log.SetFormatter(&amp;log.JSONFormatter{})  log.SetLevel(log.WarnLevel)  log.WithFields(log.Fields{    <span class="hljs-string"><span class="hljs-string">"animal"</span></span>: <span class="hljs-string"><span class="hljs-string">"walrus"</span></span>,    <span class="hljs-string"><span class="hljs-string">"size"</span></span>:  <span class="hljs-number"><span class="hljs-number">10</span></span>,  }).Info(<span class="hljs-string"><span class="hljs-string">"A group of walrus emerges from the ocean"</span></span>) }</code> </pre> <br>  Et enfin, lorsque vous travaillez avec des donn√©es qui tombent dans les journaux, utilisez les recommandations de s√©curit√© dont nous avons d√©j√† discut√©.  En particulier, effacez et cryptez ces donn√©es. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Les recommandations donn√©es ici sont un minimum qu'un projet √©crit en Go devrait avoir.  Mais si le projet en question est un utilitaire de ligne de commande, il n'a pas besoin de mettre en ≈ìuvre de protection pour le trafic transmis sur le r√©seau.  Les autres conseils s'appliquent √† presque tous les types d'application.  Si vous souhaitez approfondir la question du d√©veloppement d'applications s√©curis√©es sur Go, jetez un ≈ìil au <a href="https://github.com/OWASP/Go-SCP">livre OWASP</a> sur ce sujet.  Et <a href="https://github.com/guardrailsio/awesome-golang-security">voici</a> un r√©f√©rentiel qui contient des liens vers divers outils visant √† assurer la s√©curit√© des applications Go. <br><br>  Quoi que vous fassiez dans le domaine de la s√©curisation de vos applications, n'oubliez pas que la s√©curit√© peut toujours √™tre am√©lior√©e et que les attaquants trouvent constamment de nouvelles fa√ßons d'attaquer.  Par cons√©quent, la protection des applications est ce que vous devez faire, non pas au cas par cas, mais en permanence. <br><br>  <b>Chers lecteurs!</b>  Comment prot√©gez-vous vos applications √©crites en Go? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484614/">https://habr.com/ru/post/fr484614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484600/index.html">Microsoft Ignite The Tour Prague Conf√©rence technique</a></li>
<li><a href="../fr484602/index.html">Livre ¬´D√©veloppement d'applications mobiles en C # pour iOS et Android¬ª</a></li>
<li><a href="../fr484604/index.html">Nouvelle ann√©e, nouveau navigateur: Microsoft Edge hors de l'√©valuation pr√©liminaire et maintenant disponible en t√©l√©chargement</a></li>
<li><a href="../fr484610/index.html">Au revoir le code propre</a></li>
<li><a href="../fr484612/index.html">Optimisation du temps de construction du projet</a></li>
<li><a href="../fr484616/index.html">6 le√ßons tir√©es de l'exp√©rience d'optimisation des performances du service Node.js</a></li>
<li><a href="../fr484618/index.html">Angular 9 et Ivy: chargement de composants paresseux</a></li>
<li><a href="../fr484620/index.html">Nouveau rendu graphique PS1 pour l'√©mulateur Omega Red</a></li>
<li><a href="../fr484624/index.html">Mod√®les de je√ªne √† intervalle et d'extension de la dur√©e de vie</a></li>
<li><a href="../fr484628/index.html">Eric Ciaramella comme exemple de censure sur Wikipedia / Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>