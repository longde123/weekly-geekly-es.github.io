<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👰🏼 👴🏽 👊🏻 我们处理统一法律实体国家注册簿中的错误和“拐杖”-法律实体国家注册簿 🦗 ↪️ 🐗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="上周，我们发布了一篇有关寄存器注册的文章 -一个包含1000万家公司数据的州注册机构。 该材料谈论基本的东西，所以最好从它开始。 

 在这里，我们将揭示一个丰富而富饶的话题-统一法律实体州注册局的问题，这些问题阻止我们的开发人员感到无聊。 

 XML结构会定期中断 
 在2017年，每两到三个月...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我们处理统一法律实体国家注册簿中的错误和“拐杖”-法律实体国家注册簿</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hflabs/blog/414885/"><img src="https://habrastorage.org/webt/4e/3e/bi/4e3ebi1ytnjuu_-zgo0racfq2yi.jpeg"><br><br> 上周，我们发布<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了一篇有关</a>寄存器注册<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的文章</a> -一个包含1000万家公司数据的州注册机构。 该材料谈论基本的东西，所以最好从它开始。 <br><br> 在这里，我们将揭示一个丰富而富饶的话题-统一法律实体州注册局的问题，这些问题阻止我们的开发人员感到无聊。 <br><a name="habracut"></a><br><h2>  XML结构会定期中断 </h2><br> 在2017年，每两到三个月，更新会将xml格式错误。 有一套完整的标签：未知标签，开放标签，数据类型不匹配。 例如，在xsd中指定了日期类型，但实际上有一个难以理解的字符串。 <br><br> 发生这种情况时，仍然需要写信给技术支持并谦虚地等待。 什么也做不了。 但是我们必须承认，2018年没有任何问题，一切都很明确。 <br><br> 在2015年的完整卸载中，将包含一个损坏的xml，它将永远无法修复。 联邦税务局（Federal Tax Service）说，他们知道这件事，但无意对其进行修理：他们说，请进行以下更新。 <br><br><h2> 更新显示在过去很久的文件夹中 </h2><br> 情况：您在2018年初下载了完整的参考书，应用了所有更新并每天下载更新。 您轻松而宁静，因为您知道：数据库中与法人实体最相关的数据。 <br><br> 但是您仍然错过了一个事实：今晚，联邦税务局不仅发布了下一个更新，而且还在三个月前将新文件放在了文件夹中。 好吧，您的基础已经过时了。 <br><br> 追溯更新有两种类型： <br><br><ul><li> 更改现有文件 </li><li> 添加新的。 </li></ul><br> 要删除某些内容，我们没有看到。 <br><br> 我们在这里为所有这些努力。 我们的本地目录包含来自FTS服务器的当前数据切片-标准。 每天晚上，我们绝对从注册服务器下载所有存档，并将其与标准进行比较。 <br><br> 我们清楚地发现新文件的方式：它们根本不在本地目录中。 如果文件是文件，但是在参考数据库和新数据库中文件的更改日期不同，则比较校验和。 如果两者不同，请使用新的xml-ku并应用更新。 <br><br> 但是有细微差别！ 有时，不相关的信息将追溯追溯到更新中，因此无法应用。 现在将有一个令人困惑的示例，请注意双手。 <br><br> 假设5月21日发布了LLC Romashka的更新。 它位于文件夹<i>06/21/2018中</i> 。 在5月22日，联邦税务局（Federal Tax Service）在<i>2018</i>年6 <i>月20日</i>将文件放入目录中，其中还包含有关“雏菊”的内容。 这是我们不会碰到的。 尽管新文件是新文件，但由于5月21日更新，其内容无关。 <br><br><h2> 记录在几年之间消失 </h2><br> 看来，如果您使用存档01/01 / 2015_FULL，然后滚动2015年的所有更新，则将从01/01 / 2016_FULL中获取数据。 不！ <br><br> 来自我们不完美世界的通常情况： <br><br><ol><li> 在注册簿中，所有2016年都与公司无关。 既不在年初的完整档案中，也不在更新中。 </li><li> 在<i>01.01.2017_FULL，</i>公司突然出现并整年安静地生活。 </li><li> 然后笨拙-在01/01 <i>/</i> 2018_FULL没有了。 运气好的话，她会在其中一个更新中稍后出现，但事实并非如此。 </li></ol><br> 每年约有1000个法人实体消失。 <br><br><img src="https://habrastorage.org/webt/c-/gm/ta/c-gmtaq4rrwrdaxgmr4zmqsdoum.png"><br>  <sub>这款出色的LLC仅在2017年2月21日更新中在统一法律实体州注册簿中点亮过一次。</sub>  <sub>没有其他地方的公司，没有一次完整的卸载</sub> <br><br> 因此，从年初开始完全卸载并应用所有更新直到今天都无法工作。 请从2015年开始，否则您的注册将不完整。 <br><br><h2>  XSD突然改变 </h2><br> 自2015年以来，联邦税务局几次更改了xsd。 看起来像这样：更新来了，您尝试按照旧格式解析它，但是没有任何效果。 振作起来！ <br><br> 通常，适应新的xsd是日常工作。 问题在于没有人警告更改。 特技飞行-在联邦税收服务网站的任意部分发布公告，但通常不是。 您将了解有关事实的一切。 <br><br><h2> 目前尚不清楚如何识别会员。 </h2><br> 正如我在上一篇文章中所述，USRLE中的分支不是单独的记录，它们是法人实体的属性。 根据法律，分支机构和代表处不能单独存在，这就是为什么将它们存储在主要公司的记录中的原因。 <br><br> 但是我们的客户有他们自己的需求：他们向其他公司的分支机构提供服务，与他们签署共同的文件，并在会计系统中将分支机构作为单独的实体进行维护。 因此，我们会将USRLE的分支机构和代表处转变为单独的卡，并绑定到主记录。 <br><br> 需要识别创建的会员卡。  USRLE结构提供PPC，缩写名称，全名，甚至是拉丁文名称。 但是为了使其更有趣，联邦税务局保证只填写地址。 如何显示分支，而不显示地址。 <br><br><img src="https://habrastorage.org/webt/mn/wh/1l/mnwh1lvnmjxi5lbnpqs3bf7weh4.png"><br>  <sub>一个典型的例子：卸载中的分支只不过有一个地址</sub> <br><br> 首先，我们仍然在字段中使用缩写名称：突然有东西躺在那里。 在50％的情况下，该字段确实不是空的，但即便如此，现在还为时过早：法人实体所有分支的名称可能相同。 作为标识符，它仅比空白字段有用。 <br><br> 如果分支的名称为空或不唯一，我们将自己创建。 <br><br> 例如，我们将使用所有相同的LLC“ Camomile”。 它具有三个带有空名称和此类地址的分支： <br><br><ul><li> 莫斯科，Turchaninov Lane； </li><li> 莫斯科，Ozerkovskaya路堤； </li><li> 圣彼得堡，涅夫斯基展望。 </li></ul><br> 我们以公司数据为准，并将其转换为分支机构的健全名称标识符。 <br><br><ol><li> 在名称中添加单词“ Branch”或“ Division”，统一法律实体国家注册簿中为它们提供了不同的属性。 </li><li> 在名称中包括主要组织的简称。 现在，我们有三个相同的名称“ Romashka LLC的分支机构”。 </li><li> 我们取分支的地址，并在括号中将地址的不同部分添加到名称中。 <br><br> 我们将地址归因于一个独特的部分：对于“雏菊”的前两个分支，这是完整的地址；对于第三个分支，仅是“圣彼得堡”。 如果所有城市都不相同，则它们只会在分支名称中添加城市。 </li></ol><br> 在我们的示例中，分支将如下所示： <br><br><ul><li>  “有限责任公司Romashka的分支（莫斯科，Turchaninov Lane）”； </li><li>  “有限责任公司Romashka的分支（莫斯科，Ozerkovskaya路堤）”； </li><li>  “有限责任公司Romashka的分公司（圣彼得堡）。” </li></ul><br> 是的，如果USRLE中的分支具有名称但不是唯一的，我们将跳过前两个步骤。 我们将地址部分添加到该非唯一名称。 <br><br> 我们将名称的地址最大化到街道上，因为地狱始于房屋部分，例如“ dmvld 3，5号楼，房间”  14/51 ，。  145.” 拆卸起来很困难，但作为分支名称的一部分，它看起来很可笑。 因此，我们将位于同一条街道上的分支机构联合起来。 同一栋大楼甚至还有不同的分支！ 幸运的是，很少。 <br><br><h2> 只是拿并连接寄存器不起作用 </h2><br> 除了这些问题外，《统一法人实体国家注册簿》在符号，地址和其他琐事方面也充满了错误。 例如，当您在目录中遇到三个零而不是“ LLC”时，这甚至不足为奇。 <br><br> 也有错误的地址，没有错误的地址。 例如，用“列宁格勒”代替“圣彼得堡”是一个非常重要的例子。 一个更普通的选择：尽管Zheleznodorozhny组织在莫斯科地区已有数年之久，但它在莫斯科地区的地址却显示为城市。 <br><br> 实际上，目录中的所有内容都是正确的，因为USRLE存储了组织组成文档中的详细信息。 但是要使用数据库进行搜索，必须将数据变为现实。 我们的用户正在寻找位于圣彼得堡的组织，这些组织从未在列宁格勒注册。 <br><br> 因此，打开统一法律实体国家注册簿并获得适合工业运作的基础是另一项任务。 让我提醒您一些内容：如果您在2015年初阅读完整的参考书，以及直到今天的所有更新，您将获得1亿份。 <br><br> 为了解析USRLE，我们编写了一种算法：自2015年以来，它在输入处接收所有条目，在输出处给出1000万个相关条目。 在一个小时内管理某处。 该过程的重要部分是我们的“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">单客户”</a>产品。 他整理数据：清理地址，查找重复项，纠正错字。 <br><br>  <i>如果您想解析复杂的参考书，构建数据并将其转换为人为形式，请来找我们工作。</i>  <i>现在，我们正在hh.ru上寻找工作岗位，薪金-扣除前的195,000-250,000英镑，详细信息<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">。</a></i>  <i>而且您还需要一个质量检查：从115,000到150,000₽， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">详细信息在同一hh上</a> 。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN414885/">https://habr.com/ru/post/zh-CN414885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN414875/index.html">Kubernetes容器集成取代Docker并投入生产</a></li>
<li><a href="../zh-CN414877/index.html">普通相机的不寻常镜头或如何停止思考焦点</a></li>
<li><a href="../zh-CN414879/index.html">为什么在3D打印机中使用2台挤出机？</a></li>
<li><a href="../zh-CN414881/index.html">有点后台VK</a></li>
<li><a href="../zh-CN414883/index.html">回忆以一种新的方式听起来：BBC更新了RemArc项目的声音档案</a></li>
<li><a href="../zh-CN414887/index.html">在Unity中创建猫钩。 第一部分</a></li>
<li><a href="../zh-CN414889/index.html">当数字代理商需要IaaS时</a></li>
<li><a href="../zh-CN414891/index.html">开发者的习惯</a></li>
<li><a href="../zh-CN414893/index.html">Viber，WhatsApp，Telegram-哪个更好？</a></li>
<li><a href="../zh-CN414895/index.html">对我们来说，一切都是“直立的”-DBMS Vertica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>