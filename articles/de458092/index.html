<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏻 👛 🏭 Auf dem Weg zum Python-Kern 🧑🏾 🈲 ⏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Ich präsentiere Ihnen die Übersetzung von Toward, einem "Kernel Python" -Artikel von Glyph Lefkowitz (Schöpfer des Twisted Frameworks). 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Auf dem Weg zum Python-Kern</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458092/">  Hallo Habr!  Ich präsentiere Ihnen die Übersetzung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Toward, einem "Kernel Python"</a> -Artikel von Glyph Lefkowitz (Schöpfer des Twisted Frameworks). <br><br>  Weitere Details - unter dem Schnitt. <br><a name="habracut"></a><br><h2>  Die Magie der Minimierung der Standardbibliothek </h2><br>  Unter dem Einfluss <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von Amber Browns Rede im</a> letzten Monat auf dem Python Language Summit (unter Bezugnahme auf ihren Mai-Bericht "Batterien sind eingeschaltet, aber sie lecken" - Kommentar des Übersetzers) setzte Christian Hymes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seine Arbeit</a> zur Reduzierung der Standard-Python-Bibliothek fort und erstellte einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PEP 594-</a> Vorschlag zur expliziten Entfernung veraltete und nicht unterstützte Fragmente davon. <br><br>  Das Aufkommen von PEP 594 („Entfernen leerer Batterien aus der Standardbibliothek“) ist eine gute Nachricht für Pythonisten, insbesondere für diejenigen, die die Standardbibliothek unterstützen und nun ein kleineres Frontend haben werden.  Ein kurzer Rundgang durch die PEP-Galerie veralteter oder entfernungsbasierter Module spricht für sich (die Module Sunau, Xdrlib und Chunk sind meine persönlichen Favoriten).  Die Standard-Python-Bibliothek enthält viele nützliche Module, enthält jedoch auch eine echte Code-Nekropole, ein hoch aufragendes Denkmal veralteter Fragmente, die ihre Entwickler jederzeit zu begraben drohen. <br><br>  Ich glaube jedoch, dass der fehlerhafte Ansatz in diesem PEP-Satz implementiert werden kann.  Die Standardbibliothek wird derzeit zusammen mit CPython-Entwicklern unterstützt.  Große Teile davon blieben in der vagen Hoffnung zurück, dass es eines Tages jemandem nützen würde.  In dem oben erwähnten PEP kann dieses Prinzip beim Schutz des Farbenmoduls beachtet werden.  Warum nicht entfernen?  Antwort: „Dieses Modul wird benötigt, um CSS-Farben zwischen Koordinatensystemen (RGB, YIQ, HSL und HSV) zu konvertieren.  [Er] erlegt der Kernentwicklung keine zusätzlichen Kosten auf. “ <br><br>  Es gab Zeiten, in denen der Internetzugang eingeschränkt war, und es war vielleicht eine gute Idee, Python mit einer Menge Material vorzuladen, aber heutzutage sind die Module, die zum Konvertieren von Farben zwischen verschiedenen Koordinatensystemen benötigt werden, nur einen Schritt vom Befehl pip install entfernt. <br><br><h2>  Warum haben Sie meine Poolanfrage nicht berücksichtigt? </h2><br>  Schauen wir uns also diese Aussage an: Verursachen winzige Module wie colorys „zusätzliche Kosten für die Kernentwicklung“? <br><br>  Für die Hauptentwickler ist es genug, dass sie versuchen, eine riesige und alte Basis von C-Code zu erhalten, nämlich CPython selbst.  Wie Marietta Viggia in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ihrer Rede</a> bei North Bay Python sagte, lautet die häufigste Frage von Kernel-Entwicklern: "Warum haben Sie sich meine Pool-Anfrage nicht angesehen?"  Und wie lautet die Antwort?  <i>Es ist einfacher, diese Poolanforderungen zu ignorieren.</i>  Das bedeutet es, ein Kernel-Entwickler zu sein! <br><br>  Man könnte fragen, hat Twisted das gleiche Problem?  Twisted ist auch eine große Sammlung lose gekoppelter Module.  eine Art Standardbibliothek für die Vernetzung.  Sind alle diese Clients und Server für SSH, IMAP, HTTP, TLS usw.  usw.  versuchen, alles in einem Paket zusammenzudrücken? <br><br>  Zur Antwort gezwungen: <i>ja</i> .  Twisted ist monolithisch, da es aus derselben historischen Zeit stammt wie CPython, als die Installation von Komponenten sehr kompliziert war.  Daher sympathisiere ich mit der Position von CPython. <br><br>  Im Idealfall sollte jedes Teilprojekt in Twisted irgendwann zu einem separaten Projekt mit einem eigenen Repository, einer kontinuierlichen Integration (CI), einer Website und natürlich mit eigenen, stärker fokussierten Entwicklern werden.  Wir teilen bereits langsam aber sicher Projekte, bei denen eine natürliche Grenze gezogen werden kann.  Einige der Punkte, die in Twisted als konstant und inkrementell gestartet wurden, werden getrennt, zurückgestellt und der Dateipfad wird getrennt.  Andere Projekte wie klein und treq leben weiterhin getrennt.  Wir werden mehr tun, wenn wir herausfinden, wie wir die Kosten für die Einrichtung und Unterstützung einer kontinuierlichen Integration senken und die Infrastruktur für jeden von ihnen freigeben können. <br><br>  Aber ist die monolithische Natur von Twisted das dringendste oder sogar schwerwiegendste Problem für das Projekt?  Lass es uns schätzen. <br><br>  Zum Zeitpunkt dieses Schreibens hatte Twisted 5 ungelöste ausstehende Pool-Anfragen in der Schlange.  Die durchschnittliche Zeit, die für die Prüfung eines Tickets aufgewendet wird, beträgt ungefähr viereinhalb Tage.  Das älteste Ticket in der Warteschlange ist auf den 22. April datiert. Dies bedeutet, dass weniger als 2 Monate vergangen sind, seit die älteste nicht überprüfte Poolanforderung gesendet wurde. <br><br>  Es ist immer schwierig, genügend Entwickler und Zeit zu finden, um auf Pool-Anfragen zu antworten.  Manchmal scheint es, dass wir immer noch zu oft die Frage bekommen "Warum erwägst du nicht meine Poolanfrage?"  Wir machen es nicht immer perfekt, aber im Allgemeinen schaffen wir es;  Die Warteschlange schwankt im unglücklichsten Monat zwischen 0 und 25. <br><br>  Was ist mit dem Kern von CPython im Vergleich zu diesen Zahlen? <br><br>  Nachdem Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Github besucht haben</a> , können Sie sehen, dass derzeit 429 Tickets auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ihre Prüfung</a> warten.  Der älteste von ihnen wird ab dem 2. Februar 2018 erwartet, d. H. Fast 500 Tage. <br><br>  Wie viele Probleme mit dem Interpreter und wie viele Probleme mit der stdlib-Bibliothek?  Natürlich ist eine ausstehende Überprüfung ein Problem, aber hilft die Entfernung von stdlib? <br><br>  Für eine schnelle und unwissenschaftliche Beurteilung habe ich mir die erste (älteste) Seite der Poolanfragen angesehen.  Nach meiner subjektiven Einschätzung waren von 25 Poolanfragen 14 mit der Standardbibliothek verknüpft, 10 mit dem Kern der Sprache oder dem Interpretercode und eine mit einem kleinen Dokumentationsproblem.  Auf der Grundlage dieses Anteils würde ich vorschlagen, dass ungefähr die Hälfte der nicht überprüften Poolanforderungen mit dem Standardbibliothekscode verknüpft ist. <br><br>  Der erste Grund, warum das CPython-Hauptteam die Unterstützung der Standardbibliothek einstellen muss, ist, dass es <i>buchstäblich keine physische Fähigkeit hat,</i> die Standardbibliothek <i>zu</i> unterstützen.  Oder mit anderen Worten, sie <i>unterstützen</i> es nicht, und es bleibt nur, es zuzugeben und zu beginnen, die Arbeit zu teilen. <br><br>  Es ist eine Tatsache, dass keine der CPython Open Pool-Anforderungen dem Farben-Modul zugeordnet ist.  In der Tat verursacht es keine Kosten für die Entwicklung des Kernels.  <i>Die Kernel-Entwicklung selbst verursacht diese Kosten.</i>  Wenn ich das colorys-Modul aktualisieren wollte, um auf dem neuesten Stand zu bleiben (möglicherweise um ein Color-Objekt zu haben, möglicherweise um ganzzahlige Farbmodelle zu unterstützen), müsste ich höchstwahrscheinlich 500 Tage oder länger warten. <br><br>  Infolgedessen ist es schwieriger, den Code in der Standardbibliothek zu ändern, was zu einem geringeren Interesse der Benutzer an Beiträgen führt.  Seltene Versionen von CPython verlangsamen auch die Bibliotheksentwicklung und verringern die Vorteile von Benutzer-Feedback.  Es ist kein Zufall, dass fast alle Module der Standardbibliothek aktiv Alternativen von Drittanbietern unterstützt haben, und dies ist nicht die Schuld der stdlib-Entwickler.  Der gesamte Prozess wird geschärft, um alle bis auf die am häufigsten verwendeten stdlib-Module zu stagnieren. <br><br><h2>  Neue Umgebungen, neue Anforderungen </h2><br>  Noch wichtiger ist vielleicht, dass die Verknüpfung von CPython mit der Standardbibliothek CPython selbst im Vergleich zu anderen Sprachimplementierungen in eine privilegierte Position bringt. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Podcast</a> nach dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Podcast</a> , der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Podcast</a> nach dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bericht,</a> sagt uns, dass Sie in neuen Bereichen wachsen müssen, um weiterhin erfolgreich zu sein und Python zu entwickeln: insbesondere im Front-End sowie bei mobilen Clients, eingebetteten Systemen und Konsolenspielen. <br><br>  Diese Umgebungen erfordern eine oder zwei Bedingungen: <br><br><ul><li>  eine völlig andere Laufzeit (siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Brython</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MicroPython</a> ) </li><li>  modifizierte abgespeckte Version der Standardbibliothek. </li></ul><br>  In all diesen Fällen ist der Stolperstein die Definition von Modulen, die aus der Standardbibliothek entfernt werden müssen.  Sie müssen durch Versuch und Irrtum gefunden werden;  Erstens unterscheidet sich der Prozess vollständig vom Standardprozess zur Bestimmung der Abhängigkeit in einer Python-Anwendung.  In setup.py gibt es keine install_requires-Deklaration, die angibt, dass die Bibliothek ein Modul aus stdlib verwendet, das die Python-Ziellaufzeit aufgrund von Speicherplatzbeschränkungen möglicherweise überspringt. <br><br>  Ein Problem kann auftreten, selbst wenn bei einer Linux-Installation nur Standard-Python verwendet wird.  Sogar Linux-Distributionen für Server und Desktop-Computer benötigen gleichermaßen ein kleineres Python-Kernel-Paket, sodass die Standardbibliothek in ihnen bereits ziemlich abgeschnitten ist.  Dies entspricht möglicherweise nicht den Anforderungen des Python-Codes und führt daher zu Fehlern, wenn selbst die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pip-Installation nicht funktioniert</a> . <br><br><h2>  Nimm alles weg </h2><br><blockquote>  „Was ist mit der Annahme, dass Sie jeden Tag ein wenig putzen müssen?  Lassen Sie sich nicht täuschen, auch wenn es überzeugend klingt.  Der Grund, warum es Ihnen so scheint, als würde die Reinigung niemals enden, liegt genau darin, dass Sie ein wenig putzen.  [...] Das Hauptgeheimnis des Erfolgs ist folgendes: Wenn Sie es auf einen Schlag und nicht allmählich entfernen, können Sie Ihr Denken und Ihre Lebensgewohnheiten dauerhaft ändern. “ </blockquote>  Marie Kondo, Magische Reinigung.  Die japanische Kunst, die Ordnung zu Hause und im Leben wiederherzustellen "(S. 15-16) <br><br>  Während die schrittweise Reduzierung der Standardbibliothek ein Schritt in die richtige Richtung ist, reichen schrittweise Änderungen allein nicht aus.  Wie Marie Kondo sagt, wenn Sie die Dinge wirklich in Ordnung bringen wollen, besteht der erste Schritt <i>darin, alles außer Sichtweite</i> zu bringen, um wirklich alles zu sehen, und dann nur das zurückzugeben, was benötigt wird. <br><br>  Es ist an der Zeit, den Modulen, die nicht mehr ermutigend sind, Tribut zu zollen und sie weit zu schicken. <br>  Wir benötigen eine Version von Python, die nur das notwendigste Minimum enthält, damit alle Implementierungen konsistent sind und Anwendungen (auch solche, die in Webbrowsern oder Mikrocontrollern funktionieren) ihre Anforderungen einfach in der Datei "resources.txt" angeben können. <br><br>  In einigen Geschäftsumgebungen scheint die Idee einer riesigen Standardbibliothek attraktiv zu sein, da das Hinzufügen von Abhängigkeiten in der Anforderung.txt bürokratisch ist. Die „Standardbibliothek“ in solchen Umgebungen hat jedoch rein willkürliche Grenzen. <br><br>  Es könnte immer noch eine gute Idee sein, einige der Binärdistributionen von CPython (möglicherweise sogar offizielle) mit einer großen Auswahl an Modulen von PyPI zu versorgen.  Selbst für normale Aufgaben ist eine bestimmte Menge der stdlib-Bibliothek erforderlich, die pip benötigt, um andere erforderliche Module zu installieren. <br><br>  Jetzt gibt es eine Situation, in der pip zusammen mit Python verteilt wird, aber <i>nicht</i> im CPython-Repository entwickelt wird.  Ein Teil dessen, was das Standard-Python-Installationsprogramm enthält, wird im CPython-Repository entwickelt, ein Teil in einem separaten Tarball für den Interpreter. <br><br>  Um Linux verwenden zu können, benötigen wir bootfähige Medien mit einer Vielzahl zusätzlicher Programme.  Dies bedeutet jedoch nicht, dass sich der Linux-Kernel selbst in einem riesigen Repository befindet, in dem Hunderte von Anwendungen, die für einen funktionierenden Linux-Server benötigt werden, von einem Team entwickelt werden.  Der Linux-Kernel ist äußerst wertvoll, aber die Betriebssysteme, die ihn verwenden, werden aus einer <i>Kombination des</i> Linux-Kernels und einer Vielzahl separat entwickelter Bibliotheken und Programme erstellt. <br><br><h2>  Fazit </h2><br>  Die Philosophie „Batterien eingeschlossen“ war ideal für ihre Erstellung geeignet.  Wie eine Booster-Rakete lieferte sie Python an die Programmierer.  Mit zunehmender Reife von Open-Source-Ökosystemen und Python-Paketen wird diese Strategie jedoch veraltet, und wie bei jedem Beschleuniger müssen wir sie auf den Boden zurückkehren lassen, damit sie uns nicht zurückzieht. <br><br>  Neue Python-Laufzeiten, neue Bereitstellungsaufgaben und neue Entwicklergruppen bieten der Python-Community enorme Möglichkeiten, neue Höhen zu erreichen. <br><br>  Um dies zu erreichen, benötigen wir jedoch einen neuen, kompakteren und nicht überlasteten Python-Kern.  Wir müssen die gesamte Standardbibliothek auf den Boden schütteln und nur die kleinsten Teile übrig lassen, damit wir sagen können: Das ist wirklich notwendig, aber es ist einfach schön zu haben. <br><br>  Ich hoffe, dass ich zumindest einige von Ihnen davon überzeugt habe, welchen Python-Kern wir brauchen. <br><br>  Und jetzt: Wer will <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PEP</a> schreiben? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458092/">https://habr.com/ru/post/de458092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458076/index.html">Marketing mit ML-Entscheidungsfindung</a></li>
<li><a href="../de458080/index.html">25. Juli, Moskau - QIWI iOS Meetup</a></li>
<li><a href="../de458084/index.html">50 ausgewählte Materialien über das Einkommen von Musikern, Sound in Spielen und Filmen, ungewöhnliche Instrumente und das vergessene Alte</a></li>
<li><a href="../de458088/index.html">Beste Linux-Distributionen für ältere Computer</a></li>
<li><a href="../de458090/index.html">Was ist wirklich mit der verschwundenen malaysischen Boeing passiert (Teil 2/3)</a></li>
<li><a href="../de458094/index.html">„Intelligente“ Videoüberwachung: Wie wird das Leben unter Kameras mit künstlicher Intelligenz aussehen?</a></li>
<li><a href="../de458096/index.html">Was ist der MERN-Stack und wie arbeitet man damit?</a></li>
<li><a href="../de458098/index.html">Fallstricke der DSGVO</a></li>
<li><a href="../de458100/index.html">Python in Visual Studio Code - Veröffentlichung im Juni 2019</a></li>
<li><a href="../de458102/index.html">Effektiver Webentwicklungs-Workflow: Konfluenz, Airtable und mehr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>