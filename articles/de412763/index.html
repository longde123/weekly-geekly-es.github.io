<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úñÔ∏è üë®üèæ‚Äç‚úàÔ∏è üï∑Ô∏è Verwenden des Firefly-RK3288-Reload-Boards mit dem RockChip RK3288-SoC Mikrochip Digitaler I2C-W√§rmesensor - MCP9808 ü§ñ ‚ôæ üéÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Firefly-RK3288 Nachladen 
 Die Wahl eines Entwicklungsboards f√ºr Experimente fiel auf ein ziemlich ausgekl√ºgeltes Modell des chinesischen Herstellers ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwenden des Firefly-RK3288-Reload-Boards mit dem RockChip RK3288-SoC Mikrochip Digitaler I2C-W√§rmesensor - MCP9808</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412763/"><h4>  Firefly-RK3288 Nachladen </h4><br>  Die Wahl eines Entwicklungsboards f√ºr Experimente fiel auf ein ziemlich ausgekl√ºgeltes Modell des chinesischen Herstellers T-Chip.  Sie verkaufen Produkte unter der Marke Firefly.  Sie sind spezialisiert auf Boards mit Systemen, die auf dem RockChip-Chip basieren.  RK3288 ist die produktivste 32-Bit-L√∂sung dieses chinesischen Unternehmens.  SoC von RockChip und Allwinner ist im Vergleich zu Broadcom-Chips in RaspberryPi nicht nur in Bezug auf die besten Eigenschaften, sondern auch in Bezug auf die Produktionstechnologie g√ºnstig - 28 nm gegen√ºber 40 nm.  Aber in diesem Fall sind die Chinesen nat√ºrlich teurer.  RK3399 hat sich nicht f√ºr ein noch steileres 64-Bit-System entschieden, auch weil Grund zu der Annahme besteht, dass es bereits deutlich hei√üer ist.  W√§hrend der RK3288 unter Last auch ohne Verwendung von Heizk√∂rpern nicht sehr hei√ü ist. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Produktseite</a> .  Die wichtigsten Hardwareparameter des Ger√§ts: 4-Kern-ARM Cortex-A17 1,8 GHz (einige Quellen bestehen darauf, dass es sich um Cortex-A12 oder A15 handelt, dies ist jedoch nicht besonders wichtig), 2 GB DDR3-Zweikanal-, 16 GB eMMC-Laufwerk, Gigabit-Ethernet. <br><br><img width="600" src="https://habrastorage.org/webt/ee/lp/f7/eelpf7dgaktdk_ojo6co3fzpe_u.jpeg" alt="Gesamtansicht"><br><br>  Ich habe es bei Ebay gekauft, es war fast der einzige Ort, an dem diese Boards nach Russland bestellt werden k√∂nnen.  Der Online-Shop des chinesischen Firefly selbst sendet nicht nach Russland.  Nicht nach Russland und Indiegogo geschickt.  Was lustig ist, in der Liste der L√§nder, die gesendet werden sollen, haben diese seltsamen Leute angeblich sogar Staaten, die es nicht gibt :).  Der Verk√§ufer bei Ebay schickte eine Platine in guter Konfiguration - eine Platine, ein Netzteil (Sie ben√∂tigen 12 V 1,5 A, wie es sollte mit einem Abstand von 2 A), einen Schal mit Antenne, Acrylplatten des Geh√§uses mit Befestigungselementen.  Der Adapter gilt f√ºr eine amerikanische Steckdose, aber jeder sollte einen Wanderadapter haben :). <br><a name="habracut"></a><br>  Wie die CubieBoard-Boards von CubieTech, die auf dem russischen Markt besser bekannt sind, bietet Firefly eine gute Informationsunterst√ºtzung.  Betriebssystembilder, Pinbelegungsdiagramme und mehr werden bereitgestellt.  Die Ubuntu 14-Firmware f√ºr Firefly ist lobenswert.  Es funktioniert stabil, geringer Speicherverbrauch.  Grafik-Desktop - LXDE.  Das Rendern der Benutzeroberfl√§che scheint nicht sehr schnell zu sein, ist aber recht anst√§ndig.  √úbrigens ein n√ºtzlicher Link zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen von</a> Screenshots im LXDE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lxde-Wiki</a> .  Weitere n√ºtzliche Informationen zum Einstellen der Uhrzeit: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verwenden von dpkg-refreshfigure tzdata</a> .  Ja, Sie werden nie erraten, was in einer Linux-Shell nicht trivial gemacht wird. <br><br><img width="700" src="https://habrastorage.org/webt/uy/6y/hj/uy6yhjt7lgnmbfrndloylwd-vtw.jpeg"><br><br>  Das Brett hat eine Sandwichstruktur (Sandwich-Stil).  Die Kernplatine enth√§lt SoC RockChip, RAM und ein Samsung-Laufwerk, Realteks Ethernet sowie einen Aktivstrom- und √úberwachungschip.  Die Hauptplatine enth√§lt alles andere: den Lontium HDMI-Ausgangscontroller (nur zwei Ausg√§nge), den Toshiba HDMI-Eingang, die JMicron USB-SATA-Br√ºcke und den Ampak-Chip f√ºr drahtlose Schnittstellen.  Zwei Teile sind √ºber einen relativ normalen MXM3.0-Steckplatz (mobiles PCI Express-Modul) verbunden.  Die Platine verf√ºgt √ºber viele Schnittstellen sowie vier Hauptbl√∂cke mit Stiften, insgesamt 184 Stifte.  Dar√ºber hinaus hat der Hersteller nicht auf Mutterstecker verzichtet, es ist sicherlich sicherer, da sogar mehrere 12-V-Stromleitungen geschieden sind. <br><br><h4>  Boot-Modus und Firmware </h4><br>  Das erste, was Sie mit den Boards machen m√ºssen, ist, sie zu flashen.  F√ºr gelegentliche Interaktionen mit Entwicklungsboards, IoT und all dem ist es bequemer, ein Linux-System auf Ihrem Computer zu haben.  Ich habe es traditionell Linux Fedora 64bit, f√ºr alle 26. Version.  Die offizielle Anweisung zum Versetzen des Boards in den Startmodus und zum Flashen des Betriebssystem-Images: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Flash-Image</a> . <br><br>  Da <b>das F√ºllprogramm upgrade_tool von RockChip Abh√§ngigkeiten ben√∂tigt, um installiert zu werden</b> .  Und nicht jede Version der Linux-Distribution auf dem Host-PC sagt welche. <br>  Ich m√∂chte meinen Aktionsalgorithmus f√ºr die erfolgreiche √úbertragung der Karte zum Booten und das Ausf√ºllen des Betriebssystem-Images freigeben: <br><br><pre><code class="bash hljs">1.  . 2.     ( micro USB - USB). 3.        : -     RECOVER -   RESET -      RECOVER 4.  -   Linux Upgrade Tool (     ): - [user@nb-linuxfedora data-arm]$ unzip Linux_Upgrade_Tool_v1.24.zip - [user@nb-linuxfedora data-arm]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Linux_Upgrade_Tool_v1.24/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo mv upgrade_tool /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo chown root:root /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/upgrade_tool - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora bin]$ -  ,    upgrade_tool      5.  Linux Upgrade Tool   &lt;update&gt;.img   (         ): [user@nb-linuxfedora bin]<span class="hljs-comment"><span class="hljs-comment"># sudo upgrade_tool -  ,       ,      Fedora,    .   Fedora 26       . ,   : libudev.so.1, libstdc++.so.6.          Linux    ,   Fedora : [user@linux]# dnf install libudev.so.1 installing: libcap-2.25-5.fc26.i686.rpm libgpg-error-1.25-2.fc26.i686.rpm xz-libs-5.2.3-2.fc26.i686.rpm systemd-libs-233-6.fc26.i686.rpm libgcc-7.2.1-2.fc26.i686.rpm libselinux-2.6-7.fc26.i686.rpm lz4-libs-1.8.0-1.fc26.i686.rpm libgcrypt-1.7.8-1.fc26.i686.rpm libsepol-2.6-2.fc26.i686.rpm pcre-8.41-1.fc26.i686.rpm [user@linux]# dnf install libstdc++.so.6 installing: libstdc++.i686 7.2.1-2.fc26   -   : [user@nb-linuxfedora bin]# sudo upgrade_tool : List of rockusb connected DevNo=1 Vid=0x2207,Pid=0x320a,LocationID=302 Loader Found 1 rockusb,Select input DevNo,Rescan press &lt;R&gt;,Quit press &lt;Q&gt;:1  "1"      .    uf. Rockusb&gt;uf Firefly-RK3288-Reload_DualBoot_201612101121.img : Loading firmware... Support Type:RK32 FW Ver:5.0.00 FW Time:2016-12-10 11:21:47 Loader ver:2.30 Loader Time:2016-10-13 10:04:54 ( ...) Upgrade firmware ok. Rockusb&gt;q</span></span></code> </pre> <br><h4>  Verwenden Sie </h4><br>  Trennen Sie nach erfolgreichem Laden der Firmware f√ºr Firefly-RK3288 das USB-Kabel.  Und Sie k√∂nnen einen Monitor, eine Tastatur und eine Maus anschlie√üen.  Und installieren Sie selbst den g ++ - Compiler.  Ubuntu LXDE f√ºr Firefly verf√ºgt √ºber eine gute, minimal ausreichende Software.  Das n√ºtzlichste in dieser Situation ist nat√ºrlich das Terminal.  Es gibt auch einen einfachen Systemmonitor, einen Leafpad-Texteditor, eine Bildschirmtastatur, einen Dateimanager, einen Media Player, einen Chromium-Browser und vieles mehr. <br><br>  Ein paar Screenshots: <br><br><img width="700" src="https://habrastorage.org/webt/bx/xn/t8/bxxnt8pcvxmkxqmz3rkbice0pek.png" alt="Bild"><blockquote>  Terminal und Leafpad </blockquote><img width="700" src="https://habrastorage.org/webt/98/k9/zv/98k9zv9chislx_pdeu8asthqrwy.png" alt="Bild"><blockquote>  Versionsinformationen </blockquote>  Nat√ºrlich konnte man nicht auf eine Fliege in der Salbe verzichten.  Das Board arbeitet intern mit Full HD-Bildaufl√∂sung, und Screenshots werden in derselben Aufl√∂sung gespeichert.  Am HDMI-Ausgang wird dem Monitor jedoch ein Bild mit einer Aufl√∂sung von nur HD-f√§hig zugef√ºhrt.  Daher ist das Bild nat√ºrlich nicht klar genug.  Aber ein solches Bild reicht f√ºr Experimente. <br><br><img width="700" src="https://habrastorage.org/webt/he/b1/io/heb1io1mnhkco0f5-xsqmhvocvg.jpeg" alt="Bild"><blockquote>  Ein paar Filme in guter Qualit√§t sind f√ºr den RK3288 kein Problem, die CPU-Auslastung liegt bei etwa 50%. </blockquote><h4>  Verwenden von I2C-Peripherieger√§ten und GPIO-Pins </h4><br>  M√∂glicherweise ist eines der wertvollsten Merkmale solcher Karten die Verbindung von Peripherieger√§ten √ºber den I2C-Bus √ºber GPIO und andere Schnittstellen.  Firefly RK3288 Reload verf√ºgt √ºber vier I2C-Busse, sogar f√ºnf, aber der Nullbus wird f√ºr die internen Anforderungen der Karte verwendet, und die anderen vier - von 1 bis 4 - sind f√ºr die Verwendung durch den Benutzer geschieden. <br><br>  Das Netzwerk verf√ºgt √ºber gen√ºgend allgemeine Informationen zur Verwendung der I2C-Schnittstelle.  Um mit I2C-Ger√§ten √ºber das Terminal zu interagieren, empfehle ich diesen Artikel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"I2C auf Cubieboard mit Lubuntu"</a> , sie verwenden dort einen "Cube", aber das ist nicht wichtig. <br><br>  F√ºr die programmgesteuerte Verbindung mit den I2C-Peripherieger√§ten mithilfe der Dateivirtualisierung von I2C-Bussen k√∂nnen wir Folgendes empfehlen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûSchnittstelle mit I2C-Ger√§ten‚Äú</a> . <br>  Als Peripherieger√§t verwendete I2C einen Microchip-Temperatursensor - MCP9808.  Auf der Website des Herstellers finden Sie leicht eine gute Spezifikation des Ger√§ts.  Dies ist einer der qualitativ hochwertigsten und teuersten Sensoren auf dem Markt, deutlich schneller und genauer als die Sensoren der TI- und NXP LM-Serie. <br><br><img width="700" src="https://habrastorage.org/webt/dk/mu/gp/dkmugpu7y9cddhjucq0qldby3lm.jpeg" alt="Bild"><br><br>  Ich habe diesen Sensor verwendet, der bereits mit der Mini-Platine CJMCU-9808 verl√∂tet ist.  Auch alles bei Ebay - sowohl die Sensoren als auch die Dupont-Verkabelung - kommt ohne L√∂ten aus.  Die Verbindung ist recht einfach: VCC - zu 3,3 V Leistung, GND - zu Masse, SCL und SDA implementieren tats√§chlich den I2C-Bus (Taktleitungen bzw. Daten), Pins A0 A1 A2 spezifizieren einen Teil der 7-Bit-Adresse des I2C-Ger√§ts, ALERT kann im Prinzip nicht verwenden, aber die Alarmleitung wird noch weiter beteiligt sein.  Auf dem Foto ist der Temperatursensor an den I2C 1-Bus angeschlossen, alle Adresskontakte sind gegen Masse gezogen, was eine logische 0 im entsprechenden Adressbit bedeutet. Wenn die Adressverdrahtung an 3,3 V angeschlossen ist, ist dieses Bit logisch 1. Die Basisadresse des MCP9808-Chips lautet b0011 und weiter A2 A1 A0.  Nur sieben Bits, in diesem Fall - b0011000, dh in hex - 0x18. <br><br>  Das Konsolendienstprogramm erzeugt also: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># i2cdetect -y -r 1 0 1 2 3 4 5 6 7 8 9 abcdef 00: -- -- -- -- -- -- -- -- -- -- -- -- UU 10: -- -- -- -- -- -- -- -- 18 -- -- -- -- -- -- -- 20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 70: -- -- -- -- -- -- -- --</span></span></code> </pre> <br>  Es ist zu sehen, dass sich auf dem I2C-Bus Nummer 1 etwas mit der Adresse 0x18 befindet. <br><br>  Rufen Sie an: <br>  root @ firefly: / home / firefly # i2cget -y 1 0x18 0x05 w <br>  ergibt zum Beispiel: 0xbc01 (was eine Temperatur von 27,75 ¬∞ C bedeutet). <br><br>  Parameter des i2cget-Programms: 1 - Busnummer;  0x18 - an den Ger√§tebus angeschlossene Adresse;  0x05 - Registeradresse (in diesem Fall Temperatur);  w - zeigt an, dass das Register 2 Bytes speichert. <br><br>  Nat√ºrlich k√∂nnen Sie MCP9808 von Ihrem eigenen C ++ - Programm aus vollst√§ndiger verwenden.  Beachten Sie, dass der Inhalt des Temperaturregisters - 0xbc01 - invertiert ist, dh als 0x01bc dargestellt werden kann.  Das erste Byte 0x01 enth√§lt drei Bits der Alarmursache, ein Bit des Vorzeichens und vier hohe Bits der Temperatur.  Das zweite Byte 0xbc enth√§lt die unteren acht Bits der Temperatur.  Der Mikrochip codiert den Inhalt des Temperaturregisters unter Verwendung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zweierkomplementformatmethode</a> .  Das zw√∂lfte Bit eines Doppelbyte-Registers codiert ein Zeichen.  Wenn es 0 ist, ist die Temperatur positiv.  Wenn das elfte Bit 1 ist, m√ºssen Sie zur berechneten Umgebungstemperatur 2 zum Grad von 7 Grad Celsius addieren - 2 ^ 7 (128 C). Wenn - gleich 0, dann - muss nichts hinzugef√ºgt werden.  In √§hnlicher Weise addiert 1 im zehnten Bit 2 ^ 6 (64 C).  Und so weiter addiert 1 im vierten Bit 2 ^ 0 (1 C).  1 im dritten Bit addiert 2 ^ -1 (0,5 C).  1 im letzten Nullbit addiert 2 ^ -4 (0,0625 C).  Wenn das Bit des Vorzeichens (12.) 1 ist, dann ist das <s>Problem im Haus aufgetreten, die</s> Temperatur ist negativ.  Und die Entschl√ºsselung des Registers ist etwas kompliziert.  Gem√§√ü den Prinzipien des Zweierkomplementformats m√ºssen Sie zuerst die Bits invertieren.  Dann m√ºssen Sie eins zum am wenigsten verwendeten Bit hinzuf√ºgen, weil  negative Werte werden nicht mit 0, sondern mit -1 codiert.  Bei der Standardkonfiguration des Temperatursensors wird die maximale Genauigkeit verwendet - bis zu 0,0625 ¬∞ C. In diesem Fall m√ºssen Sie dem letzten Bit, das f√ºr 0,0625 ¬∞ C verantwortlich ist, eine hinzuf√ºgen.  Sie k√∂nnen einfach 1 zum Temperaturregisterwert hinzuf√ºgen.  Wenn Sie beispielsweise die Geschwindigkeit erh√∂hen m√∂chten, verringern Sie die Genauigkeit der Temperaturmessung mithilfe des Konfigurationsregisters.  Bei einer negativen Temperatur m√ºssen Sie dem √§lteren Bit eine hinzuf√ºgen oder eine diesem Bit entsprechende Zahl hinzuf√ºgen.  Dann ist es notwendig, die Bits auf die gleiche Weise wie im positiven Fall in den Temperaturwert zu √ºbersetzen. <br><br><h4>  GPIO- und ALARM-Leitung </h4><br><img width="330" src="https://habrastorage.org/webt/mc/le/cz/mcleczzcj2kplwqmwjybi9bjj34.jpeg" alt="Bild"><img width="330" src="https://habrastorage.org/webt/oh/iu/xn/ohiuxnx2h7fjljkxpuar9ipfhpa.jpeg" alt="Bild"><br><br>  Sie k√∂nnen die ALARM-Linie des Sensors verwenden.  Einschlie√ülich der Verwendung einer der GPIO-Leitungen des Firefly.  Auf dem Foto nat√ºrlich Zinn und Brennen mit einer archaischen LED und Widerstand, aber hier ist das Prinzip selbst wichtig.  Die Verwendung von GPIO wird in einem anderen Artikel √ºber Habr√© ausf√ºhrlich beschrieben: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Linux: Tasten, LEDs und GPIO</a> .  Wie jedoch richtig bemerkt wird, ist es schwierig zu bestimmen, welche Gpio-Nummer f√ºr die zuk√ºnftige Verwendung exportiert werden soll.  Um zu sehen, welche Zeilen von Gpio belegt sind und welche nicht, k√∂nnen Sie den folgenden Befehl verwenden: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># cat /sys/kernel/debug/gpio &gt; /home/firefly/_temp/temp</span></span></code> </pre> <br>  Das Team <br><br><pre> <code class="bash hljs">firefly@firefly:~$ dmesg</code> </pre> <br>  zeigt auch Informationen √ºber Gpio. <br><br>  Die Studie hat gezeigt, dass beispielsweise GPIO-Pin Nr. 262 exportiert werden kann. Dies ist auf der Platine und in der Spezifikation als GPIO8 A6 angegeben.  Weil  In dieser Karte enthalten GPIO-Bl√∂cke wie √ºblich jeweils 32 Elemente.  Es kann angenommen werden, dass die Zauberformel m√∂glicherweise folgende lautet: 32 * GPIO-Blocknummer + Nummer aus dem Postfix.  Wir k√∂nnen also nur 32 * 8 + 6 = 262 erhalten. Jetzt k√∂nnen wir zu Beginn des Programms diesen Gpio 262 mit 3,3 V versorgen, und wenn wir ihn beenden, h√∂ren Sie damit auf. <br><br>  Die Spezifikation f√ºr MCP9808 zeigt an, dass die darauf befindliche ALARM-Leitung ein offener Abfluss ist, d.h.  offener Bestand.  Dies bedeutet, dass bei Auftreten eines Alarms diese Leitung gegen Masse kurzgeschlossen wird, andernfalls wird sie nicht kurzgeschlossen.  Die Notwendigkeit, einen Widerstand zu verwenden, wird ebenfalls betont.  In der Praxis wurde √ºberpr√ºft, dass dies wirklich notwendig ist, da sonst das Innere des Sensors beim Durchgang des Stroms auf hohe Temperaturen erw√§rmt wird.  Das folgende Diagramm ist auf dem Foto dargestellt: GPIO ist in Reihe mit der LED, dem Widerstand und dem offenen Drain (ALARM) des Sensors geschaltet.  Es bleibt das Konfigurationsregister MCP9808 zu verwenden, um die zul√§ssigen Temperaturgrenzen festzulegen.  Wenn Sie dar√ºber hinausgehen, wird ein Alarm ausgel√∂st.  Sie k√∂nnen zwei Stufen mit zu hoher Temperatur und eine Stufe mit zu niedriger Temperatur einstellen.  Um mit diesem digitalen Sensor arbeiten zu k√∂nnen, m√ºssen Sie im Allgemeinen die technischen Daten sorgf√§ltig lesen, in den Konfigurationsmodus wechseln, in den Arbeitsmodus zur√ºckkehren und vieles mehr.  Wenn die Temperatur die eingestellten Grenzen √ºberschreitet, flie√üt der Strom durch den ALARM-Kontakt und leuchtet die LED auf. <br><br><h4>  Abschlie√üend </h4><br>  Ich m√∂chte einen n√ºtzlichen Trick erw√§hnen, um das Leuchten von LEDs zu steuern, die in Entwicklungsplatinen eingebaut sind.  Die Handb√ºcher f√ºr Cubieboard 6 zeigen, wie LED1 eingeschaltet wird: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> default-on &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  Und wie man LED1 ausschaltet: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> none &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  Auf dieser Grundlage wurde herausgefunden, wie die LEDs im Firefly 3288 Reload gesteuert werden k√∂nnen. <br>  Einschalten der gelben benutzerdefinierten LED (eigentlich eine blaue LED): <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo default-on &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br>  Deaktivieren dieser LED: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo none &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br><h4>  Vorsichtsma√ünahmen </h4><br>  Beim Entwerfen f√ºr Entwicklungsboards ist Vorsicht geboten.  Das Codieren findet nat√ºrlich auf einem PC statt, mit viel Verlangen und auch Cross-Compilation.  Anschlie√üend wird der Quellcode auf einem bestimmten Ziel kompiliert oder eine vorgefertigte ausf√ºhrbare Datei auf die Karte √ºbertragen.  Und wenn Spezialplatinen gr√∂√ütenteils f√ºr die Verwendung aller Arten von Schnittstellen ausgelegt sind.  Ja, und sie sind normalerweise nicht sehr teuer.  Auf den teuren PCs selbst wird nicht empfohlen, I2C-Busse, GPIO-Leitungen und dergleichen zu verwenden.  Dies kann zu unangenehmen Computerausf√§llen f√ºhren.  Zumindest Konsolendienstprogramme wie i2cget warnen ausdr√ºcklich davor und f√ºhren als Beispiel einige Modelle besch√§digter Laptops an. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412763/">https://habr.com/ru/post/de412763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de412751/index.html">Kahlheit: Theorie und Praxis der Behandlung, Teil 1 "Mein Dihydrotestosteron, mein Feind"</a></li>
<li><a href="../de412753/index.html">Starten Sie die Anzeige auf STM32 √ºber LTDC ... in den Registern</a></li>
<li><a href="../de412755/index.html">Telegram hat den offiziellen MTProto Proxy Server ver√∂ffentlicht</a></li>
<li><a href="../de412757/index.html">LED-Lampen in Japan</a></li>
<li><a href="../de412759/index.html">Neuer MTProto-Proxy-Server von Telegram</a></li>
<li><a href="../de412765/index.html">Einf√ºhrung in das neue Unity-Kachelkartensystem</a></li>
<li><a href="../de412767/index.html">CMG Impact 2016 Konferenzr√ºckblick</a></li>
<li><a href="../de412769/index.html">Ich habe PWA gemacht und es in drei App Stores gestellt. Und hier ist, was ich herausgefunden habe</a></li>
<li><a href="../de412773/index.html">Minsk Astro-Luft- und Raumfahrt</a></li>
<li><a href="../de412775/index.html">Pers√∂nliche Erfahrung: √úbergang von der Low-Level-C-Entwicklung zur Java-Programmierung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>