<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéΩ üòí üÜñ Ok Google: como fa√ßo para passar pelo captcha? üë≤üèø üë©üèª‚Äçüöí üë©üèΩ‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°. Meu nome √© Ibadov Ilkin, sou estudante da Universidade Federal de Ural. 

 Neste artigo, quero falar sobre minha experi√™ncia com a solu√ß√£o automa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ok Google: como fa√ßo para passar pelo captcha?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449236/">  Ol√°.  Meu nome √© Ibadov Ilkin, sou estudante da Universidade Federal de Ural. <br><br>  Neste artigo, quero falar sobre minha experi√™ncia com a solu√ß√£o automatizada para o captcha do Google - "reCAPTCHA".  Gostaria de avisar o leitor antecipadamente que, no momento da reda√ß√£o do artigo, o prot√≥tipo n√£o funciona da maneira mais eficiente poss√≠vel do t√≠tulo; no entanto, o resultado demonstra que a abordagem implementada √© capaz de resolver o problema. <br><a name="habracut"></a><br>  Provavelmente, todos em sua vida se depararam com um captcha: digite texto de uma imagem, resolva uma express√£o simples ou uma equa√ß√£o complicada, escolha carros, hidrantes, travessias de pedestres ... √â necess√°rio proteger recursos de sistemas automatizados e desempenha um papel importante na seguran√ßa: o captcha protege contra ataques DDoS , registros e lan√ßamentos autom√°ticos, analisando, evitam a sele√ß√£o de spam e senha para contas. <br><br><img src="https://habrastorage.org/webt/kw/la/yu/kwlayu1_wxfwcrknvshirpv8dtw.png"><br>  <font color="#999999"><i>O formul√°rio de inscri√ß√£o no "Habr√©" pode ser com esse captcha.</i></font> <br><br>  Com o desenvolvimento de tecnologias de aprendizado de m√°quina, o desempenho do captcha pode estar em risco.  Neste artigo, descrevo os principais pontos de um programa que podem resolver o problema de selecionar manualmente imagens no Google reCAPTCHA (felizmente, nem sempre at√© o momento). <br><br>  Para passar pelo captcha, √© necess√°rio resolver problemas como: determina√ß√£o da classe captcha necess√°ria, detec√ß√£o e classifica√ß√£o de objetos, detec√ß√£o de c√©lulas captcha, simula√ß√£o de atividades humanas na resolu√ß√£o de captcha (movimento do cursor, clique). <br><br>  Para procurar objetos em uma imagem, s√£o usadas redes neurais treinadas que podem ser baixadas em um computador e reconhecem objetos em imagens ou v√≠deos.  Mas para resolver o captcha, apenas detectar objetos n√£o √© suficiente: voc√™ precisa determinar a posi√ß√£o das c√©lulas e descobrir quais c√©lulas deseja selecionar (ou n√£o selecionar as c√©lulas).  Para isso, s√£o utilizadas ferramentas de vis√£o computacional: neste trabalho, esta √© a famosa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca OpenCV</a> . <br><br>  Para encontrar objetos na imagem, primeiro √© necess√°rio a pr√≥pria imagem.  Recebo uma captura de tela de uma parte da tela usando o m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PyAutoGUI</a> com dimens√µes suficientes para detectar objetos.  No restante da tela, mostro janelas para depura√ß√£o e monitoramento de processos de programas. <br><br><h2>  Detec√ß√£o de Objetos </h2><br>  Detec√ß√£o e classifica√ß√£o de objetos √© o que a rede neural faz.  A biblioteca que nos permite trabalhar com redes neurais √© chamada " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tensorflow</a> " (desenvolvido pelo Google).  Hoje, <a href="">existem muitos modelos treinados diferentes para</a> sua escolha <a href="">em dados diferentes</a> , o que significa que todos eles podem retornar um resultado de detec√ß√£o diferente: alguns modelos detectam melhor objetos e outros piores. <br><br>  Neste artigo, estou usando o modelo ssd_mobilenet_v1_coco.  O modelo selecionado foi treinado no conjunto de dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><abbr title="Objetos comuns no contexto">COCO</abbr></a> , que destaca 90 classes diferentes (de pessoas e carros a escovas de dentes e pentes).  Agora, existem outros modelos treinados nos mesmos dados, mas com par√¢metros diferentes.  Al√©m disso, este modelo possui par√¢metros ideais de desempenho e precis√£o, o que √© importante para um computador de mesa.  A fonte diz que o tempo de processamento para um quadro de 300 x 300 pixels √© de 30 milissegundos.  No "Nvidia GeForce GTX TITAN X". <br><br>  O resultado da rede neural √© um conjunto de matrizes: <br><br><ul><li>  com uma lista de classes de objetos detectados (seus identificadores); </li><li>  com uma lista de classifica√ß√µes de objetos detectados (em porcentagem); </li><li>  com uma lista de coordenadas dos objetos detectados ("caixas"). </li></ul><br>  Os √≠ndices dos elementos nessas matrizes correspondem um ao outro, ou seja: o terceiro elemento na matriz de classes de objetos corresponde ao terceiro elemento na matriz de "caixas" dos objetos detectados e o terceiro elemento na matriz de classifica√ß√µes de objetos. <br><br><img src="https://habrastorage.org/webt/g4/po/kt/g4poktayba4n3mwspffduto6d1k.png"><br>  <font color="#999999"><i>O modelo selecionado permite detectar objetos de 90 classes em tempo real.</i></font> <br><br><h2>  Detec√ß√£o de c√©lulas </h2><br>  O ‚ÄúOpenCV‚Äù nos oferece a capacidade de operar com entidades chamadas ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">circuitos</a> ‚Äù: elas podem ser detectadas apenas pela fun√ß√£o ‚ÄúfindContours ()‚Äù da biblioteca ‚ÄúOpenCV‚Äù.  √â necess√°rio enviar uma imagem bin√°ria para a entrada dessa fun√ß√£o, que pode ser obtida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pela fun√ß√£o de transforma√ß√£o de limite</a> : <br><br><pre><code class="python hljs">_retval, binImage = cv2.threshold(image,<span class="hljs-number"><span class="hljs-number">254</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,cv2.THRESH_BINARY) contours = cv2.findContours(binImage, cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  Depois de definir os valores extremos dos par√¢metros da fun√ß√£o de transforma√ß√£o de limiar, tamb√©m nos livramos de v√°rios tipos de ru√≠do.  Al√©m disso, para minimizar a quantidade de pequenos elementos e ru√≠dos desnecess√°rios, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">transforma√ß√µes morfol√≥gicas</a> podem ser aplicadas: fun√ß√µes de eros√£o (compress√£o) e acumula√ß√£o (expans√£o).  Essas fun√ß√µes tamb√©m fazem parte do OpenCV.  Ap√≥s as transforma√ß√µes, s√£o selecionados os contornos cujo n√∫mero de v√©rtices √© quatro (tendo realizado anteriormente a fun√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aproxima√ß√£o</a> nos contornos). <br><br><img src="https://habrastorage.org/webt/mo/d3/j7/mod3j7vkdav-bchdnbxl2lycz18.png"><br>  <font color="#999999"><i>Na primeira janela, o resultado da transforma√ß√£o do limite.</i></font>  <font color="#999999"><i>O segundo √© um exemplo de transforma√ß√£o morfol√≥gica.</i></font>  <font color="#999999"><i>Na terceira janela, as c√©lulas e a tampa do captcha j√° est√£o selecionadas: destacadas em cores programaticamente.</i></font> <br><br>  Depois de todas as transforma√ß√µes, os contornos que n√£o s√£o c√©lulas ainda caem na matriz final com c√©lulas.  Para filtrar ru√≠dos desnecess√°rios, seleciono de acordo com os valores do comprimento (per√≠metro) e da √°rea dos contornos. <br><br>  Foi experimentalmente revelado que os valores dos circuitos de interesse est√£o na faixa de 360 ‚Äã‚Äãa 900 unidades.  Este valor √© selecionado na tela com uma diagonal de 15,6 polegadas e uma resolu√ß√£o de 1366 x 768 pixels.  Al√©m disso, os valores indicados dos contornos podem ser calculados dependendo do tamanho da tela do usu√°rio, mas n√£o existe esse link no prot√≥tipo que est√° sendo criado. <br><br>  A principal vantagem da abordagem escolhida para detectar c√©lulas √© que n√£o nos importamos com a apar√™ncia da grade e quantas c√©lulas ser√£o exibidas na p√°gina captcha: 8, 9 ou 16. <br><br><img src="https://habrastorage.org/webt/oo/er/tt/ooerttikg_xree5wlre88cljjtq.png"><br>  <font color="#999999"><i>A imagem mostra uma variedade de redes captcha.</i></font>  <font color="#999999"><i>Observe que a dist√¢ncia entre as c√©lulas √© diferente.</i></font>  <font color="#999999"><i>Separar as c√©lulas umas das outras permite compress√£o morfol√≥gica.</i></font> <br><br>  Uma vantagem adicional de detectar contornos √© que o OpenCV nos permite detectar seus centros (precisamos deles para determinar as coordenadas de movimento e o clique do mouse). <br><br><h2>  Selecionando c√©lulas para selecionar </h2><br>  Tendo uma matriz com contornos limpos de c√©lulas CAPTCHA sem circuitos de ru√≠do desnecess√°rios, podemos percorrer cada c√©lula CAPTCHA ("circuito" na terminologia "OpenCV") e verificar se ele se cruza com a "caixa" detectada do objeto recebido da rede neural. <br><br>  Para estabelecer esse fato, foi utilizada a transfer√™ncia da ‚Äúcaixa‚Äù detectada para um circuito semelhante √†s c√©lulas.  Mas essa abordagem acabou errada, porque o caso em que o objeto est√° localizado dentro da c√©lula n√£o √© considerado um cruzamento.  Naturalmente, essas c√©lulas n√£o se destacaram no captcha. <br><br>  O problema foi resolvido redesenhando o contorno de cada c√©lula (com preenchimento branco) em uma folha preta.  De maneira semelhante, foi obtida uma imagem bin√°ria de um quadro com um objeto.  Surge a quest√£o - como agora estabelecer o fato da interse√ß√£o da c√©lula com a estrutura sombreada do objeto?  Em cada itera√ß√£o de uma matriz com c√©lulas, uma opera√ß√£o de disjun√ß√£o (l√≥gica ou) √© realizada em duas imagens bin√°rias.  Como resultado, obtemos uma nova imagem bin√°ria na qual as √°reas cruzadas ser√£o destacadas.  Ou seja, se houver essas √°reas, a c√©lula e a estrutura do objeto se cruzam.  Programaticamente, essa verifica√ß√£o pode ser feita usando o m√©todo ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">.any ()</a> ‚Äù: retornar√° ‚ÄúTrue‚Äù se a matriz tiver pelo menos um elemento igual a um ou ‚ÄúFalse‚Äù se n√£o houver unidades. <br><br><img src="https://habrastorage.org/webt/cg/8u/pb/cg8upb6izzlfukmfunjgjrzwl2y.gif"><br>  <font color="#999999"><i>A fun√ß√£o "any ()" para a imagem "OR l√≥gica" nesse caso retornar√° true e, assim, estabelecer√° o fato da interse√ß√£o da c√©lula com a √°rea do quadro do objeto detectado.</i></font> <br><br><h2>  Ger√™ncia </h2><br>  O controle do cursor no ‚ÄúPython‚Äù fica dispon√≠vel gra√ßas ao m√≥dulo ‚Äúwin32api‚Äù (no entanto, mais tarde, verificou-se que o ‚ÄúPyAutoGUI‚Äù j√° importado para o projeto tamb√©m sabe como fazer isso).  Pressionar e soltar o bot√£o esquerdo do mouse, bem como mover o cursor para as coordenadas desejadas, √© realizado pelas fun√ß√µes correspondentes do m√≥dulo win32api.  Por√©m, no prot√≥tipo, eles foram agrupados em fun√ß√µes definidas pelo usu√°rio para fornecer observa√ß√£o visual do movimento do cursor.  Isso afeta negativamente o desempenho e foi implementado apenas para demonstra√ß√£o. <br><br>  Durante o processo de desenvolvimento, surgiu a ideia de escolher c√©lulas em uma ordem aleat√≥ria.  √â poss√≠vel que isso n√£o fa√ßa sentido pr√°tico (por raz√µes √≥bvias, o Google n√£o nos fornece coment√°rios e descri√ß√µes dos mecanismos da opera√ß√£o captcha), mas mover o cursor pelas c√©lulas de uma maneira ca√≥tica parece mais divertido. <br><br><img src="https://habrastorage.org/webt/p0/zh/g8/p0zhg8ii2gn0a76yj1h0vp5q5mg.gif"><br>  <font color="#999999"><i>Na anima√ß√£o, o resultado √© "random.shuffle (boxesForSelect)".</i></font> <br><br><h2>  Reconhecimento de texto </h2><br>  Para combinar todos os desenvolvimentos dispon√≠veis em um √∫nico todo, √© necess√°rio mais um link: uma unidade de reconhecimento para a classe exigida no captcha.  J√° sabemos como reconhecer e distinguir objetos diferentes na imagem, podemos clicar em c√©lulas captcha arbitr√°rias, mas n√£o sabemos em quais c√©lulas clicar.  Uma das maneiras de resolver esse problema √© reconhecer o texto do cabe√ßalho captcha.  Primeiro, tentei implementar o reconhecimento de texto usando a ferramenta de reconhecimento √≥ptico de caracteres " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tesseract-OCR</a> ". <br><br>  Nas vers√µes mais recentes, √© poss√≠vel instalar pacotes de idiomas diretamente na janela do instalador (anteriormente isso era feito manualmente).  Ap√≥s instalar e importar o Tesseract-OCR no meu projeto, tentei reconhecer o texto do cabe√ßalho captcha. <br><br>  O resultado, infelizmente, n√£o me impressionou.  Decidi que o texto no cabe√ßalho era destacado em negrito e mesclado por um motivo, ent√£o tentei aplicar v√°rias transforma√ß√µes √† imagem: opera√ß√µes de binariza√ß√£o, estreitamento, expans√£o, desfoque, distor√ß√£o e redimensionamento.  Infelizmente, isso n√£o deu um bom resultado: nos melhores casos, apenas uma parte das cartas da classe foi determinada e, quando o resultado foi satisfat√≥rio, apliquei as mesmas transforma√ß√µes, mas para outras letras mai√∫sculas (com texto diferente), e o resultado acabou sendo ruim novamente. <br><br><img src="https://habrastorage.org/webt/mm/5o/zf/mm5ozfhoq5cmrwiitaig_di7ntu.png"><br>  <font color="#999999"><i>O reconhecimento dos limites de Tesseract-OCR geralmente leva a resultados insatisfat√≥rios.</i></font> <br><br>  √â imposs√≠vel dizer inequivocamente que o ‚ÄúTesseract-OCR‚Äù n√£o reconhece bem o texto, n√£o √© assim: a ferramenta lida com outras imagens (sem captcha caps) muito melhor. <br><br>  Decidi usar um servi√ßo de terceiros que oferecia uma API para trabalhar com ele de gra√ßa (√© necess√°rio registrar e receber uma chave para um endere√ßo de email).  O servi√ßo tem um limite de 500 reconhecimentos por dia, mas durante todo o per√≠odo de desenvolvimento n√£o encontrei nenhum problema com limita√ß√µes.  Pelo contr√°rio: enviei a imagem original do cabe√ßalho para o servi√ßo (sem aplicar absolutamente nenhuma transforma√ß√£o) e o resultado me impressionou agradavelmente. <br><br>  As palavras do servi√ßo foram retornadas praticamente sem erros (geralmente mesmo as escritas em letras pequenas).  Al√©m disso, eles retornaram em um formato muito conveniente - interrompido pela linha com caracteres de quebra de linha.  Em todas as imagens, eu estava interessado apenas na segunda linha, ent√£o eu a acessei diretamente.  Isso n√£o podia deixar de se alegrar, pois esse formato me libertou da necessidade de preparar uma linha: n√£o precisei cortar o come√ßo ou o fim de todo o texto, fazer ‚Äúrecortes‚Äù, substitui√ß√µes, trabalhar com express√µes regulares e realizar outras opera√ß√µes na linha, com o objetivo de destacar uma palavra (e √†s vezes duas!) - um bom b√¥nus! <br><br><pre> <code class="python hljs">text = serviceResponse[<span class="hljs-string"><span class="hljs-string">'ParsedResults'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'ParsedText'</span></span>] <span class="hljs-comment"><span class="hljs-comment">#   JSON lines = text.splitlines() #   print("Recognized " + lines[1]) #  !</span></span></code> </pre> <br>  Um servi√ßo que reconheceu o texto quase nunca cometeu um erro com o nome da classe, mas ainda assim decidi deixar parte do nome da classe para um poss√≠vel erro.  Isso √© opcional, mas notei que ‚ÄúTesseract-OCR‚Äù em alguns casos reconheceu incorretamente o final de uma palavra come√ßando do meio.  Al√©m disso, essa abordagem elimina o erro de aplicativo no caso de um nome de classe longo ou de duas palavras (nesse caso, o servi√ßo retornar√° n√£o 3, mas 4 linhas, e n√£o consigo encontrar o nome completo da classe na segunda linha). <br><br><img src="https://habrastorage.org/webt/6o/3v/nq/6o3vnqamplfdhd9byanlv4c55xw.png"><br>  <font color="#999999"><i>Um servi√ßo de terceiros reconhece bem o nome da classe sem nenhuma transforma√ß√£o na imagem.</i></font> <br><br><h2>  Fus√£o </h2><br>  Obter texto do cabe√ßalho n√£o √© suficiente.  Ele precisa ser comparado com os identificadores das classes de modelo dispon√≠veis, porque na matriz de classes a rede neural retorna exatamente o identificador de classe, e n√£o o nome, como pode parecer.  Ao treinar o modelo, como regra geral, √© criado um arquivo no qual os nomes de classe e seus identificadores s√£o comparados (tamb√©m conhecido como "mapa de etiquetas").  Decidi facilitar e especificar manualmente os identificadores de classe, j√° que o captcha ainda exige aulas em russo (a prop√≥sito, isso pode ser alterado): <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> query: <span class="hljs-comment"><span class="hljs-comment">#       classNum = 3 #   "label map"  elif "" in query: classNum = 10 elif "" in query: classNum = 11 ...</span></span></code> </pre> <br>  Tudo o que foi descrito acima √© reproduzido no ciclo principal do programa: os quadros do objeto, a c√©lula, suas interse√ß√µes s√£o determinados, o cursor se move e clica.  Quando um cabe√ßalho √© detectado, o reconhecimento de texto √© realizado.  Se a rede neural n√£o puder detectar a classe necess√°ria, um deslocamento arbitr√°rio da imagem ser√° realizado at√© 5 vezes (ou seja, a entrada da rede neural ser√° alterada) e, se a detec√ß√£o ainda n√£o ocorrer, o bot√£o "Ignorar / Confirmar" √© clicado (sua posi√ß√£o √© detectada da mesma forma detectar c√©lulas e tampas). <br><br>  Se voc√™ costuma resolver o captcha, poder√° observar a imagem quando a c√©lula selecionada desaparecer e uma nova aparecer lenta e lentamente em seu lugar.  Como o prot√≥tipo est√° programado para ir instantaneamente para a p√°gina seguinte ap√≥s selecionar todas as c√©lulas, decidi fazer 3 segundos para excluir o clique no bot√£o "Avan√ßar" sem detectar objetos na c√©lula que aparecia lentamente. <br><br>  O artigo n√£o estaria completo se n√£o contivesse uma descri√ß√£o da coisa mais importante - uma marca de sele√ß√£o para passar com √™xito o captcha.  Decidi que uma simples <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">compara√ß√£o de modelos</a> poderia fazer isso.  Vale ressaltar que a correspond√™ncia de padr√µes est√° longe de ser a melhor maneira de detectar objetos.  Por exemplo, eu tive que definir a sensibilidade de detec√ß√£o como "0,01" para que a fun√ß√£o parasse de ver tiques em tudo, mas vi quando realmente existe um tiquetaque.  Da mesma forma, atuei com uma caixa de sele√ß√£o vazia que atende ao usu√°rio e a partir da qual o captcha inicia (n√£o houve problemas com a sensibilidade). <br><br><h2>  Resultado </h2><br>  O resultado de todas as a√ß√µes descritas foi uma aplica√ß√£o, cujo desempenho eu testei na " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Torradeira</a> ": <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wfl1K0bqBWQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vale a pena reconhecer que o v√≠deo n√£o foi gravado na primeira tentativa, pois muitas vezes eu me deparava com a necessidade de escolher classes que n√£o est√£o no modelo (por exemplo, travessias de pedestres, escadas ou vitrines). <br><br>  O "Google reCAPTCHA" retorna um determinado valor ao site, mostrando como "Voc√™ √© um rob√¥", e os administradores do site, por sua vez, podem definir um limite para a transmiss√£o desse valor.  √â poss√≠vel que um limite de captcha relativamente baixo tenha sido definido no Toaster.  Isso explica a passagem bastante f√°cil do captcha pelo programa, apesar de ter sido enganado duas vezes, sem ver o sem√°foro da primeira p√°gina e o hidrante da quarta p√°gina do captcha. <br><br>  Al√©m da Torradeira, foram realizadas experi√™ncias na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina de demonstra√ß√£o</a> oficial do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reCAPTCHA</a> .  Como resultado, percebeu-se que, ap√≥s v√°rias detec√ß√µes err√¥neas (e n√£o detec√ß√µes), obter um captcha se torna extremamente dif√≠cil, mesmo para uma pessoa: s√£o necess√°rias novas classes (como tratores e palmeiras), c√©lulas sem objetos aparecem nas amostras (cores quase mon√≥tonas) e o n√∫mero de p√°ginas aumenta dramaticamente. para passar. <br><br>  Isso foi especialmente not√°vel quando decidi tentar clicar em c√©lulas aleat√≥rias em caso de n√£o detec√ß√£o de objetos (devido √† sua aus√™ncia no modelo).  Portanto, podemos dizer com certeza que cliques aleat√≥rios n√£o levar√£o a uma solu√ß√£o para o problema.  Para se livrar desse "bloqueio" do examinador, reconectamos a conex√£o √† Internet e limpamos os dados do navegador, porque ficou imposs√≠vel passar em um teste - era quase infinito! <br><br><img src="https://habrastorage.org/webt/xk/xe/5u/xkxe5uanfylidi1jgteyb3svyoc.png"><br>  <font color="#999999"><i>Se voc√™ duvida de sua humanidade, esse resultado √© poss√≠vel.</i></font> <br><br><h2>  Desenvolvimento </h2><br>  Se o artigo e o aplicativo despertarem interesse do leitor, terei prazer em continuar sua implementa√ß√£o, testes e a descri√ß√£o adicional de uma forma mais detalhada. <br><br>  Trata-se de encontrar classes que n√£o fazem parte da rede atual, isso melhorar√° bastante a efici√™ncia do aplicativo.  No momento, h√° uma necessidade urgente de reconhecer pelo menos classes como: passagens para pedestres, vitrines e chamin√©s - eu vou lhe dizer como treinar novamente o modelo.  Durante o desenvolvimento, fiz uma pequena lista das classes mais comuns: <br><br><ul><li>  travessias de pedestres; </li><li>  hidrantes; </li><li>  montras </li><li>  chamin√©s; </li><li>  carros; </li><li>  √înibus </li><li>  sem√°foros; </li><li>  bicicletas </li><li>  meios de transporte; </li><li>  escadas </li><li>  sinais. </li></ul><br>  √â poss√≠vel melhorar a qualidade da detec√ß√£o de objetos usando v√°rios modelos ao mesmo tempo: isso pode prejudicar o desempenho, mas aumentar a precis√£o. <br><br>  Outra maneira de melhorar a qualidade da detec√ß√£o de objetos √© alterar a entrada de imagem para a rede neural: no v√≠deo, voc√™ pode ver que, quando os objetos n√£o s√£o detectados, fa√ßo uma troca arbitr√°ria de imagens v√°rias vezes (com 10 pixels na horizontal e na vertical), e muitas vezes essa opera√ß√£o permite ver objetos que eram anteriormente n√£o foram detectados. <br><br>  Um aumento na imagem de um quadrado pequeno para um quadrado grande (at√© 300 x 300 pixels) tamb√©m leva √† detec√ß√£o de objetos n√£o detectados. <br><br><img src="https://habrastorage.org/webt/01/sd/eh/01sdehtdkgz_a-5gtsxh1-auhoq.png"><br>  <font color="#999999"><i>Nenhum objeto foi encontrado √† esquerda: quadrado original com 100 pixels de lado.</i></font>  <font color="#999999"><i>√Ä direita, um barramento √© detectado: um quadrado ampliado at√© 300 x 300 pixels.</i></font> <br><br>  Outra transforma√ß√£o interessante √© a remo√ß√£o da grade branca sobre a imagem usando as ferramentas OpenCV: √© poss√≠vel que o hidrante n√£o tenha sido detectado no v√≠deo por esse motivo (essa classe est√° presente na rede neural). <br><br><img src="https://habrastorage.org/webt/m_/7p/zu/m_7pzu93h3jqw3doy3flbtlymee.png"><br>  <font color="#999999"><i>√Ä esquerda, a imagem original, e √† direita, a imagem que foi alterada no editor de gr√°ficos: a grade √© exclu√≠da, as c√©lulas s√£o movidas uma para a outra.</i></font> <br><br><h2>  Sum√°rio </h2><br>  Com este artigo, eu queria dizer que o captcha provavelmente n√£o √© a melhor prote√ß√£o contra bots, e √© bem poss√≠vel que, em um futuro pr√≥ximo, haja necessidade de novos meios de prote√ß√£o contra sistemas automatizados. <br><br>  O prot√≥tipo desenvolvido, mesmo estando em estado incompleto, demonstra que, com as classes necess√°rias no modelo de rede neural e aplicando transforma√ß√µes sobre imagens, √© poss√≠vel obter a automa√ß√£o de um processo que n√£o deve ser automatizado. <br><br>  Al√©m disso, gostaria de chamar a aten√ß√£o do Google para o fato de que, al√©m do m√©todo para contornar o captcha descrito neste artigo, tamb√©m h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">outra maneira</a> pela qual uma amostra de √°udio √© <abbr title="O processo de tradu√ß√£o de √°udio para texto">transcrita</abbr> .  Na minha opini√£o, agora √© necess√°rio tomar medidas relacionadas √† melhoria da qualidade de produtos e algoritmos de software contra rob√¥s. <br><br>  Pelo conte√∫do e pela ess√™ncia do material, pode parecer que eu n√£o gosto do Google e, em particular, do reCAPTCHA, mas isso est√° longe de ser o caso e, se houver uma pr√≥xima implementa√ß√£o, vou lhe dizer por qu√™. <br><br>  Desenvolvido e demonstrado com o objetivo de melhorar a educa√ß√£o e melhorar os m√©todos destinados a garantir a seguran√ßa da informa√ß√£o <br><br>  Obrigado pela aten√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt449236/">https://habr.com/ru/post/pt449236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt449218/index.html">10 habilidades cr√≠ticas que todo engenheiro de DevOps</a></li>
<li><a href="../pt449220/index.html">DrumHero: Como eu fiz o primeiro jogo na minha vida</a></li>
<li><a href="../pt449224/index.html">Sobre o vi√©s da intelig√™ncia artificial</a></li>
<li><a href="../pt449232/index.html">Monitorando o consumo de energia solar por computador / servidor</a></li>
<li><a href="../pt449234/index.html">Servi√ßo Wireguard VPN gratuito na AWS</a></li>
<li><a href="../pt449240/index.html">A hist√≥ria de um jovem servi√ßo Daida (arte de assinatura)</a></li>
<li><a href="../pt449246/index.html">AX200 - Intel Wi-Fi 6</a></li>
<li><a href="../pt449248/index.html">IDE moderno. Definitivamente D, at√© certo ponto E, e certamente n√£o</a></li>
<li><a href="../pt449252/index.html">Projetos zumbis - mesclar dados do usu√°rio mesmo ap√≥s sua morte</a></li>
<li><a href="../pt449254/index.html">FAQ sobre arquitetura e trabalho VKontakte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>