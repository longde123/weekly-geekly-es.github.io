<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äç‚öïÔ∏è üíà üí≠ ‡§¨‡•à‡§ï‡§Ö‡§™ ‡§≤‡•â‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡§ï‡§∞‡•ç‡§§‡§æ ‡§ö‡•Å‡§®‡§®‡§æ ‚õÑÔ∏è üß¢ üíÜüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! 


 ‡§á‡§∏ ‡§≤‡•á‡§ñ ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§á‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Æ‡•à‡§Ç‡§®‡•á ‡§Ö‡§™‡§®‡•á ‡§´‡•ç‡§∞‡§Ç‡§ü-‡§ë‡§´‡§º‡§ø‡§∏ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡•á ‡§≤‡•â‡§ó‡•ç‡§∏ ‡§ï‡•ã ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§∏ ‡§§‡§∞‡§π ‡§∏‡•á ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡§æ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‡§¨‡•à‡§ï‡§Ö‡§™ ‡§≤‡•â‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡§ï‡§∞‡•ç‡§§‡§æ ‡§ö‡•Å‡§®‡§®‡§æ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/homecredit/blog/484414/"><p>  ‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! </p><br><p>  ‡§á‡§∏ ‡§≤‡•á‡§ñ ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§á‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Æ‡•à‡§Ç‡§®‡•á ‡§Ö‡§™‡§®‡•á ‡§´‡•ç‡§∞‡§Ç‡§ü-‡§ë‡§´‡§º‡§ø‡§∏ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡•á ‡§≤‡•â‡§ó‡•ç‡§∏ ‡§ï‡•ã ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§∏ ‡§§‡§∞‡§π ‡§∏‡•á ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡§æ‡§ó‡§æ‡§∞ ‡§ï‡•ã ‡§ö‡•Å‡§®‡§æ‡•§ </p><br><p>  ‡§ú‡§ø‡§∏ ‡§°‡§ø‡§µ‡•Ä‡§ú‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§µ‡§π ‡§¨‡•à‡§Ç‡§ï ‡§ï‡•á ‡§è‡§ï‡•Ä‡§ï‡•É‡§§ ‡§´‡•ç‡§∞‡§Ç‡§ü ‡§ë‡§´‡§ø‡§∏ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡•á ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§î‡§∞ ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à‡•§  ‡§Æ‡•à‡§Ç ‡§á‡§∏‡§ï‡•á ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ, ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§î‡§∞ DevOps ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•Ç‡§Ç‡•§ </p><br><p>  ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§¶‡•à‡§®‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á 5,000 ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§è‡§ï ‡§Ö‡§§‡•ç‡§Ø‡§ß‡§ø‡§ï ‡§≠‡§∞‡§æ ‡§π‡•Å‡§Ü ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§π‡•à‡•§  ‡§Ü‡§ú ‡§Ø‡§π ‡§è‡§ï "‡§Ö‡§ñ‡§Ç‡§°" ‡§π‡•à ‡§ú‡§ø‡§∏‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§´‡§æ‡§Ø‡§¶‡•á ‡§î‡§∞ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•à‡§Ç‡•§  ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§¨ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡•ã ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏‡•á‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§æ‡§®‡§æ‡§Ç‡§§‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ö‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à‡•§ </p><br><p>  ‡§π‡§∞ ‡§¶‡§ø‡§®, ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä 130 ‡§ú‡•Ä‡§¨‡•Ä ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡§ö‡•ç‡§ö‡•á ‡§≤‡•â‡§ó ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§Ø‡§¶‡•ç‡§Ø‡§™‡§ø ‡§π‡§Æ ENG ‡§¢‡•á‡§∞ (Elasticsearch Nxlog Greylog) ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§´‡§º‡§æ‡§á‡§≤ ‡§≤‡•â‡§ó ‡§Æ‡•á‡§Ç ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à (‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§∏‡•ç‡§ü‡•à‡§ï ‡§ü‡•ç‡§∞‡•á‡§∏ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡•ã‡§Ç), ‡§î‡§∞ ‡§á‡§∏‡§≤‡§ø‡§è ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§î‡§∞ ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ </p><br><p>  ‡§ö‡•Ç‡§Ç‡§ï‡§ø ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§∏‡§µ‡§æ‡§≤ ‡§â‡§†‡§§‡§æ ‡§π‡•à: "‡§î‡§∞ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡§æ‡§ó‡§æ‡§∞ ‡§á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§æ‡§Æ‡§®‡§æ ‡§ï‡§∞‡•á‡§ó‡§æ‡•§" </p><br><p>  ‡§á‡§∏ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•ã ‡§π‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Æ‡•à‡§Ç‡§®‡•á ‡§è‡§ï PowerShell ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§≤‡§ø‡§ñ‡•Ä ‡§ú‡§ø‡§∏‡§®‡•á ‡§Æ‡•á‡§∞‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§ø‡§Ø‡§æ‡•§ </p><a name="habracut"></a><br><p>  ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§Æ‡§æ‡§™‡§¶‡§Ç‡§°‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ü‡§∞‡§è‡§Ü‡§∞, 7z ‡§î‡§∞ ‡§ú‡§º‡§ø‡§™ ‡§Ü‡§∞‡•ç‡§ï‡§æ‡§á‡§µ‡•ç‡§∏ ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§®‡§æ ‡§π‡•à, ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§ó‡§†‡§® ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§∏‡§æ‡§• ‡§π‡•Ä ‡§∏‡§æ‡§• ‡§°‡§ø‡§∏‡•ç‡§ï ‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ </p><br><div class="spoiler">  <b class="spoiler_title">ArchSearch.ps1</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#Requires -Version 4.0 #  ,      Clear-Host #   ,     Set-Location $PSScriptRoot #  ,      $Archive = "Archive" $ArchFileName = "ArchFileName" [array]$path = (Get-ChildItem '.\logs').DirectoryName|Select-Object -Unique #      -.  ,     . if ((Test-Path -Path ".\$Archive") -ne $true){ New-Item -Path .\ -Name $Archive -ItemType Directory -Force } else { #    -    Get-ChildItem .\$Archive|Remove-Item -Recurse -Force } #      [array]$table=@() #   Rar #rar # m&lt;0..5&gt; Set compression level (0-store...3-default...5-maximal) 1..5|foreach{ $CompressionLevel = $("-m" + $_) $mc = Measure-Command {cmd /c .\rar.exe a -ep1 -ed $CompressionLevel -o+ -tsc .\$Archive\$($ArchFileName + $_) "$path"} [math]::Round(($mc.TotalMilliseconds), 0) $ArchFileNamePath = ".\$Archive\$($ArchFileName + $_ + ".rar")" $table += ""|Select-Object -Property @{name="ArchFileName"; expression={$ArchFileNamePath -split "\\"|Select-Object -Last 1}},` @{name="CompressionLevel"; expression={$CompressionLevel}},@{name="Extension"; expression={"rar"}},@{name="Size"; expression={(Get-ChildItem $ArchFileNamePath).Length}},` @{name="Time"; expression={[math]::Round(($mc.TotalMilliseconds), 0)}},` @{name="Size %"; expression={0}},@{name="Time %"; expression={0}},@{name="Result %"; expression={0}} } #   7z #7z # -mx[N] : set compression level: -mx1 (fastest) ... -mx9 (ultra) #cmd /c "$env:ProgramFiles\7-Zip\7z.exe" a -mx="$MX" -mmt="$MMT" -t7z -ssw -spf $($ArchFileName + "Fastest") "$path" 1..9|foreach{ $CompressionLevel = $("-mx=" + $_) $mc = Measure-Command {cmd /c "$env:ProgramFiles\7-Zip\7z.exe" a $CompressionLevel -t7z -ssw -spf .\$Archive\$($ArchFileName + $_) $path} #-mmt="$MMT" [math]::Round(($mc.TotalMilliseconds), 0) $ArchFileNamePath = ".\$Archive\$($ArchFileName + $_ + ".7z")" $table += ""|Select-Object -Property @{name="ArchFileName"; expression={$ArchFileNamePath -split "\\"|Select-Object -Last 1}},` @{name="CompressionLevel"; expression={$CompressionLevel}},@{name="Extension"; expression={"7z"}},@{name="Size"; expression={(Get-ChildItem $ArchFileNamePath).Length}},` @{name="Time"; expression={[math]::Round(($mc.TotalMilliseconds), 0)}},` @{name="Size %"; expression={0}},@{name="Time %"; expression={0}},@{name="Result %"; expression={0}} } #   zip (  PS "Compress-Archive") #zip 1..2|foreach{ Switch ($_){ 1{$CompressionLevel = "Fastest"} 2{$CompressionLevel = "Optimal"} } $mc = Measure-Command {Compress-Archive -Path $path -DestinationPath .\$Archive\$($ArchFileName + $_) -CompressionLevel $CompressionLevel -Force} [math]::Round(($mc.TotalMilliseconds), 0) $ArchFileNamePath = ".\$Archive\$($ArchFileName + $_ + ".zip")" $table += ""|Select-Object -Property @{name="ArchFileName"; expression={$ArchFileNamePath -split "\\"|Select-Object -Last 1}},` @{name="CompressionLevel"; expression={$CompressionLevel}},@{name="Extension"; expression={"zip"}},@{name="Size"; expression={(Get-ChildItem $ArchFileNamePath).Length}},` @{name="Time"; expression={[math]::Round(($mc.TotalMilliseconds), 0)}},` @{name="Size %"; expression={0}},@{name="Time %"; expression={0}},@{name="Result %"; expression={0}} } #     Size     [0] -     $Size = ($table|Sort-Object -Property Size)[0].Size / 100 #     Time     [0] -      $Time = ($table|Sort-Object -Property Time)[0].Time / 100 #    $table|foreach { $_.time $_."Size %" = [math]::Round(($_.Size / $Size), 0) $_."Time %" = [math]::Round(($_.Time / $Time), 0) if ($_."Size %" -ge $_."Time %"){ $_."Result %" = $_."Size %" - $_."Time %" } else { $_."Result %" = $_."Time %" - $_."Size %" } } #        "Size %" -     $table|Sort-Object -Property "Size %","Result %"|Select-Object -First 1|Format-Table -AutoSize #        "Result %" -          $table|Sort-Object -Property "Result %","Size %","Time %"|Select-Object -First 1|Format-Table -AutoSize $table|Sort-Object -Property "Size %","Result %"|Select-Object -First 1|Format-Table -AutoSize $table|Sort-Object -Property "Result %","Size %","Time %"|Select-Object -First 1|Format-Table -AutoSize #  !   ,     Get-ChildItem .\$Archive|Remove-Item -Force</span></span></code> </pre> </div></div><br><h1 id="podgotovitelnye-raboty">  ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø: </h1><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#   ,   PowerShell  4.0 ($PSVersionTable): #Requires -Version 4.0 #  ,      Clear-Host #   ,     (   .\) Set-Location $PSScriptRoot</span></span></code> </pre> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,      $Archive = "Archive" $ArchFileName = "ArchFileName" [array]$path = (Get-ChildItem '.\logs').DirectoryName|Select-Object -Unique #      -.  ,      if ((Test-Path -Path ".\$Archive") -ne $true){ New-Item -Path .\ -Name $Archive -ItemType Directory -Force } else { #   ,     Get-ChildItem .\$Archive|Remove-Item -Recurse -Force } #      [array]$table=@()</span></span></code> </pre> <br><h1 id="razbiraem-podrobnee">  ‡§π‡§Æ ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç </h1><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#     1  5       foreach 1..5|foreach{</span></span></code> </pre> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#    $CompressionLevel   1  5($_),       $CompressionLevel = $("-m" + $_)</span></span></code> </pre> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#  Measure-Command     ,   {} $mc = Measure-Command {cmd /c .\rar.exe a -ep1 -ed $CompressionLevel -o+ -tsc .\$Archive\$($ArchFileName + $_) "$path"}</span></span></code> </pre> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#       [math]::Round(($mc.TotalMilliseconds), 0) #    $ArchFileName + $_ + ".rar": Archive1.rar $ArchFileNamePath = ".\$Archive\$($ArchFileName + $_ + ".rar")" #   $table (+=)   $table += ""|Select-Object -Property @{name="ArchFileName"; expression={$ArchFileNamePath -split "\\"|Select-Object -Last 1}},` @{name="CompressionLevel"; expression={$CompressionLevel}},@{name="Extension"; expression={"rar"}},@{name="Size"; expression={(Get-ChildItem $ArchFileNamePath).Length}},` @{name="SizeAVD"; expression={0}},@{name="Time"; expression={[math]::Round(($mc.TotalMilliseconds), 0)}},` @{name="Size %"; expression={0}},@{name="Time %"; expression={0}},@{name="Result %"; expression={0}} }</span></span></code> </pre> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#     Size     [0] -     $Size = ($table|Sort-Object -Property Size)[0].Size / 100 #     Time     [0] -      $Time = ($table|Sort-Object -Property Time)[0].Time / 100 #    $table|foreach { $_.time $_."Size %" = [math]::Round(($_.Size / $Size), 0) $_."Time %" = [math]::Round(($_.Time / $Time), 0) if ($_."Size %" -ge $_."Time %"){ $_."Result %" = $_."Size %" - $_."Time %" } else { $_."Result %" = $_."Time %" - $_."Size %" } } #        "Size %" -     $table|Sort-Object -Property "Size %","Result %"|Select-Object -First 1|Format-Table -AutoSize #        "Result %" -          $table|Sort-Object -Property "Result %","Size %","Time %"|Select-Object -First 1|Format-Table -AutoSize #  !   ,    . Get-ChildItem .\$Archive|Remove-Item -Force</span></span></code> </pre> <br><pre> <code class="php hljs">$table|Sort-Object -Property <span class="hljs-string"><span class="hljs-string">"Size %"</span></span>,<span class="hljs-string"><span class="hljs-string">"Result %"</span></span>|Format-Table -AutoSize</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  ArchFileName </th><th>  ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§∏‡•ç‡§§‡§∞ </th><th>  ‡§è‡§ï‡•ç‡§∏‡§ü‡•á‡§Ç‡§∂‡§® </th><th>  ‡§Ü‡§ï‡§æ‡§∞ </th><th>  ‡§∏‡§Æ‡§Ø </th><th>  ‡§Ü‡§ï‡§æ‡§∞% </th><th>  ‡§∏‡§Æ‡§Ø% </th><th>  ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ% </th></tr></thead><tbody><tr><td>  ArchFileName8.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 8 </td><td>  7z </td><td>  26511520 </td><td>  62,404 </td><td>  100 </td><td>  1674 </td><td>  1574 </td></tr><tr><td>  ArchFileName9.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 9 </td><td>  7z </td><td>  26511520 </td><td>  64,614 </td><td>  100 </td><td>  1733 </td><td>  1633 </td></tr><tr><td>  ArchFileName7.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 7 </td><td>  7z </td><td>  28948176 </td><td>  52,832 </td><td>  109 </td><td>  1417 </td><td>  1308 </td></tr><tr><td>  ArchFileName6.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 6 </td><td>  7z </td><td>  30051742 </td><td>  37339 </td><td>  113 </td><td>  1002 </td><td>  889 </td></tr><tr><td>  ArchFileName5.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 5 </td><td>  7z </td><td>  31239355 </td><td>  35,169 </td><td>  118 </td><td>  943 </td><td>  825 </td></tr><tr><td>  ArchFileName4.rar </td><td>  -m4 </td><td>  rar </td><td>  33514693 </td><td>  11426 </td><td>  126 </td><td>  306 </td><td>  180 </td></tr><tr><td>  ArchFileName5.rar </td><td>  -m5 </td><td>  rar </td><td>  33465152 </td><td>  12894 </td><td>  126 </td><td>  346 </td><td>  220 </td></tr><tr><td>  ArchFileName3.rar </td><td>  -m3 </td><td>  rar </td><td>  33698079 </td><td>  9835 </td><td>  127 </td><td>  264 </td><td>  137 </td></tr><tr><td>  ArchFileName2.rar </td><td>  -m2 </td><td>  rar </td><td>  34399885 </td><td>  8352 </td><td>  130 </td><td>  224 </td><td>  94 </td></tr><tr><td>  ArchFileName4.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 4 </td><td>  7z </td><td>  38926348 </td><td>  6470 </td><td>  147 </td><td>  174 </td><td>  27 </td></tr><tr><td>  ArchFileName3.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 3 </td><td>  7z </td><td>  44545819 </td><td>  5889 </td><td>  168 </td><td>  158 </td><td>  10 </td></tr><tr><td>  ArchFileName2.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 2 </td><td>  7z </td><td>  51690114 </td><td>  4754 </td><td>  195 </td><td>  128 </td><td>  67 </td></tr><tr><td>  ArchFileName1.rar </td><td>  -m1 </td><td>  rar </td><td>  53605833 </td><td>  4600 </td><td>  202 </td><td>  123 </td><td>  79 </td></tr><tr><td>  ArchFileName1.7z </td><td>  -‡§Æ‡§ï‡•ç‡§∑ = ‡•ß </td><td>  7z </td><td>  57472172 </td><td>  3728 </td><td>  217 </td><td>  100 </td><td>  117 </td></tr><tr><td>  ArchFileName2.zip </td><td>  ‡§á‡§∑‡•ç‡§ü‡§§‡§Æ </td><td>  ‡§ú‡§º‡§ø‡§™ </td><td>  65733242 </td><td>  14025 </td><td>  248 </td><td>  376 </td><td>  128 </td></tr><tr><td>  ArchFileName1.zip </td><td>  ‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á </td><td>  ‡§ú‡§º‡§ø‡§™ </td><td>  81556824 </td><td>  9031 </td><td>  308 </td><td>  242 </td><td>  66 </td></tr></tbody></table></div><br><pre> <code class="php hljs">$table|Sort-Object -Property <span class="hljs-string"><span class="hljs-string">"Result %"</span></span>,<span class="hljs-string"><span class="hljs-string">"Size %"</span></span>,<span class="hljs-string"><span class="hljs-string">"Time %"</span></span>|Format-Table -AutoSize</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  ArchFileName </th><th>  ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§∏‡•ç‡§§‡§∞ </th><th>  ‡§è‡§ï‡•ç‡§∏‡§ü‡•á‡§Ç‡§∂‡§® </th><th>  ‡§Ü‡§ï‡§æ‡§∞ </th><th>  ‡§∏‡§Æ‡§Ø </th><th>  ‡§Ü‡§ï‡§æ‡§∞% </th><th>  ‡§∏‡§Æ‡§Ø% </th><th>  ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ% </th></tr></thead><tbody><tr><td>  ArchFileName3.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 3 </td><td>  7z </td><td>  44545819 </td><td>  5889 </td><td>  168 </td><td>  158 </td><td>  10 </td></tr><tr><td>  ArchFileName4.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 4 </td><td>  7z </td><td>  38926348 </td><td>  6470 </td><td>  147 </td><td>  174 </td><td>  27 </td></tr><tr><td>  ArchFileName1.zip </td><td>  ‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á </td><td>  ‡§ú‡§º‡§ø‡§™ </td><td>  81556824 </td><td>  9031 </td><td>  308 </td><td>  242 </td><td>  66 </td></tr><tr><td>  ArchFileName2.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 2 </td><td>  7z </td><td>  51690114 </td><td>  4754 </td><td>  195 </td><td>  128 </td><td>  67 </td></tr><tr><td>  ArchFileName1.rar </td><td>  -m1 </td><td>  rar </td><td>  53605833 </td><td>  4600 </td><td>  202 </td><td>  123 </td><td>  79 </td></tr><tr><td>  ArchFileName2.rar </td><td>  -m2 </td><td>  rar </td><td>  34399885 </td><td>  8352 </td><td>  130 </td><td>  224 </td><td>  94 </td></tr><tr><td>  ArchFileName1.7z </td><td>  -‡§Æ‡§ï‡•ç‡§∑ = ‡•ß </td><td>  7z </td><td>  57472172 </td><td>  3728 </td><td>  217 </td><td>  100 </td><td>  117 </td></tr><tr><td>  ArchFileName2.zip </td><td>  ‡§á‡§∑‡•ç‡§ü‡§§‡§Æ </td><td>  ‡§ú‡§º‡§ø‡§™ </td><td>  65733242 </td><td>  14025 </td><td>  248 </td><td>  376 </td><td>  128 </td></tr><tr><td>  ArchFileName3.rar </td><td>  -m3 </td><td>  rar </td><td>  33698079 </td><td>  9835 </td><td>  127 </td><td>  264 </td><td>  137 </td></tr><tr><td>  ArchFileName4.rar </td><td>  -m4 </td><td>  rar </td><td>  33514693 </td><td>  11426 </td><td>  126 </td><td>  306 </td><td>  180 </td></tr><tr><td>  ArchFileName5.rar </td><td>  -m5 </td><td>  rar </td><td>  33465152 </td><td>  12894 </td><td>  126 </td><td>  346 </td><td>  220 </td></tr><tr><td>  ArchFileName5.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 5 </td><td>  7z </td><td>  31239355 </td><td>  35,169 </td><td>  118 </td><td>  943 </td><td>  825 </td></tr><tr><td>  ArchFileName6.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 6 </td><td>  7z </td><td>  30051742 </td><td>  37339 </td><td>  113 </td><td>  1002 </td><td>  889 </td></tr><tr><td>  ArchFileName7.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 7 </td><td>  7z </td><td>  28948176 </td><td>  52,832 </td><td>  109 </td><td>  1417 </td><td>  1308 </td></tr><tr><td>  ArchFileName8.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 8 </td><td>  7z </td><td>  26511520 </td><td>  62,404 </td><td>  100 </td><td>  1674 </td><td>  1574 </td></tr><tr><td>  ArchFileName9.7z </td><td>  -‡§Æ‡§ø‡§ï‡•ç‡§∏ = 9 </td><td>  7z </td><td>  26511520 </td><td>  64,614 </td><td>  100 </td><td>  1733 </td><td>  1633 </td></tr></tbody></table></div><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#  !   ,    . Get-ChildItem .\$Archive|Remove-Item -Force</span></span></code> </pre> <br><p>  ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ: <br>  ‡§°‡§ø‡§∏‡•ç‡§ï ‡§∏‡•ç‡§™‡•á‡§∏ ‡§ï‡•á ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§ï‡§ø‡§´‡§æ‡§Ø‡§§‡•Ä 7z ‡§•‡§æ, ‡§ú‡•ã ‡§ï‡§ø ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ -mx = 8 ‡§î‡§∞ -mx = 9 ‡§•‡§æ </p><br><p><img src="https://habrastorage.org/webt/cd/mq/f5/cdmqf5xjxwupeq8m3y7erk75tfm.png"></p><br><p>  ‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§æ ‡§∏‡§Æ‡§Ø 7z ‡§•‡§æ ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ -x = 1 ‡§•‡§æ </p><br><p><img src="https://habrastorage.org/webt/8e/_b/jj/8e_bjj2e0rkquzmbe9sm-dvmzdw.png"></p><br><p>  ‡§ó‡§§‡§ø ‡§î‡§∞ ‡§ï‡§¨‡•ç‡§ú‡•á ‡§µ‡§æ‡§≤‡•á ‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§á‡§∑‡•ç‡§ü‡§§‡§Æ 7z ‡§•‡§æ, ‡§ú‡•ã ‡§è‡§Æ‡§è‡§ï‡•ç‡§∏ = 3 ‡§ï‡•á ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§•‡§æ </p><br><p><img src="https://habrastorage.org/webt/mz/fb/ss/mzfbssm17xhzc_ixnxeuqgdbg5w.png"></p><br><p>  ‡§π‡§Æ 7z ‡§ï‡•ã -mx = 8 ‡§ï‡•á ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ö‡•Å‡§®‡§§‡•á ‡§π‡•à‡§Ç, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ -mx 9 ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ø‡§π ‡§•‡•ã‡§°‡§º‡§æ ‡§§‡•á‡§ú‡§º ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ </p><br><p>  ‡§Æ‡§π‡§æ‡§®, ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§î‡§∞ ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ ‡§ö‡§Ø‡§®‡§ø‡§§ ‡§π‡•à‡§Ç, ‡§Ö‡§¨ ‡§≤‡•â‡§ó ‡§ï‡•ã ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç! </p><br><h1 id="nam-nuzhno-reshit-sleduyuschie-zadachi">  ‡§π‡§Æ‡•á‡§Ç ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§π‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à: </h1><br><ol><li>  ‡§ë‡§™‡§∞‡•á‡§∂‡§® ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§â‡§ö‡•ç‡§ö ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§≤‡•ã‡§° ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§ </li><li>  ‡§∏‡§¨‡§´‡§º‡•ã‡§≤‡•ç‡§°‡§∞ ‡§≤‡•â‡§ó ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§≠‡•Ä ‡§´‡§º‡•ã‡§≤‡•ç‡§°‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§ </li><li>  30 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§∏‡•á ‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ü‡§æ‡§è‡§Ç (‡§§‡§æ‡§ï‡§ø ‡§°‡§ø‡§∏‡•ç‡§ï ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§® ‡§ö‡§≤‡§æ ‡§ú‡§æ‡§è)‡•§ </li><li>  ‡§´‡§º‡§æ‡§á‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§Ç‡§∂‡•ã‡§ß‡§ø‡§§ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§∏‡§Æ‡§Ø ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§¶‡§ø‡§® ‡§§‡§ï ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ‡§æ‡§ó‡§æ‡§∞ ‡§¨‡§®‡§æ‡§è‡§Ç‡•§ </li></ol><br><div class="spoiler">  <b class="spoiler_title">ArchLogs.ps1</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#Requires -Version 4.0 #          #SCHTASKS /Create /SC DAILY /ST 22:00 /TN ArchLogs /TR "C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe C:\Scripts\ArchLogs.ps1" /RU "NT AUTHORITY\NETWORKSERVICE" /F /RL HIGHEST #  ,      Clear-Host #   ,     Set-Location $PSScriptRoot #           . #  1 Function Set-MMTCore { $Core = (Get-WmiObject ‚Äìclass Win32_processor|Measure-Object NumberOfLogicalProcessors -sum).Sum / 2 $CoreTMP = $Core / 4 IF ($Core -lt 4) { $Core = $Core -1 } Else { $Core = $Core - $CoreTMP } [math]::Round($Core) } #    $MX = 8 #     $MMT = Set-MMTCore #  ,      $SearchFolder = "C:\inetpub" #     $SearchFolder $InetpubFolder = Get-ChildItem $SearchFolder #     Logs #  2 $LogsFolder = $InetpubFolder|foreach {Get-ChildItem $_.Fullname|Where-Object{$_.PSIsContainer -eq $true}|Where-Object{$_.name -eq "logs"}} #  ,      $Archive = "Archive" $ArchiveFile = "ArchFiles.txt" #      $LogsFolder   $LogsFolderName   foreach($LogsFolderName in $LogsFolder.Fullname){ $LogsFolderName #   $Archive,       IF ((Test-Path -Path "$LogsFolderName\$Archive") -ne $true){New-Item -Path $LogsFolderName -Name $Archive -ItemType Directory -Force} #    30  #  3 Get-ChildItem "$LogsFolderName\$Archive"|Where-Object {$_.LastWriteTime -le (Get-Date).AddDays(-30)}| Remove-Item -Force #     [Array]$ArchiveItems = Get-ChildItem -Path $LogsFolderName -Exclude $Archive #   , .    -  IF ($ArchiveItems.Count -ne ^_^quot&amp;#0;quot^_^){ #       $AllLogsFiles = Get-ChildItem $ArchiveItems -Recurse &lt;#-Filter *.log#&gt;|Where-Object {$_.LastWriteTime -lt (Get-Date).Date} #     #  4 $AllData = ($AllLogsFiles|Sort-Object -Property LastWriteTime).LastWriteTime.Date|Select-Object -Unique $AllData foreach ($Data in $AllData){ IF ($ArchiveItems.Count -ne ^_^quot&amp;#0;quot^_^){ #         ($AllLogsFiles|Where-Object {$_.LastWriteTime -lt (Get-Date).Date}|Where-Object {$_.LastWriteTime -ge (Get-Date $Data) -and $_.LastWriteTime -lt (Get-Date $Data).AddDays(1)}).FullName|Out-File .\$ArchiveFile -Force -Encoding default Write-Host "===" $Data Write-Host "===" #      IF ($(Get-Content .\ArchFiles.txt -Encoding default) -ne $null){ $ArchiveFileName =$(($LogsFolderName.Remove($LogsFolderName.LastIndexOf("\"))) -split "\\"|Select-Object -Last 1) + "_" + $(Get-Date $Data -Format dd-MM-yyyy) cmd /c "$env:ProgramFiles\7-Zip\7z.exe" a -mx="$MX" -mmt="$MMT" -t7z -ssw -sdel "$LogsFolderName\$Archive\$ArchiveFileName" "@$ArchiveFile" #        IF(Test-Path ".\$ArchiveFile"){Remove-Item ".\$ArchiveFile" -Force} #      Logs $LogsFolderName|foreach {Get-ChildItem $_|Where-Object {(Get-ChildItem -Path $_.FullName) -eq $null}|Remove-Item -Force} } } } } }</span></span></code> </pre> </div></div><br><p>  ‡§Ø‡§π‡§æ‡§Ç ‡§Æ‡•à‡§Ç ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø (‡§ü‡§ø‡§™‡•ç‡§™‡§£‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§∞‡•ç‡§£‡§ø‡§§) ‡§ï‡•ã ‡§ö‡§ø‡§§‡•ç‡§∞‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡•Ç‡§Ç‡§ó‡§æ, ‡§≤‡•á‡§ï‡§ø‡§® ‡§ï‡•á‡§µ‡§≤ ‡§∏‡•á‡§ü-‡§è‡§Æ‡§è‡§Æ‡§ü‡•Ä‡§∏‡•Ä‡§ï‡•ã‡§∞ ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® ‡§™‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•Ç‡§Ç, ‡§ú‡•ã ‡§π‡§Æ‡•á‡§Ç 7z ‡§ï‡•á ‡§≤‡§ø‡§è ‡§•‡•ç‡§∞‡•á‡§°‡•ç‡§∏ ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§§‡§æ‡§ï‡§ø ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞ ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§∞ ‡§≤‡•ã‡§° ‡§® ‡§π‡•ã ‡§∏‡§ï‡•á: </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">Function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Set</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MMTCore</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">#        2 $Core = (Get-WmiObject ‚Äìclass Win32_processor|Measure-Object NumberOfLogicalProcessors -sum).Sum / 2 #      4 $CoreTMP = $Core / 4 IF ($Core -lt 4) { $Core = $Core -1 } Else { $Core = $Core - $CoreTMP } #    [math]::Round($Core) }</span></span></code> </pre> <br><h6 id="bez-ispolzovaniya-funkcii-set-mmtcore">  ‡§∏‡•á‡§ü- MMTCore ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§è ‡§¨‡§ø‡§®‡§æ </h6><br><p>  ‡§Ø‡§π ‡§¶‡•á‡§ñ‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§∏‡•Ä‡§™‡•Ä‡§Ø‡•Ç 100% ‡§™‡§∞ ‡§ü‡§ø‡§ï‡•Ä ‡§π‡•Å‡§à ‡§π‡•à‡•§  ‡§á‡§∏‡§ï‡§æ ‡§Æ‡§§‡§≤‡§¨ ‡§π‡•à ‡§ï‡§ø ‡§π‡§Æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§ï‡§æ‡§∞‡§£ ‡§¨‡§®‡•á‡§Ç‡§ó‡•á, ‡§∏‡§æ‡§• ‡§π‡•Ä ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§∏‡•á ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§ </p><br><p><img src="https://habrastorage.org/webt/lx/zs/35/lxzs35gatvlgkeq3nqg1lqlosum.png"></p><br><h6 id="pri-ispolzovanii-funkcii-set-mmtcore">  ‡§∏‡•á‡§ü-‡§è‡§Æ‡§è‡§Æ‡§ü‡•Ä‡§∏‡•Ä‡§Ü‡§∞ ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§∏‡§Æ‡§Ø </h6><br><p>  ‡§Ø‡§π ‡§¶‡•á‡§ñ‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§∏‡•Ä‡§™‡•Ä‡§Ø‡•Ç 30-35% ‡§π‡•à‡•§  ‡§á‡§∏‡§ï‡§æ ‡§Æ‡§§‡§≤‡§¨ ‡§Ø‡§π ‡§π‡•à ‡§ï‡§ø ‡§∏‡•á‡§ü-‡§è‡§Æ‡§è‡§Æ‡§ü‡•Ä‡§∏‡•Ä‡§ï‡•ã‡§∞ ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§Ü‡§™ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§® ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§ø‡§è ‡§¨‡§ø‡§®‡§æ ‡§´‡§º‡§æ‡§á‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ </p><br><p><img src="https://habrastorage.org/webt/1i/0e/lu/1i0elui1ntjzib8hlb6i1lgdbea.png"></p><br><p>  ‡§¨‡•à‡§ï‡§Ö‡§™ ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ: </p><br><h6 id="papka-do-arhivacii">  ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§´‡§º‡•ã‡§≤‡•ç‡§°‡§∞: </h6><br><p><img src="https://habrastorage.org/webt/jp/4l/zm/jp4lzmtwot2wr8pry4xmxks7uxo.png"></p><br><h6 id="papka-posle-arhivacii">  ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§´‡§º‡•ã‡§≤‡•ç‡§°‡§∞: </h6><br><p><img src="https://habrastorage.org/webt/5d/ei/ls/5deils-brkw-qwkq6mdedtw2kxm.png"></p><br><h6 id="fayly-sozdannye--v-processe-arhivacii">  ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§¨‡§®‡§æ‡§à ‡§ó‡§à ‡§´‡§º‡§æ‡§á‡§≤‡•á‡§Ç: </h6><br><p><img src="https://habrastorage.org/webt/hi/pv/q-/hipvq-nga8eyesk50mfzb4qs8cw.png"></p><br><h6 id="fayly-v-arhive">  ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§Æ‡•á‡§Ç ‡§´‡§º‡§æ‡§á‡§≤‡•á‡§Ç: </h6><br><p><img src="https://habrastorage.org/webt/a4/3_/s9/a43_s9t2hg2cfjl3ytu559jjxo8.png"></p><br><p><img src="https://habrastorage.org/webt/rl/yf/u2/rlyfu2qtcs3jcq0rdu9__wuok6m.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi484414/">https://habr.com/ru/post/hi484414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi484404/index.html">‡§π‡§Æ ‡§°‡•á‡§µ‡§≤‡§™‡§∞‡•ç‡§∏ ‡§ï‡•ã ‡§°‡•ç‡§∞‡§æ‡§á‡§µ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§è‡§ï ‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§§‡§∞‡•Ä‡§ï‡•á ‡§∏‡•á ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç - Yandex.Money ‡§Æ‡•á‡§ü‡§æ‡•à‡§™ ‡§∏‡•á ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã</a></li>
<li><a href="../hi484406/index.html">Pn ‡§ú‡§Ç‡§ï‡•ç‡§∂‡§®‡•ã‡§Ç ‡§™‡§∞ ‡§ï‡§≤‡•ç‡§™‡§ø‡§§ ‡§¨‡•å‡§®‡•á</a></li>
<li><a href="../hi484408/index.html">RUTM ‡§Ø‡•Å‡§ó</a></li>
<li><a href="../hi484410/index.html">‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§°‡•á‡§µ‡§≤‡§™‡§∞ ‡§Ü‡§¶‡§§‡•á‡§Ç</a></li>
<li><a href="../hi484412/index.html">‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§ë‡§ü‡•ã‡§Æ‡•ã‡§ü‡§ø‡§µ ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡§ø‡§ï‡•ç‡§∏ ‡§µ‡§æ‡§∏‡•ç‡§§‡•Å‡§ï‡§≤‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è NXP S32G ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§∞</a></li>
<li><a href="../hi484418/index.html">‡§∏‡•Ä‡§à‡§ì ‡§Æ‡•ã‡§ü‡§∞‡§ø‡§ï‡•Ä ‡§á‡§≤‡•ç‡§Ø‡§æ ‡§ö‡•á‡§ñ: ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§µ‡•á ‡§™‡•ç‡§∞‡§æ‡§Ø‡•ã‡§ó‡§ø‡§ï ‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§Ö‡§Ç‡§ó ‡§∏‡•á ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§ï‡§æ‡§Æ ‡§ï‡•Ä ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§´‡§ø‡§∞ ‡§µ‡•á ‡§®‡§ø‡§∞‡§æ‡§∂ ‡§π‡•ã ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç</a></li>
<li><a href="../hi484420/index.html">‡§≤‡•ã‡§ï‡§™‡•ç‡§∞‡§ø‡§Ø ‡§¨‡•à‡§ü‡§≤‡§è‡§à ‡§è‡§Ç‡§ü‡§ø‡§ö‡§ø‡§ü‡§æ ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§î‡§∞ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§¶‡§∞‡§ï‡§ø‡§®‡§æ‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§§‡§∞‡•Ä‡§ï‡•á</a></li>
<li><a href="../hi484424/index.html">‡§è‡§®‡§µ‡•Ä‡§°‡§ø‡§Ø‡§æ ‡§ì‡§∞‡§ø‡§® - ‡§∞‡•ã‡§¨‡•ã‡§ü ‡§µ‡§æ‡§π‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§ö‡§ø‡§™</a></li>
<li><a href="../hi484426/index.html">‡§Æ‡•à‡§Ç ‡§î‡§∞ ‡§Æ‡•á‡§∞‡§æ ‡§Æ‡•ã‡§™‡•á‡§°‡•§ ‡§Ö‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§∏‡•ç‡§ï‡•á‡§≤‡§ø‡§Ç‡§ó</a></li>
<li><a href="../hi484428/index.html">‡§è‡§ï ‡§®‡§ø‡§µ‡•á‡§∂‡§ï ‡§ï‡•á ‡§¨‡§ø‡§®‡§æ ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ö‡•Å‡§®‡§®‡§æ: ‡§á‡§∏‡§ï‡•á ‡§µ‡§ø‡§™‡§∞‡•Ä‡§§ ‡§∏‡•á</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>