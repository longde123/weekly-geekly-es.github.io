<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äç‚öïÔ∏è üéæ üë®üèª‚Äçüî¨ Django 3.0 ser√° asincr√≥nico üôèüèø ‚úåüèæ üèÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Andrew Godwin public√≥ DEP 0009: Django con capacidad as√≠ncrona el 9 de mayo, y fue aprobado por el consejo t√©cnico de Django el 21 de julio, por lo qu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Django 3.0 ser√° asincr√≥nico</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461493/"><p>  <em>Andrew Godwin public√≥ <a href="">DEP 0009: Django con capacidad as√≠ncrona</a> el 9 de mayo, y fue aprobado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">por el consejo t√©cnico de</a> Django el 21 de julio, por lo que se espera que con el lanzamiento de Django 3.0 tengan tiempo para hacer algo interesante.</em>  <em>Ya se mencion√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en alg√∫n lugar en los comentarios de Habr</a> , pero decid√≠ transmitir esta noticia a una audiencia m√°s amplia traduci√©ndola, principalmente para aquellos que, como yo, no siguen particularmente las noticias de Django.</em> </p><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1153030952915890177"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><p>  Python as√≠ncrono se ha desarrollado durante muchos a√±os, y en el ecosistema de Django, experimentamos con √©l en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">canales</a> con el enfoque principal en el soporte de socket web. </p><br><p>  A medida que se desarroll√≥ el ecosistema, se hizo evidente que si bien no hab√≠a una necesidad urgente de extender Django para admitir protocolos que no son HTTP, como los sockets web, el soporte as√≠ncrono proporcionar√≠a muchos beneficios para el marco tradicional de plantilla de vista de modelo de Django. </p><br><p>  Los beneficios se describen en la secci√≥n Motivaci√≥n a continuaci√≥n, pero la conclusi√≥n general a la que llegu√© es que obtenemos tanto de Django as√≠ncrono que vale la pena el arduo trabajo que requiere.  Tambi√©n creo que es muy importante hacer cambios de una manera iterativa, apoyada por la comunidad, que no dependa de uno o dos contribuyentes antiguos que podr√≠an agotarse. <a name="habracut"></a></p><br><p>  Aunque el documento se designa como DEP "Caracter√≠stica", todo esto significa que tambi√©n es en parte un DEP de proceso.  El alcance de los cambios propuestos a continuaci√≥n es incre√≠blemente grande, y es probable que falle lanzarlos como un proceso tradicional de una sola caracter√≠stica. </p><br><p>  Por supuesto, a lo largo de este documento, es importante recordar la filosof√≠a de Django, que es mantener todo seguro y compatible con versiones anteriores.  El plan no es eliminar Django s√≠ncrono; el plan es mantenerlo en su forma actual, pero agregar asincron√≠a como una opci√≥n para aquellos que piensan que necesitan un rendimiento o flexibilidad adicionales. </p><br><p>  ¬øEs este un trabajo gigantesco?  Por supuesto  Pero creo que esto puede cambiar significativamente el futuro de Django: tenemos la oportunidad de adoptar un marco probado y una comunidad incre√≠ble e introducir un conjunto completamente nuevo de opciones que antes eran imposibles. </p><br><p>  La web ha cambiado y Django deber√≠a cambiar con ella, pero de acuerdo con nuestros ideales, ser asequible, seguro por defecto y flexible a medida que los proyectos crecen y sus necesidades cambian.  En el mundo del almacenamiento de datos en la nube, la arquitectura orientada a servicios y el backend como la base de una l√≥gica empresarial compleja, la capacidad de hacer cosas de manera competitiva es clave. </p><br><p>  Este DEP describe un plan que creo que nos llevar√° all√≠.  Esta es una visi√≥n en la que realmente creo y con la que trabajar√© para ayudar a hacer todo lo posible.  Al mismo tiempo, el an√°lisis cuidadoso y el escepticismo est√°n justificados;  Le pido su cr√≠tica constructiva, as√≠ como su confianza.  Django depende de una comunidad de personas y de las aplicaciones que crean, y si necesitamos determinar el camino hacia el futuro, debemos hacerlo juntos. </p><br><h2 id="kratkoe-opisanie">  Breve descripci√≥n </h2><br><p>  Vamos a agregar soporte para representaciones asincr√≥nicas, middleware, ORM y otros elementos importantes para Django. </p><br><p>  Esto se realizar√° ejecutando c√≥digo s√≠ncrono en subprocesos, reemplaz√°ndolo gradualmente por c√≥digo as√≠ncrono.  Las API s√≠ncronas continuar√°n existiendo y ser√°n totalmente compatibles, y con el tiempo se convertir√°n en envoltorios s√≠ncronos para el c√≥digo inicialmente as√≠ncrono. </p><br><p>  El modo ASGI lanzar√° Django como una aplicaci√≥n asincr√≥nica nativa.  El modo WSGI activar√° un bucle de eventos separado cada vez que se acceda a Django, de modo que la capa asincr√≥nica sea compatible con el servidor s√≠ncrono. </p><br><p>  El subprocesamiento m√∫ltiple alrededor de ORM es complejo y requiere un nuevo concepto de contextos de conexi√≥n y subprocesos fijos para ejecutar c√≥digo ORM s√≠ncrono. </p><br><p>  Muchas partes de Django continuar√°n funcionando sincronizadas, y nuestra prioridad ser√° apoyar a los usuarios que escriben vistas en ambos estilos, permiti√©ndoles elegir el mejor estilo para la presentaci√≥n en la que est√°n trabajando. </p><br><p>  Algunas funciones, como las plantillas y el almacenamiento en cach√©, necesitar√°n sus propios DEP y estudios independientes sobre c√≥mo hacerlos completamente as√≠ncronos.  Este DEP se centra principalmente en el flujo HTTP-middleware-view y ORM. </p><br><p>  Habr√° compatibilidad total con versiones anteriores.  Un proyecto est√°ndar de Django 2.2 deber√≠a ejecutarse en Django as√≠ncrono (ya sea 3.0 o 3.1) sin cambios. </p><br><p>  Esta propuesta se centra en la implementaci√≥n de piezas peque√±as e iterativas con su colocaci√≥n gradual en la rama maestra para evitar problemas con la bifurcaci√≥n de larga duraci√≥n y permitirnos cambiar de rumbo a medida que detectamos problemas. </p><br><p>  Esta es una buena oportunidad para atraer nuevos miembros.  Debemos financiar el proyecto para que esto suceda m√°s r√°pido.  La financiaci√≥n debe ser en una escala a la que no estamos acostumbrados. </p><br><h2 id="specifikaciya">  Especificaci√≥n </h2><br><p>  El objetivo general es hacer que cada parte de Django, que puede estar bloqueando, es decir, no solo los c√°lculos vinculados a la CPU, se vuelva as√≠ncrona (se ejecuta en un bucle de evento asincr√≥nico sin bloqueos). </p><br><p>  Esto incluye las siguientes caracter√≠sticas: </p><br><ul><li>  Capas intermedias (Middleware) </li><li>  Vistas </li><li>  ORM </li><li>  Patrones </li><li>  Prueba </li><li>  Almacenamiento en cach√© </li><li>  Validaci√≥n de formulario </li><li>  Correo electr√≥nico </li></ul><br><p>  Sin embargo, esto no incluye cosas tales como la internacionalizaci√≥n, que no traer√° ninguna ganancia de rendimiento, ya que es una tarea vinculada a la CPU que tambi√©n se ejecuta r√°pidamente, o migraciones que son de un solo subproceso cuando se inicia a trav√©s del comando de administraci√≥n. </p><br><p>  Cada funci√≥n individual que se vuelve as√≠ncrona en el interior tambi√©n proporcionar√° una interfaz s√≠ncrona que es compatible con la API actual (en 2.2) en el futuro previsible; podr√≠amos cambiarla con el tiempo para mejorarla, pero las API s√≠ncronas no ir√°n a ninguna parte. </p><br><p>  A continuaci√≥n se ofrece una descripci√≥n general de c√≥mo se logra esto t√©cnicamente, y luego se brindan detalles espec√≠ficos de implementaci√≥n para √°reas espec√≠ficas.  No es exhaustivo para todas las funciones de Django, pero si logramos este objetivo inicial, incluiremos casi todos los casos de uso. </p><br><p>  La parte final de esta secci√≥n, "Procedimiento", tambi√©n analiza c√≥mo estos cambios pueden implementarse gradualmente y por varios grupos de desarrolladores en paralelo, lo cual es importante para completar estos cambios con la ayuda de voluntarios en un per√≠odo de tiempo razonable. </p><br><h3 id="tehnicheskiy-obzor">  Revisi√≥n t√©cnica </h3><br><p>  El principio que nos permite mantener implementaciones sincr√≥nicas y asincr√≥nicas en paralelo es la capacidad de ejecutar un estilo dentro de otro. </p><br><p>  Cada funci√≥n pasar√° por tres etapas de implementaci√≥n: </p><br><ul><li>  Solo sincr√≥nico (estamos aqu√≠) </li><li>  Implementaci√≥n s√≠ncrona con contenedor as√≠ncrono </li><li>  Implementaci√≥n asincr√≥nica con contenedor s√≠ncrono </li></ul><br><h4 id="asinhronnaya-obyortka">  Contenedor as√≠ncrono </h4><br><p>  Primero, el c√≥digo s√≠ncrono existente se envolver√° en una interfaz as√≠ncrona, que ejecuta el c√≥digo s√≠ncrono en el grupo de subprocesos.  Esto nos permitir√° dise√±ar y proporcionar una interfaz as√≠ncrona relativamente r√°pido, sin tener que reescribir todo el c√≥digo disponible para la asincron√≠a. </p><br><p> El kit de herramientas para esto ya est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asgiref</a> como una funci√≥n <code>sync_to_async</code> , que admite cosas como el manejo de excepciones o <code>sync_to_async</code> (m√°s sobre esto a continuaci√≥n). </p><br><p>  Lo m√°s probable es que ejecutar c√≥digo en subprocesos no conduzca a un aumento en la productividad; la sobrecarga que aparece probablemente lo ralentizar√° un poco cuando solo ejecute c√≥digo lineal normal, pero esto permitir√° a los desarrolladores comenzar a ejecutar algo competitivo y acostumbrarse a las nuevas caracter√≠sticas. </p><br><p>  Adem√°s, hay varias partes de Django que son sensibles a comenzar en <em>el mismo</em> hilo en el acceso repetido;  por ejemplo, procesar transacciones en la base de datos.  Si envolvi√©ramos un c√≥digo en <code>atomic()</code> que luego acceder√≠a al ORM a trav√©s de hilos aleatorios tomados del grupo, la transacci√≥n no tendr√≠a efecto, ya que estaba vinculada a la conexi√≥n dentro del hilo en el que se inici√≥ la transacci√≥n. </p><br><p>  En tales situaciones, se requiere un "hilo fijo" en el que el contexto asincr√≥nico invoca secuencialmente todo el c√≥digo s√≠ncrono en el mismo hilo en lugar de empujarlo al conjunto de hilos, mientras se mantiene el comportamiento correcto de ORM y otras partes sensibles al hilo.  Todas las partes de Django que sospechamos que lo necesitan, incluido el ORM completo, utilizar√°n la versi√≥n <code>sync_to_async</code> , que tiene esto en cuenta, por lo que todo est√° seguro de forma predeterminada.  Los usuarios podr√°n desactivar esto selectivamente para la ejecuci√≥n competitiva de consultas. Para m√°s detalles, consulte "ORM" a continuaci√≥n. </p><br><h4 id="asinhronnaya-realizaciya">  Implementaci√≥n asincr√≥nica </h4><br><p>  El siguiente paso es reescribir la implementaci√≥n de la funci√≥n en c√≥digo as√≠ncrono y luego presentar la interfaz s√≠ncrona a trav√©s de un contenedor que ejecuta c√≥digo as√≠ncrono en un bucle de evento √∫nico.  Esto ya est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asgiref</a> como una funci√≥n <code>async_to_sync</code> . </p><br><p>  No es necesario reescribir todas las funciones a la vez para saltar r√°pidamente a la tercera etapa.  Podemos enfocar nuestros esfuerzos en las partes que podemos hacer bien y que tienen el soporte de bibliotecas de terceros, al tiempo que ayudamos al resto del ecosistema de Python en cosas que requieren m√°s trabajo para implementar la asincron√≠a nativa;  Esto se discute a continuaci√≥n. </p><br><p>  Esta descripci√≥n general funciona con casi todas las funciones de Django que deber√≠an volverse as√≠ncronas, excepto aquellos lugares para los que Python no proporciona equivalentes de funciones as√≠ncronas que ya utilizamos.  El resultado ser√° un cambio en la forma en que Django presenta su API en modo as√≠ncrono, o trabajar con los desarrolladores principales de Python para ayudar a desarrollar las funciones asincr√≥nicas de Python. </p><br><h3 id="threadlocals">  Threadlocals </h3><br><p>  Uno de los detalles b√°sicos de la implementaci√≥n de Django que debe mencionarse por separado de la mayor√≠a de las funciones que se describen a continuaci√≥n es threadlocals.  Como su nombre indica, los threadlocals funcionan dentro de un thread, y aunque Django mantiene el objeto <code>HttpRequest</code> fuera de threadlocal, ponemos algunas otras cosas en √©l, por ejemplo, conexiones de base de datos o el idioma actual. </p><br><p>  El uso de hilos locales se puede dividir en dos opciones: </p><br><ul><li>  "Contexto locales", donde se necesita un valor dentro de un contexto basado en la pila, como una solicitud.  Esto es necesario para configurar el idioma actual. </li><li>  "True threadlocals", donde el c√≥digo protegido no es seguro para llamar desde otro hilo.  Esto es para conectarse a la base de datos. </li></ul><br><p>  A primera vista, puede parecer que los "contextos locales" pueden resolverse usando el nuevo m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">contextvars</a> en Python, pero Django 3.0 a√∫n tendr√° que soportar Python 3.6, mientras que este m√≥dulo apareci√≥ en 3.7.  Adem√°s, <code>contextvars</code> espec√≠ficamente dise√±ado para eliminar el contexto al cambiar, por ejemplo, a un nuevo hilo, mientras que necesitamos guardar estos valores para permitir que las funciones <code>sync_to_async</code> y <code>async_to_sync</code> funcionen normalmente como envoltorios.  Cuando Django solo admitir√° 3.7 y <code>contextvars</code> posteriores, podr√≠amos considerar el uso de <code>contextvars</code> , pero eso requerir√≠a un trabajo considerable en Django. </p><br><p>  Esto ya se ha resuelto con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asgiref</a> <code>Local</code> , que es compatible con corutinas e hilos.  Ahora no usa <code>contextvars</code> , pero podemos cambiarlo para que funcione con backport 3.6 despu√©s de algunas pruebas. </p><br><p>  Los hilos de rosca verdaderos, por otro lado, simplemente pueden seguir funcionando en el hilo actual.  Sin embargo, debemos ser m√°s cuidadosos para evitar que tales objetos se filtren a otra corriente;  cuando la presentaci√≥n ya no se ejecuta en el mismo subproceso, pero genera un subproceso para cada llamada ORM (durante la fase de "implementaci√≥n sincr√≥nica, envoltura asincr√≥nica"), algunas cosas que fueron posibles en modo sincr√≥nico no ser√°n posibles en asincr√≥nico. </p><br><p>  Esto requerir√° atenci√≥n especial y la prohibici√≥n de algunas operaciones previamente posibles en modo as√≠ncrono;  Los casos que conocemos se describen a continuaci√≥n en secciones espec√≠ficas. </p><br><h3 id="odnovremennaya-podderzhka-sinhronnogo-i-asinhronnogo-interfeysov">  Soporte simult√°neo para interfaces s√≠ncronas y as√≠ncronas. </h3><br><p>  Uno de los grandes problemas que encontraremos cuando intentemos portar Django es que Python no le permite crear versiones s√≠ncronas y as√≠ncronas de una funci√≥n con el mismo nombre. </p><br><p>  Esto significa que no puede simplemente tomar y crear una API que funcione de esta manera: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   value = cache.get("foo") #   value = await cache.get("bar")</span></span></code> </pre> <br><p>  Esta es una limitaci√≥n desafortunada de la forma en que Python se implementa de forma as√≠ncrona, y no hay una soluci√≥n obvia.  Cuando se llama a algo, no sabe si lo esperar√° o no, por lo que no hay forma de determinar qu√© debe devolverse. </p><br><p>  (Nota: esto se debe a que Python implementa funciones as√≠ncronas como "un llamado sincronizado que devuelve una rutina", en lugar de algo como "llamar al m√©todo <code>__acall__</code> en un objeto". Los administradores e iteradores de contexto as√≠ncrono no tienen este problema, porque tienen m√©todos separados <code>__aiter__</code> y <code>__aenter__</code> .) </p><br><p>  Con esto en mente, debemos ubicar los espacios de nombres de las implementaciones s√≠ncronas y as√≠ncronas por separado para que no entren en conflicto.  Podr√≠amos hacer esto con el argumento nombrado <code>sync=True</code> , pero esto conduce a cuerpos confusos de funciones / m√©todos y evita el uso de <code>async def</code> , y tambi√©n le permite olvidarse accidentalmente de escribir este argumento.  Una llamada aleatoria a un m√©todo sincr√≥nico cuando desea llamarlo de forma asincr√≥nica es peligroso. </p><br><p>  La soluci√≥n propuesta para la mayor√≠a de los lugares en la base de c√≥digo de Django es proporcionar un sufijo para los nombres de implementaciones as√≠ncronas de funciones, por ejemplo, <code>cache.get_async</code> adem√°s de <code>cache.get</code> s√≠ncrono.  Aunque esta es una soluci√≥n fea, hace que sea muy f√°cil detectar errores al ver el c√≥digo (debe usar <code>_async</code> con el m√©todo <code>_async</code> ). </p><br><h3 id="predstavleniya-i-obrabotka-http">  Vistas y manejo de HTTP </h3><br><p>  Las vistas son probablemente la piedra angular de la utilidad de la asincron√≠a, y esperamos que la mayor√≠a de los usuarios elijan entre c√≥digo asincr√≥nico y sincr√≥nico. </p><br><p>  Django admitir√° dos tipos de vistas: </p><br><ul><li>  Representaciones s√≠ncronas, definidas, como ahora, por una funci√≥n o clase s√≠ncrona con <code>__call__</code> s√≠ncrona </li><li>  Representaciones asincr√≥nicas definidas por una funci√≥n asincr√≥nica (que devuelve una rutina) o una clase con <code>__call__</code> asincr√≥nica. </li></ul><br><p>  Ser√°n manejados por <code>BaseHandler</code> , que verificar√° la vista recibida del <code>BaseHandler</code> de URL y la llamar√° en consecuencia.  El controlador base deber√≠a ser la primera parte de Django que se vuelva as√≠ncrono, y tendremos que modificar el controlador WSGI para llamarlo en su propio bucle de eventos usando <code>async_to_sync</code> . </p><br><p>  Las capas intermedias (middleware) o configuraciones como <code>ATOMIC_REQUESTS</code> , que envuelven las vistas en un c√≥digo seguro no as√≠ncrono (por ejemplo, el bloque <code>atomic()</code> ), continuar√°n funcionando, pero su velocidad se ver√° afectada (por ejemplo, la prohibici√≥n de llamadas ORM paralelas dentro de la vista con <code>atomic()</code> ) </p><br><p>  La clase <code>StreamingHttpResponse</code> existente se modificar√° para poder aceptar un iterador s√≠ncrono o as√≠ncrono, y luego su implementaci√≥n interna siempre ser√° as√≠ncrona.  De manera similar para <code>FileResponse</code> .  Dado que este es un posible punto de incompatibilidad hacia atr√°s para el c√≥digo de terceros que accede directamente a los objetos de respuesta, a√∫n debemos proporcionar un <code>__iter__</code> s√≠ncrono para el per√≠odo de transici√≥n. </p><br><p>  WSGI continuar√° siendo respaldado por Django indefinidamente, pero el controlador WSGI continuar√° ejecutando middleware asincr√≥nico y vistas en su propio bucle de eventos de una sola vez.  Es probable que esto conduzca a una ligera disminuci√≥n en el rendimiento, pero en los experimentos iniciales no tuvo demasiado impacto. </p><br><p>  Todas las funciones HTTP as√≠ncronas funcionar√°n dentro de WSGI, incluidas las respuestas de sondeo largo y lento, pero ser√°n tan ineficientes como lo son ahora, ocupando un hilo / proceso para cada conexi√≥n.  Los servidores ASGI ser√°n los √∫nicos que pueden soportar de manera eficiente muchas solicitudes concurrentes, as√≠ como tambi√©n manejar protocolos no HTTP, como WebSocket, para su uso por extensiones como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Canales</a> . </p><br><h3 id="promezhutochnye-sloi">  Capas intermedias </h3><br><p>  Mientras que la secci√≥n anterior se centr√≥ principalmente en la ruta de solicitud / respuesta, el middleware necesita una secci√≥n separada debido a la complejidad inherente a su dise√±o actual. </p><br><p>  Los middlewares de Django ahora se organizan en forma de una pila en la que cada middleware obtiene <code>get_response</code> para ejecutar el siguiente en orden middleware (o la vista del middleware m√°s bajo en la pila).  Sin embargo, necesitamos mantener una mezcla de middleware s√≠ncrono y as√≠ncrono para la compatibilidad con versiones anteriores, y estos dos tipos no podr√°n acceder entre s√≠ de forma nativa. </p><br><p>  Por lo tanto, para garantizar que el middleware funcione, tendremos que inicializar cada middleware con el marcador de posici√≥n get_response, que en su lugar devuelve el control al controlador y maneja tanto la transferencia de datos entre el middleware y la vista, como un lanzamiento de excepci√≥n.  En cierto modo, eventualmente se ver√° como un middleware de la era Django 1.0 desde un punto de vista interno, aunque, por supuesto, la API del usuario seguir√° siendo la misma. </p><br><p>  Podemos declarar obsoleto el middleware s√≠ncrono, pero recomiendo no hacerlo pronto.  Si llegamos al final del ciclo de su obsolescencia, podr√≠amos devolver la implementaci√≥n del middleware a un modelo de pila puramente recursivo, como lo es ahora. </p><br><h3 id="orm">  ORM </h3><br><p>  ORM es la parte m√°s grande de Django en t√©rminos de tama√±o de c√≥digo y la m√°s dif√≠cil de convertir a as√≠ncrona. </p><br><p>  Esto se debe en gran parte al hecho de que los controladores de base de datos subyacentes son s√≠ncronos por dise√±o, y el progreso ser√° lento hacia un conjunto de controladores de bases de datos as√≠ncronos maduros, estandarizados.  En cambio, debemos dise√±ar un futuro en el que los controladores de la base de datos sean inicialmente sincr√≥nicos, y sentar las bases para los contribuyentes que desarrollar√°n a√∫n m√°s los controladores asincr√≥nicos de forma iterativa. </p><br><p>  Los problemas con ORM se dividen en dos categor√≠as principales: subprocesos y bloqueo impl√≠cito. </p><br><h4 id="potoki">  Corrientes </h4><br><p>  El principal problema con ORM es que Django est√° dise√±ado alrededor de un √∫nico objeto de <code>connections</code> globales, que m√°gicamente le brinda la conexi√≥n correcta para su hilo actual. </p><br><p>  En un mundo asincr√≥nico, donde todas las rutinas funcionan en el mismo hilo, esto no solo es molesto, sino simplemente peligroso.  Sin ninguna seguridad adicional, un usuario que accede a un ORM como de costumbre corre el riesgo de romper los objetos de conexi√≥n al acceder desde varios lugares diferentes. </p><br><p>  Afortunadamente, los objetos de conexi√≥n son al menos port√°tiles entre subprocesos, aunque no se pueden llamar desde dos subprocesos al mismo tiempo.  Django ya se preocupa por la seguridad de subprocesos para los controladores de base de datos en el c√≥digo ORM, por lo que tenemos un lugar para cambiar su comportamiento para que funcione correctamente. </p><br><p>  Modificaremos el objeto de <code>connections</code> para que comprenda tanto las rutinas como los subprocesos, reutilizando parte del c√≥digo de <code>asgiref.local</code> , pero con la adici√≥n de l√≥gica adicional.  Las conexiones se compartir√°n en un c√≥digo as√≠ncrono y sincr√≥nico que se llama entre s√≠, con el contexto pasando por <code>sync_to_async</code> y <code>async_to_sync</code> , y el c√≥digo sincr√≥nico se ver√° obligado a ejecutarse secuencialmente en un hilo fijo, por lo que esto no funcionar√° Al mismo tiempo, romper la seguridad del hilo. </p><br><p>  Esto implica que necesitamos una soluci√≥n como un administrador de contexto para abrir y cerrar una conexi√≥n de base de datos, como <code>atomic()</code> .  Esto nos permitir√° proporcionar una llamada consistente e hilos fijos en este contexto y permitir√° a los usuarios crear m√∫ltiples contextos si desean abrir m√∫ltiples conexiones.  Tambi√©n nos brinda una forma potencial de deshacernos de las <code>connections</code> globales m√°gicas si queremos desarrollar esto m√°s. </p><br><p>  Por el momento, Django no tiene una gesti√≥n del ciclo de vida de la conexi√≥n que sea independiente de las se√±ales de la clase de controlador, y por lo tanto las usaremos para crear y borrar estos "contextos de conexi√≥n".  La documentaci√≥n tambi√©n se actualizar√° para aclarar c√≥mo manejar adecuadamente las conexiones fuera del ciclo de solicitud / respuesta;  Incluso en el c√≥digo actual, muchos usuarios no saben que ning√∫n equipo de gesti√≥n de larga data debe llamar peri√≥dicamente a <code>close_old_connections</code> para que funcione correctamente. </p><br><p>  La compatibilidad con versiones anteriores significa que debemos permitir a los usuarios acceder a las <code>connections</code> desde cualquier c√≥digo aleatorio en cualquier momento, pero solo permitiremos esto para el c√≥digo s√≠ncrono;  nos aseguraremos de que el c√≥digo est√© envuelto en un "contexto de conexi√≥n", si es as√≠ncrono, desde el primer d√≠a. </p><br><p>  Puede parecer que ser√≠a bueno agregar <code>transaction.atomic()</code> adem√°s de <code>transaction.atomic()</code> y requerir que el usuario ejecute todo el c√≥digo dentro de uno de ellos, pero esto puede generar confusi√≥n sobre lo que sucede si adjunta uno de ellos est√° dentro del otro. </p><br><p>  En cambio, sugiero crear un nuevo administrador de contexto <code>db.new_connections()</code> que habilite este comportamiento, y haga que cree una nueva conexi√≥n cada vez que se llame, y permita <code>atomic()</code> anidaci√≥n arbitraria <code>atomic()</code> dentro de √©l. </p><br><p>  Cada vez que <code>new_connections()</code> bloque <code>new_connections()</code> , Django establece un nuevo contexto con nuevas conexiones de base de datos.  Todas las transacciones que se realizaron fuera del bloque contin√∫an;  cualquier llamada ORM dentro del bloque funciona con una nueva conexi√≥n a la base de datos y ver√° la base de datos desde este punto de vista.  Si el aislamiento de transacciones est√° habilitado en la base de datos, como generalmente se hace de manera predeterminada, esto significa que las nuevas conexiones dentro del bloque pueden no ver los cambios realizados por cualquier transacci√≥n no confirmada fuera de √©l. </p><br><p>  Adem√°s, las conexiones dentro de este bloque <code>new_connections</code> pueden usar <code>atomic()</code> para desencadenar transacciones adicionales en estas nuevas conexiones.  Se permite cualquier anidamiento de estos dos administradores de contexto, pero cada vez que <code>new_connections</code> utiliza <code>new_connections</code> , las transacciones abiertas anteriormente se "suspenden" y no afectan las llamadas ORM hasta que se <code>new_connections</code> un nuevo bloque <code>new_connections</code> . </p><br><p>  Un ejemplo de c√≥mo podr√≠a verse esta API: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_authors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pattern)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Create a new context to call concurrently async with db.new_connections(): return [ author.name async for author in Authors.objects.filter(name__icontains=pattern) ] async def get_books(pattern): # Create a new context to call concurrently async with db.new_connections(): return [ book.title async for book in Book.objects.filter(name__icontains=pattern) ] async def my_view(request): # Query authors and books concurrently task_authors = asyncio.create_task(get_authors("an")) task_books = asyncio.create_task(get_books("di")) return render( request, "template.html", { "books": await task_books, "authors": await task_authors, }, )</span></span></code> </pre> <br><p>  Esto es algo detallado, pero el objetivo tambi√©n es agregar accesos directos de alto nivel para habilitar este comportamiento (y tambi√©n cubrir la transici√≥n de <code>asyncio.ensure_future</code> en Python 3.6 a <code>asyncio.create_task</code> en 3.7). </p><br><p>  Al usar este administrador de contexto y las transmisiones fijas dentro del mismo contexto de conexi√≥n, garantizamos que todo el c√≥digo ser√° lo m√°s seguro posible por defecto.  existe la posibilidad de que el usuario pueda usar la conexi√≥n en un hilo para dos partes diferentes de la solicitud usando el <code>yield</code> , pero esto <code>yield</code> es posible ahora. </p><br><h4 id="neyavnye-blokirovki">  Cerraduras impl√≠citas </h4><br><p>  Otro problema del dise√±o ORM actual es que las operaciones de bloqueo (relacionadas con la red), en particular los campos relacionados con la lectura, se encuentran en las instancias del modelo. </p><br><p>  Si toma una instancia de modelo y luego accede a <code>model_instance.related_field</code> , Django cargar√° de forma transparente el contenido del modelo asociado y se lo devolver√°.  Sin embargo, esto no es posible en el c√≥digo asincr√≥nico: el c√≥digo de bloqueo no debe ejecutarse en el hilo principal y no hay acceso asincr√≥nico a los atributos. </p><br><p>  Afortunadamente, Django ya tiene una manera de salir de esto: <code>select_related</code> , que carga los campos relacionados por adelantado, y <code>prefetch_related</code> para relaciones de muchos a muchos.  Si usa ORM de forma asincr√≥nica, prohibiremos cualquier operaci√≥n de bloqueo impl√≠cito, como el acceso en segundo plano a los atributos, y en su lugar, devolver√° un error que indica que primero debe recuperar el campo. </p><br><p>  Esto tiene el beneficio adicional de evitar el c√≥digo lento que ejecuta N solicitudes en un bucle <code>for</code> , que es un error com√∫n de muchos programadores nuevos de Django.  Esto aumenta la barrera de entrada, pero recuerde que Django as√≠ncrono ser√° opcional: los usuarios a√∫n podr√°n escribir c√≥digo sincr√≥nico si lo desean (y esto se fomentar√° en el tutorial, ya que el c√≥digo sincr√≥nico es mucho m√°s dif√≠cil de cometer errores). </p><br><p>  <code>QuerySet</code> , afortunadamente, puede implementar f√°cilmente generadores as√≠ncronos y admitir de forma transparente tanto la sincronizaci√≥n como la asincron√≠a: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request)</span></span></span><span class="hljs-function">:</span></span> data = [] <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> user <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> User.objects.all(): data.append(<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> extract_important_info(user)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> render(<span class="hljs-string"><span class="hljs-string">"template.html"</span></span>, data)</code> </pre> <br><h4 id="drugoe">  Otros </h4><br><p>  Las partes de ORM asociadas con cambios de esquema no ser√°n asincr√≥nicas;  deben ser llamados solo de los equipos gerenciales.  Algunos proyectos ya los llaman en presentaciones, pero de todos modos esta no es una buena idea. </p><br><h3 id="shablony">  Patrones </h3><br><p>  Las plantillas ahora son completamente sincr√≥nicas, y el plan es dejarlas as√≠ en el primer paso.     ,      ,     DEP. </p><br><p>  ,  Jinja2   ,              . </p><br><p>  ,         Django     ,       .  Jinja2       ,    ,        ,    . </p><br><p>       ,     <code>render_async</code> ,   <code>render</code> ;      ,   ,        . </p><br><h3 id="keshirovanie">  </h3><br><p>    Django      ‚Äî     <code>_async</code> -  (, <code>get_async</code> , <code>set_async</code> ). </p><br><p>   ,       API  <code>sync_to_async</code> ,    <code>BaseCache</code> . </p><br><p> ,     thread-safety   API ,   Django,        ,       .    ,     ORM, ,      . </p><br><h3 id="formy">  </h3><br><p>         ,        ,    ,     <code>ModelForm</code>  ORM     . </p><br><p>  ,   -   <code>clean</code>  <code>save</code> ,  ,   . ,      ,  ,                         DEP. </p><br><h3 id="email">  Correo electr√≥nico </h3><br><p>         Django,      .    <code>send_mail_async</code>  <code>send_mail</code> ,   <code>async</code> -        (, <code>mail_admins</code> ). </p><br><p>         Django  ,    -  SMTP,     .  , ,      ,      ,   . </p><br><h3 id="testirovanie">  Prueba </h3><br><p>     ,      Django  . </p><br><p>     ASGI-     <code>asgiref.testing.ApplicationCommunicator</code> .             assert'  . </p><br><p>    Django        ,    ,      .  ,      ‚Äî     ,    ,        HTTP    event loop,    WSGI. </p><br><p>                .  ,      ,      . </p><br><p>   ,     ,      .       <code>async def</code>    <code>@async_to_sync</code> ,       , ,    Django test runner. </p><br><p>        asyncio (   loop'  ,    )   , , ,   <code>DEBUG=True</code> .          ‚Äî   ,       ,       . </p><br><h3 id="websockets"> WebSockets </h3><br><p>       Django;      ,   Channels   ,        ASGI,      . </p><br><p>    ,         Channels,        ,     ASGI. </p><br><h3 id="poryadok-deystviy">   </h3><br><p>      ,     ,   .       ,          . </p><br><p>   ,                .         ,       ‚Äî         . </p><br><p>  ,      ,              .    ,   ORM,       ,  ,          . </p><br><p>   : </p><br><ul><li><p>   (  3.0) </p><br><ul><li>  HTTP,     (    ) </li><li>  async       ORM </li><li>    </li></ul><br></li><li><p>   (  3.1) </p><br><ul><li> ORM (     ) </li><li>  (     ) </li><li>  (     ) </li></ul><br></li><li><p>    </p><br><ul><li> ORM (       ) </li><li>  (    ) </li><li>  Correo electr√≥nico </li><li>  </li></ul><br></li></ul><br><p>          ;      ,    .     ,   ,       , ,            . </p><br><p>   ,      -   ;            ,     ,        .    ,      ,  Django,     Django  async-only . </p><br><p>    ,  ,    DEP  ,   , , email  .         DBAPI ‚Äî  ,        core Python , , PEP,         . </p><br><h2 id="motivaciya">  </h2><br><p>     ,  , ,    .   Django      ,   -       ,    -;             . </p><br><p>          ,      - .         ,   ‚Äî  ,       ,       . </p><br><p>          Python ‚Äî   . -  Python       ,     ,       . </p><br><p>  Python            <code>asyncio</code> ,       ,         .     ,     ,     ,  ,      Django-size   . </p><br><h3 id="chto-eto-dayot">    </h3><br><p>       Django,     ¬´¬ª;    ,    ,      ‚Äî ,      Django ‚Äî     . </p><br><p>     ,       .      ,    API     ,   Django      -   . </p><br><p>      ,      ,  Django     .             ,    Django ORM ,     ,    ,      -. </p><br><p>  ,   , ‚Äî             .    -   long-poll   server-sent events.  Django          ,    -      . </p><br><h3 id="sinhronnost-vsyo-eschyo-imeet-znachenie">      </h3><br><p>     <em></em>    Django;         .   ,  ,             ,          . </p><br><p> Django          ,    .    ;  Django-   ,         ,  ,     ,     ,     . </p><br><p>      ,       --  Django      . </p><br><h3 id="obratnaya-sovmestimost">   </h3><br><p>  ,    .      ¬´ Django¬ª,       ;     ,        ,          . </p><br><p>  ,      ,     ,        ,    API Django,      ,      ,    Python 3,        API,        Django  Python. </p><br><h3 id="pomosch-python">  Python </h3><br><p> Python     .           Python,  ,    ,     . </p><br><p>   , Django ‚Äî   - Python   ‚Äî   ,    Python,        Python   .      ,       ,    ,        . </p><br><h3 id="privlechenie-novyh-uchastnikov">    </h3><br><p>      ,   Django,              .   ,  Django   ,       . </p><br><p>                   ‚Äî  ,  ,    ,   ,        . </p><br><p>  ,      ‚Äî      ,   , ‚Äî               Django (     ,       Python  ). </p><br><h3 id="chto-takoe-django">   Django? </h3><br><p>      ,   Django.   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lawrence Journal-World</a>    ‚Äî    ,  , SPA ‚Äî  , ,    .  , ,   ,     ,     . </p><br><p>    ,   Django   ,   - ,    ‚Äî        ‚Äî     . , ,        ; ,     Django    , . </p><br><p>   ,     Django     .     ,       .    ,         ,    ,    ‚Äî ,        ,   . </p><br><h2 id="obosnovanie">  </h2><br><p>    Django       django-developers   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>    ,        ,  ,   ,   DEP. </p><br><p>      , ,   ,      : </p><br><ul><li> :       master-        Django    . </li><li>  :     Django    ,    ,    ,     ,      Django       . </li><li> :    ,    ,      Django,   ,  Django.     ,   ,   ,      ,  . </li></ul><br><p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Channels</a>          DEP ;        Django      ,  . </p><br><p>   ,   ,     .  DEP    ,   ,       ‚Äî      Django           . </p><br><p>                 .     Django, ,     ,    WSGI    ,    event loop     ,      .         10%   ‚Äî     ,      .     ,      . </p><br><p>     ,  ,      (-  ,   Python    ).    ,     Django      ;     ,   ,     ,   Django   master-    . </p><br><p>  ,           ( ORM,    ..),      ;                 Python. </p><br><p>        ,      ,        Django,     ¬´¬ª  .   ,      ,              ,  ,     . </p><br><h3 id="alternativy">  Alternativas </h3><br><p>       ,   ,  , . </p><br><h4 id="asinhronnye-moduli-vmesto-_async-funkciy">    _async  </h4><br><p>        ,    ,     (, <code>django.core.cache.cache.get_async</code> ),               : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.core.cache_async <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cache cache.get(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>)</code> </pre> <br><p>   ,           ;   ,    ,        . </p><br><p>   ,    ,      ;       . </p><br><h4 id="fork-django">  Django </h4><br><p> -   ,      ;  ,        ,       ,       ‚Äî  . </p><br><p>           ,   ,     , ‚Äî   ,      . </p><br><h4 id="rasshirenie-channels">  Channels </h4><br><p>    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Channels</a>      , ¬´¬ª  Django. ,     -     ,  ,         Django;      ORM,   HTTP/middleware flow    . </p><br><h4 id="ne-asyncio">  asyncio </h4><br><p>      event loop'  Python,   <code>asyncio</code>          ,   Django.   <code>await</code>  <code>async</code>  Python     event loop   . </p><br><p>   ,   <code>asyncio</code> ,     ; Django     ,        ,   .         Django        ;    , ,      async runtime,    ,    . </p><br><h4 id="greenletsgevent"> Greenlets/Gevent </h4><br><p>       Gevent,      ,      Python. </p><br><p>        ,       .   <code>yield</code>  <code>await</code> ,   API,    Django,       ,         .               ,     . </p><br><p>   ,      ,  ,     .      greenlet-safe   Django ORM   -   new-connection-context,  . </p><br><p>  ,      .   Django     ¬´ ¬ª    gevent, , ,      ,   . </p><br><h2 id="finansirovanie">  </h2><br><p>             DEP. </p><br><p>   ,        ‚Äî        , ‚Äî     ,             (   ). </p><br><p>  ,       ,  -           .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Django Fellows</a>  ;     ‚Äî   ,           (  ), ,   ,  - . </p><br><p>       ‚Äî ,   Kickstarter  <code>migrations</code>  <code>contrib.postgres</code> ,    MOSS (Mozilla)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Channels</a> .   ,   Django,  ,          . </p><br><p>     , <em></em>     .  ‚Äî      Python,    Django ‚Äî    ‚Äî       .        ,     Django/async,        . </p><br><p>                HTTP/middleware/view flow,     ,  ,  ,      ¬´ ¬ª,      . </p><br><p>     ,     ,     ,            (   ,  Fellows, /     ,     Channels,       ,   ),   ,       . </p><br><p>         ,         ,   ,        ,       Django,      . </p><br><h2 id="obratnaya-sovmestimost-1">   </h2><br><p> , ,   ,       ,            API. </p><br><p>   , ,        ,  , HTTP/middleware flow. ,    API,       APM,     . </p><br><p>  ,  ,   Django     ,     ,      .  ,   ORM  , ,   ‚Äî      ,  ORM             . </p><br><h2 id="etalonnaya-realizaciya">   </h2><br><p>  DEP  ,    ;       Django      . </p><br><p>   ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asgiref</a> ,       ,         .      Django         Django. </p><br><p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Channels</a> ,         Django,          Django. </p><br><h2 id="avtorskie-prava">   </h2><br><p>   <em>(  )</em>       <a href="">CC0 1.0 Universal</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461493/">https://habr.com/ru/post/461493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461471/index.html">.NET - Herramientas para trabajar con subprocesos m√∫ltiples y asincron√≠a - Parte 2</a></li>
<li><a href="../461473/index.html">Algoritmos de depuraci√≥n en gr√°ficos, ahora con im√°genes</a></li>
<li><a href="../461475/index.html">AMA con Habr.1011</a></li>
<li><a href="../461483/index.html">Balanceo de carga de OpenStack</a></li>
<li><a href="../461487/index.html">Mini CTF Tasks</a></li>
<li><a href="../461497/index.html">Representaci√≥n de texto moderna en Linux: parte 1</a></li>
<li><a href="../461499/index.html">En qu√© idiomas traducir tu juego en 2019</a></li>
<li><a href="../461501/index.html">¬øPor qu√© en los Estados Unidos est√°n investigando el trabajo de grandes empresas de TI?</a></li>
<li><a href="../461503/index.html">Hacer que la base de datos est√© disponible para conexi√≥n remota</a></li>
<li><a href="../461505/index.html">8 errores de desarrolladores JavaScript novatos que te impiden convertirte en un profesional</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>