<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–¥ï¸ ğŸ‘£ ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ» Tom Hunter Diary: The Hound of the Baskervilles ğŸ§—ğŸ½ ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ â˜£ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penundaan dengan penandatanganan adalah hal yang umum bagi perusahaan besar mana pun. Pengecualian bukan perjanjian antara Tom Hunter dan satu toko he...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tom Hunter Diary: The Hound of the Baskervilles</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tomhunter/blog/467199/">  Penundaan dengan penandatanganan adalah hal yang umum bagi perusahaan besar mana pun.  Pengecualian bukan perjanjian antara Tom Hunter dan satu toko hewan peliharaan online untuk pentesting menyeluruh.  Kami harus memeriksa situs, dan jaringan internal, dan bahkan bekerja Wi-Fi. <br><br>  Tidak mengherankan bahwa tangan disisir sebelum semua formalitas diselesaikan.  Nah, hanya memindai situs untuk berjaga-jaga, tidak mungkin bahwa toko terkenal seperti "Anjing Baskervilov" akan membuat kesalahan di sini.  Setelah beberapa hari, Tom tetap memberikan kontrak asli yang ditandatangani - pada saat ini, di belakang secangkir kopi ketiga, Tom dari CMS internal menilai dengan menarik kondisi gudang ... <br><br><img src="https://habrastorage.org/webt/y0/bf/ef/y0bfefcwg_2j0dk3qexegw3isxg.jpeg">  <i>Sumber: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ehsan Taebloo</a></i> <br><a name="habracut"></a><br>  Tapi itu tidak mungkin untuk dikelola terutama dalam CMS - administrator situs melarang IP Tom Hunter.  Meskipun dimungkinkan untuk menghasilkan bonus pada kartu toko dan memberi makan kucing kesayangan dengan harga murah selama berbulan-bulan ... "Tidak kali ini, Darth Sidious," pikir Tom sambil tersenyum.  Tidak kurang menyenangkan untuk pergi dari zona situs web ke jaringan lokal pelanggan, tetapi tampaknya segmen ini tidak terhubung dengan klien.  Namun, ini lebih sering terjadi di perusahaan yang sangat besar. <br><br>  Setelah semua formalitas, Tom Hunter mempersenjatai diri dengan akun VPN yang disediakan dan pergi ke jaringan lokal pelanggan.  Akun itu ada di dalam domain Active Directory, jadi dimungkinkan untuk mengambil dan tanpa trik untuk membuang AD - untuk menggabungkan semua informasi publik tentang pengguna dan mesin yang berfungsi. <br><br>  Tom meluncurkan utilitas adfind dan mulai mengirim permintaan LDAP ke pengontrol domain.  Dengan filter menurut objek kelas, menentukan orang sebagai atribut.  Jawabannya kembali ke sini dengan struktur ini: <br><br><pre><code class="plaintext hljs">dn:CN=,CN=Users,DC=domain,DC=local &gt;objectClass: top &gt;objectClass: person &gt;objectClass: organizationalPerson &gt;objectClass: user &gt;cn:  &gt;description:           &gt;distinguishedName: CN=,CN=Users,DC=domain,DC=local &gt;instanceType: 4 &gt;whenCreated: 20120228104456.0Z &gt;whenChanged: 20120228104456.0Z</code> </pre> <br>  Selain itu, masih ada banyak informasi berguna, tetapi yang paling menarik adalah di&gt; deskripsi:&gt; bidang deskripsi.  Komentar akun ini pada prinsipnya adalah tempat yang nyaman untuk menyimpan catatan kecil.  Tetapi administrator klien menganggap bahwa kata sandi juga dapat beristirahat dengan tenang di sini.  Lagipula, siapa yang mungkin tertarik dengan semua catatan layanan minor ini?  Karenanya, komentar yang diterima Tom tampak seperti: <br><br><pre> <code class="plaintext hljs"> , 2018.11.16 7po!*Vqn</code> </pre> <br>  Anda tidak perlu menjadi tujuh bentang di dahi untuk memahami mengapa kombinasi ini berguna di akhir.  Tetap mem-parsing file respons besar dari CD dengan bidang&gt; deskripsi: dan di sini mereka - 20 pasang kata sandi masuk.  Dan hampir setengahnya memiliki hak akses RDP.  Pijakan yang bagus, saatnya untuk memecah pasukan penyerang. <br><br><h2>  Lingkungan jaringan </h2><br>  Bola-bola Baskerville Dogs yang dapat diakses menyerupai kota besar dalam semua kekacauan dan ketidakpastiannya.  Dengan profil pengguna dan RDP, Tom Hunter adalah bocah miskin di kota ini, tetapi bahkan ia berhasil melihat banyak hal melalui jendela kebijakan keamanan yang bersinar. <br><br>  Bagian dari server file, akun akuntansi, dan bahkan skrip yang terkait dengannya - semua ini dibagikan.  Dalam pengaturan salah satu skrip ini, Tom menemukan hash MS SQL dari satu pengguna.  Sedikit sihir kasar - dan hash pengguna berubah menjadi kata sandi teks biasa.  Terima kasih kepada John The Ripper dan Hashcat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/475/884/6c0/4758846c0301c7914bc41c33ad92efba.png"><br><br>  Kunci ini seharusnya datang ke peti.  Peti itu ditemukan, dan lebih dari itu, sepuluh â€œpetiâ€ lainnya terhubung dengannya.  Dan di dalam enam lay ... hak pengguna super, bukan otoritas \ sistem!  Pada dua, saya berhasil menjalankan prosedur tersimpan xp_cmdshell dan mengirim perintah cmd ke Windows.  Apa lagi yang Anda inginkan? <br><br><h2>  Pengontrol domain </h2><br>  Tom Hunter telah menyiapkan pukulan kedua untuk pengontrol domain.  Ada tiga dari mereka di jaringan Baskerville Dogs, sesuai dengan jumlah server yang jauh secara geografis.  Setiap pengontrol domain memiliki folder publik, seperti etalase terbuka di sebuah toko, di sebelahnya anak laki-laki miskin yang sama itu berkeliaran. <br><br>  Dan kali ini lelaki itu beruntung lagi - mereka lupa menghapus skrip dari jendela di mana kata sandi admin server lokal di-hardcode.  Jadi jalur ke pengontrol domain terbuka.  Masuk, Tom! <br><br>  Di sini, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mimikatz</a> diekstraksi dari topi ajaib, yang menguntungkan oleh beberapa administrator domain.  Tom Hunter mendapat akses ke semua mesin di jaringan lokal, dan tawa jahat menakuti kucing dari kursi terdekat.  Jalur ini lebih pendek dari yang diharapkan. <br><br><h2>  Eternalblue </h2><br>  Ingatan WannaCry dan Petya masih hidup di benak para pentester, tetapi beberapa admin tampaknya telah melupakan kriptografer dalam arus berita malam lainnya.  Tom menemukan tiga node dengan kerentanan dalam protokol SMB - CVE-2017-0144 atau EternalBlue.  Ini adalah kerentanan yang sama dengan bantuan ransomware WannaCry dan Petya, kerentanan yang memungkinkan kode arbitrer dijalankan di host.  Di salah satu node yang rentan ada sesi admin domain - "exploit and get."  Apa yang bisa Anda lakukan, waktu belum mengajar semua orang. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/090/a04/c4d/090a04c4d07cd5a393972031e33776b3.png"><br><br><h2>  Anjing Basterville </h2><br>  Informasi keamanan klasik suka mengulangi bahwa titik terlemah dari sistem apa pun adalah seseorang.  Perhatikan bahwa judul di atas tidak cocok dengan nama toko?  Mungkin tidak semua orang sangat berhati-hati. <br><br>  Dalam tradisi terbaik film laris phising, Tom Hunter telah mendaftarkan domain satu huruf berbeda dari domain Baskerville Dogs.  Alamat surat pada domain ini mensimulasikan alamat layanan keamanan informasi toko.  Dalam 4 hari mulai pukul 4:00 hingga 5:00, pesan seperti ini dikirim secara merata ke 360 â€‹â€‹alamat dari alamat palsu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/135/744/e45/135744e454ee0075f4745eee7906fdbc.png"><br><br>  Mungkin, hanya kemalasan mereka sendiri yang menyelamatkan karyawan dari pembuangan massal kata sandi.  Dari 360 surat, hanya 61 yang dibuka - layanan keamanan tidak terlalu populer.  Tapi kemudian itu lebih mudah. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54a/d2f/c25/54ad2fc254381272cac2dcaefb743cf1.png"><br>  <i>Halaman phishing</i> <br><br>  46 orang mengklik tautan dan hampir setengahnya - 21 karyawan - tidak melihat ke bilah alamat dan dengan tenang memasukkan nama pengguna dan kata sandi mereka.  Tangkapan yang bagus, Tom. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ef/c17/e88/3efc17e88dd9a32689c7f6a679118f43.jpg"><br><br><h2>  Jaringan Wi-Fi </h2><br>  Sekarang saya tidak harus bergantung pada bantuan kucing.  Tom Hunter melemparkan beberapa potong besi ke dalam sedan tuanya dan menuju ke kantor Anjing Baskerville.  Kunjungannya tidak disetujui: Tom akan menguji Wi-Fi pelanggan.  Di tempat parkir pusat bisnis, ada beberapa tempat gratis yang berhasil memasuki batas jaringan target.  Tampaknya, mereka tidak secara khusus memikirkan batasannya - seolah-olah administrator secara acak menyodok titik-titik tambahan sebagai tanggapan atas keluhan tentang Wi-Fi yang lemah. <br><br>  Bagaimana cara kerja perlindungan WPA / WPA2 PSK?  Enkripsi antara titik akses dan klien menyediakan kunci pra-sesi - Pairwise Transient Key (PTK).  PTK menggunakan Kunci Sebelumnya dan lima parameter lainnya - SSID, Authenticator Nounce (ANounce), Supplicant Nounce (SNounce), alamat MAC dari titik akses dan klien.  Tom memotong semua lima parameter, dan sekarang hanya Kunci Pra-Berbagi yang hilang. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/793/240/7a8/7932407a8089981039a332bfb1d97bf6.png"><br><br>  Utilitas Hashcat mendapatkan tautan yang hilang ini dalam waktu sekitar 50 menit - dan pahlawan kami menemukan dirinya di jaringan tamu.  Di lingkungan Anda dapat melihat jaringan kerja perusahaan - cukup aneh, di sini Tom mengelola kata sandi selama sekitar sembilan menit.  Dan semua ini tanpa meninggalkan tempat parkir, tanpa VPN.  Jaringan kerja membuka ruang terbuka pahlawan kami untuk aktivitas mengerikan, tapi dia ... tidak melempar bonus pada kartu toko. <br><br>  <i>Tom berhenti, melihat arlojinya, melemparkan beberapa uang kertas ke atas meja dan, pamit, meninggalkan kafe.</i>  <i>Mungkin lagi pentest, atau mungkin saya memikirkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">saluran telegram</a> ...</i> <i><br></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id467199/">https://habr.com/ru/post/id467199/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id467187/index.html">Buat perpustakaan teknologi terbaru</a></li>
<li><a href="../id467189/index.html">Sampling suhu</a></li>
<li><a href="../id467191/index.html">Bagaimana kami membuat Vivaldi untuk Android</a></li>
<li><a href="../id467193/index.html">Virus penambang dengan "Gerbang Surga"</a></li>
<li><a href="../id467197/index.html">Bagaimana polimorfisme diimplementasikan di dalam JVM</a></li>
<li><a href="../id467201/index.html">Eksperimen CacheBrowser: Memotong Firewall Cina tanpa Proxy Menggunakan Caching Konten</a></li>
<li><a href="../id467203/index.html">Hanya divisi, atau cara membuat teori matematika dan dapatkan $ 400K di atasnya. Seri dua, kedua dari belakang</a></li>
<li><a href="../id467205/index.html">Kami mengembangkan aplikasi yang mengirim data ke aplikasi lain (aplikasi ekosistem)</a></li>
<li><a href="../id467207/index.html">Lima bahasa pemrograman yang menjanjikan dengan masa depan yang cerah (3 tahun kemudian)</a></li>
<li><a href="../id467209/index.html">"Agen Otonomi" atau jalankan kode di Obyektif cryptoplatform terbuka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>