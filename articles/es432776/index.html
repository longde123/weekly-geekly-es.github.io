<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèΩ ü•ä üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® El libro "Reaccionar en acci√≥n" üó°Ô∏è üîé üï≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola habrozhiteli! El libro React in Action presenta a los desarrolladores front-end el marco React y las herramientas relacionadas. Primero, se famil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El libro "Reaccionar en acci√≥n"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/432776/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/dc/as/pk/dcaspkjc1kqcmr00dn0chq88re4.jpeg" align="left" alt="imagen"></a>  Hola habrozhiteli!  El libro React in Action presenta a los desarrolladores front-end el marco React y las herramientas relacionadas.  Primero, se familiarizar√° con la biblioteca React, luego actualizar√° el material sobre algunas ideas fundamentales en este contexto y aprender√° a trabajar con componentes.  En la pr√°ctica, dominar√° React puro (sin transpilaci√≥n, sin ayudantes de sintaxis), pasar√° de los componentes est√°ticos m√°s simples a los din√°micos e interactivos. <br><br>  La segunda mitad del libro discute varias formas de interactuar con React.  Aprender√° los m√©todos b√°sicos del ciclo de vida, aprender√° c√≥mo crear un flujo de datos, formularios y tambi√©n probar aplicaciones.  Para empezar, encontrar√° material sobre la arquitectura de la aplicaci√≥n React, la interacci√≥n con Redux, una excursi√≥n al renderizado del servidor y una revisi√≥n de React Native. <br><a name="habracut"></a><br><h3>  Extracto  Cap√≠tulo 11. Integrando Redux y React </h3><br><ul><li>  Los reductores son una forma para que Redux determine c√≥mo deber√≠a cambiar el estado. </li><li>  Usando Redux con React. </li><li>  Conversi√≥n de Letters Social para usar la arquitectura de la aplicaci√≥n Redux. </li><li>  Agregar me gusta y comentarios a la aplicaci√≥n. </li></ul><br>  Aqu√≠ contin√∫a el trabajo que hizo en el cap√≠tulo anterior para crear los elementos b√°sicos de la arquitectura Redux.  Trabajar√° en la integraci√≥n de React con acciones y repositorios de Redux y aprender√° c√≥mo funcionan los reductores.  Redux es una variante de la plantilla Flux dise√±ada con React en mente; funciona bien con el flujo de datos unidireccional y la API React.  Aunque esta no es una opci√≥n universal, muchas grandes aplicaciones de React ven a Redux como una de las mejores opciones para implementar una soluci√≥n de administraci√≥n de estado.  Siga su ejemplo y apl√≠quelo a Letters Social. <br><br><blockquote>  Obteniendo el c√≥digo fuente <br><br>  Como antes, puede obtener el c√≥digo fuente de los ejemplos de este cap√≠tulo yendo al repositorio de GitHub en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github.com/react-in-action/letters-social</a> .  Si planea comenzar a trabajar aqu√≠ solo desde cero, tome el c√≥digo fuente de los ejemplos de los cap√≠tulos 7 y 8 (si los estudi√≥ y complet√≥ los ejemplos usted mismo) o consulte la rama relacionada con este cap√≠tulo (cap√≠tulo 10-11). <br><br>  Recuerde que cada rama contiene el c√≥digo final del cap√≠tulo (por ejemplo, el cap√≠tulo 10-11 contiene el c√≥digo obtenido al final de los cap√≠tulos 10 y 11).  Puede ejecutar uno de los siguientes comandos de su elecci√≥n en el shell de la l√≠nea de comandos para obtener el c√≥digo de muestra del cap√≠tulo actual.  Si no hay ning√∫n repositorio, ejecute el comando: <br><br><pre><code class="plaintext hljs">git clone git@github.com:react-in-action/letters-social.git</code> </pre> <br>  Si ya ha clonado el repositorio, entonces lo siguiente: <br><br><pre> <code class="plaintext hljs">git checkout chapter-10-11</code> </pre> <br>  Quiz√°s te mudaste aqu√≠ de otro cap√≠tulo, por lo que vale la pena verificar si tienes todas las dependencias necesarias instaladas usando el comando: <br><br><pre> <code class="plaintext hljs">npm install</code> </pre> </blockquote><h3>  11.1  Las cajas de cambios determinan c√≥mo deber√≠a cambiar el estado </h3><br>  Puede crear y enviar acciones y manejar errores, pero no afectan el estado de ninguna manera.  Para manejar las acciones entrantes, las cajas de cambios deben estar configuradas.  Recuerde que las acciones son simplemente formas de informar que se ha producido un evento, y proporcionar algo de informaci√≥n sobre lo que sucedi√≥, nada m√°s.  La tarea de los reductores es indicar c√≥mo cambiar√° el estado de la tienda en respuesta a estas acciones.  En la fig.  11.1 muestra c√≥mo las cajas de cambios encajan en la imagen m√°s general de Redux que ya hemos visto. <br><br>  ¬øPero qu√© son las cajas de cambios?  Si a√∫n disfrutaba de la simplicidad de Redux, no se sentir√° decepcionado: estas son solo funciones simples que tienen un prop√≥sito.  Las cajas de cambios son funciones puras que toman el estado y la acci√≥n anteriores como argumentos y devuelven el siguiente estado.  De acuerdo con la documentaci√≥n de Redux, se denominan reductores porque su firma de m√©todo parece datos pasados ‚Äã‚Äãa Array.prototype.reduce (por ejemplo, [1,2,3] .reduce ((a, b) =&gt; a + b, 0). <br><br>  Las cajas de engranajes deben ser funciones puras, lo que significa que, dada la entrada, cada vez producir√°n la misma salida correspondiente.  Esto contrasta con acciones o middleware donde se generan efectos secundarios y a menudo ocurren llamadas a la API.  Hacer algo as√≠ncrono o impuro (por ejemplo, llamar a Date.now o Math.random ()) en reductores es un antipatr√≥n que puede degradar el rendimiento o la confiabilidad de la aplicaci√≥n.  Los documentos de Redux contienen esta cl√°usula: ‚ÄúHabiendo recibido los mismos argumentos, debe calcular el siguiente estado y devolverlo.  Sin sorpresas  Sin efectos secundarios.  No hay llamadas de API.  No hay cambio  Solo un c√°lculo.  Vea <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">redux.js.org/basics/reducers</a> para m√°s informaci√≥n sobre esto. <br><br><h3>  11.1.1.  Forma de estado y estado inicial </h3><br>  Los reductores comenzar√°n a trabajar para cambiar la √∫nica tienda Redux, por lo que es hora de hablar sobre la forma que tomar√° la tienda.  El dise√±o de la forma de estado de cualquier aplicaci√≥n afectar√° la forma en que funciona la interfaz de usuario de la aplicaci√≥n (y al mismo tiempo est√° influenciada por este trabajo), pero como regla general, se recomienda almacenar los datos sin procesar lo m√°s separados posible de los datos de la interfaz de usuario.  Una forma de hacerlo es almacenar valores como identificadores por separado de sus datos y usar identificadores para buscar datos. <br><br>  Crear√° un archivo de estado inicial que ayuda a determinar la forma y la estructura del estado.  En la carpeta de constantes, cree un archivo llamado initialState.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9_/xo/-i/9_xo-ihhbkijigv-tkimq5v4z0k.png" alt="imagen"></div><br>  Este es el estado de la aplicaci√≥n Redux antes de enviar cualquier acci√≥n o realizar cambios.  Ingresar√° informaci√≥n sobre errores y estados de descarga, as√≠ como informaci√≥n sobre mensajes, comentarios y el usuario.  Almacenar√° identificadores para comentarios y mensajes en matrices e informaci√≥n b√°sica para ellos en objetos que son f√°ciles de consultar.  El listado 11.1 muestra un ejemplo de configuraci√≥n de estado inicial. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1t/hj/bo/1thjbovesdl-dhfyj9tplv0fe30.png" alt="imagen"></div><br><h3>  11.1.2.  Configurar cajas de cambios para responder a las acciones entrantes </h3><br>  Al configurar el estado inicial, debe crear varios reductores para manejar las acciones entrantes para que el repositorio pueda actualizarse.  Las cajas de cambios generalmente usan la instrucci√≥n switch para actualizar el estado de acuerdo con el tipo de acci√≥n entrante.  Devuelven una nueva copia del estado (no la misma versi√≥n con los cambios), que luego se utilizar√° para actualizar el repositorio.  Las cajas de cambios tambi√©n siguen el principio general para garantizar que las acciones desconocidas simplemente vuelvan a su estado actual.  Ya lo he notado, pero es importante decir una vez m√°s que las cajas de engranajes realizan c√°lculos y deben devolver el mismo resultado cada vez en funci√≥n de una entrada dada: no debe haber efectos secundarios o procesos oscuros. <br><br>  Las cajas de cambios son responsables de calcular c√≥mo deber√≠a cambiar el almacenamiento.  En la mayor√≠a de las aplicaciones, tendr√° muchos reductores, cada uno de los cuales es responsable de parte del almacenamiento.  Esto ayuda a mantener los archivos concisos y enfocados.  Al final, utilizar√° el m√©todo combineReducers disponible en Redux para combinar reductores en uno.  La mayor√≠a de los reductores usan una declaraci√≥n de cambio con casos para diferentes tipos de acciones y un comando general para todo lo dem√°s para garantizar que los tipos desconocidos de acciones (probablemente creados por casualidad, si los hay) no afectar√°n el estado. <br><br>  Los reductores tambi√©n hacen copias del estado y no modifican directamente el estado existente del repositorio.  Si nos fijamos en la fig.  11.1, ver√° que las cajas de engranajes usan el estado cuando hacen su trabajo.  Este enfoque es similar al funcionamiento de las estructuras de datos inmutables: en lugar de cambios directos, se crean copias modificadas.  El listado 11.2 muestra c√≥mo configurar el reductor de carga.  Tenga en cuenta que en este caso se trata de una porci√≥n plana del estado: la carga de la propiedad booleana, por lo que solo debe devolver verdadero o falso para el nuevo estado.  A menudo trabajar√° con un objeto de estado que tiene muchas claves o propiedades adjuntas, en cuyo caso el reductor tendr√° que hacer algo m√°s que devolver verdadero o falso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/ue/bk/ueuebkeavkxwjiiajp5fqwx-mlw.png" alt="imagen"></div><br>  Ahora que se env√≠a la acci√≥n de descarga, el repositorio de Redux podr√° hacer algo con ella.  Cuando llega una acci√≥n y pasa a trav√©s de cualquier middleware existente, Redux usa reductores para determinar qu√© nuevo estado debe crearse a partir de la acci√≥n.  El repositorio no ten√≠a forma de encontrar la informaci√≥n de cambio contenida en la acci√≥n antes de configurar ning√∫n reductor.  Para mostrar esto, en la fig.  11.2 cajas de engranajes retiradas del flujo;  Vea por qu√© las acciones no llegan al repositorio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tj/t5/dc/tjt5dcbrqwxz3ophh23k-dkelkq.png" alt="imagen"></div><br>  Luego crear√° otro reductor para aplicar sus habilidades de Redux.  Al final, muchos reductores no devolver√°n simplemente verdadero o falso.  O al menos en los c√°lculos habr√° algo m√°s que verdadero o falso.  Otra parte clave de la aplicaci√≥n Letters Social es mostrar y crear mensajes, y debe portarlo a Redux.  Debe guardar la mayor parte de la l√≥gica existente utilizada por la aplicaci√≥n y traducirla a un formato compatible con Redux, como si hubiera adaptado una aplicaci√≥n React real para usar Redux.  Cree dos reductores para procesar los mensajes y uno para rastrear los identificadores de mensajes.  En una aplicaci√≥n m√°s grande, puede combinarlos bajo una clave diferente, pero ahora es bueno almacenarlos por separado.  Este tambi√©n es un ejemplo de c√≥mo puede configurar varias cajas de cambios para manejar una sola acci√≥n.  El listado 11.3 muestra c√≥mo escribir un reductor para comentarios.  Aqu√≠ crear√° muchos reductores, y tan pronto como se haga esto, la aplicaci√≥n recibir√° no solo una descripci√≥n detallada de los eventos que pueden ocurrir, sino tambi√©n formas de cambiar el estado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rp/s-/zg/rps-zgt7etdse7r1c1vdoluxqrc.png" alt="imagen"></div><br>  Ahora, cuando env√≠e acciones relacionadas con comentarios, el estado de la tienda se actualizar√° en consecuencia.  ¬øHas notado c√≥mo puedes responder a acciones que no son estrictamente del mismo tipo?  Las cajas de cambios pueden responder a acciones que caen dentro de su competencia, incluso si no son del mismo tipo.  Esto es posible porque, a pesar de que el segmento de mensaje de estado controla los mensajes, puede haber otras acciones que pueden afectarlo.  Conclusi√≥n: la caja de cambios es responsable de resolver la cuesti√≥n de c√≥mo debe cambiar un indicador de estado en particular, independientemente de qu√© acci√≥n o tipo de acci√≥n venga.  Es posible que algunos reductores necesiten conocer los diferentes tipos de acciones que no est√°n relacionadas con el recurso (mensajes) que modelan. <br><br>  Ahora, una vez creado el reductor de comentarios, puede ejecutar uno que procese los mensajes.  Ser√° muy similar a un reductor de comentarios porque usa la misma estrategia de almacenarlos por separado como identificadores y objetos.  Tambi√©n debe saber c√≥mo manejar los mensajes con y sin Me gusta (usted cre√≥ acciones para esta funcionalidad en el cap√≠tulo 10).  El listado 11.4 muestra c√≥mo implementar todo esto. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/et/0p/mhet0pskus-9gyl3xgi5lklxw6k.png" alt="imagen"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-l/8p/yj/-l8pyjdnvbdffx68jifuhphoofo.png" alt="imagen"></div><br>  Yo (el autor) inclu√≠ dos reductores en estos archivos, porque est√°n estrechamente relacionados entre s√≠ y ambos act√∫an sobre los mismos datos fundamentales (mensajes y comentarios), pero es probable que desee utilizar un reductor para simplificar el trabajo. en el archivo  En la mayor√≠a de los casos, la instalaci√≥n de la caja de cambios por usted reflejar√° la estructura del almacenamiento o al menos le corresponder√°.  Es posible que haya notado que el desarrollo del formulario de estado de almacenamiento (consulte el estado inicial que estableci√≥ anteriormente en este cap√≠tulo) afecta en gran medida la forma en que se definen los reductores y, en menor medida, las acciones.  Una conclusi√≥n de esto es que es mejor pasar m√°s tiempo desarrollando una forma de estado que darle un brillo.  Si se asigna muy poco tiempo al dise√±o, puede llevar mucho tiempo refinar el formulario de estado para mejorarlo, mientras que el dise√±o cuidadoso y las plantillas de Redux hacen que agregar nueva funcionalidad sea una acci√≥n simple. <br><br><blockquote>  Migraci√≥n a Redux: ¬øes necesario? <br><br>  Mencion√© varias veces en este cap√≠tulo que Redux puede requerir mucho trabajo para la configuraci√≥n inicial (puede que ya haya experimentado esto), pero al final dar√° sus frutos.  Esto es especialmente cierto para proyectos en los que yo y otros desarrolladores familiares trabajamos.  Un proyecto en el que particip√© incluy√≥ la migraci√≥n completa de una aplicaci√≥n de la arquitectura Flux a Redux.  Todo el equipo trabaj√≥ durante aproximadamente un mes, pero pudimos comenzar a reescribir la aplicaci√≥n, logrando una inestabilidad m√≠nima y reduciendo al m√≠nimo la cantidad de errores. <br><br>  Y el resultado general fue la posibilidad de una reproducci√≥n iterativa m√°s r√°pida del producto utilizando plantillas que Redux nos ayud√≥ a colocar en el lugar correcto.  Unos meses despu√©s de la migraci√≥n de Redux, completamos una serie de redise√±os completos de la aplicaci√≥n.  Aunque redise√±amos la mayor parte de la aplicaci√≥n React, la arquitectura Redux nos permiti√≥ hacer muy pocos cambios en la administraci√≥n del estado y la l√≥gica comercial de la aplicaci√≥n.  Adem√°s, las plantillas de Redux han facilitado la adici√≥n al estado de la aplicaci√≥n cuando sea necesario.  La integraci√≥n de Redux ha justificado el trabajo de configuraci√≥n y traducci√≥n de la aplicaci√≥n y contin√∫a pagando dividendos. </blockquote>  ¬ªSe puede encontrar m√°s informaci√≥n sobre el libro en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web del editor</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Contenidos</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Extracto</a> <br><br>  Cup√≥n de 20% de descuento para vendedores ambulantes - <b>Reaccionar</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432776/">https://habr.com/ru/post/es432776/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432766/index.html">C√≥mo codificar un mensaje secreto en una huella digital</a></li>
<li><a href="../es432768/index.html">Auriculares inal√°mbricos para "maratones en serie": en Dolby se ofrecer√°n por $ 599</a></li>
<li><a href="../es432770/index.html">Botnets y sus tipos: lo que se conoce en 2018</a></li>
<li><a href="../es432772/index.html">C√≥mo creamos un servicio de campa√±a publicitaria que cumpla con el RGPD</a></li>
<li><a href="../es432774/index.html">Frontend DevDay. Grabaci√≥n de informes</a></li>
<li><a href="../es432778/index.html">Desarrollo de un convertidor de dinero en STM32F334: principio de operaci√≥n, c√°lculos, creaci√≥n de prototipos</a></li>
<li><a href="../es432780/index.html">¬øPor qu√© se necesita empat√≠a en el mundo tecnol√≥gico?</a></li>
<li><a href="../es432782/index.html">Instalaci√≥n multiservidor de Zimbra Collaboration Suite</a></li>
<li><a href="../es432784/index.html">Castlevania Bot</a></li>
<li><a href="../es432786/index.html">.NET: localizaci√≥n sin dolor. (N) gettext + poedit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>