<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¨ üõåüèΩ üïõ Cambia tu mentalidad con SwiftUI üë®üèΩ‚Äç‚öïÔ∏è üõÇ üéÖüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La semana pasada, vi que la comunidad est√° tratando de transferir patrones de desarrollo probados de UIKit a SwiftUI. Pero estoy seguro de que la mejo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cambia tu mentalidad con SwiftUI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477560/"><img src="https://habrastorage.org/webt/2g/v0/ae/2gv0aefpytcbzw-iztjnz0knuza.png" alt="imagen"><br><br>  La semana pasada, vi que la comunidad est√° tratando de transferir patrones de desarrollo probados de UIKit a SwiftUI.  Pero estoy seguro de que la mejor manera de escribir c√≥digo eficiente usando SwiftUI es olvidarse de UIKit y cambiar completamente su forma de pensar en t√©rminos de desarrollo de interfaz de usuario.  Esta semana hablar√© sobre las principales diferencias entre el desarrollo usando UIKit y SwiftUI. <br><a name="habracut"></a><br><h3>  Definici√≥n de diferencias </h3><br>  <a href="https://developer.apple.com/documentation/uikit">UIKit</a> es un marco imperativo impulsado por eventos para crear interfaces de usuario para la plataforma iOS.  Esto significa que debe manejar todos los cambios de estado durante eventos como cargar una vista, hacer clic en un bot√≥n, etc. Una gran desventaja de este enfoque es la dificultad de sincronizar la interfaz de usuario con su estado.  Tan pronto como cambie el estado, debe agregar / eliminar / mostrar / ocultar manualmente las vistas y sincronizarlas con el estado actual de la aplicaci√≥n. <br><br>  <a href="https://developer.apple.com/documentation/SwiftUI">SwiftUI</a> es un marco declarativo para crear interfaces de usuario para todas las plataformas de Apple.  La palabra clave en este caso es declarativa.  Declarativo significa que el desarrollador necesita declarar lo que quiere lograr, y el marco se encargar√° de esto.  El marco conoce la mejor manera de representar la interfaz de usuario. <br><br><pre><code class="swift hljs"><span class="hljs-type"><span class="hljs-type">UI</span></span> = f(state)</code> </pre> <br>  En SwiftUI, la interfaz de usuario es una funci√≥n de su estado.  Esto significa que cada vez que cambia el estado de una vista, vuelve a contar la propiedad de su cuerpo y genera una nueva vista.  Considere el siguiente ejemplo. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">ObservedObject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store: <span class="hljs-type"><span class="hljs-type">Store</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Group</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> store.isLoading { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Loading..."</span></span>) .font(.subheadline) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">Image</span></span>(<span class="hljs-string"><span class="hljs-string">"photo"</span></span>) .font(.largeTitle) } } } }</code> </pre><br>  En el ejemplo anterior, hay una vista que muestra el texto "Cargando ..." y muestra im√°genes al final de la descarga.  <i>ObserverObject</i> es el estado de esta vista, y tan pronto como cambia, SwiftUI recalcula la propiedad del cuerpo y asigna una nueva vista.  Durante el desarrollo con UIKit, es necesario ocultar / mostrar manualmente los elementos de la jerarqu√≠a de presentaci√≥n, pero en SwiftUI no es necesario agregar / eliminar un indicador de carga.  Hay varias formas en SwiftUI para describir el estado de una vista, para obtener m√°s informaci√≥n sobre ellas, eche un vistazo a " <a href="https://habr.com/ru/company/otus/blog/475078/">Envolturas de propiedades en SwiftUI</a> ". <br><br>  Ahora veremos m√°s de cerca lo que sucede cuando cambia el estado de la vista.  SwiftUI tiene una impresi√≥n de la jerarqu√≠a actual de vistas y, tan pronto como cambia su estado, calcula una nueva vista.  SwiftUI aplica algoritmos de comparaci√≥n para comprender las diferencias y agregar / eliminar / actualizar autom√°ticamente las vistas necesarias.  De manera predeterminada, SwiftUI usa la imagen de transici√≥n de entrada / salida est√°ndar para mostrar / ocultar vistas, pero tambi√©n es posible cambiar manualmente la transici√≥n a cualquier otra animaci√≥n.  Para obtener m√°s informaci√≥n sobre la transici√≥n y las animaciones en SwiftUI, consulte mi art√≠culo " <a href="https://swiftwithmajid.com/2019/06/26/animations-in-swiftui/">Animaciones en SwiftUI</a> ". <br><br><h3>  Jerarqu√≠a de presentaci√≥n </h3><br>  Hablemos sobre la jerarqu√≠a de vistas y c√≥mo SwiftUI realmente muestra la estructura de las vistas.  Lo primero que quiero mencionar es que SwiftUI no muestra la estructura de la vista mediante el mapeo uno a uno.  Es posible utilizar tantos contenedores de vistas como desee, pero al final, SwiftUI muestra solo las vistas que tienen sentido para la representaci√≥n.  Esto significa que puede extraer su l√≥gica en peque√±as representaciones y luego componerlas y reutilizarlas en la aplicaci√≥n.  No se preocupe, el rendimiento de la aplicaci√≥n en este caso no se ver√° afectado.  Para obtener m√°s informaci√≥n sobre c√≥mo crear vistas en SwiftUI, consulte <a href="https://swiftwithmajid.com/2019/10/30/view-composition-in-swiftui/">este art√≠culo</a> . <br><br>  La mejor manera de comprender la jerarqu√≠a de representaciones complejas en SwiftUI es mostrar su tipo.  SwiftUI utiliza un sistema de tipo est√°tico para determinar la diferencia lo suficientemente r√°pido.  En primer lugar, verifica el tipo de vista y luego verifica los valores de los componentes de la vista.  No soy fan√°tico de usar reflexiones en el c√≥digo de trabajo, pero es muy √∫til en el proceso de aprendizaje. <br><br><pre> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-type"><span class="hljs-type">Mirror</span></span>(reflecting: <span class="hljs-type"><span class="hljs-type">ContentView</span></span>(store: .<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>()).body)) <span class="hljs-comment"><span class="hljs-comment">// Group&lt;_ConditionalContent&lt;Text, ModifiedContent&lt;Image, _EnvironmentKe</span></span></code> </pre><br>  Usando la estructura Mirror, puede mostrar el tipo real del cuerpo de ContentView y descubrir c√≥mo funciona SwiftUI. <br><br><h3>  Conclusiones </h3><br>  Esta semana, aprendimos la principal diferencia entre UIKit y SwiftUI y examinamos en detalle el algoritmo de comparaci√≥n en SwiftUI.  Espero que hayas disfrutado el art√≠culo.  Gracias por leer y nos vemos la pr√≥xima semana! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/477560/">https://habr.com/ru/post/477560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../477548/index.html">Aprende Bootstrap con 10 consejos √∫tiles</a></li>
<li><a href="../477550/index.html">SPS-2019 en el Centro de Exposiciones de Nuremberg</a></li>
<li><a href="../477552/index.html">Las pruebas realizadas por Ryzen Threadripper 3960X y 3970X mostraron que son CPU realmente revolucionarias</a></li>
<li><a href="../477554/index.html">La zona de dominio .ORG se vende a una empresa privada. El p√∫blico llama a ICANN a rescindir el contrato</a></li>
<li><a href="../477558/index.html">Huawei Cloud: Hoy est√° nublado en PVS-Studio</a></li>
<li><a href="../477562/index.html">Dise√±o de interfaz para el juego, dibuja un paquete de iconos</a></li>
<li><a href="../477564/index.html">Clientes complejos: c√≥mo proteger a su equipo de ellos</a></li>
<li><a href="../477566/index.html">Huawei Cloud: hoy est√° nublado en PVS-Studio</a></li>
<li><a href="../477568/index.html">El servicio es f√°cil devoluci√≥n incondicional. Correo ruso</a></li>
<li><a href="../477578/index.html">C√≥mo elegir un lenguaje de programaci√≥n para crear una aplicaci√≥n de Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>