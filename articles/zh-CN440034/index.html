<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛀🏼 🤗 🛍️ 吻建筑。 从微服务到整体 🐐 🏡 👨🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们的技术总监Andrey Kopylov告诉我们AREALIDEA Web开发团队使用哪种方法来设计应用程序体系结构，KISS Architecture本身的开发是如此出色。 



 设计应用程序体系结构有很多方法。 MVC，DDD，清洁架构等。 


 MVC非常适合小型应用程序。 当您尝试扩...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>吻建筑。 从微服务到整体</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440034/"><p> 我们的技术总监<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Andrey Kopylov</a>告诉我们AREALIDEA Web开发团队使用哪种方法来设计应用程序体系结构，KISS Architecture本身的开发是如此出色。 </p><br><a name="habracut"></a><br><p> 设计应用程序体系结构有很多方法。  MVC，DDD，清洁架构等。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=http://">MVC</a>非常适合小型应用程序。 当您尝试扩展时，MVC变成了IT世界中最常见的体系结构<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Big Lump of Dirt</a> 。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DDD是一种</a>出色的体系结构，但没人能理解。 除非创作者本人和几个建筑师。 该体系结构的目的是使每个开发人员都可以理解它。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">干净的体系结构是</a>很棒的体系结构，但是其完整的实现对于大型应用程序是有意义的。 对于中小型企业，在我看来似乎太复杂了。 </p><br><p> 在这种背景下，当前趋势-向服务和微服务的过渡-Clean Architecture变得过于沉重。 </p><br><p> 看来，接下来，让我们将MVC用于微服务并停止它。 但是不，这样的自行车不适合我们。 </p><br><h2> 组成部分 </h2><br><p> 我们机构中用于项目的自行车是由来自不同建筑方法的零配件组装而成。 </p><br><p> 以下是创建易于理解和方便的结构所需的组件： </p><br><ul><li> 路由器 </li><li> 控制器 </li><li> 观看次数 </li><li> 服务项目 </li><li> 型号 </li></ul><br><h2> 层数 </h2><br><h3> 路由器 </h3><br><p> 路由器负责路由请求。 路由器的大小及其编号间接指示您的应用程序的大小。 对于大型单片应用程序，可以有多个路由器层。 </p><br><p> 路由器存在于任何体系结构中，但通常是隐式的。 而且由于显而易见的要比隐含的要好，因此值得将其淘汰-使它成为体系结构的组成部分。 </p><br><h3> 控制者 </h3><br><p> 控制器是路由器和服务之间的一层。 控制器中应该没有业务逻辑。 </p><br><p> 每个控制器仅控制一个实体。 如果需要更多实体，则需要添加另一个控制器。 </p><br><p> 控制器的数量和大小间接指示应用程序的大小。 控制器下的垂直层可以分为单独的微服务。 </p><br><h3> 观看次数 </h3><br><p> 视图与控制器位于同一层，负责数据的最终显示。 控制器从服务接收数据后，将数据传输到视图并返回视图以供显示。 </p><br><p> 在极端情况下，View是JSON，XML和类似格式。 </p><br><h3> 服务项目 </h3><br><p> 只有服务可以包含业务逻辑。 服务通常仅指一种模型。 一个服务可以调用另一个服务。 </p><br><p> 服务层分为命令和查询（命令和查询）。 这是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CQRS</a>的标准方法。 </p><br><p> 一种服务仅执行一项功能。 可以有任意数量的私有功能，只有一个公共功能。 服务的名称以动词开头。 示例：GetUsers，GetPostById，UpdateUser，PublishPost。 服务的名称暗示了功能的正确分离。 </p><br><p> 在查询中，我们放置不修改数据库的服务。 查询包含一个公共<i>获取</i>函数。 在命令中，我们放置了更改数据库的服务。 命令包含一个公共<i>执行</i>功能。 </p><br><h3> 型号 </h3><br><p> 该模型仅包含与读取和保存数据相关的最简单的逻辑。 此外，这些操作可能与数据库无关。 </p><br><p> 如果模型与数据库一起使用，则一个模型仅服务一个或几个表。 </p><br><h2> 菜谱 </h2><br><h3> 微服务 </h3><br><p> 以我的理解，微服务应仅管理一个实体。 因此，最简单的微服务的架构如下所示： </p><br><ul><li> 一台路由器； </li><li> 一个控制器； </li><li> 多种观点； </li><li> 多项服务； </li><li> 一种模式。 </li></ul><br><p><img src="https://habrastorage.org/webt/jn/vi/hw/jnvihwkfvxhwjb1j2jtxsij9eoe.png"></p><br><h3> 服务专区 </h3><br><p> 服务是一个小型应用程序。 它包含： </p><p></p><ul><li> 一台路由器； </li><li> 几个控制器； </li><li> 多种观点； </li><li> 多项服务； </li><li> 几种模型。 </li></ul><br><p><img src="https://habrastorage.org/webt/5v/zk/j2/5vzkj2cy_9jwynbdk0xx9zo-9sw.png"></p><br><h3> 整体式 </h3><br><p>  Monolith是一个很好的应用程序。 没有人喜欢巨石，因为它们的怪异。 如果遵循“整体”优先方法，则可以证明整体是合理的。 在这种状态下，您的应用程序可以保留相当长的时间。 </p><br><p> 整体包含： </p><br><ul><li> 一台超级路由器； </li><li> 几个普通路由器； </li><li> 许多控制器； </li><li> 许多观点，许多服务； </li><li> 许多型号。 </li></ul><br><p><img src="https://habrastorage.org/webt/5b/na/q7/5bnaq73izwyx7ozycklg-ft2jc8.png"></p><br><p> 它开始看起来有点吓人。 在这里，您可以清楚地看到各层的其他垂直间隔。 这样可以使应用程序保持尚未管理和维护的状态。 将整块锯切成零件变成纯机械任务。 </p><br><p> 为了保持建筑的和谐，您需要： </p><br><ol><li> 添加一个将解析全局路径的顶级路由器-SuperRouter。 </li><li> 按模块按结构分发文件。 也就是说，按照将来切成个人服务。 </li></ol><br><h2> 测试中 </h2><br><p> 在所考虑的架构的框架内，只有服务才经过严格的测试-只有业务逻辑才被嵌入其中。 而且您只需要弄湿模型。 </p><br><p> 如果您希望测试服务以外的其他东西，那么逻辑的位置可能选择不正确。 </p><br><h2> 结论 </h2><br><p> 我认为，KISS Architecture适用于80％的项目，并且可以使项目顺利进行。 </p><br><p> 这种架构方法对所有开发人员都是清楚的，并且对于其实际应用而言，您无需阅读有关DDD的丰富书籍。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440034/">https://habr.com/ru/post/zh-CN440034/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440022/index.html">小法拉利：金融科技创业公司Rally Rd将让您购买稀有汽车的“股份”</a></li>
<li><a href="../zh-CN440024/index.html">从STM32将printf（）重定向到Qt Creator控制台</a></li>
<li><a href="../zh-CN440026/index.html">Kaggle：不能走路-让我们跑步</a></li>
<li><a href="../zh-CN440030/index.html">使用WireGuard和DNSCrypt在OpenWrt路由器上精确定位PKH阻止</a></li>
<li><a href="../zh-CN440032/index.html">人工智能地平线零黎明</a></li>
<li><a href="../zh-CN440036/index.html">触摸打字</a></li>
<li><a href="../zh-CN440040/index.html">在发展中-各自为战。 但是有时候这会导致死胡同。</a></li>
<li><a href="../zh-CN440044/index.html">高通详细历史</a></li>
<li><a href="../zh-CN440046/index.html">公开课“在Spring上创建REST客户端”</a></li>
<li><a href="../zh-CN440048/index.html">最喜欢的指标：每个销售团队都必须遵循的5个指标</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>