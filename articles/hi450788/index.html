<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСИЁЯП┐ ЁЯСйЁЯП╛тАНЁЯТ╗ ЁЯМТ DITranquillity рдХреЗ рд╕рд╛рде рдирд┐рд░реНрднрд░рддрд╛ рдЗрдВрдЬреЗрдХреНрд╢рди ЁЯШв ЁЯзСЁЯП╝ ЁЯдЬ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирд┐рд░реНрднрд░рддрд╛ рдЗрдВрдЬреЗрдХреНрд╢рди рдПрдХ рдХрд╛рдлреА рд▓реЛрдХрдкреНрд░рд┐рдп рдкреИрдЯрд░реНрди рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рд▓рдЪреАрд▓реЗ рдврдВрдЧ рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдЗрд╕ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдШрдЯрдХреЛрдВ рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рд╣реА рдв...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DITranquillity рдХреЗ рд╕рд╛рде рдирд┐рд░реНрднрд░рддрд╛ рдЗрдВрдЬреЗрдХреНрд╢рди</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450788/"><p> рдирд┐рд░реНрднрд░рддрд╛ рдЗрдВрдЬреЗрдХреНрд╢рди рдПрдХ рдХрд╛рдлреА рд▓реЛрдХрдкреНрд░рд┐рдп рдкреИрдЯрд░реНрди рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рд▓рдЪреАрд▓реЗ рдврдВрдЧ рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдЗрд╕ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдШрдЯрдХреЛрдВ рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рд╕реНрд╡рд┐рдлреНрдЯ рдЖрдкрдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЖрдк рдмрд╣реБрдд рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдирд┐рд░реНрднрд░рддрд╛ рдЧреНрд░рд╛рдл рдХрд╛ рд╡рд░реНрдгрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдЬ рдореИрдВ рдЗрдирдореЗрдВ рд╕реЗ рдПрдХ рдврд╛рдВрдЪреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝реА рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ - <code>DITranquillity</code> ред </p><a name="habracut"></a><br><p>  рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдХрд╡рд░ рдХрд░реЗрдЧрд╛: </p><br><ul><li>  рдкрдВрдЬреАрдХрд░рдг рдЯрд╛рдЗрдк рдХрд░реЗрдВ </li><li>  рдкреНрд░рд╛рд░рдВрднрд┐рдХ рддреИрдирд╛рддреА </li><li>  рдПрдХ рдЪрд░ рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд░рдирд╛ </li><li>  рдШрдЯрдХ рдЪрдХреНрд░реАрдп рдирд┐рд░реНрднрд░рддрд╛ </li><li>  <code>UIStoryboard</code> рд╕рд╛рде рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </li></ul><br><h3 id="opisanie-komponentov">  рдШрдЯрдХ рд╡рд┐рд╡рд░рдг </h3><br><p>  рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдореБрдЦреНрдп рдШрдЯрдХ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ: <code>ViewController</code> , <code>Router</code> , <code>Presenter</code> , <code>Networking</code> - рдпреЗ рдХрд┐рд╕реА рднреА iOS рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рдорд╛рдиреНрдп рдШрдЯрдХ рд╣реИрдВред </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w-/pn/ro/w-pnroiey2c8xri9o3erqm9er_0.gif" alt="рдШрдЯрдХ рд╕рдВрд░рдЪрдирд╛"></div><br><p>  <code>ViewController</code> рдФрд░ <code>Router</code> рдПрдХ-рджреВрд╕рд░реЗ рдХреЛ рдЪрдХреНрд░реАрдп рд░реВрдк рд╕реЗ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><h3 id="podgotovka">  рдЯреНрд░реЗрдирд┐рдВрдЧ </h3><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, Xcode рдореЗрдВ рдПрдХ рд╕рд┐рдВрдЧрд▓ рд╡реНрдпреВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдПрдВ, рдХреЛрдХреЛрдЖрдкреЛрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">DITranquillity</a> рдЬреЛрдбрд╝реЗрдВред  рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХ рдкрджрд╛рдиреБрдХреНрд░рдо рдмрдирд╛рдПрдВ, рдлрд┐рд░ Main.storyboard рдореЗрдВ рдПрдХ рджреВрд╕рд░рд╛ рдирд┐рдпрдВрддреНрд░рдХ рдЬреЛрдбрд╝реЗрдВ рдФрд░ <code>StoryboardSegue</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдирд┐рдореНрди рдлрд╝рд╛рдЗрд▓ рд╕рдВрд░рдЪрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/li/s8/jwlis8txyhuzn1m5swacqvrixe4.png" alt="рдлрд╝рд╛рдЗрд▓ рд╕рдВрд░рдЪрдирд╛"></div><br><p>  рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рдирд┐рд░реНрднрд░рддрд╛ рдмрдирд╛рдПрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рдШрдЯрдХ рдШреЛрд╖рдгрд╛</b> <div class="spoiler_text"><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Presenter</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCounter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Int)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyPresenter</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Presenter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> networking: <span class="hljs-type"><span class="hljs-type">Networking</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(networking: <span class="hljs-type"><span class="hljs-type">Networking</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.networking = networking } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCounter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Int)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// Implementation } }</span></span></code> </pre> <br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Networking</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Result&lt;Int, Error&gt;)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyNetworking</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Networking</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Result&lt;Int, Error&gt;)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// Implementation } }</span></span></code> </pre> <br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Router</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentNewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyRouter</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Router</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewController: <span class="hljs-type"><span class="hljs-type">ViewController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(viewController: <span class="hljs-type"><span class="hljs-type">ViewController</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewController = viewController } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentNewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// Implementation } }</span></span></code> </pre> <br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> presenter: <span class="hljs-type"><span class="hljs-type">Presenter!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> router: <span class="hljs-type"><span class="hljs-type">Router!</span></span> }</code> </pre> </div></div><br><h4 id="ogranicheniya">  рдкреНрд░рддрд┐рдмрдВрдз </h4><br><p>  рдЕрдиреНрдп рд╡рд░реНрдЧреЛрдВ рдХреЗ рд╡рд┐рдкрд░реАрдд, <code>ViewController</code> рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <code>UIStoryboard.instantiateViewController</code> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдЕрдВрджрд░ UIKit рдкреБрд╕реНрддрдХрд╛рд▓рдп рджреНрд╡рд╛рд░рд╛, рдЗрд╕рд▓рд┐рдП, рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо <code>UIStoryboard.instantiateViewController</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>UIViewController</code> рдХреЗ рд╡рд╛рд░рд┐рд╕реЛрдВ рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рддреЛ рдпрд╣ <code>UIView</code> рдФрд░ <code>UITableViewCell</code> рдХреЗ рд╡рд╛рд░рд┐рд╕реЛрдВ рдХреЗ рд╕рд╛рде рд╣реИред </p><br><p>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдкреАрдЫреЗ рдЫрд┐рдкреА рд╣реБрдИ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕рднреА рд╡рд░реНрдЧреЛрдВ рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рдореБрдЦреНрдп рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ - рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ред  рдпрд╣ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдкреБрди: рдЙрдкрдпреЛрдЧ рдпрд╛ рдкрд░реАрдХреНрд╖рдг рдШрдЯрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ред </p><br><h3 id="vnedrenie-zavisimostey">  рдирд┐рд░реНрднрд░рддрд╛ рдЗрдВрдЬреЗрдХреНрд╢рди </h3><br><p>  рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рднреА рдШрдЯрдХ рдмрдирдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЖрдкрд╕ рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  DITranquillity рдореЗрдВ, рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБ <code>DIContainer</code> , рдЬреЛ <code>container.register(...)</code> . <code>DIContainer</code> <code>container.register(...)</code> рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрдВрдЬреАрдХрд░рдг рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рднрд╛рдЧреЛрдВ рдореЗрдВ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>DIFramework</code> рдФрд░ <code>DIPart</code> , рдЬрд┐рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХреЗрд╡рд▓ рдПрдХ <code>ApplicationDependency</code> рдирд┐рд░реНрднрд░рддрд╛ рд╡рд░реНрдЧ рдмрдирд╛рдПрдВрдЧреЗ, рдЬреЛ <code>DIFramework</code> рдХреЛ рд▓рд╛рдЧреВ <code>DIFramework</code> рдФрд░ рд╕рднреА рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрдВрдЬреАрдХрд░рдг рд╕реНрдерд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  <code>DIFramework</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдПрдХ рд╡рд┐рдзрд┐ - <code>load(container:)</code> рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationDependency</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DIFramework</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(container: DIContainer)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// registrations will be placed here } }</span></span></code> </pre> <br><p>  рдЖрдЗрдП рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╕рд╛рдЗрдирдЕрдк рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ рдЬрд┐рд╕рдХреА рдХреЛрдИ рдирд┐рд░реНрднрд░рддрд╛ рдирд╣реАрдВ рд╣реИ - <code>MyNetworking</code> </p><br><pre> <code class="swift hljs">container.register(<span class="hljs-type"><span class="hljs-type">MyNetworking</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>)</code> </pre> <br><p>  рдпрд╣ рдкрдВрдЬреАрдХрд░рдг рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдШрдЯрдХ рдореЗрдВ рд╕реНрд╡рдпрдВ рдХреА рдХреЛрдИ рдирд┐рд░реНрднрд░рддрд╛ рдирд╣реАрдВ рд╣реИ, рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдШрдЯрдХ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрд░рдВрднреАрдХрд░рдг рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдЗрд╕реА рддрд░рд╣, <code>MyPresenter</code> рдФрд░ <code>MyRouter</code> рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВред </p><br><pre> <code class="swift hljs">container.register1(<span class="hljs-type"><span class="hljs-type">MyPresenter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>) container.register1(<span class="hljs-type"><span class="hljs-type">MyRouter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>)</code> </pre> <br><p>  <strong>рдиреЛрдЯ:</strong> рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ <code>register</code> рдирд╣реАрдВ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <code>register1</code> ред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдФрд░ рдХреЗрд╡рд▓ рдПрдХ рдирд┐рд░реНрднрд░рддрд╛ рд╣реИ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝рд░ рдореЗрдВред  рдпрд╣реА рд╣реИ, рдЕрдЧрд░ 0 рдпрд╛ рджреЛ рдпрд╛ рдЕрдзрд┐рдХ рдирд┐рд░реНрднрд░рддрд╛рдПрдВ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдмрд╕ <code>register</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдкреНрд░рддрд┐рдмрдВрдз рд╕реНрд╡рд┐рдлреНрдЯ рд╕рдВрд╕реНрдХрд░рдг 4.0 рдФрд░ рдЙрдЪреНрдЪрддрд░ рдХрд╛ рдПрдХ рдмрдЧ рд╣реИред </p><br><p>  рдпрд╣ рд╣рдорд╛рд░реЗ <code>ViewController</code> рдкрдВрдЬреАрдХрд░рдг рдХрд╛ рд╕рдордп рд╣реИред  рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рд╕реАрдзреЗ рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкрдВрдЬреАрдХрд░рдг рд╡рд┐рд╡рд░рдг рдереЛрдбрд╝рд╛ рдФрд░ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред </p><br><pre> <code class="swift hljs">container.register(<span class="hljs-type"><span class="hljs-type">ViewController</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) .injection(cycle: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, \.router) .injection(\.presenter)</code> </pre> <br><p>  рдкреНрд░рдкрддреНрд░ <code>\.presenter</code> рдХрд╛ рд╕рд┐рдВрдЯреИрдХреНрд╕ SwiftKeyPath рд╣реИ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдпрд╣ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред  рдЪреВрдВрдХрд┐ <code>Router</code> рдФрд░ <code>ViewController</code> рдПрдХ-рджреВрд╕рд░реЗ рдкрд░ рдЪрдХреНрд░реАрдп рд░реВрдк рд╕реЗ рдирд┐рд░реНрднрд░ <code>ViewController</code> , рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЗрд╕ <code>cycle: true</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрдХреЗрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП <code>cycle: true</code> ред  рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕реНрд╡рдпрдВ рдПрдХ рд╕реНрдкрд╖реНрдЯ рд╕рдВрдХреЗрдд рдХреЗ рдмрд┐рдирд╛ рдЗрди рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЗрд╕рд▓рд┐рдП рд╢реБрд░реВ рдХреА рдЧрдИ рдереА рддрд╛рдХрд┐ рдЧреНрд░рд╛рдлрд╝ рдкрдврд╝рдиреЗ рд╡рд╛рд▓реЗ рд╡реНрдпрдХреНрддрд┐ рдХреЛ рддреБрд░рдВрдд рд╕рдордЭ рдореЗрдВ рдЖ рдЬрд╛рдП рдХрд┐ рдирд┐рд░реНрднрд░рддрд╛ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдЪрдХреНрд░ рд╣реИрдВред  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code>ViewController.init</code> <strong>рдирд╣реАрдВ</strong> <code>ViewController.init</code> , <strong>рд▓реЗрдХрд┐рди</strong> <code>ViewController.self</code> ред  рдпрд╣ <em>рд╕реАрдорд╛</em> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </p><br><p>  рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>UIStoryboard</code> рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реИред </p><br><pre> <code class="swift hljs">container.registerStoryboard(name: <span class="hljs-string"><span class="hljs-string">"Main"</span></span>)</code> </pre> <br><p>  рдЕрдм рд╣рдордиреЗ рдПрдХ рд╕реНрдХреНрд░реАрди рдХреЗ рд▓рд┐рдП рд╕рдВрдкреВрд░реНрдг рдирд┐рд░реНрднрд░рддрд╛ рдЧреНрд░рд╛рдл рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕ рдЧреНрд░рд╛рдл рдХреА рдЕрднреА рддрдХ рдХреЛрдИ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИред  рдЖрдкрдХреЛ рдПрдХ <code>DIContainer</code> рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ рдЬреЛ рдЖрдкрдХреЛ рдЗрд╕рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> container: <span class="hljs-type"><span class="hljs-type">DIContainer</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> container = <span class="hljs-type"><span class="hljs-type">DIContainer</span></span>() <span class="hljs-comment"><span class="hljs-comment">// 1 container.append(framework: ApplicationDependency.self) // 2 assert(container.validate(checkGraphCycles: true)) // 3 return container }()</span></span></code> </pre> <br><ol><li>  рдХрдВрдЯреЗрдирд░ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ </li><li>  рдЗрд╕рдореЗрдВ рдЧреНрд░рд╛рдл рдХрд╛ рд╡рд┐рд╡рд░рдг рдЬреЛрдбрд╝реЗрдВред </li><li>  рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдордиреЗ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдХрд┐рдпрд╛ред  рдпрджрд┐ рдХреЛрдИ рдЧрд▓рддреА рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрд╡реЗрджрди рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рджреМрд░рд╛рди рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЧреНрд░рд╛рдлрд╝ рдмрдирд╛рддреЗ рд╕рдордп рддреБрд░рдВрдд рдХреНрд░реИрд╢ рд╣реЛ рдЬрд╛рдПрдЧрд╛ </li></ol><br><p>  рдлрд┐рд░ рдЖрдкрдХреЛ рдХрдВрдЯреЗрдирд░ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>AppDelegate</code> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рд▓реЙрдиреНрдЪ рдмрд┐рдВрджреБ рдХреЗ рд░реВрдк рдореЗрдВ <code>Main.storyboard</code> рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп <code>didFinishLaunchingWithOptions</code> рдореЗрдВ <code>didFinishLaunchingWithOptions</code> рд╡рд┐рдзрд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">]?)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { window = <span class="hljs-type"><span class="hljs-type">UIWindow</span></span>(frame: <span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> storyboard: <span class="hljs-type"><span class="hljs-type">UIStoryboard</span></span> = <span class="hljs-type"><span class="hljs-type">ApplicationDependency</span></span>.container.resolve() window?.rootViewController = storyboard.instantiateInitialViewController() window?.makeKeyAndVisible() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre> <br><h3 id="zapusk">  рд▓рд╛рдВрдЪ </h3><br><p>  рдкрд╣рд▓реА рд╢реБрд░реБрдЖрдд рдореЗрдВ, рдПрдХ рдЧрд┐рд░рд╛рд╡рдЯ рдЖрдПрдЧреА рдФрд░ рд╕рддреНрдпрд╛рдкрди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░рдгреЛрдВ рд╕реЗ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛: </p><br><ul><li>  рдХрдВрдЯреЗрдирд░ рдХреЛ <code>Router</code> , <code>Presenter</code> , <code>Networking</code> рдХреЗ рдкреНрд░рдХрд╛рд░ рдирд╣реАрдВ рдорд┐рд▓реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдХреЗрд╡рд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдкрдВрдЬреАрдХреГрдд рдХрд┐рдП рд╣реИрдВред  рдпрджрд┐ рд╣рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдПрдХреНрд╕реЗрд╕ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </li><li>  рдХрдВрдЯреЗрдирд░ рдХреЛ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИ рдХрд┐ рдЪрдХреНрд░реАрдп рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдХреИрд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдП, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рд╣рд░ рдмрд╛рд░ рдЧреНрд░рд╛рдлрд╝ рдХреЗ рд╣рд▓ рд╣реЛрдиреЗ рдкрд░ рдХрд┐рди рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ul><br><p>  рдкрд╣рд▓реА рддреНрд░реБрдЯрд┐ рдХреЛ рдареАрдХ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ - рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ рдХрд┐ рдХрд┐рд╕ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рддрд╣рдд рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╡рд┐рдзрд┐ рдЙрдкрд▓рдмреНрдз рд╣реИред </p><br><pre> <code class="swift hljs">container.register(<span class="hljs-type"><span class="hljs-type">MyNetworking</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(check: <span class="hljs-type"><span class="hljs-type">Networking</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) {$<span class="hljs-number"><span class="hljs-number">0</span></span>}</code> </pre> <br><p>  рдкрдВрдЬреАрдХрд░рдг рдХреЛ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдмрддрд╛рддреЗ рд╣реБрдП, рд╣рдо рдХрд╣рддреЗ рд╣реИрдВ: <code>Networking</code> рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <code>MyNetworking</code> рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реБрд▓рдн рд╣реИред  рдпрд╣ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рддрд╣рдд рдЫрд┐рдкреА рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  <code>{$0}</code> рдХрдВрдкрд╛рдЗрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рд╕рд╣реА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред </p><br><p>  рджреВрд╕рд░реА рдЧрд▓рддреА рдереЛрдбрд╝реА рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред  рддрдерд╛рдХрдерд┐рдд <code>scope</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЬреЛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд┐рддрдиреА рдмрд╛рд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдпрд╣ рдХрд┐рддрдирд╛ рд░рд╣рддрд╛ рд╣реИред  рдПрдХ рдкрд░рд┐рдкрддреНрд░ рдирд┐рд░реНрднрд░рддрд╛ рдореЗрдВ рднрд╛рдЧ рд▓реЗрдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдЬреАрдХрд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>objectGraph</code> рдмрд░рд╛рдмрд░ рдПрдХ <code>scope</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред  рдЗрд╕рд╕реЗ рдХрдВрдЯреЗрдирд░ рдХреЛ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рджреМрд░рд╛рди рд╣рд░ рдмрд╛рд░ рдмрдирд╛рдиреЗ рдХреЗ рдмрдЬрд╛рдп рдПрдХ рд╣реА рдирд┐рд░реНрдорд┐рдд рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ: </p><br><pre> <code class="swift hljs">container.register(<span class="hljs-type"><span class="hljs-type">ViewController</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) .injection(cycle: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, \.router) .injection(\.presenter) .lifetime(.objectGraph) container.register1(<span class="hljs-type"><span class="hljs-type">MyRouter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(check: <span class="hljs-type"><span class="hljs-type">Router</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) {$<span class="hljs-number"><span class="hljs-number">0</span></span>} .lifetime(.objectGraph)</code> </pre> <br><p>  рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдХрдВрдЯреЗрдирд░ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рддреНрдпрд╛рдкрди рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣рдорд╛рд░рд╛ ViewController рдирд┐рд░реНрдорд┐рдд рдирд┐рд░реНрднрд░рддрд╛ рдХреЗ рд╕рд╛рде рдЦреБрд▓рддрд╛ рд╣реИред  рдЖрдк <code>viewDidLoad</code> рдореЗрдВ рдПрдХ рд╡рд┐рд░рд╛рдо рдмрд┐рдВрджреБ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="perehod-mezhdu-ekranami">  рд╕реНрдХреНрд░реАрди рдХреЗ рдмреАрдЪ рд╕рдВрдХреНрд░рдордг </h3><br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж, рджреЛ рдЫреЛрдЯреЗ рд╡рд░реНрдЧ рдмрдирд╛рдПрдВ, <code>SecondViewController</code> рдФрд░ <code>SecondPresenter</code> , рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдореЗрдВ <code>SecondViewController</code> рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЙрдирдХреЗ рдмреАрдЪ рдПрдХ <code>"RouteToSecond"</code> , рдЬрд┐рд╕рдореЗрдВ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ <code>"RouteToSecond"</code> , рдЬреЛ рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рджреВрд╕рд░рд╛ рдирд┐рдпрдВрддреНрд░рдХ рдЦреЛрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдирдИ рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реА <code>ApplicationDependency</code> рдирд┐рд░реНрднрд░рддрд╛ рдореЗрдВ рджреЛ рдФрд░ рдкрдВрдЬреАрдХрд░рдг рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="swift hljs">container.register(<span class="hljs-type"><span class="hljs-type">SecondViewController</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) .injection(\.secondPresenter) container.register(<span class="hljs-type"><span class="hljs-type">SecondPresenter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>)</code> </pre> <br><p>  рд╣рдореЗрдВ <code>.as</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдкреАрдЫреЗ <code>SecondPresenter</code> рдХреЛ рдЫрд┐рдкрд╛рдпрд╛ рдирд╣реАрдВ рдерд╛, рд▓реЗрдХрд┐рди рд╕реАрдзреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдлрд┐рд░, рдкрд╣рд▓реЗ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ <code>viewDidAppear</code> рд╡рд┐рдзрд┐ рдореЗрдВ, рд╣рдо <code>performSegue(withIdentifier: "RouteToSecond", sender: self)</code> , рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рд╛рд░рдВрдн рдХрд░рддреЗ рд╣реИрдВ, рджреВрд╕рд░рд╛ рдирд┐рдпрдВрддреНрд░рдХ рдЦреБрд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рджреВрд╕рд░реЗ <code>performSegue(withIdentifier: "RouteToSecond", sender: self)</code> рдХреЛ рдЪрд┐рдкрдХрд╛ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдХрдВрдЯреЗрдирд░ рдиреЗ <code>UIStoryboard</code> рд╕реЗ рдПрдХ рджреВрд╕рд░реЗ рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рджреЗрдЦрд╛ рдФрд░ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдХрдо рдХрд░ рджрд┐рдпрд╛ред </p><br><h3 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h3><br><p>  рдпрд╣ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЖрдкрдХреЛ рдЪрдХреНрд░реАрдп рдирд┐рд░реНрднрд░рддрд╛, рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рдЖрд╕рд╛рдиреА рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдФрд░ рд╕реНрд╡рд┐рдлреНрдЯ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрд╡рдд: рдкреНрд░рдХрд╛рд░ рдХреЗ рдЗрдВрдЬреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ, рдЬреЛ рдирд┐рд░реНрднрд░рддрд╛ рдЧреНрд░рд╛рдл рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЫреЛрдЯрд╛ рдФрд░ рд▓рдЪреАрд▓рд╛ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рджреЗрддрд╛ рд╣реИред </p><br><h4 id="ssylki">  рд╕рдВрджрд░реНрдн </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рдЯрд╣рдм рд▓рд╛рдЗрдмреНрд░реЗрд░реА</a> рдореЗрдВ рдкреВрд░реНрдг рдирдореВрдирд╛ рдХреЛрдб </p><br><p>  рдЧреАрдереБрдм <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░</a> рдирд┐рдкреБрдгрддрд╛ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдВрдЧреНрд░реЗрдЬреА рд▓реЗрдЦ</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi450788/">https://habr.com/ru/post/hi450788/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi450776/index.html">рд╣реИрдкреНрдкреА рд░реЗрдбрд┐рдпреЛ рдФрд░ рд╕рдВрдЪрд╛рд░ рджрд┐рд╡рд╕! рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓рдШреБ рдкреЛрд╕реНрдЯрдХрд╛рд░реНрдб</a></li>
<li><a href="../hi450780/index.html">рдЕрдВрдз рд╕рд╛рджрдЧреА</a></li>
<li><a href="../hi450782/index.html">рдЫрджреНрдо рдпрд╛рджреГрдЪреНрдЫрд┐рдХрддрд╛ рд╣рдорд╛рд░реА рдорджрдж рдХрд░реЗрдЧреА: рдЦреЗрд▓ рдХреЗ рд▓рд┐рдП рд╕рдВрдкрддреНрддрд┐ рдкреИрджрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЪрдпрди</a></li>
<li><a href="../hi450784/index.html">рдиреЗрдЯрдлреНрд▓рд┐рдХреНрд╕ рдЕрдкрдиреЗ рджрд░реНрд╢рдХреЛрдВ рдХреЛ рдЗрддрдиреА рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХреИрд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ?</a></li>
<li><a href="../hi450786/index.html">рдзрд╛рд░рд╛рдкреНрд░рд╡рд╛рд╣ рдФрд░ рдЧреЗрдЯрдЯреЗрдХреНрд╕реНрдЯ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░</a></li>
<li><a href="../hi450790/index.html">рд╣рд╛рдЗрдбреНрд░реЛрдЧреЗрд▓, рдмреНрд▓реВрдмреЗрд░реА рдФрд░ рдПрдХ рдЪреБрдЯрдХреА рд╣рд▓реНрджреА: рдХреГрддреНрд░рд┐рдо рд╕рдВрд╡рд╣рдиреА рдкреНрд░рдгрд╛рд▓реА</a></li>
<li><a href="../hi450794/index.html">рдЪреНрд╡рд╛рдЗрд╕ рдЗрд╡рд┐рд▓ рд╣реИ</a></li>
<li><a href="../hi450796/index.html">рдХреИрд╕реЗ рдЯреЗрд╕реНрд▓рд╛ рдСрдЯреЛрдкрд╛рдпрд▓рдЯ рд╕рд┐рдЦрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi450798/index.html">рдореЛрдмрд╛рдЗрд▓ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдореЗрдВ рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ: рд╕рдВрднрд╛рд╡рдирд╛рдПрдБ рдФрд░ рд╡рд┐рдХреЗрдВрджреНрд░реАрдХрд░рдг</a></li>
<li><a href="../hi450800/index.html">рдмреАрдбреАрдбреА рдФрд░ рдЖрдИрдУрдбреА рдХреЗ рд╕рд╛рде рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>