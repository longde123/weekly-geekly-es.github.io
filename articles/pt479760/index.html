<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì® üí∫ üòë Sensores para casa inteligente üë©üèΩ‚Äçü§ù‚Äçüë®üèø üî° üë©üèæ‚Äçü§ù‚Äçüë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fizemos um gabinete de controle para a casa aqui , desenvolvemos um controlador aqui . 

 A luz pode ser ligada / desligada do telefone, notifica√ß√µes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sensores para casa inteligente</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479760/">  Fizemos um gabinete de controle para a casa <a href="https://habr.com/ru/post/455321/">aqui</a> , desenvolvemos um controlador <a href="https://habr.com/ru/post/462259/">aqui</a> . <br><br>  A luz pode ser ligada / desligada do telefone, notifica√ß√µes sobre vazamento de √°gua, a inclus√£o de rega chegam a telegramas e Deus ainda sabe o que. <br><br>  Mas todo esse sistema est√° longe de ser uma casa inteligente, √© apenas uma extens√£o dos seus bra√ßos e pernas, e a √∫nica ajuda √© que voc√™ n√£o precisa sair da cama para desligar as luzes. <br><a name="habracut"></a><br>  Este artigo √© sobre o que pode aproximar sua casa do inteligente, e voc√™ adivinhou certo - esse √© o desenvolvimento de sensores.  S√£o olhos, ouvidos e um pouco mais para sua casa.  Com base nas informa√ß√µes dos sensores, j√° √© poss√≠vel escrever scripts autom√°ticos que revitalizar√£o a casa e o ajudar√£o silenciosamente e tornar√£o sua vida mais confort√°vel. <br><br>  O mercado agora possui uma grande variedade de dispositivos, de fabricantes eminentes e de origem desconhecida.  E se voc√™ n√£o se incomoda muito, pode us√°-los, mas h√° um mas, ou at√© v√°rios, mas.  Primeiro, a maioria deles usa seus protocolos propriet√°rios e trabalha apenas com seus hubs.  E a qualquer momento a API desses hubs pode ser fechada e o controle ser√° poss√≠vel apenas atrav√©s da aplica√ß√£o do fabricante (lembre-se da hist√≥ria do google nest), para que toda a sua automa√ß√£o seja interrompida em um ponto. <br><br>  Segundo, todos os fabricantes, sem exce√ß√£o, est√£o tentando obter algum lucro com isso, e como esse n√£o √© um fen√¥meno massivo, √© preciso sair, e cada sensor √© fabricado em seu pr√≥prio estojo separado com sua pr√≥pria bateria.  E agora vamos contar, voc√™ tem 5 quartos em cada um, eu gostaria de ter um sensor de temperatura, movimento, luz e CO.  N√£o √© um tapete complicado.  c√°lculos levam a 20 caixas no teto.  Em primeiro lugar, n√£o √© bonito e, em segundo lugar, em um ano ou dois, ser√° necess√°rio trocar as baterias desses sensores em meio dia com uma escada e uma chave de fenda, provavelmente quebrando alguns parafusos e soltando a chave de fenda algumas vezes no laminado.  Sim, e em terceiro lugar, quando um dos sensores quebrar dentro de alguns anos, voc√™ n√£o poder√° comprar o mesmo, e provavelmente os hubs antigos n√£o suportar√£o os novos sensores (o lucro √© importante) e voc√™ precisar√° alterar todos os sensores e reintegr√°-los ao seu o sistema.  Qual sa√≠da √© olhar para algo do c√≥digo-fonte aberto ou fazer voc√™ mesmo, pelo menos o c√≥digo sempre estar√° com voc√™.  Portanto, √† luz do descrito, o desenvolvimento de sua caixa com sensores n√£o √© uma tarefa t√£o exagerada. <br><br>  Assim, ao desenvolver meu sensor, tentei evitar o 'mas' descrito acima: <br><br><ol><li>  Agregamos todos os sensores em uma caixa </li><li>  Fazemos energia com fio (construindo a partir do zero) </li><li>  Fazemos interfaces de acordo com protocolos padr√£o </li></ol><br>  Agora vamos seguir como esse dispositivo deve funcionar. <br><br>  Existem duas op√ß√µes poss√≠veis, e elas dependem de em que ambiente o dispositivo √© usado, em um sistema com controle centralizado, em um sistema distribu√≠do ou em geral como um dispositivo independente. <br><br>  A primeira op√ß√£o √© mais simples porque  s√£o necess√°rios apenas dados brutos dos sensores e, em seguida, o controlador central, que interroga o dispositivo, decide o que fazer com eles; um exemplo desse dispositivo √© um sensor de fuma√ßa do escrit√≥rio.  Por exemplo, os dados do sensor ficaram acima de um certo limite, enquanto o controlador central sabe que o modo armado est√° ativado e, portanto, √© necess√°rio disparar um alarme. <br><br>  A segunda op√ß√£o assume que o pr√≥prio dispositivo deve saber em que modo est√° agora, ser capaz de converter dados brutos de sensores, tomar uma decis√£o sobre informar o usu√°rio.  O desenvolvimento de um dispositivo desse tipo, √© claro, requer mais esfor√ßo, tanto em termos de escrita de um programa quanto em termos de usabilidade. <br><br>  Originalmente, planejei fabricar o dispositivo de acordo com a segunda op√ß√£o e coloquei dois canais de comunica√ß√£o - mqtt e modbus.  Mqtt via WIFI para brincar e modbus via RS-485 para conectar ao sistema de controle dom√©stico. <br><br>  Mqtt via WIFI n√£o √© dif√≠cil de fazer, gra√ßas √†s bibliotecas lua ESP8266 e o ‚Äã‚Äãalgoritmo √© bastante padr√£o: <br><br><ol><li>  na primeira partida ou se voc√™ n√£o conseguir se conectar ao WIFI, precisar√° criar um ponto de acesso a partir do ESP8266 </li><li>  implantar um pequeno servidor da Web nele com par√¢metros WIFI e par√¢metros do servidor mqtt (pode ser feito gratuitamente na Amazon, por exemplo) </li><li>  salve todos os dados inseridos na mem√≥ria do ESP8266 </li><li>  ap√≥s a reinicializa√ß√£o, tente conectar-se ao mqtt pelo WIFI residencial </li></ol><br>  No entanto, quando surgiu a quest√£o de integrar o dispositivo ao sistema dom√©stico via modbus, comecei a perder os dados brutos dos sensores e, eventualmente, coloquei todos os dados brutos na tabela modbus tamb√©m.  Por exemplo, parece que um evento desnecess√°rio de um sensor de movimento, no modo desarmado, pode at√© ser usado para todos os tipos de fun√ß√µes dom√©sticas inteligentes. <br><br>  A tabela modbus √© a seguinte: <br>  Descri√ß√£o do tipo N <br>  0. -r - estado do sensor de etiqueta (1 - modo inativo / 2 - inativo para prote√ß√£o / 3 - modo de prote√ß√£o) <br>  1. -r - motivo do alarme de campo de bits (bit 1 - g√°s / 2 - temperatura / 3 - movimento) <br>  2. -r - detec√ß√£o de movimento nos estados ocioso e de prote√ß√£o (0/1 - sem movimento / movimento) <br>  3. -r - concentra√ß√£o de g√°s (valor bruto de adc) <br>  4. -r - temperatura em graus C <br>  5. -r - valor da luz pr√©-processada (quarto noturno &lt;17 / quarto escuro &lt;50 / crep√∫sculo &lt;150 ensolarado &lt;250) <br>  6. -r - valor da luz (valor bruto do adc) <br>  7. -r - n√∫mero de eventos de alarme neste ciclo de vida <br>  8. -r - n√∫mero de sensortag reiniciados <br>  9. -r - n√£o usado <br>  10 -wr- ativa√ß√£o de alarme (0 - alterne para ocioso / 1 - alterne para alarme) <br>  11. sensibilidade ao movimento de escrita (0 - 100%, significa 0 - mais sens√≠vel) <br>  12. -limite de concentra√ß√£o de g√°s <br><br>  Al√©m disso, como sempre, tudo se resume ao desenvolvimento da placa e do software.  E, neste caso, o desenvolvimento do conselho foi mais dif√≠cil para mim, porque  existe uma parte anal√≥gica (pot√™ncia, liga√ß√£o de sensores de movimento e CO) com a qual n√£o sou muito amig√°vel, e n√£o h√° muito o que escrever sobre software, porque tudo √© realmente simples l√°.  I.e.  n√£o apenas mas comum, li as leituras do ADC, as converti, as processei (usando o m√©todo da janela deslizante em todos os canais) e as coloquei em uma tabela.  N√£o seria ruim fazer a compensa√ß√£o de temperatura do sinal do sensor PIR.  no ver√£o, quando a temperatura ambiente est√° acima de +30 graus, o sensor tem uma resposta muito mais fraca.  Portanto, neste artigo, gostaria de descrever o desenvolvimento do pr√≥prio quadro e prestar um pouco de aten√ß√£o √† usabilidade. <br><br>  Vamos come√ßar com o quadro, eis o que voc√™ precisa fazer para fazer isso: <br><br><ol><li>  escolha um microcontrolador e sensores (sensor pir, luz, temperatura, CO) </li><li>  escolha o driver rs-485 para comunica√ß√£o modbus </li><li>  ESP8266 para comunica√ß√£o mqtt (o que escolher) </li><li>  selecione LED RGB para visualizar o status do dispositivo </li><li>  desenvolver m√≥dulos de pot√™ncia </li><li>  Desenvolver um diagrama de circuito, criar e fabricar placas </li></ol><br>  A escolha de um microcontrolador n√£o √© dif√≠cil, voc√™ s√≥ precisa chegar √† caixa com os devboards e obter uma placa - ser√° suficiente.  Mas, falando s√©rio, n√£o posso me gabar de muitas fam√≠lias de microcontroladores, por isso estou familiarizado com STM32, ATSAM e AVR.  Eu escolhi o √∫ltimo, e s√≥ porque eu tinha um par de Arduino Leonardo por a√≠ e sentindo falta dos velhos tempos MK2.  N√£o vou mencionar que o AVR puxa os p√©s na frequ√™ncia do quartzo, e isso √© √∫til para mim, e que possui uma ampla gama de perif√©ricos e um ADC bastante r√°pido, √© muito mais importante para mim que ele tenha um pacote TQFP e eu possa sold√°-lo, sem um microsc√≥pio e dan√ßando com pandeiros .  Se a escolha de um microcontrolador √© uma quest√£o de dez minutos, a escolha dos sensores n√£o √© uma quest√£o trivial.  Inicialmente, devemos pensar em como conect√°-los, como processar seus sinais e como eles afetar√£o um ao outro.  Se alguns sensores puderem ser retirados do conjunto do Arduino e custarem um centavo, ent√£o com outros, mais raro, voc√™ poder√° mexer mais e gastar mais.  Al√©m disso, a sele√ß√£o de sensores tamb√©m foi limitada pelos meus crit√©rios adicionais: <br><br><ol><li>  Os sensores podem ser conectados como voc√™ quiser, mas n√£o via I2C.  Foi assim que n√£o funcionou para mim implementar o I2C de maneira confi√°vel em microcontroladores, onde o suporte para esse barramento √© metade do hardware e metade do software (como no AVR).  Aconteceu que funciona, funciona por um m√™s e, em seguida, interrompe e nenhuma sequ√™ncia de recupera√ß√£o ajuda, por isso foi decidido usar o maior n√∫mero poss√≠vel de sensores anal√≥gicos conectados ao ADC e usar o SPI apenas para temperatura (a prop√≥sito, a amizade √© forte e confi√°vel). </li><li>  Eles eram confi√°veis ‚Äã‚Äão suficiente e n√£o alteraram suas caracter√≠sticas durante a vida √∫til (defini-o como 10 anos) </li><li>  Eles estavam dispon√≠veis em nosso mercado, para n√£o mexer com os pedidos da Mauser, etc. </li></ol><br>  Como resultado de toda a pesquisa, obtemos este conjunto: <br><br><ol><li>  Sensor PIR - D203S </li><li>  Sensor de luz - GL5516 </li><li>  Sensor de temperatura - LM95071 </li><li>  Sensor de CO - TGS5141 </li></ol><br>  E se com as tr√™s primeiras posi√ß√µes, acho que ningu√©m ter√° perguntas, por que o TGS5141 √© necess√°rio imediatamente n√£o est√° claro.  Voc√™ provavelmente diz - ‚Äúpor que algo t√£o caro, porque existem sensores de CO do centavo do conjunto MQ-7 do arduino‚Äù?  Na verdade, eu experimentei com eles e, como resultado, os recusei por v√°rias raz√µes.  Em primeiro lugar, √© um sensor catal√≠tico e aquece, o que afeta muito a temperatura no gabinete do dispositivo e n√£o permite a compensa√ß√£o de temperatura para o sinal do sensor PIR.  Em segundo lugar, a sensibilidade do MQ-7 deixa muito a desejar, mesmo nas especifica√ß√µes de 10 a 1000ppmm, mas na realidade ainda √© mais triste, al√©m de n√£o haver estabilidade de sensor para sensor.  Terceiro, a vida do sensor em si n√£o √© clara, presumo que suas caracter√≠sticas mudem bastante ao longo dos anos, precisamente porque √© catal√≠tico.  E agora sobre as vantagens do TGS5141 eletroqu√≠mico - ele n√£o aquece, a sensibilidade √© de 0 ~ 5000ppm (com uma caracter√≠stica linear), uma vida √∫til garantida de 10 anos, tamanho pequeno e muitas outras vantagens.  Eu acho que a escolha √© √≥bvia se voc√™ realmente quer fazer algo que vale a pena, e n√£o um of√≠cio fr√≠volo. <br><br>  Escolhemos um microcontrolador, sensores, agora √© hora de cuidar de como dizer ao usu√°rio o que pretend√≠amos.  Como escrevi anteriormente, tenho dois canais de comunica√ß√£o para isso, o rsbus 485 modbus e o mqtt via WIFI.  O que torna poss√≠vel usar meu sensororteg como um dispositivo individual e, portanto, importante √© a indica√ß√£o do estado, de alguma forma, no pr√≥prio dispositivo, por exemplo, LEDs. <br><br>  Tendo decidido sobre o conceito, voc√™ pode prestar um pouco de aten√ß√£o ao restante da base do elemento.  Driver 485go Eu uso o ADM2587E, o chip inclui n√£o apenas o driver em si, mas tamb√©m o isolamento galv√¢nico do transformador em RX, TX e DE, menos apenas o pre√ßo.  Vamos usar o ESP-07 para comunica√ß√£o mqtt via WIFI, aqui, acho, nenhum coment√°rio √© necess√°rio, porque  apenas os pregui√ßosos n√£o fizeram algo no ESP8266.  Eu tive que mexer mais com a exibi√ß√£o visual, por isso decidi usar os LEDs sk6812 RGBW.  Como aconteceu com o AVR, gerenci√°-los n√£o √© muito simples, seus hor√°rios s√£o bastante dif√≠ceis, ent√£o tive que adicionar algumas partes do c√≥digo do assembler, o que n√£o foi planejado originalmente.  Mas o resultado se justificou, resultando informativo e bonito, especialmente se voc√™ brilhar com esses LEDs no final do anel de plexigl√°s.  Essa indica√ß√£o foi sugerida por um funcion√°rio que j√° havia comido um cachorro por causa disso (gra√ßas a Sasha). <br><br><img src="https://habrastorage.org/webt/my/qa/cv/myqacvbiwdbonl_6t8xe5vzchpa.jpeg"><br><br>  Tendo experimentado um pouco de brilho, ficou claro que um n√≠vel de brilho n√£o √© minha decis√£o - √© dif√≠cil ver durante o dia e muito brilhante √† noite.  Portanto, tive que fazer uma altera√ß√£o no brilho do brilho desses LEDs, dependendo da ilumina√ß√£o da sala.  Bem, isso √© tudo, voc√™ descobriu a indica√ß√£o, pensou, mas n√£o, a coisa mais dif√≠cil para mim foi inventar padr√µes e hor√°rios de brilho para eles. <br><br>  Eu parei nesta op√ß√£o: <br><br><ul><li>  azul lento - ocioso, comunica√ß√£o apenas por wifi (falta do modbus) </li><li>  azul r√°pido - alterna do modo inativo para o modo de alarme, comunica√ß√£o apenas por wifi (falta do modbus) </li><li>  verde lento - inativo (comunica√ß√£o modbus OK) </li><li>  verde r√°pido - alterna do modo inativo para o modo de alarme (comunica√ß√£o modbus OK) </li><li>  vermelho lento - modo de alarme </li><li>  alarme vermelho de movimento r√°pido </li><li>  amarelo r√°pido - alarme de g√°s </li></ul><br><img src="https://habrastorage.org/webt/nj/lt/ws/njltwsjartr_qqe4ypsdyx6k9cw.jpeg"><br><br>  N√≥s descobrimos a indica√ß√£o, a pr√≥xima se√ß√£o √© poder. <br><br>  Como eu disse anteriormente, tenho 24V de baixa tens√£o em minha casa, ent√£o a pot√™ncia dos m√≥dulos ser√° exatamente isso.  Olhando para o futuro, direi que depois de fazer o primeiro quadro, tive que refazer muita nutri√ß√£o.  Ent√£o fiquei convencido de que voc√™ precisa ler atentamente as especifica√ß√µes dos conversores redutores, especialmente os locais onde s√£o descritas as nuances da fia√ß√£o.  Com base na pesquisa, optei pelo conversor step-down MCP16311 e ele se mostrou muito exigente, somente depois de fazer exatamente o que estava escrito nas especifica√ß√µes - funcionou.  Mas este n√£o era o maior problema, como se viu mais tarde, alterar o brilho dos LEDs deu uma pequena redu√ß√£o de energia, o que seria suficiente para estragar o sinal do sensor D203S, foi poss√≠vel superar esse problema com capacitores adicionais no circuito operacional do sensor e no circuito conversor abaixador.  Ap√≥s depurar tudo usando o mqtt (via ESP8266), conectei o rs-485 e, novamente, uma falha estava esperando por mim. Na sa√≠da do opamp no canal do sensor D203S, vi novamente o lixo, e esse lixo correspondia claramente √† troca no rs-485.  Em geral, acabou superando isso com um conversor LDO adicional para toda a parte anal√≥gica, e ent√£o a felicidade veio. <br><br>  E se voc√™ combinar tudo, ter√° a seguinte imagem: <br><br><img src="https://habrastorage.org/webt/q5/yd/is/q5ydisgqe5hwfqmcchcfdvtufeg.jpeg"><br><br>  E se tudo isso for tomado e soldado, ser√° algo como isto: <br><br><img src="https://habrastorage.org/webt/go/h0/_m/goh0_mo2-ew9qt8c416sqjqvaao.jpeg"><br><br>  Eles soldaram o quadro, imprimiram o estojo, juntaram tudo, penduraram no teto, os dados entraram no sistema.  Ent√£o, vamos imaginar como voc√™ pode aplicar esses dados em um sistema dom√©stico inteligente, al√©m de, √© claro, que voc√™ pode enviar alarmes para telegramas.  Ainda n√£o fiz nada, exceto o primeiro ponto, mas lancei os seguintes scripts: <br><br><ul><li>  inclus√£o de luz nas escadas, se essa luz n√£o estiver acesa, se o movimento aparecer em qualquer c√¥modo, mais estiver escuro agora, mais a noite </li><li>  abertura autom√°tica da persiana do primeiro andar, se estiver fechada, se j√° for de manh√£ e for detectado movimento na sala pela primeira vez em um dia </li><li>  abrir as abas de ventila√ß√£o se a concentra√ß√£o de CO exceder algum n√≠vel e fech√°-las se o n√≠vel de CO cair (na verdade, em uma sala com lareira) </li><li>  abra as aberturas de ventila√ß√£o se a temperatura exceder um determinado limite e feche-as </li><li>  desligamento autom√°tico da persiana do primeiro andar, se as persianas estiverem abertas e se os sensores de movimento funcionarem na rua √† noite e a casa estiver em guarda noturna. </li></ul><br>  Ent√£o complemente, tornaremos a casa mais inteligente ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479760/">https://habr.com/ru/post/pt479760/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479746/index.html">O software corporativo torna seus funcion√°rios mais legais. Voc√™ precisa disso?</a></li>
<li><a href="../pt479748/index.html">GoLand 2019.3 com desempenho aprimorado, suporte aprimorado para m√≥dulos Go e muito mais</a></li>
<li><a href="../pt479750/index.html">2. Introdu√ß√£o ao Fortinet v 6.0. Arquitetura da solu√ß√£o</a></li>
<li><a href="../pt479756/index.html">Abrir dados. Roscosmos. Apanha-se com a Am√©rica</a></li>
<li><a href="../pt479758/index.html">Pentest. A pr√°tica de teste de penetra√ß√£o ou "hacking √©tico". Novo curso da OTUS</a></li>
<li><a href="../pt479762/index.html">Os 6 erros mais comuns que os desenvolvedores cometem ao escrever HTML e CSS</a></li>
<li><a href="../pt479764/index.html">O n√∫mero de investidores privados na Bolsa de Moscou ultrapassou 3,5 milh√µes de pessoas</a></li>
<li><a href="../pt479768/index.html">Instalando e configurando o AlienVault SIEM (OSSIM)</a></li>
<li><a href="../pt479774/index.html">Narra√ß√£o nos arredores ou por que cenas cortadas n√£o s√£o uma panac√©ia</a></li>
<li><a href="../pt479776/index.html">Viagem profissional: como as aeromo√ßas vivem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>