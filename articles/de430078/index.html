<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👓 🖖🏿 🚦 So steuern Sie Elektrogeräte, funkgesteuerte Modelle und motorisierte Kinderwagen mit einem Blick 👞 ✌🏽 😂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In meinen vorherigen Artikeln habe ich darüber gesprochen, wie man gelähmten Menschen hilft, mit der Außenwelt zu kommunizieren: ihre Wünsche kommuniz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So steuern Sie Elektrogeräte, funkgesteuerte Modelle und motorisierte Kinderwagen mit einem Blick</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430078/"><img src="https://habrastorage.org/webt/0c/pu/lz/0cpulz3okxsy9r7qjjbrkoufiww.jpeg"><br><br>  In meinen vorherigen Artikeln habe ich darüber gesprochen, wie man gelähmten Menschen hilft, mit der Außenwelt zu kommunizieren: ihre Wünsche kommunizieren, Briefe schreiben, nur mit ihren Augen im Internet surfen und ein Gerät, das Ihren Blick verfolgt (Eye Tracker).  In diesem Fall bleibt eine Person physisch immer noch durch die Welt des Computers und des Bettes begrenzt. <br><br>  Hier werde ich über die einfachsten (meiner Meinung nach) Möglichkeiten sprechen, etwas in der Außenwelt selbst zu ändern: Licht oder eine Girlande an einem Neujahrsbaum einschalten, ein Geländewagen über eine Funksteuerung steuern, einen motorisierten Wagen in die richtige Richtung bewegen. <br><a name="habracut"></a><br><h3>  Inhalt </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einführung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erforderliche Komponenten</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verbinden Sie Arduino mit einem Computer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steckdosensteuerungsschema</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Motorsteuerkreis</a> <br><br><a name="p0"></a><h2>  Einführung </h2><br>  Neben dem Blickverfolgungsgerät und der hier in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Artikel beschriebenen kostenlosen Software benötigen wir etwas, das den Computer mit externen Objekten verbindet. <br><br>  Trotz des Verkaufs verschiedener Geräte, die von einem Computer aus gesteuert werden können, bestand die einfachste und billigste Option für mich darin, zwei Teile zu verwenden: eine Arduino-Karte und eine Multi-Relay-Karte. <br><br>  Wenn Sie noch nie auf Arduino gestoßen sind, geben Sie das Lesen immer noch nicht auf. In Zukunft werden Sie feststellen, dass es in diesem Zusammenhang recht einfach ist, damit zu arbeiten. Nicht umsonst stehen viele auf Arduino basierende Kinderdesigner zum Verkauf. <br><br>  Wenn Sie mit der elektrischen Sicherheit nicht vertraut sind und noch nie eine elektrische Verkabelung im Haus durchgeführt haben, versuchen Sie nicht, die Stromkreise zu wiederholen, die den Anschluss an Steckdosen verwenden! <br><br>  Alles, was Sie über Arduino wissen müssen: Dies ist ein kleines Gerät, das in den USB-Anschluss des Computers eingesteckt werden kann. Danach kann es die elektrischen Signale an seinen Kontakten gemäß den erhaltenen Anweisungen ein- und ausschalten. <br><br>  Die Signale sind eher stromsparend. Um etwas Stärkeres zu steuern (z. B. Glühbirnen), setzen wir eine Relaiseinheit ein, die als Reaktion auf das Signal vom Arduino die Steuerkontakte externer Geräte schließt und öffnet.  Darüber hinaus isolieren Relais die Stromkreise des Arduino + -Computers von den Stromkreisen des verwalteten Geräts. <br>  Die Grundlage der Steuerkreise für Steckdosen und Motoren, die später beschrieben werden, sind die folgenden: zwei Teile, die über Drähte miteinander verbunden sind, über ein USB-Kabel mit einem Computer verbunden sind und Drähte zu dem, was wir steuern möchten: <br><br><img src="https://habrastorage.org/webt/xo/hp/8j/xohp8jg5wedmd0x2v98jdlhatvy.png"><br><br>  In der realen Welt könnte es so aussehen: <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Wir senden einen Befehl von einem Computer, Arduino einer seiner Kontakte schaltet das Relais ein / aus, das der Schalter eines beliebigen Geräts oder eine separate Taste am Gerät ist. <br><br><a name="p1"></a><h2>  Erforderliche Komponenten </h2><br>  Wir werden es brauchen (in Klammern stehen die Preise von 2018 in einem örtlichen Geschäft. Wer in China kaufen kann, kann viel Geld sparen, verliert aber mit der Zeit): <br><br>  1) Arduino UNO-Karte mit einem USB-Kabel (möglicher Aftermarket mit billigem CH340 anstelle von teurem FTDI) (450 Rubel) <br><br>  2) Eine Karte mit vier Relais, die mit einer Spannung von 5 Volt betrieben werden und Geräte mit einer Spannung von 220 Volt steuern können.  (450 Rubel).  Es gibt immer noch Boards, die mit 12 Volt arbeiten. Verwechseln Sie es nicht! <br><br>  3) Ein Bündel von Drähten zum Verbinden von zwei Platinen.  In meinem Fall waren Drähte mit einer Buchse auf der einen Seite und einem Stift auf der anderen Seite erforderlich, da der Relaisblock Stiftkontakte und Arduino Buchsen hat.  Schauen Sie sich beim Kauf von Drähten (150 Rubel) die Anschlüsse auf Ihren Platinen an. <br><br><img src="https://habrastorage.org/webt/2a/ma/kf/2amakfyji4k_hbtvozjophg_5hu.jpeg"><br><br><a name="p2"></a><h2>  Verbinden Sie Arduino mit einem Computer </h2><br>  Installieren Sie zunächst die Arduino-Programmiersoftware von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.arduino.cc</a> : <br><br>  Klicken Sie auf der Seite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.arduino.cc/en/Main/Software</a> auf "Windows Installer": <br><br><img src="https://habrastorage.org/webt/vj/nw/vc/vjnwvcfu76izpyiarxlymwfftpe.png"><br><br>  Klicken Sie auf "Einfach herunterladen": <br><br><img src="https://habrastorage.org/webt/wu/3q/aj/wu3qajjogz-8xyrpv2rankehjeq.png"><br><br>  Laden Sie das Installationsprogramm herunter und führen Sie es aus: <br><br><img src="https://habrastorage.org/webt/db/_d/lx/db_dlxuein4fw7aofwgu-8syzio.png"><br><br>  Wir sind uns in allem einig: <br><br><img src="https://habrastorage.org/webt/xq/nr/n6/xqnrn6hcxu9_1h0zzf2eda0kkm8.png"><br><br><img src="https://habrastorage.org/webt/p7/7h/-d/p77h-dqmssaisjxucixrqdoebvk.png"><br><br><img src="https://habrastorage.org/webt/05/lh/q4/05lhq4bozxrk4jm5rvj1xxzgh6k.png"><br><br><img src="https://habrastorage.org/webt/sl/mu/57/slmu57e2qjf9oemniy3rqsugm5c.png"><br><br>  Wenn das Programm installiert ist, verbinden Sie die Arduino-Karte und den Computer mit einem USB-Kabel. <br><br>  Die Lichter auf der Arduino-Platine leuchten auf, und im Geräte-Manager sehen Sie, dass ein neuer Port angezeigt wurde und ihm eine bestimmte Nummer zugewiesen wurde, z. B. COM3: <br><br><img src="https://habrastorage.org/webt/fv/yf/fu/fvyffux9p-o-_kx6cjtqgejgv38.png"><br><br>  Lassen Sie uns seine Nummer in COM9 ändern, da in Zukunft alles speziell an COM9 gebunden sein wird.  Klicken Sie dazu mit der rechten Maustaste darauf, rufen Sie das Kontextmenü auf und wählen Sie darin „Eigenschaften“: <br><br><img src="https://habrastorage.org/webt/wx/2v/ce/wx2vceqt65nzglwuevp0rwh3tja.png"><br><br>  Klicken Sie auf der Registerkarte "Portparameter" auf die Schaltfläche "Erweitert": <br><br><img src="https://habrastorage.org/webt/yw/d_/6-/ywd_6-uh4-83w2kcx4ng_i1rijw.png"><br><br>  Wählen Sie abschließend „COM9“ als COM-Portnummer. <br><br><img src="https://habrastorage.org/webt/5n/tw/bg/5ntwbgktedghwn61bkqtkhbjf5e.png"><br><br>  Schließen Sie alle geöffneten Fenster mit der Schaltfläche „OK“. Entfernen Sie dann das USB-Kabel und stecken Sie es ein, um sicherzustellen, dass Arduino weiterhin über den COM9-Anschluss eine Verbindung herstellt, wenn es an denselben USB-Anschluss des Computers angeschlossen ist: <br><br><img src="https://habrastorage.org/webt/fo/cg/jj/focgjjlfl9e1cvk1goluncdtqb8.png"><br><br>  Rufen Sie nun das kürzlich installierte Arduino-Programm von der Site aus auf und konfigurieren Sie es: <br><br><img src="https://habrastorage.org/webt/zd/xa/yy/zdxayy6epjys_elzlitystsu4mm.png"><br><br>  Stellen Sie im Menü "Extras" die Karte "Arduino UNO" und den Port "COM9" ein: <br><br><img src="https://habrastorage.org/webt/u5/kn/jq/u5knjq5m5ctlnevdrp-cnsewopy.png"><br><br>  Jetzt ist alles bereit, die Pläne zu sammeln und ihnen Leben einzuhauchen. <br><br><a name="p3"></a><h2>  Steckdosensteuerungsschema </h2><br>  <strong>Wenn Sie mit der elektrischen Sicherheit nicht vertraut sind und noch nie im Haus verkabelt haben, versuchen Sie nicht, dieses Diagramm zu wiederholen!</strong>  <strong>Die Schaltung verbraucht lebensbedrohliche Spannung!</strong> <br><br>  Kontrollfragen noch einmal: <br><br><ul><li>  Wissen Sie, wie man einen Draht mit einer Phase von einem Draht mit einer Null in einer Buchse unterscheidet? </li><li>  Wissen Sie, wie man die Drähte klingelt und sicherstellt, dass nach dem Einstecken kein Kurzschluss auftritt? </li></ul><br>  Wenn Sie diese Fragen unsicher beantworten, bitten Sie eine erfahrene Person, die Schaltung zusammenzubauen. <br><br>  Nun zum Punkt. <br><br>  Es funktioniert so: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cG7eZB9ynrg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Das Socket-Anschlussdiagramm sieht folgendermaßen aus: <br><br><img src="https://habrastorage.org/webt/au/la/h8/aulah8yv5nvdhv7pktidilna2hs.png"><br><br>  Wir liefern Null direkt an die Steckdosen und die Phase durch das Relais.  Wenn Sie das Gegenteil tun, funktioniert es, es besteht jedoch die Gefahr eines Stromschlags durch OFF MALFUNCTIONAL-Geräte.  Das heißt, greifen Sie nach dem ausgeschalteten fehlerhaften Fernseher, und es wird Sie schockieren. <br><br>  Wenn das Haus eine Schutzmasse hat, verwenden Sie eine Erdungssteckdose. <br><br>  Als nächstes kommt mein Referenzdesign.  Darin habe ich einen Fehler mit der Farbe der Drähte gemacht: Die Farbe des neutralen Drahtes wurde braun und die Phasen blau.  Achten Sie darauf. <br><br>  Wir nehmen ein Stück der Platine in der entsprechenden Größe (von links nach rechts): Arduino, Relaisblock, vier Buchsen, eine Halterung zum Drücken des Drahtes auf die Platine. <br><br><img src="https://habrastorage.org/webt/4n/ad/yj/4nadyjfwr_9zqsjfqirzp5kmcjg.jpeg"><br><br>  Wir schneiden den Überschuss ab und machen mit einem Meißel eine Nut für Drähte, damit sie frei unter die Buchsen passen. <br><br><img src="https://habrastorage.org/webt/c1/cn/4k/c1cn4krbvgwhyerhsjgdf1blh2k.jpeg"><br><br>  Wir schrauben die Arduino-Platinen und den Relaisblock mit Schrauben an die Platine und verlegen Kunststoffscheiben. <br><br><img src="https://habrastorage.org/webt/xl/ss/xt/xlssxtywewk_wiqbg8xbq-sjbxe.jpeg"><br><br>  Wenn die Unterlegscheiben nicht zur Hand waren, können Sie die Dübel schneiden: <br><br><img src="https://habrastorage.org/webt/j8/nu/4c/j8nu4c3dgliutidvgzey80c3qiq.jpeg"><br><br>  Bereiten Sie die Drähte vor: Schneiden Sie sie auf die gewünschte Länge und entfernen Sie sie von der Isolierung.  Es ist ratsam, sie an Kontaktstellen mit Steckdosen und Relais mit einem Lötkolben zu verzinnen. <br><br><img src="https://habrastorage.org/webt/7g/u-/js/7gu-jsezhlrrzxq-tqy37bi__py.jpeg"><br><br>  Drücken Sie den Draht mit einer Halterung auf die Platine, damit er nicht herausgezogen werden kann. <br><br><img src="https://habrastorage.org/webt/xt/mb/hm/xtmbhmcglfylqsh4txocs50bn9k.jpeg"><br><br>  Wir verbinden die Drähte und schrauben die Buchsen.  Wir nennen die Kette. <br><br><img src="https://habrastorage.org/webt/h_/_b/hl/h__bhl0ovpuzpdp9m9zwi0xwrsy.jpeg"><br><br><img src="https://habrastorage.org/webt/gd/6c/ga/gd6cgayr0-nalqayyxt8lsiquli.jpeg"><br><br>  Wir verbinden die Arduino-Platine mit einem Kabelbündel gemäß dem obigen Diagramm mit der Relaiseinheit. <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Wir bedecken die Platten mit einem Schutzgehäuse aus nicht leitendem Material.  <strong>Dies muss hier erfolgen, da für den Relaisblock eine lebensbedrohliche Spannung geeignet ist!</strong>  Wickeln Sie im Extremfall mindestens die elektrischen Kontakte des Relais ein. <br><br>  Ich habe einen Behälter für Produkte aus Hartplastik als Gehäuse verwendet und ihn mit Schrauben befestigt: <br><br><img src="https://habrastorage.org/webt/dh/mj/4j/dhmj4j30zlicmjwgjrkylk5g7km.jpeg"><br><br>  Denken Sie daran, ein Loch für das USB-Kabel zu machen. <br><br><img src="https://habrastorage.org/webt/mg/yb/5h/mgyb5hkbsv4zws5b0zbpdixbrq8.jpeg"><br><br>  Schließen Sie das Gerät an den Computer an, schließen Sie es jedoch <strong>nicht an eine Steckdose an</strong> . <br><br>  Wir starten das Programm „Arduino“ und kopieren diesen Programmtext dort: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     2,3,4,5 int Relay1=2, Relay2=3, Relay3=4, Relay4=5; void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void loop() { delay (200); // 1.     while(Serial.available()) { switch(Serial.read()) { case '0': //    digitalWrite(Relay1,0); break; case '1': //    digitalWrite(Relay1,1); break; case '2': //    digitalWrite(Relay2,0); break; case '3': //    digitalWrite(Relay2,1); break; case '4': //    digitalWrite(Relay3,0); break; case '5': //    digitalWrite(Relay3,1); break; case '6': //    digitalWrite(Relay4,0); break; case '7': //    digitalWrite(Relay4,1); break; } // switch } // while }</span></span></code> </pre> <br>  Klicken Sie dann in Arduino auf den Download-Button des Programms (siehe Abbildung unten).  Wenn alles fehlerfrei gelaufen ist, sehen wir die Aufschrift „Download abgeschlossen“. <br><br><img src="https://habrastorage.org/webt/sa/lq/ps/salqpsq3wdq3kpsylezoakvmn1i.png"><br><br>  Überprüfen Sie, ob unser Gerät Befehle ausführt.  Rufen Sie dazu den Port Monitor auf: <br><br><img src="https://habrastorage.org/webt/68/wq/mw/68wqmw6ebryw_wohhhew71h9mx0.png"><br><br>  Jetzt geben wir die Nummer <strong>1 ein</strong> und drücken die Eingabetaste oder die Schaltfläche "Senden": <br><br><img src="https://habrastorage.org/webt/u3/iq/6t/u3iq6tjtyiw16d9rq_maya-mqgu.png"><br><br>  Ein charakteristisches Klicken des Relais ist zu hören und der Kontakt in der ersten Buchse wird mit dem Phasendraht verbunden.  Überprüfen Sie dies mit einem Tester.  Wählen Sie dann die Nummer 0 und das Relais trennt den Kontakt. <br><br>  Wenn Sie sich den Text des Programms ansehen, können Sie sehen, was passieren wird, wenn wir andere Zahlen eingeben: <br><br>  3.2 - einschalten, zweite Steckdose ausschalten <br><br>  5,4 - einschalten, dritte Steckdose ausschalten <br><br>  7.6 - einschalten, vierte Steckdose ausschalten <br><br>  Überprüfen Sie mit einem Tester den Anschluss dieser Steckdosen.  Nach der Überprüfung können Sie das Kabel an die Spannung im Netzwerk anschließen und mit dem Ein- und Ausschalten realer Geräte beginnen. <br><br>  Unsere nächste Aufgabe ist es, die Geräte mit einem Blick ein- und auszuschalten.  Dazu konfigurieren wir das hier in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Artikel beschriebene <strong>bkb-</strong> Programm <strong>(DIE LETZTE VERSION DES PROGRAMMS WIRD BENÖTIGT !!!)</strong> . <br><br>  Angenommen, wir möchten eine Lampe und eine Weihnachtsbaumgirlande ein- und ausschalten. <br>  Im Standard-Malprogramm zeichnen wir vier 200x200-Zeichnungen im <strong>BMP-</strong> Format: <br><br><img src="https://habrastorage.org/webt/ns/ly/ri/nslyribneenospzbhf8dxftucic.png"><br><br>  Wir werden auch vier Batch-Dateien erstellen: <strong>c.cmd, d.cmd, e.cmd, f.cmd</strong> <br><br>  Sie enthalten Befehle zum Senden der Zeichen 1,0,3,2 an den COM9-Port.  Und wir erinnern uns, dass sie die erste und zweite Buchse ein- und ausschalten.  Es ist wichtig, dass zwischen den beiden Zeilen in diesen Dateien keine Leerzeilen stehen! <br><br>  c.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 1 &gt; com9:</code> </pre><br>  d.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 0 &gt; com9:</code> </pre><br>  e.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 3 &gt; com9:</code> </pre><br>  f.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 2 &gt; com9:</code> </pre><br>  Wir überschreiben die erstellten <strong>.bmp-</strong> und <strong>.cmd-</strong> Dateien im <strong>Grid-</strong> Verzeichnis des <strong>bkb-</strong> Programms. <br><br>  Nach dem Start des <strong>bkb-</strong> Programms im Tabellenmodus erscheint eine neue fünfte Zeile mit unseren Bildern: <br><br><img src="https://habrastorage.org/webt/cn/jz/aq/cnjzaqskmsg3wwqe2odhwijsk4g.jpeg"><br><br>  Wenn wir den Blick auf das Bild richten, wird die entsprechende Aktion gestartet. <br><br>  <strong>ACHTUNG!</strong>  Das erste Mal nach dem Starten des Programms funktioniert die Aktion nicht.  Alle folgenden Zeiten - es funktioniert.  Dies liegt an der Tatsache, dass sich während der ersten Initialisierung des Ports das Signal auf der DTR-Leitung ändert, wodurch der Arduino neu gestartet wird, was ungefähr drei Sekunden dauert. <br><br>  Sie sagen, dass dies mit einem Lötkolben gelöst werden kann, aber ich habe es nicht gewagt, mich auf solche Schmuckarbeiten einzulassen.  Denken Sie also vorerst daran, dass Sie das erste Mal zweimal einschalten müssen. <br><br>  <u>Bemerkung</u> <br><br>  Sie haben wahrscheinlich bereits verstanden, dass Sie in CMD-Dateien beliebige externe Programme aufrufen können.  Wenn Sie ein Gerät haben, das über die Befehlszeile gesteuert werden kann, können Sie diese Befehle selbst ausführen, indem Sie die erforderlichen Aktionen den Bildern in der Tabelle zuordnen. <br><br><a name="p4"></a><h2>  Motorsteuerkreis </h2><br>  Mein Freund rüstete den Kreiselroller auf und ersetzte ihn durch die Hinterachse des Kinderwagens.  Die Verwaltung erfolgte durch Fernbedienungen über das Arduino-Board. <br><br><img src="https://habrastorage.org/webt/6g/gi/ef/6ggiefa4rwsv9n7bkjpz9hdenzi.jpeg"><br><br>  Wir beschlossen, dem Kind die Möglichkeit zu geben, den Kinderwagen mit einem Blick selbst zu steuern.  Zu diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Zweck wurde</strong> dem <strong>bkb-</strong> Programm der <strong>Rollstuhlsteuerungsmodus</strong></a> hinzugefügt. <br><br><img src="https://habrastorage.org/webt/k_/vw/4c/k_vw4cp32if1tiyx_tld9x8js6w.png"><br><br>  Nach dem Start in diesem Modus werden auf dem Bildschirm Pfeile angezeigt, die dazu führen, dass das Programm Steuerzeichen an den COM9-Anschluss sendet, die dann vom Kinderwagen so interpretiert werden, dass sie sich vorwärts / rückwärts, links / rechts drehen und anhalten. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2QgKxeQeUAQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Während der Fertigstellung des Kinderwagens habe ich beschlossen, dasselbe Programm für die Fernsteuerung des Kettenpanzer-Modells zu verwenden.  Dies ist auch eine ziemlich nützliche Sache.  Erstens erhält das Kind Fähigkeiten, die zur Steuerung des Kinderwagens nützlich sind.  Zweitens ist dies nur ein aufregendes Spiel. <br><br><img src="https://habrastorage.org/webt/hg/gp/ov/hggpovliv-swlqqzlziurfgag2o.jpeg"><br><br>  Jede Spur des Panzers wird von einem Hebel gesteuert, der vorwärts oder rückwärts bewegt werden kann.  Wenn er den Hebel nach vorne bewegt, drückt er den Knopf und zwingt den Motor, sich vorwärts zu drehen.  Beim Zurückbewegen des Hebels drückt er den Knopf, wodurch sich der Motor in die entgegengesetzte Richtung dreht.  Es ist nicht möglich, zwei Tasten gleichzeitig zu drücken - vorwärts und rückwärts ist nicht möglich. <br>  Die Relaiseinheit wurde gemäß der folgenden Abbildung an die Tasten der Fernbedienung angeschlossen.  In der Schaltung können die Tasten „Motor vorwärts“ und „Motor zurück“ nicht gleichzeitig aktiviert werden.  Ein Relais schaltet den Motor ein / aus und das zweite Relais wählt die Richtung vorwärts oder rückwärts. <br><br>  Suchen Sie auf der Bedienfeldplatine, wo die Tasten angeschlossen sind, und verbinden Sie sie gemäß dem obigen Diagramm. <br><br>  Bitte beachten Sie, dass Arduino im Gegensatz zur vorherigen Schaltung den Relaisblock mit den Pins 6 bis 9 steuert. <br><br><img src="https://habrastorage.org/webt/te/ch/ag/techagksw5fgfqfnumnz0oywovg.png"><br><br>  Ich habe den Relaisblock über den Stecker mit der Fernbedienung verbunden, damit die Fernbedienung einfach getrennt und separat verwendet werden kann: <br><br><img src="https://habrastorage.org/webt/_y/5z/z-/_y5zz-xbgdn7b8lwz-k9n5aignk.jpeg"><br><br>  Das Programm, das Arduino herunterladen muss, empfängt dieselben Befehle vom Computer, die zur Steuerung des motorisierten Kinderwagens verwendet werden: <br><br>  F-vorwärts <br>  B-zurück <br>  L-links <br>  R-rechts <br>  S-Stop <br><br>  Der Text des Programms ist unten angegeben. <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     6,7,8,9 int Relay1=6, Relay2=7, Relay3=8, Relay4=9; int heartbeat=0; //     void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void RCStop() { digitalWrite(Relay1,0); digitalWrite(Relay2,0); digitalWrite(Relay3,0); digitalWrite(Relay4,0); } void RCForward() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCBack() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void RCLeft() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCRight() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void loop() { // 1.     while(Serial.available()) { switch(Serial.read()) { case 'S': //  ! RCStop(); heartbeat=0; break; case 'F': //  ! RCForward(); heartbeat=0; break; case 'B': //  ! RCBack(); heartbeat=0; break; case 'L': //  ! RCLeft(); heartbeat=0; break; case 'R': //  ! RCRight(); heartbeat=0; break; } // switch } // while // 2.    //       -   delay(10); heartbeat++; if(heartbeat&gt;30) { heartbeat=30; //    ! RCStop(); //   -   } }</span></span></code> </pre><br>  Wenn die Verbindung zum Computer unterbrochen wird (innerhalb von 0,3 Sekunden kommen keine Zeichen an, schaltet der Arduino die Motoren aus).  Diese Situation kann modelliert werden, indem Sie Ihre Augen schließen und gleichzeitig Ihre Augen kontrollieren.  Aitreker kann die Blickrichtung nicht bestimmen und es werden keine Signale gesendet.  Die Motoren stoppen. <br><br>  Ich habe das Panzermodell mit einer Videokamera ausgestattet, die normalerweise als Wechselkurs oder FPV (First Person View) bezeichnet wird und ein analoges Signal mit einer Frequenz von etwa 5,8 GHz überträgt.  Ich nahm eine der billigsten Kameras, die ebenfalls mit einem Sender und einer Antenne ausgestattet war: AKK BA-3.  Es hat mich 1050 Rubel gekostet.  Die Kamera mit dem Sender ist so klein, dass sie in die Hände der Lego-Figur passt: <br><br><img src="https://habrastorage.org/webt/ch/0q/mq/ch0qmqoqvfhexoxoeofqqvasmr8.jpeg"><br><br>  Damit die Kamera funktioniert, muss sie nur an die Stromversorgung angeschlossen werden (von 3,2 bis 5,5 Volt).  Wählen Sie dann mit einer einzigen Taste den Bereich, die Frequenz und die Leistung des Senders aus. <br><br>  Die Kamera erwärmt sich erheblich, daher empfehle ich, die Mindestleistung (25 Milliwatt) einzustellen.  Außerdem habe ich es mit einer Spannung von 6 Volt an die Tankbatterie angeschlossen, was die zulässigen Werte überschreitet.  Daher weiß ich nicht, wie lange es dauern wird.  Ich empfehle Ihnen, einen Spannungsstabilisator zu verwenden, um die Kamera mit Strom zu versorgen. <br><br>  Beim Anbringen der Kamera habe ich ein Element des Lego-Konstruktors auf den Tank geklebt, und die restlichen Elemente wurden bereits mit einer einfachen Verbindung daran befestigt.  Dies erleichtert das Entfernen und Aufräumen der Kamera.  Wenn Sie auf ein Hindernis stoßen, kann die Kamera einfach hochgeklappt werden, um Schäden zu vermeiden. <br><br><img src="https://habrastorage.org/webt/j0/4n/1z/j04n1zkr_zt7dl1itjgxfv8tr5c.jpeg"><br><br>  Um das Videosignal von der Kamera zu empfangen, habe ich den Eachine ROTG01-Empfänger verwendet.  Er nahm nicht neu für 1800 Rubel.  Es ist nur eine Box mit einer Antenne, die an den USB-Anschluss des Computers angeschlossen wird und als USB-Kamera sichtbar ist.  Das heißt, wir starten die Kameraanwendung in Windows und sehen, was der Empfänger akzeptiert.  Schon zu Beginn müssen Sie die einzige Taste am Empfänger gedrückt halten, damit der Äther gescannt und die Frequenz ermittelt wird, mit der unsere Kamera ein Signal sendet. <br><br>  Im Allgemeinen benötigen wir drei USB-Anschlüsse im Computer: <br><br>  - für einen IT-Tracker <br>  - für Arduino die Steuerung des Tankbedienfelds <br>  - für Videoempfänger <br><br><img src="https://habrastorage.org/webt/ya/6l/9j/ya6l9jsx4gh3xrvgtcwilaqfvci.jpeg"><br><br>  Wir starten die Bildausgabe von der Kamera, zum Beispiel das Programm "Kamera".  Wir starten das Programm <strong>bkb</strong> und wählen den Steuermodus für den motorisierten Kinderwagen. <br><br>  Was als nächstes passieren kann, zeigt das Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vWreZ72HPvM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es ist ersichtlich, dass die Bewegungsgeschwindigkeit und insbesondere die Geschwindigkeit der Kurven zu groß ist.  Wenn Sie sich also für ein funkgesteuertes Modell entscheiden, wählen Sie das langsamste.  Ein Bagger oder so. <br><br><h3>  Und warum nicht den fertigen „Spionageroboter“ nehmen? </h3><br>  Ich fiel in die Hände eines solchen, HappyCow 777-325. <br><br><img src="https://habrastorage.org/webt/se/u_/ep/seu_eptbnfyu4lqwiekwmqttqbk.jpeg"><br><br>  Ich war begeistert: Er hat alles und die Fernbedienung und Videoübertragung und fährt ziemlich langsam.  Es gibt jedoch eine Funktion: Sie wird nur über eine Anwendung in Android oder iOS gesteuert.  Nun, wir werden dies durch die Fernbedienung von Android lösen, zum Beispiel mit <strong>scrcpy</strong> . <br><br>  Es stellte sich jedoch heraus, dass die Maschine zusätzlich zu den korrigierbaren Mängeln (enger Betrachtungswinkel der Kamera) eine unverbesserliche aufweist.  Das über WLAN übertragene Video hat eine schreckliche Verzögerung. <br>  Das heißt, dieser Roboter ist schon lange gegen etwas gekracht, und Sie alle drücken auf das Gas und denken, dass es noch kein Hindernis erreicht hat. <br><br>  Für ein Kind, das lernt, eine Maschine fernzusteuern, ist dies meiner Meinung nach inakzeptabel. <br><br>  So bekommt der Roboter einen Rücktritt.  Obwohl ich das Chassis davon ausleihen würde. <br><br><h2>  Fazit </h2><br>  Ich wünsche Ihnen allen viel Erfolg bei der Wiederholung und Entwicklung der beschriebenen technischen Lösungen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430078/">https://habr.com/ru/post/de430078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430068/index.html">Ordnung der Puppe</a></li>
<li><a href="../de430070/index.html">Stapel und Warteschlange sind zwei schlechte Paradigmen und was kann dagegen getan werden?</a></li>
<li><a href="../de430072/index.html">Serverseitig Swift Underestimated: Interview mit Paul Hudson</a></li>
<li><a href="../de430074/index.html">Wie ich fast einen Virus gefangen hätte, der versucht, Stiefel zu verkaufen</a></li>
<li><a href="../de430076/index.html">Kostenlose Ausstrahlung von DotNext 2018 Moskau</a></li>
<li><a href="../de430080/index.html">Wechseln zu einem Cluster mit 1C-Bitrix: Web Environment</a></li>
<li><a href="../de430082/index.html">Travinibay: Habr und RUVDS - Russische IT-Seewölfe</a></li>
<li><a href="../de430084/index.html">Oracle JDK muss bezahlen. Was sind jetzt die Optionen?</a></li>
<li><a href="../de430086/index.html">Was ist neu in Android 9 Pie für Sony Xperia Smartphones?</a></li>
<li><a href="../de430092/index.html">Die Banken der Credit Suisse und der UBS beschuldigten Apple Pay und Samsung Pay des koordinierten Boykotts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>