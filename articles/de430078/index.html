<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëì üññüèø üö¶ So steuern Sie Elektroger√§te, funkgesteuerte Modelle und motorisierte Kinderwagen mit einem Blick üëû ‚úåüèΩ üòÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In meinen vorherigen Artikeln habe ich dar√ºber gesprochen, wie man gel√§hmten Menschen hilft, mit der Au√üenwelt zu kommunizieren: ihre W√ºnsche kommuniz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So steuern Sie Elektroger√§te, funkgesteuerte Modelle und motorisierte Kinderwagen mit einem Blick</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430078/"><img src="https://habrastorage.org/webt/0c/pu/lz/0cpulz3okxsy9r7qjjbrkoufiww.jpeg"><br><br>  In meinen vorherigen Artikeln habe ich dar√ºber gesprochen, wie man gel√§hmten Menschen hilft, mit der Au√üenwelt zu kommunizieren: ihre W√ºnsche kommunizieren, Briefe schreiben, nur mit ihren Augen im Internet surfen und ein Ger√§t, das Ihren Blick verfolgt (Eye Tracker).  In diesem Fall bleibt eine Person physisch immer noch durch die Welt des Computers und des Bettes begrenzt. <br><br>  Hier werde ich √ºber die einfachsten (meiner Meinung nach) M√∂glichkeiten sprechen, etwas in der Au√üenwelt selbst zu √§ndern: Licht oder eine Girlande an einem Neujahrsbaum einschalten, ein Gel√§ndewagen √ºber eine Funksteuerung steuern, einen motorisierten Wagen in die richtige Richtung bewegen. <br><a name="habracut"></a><br><h3>  Inhalt </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einf√ºhrung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erforderliche Komponenten</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verbinden Sie Arduino mit einem Computer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steckdosensteuerungsschema</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Motorsteuerkreis</a> <br><br><a name="p0"></a><h2>  Einf√ºhrung </h2><br>  Neben dem Blickverfolgungsger√§t und der hier in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Artikel beschriebenen kostenlosen Software ben√∂tigen wir etwas, das den Computer mit externen Objekten verbindet. <br><br>  Trotz des Verkaufs verschiedener Ger√§te, die von einem Computer aus gesteuert werden k√∂nnen, bestand die einfachste und billigste Option f√ºr mich darin, zwei Teile zu verwenden: eine Arduino-Karte und eine Multi-Relay-Karte. <br><br>  Wenn Sie noch nie auf Arduino gesto√üen sind, geben Sie das Lesen immer noch nicht auf. In Zukunft werden Sie feststellen, dass es in diesem Zusammenhang recht einfach ist, damit zu arbeiten. Nicht umsonst stehen viele auf Arduino basierende Kinderdesigner zum Verkauf. <br><br>  Wenn Sie mit der elektrischen Sicherheit nicht vertraut sind und noch nie eine elektrische Verkabelung im Haus durchgef√ºhrt haben, versuchen Sie nicht, die Stromkreise zu wiederholen, die den Anschluss an Steckdosen verwenden! <br><br>  Alles, was Sie √ºber Arduino wissen m√ºssen: Dies ist ein kleines Ger√§t, das in den USB-Anschluss des Computers eingesteckt werden kann. Danach kann es die elektrischen Signale an seinen Kontakten gem√§√ü den erhaltenen Anweisungen ein- und ausschalten. <br><br>  Die Signale sind eher stromsparend. Um etwas St√§rkeres zu steuern (z. B. Gl√ºhbirnen), setzen wir eine Relaiseinheit ein, die als Reaktion auf das Signal vom Arduino die Steuerkontakte externer Ger√§te schlie√üt und √∂ffnet.  Dar√ºber hinaus isolieren Relais die Stromkreise des Arduino + -Computers von den Stromkreisen des verwalteten Ger√§ts. <br>  Die Grundlage der Steuerkreise f√ºr Steckdosen und Motoren, die sp√§ter beschrieben werden, sind die folgenden: zwei Teile, die √ºber Dr√§hte miteinander verbunden sind, √ºber ein USB-Kabel mit einem Computer verbunden sind und Dr√§hte zu dem, was wir steuern m√∂chten: <br><br><img src="https://habrastorage.org/webt/xo/hp/8j/xohp8jg5wedmd0x2v98jdlhatvy.png"><br><br>  In der realen Welt k√∂nnte es so aussehen: <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Wir senden einen Befehl von einem Computer, Arduino einer seiner Kontakte schaltet das Relais ein / aus, das der Schalter eines beliebigen Ger√§ts oder eine separate Taste am Ger√§t ist. <br><br><a name="p1"></a><h2>  Erforderliche Komponenten </h2><br>  Wir werden es brauchen (in Klammern stehen die Preise von 2018 in einem √∂rtlichen Gesch√§ft. Wer in China kaufen kann, kann viel Geld sparen, verliert aber mit der Zeit): <br><br>  1) Arduino UNO-Karte mit einem USB-Kabel (m√∂glicher Aftermarket mit billigem CH340 anstelle von teurem FTDI) (450 Rubel) <br><br>  2) Eine Karte mit vier Relais, die mit einer Spannung von 5 Volt betrieben werden und Ger√§te mit einer Spannung von 220 Volt steuern k√∂nnen.  (450 Rubel).  Es gibt immer noch Boards, die mit 12 Volt arbeiten. Verwechseln Sie es nicht! <br><br>  3) Ein B√ºndel von Dr√§hten zum Verbinden von zwei Platinen.  In meinem Fall waren Dr√§hte mit einer Buchse auf der einen Seite und einem Stift auf der anderen Seite erforderlich, da der Relaisblock Stiftkontakte und Arduino Buchsen hat.  Schauen Sie sich beim Kauf von Dr√§hten (150 Rubel) die Anschl√ºsse auf Ihren Platinen an. <br><br><img src="https://habrastorage.org/webt/2a/ma/kf/2amakfyji4k_hbtvozjophg_5hu.jpeg"><br><br><a name="p2"></a><h2>  Verbinden Sie Arduino mit einem Computer </h2><br>  Installieren Sie zun√§chst die Arduino-Programmiersoftware von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.arduino.cc</a> : <br><br>  Klicken Sie auf der Seite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.arduino.cc/en/Main/Software</a> auf "Windows Installer": <br><br><img src="https://habrastorage.org/webt/vj/nw/vc/vjnwvcfu76izpyiarxlymwfftpe.png"><br><br>  Klicken Sie auf "Einfach herunterladen": <br><br><img src="https://habrastorage.org/webt/wu/3q/aj/wu3qajjogz-8xyrpv2rankehjeq.png"><br><br>  Laden Sie das Installationsprogramm herunter und f√ºhren Sie es aus: <br><br><img src="https://habrastorage.org/webt/db/_d/lx/db_dlxuein4fw7aofwgu-8syzio.png"><br><br>  Wir sind uns in allem einig: <br><br><img src="https://habrastorage.org/webt/xq/nr/n6/xqnrn6hcxu9_1h0zzf2eda0kkm8.png"><br><br><img src="https://habrastorage.org/webt/p7/7h/-d/p77h-dqmssaisjxucixrqdoebvk.png"><br><br><img src="https://habrastorage.org/webt/05/lh/q4/05lhq4bozxrk4jm5rvj1xxzgh6k.png"><br><br><img src="https://habrastorage.org/webt/sl/mu/57/slmu57e2qjf9oemniy3rqsugm5c.png"><br><br>  Wenn das Programm installiert ist, verbinden Sie die Arduino-Karte und den Computer mit einem USB-Kabel. <br><br>  Die Lichter auf der Arduino-Platine leuchten auf, und im Ger√§te-Manager sehen Sie, dass ein neuer Port angezeigt wurde und ihm eine bestimmte Nummer zugewiesen wurde, z. B. COM3: <br><br><img src="https://habrastorage.org/webt/fv/yf/fu/fvyffux9p-o-_kx6cjtqgejgv38.png"><br><br>  Lassen Sie uns seine Nummer in COM9 √§ndern, da in Zukunft alles speziell an COM9 gebunden sein wird.  Klicken Sie dazu mit der rechten Maustaste darauf, rufen Sie das Kontextmen√º auf und w√§hlen Sie darin ‚ÄûEigenschaften‚Äú: <br><br><img src="https://habrastorage.org/webt/wx/2v/ce/wx2vceqt65nzglwuevp0rwh3tja.png"><br><br>  Klicken Sie auf der Registerkarte "Portparameter" auf die Schaltfl√§che "Erweitert": <br><br><img src="https://habrastorage.org/webt/yw/d_/6-/ywd_6-uh4-83w2kcx4ng_i1rijw.png"><br><br>  W√§hlen Sie abschlie√üend ‚ÄûCOM9‚Äú als COM-Portnummer. <br><br><img src="https://habrastorage.org/webt/5n/tw/bg/5ntwbgktedghwn61bkqtkhbjf5e.png"><br><br>  Schlie√üen Sie alle ge√∂ffneten Fenster mit der Schaltfl√§che ‚ÄûOK‚Äú. Entfernen Sie dann das USB-Kabel und stecken Sie es ein, um sicherzustellen, dass Arduino weiterhin √ºber den COM9-Anschluss eine Verbindung herstellt, wenn es an denselben USB-Anschluss des Computers angeschlossen ist: <br><br><img src="https://habrastorage.org/webt/fo/cg/jj/focgjjlfl9e1cvk1goluncdtqb8.png"><br><br>  Rufen Sie nun das k√ºrzlich installierte Arduino-Programm von der Site aus auf und konfigurieren Sie es: <br><br><img src="https://habrastorage.org/webt/zd/xa/yy/zdxayy6epjys_elzlitystsu4mm.png"><br><br>  Stellen Sie im Men√º "Extras" die Karte "Arduino UNO" und den Port "COM9" ein: <br><br><img src="https://habrastorage.org/webt/u5/kn/jq/u5knjq5m5ctlnevdrp-cnsewopy.png"><br><br>  Jetzt ist alles bereit, die Pl√§ne zu sammeln und ihnen Leben einzuhauchen. <br><br><a name="p3"></a><h2>  Steckdosensteuerungsschema </h2><br>  <strong>Wenn Sie mit der elektrischen Sicherheit nicht vertraut sind und noch nie im Haus verkabelt haben, versuchen Sie nicht, dieses Diagramm zu wiederholen!</strong>  <strong>Die Schaltung verbraucht lebensbedrohliche Spannung!</strong> <br><br>  Kontrollfragen noch einmal: <br><br><ul><li>  Wissen Sie, wie man einen Draht mit einer Phase von einem Draht mit einer Null in einer Buchse unterscheidet? </li><li>  Wissen Sie, wie man die Dr√§hte klingelt und sicherstellt, dass nach dem Einstecken kein Kurzschluss auftritt? </li></ul><br>  Wenn Sie diese Fragen unsicher beantworten, bitten Sie eine erfahrene Person, die Schaltung zusammenzubauen. <br><br>  Nun zum Punkt. <br><br>  Es funktioniert so: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cG7eZB9ynrg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Das Socket-Anschlussdiagramm sieht folgenderma√üen aus: <br><br><img src="https://habrastorage.org/webt/au/la/h8/aulah8yv5nvdhv7pktidilna2hs.png"><br><br>  Wir liefern Null direkt an die Steckdosen und die Phase durch das Relais.  Wenn Sie das Gegenteil tun, funktioniert es, es besteht jedoch die Gefahr eines Stromschlags durch OFF MALFUNCTIONAL-Ger√§te.  Das hei√üt, greifen Sie nach dem ausgeschalteten fehlerhaften Fernseher, und es wird Sie schockieren. <br><br>  Wenn das Haus eine Schutzmasse hat, verwenden Sie eine Erdungssteckdose. <br><br>  Als n√§chstes kommt mein Referenzdesign.  Darin habe ich einen Fehler mit der Farbe der Dr√§hte gemacht: Die Farbe des neutralen Drahtes wurde braun und die Phasen blau.  Achten Sie darauf. <br><br>  Wir nehmen ein St√ºck der Platine in der entsprechenden Gr√∂√üe (von links nach rechts): Arduino, Relaisblock, vier Buchsen, eine Halterung zum Dr√ºcken des Drahtes auf die Platine. <br><br><img src="https://habrastorage.org/webt/4n/ad/yj/4nadyjfwr_9zqsjfqirzp5kmcjg.jpeg"><br><br>  Wir schneiden den √úberschuss ab und machen mit einem Mei√üel eine Nut f√ºr Dr√§hte, damit sie frei unter die Buchsen passen. <br><br><img src="https://habrastorage.org/webt/c1/cn/4k/c1cn4krbvgwhyerhsjgdf1blh2k.jpeg"><br><br>  Wir schrauben die Arduino-Platinen und den Relaisblock mit Schrauben an die Platine und verlegen Kunststoffscheiben. <br><br><img src="https://habrastorage.org/webt/xl/ss/xt/xlssxtywewk_wiqbg8xbq-sjbxe.jpeg"><br><br>  Wenn die Unterlegscheiben nicht zur Hand waren, k√∂nnen Sie die D√ºbel schneiden: <br><br><img src="https://habrastorage.org/webt/j8/nu/4c/j8nu4c3dgliutidvgzey80c3qiq.jpeg"><br><br>  Bereiten Sie die Dr√§hte vor: Schneiden Sie sie auf die gew√ºnschte L√§nge und entfernen Sie sie von der Isolierung.  Es ist ratsam, sie an Kontaktstellen mit Steckdosen und Relais mit einem L√∂tkolben zu verzinnen. <br><br><img src="https://habrastorage.org/webt/7g/u-/js/7gu-jsezhlrrzxq-tqy37bi__py.jpeg"><br><br>  Dr√ºcken Sie den Draht mit einer Halterung auf die Platine, damit er nicht herausgezogen werden kann. <br><br><img src="https://habrastorage.org/webt/xt/mb/hm/xtmbhmcglfylqsh4txocs50bn9k.jpeg"><br><br>  Wir verbinden die Dr√§hte und schrauben die Buchsen.  Wir nennen die Kette. <br><br><img src="https://habrastorage.org/webt/h_/_b/hl/h__bhl0ovpuzpdp9m9zwi0xwrsy.jpeg"><br><br><img src="https://habrastorage.org/webt/gd/6c/ga/gd6cgayr0-nalqayyxt8lsiquli.jpeg"><br><br>  Wir verbinden die Arduino-Platine mit einem Kabelb√ºndel gem√§√ü dem obigen Diagramm mit der Relaiseinheit. <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Wir bedecken die Platten mit einem Schutzgeh√§use aus nicht leitendem Material.  <strong>Dies muss hier erfolgen, da f√ºr den Relaisblock eine lebensbedrohliche Spannung geeignet ist!</strong>  Wickeln Sie im Extremfall mindestens die elektrischen Kontakte des Relais ein. <br><br>  Ich habe einen Beh√§lter f√ºr Produkte aus Hartplastik als Geh√§use verwendet und ihn mit Schrauben befestigt: <br><br><img src="https://habrastorage.org/webt/dh/mj/4j/dhmj4j30zlicmjwgjrkylk5g7km.jpeg"><br><br>  Denken Sie daran, ein Loch f√ºr das USB-Kabel zu machen. <br><br><img src="https://habrastorage.org/webt/mg/yb/5h/mgyb5hkbsv4zws5b0zbpdixbrq8.jpeg"><br><br>  Schlie√üen Sie das Ger√§t an den Computer an, schlie√üen Sie es jedoch <strong>nicht an eine Steckdose an</strong> . <br><br>  Wir starten das Programm ‚ÄûArduino‚Äú und kopieren diesen Programmtext dort: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     2,3,4,5 int Relay1=2, Relay2=3, Relay3=4, Relay4=5; void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void loop() { delay (200); // 1.     while(Serial.available()) { switch(Serial.read()) { case '0': //    digitalWrite(Relay1,0); break; case '1': //    digitalWrite(Relay1,1); break; case '2': //    digitalWrite(Relay2,0); break; case '3': //    digitalWrite(Relay2,1); break; case '4': //    digitalWrite(Relay3,0); break; case '5': //    digitalWrite(Relay3,1); break; case '6': //    digitalWrite(Relay4,0); break; case '7': //    digitalWrite(Relay4,1); break; } // switch } // while }</span></span></code> </pre> <br>  Klicken Sie dann in Arduino auf den Download-Button des Programms (siehe Abbildung unten).  Wenn alles fehlerfrei gelaufen ist, sehen wir die Aufschrift ‚ÄûDownload abgeschlossen‚Äú. <br><br><img src="https://habrastorage.org/webt/sa/lq/ps/salqpsq3wdq3kpsylezoakvmn1i.png"><br><br>  √úberpr√ºfen Sie, ob unser Ger√§t Befehle ausf√ºhrt.  Rufen Sie dazu den Port Monitor auf: <br><br><img src="https://habrastorage.org/webt/68/wq/mw/68wqmw6ebryw_wohhhew71h9mx0.png"><br><br>  Jetzt geben wir die Nummer <strong>1 ein</strong> und dr√ºcken die Eingabetaste oder die Schaltfl√§che "Senden": <br><br><img src="https://habrastorage.org/webt/u3/iq/6t/u3iq6tjtyiw16d9rq_maya-mqgu.png"><br><br>  Ein charakteristisches Klicken des Relais ist zu h√∂ren und der Kontakt in der ersten Buchse wird mit dem Phasendraht verbunden.  √úberpr√ºfen Sie dies mit einem Tester.  W√§hlen Sie dann die Nummer 0 und das Relais trennt den Kontakt. <br><br>  Wenn Sie sich den Text des Programms ansehen, k√∂nnen Sie sehen, was passieren wird, wenn wir andere Zahlen eingeben: <br><br>  3.2 - einschalten, zweite Steckdose ausschalten <br><br>  5,4 - einschalten, dritte Steckdose ausschalten <br><br>  7.6 - einschalten, vierte Steckdose ausschalten <br><br>  √úberpr√ºfen Sie mit einem Tester den Anschluss dieser Steckdosen.  Nach der √úberpr√ºfung k√∂nnen Sie das Kabel an die Spannung im Netzwerk anschlie√üen und mit dem Ein- und Ausschalten realer Ger√§te beginnen. <br><br>  Unsere n√§chste Aufgabe ist es, die Ger√§te mit einem Blick ein- und auszuschalten.  Dazu konfigurieren wir das hier in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Artikel beschriebene <strong>bkb-</strong> Programm <strong>(DIE LETZTE VERSION DES PROGRAMMS WIRD BEN√ñTIGT !!!)</strong> . <br><br>  Angenommen, wir m√∂chten eine Lampe und eine Weihnachtsbaumgirlande ein- und ausschalten. <br>  Im Standard-Malprogramm zeichnen wir vier 200x200-Zeichnungen im <strong>BMP-</strong> Format: <br><br><img src="https://habrastorage.org/webt/ns/ly/ri/nslyribneenospzbhf8dxftucic.png"><br><br>  Wir werden auch vier Batch-Dateien erstellen: <strong>c.cmd, d.cmd, e.cmd, f.cmd</strong> <br><br>  Sie enthalten Befehle zum Senden der Zeichen 1,0,3,2 an den COM9-Port.  Und wir erinnern uns, dass sie die erste und zweite Buchse ein- und ausschalten.  Es ist wichtig, dass zwischen den beiden Zeilen in diesen Dateien keine Leerzeilen stehen! <br><br>  c.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 1 &gt; com9:</code> </pre><br>  d.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 0 &gt; com9:</code> </pre><br>  e.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 3 &gt; com9:</code> </pre><br>  f.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 2 &gt; com9:</code> </pre><br>  Wir √ºberschreiben die erstellten <strong>.bmp-</strong> und <strong>.cmd-</strong> Dateien im <strong>Grid-</strong> Verzeichnis des <strong>bkb-</strong> Programms. <br><br>  Nach dem Start des <strong>bkb-</strong> Programms im Tabellenmodus erscheint eine neue f√ºnfte Zeile mit unseren Bildern: <br><br><img src="https://habrastorage.org/webt/cn/jz/aq/cnjzaqskmsg3wwqe2odhwijsk4g.jpeg"><br><br>  Wenn wir den Blick auf das Bild richten, wird die entsprechende Aktion gestartet. <br><br>  <strong>ACHTUNG!</strong>  Das erste Mal nach dem Starten des Programms funktioniert die Aktion nicht.  Alle folgenden Zeiten - es funktioniert.  Dies liegt an der Tatsache, dass sich w√§hrend der ersten Initialisierung des Ports das Signal auf der DTR-Leitung √§ndert, wodurch der Arduino neu gestartet wird, was ungef√§hr drei Sekunden dauert. <br><br>  Sie sagen, dass dies mit einem L√∂tkolben gel√∂st werden kann, aber ich habe es nicht gewagt, mich auf solche Schmuckarbeiten einzulassen.  Denken Sie also vorerst daran, dass Sie das erste Mal zweimal einschalten m√ºssen. <br><br>  <u>Bemerkung</u> <br><br>  Sie haben wahrscheinlich bereits verstanden, dass Sie in CMD-Dateien beliebige externe Programme aufrufen k√∂nnen.  Wenn Sie ein Ger√§t haben, das √ºber die Befehlszeile gesteuert werden kann, k√∂nnen Sie diese Befehle selbst ausf√ºhren, indem Sie die erforderlichen Aktionen den Bildern in der Tabelle zuordnen. <br><br><a name="p4"></a><h2>  Motorsteuerkreis </h2><br>  Mein Freund r√ºstete den Kreiselroller auf und ersetzte ihn durch die Hinterachse des Kinderwagens.  Die Verwaltung erfolgte durch Fernbedienungen √ºber das Arduino-Board. <br><br><img src="https://habrastorage.org/webt/6g/gi/ef/6ggiefa4rwsv9n7bkjpz9hdenzi.jpeg"><br><br>  Wir beschlossen, dem Kind die M√∂glichkeit zu geben, den Kinderwagen mit einem Blick selbst zu steuern.  Zu diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Zweck wurde</strong> dem <strong>bkb-</strong> Programm der <strong>Rollstuhlsteuerungsmodus</strong></a> hinzugef√ºgt. <br><br><img src="https://habrastorage.org/webt/k_/vw/4c/k_vw4cp32if1tiyx_tld9x8js6w.png"><br><br>  Nach dem Start in diesem Modus werden auf dem Bildschirm Pfeile angezeigt, die dazu f√ºhren, dass das Programm Steuerzeichen an den COM9-Anschluss sendet, die dann vom Kinderwagen so interpretiert werden, dass sie sich vorw√§rts / r√ºckw√§rts, links / rechts drehen und anhalten. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2QgKxeQeUAQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  W√§hrend der Fertigstellung des Kinderwagens habe ich beschlossen, dasselbe Programm f√ºr die Fernsteuerung des Kettenpanzer-Modells zu verwenden.  Dies ist auch eine ziemlich n√ºtzliche Sache.  Erstens erh√§lt das Kind F√§higkeiten, die zur Steuerung des Kinderwagens n√ºtzlich sind.  Zweitens ist dies nur ein aufregendes Spiel. <br><br><img src="https://habrastorage.org/webt/hg/gp/ov/hggpovliv-swlqqzlziurfgag2o.jpeg"><br><br>  Jede Spur des Panzers wird von einem Hebel gesteuert, der vorw√§rts oder r√ºckw√§rts bewegt werden kann.  Wenn er den Hebel nach vorne bewegt, dr√ºckt er den Knopf und zwingt den Motor, sich vorw√§rts zu drehen.  Beim Zur√ºckbewegen des Hebels dr√ºckt er den Knopf, wodurch sich der Motor in die entgegengesetzte Richtung dreht.  Es ist nicht m√∂glich, zwei Tasten gleichzeitig zu dr√ºcken - vorw√§rts und r√ºckw√§rts ist nicht m√∂glich. <br>  Die Relaiseinheit wurde gem√§√ü der folgenden Abbildung an die Tasten der Fernbedienung angeschlossen.  In der Schaltung k√∂nnen die Tasten ‚ÄûMotor vorw√§rts‚Äú und ‚ÄûMotor zur√ºck‚Äú nicht gleichzeitig aktiviert werden.  Ein Relais schaltet den Motor ein / aus und das zweite Relais w√§hlt die Richtung vorw√§rts oder r√ºckw√§rts. <br><br>  Suchen Sie auf der Bedienfeldplatine, wo die Tasten angeschlossen sind, und verbinden Sie sie gem√§√ü dem obigen Diagramm. <br><br>  Bitte beachten Sie, dass Arduino im Gegensatz zur vorherigen Schaltung den Relaisblock mit den Pins 6 bis 9 steuert. <br><br><img src="https://habrastorage.org/webt/te/ch/ag/techagksw5fgfqfnumnz0oywovg.png"><br><br>  Ich habe den Relaisblock √ºber den Stecker mit der Fernbedienung verbunden, damit die Fernbedienung einfach getrennt und separat verwendet werden kann: <br><br><img src="https://habrastorage.org/webt/_y/5z/z-/_y5zz-xbgdn7b8lwz-k9n5aignk.jpeg"><br><br>  Das Programm, das Arduino herunterladen muss, empf√§ngt dieselben Befehle vom Computer, die zur Steuerung des motorisierten Kinderwagens verwendet werden: <br><br>  F-vorw√§rts <br>  B-zur√ºck <br>  L-links <br>  R-rechts <br>  S-Stop <br><br>  Der Text des Programms ist unten angegeben. <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     6,7,8,9 int Relay1=6, Relay2=7, Relay3=8, Relay4=9; int heartbeat=0; //     void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void RCStop() { digitalWrite(Relay1,0); digitalWrite(Relay2,0); digitalWrite(Relay3,0); digitalWrite(Relay4,0); } void RCForward() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCBack() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void RCLeft() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCRight() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void loop() { // 1.     while(Serial.available()) { switch(Serial.read()) { case 'S': //  ! RCStop(); heartbeat=0; break; case 'F': //  ! RCForward(); heartbeat=0; break; case 'B': //  ! RCBack(); heartbeat=0; break; case 'L': //  ! RCLeft(); heartbeat=0; break; case 'R': //  ! RCRight(); heartbeat=0; break; } // switch } // while // 2.    //       -   delay(10); heartbeat++; if(heartbeat&gt;30) { heartbeat=30; //    ! RCStop(); //   -   } }</span></span></code> </pre><br>  Wenn die Verbindung zum Computer unterbrochen wird (innerhalb von 0,3 Sekunden kommen keine Zeichen an, schaltet der Arduino die Motoren aus).  Diese Situation kann modelliert werden, indem Sie Ihre Augen schlie√üen und gleichzeitig Ihre Augen kontrollieren.  Aitreker kann die Blickrichtung nicht bestimmen und es werden keine Signale gesendet.  Die Motoren stoppen. <br><br>  Ich habe das Panzermodell mit einer Videokamera ausgestattet, die normalerweise als Wechselkurs oder FPV (First Person View) bezeichnet wird und ein analoges Signal mit einer Frequenz von etwa 5,8 GHz √ºbertr√§gt.  Ich nahm eine der billigsten Kameras, die ebenfalls mit einem Sender und einer Antenne ausgestattet war: AKK BA-3.  Es hat mich 1050 Rubel gekostet.  Die Kamera mit dem Sender ist so klein, dass sie in die H√§nde der Lego-Figur passt: <br><br><img src="https://habrastorage.org/webt/ch/0q/mq/ch0qmqoqvfhexoxoeofqqvasmr8.jpeg"><br><br>  Damit die Kamera funktioniert, muss sie nur an die Stromversorgung angeschlossen werden (von 3,2 bis 5,5 Volt).  W√§hlen Sie dann mit einer einzigen Taste den Bereich, die Frequenz und die Leistung des Senders aus. <br><br>  Die Kamera erw√§rmt sich erheblich, daher empfehle ich, die Mindestleistung (25 Milliwatt) einzustellen.  Au√üerdem habe ich es mit einer Spannung von 6 Volt an die Tankbatterie angeschlossen, was die zul√§ssigen Werte √ºberschreitet.  Daher wei√ü ich nicht, wie lange es dauern wird.  Ich empfehle Ihnen, einen Spannungsstabilisator zu verwenden, um die Kamera mit Strom zu versorgen. <br><br>  Beim Anbringen der Kamera habe ich ein Element des Lego-Konstruktors auf den Tank geklebt, und die restlichen Elemente wurden bereits mit einer einfachen Verbindung daran befestigt.  Dies erleichtert das Entfernen und Aufr√§umen der Kamera.  Wenn Sie auf ein Hindernis sto√üen, kann die Kamera einfach hochgeklappt werden, um Sch√§den zu vermeiden. <br><br><img src="https://habrastorage.org/webt/j0/4n/1z/j04n1zkr_zt7dl1itjgxfv8tr5c.jpeg"><br><br>  Um das Videosignal von der Kamera zu empfangen, habe ich den Eachine ROTG01-Empf√§nger verwendet.  Er nahm nicht neu f√ºr 1800 Rubel.  Es ist nur eine Box mit einer Antenne, die an den USB-Anschluss des Computers angeschlossen wird und als USB-Kamera sichtbar ist.  Das hei√üt, wir starten die Kameraanwendung in Windows und sehen, was der Empf√§nger akzeptiert.  Schon zu Beginn m√ºssen Sie die einzige Taste am Empf√§nger gedr√ºckt halten, damit der √Ñther gescannt und die Frequenz ermittelt wird, mit der unsere Kamera ein Signal sendet. <br><br>  Im Allgemeinen ben√∂tigen wir drei USB-Anschl√ºsse im Computer: <br><br>  - f√ºr einen IT-Tracker <br>  - f√ºr Arduino die Steuerung des Tankbedienfelds <br>  - f√ºr Videoempf√§nger <br><br><img src="https://habrastorage.org/webt/ya/6l/9j/ya6l9jsx4gh3xrvgtcwilaqfvci.jpeg"><br><br>  Wir starten die Bildausgabe von der Kamera, zum Beispiel das Programm "Kamera".  Wir starten das Programm <strong>bkb</strong> und w√§hlen den Steuermodus f√ºr den motorisierten Kinderwagen. <br><br>  Was als n√§chstes passieren kann, zeigt das Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vWreZ72HPvM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es ist ersichtlich, dass die Bewegungsgeschwindigkeit und insbesondere die Geschwindigkeit der Kurven zu gro√ü ist.  Wenn Sie sich also f√ºr ein funkgesteuertes Modell entscheiden, w√§hlen Sie das langsamste.  Ein Bagger oder so. <br><br><h3>  Und warum nicht den fertigen ‚ÄûSpionageroboter‚Äú nehmen? </h3><br>  Ich fiel in die H√§nde eines solchen, HappyCow 777-325. <br><br><img src="https://habrastorage.org/webt/se/u_/ep/seu_eptbnfyu4lqwiekwmqttqbk.jpeg"><br><br>  Ich war begeistert: Er hat alles und die Fernbedienung und Video√ºbertragung und f√§hrt ziemlich langsam.  Es gibt jedoch eine Funktion: Sie wird nur √ºber eine Anwendung in Android oder iOS gesteuert.  Nun, wir werden dies durch die Fernbedienung von Android l√∂sen, zum Beispiel mit <strong>scrcpy</strong> . <br><br>  Es stellte sich jedoch heraus, dass die Maschine zus√§tzlich zu den korrigierbaren M√§ngeln (enger Betrachtungswinkel der Kamera) eine unverbesserliche aufweist.  Das √ºber WLAN √ºbertragene Video hat eine schreckliche Verz√∂gerung. <br>  Das hei√üt, dieser Roboter ist schon lange gegen etwas gekracht, und Sie alle dr√ºcken auf das Gas und denken, dass es noch kein Hindernis erreicht hat. <br><br>  F√ºr ein Kind, das lernt, eine Maschine fernzusteuern, ist dies meiner Meinung nach inakzeptabel. <br><br>  So bekommt der Roboter einen R√ºcktritt.  Obwohl ich das Chassis davon ausleihen w√ºrde. <br><br><h2>  Fazit </h2><br>  Ich w√ºnsche Ihnen allen viel Erfolg bei der Wiederholung und Entwicklung der beschriebenen technischen L√∂sungen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430078/">https://habr.com/ru/post/de430078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430068/index.html">Ordnung der Puppe</a></li>
<li><a href="../de430070/index.html">Stapel und Warteschlange sind zwei schlechte Paradigmen und was kann dagegen getan werden?</a></li>
<li><a href="../de430072/index.html">Serverseitig Swift Underestimated: Interview mit Paul Hudson</a></li>
<li><a href="../de430074/index.html">Wie ich fast einen Virus gefangen h√§tte, der versucht, Stiefel zu verkaufen</a></li>
<li><a href="../de430076/index.html">Kostenlose Ausstrahlung von DotNext 2018 Moskau</a></li>
<li><a href="../de430080/index.html">Wechseln zu einem Cluster mit 1C-Bitrix: Web Environment</a></li>
<li><a href="../de430082/index.html">Travinibay: Habr und RUVDS - Russische IT-Seew√∂lfe</a></li>
<li><a href="../de430084/index.html">Oracle JDK muss bezahlen. Was sind jetzt die Optionen?</a></li>
<li><a href="../de430086/index.html">Was ist neu in Android 9 Pie f√ºr Sony Xperia Smartphones?</a></li>
<li><a href="../de430092/index.html">Die Banken der Credit Suisse und der UBS beschuldigten Apple Pay und Samsung Pay des koordinierten Boykotts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>