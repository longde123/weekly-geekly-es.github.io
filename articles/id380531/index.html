<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ½ â­ï¸ ğŸ’¸ Bus Blaster - antarmuka bit-bang universal cepat untuk penggemar pasien âºï¸ ğŸ— ğŸ¤’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya sudah lama ingin memiliki beberapa jenis antarmuka perangkat keras yang universal dan universal dengan beberapa sinyal input dan output, fungsi y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bus Blaster - antarmuka bit-bang universal cepat untuk penggemar pasien</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/380531/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/b33/9c7/eb4/b339c7eb476640b9b5b17baa63513427.jpg" width="500"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sudah lama ingin memiliki beberapa jenis antarmuka perangkat keras yang universal dan universal dengan beberapa sinyal input dan output, fungsi yang ditentukan secara eksklusif oleh perangkat lunak, seperti programmer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PonyProg yang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengesankan </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dan sehingga dapat digunakan tidak hanya sebagai firmware baca / tulis, tetapi juga untuk debugging program melalui JTAG. </font><font style="vertical-align: inherit;">Pada saat yang sama, membeli sesuatu industri, dengan kemewahan saya yang sesekali dengan elektronik, adalah berlebihan dan tidak menguntungkan - diperlukan sesuatu dari serangkaian "produk setengah jadi" berdasarkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bit-bang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu bit bang dan mengapa itu dibutuhkan</font></font></b><div class="spoiler_text">-  ,     Windows 9x            (COM)   (LPT) .         ,               ,   .      ,             ,     .      bit-bang,    â€” Â«Â», Â«Â»  ..<br>
<br>
   2k/XP        /,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>giveio</b></a>.          NT, -        . <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda tahu, komputer modern, terutama laptop, dengan port perangkat keras tidak ramai, karena sebagian besar pengguna tidak membutuhkannya. Adaptor USB untuk menghubungkan perangkat dengan antarmuka RS232 dan Centronics (bahasa sehari-hari - COM / LPT) bekerja dengan baik hanya dalam kerangka tujuan utama, dan bermasalah untuk melakukan "menyentak" pada mereka karena sejumlah alasan. Pertama, sebagian besar adapter ini hanya dapat memproses sinyal data (Tx / Rx yang sama) dengan kecepatan yang baik, dan memproses sinyal kontrol dengan penundaan besar. Kedua, adaptor dari berbagai produsen tidak kompatibel dengan perangkat keras, dan kemungkinan kontrol non-standar melalui driver pabrikan sangat terbatas. Ketiga, hampir semua driver menggunakan paket USB terpisah untuk mengirim perintah ke adaptor, yang membatasi frekuensi perubahan status menjadi hanya seribu kali per detik,yang bagi banyak aplikasi kecilnya sangat kecil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTDI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> telah lama menawarkan berbagai solusi USB yang berfokus secara khusus pada pertukaran sinyal sewenang-wenang berkecepatan tinggi. </font><font style="vertical-align: inherit;">Sebuah studi cepat dari masalah ini menunjukkan bahwa yang paling populer dalam hal ini adalah antarmuka pada </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">mikrosirkuit </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FT232H</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FT2232H</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi sederhana</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FTDI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diimplementasikan dalam antarmuka USB FT232BM, FT232R dan sejenisnya dua mode tambahan - bit-bang asinkron dan sinkron. Untuk ini, delapan atau lebih jalur sinyal tambahan ditambahkan, masing-masing dapat dikonfigurasi untuk input atau output. Data buffer yang ditransmisikan ke antarmuka dari komputer diatur pada garis output oleh sinyal clock, data input dibaca dari garis, buffered dan dikirim ke komputer. Mengikat I / O ke jam menyediakan akurasi interval yang baik - aplikasi tidak perlu lagi merawatnya secara terprogram.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, alih-alih siklus tradisional tipe â€œatur level aktif pada jalur output; </font><font style="vertical-align: inherit;">jeda; </font><font style="vertical-align: inherit;">baca status jalur input; </font><font style="vertical-align: inherit;">atur level pasif pada garis keluaran â€, aplikasi menghasilkan urutan byte, yang masing-masing mengatur keadaan garis keluaran untuk satu periode jam. </font><font style="vertical-align: inherit;">Urutan dikirim ke antarmuka, dan dari sana urutan yang sama dibaca, mencerminkan keadaan jalur input. </font><font style="vertical-align: inherit;">Dalam mode asinkron, input dan output terjadi secara independen satu sama lain. </font><font style="vertical-align: inherit;">Pembacaan input secara sinkron dilakukan segera sebelum mengatur sinyal pada output, yang memungkinkan kerja yang lebih andal dengan sinyal yang berubah dengan cepat.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengontrol MPSSE</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi H chip FTDI, multi-protokol sinkron serial controller ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MPSSE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">ditambahkan </font><font style="vertical-align: inherit;">, yang perangkat keras mengimplementasikan berbagai jam dan mode pertukaran data. Pembentukan sinyal dari protokol yang diinginkan dilakukan dengan mentransmisikan ke controller serangkaian perintah internal yang menentukan metode clocking, waktu pengaturan / membaca sinyal (di bagian depan atau bawah dari pulsa jam), urutan transmisi bit (LSB / MSB). Pengontrol mengirim kembali urutan "snapshots" dari jalur input. Kecepatan transfer data dapat mencapai 30 Mbps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melalui MPSSE, protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JTAG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I2C,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font><b><font style="vertical-align: inherit;">SPI</font></b><font style="vertical-align: inherit;"> diimplementasikan secara alami.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun, hampir semua "jerkiness" dapat dengan mudah diimplementasikan dalam kemampuan perangkat keras controller. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FTDI menawarkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> luas </font><font style="vertical-align: inherit;">tentang menghubungkan dan memprogram antarmuka, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pustaka dan program sampel untuk bekerja melalui MPSSE untuk Windows, Linux dan MacOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">driver D2XX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk interaksi langsung dengan antarmuka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka FTDI didukung oleh program-program populer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenOCD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UrJTAG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flashrom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avrdude</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HappyJTAG2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zJTAG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masalah konektivitas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mengetahui semua hal di atas secara terperinci tahun lalu, saya terinspirasi, tetapi segera menemukan bahwa FT232H / FT2232H, dengan segala fleksibilitasnya, tidak selalu dapat dihubungkan langsung ke perangkat akhir. Pertama, garis eksternal rangkaian dirancang untuk level 3,3 V, dan dalam banyak perangkat modern digunakan level 2,5 / 1,8 / 1,5 V. Kedua, jalur output tidak dapat beralih ke status impedansi tinggi dan sebaliknya dengan frekuensi tinggi - ini hanya mungkin dilakukan pada awal mengatur garis dengan memilih mode "input" atau "output". Yaitu, untuk menghubungkan sebuah chip dengan MPSSE ke perangkat target, diperlukan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rangkaian penyangga</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang cocok dengan level sinyal dan menyediakan penghentian operasional beberapa jalur output (misalnya, dengan level sinyal </font><b><font style="vertical-align: inherit;">TMS</font></b><font style="vertical-align: inherit;"> pasif</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googling pada opsi untuk sirkuit buffer, saya menemukan bahwa sejumlah besar adaptor telah dibuat di dunia yang berbeda satu sama lain hanya dalam buffer ini. </font><font style="vertical-align: inherit;">Beberapa program (tetapi tidak semua) memungkinkan penggunaan berbagai jenis buffer. </font><font style="vertical-align: inherit;">Jadi, memilih model adaptor tertentu, pada saat yang sama Anda membatasi rentang program yang akan bekerja dengannya. </font><font style="vertical-align: inherit;">Dan untuk memutuskan jenis di muka, perlu lagi untuk serius google dan membaca diskusi di forum, yang saya tidak ingin lakukan sama sekali. </font><font style="vertical-align: inherit;">Beberapa adapter diizinkan untuk mengatur konfigurasi buffer dengan jumper, tetapi ini penuh dengan kesalahan, dan mereka tidak murah.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bus Blaster - klaim fleksibilitas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan pria tentang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dangerous Prototypes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah asli dua kali: yang pertama - sebagai penyangga yang terhubung dengan chip FT2232H </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PLD (CPLD) </font></font></a><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xilinx XC2C32A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang dapat diprogram ulang dengan cepat di bawah konfigurasi apa pun, dan yang kedua - untuk penggunaannya memprogram ulang saluran kedua FT2232H. Selain menerapkan logika buffer, FPGA melakukan pencocokan level - garis eksternalnya beroperasi di kisaran 1,5-3,3 V. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasilnya, papan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Bus Blaster</font></a><font style="vertical-align: inherit;"> ternyata</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sejak dimulainya proyek, empat versi papan telah diganti. Versi 3 dianggap yang paling stabil dan tersebar luas, Versi 4 berisi FPGA besar yang tidak sepenuhnya dikembangkan dan digunakan jauh lebih jarang. Versi berikutnya, tampaknya, tidak akan lagi, karena pengembangan proyek dihentikan beberapa tahun yang lalu. Saya mendapat kesan bahwa beberapa orang benar-benar mencoba papan - dengan potensi yang tinggi, itu tidak terlalu mudah digunakan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian dari forum telah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dibuat untuk dewan </font><font style="vertical-align: inherit;">, tetapi sejak tahun lalu hampir tidak ada yang ditulis di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah refleksi, saya memesan </font><font style="vertical-align: inherit;">versi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AliExpress </font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sebagai yang paling berkembang, seharga $ 34. Kemudian mereka dijual di sana oleh toko dari produsen - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seeed</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan sekarang hanya dealer dari $ 52 yang menjualnya.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Langsung di Seeed</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (bersama dengan pengiriman) akan dikenakan biaya $ 37.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesan pertama</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Papan terlihat persis sama seperti pada gambar - indah, rapi, dibuat dengan kualitas tinggi. Di forum tersebut, seseorang mengeluh tentang kurangnya output dari sirkuit mikro, jadi saya memeriksa dengan hati-hati di bawah kaca pembesar - saya tidak menemukan cacat. </font><font style="vertical-align: inherit;">Saya sudah menginstal </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">driver D2XX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebelumnya, jadi </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">boardnya</font></a><font style="vertical-align: inherit;"> diakui saat dalam perjalanan. Langkah pertama adalah berurusan dengan logika penyangga pemrograman dalam FPGA. Ini dilakukan dengan menggunakan program </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UrJTAG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi secara khusus disetel untuk Bus Blaster untuk akses yang tepat ke saluran FT2232H kedua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda perlu mengunduh dan menginstal </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi dasar UrJTAG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Maka Anda perlu menambahkan file EXE yang dimodifikasi dan deskripsi FPGA (BSDL) dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paket ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Untuk memprogram FPGA tertanam, Anda perlu menjalankan EXE yang dimodifikasi, untuk bekerja dengan perangkat eksternal - yang utama. Prosedur pemrograman FPGA dijelaskan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Untuk kenyamanan, Anda dapat membuat skrip untuk UrJTAG untuk setiap versi buffer, dan file CMD dengan baris perintah untuk menjalankannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kumpulan firmware FPGA yang menjelaskan buffer yang kompatibel dengan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">adaptor </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JTAGkey</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KT-Link,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PicoTap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tersedia di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi untuk BBv3 hanya ada satu file untuk JTAGkey dengan dukungan untuk pengujian sendiri (BBV3-JTAGkey-selftest-v1.1.svf). Sebagian besar sudah cukup, tetapi tidak berhasil bagi saya dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flashrom</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang akan dibahas di bawah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menulis firmware ini ke dalam FPGA, saya meletakkan jumper di konektor untuk pengujian sendiri, seperti yang dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , menutup garis P28 (IO09) ke tanah - LED di papan menyala. </font><font style="vertical-align: inherit;">Saya mengunduh dan meluncurkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">program pengujian</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ini menunjukkan bahwa semuanya beres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sungguh aneh, omong-omong, bahwa program swa-uji disebut "BusPiratev2Test", karena </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bus Pirate</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah proyek yang sama sekali berbeda, tidak kompatibel dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, saya umumnya percaya bahwa firmware ini dimaksudkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hanya</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk pengujian sendiri, dan untuk aplikasi "militer" diperlukan beberapa jenis lain, karena deskripsi mengatakan sesuatu yang tidak terdengar. </font><font style="vertical-align: inherit;">Lalu saya menemukan bahwa firmware itu universal, hanya mode tes di dalamnya dihidupkan oleh korslet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P28</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ke tanah.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upaya Penargetan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah Anda mengunduh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sekarang ada, sayangnya, 404) </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flashrom</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> v0.9.6.1-r1704 / the Win32, dan ditutup dengan semacam chip motherboard yang mati </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX25L8005</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (SPI), mencoba membacanya di baris perintah " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p ft2232_spi: type = busblaster</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font><font style="vertical-align: inherit;">Namun, flashrom mengatakan tidak dapat menemukan FT2232. </font><font style="vertical-align: inherit;">Membaca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menunjukkan bahwa itu hanya berfungsi melalui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libusb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - perpustakaan antarmuka universal, awalnya ditulis di Linux, dan kemudian porting di Windows. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melalui libusb, ia menemukan antarmuka, tetapi dengan keras kepala menyatakan bahwa ia tidak melihat sirkuit mikro. </font><font style="vertical-align: inherit;">Ditemukan dalam kotak dengan buah necrophilia beberapa chip SPI lainnya - juga tidak melihat. </font><font style="vertical-align: inherit;">Dimainkan oleh osiloskop - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengaduk, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TDO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aktif, dan </font><font style="vertical-align: inherit;">diam </font><font style="vertical-align: inherit;">di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TDI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Secara umum, tidak ada lonjakan tunggal. Saya menghubungkan saluran osiloskop secara bersamaan ke </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TDO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sinyal berubah secara sinkron, jelas. Belum ada ide tentang apa yang bisa diverifikasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk sementara menghentikan percobaan dengan flashrom, terhubung ke antarmuka </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATTiny13</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mengunduh di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beberapa versi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avrdude yang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berbeda </font><font style="vertical-align: inherit;">, dengan versi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.11-Patch7610 / Win32</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan jenis pemrograman </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2232HIO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akhirnya mendapat identifikasi, pembacaan, dan penulisan controller yang jelas. Setelah bersukacita, ia menghubungkan kembali chip SPI, tetapi flashrom dengan keras kepala menolak untuk mengenali mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena curiga kedua </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sirkuit</font></font></b></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mikro itu mati, ia mengeluarkan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;">USBASP</font></b></a></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dipertukarkan</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;">AsProg</font></b></a><font style="vertical-align: inherit;"> - ia </font><font style="vertical-align: inherit;">membaca keduanya </font><font style="vertical-align: inherit;">tanpa masalah (walaupun </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sangat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lambat). Ngomong-ngomong, saya membeli tiga USBASPs secara umum untuk peran papan prototyping yang nyaman di ATMega8, tetapi perangkat itu ternyata multifungsi multifungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menghubungkan sirkuit mikro ke BB lagi dan mulai mencoba flashrom dalam mode yang berbeda (Bus Blaster dan JTAGKey), dengan nilai pembagi yang berbeda ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p ft2232_spi: type = busblaster, pembagi = n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Tiba-tiba, di salah satu kombinasinya, microcircuit dikenali, tetapi sudah menolak untuk membaca. </font><font style="vertical-align: inherit;">Setelah beberapa upaya lagi, identifikasi juga menghilang. </font><font style="vertical-align: inherit;">Kemudian beberapa kali dimungkinkan untuk mendapatkan beberapa identifikasi yang berhasil secara berturut-turut, tetapi membaca tidak pernah tercapai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diposting di forum, tetapi tidak menerima tanggapan yang masuk akal. </font><font style="vertical-align: inherit;">Setelah mencari-cari di dalam pencarian, saya menemukan beberapa keluhan orang tentang firmware FPGA universal (dengan swa-uji), saya menemukan tiga versi firmware lagi di sana, mencobanya dalam kombinasi yang berbeda dengan parameter lain, tetapi tidak berhasil. </font><font style="vertical-align: inherit;">Setelah kehabisan semua pilihan, ia meninggalkan percobaan sampai kedatangan penganalisa logika memesan sedikit kemudian BB.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menguji dengan analisa</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menerima </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiruan dari</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penganalisis logika </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saleae Logic 16 yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> populer </font><font style="vertical-align: inherit;">, ia menghubungkannya ke keempat baris </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SPI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program ini, tersedia secara gratis di situs web Saleae</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dapat mendekripsi I2C, SPI, dan beberapa lainnya, sehingga segera menunjukkan dekripsi semua paket - baik yang dikirim maupun yang diterima. Segera menjadi jelas bahwa paket-paket itu "mengambang" - urutan bit yang sama dikelompokkan oleh program ke dalam paket-paket pada batas yang berbeda berulang-ulang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membandingkan diagram sinyal pada lembar data dari sirkuit mikro dengan yang direkam, di beberapa titik saya perhatikan bahwa sinyal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (terhubung ke pin </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) pada awal setiap sesi pertukaran, ia pergi ke level rendah (aktif), di mana ia tetap, meskipun menurut protokol itu harus kembali ke level (pasif) tinggi pada akhir setiap operasi. Saya mengubah firmware "resmi" dari FPGA menjadi salah satu yang alternatif - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mulai bergerak lebih aktif, batas-batas paket selaras di atasnya, dan setelah memilih pembagi frekuensi jam di baris perintah flashrom (berhenti di 8), microcircuit akhirnya mulai menanggapi dengan jelas setiap permintaan, membaca dan menimpa . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkejut bahwa saya tidak segera memperhatikan perilaku </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , saya menyadari bahwa saya bingung dengan keberhasilan bekerja dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AVR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada firmware FPGA yang sama. Melihat lembar data ATTiny13, saya menemukan bahwa sinyal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RESET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang memulai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mungkin rendah selama seluruh waktu pertukaran, kenaikannya untuk sinkronisasi tidak diperlukan. </font><font style="vertical-align: inherit;">Dan SPI-chip perlu dinaikkan untuk sinkronisasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasil pengujian, saya mengumpulkan informasi tentang tiga firmware FPGA yang terkenal dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satu posting forum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batas penulisan ulang FPGA</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam salah satu diskusi saya menemukan peringatan bahwa jumlah siklus dijamin untuk menulis ulang firmware FPGA ini hanya sekitar seribu. </font><font style="vertical-align: inherit;">Awalnya saya kesal, karena selama percobaan saya berhasil mengubah firmware sekitar seratus kali, dan sudah membayangkan kematian chip yang akan terjadi. </font><font style="vertical-align: inherit;">Harganya tidak apa-apa, tapi saya tidak ingin mengacaukan solder. </font><font style="vertical-align: inherit;">Kemudian dia menyadari bahwa dengan pendekatan yang memadai, sisa sembilan ratus siklus akan cukup untuk beberapa tahun lagi.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In-circuit flashing ROM di router</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah beberapa saat, saya membentuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router mini yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru dipanggang </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">pada RT5350F</font></a><font style="vertical-align: inherit;"> dengan nama kode "ZLMNet H-G5 / P8201" (sebutan yang diambil dari antarmuka web). Sekitar waktu yang sama, klip untuk SOIC8 / SOP8 tiba juga - saya memutuskan untuk mencoba pekerjaan di-sirkuit dengan ROM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, flashrom tidak melihat EPROM melalui BB sama sekali. Osiloskop menunjukkan bahwa prosesor </font><font style="vertical-align: inherit;">selalu mengalahkan </font><font style="vertical-align: inherit;">perjuangan antara FPGA dan prosesor router untuk level sinyal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apa yang tidak mengejutkan - di BB antara terminal FPGA dan konektor ada resistor membatasi arus yang menyimpan kunci FPGA arus rendah dari kejenuhan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menghubungkan USBASP dengan AsProg - yang ini membaca / menulis secara normal, tetapi sekali lagi sangat lambat (9 menit untuk membaca, 25 menit ke siklus hapus-tulis-periksa). Untuk satu revitalisasi batu bata, itu masih dapat diterima, tetapi untuk percobaan dengan firmware yang tidak stabil itu tidak ada lagi. Selain itu, AsProg tidak tahu cara bekerja dengan halaman individual - hanya dengan seluruh sirkuit mikro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menyolder antara output </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMS / TCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di BB dan input </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CS / CLK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font><font style="vertical-align: inherit;">EPROM untuk pengikut emitor - sinyal segera mengarah ke tingkat yang hampir benar, chip flashrom yang diakui, mulai membaca / menulis dengan percaya diri. Dengan pembagi 8, pembacaan lengkap membutuhkan waktu kurang dari satu menit, menulis ulang membutuhkan waktu sekitar dua menit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata komunikasi programmer dengan EPROM sama sekali tidak mengganggu prosesor - router bekerja dengan sempurna. </font><font style="vertical-align: inherit;">Jelas, jalur CS / CLK hanya dialokasikan untuk EPROM, yang dibaca sekali saat boot, setelah itu prosesor tidak mengaksesnya, kecuali jika Anda mulai mem-flashnya dengan cara biasa.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kekurangan program BB</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Program yang diuji (zJTAG, flashrom, avrdude, UrJtag, OpenOCD) yang dapat bekerja dengan MPSSE membuat kesan yang sangat menyedihkan. Pertama, di sebagian besar program ini, dengan semua jenis adaptor FTDI, tidak ada indikasi eksplisit VID / PID - pengidentifikasi dari adaptor yang dikenal dikode dalam kode. Tetapi untuk JTAGkey, yang mengemulasi BB, PID diatur ke CFF8, dan untuk "bersih" FT2232H diatur ke 6010. Tentu saja, Anda dapat mengubah pengidentifikasi dalam BB </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan FT_Prog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , atau menambal tabel dalam program, tetapi kedua opsi sama-sama bengkok. Yah, saya berhasil menemukan versi flashrom dengan dukungan BB yang dikompilasi untuk Windows (kalau tidak saya harus menginstal CygWin), dan avrdude berfungsi dengan baik ketika menentukan jenis programmer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2232HIO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua, beberapa program bekerja dengan adaptor hanya melalui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perpustakaan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libusb</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang, pada gilirannya, bekerja melalui drivernya sendiri, yang tidak kompatibel dengan driver FTDI. </font><font style="vertical-align: inherit;">Adalah baik bahwa di Windows, untuk beralih di antara driver, Anda tidak perlu menghapus satu sama sekali dan menginstal yang lain - Anda hanya perlu "memperbaruinya" dengan secara paksa memilih driver yang tepat untuk perangkat yang diberikan (saluran A atau B).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temuan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, mengingat jumlah waktu dan saraf kumulatif yang dihabiskan untuk semua percobaan yang dijelaskan, saya mengerti bahwa harga keanggunan eksternal dan universalitas yang tampak dari solusi ternyata menjadi penghalang. Saya menghabiskan waktu ini sebagai tambahan pada pekerjaan utama - saya akan mendapatkan beberapa programmer industri dan penipu yang serius. Tetapi plus yang tidak diragukan lagi adalah bahwa latihan semacam itu setidaknya entah bagaimana memungkinkan Anda untuk menahan diri dari slide terakhir ke dalam konsumsi bersih dari modul-modul khusus yang sudah jadi, yang ditawarkan orang Cina dengan berlimpah. Dalam hal ini, adalah mungkin untuk membuat iri para insinyur kuno dan abad pertengahan - selama beberapa dekade mereka dapat dengan antusias memecahkan masalah yang sudah lama diselesaikan dalam beberapa ribu kilometer di lingkungan tersebut, hanya saja tidak mengetahuinya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita harus mencoba OpenOCD dan JTAG pada beberapa router yang tersedia, tetapi semua orang tidak mendapatkannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prototipe Berbahaya juga memiliki proyek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bajak Laut Bus yang</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih tua </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ada papan PIC dan antarmuka sederhana FT232BL dalam mode serial tradisional. </font><font style="vertical-align: inherit;">Untuk berkomunikasi dengan controller, terminal biasa dan perintah teks digunakan, jawabannya juga ditampilkan dalam bentuk teks. </font><font style="vertical-align: inherit;">avrdude, flashrom dan sejumlah program lain juga dapat bekerja melalui BP, namun, untuk alasan yang jelas, kecepatannya beberapa kali lebih rendah. </font><font style="vertical-align: inherit;">Kecepatan rendah dikompensasi oleh luasnya aplikasi - ada banyak pilihan untuk menggunakan BP untuk meniru berbagai protokol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berpikir bahwa dalam hidup ini Anda perlu mencoba segalanya, saya memesan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BP v3.6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan kabel. </font><font style="vertical-align: inherit;">Ya, ya, saya ingat tentang tikus di kaktus, dan tentang "besok saya akan pergi ke sana lagi."</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id380531/">https://habr.com/ru/post/id380531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id380521/index.html">ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ‚Ğ¾Ñ€ Ğ´Ğ»Ñ Ğ»ÑĞ´ĞµĞ¹ Ñ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¿Ğ¾Ğ´Ğ²Ğ¸Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ (Ñ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸)</a></li>
<li><a href="../id380523/index.html">Dua puluh BTS seluler palsu ditemukan di London</a></li>
<li><a href="../id380525/index.html">Commodore Amiga Mengelola Sistem Iklim di Michigan Public School selama 30 Tahun</a></li>
<li><a href="../id380527/index.html">Ceramah pesepakbola matematika untuk staf NSA</a></li>
<li><a href="../id380529/index.html">Peramban seluler Safari telah mempelajari cara memblokir iklan</a></li>
<li><a href="../id380533/index.html">Epson mengundang semua orang ke piknik untuk para Geeks</a></li>
<li><a href="../id380535/index.html">Pendaratan lunak kapsul Union lebih seperti ledakan, tetapi tidak masalah</a></li>
<li><a href="../id380537/index.html">Unreal Engine 4.8 dirilis</a></li>
<li><a href="../id380541/index.html">Jumat "Parcel": kasus yang tidak biasa dan keingintahuan dalam pengiriman</a></li>
<li><a href="../id380543/index.html">Kartu pintar. Bagian 4. JavaCard</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>