<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ ๐ ๐ก ุงุฎุชูุงุฑ ูุณุชูุฏุน ุจูุงูุงุช ูู Prometheus: Thanos vs VictoriaMetrics ๐ง ๐ฉ๐ฝโ๐ฌ ๐๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน. ููุฌุฏ ุฃุฏูุงู ูุณุฎุฉ ูู ุงูุชูุฑูุฑ ูุน Big Monitoring Meetup 4 . 


 ุจุฑูููุซููุณ ูู ูุธุงู ูุฑุงูุจุฉ ููุฃูุธูุฉ ูุงูุฎุฏูุงุช ุงููุฎุชููุฉ ุ ุญูุซ ูููู ููุณุคููู ุงููุธุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุฎุชูุงุฑ ูุณุชูุฏุน ุจูุงูุงุช ูู Prometheus: Thanos vs VictoriaMetrics</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482272/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุจุงูุฌููุน.  ููุฌุฏ ุฃุฏูุงู ูุณุฎุฉ ูู <a href="https://www.youtube.com/watch%3Fv%3DHyOXAdQE0Pk" rel="nofollow">ุงูุชูุฑูุฑ ูุน Big Monitoring Meetup 4</a> . </p><br><p style=";text-align:right;direction:rtl">  <strong><a href="https://github.com/prometheus" rel="nofollow">ุจุฑูููุซููุณ</a></strong> ูู ูุธุงู ูุฑุงูุจุฉ ููุฃูุธูุฉ ูุงูุฎุฏูุงุช ุงููุฎุชููุฉ ุ ุญูุซ ูููู ููุณุคููู ุงููุธุงู ุฌูุน ุงููุนูููุงุช ุญูู ุงููุนููุงุช ุงูุญุงููุฉ ููุฃูุธูุฉ ูุชูููู ุงูุชูุจููุงุช ูุชููู ุฅุฎุทุงุฑุงุช ุงูุงูุญุฑุงูุงุช ูู ุชุดุบูู ุงูุฃูุธูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุณููุงุฑู ุงูุชูุฑูุฑ ุจูู <a href="https://github.com/thanos-io/thanos" rel="nofollow">Thanos</a> ู <a href="https://github.com/VictoriaMetrics/VictoriaMetrics" rel="nofollow">VictoriaMetrics</a> ุ ูุดุงุฑูุน ููุชุฎุฒูู ุทููู ุงูุฃุฌู ูููุงููุณ Prometheus. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vm/ha/hd/vmhahdu2edj4dsc6o3lvzaf-noo.png"></p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HyOXAdQE0Pk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/op/ni/ao/opniaodpqcis34bw3f4-twdnsic.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุณุฃุชุญุฏุซ ุนู ุจุฑูููุซููุณ.  ูุฐุง ูุธุงู ูุฑุงูุจุฉ ูุฌูุน ุงูููุงููุณ ูู ุฃูุฏุงู ูุนููุฉ ููุญูุธูุง ูู ุงูุชุฎุฒูู ุงููุญูู.  ูููู ูู Prometheus ุฃู ููุชุจ ุงูููุงููุณ ุฅูู ูุณุชูุฏุน ุจุนูุฏ ุ ููููู ุฃู ูููุฏ ุชูุจููุงุช ูููุงุนุฏ ุงูุชุณุฌูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dl/ji/yn/dljiynnywlw3fcjl7oc3m7lgstw.png"></p><br><h3 id="ogranicheniya-prometheus" style=";text-align:right;direction:rtl">  ุญุฏูุฏ ุจุฑูููุซููุณ: </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูุญุชูู ุนูู ุนุฑุถ ุงุณุชุนูุงู ุนุงู.  ูุฐุง ุนูุฏูุง ูููู ูุฏูู ุงูุนุฏูุฏ ูู ุงูุญุงูุงุช ุงููุณุชููุฉ ููุจุฑูููุซููุณ.  ูููููู ุจุฌูุน ุงูููุงููุณ.  ูุชุฑูุฏ ุชูุฏูู ุทูุจ ููู ูู ูุฐู ุงูููุงููุณ ุงูุชู ุชู ุฌูุนูุง ูู ุญุงูุงุช ูุฎุชููุฉ ูู ุจุฑูููุซููุณ.  ุจุฑูููุซููุณ ูุง ูุณูุญ ุจุฐูู. </li><li style=";text-align:right;direction:rtl">  ูุน prometheus ุ ููุชุตุฑ ุงูุฃุฏุงุก ุนูู ุฎุงุฏู ูุงุญุฏ ููุท.  ูุง ูููู ูู Prometheus ุงูููุงุณ ุชููุงุฆููุง ุฅูู ุฎูุงุฏู ูุชุนุฏุฏุฉ.  ููููู ุชูุณูู ุฃูุฏุงูู ูุฏูููุง ููุท ุจูู ุจุฑูููุซููุณ ุงููุชุนุฏุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ููุชุตุฑ ุญุฌู ุงูููุงููุณ ูู Prometheus ุนูู ุฎุงุฏู ูุงุญุฏ ููุท ูููุณ ุงูุณุจุจ ุงูุฐู ูุชุนุฐุฑ ุนููู ุงูููุงุณ ุชููุงุฆููุง ุฅูู ุฎูุงุฏู ูุชุนุฏุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ูู Prometheus ุ ููุณ ูู ุงูุณูู ุชูุธูู ุฃูุงู ุงูุจูุงูุงุช. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/t3/wi/lf/t3wilf2sbn7ndupjqbe1wgxqrzw.png"></p><br><h3 id="resheniya-etih-problemzadach" style=";text-align:right;direction:rtl">  ุญู ูุฐู ุงููุดุงูู / ุงูุชุญุฏูุงุชุ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุญููู ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://github.com/thanos-io/thanos" rel="nofollow">ุซุงููุณ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/VictoriaMetrics/VictoriaMetrics" rel="nofollow">VictoriaMetrics</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/m3db" rel="nofollow">ุงูุจุฑ M3</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/cortexproject/cortex" rel="nofollow">ูุดุฑุฉ</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุญููู ุงูุชุฎุฒูู ุนู ุจูุนุฏ ุงูุชู ุฌูุนุชูุง ุจุฑูููุซููุณ.  ูููููู ุจุญู ูุดููุฉ ุงูุชุฎุฒูู ุนู ุจูุนุฏ ูู ุงูุดุฑูุญุฉ ุงูุณุงุจูุฉ ุจุทุฑู ูุฎุชููุฉ.  ูู ูุฐุง ุงูุนุฑุถ ุงูุชูุฏููู ุ ุณุฃุชุญุฏุซ ููุท ุนู ุงูุญููู ุงูุฃูููู: <a href="https://github.com/thanos-io/thanos" rel="nofollow">Thanos</a> ู <a href="https://github.com/VictoriaMetrics/VictoriaMetrics" rel="nofollow">VictoriaMetrics</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฃูู ูุฑุฉ ุ ุธูุฑุช ูุนูููุงุช ุญูู <a href="https://github.com/thanos-io/thanos" rel="nofollow">Thanos</a> ุนูู <a href="https://improbable.io/blog/thanos-prometheus-at-scale" rel="nofollow">ูุฐุง ุงูุฑุงุจุท</a> .  ููู ูุตู ุจููุฉ <a href="https://github.com/thanos-io/thanos" rel="nofollow">Thanos</a> ูููู ูุนูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wg/bq/-b/wgbq-b3pwr1emeewan-q5hszprs.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos ูุฃุฎุฐ ุงูุจูุงูุงุช ุงูุชู ุญูุธูุง Prometheus ุนูู ุงููุฑุต ุงููุญูู ููุณุฎูุง ุฅูู S3 ุ ุฅูู <a href="https://cloud.google.com/storage/" rel="nofollow">GCS</a> ุฃู ุฅูู ุชุฎุฒูู ูุงุฆู ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/p7/4g/rj/p74grj159fi9xb58vq-hphcrqyi.png"></p><br><p style=";text-align:right;direction:rtl">  ุจูุฐู ุงูุทุฑููุฉ ุ ูููุฑ Thanos ุทุฑููุฉ ุนุฑุถ ุงุณุชุนูุงู ุนูููู.  ููููู ุทูุจ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูู ุชุฎุฒูู ุงููุงุฆู ูู ูุซููุงุช ูุชุนุฏุฏุฉ ูู ุจุฑูููุซููุณ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/aj/3u/wi/aj3uwi8dd4wgy-fyogditn--kek.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏุนู Thanos PromQL ู <a href="https://prometheus.io/docs/prometheus/latest/querying/api/" rel="nofollow">API ุงูุงุณุชุนูุงู Prometheus</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sr/t7/ql/srt7qlyoruhbxr5wglfuyhi9jp4.png"></p><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู Thanos ุฑูุฒ Prometheus ูุชุฎุฒูู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3y/ws/ik/3ywsiklzziqimz1aig7uzieblqw.png"></p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุทููุฑ Thanos ุจูุงุณุทุฉ ููุณ ุงููุทูุฑูู ูุซู Prometheus. </p><br><p style=";text-align:right;direction:rtl">  ุญูู <a href="https://github.com/VictoriaMetrics/VictoriaMetrics" rel="nofollow">VictoriaMetrics</a> .  ููุง ูู <a href="https://medium.com/faun/victoriametrics-creating-the-best-remote-storage-for-prometheus-5d92d66787ac" rel="nofollow">ุงูุฑุงุจุท</a> ุญูุซ ุชุญุฏุซูุง ูุฃูู ูุฑุฉ ุนู <a href="https://github.com/VictoriaMetrics/VictoriaMetrics" rel="nofollow">VictoriaMetrics</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/z9/q2/wv/z9q2wvhshsoqb1ron0jx47djiwc.png"></p><br><p style=";text-align:right;direction:rtl">  ูุชููู VictoriaMetrics ุจูุงูุงุช ูู ุนุฏุฉ ุจุฑูููุซููุณ ุนุจุฑ ุจุฑูุชูููู <a href="https://prometheus.io/docs/practices/remote_write/" rel="nofollow">API ูููุชุงุจุฉ ุนู ุจูุนุฏ</a> ุงููุฏุนูู ูู ุจุฑูููุซููุณ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pl/xl/ad/plxladg1rdvyudc0wzs5oc2ljsa.png"></p><br><p style=";text-align:right;direction:rtl">  ูููุฑ VictoriaMetrics ุทุฑููุฉ ุนุฑุถ ุงุณุชุนูุงู ุนุงูุฉ ุ ุญูุซ ูููู ููุซููุงุช ูุชุนุฏุฏุฉ ูู Prometheus ูุชุงุจุฉ ุงูุจูุงูุงุช ุฅูู VictoriaMetrics ูุงุญุฏุฉ.  ูููุง ูุฐูู ุ ููููู ุชูุฏูู ุทูุจุงุช ูุฌููุน ูุฐู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9l/cp/aw/9lcpawp68_pq2mrhzya9okprroy.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏุนู VictoriaMetrics ุฃูุถูุง ุ ูุซู Thanos ู PromQL ู Prometheus ุงูุงุณุชุนูุงู ุนู API. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/d1/t1/ek/d1t1ek9rbq_ftlasl48scoriyq0.png"></p><br><p style=";text-align:right;direction:rtl">  ุนูู ุนูุณ Thanos ุ ุชุชู ูุชุงุจุฉ ุดูุฑุฉ ูุตุฏุฑ VictoriaMetrics ูู ููุทุฉ ุงูุตูุฑ ูุชุญุณูู ููุณุฑุนุฉ ูุงูููุงุฑุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ps/t6/gu/pst6guuoseu2dicx9tra1bvjhry.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics ุ ุนูู ุนูุณ Thanos ุ ูุญุฌู ุฑุฃุณูุงู ูุฃูููุงู.  ููุงู ูุณุฎุฉ <a href="" rel="nofollow">ุฃุญุงุฏูุฉ ุงูุนูุฏุฉ</a> ุชุญุฌูู ุฑุฃุณูุงู.  ููููู ุฃู ุชุจุฏุฃ ุจูุนุงูุฌ ูุงุญุฏ ู 1 ุฌูุฌุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ูุชููู ุชุฏุฑูุฌูุงู ุฅูู ูุฆุงุช ุงููุนุงูุฌุงุช ู 1 ุชูุฑุงุจุงูุช ูู ุงูุฐุงูุฑุฉ.  ูููู ูู VictoriaMetrics ุงุณุชุฎุฏุงู ูู ูุฐู ุงูููุงุฑุฏ.  ุณูุฒูุฏ ุฃุฏุงุฆูุง ุจูุญู 100 ูุฑุฉ ููุงุฑูุฉ ุจูุธุงู ุฃุญุงุฏู ุงูููุงุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tb/s7/t4/tbs7t4unnruaytt7duwambgofne.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุฏุฃ ุชุงุฑูุฎ Thanos ูู ููููุจุฑ 2017 ุ ุนูุฏูุง ุธูุฑ ุฃูู ุงูุชุฒุงู ุนุงู.  ูุจู ุฐูู ุ ุชู ุชุทููุฑ Thanos ุฏุงุฎูููุง ุจูุงุณุทุฉ <a href="https://improbable.io/" rel="nofollow">improbable.io</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ik/g7/dg/ikg7dgnmbyiph40zo7v7kyhxrdy.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ููููู 2019 ุ ูุงู ููุงู ุฅุตุฏุงุฑ ุชุงุฑูุฎู 0.5.0 ุ ุญูุซ ุชูุช <a href="https://thanos.io/proposals/201809_gossip-removal.md/" rel="nofollow">ุฅุฒุงูุฉ</a> ุจุฑูุชูููู <a href="https://en.wikipedia.org/wiki/Gossip_protocol" rel="nofollow">ุงูููู ูุงููุงู</a> .  ุชูุช ุฅุฒุงูุชู ูู Thanos ูุฃูู ูู ููุนู ูุง ุจูุณุนู.  ุบุงูุจูุง ูุง ุชุนูู ูุฌููุนุฉ Thanos ุจุดูู ุตุญูุญ ุ ูุงูุนููุฏ ุงููุชุตูุฉ ุจูุง ุจุดูู ุบูุฑ ุตุญูุญ ุจุณุจุจ ุจุฑูุชูููู gossip.  ูุฐูู ุ ูุฑุฑูุง ุฅุฒุงูุชู ูู ููุงู.  ุฃุนุชูุฏ ุฃู ูุฐุง ูู ุงููุฑุงุฑ ุงูุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5y/bu/cu/5ybucuovkh85tqwsrv3cjre-zmu.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ููููู 2019 ุฃูุถูุง ุ ุฃุฑุณููุง ุฑูู ุงูุทูุจ <a href="https://github.com/cncf/toc/pull/256" rel="nofollow">256</a> ุฅูู ูุคุณุณุฉ <a href="https://www.cncf.io/" rel="nofollow">Cloud Native Computing Foundation</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/16/rz/x_/16rzx_bswddquoqw4cmw9txobxa.png"></p><br><p style=";text-align:right;direction:rtl">  ูุจุนุฏ ุจุถุนุฉ ุฃุดูุฑ ุ ุงูุถู Thanos ุฅูู ูุคุณุณุฉ <a href="https://www.cncf.io/" rel="nofollow">Cloud Native Computing Foundation</a> ุ ูุงูุชู ุชุดูู Prometheus ู Kubernetes ูุบูุฑูุง ูู ุงููุดุงุฑูุน ุงูุดุนุจูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9c/i2/ic/9ci2ictg_n0xtgdcxtklghw4n2w.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ููุงูุฑ 2018 ุ ุจุฏุฃ ุชุทููุฑ VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wi/li/co/wiliconuw5mwhyzizzthqk8a2og.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุฃูููู (ุณุจุชูุจุฑ) 2018 ุ ุฐูุฑุชู ุฃููุงู VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gd/th/ka/gdthkaxubi8jzg8gedilcotjdje.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุฏูุณูุจุฑ 2018 ุ ุชู ูุดุฑ ุงูุฅุตุฏุงุฑ ุงูููุฑุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ui/r7/23/uir723wmd-l1dwxds6katr8cfco.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุงูู 2019 <a href="https://blog.usejournal.com/open-sourcing-victoriametrics-f31e34485c2b" rel="nofollow">ุ ุชู ูุดุฑ</a> ูุตุงุฏุฑ ูู ูู ุนูุฏุฉ ูุงุญุฏุฉ ูุฅุตุฏุงุฑ ูุธุงู ุงููุฌููุนุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/a7/tk/ug/a7tkughz1ut9dmlfb6ued1irbh8.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ููููู 2019 ุ ูุซู Thanos ุ ุชูุฏููุง โโุจุทูุจ ุฅูู ูุคุณุณุฉ CNCF ุจุงูุฑูู <a href="https://github.com/cncf/toc/pull/255" rel="nofollow">255</a> .  ุทุจููุง ููู ูุงุญุฏ ูุจู ุชุทุจูู Thanos. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pk/dm/zr/pkdmzr2xn880osldinx6sb10-ai.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูุณูุก ุงูุญุธ ุ ูุง ุฒููุง ูู ููุจู ููุงู.  ุจุญุงุฌุฉ ุงูู ูุณุงุนุฏุฉ ูู ุงููุฌุชูุน. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mw/2w/we/mw2wwenfu8tecrrkyrkx-8dhf-8.png"></p><br><p style=";text-align:right;direction:rtl">  ุงููุธุฑ ูู ุฃูู ุงูุดุฑุงุฆุญ ุงูุชู ุชุจูู ุจููุฉ Thanos ู VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/1w/by/96/1wby96ev7cqhx7-psbem1b-bf-i.png"></p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ ูุน Thanos.  ุงูููููุงุช ุงูุตูุฑุงุก ูู ููููุงุช ุจุฑูููุซููุณ.  ูู ุดูุก ุขุฎุฑ ูู ููููุงุช Thanos.  ููุจุฏุฃ ูุน ุงููููู ุงูุฃูุซุฑ ุฃูููุฉ.  Thanos Sidecar ูู ูููู ูุซุจุช ุจุฌุงูุจ ูู Prometheus.  ุฅูู ููุชุฒู ุจุชุญููู ุจูุงูุงุช Prometheus ูู ุงูุชุฎุฒูู ุงููุญูู ุฅูู S3 ุฃู ูู ุชุฎุฒูู ูุงุฆู ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููุฌุฏ ุฃูุถูุง ูููู ูุซู Thanos Store Gateway ุ ูุงูุฐู ููููู ูุฑุงุกุฉ ูุฐู ุงูุจูุงูุงุช ูู ุชุฎุฒูู ุงููุงุฆู ุจูุงุกู ุนูู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ูู Thanos Query.  ูููู Thanos Query ุจุชูููุฐ PromQL ู Prometheus API.  ููุฐุง ูู ุ ูู ุงูุฎุงุฑุฌ ูุจุฏู ููุฃูู ุจุฑูููุซููุณ.  ููุจู ุงุณุชุนูุงูุงุช PromQL ุ ูุฑุณููุง ุฅูู Thanos Store Gateway ุ ูุณุชุฑุฏ Thanos Store Gateway ุงูุจูุงูุงุช ุงูุถุฑูุฑูุฉ ูู Object Storage ุ ููุฑุณููุง ูุฑุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููููุง ูููุง ุจุชุฎุฒูู ุงูุจูุงูุงุช ูู "ุชุฎุฒูู ุงููุงุฆูุงุช" ุฏูู ุงูุณุงุนุชูู ุงูุฃุฎูุฑุชูู ุจุณุจุจ ุฎุตูุตูุฉ ุชุทุจูู Thanos Sidecar ุ ุงูุฐู ูุง ูููู ุชุญููู ุงูุณุงุนุชูู ุงูุฃุฎูุฑุชูู ุฅูู Object Storage S3 ุ ูุฃู ูุงุชูู ุงูุณุงุนุชูู ูู ููู ุจุฑูููุซููุณ ุจุฅูุดุงุก ูููุงุช ูู ุงูุชุฎุฒูู ุงููุญูู. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุฑุฑูุง ุงูุงูุชูุงู ุนูู ูุฐุงุ  ูููู Thanos Query ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุทูุจุงุช ุงูููุฏูุฉ ูู Thanos Store Gateway ุ ุจุฅุฑุณุงู ุทูุจุงุช ูุชูุงุฒูุฉ ุฅูู ูู Thanos Sidecar ุจุฌูุงุฑ Prometheus. </p><br><p style=";text-align:right;direction:rtl">  ู Thanos Sidecar ุ ุจุฏูุฑู ุ ุงููููุงุก ูุทูุจูู ุงููุฒูุฏ ูู ุจุฑูููุซููุณ ุ ููุญุตููู ุนูู ุจูุงูุงุช ููุณุงุนุชูู ุงูุฃุฎูุฑุชูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ูุฐู ุงูููููุงุช ุ ููุงู ุฃูุถูุง ูููู ุงุฎุชูุงุฑู ูู ุชุดุนุฑ Thanos ุจู ุฌูุฏูุง.  ูุฐุง ูู Thanos Compact ุ ุงูุฐู ูุฏูุฌ ุงููููุงุช ุงูุตุบูุฑุฉ ุนูู Object Object ูู ูููุงุช ุฃูุจุฑ ุชู ุชุญููููุง ูู ูุจู Thanos Sidecar.  ูููู Thanos Sidecar ุจุชุญููู ูููุงุช ุงูุจูุงูุงุช ููุงู ุฎูุงู ุณุงุนุชูู.  ูุฐู ุงููููุงุช ุ ุฅุฐุง ูู ุชูู ุจุฏูุฌูุง ูู ูููุงุช ุฃูุจุฑ ุ ููููู ุฃู ูุฒูุฏ ุนุฏุฏูุง ุจุดูู ูุจูุฑ.  ูููุง ุฒุงุฏ ุนุฏุฏ ูุฐู ุงููููุงุช ุ ุฒุงุฏุช ุงูุญุงุฌุฉ ุฅูู ุฐุงูุฑุฉ Thanos Store Gateway ุ ุฒุงุฏุช ุงูููุงุฑุฏ ุงููุงุฒูุฉ ูููู ุงูุจูุงูุงุช ุนุจุฑ ุงูุดุจูุฉ ุ ุจูุงูุงุช ุงูุชุนุฑูู.  Thanos Store Gateway ุฃุตุจุญ ุบูุฑ ูุนุงู.  ูุฐูู ุ ูุฌุจ ุนููู ุจุงูุชุฃููุฏ ุชุดุบูู Thanos Compact ุ ูุงูุฐู ูุฏูุฌ ุงููููุงุช ุงูุตุบูุฑุฉ ูู ูููุงุช ุฃูุจุฑ ุจุญูุซ ูููู ุนุฏุฏ ูุฐู ุงููููุงุช ุฃูู ูุชูููู ุงูุญูู ุนูู Thanos Store Gateway. </p><br><p style=";text-align:right;direction:rtl">  ููุฌุฏ ุฃูุถูุง ูููู ูุซู Thanos Ruler.  ูุชุจุน ููุงุนุฏ ุชูุจูู Prometheus ูููููู ุญุณุงุจ ููุงุนุฏ ุชุณุฌูู Prometheus ูู ุฃุฌู ูุชุงุจุฉ ุงูุจูุงูุงุช ูุฑุฉ ุฃุฎุฑู ุฅูู Object Storage.  ูููู ูุฐุง ุงูุนูุตุฑ ุบูุฑ ูุณุชุญุณู ุ ูุฃูู  <a href="" rel="nofollow">ูููู ุฅูู ุฅุฑุฌุงุน ุจูุงูุงุช ุบูุฑ ูุงููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ูุฎุทุท ุจุณูุท ู Thanos. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/os/em/y4/osemy4ys_bkpy-ngxj7jg-gdmom.png"></p><br><p style=";text-align:right;direction:rtl">  ูุงุฑู ุงูุขู ูุน ูุฎุทุท VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู VictoriaMetrics ุนูู ูุณุฎุชูู: ุงูุนูุฏุฉ ุงูููุฑุฏุฉ ูุงููุณุฎุฉ ุงูุนูููุฏูุฉ.  ูุชู ุชุดุบูู ุงูุนูุฏุฉ ุงูููุฑุฏุฉ ุนูู ุฌูุงุฒ ููุจููุชุฑ ูุงุญุฏ.  ุนูุฏุฉ ูุงุญุฏุฉ ูุง ุชุญุชูู ุนูู ูุฐู ุงูููููุงุช ุ ููุท ุซูุงุฆู ูุงุญุฏ.  ูุฐุง ุงูุซูุงุฆู ุนูู ุงูุดุฑูุญุฉ ูุดุจู ูุฐุง ุงููุฑุจุน.  ูู ูุง ุจุฏุงุฎู ุงููุฑุจุน ูู ูุญุชููุงุช ุงูููู ุงูุซูุงุฆู ูุฅุตุฏุงุฑ ุนูุฏุฉ ูุงุญุฏุฉ.  ูุง ุชุญุชุงุฌ ุฃู ุชุนุฑู ุนูู.  ูุฌุฑุฏ ุจุฏุงูุฉ ุงูุซูุงุฆูุฉ - ููุนูู ูู ุดูุก ุจุงููุณุจุฉ ููุง. </p><br><p style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑ ุงููุชูุฉ ุฃูุซุฑ ุชุนููุฏูุง.  ุฏุงุฎููุง ููุงู ุซูุงุซุฉ ููููุงุช ูุฎุชููุฉ: vmselect ุ vminsert ู vmstorage.  ูู ุงุณููู ูุฌุจ ุฃู ูููู ูุงุถุญุง ูุง ููุนูู ูู ูููู.  ููุจู ุงููููู Insert ุงูุจูุงูุงุช ุจุชูุณููุงุช ูุฎุชููุฉ: ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Prometheus ูููุชุงุจุฉ ุนู ุจูุนุฏ ูุจุฑูุชูููู ุฎุท ุงูุชุฏูู ูุจุฑูุชูููู ุงูุฌุฑุงููุช ูุจุฑูุชูููู OpenTSDB.  ููุจู ุงููููู Insert ุ ูููุฒุนูุง ูููุฒุนูุง ุจูู ููููุงุช ุงูุชุฎุฒูู ุงูุญุงููุฉ ุ ุญูุซ ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุจุงููุนู.  ุงููููู Select ุ ุจุฏูุฑู ุ ููุจู ุงุณุชุนูุงูุงุช PromQL.  ูููู ุจุชูููุฐ <a href="https://medium.com/%40valyala/promql-tutorial-for-beginners-9ab455142085" rel="nofollow">PromQL</a> ููุฐูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุงุณุชุนูุงู Prometheus ุ ููููู ุงุณุชุฎุฏุงูู ูุจุฏูู ูู Prometheus ูู Grafana ุฃู ุนููุงุก API Prometheus ุงูุขุฎุฑูู.  ุญุฏุฏ ููุจู ุทูุจ promql ุ ููููู ุจุชูุฒูุนู ุ ููุฑุงุกุฉ ุงูุจูุงูุงุช ุงููุงุฒูุฉ ูุชูููุฐ ูุฐุง ุงูุทูุจ ูู ุนูุฏุฉ ุงูุชุฎุฒูู ุ ููุนุงูุฌุฉ ูุฐู ุงูุจูุงูุงุช ูุฅุฑุฌุงุน ุงุณุชุฌุงุจุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sb/co/mx/sbcomx2usdrwzbyfgqjubvoichg.png"></p><br><p style=";text-align:right;direction:rtl">  ูุงุฑู ุตุนูุจุฉ ุชุซุจูุช Thanos ู VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hv/gw/r6/hvgwr6nk7yh4nog7rpjac4fn0se.png"></p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ ูุน Thanos.  ูุจู ุฃู ุชุจุฏุฃ ุงูุนูู ูุน Thanos ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุฏูู ูู "Object Object" ุ ูุซู S3 ุฃู GCS ุ ุญุชู ูุชููู Thanos Sidecar ูู ูุชุงุจุฉ ุงูุจูุงูุงุช ููุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/st/hk/5s/sthk5swss1mkaalb4p3oiebnesq.png"></p><br><p style=";text-align:right;direction:rtl">  ุซู ููู ุจุฑูููุซููุณ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช Thanos Sidecar.  ูุจู ุฐูู ุ ุนููู ุฃู ุชุชุฐูุฑ ุชุนุทูู ุถุบุท ุงูุจูุงูุงุช ูู Prometheus.  ูุถุบุท ุถุบุท ุงูุจูุงูุงุช ุจุดูู ุฏูุฑู ุงูุจูุงูุงุช ูู ุงูุชุฎุฒูู ุงููุญูู ูู Prometheus ูู ุฃุฌู ุชูููู ุงุณุชููุงู ุงูููุงุฑุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุซุจูุช Thanos Sidecar ุนูู Prometheus ุ ูุฌุจ ุนููู ุชุนุทูู ุถุบุท ุงูุจูุงูุงุช ูุฐุง ุ ูุฃู Thanos Sidecar ูุง ููููู ุงูุนูู ุจุดูู ุทุจูุนู ุนูุฏ ุชูููู ุถุบุท ุงูุจูุงูุงุช.  ูุฐุง ูุนูู ุฃู Prometheus ุงูุฎุงุต ุจู ูุจุฏุฃ ูู ุญูุธ ุงูุจูุงูุงุช ูู ูุชู ูู ุณุงุนุชูู ููุชููู ุนู ุฏูุฌ ูุฐู ุงููุชู ูู ูุชู ุฃูุจุฑ.  ููููุง ูุฐูู ุ ุฅุฐุง ููุช ุจุชูุฏูู ุทูุจุงุช ุฃุทูู ูู ุงูุณุงุนุชูู ุงูุฃุฎูุฑุชูู ุ ููู ุชุนูู ุจููุงุกุฉ ูุฏุฑ ุงูุฅููุงู ุฅุฐุง ุชู ุชูููู ุถุบุท ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gd/as/pw/gdaspwys_r63cegoxqovl9bcmie.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ููุตู Thanos ุจุชูููู ููุช ุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช ูู ุงูุชุฎุฒูู ุงููุญูู ุฅูู 6-8 ุณุงุนุงุช ูู ุฃุฌู ุชูููู ูุฐุง ุงูุญูู ูุนุฏุฏ ูุจูุฑ ูู ุงููุทุน ุงูุตุบูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุซุจูุช Thanos Sidecar ุ ูุฌุจ ุนููู ุชุซุจูุช ูููููู ููู ุฏูู ุชุฎุฒูู ูุงุฆู.  ูุฐู ูู Thanos Compactor ู Thanos Store Gateway. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cw/4f/yk/cw4fyksvnkmp1tcn-clf-2gzx3q.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช Thanos Query ูุชููุฆุชู ุจุญูุซ ูุนุฑู ููููุฉ ุงูุงุชุตุงู ุจูู ุจูุงุจุฉ ูุชุฌุฑ Thanos ุงูููุฌูุฏุฉ ูุฏูู ุ ููุนุฑู ุฃูุถูุง ููููุฉ ุงูุงุชุตุงู ุจุฌููุน Thanos Sidecar. </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชููู ููุงู ูุดููุฉ ุตุบูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vf/sc/30/vfsc30z00pvcnupbdym2jztx09k.png"></p><br><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฅูู ุชูููู ุงุชุตุงู ููุซูู ูุขูู ูู Thanos Query ุฅูู ูุฐู ุงูููููุงุช.  ูุฅุฐุง ูุงู ูููุน Prometheus ุงูุฎุงุต ุจู ููุฌูุฏูุง ูู ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ ุฃู ูู ุฃุฌูุฒุฉ VPC ูุฎุชููุฉ ุ ูุณูุชู ุญุธุฑ ุงูุงุชุตุงูุงุช ุงูุฎุงุฑุฌูุฉ ุจูุง.  ููู ููู ูุนูู Thanos Query ุ ุชุญุชุงุฌ ุฅูู ุชูููู ุงูุงุชุตุงู ููุงู ุจุทุฑููุฉ ูุง ุ ูุนููู ุงูุชูุตู ุฅูู ุทุฑููุฉ ูุง. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏูู ุงููุซูุฑ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ูุฐู ุ ูุณุชูู ุจุงูุชุงูู ููุซูููุฉ ุงููุธุงู ุจุฃูููู.  ูุธุฑูุง ูุฃู Thanos Query ูุฌุจ ุฃู ูุธู ูุชุตูุงู ุจุงุณุชูุฑุงุฑ ุจุฌููุน Thanos Sidecar ุงูููุฌูุฏ ูู ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ.  ูุน ูู ุทูุจ ูุงุฑุฏ ุ ุณูููู ุจุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุฅูู Thanos Sidecar.  ุฅุฐุง ุชูุช ููุงุทุนุฉ ุงูุงุชุตุงู ุ ูุณุชุชููู ุฅูุง ูุฌููุนุฉ ุบูุฑ ูุงููุฉ ูู ุงูุจูุงูุงุช ุ ุฃู ุณุชุญุตู ุนูู ุฅุฌุงุจุฉ "ุงููุชูุฉ ูุง ุชุนูู". </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/rb/ka/aw/rbkaawevhardp1d85mhgdejylxg.png"></p><br><p style=";text-align:right;direction:rtl">  ูู VictoriaMetrics ุ ุงูุฃููุฑ ุฃุณูู ููููุงู.  ุจุงููุณุจุฉ ูุฅุตุฏุงุฑ Single-node ุ ูููู ุชุดุบูู ุซูุงุฆู ูุงุญุฏ ููุท ููุนูู ูู ุดูุก. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/co/ui/ll/couillafhtmobnbutejgs6qvszu.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุณุฎุฉ ูุฌูุนุฉ ุ ูููู ุชุดุบูู ุฌููุน ุงูุฃููุงุน ุงูุซูุงุซุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ูู ุงูููููุงุช ุจุฃู ูููุฉ ุชุญุชุงุฌูุง ุ ุฃู ุงุณุชุฎุฏุงู <a href="https://github.com/VictoriaMetrics/helm-charts/" rel="nofollow">ูุฎุทุท ุงูุฏูุฉ</a> ูุฃุชูุชุฉ ุฅุทูุงู ุงูููููุงุช ูู Kubernetes.  ูุง ุฒููุง ูุฎุทุท ูุฅูุดุงุก ูุดุบู Kubernetes.  ูุฎุทุท ูููู ูุง ูุบุทู ุจุนุถ ุงูุญุงูุงุช ุ ููุณูุญ ูู ุจุฅุทูุงู ุงููุงุฑ ุนูู ุณุงูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุณูุญ ูู ุจุชูููู ุนุฏุฏ ุนูุฏุฉ ุงูุชุฎุฒูู ุ ููุง ูุคุฏู ุฅูู ููุฏ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jb/ta/0t/jbta0t7qcko6jov_x1ximqkfni0.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุดุบูู ุฅุตุฏุงุฑ ุซูุงุฆู ุฃู ูุธุงู ูุฌููุนุฉ ุ ุชุญุชุงุฌ ููุท ุฅูู ุฅุถุงูุฉ <a href="" rel="nofollow">ุฅุนุฏุงุฏ ุนููุงู url ูููุชุงุจุฉ ุนู ุจุนุฏ</a> ุฅูู ุชูููู Prometheus ุจุญูุซ ูุจุฏุฃ ูู ูุชุงุจุฉ ุงูุจูุงูุงุช ุจุงูุชูุงุฒู ูุน ุงูุชุฎุฒูู ุงููุญูู ูุงูุชุฎุฒูู ุนู ุจูุนุฏ.  ููุง ูุงุญุธุช ุ ูุฌุจ ุฃู ูุนูู ูุฐุง ุงูุชูููู ุจุดูู ุฃูุซุฑ ููุซูููุฉ ููุงุฑูุฉู ุจุชูููู Thanos.  ูุง ูุญุชุงุฌ ุฅูู ุฅุจูุงุก VictoriaMetrics ุนูู ุงุชุตุงู ุจุฌููุน Prometheus ุ ูุฃู Prometheus ุฃููุณูู ูุชุตููู ุจู VictoriaMetrics ูููู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/u3/3a/if/u33aifuu7myx3vvs0mkbeysfnei.png"></p><br><p style=";text-align:right;direction:rtl">  ุงููุธุฑ ูู ูุฑุงููุฉ Thanos ู VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fq/dt/d2/fqdtd27cjx-yktnyozgxoon2pte.png"></p><br><p style=";text-align:right;direction:rtl">  ูุญุชุงุฌ Thanos ุฅูู ูุฑุงูุจุฉ Sidecar ุจุญูุซ ูุง ูุชููู ุนู ุชุญููู ุงูุจูุงูุงุช ูู Object Object.  ูุฏ ูููููู ุชุญููู ูุฐู ุงูุจูุงูุงุช ุจุณุจุจ ุฃุฎุทุงุก ุงูุชุญููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุชุตุงู ุงูุดุจูุฉ ุงูุฎุงุต ุจู ูุน Object Storage ุบูุฑ ูุชุตู ูุคูุชูุง ุ ุฃู ุฃู Object Object ุบูุฑ ูุชุงุญ ูุคูุชูุง.  Thanos Sidecar ูู ูุฐู ุงููุญุธุฉ ุณูู ุชูุงุญุธ ุฐูู ุ ุชุจูุบ ุนู ุฎุทุฃ ุ ููุฏ ุชุณูุท ุซู ุชุชููู ุนู ุงูุนูู.  ุฅุฐุง ูู ุชุฑุงูุจูุง ุ ููู ูุชู ุจุนุฏ ุฐูู ููู ุจูุงูุงุชู ุฅูู ุชุฎุฒูู ุงููุงุฆูุงุช.  ุฅุฐุง ูุฑ ููุช ุงูุงุณุชุจูุงุก (6-8 ุณุงุนุงุช ููุตู ุจู) ุ ูุณุชููุฏ ุงูุจูุงูุงุช ุงูุชู ูู ุชูุน ูู "ุชุฎุฒูู ุงููุงุฆูุงุช". </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/z7/bm/cx/z7bmcxgwyscnrnnehhtjvuqipho.png"></p><br><p style=";text-align:right;direction:rtl">  ุถุงุบุทุงุช Thanos ูุฏ ุชุชููู ุนู ุงูุนูู ุจุณุจุจ <a href="https://github.com/thanos-io/thanos/issues/1919" rel="nofollow">ุงูุณุจุงู ูุน Sidecar</a> .  ูุฃุฎุฐ ุงูุถุงุบุทูู ุงูุจูุงูุงุช ูู ุชุฎุฒูู ุงููุงุฆูุงุช ููุฏูุฌูููุง ูู ูุฌููุนุงุช ุฃูุจุฑ ูู ุงูุจูุงูุงุช.  ูุธุฑูุง ูุฃู ุงูุถูุงุบุท ุบูุฑ ูุชุฒุงููุฉ ูุน Sidecar ุ ููุฏ ูุญุฏุซ ูุฐุง: ูู ูุชู ุฅููุงุก Sidecar ูู ูุชุงุจุฉ ุงููุชูุฉ ุ ููุฑุฑ Compactor ุชุณุฌูู ูุฐู ุงููุชูุฉ ุจุงููุงูู.  ุงูุถุงุบุท ูุจุฏุฃ ูู ูุฑุงุกุชู.  ูุง ููุฑุฃ ุงููุชูุฉ ุจุงููุงูู ููุชููู ุนู ุงูุนูู.  ุงูุธุฑ ุงูุชูุงุตูู <a href="https://thanos.io/proposals/201901-read-write-operations-bucket.md/" rel="nofollow">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_u/c6/hb/_uc6hbgr_kl9l2an5yl0cs9hfba.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชููุฑ ุจูุงุจุฉ ุงููุชุฌุฑ ุจูุงูุงุช ุบูุฑ ูุชุณูุฉ ุจุณุจุจ ุงูุณุจุงู ุจูู ุงูุถุงุบุท ู Sidecar.  ูุฐุง ูู ููุณ ุงูุดูุก ุ ูุฃู ุจูุงุจุฉ ุงููุชุฌุฑ ููุณุช ูู ุฃู ุญุงู ูู ุงูุฃุญูุงู ูุชุฒุงููุฉ ูุน Compactor's ู Sidecar.  ููููุง ูุฐูู ุ ูุฏ ุชุญุฏุซ ุญุงูุฉ ุงูุณุจุงู ุนูุฏูุง ูุง ุชุฑู ุจูุงุจุฉ ุงููุชุฌุฑ ุฌุฒุกูุง ูู ุงูุจูุงูุงุช ุฃู ุชุฑู ุจูุงูุงุช ุฒุงุฆุฏุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-y/20/ur/-y20urze7qgwxkrklj8ave_ct3i.png"></p><br><p style=";text-align:right;direction:rtl">  ูุชุฎูู ูููู Query ูู Thanos ุนู ูุชุงุฆุฌ ุฌุฒุฆูุฉ ูู ุญุงูุฉ ุนุฏู ุชููุฑ ุจุนุถ Sidecar ุฃู Gateway Store ูู ุงูููุช ุงูุญุงูู.  ุณุชุชููู ุฌุฒุกูุง ูู ุงูุจูุงูุงุช ุ ููู ุชุนุฑู ุญุชู ุฃูู ูู ูุชู ุงุณุชูุงู ุฌููุน ุงูุจูุงูุงุช.  ุฃูู ูุนูู ูุซู ูุฐุง ุงูุชุฑุงุถูุง.  ูู ูููู ูุดุงุจู ุ ุชูุฑุฌุน VictoriaMetrics ุงูุจูุงูุงุช ุงููุญุฏุฏุฉ ุจุฃููุง ุฌุฒุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2g/op/wp/2gopwpbh41vviugdebarsjuql4w.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุฎูุงู Thanos ุ ูุงุฏุฑูุง ูุง ุชููุฏ VictoriaMetrics ุงูุจูุงูุงุช.  ุญุชู ุฅุฐุง ุชูุช ููุงุทุนุฉ ุงูุงุชุตุงู ูู Prometheus ุฅูู VictoriaMetrics ุ ูุฅู ูุฐู ููุณุช ูุดููุฉ ุ ูุฃู Prometheus ูุง ูุฒุงู ูุณุฌู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุงููุงุฑุฏุฉ ูู ุณุฌู Write Ahead ุ ุงูุฐู ูุจูุบ ุญุฌูู ุณุงุนุชูู.  ุฅุฐุง ููุช ุจุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู VictoriaMetrics ุฎูุงู ุณุงุนุชูู ุ ููู ุชุถูุน ุงูุจูุงูุงุช.  <a href="https://grafana.com/blog/2019/03/25/whats-new-in-prometheus-2.8-wal-based-remote-write/" rel="nofollow">ูููู ูู</a> Prometheus <a href="https://grafana.com/blog/2019/03/25/whats-new-in-prometheus-2.8-wal-based-remote-write/" rel="nofollow">ุฅุถุงูุฉ ุจูุงูุงุช ุจุนุฏ ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจู VictoriaMetrics</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kg/nl/mv/kgnlmvkqxfagsjhodoybpwzl7am.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุฎูุงู Thanos ุ ุงูุฐู ููุชุจ ุงูุจูุงูุงุช ููุท ูุชุฎุฒูู ุงููุงุฆูุงุช ุจุนุฏ ุณุงุนุชูู ุ ูููู Prometheus ุชููุงุฆููุง ุจุนูู ูุณุฎ ูุชูุงุซู ููุจูุงูุงุช ุนุจุฑ ุจุฑูุชูููู ุงููุชุงุจุฉ ุนู ุจูุนุฏ ููุชุฎุฒูู ุงูุจุนูุฏ ุ ูุซู VictoriaMetrics.  ุฃูุช ูุง ุชุฎุงู ูู ููุฏุงู ุงูุชุฎุฒูู ุงููุญูู ูู ุจุฑูููุซููุณ.  ุฅุฐุง ููุฏ ุงูุชุฎุฒูู ุงููุญูู ูุฌุฃุฉ ุ ูู ุฃุณูุฃ ุงูุฃุญูุงู ุ ุณุชููุฏ ุงูุซูุงูู ุงูุฃุฎูุฑุฉ ูู ุงูุจูุงูุงุช ุงูุชู ูู ููู ูุฏููุง ููุช ูููุชุงุจุฉ ุฅูู ูุญุฏุฉ ุงูุชุฎุฒูู ุนู ุจูุนุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ba/xj/90/baxj90beqmojti9xkubodbkbvdw.png"></p><br><p style=";text-align:right;direction:rtl">  ุชููู Kubernetes ุจุฅุฏุงุฑุฉ ุงููุฌููุนุฉ ุชููุงุฆููุง ุ ุนูู ุนูุณ Thanos.  ูุตุนุจ ูุถุน ุฌููุน ููููุงุช Thanos ูู ูุฌููุนุฉ Kubernetes ูุงุญุฏุฉ ุ ุนูู ุนูุณ ููููุงุช ุงููุชูุฉ VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gz/lb/6l/gzlb6lg2dkrabcovqcohvovd-mk.png"></p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู VictoriaMetrics ุนูู ุชุฑููุฉ ุจุณูุทุฉ ุฌุฏูุง ุฅูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ.  ูุฌุฑุฏ ุฅููุงู VictoriaMetrics ุ ุชุญุฏูุซ ุงูุซูุงุฆูุงุช ูุชุดุบูููุง.  ุนูุฏ ุงูุชููู ูู ุฎูุงู ุฅุดุงุฑุฉ SIGINT ุ ุชููู ุฌููุน ุซูุงุฆูุงุช VictoriaMetrics ุจุฅุบูุงู ุฑุดูู.  ูููููู ุจุญูุธ ุงูุจูุงูุงุช ุงูุถุฑูุฑูุฉ ุจุดูู ุตุญูุญ ุ ููููููู ุจุฅุบูุงู ุงูุงุชุตุงูุงุช ุงููุงุฑุฏุฉ ุจุดูู ุตุญูุญ ุญุชู ูุง ุชููุฏ ุฃู ุดูุก.  ูุฐูู ุ ูู ุชููุฏ ุฃู ุดูุก ุนูุฏ ุงูุชุฑููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qz/yf/8c/qzyf8cvpqlimwabno0zx7v5_rxw.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics ูุฏูู ุทุฑููุฉ ุจุณูุทุฉ ููุบุงูุฉ ูุชูุณูุน ุงููุชูุฉ.  ููุท ุฃุถู ุงูููููุงุช ุงูุถุฑูุฑูุฉ ูุงุณุชูุฑ ูู ุงูุนูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hl/le/sj/hllesjwiv-f1wosgssd7wp6aclo.png"></p><br><p style=";text-align:right;direction:rtl">  ุญูู ุงููุฒุงูู ูู Thanos ููููุชูุฑูุง Metrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xs/ec/b0/xsecb0yy15vimtsl9k9quqplyiw.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos ูุฏูู ุงููุฒุงูู ุงูุชุงููุฉ.  ูุฌุจ ุนูู ุจุฑูููุซููุณ ุชุฎุฒูู ุงูุจูุงูุงุช ุฎูุงู ุงูุณุงุนุชูู ุงูุฃุฎูุฑุชูู.  ูู ุญุงูุฉ ุถูุงุนูุง ุ ูุณุชููุฏูุง ุชูุงููุง ุ ุญูุซ ูู ุชุชููู ุจุนุฏ ูู ุงูุชุณุฌูู ูู ุชุฎุฒูู ุงููุงุฆูุงุช ุ ูุซู S3. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fg/xo/yo/fgxoyo1q8mihcdy7m_yyio_pyum.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏ ูุชุทูุจ ูููู ูุฎุฒู ุงูุจูุงุจุฉ ููููู ุงูุถุงุบุท ูุณุงุญุฉ ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ููุนูู ูุน "ุชุฎุฒูู ุงููุงุฆูุงุช" ุงููุจูุฑ ุฅุฐุง ุชู ุชุฎุฒูู ุงูุนุฏูุฏ ูู ุงููููุงุช ุงูุตุบูุฑุฉ ููุงู.  ูููุง ุฒุงุฏ ุนุฏุฏ ุงููููุงุช ูุญุฌููุง ุ ุฒุงุฏ ุนุฏุฏ ุจูุงุจุฉ ุงููุชุฌุฑ ูุงูุฐุงูุฑุฉ ุงูุถุงุบุทุฉ ูุชุฎุฒูู ุงููุนูููุงุช ุงููุตููุฉ.  ูุฏู Thanos ุงููุซูุฑ ูู ุงููุดููุงุช ุญูู <a href="https://github.com/thanos-io/thanos/issues/448" rel="nofollow">Store Gateway ู ุงูุถุงุบุทุฉ ุงูุชู ุชุณูุท ูุน ูุชูุณุท โโุงูุจูุงูุงุช ุงููุณุฌูุฉ</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-n/k3/rg/-nk3rgph8ghszyegz1j8jx89bio.png"></p><br><p style=";text-align:right;direction:rtl">  ุชูุตู Thanos ุฃูู ูููู ุฃู ุชุชูุณุน ุฅูู ุฃุฌู ุบูุฑ ูุณูู ุจููุฏุงุฑ ูููุฉ Prometheus ุงูุฎุงุตุฉ ุจู.  ูุฐุง ูู ุงููุงูุน ููุณ ุตุญูุญุง.  ูุธุฑูุง ูุฃู ุฌููุน ุงูุทูุจุงุช ุชูุฑ ุนุจุฑ ูููู Query ุ ุงูุฐู ูุฌุจ ุฃู ูููู ูู ููุช ูุงุญุฏ ุจุงุณุชุทูุงุน ุฌููุน ููููุงุช ุจูุงุจุฉ ุงููุชุฌุฑ ูุฌููุน ููููุงุช Sidecar ุ ููู ุจุณุญุจ ุงูุจูุงูุงุช ูู ููุงู ุซู ุชุฌููุฒูุง ูุณุจููุง.  ูู ุงููุงุถุญ ุฃู ุณุฑุนุฉ ุงูุงุณุชุนูุงู ูุญุฏูุฏุฉ ุจูุงุณุทุฉ ุฃุจุทุฃ ุฑุงุจุท ุถุนูู ุ ุฃู ุฃุจุทุฃ ุจูุงุจุฉ ูููุฎุฒู ุ ุฃู ุฃุจุทุฃ Sidecar. </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ูุชู ุชุญููู ูุฐู ุงูููููุงุช ุจุดูู ุบูุฑ ูุชุณุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏูู ุจุฑูููุซููุณ ูุฌูุน ููุงููู ุงูููุงููุณ ูู ุงูุซุงููุฉ.  ูููุงู ุจุฑูููุซููุณ ุ ุงูุฐู ูุฌูุน ุขูุงู ุงูููุงููุณ ูู ุงูุซุงููุฉ.  ุชููู ุจุฑูููุซููุณ ุ ุงูุชู ุชุฌูุน ููุงููู ุงูููุงููุณ ูู ุงูุซุงููุฉ ุ ุจุชุญููู ุงูุฎุงุฏู ุงูุฐู ูุชู ุชุดุบููู ุนูู ุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ.  ุชุจุนุง ูุฐูู ุ Sidecar ุฃุจุทุฃ ููุงู.  ุจุดูู ุนุงู ุ ูู ุดูุก ูุนูู ุจุจุทุก ููุงู.  ูุณูููู ูููู Query ุจุณุญุจ ุงูุจูุงูุงุช ุจุจุทุก ุดุฏูุฏ ูู ููุงู.  ููููุง ูุฐูู ุ ุณูุชู ุชูููุฏ ุฃุฏุงุก ุงููุฌููุนุฉ ุจุงููุงูู ุจูุงุณุทุฉ Sidecar ุงูุจุทูุก. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mg/an/ra/mganracsmhkyz1_1aq014v_6cfc.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุงูุชุฑุงุถู ุ ุชุฑุฌุน Thanos ุจูุงูุงุช ุฌุฒุฆูุฉ ูู ุญุงูุฉ ุนุฏู ุชููุฑ ุจุนุถ Sidecar ูุฅูุง ุจูุงุจุฉ ุงููุชุฌุฑ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏูู Sidecar ููุชุดุฑุฉ ูู ุฌููุน ุฃูุญุงุก ุงูุนุงูู ูู ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ ุ ูุฅู ุงุญุชูุงู ูุทุน ุงูุงุชุตุงู ูุนุฏู ุชููุฑ ุงูููููุงุช ูุฒูุฏ ุจุดูู ูุจูุฑ.  ููููุง ูุฐูู ุ ูู ูุนุธู ุงูุญุงูุงุช ุ ุณุชุชููู ุจูุงูุงุช ุฌุฒุฆูุฉ ุฏูู ูุนุฑูุฉ ุฐูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/1t/m2/j7/1tm2j75o5cpscbevahbz4m0wusk.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics ูุฏููุง ุฃูุถุง ุงููุฒุงูู.  ุงูุญูุฑุฉ ุงูุฃููู ูู ุฎูุงุฑ ูุญุฏุฏ ููุฏุงุฑ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงููุณุชุฎุฏูุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช VictoriaMetrics.  ุจุดูู ุงูุชุฑุงุถู ุ ูุฅูู ูุณุงูู 60 ูช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุนูู ุงูุฌูุงุฒ ุญูุซ ูุชู ุชุดุบูู VictoriaMetrics ุ ุฃู 60 ูช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุฑูุฉ VictoriaMetrics ูู Kubernetes. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชุบููุฑ ูุฐู ุงููููุฉ ุจุดูู ุบูุฑ ุตุญูุญ ุ ูููููู ุชุฏููุฑ ุฃุฏุงุก VictoriaMetrics.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุชุนููู ุงููููุฉ ููุฎูุถุฉ ุฌุฏูุง ุ ููุฏ ูุง ูุชู ุงุญุชูุงุก ุงูุจูุงูุงุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู VictoriaMetrics.  ูููุฐุง ุงูุณุจุจ ุ ุณูุชุนูู ุนูููุง ุงูููุงู ุจุนูู ุฅุถุงูู ูุชุญููู ุงููุนุงูุฌ ูุน ุงููุฑุต.  ุฅุฐุง ุฌุนูุช ูุฐุง ุงูุฎูุงุฑ ูุจูุฑูุง ุฌุฏูุง ุ ูุณุชุฒูุฏ ุฃููุงู ูู ุงุญุชูุงู ุชุนุทู VictoriaMetrics ุจุณุจุจ ุฎุทุฃ ุงูุฐุงูุฑุฉ ุ ูุซุงููุงู ุ ุณูุคุฏู ุฐูู ุฅูู ุจูุงุก ุฐุงูุฑุฉ ุชุดุบูููุฉ ููููุฉ ุฌุฏูุง ูู ูุธุงู ุงูุชุดุบูู ุงูุฐุงูุฑุฉ ูุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูููู.  ูุชุนุชูุฏ VictoriaMetrics ุนูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููููุงุช ููุญุตูู ุนูู ุงูุฃุฏุงุก.  ุฅุฐุง ูู ููู ุฐูู ูุงูููุง ุ ููููู ุฃู ูุฒูุฏ ุงูุญูู ุนูู ุงููุฑุต ุจุดูู ูุจูุฑ.  ูุฐูู ุ ูุตูุญุฉ: ูุง ุชูู ุจุชุบููุฑ ุงููุนููุฉ ุฅูุง ุนูุฏ ุงูุถุฑูุฑุฉ ุงููุตูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3q/eo/25/3qeo25x5juqpyquhllrhpt9eh34.png"></p><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุซุงูู.  ูุฐุง ูู retentionPeriod - ุงููุชุฑุฉ ุงูุชู ูุชู ุถุจุทูุง ุนูู ุดูุฑ ูุงุญุฏ ุงูุชุฑุงุถููุง.  ูุฐุง ูู ุงูููุช ุงูุฐู ุชููู ููู VictoriaMetrics ุจุชุฎุฒูู ุงูุจูุงูุงุช.  ุจุนุฏ ูุฐู ุงููุชุฑุฉ ุ ุชุญุฐู VictoriaMetrics ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุนุฏูุฏ ูููู ุจุชุดุบูู VictoriaMetrics ุจุฏูู ูุฐู ุงููุนููุฉ ุ ููููููู ุจุชุณุฌูู ุงูุจูุงูุงุช ููุฏุฉ ุดูุฑ.  ุซู ูุณุฃููู: ููุงุฐุง ุงุฎุชูุช ุงูุจูุงูุงุช ููุดูุฑ ุงูุณุงุจูุ  ูุฃู retentionPeriod ูู ุดูุฑ ุงูุชุฑุงุถููุง.  ูุฐูู ุ ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ูุชุนููู retentionPeriod ุงูุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/n1/5a/jm/n15ajmeqozq7zfzc0uv3imzfebw.png"></p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุณูุฑ ุนุจุฑ ุงููุฑุต ุงููุฑูุฏุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/k8/b7/br/k8b7brhqxwy1fa1vdurx0yolgra.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏู Thanos ููุฒุฉ ูุซู ุงูุงุฎุชุฒุงู: ููุงุตู ุฒูููุฉ ูุฏุชูุง 5 ุฏูุงุฆู ูุณุงุนุฉ ุ ูุงูุชู <a href="https://github.com/thanos-io/thanos/issues%3Futf8%3D%25E2%259C%2593%26q%3Dis%253Aissue%2Bis%253Aopen%2Bdownsampling" rel="nofollow">ูุง ุชุนูู</a> ุบุงูุจูุง <a href="https://github.com/thanos-io/thanos/issues%3Futf8%3D%25E2%259C%2593%26q%3Dis%253Aissue%2Bis%253Aopen%2Bdownsampling" rel="nofollow">ุจุดูู ุตุญูุญ</a> .  ุฅุฐุง ููุช ุบูุบู ูุธุฑุช ุฅูู ูุดููุชูู ุนูู github ุ ูููุงู ุงููุซูุฑ ูู ุงููุดููุงุช ุงููุชุนููุฉ ุจูุฐุง ุงูุงุฎุชุฒุงู ุ ุฃู ุฃููุง ูุง ุชุนูู ูู ุจุนุถ ุงูุฃุญูุงู ุจุดูู ุตุญูุญ ุ ุฃู ุฃููุง ูุง ุชุนูู ููุง ูุชููุน ุงููุณุชุฎุฏููู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/iv/nq/4v/ivnq4vtxkkwf_1hs40ttkyhd1ie.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos ูุฏูู ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ ูุฃุฒูุงุฌ Prometheus HA.  ุนูุฏูุง ูููู ุงุซูุงู ูู ุจุฑูููุซููุณุง ุจุฌูุน ููุณ ุงูููุงููุณ ูู ููุณ ุงููุฏู ููุถุนูุง ุซุงูู ูู ุชุฎุฒูู ุงููุงุฆูุงุช. Thanos     ,    VictoriaMetrics. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wn/rv/jh/wnrvjhzqrcx6_o9hoojijeivb8o.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos  alert ,     Thanos.   <a href="" rel="nofollow">    production</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ti/qp/ci/tiqpcidg_t_ahj9lornrey8_rda.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos ,    Thanos   Prometheus โ . Thanos  Prometheus      .    Thanos  Prometheus   . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/en/vo/o-/envoo-2amya3w4xo2c5lg-pa1bo.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics    โ MetricsQL.   VictoriaMetrics  PromQL,       big monitoring metup. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yk/xq/hi/ykxqhipgapygdv7ra2c6rmaitnk.png"></p><br><p style=";text-align:right;direction:rtl"> VictoriaMetrics       . VictoriaMetrics       Prometheus,     Influx, OpenTSDB  Graphite. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/0k/zy/jp/0kzyjptb5sbscny1ffsdh2irqau.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics         Thanos  Prometheus. </p><br><p style=";text-align:right;direction:rtl">    ,     2-5          Prometheus  Thanos. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2y/xz/yg/2yxzygpbfnqt3ldibpggeo35rpw.png"></p><br><p style=";text-align:right;direction:rtl">    VictoriaMetrics โ    . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kk/jd/hy/kkjdhy-zae6bc_3uqu6yp3q1gwy.png"></p><br><p style=";text-align:right;direction:rtl">    . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/79/yz/yw/79yzywujo1uxm6zc5rti6ebjzpq.png"></p><br><p style=";text-align:right;direction:rtl">    Thanos  ,      object storage,   . </p><br><p style=";text-align:right;direction:rtl">     object storage,         ($10   ).      object storage,          ,       AWS โ  .    ,    $10  $230  1.    ,        Thanos . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eg/--/mv/eg--mv_wpjcv4m-tojp8l9r60ea.png"></p><br><p style=";text-align:right;direction:rtl">  Thanos      Compact, Store Gateway, Query ,    ,     . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pz/0v/np/pz0vnpflfebkxmaqi3sbbucktz0.png"></p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics  .     GCE HDD ,   $40  1.  VictoriaMetrics   HDD ,    SSD,      . VictoriaMetrics   HDD. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dr/6q/lz/dr6qlzowqew8et2zpev1wkrq4cs.png"></p><br><p style=";text-align:right;direction:rtl"> ูุญุชุงุฌ VictoriaMetrics ุฅูู ุฎูุงุฏู ููููููุงุช: ุฅูุง ุจููุฑุฏู ุฃู ููููููุงุช ุงูุนูููุฏูุฉ ุ ูุงูุชู ุ ุนูู ุนูุณ ููููุงุช Thanos ุ ุชุชุทูุจ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุฐุงูุฑุฉ RAM ุฃูู ุจูุซูุฑ - ุณุชููู ุฃุฑุฎุต ููููุง ูุฐูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ja/72/cr/ja72crhogqpdixrt8jzj-komdcq.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ุนูู ุงูุชูููุฐ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/od/ji/fw/odjifwunkpjdwuqq-hbpwswu_cy.png"></p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ุชูููุฐ Thanos ูู Gitlab.  Gitlab ูุฏุนูู ุจุงููุงูู ูู ูุจู Thanos.  ูููู ููุณ ููุงู ุณูุณ ุฌุฏุง.  ุฅุฐุง ูุธุฑุช ุฅูู ูุดููุงุชูู ุ ููููู ุฃู ุชุฑู ุฃู ูุฏููู ุจุงุณุชูุฑุงุฑ ููุนูุง ูู <a href="https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/8413" rel="nofollow">ุงููุดุงูู ุงูุชุดุบูููุฉ ูุน Thanos</a> : ูุง ุชูุฌุฏ ุฐุงูุฑุฉ ูุงููุฉ ูููููุงุช Store Gateway ุฃู Query.  ูุฏููู ุจุงุณุชูุฑุงุฑ ูุฒูุงุฏุฉ ูููุฉ ุงูุฐุงูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููุฐุง ุงูุณุจุจ ุ ุชุฒุฏุงุฏ ุชูุงููู ุญู ูุฐู ุงููุดููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชูููุฐ ุงูุซุงูู ุ ุงูุฐู ูุฏ ูููู ุฃูุซุฑ ูุฌุงุญูุง ุ ูู ุดุฑูุฉ ุบูุฑ ูุญุชููุฉ ุ ูุงูุชู ุจุฏุฃุช ุชุทููุฑ Thanos.  ูุดุฑูุง ูุตุฏุฑ Thanos.  ุบูุฑ ูุญุชูู ูู ุดุฑูุฉ ุชููู ุจุชุทููุฑ ูุญุฑูุงุช ุงูุฃูุนุงุจ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/t4/yh/y4/t4yhy4gyfrimyzyfopgdwk1ixyc.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ุนุงูุฉ ูู ุชุทุจูู VictoriaMetrics ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  wix.com ุจูุงุก ุงููููุน </li><li style=";text-align:right;direction:rtl">  ุฃุฏูุฏุงุณ ุชูุฏู VictoriaMetrics ุจู ูุฏูุช ุนุฑุถูุง ุชูุฏููููุง ูู ุฃุญุฏุซ PromCon 2019 </li><li style=";text-align:right;direction:rtl">  TrafficStars - ุดุจูุฉ ุงูุฅุนูุงูุงุช </li><li style=";text-align:right;direction:rtl">  Seznam.cz ูู ูุญุฑู ุจุญุซ ุชุดููู ุดููุฑ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุซู ุงูุชูู ุฅูู ุงุณู ุงูุดุฑูุฉ ุ ูุงูุฐู ูุง ูููููู ุชุณููุชู ุงูุขู.  ูู ูุชูููุง. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุทูุฑ ูุนุจุฉ ุฑุฆูุณู ูุงุญุฏ.  ุฃูุจุฑ ูููู ุบูุฑ ูุญุชูู. </li><li style=";text-align:right;direction:rtl">  ูุทูุฑ ุจุฑูุฌูุงุช ุจูุงููุฉ ุฑุฆูุณู. </li><li style=";text-align:right;direction:rtl">  ุจูู ุฑูุณู ูุจูุฑ. </li><li style=";text-align:right;direction:rtl">  ุงูุดุฑูุฉ ุงูุฃูุฑูุจูุฉ ูุตูุงุนุฉ ุชูุฑุจููุงุช ุงูุฑูุงุญ ุงูุชู ูุฌุญุช ูู ุงุฎุชุจุงุฑ VictoriaMetrics.  ุชุทุจู ูุฐู ุงูุดุฑูุฉ ุงููุตูุนุฉ VictoriaMetrics ููุฑุงูุจุฉ ุงูุจูุงูุงุช ูู ุชูุฑุจููุงุช ุงูุฑูุงุญ ุจุณุฑุนุฉ 50 ุนููุฉ ูู ุงูุซุงููุฉ ููู ุฌูุงุฒ ุงุณุชุดุนุงุฑ.  ูู ุชูุฑุจููุงุช ุงูุฑูุงุญ ูุฏููุง ุนุฏุฉ ูุฆุงุช ูู ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ.  ูุฏููู ุนุฏุฉ ูุฆุงุช ูู ุชูุฑุจููุงุช ุงูุฑูุงุญ. </li><li style=";text-align:right;direction:rtl">  ุดุฑูุงุช ุงูุทูุฑุงู ุงูุฑูุณูุฉ ุงูุชู ุชุฑุบุจ ูู ุชูุฏูู VictoriaMetrics ุ ูููู ูุง ูุฒุงู ูุง ูููู.  ูุญู ูู ูุฑุญูุฉ ุงูุนูุฏ ูุนูู. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lw/0f/r3/lw0fr3hdyce3yw6n0i3ywjnpxhs.png">  ุงูุงุณุชูุชุงุฌุงุช. </p><br><p style=";text-align:right;direction:rtl">  VictoriaMetrics ู Thanos ูุญูุงู ูุดููุงุช ููุงุซูุฉ ุ ููู ุจุทุฑู ูุฎุชููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุงูุงุณุชุนูุงู ุงูุนุงููู </li><li style=";text-align:right;direction:rtl">  ุงูุชุญุฌูู ุงูุฃููู </li><li style=";text-align:right;direction:rtl">  ุงูุงุญุชูุงุธ ุงูุชุนุณูู </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pv/-b/ob/pv-bobndxjkjrcukph5xm3sa-98.png"></p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ูู </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูู ุงูุชุธุงุฑู ุนูู <a href="https://t.me/VictoriaMetrics_ru1" rel="nofollow">ููุงุฉ ุงูุจุฑููุฉ</a> ูุฏููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gu/0s/w5/gu0sw56ppge1icdy-ensv-wl3f4.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482272/">https://habr.com/ru/post/ar482272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482258/index.html">ููู ุชุนูู ุงูุดุจูุงุช ุงูุนุตุจูุฉ ูููุงุฐุง ุจุฏุฃุช ุชุฌูุจ ุฃููุงูุงู ูุจูุฑุฉ</a></li>
<li><a href="../ar482260/index.html">TelegramBot. ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ. ููุตูุงุช ูุงููุดุงุนุฑ. (ุงูุฌุฒุก 3)</a></li>
<li><a href="../ar482262/index.html">ููููุฉ ุชุณุฌูู ุงูุฏุฎูู ูู Talend Open Studio</a></li>
<li><a href="../ar482264/index.html">ุงูุจุฑุงุฒูู ุ ุงูุณุญุฑ ุงูุฏุงูู ุ ููุฑุชุงู ูููุจุงุช ุ ุงููุฑูุฎ ู 15000 ุดุฎุต. ูุชุงุฆุฌ ุงูุนุงู Ontiko</a></li>
<li><a href="../ar482268/index.html">ููุงูู ุถุฎูุฉ ูููุณุชูุจู: ูุฑุฉ ุฏุงูุณูู ุ ูุญุฑู ูุฌูู ู "ููุจูุฉ ุซูุจ ุฃุณูุฏ"</a></li>
<li><a href="../ar482274/index.html">5 ุฃุณุจุงุจ ููุงุฐุง ูุฌุจ ุฃู ุชุชููู ุนู ุงุณุชุฎุฏุงู System.Drawing ูู ASP.NET</a></li>
<li><a href="../ar482276/index.html">GOST R 57580. ูู ุงูุงุชุฌุงูุงุช ุฅูู ุงูุฃุชูุชุฉ ุงููุนุงูุฉ</a></li>
<li><a href="../ar482280/index.html">ููู ูุชู ุงูููุงู ุจู ุชุฃุซูุฑู. ุจุฏูุฉ ุฅุณุญุงู ููุงุฑู ุงููุชูุฏูุฉ ูู Dead Space 2</a></li>
<li><a href="../ar482282/index.html">ููุงูุฉ ุนุตุฑ ARMv7 ุฃู ููููุงู ุนู ุฃูุนุงุจ ุงูููู</a></li>
<li><a href="../ar482284/index.html">"50 ุธูุงู ูู ุงูููู ุงูุจูู" ุฃู "ููู ูุตููุง ุฅูู ูุฐุง"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>