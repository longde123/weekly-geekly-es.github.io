<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëâüèΩ ‚õπÔ∏è üßù Slurm Mega. Instalaci√≥n de un cl√∫ster listo para producci√≥n, 3 consejos √∫tiles para altavoces y Slurm con Luke Skyoker y R2D2 üë®‚Äçüè´ üèä üî©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El 24 de noviembre termin√≥ con Slurme Mega, un intensivo avanzado en Kubernetes. El pr√≥ximo Mega se llevar√° a cabo en Mosc√∫ del 18 al 20 de mayo. 



...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Slurm Mega. Instalaci√≥n de un cl√∫ster listo para producci√≥n, 3 consejos √∫tiles para altavoces y Slurm con Luke Skyoker y R2D2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/477010/"><p>  El 24 de noviembre termin√≥ con Slurme Mega, un intensivo avanzado en Kubernetes.  <a href="https://slurm.io/mega%3Futm_source%3Dhabrreport%26utm_medium%3Dhabrreport%26utm_campaign%3Dhabrreport">El pr√≥ximo Mega</a> se llevar√° a cabo en Mosc√∫ del 18 al 20 de mayo. </p><br><p><img src="https://habrastorage.org/webt/lp/-y/r-/lp-yr-8tmqls1ygypj-a-_ubsf8.jpeg"></p><br><p>  La idea de Slurm Mega: miramos bajo el cap√≥ del cl√∫ster, analizamos en teor√≠a y practicamos las complejidades de instalar y configurar el cl√∫ster listo para producci√≥n ("la forma no tan f√°cil"), consideramos los mecanismos para garantizar la seguridad y la tolerancia a fallas de las aplicaciones. </p><br><p> Mega Bonus: aquellos que aprueban Slurm Basic y Slurm Mega reciben todos los conocimientos necesarios para aprobar el examen <a href="https://www.cncf.io/certification/cka/">CKA</a> en <a href="https://www.cncf.io/certification/cka/">CNCF</a> y un descuento del 50% en el examen. </p><br><p>  Un agradecimiento especial a Selectel por proporcionar la nube para practicar, gracias a lo cual cada participante trabaj√≥ en su propio grupo completo, y no tuvimos que agregar 5 mil adicionales al precio del boleto para esto. </p><br><p><a name="habracut"></a>  No dir√© qui√©nes son Bondarev y Selivanov, quienes est√°n interesados, <a href="https://habr.com/ru/company/southbridge/blog/476526/">lea aqu√≠</a> . </p><br><p>  <strong>Slurm Mega.</strong>  <strong>Primer dia</strong> </p><br><p>  El primer d√≠a de Slurm Mega, cargamos a los participantes con 4 temas.  Pavel Selivanov habl√≥ sobre el proceso de crear un cl√∫ster a prueba de fallas desde el interior, sobre el trabajo de Kubeadm, as√≠ como sobre las pruebas y la agrupaci√≥n en cl√∫ster. </p><br><p><img src="https://habrastorage.org/webt/_v/ei/r-/_veir-kpprdyk8dq8m0l3sktnba.jpeg"></p><br><p>  El primer descanso para tomar caf√©.  Por lo general, una "llamada para un maestro", pero en Slurm, mientras los estudiantes toman caf√©, los maestros contin√∫an respondiendo preguntas. </p><br><p><img src="https://habrastorage.org/webt/fu/ah/gm/fuahgmesttrer7kljuagpal_mge.jpeg"><br>  <em>Y a pesar del hecho de que la nube "Break II" se cierne sobre la cabeza de Pavel Selivanov, no es su destino irse a descansar.</em> </p><br><p><img src="https://habrastorage.org/webt/kw/pg/yy/kwpgyyrtbedhkowj_nqs5olc6am.jpeg"><br>  <em>Sergei Bondarev y Marcel Ibraev est√°n esperando en la fila para ir al departamento.</em> </p><br><p>  Durante el descanso, me acerqu√© a Sergey Bondarev y le pregunt√©: "¬øQu√© recomendar√≠as a todos los ingenieros de Kubernetes en funci√≥n de tu experiencia trabajando con grupos de nuestros clientes?" </p><br><p>  Sergey hizo una recomendaci√≥n simple: ‚Äú <em>Bloquee el acceso de Internet al servidor API.</em>  <em>Porque peri√≥dicamente hay amenazas de seguridad que permiten que usuarios no autorizados accedan al cl√∫ster.</em>  " </p><br><p>  Despu√©s de un par de minutos y una botella de agua mineral, Pavel Selivanov se lanz√≥ a la batalla con <del>  una sombra </del>  el tema "Iniciar sesi√≥n en el cl√∫ster utilizando un proveedor externo", a saber, LDAP (Nginx + Python) y OIDC (Dex + Gangway). </p><br><p>  En el siguiente descanso, los ingenieros de Kubernetes fueron asesorados por Marcel Ibraev, Presidente de Slerm, Administrador Certificado de Kubernetes: " <em>Dir√© algo trivial, pero dada la frecuencia con la que me encuentro con esto, existe la sospecha de que no todos tienen esto en cuenta.</em>  <em>No creas ciegamente todo tipo de procedimientos de Internet, que te dir√°n cu√°n genial funciona esta o aquella soluci√≥n.</em>  <em>En el contexto de Kubernetes, esto adquiere un significado especial.</em>  <em>Para Kubernetes, un sistema complejo y agregarle una soluci√≥n que no se prob√≥ espec√≠ficamente en su proyecto y su instalaci√≥n del cl√∫ster puede tener consecuencias tristes, a pesar del hecho de que escribieron sobre su genialidad en Internet.</em>  <em>Incluso el propio Kubernetes, sin un enfoque equilibrado, puede da√±ar su proyecto, "lo que es bueno para el ruso, entonces el alem√°n es la muerte".</em>  <em>Por lo tanto, probamos, verificamos y ejecutamos cualquier soluci√≥n antes de implementarla en casa.</em>  <em>Solo de esta manera tendr√° en cuenta todos los matices que puedan surgir</em> ". </p><br><p>  Despu√©s del almuerzo, Sergey Bondarev se uni√≥ a la batalla.  Su tema es la pol√≠tica de red, es decir, una introducci√≥n a CNI y la pol√≠tica de seguridad de red. </p><br><p><img src="https://habrastorage.org/webt/lt/qz/v6/ltqzv68ozpxjwbqa_hbuy0lbqj0.jpeg"></p><br><p>  Internet est√° lleno de art√≠culos sobre pol√≠tica de red.  Existe una opini√≥n entre los administradores de que puede prescindir de las Pol√≠ticas de red, pero los guardias de seguridad aman mucho esta herramienta y requieren que las Pol√≠ticas de red est√©n habilitadas. </p><br><p>  El volante de Kubernetes de Sergey Bondarev fue interceptado por Pavel Selivanov con el tema "Aplicaciones seguras y altamente accesibles en el cl√∫ster".  Tiene sus temas favoritos: PodSecurityPolicy, PodDisruptionBudget, LimitRange / ResourceQuota. </p><br><p><img src="https://habrastorage.org/webt/4e/fr/cu/4efrcupnqfwjyrofwbnsdmcsgl4.jpeg"></p><br><p>  El tema de Mega que Pavel habl√≥ en DevOpsConf: <a href="https://habr.com/ru/company/southbridge/blog/472484/">c√≥mo romper r√°pida y f√°cilmente el cl√∫ster de Kubernetes y obtener todos los derechos en 5 minutos</a> . </p><br><p>  Despu√©s de la historia, con qu√© facilidad se agrieta el grupo de Kubernetes, los administradores esc√©pticos dicen: "S√≠, te lo dije, tu Kubernetes es una tonter√≠a".  Pavel explica que es posible configurar la seguridad en un cl√∫ster, y esto no es dif√≠cil, solo la configuraci√≥n de seguridad est√° deshabilitada por defecto.  Detalles en la transcripci√≥n del <a href="https://habr.com/ru/company/southbridge/blog/472484/">informe</a> . </p><br><p><img src="https://habrastorage.org/webt/xw/tg/rn/xwtgrnbpolizppjnja-vkc8z3bq.jpeg"><br>  <em>- ¬øQui√©n rompi√≥ el cl√∫ster?</em>  <em>¬°Entonces √©l rompi√≥ un grupo!</em>  <em>¬°Puedo ver perfectamente desde aqu√≠!</em> </p><br><p>  Todo es simple y f√°cil en Slmerms, para no aburrirse.  Pero esta vez Telegram decidi√≥ mostrarles a todos el quinto punto: </p><br><pre><code class="plaintext hljs"> , [22 . 2019 ., 16:52:52]: ,        ,   </code> </pre> <br><p><img src="https://habrastorage.org/webt/od/sw/lb/odswlbzgstlt95kaspmynfwogqw.png"></p><br><p>  En este brillante y lleno de conocimientos pr√°cticos termin√≥ el primer d√≠a.  En el segundo d√≠a habr√° a√∫n m√°s pr√°ctica, comenzando un cl√∫ster de base de datos usando el ejemplo de PostgreSQL, comenzando un cl√∫ster RabbitMQ, administrando secretos en Kubernetes. </p><br><p><img src="https://habrastorage.org/webt/ed/ry/mg/edrymgieyudpsmmeldfjwnqabdm.jpeg"></p><br><p>  <strong>Slurm Mega.</strong>  <strong>Segundo dia</strong> </p><br><p>  El anfitri√≥n comenz√≥ el segundo d√≠a con un anuncio alegre: ‚ÄúPor la ma√±ana, como dijo Pavel ayer, nos espera un verdadero hardcore.  ¬°En el lenguaje de los cirujanos, profundizamos en las entra√±as de Kubernetes! </p><br><p>  El artista de masas es una historia separada.  Uno de los problemas de Slurm es que las personas con sobrecarga de informaci√≥n se desconectan y se quedan dormidas.  Siempre hemos estado buscando una manera de hacer algo al respecto, y en el √∫ltimo Slurme, los peque√±os juegos con el p√∫blico se mostraron bien.  Esta vez contratamos a una persona especialmente entrenada.  Charlamos mucho sobre "concursos interesantes" en el chat, pero el hecho es que no hemos visto participantes tan atrevidos. </p><br><p><img src="https://habrastorage.org/webt/ru/1c/nm/ru1cnmpcfkyfl4srb3y1bqqlymy.jpeg"></p><br><p>  Marcel Ibraev vino al rescate, y comenz√≥ a estudiar aplicaciones con estado en el cl√∫ster.  A saber, iniciar un cl√∫ster de base de datos utilizando el ejemplo de PostgreSQL e iniciar un cl√∫ster RabbitMQ. </p><br><p>  Despu√©s del almuerzo, Sergey Bondarev se dirigi√≥ a K8S.  Y su tema era "Guardar secretos".  Estaba cubierto por Mulder y Scully.  Aprend√≠ gesti√≥n de secretos en Kubernetes y Vault.  Y tambi√©n "La verdad est√° ah√≠ afuera". </p><br><p><img src="https://habrastorage.org/webt/25/6-/ft/256-ftjxbsudpoumgjccw64tq1q.jpeg"></p><br><p>  Lo que continu√≥ hasta altas horas de la noche cuando Pavel Selivanov habl√≥ sobre el Autoescalador Horizontal Pod </p><br><p>  <strong>Slurm Mega.</strong>  <strong>Tercer d√≠a</strong> </p><br><p>  En√©rgicamente y en√©rgicamente por la ma√±ana, Sergey Bondarev sorprendi√≥ a la audiencia con respaldo y recuperaci√≥n despu√©s de los fracasos.  El cl√∫ster de copia de seguridad y recuperaci√≥n utilizando Heptio Velero y etcd fueron verificados personalmente. </p><br><p><img src="https://habrastorage.org/webt/x-/zo/e7/x-zoe7ucfo42hqbarrixdndblog.jpeg"></p><br><p>  Sergey continu√≥ con el tema de la rotaci√≥n anual de certificados en un grupo: renovando los certificados del plano de control usando kubeadm.  Justo antes del almuerzo, para despertar el apetito de los participantes o repelerlo por completo, Pavel Selivanov plante√≥ el tema del despliegue de la aplicaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/yn/9t/at/yn9tatk-qbo7_uco3nzfz7xlpj0.jpeg"></p><br><p>  Examinamos las herramientas de plantillas y despliegue, y al mismo tiempo las estrategias de despliegue. </p><br><p>  Pavel Selivanov cont√≥ un nuevo tema: Service Mesh, instalaci√≥n de Istio.  El tema result√≥ ser tan rico que se puede hacer por separado de manera intensiva.  Discutimos planes, seguimos los anuncios. </p><br><p>  Lo principal es que todo funciona correctamente.  Porque es hora de practicar: <br>  creaci√≥n de CI / CD para iniciar simult√°neamente la implementaci√≥n de la aplicaci√≥n y la actualizaci√≥n del cl√∫ster.  En proyectos de capacitaci√≥n, todo funciona bien.  Y la vida a veces est√° llena de sorpresas. </p><br><p><img src="https://habrastorage.org/webt/et/jv/he/etjvheoqceo8wudprtgct_pdegw.jpeg"></p><br><p>  ¬°Que el Slurm te acompa√±e! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/477010/">https://habr.com/ru/post/477010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../477000/index.html">C√≥mo aumentar la precisi√≥n de los sensores</a></li>
<li><a href="../477002/index.html">C√≥mo alojamos el escandaloso 8chan imageboard</a></li>
<li><a href="../477004/index.html">Energ√≠a solar salada</a></li>
<li><a href="../477006/index.html">¬øEs Java el mejor lenguaje de programaci√≥n para principiantes?</a></li>
<li><a href="../477008/index.html">Buildroot: creaci√≥n de firmware multiplataforma con zabbix-server</a></li>
<li><a href="../477014/index.html">Ni√±os en Internet: c√≥mo garantizar la ciberseguridad de los usuarios m√°s vulnerables</a></li>
<li><a href="../477016/index.html">¬øPor qu√© vamos a conferencias cient√≠ficas?</a></li>
<li><a href="../477018/index.html">Hackear el mecanismo de privacidad de Mimblewimble</a></li>
<li><a href="../477020/index.html">Juzgue a cualquiera con solo tocar un bot√≥n</a></li>
<li><a href="../477022/index.html">¬øC√≥mo podemos ayudarte? Como nos pueden ayudar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>