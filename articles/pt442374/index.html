<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôãüèº üõÄüèΩ üë©‚Äç‚ù§Ô∏è‚Äçüë© Desenvolvimento de conversor de impulso no DSP: princ√≠pio de opera√ß√£o, c√°lculos, prototipagem üë©‚Äçüåæ üöπ üíÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eu j√° escrevi um artigo semelhante sobre a topologia buck , ou seja, sobre um conversor abaixador, hoje a hist√≥ria ser√° sobre como construir um conver...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de conversor de impulso no DSP: princ√≠pio de opera√ß√£o, c√°lculos, prototipagem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442374/">  Eu j√° escrevi um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> semelhante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre a topologia buck</a> , ou seja, sobre um conversor abaixador, hoje a hist√≥ria ser√° sobre como construir um conversor de impulso (tens√£o) com controle n√£o em um controlador PWM anal√≥gico, mas em um DSP / MK.  O layout ser√° compilado com base no meu " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">kit de desenvolvimento</a> " com o STM32F334R8T6 a bordo e um driver de meia ponte isolado. <br><br><img src="https://habrastorage.org/webt/ck/vz/8z/ckvz8zcf3po3urc9tcukbmgm_kc.jpeg"><br><a name="habracut"></a><br><h2>  1. Introdu√ß√£o </h2><br>  No come√ßo, gostaria de observar um ponto importante - embora o artigo diga que o controle √© realizado usando um microcontrolador, isso n√£o significa que o c√°lculo da parte de pot√™ncia ser√° um pouco diferente do c√°lculo de um conversor com um controlador PWM anal√≥gico.  Ou seja, voc√™ pode aplicar com seguran√ßa o procedimento de c√°lculo deste artigo ao calcular a unidade de pot√™ncia para qualquer conveter de impulso. <br><br>  No mundo real, existem muitas tarefas que n√£o podem ser resolvidas usando controladores PWM anal√≥gicos padr√£o.  Meu exemplo favorito √© um conversor de tens√£o com o algoritmo MPPT.  Assim que nossa tarefa ultrapassa o escopo do padr√£o "e um algoritmo de controle adicional ou l√≥gica de trabalho aparece, surge uma situa√ß√£o em que o uso do DSP simplifica a solu√ß√£o do problema e ao mesmo tempo reduz o custo dele, e o mais importante permite que seja resolvido em princ√≠pio. <br><br>  Vale a pena conversar um pouco sobre as tarefas nas quais voc√™ encontrar√° o aumento da topologia.  A topologia em si √© conhecida por muitos e muitos provavelmente j√° a implementaram quando era necess√°rio obter 5V de 1 c√©lula de uma bateria de √≠on de l√≠tio, por exemplo - voc√™ usou um conversor de impulso de baixa pot√™ncia dc / dc.  Esses conversores de baixa pot√™ncia s√£o frequentemente usados ‚Äã‚Äãem eletr√¥nica digital, IoT, automa√ß√£o, dispositivos de alimenta√ß√£o pr√≥pria e outras tarefas. <br><br>  A segunda n√£o √© totalmente √≥bvia, mas extremamente importante, aplica√ß√£o - PFC ou corretor de fator de pot√™ncia.  A maioria dos PFCs √© o conversor de impulso mais comum, que funciona de acordo com um algoritmo especial, mas no final retifica e eleva a entrada 85 ... 265VAC para + 400VDC.  No futuro, consideraremos isso como um exemplo. <br><br>  Outra op√ß√£o comum s√£o os potentes conversores dc / dc boost, por exemplo, inversores de rede para pain√©is solares com MPPT, que s√£o os mais caros e os mais populares, usados ‚Äã‚Äãprincipalmente em usinas de energia com pot√™ncia de 5 a 1500 kW.  Esses conversores s√£o constru√≠dos em 2 est√°gios, onde o 1¬∫ est√°gio √© um impulso multif√°sico dc / dc (google tamb√©m conhecido como intercalado), que geralmente recebe uma tens√£o constante de 200 ... 600VDC na entrada e aumenta para 800VDC est√°vel.  Al√©m disso, um inversor CC / CA comum gera uma tens√£o alternada.  Esses conversores s√£o constru√≠dos com base no DSP e seu diagrama estrutural √© o seguinte: <br><br><img src="https://habrastorage.org/webt/bv/dh/ox/bvdhoxjyy1zegijhrnt77fawegw.png"><br><br>  Espero que voc√™ entenda por que essa topologia √© importante para os desenvolvedores de eletr√¥nica de pot√™ncia e por que √© importante aprender como desenvolver conversores de impulso com controle baseado no DSP / MK.  Agora, com clara motiva√ß√£o, podemos prosseguir para o estudo da topologia. <br><br><h2>  Cap√≠tulo 1 - Princ√≠pio da opera√ß√£o do conversor de impulso </h2><br>  O conversor boost boost √© id√™ntico em princ√≠pio ao conversor buck buck porque  em ambos os casos, existem duas etapas do trabalho.  No 1¬∫ est√°gio, a energia √© acumulada no indutor enquanto a carga √© alimentada pelo capacitor de sa√≠da.  No 2¬∫ est√°gio, a energia √© transferida do indutor para a carga e o capacitor de sa√≠da √© carregado simultaneamente, o que fornecer√° energia para a carga enquanto o indutor estiver "recarregado".  Obviamente, para obter um conversor de impulso da mesma forma, s√£o necess√°rias altera√ß√µes no circuito, vejamos o diagrama de circuito do conversor de impulso: <br><br><img src="https://habrastorage.org/webt/8m/lp/wj/8mlpwj-k3mmgmifaev4andmkyl4.png"><br><br>  √Ä primeira vista, pode parecer que a topologia n√£o √© como um fanfarr√£o, mas se voc√™ olhar com aten√ß√£o, ficar√° claro que eles s√£o g√™meos.  Ent√£o voc√™ ver√° isso mais claramente, mas, por enquanto, vamos analisar os est√°gios do conversor de impulso. <br><br><ul><li>  <b>Ac√∫mulo de est√°gio de carga.</b>  No momento em que o conversor √© ligado, a capacit√¢ncia de sa√≠da C2 est√° abaixo do potencial V <sub>in</sub> , pois  a corrente flui atrav√©s do indutor L1 e do diodo VD1.  O dispositivo de controle (controlador PWM ou DSP) come√ßa a gerar um sinal PWM e o alimenta na porta do transistor VT1.  Quando o transistor VT1 √© aberto, verifica-se que o circuito est√° fechado, a indut√¢ncia L1 √© conectada √† fonte de energia e come√ßa a acumular energia.  A corrente atrav√©s do VD1 n√£o flui, porque  o potencial no c√°todo √© maior (cerca de V <sub>in</sub> ) do que o potencial no √¢nodo (potencial GND, cerca de 0V). <br><br><img src="https://habrastorage.org/webt/cs/x7/gr/csx7grhnwpfkk0ihi8obbltvaju.png"><br></li><li>  <b>Est√°gio de descarga de indut√¢ncia.</b>  Agora o sinal PWM altera seu valor de 1 para 0 e o transistor VT1 √© fechado.  Neste ponto, o indutor L1 procura manter o valor atual aumentando o potencial.  Na entrada do indutor, o potencial ainda √© o mesmo V <sub>in</sub> e, portanto, o potencial cresce no ponto "dreno do acelerador VT1-√¢nodo VD1".  Quando o potencial nesse ponto se torna maior que o potencial no c√°todo VD1, a corrente come√ßa a fluir atrav√©s de VD1 para a carga e simultaneamente carrega a capacit√¢ncia de sa√≠da C2.  Nesta fase, o circuito tamb√©m fecha, mas n√£o atrav√©s do VT1, mas atrav√©s do caminho "L1-VD1-C2-load": <br><br><img src="https://habrastorage.org/webt/pd/us/6q/pdus6qkbgutx0st1awt5c4jdbt8.png"><br></li></ul><br>  Al√©m disso, esses est√°gios simplesmente se alternam e o conversor funciona.  Para quem n√£o entende nada, vou explicar como a tens√£o aumenta.  No momento em que o VT1 √© fechado, o acelerador come√ßa a descarregar e, no momento dessa "descarga", a tens√£o nele tende ao infinito.  Sim, este √© um sistema ideal, mas na vida real a tens√£o ser√° limitada pela resist√™ncia da carga, que √© conectada em s√©rie ao indutor e ao diodo, e tamb√©m, se houver controle, tamb√©m feedback. <br><br>  Ainda h√° que ser complementado pelo est√°gio de armazenamento de energia.  No momento da liga√ß√£o, praticamente n√£o h√° energia armazenada no capacitor de sa√≠da C2, mas ap√≥s o primeiro est√°gio da descarga, ele √© carregado e o potencial nele √© V <sub>out</sub> , o que significa que, nos est√°gios subsequentes de armazenamento de energia, essa capacidade C2 fornecer√° energia √† carga, como resultado, n√£o haver√° interrup√ß√µes na carga. recebendo energia.  Da√≠ resulta que C2 deve ter tal capacidade que a energia armazenada seja suficiente para fornecer energia √† carga durante a abertura do transistor (t <sub>on</sub> ).  De acordo com o descrito acima, a partir da 2¬™ rodada de etapas repetidas, a etapa de acumula√ß√£o de carga fica assim: <br><br><img src="https://habrastorage.org/webt/h6/ti/oa/h6tioat79sqyfhtj2tnupa_3qgg.png"><br><br>  Como voc√™ pode ver, s√£o obtidos dois circuitos fechados.  O circuito "vermelho" fecha atrav√©s do VT1 e o acelerador √© carregado e o circuito "verde" fecha atrav√©s da carga.  A ‚Äúmistura‚Äù de processos / energia, neste caso, n√£o ocorre devido √† presen√ßa do diodo VD1, porque  a qualquer momento, o potencial no c√°todo VD1 ser√° maior que o potencial no √¢nodo. <br><br>  Agora vamos descobrir o que est√° acontecendo com a tens√£o, que conex√£o a tens√£o de sa√≠da possui com a tens√£o na entrada do conversor.  Como no caso do conversor buck, nosso impulso tem uma depend√™ncia linear da tens√£o de sa√≠da da entrada e o coeficiente de transmiss√£o √© igual √† taxa de servi√ßo: <br><br><img src="https://habrastorage.org/webt/fw/zy/9s/fwzy9spl6ukhuny8aurcgfrj1go.png"><br><br>  Como voc√™ pode ver, o relacionamento √© simples e direto, para que voc√™ possa ajustar a tens√£o de sa√≠da simplesmente alterando o ciclo de trabalho do nosso sinal PWM.  A partir da f√≥rmula de regula√ß√£o, o algoritmo tamb√©m segue: <br><br><ul><li>  Para <b>aumentar a</b> tens√£o na sa√≠da - √© necess√°rio <b>aumentar</b> o ciclo de servi√ßo; </li><li>  Para <b>reduzir a</b> tens√£o na sa√≠da - √© necess√°rio <b>reduzir</b> o ciclo de trabalho. </li></ul><br>  Agora entendemos como o conversor boost funciona e a l√≥gica para controlar a tens√£o de sa√≠da.  Para consolidar o conhecimento, analisaremos algumas experi√™ncias em um oscilosc√≥pio e veremos essas depend√™ncias na pr√°tica. <br><br>  Vamos pegar uma fonte de tens√£o estabilizada de 10V, por exemplo, uma fonte de alimenta√ß√£o de laborat√≥rio, para fins de ilustra√ß√£o, e aplicar um sinal PWM ao transistor VT1, cujo ciclo de trabalho ser√° alterado durante o experimento.  As pontas de prova do oscilosc√≥pio s√£o conectadas aos seguintes pontos do circuito: <br><br><img src="https://habrastorage.org/webt/mj/9w/u3/mj9wu37afylkkv-h8j_igydmpf8.png"><br><br><ul><li>  <b>Experi√™ncia n¬∫ 1.</b>  A tens√£o de entrada (V <sub>in</sub> ) √© 12V, o ciclo de trabalho do sinal PWM √© 0,75: <br><br><img src="https://habrastorage.org/webt/ww/ag/k1/wwagk1oaumnhj7c8drp8wdfkutm.png"><br></li><li>  <b>Experi√™ncia n¬∫ 2.</b>  A tens√£o de entrada (V <sub>in</sub> ) √© 12V, o ciclo de servi√ßo do sinal PWM √© 0,5: <br><br><img src="https://habrastorage.org/webt/tb/yl/xy/tbylxyivsjbekqv2lx3eqs9v5gy.png"><br></li><li>  <b>Experi√™ncia n¬∫ 3.</b>  A tens√£o de entrada (V <sub>in</sub> ) √© 12V, o ciclo de trabalho do sinal PWM √© 0,25: <br><br><img src="https://habrastorage.org/webt/qf/rl/2h/qfrl2hddtwgdgqzyclb-czgjmyy.png"><br></li></ul><br>  Agora vimos na pr√°tica que a tens√£o de sa√≠da depende linearmente do ciclo de servi√ßo e, portanto, podemos construir um sistema de controle (CS) que monitore a tens√£o de sa√≠da usando o ADC e, dependendo do valor medido, reduza ou aumente (servi√ßo). <br><br><h2>  Cap√≠tulo 2 - Limita√ß√µes do projeto do conversor de impulso </h2><br>  Como voc√™ entende, uma topologia ideal n√£o existe; caso contr√°rio, n√£o haveria muitas delas e todos usariam apenas ela, por exemplo, uma ponte completa.  Nesse caso, os conversores de impulso tamb√©m possuem v√°rios recursos que imp√µem restri√ß√µes ao uso dessa topologia: <br><br><ul><li>  <b>A tens√£o de sa√≠da n√£o deve exceder a entrada mais de 3 ... 4 vezes.</b> <br>  Especialistas certamente ir√£o at√© aqui e contar√£o como aumentaram a tens√£o do impulso-ohm de + 5V em + 180V usando o MC34063 em um rel√≥gio IN-12!  Isso √© certamente maravilhoso, mas vamos estimar o ciclo de trabalho para este caso, para aumentar a tens√£o de 5V para 180V, voc√™ precisa fazer o conversor funcionar com um coeficiente de cerca de <b>0,972</b> (!).  Eu acho que n√£o h√° necessidade de dizer que essa √© uma m√° id√©ia, que em alta frequ√™ncia os transientes durante a troca de transistores ter√£o uma dura√ß√£o compar√°vel, e talvez at√© mais longa. <br><br>  Al√©m disso, com esse fator de servi√ßo, verifica-se que o transistor est√° quase sempre aberto, o que significa que a corrente flui atrav√©s dele e obtemos o valor m√°ximo poss√≠vel de perdas est√°ticas e, portanto, baixa efici√™ncia. <br><br>  O que isso realmente leva a ... com baixa pot√™ncia (o mesmo caso com o mc34063), opera√ß√£o inst√°vel, baixa confiabilidade, ondula√ß√£o de corrente e baixa efici√™ncia combinadas com maior aquecimento dos elementos de pot√™ncia s√£o garantidas.  Em alta pot√™ncia - broads. <br><br>  Por exemplo, preste aten√ß√£o ao PFC, todos eles trabalham com uma propor√ß√£o m√°xima de 1: 4, ou seja, a mesma entrada universal 85 ... 265VAC ou um regulador de tens√£o com seus 90 ... 310VAC.  Como exemplo, voc√™ pode considerar inversores de rede com MPPT, onde quando a sa√≠da √© de 800V, 200 ... 600VDC √© alimentada na entrada, ou seja, a propor√ß√£o √© de 1: 4; </li><li>  <b>A tens√£o no transistor.</b>  Essa limita√ß√£o est√° intimamente ligada √† tese sobre a raz√£o acima e √© por isso ... O transistor VT1 deve ter uma tens√£o de fonte de dreno igual √† tens√£o m√≠nima de sa√≠da, e em dispositivos reais tamb√©m tem uma margem de pelo menos 20% para ondula√ß√£o.  Os interruptores de alta tens√£o possuem uma grande resist√™ncia de canal e, com uma grande propor√ß√£o de tens√£o e corrente de entrada, s√£o muito grandes, o que levar√° a grandes perdas no transistor; </li><li>  <b>Tens√£o do diodo.</b>  Se voc√™ observar atentamente o circuito do conversor, ficar√° claro que uma tens√£o igual √† tens√£o de sa√≠da √© aplicada ao diodo VD1, ou seja, se voc√™ tiver uma sa√≠da de 400V, o diodo tamb√©m dever√° suportar esses 400V. <br><br>  Nesse sentido, essa topologia tem uma vantagem interessante, porque  Como o diodo √© de alta tens√£o e a corrente flui nele v√°rias vezes menor que a corrente atrav√©s do transistor, em muitas solu√ß√µes o uso de um diodo Schottky ou diodo SiC permitir√° perdas menores do que o uso da topologia s√≠ncrona (meia ponte em transistores).  Isso se aplica a solu√ß√µes com uma sa√≠da de 200V ou mais, e a vers√£o s√≠ncrona da topologia √© relevante principalmente apenas at√© uma tens√£o de cerca de 100V; </li><li>  <b>Tens√£o do capacitor.</b>  Parece um ponto √≥bvio, mas, para esclarecer, o capacitor de sa√≠da deve suportar a tens√£o igual √† sa√≠da, o que em muitas tarefas em que o refor√ßo √© aplicado pode ser de 400, 800 e at√© 1500VDC. </li></ul><br>  Pelo exposto, acho √≥bvio que √© razo√°vel usar um conversor de expans√£o quando voc√™ precisar aumentar a tens√£o em um m√°ximo de 3 ... 4 vezes e ao mesmo tempo n√£o precisar de isolamento galv√¢nico, em outros casos voc√™ j√° precisar√° procurar topologias push-pull ou ponte completa.  A pot√™ncia dos conversores de impulso, em princ√≠pio, n√£o tem um limite superior, existem PFCs de dezenas de quilowatts e inversores para usinas de energia solar por megawatt, que s√£o constru√≠dos sobre esta topologia. <br><br><h2>  Cap√≠tulo 3 - C√°lculo da parte de pot√™ncia do conversor </h2><br>  √â hora de calcular os principais elementos de pot√™ncia para a montagem do prot√≥tipo.  Como fonte de alimenta√ß√£o, usarei uma fonte de alimenta√ß√£o de laborat√≥rio com uma sa√≠da de 12V, como  se algu√©m quiser repetir, mas n√£o houver LBP, voc√™ poder√° usar o habitual chin√™s Mean Well em 12V 5A.  Uma l√¢mpada incandescente de 36V e uma pot√™ncia de 60 watts atuar√° hoje como uma carga visual.  Eu selecionei especificamente a fonte e a carga para que o layout pudesse ser montado em qualquer vila, ao mesmo tempo em que era barato e suporta uma propor√ß√£o de 1: 3.  Total, temos os seguintes dados de entrada: <br><br><ul><li>  Tens√£o de entrada: <b>12V</b> </li><li>  Tens√£o de sa√≠da: <b>36 V</b> </li><li>  Pot√™ncia: <b>60w</b> </li><li>  Frequ√™ncia de convers√£o: <b>100 kHz</b> </li></ul><br><h4>  C√°lculo e fabrica√ß√£o de um acelerador </h4><br>  Vou come√ßar com o mais interessante e importante, porque  √â com o c√°lculo da indut√¢ncia de energia que os desenvolvedores geralmente t√™m problemas.  Observo imediatamente que vou calcular o valor da indut√¢ncia <b>para o modo de corrente cont√≠nua</b> (CCM). <br><br>  Para come√ßar, vamos encontrar o valor m√°ximo do ciclo de trabalho no qual nosso conversor funcionar√°.  Este valor ser√° definido pelo controlador PWM com uma tens√£o de entrada m√≠nima.  Por exemplo, pretendo alimentar o conversor a partir de uma fonte de alimenta√ß√£o estabilizada e, em seguida, <b>V <sub>min</sub> = V <sub>nom</sub></b> .  Se voc√™ escolher, por exemplo, uma bateria de chumbo-√°cido, a faixa de tens√£o ser√° de 10,2 ... 14,2V e, nesse caso, precisar√° usar o valor 10,2V para c√°lculos, porque  alcan√ßar√° o ciclo de trabalho m√°ximo.  <b>No m√≠nimo, aceitarei um valor igual a 12V</b> .  A pr√≥pria f√≥rmula para o c√°lculo √© simples e tem a seguinte apar√™ncia: <br><br><img src="https://habrastorage.org/webt/gt/da/wf/gtdawfj7jp1a7nxmat2e_ddx2nq.png"><br><br>  Agora precisamos calcular a corrente de ondula√ß√£o no indutor.  Quem leu meu artigo sobre o conversor buck provavelmente se lembrou de que escolhemos esse valor por n√≥s mesmos e, geralmente, √© estabelecido entre 20 e 50%, assumirei um intervalo de 30% e agora encontraremos o valor atual: <br><br><img src="https://habrastorage.org/webt/7n/nt/4p/7nnt4pxmsadr8ee70wj-r08nsbk.png"><br><br>  Agora calculamos o valor m√≠nimo da indut√¢ncia, que ser√° necess√°rio para permanecer no modo de corrente cont√≠nua: <br><br><img src="https://habrastorage.org/webt/kj/4l/pn/kj4lpnql8iz0hyjxfk9tzsxalyu.png"><br><br>  Para a fabrica√ß√£o do acelerador, levarei o acelerador R26 / 14/11 (R √© o anel e os n√∫meros s√£o as dimens√µes) do material Kool Mu com permeabilidade 60, voc√™ pode fazer o download da documenta√ß√£o e comprar aqui - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lepkos</a> . <br><br><img src="https://habrastorage.org/webt/cx/sh/cm/cxshcmc2l_cbtbmrjsjc_1omlho.jpeg"><br><br>  Agora vamos descobrir quantas voltas precisamos para obter essa indut√¢ncia m√≠nima: <br><br><img src="https://habrastorage.org/webt/c7/om/kk/c7omkkdu-x9_kv7cqlolqqqejpw.png"><br><br>  Este √© o n√∫mero m√≠nimo de voltas em que o conversor permanecer√° no modo de corrente cont√≠nua com uma tens√£o de entrada m√≠nima de 12V.  Para garantir a confiabilidade, vamos dar mais algumas voltas, de <s>modo que certamente daremos</s> mais 3 voltas, ou seja, <b>29 voltas</b> .  Vamos descobrir com que indut√¢ncia terminamos com tantas voltas: <br><br><img src="https://habrastorage.org/webt/nl/ry/1d/nlry1drtaiuw8wblzxvomc0w0r8.png"><br><br>  Temos um novo valor (final) da indut√¢ncia e o n√∫mero de voltas, vamos verificar se ultrapassamos o limite de indu√ß√£o para este n√∫cleo: <br><br><img src="https://habrastorage.org/webt/gg/6h/pq/gg6hpq523rsadvmoqjzlyqov9i0.png"><br><br>  O n√∫cleo √© feito de material Kool Mu para o qual o limite de indu√ß√£o √© de 0,5 T.  Como voc√™ pode ver com esse n√∫cleo, √© obtida uma margem de cinco vezes.  <s>N - confiabilidade!</s>  A partir disso, podemos concluir indiretamente que, a uma frequ√™ncia de 100 kHz, cerca de 300 watts podem ser bombeados atrav√©s desse n√∫cleo. <br><br>  Agora vamos decidir sobre um fio de enrolamento.  Eu tenho muito do meu fio favorito com um di√¢metro de 0,6 mm no meu armaz√©m, o que corresponde √† se√ß√£o transversal de um n√∫cleo de 0,283 mm <sup>2</sup> .  A corrente m√©dia no n√∫cleo ser√° de aproximadamente 5A, respectivamente, se voc√™ envolv√™-lo em um n√∫cleo, obteremos uma densidade de corrente de 5A / 0,283 mm <sup>2</sup> = <i>17,66 A / mm <sup>2</sup></i> , o que √© demais e haver√° aquecimento excessivo do indutor.  Existem muitos locais para o enrolamento, o n√∫cleo √© grande, ent√£o eu o enrolarei em <b>2 n√∫cleos</b> , o que reduzir√° a densidade de corrente em 2 vezes para um valor de <b>8,83 A / mm <sup>2</sup></b> .  Isso permitir√° que voc√™ superaque√ßa em rela√ß√£o ao ambiente dentro de +20 <sup>o</sup> C. <br><br>  Todos os par√¢metros do indutor foram determinados: dimens√µes R26 / 14/11, material Kool Mu, n√∫mero de voltas 29, fio de enrolamento com di√¢metro de 0,6 mm e enrolamento em 2 n√∫cleos.  Vamos dar corda: <br><br><img src="https://habrastorage.org/webt/a5/-7/iv/a5-7ivzjye-fovi_csl7yk8usaq.jpeg"><br><br>  Ferida, presa ao final do enrolamento, a fita gravou todo o enrolamento - feito.  Resta medir o valor real da indut√¢ncia do indutor: <br><br><img src="https://habrastorage.org/webt/m0/51/qg/m051qgvdttg6vegcfhkn9sfrqcq.jpeg"><br><br>  Obteve o valor necess√°rio!  Agora voc√™ pode prosseguir com seguran√ßa no c√°lculo da capacidade de sa√≠da.  A l√≥gica √© basicamente simples - quanto maior a capacidade de sa√≠da, menor a ondula√ß√£o.  √â verdade que vale a pena entender que, se voc√™ levar a capacit√¢ncia v√°rias ordens de magnitude maior que a calculada, a constante de tempo ser√° muito grande e o sistema de controle (SU) n√£o funcionar√° corretamente, portanto calculamos o valor m√≠nimo de capacit√¢ncia para o capacitor (C2): <br><br><img src="https://habrastorage.org/webt/dg/fw/8m/dgfw8mpubqkkrjyktsjs8nyw-3g.png"><br><br>  Em frequ√™ncias dentro de 200 kHz, onde eletr√≥litos baratos ainda est√£o sendo colocados, geralmente multiplico esse valor m√≠nimo por 2 ... 3 e defino esse valor.  Na tarefa atual, eu uso um m√≥dulo de energia de depura√ß√£o, e os eletr√≥litos j√° est√£o instalados nele, que desempenham o papel da capacit√¢ncia de sa√≠da na topologia de refor√ßo, que discutirei em mais detalhes no pr√≥ximo cap√≠tulo. <br><br>  A capacidade total de eletr√≥litos √© de 3000 ŒºF, o que √© muito nesta tarefa, porque  a placa foi projetada para maior pot√™ncia.  Com uma capacit√¢ncia de sa√≠da t√£o grande, o feedback n√£o √© bom, mas para experimentos sim. <br><br>  Resta falar fluentemente sobre transistores.  √â sobre transistores!  Eu uso um m√≥dulo de meia ponte e, portanto, implemento um conversor de impulso s√≠ncrono.  Os m√≥dulos est√£o equipados com transistores IPP083N10N5AKSA1 com uma tens√£o de fonte de dreno de 100V, que fornece uma fonte de tens√£o quase tr√™s vezes maior e, portanto, cobre a tarefa - passamos pelo transistor VT1 e o diodo VD1 √© substitu√≠do por um transistor semelhante e, consequentemente, tamb√©m passamos. <br><br><h2>  Cap√≠tulo 4 - C√≥digo para controle de acionamento </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como vou falar sobre algoritmos de controle em um artigo separado, hoje o conversor ser√° controlado pelo mesmo programa que foi usado no artigo, que falou sobre topologia buck, voc√™ pode l√™-lo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No cap√≠tulo de c√≥digo, voc√™ pode ler em detalhes sobre a inicializa√ß√£o do HRPWM e ADCs, bem como sobre sua sincroniza√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As altera√ß√µes no c√≥digo ocorreram em apenas um local, ou seja, no manipulador de interrup√ß√µes com o ADC - o limite de corte alterado, porque Eu usei um divisor de tens√£o diferente. Bem, corrigi a condi√ß√£o para que n√£o haja excesso excessivo:</font></font><br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ADC1_2_IRQHandler</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ ADC2-&gt;ISR |= ADC_ISR_EOC; adcResult = ADC2-&gt;DR; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (adcResult &gt;= <span class="hljs-number"><span class="hljs-number">3400</span></span>) { dutyControl = dutyControl - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { dutyControl = dutyControl + <span class="hljs-number"><span class="hljs-number">10</span></span>; } SetDutyTimerA(dutyControl); }</code> </pre> <br>  Voc√™ encontrar√° o projeto de origem do TrueSTUDIO no final do artigo como um arquivo morto.  Agora que o princ√≠pio de opera√ß√£o do conversor foi desmontado, todos os componentes foram contados, existe um programa de controle, voc√™ pode come√ßar a montar o layout e testar o desempenho e a exatid√£o dos resultados. <br><br><h2>  Cap√≠tulo 5 - Montagem do layout e teste da opera√ß√£o do conversor </h2><br>  Prosseguimos para a etapa mais interessante e colorida, a saber, a montagem do layout e a verifica√ß√£o do desempenho.  No come√ßo do artigo, mencionei a rela√ß√£o entre topologias buck e boost, agora vamos analisar isso, porque  no m√≥dulo de meia ponte, isso √© extremamente claro.  Primeiro, vejamos o circuito do conversor buck: <br><br><img src="https://habrastorage.org/webt/b1/s7/ab/b1s7abpezg5tbhf55raodsnlojs.png"><br><br>  O quadro verde destaca os componentes que est√£o instalados no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√≥dulo de energia da meia ponte</a> , como voc√™ pode ver aqui C1 atua como uma capacit√¢ncia de entrada e o capacitor C2 como uma sa√≠da.  Agora vamos desenhar um circuito conversor de impulso: <br><br><img src="https://habrastorage.org/webt/ym/l3/kv/yml3kv4-9do0mmn3lmjcay89dq4.png"><br><br>  Quem est√° atento e percebeu o que mudou?  Sim, em princ√≠pio, nada mudou, curiosamente, a √∫nica diferen√ßa √© que a entrada e a sa√≠da mudaram de lugar.  Como voc√™ pode ver, as topologias em si s√£o id√™nticas, e outra propriedade interessante decorre disso - se uma topologia s√≠ncrona for aplicada, o conversor poder√° funcionar como um conversor bidirecional! <br><br>  Um exemplo?  F√°cil!  Imagine um dispositivo port√°til com uma bateria USB e Li-ion.  Quando o USB √© conectado, o conversor opera no modo buck e carrega a bateria, assim que o cabo USB √© desconectado, o conversor entra no modo de aumento e o eleva de 5V para 5V a partir do qual o dispositivo √© alimentado.  Legal!  E h√° muitas tarefas semelhantes em que esse recurso √© √∫til. <br><br>  Montei o layout de acordo com o segundo esquema, e nele o capacitor C1 √© apenas a capacit√¢ncia de sa√≠da, ou seja, j√° est√° instalado e basta acionar o m√≥dulo que fizemos e a capacit√¢ncia de entrada.  No papel da capacit√¢ncia de entrada C2, usei um par de capacitores eletrol√≠ticos a 4700 ŒºF 25V e, no final, obtive este modelo da unidade de pot√™ncia: <br><br><img src="https://habrastorage.org/webt/nv/cu/uh/nvcuuhkvutb9xxzs9gtenjpjk6m.jpeg"><br><br>  Agora, conectamos o m√≥dulo de controle e a fonte de energia √† parte de energia, neste caso a fonte de alimenta√ß√£o do laborat√≥rio: <br><br><img src="https://habrastorage.org/webt/0d/tn/mj/0dtnmjyjclef4h_97empgvf9au4.jpeg"><br><br>  Agora, preencheremos o firmware no microcontrolador, forneceremos energia ao t√©cnico de laborat√≥rio, definiremos o fator de preenchimento de 30.000 dentre 45.000, o que, de acordo com nossa f√≥rmula, aumentar√° a tens√£o de entrada em 3 vezes: V <sub>out</sub> = 12V / (1 - 0,66) = 12 / 0,33 = 36, 36B.  Depois disso, vemos que a l√¢mpada acende intensamente: <br><br><img src="https://habrastorage.org/webt/ck/vz/8z/ckvz8zcf3po3urc9tcukbmgm_kc.jpeg"><br><br>  Agora conectamos o oscilosc√≥pio aos mesmos pontos e vemos o seguinte resultado: <br><br><img src="https://habrastorage.org/webt/rw/ur/hr/rwurhrcwcrib1ouyud7u-b-tbj4.png"><br><br>  Como voc√™ pode ver, o dispositivo funciona corretamente: a voltagem realmente aumentou 3 vezes, o consumo de entrada √© de cerca de 60 watts ( <b>sim, eu sei que a l√¢mpada precisa de uma mudan√ßa de 36V</b> ), a pr√≥pria l√¢mpada consome uma corrente de 1,61 A. Para maior clareza, deixarei um pequeno v√≠deo para trabalhar : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dBlJLapveds" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Resta descobrir quanto o conversor aquece nessas condi√ß√µes.  Sugeri que o superaquecimento seria m√≠nimo, pois  tudo foi calculado corretamente e os componentes foram tirados com uma margem, ent√£o ele colocou o transdutor no ambiente com uma temperatura de cerca de + 10 <sup>o</sup> C, a fim de melhorar o contraste do campo de temperatura. <br><br>  <u>A metodologia para teste √© simples e consiste em tr√™s etapas:</u> <br><br><ul><li>  Coloco o conversor em um ambiente com temperatura de +10 <sup>o</sup> C e espero at√© que ele esfrie e se torne quase indistingu√≠vel no termovisor em rela√ß√£o ao fundo geral; </li><li>  Ligo o conversor, deixo-o funcionar por 5 minutos e me√ßo a vis√£o geral do conversor e separadamente os componentes de energia; </li><li>  Deixo o conversor para trabalhar por mais 1 hora e me√ßo novamente, ver quanto a temperatura dos componentes aumentou. </li></ul><br>  Ap√≥s esse experimento, ser√° poss√≠vel tirar conclus√µes aproximadas sobre a possibilidade de operar o conversor em opera√ß√£o cont√≠nua, bem como entender como o dispositivo superaquece em rela√ß√£o √† temperatura ambiente, o que permitir√° prever o comportamento do dispositivo em temperaturas ambientes mais altas.  E ent√£o vamos come√ßar: <br><br><ul><li>  Medi√ß√£o n¬∫ 1 - o transdutor foi colocado em um ambiente com uma temperatura de cerca de + 10 <sup>o</sup> C: <br><br><img src="https://habrastorage.org/webt/va/rp/un/varpunaiee-asiltohzocpchbpi.png"><br><br>  Pode-se observar que as placas est√£o quase completamente fundidas com o ambiente, o que significa que voc√™ pode ligar e come√ßar a avaliar a temperatura do conversor j√° com a carga nominal. <br></li><li>  Medi√ß√£o No. 2 - o conversor opera a 100% da carga nominal por 5 minutos, a temperatura ambiente √© de cerca de +10 <sup>o</sup> C: <br><br><img src="https://habrastorage.org/webt/as/6s/kf/as6skfsi2gukesgvdecdouk8uuo.png"><br><br>  Ap√≥s 5 minutos de opera√ß√£o, a imagem ficou mais contrastante e mostra claramente o pr√≥prio conversor e os principais componentes de aquecimento.  Os superaquecedores de registros se tornaram isolados dc / dc para drivers de transistor com uma temperatura de +29 <sup>o</sup> , mas n√£o h√° nada de estranho nisso, porque  temperatura de superaquecimento +20 ... 30 <sup>o</sup>  √© nominal para eles, o que √© refletido na documenta√ß√£o.  O segundo lugar √© ocupado por um estrangulamento, cuja temperatura √© +28 ... 29 <sup>o</sup> , que √© mais do que boa, porque  freq√ºentemente as bobinas de trabalho podem atingir o n√≠vel de +80 ... 100 <sup>o</sup> . A temperatura do radiador √© de +20 ... 21 <sup>o</sup> C, e os transistores s√£o apenas um grau mais quentes e talvez menos, porque  qualquer termovisor n√£o √© realmente o dispositivo mais preciso do mundo. <br></li><li>  Medi√ß√£o n¬∫ 3 - o conversor opera a 100% da carga nominal por 1 hora, a temperatura ambiente √© de cerca de + 10 <sup>o</sup> C: <br><br><img src="https://habrastorage.org/webt/gm/ti/v9/gmtiv9bnozogonfwc0twjgilpnw.png"><br><br>  Ap√≥s uma hora de opera√ß√£o, as temperaturas cresceram e se acalmaram, tentei medir ap√≥s 3 horas, mas o resultado n√£o mudou, ou melhor, mudou no n√≠vel do erro de medi√ß√£o, ent√£o n√£o adicionei esse est√°gio.  Enquanto isso, vejamos as temperaturas ap√≥s o conversor <s>atingir a velocidade de cruzeiro</s> no modo nominal. <br><br>  A temperatura do radiador cresceu +4 <sup>o</sup> C e os transistores "se fundiram" a ele, porque  tudo aqueceu e o fluxo de calor foi distribu√≠do uniformemente.  A temperatura em dc / dc isolado cresceu +9 <sup>o</sup>  e atingiram os indicadores de superaquecimento do passaporte, at√© a margem permaneceu alguns graus.  A temperatura do acelerador aumentou em +3 <sup>o</sup> C. <br></li></ul><br>  Vamos resumir ... A temperatura dos transistores √© normal, o que significa que as perdas s√£o miser√°veis ‚Äã‚Äãe o pr√≥prio m√≥dulo de pot√™ncia funciona corretamente, n√£o h√° correntes, n√£o h√° problemas com a instala√ß√£o dos transistores, a prop√≥sito, eles se assentam em um substrato de cer√¢mica em uma gota de pasta t√©rmica MX-4, n√£o √© necess√°rio adicionar muita pasta - vai ser pior. <br><br>  A temperatura do indutor tamb√©m √© normal, o que significa que a indut√¢ncia foi calculada corretamente e o n√∫cleo tamb√©m foi dimensionado de acordo com as dimens√µes, <s>bem, sim, com uma margem de 5 vezes :))</s> , ou seja, ele n√£o satura e o enrolamento n√£o superaquece com o valor atual da densidade atual. <br><br><div class="spoiler">  <b class="spoiler_title">B√¥nus inquisitivo</b> <div class="spoiler_text">  Mantenha uma l√¢mpada no termovisor :)) <br><br><img src="https://habrastorage.org/webt/14/bp/0c/14bp0c7_dq6wkozr_a9-aby73pc.png"><br></div></div><br><h2>  Conclus√£o </h2><br>  Hoje examinei a pr√≥xima topologia de conversores, espero que o material se torne uma c√°bula √∫til para voc√™ ao desenvolver conversores de impulso convencionais e controlados por DSP.  Na pr√≥xima vez que pretender falar sobre a topologia igualmente popular e talvez mais √∫til de uma ponte completa ou ponte completa, falarei sobre os c√°lculos do transformador e como faz√™-lo. <br><br>  Pelo apoio na cria√ß√£o do material para o artigo, tradicionalmente gostaria de agradecer √† empresa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PCBway</a> , que facilita o processo de cria√ß√£o de layouts para mim com meus quadros e est√™nceis. <br><br><img src="https://habrastorage.org/webt/5n/sz/_3/5nsz_35l_pc85vd_lgj92wk0puu.jpeg"><br><br>  E o mais importante - o c√≥digo fonte do m√≥dulo de energia, a placa de controle e o pr√≥prio c√≥digo, como sempre, est√£o dispon√≠veis para todos verem.  At√© agora, apenas na forma de arquivos, como voc√™ consegue suas m√£os, finalmente precisa criar um reposit√≥rio no github. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Design da fonte do m√≥dulo de pot√™ncia Altium Designer e documenta√ß√£o em PDF</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto de origem do m√≥dulo de controle no Altium Designer e documenta√ß√£o em PDF</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto para STM32F334R8T6 no TrueSTUDIO</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt442374/">https://habr.com/ru/post/pt442374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt442362/index.html">Na terceira vez em minha vida, vi um termovisor vivo e o segurei em minhas m√£os pela primeira vez</a></li>
<li><a href="../pt442364/index.html">Vis√£o geral da Esta√ß√£o DECT Snom M300 Base e Kit M215</a></li>
<li><a href="../pt442366/index.html">Quais s√£o as caracter√≠sticas e tarefas do acompanhamento sonoro dos jogos</a></li>
<li><a href="../pt442370/index.html">Carregamento lento do m√≥dulo de recursos da pasta "node_modules"</a></li>
<li><a href="../pt442372/index.html">Programa√ß√£o confi√°vel no contexto de linguagens. Parte 2 - Desafiantes</a></li>
<li><a href="../pt442376/index.html">Densidade do lote de varejo</a></li>
<li><a href="../pt442378/index.html">Um clique na interface Booking com pode arruinar as f√©rias ou por que um sistema de classifica√ß√£o funcional √© importante</a></li>
<li><a href="../pt442380/index.html">Classificar o caos</a></li>
<li><a href="../pt442384/index.html">Expandindo a funcionalidade do sistema de √°udio padr√£o</a></li>
<li><a href="../pt442386/index.html">Thymeleaf: Layout de dialeto + Spring Boot 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>