<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèº üÜï üë©üèΩ‚Äçüîß ¬øC√≥mo nos matamos con un solo clic, colocando el sitio y facturando en el geoccluster, o hablemos de redundancia nuevamente? ü§±üèΩ üôÖ üë©üèº‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="S√≠, tambi√©n soy un imb√©cil. Pero esto no me lo esperaba. Parece que "no es el primer a√±o de casados". Parece estar leyendo un mont√≥n de art√≠culos inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo nos matamos con un solo clic, colocando el sitio y facturando en el geoccluster, o hablemos de redundancia nuevamente?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424063/"> S√≠, tambi√©n soy un imb√©cil.  Pero esto no me lo esperaba.  Parece que "no es el primer a√±o de casados".  Parece estar leyendo un mont√≥n de art√≠culos inteligentes sobre tolerancia a fallas, redundancia, etc., algo razonable que incluso una vez escribi√≥ aqu√≠ mismo.  Durante m√°s de 10 a√±os, he sido CEO de un proveedor de alojamiento que opera bajo la marca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ua-hosting.company</a> y brinda servicios de alojamiento y alquiler de servidores en los Pa√≠ses Bajos, EE. UU., Y hace solo una semana en el Reino Unido (no pregunte por qu√© el nombre ua, la respuesta se puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en nuestro art√≠culo autobiogr√°fico</a> ), brindamos a los clientes soluciones de diversos grados de complejidad, a veces de tal manera que incluso a nosotros mismos nos resulta dif√≠cil entender lo que hicimos. <br><br>  Pero maldita sea ... Hoy me super√©.  Nosotros mismos demolimos completamente el sitio y la facturaci√≥n, con todas las transacciones, los datos de los clientes sobre los servicios y otras cosas, y fue mi culpa, dije "eliminar" yo mismo.  Algunos de ustedes ya lo han notado.  Sucedi√≥ hoy, viernes a las 11:20 hora est√°ndar del este (EST).  Adem√°s, nuestro sitio y facturaci√≥n no estaban alojados en el mismo servidor, y ni siquiera en la nube, dejamos la nube del centro de datos hace 2 meses a favor de nuestra propia soluci√≥n.  Todo esto se ubic√≥ en un geocl√∫ster tolerante a fallas de dos servidores virtuales: nuestro nuevo producto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VPS (KVM) con unidades dedicadas</a> , VPS <b>INDEPENDIENTE</b> , que se ubicaron en dos continentes, en Europa y EE. UU.  Uno en Amsterdam, y el otro en Manassas, cerca de Washington, por el hecho de que DC en dos centros de datos confiables.  Contenido en el que se duplicaba constantemente y en tiempo real, y la tolerancia a fallas se basa en un cl√∫ster DNS normal, las solicitudes podr√≠an llegar a cualquiera de los servidores, cualquiera de ellos sirvi√≥ como MAESTRO, y en caso de inaccesibilidad, asumi√≥ las tareas del segundo. <br><br>  Pens√© que esto solo puede matar un meteorito, bueno, o algo similar al global, que puede desactivar dos centros de datos al mismo tiempo.  Pero todo result√≥ ser m√°s simple. <a name="habracut"></a><br><br>  Podemos ser nosotros mismos, nosotros, si somos idiotas.  En el mundo solo hay dos cosas ilimitadas: el Universo y la estupidez humana, y si la primera es controvertida, la segunda se ha vuelto obvia. <br><br>  Siempre me he adherido al principio de la redundancia de sonido, no soy una de esas personas que gritar√°n "pierdo $ 1000 por una hora de inactividad", pero al mismo tiempo pago $ 15 por toda mi infraestructura.  No, ciertamente no pierdo tanto.  Aunque, quiz√°s, a veces pierdo.  La mayor√≠a de los idiotas que gritan sobre esto ni siquiera piensan que a veces el tiempo de inactividad por segundo puede costar $ 1,000, $ 10,000 o incluso un mill√≥n de d√≥lares en ganancias a largo plazo.  Como?  Es muy simple, en este momento puede venir un cliente que har√° su primer pedido, y en el futuro le traer√° estos millones de d√≥lares, porque siempre tiene la oportunidad de demostrarle su singularidad y obtener su recomendaci√≥n.  Y si ve el error 504 o "Lo siento, pero el servidor no est√° disponible actualmente", es posible que la transacci√≥n no tenga lugar.  Esto nos sucedi√≥, no, no un error 504 durante la llamada de un visitante importante, sino el primero.  Por pura casualidad, me encontr√© en el lugar correcto en el momento adecuado, cuando grandes clientes, como Dmitry Sukhanov, el creador de Kinopoisk, visitaron nuestro sitio, aunque este no es un muy buen ejemplo, porque trabaj√≥ con nosotros solo 2 a√±os, hasta Yandex no lo compr√≥ por $ 60 millones o cu√°nto hay all√≠.  Entonces, fue Dmitry en lugar de nosotros quien consigui√≥ los millones aqu√≠, pero nos alegramos de cooperar con un proyecto tan interesante y √∫til, y esto, a su vez, nos hizo un anuncio y proporcion√≥ muchos clientes nuevos y satisfechos. <br><br>  En general, ¬øpor qu√© soy todo esto?  Las p√©rdidas y la redundancia necesaria deben evaluarse con sensatez.  Aunque existe el riesgo de perder m√°s de un mill√≥n de d√≥lares, debe tener en cuenta la probabilidad de tal evento.  Lo m√°s probable es que si Dmitry viera el error 504 1 vez, no hubiera pasado nada cr√≠tico, y volvi√≥ a nosotros nuevamente.  Por qu√©  En ese momento, probablemente √©ramos uno de los pocos que pod√≠an ofrecer conectividad de 1+ Gb / s en Ucrania con alta calidad y latencia m√≠nima a bajo costo, lo que era extremadamente importante para sus recursos en ese momento, a fin de garantizar un acceso de alta calidad para la audiencia ucraniana. portal, ya que el tr√°fico extranjero era de baja calidad y a√∫n caro.  Por lo tanto, es importante garantizar la singularidad de la soluci√≥n, entonces el tiempo de actividad no ser√° muy cr√≠tico para usted.  Y como somos √∫nicos, podemos permitirnos (incluso ahora), tener miles de clientes de servidor, estar inactivos durante varias horas o incluso m√°s.  No necesitamos nubes tolerantes a mega fallas que proporcionen un tiempo de actividad del 99.9999% por mucho dinero, porque incluso caen, y si caen, la pr√°ctica los ha demostrado durante mucho tiempo, ya que el problema que caus√≥ la inaccesibilidad probablemente no sea com√∫n.  Y no ayudar√°n en caso de vulnerabilidad.  No ayudar√°n. <br><br>  As√≠ que construimos nuestra decisi√≥n por nosotros mismos es muy simple.  Tomamos dos VPS (KVM) en los nodos Dell R730xd, el mismo VPS (KVM) que ofrecemos a nuestros clientes, porque este es nuestro principio inicial: dar a las personas lo que usamos nosotros mismos: <br><br>  VPS (KVM) - 2 x Intel Dodeca-Core Xeon E5-2650 v4 (24 n√∫cleos) / 40GB / 4x240GB SSD RAID10 / Datatraffic - 40TB - desde $ 99 / mes, y puede <b>obtener un descuento del 30% en el primer pago</b> si encuentra una promoci√≥n c√≥digo en nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo publicitario</a> . <br><br>  Uno en los Pa√≠ses Bajos y otro en los Estados Unidos.  S√≠, en estos nodos, adem√°s de nuestro sitio y facturaci√≥n, hay 2 clientes reales m√°s, cada uno de los cuales puede influir en el funcionamiento de nuestro sitio en teor√≠a y no puede hacerlo en la pr√°ctica.  Por qu√©: est√° escrito en un art√≠culo publicitario, no voy a entrar en detalles aqu√≠ por segunda vez.  Ahora esto no se trata de eso.  En general, la soluci√≥n no es peor que los servidores de nivel de entrada dedicados y puede manejar una carga muy grande. <br><br>  Entre otras cosas, es tolerante a fallas, los datos se replican constantemente en tiempo real.  Y si un servidor no est√° disponible, el segundo tomar√° el rol de MAESTRO.  Idealmente, puede hacerlo para que el tr√°fico del continente americano sea procesado por el servidor estadounidense, y desde Europa, Rusia y Asia, el servidor en los Pa√≠ses Bajos. <br><br>  Vinculamos los servidores a nuestra cuenta en nuestro WHMCS de facturaci√≥n, un producto con licencia p√∫blica, pero adaptado para nosotros, que es utilizado por muchos proveedores de hosting en todo el mundo, incluidos nosotros, ya que escribir nuestro propio sistema de contabilidad es una debilidad franca (en nuestro caso) .  Especialmente en los casos en que la funci√≥n deseada se implementa escribiendo su propio m√≥dulo en la facturaci√≥n existente, lo que aumenta su tolerancia a fallas, ya que reduce el riesgo de vulnerabilidades cr√≠ticas.  Despu√©s de todo, solo o incluso con un equipo peque√±o, no podr√° escribir un sistema m√°s confiable que el existente, que fue escrito a lo largo de los a√±os por un grupo de desarrolladores, donde miles de errores ya han sido eliminados y que ahora los desarrolladores solicitan tan solo $ 30 / mes por una licencia y reciben millones de d√≥lares al a√±o. que puede gastarse incluso en mejoras adicionales. <br><br>  Hablando de vulnerabilidades cr√≠ticas, nuestro programador recientemente cometi√≥ un error al escribir uno de los m√≥dulos de servicio, que ten√≠a acceso a una base de datos de facturaci√≥n de solo lectura, que fue descubierta por un pentester independiente y nos pidi√≥ que paguemos $ 550 por un error encontrado, ya que era una vulnerabilidad de SQL -inyecci√≥n: <br><br><blockquote>  La inyecci√≥n SQL se encuentra entre los 10 mejores OWASP, le escrib√≠ sobre la cantidad de $ 550, esta es la cantidad m√≠nima, ya que la base de datos sufre, lo que compromete los datos del usuario. <br><br>  Pero algunas cantidades ascienden a $ 10,000 como recompensa, como es el caso de vk.com. </blockquote><br>  Por supuesto, apoyamos este comienzo y pagamos una compensaci√≥n sin dudas.  Dado que nuestro programador examin√≥ los datos proporcionados y confirm√≥ la existencia de un problema, la justificaci√≥n del pentester.  Despu√©s de todo, todav√≠a no mantenemos nuestro propio pentester en el estado, y este trabajo requiere un considerable conocimiento y tiempo, ya que incluye una serie de estudios: <br><br><blockquote>  Auditor√≠a de seguridad de todo el recurso, y esta es una verificaci√≥n de acuerdo con los siguientes par√°metros, y nuestro informe al final de la auditor√≠a incluye: <br><br>  ‚Ä¢ Inyecci√≥n de c√≥digo A1 <br>  ‚Ä¢ A2 Autenticaci√≥n incorrecta y gesti√≥n de sesi√≥n <br>  ‚Ä¢ secuencias de comandos A3 Crossite <br>  ‚Ä¢ Infracci√≥n de acceso A4 <br>  ‚Ä¢ Configuraci√≥n insegura A5 <br>  ‚Ä¢ P√©rdida de datos confidenciales A6 <br>  ‚Ä¢ A7 Protecci√≥n de ataque insuficiente <br>  ‚Ä¢ Falsificaci√≥n de solicitud entre sitios A8 <br>  ‚Ä¢ A9 Uso de componentes con vulnerabilidades conocidas <br>  ‚Ä¢ A10 Registro y monitoreo inadecuados. </blockquote><br>  Porque s√≠, la decisi√≥n se tom√≥ de manera inequ√≠voca y r√°pida.  Adem√°s, como se√±al√≥ Pentester, tales estudios aumentan la seguridad de la web en su conjunto: <br><blockquote>  Este es mi pasatiempo, si todos los desarrolladores como t√∫ tuvieran un di√°logo con los cazadores de errores, Internet ser√≠a un 80% seguro. </blockquote><br>  Por lo tanto, en general, pagamos bastante, especialmente si dividimos la cantidad por la cantidad de meses que el empleado responsable de las pruebas de penetraci√≥n no se mantuvo en el personal.  Muchas gracias al Pentester por el error encontrado y el hecho de que se tom√≥ el tiempo para nosotros, estamos realmente agradecidos con √©l.  Si alguien necesita sus servicios, comun√≠quese con nosotros, le proporcionaremos contactos con su permiso. <br><br>  Pero esta vez no fue la vulnerabilidad lo que nos mat√≥.  Fuimos nosotros y la caracter√≠stica del producto WHMCS.  En cada nota, hemos instalado un conveniente producto de administraci√≥n de contenedores virtuales, VM Manager, que WHMCS tiene acceso para crear, pausar y eliminar, as√≠ como clientes, para administrar el contenedor virtual creado. <br><br><img src="https://habrastorage.org/files/607/98f/a00/60798fa001694b8f87c12d03c35cfe61.jpg" alt="imagen"><br><br>  Todos los d√≠as en WHMCS recibimos docenas o incluso cientos de pedidos que deben ser aceptados (aceptados), eliminados o marcados como Fraude si el cliente est√° tratando de pagar un pedido con una tarjeta de cr√©dito robada.  A veces hay un auge de tales √≥rdenes y no podemos determinar de inmediato qu√© estado asignarle, ya que llevamos a cabo nuestra verificaci√≥n interna o exigimos que el usuario se identifique correctamente si encontramos que su orden es sospechosa, y dichos usuarios, por supuesto, no siempre responden o aprueban identificaci√≥n exitosa.  Por lo tanto, de vez en cuando se acumulan mil o dos pedidos no activados u pedidos con un estado desconocido, que son m√°s f√°ciles de eliminar que de procesar.  ¬øQui√©n realmente necesita reordenar? <br><br>  Hace dos meses, decidimos abandonar por completo el producto del centro de datos basado en la nube, ya que comenzamos a proporcionar nuestra propia soluci√≥n con VM Manager, que le permite poner el sistema en un solo clic o incluso desde su imagen: <br><br><img src="https://habrastorage.org/files/457/585/1f7/4575851f79d04242a0a3e0560e52a176.jpg" alt="imagen"><br><br>  E incluso lo ofrecieron en SSD PCIe NVMe, que son un orden de magnitud m√°s r√°pido que los SSD normales para lectura y hasta 3 veces para escribir, la soluci√≥n, como la nube, necesita actualizarse, los servidores cuestan desde $ 15 e incluyen un conveniente panel de control de VM Manager y ISP Manager 5 a pedido de forma gratuita, actualizaci√≥n de soporte con un paso m√≠nimo de 5 GB de RAM DDR4, SSD PCIe NVMe de 60 GB y E5-2650 v4 de 3 n√∫cleos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">a un plan de tarifas m√°s altas</a> en Amsterdam, Manassas y Londres: <br><br>  VPS (KVM) - E5-2650 v4 (3 n√∫cleos) / 5GB DDR4 / 60GB NVMe SSD / 1Gbps 5TB - $ 15 / mes <br>  VPS (KVM) - E5-2650 v4 (6 n√∫cleos) / 10GB DDR4 / 120GB NVMe SSD / 1Gbps 10TB - $ 30 / mes <br>  VPS (KVM) - E5-2650 v4 (9 n√∫cleos) / 15GB DDR4 / 180GB NVMe SSD / 1Gbps 15TB - $ 45 / mes <br>  ... <br>  VPS (KVM) - E5-2650 v4 (24 n√∫cleos) / 40GB DDR4 / 480GB NVMe SSD / 1Gbps 40TB - $ 120 / mes <br>  ... <br>  VPS (KVM) - E5-2650 v4 (24 n√∫cleos) / 65GB DDR4 / 780GB NVMe SSD / 1Gbps 65TB - $ 195 / mes <br>  VPS (KVM) - E5-2650 v4 (24 n√∫cleos) / 70GB DDR4 / 840GB NVMe SSD / 1Gbps 70TB - $ 210 / mes <br>  VPS (KVM) - E5-2650 v4 (24 n√∫cleos) / 75GB DDR4 / 900GB NVMe SSD / 1Gbps 75TB - $ 225 / mes <br><br>  Por lo tanto, no tiene sentido alquilar una gran parte de la nube del centro de datos y ofrecer a los clientes los antiguos procesadores E3-1230, aunque desde $ 3.99 por mes para nosotros se ha agotado.  Creemos que los clientes deben recibir la m√°s alta calidad y el m√°ximo rendimiento, al precio m√°s bajo, s√≠, no podemos ofrecer el producto por $ 3.99 y tal vez no cubramos las necesidades de algunos desarrolladores que necesitan recursos m√≠nimos y cualquier rendimiento, pero el costo del nodo supera 7,000 euros y no podemos permitirnos, al menos por ahora, colocar m√°s de 15 clientes en √©l, ya que estamos listos para garantizar la calidad.  Y la calidad implica no solo estabilidad, sino tambi√©n la m√°xima relaci√≥n rendimiento / precio, y luego rentabilidad. <br><br>  Para celebrar, cancelamos toda la infraestructura de la nube (que son miles de VPS), ordenamos 2 servidores virtuales independientes para nosotros (s√≠, nos pagamos por nuestros servidores), implementamos un sitio y facturamos hace 2 meses en una nueva soluci√≥n, ya que describimos todo arriba, se incorpor√≥ al grupo de protecci√≥n, para que el sistema no se detenga solo, si de repente se olvid√≥ de pagar a tiempo ... Parece que ha hecho todo. <br><br>  Y hoy, despu√©s de 2 meses, decidimos "Cancelar" (no eliminar, ese bot√≥n tambi√©n est√° all√≠, pero tratamos de nunca eliminar nada, para que siempre haya un historial) M√°s de 1000 pedidos pendientes que a√∫n no tienen asignado un estado en la facturaci√≥n de WHMCS .  Adivinado?  Si, eso es.  Me preguntaron: ¬øpuedo cancelar?  Confirm√© "eliminar". <br><br>  A veces, a pesar de la gran cantidad de recursos, dado que el muestreo de datos es grande y algunos procesos no se ajustan al l√≠mite de tiempo asignado, WHMCS da un error 504, todo est√° hecho y la facturaci√≥n contin√∫a funcionando, pero aqu√≠ no tenemos disponibilidad.  La facturaci√≥n y el sitio ya no est√°n disponibles.  No entendimos de inmediato la raz√≥n.  Pero luego se dieron cuenta.  El pedido de nuestros 2 VPS no fue aceptado (s√≠, ¬°no aceptamos nuestro pedido!) Y, como resultado, fue "cancelado" por el sistema, lo que condujo al lanzamiento del m√≥dulo y la eliminaci√≥n de dos contenedores a la vez, supuestamente no creados, pero creados por los virtuales, utilizando nuestro amado VM Manager.  Habiendo ingresado a uno de los nodos, como se esperaba, nuestros administradores vieron la imagen "Adi√≥s": <br><br><img src="https://habrastorage.org/webt/mq/wq/pn/mqwqpnutma-z0kdwsmevoax_tfo.png"><br><br>  Qu√© es esto: una falla en los desarrolladores de WHMCS, que lleva a la eliminaci√≥n de pedidos no aceptados, y en realidad creados con su ID de VPS, cuando se cancelan, o nuestra estupidez (del departamento de ventas) ya no es importante.  El resultado fue uno: ‚ÄúAdi√≥s al sitio con facturaci√≥n.  El panel simplemente los borr√≥.  Y los administradores solo ten√≠an una pregunta para nosotros (ventas): <br><br><blockquote>  Naher crea un servicio con su sitio principal y facturaci√≥n. <br>  Y luego tambi√©n matarla al infierno. </blockquote><br>  Y aunque ten√≠amos copias de seguridad, tambi√©n en dos regiones distribuidas geogr√°ficamente, me sent√≠ inc√≥modo.  Como no estaba seguro acerca de la frescura de las copias de seguridad, no estaba seguro de que nuestros administradores hicieran todo bien, como se prescribi√≥ originalmente en ellos.  la tarea de que la base de datos en realidad se respaldaba cada hora o con m√°s frecuencia, y los datos se actualizaban y se almacenaban varias versiones anteriores de archivos.  Las copias de seguridad de alg√∫n error de software no dejaron de realizarse (despu√©s de todo, personalmente no lo control√©, ¬øpor qu√© deber√≠a estar seguro de que nuestros administradores estar√°n preocupados por nuestros datos si califico este control?).  Un mont√≥n de pensamientos negativos ... ¬°No dejes que el universo sobreviva a esto! <br><br>  Ya ten√≠a la idea de que al menos 1 hora, o incluso peor, no habr√≠a transacciones, y tendr√≠a que restaurar los pagos de los clientes manualmente, comparar datos sobre transacciones anteriores y escribir a los titulares de cuentas que hab√≠amos recreado la cuenta y pagada por ella. , para mostrarnos desde el lado equivocado, para enviar una notificaci√≥n de que somos tontos e hicimos un mal funcionamiento del software ... Y si no hay una copia de seguridad nueva, esto generalmente es una tuber√≠a, tendr√≠a que ser muy largo y triste para restaurar todo ... <br><br>  Para este caso, tenemos una tabla interna donde muchos datos principales se duplican manualmente y que nosotros actualizamos, lo que elimina una falla del software y la reescritura de datos incorrectos.  A pesar de la disponibilidad de copias de seguridad, todav√≠a utilizamos este m√©todo.  Despu√©s de todo, nadie cancela la posibilidad de un zvezdets global. <br><br>  Afortunadamente, todo result√≥ no ser tan malo, e incluso eso.  un especialista que tuvo que resolver un problema y que al principio anunci√≥: <br><br><blockquote>  La noche fue un √©xito, gracias a todos. <br>  Fui a recogerlo. </blockquote><br>  Sin embargo, la noche fue un √©xito.  Como inicialmente la soluci√≥n preve√≠a el uso de lvm y a√∫n no se hab√≠a creado un nuevo contenedor virtual, fue posible restaurar los datos reales, aunque con un baile con una pandereta: <br><br><blockquote>  Todo a trav√©s de la utilidad lvm, usando sus comandos, restaur√≥ el grupo de volumen virtual, luego el virtual, luego activ√≥ la partici√≥n, la mont√≥ en la carpeta izquierda, cre√≥ el servidor y coloc√≥ los datos all√≠.  Era posible de otras maneras, pero esta opci√≥n en nuestro caso fue la m√°s r√°pida + espec√≠fica de la configuraci√≥n del servidor virtual, que tiene su propia incursi√≥n. </blockquote><br>  ¬øQu√© conclusiones se hacen?  La redundancia y la redundancia deben incluir la contabilidad de vulnerabilidades y el escenario de desarrollo m√°s tonto cuando todo, incluso las copias de seguridad, pueden destruirse.  No sufrimos ni sufrimos grandes p√©rdidas solo por el hecho de que los datos no se eliminaron por completo.  Si es necesario restaurar desde copias de seguridad, habr√° una p√©rdida de transacciones por hora y una p√©rdida significativa de tiempo de trabajo.  Nos pareci√≥ que la probabilidad de que las copias de seguridad sean √∫tiles cuando se usa un geocluster es m√≠nima: nos equivocamos.  No tomamos en cuenta que es posible eliminar ambos servidores a la vez y que no eliminaremos los servidores, sino nosotros. <br><br>  Siempre es necesario tener un almacenamiento externo independiente de su sistema, con acceso, preferiblemente solo por alg√∫n c√≥digo, que tambi√©n est√° reservado, para garantizar que los datos no se perder√°n.  Por el momento, a pesar de la presencia de copias de seguridad en nuestra infraestructura en dos regiones, considero seriamente la posibilidad de usar algo como Amazon Glacier, aunque esta √∫ltima es muy costosa.  Seg√∫n los administradores, todo est√° bien solo en t√©rminos de marketing, pero cuando comienzas a usarlo, te enfrentas al hecho de que la soluci√≥n es bastante costosa, porque tienes que pagar por cada solicitud y cada archivo que se considera muy interesante como su aplicaci√≥n aws-cli, especialmente si Los datos deben ser restaurados.  Recientemente, un cliente de Gran Breta√±a solicit√≥ establecer una reserva all√≠, despu√©s de unos meses de uso, se neg√≥, result√≥ ser muy costoso.  Pero a√∫n as√≠, necesitamos determinar qu√© es m√°s caro.                 ‚Äî   .    ‚Äî   ,   ,       .        ,     . <br><br> ,     ‚Äî     ,     ,  ,     .       , ,  ,   ,         ,       . <br><br> PS   ,   (  ,  EST ).    ,  ,    . ,    -      .         ,      ,    . ,    ‚Äî   ,     .       .       ! <br><br>   . <br><br> <b>VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps     </b>      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> ,  30%    VPS  , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los EE. UU.</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es424063/">https://habr.com/ru/post/es424063/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es424051/index.html">El Manifiesto del Programador Limpio o el Resumen del Libro de C√≥digo Corto de Robert Martin</a></li>
<li><a href="../es424053/index.html">Serie MicroSD hecha de un lienzo en blanco</a></li>
<li><a href="../es424057/index.html">Integraci√≥n de aplicaciones web con Spring Cloud Contract</a></li>
<li><a href="../es424059/index.html">Highlights #GitLabLive del 20 de septiembre de 2018</a></li>
<li><a href="../es424061/index.html">Cinco a√±os despu√©s, se lanz√≥ la pr√≥xima versi√≥n de DOSBox con el n√∫mero 0.74-2</a></li>
<li><a href="../es424065/index.html">Firefox instala extensiones en sus dispositivos para recopilar datos sin su conocimiento ... nuevamente</a></li>
<li><a href="../es424069/index.html">iFixit: iPhone XS y XS Max: copias casi exactas de iPhone X con capacidad de mantenimiento 6 de 10</a></li>
<li><a href="../es424071/index.html">Teor√≠a de la felicidad. Termodin√°mica de la desigualdad de clase.</a></li>
<li><a href="../es424073/index.html">Ejecuci√≥n remota de c√≥digo en Microsoft JET Database Engine</a></li>
<li><a href="../es424077/index.html">Francia exige que el "derecho al olvido" sea global: lo que puede afectar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>