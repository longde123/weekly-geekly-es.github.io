<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЦЛя╕П ЁЯзУ ЁЯеЩ SQL рд╕рд░реНрд╡рд░ 2019 рдХреА рдкрд╣рд▓реА CTP рдореЗрдВ рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ тШжя╕П ЁЯС▓ЁЯП┐ тДвя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SQL рд╕рд░реНрд╡рд░ 2019 рдХреЗ CTP рдХрд╛ рдкрд╣рд▓рд╛ рд╕рдВрд╕реНрдХрд░рдг 24 рд╕рд┐рддрдВрдмрд░ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдореБрдЭреЗ рдпрд╣ рдХрд╣рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрд╣ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реБрдзрд╛рд░реЛрдВ рдФрд░ рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рд╕реЗ рднрд░рд╛ рд╣реИ (рдЬ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SQL рд╕рд░реНрд╡рд░ 2019 рдХреА рдкрд╣рд▓реА CTP рдореЗрдВ рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424441/">  SQL рд╕рд░реНрд╡рд░ 2019 рдХреЗ CTP рдХрд╛ рдкрд╣рд▓рд╛ рд╕рдВрд╕реНрдХрд░рдг 24 рд╕рд┐рддрдВрдмрд░ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдореБрдЭреЗ рдпрд╣ рдХрд╣рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрд╣ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реБрдзрд╛рд░реЛрдВ рдФрд░ рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рд╕реЗ рднрд░рд╛ рд╣реИ (рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХрдИ рдПрдЬрд╝реНрдпреЛрд░ SQL рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рд░реВрдк рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ)ред  рдореЗрд░реЗ рдкрд╛рд╕ рдЗрд╕реЗ рдкрд╣рд▓реЗ рдЬрд╛рдирдиреЗ рдХрд╛ рдПрдХ рдЕрд╕рд╛рдзрд╛рд░рдг рдЕрд╡рд╕рд░ рдерд╛, рдЬрд┐рд╕рдиреЗ рдореБрдЭреЗ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдЕрдкрдиреА рд╕рдордЭ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреА, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕рддрд╣реА рд░реВрдк рд╕реЗред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">SQL рд╕рд░реНрд╡рд░ рдЯреАрдо</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрджреНрдпрддрди рдХрд┐рдП рдЧрдП рджрд╕реНрддрд╛рд╡реЗрдЬрд╝</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЗ рдирд╡реАрдирддрдо рдкреНрд░рдХрд╛рд╢рди</a> рднреА рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рдмрд┐рдирд╛, рдореИрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирдИ рдХрд░реНрдиреЗрд▓ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ: рдкреНрд░рджрд░реНрд╢рди, рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг, рд╕реБрд░рдХреНрд╖рд╛, рдЙрдкрд▓рдмреНрдзрддрд╛ рдФрд░ рд╡рд┐рдХрд╛рд╕ред  рдлрд┐рд▓рд╣рд╛рд▓, рдореЗрд░реЗ рдкрд╛рд╕ рджреВрд╕рд░реЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рд╣реИ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреНрд░рдХрд╛рд╢рди рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВред  рдореИрдВ рдЗрд╕ рдЦрдВрдб рдкрд░, рд╕рд╛рде рд╣реА рд╕рд╛рде рдХрдИ рдЕрдиреНрдп рд▓реЗрдЦреЛрдВ рдФрд░ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдгреЛрдВ рдкрд░ рд▓реМрдЯреВрдВрдЧрд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░реВрдВрдЧрд╛ред  рдореИрдВ рдЖрдкрдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЬрд▓реНрджрдмрд╛рдЬреА рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдпрд╣ рдПрдХ рд╡реНрдпрд╛рдкрдХ рд╕рдореАрдХреНрд╖рд╛ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВ "рд╕реНрдкрд░реНрд╢" рдХрд░рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣рд╛, CTP 2.0 рддрдХред  рдЕрднреА рднреА рдмрд╣реБрдд рд╕реА рдмрд╛рддреЗрдВ рдХрд░рдиреА рдмрд╛рдХреА рд╣реИрдВред <br><a name="habracut"></a><br><h2>  рдЙрддреНрдкрд╛рджрдХрддрд╛ </h2><br><h4>  рдЯреЗрдмрд▓ рдЪрд░: рд╡рд┐рд▓рдВрдмрд┐рдд рдпреЛрдЬрдирд╛ рднрд╡рди </h4><br>  рдЯреЗрдмрд▓ рдЪрд░ рдХреА рдмрд╣реБрдд рдЕрдЪреНрдЫреА рдкреНрд░рддрд┐рд╖реНрдард╛ рдирд╣реАрдВ рд╣реИ, рдЬреНрдпрд╛рджрд╛рддрд░ рд▓рд╛рдЧрдд рдЕрдиреБрдорд╛рди рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, SQL рд╕рд░реНрд╡рд░ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдЪрд░ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдкрдВрдХреНрддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЬреЛ рдХрднреА-рдХрднреА рдпреЛрдЬрдирд╛ рдХреА рдЕрдкрд░реНрдпрд╛рдкреНрдд рдкрд╕рдВрдж рдХреА рдУрд░ рд▓реЗ рдЬрд╛рддреА рд╣реИ рдЬрдм рдЪрд░ рдореЗрдВ рдХрдИ рдЧреБрдирд╛ рдЕрдзрд┐рдХ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рд╣реЛрдВрдЧреАред  рд╡рд┐рдХрд▓реНрдк (RECOMPILE) рдЖрдорддреМрд░ рдкрд░ рдПрдХ рд╡рд░реНрдХрдЕрд░рд╛рдЙрдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреЛрдб рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ рдпрд╣ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ, рд╣рд░ рдмрд╛рд░ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЗрдХрд╛рд░ рд╣реИ, рдЬрдмрдХрд┐ рд▓рд╛рдЗрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рдПрдХ рд╣реА рд╣реЛрддреА рд╣реИред  рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреНрд░реЗрд╕ рдзреНрд╡рдЬ 2453</a> рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдзреНрд╡рдЬ рдХреЗ рд╕рд╛рде рдПрдХ рд▓реЙрдиреНрдЪ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдХреЗрд╡рд▓ рддрдм рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬрдм рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрддрд╛ рд╣реИред <br><br>  рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ 150 рдкрд░, рддрд╛рд▓рд┐рдХрд╛ рдЪрд░ рдореМрдЬреВрдж рд╣реЛрдиреЗ рдкрд░ рдЖрд╕реНрдердЧрд┐рдд рдирд┐рд░реНрдорд╛рдг рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХреНрд╡реЗрд░реА рдпреЛрдЬрдирд╛ рддрдм рддрдХ рдирд╣реАрдВ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ рдЬрдм рддрдХ рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдЪрд░ рдПрдХ рдмрд╛рд░ рдкреЙрдкреБрд▓реЗрдЯреЗрдб рди рд╣реЛ рдЬрд╛рдПред  рд▓рд╛рдЧрдд рдХрд╛ рдЕрдиреБрдорд╛рди рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдЪрд░ рдХреЗ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЖрдЧреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд┐рдирд╛ред  рдпрд╣ рд╕рдЯреАрдХ рд▓рд╛рдЧрдд рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░рдВрддрд░ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рдмреАрдЪ рдПрдХ рд╕рдордЭреМрддрд╛ рд╣реИ, рдФрд░ рдирд┐рд░рдВрддрд░ рд▓рд╛рдЧрдд рдХреЗ рд╕рд╛рде рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреА рдкреВрд░реНрдг рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ 1. рдпрджрд┐ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕реНрдерд┐рд░ рд░рд╣рддреА рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рдЕрдЪреНрдЫрд╛ рд╕рдВрдХреЗрддрдХ рд╣реИ (рдФрд░ рдЕрдЧрд░ рд╕рдВрдЦреНрдпрд╛ 1 рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ рддреЛ рднреА рдмреЗрд╣рддрд░), рд▓реЗрдХрд┐рди рдХрдо рд▓рд╛рднрджрд╛рдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдмрдбрд╝реА рднрд┐рдиреНрдирддрд╛ рд╣реИред <br><br>  рдореИрдВрдиреЗ рдПрдХ рд╣рд╛рд▓рд┐рдпрд╛ рд▓реЗрдЦ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Tabular Variables: Delayed Build in SQL Server рдореЗрдВ</a> рдПрдХ рдЧрд╣рд░рд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛, рдФрд░ рдмреНрд░реЗрдВрдЯ рдУрдЬреЗрд░ рдиреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлрд╛рд╕реНрдЯ рдЯреЗрдмреБрд▓рд░ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ (рдФрд░ рдирдП рдкреИрд░рд╛рдореАрдЯрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╕рдорд╕реНрдпрд╛рдУрдВ)</a> рдореЗрдВ рднреА рдмрд╛рдд рдХреАред <br><br><h4>  рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЛрдб рдореЗрдВ рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрди рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ </h4><br>  SQL рд╕рд░реНрд╡рд░ 2017 рдореЗрдВ рдмреИрдЪ рдореЗрдореЛрд░реА рдПрд▓реЛрдХреЗрд╢рди рдлреАрдбрдмреИрдХ рд╣реИ, рдЬрд┐рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред  рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ, рдХреНрд╡реЗрд░реА рдореЛрдб рд╕реЗ рдЬреБрдбрд╝реЗ рдХрд┐рд╕реА рднреА рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрди рдХреЗ рд▓рд┐рдП рдЬрд┐рд╕рдореЗрдВ рдмреИрдЪ рдореЛрдб рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, SQL рд╕рд░реНрд╡рд░ рдХреНрд╡реЗрд░реА рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдореЗрдореЛрд░реА рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░реЗрдЧрд╛ рдФрд░ рдЕрдиреБрд░реЛрдзрд┐рдд рдореЗрдореЛрд░реА рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░реЗрдЧрд╛ред  рдпрджрд┐ рдЕрдиреБрд░реЛрдзрд┐рдд рдореЗрдореЛрд░реА рдмрд╣реБрдд рдЫреЛрдЯреА рдпрд╛ рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЯреЗрдореНрдкрд░реНрдб рдпрд╛ рдореЗрдореЛрд░реА рдХреА рдмрд░реНрдмрд╛рджреА рд╣реЛ рдЬрд╛рдПрдЧреА, рддреЛ рдЕрдЧрд▓реА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд╡реЗрд░реА рдкреНрд▓рд╛рди рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдореЗрдореЛрд░реА рд╕рдорд╛рдпреЛрдЬрд┐рдд рд╣реЛ рдЬрд╛рдПрдЧреАред  рдпрд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рддреЛ рдЖрд╡рдВрдЯрд┐рдд рдорд╛рддреНрд░рд╛ рдХреЛ рдХрдо рдХрд░реЗрдЧрд╛ рдФрд░ рд╕рдВрдЧрд╛рдорд┐рддрд┐ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдЧрд╛, рдпрд╛ рдЗрд╕реЗ рдмрдврд╝рд╛рдПрдЧрд╛ред <br><br>  рдЕрдм рд╣рдо рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ 150 рдХреЗ рддрд╣рдд рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЛрдб рдореЗрдВ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред рдпрджрд┐ рдХреНрд╡реЗрд░реА рдХреЛ рдбрд┐рд╕реНрдХ рдореЗрдВ рдбреЗрдЯрд╛ рдорд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдмрд╛рдж рдХреЗ рд▓реЙрдиреНрдЪреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдореЗрдореЛрд░реА рдХреЛ рдмрдврд╝рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдпрджрд┐ рдЕрдиреБрд░реЛрдз рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдкрд░ рдЖрдзреА рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рдХреА рдЧрдИ рдереА, рддреЛ рдмрд╛рдж рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рдиреАрдЪреЗ рддрдХ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдмреНрд░реЗрдЯрди рдУрдЬрд░ рдиреЗ рдЕрдкрдиреЗ рд▓реЗрдЦ рдХреЙрдиреНрдбрд┐рд╢рдирд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрди</a> рдореЗрдВ рдЗрд╕реЗ рдФрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рд╣реИред <br><br><h4>  рд▓рд╛рдЗрди-рдмрд╛рдп-рд▓рд╛рдЗрди рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд▓рд┐рдП рдмреИрдЪ рдореЛрдб </h4><br>  SQL рд╕рд░реНрд╡рд░ 2012 рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдирд╛, рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рдХреНрд╡реЗрд░реА рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рдмреИрдЪ рдореЛрдб рдкреНрд░рджрд░реНрд╢рди рд╕реЗ рд▓рд╛рдн рд╣реБрдЖ рд╣реИред  рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдПрдХ рдХреНрд╡реЗрд░реА рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкрдВрдХреНрддрд┐-рд╡рд╛рд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдмрдЬрд╛рдп рдмреИрдЪ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдкреИрдХреЗрдЬреЛрдВ рдореЗрдВ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЛрд░ рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рднреА рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╕рдорд╕рд╛рдордпрд┐рдХ рд╡рд┐рдирд┐рдордп рд╡рд┐рд╡рд░рдгреЛрдВ рд╕реЗ рдмрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкреЙрд▓ рд╡реНрд╣рд╛рдЗрдЯ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">@SQL_Kiwi</a> ) рдиреЗ рдореБрдЭреЗ рдпрд╛рдж рджрд┐рд▓рд╛рдпрд╛ рдХрд┐ рдпрджрд┐ рдЖрдк рдмреИрдЪ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд╕рдВрднрд╡ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрддрдВрдн рднрдВрдбрд╛рд░рдг рдХреЗ рд╕рд╛рде рдПрдХ рдЦрд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдПрдХ рдЕрджреГрд╢реНрдп рд╡рд┐рд╡рд░рдг рджреНрд╡рд╛рд░рд╛ рдкреИрдХреЗрдЯ рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдХреНрд░реИрдХ рдмреИрдЪ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рд╕реА рднреА рд╕реБрдзрд╛рд░ рдХреЛ рдирдХрд╛рд░ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдЯреИрдХ рдПрдХреНрд╕рдЪреЗрдВрдЬ</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╡рд╛рдм рдореЗрдВ рд╣реИ</a> ред <br><br>  рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ 150 рдкрд░, SQL Server 2019 рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдордзреНрдп рдореИрджрд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рдмреИрдЪ рдореЛрдб рдХрд╛ рдЪрдпрди рдХрд░реЗрдЧрд╛, рднрд▓реЗ рд╣реА рдХреЛрдИ рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рди рд╣реЛред  рдЖрдк рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд┐рд░реНрдл рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рдФрд░ рд╣реИрдЯ рд╣реА рдХреНрдпреЛрдВ?  рдпрд╛ рдКрдкрд░ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдмреИрд╕рд╛рдЦреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВ?  рдкрдВрдХреНрддрд┐ рднрдВрдбрд╛рд░рдг рдХреЗ рд╕рд╛рде рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рднреА рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдмрдврд╝рд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рд╕реНрддрдВрдн рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛, рдХрдИ рдХрд╛рд░рдгреЛрдВ рд╕реЗ, рд╣рдореЗрд╢рд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рд╕реАрдорд╛рдПрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЯреНрд░рд┐рдЧрд░), рдЕрддреНрдпрдзрд┐рдХ рд▓реЛрдб рдХрд┐рдП рдЧрдП рдЕрдкрдбреЗрдЯ рдпрд╛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рджреМрд░рд╛рди рдУрд╡рд░рд╣реЗрдб, рдФрд░ рддреГрддреАрдп-рдкрдХреНрд╖ рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рд╕реЗ рд╕рдорд░реНрдерди рдХреА рдХрдореА рд╢рд╛рдорд┐рд▓ рд╣реИред  рдФрд░ рдЙрд╕ рдмреИрд╕рд╛рдЦреА рд╕реЗ рдХреБрдЫ рднреА рдЕрдЪреНрдЫрд╛ рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреАред <br>  рдореИрдВрдиреЗ 10 рдорд┐рд▓рд┐рдпрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдФрд░ рдПрдХ рдкреВрд░реНрдгрд╛рдВрдХ рд╕реНрддрдВрдн рдкрд░ рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдИ рдФрд░ рдЗрд╕ рдХреНрд╡реЗрд░реА рдХреЛ рдЪрд▓рд╛рдпрд╛: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> sa5, sa2, <span class="hljs-keyword"><span class="hljs-keyword">SUM</span></span>(i1), <span class="hljs-keyword"><span class="hljs-keyword">SUM</span></span>(i2), <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dbo.FactTable <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> i1 &gt; <span class="hljs-number"><span class="hljs-number">100000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> sa5, sa2 <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> sa5, sa2;</code> </pre> <br>  рдпреЛрдЬрдирд╛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕рдВрдХреБрд▓ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдЦреЛрдЬ рдФрд░ рд╕рдВрдЧрд╛рдорд┐рддрд┐ рдХреЛ рджрд┐рдЦрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╕реНрддрдВрдн рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╢рдмреНрдж рдирд╣реАрдВ (рдЬреИрд╕рд╛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЗрдВрдЯреНрд░реАрдСрди рдкреНрд▓рд╛рди</a> рджрд┐рдЦрд╛рддрд╛ рд╣реИ): <br><br><img src="https://habrastorage.org/webt/se/cp/6u/secp6uhnmrnslv_estaiqavexbm.png"><br><br>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдереЛрдбрд╝рд╛ рдЧрд╣рд░рд╛ рдЦреБрджрд╛рдИ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд▓рдЧрднрдЧ рд╕рднреА рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЛ рдмреИрдЪ рдореЛрдб рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЫрдВрдЯрд╛рдИ рдФрд░ рд╕реНрдХреЗрд▓рд░ рдЧрдгрдирд╛ рднреА: <br><br><img src="https://habrastorage.org/webt/0t/uu/lf/0tuulfjwod55k5fufwksdyvauae.png"><br><br>  рдЖрдк рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдмрджрд▓рдХрд░ рдпрд╛ рдХреНрд╡реЗрд░реА рдореЗрдВ DISALLOW_BATCH_MODE рдкреНрд░реЙрдореНрдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдо рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ рдкрд░ рд░рд╣рдХрд░ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> тАж <span class="hljs-keyword"><span class="hljs-keyword">OPTION</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> HINT (<span class="hljs-string"><span class="hljs-string">'DISALLOW_BATCH_MODE'</span></span>));</code> </pre> <br>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдПрдХреНрд╕рдЪреЗрдВрдЬ рдСрдкрд░реЗрдЯрд░ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рд╕рднреА рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЛ рд▓рд╛рдЗрди-рдмрд╛рдп-рд▓рд╛рдЗрди рдореЛрдб рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХреНрд╡реЗрд░реА рдирд┐рд╖реНрдкрд╛рджрди рдХрд╛ рд╕рдордп рд▓рдЧрднрдЧ рддреАрди рдЧреБрдирд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/0n/v9/k9/0nv9k9ihqq1_jprzfth_o3wwrqs.png"><br><br>  рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕реНрддрд░ рддрдХ, рдЖрдк рдЗрд╕реЗ рдЖрд░реЗрдЦ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпреЛрдЬрдирд╛ рдХреЗ рд╡рд┐рд╡рд░рдг рдЯреНрд░реА рдореЗрдВ рдЖрдк рдПрдХ рдЪрдпрди рд╕реНрдерд┐рддрд┐ рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреЛ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЫрдВрдЯрд╛рдИ рд╣реЛрдиреЗ рддрдХ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде рд╣реИ: <br><br><img src="https://habrastorage.org/webt/ek/p6/6c/ekp66cg3v8b1nfezgsyspmxgkbc.png"><br><br>  рдмреИрдЪ рдореЛрдб рдХрд╛ рд╡рд┐рдХрд▓реНрдк рд╣рдореЗрд╢рд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рдХрджрдо рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ - рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рд╡рд╛рд▓реЗ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдЕрдиреБрдорд╛рдиреА рд▓рд╛рдЗрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд░ рдФрд░ рдмреИрдЪ рдореЛрдб рдХреЗ рдЕрдкреЗрдХреНрд╖рд┐рдд рд▓рд╛рднреЛрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИред <br><br><h4>  <font color="#004d71">APPROX_COUNT_DISTINCT</font> </h4><br>  рдпрд╣ рдирдпрд╛ рд╕рдореБрдЪреНрдЪрдп рдлрд╝рдВрдХреНрд╢рди рдбреЗрдЯрд╛ рд╡реЗрдпрд░рд╣рд╛рдЙрд╕рд┐рдВрдЧ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реИ рдФрд░ COUNT (DISTINCT ()) рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдорд╛рддреНрд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рдВрдЧрд╛ рдЫрдБрдЯрд╛рдИ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдирдпрд╛ рдлрд╝рдВрдХреНрд╢рди рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕рдЯреАрдХ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдБрдХрдбрд╝реЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рддреНрд░реБрдЯрд┐ рд╕рдЯреАрдХ рд░рд╛рд╢рд┐ рдХреЗ 2% рдХреЗ рднреАрддрд░ рд╣реИ, рдФрд░ 97% рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЬреЛ рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИрдВ, рдпреЗ рд╕рдВрдХреЗрддрдХ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдорд╛рди рд╣реИрдВ рдпрд╛ рддреНрд╡рд░рд┐рдд рдЕрдиреБрдорд╛рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рдореЗрд░реЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░, рдореИрдВрдиреЗ рдкреВрд░реНрдгрд╛рдВрдХ рд╕реНрддрдВрднреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдИ рдЬрд┐рд╕рдореЗрдВ 100 рд╕реЗ 100,000 рдХреА рд╕реАрдорд╛ рдореЗрдВ рдЕрджреНрд╡рд┐рддреАрдп рдорд╛рди рдФрд░ 100 рд╕реЗ 100,000 рдХреА рд╕реАрдорд╛ рдореЗрдВ рдЕрджреНрд╡рд┐рддреАрдп рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рдкрдВрдХреНрддрд┐ рдХреЙрд▓рдо рдереЗред рдЗрд╕рдореЗрдВ рдкрд╣рд▓реЗ рдкреНрд░рд╛рдердорд┐рдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреБрдВрдЬреА рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдХреЛрдИ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдирд╣реАрдВ рдереАред рдкреВрд░реНрдгрд╛рдВрдХ рд╕реНрддрдВрднред  рдЗрди рд╕реНрддрдВрднреЛрдВ рдкрд░ COUNT (DISTINCT ()) рдФрд░ APPROX_COUNT_DISTINCT () рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╕реЗ рдЖрдк рдереЛрдбрд╝реА рд╡рд┐рд╕рдВрдЧрддрд┐рдпрд╛рдВ (рд▓реЗрдХрд┐рди рд╣рдореЗрд╢рд╛ 2% рдХреЗ рднреАрддрд░) рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/ou/a5/1x/oua51xwiabvnyltf75s-pjtqdn0.png"><br><br>  рдпрджрд┐ рдореЗрдореЛрд░реА рд╕реАрдорд╛рдПрдВ рд╣реИрдВ, рддреЛ рдпрд╣ рдмрд╣реБрдд рдмрдбрд╝рд╛ рд╣реИ, рдЬреЛ рд╣рдо рдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рдХреНрд╡реЗрд░реА рдпреЛрдЬрдирд╛рдУрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рд╣реИрд╢ рдореИрдЪ рдСрдкрд░реЗрдЯрд░ рджреНрд╡рд╛рд░рд╛ рдореЗрдореЛрд░реА рдХреА рдЦрдкрдд рдореЗрдВ рднрд╛рд░реА рдЕрдВрддрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/xk/tl/sn/xktlsnekpwpu--xaebgb_ndkcn8.png"><br><br>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдореГрддрд┐-рдмрджреНрдз рд╣реИрдВ, рддреЛ рдЖрдк рдЖрдорддреМрд░ рдкрд░ рдХреЗрд╡рд▓ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рджрд░реНрд╢рди рд╕реБрдзрд╛рд░ рд╣реА рджреЗрдЦреЗрдВрдЧреЗред  рдореЗрд░реЗ рд╕рд┐рд╕реНрдЯрдо рдкрд░, рдирдИ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдЙрдЪреНрдЪ CPU рдЙрдкрдпреЛрдЧ рдХреЗ рдХрд╛рд░рдг рдирд┐рд╖реНрдкрд╛рджрди рдереЛрдбрд╝реА рджреЗрд░ рддрдХ рдЪрд▓рд╛: <br><br><img src="https://habrastorage.org/webt/d9/nl/n8/d9nln84mrqh-kfmumdca_u8tt8u.png"><br><br>  рдЕрдЧрд░ рдореИрдВ рдмрдбрд╝реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ, SQL рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реНрдореГрддрд┐, рдЙрдЪреНрдЪ рд╕рдВрдЧрд╛рдорд┐рддрд┐, рдпрд╛ рдКрдкрд░ рдХреЗ рдХреБрдЫ рд╕рдВрдпреЛрдЬрди рдХреЗ рд▓рд┐рдП рд╢рд╛рдпрдж рдЕрдВрддрд░ рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛрдЧрд╛ред <br><br><h4>  <font color="#004d71">рдПрдХ рдХреНрд╡реЗрд░реА рдХреЗ рднреАрддрд░ рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрд┐рдкреНрд╕</font> </h4><br>  рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдХреНрд╡реЗрд░реА рд╣реИ рдЬреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ рдХреЗ рддрд╣рдд рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░рддреА рд╣реИ, рдЬреЛ рд╡рд░реНрддрдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЕрд▓рдЧ рд╣реИ?  рддрддреНрд╡реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рддрд╛ рдХреЗ рдЫрд╣ рд╡рд┐рднрд┐рдиреНрди рд╕реНрддрд░реЛрдВ рдФрд░ рдкрд╛рдВрдЪ рд╡рд┐рднрд┐рдиреНрди рдореЙрдбрд▓реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдирдП рдХреНрд╡реЗрд░реА рд╕рдВрдХреЗрдд рдХреЗ рд▓рд┐рдП рдЕрдм рдпрд╣ рд╕рдВрднрд╡ рд╣реИред  рдЙрдкрд▓рдмреНрдз рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИрдВ, рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕, рдФрд░ рдПрдХ рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░ рдореЙрдбрд▓ рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рдорд╛рдорд▓реЗ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рд░реЗрдЯрд┐рдВрдЧ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕рд┐рд╕реНрдЯрдо рджреГрд╢реНрдп рдХреЗ рд▓рд┐рдП: <br><br><img src="https://habrastorage.org/webt/gn/0n/g1/gn0ng1ar9z_cxpi7mt8_kaiqkmu.png"><br><br>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ: рдЯреНрд░реЗрд╕ рдЭрдВрдбреЗ рдХреЛ рдпрд╛рдж рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╛ рдЖрд╢реНрдЪрд░реНрдп рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдХреЛ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХреНрд╡реЗрд░реА рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдХреЗ рд▓рд┐рдП TF 4199 рдкреИрдЪ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╛ рдЗрд╕реЗ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рд░реНрд╡рд┐рд╕ рдкреИрдХ рджреНрд╡рд╛рд░рд╛ рд░рджреНрдж рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрди рдЕрддрд┐рд░рд┐рдХреНрдд рдпреБрдХреНрддрд┐рдпреЛрдВ рдХреЛ рд╣рд╛рд▓ рд╣реА рдореЗрдВ SQL Server 2017 рдХреЗ рд▓рд┐рдП рд╕рдВрдЪрдпреА рдЕрджреНрдпрддрди # 10 рдореЗрдВ рднреА рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ (рд╡рд┐рд╡рд░рдг рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдП рдкреЗрдбреНрд░реЛ рд▓реЛрдкреЗрдЬрд╝ рдХрд╛ рдмреНрд▓реЙрдЧ</a> рджреЗрдЦреЗрдВ)ред  рдЖрдк рдирд┐рдореНрди рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╕рднреА рдЙрдкрд▓рдмреНрдз рд╕рдВрдХреЗрдд рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> sys.dm_exec_valid_use_hints;</code> </pre> <br>  рд▓реЗрдХрд┐рди рдпрд╣ рдордд рднреВрд▓реЛ рдХрд┐ рд╕рдВрдХреЗрдд рдПрдХ рдЕрд╕рд╛рдзрд╛рд░рдг рдЙрдкрд╛рдп рд╣реИрдВ, рд╡реЗ рдЕрдХреНрд╕рд░ рдПрдХ рдХрдард┐рди рдкрд░рд┐рд╕реНрдерд┐рддрд┐ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд▓рдВрдмреЗ рд╕рдордп рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдпреЛрдЬрдирд╛ рдирд╣реАрдВ рдмрдирд╛рдИ рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП, рдХреНрдпреЛрдВрдХрд┐ рдмрд╛рдж рдХреЗ рдЕрдкрдбреЗрдЯ рдХреЗ рд╕рд╛рде рдЙрдирдХрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИред <br><br><h2>  <font color="#c30">рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХрд░рдирд╛</font> </h2><br><h4>  <font color="#004d71">рд╕рд░рд▓реАрдХреГрдд рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ</font> </h4><br>  рдЗрд╕ рд╕реБрдзрд╛рд░ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛рдж рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдмрд┐рдВрджреБрдУрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  SQL рд╕рд░реНрд╡рд░ 2014 рдиреЗ DMV sysinos_exec_query_profiles рджреГрд╢реНрдп рдкреЗрд╢ рдХрд┐рдпрд╛, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдХреНрд╡реЗрд░реА рдХреЗ рд╕рднреА рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдиреИрджрд╛рдирд┐рдХ тАЛтАЛрдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдПрдХрддреНрд░рд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдХреНрд╡реЗрд░реА рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рддреА рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдСрдкрд░реЗрдЯрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдореБрдЦреНрдп рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдХреНрдпреЛрдВ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВред  рдХреЛрдИ рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬреЛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдЕрдиреБрд░реЛрдз рдХреЛ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд╡рд╣ рдХрд┐рд╕реА рднреА рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП рдпрд╣ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ STATISTICS XML рдпрд╛ STATISTICS PROFILE рдХрдерди рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдпрд╛ рд╕рднреА рд╕рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП, рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд query_post_execution_showplan рдИрд╡реЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рд╛рд▓рд╛рдБрдХрд┐ рдпрд╣ рдИрд╡реЗрдВрдЯ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рд╕рдордЧреНрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдкреНрд░рдмрдВрдзрди рд╕реНрдЯреВрдбрд┐рдпреЛ 2016 рдореЗрдВ, рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ DMV рд╕реЗ рдПрдХрддреНрд░рд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдХреНрд╡реЗрд░реА рдпреЛрдЬрдирд╛ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реА рдбреЗрдЯрд╛ рдзрд╛рд░рд╛рдУрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП рдФрд░ рднреА рдЕрдзрд┐рдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдмрдирд╛рддрд╛ рд╣реИред  рдкреНрд▓рд╛рди рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдФрд░ рдкреНрд▓реЗрдмреИрдХ рдореЛрдб рдореЗрдВ, рдХреНрд╡реЗрд░реА рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br>  SQL Server 2016 рд╕рд░реНрд╡рд┐рд╕ рдкреИрдХ 1 (SP1) рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдХреЗ, рдЖрдк рдЯреНрд░реЗрд╕ рдлрд╝реНрд▓реИрдЧ 7412 рдпрд╛ рдЙрдиреНрдирдд query_thread_profile рдкреНрд░реЙрдкрд░реНрдЯреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рд╕рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдПрдХрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╣рд▓реНрдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рднреА рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рддреНрд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рднреА рдЪреАрдЬрд╝ рдХреА рддреБрд░рдВрдд рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдЗрд╕рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ (рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдРрд╕реА рдЪреАрдЬреЗрдВ рдЬреЛ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдкреНрд░рддрд┐рдХреВрд▓ рд░реВрдк рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИрдВ)ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреЗрдбреНрд░реЛ рд▓реЛрдкреЗрдЬ</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреНрд▓реЙрдЧ</a> рдкрд░ рдпрд╣ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред <br><br>  SQL рд╕рд░реНрд╡рд░ 2019 рдореЗрдВ, рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рд╕рддреНрд░ рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдШрдЯрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдиреЗ рдпрд╛ рдХрд┐рд╕реА рднреА рдХреНрд╡реЗрд░реА рдореЗрдВ рдХрд┐рд╕реА рднреА рдЯреНрд░реЗрд╕ рдзреНрд╡рдЬ рдФрд░ рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдХрдерди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╕рднреА рд╕рдорд╡рд░реНрддреА рд╕рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рд╕рдордп DMV рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рджреЗрдЦреЗрдВред  рд▓реЗрдХрд┐рди LIGHTWEIGHT_QUERY_PROFILING рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рдореЛрдб рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рд╕рд┐рдВрдЯреИрдХреНрд╕ CTP 2.0 рдореЗрдВ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рднрд╡рд┐рд╖реНрдп рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рддрдп рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><h4>  <font color="#004d71">рдХреНрд▓реЛрди рдХрд┐рдП рдЧрдП рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рдЖрдБрдХрдбрд╝реЗ рдЕрдм рдХреНрд▓реЛрди рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ</font> </h4><br>  SQL рд╕рд░реНрд╡рд░ рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ, рдЬрдм рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдХреНрд▓реЛрдирд┐рдВрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рд╕реЗ рдХреЗрд╡рд▓ рдореВрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдЖрдБрдХрдбрд╝реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд╛рдж рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдХрд┐рдП рдЧрдП рдЕрдкрдбреЗрдЯ рдХреЛ рдЫреЛрдбрд╝рдХрд░ред  рдпрджрд┐ рдЖрдк рдкреНрд░рд╢реНрдиреЛрдВ рдФрд░ рдЕрдиреНрдп рдкреНрд░рджрд░реНрд╢рди рдкрд░реАрдХреНрд╖рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд▓реЛрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдмрд┐рдЬрд▓реА рд░реЗрдЯрд┐рдВрдЧ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВ, рддреЛ рдпреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкрд░реАрдХреНрд╖рд┐рдд рд╕реЗрд╡рд╛рдиреА рдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рдкреНрд░рдХрд╛рд╢рди рдореЗрдВ</a> рд╕реАрдорд╛рдУрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдФрд░ рдПрдХ рдЕрд╕реНрдерд╛рдпреА рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ - рдХреНрд▓реЛрди рдмрдирд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдЬреЛ DBCC SHOW_STATISTICS рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреА рд╣реИ ... рдкреНрд░рддреНрдпреЗрдХ рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП STATS_STREAM рдХреЗ рд╕рд╛рдеред  рдпрд╣ рдорд╣рдВрдЧрд╛ рд╣реИ рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреВрд▓рдирд╛ рдЖрд╕рд╛рди рд╣реИред <br><br>  SQL рд╕рд░реНрд╡рд░ 2019 рдореЗрдВ, рдпреЗ рдЕрдкрдбреЗрдЯ рдХрд┐рдП рдЧрдП рдЖрдБрдХрдбрд╝реЗ рдХреНрд▓реЛрди рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реЛрдВрдЧреЗ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд╡рд┐рднрд┐рдиреНрди рдХреНрд╡реЗрд░реА рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рднреА рдЖрдБрдХрдбрд╝реЛрдВ рдХреЗ рд▓рд┐рдП рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ STATS_STREAM рдХреЛ рдЪрд▓рд╛рдП рдмрд┐рдирд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЖрдВрдХрдбрд╝реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЙрджреНрджреЗрд╢реНрдп рдпреЛрдЬрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h4>  <font color="#004d71">рд╕реНрддрдВрдн рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕рдВрдкреАрдбрд╝рди рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди</font> </h4><br>  рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ, sys.sp_estimate_data_compression_savings рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдВрдЪ рд╣реИ: <br><br><pre> <code class="sql hljs">if (@data_compression not in ('NONE', 'ROW', 'PAGE'))</code> </pre> <br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдЖрдкрдХреЛ рдПрдХ рдкрдВрдХреНрддрд┐ рдпрд╛ рдкреГрд╖реНрда рдХреЗ рд╕рдВрдкреАрдбрд╝рди рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдпрд╛ рд╡рд░реНрддрдорд╛рди рд╕рдВрдкреАрдбрд╝рди рдХреЛ рд╣рдЯрд╛рдиреЗ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВ)ред  SQL Server 2019 рдореЗрдВ, рдпрд╣ рдЪреЗрдХ рдЕрдм рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="sql hljs">if (@data_compression not in ('NONE', 'ROW', 'PAGE', 'COLUMNSTORE', 'COLUMNSTORE_ARCHIVE'))</code> </pre> <br>  рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рдЦрдмрд░ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЖрдкрдХреЛ рдХрд┐рд╕реА рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдПрдХ рд╕реНрддрдВрдн рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдпрд╛ рддрд╛рд▓рд┐рдХрд╛ рдпрд╛ рд╡рд┐рднрд╛рдЬрди рдХреЛ рдФрд░ рднреА рдЕрдзрд┐рдХ рд╕рдВрдХреБрдЪрд┐рдд рд╕реНрддрдВрдн рднрдВрдбрд╛рд░рдг рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдмрд┐рдирд╛ рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ред  рдореЗрд░реЗ рдкрд╛рд╕ 10 рдорд┐рд▓рд┐рдпрди рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдереА, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рдкреНрд░рддреНрдпреЗрдХ рдкрд╛рдВрдЪ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛: <br><br><pre> <code class="sql hljs">EXEC sys.sp_estimate_data_compression_savings @schema_name = N'dbo', @object_name = N'FactTable', @index_id = NULL, @partition_number = NULL, @data_compression = N'NONE'; <span class="hljs-comment"><span class="hljs-comment">-- repeat for ROW, PAGE, COLUMNSTORE, COLUMNSTORE_ARCHIVE</span></span></code> </pre> <br>  рдкрд░рд┐рдгрд╛рдо: <br><br><img src="https://habrastorage.org/webt/d6/xu/uy/d6xuuythndwrwogn22ljt83w8y4.png"><br><br>  рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрдкреАрдбрд╝рди рдХреЗ рд╕рд╛рде, рд╕рдЯреАрдХрддрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЙрдкрд▓рдмреНрдз рдкрдВрдХреНрддрд┐рдпреЛрдВ рдФрд░ рдмрд╛рдХреА рдбреЗрдЯрд╛ рдХреА рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреНрд╖рдорддрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рддрд░реАрдХрд╛ рд╣реИ рдЬреЛ рдмрд╣реБрдд рдХрдард┐рдирд╛рдИ рдХреЗ рдмрд┐рдирд╛ рдЕрдиреБрдорд╛рдирд┐рдд рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред <br><br><h4>  <font color="#004d71">рдкреГрд╖реНрда рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирдИ рд╕реБрд╡рд┐рдзрд╛</font> </h4><br>  рдПрдХ рд▓рдВрдмреЗ рд╕рдордп рдХреЗ рд▓рд┐рдП, DBCC рдкреГрд╖реНрда рдФрд░ DBCC IND рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреБрднрд╛рдЧ, рд╕реВрдЪрдХрд╛рдВрдХ, рдпрд╛ рддрд╛рд▓рд┐рдХрд╛ рд╡рд╛рд▓реЗ рдкреГрд╖реНрдареЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рд▓реЗрдХрд┐рди рд╡реЗ рдЕрдирд┐рд░реНрджрд┐рд╖реНрдЯ рдФрд░ рдЕрд╕рдорд░реНрдерд┐рдд рд╣реИрдВ, рдФрд░ рдпрд╣ рдХрдИ рдЕрдиреБрдХреНрд░рдорд┐рдд рдпрд╛ рдкреГрд╖реНрдареЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдердХрд╛рдК рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдмрд╛рдж рдореЗрдВ, рдПрдХ рдЧрддрд┐рд╢реАрд▓ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдлрд╝рдВрдХреНрд╢рди (DMF) sysinos_db_database_page_allocations рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛, рдЬреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рд╕рднреА рдкреГрд╖реНрдареЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ рд╕реЗрдЯ рджреЗрддрд╛ рд╣реИред  рдЕрднреА рднреА рдЕрдирд┐рд░реНрджрд┐рд╖реНрдЯ рдФрд░ рдЦрд╛рдорд┐рдпрд╛рдВ рд╣реИрдВ рдЬреЛ рдмрдбрд╝реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдкрд░ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдмрди рд╕рдХрддреА рд╣реИрдВ: рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХ рдкреГрд╖реНрда рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдкреВрд░реА рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдкрдврд╝рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рдХрд╛рдлреА рдорд╣рдВрдЧрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  SQL Server 2019 рдореЗрдВ, рдПрдХ рдФрд░ DMF рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рд╣реИ - sysinos_db_page_infoред  рдпрд╣ рдореВрд▓ рд░реВрдк рд╕реЗ DMF рд╡рд┐рддрд░рдг рдХреЗ рдУрд╡рд░рд╣реЗрдб рдХреЗ рдмрд┐рдирд╛, рд╕рднреА рдкреГрд╖реНрда рдЬрд╛рдирдХрд╛рд░реА рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡рд░реНрддрдорд╛рди рдмрд┐рд▓реНрдб рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрд╕ рдкреГрд╖реНрда рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рджреЗрдЦ рд░рд╣реЗ рд╣реИрдВред  рд╢рд╛рдпрдж рдпрд╣ рдХрджрдо рдЬрд╛рдирдмреВрдЭрдХрд░ рдЙрдард╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐  рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рдЗрдВрдбреЗрдХреНрд╕ рдпрд╛ рдЯреЗрдмрд▓ рдХреЗ рд╕рднреА рдкреЗрдЬреЛрдВ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЕрднреА рднреА рдбреАрдПрдордПрдл рд╡рд┐рддрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЗрд╕ рдкреНрд░рд╢реНрди рдХрд╛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрди рдХрд░реВрдВрдЧрд╛ред <br><br><h2>  <font color="#c30">рд╕реБрд░рдХреНрд╖рд╛</font> </h2><br><h4>  <font color="#004d71">рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг (рдПрдиреНрдХреНрд▓реЗрд╡) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕реНрдерд╛рдпреА рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди</font> </h4><br>  рдлрд┐рд▓рд╣рд╛рд▓, рд╕реНрдерд╛рдпреА рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдЯреНрд░рд╛рдВрд╕рдорд┐рд╢рди рдХреЗ рджреМрд░рд╛рди рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЫреЛрд░ рдкрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди / рдбрд┐рдХреНрд░рд┐рдкреНрд╢рди рджреНрд╡рд╛рд░рд╛ рдореЗрдореЛрд░реА рдХреЗ рджреМрд░рд╛рди рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рдЕрдХреНрд╕рд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЧрдВрднреАрд░ рд╕реАрдорд╛рдУрдВ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдЧрдгрдирд╛ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрдерддрд╛, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ рд╕реАрдорд╛ рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдкреВрд░реНрдг рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг (рдПрдиреНрдХреНрд▓реЗрд╡) рдореЗрдореЛрд░реА рдХрд╛ рдПрдХ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХреНрд╖реЗрддреНрд░ рд╣реИ рдЬрд╣рд╛рдВ рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдВрдЧрдгрдирд╛ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рдХреЛ рдкреНрд░рддреНрдпрд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рд╡рд┐рдВрдбреЛрдЬрд╝ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди-рдЖрдзрд╛рд░рд┐рдд рд╕реБрд░рдХреНрд╖рд╛</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ) - рдбреЗрдЯрд╛ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░рд╣рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдпрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдХреЗрд╡рд▓ SSMS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдердорд┐рдХ рдХреБрдВрдЬреА рдореЗрдВ ENCLAVE_COMPUTATIONS рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, "рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдЧрдгрдирд╛ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВ" рдмреЙрдХреНрд╕ рдЪреЗрдХ рдХрд░рдХреЗ: <br><br><img src="https://habrastorage.org/webt/do/ia/tp/doiatpb0ne_kpxgb5pbdep8ua5m.png"><br><br>  рдЕрдм рдЖрдк рдкреБрд░рд╛рдиреЗ рддрд░реАрдХреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ (рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рдЬрд╝рд╛рд░реНрдб, рд╕реЗрдЯ- SqlColumnEncyption cmdlet рдпрд╛ рдЖрдкрдХреЗ рдЖрд╡реЗрджрди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, рд▓рдЧрднрдЧ рддреБрд░рдВрдд рдбреЗрдЯрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкреВрд░реЗ рд╕реЗрдЯ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВ, рдФрд░ рд╡рд╛рдкрд╕ рднреЗрдЬреЗрдВ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> dbo.Patients <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COLUMN</span></span> SSN <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>(<span class="hljs-number"><span class="hljs-number">9</span></span>) <span class="hljs-comment"><span class="hljs-comment">-- currently not encrypted! ENCRYPTED WITH ( COLUMN_ENCRYPTION_KEY = ColumnEncryptionKeyName, ENCRYPTION_TYPE = Randomized, ALGORITHM = 'AEAD_AES_256_CBC_HMAC_SHA_256' ) NOT NULL;</span></span></code> </pre> <br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХрдИ рд╕рдВрдЧрдардиреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╣ рд╕реБрдзрд╛рд░ рдореБрдЦреНрдп рд╕рдорд╛рдЪрд╛рд░ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рд╡рд░реНрддрдорд╛рди рд╕реАрдЯреАрдкреА рдореЗрдВ рдЗрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдЙрдкрдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдореЗрдВ рдЕрднреА рднреА рд╕реБрдзрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рдПред <br><br><h4>  <font color="#004d71">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рдмрдВрдзрдХ рдореЗрдВ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рдмрдВрдзрди</font> </h4><br>  рдПрд╕рдПрд╕рдПрд▓ рдФрд░ рдЯреАрдПрд▓рдПрд╕ рдкреНрд░рдорд╛рдгрдкрддреНрд░реЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рд╣рдореЗрд╢рд╛ рдПрдХ рджрд░реНрдж рд░рд╣рд╛ рд╣реИ, рдФрд░ рдХрдИ рд▓реЛрдЧ рдЕрдкрдиреЗ рдЙрджреНрдпрдо рдкреНрд░рдорд╛рдгрдкрддреНрд░реЛрдВ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдФрд░ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдердХрд╛рдК рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рд╣реБрдП рд╣реИрдВред  SQL Server 2019 рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореИрдиреЗрдЬрд░ рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рдЙрджрд╛рд╣рд░рдг рдХреЗ рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рджреЗрдЦрдиреЗ рдФрд░ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛, рдЬрд▓реНрдж рд╣реА рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдвреВрдВрдвреЗрдЧрд╛, рдФрд░ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╕рдореВрд╣ рдореЗрдВ рд╕рднреА рдкреНрд░рддрд┐рдХреГрддрд┐ рдпрд╛ рд╡рд┐рдлрд▓рддрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╕рднреА рдиреЛрдбреНрд╕ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рдореИрдВрдиреЗ рдЗрди рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХреА рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдкреНрд░рдмрдВрдзрди SQL рд╕рд░реНрд╡рд░ 2019 рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рдмрдВрдзрдХ рд╕реЗ рдЖрддрд╛ рд╣реИ, рддреЛ рдЙрдиреНрд╣реЗрдВ SQL рд╕рд░реНрд╡рд░ рдХреЗ рдкрд┐рдЫрд▓реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h4>  <font color="#004d71">рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдбреЗрдЯрд╛ рд╡рд░реНрдЧреАрдХрд░рдг рдФрд░ рд▓реЗрдЦрд╛ рдкрд░реАрдХреНрд╖рд╛</font> </h4><br>  SQL рд╕рд░реНрд╡рд░ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЯреАрдо рдиреЗ SSMS 17.5 рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рд╡рд░реНрдЧреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛ рдЬреЛрдбрд╝рд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рдХреЙрд▓рдо рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ рдпрд╛ рд╡рд┐рднрд┐рдиреНрди рдорд╛рдирдХреЛрдВ (HIPAA, SOX, PCI, рдФрд░ GDPR, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ) рдХрд╛ рдЦрдВрдбрди рдХрд░ рд╕рдХрддреА рд╣реИред  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╕реНрддрдВрдн рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдХрд╛рд░рдг рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рд╕реВрдЪреА рд╕реЗ рдЗрди рд╕реНрддрдВрднреЛрдВ рдХреЛ рд╣рдЯрд╛рдХрд░ рдпрд╛ рддреЛ рдЕрдкрдирд╛ рд╡рд╛рдХреНрдп рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рд╡рд░реНрдЧреАрдХрд░рдг рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдиреНрдирдд рдЧреБрдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ;  рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд SSMS рд░рд┐рдкреЛрд░реНрдЯ рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИред  рд░рд┐рдкреЛрд░реНрдЯ рдХреЗ рдмрд╛рд╣рд░, рдпреЗ рдЧреБрдг рдЗрддрдиреЗ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИрдВред <br><br>  SQL рд╕рд░реНрд╡рд░ 2019 рдиреЗ рдЗрд╕ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдмрдпрд╛рди рдкреЗрд╢ рдХрд┐рдпрд╛, рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА Azure SQL рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдФрд░ рдЗрд╕реЗ ADD SENSITIVITY CLASSIFICATION рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЖрдкрдХреЛ SSMS рдореЗрдВ рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЗ рд╕рдорд╛рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдЕрдм рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╕рдВрдкрддреНрддрд┐ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЗрд╕ рдбреЗрдЯрд╛ рддрдХ рдХрд┐рд╕реА рднреА рдПрдХреНрд╕реЗрд╕ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдСрдбрд┐рдЯ рдореЗрдВ рдПрдХ рдирдП XML рдХреЙрд▓рдо рдбреЗрдЯрд╛_рд╕реЗрдВрд╕реЗрдЯрд┐рд╡рд┐рдЯреА_рдЗрдирдлреЙрд░реНрдореЗрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬреЛ рдСрдбрд┐рдЯ рдХреЗ рджреМрд░рд╛рди рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реБрдИ рдереАред <br><br>  рдПрдХ рддреНрд╡рд░рд┐рдд рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ, рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдмрд╛рд╣рд░реА рдареЗрдХреЗрджрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рд╣реИ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> dbo.Contractors ( FirstName sysname, LastName sysname, SSN <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>(<span class="hljs-number"><span class="hljs-number">9</span></span>), HourlyRate <span class="hljs-built_in"><span class="hljs-built_in">decimal</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) );</code> </pre> <br>  рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рднреА рдЪрд╛рд░ рд╕реНрддрдВрдн рдпрд╛ рддреЛ рд░рд┐рд╕рд╛рд╡ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдХрдордЬреЛрд░ рд╣реИрдВ, рдпрд╛ рдХреЗрд╡рд▓ рд▓реЛрдЧреЛрдВ рдХреЗ рд╕реАрдорд┐рдд рджрд╛рдпрд░реЗ рдореЗрдВ рд╣реА рд╕реБрд▓рдн рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣рд╛рдВ рдЖрдк рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрдо рд╕реЗ рдХрдо рдЖрдкрдХреЛ рдЙрди рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рдЗрди рд╕реНрддрдВрднреЛрдВ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рд╕реЗ рд╡рд░реНрдЧреАрдХреГрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs">ADD SENSITIVITY CLASSIFICATION TO dbo.Contractors.FirstName, dbo.Contractors.LastName <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (LABEL = <span class="hljs-string"><span class="hljs-string">'Confidential ├втВмтАЬ GDPR'</span></span>, INFORMATION_TYPE = <span class="hljs-string"><span class="hljs-string">'Personal Info'</span></span>); ADD SENSITIVITY CLASSIFICATION TO dbo.Contractors.SSN <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (LABEL = <span class="hljs-string"><span class="hljs-string">'Highly Confidential'</span></span>, INFORMATION_TYPE = <span class="hljs-string"><span class="hljs-string">'National ID'</span></span>); ADD SENSITIVITY CLASSIFICATION TO dbo.Contractors.HourlyRate <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (LABEL = <span class="hljs-string"><span class="hljs-string">'Highly Confidential'</span></span>, INFORMATION_TYPE = <span class="hljs-string"><span class="hljs-string">'Financial'</span></span>);</code> </pre> <br>  рдЕрдм, sys.extended_properties рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдЙрдиреНрд╣реЗрдВ sys.sunning_classifications рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/xs/4u/bx/xs4ubxognfau0yxlbl_g8caqujm.png"><br><br>  рдФрд░ рдЕрдЧрд░ рд╣рдо рдЗрд╕ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдСрдбрд┐рдЯ рд╕реИрдВрдкрд▓рд┐рдВрдЧ (рдпрд╛ рдбреАрдПрдордПрд▓) рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХреБрдЫ рднреА рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ;  рд╡рд░реНрдЧреАрдХрд░рдг рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, <code>SELECT *</code> рдСрдбрд┐рдЯ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдХрд░реЗрдЧрд╛ рдПрдХ рдирдП рдХреЙрд▓рдо рдбреЗрдЯрд╛_рд╕реЗрдВрд╕рд┐рдЯрд┐рд╡рд┐рдЯреА рдлрд╛рдЗрд▓ рдореЗрдВ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рд░рд┐рдХреЙрд░реНрдб рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВ: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sensitivity_attributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sensitivity_attribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Confidential - GDPR"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">information_type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Personal Info"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sensitivity_attribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Highly Confidential"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">information_type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"National ID"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sensitivity_attribute</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Highly Confidential"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">information_type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Financial"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sensitivity_attributes</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рдмреЗрд╢рдХ, рдпрд╣ рдорд╛рдирдХреЛрдВ рдХреЗ рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рд╕рднреА рдореБрджреНрджреЛрдВ рдХреЛ рд╣рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд▓рд╛рдн рджреЗ рд╕рдХрддрд╛ рд╣реИред  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрддрдВрднреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛ рдФрд░ AD_ рд╕реЗрдВрд╕реЗрдЯрд┐рд╡рд┐рдЯреА рдХреНрд▓рд╛рд╕ рдХрдорд╛рдВрдб рдореЗрдВ sp_addextendedproperty рдХреЙрд▓ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдирд╛ рдорд╛рдирдХреЛрдВ рдХреЗ рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рдХрд╛рд░реНрдп рдХреЛ рд╕рд░рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдмрд╛рдж рдореЗрдВ, рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ рд▓рд┐рдЦреВрдВрдЧрд╛ред <br><br>  рдЖрдк рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдореЗрдВ рд▓реЗрдмрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг (рдпрд╛ рдЕрдкрдбреЗрдЯ) рдХреЛ рднреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдПрдХ рдЧрддрд┐рд╢реАрд▓ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдЬреЛ рд╕рднреА рдЧреЛрдкрдиреАрдп (рдЬреАрдбреАрдкреАрдЖрд░) рдХреЙрд▓рдо рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ, рд╕рдореВрд╣реЛрдВ рдпрд╛ рд░реЛрд▓реНрд╕рдм рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред  рдореИрдВ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЗрд╕ рдореБрджреНрджреЗ рдкрд░ рдХрд╛рдо рдХрд░реВрдВрдЧрд╛ред <br><br><h2>  <font color="#c30">рдЙрдкрд▓рдмреНрдзрддрд╛</font> </h2><br><h4>  <font color="#004d71">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдЕрдХреНрд╖рдп рд╕реВрдЪрдХрд╛рдВрдХ рдирд┐рд░реНрдорд╛рдг</font> </h4><br>  SQL рд╕рд░реНрд╡рд░ 2017 рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЛ рдирд┐рд▓рдВрдмрд┐рдд рдХрд░рдирд╛ рдФрд░ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЧрдпрд╛, рдЬреЛ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдпрджрд┐ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд╛рдж рдирд┐рд▓рдВрдмрди рдХреЗ рдХреНрд╖рдг рд╕реЗ рдЬрд╛рд░реА рд░рдЦреЗрдВ, рдпрд╛ рдмрд╕ рд╕реЗрд╡рд╛ рдЦрд┐рдбрд╝рдХрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рдХреА рдЦрд╛рдИ рдХреЛ рдкрд╛рдЯ рджреЗрдВред  рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ</a> рдореЗрдВ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреА рдереАред <br><br>  SQL рд╕рд░реНрд╡рд░ 2019 рдореЗрдВ, рдЖрдк рд░реАрдпрд▓-рдЯрд╛рдЗрдо рдЗрдВрдбреЗрдХреНрд╕ рдмрдирд╛рдиреЗ, рд░реЛрдХрдиреЗ рдФрд░ рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╕рд┐рдВрдЯреИрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреЛ рднреА рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдард╣рд░рд╛рд╡ рдХрд╛ рд╕рдордп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реБрдП): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.bar(blat) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ONLINE</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">RESUMABLE</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, MAX_DURATION = <span class="hljs-number"><span class="hljs-number">10</span></span> MINUTES);</code> </pre> <br>  рдпрджрд┐ рдпрд╣ рдХреНрд╡реЗрд░реА рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХрд╛рдо рдХрд░рддреА рд╣реИ, рддреЛ рд╡рд┐рд░рд╛рдо рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЕрдиреНрдп рд╕рддреНрд░ рдореЗрдВ ALTER INDEX рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ (рднрд▓реЗ рд╣реА рд╕реВрдЪрдХрд╛рдВрдХ рдЕрднреА рддрдХ рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.bar PAUSE;</code> </pre> <br>  рд╡рд░реНрддрдорд╛рди рдмрд┐рд▓реНрдб рдореЗрдВ, рдирд╡реАрдиреАрдХрд░рдг рдХреЗ рджреМрд░рд╛рди рд╕рдорд╛рдирддрд╛ рдХреА рдбрд┐рдЧреНрд░реА рдХреЛ рдХрдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣реИред  рдЬрдм рдбреАрдУрдкреА рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.bar <span class="hljs-keyword"><span class="hljs-keyword">RESUME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (MAXDOP = <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs pgsql">Msg <span class="hljs-number"><span class="hljs-number">10666</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Level</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>, State <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">Line</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> Cannot resume <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> build <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> required DOP <span class="hljs-number"><span class="hljs-number">4</span></span> (DOP operation was started <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> available. Please ensure sufficient DOP <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> available <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abort</span></span> existing <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> try again. The <span class="hljs-keyword"><span class="hljs-keyword">statement</span></span> has been terminated.</code> </pre> <br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрджрд┐ рдЖрдк рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдХрдо рд╕реЗ рдХрдо рд╡рд░реНрддрдорд╛рди рдмрд┐рд▓реНрдб рдкрд░ рд╕рдорд╛рди рддреНрд░реБрдЯрд┐ рдорд┐рд▓реЗрдЧреАред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдирд╡реАрдиреАрдХрд░рдг рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд╣реАрдВ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕рд╣реА (рдпрд╛ рдЕрдзрд┐рдХ) DOP рдорд╛рди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.bar <span class="hljs-keyword"><span class="hljs-keyword">RESUME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (MAXDOP = <span class="hljs-number"><span class="hljs-number">4</span></span>);</code> </pre> <br>  рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: рдЖрдк рд░реБрдХреЗ рд╣реБрдП рд╕реВрдЪрдХрд╛рдВрдХ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реБрдП рдбреАрдУрдкреА рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдХрдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред <br><br>  рдЗрди рд╕рдмрдХрд╛ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рд▓рд╛рдн рдпрд╣ рд╣реИ рдХрд┐ рдЖрдк рдирдП рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП ELEVATE_ONLINE рдФрд░ ELEVATE_RESUMABLE рдХреНрд▓реЙрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ / рдпрд╛ рдирд╡реАрдиреАрдХрд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h4>  <font color="#004d71">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдирд┐рд░реНрдорд╛рдг / рдХреНрд▓рд╕реНрдЯрд░ рдХрд┐рдП рдЧрдП рд╕реНрддрдВрдн рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХрд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг</font> </h4><br>  рдЕрдХреНрд╖рдп рд╕реВрдЪрдХрд╛рдВрдХ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдореЗрдВ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдХрд┐рдП рдЧрдП рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рдмрдирд╛рдиреЗ рдпрд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рднреА рдорд┐рд▓рддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрджрд▓рд╛рд╡ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдРрд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЗ рд░рдЦрд░рдЦрд╛рд╡ рдкрд░ рд╕реЗрд╡рд╛ рдЦрд┐рдбрд╝рдХрд┐рдпреЛрдВ рдХреЗ рд╕рдордп рдХреЛ рдЦрд░реНрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ (рдпрд╛ рдЕрдзрд┐рдХ рдирд┐рд╢реНрдЪрд┐рддрддрд╛ рдХреЗ рд▓рд┐рдП) рдкрдВрдХреНрддрд┐-рдЖрдзрд╛рд░рд┐рдд рд╕реЗ рдХреЙрд▓рдо-рд╡рд╛рд░ рдХреЛ рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> dbo.splunge ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ); GO <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> CLUSTERED <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> PK_Splunge <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.splunge(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); GO <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> CLUSTERED COLUMNSTORE <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> PK_Splunge <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.splunge <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (DROP_EXISTING = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">ONLINE</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЪреЗрддрд╛рд╡рдиреА: рдпрджрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдПрдХ рдореМрдЬреВрджрд╛ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдХреНрд▓рд╕реНрдЯрд░ рдЗрдВрдбреЗрдХреНрд╕ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреЙрд▓рдо рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рдЗрд╕рдХрд╛ рд░реВрдкрд╛рдВрддрд░рдг рдХреЗрд╡рд▓ рдЗрд╕ рдореЛрдб рдореЗрдВ рднреА рд╕рдВрднрд╡ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдпрд╣ рдкреНрд░рд╛рдердорд┐рдХ рдХреБрдВрдЬреА рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рддреЛ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдпрд╛ рдирд╣реАрдВ ...</font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> dbo.splunge ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> PK_Splunge PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) ); GO <span class="hljs-comment"><span class="hljs-comment">-- or after the fact -- ALTER TABLE dbo.splunge ADD CONSTRAINT PK_Splunge PRIMARY KEY CLUSTERED(id);</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ: </font></font><br><br><pre> <code class="hljs pgsql">Msg <span class="hljs-number"><span class="hljs-number">1907</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Level</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> Cannot recreate <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-string"><span class="hljs-string">'PK_Splunge'</span></span>. The <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> definition does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> match the <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> being enforced <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> the existing <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдЗрд╕реЗ рдПрдХ рд╕реНрддрдВрднрд┐рдд рд╕реНрддрдВрдн рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдзрд╛ рдХреЛ рджреВрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЗрди рджреЛрдиреЛрдВ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </font></font><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> dbo.splunge <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> PK_Splunge <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ONLINE</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>); GO <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> CLUSTERED COLUMNSTORE <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> PK_Splunge <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dbo.splunge <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ONLINE</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдмрдбрд╝реА рдореЗрдЬ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдЕрдЧрд░ рдкреНрд░рд╛рдердорд┐рдХ рдХреБрдВрдЬреА рдХреЛ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдХреНрд▓рд╕реНрдЯрд░ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдореИрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд╣ рд╕рдХрддрд╛ рдХрд┐ рдпрд╣ рдПрдХ рдЬрд╛рдирдмреВрдЭрдХрд░ рдкреНрд░рддрд┐рдмрдВрдз рд╣реИ рдпрд╛ рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди CTP рдХреА рдПрдХ рд╕реАрдорд╛ рд╣реИред</font></font><br><br><h4> <font color="#004d71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдорд╛рдзреНрдпрдорд┐рдХ рд╕рд░реНрд╡рд░ рд╕реЗ рдПрдХ рдкреНрд░рд╛рдердорд┐рдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдирд╛ </font></font><br></font> </h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдЖрдкрдХреЛ рд╕реБрдирдиреЗ рдХреЗ рдмрд┐рдирд╛ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдХрдиреЗрдХреНрд╢рди рдХреЛ рдкреНрд░рд╛рдердорд┐рдХ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рднрд▓реЗ рд╣реА рдорд╛рдзреНрдпрдорд┐рдХ рд╕реАрдзреЗ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реЛред </font><font style="vertical-align: inherit;">рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдХреНрд▓рд╕реНрдЯрд░рд┐рдВрдЧ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реБрдирдиреЗ рдореЗрдВ рд╕рд╣рд╛рдпрддрд╛ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЬрдм рдмрд┐рдирд╛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдПрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╛ рдЬрдм рдХрдИ рд╕рдмрдиреЗрдЯ рдХреЗ рд╕рд╛рде рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рдПрдХ рдЬрдЯрд┐рд▓ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рди рдпреЛрдЬрдирд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдХрдиреЗрдХреНрд╢рди рдХреЛ рд░реЛрдХ рджреЗрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд░реАрдб-рдУрдирд▓реА рдореЛрдб рдореЗрдВ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрд╢рди рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ (рдФрд░ рдХреНрд░рдорд╢рдГ рд╡рд┐рдлрд▓)ред</font></font><br><br><h2>  <font color="#c30">рдбрд┐рдЬрд╝рд╛рдЗрди</font> </h2><br><h4> <font color="#004d71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░рд╛рдл рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</font></font></font> </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░рд╛рдл рд╕рдВрдмрдВрдз рдЕрдм MERGE рд╡рд┐рдзреЗрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдиреЛрдб рдпрд╛ рд╕реАрдорд╛ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП MERGE рдХрдерди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ; </font><font style="vertical-align: inherit;">рдЕрдм рдПрдХ рдСрдкрд░реЗрдЯрд░ рдПрдХ рдореМрдЬреВрджрд╛ рдмрдврд╝рдд рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдПрдХ рдирдпрд╛ рдбрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдирдпрд╛ рдПрдЬ рдкреНрд░рддрд┐рдмрдВрдз рдЖрдкрдХреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдХрд┐рди рдХрд┐рди рдиреЛрдбреНрд╕ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br><br><h4> <font color="#004d71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-8</font></font></font> </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL Server 2012 рдореЗрдВ рдпреВрдирд┐рдХреНрд╕ -16 рдФрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд░реНрдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛, рдЬреИрд╕реЗ рдХрд┐ рдкреНрд░рддреНрдпрдп _SC рдХреЗ рд╕рд╛рде рдПрдХ рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ, рдЬреИрд╕реЗ рдХрд┐ рдпреВрдиреАрдХреЛрдб тАЛтАЛрдХреЙрд▓рдо (nchar / ncharchar) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реИрдЯрд┐рди 1_General_100_CI_AI_SCред SQL Server 2017 рдореЗрдВ, рдЖрдк </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BULK INSERT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬреИрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрди рд╕реНрддрдВрднреЛрдВ рд╕реЗ UTF-8 рдбреЗрдЯрд╛ рдЖрдпрд╛рдд рдФрд░ рдирд┐рд░реНрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL рд╕рд░реНрд╡рд░ 2019 рдореЗрдВ, рдЕрдкрдиреЗ рдореВрд▓ рд░реВрдк рдореЗрдВ UTF-8 рдбреЗрдЯрд╛ рдХреА рдЬрдмрд░рди рдЕрд╡рдзрд╛рд░рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирдП рдХреЛрд▓рд╛рдЬрд╝ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ char рдпрд╛ varchar рдХрд╛рд▓рдо рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ UTF-8 рдбреЗрдЯрд╛ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рддреНрдпрдп _SC_UTF8 рдХреЗ рд╕рд╛рде рд▓реЗрдЯрд┐рди 1_General_100_CI_SC_UT_8 рдЬреИрд╕реЗ рдкреНрд░рддреНрдпрдп рдХреЗ рд╕рд╛рде рдкреНрд░рдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рднрдВрдбрд╛рд░рдг nvarchar рдХреА рд▓рд╛рдЧрдд рдХреЗ рдмрд┐рдирд╛, рдмрд╛рд╣рд░реА рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдФрд░ DBMS рдХреЗ рд╕рд╛рде рд╕рдВрдЧрддрддрд╛ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реИред</font></font><br><br><h4> <font color="#004d71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдИрд╕реНрдЯрд░ рдЕрдВрдбрд╛ рдореБрдЭреЗ рдорд┐рд▓рд╛</font></font></font> </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬрд╣рд╛рдБ рддрдХ рдореБрдЭреЗ рдпрд╛рдж рд╣реИ, SQL рд╕рд░реНрд╡рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕ рдЕрд╕реНрдкрд╖реНрдЯ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╢рд┐рдХрд╛рдпрдд рдХрд░рддреЗ рд╣реИрдВ: </font></font><br><br><pre> <code class="hljs vbscript">Msg <span class="hljs-number"><span class="hljs-number">8152</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> binary data would be truncated.</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CTP рдмрд┐рд▓реНрдб рдореЗрдВ рдореИрдВрдиреЗ рдкреНрд░рдпреЛрдЧ рдХрд┐рдпрд╛, рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рджреЗрдЦрд╛ рдЧрдпрд╛ рдЬреЛ рдкрд╣рд▓реЗ рдирд╣реАрдВ рдерд╛: </font></font><br><br><pre> <code class="hljs pgsql">Msg <span class="hljs-number"><span class="hljs-number">2628</span></span> String <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> binary data would be truncated <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-string"><span class="hljs-string">'%.*ls'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> <span class="hljs-string"><span class="hljs-string">'%.*ls'</span></span>. Truncated <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>: <span class="hljs-string"><span class="hljs-string">'%.*ls'</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореБрдЭреЗ рдирд╣реАрдВ рд▓рдЧрддрд╛ рдХрд┐ рдпрд╣рд╛рдВ рдХрд┐рд╕реА рдФрд░ рдЪреАрдЬ рдХреА рдЬрд░реВрд░рдд рд╣реИ; рдпрд╣ рдПрдХ рдорд╣рд╛рди (рдпрджреНрдпрдкрд┐ рдмрд╣реБрдд рджреЗрд░ рд╕реЗ) рд╕реБрдзрд╛рд░ рд╣реИ, рдФрд░ рдХрдИ рдЦреБрд╢ рдХрд░рдиреЗ рдХрд╛ рд╡рд╛рджрд╛ рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ CTP 2.0 рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛрдЧреА; рдореИрдВ рдЖрдкрдХреЛ рдмрд╕ рдереЛрдбрд╝рд╛ рдЖрдЧреЗ рджреЗрдЦрдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рджреЗрддрд╛ рд╣реВрдВред рдмреНрд░реЗрдВрдЯ рдУрдЬрд░ рдиреЗ рд╡рд░реНрддрдорд╛рди рд╕реАрдЯреАрдкреА рдореЗрдВ рдкрд╛рдП рдЧрдП рд╕рднреА рдирдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрдкрдиреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sys.messages</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЗрдЦ рдореЗрдВ рдХреБрдЫ рдЙрдкрдпреЛрдЧреА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╕реАрдЬ рдХрд┐рдпрд╛: рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреА рдЦреЛрдЬ</font></a><font style="vertical-align: inherit;"> ред</font></font><br><br><h2>  <font color="#c30">рдирд┐рд╖реНрдХрд░реНрд╖</font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL рд╕рд░реНрд╡рд░ 2019 рдЕрдЪреНрдЫреА рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рдкрд╕рдВрджреАрджрд╛ рд░рд┐рд▓реЗрд╢рдирд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛, рдФрд░ рдРрд╕реЗ рдХрдИ рдкрд░рд┐рд╡рд░реНрддрди рд╣реИрдВ рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореИрдВрдиреЗ рдмрд╛рдд рдирд╣реАрдВ рдХреА рд╣реИред рдКрд░реНрдЬрд╛-рдХреБрд╢рд▓ рдореЗрдореЛрд░реА, рдорд╢реАрди рд╕реАрдЦрдиреЗ рдХреА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╕реНрдЯрд░рд┐рдВрдЧ, рд▓рд┐рдирдХреНрд╕, рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕, рдУрд░реЗрдХрд▓ / рдЯреЗрд░рд╛рдбрд╛рдЯрд╛ / рдореЛрдВрдЧреЛрдбреАрдмреА рдкрд░ рдХрдиреЗрдХреНрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд▓реЗрди-рджреЗрди рдФрд░ рд╡рд┐рддрд░рд┐рдд рд▓реЗрди-рджреЗрди, рддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдПрдЬреА рдкреНрд░рддрд┐рдХреГрддрд┐ рдЬрд╛рд╡рд╛ (рдкрд╛рдЗрдерди / рдЖрд░ рдХреЗ рд╕рдорд╛рди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдврд╝реА рд╣реИ рдФрд░, рдмрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг, рдПрдХ рдирдИ рдЫрд▓рд╛рдВрдЧ, рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХреНрд▓рд╕реНрдЯрд░ рд╢реАрд░реНрд╖рдХред рдЗрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдИрдПрдкреА рдлреЙрд░реНрдо</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреЙрдм рд╡рд╛рд░реНрдб рдХреА рдЖрдЧрд╛рдореА рдкреБрд╕реНрддрдХ, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдирдХреНрд╕ рдкрд░ рдкреНрд░реЛ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рд░реНрд╡рд░ - рдбреЙрдХрдЯрд░ рдФрд░ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдХрдВрдЯреЗрдирд░ рдЖрдзрд╛рд░рд┐рдд рддреИрдирд╛рддреА рд╕рд╣рд┐рдд</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдХрдИ рдЕрдиреНрдп рдЪреАрдЬреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╕реБрд░рд╛рдЧ рджреЗ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдЬрд▓реНрдж рд╣реА рдЖ рд░рд╣реЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдФрд░ </font><font style="vertical-align: inherit;">рдмреНрд░реЗрдВрдЯ рдУрдЬрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреНрд╡рд╛рд░рд╛ рдпрд╣ рдкреНрд░рдХрд╛рд╢рди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╕реНрдХреЗрд▓рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдкрд░рд┐рднрд╛рд╖рд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рд┐рдд рдЖрдЧрд╛рдореА рдлрд┐рдХреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрд╕ рдкрд╣рд▓реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ CTP рдореЗрдВ рд▓рдЧрднрдЧ рд╕рднреА рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдФрд░ рдореИрдВ рдЖрдкрд╕реЗ рдЦреБрдж рдЗрд╕реЗ рдЖрдЬрдорд╛рдиреЗ рдХрд╛ рдЖрдЧреНрд░рд╣ рдХрд░рддрд╛ рд╣реВрдВ!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi424441/">https://habr.com/ru/post/hi424441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi424429/index.html">рд╕рд╛рдЗрдВрд╕ рдЖрд░реНрдЯ рдПрдВрдб рд╕рд╛рдЙрдВрдб: 4 рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ</a></li>
<li><a href="../hi424431/index.html">рд╡рд╛рд▓реНрд╡ рдХрд╛ рдЕрдирд╛рд╡рд░рдг рднрд╛рдк рдЦреЗрд▓ рдирд┐рдпрдВрддреНрд░рдХ рд░реИрдВрдХрд┐рдВрдЧ</a></li>
<li><a href="../hi424433/index.html">рд╣реИрдХрд░реЙрдЯрд┐рдХ рдХреЛ рдХреНрдпреЛрдВ рд╣реИрдХ рдХрд┐рдпрд╛ рдФрд░ рдореИрдВрдиреЗ 100 рд╣рдЬрд╛рд░ рдХреИрд╕реЗ рдЫрд┐рдкрд╛рдПред рдПрдХ рдмреЛрдЯрдиреЗрдЯ рд╕реЗ рд░рд╛рдЙрдЯрд░рдУрдПрд╕</a></li>
<li><a href="../hi424435/index.html">рддреЗрд▓ рдбреНрд░рд┐рд▓рд┐рдВрдЧ рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░: рдЪреАрдЬреЛрдВ рдХреЛ рдХреНрд░рдо рдореЗрдВ рд░рдЦрдирд╛</a></li>
<li><a href="../hi424437/index.html">рдПрд▓реНрдоред рдЖрд░рд╛рдорджрд╛рдпрдХ рдФрд░ рдЕрдЬреАрдмред Json.Encoder рдФрд░ Json.Decoder</a></li>
<li><a href="../hi424443/index.html">рд╣рдорд╛рд░реЗ рдкрдХреНрд╖ рдореЗрдВ Vivaldi 2.0</a></li>
<li><a href="../hi424445/index.html">рдиреАрд▓ рдлреЛрд░реНрдб рдХрд╛ рдПрдХ рдЗрд╡реЛрд▓реНрдпреВрд╢рдирд░реА рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрд╕ рдХрд╛ рдЕрдиреБрд╡рд╛рдж</a></li>
<li><a href="../hi424447/index.html">рд▓рд┐рд╕реНрдк рдиреЗ рдкрд╛рд╕реНрдХрд▓ рдпрд╛ 8501 рд╡реАрдВ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдХреЗ рд╕рд╛рде рд╕реНрд╡рд╛рдж рд▓рд┐рдпрд╛</a></li>
<li><a href="../hi424453/index.html">рдУрдкрдирдЬреАрдПрд▓ рдЬрд╛рдиреЗрдВред рдкрд╛рда 6.2 - рд╢рд╛рд░реАрд░рд┐рдХ рд░реВрдк рд╕реЗ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рддрд┐рдкрд╛рджрдиред рд╡рд┐рд╢реНрд▓реЗрд╖рдгрд╛рддреНрдордХ рдкреНрд░рдХрд╛рд╢ рд╕реНрд░реЛрдд</a></li>
<li><a href="../hi424455/index.html">Intel Optane - рдЕрдм 1.5 рдЯреЗрд░рд╛рдмрд╛рдЗрдЯреНрд╕</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>