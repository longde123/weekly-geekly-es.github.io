<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññ üéôÔ∏è ‚òëÔ∏è Strat√©gie gagnante de Gomoku - 35 coups üßëüèº‚Äçü§ù‚Äçüßëüèª üëèüèº üëÜüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lorsque vous jouez selon les r√®gles standard de Gomoku, les Noirs n'ont pas besoin de plus de 35 coups pour gagner. L'article pr√©sente √† votre attenti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Strat√©gie gagnante de Gomoku - 35 coups</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437064/">  Lorsque vous jouez selon les r√®gles standard de Gomoku, les Noirs n'ont pas besoin de plus de <b>35</b> coups pour gagner.  L'article pr√©sente √† votre attention une strat√©gie gagnante compl√®te et l'algorithme correspondant du jeu. <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/mq/os/dd/mqosddugiqv8zt2yt2-1nb8kqgk.png"></a> <br>  D√©monstration de la solution compl√®te - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> - vous pouvez jouer et trouver les options les plus longues.  Le programme gagne toujours et ne d√©pense pas plus de 35 coups.  Le code source de l'application, la solution elle-m√™me et des exemples de parties √† la fin de l'article. <br><a name="habracut"></a><br>  Je ne m'attarderai pas sur les r√®gles et tactiques du jeu.  Le sujet a √©t√© discut√© en d√©tail sur habr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , ainsi que sur les algorithmes de d√©cision <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h3>  Petite digression </h3><br>  Avant l'√®re des smartphones, le tic-tac-toe ¬´cinq de suite¬ª (Gomoku, Renju) √©tait l'un des tueurs les plus populaires de l'√©poque lors des cours scolaires.  Envisager des combinaisons √©tait plus int√©ressant que le d√©veloppement de l'√©conomie nationale d'Afrique du Nord ou la classification des fleurs de tr√®fle. <br><br>  √Ä l'automne 1985, les filles de notre 10e ann√©e ont √©t√© prises dans un cours de math√©matiques.  Nous, les six autres enfants, √©tions les plus susceptibles d'avoir une communication informelle avec un professeur de math√©matiques sur des sujets abstraits.  L'enseignant est entr√© dans la salle de classe en silence, a distribu√© des brochures √† tout le monde dans une bo√Æte et a commenc√© √† √©crire les noms des personnes pr√©sentes sur le tableau noir.  Nous √©tions d√©prim√©s, un travail ind√©pendant ou une enqu√™te √©clair √©tait pr√©vu.  Mais la liste au tableau s'est transform√©e en classement et on nous a annonc√© les r√®gles du championnat.  Chacun avec chaque s√©rie de cinq parties.  Prix ‚Äã‚Äãau gagnant - cinq au magazine.  Selon les r√©sultats du tournoi, j'ai eu la chance de gagner, mais le jeu ne s'est pas arr√™t√© l√†.  Le professeur a promis de mettre cinq √† tous les gars si le vainqueur remporte les cinq matchs cons√©cutifs de la s√©rie.  Le droit du premier coup est donn√© au vainqueur.  Contrairement √† l'affirmation de notre professeur que dans une telle condition, avec le bon jeu, vous pouvez gagner 10, 100, ou n'importe quel nombre de matchs d'affil√©e, la victoire m'a sembl√© une chance incroyable. <br><br>  Neuf ans plus tard, en 1994, le Dr Lewis Victor Allis a pr√©sent√© des preuves de cette hypoth√®se dans un article de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Go-Moku et Threat-Space Search</a> .  L'auteur n'a pas publi√© sa strat√©gie gagnante, ce qui lui permet de v√©rifier la preuve.  Cependant, dans son livre de 1996 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Searching for Solutions in Games and Artificial Intelligence</a> , une description g√©n√©rale des algorithmes a √©t√© fournie.  En conclusion, nous mentionnons s√©par√©ment la proc√©dure de v√©rification de l'exhaustivit√© d'une strat√©gie gagnante, qui repose sur la justesse de la mise en ≈ìuvre de l'algorithme de recherche pour la "s√©quence de menaces" et l'analyse des options de contre-jeu de l'adversaire. <br><br>  Les exemples de solutions donn√©s dans l'article et le livre avec les ¬´bons coups¬ª des adversaires, qui font partie d'une strat√©gie gagnante, d√©montrent la faiblesse de l'algorithme utilis√©. <br><img src="https://habrastorage.org/webt/uo/lv/qt/uolvqtblhcjmkkkgd61s5f7u1ei.png"><br>  Par exemple, dans la figure, la solution du programme pour les r√®gles Gomoku standard.  Si les Noirs r√©pondent avec j10 puis j8 en r√©ponse au 10√®me coup g9 des Blancs, alors le jeu se termine par 29 coups au lieu de 45. Ensuite, le programme deux fois "n'a pas remarqu√©" la combinaison de la "s√©quence de menaces" des Noirs en 17 coups apr√®s le 16 et apr√®s 26- Le mouvement de White.  Et au final, si Blanc effectue le 36√®me coup f12 au lieu de j12, il tiendra au moins jusqu'au 49√®me coup.  Pour √™tre honn√™te, il faut dire que dans cet exemple, tous les mouvements des Noirs ne laissent aucune chance aux Blancs de terminer le match en sa faveur. <br><br>  Sur Internet, j'ai trouv√© plusieurs r√©f√©rences √† des travaux similaires √† la recherche d'une strat√©gie gagnante.  La question de l'optimalit√© des solutions trouv√©es reste en suspens.  Quel est le nombre minimum de coups que les Noirs doivent gagner? <br><br>  Ainsi, ayant un peu de temps libre, des ressources informatiques modernes et rendant hommage aux passe-temps des enfants 33 ans apr√®s le championnat m√©morable de l'√©cole, il s'est fix√© pour t√¢che de trouver la strat√©gie gagnante optimale pour Black in Gomoku. <br><br><h3>  Num√©risez la position au tableau </h3><br>  L'enregistrement d'une partie est assez primitif.  Il n'y a que 225 cellules sur le terrain.  Par cons√©quent, chaque cellule est cod√©e sur 1 octet.  Pour enregistrer un lot de 35 mouvements, seulement 35 octets sont n√©cessaires.  Mais un tel enregistrement est mal adapt√© √† l'√©valuation de la position pour deux raisons: la m√™me position peut √™tre obtenue dans une s√©quence diff√©rente de mouvements et les positions sym√©triques ne sont pas prises en compte. <br><br>  Atteindre l'objectif du jeu - construire cinq pierres d'affil√©e - peut √™tre r√©alis√© dans l'une des quatre directions: verticale, horizontale et deux diagonales.  Ainsi, nous pouvons repr√©senter n'importe quelle position comme un ensemble de lignes.  Lignes horizontales et verticales d'une longueur de 15 cellules et lignes diagonales d'une longueur de 1 √† 15 cellules.  Chaque mouvement change la valeur de 4 lignes dans diff√©rentes directions √† la fois. <br><br>  L'√©valuation d'une position consiste √† d√©terminer tous les chiffres significatifs pour chaque ligne.  Pour simplifier, nous d√©crivons chaque cellule de la ligne avec 2 bits.  Le premier bit est plein lorsqu'une pierre blanche est install√©e, le deuxi√®me bit est une pierre noire.  Chaque ligne ne contient pas plus de 15 cellules et est cod√©e en un entier 32 bits.  Ainsi, la recherche de formes sur une ligne se r√©duit √† comparer la valeur num√©rique de la ligne √† travers une fen√™tre coulissante avec le motif binaire de la forme. <br><br><img src="https://habrastorage.org/webt/vc/ch/8l/vcch8l0smdyw4ay3ugehpszc-ba.png"><br><br>  Dans l'exemple illustr√© sur la figure, la position est d√©crite par 26 lignes.  En cons√©quence, il est cod√© avec 104 octets, tandis qu'un enregistrement de lot r√©gulier ne n√©cessite que 17 octets. <br>  Il est facile de deviner que toutes les sym√©tries - tours et images miroir - sont obtenues en changeant simplement le nombre (m√©lange) et la direction des lignes.  Pour identifier une position et rechercher rapidement des collections, ce principe impl√©mente une fonction de hachage 32 bits qui donne des valeurs diff√©rentes uniquement pour les positions asym√©triques. <br><br>  L'utilisation de sym√©tries r√©duit consid√©rablement le nombre de positions consid√©r√©es.  Par exemple, le nombre d'options pour le deuxi√®me mouvement est r√©duit de 224 √† 35. <br><br>  Lors de la recherche de solutions et de combinaisons (cela sera discut√© ci-dessous), les positions calcul√©es constituent les sommets du graphe multicouche.  Les sommets sont regroup√©s en couches en fonction du nombre de cellules remplies.  Les mouvements constituent les bords du graphique, reliant les sommets des couches adjacentes.  Lorsque les d√©placements infructueux sont rejet√©s pendant la recherche, les bords sont supprim√©s et certains des sommets perdent leur connectivit√© avec la branche principale.  Par cons√©quent, apr√®s les √©tapes de calcul, la r√©cup√©ration de place (ou la reconstruction du graphique √† partir du haut) est effectu√©e. <br><br>  Au cours du processus de d√©veloppement, plusieurs algorithmes de codage ont √©t√© envisag√©s, mais celui d√©crit ci-dessus a montr√© le taux d'estimation de position le plus √©lev√©. <br><br><h3>  √âvaluer la position </h3><br>  Un facteur important pour √©valuer une position est l'importance des adversaires pour construire les pi√®ces importantes. <br><br>  <b>Cinq</b> - si une telle pi√®ce est trouv√©e sur le plateau, la partie est termin√©e.  Pour les r√®gles standard, pas de six, sept, etc., donnez un prix √† Gomoku.  Par cons√©quent, les cinq, comme d'ailleurs toutes les autres figures, n√©cessitent l'absence de leurs pierres sur les cellules voisines en ligne. <br><br><img src="https://habrastorage.org/webt/jv/i7/oc/jvi7ochyhbqf2t4uor23yuvvdre.png"><br><br>  <b>Les quatre ouverts</b> - la longueur de 6 cellules, les quatre du milieu sont occup√©s par des pierres de la m√™me couleur, les externes sont n√©cessairement vides.  Eh bien, comme pour cinq, leurs pierres sont absentes dans les cellules voisines.  Un chiffre tr√®s fort signifie gagner m√™me sur le coup de quelqu'un d'autre. <br><br><img src="https://habrastorage.org/webt/hl/ax/bt/hlaxbtehdktbb-qyxh9a2a_r1fw.png"><br><br>  <b>Quatre</b> - la longueur de 5 cellules, une (n'importe laquelle) des cinq cellules est libre.  Donne une victoire tout seul.  Cela cr√©e une menace et oblige l'adversaire √† faire un mouvement dans une cellule libre s'il n'a pas ses quatre.  Donne 5 points dans le classement de la position pendant la d√©fense. <br><br><img src="https://habrastorage.org/webt/ri/qc/i4/riqci4ib69yx4vfonbygsfnmnbk.png"><br><br><img src="https://habrastorage.org/webt/vo/ji/6c/voji6cdt_-w09yfrav9xlnh4utq.png"><br><br>  <b>Un triple ouvert</b> - la longueur de 6 ou 7 cellules, les cellules les plus externes sont n√©cessairement libres.  Pour 6 cellules, trois des quatre centrales sont occup√©es par des pierres de m√™me couleur, une libre.  Pour 7 cellules - trois moyennes sont occup√©es par des pierres de la m√™me couleur.  Une pi√®ce √† son tour devient un quatre ouvert si l'adversaire n'en a pas quatre ou trois ouverts.  Sur le coup de quelqu'un d'autre, cela cr√©e une menace et force l'adversaire √† fermer les trois ou √† mettre ses quatre en r√©ponse.  Le triple de 6e cellule a 1 mouvement de relance et 3 mouvements de fermeture.  Le triple de 7e cellule a 2 mouvements de relance et seulement 2 mouvements de fermeture.  Donne de 2 √† 4 points dans la cote de position. <br><br><img src="https://habrastorage.org/webt/nq/p2/uy/nqp2uy_g732dvaw80jne7l2diss.png"><br><br><img src="https://habrastorage.org/webt/cv/x4/sn/cvx4sne2smh9dasu1va_zwn9x_m.png"><br><br><img src="https://habrastorage.org/webt/35/bt/vd/35btvdffg5chcb3x27pc0qwaa1g.png"><br><br>  <b>Un triple</b> , ou un triple ferm√©, est une longueur de 5 cellules, dont trois sont occup√©es par des pierres de la m√™me couleur.  Les trois √† son tour peuvent √™tre transform√©s en quatre et sont utilis√©s en attaque et en d√©fense, cr√©ant une menace plus qu'un trois ouvert de l'adversaire.  Donne 1 point en note de position. <br><br><img src="https://habrastorage.org/webt/xm/cm/0b/xmcm0burpfuvl61yr4dibp3lyhc.png"><br><br><img src="https://habrastorage.org/webt/2q/ia/jm/2qiajmlw_jdqml6ppuh6btmw94y.png"><br><br><img src="https://habrastorage.org/webt/fv/dx/az/fvdxazstgmbxazow3sr9vszxa6u.png"><br><br>  <b>Un</b> <b>diable</b> <b>ouvert</b> (en perspective) - de 6 √† 7 cellules de long.  Lors d'une attaque, il est converti en trois ouverts.  Donne 1 ou 2 points dans la cote de position. <br><br><img src="https://habrastorage.org/webt/wg/pa/pa/wgpapauepfjwkfhomfe7qxrxtge.png"><br><br><img src="https://habrastorage.org/webt/ql/fc/fn/qlfcfn038u9fywlic9_gze90fam.png"><br><br><img src="https://habrastorage.org/webt/dx/bc/up/dxbcupckdzf3grkswynvstgwgb8.png"><br><br>  <b>Un plug</b> est en m√™me temps deux menaces ou plus qui ne peuvent pas √™tre ferm√©es en une seule fois.  Il y a des fourches 3x3 (deux triples ouverts), des fourches 3x4 (trois et quatre ouvertes) et des fourches 4x4 (deux fours ouverts). cr√©ant de grandes menaces - une s√©quence de quatre pour une fourche 3x3. <br><br><img src="https://habrastorage.org/webt/0_/pv/36/0_pv36msyig6kkitovoqfhqiup0.png"><br><br><img src="https://habrastorage.org/webt/zy/r3/by/zyr3byoch5yqsofw_s_kpot1hpq.png"><br><br><img src="https://habrastorage.org/webt/kk/cj/if/kkcjif1kqjf-yad-ghyjak2syzs.png"><br><br><img src="https://habrastorage.org/webt/yl/m3/iq/ylm3iqinyhrfpd1ruifnap8clqq.png"><br><br>  <b>Combinaison</b> - une s√©quence continue de menaces et de d√©fenses contre des menaces plus importantes de l'adversaire, conduisant √† un r√©sultat positif pour le joueur.  Les combinaisons attaquent (ou gagnent) et d√©fensives. <br><br>  La combinaison d'attaque ou de victoire est r√©ussie si, sur n'importe quel mouvement d√©fensif ou d'attaque de l'adversaire, des mouvements de r√©ponse ont √©t√© trouv√©s conduisant √† une victoire.  La combinaison d'attaque se termine par l'installation d'un bouchon, que l'adversaire ne peut pas fermer. <br><br>  La combinaison d√©fensive, au contraire, r√©ussit lorsque l'adversaire cesse de cr√©er des menaces, ou lorsque la limite de mouvements pour le calcul est d√©pass√©e.  Une combinaison d√©fensive consiste en des mouvements d√©fensifs ou en cr√©ant une plus grande menace pour l'adversaire. <br><br>  Lors de l'√©valuation d'une position, une recherche d'une combinaison gagnante est effectu√©e.  En cas de succ√®s, nous avons gagn√©.  Sinon, s'il n'y a pas de menaces de la part de l'adversaire, l'√âtat est neutre.  S'il y a des menaces de l'adversaire, nous recherchons une combinaison d√©fensive.  En cas de succ√®s, l'√âtat est neutre; s'il √©choue, nous perdons. <br><br>  √âtant donn√© que le nombre d'options d'attaques et de mouvements de repr√©sailles forc√©s est assez limit√©, il est permis de rechercher des combinaisons √† une profondeur suffisamment grande.  Lors de la construction initiale de la strat√©gie optimale, la profondeur autoris√©e de la recherche de combinaisons a √©t√© √©tablie en 25 coups.  Lors du recalcul de la solution pour impl√©menter l'algorithme d'estimation de position en javascript, la profondeur de recherche autoris√©e a √©t√© r√©duite √† 17 mouvements. <br>  Lors du calcul de la strat√©gie optimale, la profondeur de recherche de la combinaison gagnante ci-dessus a en outre √©t√© limit√©e par le nombre maximum de coups cible. <br><br><h3>  Nous recherchons une solution </h3><br>  Nous avons donc √©valu√© la position donn√©e comme neutre et choisi le prochain coup.  Notre comportement dans ce cas d√©pend de notre position d'attaque ou de d√©fense.  Pour le c√¥t√© attaquant, la solution compl√®te sera une s√©quence de mouvements dans laquelle pour tout mouvement de retour de l'adversaire, la position est √©valu√©e comme gagnante (une combinaison gagnante est trouv√©e) ou contient le prochain coup propre dans la solution.  Il est √† noter que pour calculer la strat√©gie optimale, le c√¥t√© attaquant est toujours noir, le c√¥t√© d√©fenseur est blanc. <br><br>  L'attaquant n'a besoin de trouver qu'un seul coup, menant √† la victoire la plus rapide.  Dans les conditions de manque de ressources, l'attaquant limite artificiellement le nombre d'options de contournement, j'√©tudie tout d'abord les mouvements menant √† la position avec le score le plus √©lev√©.  Une fois toutes les solutions trouv√©es, dans le sens des plus longues d'entre elles, l'attaquant √©largit la gamme d'options, explorant des positions moins not√©es afin de r√©duire la longueur de la solution. <br><br>  Il suffit que le camp en d√©fense trouve un seul coup qui ne m√®ne pas √† la victoire de l'adversaire dans la limite de coups donn√©e.  Toutes les cellules libres peuvent √™tre utilis√©es pour le d√©nombrement. <br>  Pour r√©duire le nombre de coups √† trier, nous utilisons l'algorithme ¬´skip¬ª.  Nous sautons le mouvement d√©fensif et recherchons une combinaison d'attaque gagnante.  En cas de succ√®s, les mouvements de d√©fense possibles peuvent √™tre limit√©s aux mouvements qui affectent le succ√®s de la combinaison trouv√©e.  En moyenne, √† chaque √©tape, cela vous permet de r√©duire la zone de recherche de 4 √† 6 fois.  Veuillez noter que parmi les mouvements ignor√©s, il peut y avoir des branches plus longues de la solution.  Par cons√©quent, pour rechercher des solutions optimales, l'algorithme de ¬´saut¬ª n'est utilis√© que dans la recherche initiale. <br><br><h3>  Nous calculons la strat√©gie </h3><br>  Tous les composants sont pr√™ts, nous mettons la premi√®re pierre noire au centre du terrain, commen√ßons la recherche d'une solution et ... Quelques heures plus tard, les ressources de mon ordinateur portable sont √©puis√©es et je dois admettre la d√©faite "au combat, mais pas au combat". <br><br>  En v√©rit√©, j'avais √† port√©e de main une puissance de calcul avec cent cinquante c≈ìurs Xeon et un t√©raoctet de RAM libre.  Mais rappelez-vous qu'au milieu des ann√©es 90, Allis n'avait que 10 SUN SPARCstation 2 sur chacun des 128 Mo de RAM, avait des remords pour un comportement antisportif et avait d√©cid√© de limiter la quantit√© de RAM sur la machine java √† 1 Go et allou√© seulement 1 thread pour la t√¢che le processeur.  Il pourrait en quelque sorte compenser mon GHz par rapport √† son MHz.  De plus, il s'est promis √† la fin des travaux de transf√©rer les algorithmes en javascript pour le navigateur. <br><br>  Ainsi, la recherche de strat√©gies a d√ª commencer par la d√©cision des premiers croquis.  Une description d√©taill√©e des d√©buts du jeu Renju en russe peut √™tre trouv√©e dans les c√©l√®bres livres de Sagar "From Debut to Middlegame" et Mikhail Kozhin et Alexander Nosovsky "Ringing of the Stones" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Les livres ont d√©j√† 20 ans, mais depuis lors, un peu de cette litt√©rature a √©t√© publi√©e.  La plus r√©cente collection de Dmitry Epifanov ¬´Tiger in a cage¬ª de 2015, malheureusement, n'est pas disponible sous forme √©lectronique. <br><br>  La recherche de d√©cisions d'ouverture optimales a √©t√© r√©alis√©e selon l'algorithme suivant.  Lors de la premi√®re √©tape, un calcul pr√©liminaire a √©t√© effectu√© sans limiter la longueur du lot.  Ensuite, pour les solutions les plus longues, l'optimisation a √©t√© effectu√©e: remplacer les combinaisons trouv√©es par des solutions plus courtes pour les √©tapes finales et rechercher des branches de d√©cision plus courtes pour tous les mouvements interm√©diaires.  L'optimisation a √©t√© effectu√©e jusqu'√† ce que la limite cible soit atteinte pour toutes les branches de la solution.  Ensuite, la limite cible a diminu√© et une tentative a √©t√© faite pour optimiser √† une nouvelle valeur. <br><br><img src="https://habrastorage.org/webt/9e/vr/o4/9evro4nlkmpbgmiuo1wvaad7bj0.png"><br><br><img src="https://habrastorage.org/webt/8c/0s/gh/8c0sghxz-vcodr2hzw7vnbdefoe.png"><br><br>  Il n'y a eu aucun probl√®me avec le 3e d√©but vertical de la figure 3.  Le r√©sultat a √©t√© un ensemble complet de solutions.  Les positions les plus difficiles apr√®s le 4√®me coup i8 et j10 en cons√©quence ont √©t√© r√©solues en 31 coups.  Ensuite, une limite cible de 35 coups par partie a √©t√© fix√©e. <br><br><img src="https://habrastorage.org/webt/ea/si/lu/easilurzckolnwa4nxmby3vdmkm.png"><br><br><img src="https://habrastorage.org/webt/h-/ou/0r/h-ou0r2kkefr5vkhmfc9wujscu8.png"><br><br>  De la diagonale de la d√©cision, il a traditionnellement choisi le 7e d√©but.  La position la plus difficile appara√Æt apr√®s le 4√®me coup g9.  Des solutions de longueur admissible ont √©t√© trouv√©es pour 6 mouvements g8 et g7. <br><br><img src="https://habrastorage.org/webt/mt/zh/6q/mtzh6qaiqfqwnpnef87esqq-2ee.png"><br><br>  Mais pour cette option, avec le 6√®me coup sur j9, je n'ai pas r√©ussi √† trouver une solution plus courte que 33 coups.  C'√©tait presque un d√©sastre.  Par d√©sespoir, j'ai essay√© les solutions pour le 5√®me mouvement alternatif, ainsi que tous les autres types d'ouvertures diagonales.  Les d√©buts ont √©t√© r√©solus jusqu'√† la fin, mais rien de plus court que 39 coups par partie n'a pu √™tre trouv√©. <br><br>  Revenant aux d√©buts originaux de la 7e diagonale, il a refait l'algorithme pour g√©n√©rer des phrases pour les mouvements d'attaque.  En cons√©quence, les mouvements menant √† des positions avec un score de notation du troisi√®me dix ont commenc√© de mani√®re inattendue √† donner un r√©sultat et √† r√©duire la longueur du chemin de la solution.  La variabilit√© du calcul avec un tel montant est devenue assez importante.  Avec une profondeur de solution de 12 mouvements, il y avait plus de 2 millions de positions (hors positions lors de la recherche de combinaisons).  La suite reposait sur 1 Go de RAM allou√© √† la t√¢che.  Ainsi, afin de v√©rifier la d√©cision √† la fourche finale, dans certains cas, il √©tait n√©cessaire de d√©cider s√©par√©ment des positions √† partir du 18e coup. <br><br>  Apr√®s que le d√©but de la 7e diagonale eut √©t√© d√©cid√© en 35 coups, on pouvait c√©l√©brer la victoire - la lutte pour le centre √©tait gagn√©e.  Il y avait encore une √©norme quantit√© de travail de calcul de routine, des calculs de mouvements blancs ¬´non optimaux¬ª pour compl√©ter la strat√©gie.  Sur le volume total de la strat√©gie optimale, la r√©ponse √† de tels mouvements a donc √©t√© de 80%.  Heureusement, ils ont √©t√© automatiquement r√©solus compl√®tement sur le calcul pr√©liminaire apr√®s le 2e d√©m√©nagement, et tout ce volume a √©t√© ajout√© √† la strat√©gie optimale en quelques jours. <br><br>  Ainsi, des solutions pour les 2 mouvements ont √©t√© trouv√©es.  Nous pla√ßons la premi√®re pierre noire au centre du terrain, entamons la recherche d'une solution et n'avons m√™me pas le temps de ressentir l'importance du moment - la position initiale a √©t√© r√©solue en 35 coups.  Le graphique de la strat√©gie gagnante optimale est construit. <br><br><h3>  Nous v√©rifier </h3><br>  L'√©tape suivante consiste √† v√©rifier la solution.  D√©sactivez compl√®tement l'intelligence de la partie d√©fensive.  Apr√®s chaque mouvement de Noir, Blanc va sur n'importe quelle case libre du plateau.  La position obtenue apr√®s le coup de Blanc doit √™tre trouv√©e dans le graphique de d√©cision ou √©valu√©e comme gagnante pour le nombre de coups ne d√©passant pas la branche la plus longue dans la position de d√©part.  Lors de l'√©valuation de chaque position, nous v√©rifions la combinaison gagnante trouv√©e pour tous les mouvements admissibles de Blanc avant que Noir ne construise la pi√®ce finale - cinq d'affil√©e. <br><br>  La v√©rification a √©t√© effectu√©e plusieurs fois jusqu'√† la fin.  L'ex√©cution finale sans erreur en mode monothread a pris 14 heures.  Au cours de la v√©rification, des erreurs ont √©t√© trouv√©es et corrig√©es, r√©sultant de diff√©rences dans la profondeur de la recherche de combinaisons, d'hypoth√®ses de saut, de duplication de positions sym√©triques. <br><br>  R√©pondez √† la question - la d√©cision en 35 mouvements est-elle vraiment la plus optimale?  Selon mes recherches, pour certaines des branches les plus longues des d√©buts verticaux, il est possible de trouver des solutions plus optimales avec une longueur de 33 mouvements.  Mais pour la diagonale apr√®s le 6e coup sur j9, beaucoup de temps a √©t√© consacr√© √† la recherche d'une solution en 33 coups, la variation pour les Noirs s'est √©tendue √† 50 coups √† chaque pas et en vain.  Il n'est pas possible de prouver rigoureusement l'absence de solution en 33 mouvements, le temps allou√© au projet est arriv√© √† son terme et il a √©t√© d√©cid√© de s'arr√™ter √† la limite cible de 35 mouvements. <br><br><h3>  Convertir de java en javascript </h3><br>  La publication d'une solution √† un probl√®me demande de la clart√©.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour utiliser la solution directement dans le navigateur, il fallait: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©duisez la profondeur de la recherche de combinaisons lors de l'√©valuation des positions √† 17 mouvements. </font><font style="vertical-align: inherit;">Cela a conduit √† une augmentation de 2 √† 3 fois du nombre de mouvements calcul√©s de la strat√©gie optimale.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convertissez le format du graphique de d√©cision binaire en s√©quence JSON de mouvements. </font><font style="vertical-align: inherit;">Ce format est plus pratique en javascript et visuel.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convertissez les classes java en modules javascript, √† l'exception des proc√©dures de prise de d√©cision. </font><font style="vertical-align: inherit;">Ici, dans l'interface Web, remplacez les appels rest-service par des fonctions locales.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Liste des classes d'application: </font></font><br><br><ul><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Board</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - gestion des parties sur le board, interface visuelle</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sommet du graphique de d√©cision, h√©rit√© de la position</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bord</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bord du graphique de d√©cision, d√©placer les positions de connexion</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disposition</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - position, contient une collection de lignes</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ligne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une ligne dans une direction donn√©e, contient une collection de formes</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une figure qui d√©termine le type et le d√©but d'une figure sur une ligne</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mod√®les de figures pour comparaison lors de la recherche</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La solution compl√®te au format JSON peut √™tre t√©l√©charg√©e √† partir du fichier </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gomoku.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sources dans le r√©f√©rentiel sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus de clart√©, je vais donner ci-dessous des exemples des jeux les plus longs obtenus dans la d√©monstration en cliquant sur Suivant. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©buts en diagonale: </font></font><br><br><img src="https://habrastorage.org/webt/ut/xg/6g/utxg6gkl_d15x4zgjg1xwi_m5s4.png"><br><br><img src="https://habrastorage.org/webt/18/jh/oy/18jhoyzp05r1swbl7kdi2zkacp0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©buts verticaux:</font></font><br><br><img src="https://habrastorage.org/webt/ko/ps/px/kopspxbbw8g13ti2rxmbdxy8o-a.png"><br><br><img src="https://habrastorage.org/webt/rw/jo/x2/rwjox2wlhopomjsaamqv7t2v3yq.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437064/">https://habr.com/ru/post/fr437064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437050/index.html">Le livre "Python. Cours express. 3e √©d.</a></li>
<li><a href="../fr437052/index.html">Ne manquez pas d'apprendre: un sp√©cialiste universitaire en informatique a-t-il besoin</a></li>
<li><a href="../fr437054/index.html">Nouveaux processeurs Intel de 9e g√©n√©ration: Core moins GPU</a></li>
<li><a href="../fr437056/index.html">Zimbra Collaboration Suite et Zextras Suite sont enti√®rement compatibles avec le syst√®me d'exploitation national RED</a></li>
<li><a href="../fr437062/index.html">L'effet du retard et de la longueur des conclusions de la puce et du logiciel sur le calcul de la longueur / retard total des conducteurs</a></li>
<li><a href="../fr437066/index.html">Javathon √† la journ√©e des √©tudiants</a></li>
<li><a href="../fr437068/index.html">ILV d√©verrouille 2,7 millions d'adresses IP</a></li>
<li><a href="../fr437070/index.html">Outils de science des donn√©es d'enqu√™te 2019</a></li>
<li><a href="../fr437072/index.html">Affaiblir les noix dans les r√®gles Habr</a></li>
<li><a href="../fr437074/index.html">Google pourrait bloquer son service d'actualit√©s en Europe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>