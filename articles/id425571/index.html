<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏾 🧗🏻 👎🏽 Mengamankan server web di Linux 🍮 🎼 🎧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 

 Kami belum menerbitkan buku-buku baru apa pun di Linux untuk pemula sejak lama - dan sekarang kami sedang melakukan terjemahan produk-p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mengamankan server web di Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/425571/">  Halo, Habr! <br><br>  Kami belum menerbitkan buku-buku baru apa pun di Linux untuk pemula sejak lama - dan sekarang kami sedang melakukan terjemahan produk-produk baru dari rencana semacam itu.  Buku Clinton, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Linux in Action</a> , yang diterbitkan oleh Manning, memberi tahu kita tidak hanya tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">struktur internal Linux</a> , tetapi juga tentang masalah yang paling umum dan bagaimana cara memperbaikinya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pw/vq/ow/pwvqowqz-ymlimiywgpbhj8rzqq.jpeg" width="450"></div><br>  Penulis telah menerbitkan kutipan dari bab ke-9 di situs web Hackernoon, yang kami sarankan Anda evaluasi. <br><a name="habracut"></a><br>  Merakit server LAMP, cara mengonfigurasinya, memastikan pemrosesan data yang andal, mengonfigurasi area subjek, dan mengurus sertifikat TLS hanya setengah jalan menuju kemenangan.  Anda juga perlu memastikan infrastruktur Anda terlindungi dari berbagai ancaman Internet yang mengerikan. <br><br>  Dalam artikel ini, kami memeriksa keamanan situs web dengan mempelajari cara bekerja dengan benar dengan grup sistem, memastikan isolasi proses, dan secara teratur mengaudit sumber daya sistem.  Tentu saja, cerita ini tidak lengkap (buku Linux yang sedang beraksi juga membahas topik lain, misalnya, menginstal sertifikat TLS dan bekerja dengan SELinux), tetapi ini sudah cukup untuk memulai. <br><br><h3>  Kelompok sistem dan prinsip hak minimum </h3><br>  Pengembang yang Anda dukung (akhirnya) mulai menyadari bahwa perlu untuk membatasi akses umum ke data dan file konfigurasi yang terletak di server aplikasi, tetapi pada saat yang sama, untuk membiarkan akses tersebut terbuka untuk berbagai programmer dan tim TI lainnya. <br><br>  Bagian pertama dari solusinya adalah <i>kelompok</i> .  Grup adalah objek dalam sistem (seperti pengguna) dengan peringatan bahwa tidak ada pengguna yang akan masuk ke sistem sebagai grup.  Kekuatan kelompok terletak pada kenyataan bahwa mereka, seperti pengguna, dapat "ditugaskan" ke file atau direktori, yang memungkinkan setiap anggota grup untuk menggunakan hak istimewa yang disediakan untuknya.  Ini diilustrasikan di bawah ini. <br><br>  Pengembang dalam grup Pengembang dapat mengakses direktori tertentu, dan untuk pengguna yang bukan anggota grup ini, direktori akan ditutup <br>  Coba sendiri: buat file baru di editor teks.  Tulis teks biasa ke dalamnya, misalnya, "Hello World", sehingga Anda dapat langsung melihat kapan file itu berhasil diakses.  Kemudian edit izin menggunakan <code>chmod 770</code> sehingga pemilik file dan anggota grup tempat ia memiliki hak penuh untuk bekerja dengan file tersebut, sementara yang lain tidak dapat membacanya. <br><br><pre> <code class="hljs ruby">$ nano datafile.txt $ chmod <span class="hljs-number"><span class="hljs-number">770</span></span> datafile.txt</code> </pre> <br>  Jika sistem Anda belum memiliki akun pengguna lain selain milik Anda, buat akun seperti itu baik menggunakan <code>adduser</code> - ini dilakukan di Debian / Ubuntu - atau menggunakan <code>useradd</code> , seperti biasa di CentOS.  Perintah <code>useradd</code> akan bekerja di Ubuntu juga. <br><br>  Perintah <code>useradd</code> , tidak seperti <code>adduser</code> Debian <code>adduser</code> mengharuskan kata sandi pengguna dibuat secara terpisah: <br><br><pre> <code class="hljs pgsql"># useradd otheruser # passwd otheruser Enter <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> UNIX <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: Retype <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> UNIX <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: passwd: <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> updated successfully</code> </pre> <br>  Menggunakan perintah <code>su</code> , kami beralih ke pengguna baru.  Setelah kami memasukkan kata sandi, semua perintah berikut akan dieksekusi atas nama pengguna ini.  Anda akan bekerja atas nama pengguna khusus ini;  tidak lebih dan tidak kurang.  Jika Anda mencoba membaca file data <code>datafile.txt</code> (menggunakan <code>cat</code> ), maka tidak ada lagi yang akan berhasil untuk Anda;  seperti yang Anda ingat, hanya anggota grup yang memiliki hak baca.  Setelah selesai, ketik <code>exit</code> untuk keluar dari shell pengguna baru dan kembali ke shell asli Anda. <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> su otheruser Password: <span class="hljs-variable"><span class="hljs-variable">$</span></span> cat /home/ubuntu/datafile.txt cat: /home/ubuntu/datafile.txt: Permission denied <span class="hljs-variable"><span class="hljs-variable">$</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span></code> </pre> <br>  Semua ini diharapkan dan cukup dimengerti.  Seperti yang Anda lihat, ketika Anda tidak bisa membaca file milik pengguna lain, ini terkadang menjadi masalah.  Mari kita lihat apa yang dapat Anda lakukan dengan mengaitkan file dengan grup, dan kemudian mengkonfigurasi dengan benar izin file. <br><br>  Kami akan membuat grup baru yang dengannya kami dapat mengelola data aplikasi kami, dan kemudian mengedit properti file data kami menggunakan <code>chown</code> .  Argumen ubuntu: app-data-group meninggalkan kepemilikan file kepada pengguna Ubuntu, tetapi grupnya berubah ke yang baru: app-data-group. <br><br><pre> <code class="hljs pgsql"># groupadd app-data-<span class="hljs-keyword"><span class="hljs-keyword">group</span></span> # chown ubuntu:app-data-<span class="hljs-keyword"><span class="hljs-keyword">group</span></span> datafile.txt</code> </pre> <br>  Jalankan ls untuk mendapatkan output "diperluas" dari file ini dan melihat izin dan status barunya.  Harap dicatat: seperti yang diharapkan, file tersebut dimiliki oleh pengguna <code>ubuntu</code> milik grup <code>app-data-group</code> . <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> ls <span class="hljs-literal"><span class="hljs-literal">-l</span></span> | grep datafile.txt <span class="hljs-literal"><span class="hljs-literal">-rwxrwx</span></span> — — <span class="hljs-number"><span class="hljs-number">1</span></span> ubuntu app<span class="hljs-literal"><span class="hljs-literal">-data</span></span><span class="hljs-literal"><span class="hljs-literal">-group</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> Aug <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span> datafile.txt</code> </pre> <br>  Anda dapat menggunakan <code>usermod</code> untuk menambahkan pengguna Anda ke <code>app-data-group</code> , dan kemudian menggunakan perintah <code>su</code> untuk beralih ke shell di mana akun pengguna lain dikerahkan.  Sekarang, meskipun hak akses ke file memblokirnya dari semua "orang lain" - dan Anda jelas merupakan pengguna "berbeda" saat ini - Anda harus membaca file ini dengan bebas, karena Anda termasuk dalam grup yang diperlukan. <br><br><pre> <code class="hljs smalltalk"># usermod -aG app-data-group otheruser <span class="hljs-string"><span class="hljs-string">$ </span></span>su otheruser <span class="hljs-string"><span class="hljs-string">$ </span></span>cat datafile.txt <span class="hljs-type"><span class="hljs-type">Hello</span></span> <span class="hljs-type"><span class="hljs-type">World</span></span></code> </pre> <br>  Menggunakan perintah <code>su</code> , kami beralih di antara akun pengguna.  Mereka direkam dalam file <code>datafile.txt</code> saya.  Organisasi semacam itu adalah cara yang tepat dan efektif untuk menghilangkan berbagai masalah kompleks dengan hak akses yang mungkin timbul dalam sistem multi-pengguna. <br><br>  Pada kenyataannya, ini digunakan tidak hanya untuk memberikan hak akses yang diperlukan bagi pengguna individu - banyak proses sistem juga tidak akan dapat melaksanakan tugas mereka jika mereka tidak ditentukan keanggotaan dalam kelompok yang diperlukan.  Anda dapat melihat file / etc / group secara diagonal - perhatikan berapa banyak proses sistem milik grup Anda sendiri ... <br><br>  Daftar singkat dari isi file / etc / group: <br><br><pre> <code class="hljs ruby">$ cat /etc/group <span class="hljs-symbol"><span class="hljs-symbol">root:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">daemon:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">bin:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">sys:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">adm:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-symbol"><span class="hljs-symbol">:syslog</span></span> <span class="hljs-symbol"><span class="hljs-symbol">tty:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">disk:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">lp:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">mail:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">8</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">news:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">9</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">uucp:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">man:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-symbol"><span class="hljs-symbol">proxy:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">13</span></span>: […]</code> </pre> <br><h3>  Isolasi Proses Kontainer </h3><br>  Mungkin Anda khawatir bahwa banyak layanan yang berjalan di server yang sama akan berisiko jika setidaknya salah satu dari layanan ini dikompromikan?  Salah satu opsi untuk memuluskan kerusakan yang dapat ditimbulkan oleh pengguna yang ceroboh atau jahat adalah mengisolasi sumber daya dan proses sistem.  Jadi, bahkan jika seseorang ingin memperluas otoritasnya di luar batas yang ditetapkan, ia tidak akan mendapatkan akses fisik ke data. <br><br>  Sebelumnya, diputuskan untuk menyelesaikan masalah ini sebagai berikut: setiap layanan dialokasikan mesin fisiknya sendiri.  Namun, virtualisasi membuatnya lebih mudah dan lebih murah untuk membangun arsitektur "mesh".  Hari ini, arsitektur ini sering disebut sebagai <i>microservice</i> dan memungkinkan Anda untuk menjalankan banyak wadah sekaligus, di mana salah satu di antaranya, misalnya, basis data dapat berfungsi, di sisi lain - Apache, dan di file media ketiga yang dapat disematkan di laman web Anda.  Arsitektur microservice memungkinkan tidak hanya untuk secara signifikan meningkatkan produktivitas dan efisiensi, tetapi juga secara signifikan mengurangi risiko peretasan setiap komponen individu. <br><br>  "Wadah" yang saya bicarakan tidak harus meyakinkan dengan LXC.  Teknologi wadah lainnya seperti Docker menjadi jauh lebih populer saat ini. <br><br><h3>  Memeriksa nilai ID pengguna yang berbahaya </h3><br>  Tentu saja, setiap pengguna dengan hak administrator untuk sementara waktu dapat menyediakan akses root dengan <code>sudo</code> , tetapi hanya admin yang merupakan admin sebenarnya.  Seperti yang sudah Anda ketahui, tidak aman untuk melakukan fungsi biasa di bawah akses root.  Namun, ini dapat terjadi - baik murni karena kecelakaan atau karena penipuan data berbahaya - bahwa pengguna biasa akan memiliki hak administratif tanpa gangguan. <br><br>  Dalam hal ini, ada baiknya bahwa tidak sulit untuk mengidentifikasi penipu tersebut: ID pengguna dan / atau grup mereka, seperti yang dimiliki administrator, adalah "0".  Lihatlah file passwd di direktori / etc /.  File ini berisi catatan untuk setiap akun pengguna sistem dan reguler yang sudah ada di sistem.  Kolom pertama berisi nama akun (dalam hal ini, root dan ubuntu), dan kolom kedua berisi x bukan kata sandi (jika kata sandi ada, itu akan dienkripsi dalam file / etc / shadow).  Tetapi dua bidang berikut berisi ID pengguna dan grup.  Dalam kasus <code>ubuntu</code> dalam contoh ini, kedua ID adalah 1000. Dan administrator, seperti yang Anda lihat, memiliki nol di sini. <br><br><pre> <code class="hljs ruby">$ cat /etc/passwd <span class="hljs-symbol"><span class="hljs-symbol">root:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/bin/bash</span></span> […] <span class="hljs-symbol"><span class="hljs-symbol">ubuntu:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">1000</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">1000</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/home/ubuntu</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/bin/bash</span></span></code> </pre> <br>  Jika Anda pernah bertemu dengan pengguna biasa dengan ID pengguna atau grup = 0, maka Anda dapat yakin bahwa masalahnya tidak bersih dan bahwa situasinya perlu diperbaiki.  Cara cepat dan mudah untuk mengidentifikasi masalah seperti itu adalah dengan memeriksa <code>passwd</code> dengan perintah <code>awk</code> , yang akan menampilkan semua baris di bidang ketiga yang tidak ada apa pun selain 0. Dalam kasus saya (Anda dapat menghembuskan napas) hanya ada satu baris seperti itu - root.  Anda dapat menjalankannya kembali dengan mengganti $ 4 dengan $ 3 - ini akan memeriksa bidang ID grup. <br><br><pre> <code class="hljs ruby">$ awk -<span class="hljs-symbol"><span class="hljs-symbol">F:</span></span> <span class="hljs-string"><span class="hljs-string">'($3 == “0”) {print}'</span></span> /etc/passwd <span class="hljs-symbol"><span class="hljs-symbol">root:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/bin/bash</span></span></code> </pre> <br><h3>  Audit Sumber Daya Sistem </h3><br>  Semakin banyak barang yang ada di sistem Anda, semakin tinggi kemungkinan sesuatu di dalamnya akan pecah.  Karena itu, bijaksana untuk melacak apa yang berhasil dan bagaimana.  Dalam hal ini, kita berbicara tentang port jaringan (jika port "terbuka", maka menurut definisi itu harus menjadi pintu masuk), layanan (jika layanan aktif, maka mungkin untuk menggunakannya) dan tentang program yang diinstal (jika program diinstal, harus kemampuan untuk melakukannya). <br><br>  Agar audit bermanfaat, itu harus lebih atau kurang teratur.  Karena kita semua pelupa, jauh lebih baik untuk menulis alat audit dalam skrip khusus yang tidak hanya akan dieksekusi secara teratur, tetapi idealnya menguraikan hasilnya untuk membuatnya lebih mudah dibaca. <br><br>  Namun, di sini, saya memperkenalkan Anda kepada tiga alat audit utama yang akan membantu Anda melihat port terbuka, layanan aktif, dan paket perangkat lunak yang tidak perlu.  Tugas Anda adalah untuk mengotomatisasi semua ini. <br><br><h3>  Pemindaian port </h3><br>  Port dianggap “terbuka” jika host menjalankan proses yang mendengarkan permintaan pada port ini.  Mengawasi port terbuka Anda, Anda akan lebih memahami apa yang sebenarnya terjadi di server Anda. <br><br>  Anda sudah tahu bahwa port HTTP (80) dan SSH (22) mungkin harus terbuka di server web biasa, jadi mereka tidak akan mengejutkan Anda.  Tetapi jauh lebih penting untuk memperhatikan hasil lain yang tidak terduga.  Perintah netstat menampilkan semua port terbuka, serta satu ton informasi tentang bagaimana mereka digunakan. <br><br>  Dalam contoh ini, kami menguji server multiguna yang sangat tipikal, dan perintah <code>-n</code> memberi tahu <code>netstat</code> untuk mengaktifkan semua port numerik dan alamat.  <code>-l</code> hanya termasuk soket pendengaran, dan <code>-p</code> menambahkan ID proses dari program mendengarkan.  Wajar jika Anda melihat sesuatu - bertindak. <br><br><pre> <code class="hljs pgsql"># netstat -npl Active Internet connections (<span class="hljs-keyword"><span class="hljs-keyword">only</span></span> servers) Proto <span class="hljs-keyword"><span class="hljs-keyword">Local</span></span> Address <span class="hljs-keyword"><span class="hljs-keyword">Foreign</span></span> Address State PID/Program <span class="hljs-type"><span class="hljs-type">name</span></span> tcp <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">3306</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:* <span class="hljs-keyword"><span class="hljs-keyword">LISTEN</span></span> <span class="hljs-number"><span class="hljs-number">403</span></span>/mysqld tcp <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:<span class="hljs-number"><span class="hljs-number">139</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:* <span class="hljs-keyword"><span class="hljs-keyword">LISTEN</span></span> <span class="hljs-number"><span class="hljs-number">270</span></span>/smbd tcp <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:* <span class="hljs-keyword"><span class="hljs-keyword">LISTEN</span></span> <span class="hljs-number"><span class="hljs-number">333</span></span>/sshd tcp <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:<span class="hljs-number"><span class="hljs-number">445</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>:* <span class="hljs-keyword"><span class="hljs-keyword">LISTEN</span></span> <span class="hljs-number"><span class="hljs-number">270</span></span>/smbd tcp6 :::<span class="hljs-number"><span class="hljs-number">80</span></span> :::* <span class="hljs-keyword"><span class="hljs-keyword">LISTEN</span></span> <span class="hljs-number"><span class="hljs-number">417</span></span>/apache2 […]</code> </pre><br>  Dalam beberapa tahun terakhir, <code>ss</code> digunakan lebih banyak daripada <code>netstat</code> .  Untuk jaga-jaga: jika suatu malam Anda menemukan diri Anda di perusahaan dan seseorang bertanya tentang ss, maka contoh ini (yang mencantumkan semua koneksi SSH yang diinstal) harus cukup informatif sehingga Anda tidak dapat menghadapi kotoran: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> ss <span class="hljs-literal"><span class="hljs-literal">-o</span></span> state established <span class="hljs-string"><span class="hljs-string">'( dport = :ssh or sport = :ssh )'</span></span> Netid Recv<span class="hljs-literal"><span class="hljs-literal">-Q</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Send-Q</span></span> Local Address:Port Peer Address:Port tcp <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">3.1</span></span>:<span class="hljs-number"><span class="hljs-number">39874</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">3.96</span></span>:ssh timer:(keepalive,<span class="hljs-number"><span class="hljs-number">18</span></span>min,<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><h3>  Memeriksa Layanan Aktif </h3><br>  Jika Anda mengambil snapshot cepat dari layanan yang dikelola oleh <code>system</code> dan saat ini aktif di komputer Anda, mesin akan membantu mengidentifikasi aktivitas yang tidak diinginkan.  Perintah <code>systemctl</code> dapat membuat daftar semua layanan yang ada, dan kemudian daftar mereka dapat dipersempit menjadi layanan yang deskripsinya <code>enabled</code> .  Jadi hanya layanan aktif yang akan dikembalikan. <br><br><pre> <code class="hljs mel"># systemctl list-<span class="hljs-keyword"><span class="hljs-keyword">unit</span></span>-files — type=service — state=enabled autovt@.service enabled bind9.service enabled cron.service enabled dbus-org.freedesktop.thermald.service enabled docker.service enabled getty@.service enabled haveged.service enabled mysql.service enabled networking.service enabled resolvconf.service enabled rsyslog.service enabled ssh.service enabled sshd.service enabled syslog.service enabled systemd-timesyncd.service enabled thermald.service enabled unattended-upgrades.service enabled ureadahead.service enabled</code> </pre> <br>  Jika Anda menemukan sesuatu yang jelas tidak <code>systemctl</code> , Anda dapat menggunakan perintah <code>systemctl</code> untuk menghentikan layanan dan memastikan bahwa itu tidak me-restart pada boot berikutnya. <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># systemctl stop haveged # systemctl disable haveged</span></span></code> </pre> <br>  Sebenarnya, tidak ada yang gelap dan suram dalam layanan yang saya hentikan dalam contoh ini: ini adalah alat yang sering saya jalankan untuk membuat aktivitas sistem latar belakang acak ketika saya membuat kunci enkripsi. <br>  Cari program yang diinstal <br><br>  Bisakah seseorang menginstal program di sistem tanpa sepengetahuan Anda?  Nah, untuk mencari tahu - Anda perlu mencarinya.  Perintah <code>yum list installed</code> atau, dalam kasus Debian / Ubuntu, <code>dpkg — list</code> akan memberi Anda ringkasan terperinci, dan perintah hapus harus menghapus semua paket yang tidak kita butuhkan. <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># yum list installed # yum remove packageName</span></span></code> </pre> <br>  Inilah cara melakukan hal yang sama di Ubuntu: <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># dpkg --list # apt-get remove packageName</span></span></code> </pre> <br>  Juga berguna untuk melacak perubahan yang dilakukan pada file konfigurasi sistem Anda - kita akan membicarakan hal ini di Bab 11. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425571/">https://habr.com/ru/post/id425571/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425559/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 10: Eksekusi Simbolik, Bagian 3</a></li>
<li><a href="../id425561/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 10: Eksekusi Simbolik, Bagian 2</a></li>
<li><a href="../id425563/index.html">California melarang penjualan perangkat IoT dengan atau tanpa kata sandi sederhana</a></li>
<li><a href="../id425565/index.html">Matematika fixed-point cepat untuk aplikasi keuangan di Jawa</a></li>
<li><a href="../id425569/index.html">Pengujian Fungsional PCB</a></li>
<li><a href="../id425575/index.html">Peradangan saraf</a></li>
<li><a href="../id425581/index.html">Jetpack 11 Oktober 1961: Presiden membuka mulutnya ...</a></li>
<li><a href="../id425583/index.html">Segala sesuatu yang masih membingungkan robot mobil, dimulai dengan burung camar</a></li>
<li><a href="../id425587/index.html">Uji Coba Ekspres Allotopic Mice Direncanakan</a></li>
<li><a href="../id425589/index.html">Berita Anti-Penuaan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>