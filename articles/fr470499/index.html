<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🚀 👴🏾 💘 Comment utiliser au mieux les interruptions dans Unity Animator 👨🏻‍⚖️ ⏭️ 👼🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'effet wow dans les jeux peut être obtenu non seulement par des mécanismes inattendus ou un traceur, mais aussi par l'animation - dans les projets mo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment utiliser au mieux les interruptions dans Unity Animator</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/playgendary/blog/470499/"><img src="https://habrastorage.org/webt/bi/hw/2-/bihw2-y-aymzzxpt3fendgb_n8m.png"><br><br>  L'effet wow dans les jeux peut être obtenu non seulement par des mécanismes inattendus ou un traceur, mais aussi par l'animation - dans les projets mobiles, ce dernier a souvent un accent particulier.  Par conséquent, j'ai décidé de partager une traduction intéressante de matériel sur Unity Animator.  Inside - sur la priorité des transitions d'animation et la commutation compétente entre les états. <a name="habracut"></a><br><br>  Le mécanisme d'interruption dans Unity Animator ne vaut presque pas les tutoriels et la documentation, donc beaucoup arrêtent simplement de l'étudier.  Ce n'est qu'avec l'expérience que j'ai compris quels modèles et signes il y a pour utiliser une interruption. <br><br>  L'article est divisé en trois parties: <br><br><ul><li>  Dans la première, je vais vous dire quelles sont les interruptions, quels types existent et comment les utiliser au mieux. </li><li>  La seconde concerne les signes qui indiquent la nécessité d'une interruption.  Jetez un œil à Animator et voyez comment vous pouvez remplacer les transitions inutiles. </li><li>  Dans le troisième, nous parlerons de la façon d'organiser le travail dans Animator et d'empêcher sa croissance incontrôlée.  Cela est particulièrement vrai pour les grandes équipes dans lesquelles plusieurs personnes sont engagées dans le même animateur. </li></ul><br><img src="https://habrastorage.org/webt/6v/z3/9d/6vz39dhjbnwyylyfow5b-i0ivhy.jpeg"><br><br><h3>  Partie 1: qu'est-ce qu'une «interruption»? </h3><br>  L'interruption est une fonctionnalité d'Unity Animator qui vous permet d'arrêter la transition de l'animation d'un état à un autre afin de passer au troisième. <br><br>  C'est le seul moyen qui vous permet d'effectuer un mélange d'une transition incomplète à l'état souhaité.  Avec lui, vous ne comptez pas sur un changement d'état brutal ou, pire encore, sur les transitions Any State.  Je vous expliquerai plus en détail plus tard. <br><br>  Il existe plusieurs types d'interruption de base: <br><br><img src="https://habrastorage.org/webt/v9/a9/sl/v9a9slxwaeu9o8yqaqtzqg7k7vk.png"><br><br>  <b>État actuel</b> <br><br>  Si plusieurs transitions sont fournies à partir d'un certain état et qu'une autre est lancée pendant l'un d'entre eux, la commutation sera effectuée à partir du point actuel, comme indiqué dans le diagramme: <br><br><img src="https://habrastorage.org/webt/2q/iy/dh/2qiydhpcziiv9503kyg3ogrdjuk.jpeg"><br><br>  <b>État suivant</b> <br><br>  Le prochain état fonctionne de manière similaire à l'état actuel.  Mais ici, Animator analysera les transitions de l'état suivant, tandis que la transition de l'état actuel est toujours en vigueur. <br><br><img src="https://habrastorage.org/webt/yc/m6/nn/ycm6nn7oao6tf8-claxwfbhmj8i.jpeg"><br><br>  <b>État actuel, puis état suivant (d'abord, état actuel, puis suivant)</b> <br><br>  Quelque part ici, les gens sont ennuyés par la théorie et perdent tout intérêt pour le sujet.  Attends!  Cela portera votre compétence avec Animator à un nouveau niveau. <br><br>  Après avoir maîtrisé l'état actuel et l'état suivant, vous comprendrez certainement le troisième type, car c'est leur combinaison.  Dans ce document, Animator analysera la transition actuelle image par image à la recherche d'autres qui peuvent être effectuées à partir de l'état initial.  S'ils ne sont pas trouvés, Animator analysera l'état suivant à la recherche d'une transition appropriée.  Dans le même temps, en passant à une nouvelle transition dans le processus d'exécution de la précédente, Animator se comportera exactement de la même manière que dans les exemples ci-dessus. <br><br>  <b>État suivant puis état actuel (premier état suivant, puis courant)</b> <br><br>  Tout est comme dans le troisième type, seul l'ordre d'analyse sera inversé. <br><br>  <b>Interruption ordonnée</b> <br><br><img src="https://habrastorage.org/webt/ht/js/b1/htjsb1s4wykmbi_3ptei6ltp8qc.png"><br><br>  Pour chaque état, la priorité des transitions (de haut en bas) est définie, comme ceci: <br><br><img src="https://habrastorage.org/webt/xs/aq/8z/xsaq8zmxaxx65txvl6qbwga218c.png"><br><br>  Si auparavant vous ne saviez pas pourquoi faire glisser des composants dans cette liste - le tour est joué!  Ici, vous classez la priorité de transition. <br><br>  Lorsque l'interruption ordonnée est cochée, l'animateur n'interrompt que si la priorité de la nouvelle transition est supérieure à la priorité de la transition en cours.  Et plus la transition se situe dans cette liste, plus sa priorité est grande. <br><br><h3>  Partie 2: comment déterminer où casser </h3><br>  Lorsque vous travaillez avec des interruptions, il est très difficile de déterminer exactement quand les utiliser.  Et dans certaines situations, ils sont nécessaires - avec le temps, vous commencez à le remarquer. <br><br>  Prenons l'exemple le plus frappant.  Un schéma familier? <br><br><img src="https://habrastorage.org/webt/l4/7p/28/l47p28yszhkzcynluz1qctjz100.png"><br><br>  Tout revient à n'importe quel État.  Non? <br><br>  Non. <br><br>  C'est le premier signe que la plupart de vos transitions se font mieux avec des interruptions.  Les transitions de n'importe quel État ont droit à la vie dans des cas particuliers, mais la plupart des gens les utilisent quand ils ont vraiment besoin (enfin, vous l'avez deviné) d'interruptions. <br><br>  <b>Modèles d'interruption de l'état actuel:</b> <br><br><img src="https://habrastorage.org/webt/ye/p5/jd/yep5jdkjicevap139ia7w9uknc4.png"><img src="https://habrastorage.org/webt/re/fn/j8/refnj861tdfkiqgwejqqn39tbyg.png"><br><br>  Souvent, Tout État est créé uniquement pour la transition vers le deuxième état, lorsque le premier a déjà commencé.  Oubliez ça.  Utilisez des interruptions. <br><br>  Autre exemple: nous avons une transition de FirstState à SecondState, mais l'heure de sortie n'est pas définie, l'heure de transition est 0 et une condition est spécifiée.  L'interruption résoudra idéalement ce problème.  Vous ne pouvez pas vous tourner vers N'importe quel état car il a déjà été utilisé trop souvent et en l'ajoutant à SecondState, vous activez des états qui ne sont pas nécessaires dans ce cas. <br><br>  <b>Modèles d'interruption de l'état suivant:</b> <br><br><img src="https://habrastorage.org/webt/mh/vs/b0/mhvsb0yrjkcrejsdzneoolwojew.png"><br><br>  Très souvent, il y a des transitions avec un temps de sortie et des conditions de transition complètement fous.  Réglez l'interruption correctement et vous atteindrez plus facilement le même objectif.  Comme vous pouvez le voir, tout État se trouve souvent là où des interruptions sont nécessaires. <br><br>  N'oubliez pas que vous pouvez ajouter plusieurs transitions à partir de deux états identiques afin d'utiliser correctement l'interruption. <br><br>  Habituellement, tous les autres modèles sont des combinaisons des exemples décrits ci-dessus. <br><br>  <b>Situations typiques d'interruption:</b> <br><br>  Dans certaines situations, les interruptions sont la meilleure solution.  Un peu de pratique dans Animator, et vous pouvez facilement apprendre à les remarquer. <br><br>  <b>a) L'action suivante devrait immédiatement déclencher une animation.</b> <br><br>  Cela se produit souvent dans les jeux d'action où les entrées sont nombreuses et vous devez prendre rapidement les mesures suivantes. <br><br>  Par exemple, les gens utilisent souvent des transitions Any State (ou plusieurs transitions avec des configurations différentes) pour passer en douceur d'un double saut à un jerk. <br><br>  Il est nécessaire de cartographier toutes les actions possibles, de définir la durée des événements et de l'ajouter aux états et aux transitions.  Et puis définissez des interruptions pour passer correctement d'un événement à un autre. <br><br>  <b>b) L'animation a commencé, mais la situation a changé et nous devons passer à une séquence d'animations différente.</b> <br><br>  Cela se produit souvent avec les animateurs d'interface utilisateur, dans lesquels vous pouvez ignorer certains éléments de menu, et les sous-menus peuvent être affichés au-dessus de tout le reste. <br><br>  Les gens ajoutent souvent plusieurs animateurs au même objet et définissent leurs conditions d'activation / désactivation pour ignorer une animation et en démarrer une autre.  C'est un autre exemple où les interruptions valent la peine d'être utilisées. <br><br>  <b>c) Vous devez quitter la chaîne d'animation actuelle.</b> <br><br>  Les interruptions peuvent être connectées les unes aux autres - vous obtenez une séquence d'interruptions qui vous mènera à une nouvelle chaîne.  Dans ce cas, tous les états seront complétés correctement et en temps opportun.  Ici, vous pouvez utiliser les interruptions de l'état suivant. <br><br><h3>  Partie 3: tout dans Animator doit être clair </h3><br>  Travailler avec Animator est un type d'art particulier.  Plus il y a de pratique, plus les progrès sont évidents.  Un flux de travail clair et cohérent a toujours un effet positif sur les résultats. <br><br>  Recommandations pour éviter toute confusion dans Animator: <br><br><ol><li>  Utilisez des machines à sous-états et essayez de contourner les transitions vers les états internes.  La machine de sous-état correcte fonctionne indépendamment en entrée et en sortie, utilise des transitions qui dirigent le flux vers l'intérieur et sait quoi faire du résultat.  De cette façon, vous pouvez éviter les problèmes critiques lorsque vous travaillez dans Animator. </li><li>  Utilisez le moins possible n'importe quel État.  Réfléchissez si c'est vraiment nécessaire.  Contactez vos collègues.  Et seulement si tout le monde est d'accord, utilisez les transitions Any State. </li><li>  S'il vous semble que votre animateur devrait être plus simple que maintenant - rangez-le.  C'est le meilleur moyen de perfectionner vos compétences. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470499/">https://habr.com/ru/post/fr470499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470483/index.html">Laboratoire de technologie Azure à Moscou</a></li>
<li><a href="../fr470487/index.html">Compétitions technologiques Radiofest-2019</a></li>
<li><a href="../fr470489/index.html">Security Week 41: plus de vulnérabilités dans les cartes SIM, déchiffrement PDF</a></li>
<li><a href="../fr470491/index.html">Des épines au jeu des rêves - le progrès et l'évolution des créatures</a></li>
<li><a href="../fr470497/index.html">Comment utiliser systemd-nspawn pour restaurer un système Linux</a></li>
<li><a href="../fr470503/index.html">Utilisateurs et autorisation de Kubernetes RBAC</a></li>
<li><a href="../fr470511/index.html">L'informatique en Arménie: secteurs stratégiques et sphères technologiques du pays</a></li>
<li><a href="../fr470513/index.html">Comment j'ai trouvé une maison intelligente dominée par un botnet</a></li>
<li><a href="../fr470515/index.html">Une petite étape pour le testeur: les 10 meilleurs rapports de Heisenbug 2019 Piter</a></li>
<li><a href="../fr470517/index.html">EP russe pour les plus petits</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>