<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐ ุงูุฑููุฒ ุงููุดูุฑุฉ PKCS # 11. ุฃุฏุงุฉ ุฑุณูููุฉ "ูุน ูุธููุฉ ุงูุชูููุน ูุฅุถุงูุฉ ุทุงุจุน ุฒููู." ุงูุฌุฒุก 1 ๐ฅง ๐ง๐ฟ ๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูุชุนูููุงุช ุนูู ุงูููุงู "ุงุณุชุฎุฏุงู PKCS # 11 ุขููุงุช ุงูุชุดููุฑ ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงููุตูุฉ" ุ ูุชุจ ูุงุฑุฆ kovserg : 
 "ูุญู ูุชุทูุน ุฅูู ููุงู ูุน ูุธููุฉ ุชูููุน ูุซููุฉ ูุฅุถุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุฑููุฒ ุงููุดูุฑุฉ PKCS # 11. ุฃุฏุงุฉ ุฑุณูููุฉ "ูุน ูุธููุฉ ุงูุชูููุน ูุฅุถุงูุฉ ุทุงุจุน ุฒููู." ุงูุฌุฒุก 1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453164/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xh/tq/ph/xhtqphqpspdmceylr6o1duj5vpu.png" align="left">  ูู ุงูุชุนูููุงุช ุนูู ุงูููุงู "ุงุณุชุฎุฏุงู PKCS # 11 ุขููุงุช ุงูุชุดููุฑ ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงููุตูุฉ" ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุจ</a> ูุงุฑุฆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">kovserg</a> : <br><blockquote style=";text-align:right;direction:rtl">  "ูุญู ูุชุทูุน ุฅูู ููุงู ูุน ูุธููุฉ ุชูููุน ูุซููุฉ ูุฅุถุงูุฉ ุทุงุจุน ุฒููู." </blockquote>  ูู ููุช ุณุงุจู ุ ูุชุจ ูุดุงุฑู ุขุฎุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">pas</a> Habr ุฃูู ุณูููู ูู ุงูุฑุงุฆุน ุจุงููุณุจุฉ ูุฑููุฒ PKCS # 11 ุ "ุงูุชู ูููู ูุฃู ุดุฎุต ุญุณุงุจูุง" (ุจูุนูู ุนูููุงุช ุงูุชุดููุฑ ูู ุงูููุงู ุงูุฃูู ูุฅูุดุงุก ุงูููุงุชูุญ ูุฅูุดุงุก ุงูููุงุชูุญ ุงูุฅููุชุฑูููุฉ ูุงูุชุญูู ูููุง) ุ ูุงูุชุฎูุต ูู ุฌููุน ุฃููุงุน ุงูุทุจูุงุช ุงูุจูููุฉ ุฃุฏุงุฉ ูุงุญุฏุฉ ูููููุง ุ ุจุงุณุชุฎุฏุงู ุขููุงุช ุงูุฑูุฒ ููุณู ุ ุฃู ุชุดูู ุทูุจ ุดูุงุฏุฉ ูุชูููุน ูุณุชูุฏุงุช ุ ูุงูุชุญูู ูู ุชูููุน ุงููุณุชูุฏุงุช ุ ูุงูุชุญูู ูู ุชูููุน ุงูุดูุงุฏุงุช ูุตูุงุญูุชูุง. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  <font color="1368c2">ุงูุชุนุฑู ุนูู ุงูุฃุฏุงุฉ</font> </h3><br>  ูุชูุฌุฉ ูุฐูู ุ ููุฏู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุฅูู ูุญููุฉ ุงููุณุชุฎุฏููู <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">guipkcs7_tclpkcs11:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="">Linux32</a> </li><li style=";text-align:right;direction:rtl">  <a href="">Linux64</a> </li><li style=";text-align:right;direction:rtl">  <a href="">OS X</a> </li><li style=";text-align:right;direction:rtl">  <a href="">WIN32</a> </li><li style=";text-align:right;direction:rtl">  <a href="">WIN64</a> </li></ul><br></div></div><br><img src="https://habrastorage.org/webt/3a/zo/ob/3azoobtvrkbo6boo_tvquyt03ns.png"><br><br>  ุงูููุฉ ุงูุฏุงูุนุฉ ููุฐู ุงูุฃุฏุงุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑูุฒ</a> ุงูุชุดููุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PKCS # 11</a> ูุน ุฏุนู ููุชุดููุฑ ุงูุฑูุณู ุนูู ุงูุฃูู GOST R 34.10-2012.  ุฅุฐุง ููุช ุชููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุฏูุงุช ุงูุนุงูุฉ</a> ุ ููุง ุฅูู ุฐูู ุ ููุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ุดุฑุงุก ุฑูุฒ ูููุฒ ุงุฌุชุงุฒ ุงุฎุชุจุงุฑุงุช ูุนุชูุฏุฉ ูู ูุธุงู ุดูุงุฏุงุช FSB ูู ุฑูุณูุง.  ุฅุฐุง ูุงูุช ูุฐู ูู ุฅุฏุงุฑุฉ ุงููุณุชูุฏุงุช ุงูุฅููุชุฑูููุฉ ุงูุฏุงุฎููุฉ ุงูุฎุงุตุฉ ุจู ุ ููุฐุง ุจุงูุทุจุน ุ ุญุณุจ ุชูุฏูุฑู.  ูููู ุฃู ุชููู ุงูุฑููุฒ PKCS # 11 ูุฎุชููุฉ: ุงูุจุฑุงูุฌ ุ ุงูุฃุฌูุฒุฉ ุ ุฃู ุญุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุณุญุงุจุฉ</a> .  ุชุชู ูุชุงุจุฉ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ูู ูุบุฉ ุงูุจุฑูุฌุฉ ุงููุตูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Tcl / Tk</a> .  ุนูุฏ ุดุฑุงุก ุฑูุฒ PKCS # 11 ุ ูุง ุชูุณู ุฃู ุชุญุตู ุฃู ุชุณุฃู ุนู ุงูููุงู ุงูุฐู ููููู ุชูุฒูู ุงูููุชุจุงุช ูู ุฎูุงู ุงูุฑูุฒ ุงููููุฒ ุงูุฐู ุชู ุดุฑุงุคู ูุฃูุธูุฉ ุชุดุบูู ูุฎุชููุฉ.  ุงูููุชุจุงุช ุนุงุฏุฉ ูุง ุชููู ูุชุงุญุฉ ุจุญุฑูุฉ.  ุชุณุชุฎุฏู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุญุฒูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TclPKCS11</a> ูููุตูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฒุงุช</a> ุงูุชุดููุฑ ูุบูุฑูุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฒุงุช ุงููููุฒุฉ</a> .  ุชุจุฏุฃ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุจุงุฎุชูุงุฑ ููุชุจุฉ ุชุฏุนู ุงูุฑููุฒ ุงูุฎุงุตุฉ ุจู.  ูุงุญุธ ุฃูู ูููู ูููุชุจุงุช ุงูููุชุจุงุช ุงูุนูู ูู ููุช ูุงุญุฏ ูุน ุนุฏุฉ ุฑููุฒ (combobox "select token / ุงูุจุทุงูุฉ ุงูุฐููุฉ"): <br><br><img src="https://habrastorage.org/webt/hr/1j/zc/hr1jzcxcrdug57at8an0in9ahik.png"><br><br>  ูุฏ ููุดุฃ ุงูุณุคุงู ุ ููู ูุงุฐุง ุฃูุนู ุฅุฐุง ูู ูุชู ุชููุฆุฉ ุงูุฑูุฒ ุงููููุฒ ุฃู ููุช ุจุญุงุฌุฉ ุฅูู ุชุบููุฑ ุฑููุฒ PIN ุ ููุง ุฅูู ุฐููุ  ุงูุฌูุงุจ ุจุณูุท - ุงุณุชุฎุฏู ุฃุฏุงุฉ ุชูููู ุงูุฑูุฒ ุงููููุฒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">p11conf</a> . <br><br>  ูุชุญุฏูุซ ูุงุฆูุฉ ุงูุฑููุฒ (ุชุนุทูู ุงูุฑูุฒ ุงููููุฒ ุ ุฃุถู ูุงุญุฏุฉ ุฌุฏูุฏุฉ) ููุท ุงููุฑ <br>  ุจูุงุณุทุฉ ุฃููููุฉ <img src="https://habrastorage.org/webt/wj/dj/xy/wjdjxy2orhsi7op3stcjzpogisa.png">  ุงูููุฌูุฏ ุนูู ูููู combobox "ุงุฎุชุฑ ุฑูุฒ ูููุฒ / ุงูุจุทุงูุฉ ุงูุฐููุฉ" <br>  ูุญุชูู combox "Certificate" ุนูู ุชุณููุงุช ูุฌููุน ุงูุดูุงุฏุงุช ุงููุฎุฒูุฉ ุนูู ุงูุฑูุฒ ุงููููุฒ (ุงูุญุงูู) ุงููุญุฏุฏ: <br><br><img src="https://habrastorage.org/webt/ws/ew/bx/wsewbxr_8nksvtk9j-ckfs_ixwe.png"><br><br>  ุฅุฐุง ููุช ุจุงูููุฑ ููู ุงูุฑูุฒ <img src="https://habrastorage.org/webt/ko/sk/sc/koskscpianfsm5kgw_1peg91t6u.png">  ุงูููุฌูุฏ ุนูู ูููู ุดูุงุฏุฉ combobox ุ ุชุธูุฑ ูุงูุฐุฉ ุชุญุชูู ุนูู ูุญุชููุงุช ุงูุดูุงุฏุฉ: <br><br><img src="https://habrastorage.org/webt/9x/tg/qi/9xtgqiqpbgtwhu1nyb7p0ttkii4.png"><br><br>  ุฅุฐุง ููุช ุจุงูููุฑ ููู ุงูุฒุฑ "ุญูุธ / ุญูุธ" ูู ูุงูุฐุฉ ุงูุนุฑุถ ุ ูุณูุชู ุญูุธ ูุญุชููุงุช ุงูุดูุงุฏุฉ ุงูุชู ุชู ุชุญููููุง ุจุชูุณูู ุงููุต ูู ุงูููู ุงูุฐู ุญุฏุฏุชู. <br>  ูุนุฑุถ ูุนูููุงุช ุญูู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ุ ููููู ุงูููุฑ ููู ุงูุฒุฑ "6. ูุนูููุงุช ุนูู ุงูุฑูุฒ ุงููููุฒ" ุฃู ููู ุงููุคุดุฑ ุฅูู ุงูุชุณููุฉ ุงููููุฒุฉ: <br><br><img src="https://habrastorage.org/webt/cb/hn/5y/cbhn5yy0qyyremnetuakmcreoia.png"><br><br>  ููุนุฑูุฉ ุขููุงุช ุงูุชุดููุฑ ุงูุชู ูุฏุนููุง ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ุ ูุง ุนููู ุณูู ุงูููุฑ ููู ุงูุฒุฑ "5. ูุงุฆูุฉ ุงูุขููุงุช": <br><br><img src="https://habrastorage.org/webt/0z/d2/d_/0zd2d_rk1jpetlsa883wthvye0e.png"><br><br><h3 style=";text-align:right;direction:rtl">  <font color="1368c2">ุฅูุดุงุก ุทูุจ ุดูุงุฏุฉ</font> </h3>  ููุฑ ุฅูู ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ ููุฃุฏุงุฉ.  ูุฃูู ูุธููุฉ ูู ูุฐุง ุงููุจูู ูู ุฅูุดุงุก ุทูุจ ุดูุงุฏุฉ (ุฒุฑ "3. ุทูุจ โโุดูุงุฏุฉ"): <br><br><img src="https://habrastorage.org/webt/z9/ef/lf/z9eflfzgcrus2an8mc86t9djsv8.png"><br><br>  ุชุธูุฑ ุงูุฑุณุงูุฉ "ุงูุฑูุฒ ูุง ูุฏุนู ุงูููุงุชูุญ ..." ุฅุฐุง ูุงู ุงูุฑูุฒ ุงููููุฒ ุงููุญุฏุฏ ูุง ูุฏุนู ุฅูุดุงุก ูุฐุง ุงูููุน ูู ุงูููุงุชูุญ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ููุน ูุฎุชูู ูู ุงูููุชุงุญ ุฃู ุฑูุฒ ูููุฒ ุขุฎุฑ.  ูู ูุฐุง ุงููุซุงู ุ ููููู ุงุณุชุฎุฏุงู ุงูุฑูุฒ ุงููููุฒ RuToken ECP 2.0 (ุงูุธุฑ ููุทุฉ ุงูุดุงุดุฉ ุงูุซุงููุฉ).  Combobox "ุญุงูู ุงูุดูุงุฏุฉ" ูุณูุญ ูู ุจุชุญุฏูุฏ ูู ุณูููู ุงูุดูุงุฏุฉ: ูุฑุฏ ุฃู ููุงู ูุงูููู ุฃู ุฑุฌู ุฃุนูุงู ูุฑุฏู.  ุจูุงุกู ุนูู ุฐูู ุ ุณูุชู ุชุดููู ุงูุญููู ุงููุฑุงุฏ ููุคูุง ุนูู ุงูุตูุญุงุช ุงูุชุงููุฉ. <br><br>  ุญูู ููู ููุง ูู ุญูู "ุงุณู CIPF".  ุฅูู ุฌุฒุก ูุง ูุชุฌุฒุฃ ูู ุงูุดูุงุฏุฉ ุงููุคููุฉ ููุดูุฑ ุฅูู ููููุฉ ููุงู ูุธุงู ุญูุงูุฉ ูุนูููุงุช ุงูุชุดููุฑ ุจุฅูุดุงุก ุฒูุฌ ุงูููุงุชูุญ.  ููููู ูุนุฑูุฉ ุงุณู ุดูุงุฏุฉ ุญูุงูุฉ ูุนูููุงุช ุงูุชุดููุฑ ูู ูููุฐุฌ ุงูููุชุฌ ุฃู ูู ููุช ุดุฑุงุก ุงูุฑูุฒ ุงููููุฒ.  ูู ูุชุฒุงูู ุญูู ุงููุชุงุจุฉ ูู ุงููุนูููุงุช ุงูุฑูุฒูุฉ ูุน ุงุณู ูุธุงู ุญูุงูุฉ ูุนูููุงุช ุงูุชุดููุฑุ  ูุฐูู ูู ุงูุฃูุถู ุฑุคูุฉ ุงููููุฐุฌ.  ุงููุฑ ููู "ุงูุชุงูู" ูุงููุฃ ุงูุญููู ุงููุทููุจุฉ: <br><br><img src="https://habrastorage.org/webt/gj/vi/rx/gjvirxly5zr2gy1d22h-ifdzoei.png"><br><br>  ุนูุฏ ุงูุชุนุจุฆุฉ ุ ุชุญุงูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูุชุญูู ูู ุตุญุฉ ููุก ุงูุญููู (ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุ PSRN ุ ููุง ุฅูู ุฐูู) ุนู ุทุฑูู ุฅุตุฏุงุฑ ุงูุชุญุฐูุฑุงุช ุงูููุงุณุจุฉ.  ุจุนุฏ ููุก ุงูุญููู ุงูุฑุฆูุณูุฉ ุ ุณููุทูุจ ููู ุชุญุฏูุฏ ุชูุณูู ููููุน ุชุฎุฒูู ุทูุจ ุงูุดูุงุฏุฉ ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู.  ุณููุทูุจ ููู ุฃูุถูุง ุฅุฏุฎุงู ุฑูุฒ PIN ุงูุฎุงุต ุจุฑูุฒู: <br><br><img src="https://habrastorage.org/webt/kg/xm/bm/kgxmbm_2xtski-x5fhh4jzkyeys.png"><br><br>  ุจุนุฏ ุงูููุฑ ุนูู ุฒุฑ "ุงูุชุงูู" ุ ุณููุทูุจ ููู ุงููุธุฑ ูุฑุฉ ุฃุฎุฑู ูู ูุง ุฃุฏุฎูุชู ูุชุฃููุฏ ูุฑุงุฑู ุนู ุทุฑูู ุงูุถุบุท ุนูู ููุชุงุญ "ุฅููุงุก": <br><br><img src="https://habrastorage.org/webt/kk/yv/gr/kkyvgr2ayqktgluvfms_ooxhn5w.png"><br><br>  ูุฅุฐุง ููุช ุจุงูููุฑ ููู ุงูุฒุฑ "ุฅููุงุก" ุ ูุณูุชู ุฅูุดุงุก ุฒูุฌ ููุงุชูุญ ุนูู ุงูุฑูุฒ ุงููููุฒ ุงูุฎุงุต ุจู ุ ูุณูุชู ุฅูุดุงุก ุทูุจ ูุชูููุนู: <br><br><img src="https://habrastorage.org/webt/uo/hj/nr/uohjnrhhbt6ih9qbsbdxzu3wqg0.png"><br><br>  ููู ููููู ุงูุชุฃูุฏ ูู ุฅูุดุงุก ุงูููุงุชูุญ ูุชุฎุฒูููุง ุนูู ุงูุฑูุฒ ุงููููุฒุ  ูุนู.  ูุถุบุท ุนูู ุงูุฒุฑ "7. ูุงุฆูุงุช ุฑูุฒูุฉ" ุ ูุฃุฏุฎู ุฑูุฒ PIN ูููุตูู ุฅูู ุงูุฑูุฒ ุงููููุฒ ูุงุจุญุซ ุนู ูุงุฆูุงุช SKO_PRIVATE_KEY ู CKO_PUBLIV_KEY ุ ุงูุชู ุชุชุทุงุจู ุชุณููุงุชูุง ูุน ุญูู "COMMON NANE" (CN) ุงูุฐู ููุช ุจููุฆู ุนูุฏ ุฅูุดุงุก ุทูุจ ุงูุดูุงุฏุฉ.  ูู ูุซุงููุง ุ ูุงู "ุงููู ุงูุนุธูู": <br><br><img src="https://habrastorage.org/webt/vv/rp/jm/vvrpjmoqxpgjfolr_mzino1uwhc.png"><br><br>  ุจุฏุง ูุงูุชูู ุนูู ุงูููุฑ ุฅูู ุตูุญุฉ ุฃุฎุฑู.  ุฃูุถู ุฏููู ุนูู ุฃู ุฒูุฌ ุงูููุงุชูุญ ูุฏ ุชู ุฅูุดุงุคู ุจูุฌุงุญ ูู ูุฌูุฏ ุงูุทูุจ ุงููููุน ููุณู.  ููุชุญูู ูู ุฐูู ุ ุงุถุบุท ุนูู ุงูุฒุฑ "ุนุฑุถ ุงูุทูุจ / ุงูุดูุงุฏุฉ" ุ ูุญุฏุฏ ุงูุทูุจ ุงููุญููุธ ุ ูุงููุฑ ููู ุงูุฒุฑ "ุนุฑุถ ุทูุจ ุงูุดูุงุฏุฉ" ูุงูุธุฑ ุฅูู ุงููุนูููุงุช ุญูู ุฒูุฌ ุงูููุงุชูุญ: <br><br><img src="https://habrastorage.org/webt/hn/xq/o7/hnxqo7b6iqsoa0mcqwxwtjfg5da.png"><br><br>  ุจุนุฏ ุงูุชุฃูุฏ ูู ุฃู ุงูุทูุจ ูุฏ ุชู ุฅูุดุงุคู ุจูุฌุงุญ ุ ูู ุจุฅุฎูุงุก ุงูุฑูุฒ ุงููููุฒ ุจุฃูุงู ุจูุงุณุทุฉ ุงูููุชุงุญ ุงูุฎุงุต ุฃู ุงุฌุนูู ุฃูุฑุจ ุฅูู ุงูููุจ (ูุนุฑู ุงูุฃุดุฎุงุต ูู ุงูุฌูู ุงููุฏูู ููููุฉ ุชุฎุฒูู ุงูุญููุงุช ุฃู ุชุฐุงูุฑ Komsomol) ุ ูุงูุณุฎ ุงูุทูุจ ุฅูู ูุญุฑู ุงูุฃูุฑุงุต ุงููุญููู ุ ูุฃุฎุฐ ุงููุณุชูุฏุงุช ุงููุงุฒูุฉ (ุฌูุงุฒ ุงูุณูุฑ ุ ููุง ุฅูู ุฐูู) ูุงูุชูู ุฅูู ุงููุฑุฌุน ุงููุตุฏู ููุญุตูู ุนูู ุดูุงุฏุฉ.  ูุนู ุ ุฅุฐุง ูู ููู ูุฐุง ูู ุงููุฑุฌุน ุงููุตุฏู (CA) ูู ุงูููุงุทุนุฉ ุ ููุง ูุฒุงู ุนููู ุฏูุน ุงููุงู.  ูู ุดูุก ูุซู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุงุฒ ุณูุฑ</a> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฐูุจ ููุญุตูู ุนูู ุดูุงุฏุฉ ูู ูุงููููุฑููุง</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฅุตุฏุงุฑ ุดูุงุฏุฉ ุฅูู ูุจุฑ ุงูุฌูููุฉ ุ ุณูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุฌุน ุงููุตุฏู</a> ูู ุตูุญุงุช ูุจุฑ ุฌููุนูุง.  CA ูุจุฏุฃ ุงููุธุฑ ูู ุทูุจูุง: <br><br><img src="https://habrastorage.org/webt/nj/za/wt/njzawtbm3ze91qnj2widi-if4wg.png"><br><br>  ุจุนุฏ ุฃู ูุฏุฎู ุงูุชุทุจูู ูุงุนุฏุฉ ุจูุงูุงุช ุงููุฑุฌุน ุงููุตุฏู (CA) ุ ูุนุชุจุฑูุง ุงููุณุคูู ุงููุนุชูุฏ ููุฑูุถูุง ุฃู ููุงูู ุนูููุง: <br><br><img src="https://habrastorage.org/webt/so/pr/zq/soprzqefs9b5w0_5phvien6amog.png"><br><br>  ุจุนุฏ ุงูููุงููุฉ ุนูู ุงูุทูุจ ุ ูุญุฏุฏ ููุฏู ุงูุทูุจ ุ ูุน ุงูุดุฎุต ุงููููุถ ูู CA ุ ุฃุบุฑุงุถ ุงุณุชุฎุฏุงู ุงูุดูุงุฏุฉ: <br><br><img src="https://habrastorage.org/webt/tw/kx/ex/twkxex2i3htjet9bkxm1kdoiuya.png"><br><br>  ูุจุนุฏ ุฐูู ุ ูุง ุดูุก ูููุน ุฅุตุฏุงุฑ ุงูุดูุงุฏุฉ: <br><br><img src="https://habrastorage.org/webt/hb/ox/1c/hbox1clfovnx8ghzsvne5fvsmys.png"><br></div></div><br>  ุจุนุฏ ุฅุตุฏุงุฑ ุงูุดูุงุฏุฉ ุ ูููู ููุธู CA ุจุชุตุฏูุฑ ุงูุดูุงุฏุฉ ุงูุตุงุฏุฑุฉ ุฅูู ูุญุฑู ุงูุฃูุฑุงุต ุงููุญููู ุงูุฎุงุต ุจู Hon. Habr: <br><br><img src="https://habrastorage.org/webt/71/3r/zi/713rzi-nn3sd1v0ockcyfpwphie.png"><br><br><h3 style=";text-align:right;direction:rtl">  <font color="1368c2">ูุถุน ุดูุงุฏุฉ ุฑูุฒูุฉ</font> </h3><br>  ูููุฐุง ูุนูุฏ ุตุงุญุจ ุงูุญุธ ุงููุญุธูุธ ุฅูู ูุทูู ุงูุฃุตูู ููุจู ูู ุดูุก ููุฑุฑ ูุถุน ุดูุงุฏุฉ ุงูุฑูุฒ ุงููููุฒ ุจุฌุงูุจ ุฒูุฌ ุงูููุงุชูุญ.  ููููุงู ุจุฐูู ุ ูู ุงูุฅุทุงุฑ ุงูุฑุฆูุณู ููุฃุฏุงุฉ ุ ุงููุฑ ููู ุงูุฒุฑ "4. ุนุฑุถ ุงูุทูุจ / ุงูุดูุงุฏุฉ" ุ ูุญุฏุฏ ุงูููู ูุน ุงูุดูุงุฏุฉ ูุนูููุฉ "ุนุฑุถ ุงูุดูุงุฏุฉ" ูุงููุฑ ููู ุงูุฒุฑ ูุชูููุฐ ุงูุนูููุฉ ": <br><br><img src="https://habrastorage.org/webt/vp/uh/1n/vpuh1n5xtmcgzri4vf1im1wfq64.png"><br><br>  ูููููุง ุฃูุถูุง ุงูุชุญูู ูู ุตุญุฉ ุงูุดูุงุฏุฉ (ูููู ูู ููู ูุฏููุง ููุช ูุฅุจุทุงููุง ุจุนุฏ) ุฃู ุตุญุฉ ุชูููุนูุง ุนู ุทุฑูู ุชุญุฏูุฏ ุงูุนูููุฉ ุงูููุงุณุจุฉ: <br><br><img src="https://habrastorage.org/webt/4x/en/yf/4xenyfg6oq0uem5e24pskrf8qgk.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุดูุงุฏุฉ ุฃุฏุงุฉ ุงูุชุญูู ูู ุชูููุน ุงูุดูุงุฏุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">#!/usr/bin/env tclsh package require pki load ./tclpkcs11.so Tclpkcs11 #     PKCS#11 #set pkcs11_module "/usr/local/lib64/librtpkcs11ecp_2.0.so" set pkcs11_module "/usr/local/lib64/libls11sw2016.so" puts "Connect the Token and press Enter" gets stdin yes set handle [pki::pkcs11::loadmodule $pkcs11_module] set slots [pki::pkcs11::listslots $handle] set i 0 foreach slotinfo $slots { set slotid [lindex $slotinfo 0] set slotlabel [lindex $slotinfo 1] set slotflags [lindex $slotinfo 2] if {[lsearch -exact $slotflags TOKEN_PRESENT] != -1} { set token_slotlabel $slotlabel set token_slotid $slotid #    incr i break } } if {$i == 0} { puts "   . ." exit } # PEM  DER proc ::cert_to_der {data} { if {[string first "-----BEGIN CERTIFICATE-----" $data] != -1} { set data [string map {"\r\n" "\n"} $data] } array set parsed_cert [::pki::_parse_pem $data "-----BEGIN CERTIFICATE-----" "-----END CERTIFICATE-----"] if {[string range $parsed_cert(data) 0 0 ] == "0" } { #   DER- "0" == 0x30 set asnblock $parsed_cert(data) } else { set asnblock "" } return $asnblock } proc usage {use error} { puts "Copyright(C) Orlov Vladimir (http://museum.lissi-crypto.ru/) 2019" if {$use == 1} { puts $error puts "Usage:\nverify_cert_with_pkcs11 &lt;file with certificate&gt; \[&lt;file with CA certificate&gt;\]\n" } } set countcert [llength $argv] if { $countcert &lt; 1 || $countcert &gt; 2 } { usage 1 "Bad usage!" exit } set file [lindex $argv 0] if {![file exists $file]} { usage 1 "File $file not exist" exit } #  cert_user puts "Loading user certificate: $file" set fd [open $file] chan configure $fd -translation binary set cert_user [read $fd] close $fd if {$cert_user == "" } { usage 1 "Bad file with certificate user: $file" exit } set cert_user [cert_to_der $cert_user] if {$cert_user == ""} { puts "User certificate bad" exit } catch {array set cert_parse [::pki::x509::parse_cert $cert_user]} if {![info exists cert_parse]} { puts "User certificate bad" exit } #parray cert_parse if {$countcert == 1} { if {$cert_parse(issuer) != $cert_parse(subject)} { puts "Bad usage: not self signed certificate" } else { set cert_CA $cert_user } } else { set fileca [lindex $argv 1] if {![file exists $fileca]} { usage 1 "File $fileca not exist" exit } #  cert_CA puts "Loading CA certificate: $fileca" set fd [open $fileca] chan configure $fd -translation binary set cert_CA [read $fd] close $fd if {$cert_CA == "" } { usage 1 "Bad file with certificate CA=$fileca" exit } set cert_CA [cert_to_der $cert_CA] if {$cert_CA == ""} { puts "CA certificate bad" exit } } foreach slotinfo $slots { set slotid [lindex $slotinfo 0] set slotlabel [lindex $slotinfo 1] set slotflags [lindex $slotinfo 2] if {[lsearch -exact $slotflags TOKEN_PRESENT] != -1} { set token_slotlabel $slotlabel set token_slotid $slotid } } #    catch {array set cert_parse_CA [::pki::x509::parse_cert $cert_CA]} if {![info exists cert_parse_CA]} { puts "CA certificate bad" exit } #  if {$cert_parse(issuer) != $cert_parse_CA(subject)} { puts "Bad issuer" exit } set aa [dict create pkcs11_handle $handle pkcs11_slotid $token_slotid] set tbs_cert [binary format H* $cert_parse(cert)] catch {set signature_algo_number [::pki::_oid_name_to_number $cert_parse(signature_algo)]} if {![info exists signature_algo_number]} { set signature_algo_number $cert_parse(signature_algo) } switch -- $signature_algo_number { "1.2.643.2.2.3" - "1 2 643 2 2 3" { # "GOST R 34.10-2001 with GOST R 34.11-94" set digest_algo "gostr3411" } "1.2.643.7.1.1.3.2" - "1 2 643 7 1 1 3 2" { # "GOST R 34.10-2012-256 with GOSTR 34.11-2012-256" set digest_algo "stribog256" } "1.2.643.7.1.1.3.3" - "1 2 643 7 1 1 3 3" { # "GOST R 34.10-2012-512 with GOSTR 34.11-2012-512" set digest_algo "stribog512" } default { puts "  :$signature_algo_number" exit } } #   tbs-!!!! set digest_hex [pki::pkcs11::digest $digest_algo $tbs_cert $aa] # asn-   #    binary scan $cert_CA H* cert_CA_hex array set infopk [pki::pkcs11::pubkeyinfo $cert_CA_hex [list pkcs11_handle $handle pkcs11_slotid $token_slotid]] set lpk [dict create pkcs11_handle $handle pkcs11_slotid $token_slotid] # pybkeyinfo     lappend lpk "pubkeyinfo" lappend lpk $infopk(pubkeyinfo) array set lpkar $lpk puts "Enter PIN user for you token \"$token_slotlabel\":" gets stdin password if { [pki::pkcs11::login $handle $token_slotid $password] == 0 } { puts "Bad PIN" exit } if {[catch {set verify [pki::pkcs11::verify $digest_hex $cert_parse(signature) $lpk]} res] } { puts "  =$res" exit } if {$verify != 1} { puts "BAD SIGNATURE=$verify" } else { puts "SIGNATURE OK=$verify" }</code> </pre> <br></div></div><br>  ููููุง ููุชููู ุงูุขู ุจุนูููุฉ ุงุณุชูุฑุงุฏ ุงูุดูุงุฏุฉ ุงููุณุชููุฉ ุฅูู ุงูุฑูุฒ ุงููููุฒ ูุฏููุง.  ุญุฏุฏ ุงูุนูููุฉ "ุงุณุชูุฑุงุฏ ุดูุงุฏุฉ ุงูุฑูุฒ ุงููููุฒ" ูุงููุฑ ููู ุงูุฒุฑ "ุฅุฌุฑุงุก ุนูููุฉ".  ุณูู ุชุชุญูู ุงูุฃุฏุงุฉ ูู ุงูุชูููุน ุงูุฅููุชุฑููู ููุดูุงุฏุฉ.  ููููุงู ุจุฐูู ุ ุณุชุชู ูุทุงูุจุชู ุจุฅุฏุฎุงู ุฑูุฒ PIN ููุฑูุฒ ุงููููุฒ.  ูุฅุฐุง ุณุงุฑุช ุงูุฃููุฑ ุนูู ูุง ูุฑุงู ุ ูุณูุชู ุงุณุชูุฑุงุฏ ุงูุดูุงุฏุฉ ุฅูู ุงูุฑูุฒ ุงููููุฒ: <br><br><img src="https://habrastorage.org/webt/vn/o5/q0/vno5q0k5jrvwic9p_4uzqfpjyte.png"><br><br>  ูููู ุฑุคูุฉ ุงูุชุณููุฉ (ุงูููุจ) ููุดูุงุฏุฉ ูู ูุงุฆูุฉ ุงูุดูุงุฏุงุช: <br><br><img src="https://habrastorage.org/webt/ov/ja/kk/ovjakktrr_aco5_y75htmflyp68.png"><br><br>  ูุฐู ูู ุดูุงุฏุฉูุง ุงูุดุฎุตูุฉ ุ ููู ุดูุงุฏุฉ ููุฌุฏ ุจูุง ุฒูุฌ ุฑุฆูุณู.  ูุฅุฐุง ูุธุฑุช ุฅูู ูุงุฆูุฉ ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ุนูู ุงูุฑูุฒ ุงููููุฒ ูุฑุฉ ุฃุฎุฑู ุ ูุณูุฌุฏ ุซูุงุซุฉ ูุงุฆูุงุช ููุง ุงูุชุตููู "Almighty Habr from UTs 12_512" ูููุณ CKA_ID.  ูุฐู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงุฆูุงุช ุงูุซูุงุซุฉ</a> ูู ุงูุดูุงุฏุฉ ููุณูุง (CKO_CERTIFICATE) ูุนุงูุฉ (CKO_PUBLIC_KEY) ูููุงุชูุญ ุฎุงุตุฉ (CKO_PRIVATE_KEY).  ูุชู ุชุนููู ุงูุชุณููุฉ ููุฐุง ุงูุซูุงุซู ุงููุงุฆูุงุช ุนูู ุงููุญู ุงูุชุงูู: <br>  &lt;ุญุงูู ุดูุงุฏุฉ CN&gt; ูู &lt;ุงููุงุดุฑ ุดูุงุฏุฉ CN&gt;. <br><br>  ูุนุฑุถ ุฃุฏูุงู ููููุฉ ุชุบููุฑ ุงูููุตู. <br><br>  ุงูุขู ุจุนุฏ ุฃู ูุถุนูุง ุงูุดูุงุฏุฉ ุนูู ุงูุฑูุฒ ุงููููุฒ ุ ููู ูููู ุงููุตูู ุฅูููุงุ  ูู ุฃุฌู ุงููุตูู ุฅูู ูุธุงุฆู ุงูุนูู ูุน ุงูุดูุงุฏุงุช ุงูููุฌูุฏุฉ ุนูู ุงูุฑูุฒ ุงููููุฒ ุ ูุง ุนููู ุณูู ููู ุงููุคุดุฑ ุฅูู ุนูุงูุฉ "ุงูุดูุงุฏุฉ" ูุงุถุบุท ุนูู ุฒุฑ ุงููุงูุณ ุงูุฃููู: <br><br><img src="https://habrastorage.org/webt/kd/he/cb/kdhecbhcpq7frlxxaa2lw77nhv4.png"><br><br><h3 style=";text-align:right;direction:rtl">  <font color="1368c2">ูููุน ุงููุณุชูุฏ ุงูุฃูู ูุน ุงูุชูููุน ุงูุฅููุชุฑููู</font> </h3><br>  ุฏุนูุง ููุชุธุฑ ุงูููุงู ุงููุงุฏู.  ุนููู ุฃู ุชูุชุธุฑ ุจุถุนุฉ ุฃูุงู.  ูุงุฐุง ุณูุชู ุงููุธุฑ ููุงู ูููู ูููู ูู ููุทุฉ ุงูุดุงุดุฉ: <br><br><img src="https://habrastorage.org/webt/q-/bq/sp/q-bqspoaaal056weiylzz4wchek.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุงุจุน ููุง</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar453164/">https://habr.com/ru/post/ar453164/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar453148/index.html">AirBnb ูุชุฌุงูู ุญุณุงุจุงุชู</a></li>
<li><a href="../ar453154/index.html">ุชุงุฑูุฎ ุงูุฅูุชุฑูุช: ุชุนุฒูุฒ ุงูุชูุงุนู</a></li>
<li><a href="../ar453156/index.html">ุณูู ุชุนุทู ุฌูุฑุงู ููุชูุฑุฒ ุฑูุญูุง ูุฌููุน ุณูุงุฑุงุชูุง ุงูุฌุฏูุฏุฉ (ุบูุงู ุฑููู)</a></li>
<li><a href="../ar453158/index.html">ูู ุฃูู ุฃุนุฑู ููู ุชุนูู ุงููุนุงูุฌุงุช ุ ูุฐูู ูุชุจุช ูุญุงูู ุจุฑุงูุฌ</a></li>
<li><a href="../ar453162/index.html">ุงูุขุซุงุฑ: ุซููู ุจุงุฏ 380E ุ 90s ุงูุฏุฑุฌุฉ ุงูุงูุชุตุงุฏูุฉ ู Windows 95</a></li>
<li><a href="../ar453166/index.html">ุชุญููู ViewPager ุฅูู ูุฏูุฑ ุชุฌุฒุฆุฉ ุจู ุฑุณูู ูุชุญุฑูุฉ ุนูู ููุท iOS</a></li>
<li><a href="../ar453168/index.html">ุงูุจุญุซ: ุฅูุดุงุก ุฎุฏูุฉ ุจุฑููุณู ููุญุฌุจ ุจุงุณุชุฎุฏุงู ูุธุฑูุฉ ุงููุนุจุฉ</a></li>
<li><a href="../ar453170/index.html">ุงูุนุตู ุงูุฐููู: ููู ููุธุฑ ุฅูู ุงูููุงู ูู ุฒุงููุฉ ูุฎุชููุฉ</a></li>
<li><a href="../ar453174/index.html">ุซูุงููุฉ ุฃุณุจุงุจ ููุชุจุฏูู ุฅูู Yandex ุงูุฌุฏูุฏ</a></li>
<li><a href="../ar453178/index.html">ุงูููุงุฑุฉ ุงูุฑุฆูุณูุฉ ูููุทูุฑ ุงูุฐู ุณูุฌุนู ุงูููุฏ ุงูุฎุงุต ุจู ุฃูุถู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>