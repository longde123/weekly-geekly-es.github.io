<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💭 🛁 🧚🏽 Odnoklassniki parsing di Joker 2019 🤫 🙍 💋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dari tanggal 28 hingga 29 Oktober, Joker 2019 diadakan di St. Petersburg - konferensi terbesar dan paling keras di luasnya Rusia yang didedikasikan un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Odnoklassniki parsing di Joker 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/474502/"><img src="https://habrastorage.org/webt/pv/s9/bx/pvs9bxymx6xlnu203ci-kb356w8.jpeg"><br><br>  Dari tanggal 28 hingga 29 Oktober, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Joker 2019</a> diadakan di St. Petersburg - konferensi terbesar dan paling keras di luasnya Rusia yang didedikasikan untuk pembangunan Jawa.  Acara ini diadakan untuk ketujuh kalinya dan, seperti biasa, memecahkan rekor kehadiran, kali ini acara tersebut menarik lebih dari 2.000 spesialis. <br><br>  Teman sekelas secara tradisional mengambil bagian dalam Joker sebagai mitra acara.  Tahun ini, di stan kami, seseorang dapat mencoba untuk mengatasi tugas-tugas "tidak terpecahkan" yang terkenal dari para insinyur OK.RU terkemuka.  Peserta konferensi yang menjawab pertanyaan dengan benar menerima hadiah. <br><br>  Dalam keadilan, saya harus mengatakan bahwa dari 1.000 selebaran dengan tugas yang kami bagikan, kurang dari 100 dikembalikan. Yang terbaik adalah solusi, yang mencetak 4,5 poin dari 5. <br><br>  Kami menerbitkan tugas dan solusinya sehingga Anda dapat menguji kekuatan Anda. <br><a name="habracut"></a><br><h2>  1. Enum yang heroik </h2><br>  Kode sumber untuk gim yang kurang dikenal mengungkapkan kode tersebut.  Apa implementasi <code>Group.of</code> buruk, dan bagaimana cara memperbaikinya? <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Group { Few(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), Several(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>), Pack(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">19</span></span>), Lots(<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">49</span></span>), Swarm(<span class="hljs-number"><span class="hljs-number">50</span></span>, Integer.MAX_VALUE); Group(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> min, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> max) { ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Group </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Group group : Group.values()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt;= group.min &amp;&amp; count &lt;= group.max) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> group; } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IllegalArgumentException(); } }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Solusi</b> <div class="spoiler_text">  Jika Anda tidak berbicara tentang gaya pengkodean, fragmen ini memiliki kelemahan objektif - masalah kinerja potensial.  Meskipun pencarian linear sering ternyata menjadi hambatan, dalam hal ini bukan itu masalahnya, karena enum ini hanya memiliki lima elemen.  Dan yang benar-benar dapat memengaruhi kinerja secara negatif adalah alokasi memori yang berlebihan saat memanggil <code>Group.values()</code> .  Masalahnya adalah bahwa <code>values()</code> metode enum setiap kali mengembalikan salinan baru array, dan HotSpot belum dapat mengoptimalkannya.  Solusi sederhana adalah membuat salinan array <code>values()</code> Anda sendiri dan mengulanginya: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Group[] ALL_GROUPS = Group.values(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Group </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Group group : ALL_GROUPS) { .... }</code> </pre><br></div></div><br><h2>  2. Mimpi </h2><br>  Java 13 telah dirilis, dan Nikolai masih hanya memahami stream.  Tunjukkan kesalahan dalam metode yang menghitung perbedaan antara elemen aliran maksimum dan minimum. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDiameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Stream&lt;Integer&gt; stream)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> min = stream.min(Integer::compare).get(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> max = stream.max(Integer::compare).get(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> max - min; }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Solusi</b> <div class="spoiler_text">  Streaming di Jawa biasanya satu kali: memanggil operasi terminal kedua (dalam hal ini, <code>max</code> ) akan gagal: <br><br><pre> <code class="plaintext hljs">java.lang.IllegalStateException: stream has already been operated upon or closed</code> </pre><br>  Selain itu, <code>min</code> dan <code>max</code> mengembalikan <code>Optional</code> , operasi <code>get()</code> yang akan melempar <code>NoSuchElementException</code> untuk aliran kosong.  Oleh karena itu, lebih tepat untuk memeriksa <code>isPresent()</code> sebelum memanggil <code>get()</code> atau menggunakan metode <code>Optional</code> lainnya: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">orElse</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">atauElseThrow</a> , dll. <br><br>  Akhirnya, fakta bahwa perbedaan antara kedua <code>int</code> tidak dapat lagi masuk ke <code>int</code> tidak akan lepas dari pengembang yang cermat, dan akan sangat berguna untuk mengubah jenis nilai pengembalian menjadi <code>long</code> . <br></div></div><br><h2>  3. Buffer aman </h2><br>  <code>ByteBuffer</code> primitif sinkronisasi Java yang dapat membuat <code>put</code> dan <code>get</code> operasi thread aman pada <code>ByteBuffer</code> generik? <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ByteBuffer buf = ByteBuffer.allocate(SIZE); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> buf.get(offset); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">put</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value)</span></span></span><span class="hljs-function"> </span></span>{ buf.putInt(offset, value); }</code> </pre><br>  Pilih opsi yang paling efisien jika Anda tahu bahwa ada banyak utas, dan jalankan lebih sering daripada put. <br><br><ul><li>  disinkronkan </li><li>  Reentrantlock </li><li>  ReentrantReadWriteLock </li><li>  Stampedlock </li><li>  Semaphore </li><li>  Membaca dan menulis di Jawa selalu bersifat atom </li></ul><br><div class="spoiler">  <b class="spoiler_title">Solusi</b> <div class="spoiler_text">  <code>ReentrantReadWriteLock</code> memohon untuk <code>ReentrantReadWriteLock</code> pembaca dan penulis, dan seringkali ini akan menjadi solusi yang efektif.  Tetapi perhatikan bahwa dalam kasus ini, operasi get and put sangat sederhana - probabilitas bahwa put kompetitif dapat mengganggu get adalah kecil, apalagi, kondisi put lebih kecil kemungkinannya terjadi dengan operasi put.  Jadi, Anda dapat menerapkan mekanisme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penguncian optimis</a> yang diberikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">StampedLock</a> . <br><br>  <code>StampedLock</code> akan lebih efisien daripada <code>ReentrantReadWriteLock</code> karena fakta bahwa dalam kasus keberhasilan jalur cepat yang optimis, variabel bersama tidak diperbarui sama sekali, sementara <code>ReentrantReadWriteLock</code> melakukan setidaknya satu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CAS</a> terbaik. <br></div></div><br><h2>  4. Hadiah </h2><br>  Ilya sedang mengembangkan showcase hadiah di jejaring sosial.  Bantu dia menulis metode <code>add</code> untuk struktur yang tidak lebih dari N dari hadiah terbaru.  Hadiah tidak boleh ditambahkan jika sudah ada, atau jika itu lebih tua dari sisa N. <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Present</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Date </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Present p)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Implement me }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Solusi</b> <div class="spoiler_text">  <code>TreeSet</code> atau <code>PriorityQueue</code> secara alami cocok sebagai struktur data untuk secara efektif menambahkan hadiah dan menghapus yang terlama tidak lebih buruk daripada untuk O (log N).  Semua trik hanya ada di pembanding: tidak cukup membandingkan hadiah hanya dengan <code>getCreated()</code> , karena tanggal pembuatan tidak harus unik.  Oleh karena itu, Anda perlu membandingkan dulu dengan <code>getCreated()</code> , lalu dengan <code>getId()</code> .  Komparator seperti itu akan memastikan keunikan elemen dan pemesanan berdasarkan tanggal. <br><br><pre> <code class="java hljs">TreeSet&lt;Present&gt; tree = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TreeSet&lt;&gt;( Comparator.comparing(Present::getCreated) .thenComparing(Present::getId));</code> </pre><br>  Tetap menjadi masalah kecil: saat menambahkan hadiah, pastikan ukurannya tidak melebihi N, dan jika perlu, hapus elemen koleksi yang pertama, terlama. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Present p)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tree.add(p) &amp;&amp; tree.size() &gt; N) { tree.pollFirst(); } }</code> </pre><br></div></div><br><h2>  5. Anda tidak akan menunggu </h2><br>  Mengapa Julia tidak akan pernah menunggu akhir dari program ini? <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> executor = Executors.newFixedThreadPool(<span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (File f : File.listRoots()) { executor.submit(() -&gt; f.delete()); } executor.awaitTermination(<span class="hljs-number"><span class="hljs-number">2</span></span>, TimeUnit.HOURS);</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Solusi</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi awaitTermination</a> menunjukkan bahwa permintaan shutdown harus mendahului eksekusi.  Sederhana: Julia lupa memanggil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">executor.shutdown ()</a> . <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id474502/">https://habr.com/ru/post/id474502/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id474492/index.html">Bereaksi obrolan multi-pengguna dengan Chatix backend</a></li>
<li><a href="../id474494/index.html">Bagaimana KTT Zabbix 2019</a></li>
<li><a href="../id474496/index.html">Database di HighLoad ++ 2019</a></li>
<li><a href="../id474498/index.html">Tutorial JavaFX: Hello World</a></li>
<li><a href="../id474500/index.html">Pengembangan plugin untuk Grafana: kisah kerucut penuh</a></li>
<li><a href="../id474504/index.html">Backend Ortodoks</a></li>
<li><a href="../id474508/index.html">Pencapaian bioprinting 3D cangkok kulit</a></li>
<li><a href="../id474514/index.html">Bagaimana para pengusaha pertambangan Bitcoin Tiongkok bertahan</a></li>
<li><a href="../id474516/index.html">Aplikasi suara: pasar ke-milyar yang tidak diperhatikan Rusia</a></li>
<li><a href="../id474518/index.html">FP vs OOP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>