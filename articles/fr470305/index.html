<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÜüèª üíÜüèº üë≥ Pr√©paration √† la certification professionnelle du printemps. Conteneur, IoC, haricots üíó üéª üôå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr. 


 Aujourd'hui, j'ai d√©cid√© de vous pr√©senter une traduction d'une s√©rie d'articles en pr√©paration de la certification professionnelle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©paration √† la certification professionnelle du printemps. Conteneur, IoC, haricots</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470305/"><p>  Bonjour, Habr. </p><br><p>  Aujourd'hui, j'ai d√©cid√© de vous pr√©senter une traduction d'une <a href="">s√©rie d'articles</a> en pr√©paration de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la certification professionnelle du printemps</a> . </p><br><p>  Cette traduction n'est que le premier article, si elle est destin√©e au public, je continuerai √† publier des traductions. </p><br><div class="spoiler">  <b class="spoiler_title">Pourquoi est-ce que je fais √ßa, car il y a d√©j√† un tas de mat√©riel sp√©cialis√©?</b> <div class="spoiler_text"><ol><li>  Souvent, les informations qu'ils contiennent ne sont ni structur√©es, ni collect√©es, ni pertinentes <br></li><li>  Les jeunes d√©veloppeurs ne connaissent peut-√™tre pas l'anglais.  Ce cycle peut √™tre utilis√© non seulement pour la certification, mais aussi pour l'autoformation / r√©p√©tition des mat√©riels. <br></li><li>  Ces documents peuvent √™tre utilis√©s pour pr√©parer l'entretien, comme  ils sont organis√©s sous forme de questions et r√©ponses. <br></li><li> Un avantage important et le plus important est que cet AQ est compos√© de questions du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide</a> officiel d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©tude</a> pivot. <br></li></ol><br><ul><li>  J'ai d√©lib√©r√©ment manqu√© des questions qui me semblaient superflues ou qui n'√©taient pas dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide</a> . </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Table des mati√®res</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Injection de d√©pendance, conteneur, IoC, haricots</a> </li><li>  AOP (programmation orient√©e aspect) </li><li>  JDBC, transactions, JPA, donn√©es de printemps </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Botte de printemps</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spring mvc</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">S√©curit√© printani√®re</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">REPOS</a> </li><li>  Test </li></ol></div></div><br><img src="https://habrastorage.org/webt/r4/jl/yi/r4jlyi8dwzp-e9xvywevoicmwsg.jpeg"><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Je vais √©crire une liste de sources dont l'auteur a tir√© des documents</b> <div class="spoiler_text"><ul><li>  Printemps 5 mod√®les de conception <br></li><li>  Spring in Action 4e √©dition <br></li><li>  Spring Security - Third Edition <br></li><li>  La certification Core Spring 5 en d√©tail par Ivan Krizsan <br></li><li>  Documentation Spring et javadocs API Spring <br></li></ul></div></div><br><p>  Commen√ßons donc. </p><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce que l'injection de d√©pendance (DI) et quels sont ses avantages?</b> <div class="spoiler_text"><p>  L'injection de d√©pendance est un mod√®le sp√©cial qui r√©duit la communication entre les composants Spring.  Ainsi, lors de l'application de DI, votre code devient plus propre, plus simple, il devient plus facile √† comprendre et √† tester. <br>  Selon le mod√®le DI, la cr√©ation d'objets pour les d√©pendances est transf√©r√©e √† l'usine ou donn√©e √† un tiers.  Cela signifie que nous pouvons nous concentrer sur l'utilisation de ces objets au lieu de les cr√©er. </p><br><div class="spoiler">  <b class="spoiler_title">Avantages sociaux chez DI</b> <div class="spoiler_text"><ul><li>  Communication r√©duite entre les parties de l'application <br></li><li>  Am√©lioration des tests <br></li><li>  Architecture d'application am√©lior√©e <br></li><li>  R√©duit le code passe-partout <br></li><li>  Standardise le d√©veloppement d'applications <br></li></ul></div></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Pourquoi les interfaces sont-elles recommand√©es pour cr√©er des beans Spring?</b> <div class="spoiler_text"><ul><li>  Am√©lioration des tests.  Dans les tests, le bean peut √™tre remplac√© par un objet sp√©cial (mock ou stub) qui impl√©mente l'interface du bean. <br></li><li>  Vous permet d'utiliser le m√©canisme de proxy dynamique √† partir du JDK (par exemple, lors de la cr√©ation d'un r√©f√©rentiel via Spring Data) <br></li><li>  Vous permet de masquer l'impl√©mentation <br></li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce que le contexte d'application?</b> <div class="spoiler_text"><p> Dans Spring Framework, l'interface <code>org.springframework.factory.BeanFactory</code> fournit une fabrique de <code>org.springframework.factory.BeanFactory</code> , qui est en m√™me temps un conteneur IoC pour l'application.  La gestion des beans est bas√©e sur la configuration (java ou xml). </p><br><p>  L'interface <code>org.springframework.context.ApplicationContext</code> est un wrapper sur une fabrique de beans qui fournit des fonctionnalit√©s suppl√©mentaires, telles que AOP, transactions, s√©curit√©, i18n, etc. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce qu'un conteneur et quel est son cycle de vie?</b> <div class="spoiler_text"><p>  La base du Spring Framework est un conteneur, et nos objets "vivent" dans ce conteneur. <br>  Un conteneur cr√©e g√©n√©ralement de nombreux objets en fonction de leurs configurations et g√®re leur cycle de vie, de la cr√©ation d'un objet √† sa destruction. </p><br><p>  Un conteneur est un objet qui impl√©mente l'interface <b>ApplicationContext</b> . </p><br><div class="spoiler">  <b class="spoiler_title">Cycle de vie des conteneurs</b> <div class="spoiler_text"><ol><li>  Le conteneur est cr√©√© au d√©marrage de l'application. <br></li><li>  Le conteneur lit les donn√©es de configuration <br></li><li>  La description des bacs est cr√©√©e √† partir des donn√©es de configuration <br></li><li>  BeanFactoryPostProcessors g√®re la description du bean <br></li><li>  Le conteneur cr√©e des beans en utilisant leur description <br></li><li>  Les beans sont initialis√©s - les valeurs des propri√©t√©s et les d√©pendances sont int√©gr√©es dans le bean <br></li><li>  M√©thodes de rappel de d√©marrage de BeanPostProcessor <br></li><li>  L'application est op√©rationnelle <br></li><li>  Cl√¥ture de l'application initialis√©e <br></li><li>  Le conteneur se ferme <br></li><li>  Les m√©thodes de rappel sont appel√©es <br></li></ol></div></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment cr√©er une instance d'ApplicationContext?</b> <div class="spoiler_text"><p>  Le printemps propose plusieurs variantes de contexte. </p><br><p>  Il existe plusieurs impl√©mentations de base de l'interface ApplicationContext: </p><br><ul><li>  FileSystemXmlApplicationContext <br></li><li>  ClassPathXmlApplicationContext <br></li><li>  AnnotationConfigApplicationContext <br></li><li>  XmlWebApplicationContext <br></li><li>  AnnotationConfigWebApplicationContext <br></li></ul><br><p>  Exemples de cr√©ation d'un contexte: </p><br><pre> <code class="java hljs">ApplicationContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileSystemXmlApplicationContext(                                     <span class="hljs-string"><span class="hljs-string">"c:/bean_properties.xml"</span></span>); ApplicationContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnnotationConfigApplicationContext(                            <span class="hljs-string"><span class="hljs-string">"com.springdemoapp.JavaConfig.class"</span></span>);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Pouvez-vous d√©crire le cycle de vie d'un haricot dans un r√©cipient?</b> <div class="spoiler_text"><ol><li>  Chargement des descriptions de bacs, cr√©ation d'un graphique de d√©pendance (entre les beans) </li><li>  Cr√©ation et <code>BeanFactoryPostProcessors</code> </li><li>  Cr√©er des haricots </li><li>  Spring injecte des valeurs et des d√©pendances dans les propri√©t√©s du bean </li><li>  Si le bean impl√©mente la m√©thode <code>setBeanName()</code> partir de l'interface NameBeanAware, l'ID du bean est transmis √† la m√©thode </li><li>  Si le bean impl√©mente BeanFactoryAware, Spring √©tablit une r√©f√©rence √† la fabrique de bean via <code>setBeanFactory()</code> partir de cette interface. </li><li>  Si le bean impl√©mente l'interface ApplicationContextAware, Spring √©tablit une r√©f√©rence √† ApplicationContext via <code>setApplicationContext()</code> . </li><li>  <code>BeanPostProcessor</code> est une interface sp√©ciale (√† ce sujet ci-dessous), et Spring permet aux beans d'impl√©menter cette interface.  En impl√©mentant la m√©thode <code>postProcessBeforeInitialization()</code> , vous pouvez modifier l'instance du bean avant de l'initialiser (le bean) (d√©finition des propri√©t√©s, etc.) </li><li>  Si des m√©thodes de rappel sont d√©finies, Spring les appelle.  Par exemple, il s'agit d'une m√©thode annot√©e par <code>@PostConstruct</code> ou la m√©thode <code>initMethod</code> partir d'une annotation <code>@Bean</code> . </li><li>  Le haricot est maintenant pr√™t √† l'emploi.  Il peut √™tre obtenu √† l'aide de la m√©thode <code>ApplicationContext#getBean()</code> . </li><li>  Une fois le contexte ferm√© (m√©thode <code>close()</code> d'ApplicationContext), le bean est d√©truit. </li><li>  Si le bean a une m√©thode annot√©e par <code>@PreDestroy</code> , cette m√©thode sera appel√©e avant la destruction.  Si le bean impl√©mente DisposibleBean, Spring appellera la m√©thode <code>destroy()</code> pour effacer les ressources ou tuer les processus dans l'application.  Si la m√©thode <code>@Bean</code> est d√©finie dans l' <code>destroyMethod</code> , elle est √©galement appel√©e. <br><img src="https://habrastorage.org/webt/kx/at/5e/kxat5ery0dcq_sujzijmiqyutda.png"></li></ol></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment obtenir ApplicationContext dans le test d'int√©gration?</b> <div class="spoiler_text"><p>  Si vous utilisez JUnit 5, vous devez sp√©cifier 2 annotations: </p><br><ul><li>  @ExtendWith (TestClass.class) - utilis√© pour indiquer une classe de test <br></li><li>  @ContextConfoguration (classes = JavaConfig.class) - charge la configuration java / xml pour cr√©er le contexte dans le test <br></li></ul><br><p>  Vous pouvez utiliser l'annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@SpringJUnitConfig</code></a> , qui combine ces deux annotations. <br>  Vous pouvez utiliser l'annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@SpringJUnitWebConfig</code></a> pour tester la couche Web. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment fermer le contexte dans une application?</b> <div class="spoiler_text"><p>  S'il ne s'agit pas d'une application Web, il existe deux fa√ßons: </p><br><ul><li>  Enregistrez shutdown-hook √† l'aide de l'appel de m√©thode <code>registerShutdownHook()</code> , il est √©galement impl√©ment√© dans la classe AbstractApplicationContext.  C'est la m√©thode pr√©f√©r√©e. </li><li>  Vous pouvez appeler la m√©thode <code>close()</code> partir de la classe AbstractApplicationContext. </li></ul><br><p>  Dans l'application Spring Boot: </p><br><ul><li>  Spring Boot enregistrera le crochet d'arr√™t pour vous tout seul. </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce que la configuration Java?</b>  <b class="spoiler_title">Comment est-il appliqu√©?</b> <div class="spoiler_text"><p>  Pour cr√©er une classe avec une configuration bas√©e sur du code Java, vous devez l'annoter avec <br>  <code>@Configuration</code> . <br>  Cette classe contiendra des m√©thodes d'usine pour cr√©er des beans dans le conteneur. <br>  Ces m√©thodes doivent √™tre annot√©es avec l'annotation <code>@Bean</code> . </p><br><p>  Un exemple: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DSConfig</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataSourceBuilder          .create()          .username(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .password(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .url(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .driverClassName(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .build();  } }</code> </pre> <br><p>  Cette classe placera une instance de la classe DataSource dans le conteneur.  Plus tard, il peut √™tre utilis√© lors de l'acc√®s √† la base de donn√©es. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">DI √† l'aide d'annotations, balayage de classe</b> <div class="spoiler_text"><p>  Analyse des composants - Spring d√©tecte automatiquement les grains qui seront dans le conteneur.  Ce sont des bacs avec des annotations-st√©r√©otypes. </p><br><p>  Cependant, l'analyse des composants n'est pas activ√©e par d√©faut. <br>  Pour activer l'analyse, <code>@ComponentScanning</code> classe @ Configuration avec l'annotation <code>@ComponentScanning</code> .  Spring analysera automatiquement le package contenant cette classe et tous ses sous-packages. <br>  Vous pouvez sp√©cifier d'autres packages pour l'analyse, et m√™me des classes: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// 2  @Configuration(basePackages = {"soundsystem", "video"})</span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  @Configuration(basePackageClasses = "MyClass.class")</span></span></code> </pre> <br><p>  C√¢blage automatique - Spring injectera automatiquement les d√©pendances lors de la num√©risation ou du placement d'un bac dans un conteneur. <br>  L'injection de d√©pendances utilise l'annotation <code>@Autowire</code> . </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Que sont les st√©r√©otypes (annotations-st√©r√©otypes)?</b> <div class="spoiler_text"><p>  Les st√©r√©otypes sont des annotations indiquant une fonctionnalit√© sp√©ciale. <br>  Tous les st√©r√©otypes incluent l'annotation <code>@Component</code> . </p><br><div class="scrollable-table"><table><tbody><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Composant</a> </td><td>  L'annotation racine qui marque une classe comme candidate √† l'impl√©mentation automatique </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Contr√¥leur</a> </td><td>  Indique que la classe est le contr√¥leur pour envoyer des donn√©es vers l'avant. <br></td></tr><tr><td>  @RestController </td><td>  Indique que la classe est le contr√¥leur pour REST. <br>  Contient des annotations <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Controller</a> et @ResponseBody </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Le service</a> </td><td>  Indique que la classe est un service pour ex√©cuter la logique m√©tier. </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">D√©p√¥t</a> </td><td>  Indique que la classe est un r√©f√©rentiel pour travailler avec la base de donn√©es. </td></tr><tr><td>  @Configuration </td><td>  Indique que la classe contient une configuration Java (m√©thodes @ Bean) </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Quelles sont les port√©es bin?</b>  <b class="spoiler_title">Quelle est leur visibilit√© par d√©faut?</b> <div class="spoiler_text"><p>  Port√©e - port√©e.  Il existe 2 √©tendues par d√©faut. </p><br><div class="scrollable-table"><table><tbody><tr><td>  Singleton <br></td><td>  La port√©e par d√©faut.  Il n'y a qu'une seule instance de bean dans le conteneur <br></td></tr><tr><td>  Prototype <br></td><td>  Un nombre quelconque d'instances de bac peut √™tre dans le conteneur <br></td></tr></tbody></table></div><br><p>  Et 4 √©tendues dans une application Web. </p><br><div class="scrollable-table"><table><tbody><tr><td>  Demande <br></td><td>  Port√©e - 1 requ√™te HTTP.  Un nouveau bean est cr√©√© pour chaque requ√™te. <br></td></tr><tr><td>  S√©ance <br></td><td>  Port√©e - 1 session.  Un nouveau bean est cr√©√© pour chaque session. <br></td></tr><tr><td>  Candidature <br></td><td>  Port√©e - Cycle de vie ServletContext <br></td></tr><tr><td>  Prise Web <br></td><td>  Port√©e - Cycle de vie WebSocket <br></td></tr></tbody></table></div><br><p>  La port√©e est indiqu√©e √† l'aide de l'annotation <code>@Bean</code> sur les m√©thodes <code>@Bean</code> . </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Quel est le lien entre les diff√©rents champs d'application et le multithreading?</b> <div class="spoiler_text"><p>  La port√©e du prototype n'est pas s√ªre pour les threads car  cela ne garantit pas que la m√™me instance sera appel√©e uniquement dans 1 thread. </p><br><p>  Par contre, Singleton Scope est thread-safe. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment les haricots sont-ils cr√©√©s: instantan√©ment ou paresseusement?</b>  <b class="spoiler_title">Comment changer ce comportement?</b> <div class="spoiler_text"><p>  Les beans singleton sont g√©n√©ralement cr√©√©s imm√©diatement apr√®s l'analyse. <br>  Les beans prototypes sont g√©n√©ralement cr√©√©s uniquement sur demande. </p><br><p>  Vous pouvez utiliser l'annotation <code>@Lazy</code> pour indiquer comment initialiser. <br>  Il est plac√© sur les m√©thodes @ Bean, sur les classes @ Configuration ou sur les classes @ Component. <br>  Selon le param√®tre (vrai ou faux) accept√© par l'annotation, l'initialisation sera paresseuse ou se fera imm√©diatement.  Par d√©faut (c'est-√†-dire sans sp√©cifier de param√®tre), true est utilis√©. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Que se passe-t-il si un bac avec une √©tendue est int√©gr√© dans un bac avec une autre √©tendue?</b> <div class="spoiler_text"><p>  Le bean singleton peut √™tre int√©gr√© √† n'importe quel autre bean. </p><br><p>  Seul le <em><code>prototype</code></em> ou le <em><code>singleton</code></em> peut √™tre int√©gr√© au <em><code>singleton</code></em> . <br>  Si vous impl√©mentez un prototype, un prototype unique sera cr√©√© pour chaque singleton. </p><br><p>  Le prototype peut √™tre une d√©pendance pour n'importe quel bean. <br>  Vous ne pouvez impl√©menter que singleton ou prototype. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce qu'un BeanFactoryPostProcessor et quand est-il utilis√©?</b> <div class="spoiler_text"><ul><li>  <code>BeanFactoryPostProcessor</code> fonctionne sur les descriptions de <code>BeanFactoryPostProcessor</code> ou les m√©tadonn√©es de configuration avant la cr√©ation du bac. </li><li>  Spring fournit plusieurs impl√©mentations <code>BeanFactoryPostProcessor</code> utiles, par exemple, en lisant des fichiers de propri√©t√©s et en obtenant des propri√©t√©s de <code>BeanFactoryPostProcessor</code> . </li><li>  Vous pouvez √©crire votre propre impl√©mentation de BFPP. </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Pourquoi avez-vous besoin de la m√©thode static @ Bean?</b> <div class="spoiler_text"><p>  Afin d'utiliser BFPP personnalis√©.  Vous pouvez remplacer le m√©canisme d'obtention des donn√©es √† partir des m√©tafichiers. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PropertySourcesPlaceholderConfigurer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pspc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-comment"><span class="hljs-comment">//,    pspc }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">D√©crire les propri√©t√©s de l'annotation @Bean</b> <div class="spoiler_text"><ul><li>  <code>destroyMethod</code> - pointe vers une m√©thode de rappel.  La m√©thode est dans le bac. </li><li>  <code>initMethod</code> - pointe vers une m√©thode de rappel.  La m√©thode est dans le bac. </li><li>  <code>name</code> - le nom du bean.  Par d√©faut, le nom du bean est le nom de la m√©thode. </li><li>  <code>value</code> - alias pour nom () </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce qu'un BeanPostProcessor et en quoi est-il diff√©rent d'un BeanFactoryPostProcessor?</b> <div class="spoiler_text"><p>  Spring utilise plusieurs BeanPostProcessors. <br>  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>CommonAnnotationPostProcessor</code></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>AutowiredAnnotationBeanPostProcessor</code></a> . <br>  BPP fonctionne avec les instances de bean, c'est-√†-dire  le conteneur cr√©e le bac, puis BPP d√©marre. </p><br><img src="https://habrastorage.org/webt/7u/-v/bt/7u-vbtqvcgkoscws4xca3e90yrw.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Quelles sont les m√©thodes de rappel et comment les utiliser?</b> <div class="spoiler_text"><p>  Il existe 3 options pour cr√©er de telles m√©thodes: </p><br><ul><li>  <code>@PreDestroy</code> et <code>@PostConstruct</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les</a> <code>destroyMethod</code> <code>initMethod</code> et <code>destroyMethod</code> dans l'annotation <code>destroyMethod</code> qui pointent vers des m√©thodes de la classe bean </li><li>  <code>InitializingBean#afterPropertiesSet()</code> et <code>DisposableBean#destroy()</code> .  Pour remplacer ces m√©thodes, vous devez impl√©menter les interfaces correspondantes. </li></ul><br><img src="https://habrastorage.org/webt/y6/yz/yx/y6yzyxkd94o9omsqbjimep2fowg.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment puis-je utiliser l'annotation @Autowire et quelle est la diff√©rence entre les fa√ßons?</b> <div class="spoiler_text"><p>  Voici les types d'ID pouvant √™tre utilis√©s dans votre application: </p><br><ul><li>  Constructeur DI </li><li>  Setter di </li><li>  Champ di </li></ul><br><p>  DI via le constructeur est consid√©r√© comme le meilleur moyen, car  pour lui, il n'est pas n√©cessaire d'utiliser la r√©flexion, et il n'a pas non plus les inconv√©nients de DI √† travers le passeur. <br>  DI √† travers le champ n'est pas recommand√©, car  Pour cela, une r√©flexion est utilis√©e qui r√©duit la productivit√©. <br>  DI via le constructeur peut conduire √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des d√©pendances circulaires</a> .  Pour √©viter cela, vous pouvez utiliser l'initialisation paresseuse des beans ou DI via le setter. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">D√©crire le comportement de l'annotation @Autowired</b> <div class="spoiler_text"><ol><li>  Le conteneur d√©termine le type d'objet √† incorporer. </li><li>  Un conteneur recherche des beans dans un contexte (aka un conteneur) qui correspond au type souhait√© </li><li>  S'il y a plusieurs candidats et que l'un d'eux est marqu√© comme <code>@Primary</code> , alors il est impl√©ment√© </li><li>  Si des annotations <code>@Autowire</code> + <code>Qualifier</code> sont utilis√©es, le conteneur utilisera les informations de <code>@Qualifier</code> pour d√©terminer quel composant d√©ployer </li><li>  Sinon, le conteneur tentera d'injecter le composant en fonction de son nom ou de son ID. </li><li>  Si aucune des m√©thodes n'a fonctionn√©, une exception sera lev√©e </li></ol><br><p>  Le conteneur g√®re l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ID √† l'</a> aide d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AutowiredAnnotationBeanPostProcessor</a> .  √Ä cet √©gard, l'annotation ne peut √™tre utilis√©e dans aucun BeanFactoryPP ou BeanPP. </p><br><p>  Si l'objet inject√© est un tableau, une collection ou une carte avec un g√©n√©rique, Spring incorporera tous les beans de type dans ce tableau (ou une autre structure de donn√©es).  Dans le cas de la carte, la cl√© sera le nom du bean. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// ,   DI @Authowired(required = true/false)</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Comment faire de l'ID dans un domaine priv√©?</b> <div class="spoiler_text"><p>  Vous pouvez utiliser diff√©rents types d'impl√©mentation: </p><br><ul><li>  Constructeur </li><li>  Setter </li><li>  Injection sur le terrain </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Valeur</a> </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment l'utilisation de @Qualifier compl√®te-t-elle @Autowired?</b> <div class="spoiler_text"><p>  Spring fournit une annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Qualifier</a> pour surmonter le probl√®me d'ambigu√Øt√© DI. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-meta"><span class="hljs-meta">@Qualifier</span></span>(<span class="hljs-string"><span class="hljs-string">"SomeClass1"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> SomeClass </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-comment"><span class="hljs-comment">//‚Ä¶ @Autowire @Qualifier("SomeField1") public SomeClass someField;</span></span></code> </pre> <br><p>  Si le conteneur a plusieurs cases du m√™me type (SomeClass), alors le conteneur impl√©mentera exactement cette case, au-dessus de la m√©thode @ Bean dont il existe un qualificatif appropri√©.  Vous ne pouvez pas non plus mettre de qualificatif sur une m√©thode, mais utiliser le nom du bean comme param√®tre de qualificatif. <br>  Le nom du bean peut √™tre sp√©cifi√© via le param√®tre d'annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Bean</a> , et par d√©faut c'est le nom de la m√©thode d'usine. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Que sont les objets proxy et quels types d'objets proxy Spring peut-il cr√©er?</b> <div class="spoiler_text"><p>  Un proxy est un objet sp√©cial qui a les m√™mes m√©thodes publiques que le bean, mais qui a des fonctionnalit√©s suppl√©mentaires. <br>  Deux types de procurations: </p><br><ul><li>  JDK-proxy - proxy dynamique.  Les API sont int√©gr√©es au JDK.  Il a besoin d'une interface </li><li>  Proxy CGLib - non int√©gr√© au JDK.  Utilis√© lorsque l'interface d'un objet n'est pas disponible. </li></ul><br><p>  Avantages des objets proxy: </p><br><ul><li>  Laisser ajouter un suppl√©ment.  logique - gestion des transactions, s√©curit√©, journalisation </li><li>  S√©pare du code (journalisation, etc.) de la logique principale </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Comment un bean singleton est-il impl√©ment√©?</b> <div class="spoiler_text"><p>  S'il n'y a pas d'instance de bean dans le conteneur, la m√©thode @ Bean est appel√©e.  S'il existe une instance de bean, le bean d√©j√† cr√©√© est renvoy√©. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Quels sont les profils?</b>  <b class="spoiler_title">Quelles sont leurs raisons d'utiliser?</b> <div class="spoiler_text"><p>  Lorsque vous utilisez la configuration Java, vous pouvez utiliser l'annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@Profile</code></a> . <br>  Il vous permet d'utiliser diff√©rents param√®tres pour Spring, en fonction du profil sp√©cifi√©. <br>  Il peut √™tre plac√© sur les classes @Configuration et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Component</a> , ainsi que sur les m√©thodes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Bean</a> . </p><br><pre> <code class="java hljs">Profile(<span class="hljs-string"><span class="hljs-string">"!test"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   ,  </span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>(<span class="hljs-string"><span class="hljs-string">"dataSource"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Profile</span></span>(<span class="hljs-string"><span class="hljs-string">"production"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jndiDataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>(<span class="hljs-string"><span class="hljs-string">"dataSource"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Profile</span></span>(<span class="hljs-string"><span class="hljs-string">"development"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">standaloneDataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...}</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Comment int√©grer des valeurs simples dans des propri√©t√©s au printemps?</b> <div class="spoiler_text"><p>  Vous pouvez utiliser l'annotation <code>@Value</code> pour <code>@Value</code> . <br>  Ces valeurs peuvent √™tre obtenues √† partir de fichiers de propri√©t√©s, de bacs, etc. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span>(<span class="hljs-string"><span class="hljs-string">"$some.key"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String stringWithDefaultValue;</code> </pre> <br><p>  Une cha√Æne sera incorpor√©e dans cette variable, par exemple, √† partir d'une propri√©t√© ou d'une vue. </p></div></div><br><blockquote>  Comme d'habitude, veuillez envoyer les corrections ou les erreurs trouv√©es dans PM. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470305/">https://habr.com/ru/post/fr470305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470293/index.html">Comment la vuln√©rabilit√© dans Yandex.Stations m'a inspir√© pour le projet: transfert de donn√©es musicales</a></li>
<li><a href="../fr470295/index.html">Cryptage SQlite DB simple</a></li>
<li><a href="../fr470299/index.html">Gestion efficace de la connexion SignalR</a></li>
<li><a href="../fr470301/index.html">Arbre de mots-cl√©s: analyse graphique pour l'extraction s√©mantique</a></li>
<li><a href="../fr470303/index.html">Installer le serveur tftp sur CentOS 8 ou RedHat 8</a></li>
<li><a href="../fr470309/index.html">Xamarin.Forms Shell</a></li>
<li><a href="../fr470311/index.html">Jouets en bois, septi√®me partie - 1993</a></li>
<li><a href="../fr470317/index.html">Aide-m√©moire de l'abr√©viation C ++ et plus encore. Partie 2: ¬´et pas seulement¬ª</a></li>
<li><a href="../fr470321/index.html">Jouets en bois, neuvi√®me partie - 1995</a></li>
<li><a href="../fr470323/index.html">DIY DeepFake [Partie 1]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>