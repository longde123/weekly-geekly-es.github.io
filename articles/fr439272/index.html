<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ∂ üßü ‚õπüèø Notebook Jupyter sur Netflix ü§µüèø ü§• üòÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, Jupyter Notebook est devenu tr√®s populaire parmi les experts en science des donn√©es, devenant la norme de facto pour le prototypage rapide ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Notebook Jupyter sur Netflix</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439272/"><p>  R√©cemment, Jupyter Notebook est devenu tr√®s populaire parmi les experts en science des donn√©es, devenant la norme de facto pour le prototypage rapide et l'analyse des donn√©es.  Chez Netflix, nous essayons de repousser encore plus les limites de ses capacit√©s en repensant ce que peut √™tre Notebook, qui peut √™tre utilis√© et ce qu'ils peuvent en faire.  Nous avons mis beaucoup d'efforts pour traduire notre vision en r√©alit√©. </p><br><p>  Dans cet article, nous voulons vous expliquer pourquoi nous pensons que les ordinateurs portables Jupyter sont si attrayants et qui nous inspirent en cours de route.  De plus, nous d√©crivons les composants de notre infrastructure et examinons de nouvelles fa√ßons d'utiliser Jupyter Notebook dans Netflix. </p><br><p><img src="https://habrastorage.org/webt/8x/w3/za/8xw3zaiacgzfdvghsg7a1inacra.jpeg"><br>  Note du traducteur: attention, <b>beaucoup de texte et peu d'images</b> <br><a name="habracut"></a><br></p><br><p>  Si vous n'avez pas beaucoup de temps, nous vous sugg√©rons de vous rendre imm√©diatement dans la section <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cas d'utilisation</a> . </p><br><h1>  Pourquoi tout √ßa? </h1><br><p>  Les donn√©es sont la puissance de Netflix.  Ils impr√®gnent nos pens√©es, influencent nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©cisions</a> et remettent en cause nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hypoth√®ses</a> .  Ils facturent des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exp√©riences</a> et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©mergence d'une nouvelle</a> √† une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©chelle sans pr√©c√©dent</a> .  Les donn√©es nous permettent de d√©couvrir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des significations inattendues</a> et de vivre une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exp√©rience personnalis√©e</a> incroyable <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour</a> 130 millions de nos utilisateurs √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">travers le monde</a> . </p><br><p>  Faire de tout cela une r√©alit√© est une r√©alisation consid√©rable, n√©cessitant un soutien technique et infrastructurel impressionnant.  Chaque jour, plus d'un billion d'√©v√©nements sont re√ßus dans un flux (pipeline d'ingestion de streaming) qui est trait√© et enregistr√© dans un stockage cloud de 100PB.  Et chaque jour, nos utilisateurs effectuent plus de 150 000 t√¢ches sur ces donn√©es, couvrant tout, des rapports √† l'apprentissage automatique et aux algorithmes de recommandation. </p><br><p>  Pour prendre en charge de tels sc√©narios d'utilisation √† une telle √©chelle, nous avons construit l'un des meilleurs de l'industrie, une plate-forme de traitement des donn√©es flexible, puissante et, si n√©cessaire, complexe (Netflix Data Platform).  Nous avons √©galement d√©velopp√© des outils et services suppl√©mentaires, tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Genie</a> (service d'ex√©cution de t√¢ches) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Metacat</a> (m√©ta-stockage).  Ces outils r√©duisent la complexit√© et permettent ainsi de prendre en charge un plus large √©ventail d'utilisateurs dans toute l'entreprise. </p><br><img src="https://habrastorage.org/webt/dh/v0/x4/dhv0x4f7uwhgzn9w67ikrtdem6k.jpeg"><br><p>  La vari√©t√© des utilisateurs est impressionnante, mais vous devez payer pour cela: la plate-forme de donn√©es Netflix et son √©cosyst√®me d'outils et de services doivent √©voluer pour prendre en charge des sc√©narios d'utilisation suppl√©mentaires, des langues, des sch√©mas d'acc√®s, etc.  Pour une meilleure compr√©hension du probl√®me, nous consid√©rons trois positions communes: un ing√©nieur analyste, un ing√©nieur de donn√©es et un scientifique des donn√©es. </p><br><img src="https://habrastorage.org/webt/kf/nc/l4/kfncl4wisrdj24isuek5tjr_hcc.jpeg"><br>  <i>La diff√©rence dans la pr√©f√©rence des langues et des outils pour diff√©rentes positions</i> <br><br><p>  En r√®gle g√©n√©rale, chaque poste pr√©f√®re utiliser son propre ensemble d'outils et de langues.  Par exemple, un ing√©nieur de donn√©es peut cr√©er un nouvel ensemble de donn√©es contenant des milliards de flux d'√©v√©nements √† l'aide de Scala dans IntelliJ.  L'analyste peut les utiliser dans un nouveau rapport de qualit√© de streaming global √† l'aide de SQL et Tableau.  Ce rapport peut √™tre envoy√© √† un Data Scientist qui construira un nouveau mod√®le de compression de streaming √† l'aide de R et RStudio.  √Ä premi√®re vue, ces processus semblent fragment√©s, bien que compl√©mentaires, mais si vous regardez plus en profondeur, chacun de ces processus a plusieurs t√¢ches qui se chevauchent: <br><br>  <b>exploration des donn√©es</b> - a lieu √† un stade pr√©coce du projet;  peut inclure un aper√ßu des donn√©es d'√©chantillonnage, des requ√™tes pour l'analyse statistique et la visualisation des donn√©es <br><br>  <b>pr√©paration des donn√©es</b> - une t√¢che r√©p√©titive, peut inclure le nettoyage, la standardisation, la transformation, la d√©normalisation et l'agr√©gation des donn√©es;  g√©n√©ralement la partie la plus longue du projet <br><br>  <b>validation des donn√©es</b> - une t√¢che qui se produit r√©guli√®rement;  peut comprendre une enqu√™te sur les donn√©es √©chantillonn√©es, une analyse statistique, une analyse agr√©g√©e et une visualisation des donn√©es;  se produit g√©n√©ralement dans le cadre de l'exploration des donn√©es, de la pr√©paration des donn√©es, du d√©veloppement, du pr√©-d√©ploiement et du post-d√©ploiement <br><br>  <b>productionnalisation</b> - se produit √† un stade avanc√© du projet;  peut inclure le d√©ploiement de code, des exemples d'ajouts, la formation de mod√®les, la validation des donn√©es et la planification des workflows </p><br><p>  Pour √©tendre les capacit√©s de nos utilisateurs, nous voulons rendre ces t√¢ches aussi simples que possible. <br>  Pour √©tendre les capacit√©s de notre plateforme, nous voulons minimiser le nombre d'outils qui doivent √™tre pris en charge.  Mais comment?  Aucun outil ne peut couvrir toutes ces t√¢ches.  De plus, souvent une t√¢che n√©cessite l'utilisation de plusieurs outils.  Cependant, si nous nous d√©sengageons, un mod√®le commun appara√Æt pour tous les outils et langages: ex√©cuter du code, examiner les donn√©es, pr√©senter le r√©sultat. </p><br><p>  Il se trouve qu'un projet open source a √©t√© d√©velopp√© sp√©cifiquement pour cela: le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet Jupyter</a> . </p><br><h1>  Cahiers Jupyter </h1><br><p><img src="https://habrastorage.org/webt/ru/4x/-f/ru4x-fxrpxia_tuf_o7fpg7v6xg.png"><br><br>  Le cahier Jupyter dans nteract affiche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vega</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Altair</a> </p><br><p>  Le projet Jupyter a √©t√© lanc√© en 2014 dans le but de cr√©er un ensemble coh√©rent d'outils open source pour la recherche, le workflow reproductible et l'analyse des donn√©es.  Ces outils ont √©t√© tr√®s appr√©ci√©s par l'industrie et aujourd'hui, Jupyter est devenu une partie int√©grante de la bo√Æte √† outils de tout scientifique.  Pour comprendre l'√©tendue de son influence, nous notons que Jupyter a re√ßu le prix <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ACM Software Systems Award 2017</a> - un prix prestigieux qu'il partage avec Java, Unix et the_Web. </p><br><p>  Pour comprendre pourquoi le bloc-notes Jupyter est si attrayant pour nous, consid√©rez ses principales caract√©ristiques: <br><br></p><ul><li>  protocole de messagerie pour analyser et ex√©cuter du code quelle que soit la langue </li><li>  format de fichier avec la possibilit√© de modifier, pour la description, l'affichage et l'ex√©cution du code, la sortie et les notes de d√©marque </li><li>  interface Web pour l'√©criture interactive, l'ex√©cution de code et la visualisation des r√©sultats </li></ul><br><p>  Le protocole Jupyter fournit une API de messagerie standardis√©e avec des noyaux qui agissent comme des modules de calcul et fournit une architecture composable, partageant ainsi o√π le code (UI) est stock√© et o√π il est ex√©cut√© (le noyau).  Ainsi, en s√©parant l'interface et le noyau, les ordinateurs portables peuvent fonctionner dans plusieurs langues tout en conservant la flexibilit√© de configurer le runtime.  S'il existe une langue pour une langue qui peut √©changer des messages √† l'aide du protocole Jupyter, Notebook peut ex√©cuter du code en envoyant et en recevant des messages vers ce noyau. </p><br><p>  En plus de tout, tout cela est pris en charge par un format de fichier qui vous permet de stocker √† la fois le code lui-m√™me et les r√©sultats de son ex√©cution en un seul endroit.  Cela signifie que vous pouvez afficher les r√©sultats de l'ex√©cution ult√©rieurement sans avoir √† red√©marrer le code lui-m√™me.  Les ordinateurs portables peuvent √©galement stocker une description d√©taill√©e du contexte et de ce qui se passe exactement √† l'int√©rieur.  Cela en fait un format id√©al pour transmettre un contexte commercial, fixer des hypoth√®ses, commenter du code, d√©crire des conclusions, et bien plus encore. </p><br><h1><a name="Use"></a>  Cas d'utilisation </h1><br>  Parmi les nombreux sc√©narios, les cas d'utilisation les plus courants sont: l'acc√®s aux donn√©es, les mod√®les de bloc-notes et la planification des blocs-notes. <br><br><h2>  Acc√®s aux donn√©es </h2><br><p>  Jupyter Notebook est apparu √† l'origine sur Netflix pour prendre en charge les workflows de science des donn√©es.  Au fur et √† mesure que leur utilisation parmi les experts en science des donn√©es augmentait, nous avons vu le potentiel d'√©tendre les capacit√©s de nos outils.  Nous avons r√©alis√© que nous pouvions utiliser la polyvalence et l'architecture du Jupyter Notebook et √©tendre ses capacit√©s de partage de donn√©es.  Au troisi√®me trimestre de 2017, nous avons s√©rieusement commenc√© √† faire de Notebook un outil pour un cercle restreint de sp√©cialistes en un repr√©sentant de premi√®re classe de la plate-forme de donn√©es Netflix. </p><br><p>  Du point de vue de nos utilisateurs, les ordinateurs portables offrent une interface pratique pour l'ex√©cution interactive de commandes, la recherche de sortie et la visualisation des donn√©es - le tout dans un environnement de d√©veloppement cloud.  Nous prenons √©galement en charge la biblioth√®que Python, qui combine l'acc√®s √† l'API de la plateforme.  Cela signifie que les utilisateurs ont un acc√®s programmatique √† la quasi-totalit√© de la plate-forme Netflix via Notebook.  Gr√¢ce √† cette combinaison de flexibilit√©, de puissance et de facilit√© d'utilisation, l'entreprise a connu une forte augmentation de son utilisation par tous les types d'utilisateurs de la plateforme. </p><br><p>  Aujourd'hui, notebook est l'outil de donn√©es le plus populaire de Netflix. </p><br><h2>  Mod√®les de cahier </h2><br><p>  √Ä mesure que la prise en charge de Jupyter Notebooks s'est d√©velopp√©e au sein de la plate-forme, nous avons commenc√© √† introduire de nouvelles fonctionnalit√©s pour l'utiliser pour r√©pondre √† de nouveaux sc√©narios d'utilisation.  De l√† sont venus des ordinateurs portables param√©tr√©s.  Les ordinateurs portables param√©tr√©s repr√©sentent exactement ce que leur nom dit: un ordinateur portable qui vous permet de d√©finir des param√®tres dans le code et de recevoir des donn√©es au moment de l'ex√©cution.  Cela fournit un bon m√©canisme pour que les utilisateurs d√©finissent le bloc-notes comme des mod√®les r√©utilisables. </p><br><p>  Nos utilisateurs ont trouv√© de nombreuses fa√ßons d'utiliser de tels mod√®les.  Nous √©num√©rons quelques-uns des plus utilis√©s: <br><br></p><ul><li>  <b>Data Scientist</b> : exp√©rimentez avec diff√©rents coefficients et r√©sumez les r√©sultats </li><li>  <b>Ing√©nieur de donn√©es</b> : effectuer une collection d'audits de qualit√© des donn√©es dans le cadre du processus de d√©ploiement. </li><li>  <b>Data Analyst</b> : partagez des requ√™tes et des visualisations pr√©par√©es afin que les parties prenantes puissent explorer les donn√©es plus en profondeur que Tableau ne le permet </li><li>  <b>Ing√©nieur logiciel</b> : envoyer les r√©sultats d'un script pour r√©soudre un crash </li></ul><br><h2>  Planification des carnets (planificateur) </h2><br><p>  L'une des fa√ßons originales d'utiliser Notebook consiste √† cr√©er une couche de fusion pour planifier les workflows. </p><br><p>  √âtant donn√© que chaque ordinateur portable peut fonctionner sur un noyau arbitraire, nous pouvons prendre en charge n'importe quel environnement d'ex√©cution d√©fini par l'utilisateur.  Et puisque les blocs-notes d√©crivent un flux d'ex√©cution lin√©aire divis√© en cellules, nous pouvons relier l'√©chec √† une cellule sp√©cifique.  Cela permet aux utilisateurs de d√©crire l'ex√©cution et les visualisations sous une forme plus narrative, qui peut √™tre captur√©e avec pr√©cision au d√©marrage √† un moment ult√©rieur. </p><br><p>  Un tel paradigme vous permet d'utiliser un ordinateur portable pour un travail interactif et de passer en douceur √† plusieurs ex√©cutions et √† l'utilisation du planificateur.  Ce qui s'est av√©r√© tr√®s pratique pour les utilisateurs.  De nombreux utilisateurs cr√©ent des workflows entiers dans le bloc-notes uniquement pour les dupliquer ensuite dans des fichiers s√©par√©s et les ex√©cuter au bon moment.  En traitant le bloc-notes comme une description de processus s√©quentielle, nous pouvons facilement planifier leur ex√©cution comme n'importe quel autre flux de travail. </p><br><p>  Nous pouvons planifier l'ex√©cution d'autres types de travaux via des cahiers.  Lorsqu'un travail Spark ou Presto est ex√©cut√© √† partir du planificateur, le code source est ins√©r√© dans le bloc-notes nouvellement cr√©√© et ex√©cut√©.  Ce bloc-notes devient un r√©f√©rentiel d'historique contenant le code source, les param√®tres, les configurations, les journaux d'ex√©cution, les messages d'erreur, etc.  Lors du d√©pannage, cela fournit un point de d√©part rapide pour l'enqu√™te, car toutes les informations pertinentes se trouvent √† l'int√©rieur et le bloc-notes peut √™tre ex√©cut√© pour un d√©bogage interactif. </p><br><h1>  Infrastructure pour ordinateur portable </h1><br><p>  La prise en charge des sc√©narios d√©crits ci-dessus √† l'√©chelle de Netflix n√©cessite une infrastructure de prise en charge √©tendue.  Pr√©sentez bri√®vement plusieurs projets qui seront discut√©s dans les sections suivantes: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>nteract est la</b></a> nouvelle g√©n√©ration d'interfaces utilisateur React pour les ordinateurs portables Jupyter.  Il fournit une interface simple et intuitive et propose plusieurs am√©liorations pour l'interface utilisateur Jupyter classique, telles que des barres d'outils de cellules en ligne, des cellules glisser-d√©poser et un explorateur int√©gr√©. </p><br><p>  Biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Papermill</b></a> pour le param√©trage, l'ex√©cution et l'analyse des cahiers Jupyter.  √Ä l'aide de laquelle vous pouvez propager plusieurs cahiers avec diff√©rents param√®tres et les ex√©cuter simultan√©ment.  Papermill vous permet √©galement de collecter et de r√©sumer des mesures pour une collection enti√®re de cahiers. </p><br><p>  <a href=""><b>Commuter est un service</b></a> l√©ger et √©volutif verticalement pour visualiser et partager un ordinateur portable.  Il fournit une version compatible Jupyter de l'API pour le contenu et facilite la lecture des blocs-notes stock√©s localement sur Amazon S3.  Propose √©galement un explorateur pour rechercher et partager des fichiers. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Titus est une</b></a> plateforme de gestion de conteneurs qui fournit un lancement de conteneur √©volutif et fiable et une int√©gration native dans le cloud avec Amazon AWS.  Titus a √©t√© d√©velopp√© chez Netflix et est utilis√© au combat pour prendre en charge les syst√®mes de streaming, de recommandation et de contenu Netflix. </p><br><p>  Une description plus d√©taill√©e de l'architecture peut √™tre trouv√©e dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scheduling Notebooks at Netflix</a> .  Aux fins de cet article, nous nous limitons aux trois composants fondamentaux du syst√®me: le stockage, l'ex√©cution et l'interface. </p><br><br><img src="https://habrastorage.org/webt/ix/n2/il/ixn2ilrqck4xlxodxzps1siraay.jpeg"><br>  <i>Infrastructure pour ordinateur portable sur Netflix</i> <br><br><h2>  Stockage </h2><br><p>  La plate-forme de donn√©es Netflix utilise le stockage cloud Amazon S3 et EFS, que les ordinateurs portables traitent comme des syst√®mes de fichiers virtuels.  Cela signifie que chaque utilisateur dispose d'un r√©pertoire de base EFS contenant un espace de travail personnel pour les blocs-notes.  Dans cet espace, nous stockons tout cahier cr√©√© ou charg√© par l'utilisateur.  C'est √©galement l'endroit o√π la lecture et l'√©criture se produisent lorsque l'utilisateur d√©marre de mani√®re interactive l'ordinateur portable.  Nous utilisons la combinaison [espace de travail + nom de fichier] pour l'espace de noms, c'est-√†-dire  /efs/users/kylek/notebooks/MySparkJob.ipynb pour la visualisation, le partage et dans le planificateur d'ex√©cution.  Un tel accord emp√™che les collisions et facilite l'identification de l'utilisateur et de l'emplacement du bloc-notes dans EFS. </p><br><p>  Le chemin d'acc√®s √† l'espace de travail vous permet d'ignorer la complexit√© du stockage cloud pour l'utilisateur.  Par exemple, seuls les noms des fichiers du carnet sont affich√©s dans le r√©pertoire, c'est-√†-dire  MySparkJob.ipynb.  Le m√™me fichier est disponible via le terminal: ~ / notebooks / MySparkJob.ipynb. </p><br><p><img src="https://habrastorage.org/webt/4a/bu/cs/4abucsxtgasl8fhalvh9jatsm2e.png"><br>  Stockage pour ordinateur portable vs  acc√®s </p><br><p>  Lorsque l'utilisateur d√©finit la t√¢che de d√©marrage du bloc-notes, le planificateur copie le bloc-notes de l'utilisateur d'EFS dans le r√©pertoire partag√© sur S3.  Le bloc-notes dans S3 devient la source de v√©rit√© pour le planificateur ou le bloc-notes source.  Chaque fois que le planificateur (r√©partiteur) d√©marre le bloc-notes, il cr√©e un nouveau bloc-notes √† partir de la source.  Ce nouveau bloc-notes est ce qui d√©marre r√©ellement et devient un enregistrement invariable d'une ex√©cution sp√©cifique, contenant le code ex√©cutable, la sortie et les journaux de chaque cellule.  Nous l'appelons carnet de sortie (sortie). </p><br><p>  La co-cr√©ation est une caract√©ristique fondamentale de Netflix.  Par cons√©quent, il n'√©tait pas surprenant que les utilisateurs aient commenc√© √† √©changer des liens URL vers le bloc-notes.  Avec la croissance de cette pratique, nous sommes confront√©s au probl√®me de la r√©√©criture accidentelle caus√©e par l'acc√®s simultan√© de plusieurs utilisateurs au m√™me bloc-notes.  Nos utilisateurs voulaient un moyen de partager leur ordinateur portable actif en mode lecture seule.  Cela a conduit √† la cr√©ation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Commuter</b></a> .  Sous le capot, Commuter affiche l'API Jupyter pour r√©pertorier / files et / api / contents dans une liste de r√©pertoires, pour afficher le contenu des fichiers et acc√©der aux m√©tadonn√©es des fichiers.  Cela signifie que les utilisateurs peuvent afficher les blocs-notes sans cons√©quences pour les t√¢ches de combat ou les blocs-notes en direct. </p><br><h2>  Calculer </h2><br><p>  La gestion des ressources informatiques est l'une des parties les plus difficiles du travail avec les donn√©es.  Cela est particuli√®rement vrai dans Netflix, o√π nous utilisons l'architecture de conteneur hautement √©volutive dans AWS.  Tous les travaux sur la plateforme de donn√©es sont ex√©cut√©s dans des conteneurs, y compris les requ√™tes, les pipelines et le bloc-notes.  Naturellement, nous avons voulu nous abstenir le plus possible de cette complexit√©. </p><br><p>  Un conteneur est fourni lorsque l'utilisateur d√©marre le serveur de bloc-notes.  Nous fournissons des valeurs par d√©faut rationnelles pour les ressources de conteneur qui fonctionnent pour environ 87,3% des mod√®les d'ex√©cution.  Lorsque cela ne suffit pas, les utilisateurs peuvent demander plus de ressources √† l'aide d'une interface simple. </p><br><p><img src="https://habrastorage.org/webt/lv/qd/a7/lvqda7s2wfhpgoegmxq-wufyqqw.png"><br>  Les utilisateurs peuvent s√©lectionner autant ou aussi peu de m√©moire de calcul + que n√©cessaire <br></p><br><p>  Nous fournissons √©galement un runtime unifi√© avec une image de conteneur termin√©e.  L'image a des biblioth√®ques partag√©es et un ensemble pr√©d√©fini de noyaux par d√©faut.  Tout dans l'image n'est pas statique - nos noyaux utilisent les derni√®res versions de Spark et les derni√®res configurations de cluster pour notre plate-forme.  Cela r√©duit l'encombrement et le temps de r√©glage pour les nouveaux ordinateurs portables et nous maintient g√©n√©ralement dans un environnement d'ex√©cution unique. </p><br><p>  Sous le capot, nous g√©rons l'orchestration et les environnements avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Titus</a> , notre service de gestion de conteneurs Docker.  Nous cr√©ons en outre un wrapper sur ce service, g√©rant des configurations et des images de serveur utilisateur sp√©cifiques.  L'image comprend √©galement des groupes et des r√¥les de s√©curit√© des utilisateurs, ainsi que des variables d'environnement communes pour l'identification dans les biblioth√®ques incluses.  Cela signifie que nos utilisateurs peuvent consacrer moins de temps √† l'infrastructure et plus de temps aux donn√©es. </p><br><h2>  Interface </h2><br><p>  Plus t√¥t, nous avons d√©crit notre vision selon laquelle les ordinateurs portables devraient √™tre l'outil le plus efficace et optimal pour travailler avec des donn√©es.  Mais cela pr√©sente un d√©fi int√©ressant: comment une interface peut-elle prendre en charge tous les utilisateurs?  Nous ne connaissons pas la r√©ponse exacte, mais nous avons quelques id√©es. </p><br><p>  Nous savons que la simplicit√© est n√©cessaire.  Cela signifie une interface utilisateur intuitive avec un style minimaliste, et cela n√©cessite √©galement une exp√©rience utilisateur r√©fl√©chie qui rend les choses complexes faciles √† faire.  Cette philosophie cadre bien avec les objectifs de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>nteract</b></a> , √©crits sur le frontend React pour le cahier Jupyter.  Il met l'accent sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composabilit√© en</a> tant que principes de conception fondamentaux, ce qui en fait un √©l√©ment id√©al de notre vision. </p><br><p>  La plainte la plus courante de nos utilisateurs est le manque de visualisation native pour toutes les langues, en particulier pour les langues non Python. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Data Explorer</a>  nteract ‚Äî        ,        . </p><br><p>    Data Explorer    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  MyBinder. (    ) </p><br><p><img src="https://habrastorage.org/webt/ox/xs/sw/oxxssw7z57vkebgbdbgtnnm2ido.gif"><br> Visualizing the World Happiness Report dataset with nteract's Data Explorer </p><br><p>      ,     notebook,      . </p><br><p><img src="https://habrastorage.org/webt/jp/tw/a8/jptwa8er0juvuh5ze3mwezv-yxq.gif"><br> Native support for parameterized notebooks in nteract </p><br><p>     Jupyter notebook    ,     .         ,         notebook.     12      ,    .      ,      ,  ,     .        ,    ,    Spark DataFrames,    Scala.          . </p><br><h1> Open Source Projects </h1><br><p> Netflix     .   ,  ,       .        Netflix Data Platform     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netflix OSS</a> .            ‚ÄúNot Invented Here‚Äù.                 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spark</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jupyter</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pandas</a> . </p><br><p> ,   ,     Jupyter Project,        . ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>nteract</b></a>   notebook UI  Netflix.       ,        .   ,       Jupyter Notebook, ,    ,   .            nteract. </p><br><p>     ,    Netflix,    . ,   ,    ,         ,    . , Papermill,      . </p><br><hr><br><h1> What's Next ( ) </h1><br><p>    ,   ‚Äì   (Netflixers)     . Notebook      Netflix.         ,       .       ,     . </p><br><p> !       .     ,     notebook.          notebook  Netflix,         .       : <br><br>  I: Notebook Innovation ( ) <br><br>  II: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scheduling Notebooks</a> </p><br><br>  : <br><br>  Scheduling  workflows     ,       ‚Äî    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439272/">https://habr.com/ru/post/fr439272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439262/index.html">D√©ployez le code directement dans le conteneur Docker. Ou comment ne pas tergiverser apr√®s chaque commit</a></li>
<li><a href="../fr439264/index.html">Comment g√©rer des projets techniques complexes sans embaucher de PM: exp√©rience DataLine</a></li>
<li><a href="../fr439266/index.html">L'exp√©rience de cr√©er un jeu pour Android seul √† partir de z√©ro et comment il a √©t√© cr√©dit√© sur Google Play</a></li>
<li><a href="../fr439268/index.html">Comment VR, AR et l'impression 3D fonctionnent ensemble: exp√©rience VR Concept</a></li>
<li><a href="../fr439270/index.html">Un exemple d'analyse de code C ++ √† l'aide de libclang en Python</a></li>
<li><a href="../fr439278/index.html">ACS de mon LCD - s√©curit√© sur deux boulons</a></li>
<li><a href="../fr439280/index.html">Trautonium: la vague allemande dans l'histoire des synth√©tiseurs</a></li>
<li><a href="../fr439282/index.html">Effets de filtrage SVG. Partie 1. Filtres SVG 101</a></li>
<li><a href="../fr439286/index.html">√Ä propos de l'analyse statique en toute honn√™tet√©</a></li>
<li><a href="../fr439288/index.html">SciPy, optimisation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>