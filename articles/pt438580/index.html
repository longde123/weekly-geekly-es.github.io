<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏼 😛 👩🏽‍⚕️ Senhas geradas automaticamente no iOS 12 🍱 📯 🤱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se seu aplicativo possui uma função de registro que inclui a capacidade ou a necessidade de inserir um novo nome de usuário e senha, provavelmente voc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Senhas geradas automaticamente no iOS 12</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438580/">  Se seu aplicativo possui uma função de registro que inclui a capacidade ou a necessidade de inserir um novo nome de usuário e senha, provavelmente você estará interessado na inovação do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">iOS 12</a> , que eu gostaria de descrever.  Este é um serviço que inventa novas senhas para o usuário, as substitui automaticamente nos campos necessários e as armazena com segurança no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Keychain</a> . <br><a name="habracut"></a><br>  As senhas geradas automaticamente pelas senhas do sistema são as mais resistentes à seleção (sendo seqüências de caracteres geradas aleatoriamente - ajustadas para restrições personalizadas, mas mais sobre isso posteriormente), dispensam os usuários do aplicativo da necessidade de criar uma sequência própria e são configurados de forma flexível para as necessidades de um aplicativo específico.  O suporte para novas funcionalidades é facilmente fornecido, no entanto, não sem recursos.  Mas as primeiras coisas primeiro. <br><br><h3>  Direitos e Obrigações </h3><br>  Primeiro de tudo, o aplicativo deve declarar seu desejo de usar essa funcionalidade.  Na lista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Recursos</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Destino</a> correspondente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> você deve primeiro ter um domínio na lista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Domínios Associados</a> .  Curiosamente, o aplicativo deve ter um "Domínio Associado" para poder usar as senhas geradas e armazená-las no "Porta-chaves" do usuário (essas duas funções são interconectadas e a geração não pode ser usada separadamente do armazenamento). <br><br>  Se o aplicativo já suportar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uso de contas compartilhadas com o seu site (as chamadas "Credenciais Compartilhadas")</a> , então esta etapa já está atrasada.  Ele também pode estar atrasado e se o aplicativo suportar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Universal Links</a> ou outro mecanismo para processar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"URLs"</a> externos. <br><br>  De qualquer forma, depois de adicionar essa compatibilidade, o aplicativo terá um novo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Direito"</a> . <br><br>  Além dessa compatibilidade mais geral, o aplicativo também deve ter “Capatibilidade” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">“Fornecedor de credenciais de preenchimento automático”</a> - isso permite que o aplicativo, se houver permissão do usuário, use os logins e senhas oferecidos pelo sistema.  A adição dessa compatibilidade fará com que a permissão de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Titularidade do provedor de credenciais de preenchimento automático seja exibida</a> . <br><blockquote>  A propósito, a adição deste e de outros recursos está disponível apenas para membros do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apple Developer Program</a> . </blockquote>  O perfil de provisionamento usado pelo aplicativo também deve incluir os dois recursos a seguir. <br><br><h3>  Dependências usadas </h3><br>  Adicionar compatibilidade apropriada resultará na aparência da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estrutura</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AuthenticationServices</a> na lista de Frameworks e Bibliotecas Vinculadas do destino correspondente.  Este ponto tem alguns recursos que vale a pena mencionar. <br><br>  Primeiro, a adição automática de uma estrutura relacionada pode não "funcionar" na primeira vez: quando inicio o aplicativo em um dispositivo real a partir da minha cópia do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Xcode"</a> versão 10.1, o aplicativo imediatamente "travou" devido à falta de "AuthenticationServices".  Remover manualmente a estrutura e adicioná-la novamente à lista de componentes relacionados resolveu o problema. <br><br>  Em segundo lugar, a adição automática de uma estrutura a marca como "Necessária".  Se o seu aplicativo implicar a possibilidade de trabalhar "nas versões" "" iOS "abaixo de 12, isso também causará uma falha na fase de inicialização" nos "sistemas operacionais" de versões inferiores.  "AuthenticationServices" estão disponíveis apenas para sistemas da versão 12.  Esse problema é resolvido marcando a estrutura como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Opcional"</a> . <br><br><h3>  Suporte para caixa de texto </h3><br>  Para dar suporte à funcionalidade com campos de texto, a variável <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>textContentType</code></a> protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>textContentType</code></a> é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>UITextInputTraits</code></a> .  A classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>UITextField</code></a> , que provavelmente é usada para inserir o login e a senha no aplicativo, já implementa os requisitos do protocolo que precisamos. <br><br>  <code>textContentType</code> é um campo do tipo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>UITextContentType</code></a> contém apenas um conjunto de constantes.  O que precisamos no momento é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>newPassword</code></a> , usado para inserir uma nova senha que está sendo inventada no momento (não confunda apenas com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>password</code></a> usada para inserir uma senha existente). <br><br><pre> <code class="plaintext hljs">let passwordTextField = UITextField() if #available(iOS 12, *) { passwordTextField.textContentType = .newPassword }</code> </pre> <br>  A configuração do valor de <code>textContentType</code> em uma verificação de acessibilidade da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"API"</a> , porque, como a funcionalidade geral, essa constante está disponível apenas a partir do "iOS 12". <br><br>  Além do tipo de conteúdo, o campo de texto deve fornecer entrada de dados segura: <br><br><pre> <code class="plaintext hljs">passwordTextField.isSecureTextEntry = true</code> </pre> <br>  Embora o aplicativo possa fornecer a funcionalidade de exibir e ocultar a senha inserida que é popular em nossos dias, a senha gerada será oferecida apenas se, neste momento, o sinalizador for <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>true</code></a> . <br><br>  Um ponto interessante está conectado ao tipo de conteúdo do campo de texto: se nenhum outro campo estiver presente na tela, com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>username</code></a> tipo de conteúdo, a senha gerada automaticamente não será oferecida.  Isso se deve ao fato de a funcionalidade ser baseada não apenas no tipo especificado de conteúdo do campo de texto, mas em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">análise heurística do conteúdo da tela</a> . <br><br>  Parece que a geração de senha "quebra" a lógica das telas que exigem que uma nova senha seja inserida duas vezes para verificar.  Pelo menos ainda não encontrei uma maneira de usar essas duas funcionalidades juntas.  E parece que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eu não sou o único</a> . <br><br>  Vale ressaltar que, se o login for semanticamente um endereço de e-mail (e, portanto, eu realmente quero ter o tipo de teclado apropriado), os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipos de teclado</a> e conteúdo podem ser combinados: <br><br><pre> <code class="plaintext hljs">let userNameTextField = UITextField() userNameTextField.keyboardType = .emailAddress userNameTextField.textContentType = .username</code> </pre> <br><h3>  Requisitos de senha </h3><br>  Freqüentemente, as senhas dos usuários devem seguir certas regras (ter um certo comprimento, incluir certos caracteres etc.).  Essas regras podem ser especificadas para que o sistema as leve em consideração ao gerar senhas.  Isso é feito através da propriedade <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>passwordRules</code></a> do protocolo <code>UITextInputTraits</code> .  Por exemplo: <br><br><pre> <code class="plaintext hljs">if #available(iOS 12, *) { passwordTextField.passwordRules = UITextInputPasswordRules(descriptor: "required: upper; required: lower; required: digit; minlength: 8;") }</code> </pre> <br>  A propriedade também está disponível apenas a partir do "iOS 12". <br><br>  O tipo da propriedade é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>UITextInputPasswordRules</code></a> .  Inicialização - usando uma cadeia de caracteres do descritor.  O identificador possui uma sintaxe simples e consiste em requisitos simples de senha, listados com ponto e vírgula.  Cada requisito é um par de valor-chave, separado por dois pontos.  A chave é o tipo de regra (por exemplo, "inclui necessariamente" - <code>required</code> ) e o valor é o elemento que deve seguir essa regra (por exemplo, dígitos - <code>digit</code> ). <br><br>  No exemplo acima, o descritor significa: <br><br><ul><li>  <code>required: upper</code> - é necessária a presença de pelo menos uma letra maiúscula; </li><li>  <code>required: lower</code> - o mesmo para pelo menos uma letra minúscula; </li><li>  <code>required: digit</code> - o mesmo para pelo menos um dígito em minúsculas; </li><li>  <code>minlength: 8</code> - o comprimento mínimo é de oito caracteres. </li></ul><br>  Uma lista detalhada de possíveis chaves e valores pode ser encontrada em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bom artigo publicado no site do NSHipster</a> . <br><br>  E a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apple</a> oferece um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">assistente de compilação de descritores</a> bastante conveniente, que fornece não apenas uma maneira conveniente de construí-los, mas também uma verificação dos descritores compilados na forma de um número ilimitado de exemplos gerados.  Lá você pode ver quais regras são aplicadas por padrão. <br><br><h3>  Validação </h3><br>  Por precaução, deve ser esclarecido que o mecanismo de geração de senha não fornece validação dos dados inseridos pelo usuário - você mesmo deve cuidar disso.  O que, é claro, é bastante lógico, porque  o usuário do aplicativo pode recusar a senha gerada automaticamente proposta ou até mesmo proibir a geração de senhas e o preenchimento automático de campos. <br><br><h3>  Construtor de interface </h3><br>  O que é digno de nota no espírito de nosso tempo, todas as configurações de campos de texto listadas podem ser definidas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Interface Builder"</a> , até a "Regra de senha": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/098/29a/2cb/09829a2cb9624b92c8da4b938c424e48.png" alt="imagem"><br><br><h3>  Verificação de funcionalidade </h3><br>  A funcionalidade não é complicada, mas possui várias nuances: quando você a configura, pode facilmente esquecer algo.  Nesse caso, nas montagens "debug", quando o campo de texto correspondente é ativado, o motivo será exibido no console para o qual a funcionalidade não está funcionando no momento. <br><br>  Por exemplo: <br><br><pre> <code class="plaintext hljs">[AutoFill] Cannot show Automatic Strong Passwords for app bundleID: &lt;...&gt; due to error: Cannot save passwords for this app. Make sure you have set up Associated Domains for your app and AutoFill Passwords is enabled in Settings</code> </pre> <br>  Além disso, lembre-se sempre de que esse tipo de funcionalidade está entre as ações para as quais é necessária a permissão do usuário.  Nesse caso, são necessários dois: <br><br>  1. Chaveiro do iCloud; <br>  2. Preenchimento automático. <br><br><h3>  Conclusão </h3><br>  Parece ser tudo o que deve ser prestado atenção ao fornecer suporte para novas funcionalidades.  Se alguém no processo de trabalhar nisso tiver encontrado outros recursos interessantes, comentarei uma vez e, se necessário, certifique-se de complementar o artigo. <br><br>  O recurso é bastante interessante e, se usado corretamente, é capaz de melhorar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">experiência do usuário do</a> seu aplicativo! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438580/">https://habr.com/ru/post/pt438580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438568/index.html">Sobre computadores quânticos: como diferentes países desenvolvem essa tecnologia</a></li>
<li><a href="../pt438570/index.html">CS Center 2018 New Year Eve Competition</a></li>
<li><a href="../pt438574/index.html">Fundamentos da arquitetura de aplicativos de vibração: Baunilha, modelo com escopo, BLoC</a></li>
<li><a href="../pt438576/index.html">Código aberto popular - parte três: 5 ferramentas para desenvolvedores</a></li>
<li><a href="../pt438578/index.html">Como o gigante de TI da gigante de áudio foi "contornado" pela segunda vez</a></li>
<li><a href="../pt438582/index.html">AntiRating 2018</a></li>
<li><a href="../pt438584/index.html">Front-end para desenvolvedor de back-end</a></li>
<li><a href="../pt438588/index.html">Widget googleTranslate personalizado para o site</a></li>
<li><a href="../pt438590/index.html">Thunder in Paradise ou Por que você não deve usar o FlylinkDC ++</a></li>
<li><a href="../pt438592/index.html">O que procurar ao escolher um leitor - estamos falando sobre o fator de forma e a exibição</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>