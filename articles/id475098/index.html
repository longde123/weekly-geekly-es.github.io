<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’‚ ğŸ« ğŸª Otomatisasi pengadaan poster bioskop online ğŸ® â© ğŸ––ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini kita akan berbicara tentang bagaimana kita mengotomatiskan persiapan sampul / koleksi film dan konten lainnya di Okko, serta masalah apa yang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Otomatisasi pengadaan poster bioskop online</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/475098/">  Hari ini kita akan berbicara tentang bagaimana kita mengotomatiskan persiapan sampul / koleksi film dan konten lainnya di Okko, serta masalah apa yang dipecahkan secara otomatis oleh otomatisasi dan prospek apa yang terbuka bagi kita. <br><a name="habracut"></a><br>  Okko adalah teater film online yang mendukung sejumlah besar perangkat: iPhone, iPad, AppleTV, semua smartphone Android, sebagian besar TV SMART (LG, Samsung, Sony, Panasonic, Xiaomi, dll.), PS3, PS4, Xbox, Web- browser. <br><br><img src="https://habrastorage.org/webt/h7/j9/-w/h7j9-wewqlmvzen2f5v1g6y_iek.jpeg"><br><br>  Awalnya, kami menyiapkan gambar secara offline untuk setiap unit konten (film, seri, seri seri, dll.) Dalam ukuran target.  Apalagi foto-foto itu sendiri tidak jauh berbeda satu sama lain.  Di beberapa titik, persiapan dan pengiriman gambar ke pelanggan berubah menjadi proses yang tidak nyaman, disertai dengan sejumlah masalah: <br><br><ul><li>  peningkatan volume respons terhadap pelanggan dari backend untuk meminta daftar film / langganan / koleksi; </li><li>  peningkatan jumlah gambar pada penyimpanan file (karena setiap klien harus menduplikasi gambar, tetapi dengan ukuran yang berbeda. Karena itu, kami membuat lebih dari 30 salinan setiap gambar untuk setiap jenis klien); </li><li>  peningkatan volume yang ditempati oleh tautan ke gambar-gambar RAM ini; </li><li>  fleksibilitas rendah: untuk sedikit mengubah gambar, Anda harus mengunggah gambar yang diubah ke sistem file dan merentangkannya ke klien; </li><li>  waktu untuk menyiapkan gambar: karena perangkat dapat berbeda secara fundamental, komunikasi dengan pengguna juga berbeda.  Misalnya, pada klien TV, masuk akal untuk menunjukkan teks pada sampulnya, karena dapat dibaca di layar dengan diagonal seperti itu.  Tetapi pada smartphone untuk menerapkan teks yang sama tidak berguna - itu akan terlalu kecil untuk melihat apa yang tertulis di sampulnya.  Dalam skema lama, bahkan operasi sederhana seperti mengubah teks memerlukan keterlibatan beberapa departemen: perlu untuk mengganti bagian yang diperlukan dalam gambar, memberikan sumber ke spesialis konten yang akan mengirim gambar ke sistem file, dan menggunakan klien yang mendukung gambar yang sesuai; </li><li>  sejumlah kemungkinan untuk bekerja dengan gambar: misalnya, untuk klien web dan klien TV, gambar dengan format berbeda diperlukan.  Dan untuk mendapatkannya, Anda juga harus menyalin gambar ke sistem file. </li></ul><br>  Setelah kami perhatikan bahwa sistem seperti itu terlalu rumit - kami membutuhkan otomatisasi.  Setelah menganalisis dengan tepat persyaratan apa yang kami miliki untuk persiapan gambar otomatis, kami mengembangkan layanan mikro untuk menyiapkan gambar untuk berbagai jenis klien dari satu sumber dengan cepat. <br><br>  Di bawah ini adalah daftar kecil persyaratan awal yang kami kumpulkan dan yang harus dipenuhi oleh layanan: <br><br><ul><li>  mengubah ukuran gambar </li><li>  memotong gambar ke ukuran yang diinginkan </li><li>  mengubah ukuran gambar di satu sisi sambil mempertahankan rasio aspek </li><li>  output perubahan kualitas gambar </li><li>  ubah format gambar keluaran (jpeg, png, webp) </li><li>  menggunakan filter gauss </li><li>  kemampuan untuk mempertahankan urutan transformasi gambar </li></ul><br>  Daftar di atas mencakup persyaratan untuk persiapan otomatis poster film, acara TV, film seri, serial TV dan latar belakang untuk kartu film + permainan Liga Premier Inggris. <br><br><img src="https://habrastorage.org/webt/-4/om/sh/-4omshvqsfdusq-dby3zrxw12w8.jpeg"><br><br>  Ketika persyaratan ini diterapkan dan dirilis, mereka mulai memikirkan entitas layanan lainnya - koleksi, langganan, paket berlangganan.  Untuk refleksi ini tentang bagaimana menangani elemen yang lebih kompleks, beberapa rencana departemen analitik untuk membuat dan mengembangkan koleksi pribadi ditambahkan: mereka ingin dapat mengumpulkan koleksi khusus untuk setiap pengguna di masa depan, membentuk komunikasi di sampul koleksi, yang, menurut rekomendasi kami mesin paling cocok untuk ini.  Ini juga menambahkan ide-ide desainer untuk menghilangkan pekerjaan mereka: untuk mengajarkan layanan untuk melapisi semua jenis elemen grafis dan teks untuk kampanye pemasaran Okko, buletin dan komunikasi. <br><br>  Dengan demikian, dengan munculnya permintaan untuk otomatisasi koleksi koleksi, langganan dan paket berlangganan, persyaratan layanan dilengkapi dengan poin-poin berikut: <br><br><ul><li>  overlay gambar tambahan pada yang utama sesuai dengan koordinat yang ditentukan; </li><li>  overlay teks berbeda pada gambar dengan kemampuan untuk mengubah ukuran teks, tipe font, spasi baris dan spasi huruf; </li><li>  Mampu menerapkan parameter dasar bersama dengan yang baru. </li></ul><br>  Poin tambahan ini memunculkan beberapa masalah yang terkait dengan redundansi tubuh permintaan di belakang gambar dalam kasus ketika pengguna ingin meletakkan beberapa gambar di atas satu sama lain, serta mengubah jenis gambar output dan, misalnya, kualitas gambar.  Ini mungkin terlihat seperti permintaan untuk overlay dua gambar dan teks: <br><br>  <i>host: port / img / picture_id? width = 556 &amp; kualitas = 80 &amp; mediaType = webp &amp; putImage = picture_id2 &amp; x_coordinate = 100 &amp; y_coordinate = 100 &amp; quality_2 = 95 &amp; text = Beberapa teks &amp; text_x = 0 &amp; text_y = 150</i> <br><br>  Jelas, mendukung jalur seperti itu tidak nyaman, mengubahnya juga, bahkan tidak nyaman hanya dengan menulis dan membaca + mengubah salah satu parameter gambar berarti rilis klien baru, yang, secara umum, tidak terlalu menyenangkan (dan untuk beberapa perangkat itu sangat panjang). <br><br>  Jadi dalam layanan mikro untuk persiapan gambar, konsep preset muncul - yaml-file dengan deskripsi elemen tambahan, lokasi mereka, font, dan data lain yang diperlukan untuk mengkonfigurasi tipe gambar tertentu untuk perangkat tertentu. <br><br><h3>  Hasil </h3><br>  Hari ini kita berada pada tahap peralihan: sejauh ini, semua poster film / film multi-bagian / seri / seri telah disiapkan secara otomatis untuk semua jenis klien dari sampul sumber yang sama.  Plus, kami secara otomatis menyiapkan poster untuk tur dan pertandingan hari Liga Primer Inggris. <br><br><img src="https://habrastorage.org/webt/_n/ix/i9/_nixi9qcvrtf-bwktytbtjh_vwe.jpeg"><br><br>  Secara teknis, hari ini layanan ini mampu mendapatkan sampul tidak hanya film dan elemen olahraga, tetapi juga koleksi / langganan, juga dimungkinkan untuk menempatkan berbagai elemen grafis dan teks pada gambar tanpa harus memiliki preset. <br><br><img src="https://habrastorage.org/webt/4r/xf/qf/4rxfqf0ylfg9-wqa4ntnhdtkjt0.jpeg"><br><br>  Fungsionalitas yang diimplementasikan sudah secara signifikan menyederhanakan masa pakai: perubahan kecil pada gambar tidak harus dilakukan melalui beberapa departemen, cukup ubah atau tambahkan nilai ke satu atau beberapa parameter layanan yang bertanggung jawab untuk menampilkannya, menguji layanan mikro dan melepaskannya, yang jelas jauh lebih cepat. dari rilis membangun pelanggan baru.  Mendukung jenis perangkat baru, mengeluarkan semua poster katalog ke mitra eksternal, penampilan komunikasi tambahan, bukan lagi masalah berminggu-minggu, melainkan beberapa jam. <br><br>  Departemen desain telah menurunkan muatan, karena ia tidak perlu lagi menghabiskan waktu untuk menyiapkan gambar yang sama (atau sangat mirip) untuk klien yang berbeda, cukup untuk memberikan satu sumber dan menentukan aturan yang dengannya sumber ini akan ditumpangkan. <br><br>  Masih ada banyak pekerjaan di depan: ada rencana untuk menambahkan AI untuk sampul cerita yang menghasilkan otomatis, antarmuka web untuk mengelola preset dengan pratinjau hasil akhir, memperluas alat ke departemen tetangga lainnya (SMM, PR), dan tentu saja tugas saat ini untuk berbagai jenis optimasi (meningkatkan kerja dengan teks, optimalisasi algoritma kompresi, dll.). <br><br>  Itu saja.  Jika muncul minat, kami kemudian akan mempublikasikan rincian struktur internal layanan, integrasinya ke dalam struktur umum dan proses transisi ke persiapan gambar otomatis. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id475098/">https://habr.com/ru/post/id475098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id475078/index.html">Memahami Pembungkus Properti di SwiftUI</a></li>
<li><a href="../id475086/index.html">Pengetikan API REST untuk pengembang frontend</a></li>
<li><a href="../id475090/index.html">.NET Core dengan Pratinjau Notebook Jupyter 1</a></li>
<li><a href="../id475092/index.html">"Saya akan membacanya nanti": nasib yang sulit dari kumpulan halaman web offline</a></li>
<li><a href="../id475096/index.html">Mengumumkan .NET Core 3.1 Pratinjau 2</a></li>
<li><a href="../id475100/index.html">Cara menggunakan crypto untuk menciptakan "barang publik" tanpa risiko bagi investor</a></li>
<li><a href="../id475104/index.html">Kami terbang melalui modul: Navigasi dalam aplikasi multi-modul dengan Jetpack</a></li>
<li><a href="../id475106/index.html">Pengumuman utama konferensi Microsoft Ignite 2019</a></li>
<li><a href="../id475110/index.html">.NET Core dengan Jupyter Notebooks - Pratinjau 1</a></li>
<li><a href="../id475114/index.html">Memperkenalkan .NET Core 3.1 Pratinjau 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>