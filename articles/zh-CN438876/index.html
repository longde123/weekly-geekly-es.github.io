<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😴 🕥 👈🏽 如何缩短上市时间：有关M. Video中测试自动化的故事 👇🏿 👼🏾 🏴󠁧󠁢󠁷󠁬󠁳󠁿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="如果没有完善的工作流程，当今的快速高效的软件开发是不可想象的：安装时每个组件都已转移到组件中，产品不会处于闲置状态。 两年前，我们与M.Video一起开始在零售商的开发过程中引入这种方法，而今天我们继续进行开发。 什么是小计？ 结果得到了充分的回报：由于实施了更改，因此可以将发行版的发布速度加快20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何缩短上市时间：有关M. Video中测试自动化的故事</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/438876/"><img src="https://habrastorage.org/webt/_j/ic/xf/_jicxfsznd5gj_myys45mbsfo1m.jpeg"><br><br> 如果没有完善的工作流程，当今的快速高效的软件开发是不可想象的：安装时每个组件都已转移到组件中，产品不会处于闲置状态。 两年前，我们与M.Video一起开始在零售商的开发过程中引入这种方法，而今天我们继续进行开发。 什么是小计？ 结果得到了充分的回报：由于实施了更改，因此可以将发行版的发布速度加快20-30％。 需要一些细节吗？ 欢迎来到我们的后台。 <br><a name="habracut"></a><br><h1> 从Scrum到看板 </h1><br> 首先，实现了方法上的更改-从Scrum（即sprint模型）过渡到看板。 以前，开发过程如下所示： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18e/026/79b/18e02679b40e161ec7e355281abe704e.png"><br><br> 有一个开发分支，有五个团队的冲刺。 他们在自己的开发分支中编码，冲刺在同一天结束，并且所有团队都在同一天将其工作结果与主分支合并。 此后，将进行回归测试五天，然后将分支交给试点环境，然后再分支给生产环境。 但是，在开始进行回归测试之前，花了2-3天的时间来稳定主分支，消除与命令分支合并后的冲突。 <br><br> 看板的优势是什么？ 团队不等待冲刺结束，而是在完成任务后将其本地更改与master分支结合起来，每次检查碰撞冲突。 在指定的日期，与主机的所有关联都将被阻止，并开始进行回归测试。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc8/193/103/dc8193103b886d42f3411bc622af08f2.png"><br><br> 结果，我们设法摆脱了术语向右的不断移动，回归 <br> 没有延迟，发布候选版本将按时交付。 <br><br><h1> 无处不在的自动化 </h1><br> 当然，仅仅改变方法是不够的。 第二步，我们与零售商一起进行自动化测试。 总共测试了约900个方案，并按优先级将其分为几组。 <br><br> 所谓的阻止者大约有100种。 即使在一场原子战中，他们也应该在该网站-M.Video在线商店上工作。 如果其中一种阻止程序不起作用，则说明该站点存在很大问题。 例如，阻止程序包括一种用于购买商品，应用折扣，授权，注册用户，下达信用订单等的机制。 <br><br> 大约还有300种情况至关重要。 例如，这些功能包括使用过滤器选择产品的能力。 如果此功能失效，即使目录中的购买和直接搜索机制有效，用户也不太可能购买商品。 <br><br> 其他情况是主要的和次要的。 如果他们不起作用，人们将获得使用该网站的负面经验。 这包括许多对用户的重要性和可见性不同的问题。 例如，布局（主要）消失了，没有显示股票的描述（未成年人），个人帐户（次要）中密码的自动建议不起作用，恢复（主要）不起作用。 <br><br> 与M.Video一起，我们在其余场景中将拦截器的测试自动化了95％，减少了约50％。 为什么大约一半没有自动化？ 原因有很多，也有不同。 在某些情况下，先验条件不适合自动化。 在复杂的集成案例中，需要进行手动操作才能进行准备工作，例如，在生产环境中致电银行并取消贷款申请，联系销售部门并取消订单。 <br> 回归测试的自动化减少了其持续时间。 但是，在每次将命令分支与master分支合并之后，我们就对阻止程序进行了进一步的自动化烟雾测试。 <br><br> 在使测试自动化之后，我们在完成与master分支的关联之后终于摆脱了延迟。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec0/408/c73/ec0408c73cbb5504369774a2af3f1b08.png"><br><br><h1> 小黄瓜来营救 </h1><br> 为了巩固成功，我们的团队亲自对测试进行了重新设计。 以前，这些表是：操作→预期结果→实际结果。 例如，我使用这样的用户名和密码登录到该站点； 预期结果：一切都井井有条； 实际结果还可以，我要转到其他页面。 这些都是麻烦的情况。 <br><br> 我们将它们翻译成Gherkin表示法，并自动化了一些步骤。 让我们在网站上获得相同的授权，现在脚本<i>的格式</i>如下：“ <i>作为该网站的用户，我使用授权数据登录，该过程成功完成了</i> 。” 此外，“ <i>站点的用户</i> ”和“ <i>使用授权数据登录</i> ”在单独的表中列出。 现在，无论数据如何，我们都可以快速运行测试用例。 <br><br> 此步骤的价值是什么？ 假设有一位测试人员正在测试一个项目。 他不在乎如何编写测试，甚至可以以清单的形式进行检查：“检查授权，注册经过验证，购买通过卡进行验证，Yandex进行购买。金钱通过验证-我很帅”。 一个新来的人问：您是通过电子邮件还是通过Facebook登录？ 结果，清单变成了脚本。 <br><br> 该项目有五个团队，每个团队至少有两个测试人员。 以前，他们每个人都按自己的喜好编写测试，结果，测试只能由其作者支持。 使用自动化，一切都变得很乏味：要么需要聘请单独的自动化工程师，将整个测试动物园翻译成脚本语言，要么就把自动化视为一种现象。  Gherkin帮助改变了一切：在这种脚本语言的帮助下，我们创建了“多维数据集”-授权，购物篮，付款等，测试人员现在可以从中收集各种脚本。 当您需要创建一个新脚本时，一个人不必从头开始编写脚本，而只是以自动测试的形式提取必要的代码块。  Gherkin表示法已经培训了所有功能测试人员，现在他们可以独立地与自动化交互，支持脚本并解析结果。 <br><br> 我们并没有就此停止。 <br><br><h1> 功能块 </h1><br> 假设版本1是该站点上已经存在的功能。 在版本2中，我们希望对用户和业务场景进行一些更改，结果，部分测试由于功能更改而停止运行。 <br><br> 我们构建了测试存储系统的结构：将其划分为功能块，例如“个人帐户”，“购买”等。现在，当引入新的用户脚本时，必要的功能块会在其中打勾。 <br><br> 因此，与master分支结合后，开发人员不仅可以检查阻止程序的工作，还可以检查与所做更改所影响的主题区域有关的脚本。 <br><br> 第二个结果是，维护测试本身变得更加容易。 例如，如果您的个人帐户中发生了某些更改（下订单和交货），那么我们就不必晃动整个回归模型，因为更改后的功能块是立即可见的。 也就是说，使测试套件保持最新状态变得更快，因此更便宜。 <br><br><h1> 看台的问题 </h1><br> 在验收测试之前，没有人曾经测试过展位的性能。 例如，他们给了我们一些测试平台，我们对其进行了几个小时的回归测试。 他们跌倒，理解，修复并再次运行测试。 也就是说，我们在调试和重复运行上浪费了时间。 <br><br> 解决问题的方法很简单：他们总共编写了15个API测试来检查机架的配置，这些测试与功能无关。 测试与构建版本无关；它们仅检查对于传递脚本至关重要的所有集成点。 <br><br> 这有助于节省大量时间。 的确，在实现自动化之前，我们只有14位测试人员，检查工作繁琐冗长，几乎每天都有脚本，包括150个步骤。 在这里进行测试，在第30–40–110步的某个位置，您会发现支架无法正常工作。 我们将失去的工作时间乘以14人，感到震惊。 在引入了自动化和机架测试之后，我们设法将测试员的数量减少了一半，并消除了停机时间，这给总会计师带来了很多欢乐。 <br><br><h1> 樱桃蛋糕 </h1><br> 第一个问题是bugflow。 形式上，这是任何错误的生命周期，但实际上是任何实体的生命周期。 例如，我们在Jira中使用此概念。 另外一种状态使我们能够加快发布速度。 <br><br> 总的来说，过程看起来像这样：他们发现了一个事件，将其投入工作，完成了，将其移交给测试，进行了测试，然后将其关闭。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ac/c63/b11/3acc63b11da74d987bb957fa41cae988.png"><br><br> 我们了解到缺陷已经消除，问题已经解决。 他们添加了另一个状态：“用于回归测试”。 这意味着在分析之后，将检测到严重错误的方案添加到900个方案的回归集中。 如果他们不在那里，或者他们的细节不足，那么我们会立即获得有关生产者或飞行员状态的反馈。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b4/fd6/62a/2b4fd662adee0e55446ae1ce31569dce.png"><br><br> 也就是说，我们知道存在问题，并且由于某种原因我们没有考虑到它。 现在，添加错误检查脚本可以节省大量时间。 <br><br> 我们还在测试级别引入了回顾。 看起来像这样：他们编辑了一个数位板“发行版号，其中的错误数量，阻止程序和其他脚本的数量以及解决方案的数量”。 同时，我们估算了无效决议的数量。 例如，如果您从40个bug中获得15个无效bug，那么这是一个非常糟糕的指标，测试人员不仅在浪费时间，而且在浪费开发这些bug的开发人员的时间。 伙计们开始思考并解决这个问题，介绍了由经验丰富的测试人员修改错误的程序，然后将其发送给开发人员。 他们做得很好。 <br><br> 因此，存在不断的反思并致力于提高质量。 分析产品中的所有错误：为每个错误创建一个测试，该测试立即包含在回归集中。 如果可能，此测试将自动执行并定期运行。 <br><br><h1> 结果 </h1><br> 最初，计划增加发布的频率并减少错误的数量，但是结果有些超出预期。 合理构造的自动化过程使得在短时间内增加自动化测试的数量成为可能，并且对遗漏的错误的分析使开发和测试团队能够优化脚本的优先级，并专注于最重要的脚本。 <br><br> 自动化结果： <br><br><ul><li> 最多4天（而不是之前的10天）减少了回归测试的持续时间； </li><li> 手动测试团队减少了50％； </li><li> 从30-35天减少到25天，上市时间缩短了-从功能进入团队的积压订单直到进入飞行员。 </li></ul><br>  <i>测试自动化团队，Jet信息系统</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438876/">https://habr.com/ru/post/zh-CN438876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438864/index.html">功能冻结C ++ 20。 协程，模块等</a></li>
<li><a href="../zh-CN438866/index.html">生成器与Java语法</a></li>
<li><a href="../zh-CN438868/index.html">安全周06：直播FaceTime</a></li>
<li><a href="../zh-CN438870/index.html">龙目岛回归Java的伟大</a></li>
<li><a href="../zh-CN438874/index.html">与VkNet建立友谊</a></li>
<li><a href="../zh-CN438878/index.html">首映后电影在洪流中的出现使票房增加3％</a></li>
<li><a href="../zh-CN438880/index.html">何时在Java语言中使用var，let和const [Tyler McGinnis文章翻译]</a></li>
<li><a href="../zh-CN438882/index.html">以已知的获胜概率赢得比赛的概率</a></li>
<li><a href="../zh-CN438884/index.html">内陆广告公司的真实故事：起伏不定和CRM实施</a></li>
<li><a href="../zh-CN438886/index.html">莫蒂，我们在UltraHD！ 如何通过鲜为人知的神经网络观看4K电影</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>