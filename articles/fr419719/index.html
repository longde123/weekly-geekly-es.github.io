<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉ üöö üßìüèª [signet] 23 recommandations pour prot√©ger les applications Node.js üë®‚Äçüëß‚Äçüë¶ üö¨ ü§≤üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De nos jours, les services Web sont constamment expos√©s √† une vari√©t√© d'attaques. Par cons√©quent, la s√©curit√© est quelque chose √† retenir √† toutes les...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[signet] 23 recommandations pour prot√©ger les applications Node.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419719/">  De nos jours, les services Web sont constamment expos√©s √† une vari√©t√© d'attaques.  Par cons√©quent, la s√©curit√© est quelque chose √† retenir √† toutes les √©tapes du cycle de vie du projet.  Les auteurs du mat√©riel, dont nous publions la traduction aujourd'hui, maintiennent un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel</a> sur GitHub contenant environ 80 recommandations pour s√©curiser les applications s'ex√©cutant sur la plate-forme Node.js.  Ce mat√©riel, bas√© sur de nombreuses publications de s√©curit√©, contient plus de deux douzaines de recommandations concernant Node.js et quelques conseils g√©n√©raux.  De plus, ce mat√©riel couvre les 10 principales vuln√©rabilit√©s de la liste du projet OWASP. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/un/rv/yq/unrvyqhru9dijyht3zx9k9x4tlg.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Utilisez les r√®gles du linter, visant √† v√©rifier la s√©curit√© du code</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recommandations </h3><br>  Pendant le d√©veloppement, utilisez un plug-in de s√©curit√© pour le linter, tel que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-security</a> .  Cela vous permet d'identifier tr√®s t√¥t les vuln√©rabilit√©s et les probl√®mes de s√©curit√© - au moment de la r√©daction du code appropri√©.  Cette approche permet de d√©tecter les faiblesses de la s√©curit√© du programme.  Parmi eux, l'utilisation de la commande <code>eval</code> , l'invocation de processus enfants, l'importation de modules avec le transfert √† la commande correspondante de quelque chose de diff√©rent d'un litt√©ral de cha√Æne (par exemple, une certaine cha√Æne form√©e sur la base de donn√©es transmises au serveur par l'utilisateur). <br><br>  ‚Üí <a href="">Voici quelques informations</a> utiles sur les r√®gles de linter <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adam Baldwin</a> dit ce qui suit sur le peluchage: ¬´Linter ne devrait pas √™tre juste un outil qui suit m√©ticuleusement les r√®gles concernant le nombre d'espaces utilis√©s, les points-virgules et l'utilisation de la commande eval.  ESLint fournit au d√©veloppeur une plate-forme puissante qui peut d√©tecter et √©liminer un large √©ventail de mod√®les potentiellement dangereux dans le code.  Nous parlons, par exemple, d'expressions r√©guli√®res, de la v√©rification des entr√©es utilisateur, etc.  Je crois que le linter offre aux d√©veloppeurs qui sont pr√©occup√©s par les probl√®mes de s√©curit√© un nouvel outil puissant qui m√©rite d'√™tre √©tudi√©. ¬ª <br><br><h3>  Probl√®mes possibles </h3><br>  Ce qui ressemble √† une faille de s√©curit√© mineure pendant le d√©veloppement devient une grave vuln√©rabilit√© dans la production.  De plus, si tous les d√©veloppeurs de projets ne respectent pas des r√®gles de s√©curit√© uniformes lorsqu'ils travaillent avec du code, cela peut entra√Æner des vuln√©rabilit√©s dans celui-ci ou, par exemple, la p√©n√©tration de donn√©es confidentielles dans des r√©f√©rentiels publics. <br><br><h2>  <font color="#3AC1EF">2. Limitez le nombre de demandes de serveur simultan√©es</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Recommandations </h3><br>  Les attaques DoS sont tr√®s populaires parmi les cybercriminels et elles sont relativement faciles √† r√©aliser.  Vous pouvez impl√©menter un syst√®me pour limiter le nombre de demandes √† une application √† l'aide d'un service externe, tel qu'un √©quilibreur de charge cloud, un pare-feu cloud, un serveur nginx ou, pour les petites applications qui ne sont pas critiques, utiliser un middleware pour limiter le nombre de demandes comme le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©bit express -limit</a> . <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur la mise en place du syst√®me de limitation de la fr√©quence des requ√™tes au serveur <br><br><h3>  Probl√®mes possibles </h3><br>  Une application qui ne fournit pas de syst√®me pour limiter le nombre de requ√™tes simultan√©es peut √™tre attaqu√©e, ce qui entra√Ænera son √©chec.  Cela se traduit par le fait que les utilisateurs d'une telle application auront soit des difficult√©s √† travailler avec elle, soit ne pourront pas du tout interagir avec elle. <br><br><h2>  <font color="#3AC1EF">3. Supprimez les informations confidentielles des fichiers de configuration ou chiffrez-les</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Recommandations </h3><br>  Ne stockez jamais de donn√©es sensibles en texte brut dans des fichiers de configuration ou dans du code.  Utilisez plut√¥t des syst√®mes de gestion des donn√©es sensibles tels que les produits Vault ou les syst√®mes Kubernetes / Docker Secrets, ou utilisez des variables d'environnement pour stocker ces donn√©es.  Les donn√©es confidentielles stock√©es dans le syst√®me de contr√¥le de version doivent √™tre crypt√©es, des mesures doivent √™tre prises pour leur stockage et leur utilisation en toute s√©curit√©.  Parmi ces mesures figurent l'utilisation de cl√©s dynamiques, l'utilisation de dates d'expiration de mot de passe, des audits de s√©curit√©, etc.  Utilisez des syst√®mes pour v√©rifier le code avant de le valider ou avant de l'envoyer au r√©f√©rentiel pour √©viter l'envoi accidentel de donn√©es sensibles au r√©f√©rentiel public. <br><br>  ‚Üí <a href="">Voici des</a> informations sur la gestion des donn√©es sensibles <br><br><h3>  Probl√®mes possibles </h3><br>  M√™me si le code est stock√© dans un r√©f√©rentiel ferm√©, un jour, par erreur, il peut devenir accessible au public.  √Ä ce stade, toutes les donn√©es confidentielles qui y sont stock√©es deviendront du domaine public.  Par cons√©quent, un acc√®s tiers au r√©f√©rentiel avec le code les conduira par inadvertance √† acc√©der aux syst√®mes qui lui sont associ√©s (bases de donn√©es, API, services, etc.). <br><br><h2>  <font color="#3AC1EF">4. Emp√™chez les vuln√©rabilit√©s d'injection de code</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recommandations </h3><br>  Afin d'emp√™cher les injections SQL / NoSQL et autres attaques similaires, utilisez toujours des biblioth√®ques ORM / ODM ou des m√©canismes SGBD visant √† nettoyer les donn√©es ou √† prendre en charge des requ√™tes param√©tr√©es nomm√©es ou index√©es et √† v√©rifier ce qui vient de l'utilisateur.  N'utilisez jamais, pour incorporer certaines valeurs dans des textes de requ√™te, uniquement des cha√Ænes JavaScript de mod√®le ou une concat√©nation de cha√Ænes, car cette approche ouvre votre application √† un large √©ventail de vuln√©rabilit√©s.  Toutes les biblioth√®ques respectables pour Node.js utilis√©es pour travailler avec des donn√©es (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sequelize</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Knex</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mangouste</a> ) contiennent une protection int√©gr√©e contre les attaques par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">injection de</a> code. <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur la pr√©vention des injections √† l'aide des biblioth√®ques ORM / ODM <br><br><h3>  Probl√®mes possibles </h3><br>  L'utilisation de donn√©es non v√©rifi√©es et non nettoy√©es re√ßues de l'utilisateur dans les requ√™tes peut entra√Æner une attaque en introduisant un op√©rateur lors de l'utilisation d'une base de donn√©es NoSQL telle que MongoDB.  Si vous n'utilisez pas de syst√®me de nettoyage de donn√©es ou de biblioth√®que ORM lorsque vous travaillez avec une base de donn√©es SQL, cela entra√Ænera la possibilit√© d'une attaque par injection SQL, ce qui cr√©e un √©norme trou de s√©curit√© dans l'application. <br><br><h2>  <font color="#3AC1EF">5. √âvitez les attaques DoS en d√©finissant explicitement les conditions de fin anormale du processus</font> </h2><br><h3>  Recommandations </h3><br>  Le processus Node se bloque lorsqu'une erreur non g√©r√©e se produit.  Mais dans de nombreuses recommandations refl√©tant les meilleures pratiques pour Node, il est recommand√© de mettre fin aux processus m√™me lorsqu'une erreur a √©t√© intercept√©e et trait√©e.  Express, par exemple, se bloque lorsqu'une erreur asynchrone se produit - √† moins que les routes ne soient envelopp√©es dans <code>catch</code> expressions <code>catch</code> .  Ce fait offre aux attaquants une opportunit√© tr√®s int√©ressante.  Apr√®s avoir d√©couvert que lorsqu'une certaine demande arrive, le processus se bloque, ils commencent √† lui envoyer de telles demandes.  Il n'y a aucune recommandation qui r√©soudrait ce probl√®me d'un seul coup, cependant, certaines astuces peuvent l'att√©nuer.  Ainsi, √† la fin du processus en raison d'une erreur non g√©r√©e, vous devez en informer l'administrateur, en accordant √† cette notification la plus haute priorit√©.  Il est n√©cessaire de v√©rifier ce qui vient au processus dans les demandes et d'√©viter les situations de fin anormale du processus en raison de demandes qui, accidentellement ou intentionnellement, sont mal form√©es.  Toutes les routes doivent √™tre envelopp√©es dans <code>catch</code> expressions <code>catch</code> et le syst√®me doit √™tre configur√© de sorte que, si la demande √©tait la cause de l'erreur, le processus ne se bloque pas (contrairement √† ce qui se passe au niveau de l'application globale). <br><br><h3>  Probl√®mes possibles </h3><br>  Analysons la situation suivante.  Il existe de nombreuses applications Node.js.  Que se passe-t-il si nous commen√ßons √† leur envoyer des requ√™tes POST avec JSON vide comme corps de requ√™te?  Cela entra√Ænera le blocage de bon nombre de ces applications. <br><br>  Maintenant, si nous devions jouer le r√¥le de cybercriminels, pour que nous emp√™chions les applications de se bloquer, il suffirait de continuer √† leur envoyer des demandes similaires. <br><br><h2>  <font color="#3AC1EF">6. Configurer les en-t√™tes de r√©ponse HTTP pour augmenter la s√©curit√© du projet</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Recommandations </h3><br>  Une application doit utiliser des en-t√™tes HTTP orient√©s s√©curit√© pour emp√™cher les attaquants de recourir √† des techniques d'attaque courantes telles que le scriptage intersite (XSS), le d√©tournement de clics et autres.  La personnalisation des en-t√™tes est facile en utilisant des modules sp√©ciaux tels que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">casque</a> . <br><br>  ‚Üí <a href="">Voici des</a> informations sur l'utilisation des en-t√™tes s√ªrs <br><br><h3>  Probl√®mes possibles </h3><br>  Si des en-t√™tes HTTP s√©curis√©s ne sont pas utilis√©s, les attaquants pourront effectuer des attaques contre les utilisateurs de vos applications, ce qui entra√Æne d'√©normes vuln√©rabilit√©s. <br><br><h2>  <font color="#3AC1EF">7. En continu, automatiquement, v√©rifiez vos projets pour l'utilisation des d√©pendances vuln√©rables en eux</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/810/c93/fcf/810c93fcf88a0b68e15d345fccc1b597.png"></div><br><h3>  Recommandations </h3><br>  Dans l'√©cosyst√®me NPM, les projets avec de nombreuses d√©pendances sont tr√®s courants.  Les d√©pendances doivent toujours √™tre contr√¥l√©es, compte tenu de la d√©couverte de nouvelles vuln√©rabilit√©s.  Utilisez des outils tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm audit</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nsp</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">snyk</a> pour d√©tecter, surveiller et corriger les d√©pendances vuln√©rables.  Int√©grez ces outils dans votre syst√®me d'int√©gration continue.  Cela vous permettra de d√©tecter les d√©pendances vuln√©rables avant leur mise en production. <br><br>  ‚Üí <a href="">Voici des</a> informations sur la s√©curit√© des d√©pendances du projet <br><br><h3>  Probl√®mes possibles </h3><br>  Un attaquant peut d√©terminer le framework web utilis√© dans le projet et mener des attaques contre toutes les vuln√©rabilit√©s connues. <br><br><h2>  <font color="#3AC1EF">8. Essayez de ne pas utiliser le module cryptographique Node.js standard pour le traitement des mots de passe, utilisez plut√¥t Bcrypt</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recommandations </h3><br>  Les mots de passe ou autres donn√©es sensibles (cl√©s API, par exemple) doivent √™tre stock√©s en les traitant avec des fonctions cryptographiques utilisant du ¬´sel¬ª, comme Bcrypt.  Il vaut la peine d'utiliser exactement quelque chose de similaire, et non le module de <code>crypto</code> Node.js standard pour des raisons de s√©curit√© et de performances. <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur Bcrypt <br><br><h3>  Probl√®mes possibles </h3><br>  Les mots de passe ou certaines donn√©es confidentielles qui sont stock√©s sans l'application de mesures appropri√©es pour les prot√©ger sont vuln√©rables aux attaques par force brute et aux attaques de dictionnaire, qui, par cons√©quent, conduisent √† la divulgation de ces donn√©es. <br><br><h2>  <font color="#3AC1EF">9. Utilisez des syst√®mes d'√©chappement de caract√®res dans les donn√©es HTML, JS et CSS envoy√©es √† l'utilisateur</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b7/846/638/0b7846638c9f820198235d61d8a2d0f0.png"></div><br><h3>  Recommandations </h3><br>  Si certaines donn√©es sont envoy√©es au navigateur de l'utilisateur √† partir d'une source non fiable, m√™me si elles doivent simplement √™tre affich√©es, ces donn√©es peuvent √™tre un code qui peut √™tre ex√©cut√©.  Ceci est commun√©ment appel√© script intersite (XSS).  Vous pouvez r√©duire le risque que de telles attaques soient possibles en utilisant des biblioth√®ques sp√©ciales qui traitent les donn√©es afin qu'elles ne puissent pas √™tre ex√©cut√©es.  C'est ce qu'on appelle l'encodage ou le blindage des donn√©es. <br><br>  ‚Üí <a href="">Voici des</a> informations sur le blindage de la sortie <br><br><h3>  Probl√®mes possibles </h3><br>  Si vous ne vous souciez pas du blindage des donn√©es, un attaquant peut, par exemple, enregistrer du code JavaScript malveillant dans votre base de donn√©es, qui peut √™tre transmis aux clients inchang√© et lanc√©. <br><br><h2>  <font color="#3AC1EF">10. V√©rifiez les donn√©es JSON arrivant sur le serveur</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Recommandations </h3><br>  Contr√¥lez le contenu des corps des demandes entrantes, en v√©rifiant si elles correspondent √† ce que vous attendez de voir dans de telles demandes.  Si la demande ne se pr√©sente pas comme pr√©vu, arr√™tez rapidement de la traiter.  Afin d'√©viter l'op√©ration fastidieuse d'√©criture du code de v√©rification des demandes pour chaque itin√©raire, vous pouvez utiliser des outils JSON l√©gers pour la validation des donn√©es, tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jsonschema</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">joi</a> . <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur la v√©rification des donn√©es JSON entrantes <br><br><h3>  Probl√®mes possibles </h3><br>  Si le serveur accepte les demandes cordialement sans les examiner minutieusement, cela augmente consid√©rablement la surface d'attaque de l'application et incite les attaquants √† essayer de trouver bon nombre d'entre elles qui conduisent √† un ¬´plantage¬ª du syst√®me. <br><br><h2>  <font color="#3AC1EF">11. Maintenir les jetons JWT sur liste noire</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recommandations </h3><br>  Lorsque vous utilisez des jetons JWT (par exemple, si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Passport.js</a> ), par d√©faut, il n'existe aucun m√©canisme standard pour r√©voquer les privil√®ges d'acc√®s au syst√®me pour les jetons d√©j√† √©mis.  M√™me si vous constatez qu'un certain utilisateur fait quelque chose de manifestement anormal, vous n'avez aucun moyen, par le biais du m√©canisme de jeton, de bloquer son acc√®s au syst√®me, tant qu'il a un jeton valide.  Ce probl√®me peut √™tre att√©nu√© en impl√©mentant une liste noire de jetons non approuv√©s, dont la validation est effectu√©e √† chaque demande. <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur les jetons JWT sur liste noire <br><br><h3>  Probl√®mes possibles </h3><br>  Les jetons qui tombent entre de mauvaises mains peuvent √™tre utilis√©s par un attaquant.  Il pourra acc√©der √† l'application et se faire passer pour un utilisateur ordinaire - le propri√©taire du jeton. <br><br><h2>  <font color="#3AC1EF">12. Limitez le nombre de tentatives de connexion</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recommandations </h3><br>  Dans les applications bas√©es sur express, pour se prot√©ger contre les attaques par force brute et les attaques par dictionnaire, il vaut la peine d'utiliser le middleware appropri√©, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">express-brute</a> .  De m√™me, vous devez prot√©ger les itin√©raires critiques tels que <code>/admin</code> ou <code>/login</code> .  La protection doit √™tre bas√©e sur l'analyse des propri√©t√©s de la requ√™te, telles que le nom d'utilisateur utilis√© dans la requ√™te ou d'autres identificateurs, tels que les param√®tres du corps de la requ√™te. <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur la limitation du nombre de tentatives de connexion <br><br><h3>  Probl√®mes possibles </h3><br>  Si l'application ne limite pas le nombre de tentatives de connexion, l'attaquant peut envoyer automatiquement un nombre illimit√© de demandes de connexion √† votre syst√®me, par exemple, en essayant d'acc√©der √† un compte privil√©gi√©. <br><br><h2>  <font color="#3AC1EF">13. Ex√©cutez Node.js en tant qu'utilisateur non root</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c0/dca/b4d/4c0dcab4d9a0d1fce8fcaf8b6abbdcce.png"></div><br><h3>  Recommandations </h3><br>  Un sc√©nario extr√™mement courant est lorsque Node.js est ex√©cut√© en tant qu'utilisateur root avec des privil√®ges illimit√©s.  Par exemple, voici comment tout est configur√© par d√©faut dans les conteneurs Docker.  Il est recommand√© de cr√©er un utilisateur qui ne dispose pas des privil√®ges root et de l'int√©grer dans l'image Docker ou de d√©marrer le processus au nom de cet utilisateur en appelant le conteneur avec l'indicateur <code>-u username</code> . <br><br>  ‚Üí <a href="">Voici le</a> mat√©riel sur le lancement de Node.js en tant qu'utilisateur non root <br><br><h3>  Probl√®mes possibles </h3><br>  Si Node.js est ex√©cut√© sous le compte d'utilisateur root, un attaquant qui a pu ex√©cuter un script sur le serveur obtient des possibilit√©s illimit√©es sur la machine locale.  Disons qu'il peut modifier les param√®tres <code>iptable</code> et rediriger le trafic vers son propre ordinateur. <br><br><h2>  <font color="#3AC1EF">14. Limitez la quantit√© de donn√©es transmises dans les demandes √† l'aide d'un serveur proxy inverse ou d'un middleware</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Recommandations </h3><br>  Plus la quantit√© de donn√©es dans le corps de la demande est grande, plus il est difficile pour un serveur √† thread unique de traiter une telle demande.  L'utilisation de requ√™tes volumineuses donne √† un attaquant la possibilit√© d'inonder le serveur de travaux inutiles sans lui envoyer un grand nombre de requ√™tes (c'est-√†-dire sans effectuer d'attaque DoS / DDoS).  Vous pouvez r√©duire le risque de telles attaques en limitant la taille des corps des demandes entrantes sur un certain syst√®me de fronti√®re (sur un pare-feu ou sur un √©quilibreur de charge), ou en configurant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">body-parser</a> express pour recevoir uniquement les paquets contenant une petite quantit√© de donn√©es. <br><br>  ‚Üí <a href="">Voici des</a> informations sur la limitation de la quantit√© de donn√©es transmises dans les requ√™tes <br><br><h3>  Probl√®mes possibles </h3><br>  Si vous ne limitez pas la quantit√© de donn√©es transmises dans les requ√™tes, un attaquant peut charger l'application en traitant des requ√™tes volumineuses.  Pour le moment, il ne pourra pas r√©soudre les t√¢ches pour lesquelles il est con√ßu.  Cela entra√Æne de mauvaises performances et rend l'application vuln√©rable aux attaques DoS. <br><br><h2>  <font color="#3AC1EF">15. √âvitez d'utiliser la fonction eval en JavaScript</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  Recommandations </h3><br>  La fonction <code>eval</code> est mauvaise car elle vous permet d'ex√©cuter du code JS arbitraire qui lui est transmis pendant l'ex√©cution du programme.  De plus, ce n'est pas seulement que ce code peut ralentir l'application.  Cette fonction pose un grave risque pour la s√©curit√©, car du code JS malveillant envoy√© au serveur par un attaquant pourrait y p√©n√©trer. <br><br>  En outre, vous devez √©viter le <code>new Function</code> constructeur <code>new Function</code> .  Les fonctions <code>setTimeout</code> et <code>setInterval</code> n'ont jamais besoin de transmettre du code JS g√©n√©r√© dynamiquement. <br><br>  ‚Üí <a href="">Voici les informations</a> sur eval <br><br><h3>  Probl√®mes possibles </h3><br>  Si quelqu'un trouve un moyen de transf√©rer du code JS malveillant, sous forme de texte, d'une fonction <code>eval</code> ou d'un autre moteur JS similaire, il aura un acc√®s complet √† la page, √† tout ce qui peut √™tre fait en utilisant JavaScript.  Cette vuln√©rabilit√© est souvent associ√©e aux attaques XSS. <br><br><h2>  <font color="#3AC1EF">16. Ne surchargez pas les applications Node.js √† thread unique avec des expressions r√©guli√®res malveillantes</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Recommandations </h3><br>  Les expressions r√©guli√®res, bien que pratiques, constituent une menace pour les applications JavaScript en g√©n√©ral, et en particulier pour la plate-forme Node.js.  Le traitement avec une expression r√©guli√®re de ce qui vient de l'utilisateur peut cr√©er une √©norme charge sur le processeur.  Par exemple, le traitement des expressions r√©guli√®res peut √™tre si inefficace que la v√©rification de dix mots peut bloquer le cycle des √©v√©nements pendant plusieurs secondes et surcharger le processeur.  Par cons√©quent, il est pr√©f√©rable d'utiliser des packages tiers pour v√©rifier les donn√©es de cha√Æne, telles que <a href="">validator.js</a> , au lieu d'√©crire vos propres expressions r√©guli√®res.  Vous pouvez utiliser le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">safe-regex</a> pour d√©tecter les mod√®les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regex</a> vuln√©rables. <br><br>  ‚Üí <a href="">Voici</a> le mat√©riel d'expression rationnelle anti-malware <br><br><h3>  Probl√®mes possibles </h3><br>  Les expressions r√©guli√®res mal √©crites peuvent √™tre sujettes √† un type particulier d'attaques DoS, au cours desquelles la boucle d'√©v√©nements est compl√®tement bloqu√©e.  Par exemple, en novembre 2017, il a √©t√© d√©couvert que le package de <code>moment</code> populaire √©tait vuln√©rable √† de telles attaques. <br><br><h2>  <font color="#3AC1EF">17. √âvitez de charger des modules √† l'aide de variables</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recommandations </h3><br>  √âvitez d'importer des fichiers dont le chemin est sp√©cifi√© en tant que param√®tre, en fonction des consid√©rations selon lesquelles ce param√®tre peut √™tre d√©fini en fonction des donn√©es de l'utilisateur.  Cette r√®gle peut √™tre √©tendue pour inclure ici et, en g√©n√©ral, l'acc√®s aux fichiers (√† l'aide de <code>fs.readFile()</code> ) et l'acc√®s √† toute autre ressource importante √† l'aide des param√®tres re√ßus de l'utilisateur.  L'utilisation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-security</a> permet de d√©tecter tr√®s t√¥t de tels mod√®les dangereux. <br><br>  ‚Üí <a href="">Voici des</a> informations sur le chargement s√©curis√© des modules <br><br><h3>  Probl√®mes possibles </h3><br>  Les donn√©es envoy√©es au serveur par un attaquant peuvent se trouver dans les param√®tres charg√©s d'importer certains fichiers, parmi lesquels peut √™tre un fichier malveillant qui a √©t√© pr√©c√©demment t√©l√©charg√© sur le serveur.  Ces donn√©es peuvent √©galement √™tre utilis√©es pour acc√©der aux fichiers syst√®me d√©j√† sur l'ordinateur. <br><br><h2> <font color="#3AC1EF">18.     </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  </h3><br>      ,        (,  ),  ¬´¬ª,         .    ,    ( <code>cluster.fork()</code> ),     npm-,   . <br><br> ‚Üí <a href=""></a>        <br><br><h3>   </h3><br>  ,   ,      .   ‚Äî  ,  ,    ,      . <br><br><h2> <font color="#3AC1EF">19.        </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  </h3><br> ,   ,   .      ,     ,          ,       .      <code>child_process.execFile</code> , ,  ,    ,        ,  . <br><br> ‚Üí <a href=""></a>    ,       <br><br><h3>   </h3><br>                ,  ,    ,   ,   . <br><br><h2> <font color="#3AC1EF">20.      </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>    express,  ,    . ,   ,       ,    <code>Error</code> (    ).    , ,        ,      -  ,       . <br><br> ‚Üí <a href=""></a>         <br><br><h3>   </h3><br>  ,    , ,      ,            ,    ,      . <br><br><h2> <font color="#3AC1EF">21.     npm  Yarn</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>     ,      -,      (MFA, multi-factor authentication).   npm  Yarn     ,      .  ,      ,       ,       .        ,      .   , ,  npm,                   . <br><br><h3>   </h3><br>  ,        ? <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>    eslint,     . <br><br><h2> <font color="#3AC1EF">22.   ,   </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>   -       .    ,      ‚Äî     ,   -  .   ,   ,      <code>X-Powered-By</code> ,          ,      .   ,        ( , , Node.js  express). <br><br> ‚Üí <a href=""></a>   -    <br><br><h3>   </h3><br> -     .  ,         ,  -,   ‚Äî    .            . <br><br><h2> <font color="#3AC1EF">23.     </font> </h2><br>           ,      .  ‚Äî  ,     Node.js. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> OWASP</a> . <br><br><ul><li>      root-      . </li><li>        ( SSH-). </li><li>  ,      ,   ,   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  OWASP,  . </li><li>       ,     .  ,      . <br></li><li>       OAuth, OpenID,   .     Basic Authentication. <br></li><li>    .      ,    (   ‚Äî       ),   X   ,  Y . <br></li><li>        ‚Äî     ,    ‚Äî   .     ,      . <br></li><li>    ,  ,    .             ( ‚Äî     GitHub, AWS, Jenkins,   ). <br></li></ul><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>      . ,        Node.js-. <br><br>  <b>Chers lecteurs!</b>       -,        ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ft/qm/bo/ftqmbopklpm88ixbi5vqyx2zcb8.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419719/">https://habr.com/ru/post/fr419719/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419707/index.html">Gamification des applications - 5 choses √† retenir</a></li>
<li><a href="../fr419711/index.html">La premi√®re IT Bike Quest √† Saint-P√©tersbourg. Comment c'√©tait</a></li>
<li><a href="../fr419713/index.html">Conf√©rence de conception Mail.Ru + Meetup Dribbble 2018</a></li>
<li><a href="../fr419715/index.html">Vous ne savez pas comment travailler avec les transactions</a></li>
<li><a href="../fr419717/index.html">Conception d'une architecture d'application embarqu√©e</a></li>
<li><a href="../fr419721/index.html">Biomarqueurs du vieillissement. Panel de fragilit√©. Partie 1</a></li>
<li><a href="../fr419725/index.html">Fl√©chettes, d√©s et pi√®ces: algorithmes de distribution discrets</a></li>
<li><a href="../fr419727/index.html">Harbor - un registre pour les conteneurs Docker pr√™ts √† l'emploi</a></li>
<li><a href="../fr419729/index.html">√âv√©nement caritatif ¬´Donner des ailes aux enfants¬ª</a></li>
<li><a href="../fr419731/index.html">Mini-revue de l'imprimante 3D photopolym√®re dentaire MoonRay S</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>