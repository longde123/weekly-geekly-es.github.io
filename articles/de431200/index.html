<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêÅ üóëÔ∏è ‚è∫Ô∏è Godot: Zum Thema der regelm√§√üigen Verwendung von statischen Code-Analysatoren üÖ±Ô∏è üíÜüèø üë∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unsere Leserschaft w√§chst, daher schreiben wir immer wieder Artikel, in denen erkl√§rt wird, wie die statische Code-Analysemethode richtig angewendet w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Godot: Zum Thema der regelm√§√üigen Verwendung von statischen Code-Analysatoren</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/431200/"><img src="https://habrastorage.org/getpro/habr/post_images/f64/19d/5e9/f6419d5e9a19cc1f99e2400727bd81d9.png" alt="PVS-Studio und Godot" align="left">  Unsere Leserschaft w√§chst, daher schreiben wir immer wieder Artikel, in denen erkl√§rt wird, wie die statische Code-Analysemethode richtig angewendet wird.  Wir halten es f√ºr sehr wichtig zu erkl√§ren, dass statische Analysewerkzeuge nicht sporadisch, sondern regelm√§√üig verwendet werden sollten.  Wir demonstrieren dies noch einmal anhand eines praktischen Beispiels, indem wir das Godot-Projekt erneut √ºberpr√ºfen. <br><a name="habracut"></a><br><h2>  Verwenden Sie regelm√§√üig Analyseger√§te </h2><br>  Als ich mich darauf vorbereitete, auf der Konferenz der Spieleentwickler zu sprechen, beschloss ich, neue Beispiele f√ºr interessante Fehler zu erhalten, die das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PVS-Studio-</a> Tool erkennen kann.  Zu diesem Zweck wurden mehrere Spiel-Engines getestet, von denen eine Godot war.  Ich habe keine besonders interessanten Fehler f√ºr den Bericht gefunden, aber ich wollte einen Artikel √ºber gew√∂hnliche Fehler schreiben.  Diese Fehler zeigen sehr gut die Relevanz der regelm√§√üigen Verwendung von statischen Code-Analyse-Tools. <br><br>  Es ist zu beachten, dass wir dieses Projekt bereits 2015 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√ºberpr√ºft</a> haben und der Autor mit den Fehlern gearbeitet hat, die wir ausgeschrieben haben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier sehen</a> Sie das entsprechende Commit. <br><br>  3 Jahre sind vergangen.  Das Projekt hat sich ge√§ndert.  Der PVS-Studio-Analysator wurde ebenfalls ge√§ndert, und es wurden neue Diagnosen angezeigt.  Daher ist es nicht verwunderlich, dass ich einfach und schnell genug Beispiele f√ºr Fehler schreiben konnte, um diesen Artikel zu schreiben. <br><br>  <b>Es ist jedoch noch etwas anderes wichtig.</b>  Bei der Entwicklung von Godot oder einem anderen Projekt treten st√§ndig neue Fehler auf und werden behoben.  Nicht erkannte Fehler ‚Äûsetzen‚Äú sich lange Zeit im Code fest, und dann k√∂nnen viele von ihnen beim Ausf√ºhren einer statischen Code-Analyse erkannt werden.  Aus diesem Grund besteht manchmal das falsche Gef√ºhl, dass statische Analysatoren in selten verwendeten Codeabschnitten nur einige uninteressante Fehler finden.  Dies ist nat√ºrlich der Fall, wenn Sie den Analysator falsch verwenden und ihn nur von Zeit zu Zeit ausf√ºhren, z. B. kurz vor der Ver√∂ffentlichung der Version. <br><br>  Ja, beim Schreiben von Artikeln f√ºhren wir selbst einmalige √úberpr√ºfungen offener Projekte durch.  Aber wir haben ein anderes Ziel.  Wir m√∂chten die F√§higkeiten eines Code-Analysators zur Erkennung von Fehlern demonstrieren.  Diese Aufgabe hat wenig mit der Verbesserung der Qualit√§t des gesamten Projektcodes und der Reduzierung der mit der Fehlerkorrektur verbundenen Kosten zu tun. <br><br>  Noch einmal √ºber die Hauptsache.  Bei der statischen Code-Analyse geht es nicht darum, alte Fehler zu finden.  Diese alten Fehler sind normalerweise unbedeutend, da sie sonst die Benutzer gest√∂rt h√§tten und bereits gefunden und behoben worden w√§ren.  Bei der statischen Analyse geht es darum, Fehler in neu geschriebenem oder ge√§ndertem Code schnell zu beheben.  Dies reduziert die Debugging-Zeit, die Anzahl der Benutzerbeschwerden und letztendlich das Budget des entwickelten Projekts. <br><br>  Kommen wir nun zu den Fehlern, die die Leser unserer Ver√∂ffentlichungen so sehr lieben. <br><br><h2>  Fehler beim Kopieren und Einf√ºgen </h2><br>  Mal sehen, was mir beim Studium des PVS-Studio-Berichts aufgefallen ist.  Ich beginne mit meiner bevorzugten V501-Diagnose, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in fast jedem Projekt</a> , das wir √ºberpr√ºfen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fehler</a> findet :). <br><br>  <b>Fehler N1</b> <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can_export</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!exists_export_template(<span class="hljs-string"><span class="hljs-string">"uwp_"</span></span> + platform_infix + <span class="hljs-string"><span class="hljs-string">"_debug.zip"</span></span>, &amp;err) || !exists_export_template(<span class="hljs-string"><span class="hljs-string">"uwp_"</span></span> + platform_infix + <span class="hljs-string"><span class="hljs-string">"_debug.zip"</span></span>, &amp;err)) { valid = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; r_missing_templates = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } .... }</code> </pre> <br>  PVS-Studio-Warnung: V501 CWE-570 Es gibt identische Unterausdr√ºcke '! Exists_export_template ("uwp_" + platform_infix + "_debug.zip", &amp; err)' links und rechts vom '||'  Betreiber.  export.cpp 1135 <br><br>  Klassischer Fehler beim Kopieren und Einf√ºgen.  Der Funktionsaufruf wurde kopiert, aber nicht bearbeitet.  Der Name der zweiten zu verarbeitenden Datei muss mit "_release.zip" enden. <br><br>  <b>Fehler N2, N3</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dump_node_code</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SL::Node *p_node, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> p_level)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bnode-&gt;statements[i]-&gt;type == SL::Node::TYPE_CONTROL_FLOW || bnode-&gt;statements[i]-&gt;type == SL::Node::TYPE_CONTROL_FLOW) { code += scode; <span class="hljs-comment"><span class="hljs-comment">//use directly } else { code += _mktab(p_level) + scode + ";\n"; } .... }</span></span></code> </pre> <br>  PVS-Studio Warnung: V501 CWE-570 Links und rechts vom '||' befinden sich identische Unterausdr√ºcke 'bnode-&gt; Anweisungen [i] -&gt; type == SL :: Node :: TYPE_CONTROL_FLOW'.  Betreiber.  test_shader_lang.cpp 183 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> EditorSpinSlider::_notification(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_what) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_what == MainLoop::NOTIFICATION_WM_FOCUS_OUT || p_what == MainLoop::NOTIFICATION_WM_FOCUS_OUT) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (grabbing_spinner) { Input::get_singleton()-&gt;set_mouse_mode(Input::MOUSE_MODE_VISIBLE); grabbing_spinner = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; grabbing_spinner_attempt = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } .... }</code> </pre> <br>  PVS-Studio Warnung: V501 CWE-570 Links und rechts vom '||' befinden sich identische Unterausdr√ºcke 'p_what == MainLoop :: NOTIFICATION_WM_FOCUS_OUT'.  Betreiber.  editor_spin_slider.cpp 157 <br><br>  Ich denke, die Fehler sind deutlich sichtbar und bed√ºrfen keiner Erkl√§rung.  Genau das gleiche klassische Copy-Paste wie im ersten Fall. <br><br>  <b>Fehler N4</b> <br><br><pre> <code class="cpp hljs">String SoftBody::get_configuration_warning() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... Transform t = get_transform(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">0</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span> || ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">1</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span> || ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">0</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!warning.empty()) .... }</code> </pre> <br>  PVS-Studio Warnung: V501 CWE-570 Links und rechts vom '||' befinden sich identische Unterausdr√ºcke.  Betreiber.  soft_body.cpp 399 <br><br>  Hier wurde die erste Zeile zweimal kopiert.  Die Koordinatenachsennummer wurde jedoch nur in der zweiten Zeile ge√§ndert.  Und sie haben vergessen, die dritte Zeile zu bearbeiten.  Dies ist nichts anderes als der " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Last Line-Effekt</a> ". <br><br>  <b>Hinweis</b>  Im Moment habe ich neben dem ‚ÄûLast Line Effect‚Äú folgende interessante Beobachtungen gemacht: ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die gef√§hrlichste Funktion in der C / C ++ - Welt</a> ‚Äú, ‚ÄûDas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">B√∂se lebt in Vergleichsfunktionen</a> ‚Äú.  Und jetzt werde ich einen neuen Artikel ank√ºndigen, dessen Schreiben ich in naher Zukunft planen werde.  Der Arbeitstitel lautet "0, 1, 2".  Es sollte interessant und lehrreich sein.  Ich lade Sie ein, einen der Kan√§le zu abonnieren, um nicht zu verpassen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Twitter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vk.com</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Instagram</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Telegramm</a> und "Old School" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">-Rss</a> . <br><br>  <b>Fehler N5</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ScrollContainer::_notification(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_what) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h_scroll-&gt;is_visible_in_tree() &amp;&amp; h_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.y -= h_scroll-&gt;get_minimum_size().y; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v_scroll-&gt;is_visible_in_tree() &amp;&amp; v_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.x -= h_scroll-&gt;get_minimum_size().x; .... }</code> </pre> <br>  PVS-Studio Warnung: V778 CWE-682 Es wurden zwei √§hnliche Codefragmente gefunden.  M√∂glicherweise ist dies ein Tippfehler und die Variable 'v_scroll' sollte anstelle von 'h_scroll' verwendet werden.  scroll_container.cpp 249 <br><br>  In Bezug auf diesen Code bin ich mir nicht ganz sicher, ob ein Fehler vorliegt.  Ich stimme jedoch dem Analysator zu, dass der zweite Block sehr verd√§chtig aussieht.  H√∂chstwahrscheinlich wurde der Code mit Copy-Paste geschrieben, und im zweiten Textblock wurde vergessen, <i>h_scroll</i> durch <i>v_scroll</i> zu ersetzen. <br><br>  Der Code sollte wahrscheinlich so sein: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h_scroll-&gt;is_visible_in_tree() &amp;&amp; h_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.y -= h_scroll-&gt;get_minimum_size().y; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v_scroll-&gt;is_visible_in_tree() &amp;&amp; v_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.x -= v_scroll-&gt;get_minimum_size().x;</code> </pre> <br>  <b>Fehler N6</b> <br><br>  Ein weiterer Fall, in dem ein ausreichend gro√ües Codefragment kopiert und erfolglos ge√§ndert wurde.  Die Fehlerzeile ist durch meinen Kommentar "// &lt;=" gekennzeichnet. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ShaderGLES2::bind_uniforms() { .... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Map&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>, Variant&gt;::Element *E = uniform_defaults.front(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (E) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = E-&gt;key(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> location = version-&gt;uniform_location[idx]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (location &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { E = E-&gt;next(); <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } Variant v; v = E-&gt;value(); _set_uniform_variant(location, v); E = E-&gt;next(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Map&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>, CameraMatrix&gt;::Element *C = uniform_cameras.front(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (C) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = E-&gt;key(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= int location = version-&gt;uniform_location[idx]; if (location &lt; 0) { C = C-&gt;next(); continue; } glUniformMatrix4fv(location, 1, GL_FALSE, &amp;(C-&gt;get().matrix[0][0])); C = C-&gt;next(); } uniforms_dirty = false; }</span></span></code> </pre> <br>  PVS-Studio Warnung: V522 CWE-476 Es kann zu einer Dereferenzierung des Nullzeigers 'E' kommen.  shader_gles2.cpp 102 <br><br>  Der Fehler wurde indirekt erkannt.  Dank der Analyse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">des Datenflusses</a> ergab PVS-Studio, dass der Zeiger <i>E</i> zum Zeitpunkt der Dereferenzierung m√∂glicherweise Null ist. <br><br>  Der Fehler ist, dass sie im kopierten Codefragment vergessen haben, <i>E</i> in <i>C</i> an einer Stelle zu ersetzen.  Aufgrund dieses Fehlers arbeitet die Funktion auf sehr seltsame Weise und macht seltsame Dinge. <br><br><h2>  Tippfehler </h2><br>  <b>Fehler N7</b> <br><br>  F√ºr Programmierer, die in anderen Sprachen als C oder C ++ schreiben, ist es schwierig, sich vorzustellen, dass ein Tippfehler durch Schreiben eines Kommas anstelle eines Sterns * gemacht werden kann, und der Code wird kompiliert.  Dies ist jedoch so. <br><br><pre> <code class="cpp hljs">LRESULT OS_Windows::WndProc(....) { .... BITMAPINFO bmi; ZeroMemory(&amp;bmi, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(BITMAPINFO)); bmi.bmiHeader.biSize = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(BITMAPINFOHEADER); bmi.bmiHeader.biWidth = dib_size.x; bmi.bmiHeader.biHeight = dib_size.y; bmi.bmiHeader.biPlanes = <span class="hljs-number"><span class="hljs-number">1</span></span>; bmi.bmiHeader.biBitCount = <span class="hljs-number"><span class="hljs-number">32</span></span>; bmi.bmiHeader.biCompression = BI_RGB; bmi.bmiHeader.biSizeImage = dib_size.x, dib_size.y * <span class="hljs-number"><span class="hljs-number">4</span></span>; .... }</code> </pre> <br>  PVS-Studio Warnung: V521 CWE-480 Solche Ausdr√ºcke mit dem Operator ',' sind gef√§hrlich.  Stellen Sie sicher, dass der Ausdruck korrekt ist.  os_windows.cpp 776 <br><br>  Der Variablen <i>bmi.bmiHeader.biSizeImage wird</i> der Wert der Variablen <i>dib_size.x zugewiesen</i> .  Als n√§chstes wird der Kommaoperator ',' ausgef√ºhrt, dessen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Priorit√§t</a> niedriger als die des Operators '=' ist.  Das Ergebnis des Ausdrucks <i>dib_size.y * 4</i> wird in keiner Weise verwendet. <br><br>  Anstelle eines Kommas im Ausdruck sollte der Multiplikationsoperator '*' verwendet werden.  Erstens w√§re ein solcher Ausdruck sinnvoll.  Zweitens gibt es unten eine √§hnliche, aber bereits korrekte Option zum Initialisieren derselben Variablen: <br><br><pre> <code class="cpp hljs">bmi.bmiHeader.biSizeImage = dib_size.x * dib_size.y * <span class="hljs-number"><span class="hljs-number">4</span></span>;</code> </pre> <br>  <b>Fehler N8, N9</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Variant::<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = p_index; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) idx += <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> || idx &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) { Color *v = <span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;Color *&gt;(_data._mem); (*v)[idx] = p_value; valid = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } .... }</code> </pre> <br>  PVS-Studio-Warnung: V547 CWE-571 Ausdruck 'idx&gt; = 0 ||  idx &lt;4 'ist immer wahr.  varianten_op.cpp 2152 <br><br>  Jeder Index wird als korrekt angesehen.  Um den Fehler zu beheben, m√ºssen Sie das <i>||</i> ersetzen  am <i>&amp;&amp;</i> : <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; idx &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) {</code> </pre> <br>  Dieser logische Fehler ist h√∂chstwahrscheinlich auf Nachl√§ssigkeit zur√ºckzuf√ºhren, daher neige ich dazu, ihn Tippfehlern zuzuschreiben. <br><br>  Genau der gleiche Fehler kann in der gleichen Datei unten beobachtet werden.  Der Fehler des Zuchtfehlers ist anscheinend Copy-Paste. <br><br>  Mehrfachfehler: V547 CWE-571 Ausdruck 'idx&gt; = 0 ||  idx &lt;4 'ist immer wahr.  varianten_op.cpp 2527 <br><br>  <b>Fehler N10</b> <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c7/e0b/eec/1c7e0beec351fa7d221ddf08957964cd.png" alt="WTF?"></div><br>  Ein Beispiel f√ºr einen Fehler, den man ausrufen m√∂chte: WTF ?! <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AnimationNodeBlendSpace1D::add_blend_point( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Ref&lt;AnimationRootNode&gt; &amp;p_node, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> p_position, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_at_index) { ERR_FAIL_COND(blend_points_used &gt;= MAX_BLEND_POINTS); ERR_FAIL_COND(p_node.is_null()); ERR_FAIL_COND(p_at_index &lt; <span class="hljs-number"><span class="hljs-number">-1</span></span> || p_at_index &gt; blend_points_used); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_at_index == <span class="hljs-number"><span class="hljs-number">-1</span></span> || p_at_index == blend_points_used) { p_at_index = blend_points_used; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = blend_points_used - <span class="hljs-number"><span class="hljs-number">1</span></span>; i &gt; p_at_index; i++) { blend_points[i] = blend_points[i - <span class="hljs-number"><span class="hljs-number">1</span></span>]; } } .... }</code> </pre> <br>  PVS-Studio Warnung: V621 CWE-835 √úberpr√ºfen Sie den 'for'-Operator.  Es ist m√∂glich, dass die Schleife falsch oder gar nicht ausgef√ºhrt wird.  animation_blend_space_1d.cpp 113 <br><br>  Beachten Sie die Schleifenstoppbedingung: <i>i&gt; p_at_index</i> .  <i>Dies</i> ist immer der Fall, da die Variable <i>i</i> mit dem Wert <i>blend_points_used - 1</i> initialisiert wird.  Dar√ºber hinaus folgt aus zwei fr√ºheren √úberpr√ºfungen, dass <i>blend_points_used&gt; p_at_index ist</i> . <br><br>  Die Bedingung kann nur dann falsch werden, wenn ein √úberlauf der Vorzeichenvariablen <i>i</i> auftritt, was ein undefiniertes Verhalten ist.  Dar√ºber hinaus wird kein √úberlauf erreicht, da das Array viel fr√ºher √ºber die Grenze hinausgeht. <br><br>  Vor uns liegt meiner Meinung nach ein wundersch√∂ner Tippfehler, wenn sie '&gt;' anstelle von '&lt;' geschrieben haben.  Ja, ich habe eine perverse Sicht auf die Sch√∂nheit von Fehlern :). <br><br>  Der richtige Zyklus: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = blend_points_used - <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; p_at_index; i++) {</code> </pre> <br>  <b>Fehler N11</b> <br><br>  Ein weiterer ebenso heller Fall eines Tippfehlers im Zustand des Zyklus. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AnimationNodeStateMachineEditor::_state_machine_pos_draw() { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; node_rects.size(); i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node_rects[i].node_name == playback-&gt;get_current_node()) { idx = i; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } .... }</code> </pre> <br>  PVS-Studio Warnung: V693 CWE-835 √úberpr√ºfen Sie den bedingten Ausdruck der Schleife.  Es ist m√∂glich, dass 'i &lt;X.size ()' anstelle von 'X.size ()' verwendet wird.  animation_state_machine_editor.cpp 852 <br><br>  Ein √úberlauf des Arrays kann auftreten, da der Wert von <i>i</i> unkontrolliert ansteigt.  Sicherer Code: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; node_rects.size(); i++) {</code> </pre> <br>  <b>Fehler N12</b> <br><br><pre> <code class="cpp hljs">GDScriptDataType GDScriptCompiler::_gdtype_from_datatype( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GDScriptParser::DataType &amp;p_datatype) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (p_datatype.kind) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::NATIVE: { result.kind = GDScriptDataType::NATIVE; result.native_type = p_datatype.native_type; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::SCRIPT: { result.kind = GDScriptDataType::SCRIPT; result.script_type = p_datatype.script_type; result.native_type = result.script_type-&gt;get_instance_base_type(); } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::GDSCRIPT: { result.kind = GDScriptDataType::GDSCRIPT; result.script_type = p_datatype.script_type; result.native_type = result.script_type-&gt;get_instance_base_type(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; .... }</code> </pre> <br>  PVS-Studio Warnung: V796 CWE-484 M√∂glicherweise fehlt die Anweisung 'break' in der Anweisung switch.  gdscript_compiler.cpp 135 <br><br>  Ich habe versehentlich vergessen, eine Pausenerkl√§rung zu schreiben.  Wenn es sich also um den <i>Fall GDScriptParser :: DataType :: SCRIPT handelt, werden den</i> Variablen Werte zugewiesen, als w√§re dies der <i>Fall GDScriptParser :: DataType :: GDSCRIPT</i> . <br><br>  <b>Fehler N13</b> <br><br>  Der folgende Fehler kann als Kopieren-Einf√ºgen klassifiziert werden.  Ich bin mir jedoch nicht sicher, ob eine so kurze Zeile kopiert wurde.  Wir werden dies also als einfachen Tippfehler beim Tippen betrachten. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CPUParticles::_particles_process(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> p_delta) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flags[FLAG_DISABLE_Z]) { p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; } .... }</code> </pre> <br>  PVS-Studio Warnung: V519 CWE-563 Der Variablen 'p.velocity.z' werden zweimal nacheinander Werte zugewiesen.  Vielleicht ist das ein Fehler.  √úberpr√ºfen Sie die Zeilen: 664, 665. cpu_particles.cpp 665 <br><br>  Zweimal die Zuordnung derselben Variablen.  Unten sehen Sie das folgende Codefragment: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flags[FLAG_DISABLE_Z]) { p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; p.transform.origin.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; }</code> </pre> <br>  H√∂chstwahrscheinlich h√§tte es f√ºr den ersten Fall genauso geschrieben werden m√ºssen. <br><br>  <b>Fehler N14</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AtlasTexture::is_pixel_opaque(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_x, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_y) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (atlas.is_valid()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> atlas-&gt;is_pixel_opaque( p_x + region.position.x + margin.position.x, p_x + region.position.y + margin.position.y ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  PVS-Studio Warnung: V751 Der Parameter 'p_y' wird im Funktionsk√∂rper nicht verwendet.  textur.cpp 1085 <br><br>  Fragment aus der Beschreibung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">V751-</a> Diagnose: <br><br>  <i>Der Analysator hat eine verd√§chtige Funktion festgestellt, deren Parameter niemals verwendet werden.</i>  <i>Der andere Parameter wird jedoch mehrmals verwendet, was m√∂glicherweise auf das Vorhandensein eines Fehlers hinweist.</i> <br><br>  Wie Sie sehen k√∂nnen, ist dies in der Tat so und es ist sehr verd√§chtig.  Die Variable <i>p_x wird</i> zweimal verwendet und <i>p_y wird</i> nicht verwendet.  H√∂chstwahrscheinlich sollte geschrieben werden: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> atlas-&gt;is_pixel_opaque( p_x + region.position.x + margin.position.x, p_y + region.position.y + margin.position.y );</code> </pre> <br>  Im Funktionscode ist der Funktionsaufruf √ºbrigens in einer Zeile geschrieben.  Aus diesem Grund ist der Fehler schwieriger zu bemerken.  Wenn der Autor des Codes die tats√§chlichen Argumente in eine Spalte schreiben w√ºrde, wie ich es im Artikel getan habe, w√ºrde der Fehler sofort meine Aufmerksamkeit auf sich ziehen.  Denken Sie daran, dass die Tabellenformatierung sehr n√ºtzlich ist und viele Tippfehler vermeidet.  Weitere Informationen finden Sie im Kapitel ‚ÄûRichten Sie denselben Codetyp an einer‚Äû Tabelle ‚Äúim Artikel‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Hauptproblem beim Programmieren, Refactoring und so weiter</a> ‚Äúaus. <br><br>  <b>Fehler N15</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> SpriteFramesEditor::can_drop_data_fw(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... Vector&lt;String&gt; files = d[<span class="hljs-string"><span class="hljs-string">"files"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (files.size() == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; files.size(); i++) { String file = files[<span class="hljs-number"><span class="hljs-number">0</span></span>]; String ftype = EditorFileSystem::get_singleton()-&gt;get_file_type(file); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ClassDB::is_parent_class(ftype, <span class="hljs-string"><span class="hljs-string">"Texture"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } .... }</code> </pre> <br>  PVS-Studio Warnung: V767 Verd√§chtiger Zugriff auf ein Element des 'files'-Arrays durch einen konstanten Index innerhalb einer Schleife.  sprite_frames_editor_plugin.cpp 602 <br><br>  Die Schleife verarbeitet bei allen Iterationen der Schleife dieselbe Datei.  Tippfehler hier: <br><br><pre> <code class="cpp hljs">String file = files[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br>  Muss sein: <br><br><pre> <code class="cpp hljs">String file = files[i];</code> </pre> <br><h2>  Andere Fehler </h2><br>  <b>Fehler N16</b> <br><br><pre> <code class="cpp hljs">CSGBrush *CSGBox::_build_brush() { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; i++) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) face_points[j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k] * (i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> face_points[<span class="hljs-number"><span class="hljs-number">3</span></span> - j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k] * (i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>); .... } .... }</code> </pre> <br>  Der PVS-Studio-Analysator gibt sofort zwei Antworten auf diesen Code: <br><br><ul><li>  V547 CWE-570 Der Ausdruck 'i&gt; = 3' ist immer falsch.  csg_shape.cpp 939 </li><li>  V547 CWE-571 Der Ausdruck 'i&gt; = 3' ist immer wahr.  csg_shape.cpp 941 </li></ul><br>  In der Tat sieht dieser tern√§re Operator in beiden Ausdr√ºcken sehr seltsam aus: <br><br><pre> <code class="cpp hljs">i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  In einem Fall ist die Bedingung immer wahr und in dem anderen ist sie falsch.  Schwer zu sagen, wie dieser Code richtig aussehen soll.  Vielleicht ist es nur √ºberfl√ºssig und kann so geschrieben werden: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; i++) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) face_points[j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> face_points[<span class="hljs-number"><span class="hljs-number">3</span></span> - j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = -v[k]; .... }</code> </pre> <br>  Ich kann mich irren und der Code muss auf eine ganz andere Weise repariert werden. <br><br>  <b>Fehler N17</b> <br><br>  Es gab fast keine Fehler wie V595, obwohl sie normalerweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in jedem Projekt im √úberfluss vorhanden sind</a> .  Anscheinend wurden diese Fehler nach einer vorherigen √úberpr√ºfung behoben, und dann traten Fehler dieses Typs fast nicht auf.  Ich habe nur ein paar Fehlalarme und einen Fehler gesehen. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CanvasItemEditor::_get_bone_shape(....) { .... Node2D *from_node = Object::cast_to&lt;Node2D&gt;( ObjectDB::get_instance(bone-&gt;key().from)); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node-&gt;is_inside_tree()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//may have been removed if (!from_node) return false; .... }</span></span></code> </pre> <br>  PVS-Studio Warnung: V595 CWE-476 Der Zeiger 'from_node' wurde verwendet, bevor er gegen nullptr verifiziert wurde.  √úberpr√ºfen Sie die Zeilen: 565, 567. canvas_item_editor_plugin.cpp 565 <br><br>  Der <i>from_node-</i> Zeiger <i>wird</i> zuerst dereferenziert, um die Funktion <i>is_inside_tree aufzurufen,</i> und erst dann auf <i>Nullptr-</i> Gleichheit √ºberpr√ºft.  Schecks sollten getauscht werden: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node-&gt;is_inside_tree()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//may have been removed</span></span></code> </pre> <br>  <b>Fehler N18</b> <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> JoystickList { .... JOY_AXIS_MAX = <span class="hljs-number"><span class="hljs-number">10</span></span>, .... }; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *_axes[] = { <span class="hljs-string"><span class="hljs-string">"Left Stick X"</span></span>, <span class="hljs-string"><span class="hljs-string">"Left Stick Y"</span></span>, <span class="hljs-string"><span class="hljs-string">"Right Stick X"</span></span>, <span class="hljs-string"><span class="hljs-string">"Right Stick Y"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"L2"</span></span>, <span class="hljs-string"><span class="hljs-string">"R2"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> InputDefault::get_joy_axis_index_from_string(String p_axis) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; JOY_AXIS_MAX; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_axis == _axes[i]) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i; } } ERR_FAIL_V(<span class="hljs-number"><span class="hljs-number">-1</span></span>); }</code> </pre> <br>  PVS-Studio Warnung: V557 CWE-125 Array-√úberlauf ist m√∂glich.  Der Wert des 'i'-Index k√∂nnte 9 erreichen. Input_default.cpp 1119 <br><br>  Das Array <i>_axes</i> besteht aus acht Elementen.  In diesem Fall betr√§gt die Konstante <i>JOY_AXIS_MAX</i> , die die Anzahl der Iterationen der Schleife <i>festlegt</i> , 10. Es stellt sich heraus, dass die Schleife die Arraygrenze √ºberschreitet. <br><br>  <b>Fehler N19</b> <br><br>  Und die letzte sehr seltsame Funktion, die anscheinend dazu gedacht ist, etwas zu testen.  Die Funktion ist lang, daher gebe ich sie als Bild (zum Vergr√∂√üern auf das Bild klicken). <br><br><p></p><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/1d4/500/b7b/1d4500b7bf3d44179bd8b81c91c7ba44.png" alt="Sehr pers√∂nliche Funktion"></a> </div><p></p><br><br>  PVS-Studio Warnung: V779 CWE-561 Nicht erreichbarer Code erkannt.  M√∂glicherweise liegt ein Fehler vor.  test_math.cpp 457 <br><br>  In einer Funktion gibt es mehrere bedingungslose <i>return-Anweisungen</i> .  Auf dem Bild habe ich sie mit roten Ovalen markiert.  Es scheint, dass mehrere verschiedene Unit-Tests f√ºr diese Funktion gesammelt wurden, aber vergessen haben, die zus√§tzlichen <i>R√ºckgabe-NULL-Werte</i> zu entfernen.  Infolgedessen pr√ºft die Funktion nicht, was sie pr√ºfen soll.  Fast der gesamte K√∂rper einer Funktion besteht aus nicht erreichbarem Code. <br><br>  Vielleicht ist das nat√ºrlich eine listige Idee.  Aber es scheint mir, dass dies zuf√§llig passiert ist und der Code repariert werden sollte. <br><br>  Lassen Sie uns damit enden.  Wenn Sie sich den Bericht des Analysators genau ansehen, k√∂nnen Sie sicherlich andere Fehler finden.  Allerdings sogar mehr als genug ausgeschrieben, um einen Artikel zu schreiben.  Dann wird es f√ºr mich und den Leser langweilig :). <br><br><h2>  Fazit </h2><br>  Der Artikel beschreibt Fehler, die nicht existieren w√ºrden, wenn der Code regelm√§√üig mit PVS-Studio analysiert w√ºrde.  Noch wichtiger ist jedoch, dass bei regelm√§√üiger Analyse viele andere Fehler sofort gefunden und beseitigt werden k√∂nnen.  Mein Kollege hat diese Idee in seiner Notiz ausf√ºhrlicher beschrieben: ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Philosophie der statischen Code-Analyse: Wir haben 100 Programmierer, der Analysator hat nur wenige Fehler gefunden. Ist sie nutzlos?</a>  ‚Äú.  Ich empfehle dringend, 10 Minuten mit dem Lesen dieses kurzen, aber sehr wichtigen Artikels zu verbringen. <br><br>  Vielen Dank f√ºr Ihre Aufmerksamkeit.  Ich lade alle ein, die statische Analyse von PVS-Studio herunterzuladen und auszuprobieren, um Ihre eigenen Projekte zu testen. <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br>  Wenn Sie diesen Artikel einem englischsprachigen Publikum zug√§nglich machen m√∂chten, verwenden Sie bitte den Link zur √úbersetzung: Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Godot: Zur regelm√§√üigen Verwendung statischer Analyseger√§te</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431200/">https://habr.com/ru/post/de431200/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431190/index.html">Wie man das Niveau eines SEO-Unternehmens bewertet, ohne eine Vereinbarung damit zu schlie√üen</a></li>
<li><a href="../de431192/index.html">AWC f√ºhrt Firecracker ein - Mikrovirtualisierung f√ºr Linux</a></li>
<li><a href="../de431194/index.html">Warmer R√∂hren-Hardcore. Wie war DotNext 2018 Moskau</a></li>
<li><a href="../de431196/index.html">Wie Yandex.Taxi die Lieferzeit von Autos mithilfe von maschinellem Lernen vorhersagt</a></li>
<li><a href="../de431198/index.html">So funktioniert der Dispatcher</a></li>
<li><a href="../de431202/index.html">Debian und Devuan schlie√üen sich f√ºr Sysvinit zusammen</a></li>
<li><a href="../de431204/index.html">Backdoor in einer der Abh√§ngigkeiten der EventStream-Bibliothek</a></li>
<li><a href="../de431208/index.html">Splunk mit den Augen eines Neulings: Wie wir ein Lagerinventarsystem erstellt haben</a></li>
<li><a href="../de431210/index.html">Zweiter Mitap Schreiben Sie die Docs Moskau. House Techwriters: Vergessen Sie nicht, dass wir existieren</a></li>
<li><a href="../de431212/index.html">Caching-Paginierung in Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>