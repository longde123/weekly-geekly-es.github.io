<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП┐тАНЁЯОУ тЩия╕П ЁЯЦХЁЯП╛ рдлреЗрд▓рдУрд╡рд░ рдПрдирдкреАрдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рд┐рд╕реНрдХреЛ рд╕реНрд╡рд┐рдЪреЗрд╕ рдкрд░ 802.1X рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ (AD рдХреЗ рд╕рд╛рде Windows RADIUS) ЁЯзФЁЯП╛ ЁЯдЮЁЯП╗ ЁЯЩЕ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрдЗрдП рд╣рдо рд╡рд┐рдВрдбреЛрдЬ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ + рдПрдирдкреАрдПрд╕ (рдЧрд▓рддреА рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рдХреЗ рд▓рд┐рдП 2 рд╕рд░реНрд╡рд░) + 802.1x рдорд╛рдирдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ - рдбреЛрдореЗрди рдХрдВрдкреНрдпреВрдЯрд░ - рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдлреЗрд▓рдУрд╡рд░ рдПрдирдкреАрдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рд┐рд╕реНрдХреЛ рд╕реНрд╡рд┐рдЪреЗрд╕ рдкрд░ 802.1X рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ (AD рдХреЗ рд╕рд╛рде Windows RADIUS)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443942/"><img src="https://habrastorage.org/getpro/habr/post_images/fab/761/19d/fab76119df15e93b40fdfdeb0b91156e.png" alt="рдЫрд╡рд┐"><br>  рдЖрдЗрдП рд╣рдо рд╡рд┐рдВрдбреЛрдЬ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ + рдПрдирдкреАрдПрд╕ (рдЧрд▓рддреА рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рдХреЗ рд▓рд┐рдП 2 рд╕рд░реНрд╡рд░) + 802.1x рдорд╛рдирдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ - рдбреЛрдореЗрди рдХрдВрдкреНрдпреВрдЯрд░ - рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдЖрдк рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рдореЗрдВ рдорд╛рдирдХ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓рд┐рдВрдХ рдкрд░: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">IEEE 802.1X</a> <br><br>  рдЪреВрдВрдХрд┐ рдореЗрд░рд╛ "рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛" рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдореЗрдВ рд╕реАрдорд┐рдд рд╣реИ, рдПрдирдкреАрдПрд╕ рдФрд░ рдПрдХ рдбреЛрдореЗрди рдирд┐рдпрдВрддреНрд░рдХ рдХреА рднреВрдорд┐рдХрд╛рдПрдВ рд╕рдВрдЧрдд рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЖрдк рдРрд╕реА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдореБрдЭреЗ Windows NPS рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди (рдиреАрддрд┐рдпреЛрдВ) рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рдорд╛рдирдХ рддрд░реАрдХреЗ рдирд╣реАрдВ рдкрддрд╛ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдХрд╛рд░реНрдп рд╢реЗрдбреНрдпреВрд▓рд░ рджреНрд╡рд╛рд░рд╛ рд▓реЙрдиреНрдЪ рдХреА рдЧрдИ PowerShell рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ (рд▓реЗрдЦрдХ рдореЗрд░рд╛ рдкреВрд░реНрд╡ рд╕рд╣рдпреЛрдЧреА рд╣реИ)ред  рдбреЛрдореЗрди рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдФрд░ рдРрд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ <b>802.1x</b> (рдЯреЗрд▓реАрдлреЛрди, рдкреНрд░рд┐рдВрдЯрд░, рдЖрджрд┐) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ, рд╕рдореВрд╣ рдиреАрддрд┐ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдмрдирд╛рдП рдЧрдП рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ред <br><br>  рдЗрд╕ рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рдореИрдВ 802.1x рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдХреБрдЫ рдкреЗрдЪреАрджрдЧрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдБрдЧрд╛ - рдЕрдкреНрд░рдмрдВрдзрд┐рдд рд╕реНрд╡рд┐рдЪ, рдбрд╛рдпрдиреЗрдорд┐рдХ рдПрд╕реАрдПрд▓ рдЖрджрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ, рдореИрдВ рдкрдХрдбрд╝реЗ рдЧрдП "рдЧреНрд▓рд┐рдЪ" рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рд╕рд╛рдЭрд╛ рдХрд░реВрдБрдЧрд╛ ... <br><a name="habracut"></a><br>  рдЖрдЗрдП рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ 2012R2 рдкрд░ рд╡рд┐рдлрд▓рддрд╛ рдПрдирдкреАрдПрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░реЗрдВ (2016 рдХреЗ рд▓рд┐рдП рд╕рдм рдХреБрдЫ рд╕рдорд╛рди рд╣реИ): рд╕рд░реНрд╡рд░ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ -&gt; рднреВрдорд┐рдХрд╛ рдФрд░ рд╕реБрд╡рд┐рдзрд╛рдПрдБ рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдЬреЛрдбрд╝реЗрдВ, рдХреЗрд╡рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐ рд╕рд░реНрд╡рд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/b51/17f/c55b5117f0ebab8d5b10c808617418c5.png" alt="рдЫрд╡рд┐"><br><br>  рдпрд╛ PowerShell рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░: <br><br><pre><code class="actionscript hljs">Install-WindowsFeature NPAS -IncludeManagementTools</code> </pre> <br><blockquote>  рдПрдХ рдЫреЛрдЯрд╛ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг - рдЪреВрдВрдХрд┐ <b>рд╕рдВрд░рдХреНрд╖рд┐рдд рдИрдПрдкреА (рдкреАрдИрдПрдкреА) рдХреЗ рд▓рд┐рдП</b> рдЖрдкрдХреЛ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╕рд░реНрд╡рд░ рдХреА рдкреНрд░рд╛рдорд╛рдгрд┐рдХрддрд╛ (рдЙрдЪрд┐рдд рдЙрдкрдпреЛрдЧ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде) рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдХ рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЬреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдлрд┐рд░ рдЖрдкрдХреЛ <b>рдкреНрд░рдорд╛рдгрди рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреА</b> рднреВрдорд┐рдХрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рд▓реЗрдХрд┐рди рдорд╛рди рд▓реЗрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <b>CA</b> рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ ... </blockquote>  рд╣рдо рджреВрд╕рд░реЗ рд╕рд░реНрд╡рд░ рдкрд░ рднреА рдРрд╕рд╛ рд╣реА рдХрд░реЗрдВрдЧреЗред  C: \ Scripts рд╕реНрдХреНрд░рд┐рдкреНрдЯ рджреЛрдиреЛрдВ рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдПрдБ рдФрд░ рджреВрд╕рд░реЗ рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рдлрд╝реЛрд▓реНрдбрд░ <b>\\ SRV2 \ NPS-config $</b> <br><br>  рдкрд╣рд▓реЗ рд╕рд░реНрд╡рд░ рдкрд░, рдПрдХ PowerShell рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдБ <i>C: \ Scripts \ Export-NPS-config.ps1</i> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ рд╕рд╛рде: <br><br><pre> <code class="actionscript hljs">Export-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"\\SRV2\NPS-config$\NPS.xml"</span></span></code> </pre> <br>  рдЙрд╕рдХреЗ рдмрд╛рдж рдЯрд╛рд╕реНрдХ рд╢реЗрдбрдпреВрд▓рд░ рдореЗрдВ рдХрд╛рд░реНрдп рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: " <i>Export-NpsConfiguration</i> " <br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Export-NPS-config.ps1"</span></span></code> </pre> <br>  <i>рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдВ - рдЙрдЪреНрдЪрддрдо рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдПрдБ</i> <i><br></i>  <i>рджреИрдирд┐рдХ - рд╣рд░ 10 рдорд┐рдирдЯ рдореЗрдВ рдХрд╛рд░реНрдп рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред</i>  <i>8 рдШрдВрдЯреЗ рдХреЗ рднреАрддрд░</i> <br><br>  рд╕реНрдЯреИрдВрдбрдмрд╛рдп рдПрдирдкреАрдПрд╕ рдкрд░, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЖрдпрд╛рдд (рдиреАрддрд┐рдпреЛрдВ) рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br>  рдПрдХ PowerShell рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдБ: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Import-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"c:\NPS-config\NPS.xml"</span></span> &gt;&gt; C:\Scripts\Import-NPS-config.ps1</code> </pre> <br>  рдФрд░ рд╣рд░ 10 рдорд┐рдирдЯ рдореЗрдВ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдХрд╛рд░реНрдп: <br><br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Import-NPS-config.ps1"</span></span></code> </pre> <br>  <i>рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдВ - рдЙрдЪреНрдЪрддрдо рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдПрдБ</i> <i><br></i>  <i>рджреИрдирд┐рдХ - рд╣рд░ 10 рдорд┐рдирдЯ рдореЗрдВ рдХрд╛рд░реНрдп рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред</i>  <i>8 рдШрдВрдЯреЗ рдХреЗ рднреАрддрд░</i> <br><br>  рдЕрдм, рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП, рд╕рд░реНрд╡рд░реЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдкрд░ NPS рдореЗрдВ RADIUS рдХреНрд▓рд╛рдЗрдВрдЯ (IP рдФрд░ рд╢реЗрдпрд░реНрдб рд╕реАрдХреНрд░реЗрдЯ) рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ, рджреЛ рдХрдиреЗрдХреНрд╢рди рдЕрдиреБрд░реЛрдз рдХреА рдиреАрддрд┐рдпрд╛рдВ: <b>WIRED-Connect</b> (рд╕реНрдерд┐рддрд┐: "NAS рдкреЛрд░реНрдЯ рдкреНрд░рдХрд╛рд░ - рдИрдерд░рдиреЗрдЯ") рдФрд░ <b>WiFi! -Enterprise</b> (рд╕реНрдерд┐рддрд┐: "рдПрдирдПрдПрд╕ рдкреЛрд░реНрдЯ рдкреНрд░рдХрд╛рд░ IEEE 802.11 рд╣реИ"), рд╕рд╛рде рд╣реА <b><i>рдПрдХреНрд╕реЗрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдиреЗрдЯрд╡рд░реНрдХ рдбрд┐рд╡рд╛рдЗрд╕реЗрд╕</i></b> (рдиреЗрдЯрд╡рд░реНрдХ рдПрдбрдорд┐рди) рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐: <br><br><pre> <code class="xml hljs">:  Windows - domain\sg-network-admins :    -    (PAP, SPAP) :  RADIUS:  - Service-Type - Login    - Cisco-AV-Pair - Cisco - shell:priv-lvl=15</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрд╡рд┐рдЪ рдХреА рдУрд░ рд╕реЗ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">aaa new-model aaa local authentication attempts max-fail 5 ! ! aaa group server radius NPS server-private 192.168.38.151 auth-port 1812 acct-port 1813 key %shared_secret% server-private 192.168.10.151 auth-port 1812 acct-port 1813 key %shared_secret% ! aaa authentication login default group NPS local aaa authentication dot1x default group NPS aaa authorization console aaa authorization exec default group NPS local if-authenticated aaa authorization network default group NPS ! aaa session-id common ! identity profile default ! dot1x system-auth-control ! ! line vty 0 4 exec-timeout 5 0 transport input ssh escape-character 99 line vty 5 15 exec-timeout 5 0 logging synchronous transport input ssh escape-character 99</code> </pre> <br></div></div><br>  рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдмрд╛рдж, 10 рдорд┐рдирдЯ рдХреЗ рдмрд╛рдж, рд╕рднреА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреА рдиреАрддрд┐рдпрд╛рдВ \ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реНрдЯреИрдВрдбрдмрд╛рдп рдПрдирдкреАрдПрд╕ рдкрд░ рджрд┐рдЦрд╛рдИ рджреЗрдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рд╣рдо ActiveDirectory рдЦрд╛рддреЗ, рдбреЛрдореЗрди \ sg-network-admins рд╕рдореВрд╣ рдХреЗ рдПрдХ рд╕рджрд╕реНрдп (рдЬреЛ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рдмрдирд╛рдпрд╛ рдерд╛) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗред <br><br>  рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ - рдПрдХ рд╕рдореВрд╣ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдиреАрддрд┐ рдмрдирд╛рдПрдВ, рдЖрд╡рд╢реНрдпрдХ рд╕рдореВрд╣ рдмрдирд╛рдПрдВред <br><br>  рд╕рдореВрд╣ рдиреАрддрд┐ <i><b>рдХрдВрдкреНрдпреВрдЯрд░-8021x- рд╕реЗрдЯрд┐рдВрдЧреНрд╕</b></i> : <br><br><pre> <b><code class="plaintext hljs">Computer Configuration (Enabled) Policies Windows Settings Security Settings System Services Wired AutoConfig (Startup Mode: Automatic) Wired Network (802.3) Policies</code></b> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдПрдирдкреАрдПрд╕-802-1x</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Name NPS-802-1x Description 802.1x Global Settings SETTING VALUE Use Windows wired LAN network services for clients Enabled Shared user credentials for network authentication Enabled Network Profile Security Settings Enable use of IEEE 802.1X authentication for network access Enabled Enforce use of IEEE 802.1X authentication for network access Disabled IEEE 802.1X Settings Computer Authentication Computer only Maximum Authentication Failures 10 Maximum EAPOL-Start Messages Sent Held Period (seconds) Start Period (seconds) Authentication Period (seconds) Network Authentication Method Properties Authentication method Protected EAP (PEAP) Validate server certificate Enabled Connect to these servers Do not prompt user to authorize new servers or trusted certification authorities Disabled Enable fast reconnect Enabled Disconnect if server does not present cryptobinding TLV Disabled Enforce network access protection Disabled Authentication Method Configuration Authentication method Secured password (EAP-MSCHAP v2) Automatically use my Windows logon name and password(and domain if any) Enabled</code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/88f/cd4/c48/88fcd4c486e62979b592d5a633270e59.png" alt="рдПрдирдкреАрдПрд╕-802-1x_AD-рдиреАрддрд┐"><br><br>  рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ <b><i>sg-computers-8021x-vl100 рдмрдирд╛рдПрдВ</i></b> , рдЬрд╣рд╛рдВ рд╣рдо рдЙрди рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЛ рдЬреЛрдбрд╝реЗрдВрдЧреЗ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо vlan 100 рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рд╕рдореВрд╣ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рд╕рдореВрд╣ рдиреАрддрд┐ рдХреЗ рд▓рд┐рдП рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79b/5d5/11c/79b5d511c9c2551781cfa4b8b4113552.png" alt="802.1x-рдкреНрд░рдорд╛рдгреАрдХрд░рдг-рдЬреАрдкреАрдУ-рдЫрдирди"><br><br>  рдЖрдк рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдиреАрддрд┐ "рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕рд╛рдЭрд╛рдХрд░рдг рдХреЗрдВрджреНрд░ (рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕) -" рдПрдбреЗрдкреНрдЯрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдмрджрд▓реЗрдВ (рдПрдбреЙрдкреНрдЯрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ) - рдПрдбреЙрдкреНрдЯрд░ рдЧреБрдг "рдХреЛ рдЦреЛрд▓рдХрд░ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд▓рд╛рдЧреВ рдХреА рдЧрдИ рд╣реИ, рдЬрд╣рд╛рдВ рд╣рдо" рдкреНрд░рдорд╛рдгреАрдХрд░рдг "рдЯреИрдм рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/2c9/6bf/d6f2c96bff36ee31b6549391c63f398a.png" alt="рдИрдерд░рдиреЗрдЯ рдПрдбрд╛рдкреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕реЗрд╕ рдСрдереЗрдВрдЯрд┐рдХреЗрд╢рди"><br><br>  рдЬрдм рдЖрдк рдЖрд╢реНрд╡рд╕реНрдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдиреАрддрд┐ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд▓рд╛рдЧреВ рд╣реЛ рдЧрдИ рд╣реИ, рддреЛ рдЖрдк рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐ рдХреЛ рдПрдирдкреАрдПрд╕ рдФрд░ рдПрдХреНрд╕реЗрд╕ рд╕реНрд╡рд┐рдЪ рдкреЛрд░реНрдЯ рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐ <b><i>neag-computers-8021x-vl100 рдмрдирд╛рдПрдВ</i></b> : <br><br><pre> <code class="xml hljs">Conditions: Windows Groups - sg-computers-8021x-vl100 NAS Port Type - Ethernet Constraints: Authentication Methods - Microsoft: Protected EAP (PEAP) - Unencrypted authentication (PAP, SPAP) NAS Port Type - Ethernet Settings: Standard: Framed-MTU 1344 TunnelMediumType 802 (includes all 802 media plus Ethernet canonical format) TunnelPrivateGroupId 100 TunnelType Virtual LANs (VLAN)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/1f9/8b9/4e3/1f98b94e3a813be72c498a4c92b71454.png" alt="802.1x рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐"><br><br>  рд╕реНрд╡рд┐рдЪ рдкреЛрд░реНрдЯ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ (рдореИрдВ рдЗрд╕ рддрдереНрдп рдкрд░ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХрд╛рд░ "рдорд▓реНрдЯреА-рдбреЛрдореЗрди" рд╣реИ - рдбреЗрдЯрд╛ рдФрд░ рд╡реЙрдпрд╕, рдФрд░ рдореИрдХ рдкрддреЗ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИред "рд╕рдВрдХреНрд░рдордг рдЕрд╡рдзрд┐" рдХреЗ рд▓рд┐рдП рдпрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ: <br><br><pre> <code class="actionscript hljs">authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre><br>  рдЖрдИрдбреА "рд╕рдВрдЧрд░реЛрдз" рдХрд╛ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЙрд╕реА рдХрд╛ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд▓реЙрдЧ-рдЗрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП - рдЬрдм рддрдХ рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдирд╣реАрдВ рдХрд░ рд▓реЗрддреЗ рд╣реИрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдЗрд╕реЗ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЙрд╕реА рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреНрдп рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдПрдХ рдЕрдкреНрд░рдмрдВрдзрд┐рдд рд╕реНрд╡рд┐рдЪ рдХреЛ рдЗрд╕ рдкреЛрд░реНрдЯ рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рд╕реЗ рдЬреБрдбрд╝реЗ рд╕рднреА рдЙрдкрдХрд░рдг рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╡реАрд▓рди ("рд╕рдВрдЧрд░реЛрдз") рдореЗрдВ рдЧрд┐рд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгрд┐рдд рди рд╣реЛрдВред <br><br><div class="spoiler">  <b class="spoiler_title">802.1x рд╣реЛрд╕реНрдЯ-рдореЛрдб рдорд▓реНрдЯреА-рдбреЛрдореЗрди рдореЗрдВ рдкреЛрд░реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">default</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> shu des PC-IPhone_802<span class="hljs-number"><span class="hljs-number">.1</span></span>x switchport mode access switchport nonegotiate switchport voice vlan <span class="hljs-number"><span class="hljs-number">55</span></span> switchport port-security maximum <span class="hljs-number"><span class="hljs-number">2</span></span> authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication host-mode multi-domain authentication port-control auto authentication violation restrict mab dot1x pae authenticator dot1x timeout quiet-period <span class="hljs-number"><span class="hljs-number">15</span></span> dot1x timeout tx-period <span class="hljs-number"><span class="hljs-number">3</span></span> storm-control broadcast level pps <span class="hljs-number"><span class="hljs-number">100</span></span> storm-control multicast level pps <span class="hljs-number"><span class="hljs-number">110</span></span> no vtp lldp receive lldp transmit spanning-tree portfast no shu exit</code> </pre> <br></div></div><br>  рдЖрдк рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрдВрдкреНрдпреВрдЯрд░ / рдлреЛрди рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><pre> <code class="actionscript hljs">sh authentication sessions int Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span> det</code> </pre> <br>  рдЕрдм рдлреЛрди рдХреЗ рд▓рд┐рдП рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдПрдХ рд╕рдореВрд╣ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <i>sg-fgpp-mab</i> ) <i>рдмрдирд╛рдПрдВ</i> рдФрд░ рдЗрд╕рдореЗрдВ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдЙрдкрдХрд░рдг рдЬреЛрдбрд╝реЗрдВ (рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ <b><i>Grandstream GXP2160 рд╣реИ</i></b> рдЬрд┐рд╕рдореЗрдВ рдмрдбрд╝реЗ рдкрддреЗ рдХреЗ рд╕рд╛рде <b>000b.82ba.b7b1</b> рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдЦрд╛рддрд╛ <b>рдбреЛрдореЗрди \ 000b82baa7b1</b> ) рд╣реИ ред <br><br>  рдирд┐рд░реНрдорд┐рдд рд╕рдореВрд╣ рдХреЗ рд▓рд┐рдП, рд╣рдо рдкрд╛рд╕рд╡рд░реНрдб рдиреАрддрд┐ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ (рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдХреЗрдВрджреНрд░ -&gt; рдбреЛрдореЗрди -&gt; рд╕рд┐рд╕реНрдЯрдо -&gt; рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрдВрдЯреЗрдирд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлрд╛рдЗрди-рдЧреНрд░реЗрдиреНрдб рдкрд╛рд╕рд╡рд░реНрдб рдиреАрддрд┐рдпреЛрдВ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ) рдХреЛ рдирд┐рдореНрди <b><i>рдкрд╛рд╕рд╡рд░реНрдб-рд╕реЗрдЯрд┐рдВрдЧреНрд╕-рдлреЙрд░-рдПрдордПрдмреА</i></b> рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдХрд░реЗрдВрдЧреЗ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/998/705/0cf998705b059c03465acd6057356d91.jpg" alt="MAB рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдлрд╛рдЗрди-рдЧреНрд░реЗрдирдб рдкрд╛рд╕рд╡рд░реНрдб рдиреАрддрд┐рдпрд╛рдВ (FGPP)"><br><br>  рдЬрд┐рд╕рд╕реЗ рд╣рдореЗрдВ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдореИрд╕ рдПрдбреНрд░реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╣рдо 802.1x рд╡рд┐рдзрд┐ mab рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рдиреАрддрд┐ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЪрд▓реЛ рдЗрд╕реЗ neag-devices-8021x-voice рдХрд╣рддреЗ рд╣реИрдВред  рдкреИрд░рд╛рдореАрдЯрд░ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИрдВ: <br><br><ul><li>  рдПрдирдПрдПрд╕ рдкреЛрд░реНрдЯ рдкреНрд░рдХрд╛рд░ - рдИрдерд░рдиреЗрдЯ </li><li>  рд╡рд┐рдВрдбреЛрдЬ рд╕рдореВрд╣ - sg-fgpp-mab </li><li>  EAP рдкреНрд░рдХрд╛рд░: рдЕрдирдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдкреНрд░рдорд╛рдгреАрдХрд░рдг (PAP, SPAP) </li><li>  RADIUS рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ - рд╡рд┐рдХреНрд░реЗрддрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ: рд╕рд┐рд╕реНрдХреЛ - рд╕рд┐рд╕реНрдХреЛ-рдПрд╡реА-рдЬреЛрдбрд╝реА - рд╡рд┐рд╢реЗрд╖рддрд╛ рдореВрд▓реНрдп: рдбрд┐рд╡рд╛рдЗрд╕-рдЯреНрд░реИрдлрд╝рд┐рдХ-рдХреНрд▓рд╛рд╕ = рдЖрд╡рд╛рдЬрд╝ </li></ul><br>  рд╕рдлрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд╛рдж (рд╕реНрд╡рд┐рдЪ рдкреЛрд░реНрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВ), рдкреЛрд░реНрдЯ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВ: <br><br><div class="spoiler">  <b class="spoiler_title">sh рдкреНрд░рдорд╛рдгреАрдХрд░рдг se int Gi1 / 0/34</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">---------------------------------------- Interface: GigabitEthernet1/0/34 MAC Address: 000b.82ba.a7b1 IP Address: 172.29.31.89 User-Name: 000b82baa7b1 Status: Authz Success Domain: VOICE Oper host mode: multi-domain Oper control dir: both Authorized By: Authentication Server Session timeout: N/A Idle timeout: N/A Common Session ID: 0000000000000EB2000B8C5E Acct Session ID: 0x00000134 Handle: 0xCE000EB3 Runnable methods list: Method State dot1x Failed over mab Authc Success</code> </pre> <br></div></div><br>  рдЕрдм, рдЬреИрд╕рд╛ рдХрд┐ рд╡рд╛рджрд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреБрдЫ-рдирд╣реАрдВ-рд╕реНрдкрд╖реНрдЯ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдПрдХ рдЕрдирд╡рд╛рдВрдЯреЗрдб рд╕реНрд╡рд┐рдЪ (рд╕реНрд╡рд┐рдЪ) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯ рд╕реЗрдЯрд┐рдВрдЧ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: <br><br><div class="spoiler">  <b class="spoiler_title">802.1x рд╣реЛрд╕реНрдЯ-рдореЛрдб рдорд▓реНрдЯреА-рдореЛрдб рдореЛрдб рдореЗрдВ рдкреЛрд░реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GigabitEthernet1</span></span></span><span class="hljs-class">/0/1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">description</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SW</span></span></span><span class="hljs-class"> тАУ 802.1</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class"> тАУ 8 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mac</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">access</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonegotiate</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">voice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 55 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">security</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">maximum</span></span></span><span class="hljs-class"> 8 !  -  - </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">response</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">host</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multi</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth</span></span></span><span class="hljs-class"> ! тАУ   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">violation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">restrict</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mab</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pae</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authenticator</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quiet</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 15 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tx</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 3 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">broadcast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multicast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 110 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vtp</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">spanning</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tree</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">portfast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span></span></code> </pre> <br></div></div><br>  рдкреАрдПрд╕ рдПрдХ рдмрд╣реБрдд рд╣реА рдЕрдЬреАрдм рдЧрдбрд╝рдмрдбрд╝ рджреЗрдЦрд╛ рдЧрдпрд╛ рдерд╛ - рдЕрдЧрд░ рдбрд┐рд╡рд╛рдЗрд╕ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕реНрд╡рд┐рдЪ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рдерд╛, рдФрд░ рдлрд┐рд░ рдпрд╣ рдПрдХ рдкреНрд░рдмрдВрдзрд┐рдд рд╕реНрд╡рд┐рдЪ рдореЗрдВ рдлрдВрд╕ рдЧрдпрд╛ рдерд╛, рддреЛ рдпрд╣ рддрдм рддрдХ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ рдЬрдм рддрдХ рд╣рдо (!) рд╕реНрд╡рд┐рдЪ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдореБрдЭреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ рдирд╣реАрдВ рдорд┐рд▓рддреЗред <br><br>  рдбреАрдПрдЪрд╕реАрдкреА рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдПрдХ рдЕрдиреНрдп рдмрд┐рдВрджреБ (рдпрджрд┐ рдЖрдИрдкреА рдбреАрдПрдЪрд╕реАрдкреА рд╕реНрдиреВрдкрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) - рдРрд╕реЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд┐рдирд╛: <br><br><pre> <code class="actionscript hljs">ip dhcp snooping vlan <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-100</span></span> no ip dhcp snooping information option</code> </pre> <br>  рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ, рдЖрдИрдкреА рдкрддреЗ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ ... рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд╣рдорд╛рд░реЗ рдбреАрдПрдЪрд╕реАрдкреА рд╕рд░реНрд╡рд░ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ <br><br>  рдФрд░ рдореИрдХ рдУрдПрд╕ рдФрд░ рд▓рд┐рдирдХреНрд╕ (рдЬрд┐рд╕рдореЗрдВ 802.1x рд╕рдорд░реНрдерди рдореВрд▓ рд╣реИ) рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ, рднрд▓реЗ рд╣реА рдЬрди рдкрддреЗ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛред <br><br>  рд▓реЗрдЦ рдХреЗ рдЕрдЧрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рд╡рд╛рдпрд░рд▓реЗрд╕ рдХреЗ рд▓рд┐рдП 802.1x рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдореЗрдВ рд╕рдореВрд╣ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╣рдо рдЗрд╕реЗ "рдЗрд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдЫреЛрдбрд╝ рджреЗрдВрдЧреЗ" (vlan), рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡реЗ рдЙрд╕реА SSID рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдВрдЧреЗ)ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi443942/">https://habr.com/ru/post/hi443942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi443926/index.html">рдХрд╛рд░ "рдХрдЯрдорд░реИрди"</a></li>
<li><a href="../hi443928/index.html">рдХрд┐рд╕реА рдФрд░ рдХреЗ рдЦрд░реНрдЪ рдкрд░ рдЯреИрдХреНрд╕реА рдХреА рд╕рд╡рд╛рд░реА рдХреИрд╕реЗ рдХрд░реЗрдВ - рдПрдХ рд╕реЗрд╡рд╛ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдкрд░ рдХрдордЬреЛрд░рд┐рдпрд╛рдВ</a></li>
<li><a href="../hi443934/index.html">CJDNS рдорд░ рдЪреБрдХрд╛ рд╣реИ, рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЬреАрд╡рд┐рдд Yggdrasil</a></li>
<li><a href="../hi443938/index.html">рдиреЗрдЯрдПрдХреНрд╕рдПрдордПрд╕ рдЖрд▓рд╕реА рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ ... рдФрд░ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдереЛрдбрд╝реА рддреБрд▓рдирд╛</a></li>
<li><a href="../hi443940/index.html">рдлрд┐рд▓реНрдо рдХреЗ рд╢реАрд░реНрд╖рдХ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХреИрд╕реЗ рди рдХрд░реЗрдВ</a></li>
<li><a href="../hi443946/index.html">рд╕реНрдерд┐рддрд┐: рд▓реЛрд╣реЗ рдХреЗ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдЖрднрд╛рд╕реА GPU рд╣реАрди рдирд╣реАрдВ рд╣реИрдВ</a></li>
<li><a href="../hi443948/index.html">рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕реБрдкрд░ рдкреБрд░рд╕реНрдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ "рдореИрдВ рдПрдХ рдЗрдВрдЯреЗрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╣реВрдВ"</a></li>
<li><a href="../hi443950/index.html">рдЯреНрд░рд╕реНрдЯ, рд╕рд▓рд╛рд╣, рд╕реБрдЭрд╛рд╡ - рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рд╕рдореАрдХреНрд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╢рд┐рдХрд╛рд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi443952/index.html">рд╕рдВрдкреНрд░рднреБ рдЗрдВрдЯрд░рдиреЗрдЯ - рд╣рдорд╛рд░реЗ рдкреИрд╕реЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi443954/index.html">рддрдХрдиреАрдХреА рд╡рд┐рд▓рдХреНрд╖рдгрддрд╛: рдкреНрд░рдЧрддрд┐ рдХреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХреА рдЖрдбрд╝ рдореЗрдВ рджреБрдирд┐рдпрд╛ рдХреЗ рдЕрдВрдд рдХрд╛ рдЖрдзреБрдирд┐рдХ рдорд┐рдердХ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>