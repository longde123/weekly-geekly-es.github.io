<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ ğŸ¤±ğŸ» ğŸ‘¨ğŸ¾â€ğŸš€ Wie erstelle ich eine Tastatur - Matrix ğŸ‘¨ğŸ» ğŸ’Œ ğŸ¹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gepostet von : Komar aka MichaÅ‚ Trybus; Englisch-russische Ãœbersetzung : firerock 
 Original : blog.komar.be/how-to-make-a-keyboard-the-matrix
 
 Dies...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie erstelle ich eine Tastatur - Matrix</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/394585/"><sub><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gepostet </font><b><font style="vertical-align: inherit;">von</font></b><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aka MichaÅ‚ Trybus; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Englisch-russische Ãœbersetzung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :   </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firerock </font></font></a></sub><br>
<sup><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog.komar.be/how-to-make-a-keyboard-the-matrix</font></font></a></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dies ist der erste Beitrag in einer Reihe auf Tastaturen; </font><font style="vertical-align: inherit;">Ich hoffe er wird nicht der letzte sein. </font><font style="vertical-align: inherit;">Ich mÃ¶chte am Ende einen Kurs zur Tastaturherstellung von Grund auf neu absolvieren. </font><font style="vertical-align: inherit;">Heute werde ich Ã¼ber digitale Eingabe-Ausgabe- und Tastaturmatrizen sprechen. </font><font style="vertical-align: inherit;">RÃ¼sten Sie sich mit Grundkenntnissen auf dem Gebiet der Elektronik aus - und los geht's.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum eine Matrix?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wie machen wir die Matrix? Und vor allem - warum wird es Ã¼berhaupt gebraucht? Dies ist hauptsÃ¤chlich auf die physikalischen EinschrÃ¤nkungen der Mikrocontroller zurÃ¼ckzufÃ¼hren, auf denen die Tastaturen aufgebaut sind. Tatsache ist, dass mit zunehmender Anzahl von AusgÃ¤ngen fÃ¼r Mikrocontroller und programmierbare Logikschaltungen auch deren GrÃ¶ÃŸe zunimmt, was wiederum zu einer ErhÃ¶hung des Energieverbrauchs, der FÃ¤higkeiten, aber vor allem der Preise fÃ¼hrt. Infolgedessen kÃ¶nnen Sie entweder einen billigen Chip mit einer geringen Leistung (die gut zu Ihnen passt), aber mit einer geringen Anzahl von Ein- und AusgÃ¤ngen, oder einen leistungsstÃ¤rkeren Chip wÃ¤hlen, dessen Leistung jedoch Ihre Anforderungen bei weitem Ã¼bertrifft. Aber nur dieser leistungsstarke Chip verfÃ¼gt Ã¼ber genÃ¼gend AusgÃ¤nge, um jede Taste auf der Tastatur anzuschlieÃŸen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ãœber Jahrzehnte hat sich die Praxis in der Elektronik mithilfe verschiedener Tricks entwickelt, um die integrierten KommunikationsfÃ¤higkeiten von Prozessoren und Steuerungen kÃ¼nstlich zu erweitern. </font><font style="vertical-align: inherit;">Eine solche Methode, die sich gut fÃ¼r mechanische Kontakte (Tasten) eignet, ist die Erstellung einer Matrix. </font><font style="vertical-align: inherit;">Um zu verstehen, wie es funktioniert, sind einige Grundkenntnisse erforderlich. </font><font style="vertical-align: inherit;">Bevor wir fortfahren, aktualisieren Sie bitte das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ohmsche Gesetz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein bisschen Theorie</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu verstehen, wie digitale Elektronik funktioniert, mÃ¼ssen Sie zwei Grundprinzipien lernen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prinzip eins</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besagt, dass es bei der Kommunikation innerhalb eines Schaltkreises nicht darum geht, dort etwas zu senden oder zu empfangen. Um die Kommunikation zwischen den beiden GerÃ¤ten sicherzustellen, verbinden Sie einfach ihre Ergebnisse mit elektrisch leitendem Material miteinander. Danach wird angenommen, dass der Zustand des Materials (Spannung und Strom) an beiden Enden gleich ist. In der RealitÃ¤t ist dies natÃ¼rlich nicht der Fall, aber fÃ¼r langsame Kommunikation und kurze Leiter funktioniert unsere Annahme gut. Es stellt sich heraus, dass das Senden und Empfangen von Informationen tatsÃ¤chlich deren Weitergabe ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von der Seite des Senders aus Ã¤ndern Sie einfach den elektrischen Zustand des Leiters (indem Sie Gleichstrom in ihn einspeisen, sein Potential Ã¤ndern), in der Hoffnung, dass der EmpfÃ¤nger diese Ã„nderung erkennen und richtig verstehen kann. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aus diesem Prinzip folgt auch, dass es keinen Zusammenhang zwischen der Kommunikationsrichtung und der Richtung des elektrischen Stroms gibt.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Viele Menschen nehmen fÃ¤lschlicherweise das Gegenteil an, und dies hindert sie daran, die Funktionsweise der Elektronik zu verstehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie einen Logikpegel von "0" senden mÃ¶chten, wird normalerweise dafÃ¼r die Spannung am Ausgang des Senders auf 0 V gesenkt, und der Strom flieÃŸt vom EmpfÃ¤nger zum Sender, so dass der EmpfÃ¤nger feststellen kann, dass der Logikpegel "0" entspricht. (WÃ¤hrend die umgekehrte Richtung des Stroms bedeuten wÃ¼rde, dass irgendwo in der Schaltung ein negatives Potential vorhanden ist - und dies tritt in der digitalen Elektronik in der Regel nicht auf.) Andererseits wird eine Spannung angelegt, die der Versorgungsspannung entspricht, um den Logikpegel â€1â€œ zu Ã¼bertragen. und da dies meistens die hÃ¶chste Spannung in der Schaltung ist, bleibt fÃ¼r den elektrischen Strom nichts anderes Ã¼brig, als vom Sender zum EmpfÃ¤nger zu flieÃŸen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prinzip Nummer zwei</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liegt in der Tatsache, dass es unmÃ¶glich ist, den Zustand des Leiters zu bestimmen, ohne diesen Zustand zu Ã¤ndern. </font><font style="vertical-align: inherit;">Es spielt keine Rolle, ob Sie Spannung oder Strom messen - in jedem Fall ist es dafÃ¼r erforderlich, dass Elektronen durch Ihr MessgerÃ¤t flieÃŸen. </font><font style="vertical-align: inherit;">Der Elektronenfluss - dies ist der elektrische Strom, und da er flieÃŸt, bedeutet dies, dass sich in dem Knoten, an den Sie zur Messung angeschlossen sind, die StrÃ¶me und Spannungen bereits geÃ¤ndert haben (siehe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kirchhoffsche Gesetze</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Daraus folgt, dass Sie diesen Zustand beibehalten mÃ¼ssen, wenn Sie Informationen "Ã¼bertragen" mÃ¼ssen, indem Sie den Zustand des elektrisch an einen anderen Ausgang angeschlossenen Ausgangs Ã¤ndern, was bedeutet, dass Sie alle vom EmpfÃ¤nger auferlegten Anforderungen erfÃ¼llen mÃ¼ssen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knopf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein mechanischer Knopf (und in diesem Zusammenhang ist das Wort â€mechanischâ€œ nicht mit dem Ausdruck â€mechanische Tastaturâ€œ verbunden) ist nur ein Paar Metallkontakte, die bei Kontakt die beiden AnschlÃ¼sse elektrisch verbinden. NatÃ¼rlich gibt es andere Arten von Schaltern, die strukturell komplexer sind und mehr AusgÃ¤nge haben, aber sie sind fÃ¼r uns nicht interessant, weil sie nicht in Tastaturen verwendet werden. </font></font><br>
<br>
<img src="https://habrastorage.org/files/910/b1e/9b7/910b1e9b776543e0a3cf502aca657473.jpg"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cherry MX-Taste. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Bildquelle</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskthority-Wiki</font></font></a></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, und wie verbinden wir den Knopf mit dem Eingang des Mikrocontrollers? GrundsÃ¤tzlich kann jeder Eingang mit zwei mÃ¶glichen logischen Ebenen arbeiten: "0" und "1". Es ist Ã¼blich, Spannungen nahe 0 V als logische Null und Spannungen nahe einer Versorgungsspannung (normalerweise 5 V oder 3,3 V) als logische Einheit zu akzeptieren. Das Problem ist jedoch, dass der mechanische Knopf allein die Spannung nicht steuern kann. Es steuert den Strom - das heiÃŸt, wenn wir zwei Knoten mit unterschiedlichem elektrischen Potential Ã¼ber die Taste verbinden, flieÃŸt der Strom zwischen diesen Knoten genau dann, wenn die Taste gedrÃ¼ckt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir jedoch einen Widerstand hinzufÃ¼gen, kÃ¶nnen wir den Strom sehr leicht in Spannung umwandeln. </font></font><br>
<br>
<img src="https://habrastorage.org/files/2df/7ff/d4e/2df7ffd4e1584d38a170b8028fd06021.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pull-up-Widerstandstaste</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen Sie sich dieses Diagramm an. Wenn die Taste nicht gedrÃ¼ckt wird (der Stromkreis ist unterbrochen), flieÃŸt kein Strom durch sie, sodass die Spannung am Knoten â€Aâ€œ nahe an der Versorgungsspannung VCC liegt (tatsÃ¤chlich kleiner als VCC um den Wert des Spannungsabfalls Ã¼ber dem Widerstand gleich R â€¢ I). Wenn die Taste gedrÃ¼ckt wird (Stromkreis geschlossen), flieÃŸt Strom durch den Widerstand nach Masse. Da der Widerstand des geschlossenen Knopfes sehr klein ist (in der GrÃ¶ÃŸenordnung von Hunderten von Milliom), liegt die Spannung am Knoten "A" nahe bei "0". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Konfiguration wird der Widerstand als Pull-up bezeichnet, da er die Spannung auf das VCC-Niveau â€hochziehtâ€œ. Und ohne Anschluss an die Stromversorgung Ã¼ber den Widerstand wÃ¼rde im Knoten â€Aâ€œ Ã¼berhaupt keine Spannung anliegen (in diesem Fall wird der Ausgang der Mikroschaltung als â€in der Luft hÃ¤ngenâ€œ oder in einem hochohmigen Zustand bezeichnet).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist zu beachten, dass in den meisten modernen Mikrocontrollern bereits Pull-up-WiderstÃ¤nde vorhanden sind, die mit dem Programm schnell verbunden oder getrennt werden kÃ¶nnen. </font><font style="vertical-align: inherit;">Die Hauptmethode zum Verbinden der Taste mit dem Mikrocontroller ist also wie folgt: Ein Pin der Taste befindet sich am Eingang des Mikrocontrollers, der andere Pin der Taste befindet sich am Boden. </font><font style="vertical-align: inherit;">In diesem Fall wird, wenn die Taste nicht gedrÃ¼ckt wird, "1" an den Mikrocontroller gesendet, und wenn sie gedrÃ¼ckt wird, wird "0". </font><font style="vertical-align: inherit;">Vielleicht widerspricht dies der Intuition, aber diese Verbindungsmethode ist die beliebteste.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie, dass wenn wir einen der Stifte des Knopfes in der Luft hÃ¤ngen lassen, dh wenn wir ihn nirgendwo anschlieÃŸen, dieser Knopf Ã¼berhaupt nicht funktioniert: Wenn Sie ihn nicht drÃ¼cken, hat dies keinen Einfluss auf den elektrischen Zustand des Ausgangs des Mikrocontrollers. </font><font style="vertical-align: inherit;">Wir werden diese Eigenschaft weiterhin verwenden, wenn wir die Matrix erstellen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matrixprinzip</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Grundprinzip der Tastaturmatrix ist die FÃ¤higkeit, mehr als eine Taste an einen Eingang des Mikrocontrollers anzuschlieÃŸen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mithilfe von Transistoren oder korrekt konfigurierten </font><font style="vertical-align: inherit;">Mikrocontroller- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AusgÃ¤ngen kÃ¶nnen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir die Tasten einzeln mit der Erde verbinden, wÃ¤hrend der Rest in der Luft hÃ¤ngt. </font><font style="vertical-align: inherit;">Die verbleibenden Schlussfolgerungen jeder der SchaltflÃ¤chen werden zu einem Knoten zusammengefasst und mit dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingang verbunden</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrocontroller. Ich habe den Pull-up-Widerstand abgesenkt, da wir wissen, dass er bereits im Mikrocontroller in seiner Eingangsstufe vorhanden ist. Wir schalten abwechselnd jede Taste ein und verbinden ihre Ausgangsnummer 1 Ã¼ber den entsprechenden Ausgang des Mikrocontrollers mit Masse. Danach kÃ¶nnen wir den Status der Taste am Eingang ablesen, indem wir die Spannung von der Ausgangsnummer 2 entfernen. Andere an denselben Eingang angeschlossene Tasten wirken sich nicht aus auf seinen Zustand, weil ihre Nummer 1 Schlussfolgerungen derzeit in der Luft hÃ¤ngen. Das folgende Diagramm veranschaulicht diese Idee. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e7e/2db/cca/e7e2dbccac834fef95bb30b1bdb134d3.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viele Tasten, ein Eingang (Knoten "A")</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"A" ist der einzige Eingang des Mikrocontrollers und "C1". "Cn" sind seine AusgÃ¤nge. An einem der AusgÃ¤nge wird eine logische â€0â€œ gesetzt, dh innerhalb des Mikrokreises ist dieser Kontakt irgendwie mit Masse verbunden - daher flieÃŸt immer der Strom zu diesem Kontakt (gemÃ¤ÃŸ dem ersten Grundprinzip). Wenn nun die an diesen Ausgang angeschlossene Taste gedrÃ¼ckt wird, wird der Eingang â€Aâ€œ sofort Ã¼ber den Boden â€gedrÃ¼cktâ€œ und auf â€0â€œ gesetzt. Durch DrÃ¼cken der anderen Tasten wird nichts geÃ¤ndert, da die ErdungsausgÃ¤nge derzeit nirgendwo angeschlossen sind. Wenn wir die nÃ¤chste Taste abfragen mÃ¼ssen, entfernen wir die logische â€0â€œ vom aktuellen Ausgang und setzen diesen Pegel auf den nÃ¤chsten Ausgang, so dass jederzeit nur einer der AusgÃ¤nge des Mikrocontrollers aktiviert wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine solche Konfiguration (wenn der Ausgang entweder mit Masse verbunden oder Ã¼berhaupt deaktiviert ist) wird als Open-Drain-Ausgang (OS) bezeichnet (historisch gesehen mit offenem Kollektor (OK)). Hier habe ich einige Vereinfachungen vorgenommen - tatsÃ¤chlich kann ein Kontakt nicht vollstÃ¤ndig vom Stromkreis getrennt werden, es sei denn, er ist physisch von ihm getrennt. FÃ¼r einfache digitale E / A ist diese Vereinfachung jedoch durchaus geeignet. Die meisten Mikrocontroller bieten die MÃ¶glichkeit, ihre Ausgangskontakte programmgesteuert so zu konfigurieren, dass sie im Betriebssystemmodus arbeiten. Aber was ist, wenn wir keine solche Gelegenheit haben? Es gibt eine andere Konfiguration - Push-Pull-Modus; Heute ist diese Option eine der beliebtesten. Diese Konfiguration funktioniert etwas anders. Im Zustand "0" wird der Ausgang immer noch auf Masse gedrÃ¼ckt, aber wenn der Zustand "1" auftritt, wird er auf die VCC-Versorgungsspannung gezogen.Damit der Ausgang in der Luft nicht mehr hÃ¤ngt, kann er selbst zur Stromquelle werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche Ã„nderungen werden sich daraus fÃ¼r das Design der Matrix ergeben? </font><font style="vertical-align: inherit;">Wenn wir nicht mehrere Tasten gleichzeitig drÃ¼cken, dann keine. </font><font style="vertical-align: inherit;">Aber wenn wir gehen, dann schauen Sie sich die Zeichnung an und stellen Sie sich fÃ¼r eine Sekunde vor, was dann passieren wird. </font><font style="vertical-align: inherit;">Durch Klicken auf die beiden SchaltflÃ¤chen verbinden wir die beiden unteren AusgÃ¤nge zu einem geschlossenen Regelkreis. </font><font style="vertical-align: inherit;">Befindet sich einer von ihnen gleichzeitig im Zustand â€0â€œ und der andere im Zustand â€1â€œ, flieÃŸt elektrischer Strom vom Ausgang auf â€1â€œ zum Ausgang auf â€0â€œ. </font><font style="vertical-align: inherit;">Und da dieser Strom durch nichts begrenzt ist (es gibt keine WiderstÃ¤nde), wird die Schaltung nicht nur instabil, sondern kann auch aus dem Chip herausfliegen. </font><font style="vertical-align: inherit;">NatÃ¼rlich ist es unwahrscheinlich, dass normalerweise ein logischer Zustand berÃ¼cksichtigt werden kann.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeilen hinzufÃ¼gen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie kÃ¶nnen das vorherige Beispiel als eine Matrix betrachten, die aus einer Zeile besteht. ErhÃ¶hen wir es jetzt, indem wir zusÃ¤tzliche Zeilen hinzufÃ¼gen. Wenn wir eine ganze Zeile an einen Eingang hÃ¤ngen kÃ¶nnen, warum kÃ¶nnen wir dann nicht eine ganze Spalte von SchaltflÃ¤chen an einen Ausgang hÃ¤ngen? Es stimmt, es gibt eine Voraussetzung - jede Taste der Spalte muss mit einem separaten Eingang des Mikrocontrollers verbunden sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir die SchaltflÃ¤chen in Form einer regulÃ¤ren Matrix anordnen, wird diese Bedingung automatisch erfÃ¼llt. Die folgende Abbildung zeigt, wie die SchaltflÃ¤chenmatrix aus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spalten und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeilen </font><font style="vertical-align: inherit;">aussehen wird </font><font style="vertical-align: inherit;">( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">achten Sie noch nicht auf grÃ¼ne Zahlen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/files/8f8/989/832/8f89898324d64a3ead1d3b63fa8ecaa1.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfache Tastaturmatrix</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Lesen dieser Matrix ist sehr einfach. Wir fragen jeweils eine Spalte ab. Die Lesespalte wird ausgewÃ¤hlt, indem einer der AusgÃ¤nge â€C1â€œ .. â€Cnâ€œ mit Masse verbunden wird (der Ausgang im OS-Modus wird in â€0â€œ Ã¼bersetzt). Wenn Sie nun abwechselnd die Zeilen "R1" und "Rm" abfragen, kÃ¶nnen Sie den Status jeder SchaltflÃ¤che der ausgewÃ¤hlten Spalte bestimmen. KnÃ¶pfe von anderen SÃ¤ulen wirken sich nicht auf etwas aus, selbst wenn sie gedrÃ¼ckt werden, da ihre Erdungskabel im Moment in der Luft hÃ¤ngen (oder, wie sie in der Elektronik sagen, im Hi-Z-Zustand sind).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die gesamte Spalte abgefragt wurde, gehen wir zur nÃ¤chsten, lassen die aktuelle Ausgabe los und schieben die nÃ¤chste auf Null. Das Matrix-Scannen gilt als abgeschlossen, wenn alle Spalten abgefragt werden. Wenn alles schnell genug erledigt ist, bemerkt der schnellste Schriftsetzer die Intervalle zwischen den Spaltenabfragen nicht. Selbst mit einem 16-MHz-Mikrocontroller kÃ¶nnen wir die gesamte Matrix problemlos tausendmal pro Sekunde scannen, wÃ¤hrend der schnellste Schriftsetzer im Test auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hi-games.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eine Geschwindigkeit von 203 WÃ¶rtern pro Minute (wpm) erreichte - das sind etwas weniger als 17 Klicks zweitens.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Entwerfen einer Tastatur mithilfe einer Matrix reduzieren wir die Anzahl der Pins, die zum Verbinden aller Tasten erforderlich sind. Um die Anzahl der Schlussfolgerungen auf ein Minimum zu reduzieren, mÃ¼ssen wir eine Matrix erstellen, damit die Anzahl der Spalten so nahe wie mÃ¶glich an der Anzahl der Zeilen liegt. In einer idealen Situation, wenn die Anzahl der Tasten </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nÂ²</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> betrÃ¤gt </font><font style="vertical-align: inherit;">, ist das Beste, was wir mit der Matrix erreichen kÃ¶nnen, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besetzte Mikrocontroller-Pins. Heutzutage versucht jedoch beim Kompilieren von Matrizen selten jemand, die Anzahl der beteiligten Beine zu minimieren, da moderne Mikrocontroller in der Regel eine ausreichende Anzahl freier Schlussfolgerungen haben. DarÃ¼ber hinaus kann die maximale Optimierung der Matrix in der Folge zu Unannehmlichkeiten fÃ¼hren - die Verdrahtung der Platine oder die Verteilung der DrÃ¤hte im EndgerÃ¤t wird spÃ¼rbar komplizierter. Daher lohnt es sich, den bequemeren Weg zu gehen: Versuchen Sie beim Kompilieren der Matrix, die physische Anordnung der SchaltflÃ¤chen zu befolgen. In diesem Fall hat die einfachste Matrix fÃ¼r eine Standard-Computertastatur nur 6 Zeilen und eine bestimmte Anzahl von Spalten, abhÃ¤ngig vom gewÃ¼nschten Layout. Unter dem Gesichtspunkt der Anzahl der Schlussfolgerungen ist diese LÃ¶sung natÃ¼rlich nicht die optimalste, aber in Zukunft wird zumindest die Verkabelung vereinfacht.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber was ist, wenn wir keine offenen Drain-AusgÃ¤nge haben?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie fragen sich vielleicht: Was sollen wir tun, wenn der ausgewÃ¤hlte Mikrocontroller noch keinen Betriebssystemmodus enthÃ¤lt? </font><font style="vertical-align: inherit;">Nun, wir haben bereits herausgefunden, welche Probleme auftreten kÃ¶nnen, und dass es keine gute Idee ist, die AusgÃ¤nge an den VCC zu ziehen (dh sie an das Netzteil anzuschlieÃŸen). </font><font style="vertical-align: inherit;">Es gibt viele MÃ¶glichkeiten, dieses Problem zu lÃ¶sen. </font><font style="vertical-align: inherit;">Darunter befinden sich nicht nur spezielle OS-Ausgabepuffer, sondern auch Schieberegister mit OS-AusgÃ¤ngen, um die Anzahl der beteiligten Abschnitte weiter zu minimieren. </font><font style="vertical-align: inherit;">Es gibt jedoch noch eine andere sehr beliebte Technik, die hÃ¤ufig beim Entwurf von Computertastaturen verwendet wird (tatsÃ¤chlich wurde sie frÃ¼her hÃ¤ufig verwendet).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem von Spalten, die mit Push-Pull-AusgÃ¤ngen verbunden sind, tritt in dem Moment auf, in dem zwei Tasten in derselben Zeile zusammen gedrÃ¼ckt werden. Wenn Sie gleichzeitig die Taste drÃ¼cken, wird die Spalte abgefragt, in der sich eine der Tasten befindet. </font></font><br>
<br>
<img src="https://habrastorage.org/files/46e/3a8/4b1/46e3a84b1b774e1097d07503e3911c65.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Problem der Push-Pull-AusgÃ¤nge</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Vom Ausgang, der auf "1" gezogen wird (und nicht im Hi-Z-Zustand hÃ¤ngt), beginnt ein Strom zu flieÃŸen. Es geht durch die nÃ¤chstgelegene geschlossene Taste, dann durch die geschlossene Taste in der abgefragten Spalte und flieÃŸt schlieÃŸlich direkt in den Ausgang, der auf â€0â€œ gesetzt ist. Dies kann zu allem fÃ¼hren - von der UnmÃ¶glichkeit, den Status der Tastatur zuverlÃ¤ssig zu lesen, bis zum Ausfall des Mikrocontrollers.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da wir jedoch gezwungen sind, dieses Problem irgendwie zu lÃ¶sen, kÃ¶nnen wir einen groÃŸartigen Trick anwenden: einen Push-Pull-Ausgang in eine Art Open-Drain-Ausgang verwandeln. Ich bin oft auf diese LÃ¶sung bei der Gestaltung alter Tastaturen gestoÃŸen. Da der Strom nur in die AusgÃ¤nge (die mit den SÃ¤ulen verbunden sind) flieÃŸen soll, aber niemals aus diesen herausflieÃŸen soll, kÃ¶nnen wir die Richtung des Stroms mithilfe von Dioden begrenzen. Eine Diode ist ein einfaches GerÃ¤t, mit dem Strom nur in eine Richtung flieÃŸen kann. Im Bild der Diode im Stromkreis symbolisiert das Dreieck den Pfeil, der diese Richtung anzeigt. Wenn wir zwischen jedem Ausgang des Mikrocontrollers und dem Leiter der entsprechenden MatrixsÃ¤ule eine Diode platzieren, erreichen wir unser Ziel - jetzt kann der Strom nur noch in die AusgÃ¤nge flieÃŸen, da diese Leiter jeden Knopf ihrer SÃ¤ule erreichen. Es stellt sich herausdass vom Ausgang, der auf "1" eingestellt ist, der Strom nirgendwo flieÃŸt, und dies macht ihn fast zu einem Open-Drain-Ausgang. NatÃ¼rlich erreicht er nicht das eigentliche Betriebssystem, aber es lÃ¶st unser Problem eines geschlossenen Stromkreises in der Tastaturmatrix. Kehren Sie zum vorletzten Bild der Matrix zurÃ¼ck, diesmal jedoch</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrachten Sie die grÃ¼nen Dioden, um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu verstehen, wie dieser Trick funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NatÃ¼rlich ist es sinnvoll, die Anzahl der Dioden zu minimieren. </font><font style="vertical-align: inherit;">Zu diesem Zweck kÃ¶nnen Sie die Anzahl der Spalten verringern, indem Sie die Anzahl der Zeilen erhÃ¶hen. </font><font style="vertical-align: inherit;">Und wenn das resultierende Ergebnis nicht gut in das tatsÃ¤chliche Layout der Tastatur passt, kÃ¶nnen Sie die Matrix um 90 Â° "drehen" (Zeilen mit Spalten tauschen). </font><font style="vertical-align: inherit;">Die MÃ¶glichkeiten sind endlos. </font><font style="vertical-align: inherit;">Heutzutage ist jedoch eine groÃŸe Anzahl von Mikrocontrollern erschienen, die einfach zu bedienen und fÃ¼r Hobbys geeignet sind. Daher wird die beschriebene Technik heutzutage in selbst entwickelten Tastaturprojekten praktisch nicht mehr verwendet. </font><font style="vertical-align: inherit;">Zum GlÃ¼ck.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phantomklicks (Ghosting)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie an Clavs interessiert sind, mÃ¼ssen Sie diesen Begriff bereits erfÃ¼llt haben. Leider wird es in der Welt der Tastaturen oft falsch interpretiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sind bereits mit der Situation vertraut, in der das gleichzeitige DrÃ¼cken mehrerer Tasten in derselben Zeile das normale Lesen der Matrix beeintrÃ¤chtigen kann. Und dieses Problem wurde von uns gelÃ¶st. Nun wollen wir sehen, was passiert, wenn Sie auf mehrere SchaltflÃ¤chen klicken, die sich gleichzeitig in derselben Zeile und in derselben Spalte befinden. </font></font><br>
<br>
<img src="https://habrastorage.org/files/c1c/830/afd/c1c830afdd614656a91cd6c3ba061cf5.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel fÃ¼r das DrÃ¼cken von Phantomen</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In der Abbildung werden drei Tasten gleichzeitig gedrÃ¼ckt. Zwei davon befinden sich in Spalte â€C2â€œ und zwei in Zeile â€Rmâ€œ. Dies bedeutet, dass eine der gedrÃ¼ckten Tasten die Zeile mit der anderen gedrÃ¼ckten Taste und die Spalte mit der gedrÃ¼ckten dritten Taste teilt. In dieser Situation tritt </font><i><font style="vertical-align: inherit;">Phantompressen</font></i><font style="vertical-align: inherit;"> auf</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Stellen Sie sich vor, wir fragen gerade die Spalte â€C1â€œ ab (dh sie wird auf den Boden gedrÃ¼ckt - sie befindet sich im Zustand â€0â€œ). Dieser charakteristische Akkord der gedrÃ¼ckten Tasten fÃ¼hrt zu Folgendem: Obwohl die obere linke Taste nicht gedrÃ¼ckt wird, befindet sich die Zeile â€R2â€œ im Zustand â€0â€œ, da sie durch die Spalte â€C1â€œ (in â€0â€œ) durchgedrÃ¼ckt wird drei Tasten gedrÃ¼ckt. Infolgedessen liest der Tastaturcontroller die obere linke Taste als â€gedrÃ¼cktâ€œ, unabhÃ¤ngig davon, ob sie tatsÃ¤chlich gedrÃ¼ckt wird oder nicht. Die beschriebene Situation wird als </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PhantomdrÃ¼cken</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ghosting</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) bezeichnet, da einige Kombinationen gleichzeitig gedrÃ¼ckter Tasten Phantomreaktionen anderer Tasten (Ghost-TastendrÃ¼cke) verursachen, obwohl diese anderen Tasten physikalisch nicht gedrÃ¼ckt werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NatÃ¼rlich gibt es MÃ¶glichkeiten, Schriftsetzer und Spieler vor Phantomantworten zu schÃ¼tzen, und diese Methoden werden hÃ¤ufig in modernen Computertastaturen verwendet. Sie kÃ¶nnen den Moment des Auftretens des Phantomdrucks erfassen und blockieren. Ein gewÃ¶hnlicher Mensch kann nicht gleichzeitig zwei Tasten mit perfekter Genauigkeit drÃ¼cken oder loslassen. Wenn wir die Matrix schnell genug scannen, kÃ¶nnen wir davon ausgehen, dass zwischen zwei DurchgÃ¤ngen durch die Matrix nicht mehr als eine SchaltflÃ¤che ihren Status Ã¤ndern kann. In diesem Fall akzeptiert die Steuerung einmaliges DrÃ¼cken und Ã¼berwacht das Auftreten von Situationen, in denen zwei oder mehr Tasten zwischen MatrixdurchlÃ¤ufen gedrÃ¼ckt werden. Angesichts der Tatsache, dass das Scannen der Matrix mit einer Geschwindigkeit erfolgt, mit der das regelmÃ¤ÃŸige Auftreten solcher Situationen Ã¤uÃŸerst unwahrscheinlich ist, kÃ¶nnen wir den Schluss ziehen, dass eine der gerade gedrÃ¼ckten Tasten ein Phantom ist.Daher muss der Controller alle diese Klicks ignorieren. DarÃ¼ber hinaus ist es sicherer, den Computer nicht sofort Ã¼ber Ã„nderungen des Tastaturstatus zu informieren. ZunÃ¤chst ist es sinnvoll zu warten, bis alle diese VorgÃ¤nge verschwunden sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt einen anderen Ansatz. Sie kÃ¶nnen die Situation identifizieren, in der die "dritte" Taste ausgelÃ¶st wird, und sowohl dieses DrÃ¼cken als auch alle nachfolgenden drÃ¼cken. Lassen Sie die Sperre erst los, wenn die Phantomreaktion verschwindet und sich die Situation wieder normalisiert. Um diesen Ansatz zu implementieren, muss sich das Programm merken, welche Tasten gerade gedrÃ¼ckt werden (und normalerweise auf diese Weise), um nachfolgende Tastenoperationen abzulehnen, in deren Zeilen und Spalten bereits gleichzeitige Klicks aufgezeichnet sind. Wenn Sie das Programm mit Bedacht schreiben, werden nur problematische Antworten blockiert und alle nachfolgenden werden wie gewohnt akzeptiert - mit Ausnahme derjenigen, die erneut gegen die Regeln verstoÃŸen. Sobald der Controller das DrÃ¼cken jeder Taste ablehnt, deren Zeile und Spalte bereits gleichzeitig ausgefÃ¼hrt werden, stellt sich heraus, dass abhÃ¤ngig vom Status einiger Tastenandere sind mÃ¶glicherweise Ã¼berhaupt nicht registriert. Diese Situation ist allgemein bekannt als</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blockieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blockieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Das heiÃŸt, Tasten, die die gleichzeitige Bedienung anderer Tasten verhindern, "blockieren" einen Teil der Tastatur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus Sicht des Benutzers ist es mÃ¶glich, alle Tasten aus einer Spalte gleichzeitig zu drÃ¼cken (ohne Tasten aus einer anderen zu drÃ¼cken), aber gleichzeitig nur alle Tasten aus einer Zeile zu drÃ¼cken, wenn jede der Tasten nicht mehr als eine Operation in der Spalte hat. Gleiches gilt fÃ¼r das DrÃ¼cken von Tasten aus einer einzelnen Spalte - zusÃ¤tzliche Trigger werden nur aufgezeichnet, wenn sich die Tasten in Zeilen befinden, die nicht belegt sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menschen verwechseln oft " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phantom-Triggering</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " und " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blocking-Triggering</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " (" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ghosting</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " und "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jamming</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "), was mir persÃ¶nlich ein RÃ¤tsel ist - meiner Meinung nach sind diese Begriffe recht intuitiv. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Tastaturen, die solche Matrizen verwenden, wie wir sie gerade untersucht haben, kÃ¶nnen weder Phantomantworten noch Blockierungen vermieden werden. </font><font style="vertical-align: inherit;">Da Phantomreaktionen in der tÃ¤glichen Arbeit nicht akzeptabel sind, wenden fast alle Hersteller von Gummikuppeltastaturen verschiedene Tricks an, um sie zu bekÃ¤mpfen, und das Blockieren kommt ins Spiel. </font><font style="vertical-align: inherit;">Frage: Wie kann man eine Matrix so zusammenstellen, dass Blockierungen so selten wie mÃ¶glich auftreten und nicht durch gÃ¤ngige Tastaturkombinationen verursacht werden? </font><font style="vertical-align: inherit;">In der Tat ist dies ein gutes Thema fÃ¼r das ganze Buch; </font><font style="vertical-align: inherit;">Deshalb sind Matrizen von Tastaturen fÃ¼r KonsumgÃ¼ter so verwirrend und blockieren immer gute Laune (wie ein Wortspiel).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dioden fÃ¼r alle Tasten - eine zentrale LÃ¶sung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich das Bild Ã¼ber Phantomklicks noch einmal ansehen, kÃ¶nnen Sie feststellen, dass die SchaltflÃ¤che unten rechts schuld ist. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Knopf ist jedoch der einzige, durch den der Strom in dieser Situation "nach oben" flieÃŸt. Wenn wir also nicht mÃ¶chten, dass die aktuellen AufwÃ¤rtsstrÃ¶me uns daran hindern, die Matrix normal zu lesen, fÃ¼hren wir Dioden ein, damit der Strom streng von oben nach unten durch die Spalten flieÃŸen und in die AusgÃ¤nge des Mikrocontrollers flieÃŸen kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider ist hier kein Speichern mÃ¶glich - Sie mÃ¼ssen an jeder Taste eine Diode anbringen. Wenn wir Ã¼ber PolaritÃ¤t sprechen, sollten Sie herausgefunden haben, dass in diesem speziellen Fall die Dioden Strom â€von oben nach untenâ€œ leiten mÃ¼ssen, dh ihre Kathoden (â€Pfeilspitzenâ€œ) mÃ¼ssen auf die AusgÃ¤nge des Mikrocontrollers (Spalten) schauen, wÃ¤hrend die Anoden sollten an die EingÃ¤nge (Leitungen) adressiert werden. </font></font><br>
<br>
<img src="https://habrastorage.org/files/5b6/8bf/f0f/5b68bff0fcf043eaac33246af5320dd1.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassungsmatrix</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es spielt keine Rolle, auf welcher Seite der Taste sich die Diode befindet. Die Hauptsache ist, die richtige PolaritÃ¤t zu beachten. Denken Sie daran, dass in diesem Fall der Strom immer von den EingÃ¤ngen zu den AusgÃ¤ngen flieÃŸt. Ãœbrigens, wenn die EingÃ¤nge an die Stromversorgung gezogen werden und sich die AusgÃ¤nge im Betriebssystemmodus befinden, geschieht dies immer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei diesem Ansatz stellt sich heraus, dass der Strom immer â€direkt nach untenâ€œ flieÃŸt, und dies verhindert das Auftreten geschlossener Stromschleifen, wenn mehrere Tasten gleichzeitig gedrÃ¼ckt werden. </font><font style="vertical-align: inherit;">DarÃ¼ber hinaus ist dieses Design das einzige, das die Tastatur mit vollem NKRO ausstatten kann. </font><font style="vertical-align: inherit;">DarÃ¼ber hinaus ist zu erwÃ¤hnen (obwohl dies offensichtlich erscheint), dass das Problem, dass die Mikrocontroller-AusgÃ¤nge keinen Betriebssystemmodus haben, jetzt automatisch gelÃ¶st wird. </font><font style="vertical-align: inherit;">Die Dioden, die nacheinander mit jeder Taste installiert werden, speichern die AusgÃ¤nge der Schaltung nicht schlechter als die zuvor in Betracht gezogene Option, bei der zusÃ¤tzlich eine Diode auf jede Spalte gesetzt werden sollte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rollover</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, ich weiÃŸ, dass der Text bereits zu lang ist. </font><font style="vertical-align: inherit;">Aber ich fÃ¼ge noch dieses letzte Kapitel hinzu, weil der Artikel meiner Meinung nach ohne es unvollstÃ¤ndig wÃ¤re. </font><font style="vertical-align: inherit;">Rollover ist also die FÃ¤higkeit der Tastatur, mehrere Tippen gleichzeitig auszufÃ¼hren.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xKRO</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KRO ist </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Key - </font><font style="vertical-align: inherit;">Rollover</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SchlÃ¼ssel ein Rollover</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), und in der Regel diese AbkÃ¼rzung wird durch eine Zahl zu. Zum Beispiel bedeutet 2KRO einen Zwei-Tasten-Rollover. Die Tastatur verfÃ¼gt Ã¼ber </font><font style="vertical-align: inherit;">die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -klavishnym Roll , </font><font style="vertical-align: inherit;">wenn und nur wenn es in </font><font style="vertical-align: inherit;">der Lage ist zu registrieren </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tasten gleichzeitig zu </font><font style="vertical-align: inherit;">drÃ¼cken, und - egal welche Tasten und in welcher Reihenfolge verwendet wurden. Die meisten modernen Gummikuppeltastaturen haben 2KRO. Daraus folgt jedoch nicht, dass die zulÃ¤ssige Anzahl von TastenanschlÃ¤gen auf diesen Tastaturen immer auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x begrenzt ist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . TatsÃ¤chlich bedeutet dies, dass die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Click- </font><font style="vertical-align: inherit;">UnterstÃ¼tzung </font><font style="vertical-align: inherit;">genau garantiert ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je nach Design der Matrix und Art des Controllers kÃ¶nnen sich zwei 2KRO-Tastaturen verschiedener Hersteller sehr unterschiedlich verhalten. </font><font style="vertical-align: inherit;">Man kann immer nur zwei gleichzeitige Klicks akzeptieren, und der andere kann leicht noch mehr verdauen. </font><font style="vertical-align: inherit;">Es scheint, dass die letzte Tastatur von 2KRO angekÃ¼ndigt wurde, da einige Tastenkombinationen (hÃ¶chstwahrscheinlich unwahrscheinlich) immer noch dazu fÃ¼hren, dass das DrÃ¼cken anderer Tasten blockiert wird. </font><font style="vertical-align: inherit;">Und da dies bedeutet, dass bei der Arbeit mit dieser Tastatur bestimmte Kombinationen von drei und mehr Tasten nicht funktionieren, hat das Unternehmen 2KRO angekÃ¼ndigt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nkro</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Begriff NKRO bedeutet </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N-Tasten-Rollover</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und bezeichnet Tastaturen, die trotz allem jede Kombination gleichzeitig gedrÃ¼ckter Tasten unterstÃ¼tzen. </font><font style="vertical-align: inherit;">Beachten Sie jedoch, dass NKRO-Matrizen und NKRO-Tastaturen zwei groÃŸe Unterschiede darstellen. </font><font style="vertical-align: inherit;">Wenn beispielsweise die endgÃ¼ltige Implementierung der Matrix, die wir im Artikel untersucht haben, NKRO unterstÃ¼tzt (unter BerÃ¼cksichtigung der korrekt geschriebenen Firmware), folgt daraus keineswegs, dass die Tastatur, die diese Matrix verwendet, auch NKRO unterstÃ¼tzt. </font><font style="vertical-align: inherit;">Dies kann auf EinschrÃ¤nkungen zurÃ¼ckzufÃ¼hren sein, die durch die KommunikationsanschlÃ¼sse auferlegt werden, an die die Tastatur angeschlossen ist. </font><font style="vertical-align: inherit;">Ein weiterer Grund kÃ¶nnte die GenÃ¼gsamkeit der Hersteller sein, die immer hier und da sparen. </font><font style="vertical-align: inherit;">Ich werde versuchen, das Problem von NKRO beim AnschlieÃŸen an PS / 2 und USB in den folgenden Abschnitten zu erklÃ¤ren.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NatÃ¼rlich kam das Blatt ziemlich gut heraus, aber das Konzept ist nicht so einfach - besonders fÃ¼r den Leser, der kein Elektronikingenieur ist. </font><font style="vertical-align: inherit;">Ich hoffe, ich habe es geschafft, alles zu erklÃ¤ren; </font><font style="vertical-align: inherit;">Wie dem auch sei, ich habe versucht, so klar wie mÃ¶glich zu schreiben. </font><font style="vertical-align: inherit;">Daher scheint der Artikel fÃ¼r einige von Ihnen ziemlich langweilig zu sein. </font><font style="vertical-align: inherit;">Wenn Sie sich mit Elektronik beschÃ¤ftigen, sollten Sie sie hÃ¶chstwahrscheinlich gar nicht gelesen haben;) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lassen Sie mich auf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jeden Fall </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">wissen,</font></a><font style="vertical-align: inherit;"> ob sich der Artikel fÃ¼r Sie als nÃ¼tzlich erwiesen hat und ob es sich lohnt, eine Fortsetzung zu schreiben. </font><font style="vertical-align: inherit;">Wenn ja, dann setze ich mich fÃ¼r die nÃ¤chste "Serie". </font></font><br>
<br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MichaÅ‚ Trybus </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. September 2013</font></font></sub></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de394585/">https://habr.com/ru/post/de394585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de394573/index.html">Das erste 3D-gedruckte BÃ¼ro wird in Dubai erÃ¶ffnet</a></li>
<li><a href="../de394575/index.html">Das Itseez-Team arbeitet wieder bei Intel</a></li>
<li><a href="../de394577/index.html">Kronos-Projekt und ein wenig bekanntes russisches Team vom Nowosibirsker akademischen Campus Kronos Research Group (KRG)</a></li>
<li><a href="../de394579/index.html">Bionische HÃ¤nde: Geschichte, Zukunft und RealitÃ¤t</a></li>
<li><a href="../de394583/index.html">Wie wir Energieeinsparungen bei der Beleuchtung erzielt und mit einem Belichtungsmesser mehr Energie erzeugt haben</a></li>
<li><a href="../de394589/index.html">Crowdfunding fÃ¼r die Kleinsten (Teil 1)</a></li>
<li><a href="../de394591/index.html">Kurzanleitung zur fragmentbasierten Navigation</a></li>
<li><a href="../de394595/index.html">Wie Astronauten auf dem ISS BEAM-Modul aufblÃ¤hten: Zeitraffervideo</a></li>
<li><a href="../de394599/index.html">Stabile Version von Krita 3.0 mit AnimationsunterstÃ¼tzung</a></li>
<li><a href="../de394601/index.html">Hyperloop-ZÃ¼ge produzieren Vibranium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>