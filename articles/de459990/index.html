<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÇ üö∂üèº üà≤ Immersion in Move - Facebooks Programmiersprache Libra Blockchain üë©üèª‚Äçüéì üë∞üèæ üì∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Als n√§chstes werden wir die Hauptmerkmale der Move-Sprache und ihre Hauptunterschiede zu einer anderen, bereits beliebten Sprache f√ºr intelligente Ver...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Immersion in Move - Facebooks Programmiersprache Libra Blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459990/"> Als n√§chstes werden wir die Hauptmerkmale der Move-Sprache und ihre Hauptunterschiede zu einer anderen, bereits beliebten Sprache f√ºr intelligente Vertr√§ge - Solidity (auf der Ethereum-Plattform) - im Detail untersuchen.  Das Material basiert auf einer Studie eines verf√ºgbaren 26-seitigen Online-Whitepapers. <br><br><h3>  Einf√ºhrung </h3><br>  Move ist eine ausf√ºhrbare Bytecode-Sprache, mit der Benutzertransaktionen und intelligente Vertr√§ge ausgef√ºhrt werden.  Beachten Sie zwei Punkte: <br><br><ol><li>  W√§hrend Move eine Bytecode-Sprache ist, die direkt auf der virtuellen Maschine von Move ausgef√ºhrt werden kann, ist Solidity (intelligente Vertragssprache in Ethereum) eine √ºbergeordnete Sprache, die zuerst in Bytecode kompiliert wird, bevor sie in EVM (Ethereum Virtual Machine) ausgef√ºhrt wird ) </li><li>  Move kann nicht nur f√ºr die Implementierung intelligenter Vertr√§ge verwendet werden, sondern auch f√ºr Benutzertransaktionen (dazu sp√§ter mehr), w√§hrend Solidity eine Sprache nur f√ºr intelligente Vertr√§ge ist. </li></ol><a name="habracut"></a><br>  <i>√úbersetzung durch das INDEX Protocol-Projektteam.</i>  <i>Wir haben zuvor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">viel Material √ºbersetzt, das das Libra-Projekt beschreibt</a> . Jetzt ist es an der Zeit, die Move-Sprache etwas genauer zu betrachten.</i>  <i>Die √úbersetzung wurde in Verbindung mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">coolsiu gemacht</a></i> <br><br>  Ein wichtiges Merkmal von Move ist die M√∂glichkeit, benutzerdefinierte Ressourcentypen mit linearer Logiksemantik zu definieren: Eine Ressource kann niemals kopiert oder implizit gel√∂scht, sondern nur verschoben werden.  Funktionell √§hnelt dies den Funktionen der Rust-Sprache.  Werte in Rust k√∂nnen jeweils nur einem Namen zugewiesen werden.  Wenn Sie einem anderen Namen einen Wert zuweisen, kann er unter dem vorherigen Namen nicht mehr aufgerufen werden. <br><br><img src="https://habrastorage.org/webt/np/px/97/nppx97owkfkamua9ccpc1aovkrg.png"><br><br>  Das folgende Codefragment gibt beispielsweise einen Fehler aus: <i>Verwendung des verschobenen Werts 'x'.</i>  Dies liegt daran, dass es in Rust keine Speicherbereinigung gibt.  Wenn Variablen den G√ºltigkeitsbereich verlassen, wird auch der Speicher freigegeben, auf den sie sich beziehen.  Einfach ausgedr√ºckt kann es nur einen ‚ÄûEigent√ºmer‚Äú von Daten geben.  In diesem Beispiel ist <i>x</i> der urspr√ºngliche Eigent√ºmer und <i>y</i> wird der neue Eigent√ºmer.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lesen Sie hier mehr √ºber dieses Verhalten</a> . <br><br><h3>  Darstellung digitaler Assets in offenen Systemen </h3><br>  Es gibt zwei Eigenschaften von physischen Verm√∂genswerten, die digital schwer darzustellen sind: <br><br><ul><li>  <b>Seltenheit</b> (Knappheit im Original - Knappheit).  Die H√∂he der Verm√∂genswerte (Ausgabe) im System sollte kontrolliert werden.  Das Duplizieren vorhandener Assets muss verboten werden, und das Erstellen neuer Assets ist eine privilegierte Operation. </li><li>  <b>Zugangskontrolle</b> .  Der Systemteilnehmer muss in der Lage sein, Assets mit Zugriffssteuerungsrichtlinien zu sch√ºtzen. </li></ul><br>  Diese beiden Merkmale, die f√ºr physische Assets nat√ºrlich sind, m√ºssen f√ºr digitale Objekte implementiert werden, wenn wir sie als Assets betrachten m√∂chten.  Zum Beispiel ein seltenes Metall - hat ein nat√ºrliches Defizit, und nur Sie haben Zugriff darauf (zum Beispiel in Ihren H√§nden) und k√∂nnen es verkaufen oder ausgeben. <br><br>  Um zu veranschaulichen, wie wir zu diesen beiden Eigenschaften gekommen sind, beginnen wir mit den folgenden S√§tzen: <br><br><h4>  Satz 1: Die einfachste Regel ohne Knappheit und Zugangskontrolle </h4><br><img src="https://habrastorage.org/webt/it/ar/vy/itarvy-z1ns775gm4oxu2isimxe.png"><br><br><ul><li>  <i>G [K]: = n</i> bedeutet, dass die Nummer, auf die der Schl√ºssel <i>K</i> im globalen Zustand der Blockchain zugreift, mit dem neuen Wert <i>n</i> aktualisiert wird. </li><li>  <i>Transaktion "Alice, 100"</i> bedeutet, den Kontostand von Alice auf 100 zu setzen. </li></ul><br>  Die obige L√∂sung weist mehrere schwerwiegende Probleme auf: <br><br><ul><li>  Alice kann eine unbegrenzte Anzahl von M√ºnzen erhalten, indem sie einfach die <i>Transaktion "Alice, 100" sendet.</i> </li><li>  Die M√ºnzen, die Alice an Bob sendet, sind nutzlos, da Bob sich mit derselben Technik eine unbegrenzte Anzahl von M√ºnzen senden k√∂nnte. </li></ul><br><h4>  Vorschlag Nr. 2: Wir ber√ºcksichtigen das Defizit </h4><br><img src="https://habrastorage.org/webt/_1/s4/08/_1s408pxxtmawws6dw_vddgzr-m.png"><br><br>  Jetzt √ºberwachen wir die Situation so, dass die Anzahl der <i>Ka-</i> M√ºnzen vor der √úberweisungstransaktion mindestens <i>n</i> betr√§gt.  Obwohl dies das Mangelproblem l√∂st, gibt es keine Informationen dar√ºber, wer Alices M√ºnzen senden kann (bisher kann dies jeder, die Hauptsache ist, nicht gegen die Regel der Mengenbeschr√§nkungen zu versto√üen). <br><br><h4>  Proposition 3: Kombination von Defizit und Zugangskontrolle </h4><br><img src="https://habrastorage.org/webt/yi/so/hh/yisohh7xhtgmzt8aparwsxdccfc.png"><br><br>  Wir l√∂sen dieses Problem mit dem digitalen Signaturmechanismus <i>verify_sig,</i> bevor wir den <i>Kontostand</i> √ºberpr√ºfen. <i>Dies</i> bedeutet, dass Alice ihren privaten Schl√ºssel verwendet, um die Transaktion zu signieren und zu best√§tigen, dass sie ihre M√ºnzen besitzt. <br><br><h3>  Blockchain-Programmiersprachen </h3><br>  Bestehende Blockchain-Sprachen haben die folgenden Probleme (alle wurden in Move gel√∂st (Hinweis: <i>Leider spricht der Autor des Artikels in seinen Vergleichen nur Ethereum an, daher sollten Sie sie nur in diesem Zusammenhang verwenden. Die meisten</i> der folgenden Probleme werden <i>beispielsweise auch in EOS gel√∂st</i> )): <br><br>  <b>Indirekte Darstellung von Verm√∂genswerten</b> .  Ein Asset wird mit einer Ganzzahl codiert, ein ganzzahliger Wert ist jedoch nicht mit einem Asset identisch.  Tats√§chlich gibt es keinen Typ oder Wert, der Bitcoin / Ether / &lt;Any Coin&gt; darstellt!  Dies macht das Schreiben von Programmen, die Assets verwenden, schwierig und fehleranf√§llig.  Muster wie das √úbertragen von Assets zu / von Prozeduren oder das Speichern von Assets in Strukturen erfordern eine spezielle Sprachunterst√ºtzung. <br><br>  <b>Das Defizit ist nicht erweiterbar</b> .  Die Sprache ist nur ein knappes Gut.  Dar√ºber hinaus sind Abhilfema√ünahmen gegen Defizite direkt in die Semantik der Sprache selbst eingebunden.  Wenn ein Entwickler ein Benutzer-Asset erstellen m√∂chte, muss er alle Aspekte der Ressource selbst sorgf√§ltig √ºberwachen.  Dies sind nur die Probleme von intelligenten Vertr√§gen von Ethereum. <br><br>  Benutzer stellen ihre Assets, ERC-20-Standardtoken, aus, wobei sie Ganzzahlen verwenden, um sowohl die Kosten als auch die Gesamtausgabe zu bestimmen.  Immer wenn neue Token erstellt werden, muss der Smart Contract Code die Einhaltung der Emissionsregeln unabh√§ngig √ºberpr√ºfen.  Dar√ºber hinaus f√ºhrt die indirekte Darstellung von Verm√∂genswerten in einigen F√§llen zu schwerwiegenden Fehlern - Doppelarbeit, doppelte Ausgaben oder sogar ein vollst√§ndiger Verlust von Verm√∂genswerten. <br><br>  <b>Fehlende flexible Zugangskontrolle</b> .  Die einzige derzeit verwendete Zugriffssteuerungsrichtlinie ist ein Signaturschema mit asymmetrischer Kryptografie.  Wie der Defizitschutz sind auch die Richtlinien zur Zugriffskontrolle tief in die Semantik der Sprache eingebettet.  Das Erweitern der Sprache, damit Programmierer ihre eigenen Zugriffssteuerungsrichtlinien definieren k√∂nnen, ist jedoch h√§ufig keine sehr triviale Aufgabe. <br><br>  Dies gilt auch f√ºr Ethereum, wo intelligente Vertr√§ge keine native Kryptografieunterst√ºtzung f√ºr die Zugriffskontrolle bieten.  Entwickler m√ºssen die Zugriffssteuerung manuell vorschreiben, z. B. mithilfe des Modifikators onlyOwner. <br><br>  Obwohl ich ein gro√üer Fan von Ethereum bin, glaube ich, dass Asset-Eigenschaften aus Sicherheitsgr√ºnden von der Sprache nativ unterst√ºtzt werden sollten.  Insbesondere die √úbertragung von Ether auf einen intelligenten Vertrag beinhaltet ein dynamisches Dispatching, was zur Entstehung einer neuen Klasse von Fehlern gef√ºhrt hat, die als Schwachstellen beim Wiedereintritt bekannt sind.  Dynamisches Dispatching bedeutet hier, dass die Logik der Codeausf√ºhrung zur Laufzeit (dynamisch) und nicht zur Kompilierungszeit (statisch) festgelegt wird. <br><br>  Wenn also in Solidity Vertrag A die Funktion von Vertrag B aufruft, kann Vertrag B Code ausf√ºhren, der nicht vom Entwickler von Vertrag A bereitgestellt wurde, was zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sicherheitsl√ºcken</a> beim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wiedereintritt</a> f√ºhren kann (Vertrag A f√ºhrt versehentlich die Funktion von Vertrag B aus, um Geld vor dem tats√§chlichen Abzug abzuheben Kontensalden). <br><br><h3>  Grundlagen des Sprachdesigns verschieben </h3><br><h4>  Ressourcen erster Ordnung </h4><br>  Auf einer h√∂heren Ebene ist die Interaktion zwischen Modulen / Ressourcen / Prozeduren in der Move-Sprache den Beziehungen zwischen Klassen / Objekten und Methoden in OOP-Sprachen sehr √§hnlich. <br>  Module in Move √§hneln intelligenten Vertr√§gen in anderen Blockchains.  Das Modul deklariert Ressourcentypen und -prozeduren, die die Regeln f√ºr das Erstellen, Zerst√∂ren und Aktualisieren deklarierter Ressourcen festlegen.  Aber all dies sind nur Konventionen (‚Äû <i>Jargon</i> ‚Äú) in Move.  Wenig sp√§ter werden wir diesen Punkt veranschaulichen. <br><br><h4>  Flexibilit√§t </h4><br>  Move erh√∂ht die Flexibilit√§t der Waage durch Skripterstellung.  Jede Transaktion in Libra enth√§lt ein Skript, das eigentlich das Haupttransaktionsverfahren ist.  Das Skript kann entweder eine bestimmte Aktion ausf√ºhren, z. B. Zahlungen gem√§√ü der angegebenen Empf√§ngerliste, oder andere Ressourcen wiederverwenden, indem beispielsweise eine Prozedur aufgerufen wird, in der die allgemeine Logik angegeben ist.  Aus diesem Grund bieten Move-Transaktionsskripte mehr Flexibilit√§t.  Das Skript kann sowohl einmaliges als auch sich wiederholendes Verhalten verwenden, w√§hrend Ethereum nur sich wiederholende Skripte ausf√ºhren kann (Aufrufen einer Smart Contract-Methode durch Aufrufen einer Methode).  Der Grund, warum es als "mehrfach" bezeichnet wird, ist, dass die Funktionen eines intelligenten Vertrags mehrfach ausgef√ºhrt werden k√∂nnen.  (Hinweis: <i>Der Moment ist hier sehr heikel. Einerseits sind Transaktionsskripte in Form von Pseudo-Bytecode auch in Bitcoin. Andererseits erweitert Move diese Sprache meines Wissens tats√§chlich auf das Niveau einer vollwertigen intelligenten Vertragssprache.</i> ) <br><br><h4>  Sicherheit </h4><br>  Das ausf√ºhrbare Format von Move ist Bytecode, der einerseits eine Sprache mit einer h√∂heren Ebene als Assembler, aber einer niedrigeren Ebene als der Quellcode ist.  Der Bytecode wird in der Kette mithilfe des Bytecode-Verifizierers auf Verf√ºgbarkeit von Ressourcen, Typen und Speichersicherheit √ºberpr√ºft und dann vom Interpreter ausgef√ºhrt.  Dieser Ansatz erm√∂glicht es Move, Sicherheit f√ºr den Quellcode bereitzustellen, jedoch ohne den Kompilierungsprozess und die Notwendigkeit, dem System einen Compiler hinzuzuf√ºgen.  Move zu einer Bytecode-Sprache zu machen, ist eine wirklich gute L√∂sung.  Es ist nicht erforderlich, es aus der Quelle zu kompilieren, wie dies bei Solidity der Fall ist, und Sie m√ºssen sich keine Gedanken √ºber m√∂gliche Abst√ºrze oder Angriffe auf die Compiler-Infrastruktur machen. <br><br><h4>  √úberpr√ºfbarkeit </h4><br>  Wir sind bestrebt, so einfache √úberpr√ºfungen wie m√∂glich durchzuf√ºhren, da dies alles in der Kette erfolgt (Hinweis: <i>Online, bei jeder Transaktion f√ºhrt jede Verz√∂gerung zu einer Verlangsamung des gesamten Netzwerks</i> ). Das Sprachdesign ist jedoch zun√§chst einsatzbereit und Off-Chain-Mittel zur statischen √úberpr√ºfung.  Obwohl dies vorzuziehen ist, wurde die Entwicklung von Verifizierungswerkzeugen (als separates Toolkit) bisher auf die Zukunft verschoben, und jetzt wird nur die dynamische Verifizierung in der Kette unterst√ºtzt. <br><br><h4>  Modularit√§t </h4><br>  Verschiebemodule bieten Datenabstraktion und lokalisieren kritische Vorg√§nge an Ressourcen.  Die vom Modul bereitgestellte Kapselung in Kombination mit dem vom Move-Typsystem bereitgestellten Schutz stellt sicher, dass die f√ºr die Modultypen festgelegten Eigenschaften nicht durch Code au√üerhalb des Moduls verletzt werden k√∂nnen.  Dies ist ein durchdachtes Design der Abstraktion, dh die Daten innerhalb des Vertrags k√∂nnen nur im Rahmen der Vertragsausf√ºhrung ge√§ndert werden, nicht jedoch von au√üen. <br><br><img src="https://habrastorage.org/webt/rm/co/qe/rmcoqelz3bad4ltayox-u9rpxq0.png"><br><br><h3>  Bewertung verschieben </h3><br>  Ein Beispiel f√ºr ein Transaktionsskript zeigt, dass b√∂swillige oder r√ºcksichtslose Aktionen eines Programmierers au√üerhalb eines Moduls die Sicherheit von Modulressourcen nicht verletzen k√∂nnen.  Als n√§chstes sehen wir uns Beispiele an, wie Module, Ressourcen und Prozeduren zum Programmieren der Libra-Blockchain verwendet werden. <br><br><h4>  Peer-to-Peer-Zahlungen </h4><br><img src="https://habrastorage.org/webt/1a/hr/hh/1ahrhhw3rd4ky7jpfsvzxeohi0e.png"><br><br>  Der im Betrag angegebene M√ºnzbetrag wird vom Guthaben des Absenders an den Empf√§nger √ºberwiesen. <br>  Es gibt mehrere neue Punkte (rot hervorgehoben): <br><br><ul><li>  <b>0x0</b> : Adresse des Kontos, in dem das Modul gespeichert ist </li><li>  <b>W√§hrung</b> : Modulname </li><li>  <b>M√ºnze</b> : Ressourcentyp </li><li>  Der von der Prozedur zur√ºckgegebene M√ºnzwert ist ein Ressourcenwert mit dem Typ 0x0.Currency.Coin </li><li>  <b>move ()</b> : Wert kann nicht mehr verwendet werden </li><li>  <b>copy ()</b> : Wert kann sp√§ter verwendet werden </li></ul><br>  Wir analysieren den Code: Im ersten Schritt ruft der Absender eine Prozedur namens <i>draw_from_sender</i> aus dem in <i>0x0.Currency</i> gespeicherten Modul auf.  In der zweiten Phase √ºberweist der Absender das Geld an den Empf√§nger und verschiebt den Wert der <i>M√ºnzressource</i> in das Einzahlungsverfahren des Moduls <i>0x0</i> . <i>W√§hrung</i> . <br><br>  Hier sind drei Beispiele f√ºr Codefehler, die durch √úberpr√ºfungen zur√ºckgewiesen werden: <br>  <b>Duplizieren von Geldern durch √Ñndern des Aufrufs zum <i>Verschieben (M√ºnze)</i> zum <i>Kopieren (M√ºnze)</i></b> .  Ressourcen k√∂nnen nur verschoben werden.  Der Versuch, die Menge einer Ressource zu duplizieren (z. B. durch Aufrufen von <i>copy (coin)</i> im obigen Beispiel), f√ºhrt zu einem Fehler beim √úberpr√ºfen des Bytecodes. <br><br>  <b>Wiederverwendung von Geldern durch zweimalige Angabe von <i>Bewegung (M√ºnze)</i></b> .  Durch Hinzuf√ºgen der Zeile <i>0x0.Currency.deposit (copy (some_other_payee), move (coin))</i> f√ºr das obige Beispiel kann der Absender zweimal M√ºnzen "ausgeben" - das erste Mal mit dem Zahlungsempf√§nger und das zweite Mal mit <i>some_other_payee</i> .  Dies ist ein unerw√ºnschtes Verhalten, das mit einem physischen Verm√∂genswert unm√∂glich ist.  Gl√ºcklicherweise wird Move dieses Programm ablehnen. <br><br>  <b>Geldverlust durch <i>Bewegungsfehler (M√ºnze)</i></b> .  Wenn Sie die Ressource nicht verschieben (z. B. durch L√∂schen der Zeile mit dem <i>Verschieben (M√ºnze)</i> ), wird durch √úberpr√ºfen des Bytecodes ein Fehler generiert.  Dies sch√ºtzt Move-Programmierer vor versehentlichem oder b√∂swilligem Geldverlust. <br><br><h3>  W√§hrungsmodul </h3><br><img src="https://habrastorage.org/webt/p1/gx/rh/p1gxrhzyyl4cmlmlq5rcr4yhzmc.png"><br><br>  Jedes Konto kann 0 oder mehr Module (als Rechtecke dargestellt) und einen oder mehrere Ressourcenwerte (als Zylinder dargestellt) enthalten.  Ein Konto bei <i>0x0</i> enth√§lt beispielsweise ein <i>0x0.Currency-</i> Modul und einen Ressourcenwert vom Typ <i>0x0.Currency.Coin</i> .  Das Konto bei <i>0x1</i> verf√ºgt √ºber zwei Ressourcen und ein Modul.  Das Konto bei <i>0x2</i> hat zwei Module und einen Ressourcenwert. <br><br>  Einige Punkte: <br><br><ul><li>  Das Transaktionsskript ist atomar - entweder vollst√§ndig oder gar nicht ausgef√ºhrt. </li><li>  Ein Modul ist ein langlebiger Code, der weltweit verf√ºgbar ist. </li><li>  Der globale Status ist als Hash-Tabelle strukturiert, wobei der Schl√ºssel die Kontoadresse ist </li><li>  Konten d√ºrfen nicht mehr als einen Ressourcenwert dieses Typs und nicht mehr als ein Modul mit einem bestimmten Namen enthalten (ein Konto bei <i>0x0</i> kann keine zus√§tzliche Ressource <i>0x0</i> enthalten. <i>Currency.Coin</i> oder ein anderes Modul namens <i>Currency</i> ) </li><li>  Die Adresse des deklarierten Moduls ist Teil des Typs ( <i>0x0.Currency.Coin</i> und <i>0x1.Currency.Coin</i> sind separate Typen, die nicht austauschbar verwendet werden k√∂nnen). </li><li>  Programmierer k√∂nnen mehrere Instanzen dieses Ressourcentyps im Konto speichern, indem sie ihre benutzerdefinierte Ressource definieren - ( <i>Ressource TwoCoins {c1: 0x0.Currency.Coin, c2: 0x0.Currency.Coin}</i> ) </li><li>  Sie k√∂nnen eine Ressource ohne Konflikte anhand ihres Namens <i>referenzieren</i> . Sie k√∂nnen beispielsweise mit <i>TwoCoins.c1</i> und <i>TwoCoins.c2</i> auf zwei Ressourcen <i>verweisen</i> . </li></ul><br><h4>  Coin Resource Ad </h4><br><img src="https://habrastorage.org/webt/az/79/8o/az798o2jkg9ft5tkiisy5fitk2o.png"><br>  Ein Modul namens <i>W√§hrung</i> und ein Ressourcentyp namens <i>M√ºnze</i> <br><br>  Einige Punkte: <br><br><ul><li>  <i>Coin</i> ist eine Einzelfeldstruktur vom Typ <i>u64</i> (64-Bit-Ganzzahl ohne Vorzeichen) </li><li>  Nur Prozeduren des <i>W√§hrungsmoduls k√∂nnen</i> M√ºnzwerte erstellen oder zerst√∂ren. </li><li>  Andere Module und Skripte k√∂nnen das Wertefeld nur durch offene Prozeduren schreiben oder referenzieren, die vom Modul bereitgestellt werden. </li></ul><br><h4>  Implementierung der Einzahlung </h4><br><img src="https://habrastorage.org/webt/52/uj/nw/52ujnwxqzafegglfjqrsckqwy50.png"><br><br>  Bei diesem Verfahren wird die <i>M√ºnzressource</i> als Eingabe verwendet und mit der im Konto des Empf√§ngers gespeicherten M√ºnzressource kombiniert: <br><br><ol><li>  Zerst√∂ren Sie die M√ºnzeingaberessource und zeichnen Sie ihren Wert auf. </li><li>  Abrufen eines Links zu einer eindeutigen M√ºnzressource, die im Konto des Empf√§ngers gespeichert ist. </li><li>  √Ñndern des Werts des M√ºnzbetrags um den Wert, der beim Aufruf der Prozedur im Parameter √ºbergeben wird. </li></ol><br>  Einige Punkte: <br><br><ul><li>  <i>Auspacken, BorrowGlobal</i> - integrierte Verfahren </li><li>  <i>Das Entpacken von &lt;T&gt;</i> ist die einzige M√∂glichkeit, eine Ressource vom Typ T zu l√∂schen. Die Prozedur f√ºhrt die Ressource zur Eingabe, zerst√∂rt sie und gibt den Wert zur√ºck, der den Feldern der Ressource zugeordnet ist. </li><li>  <i>BorrowGlobal &lt;T&gt;</i> akzeptiert die Adresse als Eingabe und gibt einen Link zu einer eindeutigen Instanz von T zur√ºck, die von dieser Adresse ver√∂ffentlicht wurde (deren Eigent√ºmer sie ist) </li><li>  <i>&amp; mut Coin</i> ist ein Link zur <i>Coin-</i> Ressource </li></ul><br><h4>  Implementieren Sie draw_from_sender </h4><br><img src="https://habrastorage.org/webt/af/6s/h_/af6sh_tc_6jpvlwzgka0by5cnjo.png"><br><br>  Dieses Verfahren: <br><br><ol><li>  Ruft einen Link zu einer eindeutigen <i>M√ºnzressource ab</i> , die mit dem Konto des Absenders verkn√ºpft ist </li><li>  Verringert den Wert der <i>M√ºnzressource</i> um den angegebenen Betrag </li><li>  Erstellt eine neue <i>M√ºnzressource</i> mit einem aktualisierten Kontostand und gibt sie zur√ºck. </li></ol><br>  Einige Punkte: <br><br><ul><li>  <i>Die Einzahlung</i> kann von jedem angerufen werden, aber <i>draw_from_sender</i> hat nur Zugriff auf die M√ºnzen des aufrufenden Kontos </li><li>  <i>GetTxnSenderAddress</i> √§hnelt <i>msg.sender</i> in Solidity </li><li>  <i>RejectUnless</i> ist √§hnlich wie in Solidity <i>erforderlich</i> .  Wenn diese Pr√ºfung fehlschl√§gt, wird die Transaktion gestoppt und alle √Ñnderungen werden zur√ºckgesetzt. </li><li>  <i>Pack &lt;T&gt;</i> ist auch eine integrierte Prozedur, die eine neue Ressource vom Typ T erstellt. </li><li>  Wie <i>&lt;T&gt; entpacken</i> kann <i>Pack &lt;T&gt;</i> nur innerhalb des Moduls aufgerufen werden, in dem die Ressource <i>T</i> beschrieben ist </li></ul><br><h3>  Fazit </h3><br>  Wir haben die Hauptmerkmale der Move-Sprache untersucht, sie mit Ethereum verglichen und uns auch mit der grundlegenden Syntax von Skripten vertraut gemacht.  Abschlie√üend empfehle ich dringend, das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Original-</a> Whitepaper durchzusehen.  Es enth√§lt viele Details zu den Prinzipien des Programmiersprachenentwurfs sowie viele n√ºtzliche Links. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459990/">https://habr.com/ru/post/de459990/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459978/index.html">Node.js Entwicklertools. Remoteprozeduraufruf an Web-Sockets</a></li>
<li><a href="../de459980/index.html">High-Tech nigerianische Briefe</a></li>
<li><a href="../de459982/index.html">Roslyn-Analysatoren. So schreiben Sie schnell und genau Code</a></li>
<li><a href="../de459984/index.html">Aufbau einer Infrastruktur als Code mit GitLab und Ansible</a></li>
<li><a href="../de459988/index.html">Der Hund a√ü in neuronalen Netzen</a></li>
<li><a href="../de459992/index.html">GOST R 57100-2016. Was war das?</a></li>
<li><a href="../de459994/index.html">Forschung: Linux ist immer noch das beliebteste Betriebssystem in der Cloud</a></li>
<li><a href="../de459996/index.html">Deutschland M√ºnchen Leitfaden f√ºr fortgeschrittene Einwanderer</a></li>
<li><a href="../de460002/index.html">Wie wir den Dream Service Desk erstellt haben</a></li>
<li><a href="../de460004/index.html">Gl√ºcklicher Systemadministratortag</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>