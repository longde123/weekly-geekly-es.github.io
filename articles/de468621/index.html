<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê§ ü•Å üññüèª Wir √ºbersetzen das Heimnetzwerk in DoH oder einen weiteren Klick auf die Filternase üîî üèÇüèª üöª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nach der relativ j√ºngsten Ank√ºndigung von Mozilla, die Unterst√ºtzung f√ºr DNS-over-HTTPS (DoH) in der Produktion im Netzwerk zu starten, werden weiterh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir √ºbersetzen das Heimnetzwerk in DoH oder einen weiteren Klick auf die Filternase</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468621/"><p>  Nach der relativ j√ºngsten Ank√ºndigung von Mozilla, die Unterst√ºtzung f√ºr DNS-over-HTTPS (DoH) in der Produktion im Netzwerk zu starten, werden weiterhin Streitigkeiten gef√ºhrt, ob dies b√∂se oder gut ist.  Meiner Meinung nach basiert die Position des "B√∂sen" haupts√§chlich auf der Tatsache, dass es gleichzeitig schwierig sein wird, Ihre DNS-Abfragen zu manipulieren, selbst f√ºr Zwecke, die f√ºr Sie n√ºtzlich sind. Daher bleibe ich vorerst in der Position des "Guten". <br><img src="https://habrastorage.org/getpro/habr/post_images/c71/35a/b24/c7135ab2492a064d18b1fc73f4168bc5.jpg" alt="Bild"></p><br><p> In der Russischen F√∂deration sind Telekommunikationsbetreiber, die durch unsere Gesetzgebung sehr strengen Bedingungen ausgesetzt sind, gezwungen, hochentwickelte Mehrebenensysteme zu bauen, um den Zugang zu Inhalten zu blockieren, die von Roskomnadzor in der Russischen F√∂deration verboten sind. Auf einer der Ebenen funktioniert das Abfangen von DNS mehr oder weniger erfolgreich.  Mit DoH k√∂nnen Sie dieses Level umgehen, was zusammen mit der Verwendung von VPN Ihr Leben ein wenig erleichtern kann.  Bitte beachten Sie, dass eine L√∂sung an sich Sie nicht vor dem Blockieren bewahren kann, da es in Russland kaum einen Anbieter gibt, der nur auf das Filtern √ºber DNS angewiesen ist.  Sie ben√∂tigen eine andere Option, um das Blockieren zu umgehen, z. B. ein VPN, eines der in meinen vorherigen Artikeln beschriebenen. </p><br><p>  Es ist paradox, aber im aktuellen Panoptikum droht Ihnen der Telekommunikationsbetreiber nicht, seine Schl√∂sser zu umgehen (mit speziellen Werkzeugen). Wenn Sie also Angst haben, ihm auf diese Weise Schaden zuzuf√ºgen, sind diese Bef√ºrchtungen vergeblich. </p><br><p>  Der Wechsel zu einem speziellen Browser, um das Abfangen von DNS zu umgehen, ist jedoch nicht unser Weg.  Unser Weg ist es, alle Ger√§te in Ihrem Heimnetzwerk schnell, effizient und ohne unn√∂tigen Arbeitsaufwand an DoH zu √ºbertragen. </p><a name="habracut"></a><br><h2 id="disclaimer">  Haftungsausschluss </h2><br><p>  Da es nicht sehr legitim ist, Methoden zur Umgehung des Zugriffs auf Informationen zu ver√∂ffentlichen, die auf dem Territorium der Russischen F√∂deration verboten sind, wird in diesem Artikel √ºber eine Methode gesprochen, mit der Sie den Zugriff auf Ressourcen automatisieren k√∂nnen, die auf dem Territorium der Russischen F√∂deration zul√§ssig sind, jedoch aufgrund von Aktionen, die nicht direkt zug√§nglich sind √ºber Ihren Provider.  Der Zugriff auf andere Ressourcen, die aufgrund von Aktionen aus dem Artikel erhalten wurden, ist eine ungl√ºckliche Nebenwirkung, und das Ziel des Artikels ist keineswegs. </p><br><h2 id="tldr">  TL; DR </h2><br><p>  Wir stellen unseren eigenen Pi-Hole-basierten DNS-Server mit Cloudflare DoH f√ºr Anfragen an die Welt bereit.  Ziel ist es, alle DNS-Abfragen zu verschl√ºsseln und die Operatorfilterung durch DNS-Abfangen auf diese Weise zu umgehen.  Ein n√ºtzlicher Bonus ist das Filtern von Anzeigen. </p><br><p>  Es √∂ffnet sich kein magisches Know-how, eine einfache Schritt-f√ºr-Schritt-Anleitung f√ºr diejenigen, die nicht alle Feinheiten selbst verstehen wollen. </p><br><h2 id="chto-vam-dlya-etogo-potrebuetsya">  Was brauchst du daf√ºr? </h2><br><ol><li>  Vertrauen Sie Cloudflare.  Dies ist tats√§chlich ein sehr wichtiger Punkt, da in der beschriebenen Implementierung alle Ihre DNS-Abfragen vom Cloudflare-Dienst verarbeitet werden.  Wenn Sie ihm nicht vertrauen, m√ºssen Sie eine andere L√∂sung implementieren (und dies ist etwas komplizierter als die beschriebene, aber das Ziel dieses Artikels ist es nicht). </li><li>  Um einen st√§ndig laufenden Linux-Server in Ihrem Heimnetzwerk unterst√ºtzen zu k√∂nnen, der die DNS-Abfragen Ihrer Ger√§te verarbeitet.  Die Pi-Hole-Anforderung liegt bei 512 MB RAM (ich habe die Arbeit jedoch nicht mit einem kleineren Volumen √ºberpr√ºft).  Wenn Ihr Router oder NAS virtuelle Maschinen unterst√ºtzt - dies ist eine hervorragende Option, wenn ein Raspberry Pi oder ein anderer Mikrocomputer auf dem ARM irgendwo im Regal liegt - nicht weniger gut, wenn die virtuelle Farm auf ESXi auf den Mezzaninen im Korridor brummt - was ich Ihnen sage, Sie und du wei√üt alles selbst.  Wenn Sie nichts davon haben, finden Sie die j√ºngsten L√∂sungen wie Orange Pi Zero auf dem Sekund√§rmarkt f√ºr Einheiten von Hunderten von Rubel oder von Ali f√ºr plus oder minus das gleiche Geld.  Die Wahl der Plattform geht jedoch weit √ºber den Rahmen dieses Artikels hinaus. Wir glauben, dass Sie etwas haben.  Fragen zu diesem Thema k√∂nnen jedoch in den Kommentaren gestellt werden. </li><li>  Sie m√ºssen mit Linux und Netzwerken vertraut sein.  Oder zumindest eine solche Idee haben wollen.  Da ich dieses Mal nicht bereit bin, die Unermesslichkeit anzunehmen, m√ºssen Sie einige unverst√§ndliche Momente f√ºr sich selbst studieren.  Nat√ºrlich werde ich in den Kommentaren bestimmte Fragen beantworten und es ist unwahrscheinlich, dass nur diese beantwortet werden. Z√∂gern Sie also nicht, Fragen zu stellen. </li></ol><br><h2 id="ishodnye-dannye">  Ausgangsdaten </h2><br><p>  Die IPv4-Adresse unseres Servers im Heimnetzwerk lautet 192.168.1.10 und wird als statisch zugewiesen. </p><br><p>  Die Einstellungen unter Linux werden von root aus durchgef√ºhrt (d. H. Bevor die Konfiguration <em>gestartet wird</em> , f√ºhren wir den Befehl <em>sudo su - aus</em> ). </p><br><h2 id="kratko---logika-resheniya">  Kurz - die Logik der L√∂sung </h2><br><ol><li>  Installieren und konfigurieren Sie Pi-Hole </li><li>  Installieren und konfigurieren Sie cloudflared </li><li>  Konfigurieren Sie Ihren Heimrouter </li><li>  Wir l√∂sen Probleme </li></ol><br><h2 id="sobstvenno-reshenie">  Eigentlich Entscheidung </h2><br><h3 id="1-ustanavlivaem-i-nastraivaem-pi-hole">  1. Installieren und konfigurieren Sie Pi-Hole </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pi-Hole</a> ist eine bekannte Heimplattform, die in erster Linie zur Bek√§mpfung von Werbung entwickelt wurde, indem Domain-Anfragen aus einer zentral aktualisierten Liste blockiert werden.  Nicht, dass dies eine notwendige Komponente der L√∂sung gewesen w√§re, aber wenn Sie mit dem Sammeln von Heim-DNS begonnen haben, wird es schwierig, dies zu stoppen.  Aber im Ernst - Pi-Hole ist vielleicht nicht perfekt, aber es beseitigt eine Menge Kopfschmerzen von einer Person, die ‚Äûarbeiten‚Äú muss. </p><br><p>  Um Pi-Hole auf einem bereits laufenden Linux-Server zu installieren, m√ºssen Sie nur einen Befehl ausf√ºhren: </p><br><pre><code class="plaintext hljs">curl -sSL https://install.pi-hole.net | bash</code> </pre> <br><p>  Anschlie√üend f√ºhrt Sie das ausgef√ºhrte Skript durch die Installationsschritte. </p><br><p>  In dem Moment, in dem er Sie nach der Wahl des Upstream-DNS-Anbieters fragt, k√∂nnen Sie einen beliebigen ausw√§hlen, da wir ihn im n√§chsten Schritt noch √§ndern werden.  Alle anderen Parameter k√∂nnen standardm√§√üig sicher belassen werden. </p><br><p>  Am Ende der Installation zeigt Ihnen das Skript ein zuf√§llig generiertes Kennwort von der Weboberfl√§che an, das Sie notieren k√∂nnen. </p><br><p>  Wenn w√§hrend der Installation ein Fehler aufgetreten ist, k√∂nnen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> beschriebenen alternativen Methoden verwenden. </p><br><h3 id="2-ustanavlivaem-i-nastraivaem-cloudflared">  2. Installieren und konfigurieren Sie cloudflared </h3><br><p>  Um √ºber HTTPS zu DNS zu wechseln, verwenden wir eine Standardl√∂sung von Cloudflare.  Der Cloudflared-Daemon wurde urspr√ºnglich erstellt, um den Argo-Tunnel von der Abonnentenseite zu entfernen, sodass Sie Ihren Webserver auf dem Cloudflare-CDN ver√∂ffentlichen k√∂nnen, selbst wenn er auf einer privaten IP-Adresse hinter NAT gehostet wird.  Eine sehr n√ºtzliche Eigenschaft dieses Daemons ist jedoch seine Arbeit als DoH-Proxy, und wir verwenden diese Eigenschaft hier. </p><br><p>  Hier m√ºssen wir uns f√ºr die Installation etwas mehr anstrengen, aber auch nichts besonders Kompliziertes. </p><br><p>  Wir w√§hlen das Installationsprogramm f√ºr unsere Plattform aus und laden es herunter. </p><br><pre> <code class="plaintext hljs"># For amd64 Debian/Ubuntu cd /tmp wget https://bin.equinox.io/c/VdrWdbjqyF/cloudflared-stable-linux-amd64.deb apt-get install ./cloudflared-stable-linux-amd64.deb cloudflared -v # For amd64 CentOS/RHEL/Fedora cd /tmp wget https://bin.equinox.io/c/VdrWdbjqyF/cloudflared-stable-linux-amd64.rpm yum install ./cloudflared-stable-linux-amd64.rpm cloudflared -v # For ARM cd /tmp wget https://bin.equinox.io/c/VdrWdbjqyF/cloudflared-stable-linux-arm.tgz tar -xvzf cloudflared-stable-linux-arm.tgz cp ./cloudflared /usr/local/bin chmod +x /usr/local/bin/cloudflared cloudflared -v</code> </pre> <br><p>  Nach dem Ausf√ºhren des letzten Befehls sollten wir eine Ausgabe √§hnlich der folgenden erhalten: </p><br><pre> <code class="plaintext hljs">cloudflared version 2019.9.0 (built 2019-09-06-0333 UTC)</code> </pre> <br><p>  Wenn Sie eine haben (nat√ºrlich k√∂nnen Version und Build-Nummer abweichen), dann war die Installation erfolgreich.  Jetzt liegt es an Ihnen, zu konfigurieren. </p><br><p>  Erstellen Sie einen Benutzer f√ºr den Dienst: </p><br><pre> <code class="plaintext hljs">useradd -s /usr/sbin/nologin -r -M cloudflared</code> </pre> <br><p>  Erstellen Sie die Dienstkonfigurationsdatei / etc / default / cloudflared: </p><br><pre> <code class="plaintext hljs"># Commandline args for cloudflared CLOUDFLARED_OPTS=--port 5053 --upstream https://1.1.1.1/dns-query --upstream https://1.0.0.1/dns-query</code> </pre> <br><p>  Und wir geben dem neu erstellten Benutzer und der ausf√ºhrbaren Datei Rechte: </p><br><pre> <code class="plaintext hljs">chown cloudflared:cloudflared /etc/default/cloudflared chown cloudflared:cloudflared /usr/local/bin/cloudflared</code> </pre> <br><p>  Erstellen Sie als N√§chstes die Datei /lib/systemd/system/cloudflared.service, mit der wir den Dienst in systemd integrieren k√∂nnen: </p><br><pre> <code class="plaintext hljs">[Unit] Description=cloudflared DNS over HTTPS proxy After=syslog.target network-online.target [Service] Type=simple User=cloudflared EnvironmentFile=/etc/default/cloudflared ExecStart=/usr/local/bin/cloudflared proxy-dns $CLOUDFLARED_OPTS Restart=on-failure RestartSec=10 KillMode=process [Install] WantedBy=multi-user.target</code> </pre> <br><p>  Wir aktivieren den Dienst und f√ºhren ihn aus: </p><br><pre> <code class="plaintext hljs">systemctl enable cloudflared systemctl start cloudflared systemctl status cloudflared</code> </pre> <br><p>  Wenn alles geklappt hat, sehen Sie, dass sich der Dienst im aktiven (laufenden) Zustand befindet. </p><br><p>  Sie k√∂nnen den Betrieb des Dienstes √ºberpr√ºfen, beispielsweise mit dem Befehl dig: </p><br><pre> <code class="plaintext hljs">dig @127.0.0.1 -p 5053 google.com</code> </pre> <br><p>  Im Antwortbereich der Antwort sehen Sie die IP-Adresse, die Ihr Dienst √ºber goH f√ºr google.com erhalten hat. </p><br><pre> <code class="plaintext hljs">google.com. 217 IN A 172.217.6.142</code> </pre> <br><p>  Es bleibt nur, um den Dienst mit dem Pi-Hole zu verbinden.  Gehen Sie dazu zur Pi-Hole-Weboberfl√§che (das in der ersten Phase aufgezeichnete Kennwort ist f√ºr Sie n√ºtzlich), gehen Sie zum Men√ºpunkt Einstellungen - DNS und lassen Sie es ungef√§hr so ‚Äã‚Äãaussehen: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/979/a81/06f/979a8106f870a06917129d9db8ac3cdf.png" alt="Screenshot der Pi-Loch-Konfiguration"></p><br><p>  Die Hauptsache ist, das Feld Benutzerdefiniert mit dem Eintrag 127.0.0.1 # 5053 auszuf√ºllen und die Morgend√§mmerung darauf zu belassen, um es von allen anderen zu entfernen.  Vergessen Sie danach nicht, die Seite nach unten zu scrollen und auf Speichern zu klicken. </p><br><p>  Wenn Sie vergessen haben, das Passwort zu schreiben - es ist in Ordnung, gehen Sie √ºber ssh zum Server und <em>f√ºhren Sie den</em> Befehl <em>pihole -a -p aus. Dadurch</em> k√∂nnen Sie ein neues Passwort festlegen.  Schauen Sie sich im Allgemeinen die Schl√ºssel des <em>Pihole-</em> Teams an, es gibt viele interessante Dinge.  Beispielsweise wird eine <em>Systemaktualisierung</em> mit einem <em>Befehl pihole -up durchgef√ºhrt</em> . </p><br><h3 id="3-nastraivaem-vash-domashniy-router">  3. Richten Sie Ihren Heimrouter ein </h3><br><p>  Nat√ºrlich kann ich mit diesem Text nicht die gesamte Vielfalt der Router schlie√üen.  F√ºr die meisten Heimrouter gelten jedoch die folgenden Punkte: </p><br><p>  1) Sie k√∂nnen in den WAN-Schnittstelleneinstellungen einen benutzerdefinierten DNS-Server f√ºr den Router festlegen, auch wenn die IP-Adresse dynamisch vom Anbieter abgerufen wird </p><br><p>  2) Der Router gibt seine Adresse als DNS an interne Clients aus und leitet deren Anforderungen an den in den WAN-Einstellungen angegebenen Server weiter </p><br><p>  Dementsprechend ist es in diesem Fall notwendig und ausreichend, die Adresse unseres Pi-Hole als DNS-Server in den Einstellungen der WAN-Schnittstelle des Heimrouters zu registrieren.  Es ist wichtig, dass dies der einzige DNS-Server in den Einstellungen ist, sofern etwas anderes angegeben ist. Der Router gleicht die Anforderungen nach dem einzigen ihm bekannten Prinzip aus, und diese Situation ist f√ºr das Debuggen von Problemen im Netzwerk √§u√üerst unpraktisch. </p><br><p>  Wenn pl√∂tzlich etwas schief gelaufen ist und der Dienst nicht mehr funktioniert, reicht es aus, die obige Einstellung in die Adresse des DNS-Servers Ihres Anbieters oder beispielsweise 8.8.8.8 zu √§ndern und erst dann zu verstehen. </p><br><p>  Wenn Ihr Router intelligenter ist und beispielsweise in DHCP angeben kann, welche Adresse als DNS-Server an Clients verteilt werden soll, k√∂nnen Sie einen alternativen Pfad w√§hlen und die Verteilung der Pi-Hole-Adresse direkt an Clients konfigurieren.  Dadurch wird der Router leicht entlastet, der oben genannte Rollback wird jedoch durch die Verwendung des Dienstes erschwert. </p><br><p>  Wenn etwas nicht funktioniert - fragen Sie in den Kommentaren, wir werden eine L√∂sung finden. </p><br><h3 id="4-reshaem-problemy">  4. Wir l√∂sen Probleme </h3><br><p>  Im Allgemeinen sollte nach Abschluss der oben genannten Punkte alles in Ordnung mit Ihnen sein, aber es gibt Nuancen, auf die meine Kunden und ich manchmal gesto√üen sind. </p><br><p>  Nachdem Sie Pi-Hole verwendet haben, kann es auf Ihren Ger√§ten (insbesondere auf Mobilger√§ten) zu ungew√∂hnlichen Gef√ºhlen reduzierter Werbung kommen.  Seien Sie nicht beunruhigt, das haben Sie beabsichtigt.  Au√üerdem funktionieren einige Dienste m√∂glicherweise nicht mehr so, wie Sie es kennen, und dies erfordert Ihre Teilnahme an den Einstellungen.  Beispielsweise versucht die Aliexpress-Website regelm√§√üig, Sie an die Adresse best.aliexpress.com weiterzuleiten, die in der Liste der Anzeigen aufgef√ºhrt ist. Dadurch wird der Zugriff auf Ali blockiert. </p><br><p>  Das Erkennen eines solchen Problems ist recht einfach. Wenn Sie versuchen, auf einen blockierten Server zuzugreifen, zeigt Ihr Browser einen Fehler ERR_NAME_NOT_RESOLVED oder √§hnliches an, und eine Befehlszeilenpr√ºfung √ºber <em>nslookup &lt;Servername&gt; gibt</em> 0.0.0.0 zur√ºck. </p><br><p>  Das Problem f√ºr einen bestimmten Server zu l√∂sen ist ebenfalls einfach - f√ºgen Sie es einfach der Whitelist hinzu.  Gehen Sie dazu zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: //pi.hole/admin</a> , melden Sie sich an, w√§hlen Sie im linken Men√º Whitelist aus und f√ºgen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gew√ºnschten</a> Server hinzu.  Zum Beispiel musste ich neben der erw√§hnten Datei best.aliexpress.com s.click.aliexpress.com sowie eine Gruppe von Websites in der Dom√§ne miui.com √∂ffnen, damit Xiaomi-Dienste funktionieren.  Sie brauchen wahrscheinlich etwas Eigenes.  Es ist jedoch nicht so schwierig, genau zu verfolgen, was ge√∂ffnet werden muss. Auf der Dashboard-Hauptseite des Dienstes und in den Abfrageprotokollen k√∂nnen Sie immer sehen, welche Domain-Anforderungen blockiert wurden, und sie zur Whitelist hinzuf√ºgen. </p><br><p>  Es kommt auch regelm√§√üig vor, dass Pi-Hole auf einem Server installiert ist, auf dem bereits eine Art Webdienst ausgef√ºhrt wird.  In diesem Fall erhalten Sie keinen Zugriff auf die webbasierte Verwaltungsoberfl√§che.  Wie ein solcher Konflikt gel√∂st werden kann, h√§ngt von der jeweiligen Situation ab. Die wichtigsten L√∂sungen sind jedoch: </p><br><ol><li>  Wenn der Webserver nicht verwendet wurde, sondern nur standardm√§√üig stand - suchen und deaktivieren </li><li>  Wenn der Webserver verwendet wird und Sie wissen, wie Sie damit arbeiten, f√ºgen Sie die Pi-Hole-Weboberfl√§che als separate Ressource zu Ihrem Webserver hinzu. </li><li>  Sie k√∂nnen die Pi-Hole-Weboberfl√§che auch an einem anderen Port landen, indem Sie den Parameter server.port in der Datei /etc/lighttpd/lighttpd.conf korrigieren.  Daf√ºr muss man sich jedoch merken, auf welchem ‚Äã‚ÄãPort der Server ausgef√ºhrt wird. Daher begr√º√üe ich solche Schemata nicht. </li></ol><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Wie versprochen hat er nichts Neues geschrieben.  F√ºr viele Leser ist dieses Schema verst√§ndlich und offensichtlich und entweder bereits implementiert oder nicht als unn√∂tig implementiert.  Viele andere bauten etwas √Ñhnliches auf andere Weise, wobei sie dieselben oder andere Komponenten verwendeten.  Ich schlage vor, Sie betrachten diesen Beitrag eher als Leerzeichen f√ºr Ihre eigene L√∂sung, falls Sie ihn jemals ben√∂tigen.  Nachdem Sie es jedoch Schritt f√ºr Schritt ausgef√ºhrt haben, erhalten Sie bereits einen Service, der Ihre Grundbed√ºrfnisse zum Filtern von Anzeigen und zur Verwendung von DoH abdeckt. </p><br><p>  Traditionell beantworte ich Fragen und helfe bei den Einstellungen. </p><br><p>  PS-Hinweis von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">GennPen</a> : Wenn Sie DoH verwenden, werden Sie von Ihrer Internetverbindung abh√§ngig. Wenn Ihnen das Geld auf Ihrem Konto ausgeht, k√∂nnen Sie sich nicht einmal in das pers√∂nliche Konto Ihres Anbieters einloggen, um diese zu bezahlen.  Daher ist es f√ºr solche Sites in dieser L√∂sung w√ºnschenswert, statische Eintr√§ge in Pi-Hole zu registrieren. Dies kann in der Konsole mit dem Befehl <em>pihole -a -r</em> oder einfach manuell in der Datei / etc / hosts erfolgen.  Leider ist das Tool daf√ºr nicht in der Weboberfl√§che enthalten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468621/">https://habr.com/ru/post/de468621/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468605/index.html">Konstante Zeiger auf Zeiger auf Zeiger ...</a></li>
<li><a href="../de468607/index.html">Android f√ºr den Funkingenieur (Teil zwei)</a></li>
<li><a href="../de468609/index.html">Die unverst√§ndliche Leistung der Mehrfachplanung</a></li>
<li><a href="../de468611/index.html">.NET-Multithreading: Wenn die Leistung fehlt</a></li>
<li><a href="../de468615/index.html">Die Top 10 Sprachen f√ºr die App-Lokalisierung</a></li>
<li><a href="../de468623/index.html">Ich m√∂chte Bewertungen zu Habr</a></li>
<li><a href="../de468625/index.html">Serverlos: 15% langsamer und achtmal teurer</a></li>
<li><a href="../de468627/index.html">ADAM-6200 E / A-Module</a></li>
<li><a href="../de468629/index.html">Wie ich einen Filter erstellt habe, der das Bild auch nach einer Million L√§ufen nicht besch√§digt - Teil 2</a></li>
<li><a href="../de468631/index.html">Testen von Flatteranwendungen. Starten Sie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>