<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✏️ 👨🏾‍🏭 📕 Wie man kein Projekt auf Bitrix entwickelt ⏱️ 🈳 👵🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Während meiner gesamten Arbeit mit Bitrix hatte ich die Möglichkeit, mit einer sehr großen Anzahl von Projekten zu arbeiten, die jemand vor mir entwic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man kein Projekt auf Bitrix entwickelt</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418245/">  Während meiner gesamten Arbeit mit Bitrix hatte ich die Möglichkeit, mit einer sehr großen Anzahl von Projekten zu arbeiten, die jemand vor mir entwickelt hatte.  Hier finden Sie kleinere Verbesserungen, die Behebung verschiedener Fehler und Fehler in der Logik, die Neugestaltung der Website und globale Änderungen an vorhandenen Funktionen.  Und wie jeder andere Entwickler hasse ich es, den Müll, die Krücken und die „temporären“ Patches eines anderen zu harken, an die sich tatsächlich eine weitere 8-Ausgabe des Produkts erinnert. <a name="habracut"></a><br><br>  Hier werde ich versuchen, mich beim Programmieren in PHP nicht auf Standard-Worst-Practices zu konzentrieren, wie z. B. die Missachtung der Auswahl von Variablennamen und -funktionen, unnötige Datenbankabfragen in einer Schleife, das Fehlen von Benutzerdatenprüfungen in Formularen, das Ignorieren von Kommentaren und dergleichen.  Ich werde versuchen, genau die Momente anzusprechen, die mit der Entwicklung von Bitrix verbunden sind, um anschließend Empörung und Flüche des Programmierers, der Ihren Code begleiten musste, gegen Sie zu vermeiden.  Und ja, oft werden Sie in einem Jahr oder länger selbst dieser Programmierer sein, wenn Sie völlig vergessen, warum Sie diese oder jene Krücke hier eingefügt haben. <br><blockquote>  „Schreiben Sie den Code so, als würde er von einem gewalttätigen Psychopathen begleitet, der weiß, wo Sie leben“ (c) John F. Woods </blockquote>  Das erste und meiner Meinung nach wichtigste ist - um Himmels willen, <b>verwenden Sie den lokalen Ordner</b> .  Dies ist bei der Verwendung des Versionskontrollsystems einfach von entscheidender Bedeutung. Sie müssen lediglich den Ordner / bitrix / zu den Ausnahmen hinzufügen.  Das ist alles.  Darüber hinaus wird fast die gesamte Entwicklung nur darin durchgeführt.  Dies vereinfacht die Suche nach den erforderlichen Dateien und Komponenten später erheblich, hilft, das Repository nicht mit unnötigen Dateien zu verstopfen, und verleiht dem Projektbaum ein ordentlicheres, „menschlicheres“ Aussehen. <br><br>  <b>Ändern Sie den Kernel nicht</b> .  Auch wenn Sie sicher sind, dass es nicht aktualisiert wird.  Auch wenn es schneller geht.  Auch wenn Sie faul sind.  Vergiss diesen Gedanken wie einen Albtraum.  Wenn Sie die Logik einer Standardkomponente ändern müssen, übertragen Sie sie in den neuen Namespace / local / components / modify / und arbeiten Sie damit.  Gleiches gilt für Module, Gadgets und Aktivitäten von Geschäftsprozessen. <br><br>  <b>Verwerfen Sie die Datei init.php nicht</b> .  Kombinieren Sie Funktionen zum Arbeiten mit einem bestimmten Modul oder einer bestimmten Funktion in einer Klasse, schreiben Sie diese gesamte Klasse in eine separate Datei und schließen Sie in init.php nur diese Dateien ein und schreiben Sie Ereignishandler.  Ich traf auf init.php-Dateien mit jeweils 500 KB, in denen Funktionen, Definition von Konstanten, Klassen und Initialisierung von Handlern in einem Durcheinander gemischt wurden.  Als ich diese Dateien verstehen musste, verfluchte ich natürlich meine Vorgänger. <br><br>  Der nächste Absatz befasst sich nicht mit der Entwicklung vorgefertigter Lösungen für den Marktplatz, bei denen das Ziel darin besteht, die anpassbarste Funktionalität aus dem öffentlichen Bereich für den Endbenutzer bereitzustellen.  Wenn Sie an einem bestimmten Projekt oder an einem bestimmten ToR <b>arbeiten, versuchen Sie nicht, für alle Gelegenheiten eine einheitliche Vorlage für die Komponente zu</b> erstellen.  Persönlich halte ich an einer Philosophie fest - es ist besser, ein paar einfache Vorlagen zu haben, die für andere Zwecke als eine universelle verwendet werden, bei denen sich der Teufel jedoch später das Bein bricht.  Natürlich müssen Sie in jedem Fall auf den Vorgaben, Implementierungsoptionen und dergleichen aufbauen, aber Sie sollten das Rasiermesser des Occam nicht vergessen.  Als Beispiel werde ich ein Projekt einer Leasinggesellschaft nennen, das ich zufällig bearbeitet habe.  Das Projekt selbst wurde natürlich schrecklich umgesetzt, zum wirklichen Entsetzen auf den Seiten eines Abschnitts des Servicekatalogs.  Jeder der fünf Abschnitte hatte ein eigenes Layout, in dem sich sowohl die Position der Blöcke auf der Seite als auch im Prinzip das Vorhandensein einiger von ihnen unterschieden.  Und für alle fünf Seiten wurde eine Vorlage mit einer Reihe von if-else-Duplikaten von Komponentenaufrufen, Verbindungsstilen und Skripten verwendet, die außerdem in regelmäßigen Abständen miteinander in Konflikt standen.  Infolgedessen war eine riesige Datei, in der man "ohne Bier" verstehen konnte, wie der Tod.  Obwohl, wie es scheint, was Sie daran gehindert hat, 5 verschiedene Vorlagen zu erstellen und keine Probleme aus heiterem Himmel zu schaffen? <br><br>  <b>Verwenden Sie die API</b> .  Erfinden Sie das Rad nicht neu, wenn es nicht benötigt wird.  Verwenden Sie die Dokumentation - das gesamte Produkt ist ziemlich gut beschrieben, und auch jede Funktion kann auf bxapi.ru detailliert angezeigt werden. <br><br>  <b>Vermeiden Sie direkte Datenbankabfragen</b> .  Dies ist ein Sonderfall des vorherigen Absatzes - verwenden Sie die API.  Hastige, unsichere Anfragen können zu Datenbeschädigung, -verlust oder sogar zu Kompromissen führen. <br><br>  <b>Verwenden Sie keine CNC-Komponenten aus dem Stammverzeichnis der Site</b> .  Die Konsequenzen sind in der Regel ziemlich traurig, da die CNC eine Adresshandlerdatei verwendet. Ein Versuch, sie vom Stamm aus zu verwenden, bricht leicht die Adresse anderer Komponenten sowie 404 Seiten.  Es ist nichts falsch, wenn die Artikel, die Sie haben, an den Ordner / articles / adressiert sind und die Produkte relativ zu / catalog / sind. <br><br>  <b>Verbinden Sie CSS und JS über die API.</b>  Ich sehe immer noch überall Skripte und Stylesheets, die HTML-Tags verwenden.  Verwenden Sie das Klassenobjekt \ Bitrix \ Main \ Page \ Asset und die Funktionen addJs () und addCss ().  Auf diese Weise können Sie Dateien kombinieren und anschließend mit einem Klick auf das Kontrollkästchen in den Einstellungen des Hauptmoduls zwischenspeichern <br><br>  Und schließlich betrifft der Fehler nicht nur Bitrix, sondern es war bereits zu schmerzhaft für mich, auf damit verbundene Probleme zu stoßen.  <b>Überprüfen Sie, ob das Array mit den Ergebnissen der Auswahl ungültig ist</b> .  Das letzte Mal, als ich auf dieses Problem stieß, war die Arbeit mit einem Online-Shop.  Beschwerde: Seiten werden manchmal 16 Sekunden lang geladen.  Was damit verbunden ist, ist nicht klar.  Durch Versuch und Irrtum fand ich heraus, dass die Seiten nur dann unangemessen lang geladen werden, wenn der Warenkorb leer ist.  Es schien, warum?  Wie sich herausstellte, erschien beim Schweben ein Popup-Fenster im Warenkorb, in dem Bilder der in den Warenkorb gelegten Waren angezeigt wurden.  Was hat der vorherige Entwickler getan?  Ich habe das Ergebnis der Komponente "kleiner Korb" genommen und in der Datei result_modifier.php einen GetList () -Aufruf für die Waren ausgeführt, um Bilder mit einem Filter aus dem Array von Produkt-IDs auszuwählen, und dann src-Bilder aus den Auswahlergebnissen zum Array des entsprechenden Produkts hinzugefügt.  Wenn sich keine Waren im Warenkorb befanden, wurde der Filter leer gelassen, und der GANZE Warenkatalog fiel in die Auswahl.  Nun, dann ein Zyklus für jeden und ... wir haben was wir haben.  Es ist klar, dass dies in der Entwicklungsphase mit Test 15-Produkten nicht wahrnehmbar war und Probleme bereits unter Kampfbedingungen auftraten.  Obwohl es den Anschein hat, dass es sich gelohnt hat, den Scheck leer zu setzen ($ arResult ['ITEMS']) ... <br><br>  Hier beende ich meine persönliche Top-Worst-Practice in Bezug auf die Bitrix-Entwicklung.  Wenn zumindest jemand diese Informationen dazu beiträgt, Fehler in der Zukunft zu vermeiden und seinen Entwicklungsstil zu verbessern, war dies nicht umsonst. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418245/">https://habr.com/ru/post/de418245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418235/index.html">Orchestrierte Saga oder Erstellen von Geschäftstransaktionen in Diensten mit der Datenbank nach Dienstmuster</a></li>
<li><a href="../de418237/index.html">Entwicklung mandantenfähiger Anwendungen auf der SAP Cloud Platform in Neo, Teil 2: Autorisierung und Authentifizierung</a></li>
<li><a href="../de418239/index.html">48 Megapixel für Smartphone</a></li>
<li><a href="../de418241/index.html">Warum Gauß? (100 Möglichkeiten, das Gleichungssystem zu lösen)</a></li>
<li><a href="../de418243/index.html">Die populäre Geschichte der Astronomie ist falsch</a></li>
<li><a href="../de418247/index.html">Beschleunigen Sie die Float 4x4 Matrix Multiplikation mit SIMD</a></li>
<li><a href="../de418249/index.html">Neue VM-Images der Google Compute Engine für Deep Learning</a></li>
<li><a href="../de418251/index.html">Computer Vision: Wie KI uns beobachtet</a></li>
<li><a href="../de418253/index.html">Der frühe Mond könnte Wasser, Atmosphäre und Leben haben</a></li>
<li><a href="../de418255/index.html">Wie Verkehrsbörsen Autosurfen weiterverkaufen und woher Millionen von Bots online kommen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>