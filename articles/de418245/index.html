<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úèÔ∏è üë®üèæ‚Äçüè≠ üìï Wie man kein Projekt auf Bitrix entwickelt ‚è±Ô∏è üà≥ üëµüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="W√§hrend meiner gesamten Arbeit mit Bitrix hatte ich die M√∂glichkeit, mit einer sehr gro√üen Anzahl von Projekten zu arbeiten, die jemand vor mir entwic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man kein Projekt auf Bitrix entwickelt</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418245/">  W√§hrend meiner gesamten Arbeit mit Bitrix hatte ich die M√∂glichkeit, mit einer sehr gro√üen Anzahl von Projekten zu arbeiten, die jemand vor mir entwickelt hatte.  Hier finden Sie kleinere Verbesserungen, die Behebung verschiedener Fehler und Fehler in der Logik, die Neugestaltung der Website und globale √Ñnderungen an vorhandenen Funktionen.  Und wie jeder andere Entwickler hasse ich es, den M√ºll, die Kr√ºcken und die ‚Äûtempor√§ren‚Äú Patches eines anderen zu harken, an die sich tats√§chlich eine weitere 8-Ausgabe des Produkts erinnert. <a name="habracut"></a><br><br>  Hier werde ich versuchen, mich beim Programmieren in PHP nicht auf Standard-Worst-Practices zu konzentrieren, wie z. B. die Missachtung der Auswahl von Variablennamen und -funktionen, unn√∂tige Datenbankabfragen in einer Schleife, das Fehlen von Benutzerdatenpr√ºfungen in Formularen, das Ignorieren von Kommentaren und dergleichen.  Ich werde versuchen, genau die Momente anzusprechen, die mit der Entwicklung von Bitrix verbunden sind, um anschlie√üend Emp√∂rung und Fl√ºche des Programmierers, der Ihren Code begleiten musste, gegen Sie zu vermeiden.  Und ja, oft werden Sie in einem Jahr oder l√§nger selbst dieser Programmierer sein, wenn Sie v√∂llig vergessen, warum Sie diese oder jene Kr√ºcke hier eingef√ºgt haben. <br><blockquote>  ‚ÄûSchreiben Sie den Code so, als w√ºrde er von einem gewaltt√§tigen Psychopathen begleitet, der wei√ü, wo Sie leben‚Äú (c) John F. Woods </blockquote>  Das erste und meiner Meinung nach wichtigste ist - um Himmels willen, <b>verwenden Sie den lokalen Ordner</b> .  Dies ist bei der Verwendung des Versionskontrollsystems einfach von entscheidender Bedeutung. Sie m√ºssen lediglich den Ordner / bitrix / zu den Ausnahmen hinzuf√ºgen.  Das ist alles.  Dar√ºber hinaus wird fast die gesamte Entwicklung nur darin durchgef√ºhrt.  Dies vereinfacht die Suche nach den erforderlichen Dateien und Komponenten sp√§ter erheblich, hilft, das Repository nicht mit unn√∂tigen Dateien zu verstopfen, und verleiht dem Projektbaum ein ordentlicheres, ‚Äûmenschlicheres‚Äú Aussehen. <br><br>  <b>√Ñndern Sie den Kernel nicht</b> .  Auch wenn Sie sicher sind, dass es nicht aktualisiert wird.  Auch wenn es schneller geht.  Auch wenn Sie faul sind.  Vergiss diesen Gedanken wie einen Albtraum.  Wenn Sie die Logik einer Standardkomponente √§ndern m√ºssen, √ºbertragen Sie sie in den neuen Namespace / local / components / modify / und arbeiten Sie damit.  Gleiches gilt f√ºr Module, Gadgets und Aktivit√§ten von Gesch√§ftsprozessen. <br><br>  <b>Verwerfen Sie die Datei init.php nicht</b> .  Kombinieren Sie Funktionen zum Arbeiten mit einem bestimmten Modul oder einer bestimmten Funktion in einer Klasse, schreiben Sie diese gesamte Klasse in eine separate Datei und schlie√üen Sie in init.php nur diese Dateien ein und schreiben Sie Ereignishandler.  Ich traf auf init.php-Dateien mit jeweils 500 KB, in denen Funktionen, Definition von Konstanten, Klassen und Initialisierung von Handlern in einem Durcheinander gemischt wurden.  Als ich diese Dateien verstehen musste, verfluchte ich nat√ºrlich meine Vorg√§nger. <br><br>  Der n√§chste Absatz befasst sich nicht mit der Entwicklung vorgefertigter L√∂sungen f√ºr den Marktplatz, bei denen das Ziel darin besteht, die anpassbarste Funktionalit√§t aus dem √∂ffentlichen Bereich f√ºr den Endbenutzer bereitzustellen.  Wenn Sie an einem bestimmten Projekt oder an einem bestimmten ToR <b>arbeiten, versuchen Sie nicht, f√ºr alle Gelegenheiten eine einheitliche Vorlage f√ºr die Komponente zu</b> erstellen.  Pers√∂nlich halte ich an einer Philosophie fest - es ist besser, ein paar einfache Vorlagen zu haben, die f√ºr andere Zwecke als eine universelle verwendet werden, bei denen sich der Teufel jedoch sp√§ter das Bein bricht.  Nat√ºrlich m√ºssen Sie in jedem Fall auf den Vorgaben, Implementierungsoptionen und dergleichen aufbauen, aber Sie sollten das Rasiermesser des Occam nicht vergessen.  Als Beispiel werde ich ein Projekt einer Leasinggesellschaft nennen, das ich zuf√§llig bearbeitet habe.  Das Projekt selbst wurde nat√ºrlich schrecklich umgesetzt, zum wirklichen Entsetzen auf den Seiten eines Abschnitts des Servicekatalogs.  Jeder der f√ºnf Abschnitte hatte ein eigenes Layout, in dem sich sowohl die Position der Bl√∂cke auf der Seite als auch im Prinzip das Vorhandensein einiger von ihnen unterschieden.  Und f√ºr alle f√ºnf Seiten wurde eine Vorlage mit einer Reihe von if-else-Duplikaten von Komponentenaufrufen, Verbindungsstilen und Skripten verwendet, die au√üerdem in regelm√§√üigen Abst√§nden miteinander in Konflikt standen.  Infolgedessen war eine riesige Datei, in der man "ohne Bier" verstehen konnte, wie der Tod.  Obwohl, wie es scheint, was Sie daran gehindert hat, 5 verschiedene Vorlagen zu erstellen und keine Probleme aus heiterem Himmel zu schaffen? <br><br>  <b>Verwenden Sie die API</b> .  Erfinden Sie das Rad nicht neu, wenn es nicht ben√∂tigt wird.  Verwenden Sie die Dokumentation - das gesamte Produkt ist ziemlich gut beschrieben, und auch jede Funktion kann auf bxapi.ru detailliert angezeigt werden. <br><br>  <b>Vermeiden Sie direkte Datenbankabfragen</b> .  Dies ist ein Sonderfall des vorherigen Absatzes - verwenden Sie die API.  Hastige, unsichere Anfragen k√∂nnen zu Datenbesch√§digung, -verlust oder sogar zu Kompromissen f√ºhren. <br><br>  <b>Verwenden Sie keine CNC-Komponenten aus dem Stammverzeichnis der Site</b> .  Die Konsequenzen sind in der Regel ziemlich traurig, da die CNC eine Adresshandlerdatei verwendet. Ein Versuch, sie vom Stamm aus zu verwenden, bricht leicht die Adresse anderer Komponenten sowie 404 Seiten.  Es ist nichts falsch, wenn die Artikel, die Sie haben, an den Ordner / articles / adressiert sind und die Produkte relativ zu / catalog / sind. <br><br>  <b>Verbinden Sie CSS und JS √ºber die API.</b>  Ich sehe immer noch √ºberall Skripte und Stylesheets, die HTML-Tags verwenden.  Verwenden Sie das Klassenobjekt \ Bitrix \ Main \ Page \ Asset und die Funktionen addJs () und addCss ().  Auf diese Weise k√∂nnen Sie Dateien kombinieren und anschlie√üend mit einem Klick auf das Kontrollk√§stchen in den Einstellungen des Hauptmoduls zwischenspeichern <br><br>  Und schlie√ülich betrifft der Fehler nicht nur Bitrix, sondern es war bereits zu schmerzhaft f√ºr mich, auf damit verbundene Probleme zu sto√üen.  <b>√úberpr√ºfen Sie, ob das Array mit den Ergebnissen der Auswahl ung√ºltig ist</b> .  Das letzte Mal, als ich auf dieses Problem stie√ü, war die Arbeit mit einem Online-Shop.  Beschwerde: Seiten werden manchmal 16 Sekunden lang geladen.  Was damit verbunden ist, ist nicht klar.  Durch Versuch und Irrtum fand ich heraus, dass die Seiten nur dann unangemessen lang geladen werden, wenn der Warenkorb leer ist.  Es schien, warum?  Wie sich herausstellte, erschien beim Schweben ein Popup-Fenster im Warenkorb, in dem Bilder der in den Warenkorb gelegten Waren angezeigt wurden.  Was hat der vorherige Entwickler getan?  Ich habe das Ergebnis der Komponente "kleiner Korb" genommen und in der Datei result_modifier.php einen GetList () -Aufruf f√ºr die Waren ausgef√ºhrt, um Bilder mit einem Filter aus dem Array von Produkt-IDs auszuw√§hlen, und dann src-Bilder aus den Auswahlergebnissen zum Array des entsprechenden Produkts hinzugef√ºgt.  Wenn sich keine Waren im Warenkorb befanden, wurde der Filter leer gelassen, und der GANZE Warenkatalog fiel in die Auswahl.  Nun, dann ein Zyklus f√ºr jeden und ... wir haben was wir haben.  Es ist klar, dass dies in der Entwicklungsphase mit Test 15-Produkten nicht wahrnehmbar war und Probleme bereits unter Kampfbedingungen auftraten.  Obwohl es den Anschein hat, dass es sich gelohnt hat, den Scheck leer zu setzen ($ arResult ['ITEMS']) ... <br><br>  Hier beende ich meine pers√∂nliche Top-Worst-Practice in Bezug auf die Bitrix-Entwicklung.  Wenn zumindest jemand diese Informationen dazu beitr√§gt, Fehler in der Zukunft zu vermeiden und seinen Entwicklungsstil zu verbessern, war dies nicht umsonst. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418245/">https://habr.com/ru/post/de418245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418235/index.html">Orchestrierte Saga oder Erstellen von Gesch√§ftstransaktionen in Diensten mit der Datenbank nach Dienstmuster</a></li>
<li><a href="../de418237/index.html">Entwicklung mandantenf√§higer Anwendungen auf der SAP Cloud Platform in Neo, Teil 2: Autorisierung und Authentifizierung</a></li>
<li><a href="../de418239/index.html">48 Megapixel f√ºr Smartphone</a></li>
<li><a href="../de418241/index.html">Warum Gau√ü? (100 M√∂glichkeiten, das Gleichungssystem zu l√∂sen)</a></li>
<li><a href="../de418243/index.html">Die popul√§re Geschichte der Astronomie ist falsch</a></li>
<li><a href="../de418247/index.html">Beschleunigen Sie die Float 4x4 Matrix Multiplikation mit SIMD</a></li>
<li><a href="../de418249/index.html">Neue VM-Images der Google Compute Engine f√ºr Deep Learning</a></li>
<li><a href="../de418251/index.html">Computer Vision: Wie KI uns beobachtet</a></li>
<li><a href="../de418253/index.html">Der fr√ºhe Mond k√∂nnte Wasser, Atmosph√§re und Leben haben</a></li>
<li><a href="../de418255/index.html">Wie Verkehrsb√∂rsen Autosurfen weiterverkaufen und woher Millionen von Bots online kommen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>