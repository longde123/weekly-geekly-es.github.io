<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ—¯ï¸ ğŸ“† ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ PHP-Watcher: alat yang menyederhanakan pengembangan aplikasi berumur panjang ğŸ‘… ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ ğŸ‘°ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami menyukai PHP karena kesederhanaannya: Anda menulis kode, menyegarkan halaman di browser dan segera melihat perubahannya. Tetapi jika itu menyangk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP-Watcher: alat yang menyederhanakan pengembangan aplikasi berumur panjang</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/475624/"><img src="https://habrastorage.org/webt/dt/ud/uz/dtuduzzyawnbnme7jeckvagoirs.gif"><br><br>  Kami menyukai PHP karena kesederhanaannya: Anda menulis kode, menyegarkan halaman di browser dan segera melihat perubahannya.  Tetapi jika itu menyangkut perintah konsol, yang bisa menjadi proses yang berumur panjang - misalnya, jika kita menulis server HTTP asinkron untuk mengunggah file - pengembangan bisa sangat menyakitkan. <br><br>  Tidak ada solusi yang sesuai di ekosistem PHP untuk secara otomatis me-restart aplikasi ketika perubahan dilakukan pada kode sumber.  Oleh karena itu, saya memutuskan untuk membuat alat saya - dalam PHP murni dan dengan akses melalui Komposer. <br><br><h2>  Ini seperti Nodemon, tetapi dalam PHP </h2><a name="habracut"></a><br>  Untuk sementara saya sendiri menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nodemon</a> .  Ini adalah alat dari dunia Node.js, namun, jika Anda menyesuaikannya sedikit, Anda dapat menggunakannya dengan skrip PHP.  Tetapi pada kenyataannya, saya tidak ingin menginstal Node.js dan menyeret banyak paket NPM yang tidak saya ketahui ke dalam aplikasi PHP asinkron saya untuk memulai kembali. <br><br>  Karena saya aktif berkomunikasi di Twitter, saya bertanya di sana siapa lagi yang memiliki masalah ini dan ingin mendapatkan solusi.  Melihat minat, saya duduk untuk menulis alat yang menyediakan fungsi yang sama seperti Nodemon, <b><i>hanya dalam PHP dan untuk PHP</i></b> . <br><br><img src="https://habrastorage.org/webt/wc/xh/n_/wcxhn_iy9g1nnngfj7rru7-e_ym.png"><br><br>  Satu bulan telah berlalu: dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP-Watcher</a> Anda tidak perlu lagi menginstal Nodemon atau paket NPM lainnya untuk mengembangkan aplikasi PHP Anda yang berumur panjang. <br><br><h2>  Begitulah cara kerjanya </h2><br>  Perpustakaan dapat diinstal melalui Komposer: <br><br><pre><code class="php hljs">composer <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> seregazhuk/php-watcher</code> </pre> <br>  Bayangkan kita sedang mengerjakan aplikasi berbasis Symfony yang berumur panjang.  Titik masuk ke aplikasi kita adalah file public / index.php.  Kami ingin melacak perubahan di folder src dan config.  Kami juga ingin aplikasi restart secara otomatis segera setelah kami mengubah kode sumber atau parameter konfigurasi.  Inilah cara mengatasi masalah ini: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php --watch src --watch config</code> </pre> <br>  Perintah akan menjalankan skrip public / index.php, yang akan mulai melacak perubahan di direktori src dan config.  Segera setelah file berubah di dalamnya, PHP-Watcher akan memulai kembali skrip. <br><br>  Secara default, ini hanya melacak perubahan ke file PHP.  Tetapi Symfony menyimpan konfigurasinya di yaml.  Karena itu, kita perlu memberi tahu jam tangan secara eksplisit agar dapat melacak file PHP dan yaml.  Ini dilakukan dengan menggunakan opsi --ext: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php --watch src --watch config --ext php,yaml</code> </pre> <br>  Misalkan kita mengerti bahwa kita tidak perlu me-restart aplikasi dengan perubahan apa pun dalam direktori src.  Sebagai contoh, kami ingin mengabaikan perubahan di subdirektori src / Migrations.  Dalam hal ini, Anda dapat menggunakan opsi --ignore: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php --watch src --watch config --ext php,yaml --ignore Migrations</code> </pre> <br>  Sekarang PHP-Watcher akan mulai melacak perubahan di direktori src dan config, tetapi akan mengabaikan perubahan apa pun di dalam subdirektori Migrasi.  Selain itu, secara default mengabaikan perubahan dalam semua file dot dan VCS. <br><br>  <b>Watcher mendukung penyesuaian perilakunya tidak hanya melalui opsi baris perintah, tetapi juga melalui file konfigurasi.</b>  Jika Anda tidak ingin meneruskan banyak opsi dan parameter setiap kali pada baris perintah, Anda dapat membuat file konfigurasi .php-watcher.yml.  Misalnya, perintah sebelumnya dapat diganti dengan file konfigurasi berikut: <br><br><pre> <code class="php hljs">watch: - src - config extensions: - php - yaml ignore: - Migrations</code> </pre><br>  Memiliki file seperti itu, kita cukup mengaktifkan "arloji" dengan menentukan hanya skrip PHP yang perlu dimulai ulang.  Semua pengaturan lain akan diambil dari file: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php</code> </pre> <br>  Apa yang terjadi jika kita memiliki file konfigurasi dan argumen baris perintah?  Dalam hal ini, semua argumen yang dilewatkan dari baris perintah akan menimpa nilai yang sesuai dari file konfigurasi. <br><br>  Secara default, PHP-Watcher menggunakan PHP yang dapat dieksekusi untuk menjalankan skrip.  Kami menulis perintah di terminal: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php</code> </pre> <br>  Di bawah tenda, proses anak dibuat dengan perintah php public / index.php.  Dalam kebanyakan kasus, inilah yang Anda butuhkan.  Namun, jika lingkungan Anda memiliki file yang dapat dieksekusi yang berbeda, Anda dapat secara eksplisit menentukan perintah yang harus dijalankan.  Misalnya, ketika kami memiliki beberapa versi PHP pada sistem yang sama, dan kami ingin menjalankan aplikasi kami dengan php7.4 yang dapat dieksekusi, Anda dapat menggunakan opsi --exec dan menentukan file yang dapat Anda eksekusi: <br><br><pre> <code class="php hljs">php-watcher <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>/index.php --exec php7<span class="hljs-number"><span class="hljs-number">.4</span></span></code> </pre> <br>  Hal yang sama melalui file konfigurasi: <br><br><pre> <code class="php hljs">watch: - src - config executable: php7<span class="hljs-number"><span class="hljs-number">.4</span></span></code> </pre> <br>  PHP-Watcher tidak secara otomatis me-restart aplikasi jika crash.  Dalam lingkungan dev, ini tidak terlalu diperlukan - karena ketika kami sedang mengembangkan aplikasi baru, itu normal bahwa kadang-kadang akan crash.  Jika aplikasi macet (diakhiri dengan kode selain 0), "arloji" akan memberi tahu kami tentang hal itu.  Segera setelah kami memperbaiki kode, perubahan akan terdeteksi di sumber - dan aplikasi akan memulai kembali. <br><br>  <b>Terima kasih atas perhatian anda!</b>  Informasi lebih lanjut tentang PHP-Watcher dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beranda proyek di GitHub</a> .  Dokumentasi menjelaskan pola dasar penggunaan.  Proyek ini masih dalam pengembangan, tetapi API sudah cukup stabil.  Saya akan senang jika Anda menggunakannya. <br><br>  <b>PS</b> Jangan ragu untuk meninggalkan umpan balik dan saran melalui masalah di GitHub. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id475624/">https://habr.com/ru/post/id475624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id475604/index.html">Mengkonfigurasi templat PostgreSQL resmi di Zabbix 4.4</a></li>
<li><a href="../id475608/index.html">Google Pengelola Tag: Pengaturan Pemicu yang Tidak Jelas dan Berguna</a></li>
<li><a href="../id475612/index.html">Diberikan, kapan, pernyataan dan keyakinan dalam implementasi</a></li>
<li><a href="../id475618/index.html">Cara menulis kontrak Python yang cerdas di jaringan Ontology. Bagian 2: API Penyimpanan</a></li>
<li><a href="../id475622/index.html">Memperluas UObject di Unreal Engine 4</a></li>
<li><a href="../id475626/index.html">Bisakah autotests menggantikan seseorang dalam mencari kerentanan: wawancara dengan Alexandra Svatikova</a></li>
<li><a href="../id475630/index.html">Knative - platform berbasis k8s sebagai layanan dengan dukungan serverless</a></li>
<li><a href="../id475636/index.html">Elemen Vektor Bertambah</a></li>
<li><a href="../id475640/index.html">Jika Anda membuat sesuatu, hindari jadwal manajer.</a></li>
<li><a href="../id475642/index.html">Heap hanya mekanisme tuple di PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>