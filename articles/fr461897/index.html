<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèôÔ∏è üßõüèø üë©‚Äç‚öïÔ∏è Comment nous maintenons la stabilit√© de l'application Lamoda üåø üë≥üèø üìà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 

 Je m'appelle Vitaliy Bendik. Je suis chef d'√©quipe pour le d√©veloppement d'applications Android chez Lamoda. En 2018, j'ai pris la ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous maintenons la stabilit√© de l'application Lamoda</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lamoda/blog/461897/">  Bonjour √† tous! <br><br>  Je m'appelle Vitaliy Bendik.  Je suis chef d'√©quipe pour le d√©veloppement d'applications Android chez Lamoda.  En 2018, j'ai pris la parole au Mosdroid Aluminium avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reportage</a> dont je souhaite partager la transcription. <br><br><img src="https://habrastorage.org/webt/0p/_y/mx/0p_ymxjmgcbtrobs8qiw-f2lzp4.jpeg" alt="image"><br><br>  Il s'agira de la fa√ßon dont nous maintenons la stabilit√© de l'application mobile.  C'est tr√®s important pour nous, car notre audience mobile est de millions d'utilisateurs.  De plus, en termes de part dans les commandes de nos clients, les applications ont depuis longtemps d√©pass√© les sites, les versions desktop et mobile au total, et la plateforme iOS est devenue un leader absolu, devant le site desktop. <br><br>  Dans le rapport, je dirai: <br><br><ol><li>  ce que nous entendons par stabilit√© d'application; </li><li>  √Ä propos de l'architecture de notre application mobile; </li><li>  sur les processus, les pratiques et les outils que nous utilisons. </li></ol><br><a name="habracut"></a><br>  Alors, qu'est-ce qu'une <b>application stable</b> pour nous?  Il s'agit d'une application qui ne plante pas, ne se bloque pas et fonctionne de mani√®re pr√©visible.  Quand je dis qu'il ne tombe pas, je veux dire qu'il ne tombe pas dans au moins 95% -99% des utilisateurs. <br><br><h3>  L'architecture </h3><br><img src="https://habrastorage.org/webt/v1/bc/wg/v1bcwgf_aypm-fp3k2uagn2gjig.jpeg" alt="image"><br><br>  Comme vous l'avez peut-√™tre devin√©, cette image montre une architecture pure √† laquelle nous essayons d'adh√©rer.  En tant que couche Pr√©sentation, nous utilisons MVP avec quelques ajouts, dont je parlerai ci-dessous. <br><br>  Notre application mobile est adapt√©e pour les t√©l√©phones et les tablettes.  Par cons√©quent, la disposition est souvent diff√©rente, mais se compose de blocs similaires ou identiques.  √Ä cet √©gard, nous avons une entit√© telle que Widget.  Il vous permet de d√©composer une activit√© ou un fragment en blocs plus petits qui peuvent √™tre r√©utilis√©s dans d'autres √©crans.  Cela a du sens, car du point de vue du code qui se trouve dans le fragment ou dans l'activit√©, il est rarement n√©cessaire de distinguer le contexte de l'interface utilisateur qu'il ex√©cute.  Et ces fragments de code peuvent √™tre rendus dans certaines abstractions et r√©utilis√©s.  Cette approche rappelle quelque peu la biblioth√®que SoundCloud - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LightCycle</a> . <br><br><img src="https://habrastorage.org/webt/5l/ly/cu/5llycut458pm-rmnszcrztwhifw.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/8n/pg/ck/8npgckuh4s2zimenvubugyenpwo.jpeg" alt="image"><br><img src="https://habrastorage.org/webt/oc/5z/g-/oc5zg-kmyn-oyghc_2zkxjo7ymy.jpeg" alt="image"><br>  <i>Page produit.</i>  <i>Exemples d'√©l√©ments de widget</i> <br><br>  En ce qui concerne l'interaction du pr√©sentateur avec le mod√®le, tout est standard ici: le pr√©sentateur interagit avec le reste de l'application via un interacteur, qu'il s'agisse de r√©f√©rentiels ou de gestionnaires. <br><br><img src="https://habrastorage.org/webt/3e/fx/4l/3efx4ldukwcyhe_3bshc9zskg4e.jpeg" alt="image"><br><br>  Il arrive que plusieurs pr√©sentateurs doivent communiquer entre eux, √©changer des donn√©es.  Pour cela, nous avons un coordinateur, qui peut √™tre per√ßu comme un interacteur partag√© entre plusieurs pr√©sentateurs. <br><br><img src="https://habrastorage.org/webt/sy/mg/1v/symg1v51jbojq78kcg_bwn3lnhw.jpeg" alt="image"><br><br><h3>  Pile </h3><br><blockquote>  - Nous √©crivons tout le nouveau code dans <b>Kotlin</b> , et nous utilisons <b>Moxy</b> comme impl√©mentation MVP. <br>  - En tant que DI, nous utilisons <b>Dagger2</b> . <br>  - Pour travailler avec le r√©seau - <b>Retrofit</b> . <br>  - Pour travailler avec des images - <b>Glide</b> . <br>  - Nous ajoutons des plantages √† <b>New Relic</b> . <br>  - Nous utilisons √©galement <b>Lottie</b> . <br>  - Pour le moment, nous utilisons activement <b>Kotlin Coroutines</b> . <br></blockquote><h3>  Processus de d√©veloppement </h3><br>  Nous adh√©rons au flux Git, c'est-√†-dire que chaque fonctionnalit√© est impl√©ment√©e dans une branche de fonctionnalit√© distincte, qui, apr√®s une r√©vision du code, est soumise pour test. <br><br>  Une fois que le testeur a r√©ussi le test et que nous avons d√©cid√© de la version √† laquelle cette fonctionnalit√© ira, elle fusionne dans le ma√Ætre. <br><br>  Lorsque le moment de la lib√©ration arrive (nous serons lib√©r√©s toutes les 2 semaines), la branche rc, o√π les tests de fum√©e sont effectu√©s, est allou√©e, des cas de test sont ex√©cut√©s.  Apr√®s cela, la fonctionnalit√© fusionne dans la branche de production et est publi√©e sur Google Play Beta. <br><br><img src="https://habrastorage.org/webt/bf/yn/if/bfynifrl8boba6todwjxo2n7_qq.jpeg" alt="image"><br><br>  Quant √† CI / CD, puisque nous utilisons la pile Atlassian, Bamboo agit comme un serveur de build. <br><br>  Lorsqu'un d√©veloppeur cr√©e une pull-request, la t√¢che de g√©n√©ration d√©marre sur Bamboo.  Elle extrait le code du r√©f√©rentiel, ex√©cute le script sur fastlane, qui collecte l'application, ex√©cute les tests et le signale √† Slack. <br><br>  Si le testeur a d√©marr√© l'assemblage afin de tester la fonctionnalit√©, apk est √©galement charg√© dans HockeyApp. <br><br>  Pour publier la version sur Google Play Beta, le gestionnaire de diffusion lance la t√¢che correspondante sur Bamboo, qui ex√©cute le m√™me flux, mais t√©l√©charge √©galement la version sur Google Play Beta. <br><br><img src="https://habrastorage.org/webt/fc/iw/sh/fciwshquhla4fxu-8toit3knt1y.jpeg" alt="image"><br><br><h3>  Pratiques appliqu√©es </h3><br>  <b>Version pr√©liminaire</b> <br><br>  Au d√©part, nous avions deux types de montage, comme beaucoup: <br><br>  Version de d√©bogage dans laquelle ProGuard et l'√©pinglage SSL √©taient d√©sactiv√©s. <br>  Version de version dans laquelle ProGuard et SSL Pinning ont √©t√© inclus. <br>  Le processus ressemblait √† ceci: le d√©veloppeur termine le travail sur la fonctionnalit√© et la donne pour les tests.  Le testeur collecte l'ensemble de d√©bogage, teste les cas de test sur celui-ci et v√©rifie l'exactitude des analyses envoy√©es par l'application.  Si tout va bien, alors il envoie la t√¢che √† Ready for release, et elle attend le moment o√π nous commen√ßons √† collecter le communiqu√©. <br><br>  Lorsque vient le temps de publier l'application, le d√©veloppeur fusionne toutes les t√¢ches en ma√Ætre, s√©lectionne la branche rc et lui donne un contr√¥le qualit√© pour les tests de fum√©e.  QA collecte l'assemblage de la version et commence √† ex√©cuter des tests.  Mais il y a des moments o√π quelque chose ne va pas.  Les probl√®mes surviennent g√©n√©ralement en raison de ProGuard.  Bien s√ªr, ils sont rapidement corrig√©s, mais cela peut retarder la lib√©ration ou la retarder pendant un certain temps. <br><br>  Pour cette raison, nous avons cr√©√© une version pr√©liminaire dans laquelle ProGuard est activ√© et l'√©pinglage SSL est d√©sactiv√©.  Cela permet aux testeurs de v√©rifier l'exactitude des analyses soumises (c'est la raison pour laquelle les testeurs n'ont pas initialement construit la version finale). <br>  Maintenant, les QA sont en train de construire une version pr√©liminaire.  Cela leur donne la possibilit√© de tester des analyses et de faire face aux probl√®mes caus√©s par ProGuard le plus t√¥t possible. <br><br>  <b>Sp√©cification d'abord</b> <br><br>  Il s'agit d'une approche dans laquelle la sp√©cification est principale.  Lorsque nous d√©veloppons une nouvelle fonctionnalit√© et qu'elle n√©cessite un backend, une sp√©cification est d'abord cr√©√©e, puis, sur la base de celle-ci, le d√©veloppement de la fonctionnalit√© d√©marre √† la fois du backend et des clients.  Toutes les modifications passent par la sp√©cification, et ce n'est qu'alors que des modifications sont apport√©es au serveur principal et aux clients.  Cette sp√©cification g√©n√®re √©galement une documentation Swagger sur les m√©thodes API. <br><br><img src="https://habrastorage.org/webt/ti/lm/ju/tilmjul8aguyv8tr6mr-9kjhiyo.jpeg" alt="image"><br><br>  Au d√©part, nous avions une API dont les clients n'√©taient pas seulement des applications mobiles.  Les m√©thodes API n'√©taient pas coh√©rentes, ce qui rendait souvent les changements difficiles. <br><br>  Souvent, on a aussi rencontr√© des cas amusants.  Par exemple, lorsque la m√©thode renvoie une liste de marques, dans le cas o√π il y en avait plusieurs, elle renvoyait un tableau et s'il n'y avait qu'une seule marque, elle renvoyait un objet. <br><br><img src="https://habrastorage.org/webt/7f/nz/9h/7fnz9hfpy8vd5ir5_c7xalavk0g.jpeg" alt="image"><br><br>  Ou, en l'absence de marques, soit null a √©t√© retourn√©, soit en g√©n√©ral 4 caract√®res null <br>  (pas JSON).  Dans ce cas, l'application √©tait difficile. <br><br><img src="https://habrastorage.org/webt/n_/2p/q3/n_2pq3xid5geah4rlu5e3nvjnpk.jpeg" alt="image"><br><br>  Par cons√©quent, au fil du temps, nous sommes arriv√©s √† la conclusion que les applications mobiles n√©cessitent leur propre API, qui prendrait en compte leurs sp√©cificit√©s et associerait l'application mobile √† un tas de syst√®mes Lamoda internes avec lesquels vous devez interagir. <br><br><img src="https://habrastorage.org/webt/tu/wt/6y/tuwt6ydqol6aifshqfrqc8ehnlg.jpeg" alt="image"><br><br>  Dans le m√™me temps, nous avons d√©cid√© d'essayer la premi√®re approche de la sp√©cification (sp√©cification Swagger).  Lorsqu'un d√©veloppeur commence √† travailler sur une fonctionnalit√© qui a besoin d'un backend, il fait une pull-request avec un contrat de fonctionnalit√©.  Ensuite, toutes les parties int√©ress√©es des √©quipes iOS, Android et backend sont ajout√©es √† cette pull-request.  Lorsque tout le monde est satisfait du contrat de la nouvelle m√©thode API, la demande d'extraction est vers√©e dans la branche backend et les d√©veloppeurs backend commencent √† d√©velopper des fonctionnalit√©s.  Les clients commencent √©galement √† d√©velopper des fonctionnalit√©s, car le contrat est d√©sormais r√©solu et vous pouvez vous y fier et, si n√©cessaire, cr√©er moki. <br><br>  <b>Bascule de fonction</b> <br><br>  La soci√©t√© dispose de son propre outil de d√©veloppement A / B, qui vous permet de mettre en ≈ìuvre des exp√©riences et des bascules de fonctionnalit√©s.  La fonction bascule nous ferme la fonctionnalit√© non critique pour l'utilisateur, qui, si n√©cessaire, peut √™tre d√©sactiv√©e.  Par exemple, si quelque chose s'est mal pass√©, ou si nous devons r√©duire la charge sur le backend (en option, le ¬´Black Friday¬ª). <br><br>  Les bascules de fonctionnalit√©s nous permettent √©galement de tester les biblioth√®ques pour voir si une autre biblioth√®que r√©soudra mieux notre probl√®me et se comportera plus stable.  Sinon, nous pouvons toujours revenir √† notre biblioth√®que pr√©c√©dente. <br><br>  <b>Surveillance r√©elle des utilisateurs</b> <br><br>  Real User Monitoring vous permet de mesurer les performances des applications du point de vue d'un utilisateur.  Par exemple, un client a cliqu√© sur un article d'un catalogue.  Combien de temps devra-t-il attendre avant de voir le r√©sultat de son action, c'est-√†-dire qu'il voit une fiche produit avec des photos? <br><img src="https://habrastorage.org/webt/jp/3t/gb/jp3tgbvrijxwblubhxw96urwzy0.jpeg" alt="image"><br>  Cela ne peut pas √™tre fait automatiquement, car le point de d√©part et le point final de cette mesure doivent √™tre d√©finis manuellement.  Seul le d√©veloppeur comprend quand on peut supposer que l'utilisateur est pr√™t √† interagir avec le nouvel √©cran.  Dans le processus de cette interaction, nous pouvons √™tre int√©ress√©s par des choses telles que: <br><br>  1. consommation de m√©moire; <br>  2. Consommation CPU; <br>  3. ce qui s'est pass√© sur le flux principal; <br>  4. ce qui a √©t√© charg√© √† partir du r√©seau; <br>  5. ce qui s'est pass√© dans d'autres threads. <br><br>  Cela nous donne la possibilit√© de r√©soudre les probl√®mes s'ils surviennent, car il devient clair que cela a effectivement pris la plupart du temps et que nous pouvons l'optimiser pour que l'application soit plus r√©active √† l'utilisateur. <br><br><h3>  Remboursement de la dette technique </h3><br>  Avant de d√©ployer la nouvelle version, nous corrigeons les plantages survenus dans la version pr√©c√©dente.  Il ne s'agit pas de plantages critiques, car cela n√©cessiterait certainement des correctifs, mais des plantages qui ne se produisent pas trop souvent n'affectent pas les performances de l'entreprise, mais sont d√©sagr√©ables pour les utilisateurs. <br><br>  Apr√®s la sortie de la version, nous la d√©ployons en pourcentage, surveillons les indicateurs critiques et r√©pondons aux incidents s'ils se produisent.  Pour le roulement par phases, nous utilisons la console Google Play.  Le roulement est r√©alis√© comme suit: d√©ploy√© de 5%, nous suivons l'indicateur;  si tout est en ordre, continuez.  Si quelque chose s'est produit, cr√©ez un correctif et d√©ployez-le d√©j√†.  Ensuite, nous faisons un roulement de 10%, 20% et 50%. <br><br>  Quels endroits critiques <b>surveillons-</b> nous? <br><br><ol><li>  Demandes r√©seau, y compris de biblioth√®ques tierces: erreurs, temps de r√©ponse, chargement. </li><li>  L'automne. </li><li>  Exceptions g√©r√©es, les soi-disant ¬´exceptions trait√©es¬ª.  Ce sont des exceptions qui auraient pu se produire si nous ne les avions pas envelopp√©s de try-catch.  Cela permet √† l'application de ne pas tomber si une exception s'est produite dans la fonctionnalit√© non critique pour l'utilisateur.  Par exemple, il est mauvais de tomber √† cause de l'analyse.  Cependant, il est important que les produits comprennent qu'une fonctionnalit√© am√©liore ou aggrave la conversion.  L'utilisation d'exceptions g√©r√©es nous permet de r√©pondre et de r√©soudre ces probl√®mes. </li></ol><br><h3>  Les outils </h3><br><ul><li>  Outil A / B </li><li>  NewRelic RPM </li><li>  NewRelic Insights. </li></ul><br>  <b>L'outil A / B</b> est un m√©canisme permettant de mener des exp√©riences et un m√©canisme de roulement des variables, les m√™mes fonctions-bascule.  Il s'agit d'un d√©veloppement interne, il est donc bien int√©gr√© dans de nombreux syst√®mes: dans les applications mobiles, sur le site, en back-end.  Il vous permet de transmettre la configuration de bascule de fonction non pas dans une demande distincte derri√®re elle, mais dans les en-t√™tes des r√©ponses aux demandes que l'application fait. <br><br>  Cela nous donne l'opportunit√©: <br><br><ul><li>  D√©ployez des exp√©riences sur le bureau lorsque nous voulons tester une fonctionnalit√© √† l'int√©rieur de notre bureau. </li><li>  D√©ployez une exp√©rience, ainsi que des bascules de fonctionnalit√©s pour un utilisateur sp√©cifique. </li></ul><br>  Le syst√®me est ind√©pendant des facteurs externes.  Si nous utilisions un outil tiers, √† un moment donn√©, il pourrait √™tre bloqu√© (bonjour, Roskomnadzor) ou quelque chose pourrait mal tourner.  Pour nous, cela serait critique, car dans ce cas, nous ne pourrions pas basculer rapidement entre les fonctionnalit√©s.  Et puisque c'est notre propre d√©veloppement, nous n'avons pas un tel probl√®me. <br><br>  <b>NewRelic</b> est un outil qui vous permet de surveiller de nombreux indicateurs diff√©rents en temps r√©el.  Parmi la vari√©t√© des fonctionnalit√©s de New Relic, nous utilisons, par exemple, l'instrumentation automatique de code.  C'est elle qui nous permet de surveiller les requ√™tes r√©seau non seulement vers notre backend, mais aussi tout le reste (y compris √† partir de biblioth√®ques tierces).  NewRelic prend en charge un certain ensemble de clients standard pour travailler avec le r√©seau.  Il vous permet √©galement de collecter des informations: <br><br>  1. sur la consommation de m√©moire; <br>  2. sur la consommation du processeur; <br>  3. sur les op√©rations li√©es √† JSON; <br>  4. sur les op√©rations li√©es √† SQlite. <br><br>  De plus, nous utilisons NewRelic pour collecter les rapports de plantage, pour collecter les exceptions g√©r√©es et pour les interactions avec les utilisateurs - c'est exactement la m√™me <b>surveillance r√©elle des utilisateurs</b> .  Nous l'avons impl√©ment√© via le m√©canisme des interactions utilisateurs NewRelic. <br><br><h3>  Mais qu'en est-il de la stabilit√©? </h3><br>  Nous avons un indicateur tel que le taux d'accident.  Auparavant, nous avons d√©ploy√© le correctif lorsque son indicateur √©tait compris entre 0,3% et 0,5%.  Il est absolument essentiel que sa valeur d√©passe 0,5% .Nous d√©ployons maintenant le correctif lorsque le taux de crash se situe entre 0,1% et 0,3%.  Une valeur critique est sup√©rieure √† 0,3% et si, auparavant, le taux de crash moyen de notre application √©tait de 0,1%, il est d√©sormais de 0,05%. <br><br><img src="https://habrastorage.org/webt/3o/dh/wx/3odhwx8ijfu-8ga6vvm-7uinxaq.jpeg" alt="image"><br><br>  En conclusion, je voudrais √©num√©rer les pratiques les plus importantes qui nous aident √† maintenir la stabilit√© des applications.  Nous testons l'application aussi pr√®s que possible de la version de production, fermons la fonctionnalit√© non critique des bascules de fonction, ainsi que surveillons et r√©pondons aux indicateurs qui sont importants pour nous. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461897/">https://habr.com/ru/post/fr461897/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461881/index.html">Guide de journalisation Node.js</a></li>
<li><a href="../fr461885/index.html">EDS est un autre type de fraude</a></li>
<li><a href="../fr461887/index.html">Entr√©e dans Aeronet Episode 2: Homing Drone</a></li>
<li><a href="../fr461891/index.html">Comment nous nous sommes fait des amis dans l'infrastructure bancaire √† l'aide de ManageIQ</a></li>
<li><a href="../fr461895/index.html">Apprenez en voyage - comment nous avons conduit lors de la premi√®re journ√©e europ√©enne de l'analyse commerciale</a></li>
<li><a href="../fr461899/index.html">G√©n√©ration d'√©v√©nements, CQRS et Laravel</a></li>
<li><a href="../fr461901/index.html">Trois ans d'autotests: comment augmenter la vitesse et pas seulement</a></li>
<li><a href="../fr461903/index.html">Adversaire myst√©rieux: emprunts flous</a></li>
<li><a href="../fr461905/index.html">Tic Tac Toe, partie 7: pytest et Travis CI</a></li>
<li><a href="../fr461907/index.html">Analyse de produits dans un studio √† cycle complet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>