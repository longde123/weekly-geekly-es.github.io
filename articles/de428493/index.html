<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî® üïâÔ∏è üë®‚Äç‚öñÔ∏è Git subrepo üë©üèæ‚Äç‚öïÔ∏è üí° üåª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das git-subrepo-Projekt existiert schon lange, es gibt jedoch nur wenige Hinweise darauf. Der Autor von git-subrepo ist Ingy d√∂t Net . 



 Wenn Sie s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Git subrepo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428493/"><p>  Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b>git-subrepo-Projekt</b></a> existiert schon lange, es gibt jedoch nur wenige Hinweise darauf.  Der Autor von <b>git-subrepo</b> ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b>Ingy d√∂t Net</b></a> . <br></p><br><p>  Wenn Sie sich die Geschichte der Commits des Hauptzweigs des Projekts ansehen, scheint es, dass das Projekt vor 2 Jahren in der Entwicklung gestoppt wurde.  Die Arbeiten an dem Projekt sind jedoch im Gange und ich hoffe, dass Version <a href="" rel="nofollow"><b>0.4.0</b></a> bald ver√∂ffentlicht wird. <br></p><br><p>  Eine wichtige Eigenschaft dieses Tools ist, dass der Benutzer <b>git-subrepo</b> erst installieren <b>muss,</b> wenn der Benutzer <b>festlegt</b> , Commits im Upstream-Repository von Teilprojekten <b>durchzuf√ºhren</b> .  Dar√ºber hinaus erh√§lt der Benutzer zum Zeitpunkt des Kopierens des Hauptrepositorys mit dem Standardbefehl <em><b>git-clone (1)</b></em> einen vollst√§ndig vorbereiteten und konfigurierten <em><b>Quellbaum</b></em> . <br></p><a name="habracut"></a><br><p> Bei der Auswahl der Mittel zur Unterst√ºtzung von Submodulen / Teilb√§umen / Teilprojekten des Hauptcontainer-Repositorys bestimmt der Entwickler zun√§chst den Funktionsumfang, den dieser oder jener Mechanismus bietet, und beantwortet die folgenden Fragen: <br></p><br><ul><li>  ob es notwendig ist, den vollst√§ndigen Verlauf des Teilprojekts im Haupt-Repository oder gen√ºgend gequetschte Commits zu speichern; </li><li>  ob die F√§higkeit erforderlich ist, √Ñnderungen vom Teilprojekt an das vorgelagerte Repository des Teilbaums zu liefern; </li><li>  M√ºssen feste Tags des Upstream-Repositorys des Teilprojekts verbunden werden, oder k√∂nnen Zweige verbunden werden? </li><li>  ob es notwendig sein wird, sowohl die Teilprojekte selbst als auch, was unn√∂tig geworden ist, einen Teil der Geschichte dieser Teilprojekte weiter zu entfernen; </li><li>  ob der Benutzer nach dem Klonen des Repositorys des Hauptprojekts Ma√ünahmen ergreifen muss, um Teilprojekte manuell zu konfigurieren; </li><li>  Wie m√ºhsam wird die Frage sein, die Geschichte der Verbindung von Teilprojekten und spezifischen Revisionen, aus denen das Teilprojekt stammt, zu analysieren? </li><li>  Wie sich dieses oder jenes Tool auf die Quellkonfigurationsverwaltungsrichtlinie auswirkt und wie sehr dieses Tool die t√§gliche Arbeit der Ingenieure erschwert. </li></ul><br><p>  Nat√ºrlich kann diese Liste von Fragen nicht die F√ºlle der Eingabeparameter widerspiegeln, die f√ºr die richtige Auswahl erforderlich sind, aber f√ºr eine vorl√§ufige √úberpr√ºfung der vorhandenen Tools ist sie v√∂llig ausreichend, und <b>wenn</b> wir vom <b>git-subrepo-Projekt sprechen</b> , fordern wir den Leser auf, dieses Projekt von diesen Positionen aus zu betrachten. <br></p><br><h2>  Git-Subrepo-Installation </h2><br><p>  Das <b>git-subrepo-Paket</b> kann auf Entwicklerseite sowohl lokal, in seinem Home-Verzeichnis als auch auf Systemebene installiert werden. <br></p><br><p>  Im ersten Fall reicht es aus, das <b>git-subrepo-Repository</b> in das gew√ºnschte Verzeichnis zu klonen, z. B. <b>~ / bin</b> : <br></p><br><pre><code class="bash hljs">bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/bin bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/ingydotnet/git-subrepo.git</code> </pre> <br><p>  und Umgebungsvariablen einrichten <br></p><br><pre> <code class="bash hljs">bash-4.4$ vim subrepo-env.sh <span class="hljs-comment"><span class="hljs-comment">#!/bin/sh export GIT_SUBREPO_ROOT="/home/username/bin/git-subrepo" export PATH="/home/username/bin/git-subrepo/lib:$PATH" export MANPATH="/home/username/bin/git-subrepo/man:$MANPATH" :wq bash-4.4$ source ./subrepo-env.sh</span></span></code> </pre><br><p>  Wenn Sie sich die im <b>Makefile von git-subrepo</b> definierten Variablen <b>ansehen</b> : <br></p><br><pre> <code class="plaintext hljs"># Install variables: PREFIX ?= /usr/local INSTALL_LIB ?= $(DESTDIR)$(shell git --exec-path) INSTALL_EXT ?= $(INSTALL_LIB)/$(NAME).d INSTALL_MAN1 ?= $(DESTDIR)$(PREFIX)/share/man/man1</code> </pre><br><p>  Es ist leicht herauszufinden, dass <b>git-subrepo auf Systemebene</b> in dem Verzeichnis installiert <b>ist</b> , in dem sich <b>Git</b> befindet: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git --<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-path /usr/libexec/git-core bash-4.4$</code> </pre><br><p>  So kann der Befehl zum Installieren von <b>git-subrepo</b> beispielsweise wie folgt aussehen: <br></p><br><pre> <code class="bash hljs">bash-4.4$ make PREFIX=/usr install</code> </pre><br><p>  Das Vorhandensein der <b>DESTDIR-</b> Variablen erm√∂glicht es ohne zus√§tzlichen Aufwand (nat√ºrlich, wenn wir uns nicht in einer Umgebung befinden), ein Paket f√ºr jede Linux- <b>Distribution zu</b> erstellen, das f√ºr DevOps-Ingenieure n√ºtzlich sein kann. <br></p><br><p>  Installieren Sie <b>git-subrepo</b> als root: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> git-subrepo/ bash-4.4$ make PREFIX=/usr install install -C -d -m 0755 /usr/libexec/git-core/ install -C -m 0755 lib/git-subrepo /usr/libexec/git-core/ install -C -d -m 0755 /usr/libexec/git-core/git-subrepo.d/ install -C -m 0755 lib/git-subrepo.d/<span class="hljs-built_in"><span class="hljs-built_in">help</span></span>-functions.bash lib/git-subrepo.d/bash+.bash /usr/libexec/git-core/git-subrepo.d/ install -C -d -m 0755 /usr/share/man/man1/ install -C -m 0644 man/man1/git-subrepo.1 /usr/share/man/man1/ bash-4.4$</code> </pre><br><p>  Um die F√§higkeiten von <b>git-subrepo</b> zu analysieren <b>,</b> ben√∂tigen wir eine einfache Testumgebung, in der wir Standardbetriebsszenarien reproduzieren k√∂nnen. <br></p><br><h3>  Testumgebung </h3><br><p>  Wir erstellen drei Verzeichnisse <b>Eigent√ºmer</b> , <b>Remote</b> , <b>Benutzer</b> , in denen wir Modelle von Upstream- und lokalen Repositorys des Entwicklers und Benutzers platzieren. <br></p><br><pre> <code class="bash hljs">bash-4.4$ vim _init.sh <span class="hljs-comment"><span class="hljs-comment">#!/bin/sh CWD=`pwd` mkdir remote owner user cd remote git init --bare build-system.git git init --bare platform.git cd ../owner git clone $CWD/remote/build-system.git git clone $CWD/remote/platform.git cd build-system echo -e "\n[master] build-system 1.0.0\n" &gt;README git add README git commit -m "init build-system master 1.0.0" git push cd ../platform echo -e "\n[master] platform 1.0.0\n" &gt;README git add README git commit -m "init platform master 1.0.0" git push cd ../../user git clone $CWD/remote/build-system.git git clone $CWD/remote/platform.git cd $CWD :wq bash-4.4$ bash-4.4$ ./_init.sh bash-4.4$</span></span></code> </pre><br><br><p>  Hier <br></p><br><div class="scrollable-table"><table><tbody><tr><td>  <b><nobr>Besitzer</nobr></b> </td><td>  - - </td><td>  Arbeitsverzeichnis des Projektautors; </td></tr><tr><td>  <b><nobr>Fernbedienung</nobr></b> </td><td>  - - </td><td>  Ein Verzeichnis, das den Server des Autors der Projekte darstellt, auf dem sich die vorgelagerten Repositorys der Hauptprojektplattform.git und des Unterprojekts <b>build-system.git befinden</b> . </td></tr><tr><td>  <b><nobr>Benutzer</nobr></b> </td><td>  - - </td><td>  Das Arbeitsverzeichnis des Benutzers oder Mitglieds des Entwicklungsteams. </td></tr></tbody></table></div><br><p>  Der Autor des Projekts und die Benutzer haben ihre eigenen Kopien der vorgelagerten Repositorys auf ihren Computern, die in unserem Beispiel im <b>Eigent√ºmer-</b> bzw. <b>Benutzerverzeichnis dargestellt</b> werden. <br></p><br><p>  Die Aufgabe des Autors besteht darin, die folgenden Funktionen in den Hauptbaum der <b>Plattform aufzunehmen, indem</b> das Teilprojekt <b>builld-system</b> in den Hauptbaum aufgenommen wird: <br></p><br><ul><li>  Klonen Sie das Haupt-Repository mit dem in seiner Struktur enthaltenen <b>Build-System-</b> Teilprojekt und sorgen Sie sich nicht um das Einrichten von Versionen oder Revisionen.  Das hei√üt, jeder Zweig des <b>Plattform-</b> Repositorys sollte einer bestimmten Revision eines bestimmten Zweigs des <b>Build-System-</b> Repositorys entsprechen, und der Benutzer sollte einen angepassten Quellbaum in einer <em><b>git-clone (1)</b></em> -Operation ohne zus√§tzliche Aktionen erhalten. </li><li>  √úbermitteln Sie ihre √Ñnderungen an das vorgelagerte Projekt-Repository, sowohl im Haupt- als auch im Hilfsprojekt. </li><li>  Sie erhalten nat√ºrlich √Ñnderungen, die von anderen Projektteilnehmern oder Benutzern vorgenommen wurden, wenn diese √ºber die entsprechenden Rechte verf√ºgen. </li></ul><br><p>  Ber√ºcksichtigen Sie die Aktionen des Autors, die er implementieren muss, um diese Anforderungen zu implementieren. <br></p><br><h3>  Teilprojektverbindung </h3><br><p>  Verwenden Sie zum Verbinden eines neuen Teilbaums den Befehl <b>git subrepo clone</b> , der in seinem Zweck dem Befehl <em><b>git-clone (1)</b></em> √§hnelt.  Der erforderliche Parameter f√ºr den Befehl ist die <b>URL des</b> Remote-Repositorys.  Sie k√∂nnen auch das Verzeichnis angeben, in dem sich das Teilprojekt und der Remote-Repository-Zweig befinden.  Wir werden mit Hauptzweigen arbeiten, daher lassen wir in unserem Beispiel unn√∂tige Befehlsparameter weg. <br></p><br><p>  Der Autor des Projekts kann also auf seinem <b>Arbeitscomputer</b> das <b>Build-System-</b> Teilprojekt mit dem <b>Befehl git subrepo clone verbinden ./../remote/build-system.git/ build-system Befehl</b> : <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/platform/ bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git/ build-system Subrepo <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master) cloned into <span class="hljs-string"><span class="hljs-string">'build-system'</span></span>. bash-4.4$</code> </pre><br><p>  √úberlegen Sie, welche √Ñnderungen im lokalen <b>Plattform-</b> Repository vorgenommen wurden: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 1 commit. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ bash-4.4$ bash-4.4$ git subrepo status 1 subrepo: Git subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span>: Remote URL: ../../remote/build-system.git Upstream Ref: b2f5079 Tracking Branch: master Pulled Commit: b2f5079 Pull Parent: b5e76a7 bash-4.4$</code> </pre><br><p>  Der Verlauf des <b>Build-System-</b> Teilprojekts wird nicht an den Hauptbaum √ºbergeben, es gibt nur ein Squashed-Commit, das von Hintergrundinformationen begleitet wird.  Diese Informationen <b>unterliegen der</b> Versionskontrolle in der Datei <b>./build-system/.gitrepo/config</b> : <br></p><br><pre> <code class="plaintext hljs">[subrepo] remote = ../../remote/build-system.git branch = master commit = b2f507918f2821cb7dd90c33223ed5cc3c9922a2 parent = b5e76a713f895565b06ee3ccfa29f19131ba06dd method = merge cmdver = 0.4.1</code> </pre><br><p>  Informationen zu Teilprojekten k√∂nnen mit dem <b>Befehl git subrepo config</b> abgerufen werden, um beispielsweise die Revision des Upstream-Projekts <b>remote / build-system.git</b> , das gerade im <b>Hauptrepository</b> eingetroffen ist, mithilfe des folgenden Befehls zu ermitteln: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo config build-system commit Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> option <span class="hljs-string"><span class="hljs-string">'commit'</span></span> has value <span class="hljs-string"><span class="hljs-string">'b2f507918f2821cb7dd90c33223ed5cc3c9922a2'</span></span>. bash-4.4$</code> </pre><br><blockquote>  <em>Es sollte erw√§hnt werden, dass das urspr√ºngliche <b>git-subrepo-</b> Paket keine Informationen zu Teilprojekten in der <b>.gitrepo / config-</b> Datei, sondern in der <b>.gitrepo-</b> Datei speichert.</em> <br></blockquote><br><p>  Wir haben also die neueste Version des Hauptzweigs des Upstream-Repositorys <b>remote / build-system.git erhalten</b> und im Unterverzeichnis <b>build-system</b> des Hauptplattformprojekts abgelegt. <br></p><br><p>  Um diese √Ñnderungen an das Upstream-Repository <b>remote / platform.git zu senden</b> , muss der Autor den Befehl <b>git push</b> ausf√ºhren: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git push Enumerating objects: 7, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (6/6), 849 bytes | 849.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 6 (delta 0), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git &lt;font color=<span class="hljs-string"><span class="hljs-string">"#8b0000"</span></span>&gt;b5e76a7..6b831e4&lt;/font&gt; master -&gt; master bash-4.4$</code> </pre><br><p>  Weitere Informationen zu <b>git subrepo-Befehlen</b> erhalten Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">ReadMe.pod-</a> Datei oder in der Befehlszeile <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> &lt;<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>&gt;</code> </pre><br><p>  zum Beispiel: <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span></code> </pre><br><p>  Betrachten Sie nun alles, was seitens des Benutzers passiert. <br></p><br><br><h3>  Code von Benutzern abrufen </h3><br><p>  In dem Moment, in dem der Benutzer noch kein Update f√ºr die Upstream-Repository- <b>Plattform.git erhalten hat</b> , enth√§lt seine Kopie eine <b>README-Datei</b> <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> user/platform/ bash-4.4$ ls README bash-4.4$</code> </pre><br><p>  mit einer Zeile: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ cat README [master] platform 1.0.0 bash-4.4$</code> </pre><br><p>  Nach dem Aufbrechen von Upstream-Repository-√Ñnderungen <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git pull remote: Enumerating objects: 7, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Counting objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Total 6 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (6/6), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. From /home/prog/0.4.1/remote/platform b5e76a7..6b831e4 master -&gt; origin/master Updating &lt;font color=<span class="hljs-string"><span class="hljs-string">"#8b0000"</span></span>&gt;b5e76a7..6b831e4&lt;/font&gt; Fast-forward build-system/.gitrepo/config | 12 ++++++++++++ build-system/README | 3 +++ 2 files changed, 15 insertions(+) create mode 100644 build-system/.gitrepo/config create mode 100644 build-system/README bash-4.4$</code> </pre><br><p>  Dem Benutzer steht der Code des <b>Build-System-</b> Teilprojekts zur Verf√ºgung, der genau der vom Autor des Projekts festgelegten Revision entspricht.  Der Benutzer kann die aktuelle Version jederzeit mit dem Befehl <b>config</b> aktualisieren: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo config build-system/ commit Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> option <span class="hljs-string"><span class="hljs-string">'commit'</span></span> has value <span class="hljs-string"><span class="hljs-string">'b2f507918f2821cb7dd90c33223ed5cc3c9922a2'</span></span>. bash-4.4$</code> </pre><br><p>  Es ist bemerkenswert, dass der Benutzer keine zus√§tzlichen Einstellungen vornehmen muss und sich darauf verlassen kann, dass der Autor des Projekts ihm genau die <b>Build-System-</b> Revision gegeben hat, die erforderlich ist, damit die aktuelle Version der <b>Plattform</b> funktioniert. <br></p><br><p>  Das hat der Autor des Projekts gesucht. <br></p><br><h3>  Stellen Sie √Ñnderungen an einem vorgelagerten Projekt bereit </h3><br><p>  Angenommen, unser Benutzer ist jetzt Mitglied des Projekts und darf √Ñnderungen nicht nur am Upstream-Repository <b>remote / platform.git</b> , sondern auch am Upstream-Repository des <b>Teilprojekts remote / build-system.git vornehmen</b> . <br></p><br><p>  Wenn der Benutzer dann die √Ñnderungen vornimmt: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build-system/ bash-4.4$ vim README bash-4.4$ cat README [master] build-system 1.0.1 bash-4.4$ bash-4.4$ git commit -a -m <span class="hljs-string"><span class="hljs-string">"update BS version to 1.0.1"</span></span> [master d30b001] update BS version to 1.0.1 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .. bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> commit d30b001286b08708f5c30c1f5346a90e4339f969 (HEAD -&gt; master) Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:49:32 2018 +0300 update BS version to 1.0.1 . . . bash-4.4$</code> </pre><br><p>  Er kann sie wie folgt in vorgelagerte Repositories stellen: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git subrepo push build-system/ Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> pushed to <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master). bash-4.4$</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Es ist wichtig zu beachten, dass ...</b> <div class="spoiler_text"><p>  Da die Konfigurationsdateien der Teilprojekte <b>.gitrepo / config</b> unter Versionskontrolle gespeichert sind, muss der Benutzer die Status√§nderungen des Teilprojekts an das Upstream-Repository des Hauptprojekts <b>remote / platform.git</b> senden. <br></p><br><p>  Das hei√üt, der Benutzer sollte nicht vergessen, den Status des lokalen Repositorys zu √ºberpr√ºfen und den Befehl <em><b>git-push (1)</b></em> rechtzeitig auszuf√ºhren. <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 2 commits. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ bash-4.4$ git push Enumerating objects: 14, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (14/14), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (7/7), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (9/9), 992 bytes | 992.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 9 (delta 1), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git d00be9f..deccb66 master -&gt; master bash-4.4$</code> </pre><br><p>  Andernfalls wird beim n√§chsten √Ñndern des Upstream-Repositorys ein Zusammenf√ºhrungskonflikt angezeigt. <br></p><br><p>  Nat√ºrlich gibt es hier nichts Ungew√∂hnliches, aber nach dem Ausf√ºhren des <b>Befehls git subrepo push ... kann</b> der Status der lokalen Kopie des <b>Hauptrepositorys</b> leicht vergessen werden. <br></p><br></div></div><br><br><h3>  Direkte Arbeit mit dem Upstream-Repository </h3><br><p>  Betrachten Sie nun, was im Upstream-Repository <b>remote / build-system.git</b> passiert ist <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/build-system/ bash-4.4$ bash-4.4$ git pull remote: Enumerating objects: 5, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Counting objects: 100% (5/5), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. remote: Total 3 (delta 0), reused 0 (delta 0) Unpacking objects: 100% (3/3), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. From /home/prog/0.4.1/remote/build-system b2f5079..d229920 master -&gt; origin/master Updating b2f5079..d229920 Fast-forward README | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ bash-4.4$ git <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> commit d229920c7de34405bc7b8d47f36d420987687908 (HEAD -&gt; master, origin/master) Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:49:32 2018 +0300 update BS version to 1.0.1 commit b2f507918f2821cb7dd90c33223ed5cc3c9922a2 Author: user &lt;___@_____&gt; Date: Tue Oct 30 10:05:30 2018 +0300 init build-system master 1.0.0 bash-4.4$</code> </pre><br><p>  Das hei√üt, der Autor des Projekts hat die vom Projektteilnehmer vorgenommenen √Ñnderungen erhalten. <br></p><br><p>  Nat√ºrlich kann der Autor √Ñnderungen direkt am Upstream-Repository des <b>Build-System-</b> Projekts vornehmen: <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/build-system/ bash-4.4$ bash-4.4$ vim README bash-4.4$ cat README [master] build-system 1.0.2 bash-4.4$ git commit -a -m <span class="hljs-string"><span class="hljs-string">"update build-system version to 1.0.2"</span></span> [master 8255f59] update build-system version to 1.0.2 1 file changed, 1 insertion(+), 1 deletion(-) bash-4.4$ git push Enumerating objects: 5, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (5/5), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (3/3), 281 bytes | 281.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 3 (delta 0), reused 0 (delta 0) To /home/prog/0.4.1/remote/build-system.git d229920..8255f59 master -&gt; master bash-4.4$</code> </pre><br><p>  Alle Teilnehmer sowie Benutzer des Hauptprojekts k√∂nnen diese √Ñnderungen mit dem <b>Befehl git subrepo pull erhalten</b> <br></p><br><pre> <code class="bash hljs">bash-4.4$ bash-4.4$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> owner/platform/ bash-4.4$ bash-4.4$ git subrepo pull build-system/ Subrepo <span class="hljs-string"><span class="hljs-string">'build-system'</span></span> pulled from <span class="hljs-string"><span class="hljs-string">'../../remote/build-system.git'</span></span> (master). bash-4.4$ git status On branch master Your branch is ahead of <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> by 1 commit. (use <span class="hljs-string"><span class="hljs-string">"git push"</span></span> to publish your <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> commits) nothing to commit, working tree clean bash-4.4$ git push Enumerating objects: 11, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Counting objects: 100% (11/11), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Delta compression using up to 4 threads Compressing objects: 100% (4/4), <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Writing objects: 100% (6/6), 670 bytes | 670.00 KiB/s, <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Total 6 (delta 1), reused 0 (delta 0) To /home/prog/0.4.1/remote/platform.git 6b831e4..b6f4a7b master -&gt; master bash-4.4$</code> </pre><br><h2>  Schlussfolgerungen </h2><br><p>  Wenn der Entwickler den Verlauf von Teilprojekten nicht im Haupt-Repository speichern muss und bei der Bereitstellung des Codes eher mit Zweigen als mit festen Tags arbeitet, eignet sich <b>git-subrepo</b> gut f√ºr die Organisation der t√§glichen Arbeit. <br></p><br><p>  Bedingt ist einer der Nachteile von <b>git-subrepo</b> die Tatsache, dass die <b>git-subrepo</b> <b>-Klonoperation</b> nur in Bezug auf die Teilprojektzweige m√∂glich ist.  Mit anderen Worten, der Benutzer kann das Teilprojekt nicht unter Bezugnahme auf sein festes Tag oder eine bestimmte Revision verbinden, dh Befehle wie <br></p><br><pre> <code class="bash hljs">bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git build-system -t 1.0.1 bash-4.4$ git subrepo <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ../../remote/build-system.git build-system 7f5d1113eb0bc6</code> </pre><br><p>  nicht g√ºltig. <br></p><br><h3>  LITERATUR: </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Git - Subtree Merging</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Git-Teilb√§ume beherrschen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Git-Submodule beherrschen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Git subrepo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Verwaltungsmodell f√ºr Verzweigungs- und Git-Module f√ºr ein gro√ües Projekt</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428493/">https://habr.com/ru/post/de428493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428481/index.html">Digitale Vertr√§ge: Eine Kurzanleitung f√ºr NICHT Anw√§lte</a></li>
<li><a href="../de428485/index.html">Die meisten nervigen Menschen sind irrelevante Werbung und die Verwendung von Gadgets in der √ñffentlichkeit</a></li>
<li><a href="../de428487/index.html">Warum Ruby on Rails gut ist und wie es die Entwicklung beschleunigt</a></li>
<li><a href="../de428489/index.html">D√ºnnheit und Dicke der Symbole. Sketch Pro, Rendering-Funktionen und ein Spiel mit Linienst√§rke</a></li>
<li><a href="../de428491/index.html">Proaktive Optimierung der Oracle-Datenbankleistung</a></li>
<li><a href="../de428495/index.html">Wie ich 13 Jahre lang einen Fu√üballsimulator gemacht habe</a></li>
<li><a href="../de428497/index.html">Noolite SUF-1-300 Custom Wireless Dimmer</a></li>
<li><a href="../de428499/index.html">Gruselige blaue Riesen k√∂nnen die Geheimnisse der Sternentwicklung enth√ºllen</a></li>
<li><a href="../de428501/index.html">DartUP: Die erste russischsprachige Konferenz √ºber Dart und Flutter am 1. Dezember in St. Petersburg</a></li>
<li><a href="../de428503/index.html">√úbersicht √ºber die Referenzvektor-Methode (SVM) des Algorithmus f√ºr maschinelles Lernen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>