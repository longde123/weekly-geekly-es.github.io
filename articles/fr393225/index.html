<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌸 😉 💅🏾 Voltmètre à quatre canaux 0-50V basé sur le kit de laboratoire numérique NR05 👏🏾 🤾🏾 🌹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Souvent , il est nécessaire de surveiller simultanément plusieurs tensions, par exemple, la sortie de la tension d'alimentation de l' ordinateur, plus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Voltmètre à quatre canaux 0-50V basé sur le kit de laboratoire numérique NR05</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/393225/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Souvent , </font><font style="vertical-align: inherit;">il est nécessaire de surveiller simultanément plusieurs tensions, par exemple, la sortie de la </font><font style="vertical-align: inherit;">tension d'alimentation de l' </font><font style="vertical-align: inherit;">ordinateur, plusieurs batteries et ainsi de </font><font style="vertical-align: inherit;">suite. N. La </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dernière publication</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous avons examiné comment le travail la serrure à combinaison, et maintenant, sur la base du kit de carte d'extension </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">« Digital Lab» NR05</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Collect numérique à </font><font style="vertical-align: inherit;">quatre canaux voltmètre avec indication des résultats sur l'écran intégré à la carte. La plage de tensions mesurées peut être modifiée à l'aide d'un diviseur externe, et l'étape de mesure est déterminée par la résolution du convertisseur analogique-numérique (ADC) du microcontrôleur Atmega 328 utilisé dans la carte Arduino et est de 1024 valeurs. Ensuite, dans la plage de tension de 0 à 50 V, l'étape de mesure de la tension sera d'environ 50 mV, ce qui est tout à fait suffisant pour un usage domestique.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1c8/740/bbe/1c8740bbebde493992785c65a2974e5e.jpg" width="500"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous connecterons les tensions mesurées aux entrées analogiques libres de la carte. Ce sont les entrées A0, A4, A5 et A7 situées dans la partie inférieure droite de la carte. Pour utiliser l'entrée A0, retirez temporairement la résistance R4 située près du connecteur XP3 dans la partie inférieure droite de la carte.</font></font><br>
<br>
<img src="https://habrastorage.org/files/725/c9b/33d/725c9b33dd8e44b7999e89b30c2d566c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons fabriquer un diviseur externe avec des connecteurs pour connecter les tensions mesurées et une carte d'extension en utilisant la méthode LUT (dite "technologie de repassage laser") et graver la carte dans une solution de chlorure ferrique. Nous avons utilisé des résistances SMD, mais si vous n'avez pas d'imprimante laser, vous pouvez faire le séparateur en dessinant des conducteurs avec un stylo feutre étanche. Dans ce cas, il est préférable d'utiliser des résistances de sortie, car la précision de taille des conducteurs résultants sera plus faible. En détail, la technologie de fabrication de circuits imprimés par gravure dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">du chlorure ferrique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut être étudiée en achetant un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">jeu de NN201</font></a><font style="vertical-align: inherit;"> produit par Master Kit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le panneau de séparation fini est illustré sur la photo ci-dessous.</font></font><br>
<br>
<img src="https://habrastorage.org/files/528/eb4/bd8/528eb4bd8c1e4c6799e66e46b7dffed5.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La carte d'extension a un écran à cristaux liquides à 2 lignes avec 16 caractères sur chaque ligne. </font><font style="vertical-align: inherit;">Sur un tel indicateur, quatre lectures de 0 à 50 volts avec une décimale et des identificateurs de canal sont assez confortables à placer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mesures elles-mêmes sont recommandées d'effectuer plusieurs fois en peu de temps, en faisant la moyenne de leurs valeurs. </font><font style="vertical-align: inherit;">Cela réduira les erreurs de mesure aléatoires. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous réalisons également dans le programme «gel» les résultats lorsque vous cliquez sur l'un des boutons intégrés dans la carte, par exemple, celui du milieu. </font><font style="vertical-align: inherit;">Une deuxième pression reprendra les mesures en continu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utilisons la LED connectée à la 13e sortie numérique d'Arduino pour indiquer le processus de mesure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ce qui précède, nous réaliserons un programme pour Arduino:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler</font></font></b><div class="spoiler_text">/*--------------------------------------------------------------<br>
   0-50,  ,<br>
    ,    LCD-<br>
 16 , 2 , <br>
 <br>
       <br>
 NR05 « »; 4   10  <br>
 1, 100,     A0,A4,A5,A7<br>
 <br>
   <br>
   5     V_REF<br>
     .<br>
     -<br>
    .<br>
 <br>
     (<br>
   )<br>
    Vin    <br>
  .<br>
   Vout   .<br>
   DIV_*   Vin/Vout.<br>
 <br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">startingelectronics.com</a><br>
--------------------------------------------------------------*/<br>
#include &lt;LiquidCrystal.h&gt;<br>
<br>
//   (    )<br>
#define LED 13<br>
//     <br>
#define NUM_SAMPLES 20<br>
//   <br>
#define DIV_1 11.186<br>
#define DIV_2 11.186<br>
#define DIV_3 11.186<br>
#define DIV_4 11.186<br>
//    <br>
#define V_REF 4.575<br>
//    <br>
#define NUM_KEYS 5<br>
//      ( )<br>
int adcKeyVal[NUM_KEYS] = {30, 150, 360, 535, 760};<br>
<br>
LiquidCrystal lcd(A1, A2, A3, 2, 4, 7);<br>
unsigned long sum[4] = {0}; //     <br>
unsigned char sample_count = 0; //   <br>
float voltage[4] = {0.0}; //  <br>
int cnt = 0; //  <br>
int keyIsPressed = 0; //    «» <br>
<br>
void setup()<br>
{<br>
 lcd.begin(16, 2);<br>
 pinMode(LED, OUTPUT);<br>
 digitalWrite(LED, LOW);<br>
}<br>
<br>
void loop()<br>
{<br>
 //   3 ,     «»<br>
 if (get_key() == 3){<br>
 keyIsPressed = !keyIsPressed;<br>
 delay(500);<br>
 }<br>
 //    (1),     <br>
 if (keyIsPressed == 0){<br>
 digitalWrite(LED, LOW);<br>
 //        <br>
 while (sample_count &lt; NUM_SAMPLES) {<br>
 // sample channel A0, A4, A5, A7<br>
 sum[0] += analogRead(A0);<br>
 sum[1] += analogRead(A4);<br>
 sum[2] += analogRead(A5);<br>
 sum[3] += analogRead(A7);<br>
 sample_count++;<br>
 delay(10);<br>
 }<br>
 digitalWrite(LED, HIGH);<br>
 //         <br>
 for (cnt = 0; cnt &lt; 4; cnt++) {<br>
 voltage[cnt] = ((float)sum[cnt] / (float)NUM_SAMPLES * V_REF) / 1024.0;<br>
 }<br>
 //    <br>
 lcd.setCursor(0, 0);<br>
 lcd.print(«A „);<br>
 lcd.print(voltage[0] * DIV_1, 1);<br>
 lcd.print(“V „);<br>
 // voltage 2 — B (pin A4)<br>
 lcd.setCursor(8, 0);<br>
 lcd.print(“B „);<br>
 lcd.print(voltage[1] * DIV_2, 1);<br>
 lcd.print(“V „);<br>
 // voltge 3 — C (pin A5)<br>
 lcd.setCursor(0, 1);<br>
 lcd.print(“C „);<br>
 lcd.print(voltage[2] * DIV_3, 1);<br>
 lcd.print(“V „);<br>
 // voltage 4 — D (pin A7)<br>
 lcd.setCursor(8, 1);<br>
 lcd.print(“D „);<br>
 lcd.print(voltage[3] * DIV_4, 1);<br>
 lcd.print(“V „);<br>
 <br>
 //    <br>
 sample_count = 0;<br>
 for (cnt = 0; cnt &lt; 4; cnt++) sum[cnt] = 0;<br>
 delay(20);<br>
 }<br>
}<br>
<br>
//     <br>
int get_key()<br>
{<br>
 int input = analogRead(A6);<br>
 int k;<br>
 for (k = 0; k &lt; NUM_KEYS; k++)<br>
 if (input &lt; adcKeyVal[k])<br>
 return k + 1;<br>
 return 0;<br>
}<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme est équipé de commentaires suffisamment détaillés expliquant les caractéristiques de la mise en œuvre de l'algorithme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La caractéristique la plus importante est peut-être le processus d'étalonnage des constantes décrites dans les commentaires impliqués dans le calcul des tensions mesurées. Pour calibrer le diviseur (effectué une fois), utilisez une source de tension constante stable. Étant donné que l'étalonnage prend peu de temps, vous pouvez utiliser avec succès une pile 9 V «Krona» et un multimètre numérique. Un multimètre du "Set of a Young Electronic Engineer" NR02 est tout à fait approprié. Ce kit est également idéal pour enseigner la soudure et l'assemblage de circuits imprimés.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que lorsque la tension d'alimentation arrivant à Arduino change, les valeurs d'étalonnage de la tension de référence doivent être modifiées en conséquence, dont les valeurs relatives sont mesurées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour modifier la plage de mesure, il est nécessaire d'appliquer un diviseur avec un rapport de division différent de la tension d'entrée.</font></font><br>
<br>
<img src="https://habrastorage.org/files/fa0/05b/268/fa005b268fa4431ca6ee067bb716048a.jpg"></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr393225/">https://habr.com/ru/post/fr393225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr393211/index.html">Comment un printemps glissant tombe-t-il? [Vert Dider]</a></li>
<li><a href="../fr393215/index.html">Le Japon remplacera les agriculteurs par des robots et des tracteurs sans pilote</a></li>
<li><a href="../fr393217/index.html">Hacker Geohot travaillera sur une auto concurrente Tesla sans pilote avec l'ingénieur en chef de Tesla Motors</a></li>
<li><a href="../fr393219/index.html">À quoi s'attendre pour un informaticien dans le domaine de la finance: exigences et technologies utilisées</a></li>
<li><a href="../fr393223/index.html">Le cycle des drogues dans la nature: la drogue excrétée par le corps pénètre à nouveau dans la nourriture</a></li>
<li><a href="../fr393227/index.html">La prise d'aspirine augmente les chances de survie des patients atteints de cancer de 20%</a></li>
<li><a href="../fr393231/index.html">MI Guitar - une guitare pour ceux qui veulent jouer de la guitare mais ne veulent pas l'apprendre</a></li>
<li><a href="../fr393233/index.html">Un système de mouvement virtuel simple et efficace: le contrôleur de pantalon</a></li>
<li><a href="../fr393235/index.html">Au cosmodrome de Vostochny, un lanceur Soyouz 2.1a a été installé pour le premier lancement</a></li>
<li><a href="../fr393237/index.html">Une brève histoire du développement des véhicules sans pilote</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>