<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤛🏽 🙇🏿 🧚🏽 Wie man Freunde Alice und HomeBridge findet 👧🏽 🤴🏾 🌵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD 08/06/2019: Es ist passiert, es wurde möglich, Alice selbst zu bitten, das Licht einzuschalten . Das Projekt ist auf dem Github . Auf seiner Homeb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man Freunde Alice und HomeBridge findet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434184/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/u_/ii/8i/u_ii8i75ovakz625savr9lbudba.png" alt="Bild"></div><br>  <b>UPD 08/06/2019:</b> Es ist passiert, es <b>wurde möglich, Alice selbst zu bitten, das Licht</b> <b>einzuschalten</b> .  Das Projekt ist auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Github</a> .  Auf seiner Homebridge überprüft, funktioniert alles.  Ich halte eine weitere Unterstützung meiner Fähigkeiten für nicht angemessen. <br><br>  Ich wollte seit langem neben dem Smart Home einen Sprachassistenten, der Russisch versteht und spricht.  Infolgedessen entschied ich mich, ein Risiko einzugehen und eine neue Kolumne von Yandex.Station mit einer jungen, aber bereits von vielen geliebten Alice zu nehmen.  Der erste Eindruck war ausgezeichnet, aber als ich viele Witze hörte und genug redete, begann ich, die praktische Seite der Kolumne zu lernen.  Vor allem interessierte mich das Thema Alices Interaktion mit Smart Home. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Problembeschreibung</b> <div class="spoiler_text">  Mein Zuhause basiert auf einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">HomeBridge-</a> Server.  Es wurden viele Artikel ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eins</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">zwei</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">drei</a> ) über seine Konfiguration und Verwendung auf dem Hub und anderen Ressourcen geschrieben, daher werde ich nicht weiter darauf eingehen.  Nachdem ich die Frage nicht gründlich untersucht hatte, war ich mir sicher, dass Alices Kompetenzkatalog bereits viele Lösungen für die Interaktion mit Smart-Home-Steuerungssystemen enthielt.  Es stellte sich heraus, dass zum Zeitpunkt des Schreibens für die meisten Fähigkeiten zum Thema „Smart Home“ ein Gerät mit einem Display für die Arbeit erforderlich ist, das nicht für die Station geeignet ist.  Die einzige Fähigkeit, die die Anforderungen zu erfüllen schien und zu wissen, wie man ohne Display arbeitet, war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Alfred</a> .  Die Fähigkeit passte nicht zu mir, weil sie an einen Dienst gebunden ist - IFTTT.  Angenommen, ich möchte einen virtuellen Switch erstellen, der in einem Smart-Home-System funktioniert und es Ihnen ermöglicht, Skripte an den aktuellen Status zu binden.  Alfred verwendet den WebHook-Dienst für IFTTT, mit dem Sie nur auf den im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">IFTTT-Applet</a> erstellten Trigger reagieren können. Es gibt jedoch keine Möglichkeit, den aktuellen Status des Applets abzurufen (Sie können den Schalter ein- oder ausschalten, aber Sie können nicht herausfinden, welchen Status der Switch jetzt hat). <br></div></div><br>  Um das oben genannte Problem zu lösen, wurde der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Alice-HomeBridge-</a> Dienst erstellt, der den Yandex.Alice-Sprachassistenten und verschiedene Smart-Home-Steuerungssysteme miteinander verbindet.  Als Beispiel für Einstellungen betrachten wir die Konfiguration von HomeBridge. Dieser Ansatz gilt jedoch auch für andere Systeme wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Home Assistant</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">openHAB</a> und andere. <br><br>  Mit diesem Dienst können Benutzer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">nach der Registrierung auf der Site</a> virtuelle Switches erstellen. <br><br><img src="https://habrastorage.org/webt/ch/e_/hr/che_hrwfku3y_guj9yh3amj7yn4.png"><br><br>  Sie können den Status der Switches mithilfe einer speziell generierten GET-Serviceanforderung ändern oder ermitteln. <br><br><img src="https://habrastorage.org/webt/ev/um/-u/evum-ulou_hyouaetd4oejdqzne.png"><br><br>  Damit der Dienst mit dem Sprachassistenten "Alice" interagieren kann, wurde die Fähigkeit "Lazy Jimmy" erstellt. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><img alt="Lazy Jimmy" src="https://habrastorage.org/getpro/habr/post_images/318/3f3/f42/3183f3f422f73cfc44b3e4ebd936ab33.svg"></a> <br>  Sagen Sie Alice: "Führen Sie den Skill Lazy Jimmy aus" und er bietet Ihnen an, Sie über den Aktivierungscode zu informieren, den Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ihrem persönlichen Konto finden</a> . <br><br><img src="https://habrastorage.org/webt/nl/9l/ks/nl9lksijqnfjbvld5ul5xycfnza.png"><br><br>  Nach der Aktivierung können Sie den Status Ihrer Schalter mit den Befehlen Ein- oder Ausschalten ändern.  Wenn Sie beispielsweise "Licht einschalten" sagen, ändert sich der Status des Schalters "Licht" in "positiv".  Wenn Sie nur „Licht“ sagen, ändert sich der Status des Schalters in die entgegengesetzte Richtung. <br><br>  Damit der Dialog natürlicher klingt, besteht die Möglichkeit, Schalter mit verständlicheren Namen zu erstellen, z. B. "Mit Utrechk". Dann können Sie Alice "Tell Jimmy With Utrechk" mitteilen, und der Schalterstatus ändert sich. <br><br>  Es bleibt die Konfiguration von HomeBridge.  Zum Beispiel werden wir die Erweiterung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">cmdswitch2 verwenden</a> .  Erstellen Sie einen Schalter für HomeKit mit dem Namen "Alice Button 1". <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"cmdSwitch2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"CMD Switch"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"switches"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Alice Button 1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"on_cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"curl --silent \"http://alicehomebridge.org/alice/switches.php?switch=34&amp;hb=ADB7BYBT728O&amp;state=set&amp;val=true\""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"off_cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"curl --silent \"http://alicehomebridge.org/alice/switches.php?switch=34&amp;hb=ADB7BYBT728O&amp;state=set&amp;val=false\""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"state_cmd"</span></span>: <span class="hljs-string"><span class="hljs-string">"curl --silent \"http://alicehomebridge.org/alice/switches.php?switch=34&amp;hb=ADB7BYBT728O&amp;state=get\" | grep -oh \"true\""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"polling"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"interval"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> } ] }</code> </pre> <br>  Stellen Sie den Intervallparameter auf mindestens 2 Sekunden ein, um den Server nicht mit unnötigen Anforderungen zu überlasten. <br><br>  Alles ist fertig. <br><br><img src="https://habrastorage.org/webt/vh/5t/4y/vh5t4ykyxbsexa2-pzuib09_bzs.png"><br><br>  Wenn Sie nun sagen: "Alice sagt es dem faulen Jimmy mit dem Morgenwort", ändert der Schalter "Alice Button 1" den Status.  Hier ist eine Demonstration, wie alles in Verbindung mit benutzerdefinierten HomeKit-Skripten funktioniert: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hGNGzKjo7Os" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Vollversion der HomeBridge-Konfigurationsdatei</a> <br><br>  <b>PS</b> Die meisten Smart-Home-Verwaltungssysteme wie HomeKit unterstützen Skripte.  Sie können ein Skript erstellen, das Sie in einer bestimmten Situation verwenden möchten, z. B. wenn Sie aufwachen und seinen Anruf dem Ereignis „Utrechok Switch einschalten“ zuweisen. <br><br>  <b>PS</b> Mein Service entwickelt sich gerade und ist, gelinde gesagt, immer noch alles andere als ideal.  Aber Alice weigert sich auch, von Zeit zu Zeit bestimmte Sätze zu akzeptieren.  Zum Beispiel vermittelt sie der Fertigkeit perfekt den Satz "Mach das Licht an", aber sie wird den Satz "Guten Morgen" nicht weitergeben.  Ich hoffe, Yandex kennt das Problem und wird es bald beheben.  Warten auf Ihre Kommentare. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434184/">https://habr.com/ru/post/de434184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434174/index.html">Genetik der Romanesco-Sorte: ein fraktales mathematisches Modell der Genexpression</a></li>
<li><a href="../de434176/index.html">Vorbereitungen zur Untersuchung von Vorfällen</a></li>
<li><a href="../de434178/index.html">Wie ein Dienstanbieter seinen Service Desk durchgeführt hat</a></li>
<li><a href="../de434180/index.html">Überprüfen Sie droidcon SF</a></li>
<li><a href="../de434182/index.html">Tintenstrahldruck als einer der Bereiche der angewandten Fluiddynamik</a></li>
<li><a href="../de434186/index.html">Meta-Auswahl: Welche ausländischen Veröffentlichungen an Feiertagen empfohlen werden</a></li>
<li><a href="../de434188/index.html">Sicherheitswoche 52: Die größten Treffer</a></li>
<li><a href="../de434190/index.html">So schaffen Sie ein digitales Weihnachtswunder: ein Interview mit dem CIO Santa Claus</a></li>
<li><a href="../de434192/index.html">Wie Baldur's Gate Computer-RPGs rettete</a></li>
<li><a href="../de434194/index.html">Fähigkeitsentwicklung für Alice. Erfahrung mit Sprachschnittstellen, Tipps für Anfänger</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>