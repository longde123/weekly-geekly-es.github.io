<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèø üçº üéóÔ∏è Notas del proveedor de IoT. Caso: creamos una red LoRa para un dispensador de combustible en Chelyabinsk ‚ù£Ô∏è üèÄ üßôüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola queridos amantes de Internet de las cosas. 


 Continuar√© la serie de art√≠culos sobre nuestra red LoRaWAN. Hoy te contar√© sobre un caso real. Est...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Notas del proveedor de IoT. Caso: creamos una red LoRa para un dispensador de combustible en Chelyabinsk</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423781/"><p>  Hola queridos amantes de Internet de las cosas. </p><br><p>  Continuar√© la serie de art√≠culos sobre nuestra red LoRaWAN.  Hoy te contar√© sobre un caso real.  Este es un proyecto para el mayor complejo de compras y entretenimiento en Chelyabinsk.  Compartir√© con ustedes los n√∫meros y las decisiones sobre el proyecto. </p><br><p>  Al final del art√≠culo, le dir√© por qu√© elegimos el protocolo de transferencia LoRa, y no zigbee.  Quiz√°s alguien discuta con esto.  La discusi√≥n ser√° a√∫n m√°s interesante. </p><br><img src="https://habrastorage.org/webt/5u/mv/lt/5umvlto9omtdtgy5ajb-nax2wmu.jpeg"><br><a name="habracut"></a><br><br><p>  <strong>Que tenemos</strong> </p><br><p>  Solicitud del complejo de entretenimiento, que se encuentra en el centro comercial "Rodnik". </p><br><p>  Introducci√≥n: el complejo tiene varios puntos con sus propios medidores el√©ctricos en cada uno.  Es necesario establecer un sistema para recolectar lecturas de dispositivos de medici√≥n y transmitirlas a trav√©s del API al lado del cliente. </p><br><p>  ¬øCu√°les son las dificultades obvias para nosotros con esta formulaci√≥n del problema? </p><br><p>  1 - Sin experiencia con el dispensador de combustible.  Esto no es exactamente complejidad, sino m√°s bien una caracter√≠stica de este proyecto para nosotros.  Importante. </p><br><p>  2 - El cliente necesita la transferencia de datos a trav√©s de la API, sin pasar por nuestra interfaz. </p><br><p>  En art√≠culos anteriores, ya dije que nos confundimos y desarrollamos nuestra interfaz conveniente donde transferimos datos.  Este es el formato habitual para nosotros: configuramos el proyecto, cargamos datos a la interfaz y le damos acceso.  En este caso, el cliente necesitaba una transferencia permanente de informaci√≥n a su lado.  La tarea es simple, pero no est√°ndar.  Por lo tanto, me refiero a las dificultades - caracter√≠sticas. </p><br><br><p>  3 - Revisiones negativas de colegas.  Seg√∫n ellos, trabajar con los dispensadores de combustible es un verdadero dolor de cabeza. </p><br><p>  4 - La singularidad del proyecto, no hay ning√∫n ejemplo a seguir. </p><br><p>  Todos los dispensadores de combustible son √∫nicos.  Cada uno tiene su propio dise√±o de espacios interiores, diferentes materiales para fachadas y "rincones oscuros".  No hay un modelo a seguir y una copia.  Todo debe hacerse desde cero. </p><br><p>  <strong>Que hizo:</strong> </p><br><p>  Comenz√≥ con cobertura de radio. </p><br><p>  TRC Rodnik es un gran centro comercial en Chelyabinsk.  La escala transfiere la foto al comienzo del art√≠culo. </p><br><p>  El entorno es un √°rea de parque con un ferrocarril, un bosque, lotes bald√≠os, un r√≠o y un cruce de carreteras de varios carriles. </p><br><p>  Por razones administrativas, es imposible poner una estaci√≥n base dentro del complejo.  El punto m√°s cercano posible para la instalaci√≥n est√° a un kil√≥metro del complejo mismo.  Adem√°s, el equipo ya est√° all√≠.  No es necesario instalar una nueva estaci√≥n base. <br>  Entre el complejo y la estaci√≥n base: visibilidad directa. </p><br><p>  <strong>Caracter√≠stica del edificio:</strong> </p><br><p>  La empresa de radiodifusi√≥n "Rodnik" es una construcci√≥n monol√≠tica.  La fachada est√° representada por un estacionamiento de dos niveles.  Est√° cercado del edificio por un muro de hormig√≥n y puertas poderosas.  El atrio est√° cubierto con una enorme "tapa" de vidrio y hormig√≥n.  Del cliente no recibimos informaci√≥n sobre las caracter√≠sticas del vidrio y el material de las puertas.  El complejo tambi√©n est√° equipado con puertas de carga en el lateral y detr√°s.  Hay ventanas, pero son pocas. </p><br><br>  <i>Fachada</i> <br><br><img src="https://habrastorage.org/webt/lq/2p/cn/lq2pcney6h5byk5ux_cvt6uyukk.jpeg"><br><br>  <i>Ventanas:</i> <br><br><img src="https://habrastorage.org/webt/sx/n2/ym/sxn2ymek-l42yn8be8anw_cjysq.jpeg"><br><br>  <i>Puertas dentro del complejo:</i> <br><br><img src="https://habrastorage.org/webt/9m/1e/6j/9m1e6j1u_htbdcofz0cmqoqz3ky.jpeg"><br><br>  <i>M√°s puertas:</i> <br><br><img src="https://habrastorage.org/webt/wv/uz/yq/wvuzyqpgjfk4kp00p6_ad3lhbjw.jpeg"><br><br><p>  El equipo del cliente estaba en la sala t√©cnica. </p><br><p>  Resulta que la onda de radio necesita ir un kil√≥metro en l√≠nea recta, y luego serpenteante, pero amplios pasillos del complejo para llegar al cliente. </p><br><p>  ¬øEs esto posible? <br>  La pr√°ctica lo ha demostrado completamente. </p><br><p>  <strong>Examen:</strong> </p><br><p>  Para el trabajo, utilizamos el m√≥dulo de radio habitual SI-11. <br>  El ingeniero simplemente camina y lo activa peri√≥dicamente.  A continuaci√≥n, se extraen los valores de intensidad de se√±al (RSSI) y de se√±al a ruido (SNR) del servidor y se realiza una estimaci√≥n. <br>  Vega tiene un dispositivo especializado TS-1 (probador de red). <br><br><img src="https://habrastorage.org/webt/se/yt/_j/seyt_jdlinu-weln9suhbw4qlom.jpeg"><br><br>  No hicimos amigos.  El dispositivo no ve la red donde est√°, acostado en niveles.  Quiz√°s, si bien este es el √∫nico producto de Vega que no nos conviene. </p><br><p>  El primer examen tom√≥ un d√≠a, no encontramos "rincones oscuros".  La comunicaci√≥n fue estable en todo el espacio disponible. </p><br><p>  Para la mayor√≠a de las habitaciones, el SI-11 fue suficiente. <br>  Para 1 mostrador - 1 hora de trabajo de un equipo de 2 personas, junto con la instalaci√≥n y configuraci√≥n.  No puedo indicar el n√∫mero exacto de medidores conectados (secreto comercial), pero hay muchos de ellos.  Nos sorprendi√≥ la cantidad.  El puntaje es decenas. </p><br><p>  Al principio, nuestros m√≥dulos de radio se activaron a SF = 12 (como lo proporciona la l√≥gica).  Observamos con gran inter√©s sus par√°metros de calidad, pensamos que la conexi√≥n estar√≠a en el l√≠mite.  Pero no, los paquetes fueron estables y sin p√©rdidas.  RSSI en lugares alcanz√≥ -100 dBm. </p><br><p>  Cuando ADR se activ√≥, algunos m√≥dulos de radio redujeron la SF de 12 a 10-11.  Las condiciones de radio permitieron esto.  Los par√°metros de comunicaci√≥n en SF = 10 se mantienen en RSSI = -110 dBm, la SNR fluct√∫a alrededor de cero. </p><br><p>  <strong>Sobre los "rincones oscuros":</strong> </p><br><p>  No sin ellos. <br>  En un lugar, SI-11 tercamente no quer√≠a ponerse en contacto.  Luego intervino SI-21. </p><br><br><img src="https://habrastorage.org/webt/ra/yx/xa/rayxxadjj5vryddzx6avnymtp98.jpeg"><br><br><p>  Este es el mismo SI-11, solo que con una antena externa.  Una cosa muy conveniente, se suministra una antena plana con cinta de doble cara.  Utilizando el m√©todo de selecci√≥n, encontraron la mejor ubicaci√≥n para la antena y simplemente la pegaron en la pared ... ¬°Funciona! </p><br><p>  Menos: par√°metros de comunicaci√≥n al borde.  Pero este es el √∫nico sensor con esta situaci√≥n.  Asumimos que para estas condiciones podemos pagarlo. </p><br><p>  <strong>Que sigue</strong> </p><br><p>  Tenemos los paquetes en marcha. </p><br><p>  Honestamente, me sorprendieron gratamente los resultados.  Seg√∫n las cr√≠ticas de mis colegas, escuch√© que dentro del centro comercial el proyecto no funcionar√° sin una estaci√≥n base interior, pero lo logramos.  Esto es lindo </p><br><p>  <strong>Algunas palabras sobre la API</strong> </p><br><p>  La solicitud del cliente en la API se resolvi√≥ simplemente.  El cliente recibe datos del servidor a trav√©s de un socket web.  Lo que hace a continuaci√≥n con ellos no es nuestra mente empresarial. <br>  El servidor le permite configurar el sistema para que el cliente vea la informaci√≥n solo de sus sensores. </p><br><p>  Nuestra interfaz es, por supuesto, algo universal, pero las necesidades del cliente pueden ser espec√≠ficas.  Por lo tanto, estamos listos para transferirles datos sin procesar. </p><br><p>  <strong>Sacamos conclusiones.</strong> <strong><br></strong>  <strong>¬øTodos los dispensadores de combustible est√°n en nuestro hombro?</strong> </p><br><p>  Nuestro piloto se basa en Vega, pero en el futuro planeamos presentar dispositivos de otros fabricantes.  Otra ventaja en la apertura del est√°ndar LoRaWAN. </p><br><p>  El primer paso fue exitoso.  Pero el trabajo con otros dispensadores de combustible ha demostrado que no vale la pena relajarse. </p><br><p>  Los principales problemas, en mi opini√≥n: </p><br><p>  1) Cada dispensador de combustible es √∫nico.  Algunos pueden tener un estacionamiento subterr√°neo con buenas pasarelas a las tiendas y al atrio.  Con tan simple.  Otros son verdaderas bolsas de piedra con peque√±os vidrios y equipos en el s√≥tano.  Esto ya es un desastre. </p><br><p>  2) Los grandes dispensadores de combustible a menudo ocupan un √°rea importante, tienen grandes estacionamientos e intercambios de transporte a su alrededor.  Por supuesto, este coloso es dif√≠cil de localizar en el centro de la ciudad, por lo que se construyen en terrenos bald√≠os, territorios de antiguas f√°bricas y otros lugares inadecuados para instalar una estaci√≥n base. </p><br><p>  En tales casos, la decisi√≥n correcta es colocar la estaci√≥n base interior en el complejo mismo.  Sin embargo, en nuestro trabajo nos guiamos no solo por la necesidad t√©cnica, sino tambi√©n por consideraciones administrativas.  Este √∫ltimo presenta dificultades significativas. </p><br><br><p>  <strong>Y zigbee no nos conven√≠a</strong> <br>  <strong>Sucedi√≥ porque:</strong> </p><br><br><p>  1) No pudimos construir una red de malla en este centro comercial.  No fue posible distribuir uniformemente los sensores a lo largo del per√≠metro del complejo.  Los m√≥dulos de radio estaban ubicados en lugares remotos.  Entre ellos hay vidrio y hormig√≥n.  Una red de malla en tal situaci√≥n dif√≠cilmente se elevar√≠a. </p><br><p>  2) En el centro comercial en s√≠, nuestra red no lo es.  El contacto con la estaci√≥n base m√°s cercana no funcionar√° debido a su lejan√≠a del edificio. </p><br><p>  3) Quer√≠amos hacer todo lo m√°s simple posible y al menor costo.  Por lo tanto, elegimos LoRa.  Ella fue perfectamente. </p><br><br><p>  Eso es todo.  Le cont√© c√≥mo hicimos un proyecto real para Broadcasting Company.  Describi√≥ las dificultades, las tareas y nuestra experiencia para resolverlas.  Explic√≥ por qu√© decidieron trabajar en el protocolo LoRa. <br>  Ser√° interesante escuchar la opini√≥n sobre este caso por parte de expertos y aquellos que est√°n en el tema de Internet de las cosas. </p><br><br>  Archivo de art√≠culos pasados: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introducci√≥n</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cobertura</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dispositivos de medici√≥n del zool√≥gico</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Propiedad</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Activaci√≥n y seguridad en LoraWAN</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LoRaWAN y RS-485</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dispositivos y ofertas externas</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="># 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un poco sobre frecuencias</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423781/">https://habr.com/ru/post/es423781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423769/index.html">Conectando OpenSSL a Mono</a></li>
<li><a href="../es423771/index.html">Una vez m√°s, el analizador PVS-Studio result√≥ ser m√°s atento que una persona.</a></li>
<li><a href="../es423775/index.html">Quer√≠a una hermosa pieza de hierro. Result√≥</a></li>
<li><a href="../es423777/index.html">Proyecto Keystone: entorno de confianza para ejecutar aplicaciones basadas en RISC-V</a></li>
<li><a href="../es423779/index.html">Copia de seguridad de nube a nube: qu√© es y por qu√© se necesita</a></li>
<li><a href="../es423783/index.html">Splunk: aprendizaje autom√°tico al siguiente nivel</a></li>
<li><a href="../es423785/index.html">Cree una granja de servidores preparada para la red para Kubernetes con LTSP</a></li>
<li><a href="../es423787/index.html">TEST Labs 2018. Mitap en l√≠nea para probadores. 28 al 29 de septiembre</a></li>
<li><a href="../es423791/index.html">Hacemos un configurador 3D sin programaci√≥n y dise√±o. Parte dos</a></li>
<li><a href="../es423793/index.html">"¬°Tomamos esta decisi√≥n, maldita sea, a tiempo!" - 10 preguntas al programador, n√∫mero 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>