<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßî üàÅ üëÆ Quoi de neuf dans SObjectizer-5.7.0 et qu'est-ce qui attend ce projet ensuite? ü•™ ‚¨úÔ∏è üè•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SObjectizer est un framework C ++ 17 relativement petit qui vous permet d'utiliser des approches telles que Actor Model, Publish-Subscribe et Communic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quoi de neuf dans SObjectizer-5.7.0 et qu'est-ce qui attend ce projet ensuite?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485450/"><p>  <a href="https://github.com/Stiffstream/sobjectizer">SObjectizer</a> est un framework C ++ 17 relativement petit qui vous permet d'utiliser des approches telles que Actor Model, Publish-Subscribe et Communicating Sequential Processes (CSP) dans les programmes C ++.  Ce qui simplifie grandement le d√©veloppement d'applications multi-threads complexes en C ++.  Si le lecteur entend parler de SObjectizer pour la premi√®re fois, alors vous pouvez faire une impression de lui √† partir de cette <a href="https://sourceforge.net/projects/sobjectizer/files/sobjectizer/Slides/What%2520is%2520SObjectizer-5.7%2520%2528at%2520v.5.7.0%2529.pdf/download">pr√©sentation</a> , ou de cet article d√©j√† assez ancien. </p><br><p>  D'une mani√®re g√©n√©rale, il n'y a pas autant d'outils similaires ouverts, encore vivants et en d√©veloppement pour C ++.  On ne peut que rappeler <a href="https://www.state-machine.com/qpcpp/">QP / C ++</a> , <a href="http://actor-framework.org/">CAF: C ++ Actor Framework</a> , <a href="https://github.com/jinncrafters/actor-zeta">acteur-zeta</a> et le tr√®s jeune projet de <a href="https://github.com/basiliscos/cpp-rotor">rotor</a> .  Il y a un choix, mais pas si grand. </p><br><p>  R√©cemment, <a href="https://groups.google.com/d/msg/sobjectizer/iudaw-GBHnc/7HjgPLPTCgAJ">une autre version "majeure" de SObjectizer</a> est devenue disponible, o√π enfin une chose est apparue dont on parle depuis longtemps, et dont la mise en ≈ìuvre m'a plusieurs fois √©chou√©.  On peut dire qu'un jalon a √©t√© franchi.  C'est aussi l'occasion de parler de ce qui attend SObjectizer apr√®s la sortie de la version 5.7.0. </p><br><h1 id="podderzhka-send_case-v-select">  Prise en charge de Send_case dans select () </h1><br><p>  Ainsi, l'innovation la plus importante apparue dans la v.5.7.0 et pour laquelle la compatibilit√© avec la v.5.6 publi√©e l'ann√©e derni√®re (et nous ne cassons pas la compatibilit√©) est la prise en charge de send_case dans la fonction select ().  Ce qui a rendu select () de SObjectizer beaucoup plus semblable aux s√©lections Go.  Maintenant, en utilisant select (), vous pouvez non seulement lire les messages de plusieurs canaux CSP, mais √©galement envoyer des messages sortants vers les canaux qui √©taient pr√™ts √† √™tre √©crits. </p><a name="habracut"></a><br><p>  Mais pour r√©v√©ler ce sujet, il faut partir de loin. </p><br><h2 id="poyavlenie-elementov-csp-v-sobjectizer-5">  L'√©mergence d'√©l√©ments CSP dans SObjectizer-5 </h2><br><p>  Des √©l√©ments de CSP, √† savoir des analogues de canaux CSP, sont apparus dans SObjectizer-5 non pas pour cocher la case "CSP support", mais pour r√©soudre un probl√®me pratique. </p><br><p>  Le fait est que lorsque l'application enti√®re est enti√®rement bas√©e sur SObjectizer, l'√©change d'informations entre diff√©rentes entit√©s (parties) du programme est r√©alis√© de la seule mani√®re √©vidente.  Tout dans l'application est pr√©sent√© sous forme d'agents (acteurs) et les agents s'envoient simplement des messages de mani√®re standard. </p><br><p>  Mais lorsque dans l'application, seule une partie des fonctionnalit√©s est impl√©ment√©e sur SObjectizer ... </p><br><p>  Par exemple, une application GUI dans Qt ou wxWidgets, dans laquelle la partie principale du code est une interface graphique et un SObjectizer est n√©cessaire pour effectuer certaines t√¢ches d'arri√®re-plan.  Ou une partie de l'application est √©crite √† l'aide de threads nus et d'Asio, et les donn√©es lues par Asio √† partir du r√©seau sont envoy√©es aux agents SObjectizer pour traitement. </p><br><p>  Lorsqu'une application a une partie SObjectizer et une partie non SObjectizer, la question se pose: comment transf√©rer des informations de la partie SObjectizer de l'application vers la partie non SObjectizer? </p><br><p>  La solution a √©t√© trouv√©e sous la forme de soi-disant  cha√Ænes de messages (mchains), c'est-√†-dire  conversations.  Ce qui s'est av√©r√© √™tre l'essence m√™me des canaux CSP.  La partie SObjectizer de l'application envoie des messages √† mchain de la mani√®re habituelle, √† l'aide de la fonction send () standard. </p><br><p>  Pour lire les messages de la partie non SObjectizer, vous pouvez utiliser la nouvelle fonction receive (), √† utiliser que vous n'avez pas eu besoin de cr√©er d'agents ou de plonger dans d'autres jokers de SObjectizer. </p><br><p>  Il s'est av√©r√© tout √† fait compr√©hensible et efficace. </p><br><h2 id="nachalo-ispolzovaniya-mchains-ne-po-naznacheniyu">  Utilisation abusive des cha√Ænes </h2><br><p>  De plus, le sch√©ma s'est av√©r√© si compr√©hensible et efficace que certaines applications sur SObjectizer ont commenc√© √† √©crire sans aucun agent, uniquement sur mchain.  C'est-√†-dire  en utilisant l'approche CSP, pas le mod√®le d'acteur.  Il y avait d√©j√† des articles √† ce sujet ici sur Habr√©: <a href="https://habr.com/ru/post/336854/">un</a> et <a href="https://habr.com/ru/post/358120/">deux</a> . </p><br><p>  Cela a conduit √† deux cons√©quences int√©ressantes. </p><br><p>  Tout d'abord, la fonction receive () a envahi les fonctionnalit√©s avanc√©es.  Cela √©tait n√©cessaire pour effectuer un seul appel √† recevoir (), dont le retour se produirait lorsque tout le travail n√©cessaire a d√©j√† √©t√© effectu√©.  Voici des exemples de ce que la r√©ception de SObjectizer peut faire: </p><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> so_5; <span class="hljs-comment"><span class="hljs-comment">//    3 . //  3    mchain ,   . //   receive    3 , //      . receive( from(chain).handle_n( 3 ), handlers... ); //    3 . //       mchain ,    //     200ms. // ..     200ms,    receive,   //      . receive( from(chain).handle_n( 3 ).empty_timeout( milliseconds(200) ), handlers... ); //       . //     ,    //  500ms. receive( from(chain).handle_all().empty_timeout( milliseconds(500) ), handlers... ); //       . //       2s. receive( from(chain).handle_all().total_time( seconds(2) ), handlers... );</span></span></code> </pre> <br><p>  Deuxi√®mement, il est vite devenu clair que m√™me si divers types de messages peuvent √™tre plac√©s dans la cha√Æne du SObjectizer, et m√™me malgr√© la pr√©sence d'une fonction de r√©ception avanc√©e (), vous devez parfois pouvoir travailler avec plusieurs canaux √† la fois ... </p><br><h2 id="select-no-tolko-dlya-chteniya">  select () mais en lecture seule </h2><br><p>  La fonction select () a √©t√© ajout√©e √† SObjectizer pour lire et traiter les messages de plusieurs cha√Ænes.  Clear business select () est apparu non seulement comme √ßa, mais sous l'influence du langage Go.  Mais le select () de SObjectizer avait deux fonctionnalit√©s. </p><br><p>  Tout d'abord, notre select (), comme receive (), √©tait orient√© script, lorsque select () n'est appel√© qu'une seule fois et que tout le travail utile est effectu√© √† l'int√©rieur.  Par exemple: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> so_5; <span class="hljs-keyword"><span class="hljs-keyword">mchain_t</span></span> ch1 = env.create_mchain(...); <span class="hljs-keyword"><span class="hljs-keyword">mchain_t</span></span> ch2 = env.create_mchain(...); <span class="hljs-comment"><span class="hljs-comment">//    3 . //    3    ch1. //  2  ch1    ch2. //    ch1  2  ch2... // //   ,       . // select()      3 , //     . select( from_all().handle_n( 3 ), receive_case( ch1, []( const first_message_type &amp; msg ) { ... }, []( const second_message_type &amp; msg ) { ... } ), receive_case( ch2, []( const third_message_type &amp; msg ) { ... }, []( so_5::mhood_t&lt; some_signal_type &gt; ) { ... } ), ... ) ); //    3 . //    ,     200ms. select( from_all().handle_n( 3 ).empty_timeout( milliseconds(200) ), receive_case( ch1, []( const first_message_type &amp; msg ) { ... }, []( const second_message_type &amp; msg ) { ... } ), receive_case( ch2, []( const third_message_type &amp; msg ) { ... }, []( so_5::mhood_t&lt; some_signal_type &gt; ) { ... } ), ... ) ); //       . //    ,     500ms. select( from_all().handle_all().empty_timeout( milliseconds(500) ), receive_case( ch1, []( const first_message_type &amp; msg ) { ... }, []( const second_message_type &amp; msg ) { ... } ), receive_case( ch2, []( const third_message_type &amp; msg ) { ... }, []( so_5::mhood_t&lt; some_signal_type &gt; ) { ... } ), ... ) );</span></span></code> </pre> <br><p>  Deuxi√®mement, select () ne prend pas en charge l'envoi de messages au canal.  C'est-√†-dire  Vous pouvez lire les messages des canaux.  Mais pour envoyer des messages au canal en utilisant select () - non. </p><br><p>  Maintenant, il est encore difficile de se rappeler pourquoi cela s'est produit.  Probablement parce que select () avec le support send_case s'est av√©r√© √™tre une t√¢che difficile et aucune ressource n'a √©t√© trouv√©e pour le r√©soudre. </p><br><h3 id="mchain-y-v-sobjectizer-hitree-chem-kanaly-v-go">  les cha√Ænes dans SObjectizer sont plus compliqu√©es que les cha√Ænes dans Go </h3><br><p>  Initialement, select () sans support send_case n'√©tait pas consid√©r√© comme un probl√®me.  Le fait est que les cha√Ænes dans SObjectizer ont leurs propres sp√©cificit√©s que les canaux Go n'ont pas. </p><br><p>  Premi√®rement, les cha√Ænes SObjectizer sont divis√©es en sans dimension et avec une capacit√© maximale fixe.  Par cons√©quent, si send () est ex√©cut√© pour une cha√Æne sans dimension, alors send () ne sera pas bloqu√© en principe.  Par cons√©quent, cela n'a aucun sens d'utiliser select () pour envoyer un message √† la cha√Æne sans dimension. </p><br><p>  Deuxi√®mement, pour les cha√Ænes avec une capacit√© maximale fixe, lors de la cr√©ation, cela indique imm√©diatement ce qui se passe lorsque vous essayez d'√©crire un message sur la cha√Æne compl√®te: </p><br><ul><li>  Dois-je attendre l'apparition de l'espace libre dans mchain.  Et si n√©cessaire, combien de temps; </li><li>  s'il n'y a pas d'espace libre, alors que faire: supprimer le message le plus ancien de mchain, ignorer le nouveau message, lever une exception ou m√™me appeler std :: abort () (ce script dur est assez demand√© en pratique). </li></ul><br><p>  Ainsi, un sc√©nario assez fr√©quent (pour autant que je sache) d'utilisation de select dans Go pour envoyer un message qui ne bloque pas √©troitement goroutin √©tait imm√©diatement disponible dans SObjectizer sans √©tincelles et sans select. </p><br><h2 id="v-konce-koncov-polnocennyy-select">  En fin de compte, une s√©lection compl√®te () </h2><br><p>  N√©anmoins, le temps a pass√©, parfois il y avait des cas o√π le manque de support send_case dans select () √©tait toujours affect√©.  De plus, dans ces cas, les capacit√©s int√©gr√©es des mchains n'ont pas aid√©, mais plut√¥t le contraire. </p><br><p>  Par cons√©quent, de temps en temps, j'essayais d'aborder la question de la mise en ≈ìuvre de send_case.  Mais jusqu'√† r√©cemment, rien ne fonctionnait.  Principalement parce qu'il n'a pas √©t√© possible de concevoir le design de ce send_case lui-m√™me.  C'est-√†-dire  √† quoi devrait ressembler send_case dans select ()?  Que doit-il faire exactement s'il est possible d'envoyer?  En cas d'impossibilit√©?  Que faire de la division en cha√Ænes fixes et sans dimension? </p><br><p>  Il n'a √©t√© possible de trouver des r√©ponses pour moi √† ces questions et √† d'autres qu'en d√©cembre 2019.  En grande partie gr√¢ce √† des consultations avec des personnes qui connaissent bien le Go et qui ont utilis√© les s√©lections Go dans le travail r√©el.  Eh bien, d√®s que l'image send_case a finalement pris forme, l'impl√©mentation est arriv√©e juste l√†. </p><br><p>  Alors maintenant, vous pouvez √©crire comme ceci: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> so_5; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Greeting</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> text_; }; select(from_all().handle_n(<span class="hljs-number"><span class="hljs-number">1</span></span>), send_case(ch, <span class="hljs-keyword"><span class="hljs-keyword">message_holder_t</span></span>&lt;Greeting&gt;::make(<span class="hljs-string"><span class="hljs-string">"Hello!"</span></span>), []{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Hello sent!"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }));</code> </pre> <br><p>  L'important est que send_case dans select () ignore la r√©ponse de surcharge qui a √©t√© d√©finie pour la cha√Æne cible.  Ainsi, dans l'exemple ci-dessus, ch pourrait √™tre cr√©√© avec la r√©action abort_app lorsque vous essayez d'envoyer un message au canal complet.  Et si vous essayez d'appeler simple send () pour √©crire dans ch, alors std :: abort () peut √™tre appel√©.  Mais dans le cas de select () - et cela ne se produira pas, select () attendra que l'espace libre apparaisse dans le ch.  Ou jusqu'√† ce que le ch soit ferm√©. </p><br><p>  Voici quelques exemples suppl√©mentaires de ce que send_case peut faire dans select () de SObjectizer: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> so_5; <span class="hljs-comment"><span class="hljs-comment">//     ,   //    . //    . select(from_all().handle_n(1), send_case(ch1, message_holder_t&lt;FirstMessage&gt;::make(...), []{...}), send_case(ch2, message_holder_t&lt;SecondMessage&gt;::make(...), []{...}), send_case(ch3, message_holder_t&lt;ThirdMessage&gt;::make(...), []{...})); //     . //     ( ) //   ( ). select(from_all().handle_n(3), send_case(ch1, message_holder_t&lt;FirstMessage&gt;::make(...), []{...}), send_case(ch2, message_holder_t&lt;SecondMessage&gt;::make(...), []{...}), send_case(ch3, message_holder_t&lt;ThirdMessage&gt;::make(...), []{...})); //     chW. //     chW    150ms. select(from_all().handle_n(1).empty_timeout(150ms), send_case(chW, message_holder_t&lt;Msg&gt;::make(...), []{...})); //     chW. //  ,   chW   . select(from_all().handle_n(1).no_wait_on_empty(), send_case(chW, message_holder_t&lt;Msg&gt;::make(...), []{...})); //    ,      250ms. select(from_all().handle_all().total_time(250ms), send_case(ch1, message_holder_t&lt;FirstMessage&gt;::make(...), []{...}), send_case(ch2, message_holder_t&lt;SecondMessage&gt;::make(...), []{...}), send_case(ch3, message_holder_t&lt;ThirdMessage&gt;::make(...), []{...}));</span></span></code> </pre> <br><p>  Naturellement, send_case dans select () peut √™tre utilis√© en conjonction avec receive_case: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//          //  .       //  . select(from_all().handle_n(1), send_case(ch1, message_holder_t&lt;FirstMsg&gt;::make(...), []{...}), send_case(ch2, message_holder_t&lt;SecondMsg&gt;::make(...), []{...}), receive_case(ch3, [](...){...}), receive_case(ch4, [](...){...}));</span></span></code> </pre> <br><p>  Alors maintenant, dans SObjectizer, l'approche CSP peut √™tre utilis√©e, comme on dit, dans tous les domaines.  Ce ne sera pas pire que dans Go.  Verbose, bien s√ªr.  Mais pas pire :) </p><br><p>  Nous pouvons dire que la longue histoire de l'ajout de la prise en charge de l'approche CSP √† SObjectizer est termin√©e. </p><br><h1 id="drugie-vazhnye-veschi-v-etom-relize">  Autres √©l√©ments importants dans cette version </h1><br><h2 id="okonchatelnyy-pereezd-na-github">  D√©placement final vers github </h2><br><p>  SObjectizer a v√©cu et d√©velopp√© √† l'origine chez <a href="https://sourceforge.net/projects/sobjectizer/">SourceForge</a> .  Une ann√©e de publicit√©s depuis 2006.  Mais sur SF.net, les performances de Subversion diminuaient de plus en plus, donc l'ann√©e derni√®re nous sommes pass√©s √† BitBucket et Mercurial.  D√®s que nous l'avons fait, Atlassian a annonc√© que les r√©f√©rentiels Mercurial avec BitBucket seraient bient√¥t supprim√©s.  Par cons√©quent, depuis ao√ªt 2019, SObjectizer et so5extra sont situ√©s sur GitHub. </p><br><p>  SF.net a tout l'ancien contenu restant, y compris le Wiki avec la documentation des versions pr√©c√©dentes de SObjectizer.  Et aussi <a href="https://sourceforge.net/projects/sobjectizer/files/">la section Fichiers √†</a> partir de laquelle vous pouvez t√©l√©charger des archives de diff√©rentes versions de SObjectizer / so5extra et pas seulement (par exemple, des <a href="https://sourceforge.net/projects/sobjectizer/files/sobjectizer/Slides/">PDF avec des pr√©sentations sur SObjectizer</a> ). </p><br><p>  En g√©n√©ral, recherchez-nous maintenant sur <a href="https://github.com/Stiffstream/sobjectizer">GitHub</a> .  Et n'oubliez pas de mettre des √©toiles, nous en avons trop peu pour l'instant;) </p><br><h2 id="ispravleno-povedenie-enveloped-messages">  Comportement fixe des messages envelopp√©s </h2><br><p>  Dans SO-5.7.0, un petit correctif a eu lieu qui n'aurait pas pu √™tre mentionn√©.  Mais cela vaut la peine de le dire, car il s'agit d'une bonne d√©monstration de la fa√ßon dont les diff√©rentes fonctionnalit√©s accumul√©es dans SObjectizer s'influencent mutuellement au cours de son d√©veloppement. </p><br><p>  Il y a quatre ans, la prise en charge des agents, qui sont des machines √† √©tats hi√©rarchiques, a √©t√© ajout√©e √† SObjectizer (plus de d√©tails <a href="https://habr.com/post/423497/">ici</a> ).  Ensuite, apr√®s quelques ann√©es, des <a href="https://habr.com/ru/post/426983/">enveloppes de message</a> ont √©t√© ajout√©es √† SObjectizer.  C'est-√†-dire  le message, une fois envoy√©, √©tait envelopp√© dans un objet enveloppe suppl√©mentaire et cette enveloppe pouvait recevoir des informations sur ce qui se passait avec le message. </p><br><p>  L'une des caract√©ristiques du m√©canisme des messages envelopp√©s est que l'enveloppe est inform√©e que le message a √©t√© remis au destinataire.  C'est-√†-dire qu'un gestionnaire de ce message a √©t√© trouv√© sur l'agent d'abonn√© et que ce gestionnaire a √©t√© appel√©. </p><br><p>  Il s'est av√©r√© que si l'agent destinataire du message est une machine √† √©tats hi√©rarchique qui utilise une fonctionnalit√© telle que <code>suppress()</code> (c'est-√†-dire for√ßant le message √† √™tre ignor√© dans un √©tat sp√©cifique), l'enveloppe peut recevoir une notification de remise incorrecte, bien que le message ait √©t√© effectivement rejet√© par le destinataire en raison de <code>suppress()</code> .  Une situation encore plus int√©ressante √©tait avec <code>transfer_to_state()</code> , car  apr√®s avoir chang√© l'√©tat de l'agent r√©cepteur, le gestionnaire de messages peut √™tre trouv√© ou il peut √™tre absent.  Mais l'enveloppe concernant la remise du message a quand m√™me √©t√© inform√©e. </p><br><p>  Des cas tr√®s rares qui, √† ma connaissance, n'ont √©t√© mis en √©vidence par personne.  N√©anmoins, une erreur de calcul a √©t√© faite. </p><br><p>  Par cons√©quent, dans SO-5.7.0, ce point est am√©lior√© et si le message est ignor√© suite √† l'application de <code>suppress()</code> ou <code>transfer_to_state()</code> , l'enveloppe ne pensera plus que le message a √©t√© remis au destinataire. </p><br><h2 id="dopolnitelnaya-biblioteka-so5extra-smenila-licenziyu-na-bsd-3-clause">  La biblioth√®que so5extra suppl√©mentaire modifie la licence BSD-3-CLAUSE </h2><br><p>  En 2017, nous avons commenc√© √† cr√©er une biblioth√®que de composants suppl√©mentaires pour SObjectizer appel√©e <a href="https://github.com/Stiffstream/so5extra">so5extra</a> .  Pendant ce temps, la biblioth√®que s'est consid√©rablement d√©velopp√©e et contient de nombreuses choses utiles dans le m√©nage. </p><br><p>  So5extra √©tait √† l'origine distribu√© sous une double licence: GNU Affero GPL v.3 pour les projets open source et commercial pour les projets ferm√©s. </p><br><p>  Nous avons maintenant chang√© la licence de so5extra et √† partir de la version 1.4.0, so5extra est distribu√© sous la licence BSD-3-CLAUSE.  C'est-√†-dire  il peut √™tre utilis√© gratuitement m√™me lors du d√©veloppement de logiciels propri√©taires. </p><br><p>  Par cons√©quent, si quelque chose vous manque dans SObjectizer, vous <a href="https://github.com/Stiffstream/so5extra/wiki/so5extra-1.4-docs">pouvez jeter un ≈ìil √† so5extra</a> , et si vous avez d√©j√† ce dont vous avez besoin? </p><br><h1 id="buduschee-sobjectizer-a">  L'avenir de SObjectizer </h1><br><p>  Avant de dire quelques mots sur ce que SObjectizer attend, vous devez faire une digression importante.  Surtout pour ceux qui croient que SObjectizer est un ¬´d√©chet de r√©f√©rence¬ª, une ¬´fabrication √† hauteur du genou¬ª, un ¬´laboratoire √©tudiant¬ª, une ¬´projection exp√©rimentale que les auteurs abandonnent lorsqu'ils jouent suffisamment¬ª ... (ce n'est qu'une partie des caract√©ristiques que nous avons entendues d'experts en de notre Internet au cours des 4-5 derni√®res ann√©es). </p><br><p>  Je d√©veloppe SObjectizer depuis pr√®s de dix-huit ans.  Et je peux dire de fa√ßon responsable qu'il n'a jamais √©t√© un projet pilote.  Il s'agit d'un outil pratique qui est entr√© dans le vrai travail depuis sa toute premi√®re version en 2002√®me ann√©e. </p><br><p>  Mes coll√®gues et moi-m√™me, ainsi que les personnes qui ont os√© prendre et essayer SObjectizer, √©tions convaincus √† plusieurs reprises que SObjectizer rend vraiment le d√©veloppement de certains types d'applications C ++ multithread beaucoup plus facile.  Bien s√ªr, SObjectizer n'est pas une solution miracle et ne peut en aucun cas √™tre utilis√©.  Mais le cas √©ch√©ant, cela aide. </p><br><p>  La vie offre r√©guli√®rement une fois de plus l'occasion d'en √™tre convaincu.  De temps en temps, le code multithread de quelqu'un d'autre vient √† notre attention, dans lequel il n'y avait rien de similaire √† SObjectizer et il est peu probable qu'il apparaisse jamais.  Traitez ce code ici et l√†, les moments sont frappants lorsque l'utilisation d'acteurs ou de canaux CSP pourrait rendre le code √† la fois plus simple et plus fiable.  Mais non, vous devez cr√©er des mod√®les non triviaux d'interaction de threads au moyen de mutex-s et de condition_variables o√π dans SObjectizer vous pouvez g√©rer avec une cha√Æne, quelques messages et une minuterie int√©gr√©e √† SObjectizer.  Et puis passez aussi beaucoup de temps √† tester ces sch√©mas non triviaux ... </p><br><p>  SObjectizer nous a donc √©t√© utile.  J'ose penser que cela nous a √©t√© utile non seulement.  Et surtout, il existe depuis longtemps et est accessible gratuitement √† tous.  Il ne partira nulle part.  Et o√π aller √† ce qui est dans OpenSource sous une licence permissive?  ;) </p><br><p>  Une autre chose est que nous avons nous-m√™mes impl√©ment√© toute notre grande liste de souhaits dans SObjectizer.  Et le d√©veloppement futur de SObjectizer sera d√©termin√© non pas tant par nos besoins que par les souhaits des utilisateurs. </p><br><p>  Il y aura de tels souhaits - il y aura de nouvelles fonctionnalit√©s dans SObjectizer. </p><br><p>  Ce ne sera pas ... Eh bien, nous publierons de temps en temps des versions correctives et v√©rifierons les performances de SObjectizer sous les nouvelles versions des compilateurs C ++. </p><br><p>  Donc, si vous voulez voir quelque chose dans SObjectizer, faites-le nous savoir.  Si vous avez besoin d'aide avec SObjectizer, n'h√©sitez pas √† nous contacter (via <a href="https://github.com/Stiffstream/sobjectizer/issues">Probl√®mes sur GitHub</a> ou le <a href="https://groups.google.com/forum/">groupe Google</a> ), nous essaierons certainement de vous aider. </p><br><p>  Eh bien, je tiens √† remercier ces lecteurs qui ont pu lire jusqu'√† la fin de cet article.  Et j'essaierai de r√©pondre √† toutes les questions concernant SObjectizer / so5extra, si cela se produit. </p><br><p>  PS.  Je serais reconnaissant aux lecteurs de trouver du temps pour √©crire dans les commentaires s'il √©tait int√©ressant / utile de lire des articles sur SObjectizer et s'ils souhaitent le faire √† l'avenir.  Ou est-il pr√©f√©rable pour nous d'arr√™ter de perdre du temps √† √©crire de tels articles, et donc de ne plus prendre le temps des utilisateurs Habr? </p><br><p>  PPS  Ou peut-√™tre que quelqu'un consid√©rait SObjectizer comme un outil ne pouvait pas √™tre appliqu√© pour une raison ou une autre?  Il serait tr√®s int√©ressant de le savoir. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485450/">https://habr.com/ru/post/fr485450/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485426/index.html">Voitures aux Pays-Bas: statistiques et informations pour 2019</a></li>
<li><a href="../fr485428/index.html">Le myst√©rieux programme LyX. Partie 5</a></li>
<li><a href="../fr485430/index.html">√âditeur de texte multi-utilisateurs simple avec chiffrement de bout en bout</a></li>
<li><a href="../fr485438/index.html">Test des composants React UI</a></li>
<li><a href="../fr485448/index.html">Une autre radio FM sur le RDA5807 ex√©cutant Arduino</a></li>
<li><a href="../fr485452/index.html">Pourquoi Rust est √† la t√™te de la r√©f√©rence du framework TechEmpower</a></li>
<li><a href="../fr485454/index.html">Premiers pas avec les retours d'utilisateurs: conseils pour le mod√®le accroch√©</a></li>
<li><a href="../fr485458/index.html">Silencieux d'obusier</a></li>
<li><a href="../fr485460/index.html">20 biblioth√®ques pour une application iOS spectaculaire</a></li>
<li><a href="../fr485462/index.html">Nous traitons avec eSIM (+ entretien avec un expert)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>