<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äç‚öïÔ∏è üï¶ üöñ Eine kurze Einf√ºhrung in Svelte aus der Perspektive eines Angular-Entwicklers üëÄ ü•à üßîüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Svelte ist ein relativ neues UI-Framework, das von Rich Harris entwickelt wurde , der auch der Autor des Rollup-Builders ist. H√∂chstwahrscheinlich wir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eine kurze Einf√ºhrung in Svelte aus der Perspektive eines Angular-Entwicklers</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467091/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Svelte</a> ist ein relativ neues UI-Framework, das von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rich Harris entwickelt wurde</a> , der auch der Autor des Rollup-Builders ist.  H√∂chstwahrscheinlich wird Svelte v√∂llig anders aussehen als das, was Sie zuvor behandelt haben, aber vielleicht ist das sogar gut.  Die beiden beeindruckendsten Merkmale dieses Frameworks sind Geschwindigkeit und Einfachheit.  In diesem Artikel konzentrieren wir uns auf die zweite. </p><br><p><img src="https://habrastorage.org/webt/cm/ew/bi/cmewbijh_gf8rjlvipourrlcw4w.jpeg"></p><br><p> Da meine Hauptentwicklungserfahrung mit Angular zusammenh√§ngt, versuche ich nat√ºrlich, Svelte zu lernen, indem ich die mir bereits bekannten Ans√§tze kopiere.  Und genau darum geht es in diesem Artikel: Wie man in Svelte die gleichen Dinge macht wie in Angular. </p><a name="habracut"></a><br><p>  <em><strong>Hinweis:</strong> Trotz der Tatsache, dass ich in einigen F√§llen meine Pr√§ferenz ausdr√ºcken werde, ist der Artikel kein Vergleich von Frameworks.</em>  <em>Dies ist eine schnelle und einfache Einf√ºhrung in Svelte f√ºr Personen, die Angular bereits als Hauptrahmen verwenden.</em> </p><br><p>  <em><strong>Warnung Spoiler:</strong> Svelte macht Spa√ü.</em> </p><br><h2 id="komponenty">  Komponenten </h2><br><p> In Svelte ist jede Komponente der Datei zugeordnet, in die sie geschrieben wurde.  Beispielsweise wird die <code>Button</code> Komponente durch Benennen der <code>Button.svelte</code> Datei erstellt.  Nat√ºrlich machen wir das normalerweise auch in Angular, aber bei uns ist es nur eine Konvention.  <em>(In Svelte stimmt der Name der zu importierenden Komponente m√∂glicherweise auch nicht mit dem Dateinamen √ºberein - Hinweis des √úbersetzers)</em> </p><br><p>  Svelte-Komponenten sind Einzeldateien und bestehen aus drei Abschnitten: <code>script</code> , <code>style</code> und eine Vorlage, die nicht in ein spezielles Tag eingeschlossen werden muss. </p><br><p>  Lassen Sie uns eine sehr einfache Komponente erstellen, die "Hello World" anzeigt. </p><br><p><img src="https://habrastorage.org/webt/uw/ti/6j/uwti6j1vjktqkpb-vdjsi4-kcpg.png" alt="hallo_welt" title="Hallo welt"></p><br><h3 id="importirovanie-komponentov">  Komponenten importieren </h3><br><p>  Im Allgemeinen √§hnelt dies dem Importieren einer JS-Datei, jedoch mit einigen Einschr√§nkungen: </p><br><ul><li>  Sie m√ºssen die <code>.svelte</code> der <code>.svelte</code> Komponente explizit angeben </li><li>  Komponenten werden in das <code>&lt;script&gt;</code> importiert </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Aus den obigen Ausschnitten geht hervor, dass die Anzahl der Zeilen zum Erstellen einer Komponente in Svelte unglaublich gering ist.  Nat√ºrlich gibt es einige Implizit√§ten und Einschr√§nkungen, aber gleichzeitig ist alles einfach genug, um sich schnell daran zu gew√∂hnen. </p><br><h2 id="bazovyy-sintaksis">  Grundlegende Syntax </h2><br><h3 id="interpolyacii">  Interpolation </h3><br><p>  Interpolationen in Svelte sind denen in React √§hnlicher als in Vue oder Angular: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> someFunction = </span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> {...} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ 3 + 5 }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ someFunction() }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{ someFunction() ? 0 : 1 }<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ich bin es gewohnt, doppelte geschweifte Klammern zu verwenden, daher bin ich manchmal versiegelt, aber vielleicht habe ich nur dieses Problem. </p><br><h3 id="atributy">  Attribute </h3><br><p>  Das √úbergeben von Attributen an Komponenten ist ebenfalls recht einfach.  Anf√ºhrungszeichen sind optional und es k√∂nnen beliebige Javascript-Ausdr√ºcke verwendet werden: </p><br><pre> <code class="html hljs xml">//Svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> isFormValid = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{!isFormValid}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="sobytiya">  Ereignisse </h3><br><p>  Die Syntax f√ºr Ereignishandler lautet: <code>on:={}</code> . </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> onChange = </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(e); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:input</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onChange}</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Im Gegensatz zu Angular m√ºssen wir keine Klammern nach dem Funktionsnamen verwenden, um ihn aufzurufen.  Wenn Sie Argumente an den Handler √ºbergeben m√ºssen, verwenden Sie einfach die anonyme Funktion: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:input</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{(e)</span></span></span><span class="hljs-tag"> =&gt;</span></span> onChange(e, 'a')} /&gt;</code> </pre> <br><p>  Meine Ansicht zur Lesbarkeit eines solchen Codes: </p><br><ul><li>  Wir m√ºssen weniger drucken, weil wir keine Anf√ºhrungszeichen und Klammern ben√∂tigen - das ist sowieso gut. </li><li>  Lesen Sie besser.  Ich habe den Angular-Ansatz immer eher gemocht als reagiert, daher ist es f√ºr mich und Svelte schwieriger, ihn zu w√§hlen.  Aber das ist nur meine Gewohnheit und meine Meinung ist etwas voreingenommen. </li></ul><br><h3 id="strukturnye-direktivy">  Strukturrichtlinien </h3><br><p>  Im Gegensatz zu strukturierten Direktiven in Vue und Angular bietet Svelte eine spezielle Syntax f√ºr Schleifen und Verzweigungen in Vorlagen: </p><br><pre> <code class="html hljs xml">{#if todos.length === 0}    {:else} {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/each} {/if}</code> </pre> <br><p>  Gef√§llt mir sehr.  Es werden keine zus√§tzlichen HTML-Elemente ben√∂tigt, und in Bezug auf die Lesbarkeit sieht dies erstaunlich aus.  Leider befindet sich das Symbol <code>#</code> im britischen Tastaturlayout meines Macbooks an einer unzug√§nglichen Stelle, was sich negativ auf meine Erfahrung mit diesen Strukturen auswirkt. </p><br><h3 id="vhodnye-svoystva">  Eingabeeigenschaften </h3><br><p>  Das Definieren von Eigenschaften, die an eine Komponente √ºbergeben werden k√∂nnen (analog zu <code>@Input</code> in Angular), ist so einfach wie das Exportieren einer Variablen aus einem JS-Modul mit dem Schl√ºsselwort <code>export</code> .  Vielleicht kann es zun√§chst verwirrend sein - aber lassen Sie uns ein Beispiel schreiben und sehen, wie einfach es wirklich ist: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todo = { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> { todo.name } { todo.done ? '‚úì' : '‚úï' } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  Wie Sie sehen k√∂nnen, haben wir die <code>todo</code> Eigenschaft zusammen mit dem Wert initialisiert: <code>todo</code> standardm√§√üig der Wert der Eigenschaft, falls sie nicht von der √ºbergeordneten Komponente √ºbergeben wird </li></ul><br><p>  Erstellen Sie nun einen Container f√ºr diese Komponente, der Daten an sie √ºbertr√§gt: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> todos = [{ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Svelte"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Vue"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }]; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{todo}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><p>  √Ñhnlich wie Felder in einem regul√§ren JS-Objekt kann <code>todo={todo}</code> wie folgt gek√ºrzt und neu geschrieben werden: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">}&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Anfangs kam es mir seltsam vor, aber jetzt finde ich es genial. </p><br><h3 id="vyhodnye-svoystva">  Ausgabeeigenschaften </h3><br><p>  Um das Verhalten der <code>@Output</code> Direktive zu implementieren, verwenden wir <code>createEventDispatcher</code> die in Svelte verf√ºgbare Funktion <code>createEventDispatcher</code> , wenn die √ºbergeordnete Komponente Benachrichtigungen vom <code>createEventDispatcher</code> <code>@Output</code> . </p><br><ul><li>  Importieren Sie die Funktion <code>createEventDispatcher</code> und weisen Sie der <code>createEventDispatcher</code> ihren R√ºckgabewert zu </li><li>  Die <code>dispatch</code> hat zwei Parameter: den <em>Namen des Ereignisses</em> und die <em>Daten</em> (die in das <code>detail</code> des Ereignisobjekts fallen) </li><li>  Wir <code>markDone</code> <code>dispatch</code> in die <code>markDone</code> Funktion ein, die vom click-Ereignis aufgerufen wird ( <code>on:click</code> ). </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { createEventDispatcher } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todo; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> dispatch = createEventDispatcher(); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">markDone</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ dispatch(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'done'</span></span></span><span class="javascript">, todo.name); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> { todo.name } { todo.done ? '‚úì' : '‚úï' } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{markDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  In der √ºbergeordneten Komponente m√ºssen Sie einen Handler f√ºr das Ereignis <code>done</code> erstellen, damit Sie die erforderlichen Objekte im <code>todo</code> markieren k√∂nnen. </p><br><ul><li>  Erstellen Sie die <code>onDone</code> Funktion </li><li>  Wir weisen diese Funktion dem Ereignishandler zu, der in der <code>on:done={onDone}</code> Komponente wie folgt aufgerufen wird: <code>on:done={onDone}</code> </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Todo </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Todo.svelte'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> todos = [{ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Svelte"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">" Vue"</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }]; </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">onDone</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">event</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> name = event.detail; todos = todos.map(</span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">todo</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> todo.name === name ? {...todo, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">done</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">} : todo; }); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:done</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><p>  <strong>Hinweis:</strong> Um √Ñnderungen an einem Objekt zu erkennen, wird das Objekt selbst nicht mutiert.  Stattdessen weisen wir der Variablen <code>todos</code> ein neues Array zu, in dem das Objekt der gew√ºnschten Aufgabe bereits in "Abgeschlossen" ge√§ndert wird. </p><br><p>  <strong>Daher wird Svelte als wirklich <em>reaktiv angesehen</em> :</strong> Bei der √ºblichen Zuweisung eines Werts zu einer Variablen √§ndert sich der entsprechende Teil der Darstellung. </p><br><h3 id="ngmodel">  ngModel </h3><br><p>  Svelte hat eine spezielle <code>bind:&lt;&gt;={}</code> um bestimmte Variablen an die Attribute einer Komponente zu binden und miteinander zu synchronisieren. </p><br><p>  Mit anderen Worten, Sie k√∂nnen die bidirektionale Datenbindung organisieren: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> name = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">""</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> description = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">""</span></span></span><span class="javascript">; </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">submit</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:submit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{submit}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{name}</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{description}</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 id="reaktivnye-vyrazheniya">  Reaktive Ausdr√ºcke </h2><br><p>  Wie wir bereits gesehen haben, reagiert Svelte auf das Zuweisen von Werten zu Variablen und zeichnet die Ansicht neu.  Sie k√∂nnen auch reaktive Ausdr√ºcke verwenden, um auf √Ñnderungen des Werts einer Variablen zu reagieren und den Wert einer anderen Variablen zu aktualisieren. </p><br><p>  Erstellen wir beispielsweise eine Variable, die uns zeigen soll, dass im <code>todos</code> Array alle Aufgaben als erledigt markiert sind: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> allDone = todos.every(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ done }</span></span></span><span class="hljs-function">) =&gt;</span></span> done);</code> </pre> <br><p>  Die Ansicht wird jedoch nicht neu gezeichnet, wenn das Array aktualisiert wird, da der Wert der Variablen <code>allDone</code> nur einmal zugewiesen wird.  Wir werden einen reaktiven Ausdruck verwenden, der uns gleichzeitig an die Existenz von "Labels" in Javascript erinnert: </p><br><pre> <code class="javascript hljs">$: allDone = todos.every(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ done }</span></span></span><span class="hljs-function">) =&gt;</span></span> done);</code> </pre> <br><p>  Es sieht sehr exotisch aus.  Wenn es Ihnen so vorkommt, als g√§be es ‚Äûzu viel Magie‚Äú, erinnere ich Sie daran, dass Tags <strong>g√ºltiges Javascript sind</strong> . </p><br><p>  Eine kleine Demo, die das oben Genannte erkl√§rt: <br><img src="https://habrastorage.org/webt/ar/n6/lp/arn6lpzksabtu0qd6jr5y_axvfa.gif" alt="Demo" title="Demo"></p><br><h2 id="vnedrenie-soderzhimogo">  Inhaltsinjektion </h2><br><p>  Zum Einbetten von Inhalten werden auch Slots verwendet, die an der richtigen Stelle innerhalb der Komponente platziert werden. </p><br><p>  Um einfach den Inhalt anzuzeigen, der innerhalb des Komponentenelements √ºbertragen wurde, wird ein spezielles <code>slot</code> Element verwendet: </p><br><pre> <code class="html hljs xml">// Button.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> type; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class.type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{type}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> // App.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Button </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Button.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  In diesem Fall ersetzt die <code>""</code> das Element <code>&lt;slot&gt;&lt;/slot&gt;</code> . <br>  Benannte Slots m√ºssen benannt werden: </p><br><pre> <code class="html hljs xml">// Modal.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'modal'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-header"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-body"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> // App.svelte <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Modal </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Modal.svelte'</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Modal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"body"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Modal</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 id="huki-zhiznennogo-cikla">  Lebenszyklus-Haken </h2><br><p>  Svelte bietet 4 Lifecycle-Hooks an, die aus dem <code>svelte</code> Paket importiert werden. </p><br><ul><li>  onMount - Wird aufgerufen, wenn eine Komponente im DOM bereitgestellt wird </li><li>  beforeUpdate - wird vor dem Aktualisieren der Komponente aufgerufen </li><li>  afterUpdate - wird nach der Komponentenaktualisierung aufgerufen </li><li>  onDestroy - wird aufgerufen, wenn eine Komponente aus dem DOM entfernt wird </li></ul><br><p>  Die <code>onMount</code> Funktion verwendet als Parameter eine R√ºckruffunktion, die aufgerufen wird, wenn die Komponente im DOM platziert wird.  Einfach ausgedr√ºckt √§hnelt es der Hook- <code>ngOnInit</code> . </p><br><p>  Wenn die R√ºckruffunktion eine andere Funktion zur√ºckgibt, wird sie aufgerufen, wenn die Komponente aus dem DOM entfernt wird. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { onMount, beforeUpdate, afterUpdate, onDestroy } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte'</span></span></span><span class="javascript">; onMount(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); afterUpdate(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); beforeUpdate(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'  '</span></span></span><span class="javascript">, todo)); onDestroy(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, todo)); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Es ist wichtig zu <code>onMount</code> dass beim Aufrufen von <code>onMount</code> alle darin enthaltenen Eigenschaften bereits initialisiert sein m√ºssen.  Das hei√üt, im obigen Fragment sollte <code>todo</code> bereits existieren. </p><br><h2 id="upravlenie-sostoyaniem">  Staatsverwaltung </h2><br><p>  Die Verwaltung Ihres Staates in Svelte ist unglaublich einfach, und vielleicht sympathisiert dieser Teil des Frameworks mehr als jeder andere mit mir.  Sie k√∂nnen die Ausf√ºhrlichkeit von Code vergessen, wenn Sie Redux verwenden.  Zum Beispiel erstellen wir in unserer Anwendung Speicher f√ºr die Speicherung und Aufgabenverwaltung. </p><br><h3 id="zapisyvaemye-hranilischa">  Aufzeichnbare Tresore </h3><br><p>  Zuerst m√ºssen Sie das <code>writable</code> Speicherobjekt aus dem <code>svelte/store</code> Paket importieren und ihm den Anfangswert <code>initialState</code> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { writable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'svelte/store'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">" Svelte"</span></span>, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">" Vue"</span></span>, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> todos = writable(initialState);</code> </pre> <br><p>  Normalerweise <code>todos.store.js</code> ich √§hnlichen Code in eine separate Datei wie <code>todos.store.js</code> und exportiere die Speichervariable daraus, damit die Komponente, in die ich sie importiere, damit arbeiten kann. </p><br><p>  Offensichtlich ist das <code>todos</code> Objekt jetzt ein Repository geworden und kein Array mehr.  Um den Speicherwert zu erhalten, verwenden wir in Svelte ein wenig Magie: </p><br><ul><li>  Durch Hinzuf√ºgen des Zeichens <code>$</code> zum Namen der Speichervariablen erhalten wir direkten Zugriff auf ihren Wert! </li></ul><br><p>  Daher ersetzen wir im Code einfach alle Verweise auf die Variable <code>todos</code> durch <code>$todos</code> : </p><br><pre> <code class="html hljs xml">{#each $todos as todo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">todo</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{todo}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:done</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{onDone}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Todo</span></span></span><span class="hljs-tag">&gt;</span></span> {/each}</code> </pre> <br><h3 id="ustanovka-sostoyaniya">  Statuseinstellung </h3><br><p>  Der neue Wert des beschreibbaren Speichers kann durch Aufrufen der <code>set</code> Methode angegeben werden, die den Status unbedingt entsprechend dem √ºbergebenen Wert √§ndert: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> todos = writable(initialState); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeAll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ todos.set([]); }</code> </pre> <br><h3 id="obnovlenie-sostoyaniya">  Statusaktualisierung </h3><br><p>  Um den Speicher (in unserem Fall <code>todos</code> ) basierend auf seinem aktuellen Status zu <code>update</code> , m√ºssen Sie die <code>update</code> aufrufen und eine R√ºckruffunktion √ºbergeben, die den neuen Status f√ºr den Speicher zur√ºckgibt. </p><br><p>  Wir schreiben die zuvor erstellte <code>onDone</code> Funktion neu: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = event.detail; todos.update(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">todo</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> todo.name === name ? {...todo, <span class="hljs-attr"><span class="hljs-attr">done</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>} : todo; }); }); }</code> </pre> <br><p>  Hier habe ich einen Reduzierer direkt in der Komponente verwendet, was eine schlechte Praxis ist.  Wir verschieben es in eine Datei mit unserem Repository und exportieren eine Funktion daraus, die einfach den Status aktualisiert. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// todos.store.js export function markTodoAsDone(name) { const updateFn = (state) =&gt; { return state.map((todo) =&gt; { return todo.name === name ? {...todo, done: true} : todo; }); }); todos.update(updateFn); } // App.svelte import { markTodoAsDone } from './todos.store'; function onDone(event) { const name = event.detail; markTodoAsDone(name); }</span></span></code> </pre> <br><h3 id="podpiska-na-izmenenie-sostoyaniya">  Abonnement zur Status√§nderung </h3><br><p>  Um festzustellen, dass sich der Wert im Repository ge√§ndert hat, k√∂nnen Sie die Methode <code>subscribe</code> verwenden.  Beachten Sie, dass das Repository kein <code>observable</code> Objekt ist, sondern eine √§hnliche Schnittstelle bietet. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscription = todos.subscribe(<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log); subscription(); <span class="hljs-comment"><span class="hljs-comment">//    </span></span></code> </pre> <br><h2 id="observables">  Observables </h2><br><p>  Wenn dieser Teil Sie am meisten aufgeregt hat, dann beeile ich mich, dass Svelte vor nicht allzu langer Zeit RxJS-Unterst√ºtzung hinzugef√ºgt und Observable for ECMAScript eingef√ºhrt wurde. </p><br><p>  Als Angular-Entwickler bin ich bereits daran gew√∂hnt, mit reaktiver Programmierung zu arbeiten, und das Fehlen eines Gegenst√ºcks zur <em>asynchronen Pipe</em> w√§re √§u√üerst unpraktisch.  Aber auch hier hat mich Svelte √ºberrascht. </p><br><p>  Schauen wir uns ein Beispiel f√ºr die Zusammenarbeit dieser Tools an: Zeigen Sie eine Liste der Repositorys in Github an, die unter dem Schl√ºsselwort <code>"Svelte"</code> . </p><br><p>  Sie k√∂nnen den folgenden Code kopieren und direkt in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">REPL</a> ausf√ºhren: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> rx </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://unpkg.com/rxjs/bundles/rxjs.umd.min.js"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> { pluck, startWith } = rx.operators; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> ajax = rx.ajax.ajax; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> URL = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">`https://api.github.com/search/repositories?q=Svelte`</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> repos$ = ajax(URL).pipe( pluck(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"response"</span></span></span><span class="javascript">), pluck(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"items"</span></span></span><span class="javascript">), startWith([]) ); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> {#each $repos$ as repo} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{repo.url}"</span></span></span><span class="hljs-tag">&gt;</span></span>{repo.name}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {/each} <span class="hljs-comment"><span class="hljs-comment">&lt;!--   Angular: &lt;div *ngFor="let repo of (repos$ | async)&gt; &lt;a [attr.href]="{{ repo.url }}"&gt;{{ repo.name }}&lt;/a&gt; &lt;/div&gt; --&gt;</span></span></code> </pre><br><p>  F√ºgen Sie einfach das <code>$</code> -Symbol zum Namen der beobachtbaren Variablen <code>repos$</code> und Svelte zeigt automatisch den Inhalt an. </p><br><h2 id="moy-spisok-pozhelaniy-dlya-svelte">  Meine Wunschliste f√ºr Svelte </h2><br><h3 id="podderzhka-typescript">  Typoskript-Unterst√ºtzung </h3><br><p>  Als Typescript-Enthusiast kann ich mir nur die M√∂glichkeit w√ºnschen, Typen in Svelte zu verwenden.  Ich bin so daran gew√∂hnt, dass ich manchmal mitgerissen werde und Typen in meinem Code anordne, die ich dann entfernen muss.  Ich hoffe wirklich, dass Svelte bald Unterst√ºtzung f√ºr Typescript hinzuf√ºgen wird.  Ich denke, dieser Artikel wird auf der Wunschliste von jedem stehen, der Svelte mit Erfahrung mit Angular verwenden m√∂chte. </p><br><h3 id="soglasheniya-i-gaydlayny">  Vereinbarungen und Richtlinien </h3><br><p>  Das Rendern in der Darstellung einer Variablen aus dem <code>&lt;script&gt;</code> -Block ist eine sehr leistungsstarke Funktion des Frameworks, kann aber meiner Meinung nach zu Code-Unordnung f√ºhren.  Ich hoffe, dass die Svelte-Community eine Reihe von Konventionen und Richtlinien durcharbeitet, um Entwicklern beim Schreiben von sauberem und verst√§ndlichem Komponentencode zu helfen. </p><br><h3 id="podderzhka-soobschestvom">  Unterst√ºtzung durch die Gemeinschaft </h3><br><p>  Svelte ist ein grandioses Projekt, das mit zunehmendem Aufwand der Community beim Schreiben von Paketen, Handb√ºchern, Blog-Artikeln und vielem mehr von Drittanbietern zu einem anerkannten Werkzeug in der erstaunlichen Welt der Frontend-Entwicklung werden kann, die wir heute haben. </p><br><h2 id="v-zaklyuchenie">  Abschlie√üend </h2><br><p>  Trotz der Tatsache, dass ich kein Fan der vorherigen Version des Frameworks war, machte Svelte 3 einen guten Eindruck auf mich.  Es ist einfach, klein, kann aber viel.  Es ist so anders als alles andere, dass es mich an die Aufregung erinnerte, die ich erlebte, als ich von jQuery zu Angular wechselte. </p><br><p>  Unabh√§ngig davon, welches Framework Sie gerade verwenden, dauert das Erlernen von Svelte wahrscheinlich nur einige Stunden.  Sobald Sie die Grundlagen gelernt und die Unterschiede zu dem, was Sie an Schreiben gew√∂hnt sind, verstanden haben, wird die Arbeit mit Svelte sehr einfach. </p><br><p>  Im russischsprachigen Telegrammkanal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@sveltejs finden</a> Sie sicherlich Entwickler, die Erfahrung mit verschiedenen Frameworks haben und bereit sind, ihre Geschichten, Gedanken und Tipps zu Svelte zu teilen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de467091/">https://habr.com/ru/post/de467091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de467081/index.html">Analyse der emotionalen F√§rbung von Rezensionen von Kinopoisk</a></li>
<li><a href="../de467083/index.html">Wie die seltsame Popcount-Anweisung in modernen Prozessoren verwendet wird</a></li>
<li><a href="../de467085/index.html">C-, C ++ - und DotNet-Dekompilierung sind die Grundlagen der Umkehrung. L√∂sen von Problemen beim Umkehren mit r0ot-mi. Teil 1</a></li>
<li><a href="../de467087/index.html">Wie ich mich auf die Oracle Database SQL-Zertifizierung (1Z0-071) vorbereitet und diese bestanden habe</a></li>
<li><a href="../de467089/index.html">Patched Exim - Patch erneut. Neue Remote-Befehlsausf√ºhrung in Exim 4.92 in einer Anforderung</a></li>
<li><a href="../de467093/index.html">Spionieren Sie Ihre Programme mit Strace aus</a></li>
<li><a href="../de467095/index.html">Einfacher als es klingt. 20</a></li>
<li><a href="../de467097/index.html">Verwenden der Paging-Bibliothek mit Realm</a></li>
<li><a href="../de467099/index.html">Hapi f√ºr die Kleinen</a></li>
<li><a href="../de467101/index.html">Das Epos, einen Roboter mit dem Duft eines Hundes zu erschaffen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>