<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🎨 🤛 👨🏾‍🤝‍👨🏼 Entrée dans Aeronet: lancement d'un quadricoptère autonome dans un environnement virtuel 👊🏾 😬 🤹🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Peut-être que tout le monde peut piloter un quadcopter maintenant, si vous le souhaitez. Mais afin de résoudre le problème du contrôle autonome, afin ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrée dans Aeronet: lancement d'un quadricoptère autonome dans un environnement virtuel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434220/"><p><img src="https://habrastorage.org/webt/_u/wx/n4/_uwxn4mt5vwbrjvzxwrcxjg7mnu.png"></p><br><p>  Peut-être que tout le monde peut piloter un quadcopter maintenant, si vous le souhaitez.  Mais afin de résoudre le problème du contrôle autonome, afin que vous n'ayez pas besoin de déplacer les manettes de la télécommande et de surveiller constamment le drone - dans ce cadre, la solution peut nécessiter beaucoup de ressources: acheter, assembler, souder, configurer, décoller, déposer, et après la chute - revenir au début du cycle. </p><br><p>  En enseignant aux juges / professeurs d'Aeronet sur notre projet, nous sommes confrontés à la nécessité d'une programmation simplifiée "entrée dans le sujet" des véhicules sans pilote pour les professeurs de robotique / informatique, qui possèdent déjà un ensemble de connaissances de base. </p><br><p>  Il existe un moyen facile d'apprendre les rudiments de la programmation des vols de drones - un environnement de simulation virtuelle, un exemple étape par étape de l'utilisation dont nous examinerons dans notre article. </p><a name="habracut"></a><br><p>  Vous n'avez pas besoin d'acheter quoi que ce soit pour améliorer vos compétences de base en programmation de drones - utilisez simplement le simulateur de drone jMAVSim du projet PX4.  PX4 est une suite logicielle open source puissante conçue pour être utilisée sur une variété de véhicules sans pilote, volant et voyageant au sol.  Le code source du logiciel du projet est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Github</a> . </p><br><p>  Initialement, les auteurs de PX4 recommandent Linux Ubuntu LTS comme environnement de développement.  Il existe également un support Mac.  Cette année, un environnement de simulation et de développement pour Windows est apparu dans Cygwin, qui peut simplifier la vie des établissements d'enseignement russes qui utilisent Windows dans les cours d'informatique. </p><br><p>  Ensuite, nous examinerons le processus d'installation, de construction et d'exécution du simulateur sous Linux et sous Windows. </p><br><h2 id="ustanovka-i-zapusk-jmavsim-na-linux-ubuntu">  Installation et exécution de jMAVSim sur Linux Ubuntu </h2><br><p>  Les développeurs de PX4 recommandent Linux Ubuntu 16.04 LTS comme système standard.  Linux vous permet de construire le package PX4 pour tous les systèmes pris en charge (plates-formes matérielles basées sur NuttX, Qualcomm Snapdragon Flight, Linux, environnement de simulation, ROS). </p><br><p>  Tout d'abord, ajoutez l'utilisateur au groupe de numérotation: </p><br><pre><code class="bash hljs">sudo usermod -a -G dialout <span class="hljs-variable"><span class="hljs-variable">$USER</span></span></code> </pre> <br><p>  Connectons-nous au système pour que les modifications prennent effet. </p><br><p>  La chaîne d'outils de développement pour Pixhawk / NuttX, y compris jmavsim, est installée automatiquement à l'aide du script <a href="">ubuntu_sim_nuttx.sh</a> .  Vous devez télécharger le script dans le répertoire utilisateur et l'exécuter à l'aide de la commande </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">source</span></span> ubuntu_sim_nuttx.sh</code> </pre> <br><p>  Toutes les questions posées par le script reçoivent une réponse positive. </p><br><p>  À la fin du script, redémarrez l'ordinateur. </p><br><p>  Il nous reste à télécharger le code source du contrôleur qui contrôle le vol et à le construire. </p><br><p>  Nous clonons le référentiel logiciel du contrôleur de vol PX4 avec github: </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/PX4/Firmware.git</code> </pre><br><p>  Dans le dossier Firmware, nous avons maintenant le code source complet qui est exécuté dans le contrôleur de vol (et dans le simulateur).  À l'avenir, il peut être utile à la fois pour étudier et pour y apporter des modifications.  Accédez au dossier Firmware copié du référentiel: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> src/Firmware</code> </pre><br><p>  Nous compilons et exécutons le simulateur: </p><br><pre> <code class="bash hljs">make px4_sitl jmavsim</code> </pre><br><p>  Le premier processus de compilation prend un certain temps.  Une fois l'opération terminée, la console PX4 apparaîtra à l'écran: </p><br><p><img src="https://habrastorage.org/webt/7l/rb/1u/7lrb1uqlicj_osjqsehpj0rwacs.png" alt="Console PX4"></p><br><p>  Le drone peut être envoyé en vol en entrant la commande dans la console: </p><br><pre> <code class="plaintext hljs">pxh&gt; commander takeoff</code> </pre> <br><p><img src="https://habrastorage.org/webt/x_/yn/2i/x_yn2ic0ejcwxe9dhohhkycwyg8.png" alt="Drone en vol"></p><br><p>  Atterrissage d'un drone - commande le <code>commander land</code> , arrête la simulation - CTRL + C ou <code>shutdown</code> commande. </p><br><h2 id="ustanovka-i-zapusk-jmavsim-na-windows">  Installer et exécuter jMAVSim sous Windows </h2><br><p>  La boîte à outils PX4 Cygwin est apparue en 2018.  C'est le moyen le plus puissant pour compiler / développer PX4 pour Windows.  Pour installer - téléchargez et exécutez le fichier d'installation depuis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Github</a> ou <a href="">Amazon</a> . </p><br><p>  Par défaut, la chaîne d'outils est installée dans le dossier C: \ PX4. </p><br><p>  À la dernière étape du programme d'installation, vous pouvez cocher la case «cloner le référentiel PX4, construire et exécuter la simulation avec jMAVSim» (cloner le référentiel PX4, compiler et exécuter le simulateur jMAVSim). </p><br><p>  L'environnement de développement est lancé dans Cygwin à l'aide du fichier run-console.bat du répertoire d'installation (par défaut, C: \ PX4). </p><br><p>  Si vous avez oublié de cocher la case de lancement de jMAVSim pendant le processus d'installation - dans Cygwin, vous pouvez cloner le référentiel et exécuter le simulateur à l'aide des commandes: </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --recursive -j8 https://github.com/PX4/Firmware.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Firmware make px4_sitl jmavsim</code> </pre><br><p>  Après la compilation, la console PX4 et la fenêtre du simulateur apparaîtront à l'écran: </p><br><p><img src="https://habrastorage.org/webt/ri/pd/pz/ripdpzbnhgyv6kktr8hfsftqpgw.png" alt="Fenêtre du simulateur JMAVSim pour Windows"></p><br><p>  Je n'ai pas encore affiché le ciel et les arbres sur Windows, au lieu d'eux un fond noir, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapporté aux développeurs du simulateur</a> . </p><br><p>  Les commandes de la console pour contrôler le drone sont les mêmes: décollage - décollage <code>commander takeoff</code> , atterrissage - <code>commander land</code> , simulation d'arrêt - CTRL + C ou <code>shutdown</code> . </p><br><h2 id="polyoty-s-pomoschyu-programmy-nazemnoy-stancii-qgroundcontrol">  Vols avec le programme de station au sol QGroundControl </h2><br><p>  Le programme QGroundControl vous permet de configurer entièrement les drones sur les plates-formes PX4 ou ArduPilot, ainsi que de planifier et d'effectuer des vols extérieurs autonomes via GPS. </p><br><p>  Le code du programme est complètement ouvert et fonctionne sur les plates-formes Windows, OS X, Linux, iOS et Android.  Le fichier d'installation de la plate-forme souhaitée peut être téléchargé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la section Téléchargement du site Web du programme</a> . </p><br><p>  Pour Windows, téléchargez et exécutez <a href="">ce fichier</a> . <br>  Après l'installation et le lancement, si jMAVSim est déjà en cours d'exécution sur notre ordinateur, le programme s'y connectera automatiquement. </p><br><p>  Vous pouvez lancer un drone en vol à l'aide du bouton Fly-Takeoff et atterrir - Atterrir.  Vous pouvez également effectuer un vol virtuel sur des points GPS: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/g-/sn/yo/g-snyoq6du43ymgelyeiyylaarc.png" alt="QGroundControl"></a> </p><br><h2 id="programmirovanie-avtonomnogo-polyota-s-pomoschyu-mavros">  Programmation de vol autonome avec mavros </h2><br><p>  Le drone virtuel jMAVSim peut être contrôlé à l'aide du protocole mavlink, qui est décrit dans plusieurs articles (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2</a> ).  Pour implémenter la communication mavlink, nous utiliserons le package mavros du système <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ROS (robot operating system)</a> . </p><br><p>  Les développeurs de PX4 recommandent d'utiliser ROS Kinetic. </p><br><p>  Le package mavros assure la communication via le protocole MAVLink entre un ordinateur exécutant ROS (par exemple, une machine virtuelle avec Linux ou Raspberry PI) et un contrôleur de vol (réel ou dans un environnement de simulateur). </p><br><p>  Le package mavros est installé avec d'autres packages lors de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">installation complète de ROS Kinetic</a> . </p><br><p>  Le package mavros est lancé avec la connexion au simulateur par la commande roslaunch, indiquant l'adresse IP et le port de l'ordinateur sur lequel le simulateur s'exécute: </p><br><pre> <code class="bash hljs">roslaunch mavros px4.launch fcu_url:=<span class="hljs-string"><span class="hljs-string">"udp://@192.168.0.22:14557"</span></span></code> </pre><br><p>  Si le simulateur ne fonctionne pas sur l'hôte sur lequel jMAVSim s'exécute, avant de vous connecter à mavros, vous devez activer l'envoi des messages mavlink sur le réseau à l'aide de la commande <code>param set MAV_BROADCAST 1</code> dans la console jMAVSim.  Lorsque la commande est exécutée, l'adresse IP hôte utilisée pour le protocole mavlink s'affiche.  Le port peut être trouvé à l'aide de la commande <code>mavlink status</code> dans la console du simulateur: </p><br><p><img src="https://habrastorage.org/webt/va/ap/xv/vaapxvkikt1ecz8k19p32rox2ua.png" alt="Statut Mavlink"></p><br><p>  La réussite de la connexion au contrôleur de vol doit être vérifiée à l'aide de la commande: </p><br><pre> <code class="bash hljs">rostopic <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> /mavros/state</code> </pre> <br><p>  Si la connexion réussit, les soi-disant messages apparaîtront dans la console.  rythme cardiaque mavlink, environ une fois par seconde: </p><br><p><img src="https://habrastorage.org/webt/dg/lc/8v/dglc8vwds2msbjgsjqtx_mrhjqo.png" alt="battement de coeur mavlink"></p><br><p>  Si les messages n'apparaissent pas / ne sont pas mis à jour / champ Connected = False - la communication avec le contrôleur de vol n'est pas établie, et vous devez comprendre pourquoi. </p><br><p>  Au moment de la rédaction, sous Windows, après la commande param set MAV_BROADCAST 1, les messages de la console jMAVSim ont commencé à apparaître en boucle: </p><br><pre> <code class="plaintext hljs">WARN [mavlink] getting required buffer size failed.</code> </pre> <br><p>  Pour que le simulateur fonctionne correctement sous Windows, vous devez ajouter la ligne 1029 au fichier src / modules / mavlink / mavlink_main.cpp: </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(__APPLE__) &amp;&amp; defined(__MACH__) || defined(__CYGWIN__)</span></span></code> </pre><br><p>  Et recompilez / redémarrez le simulateur avec la commande <code>make px4_sitl jmavsim</code> . </p><br><p>  Ce problème a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">été signalé aux développeurs</a> , il pourrait être corrigé dans les futures versions. </p><br><p>  Après une connexion réussie, vous pouvez lancer le drone en vol autonome en utilisant les commandes suivantes de la console du système ROS: </p><br><ul><li>  Nous publions 5 fois par seconde le point cible pour le vol du drone en mode OFFBOARD.  Pour que le drone ne «tombe» pas en mode de vol autonome OFFBOARD, il est nécessaire de publier le point cible tout le temps, plusieurs fois par seconde: <br><br><pre> <code class="bash hljs">rostopic pub -r 5 /mavros/setpoint_position/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> geometry_msgs/PoseStamped <span class="hljs-string"><span class="hljs-string">"header: seq: 0 stamp: secs: 0 nsecs: 0 frame_id: '' pose: position: x: 0.0 y: 0.0 z: 5.0 orientation: x: 0.0 y: 0.0 z: 0.0 w: 0.0"</span></span></code> </pre> </li></ul><br><br><ul><li>  Nous avons mis le drone en mode OFFBOARD (dans une nouvelle session de terminal séparée): <br><br><pre> <code class="bash hljs">rosservice call /mavros/set_mode <span class="hljs-string"><span class="hljs-string">"base_mode: 0 custom_mode: 'OFFBOARD'"</span></span></code> </pre> <br></li><li>  Nous envoyons une commande pour mettre le drone en mode vol (ie, "feed"): <br><br><pre> <code class="bash hljs">rosservice call /mavros/cmd/arming <span class="hljs-string"><span class="hljs-string">"value: true"</span></span></code> </pre> </li></ul><br><p>  Après avoir exécuté la dernière commande, le drone virtuel devrait décoller et planer à une hauteur de 5 mètres: </p><br><p><img src="https://habrastorage.org/webt/jo/if/xb/joifxbqtlwojorys81tmvxqti7q.png" alt="Flying jmavsim"></p><br><p>  Vous pouvez également lancer un drone à l'aide d'un simple code Python: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> rospy <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> geometry_msgs.msg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PoseStamped <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mavros_msgs.srv <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> CommandBool, SetMode rospy.init_node(<span class="hljs-string"><span class="hljs-string">"offbrd"</span></span>,anonymous=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) rate=rospy.Rate(<span class="hljs-number"><span class="hljs-number">5</span></span>) setpoint_pub=rospy.Publisher(<span class="hljs-string"><span class="hljs-string">"/mavros/setpoint_position/local"</span></span>,PoseStamped,queue_size=<span class="hljs-number"><span class="hljs-number">10</span></span>) arming_s=rospy.ServiceProxy(<span class="hljs-string"><span class="hljs-string">"/mavros/cmd/arming"</span></span>,CommandBool) set_mode=rospy.ServiceProxy(<span class="hljs-string"><span class="hljs-string">"/mavros/set_mode"</span></span>,SetMode) setpt=PoseStamped() setpt.pose.position.z=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>): setpoint_pub.publish(setpt) rate.sleep() set_mode(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"OFFBOARD"</span></span>) arming_s(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (rospy.is_shutdown()==<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>): setpoint_pub.publish(setpt) rate.sleep()</code> </pre><br><p>  Le code ci-dessus utilise un appel aux mêmes services ROS que l'exemple d'appel de ligne de commande. </p><br><p>  Vous devez copier le code dans un fichier texte, par exemple, fly_jmavsim.py, et l'exécuter à partir de la ligne de commande avec la <code>python fly_jmavsim.py</code> . </p><br><p>  Lors du débogage de cet exemple, j'ai rencontré une caractéristique du simulateur jMAVSim - il a besoin d'un processeur puissant pour un fonctionnement normal.  Sur la machine virtuelle Linux, il a réussi à calculer seulement 10 FPS et s'est écrasé immédiatement après le décollage.  Sur l'ordinateur portable, pendant que j'écrivais l'article, il perdait également régulièrement le contrôle / plantait.  La puissance de l'ordinateur portable a aidé - car  lorsqu'il est alimenté par une batterie, le mode d'économie d'énergie est activé, ce qui sous-estime les performances du processeur, ce qui affecte directement le simulateur. </p><br><p>  Sur la base des exemples donnés, ceux qui le souhaitent peuvent eux-mêmes développer des programmes de vol autonomes (dans un carré, dans un cercle, dans une trajectoire arbitraire, etc.).  La réalisation de tels exercices peut être utile pour préparer la programmation de missions autonomes sur un vrai quadricoptère. </p><br><p>  Nous vous souhaitons tous des vols réussis! </p><br><h2 id="ssylki">  Références: </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Système d'exploitation de robot (ROS)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pilote automatique PX4</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434220/">https://habr.com/ru/post/fr434220/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434210/index.html">Analyse du concours de quiz Android du stand HeadHunter au Mobius 2018 Moscou</a></li>
<li><a href="../fr434212/index.html">Tour de Tesla. Que se passe-t-il dans et près d'un gratte-ciel lorsque la foudre frappe?</a></li>
<li><a href="../fr434214/index.html">Proxy dynamique Java: qu'est-ce que c'est et comment l'utiliser?</a></li>
<li><a href="../fr434216/index.html">Attaques par force brute avec Kali Linux</a></li>
<li><a href="../fr434218/index.html">Bot clicker Java simple sur l'exemple du jeu World of Warcraft 3.3.5a</a></li>
<li><a href="../fr434222/index.html">Station au sol Amazon à louer - recevez et traitez les données des satellites</a></li>
<li><a href="../fr434224/index.html">Événements numériques à Moscou du 24 au 30 décembre</a></li>
<li><a href="../fr434228/index.html">Comment renforcer la sécurité des applications Web avec des en-têtes HTTP</a></li>
<li><a href="../fr434230/index.html">Présentation des scanners 3D GOM Atos 5 / 5X au Top 3D Expo</a></li>
<li><a href="../fr434234/index.html">Méthode des couloirs de natation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>