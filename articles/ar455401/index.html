<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฝโ๐ญ ๐ฉ๐ปโ๐ ๐ Tcl ูู Cisco IOS ูู ุฃูุซูุฉ ุจุณูุทุฉ ๐ถ๐ป ๐ผ๐ฟ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุฎูู ุฃูู ุชุญุชุงุฌ ุฅูู ูุดุฑ ุงูุนุดุฑุงุช ูู ููุงุชูุญ ุงููุตูู ุฅูู Cisco ูู ููุณ ุงูููุน ูู ุงูุจุฏุงูุฉ. ูุชุถูู ุงูุชูููู ุงููููุฐุฌู ุงุณู ูุถูููุง ููุฌุงููุง ุ ูุจูุงุจุฉ ุงูุชุฑุงุถูุฉ ุ ููููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tcl ูู Cisco IOS ูู ุฃูุซูุฉ ุจุณูุทุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455401/" style=";text-align:right;direction:rtl">  ุชุฎูู ุฃูู ุชุญุชุงุฌ ุฅูู ูุดุฑ ุงูุนุดุฑุงุช ูู ููุงุชูุญ ุงููุตูู ุฅูู Cisco ูู ููุณ ุงูููุน ูู ุงูุจุฏุงูุฉ.  ูุชุถูู ุงูุชูููู ุงููููุฐุฌู ุงุณู ูุถูููุง ููุฌุงููุง ุ ูุจูุงุจุฉ ุงูุชุฑุงุถูุฉ ุ ููููุงุช ูุฑูุฑ ุ ููุงุฆูุฉ ูู ุงููุณุชุฎุฏููู ุ ูุนูุงููู IP ูู SVI ุ ูุฃุฑูุงู VLAN ุ ูุฅุนุฏุงุฏุงุช ุฌุฐูุน ุงููุตูุฉ ุงูุตุงุนุฏุฉ ุ ุฅูุฎ.  ูุฏุฎููู ูู ูู ูุฑุฉ ุจูุฏูู ุทูููุฉ ุฌุฏุง ูุบูุฑ ูุซูุฑุฉ.  ุจุงูุทุจุน ุ ููููู ุฅูุดุงุก ุชูููู ูููุฐุฌู ูุชุญูููู ุนุจุฑ (T) FTP ุ ูููู ุฃููุงู ุ ุณูุชุทูุจ ุฐูู ุนูู ุงูุฃูู ุชูููููุง ุฃุฏูู ูู ูุญุฏุฉ ุงูุชุญูู ุ ูุซุงููุงู ุ ูุง ูุฒุงู ูุชุนูู ุชุบููุฑ ูุนููุงุช ุงูุชูููู ุงููุงุจูุฉ ููุชุบููุฑ.  ูุญู ูุฐู ุงูููุงู (ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนุฏูุฏ ูู ุงูููุงู ุงูุฃุฎุฑู) ุ ูุญุชูู Cisco IOS ุนูู ุฃุฏุงุฉ ุฃุชูุชุฉ ูููุฉ - ูุชุฑุฌู Tcl ูุถูู (Cisco IOS scripting w / Tcl). <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู Tcl </h2><br>  Tcl (ูููุฑุงุกุฉ "ุฏุบุฏุบุฉ" ุ ูุฃุญูุงููุง "ูุชุฏูู") ูู ูุบุฉ ุจุฑูุฌุฉ ูุชุฑุฌูุฉ ุชู ุชุทููุฑูุง ูู ุฃูุงุฎุฑ ุงูุซูุงููููุงุช ูุชุถููููุง ูู ุชุทุจููุงุช ูุญุฏุฉ ุงูุชุญูู.  ูุฌููุนุฉ ููุฒุงุช Tcl ุงูุญุฏูุซุฉ ูุงุณุนุฉ ููุบุงูุฉ: ููุง ููุฌุฏ ุฏุนู ูู OOP ุ ูุฃุฏูุงุช ูุชูุฏูุฉ ููุชุฑุงุฌุน ุ ุตูุงุฆู ุฏููุงููููุฉ ุ ุฅูุฎ. <br><br>  ุธูุฑ ุฏุนู ูุฐู ุงููุบุฉ ุฃููุงู ุนูู ูุธุงู Cisco IOS 12.2 (3) T (ูุดุงุฑ ูู ุจุนุถ ุงููุตุงุฏุฑ ุฅูู 12.3 (2) ุ ููููู ูู ุฃุฌุฏ ุชุฃููุฏูุง ููุฐุง) ููุฏูู ุญุงูููุง ุนุฏุฉ ุฎูุงุฑุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Tcl ูุชุฑุฌู ูุน ูุงุฌูุฉ ุณุทุฑ ุงูุฃูุงูุฑ.  ุฅูู ูุฏูุฌ ูู ุฅุตุฏุงุฑุงุช ูุฎุชููุฉ ูู ูุธุงู Cisco IOS ุ ุจูุง ูู ุฐูู IOS XE ู XR ุ ููู ูุชุงุญ ููุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุฃุฌูุฒุฉ.  ูุชูุญ ูู ุชูููุฐ ุฃูุงูุฑ Tcl ุ ุชุดุบูู ุงูุจุฑุงูุฌ ุงููุตูุฉ ุงูุฌุงูุฒุฉ ููููุงุช ุ ุฅูุฎ.  ุงูุฃุฌูุฒุฉ ุงูุชู ูุง ุชุณุชุฎุฏู ูุธุงู ุงูุชุดุบูู iOS ููุธุงู ุชุดุบูู ูููู ุนูู ุณุจูู ุงููุซุงู ุ Cat OS ุฃู ASA (ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ ุงูุฐู ูุญูู ููุณ ุงูุงุณู) ูุง ุชุญุชูู ุนูู ุณุทุฑ ุฃูุงูุฑ ูุชุฑุฌู. </li><li style=";text-align:right;direction:rtl">  ูุง ูุณูู  "ูุฏูุฑ ุงูุฃุญุฏุงุซ ุงููุฏูุฌ" ุฃู EEM - ูุธุงู ุชุชุจุน ุงูุฃุญุฏุงุซ ุงูุฐู ูุณูุญ ูู ุจุงูุฑุฏ ุนูููุง ุชููุงุฆููุง ูู ุงูููุช ุงููุนูู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฑุงูุจ ูุถูููุง ุนู ุจูุนุฏ ุจุฅุดุนุงุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู.  ุชุชู ูุชุงุจุฉ ุงูุจุฑุงูุฌ ุงููุตูุฉ EEM (ุชุทุจููุงุช ุตุบูุฑุฉ) ูู Tcl ุ ูููู EEM ููุณู ูุง ูููุฑ ุณุทุฑ ุฃูุงูุฑ Tcl ูููุตู.  ูุซุงู ููุงุณุชุฎุฏุงู ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ูุชููุฑ EEM ุนูู ููุตุงุช Nexus (NX OS) ู ASA ูู ุงูุฅุตุฏุงุฑ 9.2 (1) ูุงูุฅุตุฏุงุฑุงุช ุงูุฃุญุฏุซ. </li><li style=";text-align:right;direction:rtl">  ุฃูุธูุฉ ุงููุงุฆูุฉ ุงูุตูุชูุฉ IVR (ุงูุฑุฏ ุงูุตูุชู ุงูุชูุงุนูู). </li></ul><br>  ููููุฉ ุชุญุฏูุฏ ูุฌูุฏ ูุชุฑุฌู ุฃูุงูุฑ ูุนุฑูุฉ ุทุฑุงุฒ ุงูุฌูุงุฒ ุฃู ุฅุตุฏุงุฑ ูุธุงู ุงูุชุดุบูู iOSุ  ููุฌุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cisco Feature Navigator ููุฐุง</a> : <br><br><img src="https://habrastorage.org/webt/go/kw/vg/gokwvg43agxltlunw5b6kv8pb5k.png" alt="ุตูุฑุฉ"><br><br>  ูุณูุญ ูู ุนูุตุฑ ุงููุงุฆูุฉ " <b>ููุฒุงุช ุงูููุฒุงุช ุงูุจุญุซูุฉ</b> " ุจุชุญุฏูุฏ ุฅุตุฏุงุฑ IOS ูุญุฏุฏ ูุฅุตุฏุงุฑ ุชุฏุฑูุจ IOS ูุนูู ุฃู ูุธุงู ุฃุณุงุณู ูุนูู ููุฃุฌูุฒุฉ.  ูุณูุญ ูู ุนูุตุฑ ูุงุฆูุฉ <b>Research Software</b> ุจุงูุจุญุซ ุนู ูุงูุฉ ุฅุตุฏุงุฑุงุช iOS ูุน ุฏุนู Tcl ูุฌูุงุฒ ูุนูู.  ููุฑ ุ ููู ุจุชุฑุดูุญ ุญูู ุงูุชุตููุฉ ุญุณุจ ุงูุงุณู (ุงุณู ุงูููุฒุฉ) "Cisco IOS scripting w / Tcl" (ุฃู ุจุจุณุงุทุฉ "Tcl") ุ ููู ุจุฅุถุงูุฉ ุงุณู ุงูููุฒุฉ ุฅูู ุงููุงุฆูุฉ ุ ูุญุฏุฏ Train release ูุงุญุตู ุนูู ูุงุฆูุฉ ุจุฌููุน ุฅุตุฏุงุฑุงุช IOS ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงูููุฒุฉ: <br><br><img src="https://habrastorage.org/webt/ko/py/aa/kopyaaihxbytr7a5qdcptq5jhtw.png"><br><br>  ูุณูุก ุงูุญุธ ุ ูุงุนุฏุฉ ุจูุงูุงุช CFN ุบูุฑ ููุชููุฉ ูุฃุญูุงููุง ูุง ุชูุธูุฑ ุฌููุน ุงููุนูููุงุช.  ูุฐูู ุ ุจุงููุณุจุฉ ูููุธุงู ุงูุฃุณุงุณู CAT2960S ุ ุฃุธูุฑ ุงููุณุชูุดู ูุฌูุฏ Tcl ูู ุฅุตุฏุงุฑ IOS 15.2E1 ููู ูุธูุฑ ูู ุงูุฅุตุฏุงุฑ 15.2E9 ุ ุนูู ุงูุฑุบู ูู ุฃู ูุชุฑุฌู Tcl ููุฌูุฏ ุจุงููุนู ูููุงู. <br><br>  ูุง ุงูุฐู ูููู ุนููู ูู Cisco IOS ุจุงุณุชุฎุฏุงู Tclุ  ูุซูุฑ ุฌุฏูุง: ุชุตูุญ ูุชุบููุฑ ุงูุชูููู ุ ูุฅูุดุงุก ูุตูุต ุชูุงุนููุฉ ุ ูุงูุนูู ุนูู ูุงุฆูุงุช MIB ุ ููุขุฎุฐ TCP ู UDP ุ ูุญุชู ... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุงุจุฉ ุบูุงู ููุจ ูุงูู!</a> <br><br>  ุจุดูู ุนุงู ุ ูุญุชูู ุจุฑูุงูุฌ Tcl ุนูู ุณูุณูุฉ ูู ุงูุฃูุงูุฑ ููุตููุฉ ุจุฎุท ุฌุฏูุฏ ุฃู ูุงุตูุฉ ููููุทุฉ.  ูุซุงู ุบูุฑ ุชูุถูุญู: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">puts "Hello, world!"; puts "My first Tcl IOS script!"</code> </pre> <br>  ุจุนุถ ุงููุดุบููู: <br><br>  <code>#</code> ุชุนููู ุฅูู ููุงูุฉ ุงูุณุทุฑ <br>  <code>set a 1</code> ูููุฉ 1 = 1 <br>  ุงูุญุตูู ุนูู ูููุฉ ูุชุบูุฑ <br>  <code>{ }</code> ุนุจุงุฑุฉ ุงููุชูุฉ - ุชุญุฏุฏ ูุต ุงูุญููุฉ ุฃู ุงูุดุฑุท <br>  <code>[ ]</code> ูุดุบู ุงูุงุณุชุจุฏุงู - ุนูุฏ ุงูุชูููุฐ ุ ุจุฏูุงู ูู ุงูุฃููุงุณ ุงููุฑุจุนุฉ ุ ุณูุชู ุงุณุชุจุฏุงู ุงููููุฉ ุงููุญุณูุจุฉ ููุชุนุจูุฑ ุงููุงุฑุฏ ูููุง <br>  <code>== &lt;= &lt;&gt;</code> ุนูุงูู ุงูููุงุฑูุฉ <br>  <code>puts "text"</code> ูุนุฑุถ ุงูุณูุณูุฉ "ูุต" ูู stdout (ุฃู ุฅูู ูุญุฏุฉ ุงูุชุญูู) <br>  <code>puts $a</code> ูุดุงุจู ููููุฉ a <br>  <code>gets stdin</code> ููุฑุฃ ุงูููู ูู ูุญุฏุฉ ุงูุชุญูู <br>  <code>set a [gets stdin]</code> ุฅุฏุฎุงู ูููุฉ ูู ูุญุฏุฉ ุงูุชุญูู ูุชุนููู ุงููุชุบูุฑ ุงูุฎุงุต ุจู <br>  <code>for {set i 1} {$i &lt; 10} {inrc i} {....}</code> ููุญููุฉ <br>  <code>proc {argument, ....} {body}</code> method <br><br>  ููุญุตูู ุนูู ูุงุฆูุฉ ุฃูุซุฑ ุงูุชูุงูุง ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">progopedia.ru/language/tcl</a> <br><br>  ูุชู ุชุดุบูู ูุชุฑุฌู Tcl ุจูุงุณุทุฉ ุงูุฃูุฑ tclsh ูู ูุถุน EXEC ุฐู ุงูุงูุชูุงุฒุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sw#Tclsh sw(tcl)#</code> </pre> <br>  ูู ุจุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ุงูุฃูู: <br><br><img src="https://habrastorage.org/webt/na/mh/bo/namhbouiixicygisd6mgjejgwsc.png" alt="ุตูุฑุฉ"><br><br>  ุงูุฎุฑูุฌ ูู ุงููุชุฑุฌู ูู ุฃูุฑ <code>tclquit</code> ุฃู ูุฌุฑุฏ ุงูุฎุฑูุฌ.  Tcl ุญุณุงุณ ูุญุงูุฉ ุงูุฃุญุฑู ุ ูุฐูู <code>Puts "Hello, world"</code> ุณูุฑูู ุฎุทุฃู ุ ููู ุณุฌู shell ููุฐููุฉ IOS ููุณ ููููุง.  ุชุชู ูุนุงูุฌุฉ ุฌููุน ุฃูุงูุฑ ุงูุฅุฏุฎุงู ุฃููุงู ุจูุงุณุทุฉ ูุชุฑุฌู Tcl ุ ุฅุฐุง ูุงู ุฃูุฑ ุงูุฅุฏุฎุงู ูุงุจู ููุชูููุฐ ูุน ุฐูู.  Tcl ุ ูููุฐ ูุงููุชูุฌุฉ ูู ุงูุฅุฎุฑุงุฌ ุฅูู ุฌูุงุฒ TTY.  ุฅุฐุง ุชุนุฐุฑ ุชูููุฐ ุงูุฃูุฑ ุจูุงุณุทุฉ ุงููุชุฑุฌู ุงูููุฑู ุ ูุชู ุชูุฑูุฑู ุฅูู ูุญูู ุฃูุงูุฑ IOS.  ูุจุงูุชุงูู ุ ูููู ุฃู ูุฌูุน ูุต ูุงุญุฏ ุจูู ุนุจุงุฑุงุช Tcl ูุฃูุงูุฑ IOS.  ูุง ุชุญุชูู ุจูุฆุฉ IOS ุนูู ูุญุฑุฑ ูุต ูุงูู ุ ูุฐูู ูุฌุจ ุฅูุดุงุก ูุตูุต ูุญุฏุฏุฉ ูุณุจููุง ุจูุณุงุฆู ุฎุงุฑุฌูุฉ ูุนูุฏุฆุฐู ููุท ูุชู ูุณุฎูุง ุฅูู ุงูููุงุด ุฃู ุงูุฐุงูุฑุฉ.  ููุง ุฃูู ูุฏุนู ุงูุชุฌููุน ุงููุณุจู ููุจุฑูุงูุฌ ุงููุตู ูู ุงูุฑูุฒ ุงูุจุฑูุฏู ูุน ุงูุฅุทูุงู ุงููุงุญู.  ูุชู ุชูููุฐ ุฅุทูุงู ููู ุงูุจุฑูุงูุฌ ุงููุตู ุจูุงุณุทุฉ ุงูุฃูุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">tclsh flash:filename</code> </pre> <br>  ููุณูุญ ุจุฌูุณุงุช ูุชุฑุฌู Tcl ูุชุนุฏุฏุฉ ูู ุฌูุณุงุช TTY ูุฎุชููุฉ. <br><br>  ุฃูุงูุฑ Tcl ูุชุฑุฌู ุฏุงุฎูู: <br>  <b>exec</b> - ูููุฐ ุงูุฃูุฑ ุงูููุชุจุณ ูู ูุฌููุนุฉ EXEC ุฐุงุช ุงูุงูุชูุงุฒุงุช ุงูุฎุงุตุฉ ุจู IOS CLI. <br>  <code>sw(tcl)#exec "show int fa0"</code> : <br><br><img src="https://habrastorage.org/webt/xs/78/up/xs78upuw2tbpujftowk8ceh0xd0.png" alt="ุตูุฑุฉ"><br><br>  <b>ios-config</b> - ูููุฐ ุฃูุฑูุง ูู ูุถุน ุงูุชูููู ุงูุนุงู.  ูุฑุงุกู ุ ูู ุนูุงูุงุช ุงูุชุจุงุณ ูููุตูุฉ ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุฌููุน ุฃูุงูุฑ ุงูุชูููู ุงููุฑุนูุฉ ุงูุชุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู: <br> <code>sw(tcl)#ios_config "int fa0" "ip address 192.168.0.1 255.255.255.0" "no shut"</code> <br>  ุฃู ูุง ูุนุงุฏู ุณูุณูุฉ ูู ุฃูุงูุฑ iOS: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sw#conf te sw(config)#int fa0 sw(conf-int)#ip address 192.168.0.1 255.255.255.0 sw(conf-int)#no shut</code> </pre> <br>  ูููุน ูุชุฑุฌู Tcl ุนูููุงุช exec ูู ุงูุชูุงุนู ูุจุงุดุฑุฉ ูุน ูุญุฏุฉ ุงูุชุญูู.  ูุฐูู ุ ูุญุฏุซ ููู ุงูุจูุงูุงุช ุฅูู ุนูููุงุช ุงูุชูููุฐ ุงูุชู ูุชู ุฅุทูุงููุง ูู shell Tcl ุจุงุณุชุฎุฏุงู <b>ุฃูุฑ typeahead</b> : <br> <code>typeahead "y\ny" <br> exec "reload" <br></code> <br>  ุฃููุงู ุ ุณูุชู ุชุฎุฒูู ุญุฑููู "ุต" ูู ูุฎุฒู ุงูุฅุฏุฎุงู ุงููุคูุช ุ ููุตูููู ุจุฎุท ุฌุฏูุฏ (\ n) ุ ุซู ุณูุชู ุชุดุบูู ุฃูุฑ ุฅุนุงุฏุฉ ุชุญููู exec ุ ุงูุฐู ุณููุฑุฃ ุฃูุฑ ุฅูุบุงุก ุฃู ุชุฃููุฏ ุฅุนุงุฏุฉ ุชุนููู ูู ูุฎุฒู ุงูุฅุฏุฎุงู ุงููุคูุช ู (ุฅุฐุง ูุฒู ุงูุฃูุฑ) ุญูุธ ุงูุชูููู. <br><br>  ุฏุบุฏุบุฉ ูุง ูุฏุนู ุงููุชุงุจุฉ ุ ูุฌุจ ุฃู ูุชุฐูุฑ ูุฐุง ุนูุฏ ุงูุนูู ูุน ุงููุชุบูุฑุงุช: <br><br><img src="https://habrastorage.org/webt/ok/-o/ew/ok-oewwhgz0fbdqdzcgisf9skmm.png" alt="ุตูุฑุฉ"><br><br>  ูุญุณุจ ุงูุนุงูู ุงููุชุฏุงุฎู <code>[expr {..}]</code> ูููุฉ ุงูุชุนุจูุฑ ุงููุญุฏุฏ ุจูู ููุณูู ูุฌุนุฏูู ($ a + $ b) ููููู ุจุฅุฌุฑุงุก ุงุณุชุจุฏุงู ูุฐู ุงููููุฉ ุจุฏูุงู ูู ุงูุฃููุงุณ ุงููุฑุจุนุฉ. <br><br>  ูุซุงู ุงูุฅุฌุฑุงุก ูู Tcl: <br> <code>proc ping_net {x} { <br> for {set n 1} {$n &lt; $x} {incr n} { <br> exec "ping 192.168.0.$n" <br> } <br> }</code> <br>  ุนูุฏ ุฅุฏุฎุงู ููุณ ูุฌุนุฏ ุ ูู ูุบูู ุงููุชุฑุฌู ุณุทุฑ ุงูุฃูุงูุฑ ุญุชู ุชุฏุฎู ุฒูุฌูุง ูู ุฏุนุงูุงุช ุงูุฅุบูุงู.  ูุชู ุชุฎุฒูู ุงูุฅุฌุฑุงุก ูู ุฐุงูุฑุฉ ุงููุชุฑุฌู ุงูุดููู ุญุชู ููุงูุฉ ุฌูุณุฉ ุงููุชุฑุฌู ุงูููุฑู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ tclquit.  ูุฐุง ูุฌุนู ูู ุงููููู ุจุฏุก ุงูุฅุฌุฑุงุกุงุช ูุงููุตูู ุฅูู ูุชุบูุฑุงุช ุงูุจุฑุงูุฌ ุงููุตูุฉ ุงูุชู ุชู ุฅุทูุงููุง ูุณุจููุง.  ุชุฐูุฑ ุฃู ุญุฏูุซ ุฎุทุฃ ูู ุงูุจุฑูุงูุฌ ุงููุตู ูููู ุฃู ูุคุฏู ุฅูู ุชูุฑุงุฑ ุญุธุฑ ุฌูุณุฉ TTY (V) ูุญุธุฑูุง!  ูุง ุชุญุชูู ูุญุฏุฉ ุงูุชุญูู ุนูู ุชุณูููุงุช ูุฅุบูุงู ุงูุทูุงุฑุฆ (ูุซู Ctrl + Break) ุ ูุงูุทุฑููุฉ ุงููุญูุฏุฉ ูู ุจุฏุก ุฌูุณุฉ ุฌุฏูุฏุฉ <code>clear line</code> "ุงููุฌูุฏุฉ" ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>clear line</code> . <br><br>  ุงูุขู ุฏุนูุง ููุชูู ุฅูู ุญู ูุดููุฉ ุนูููุฉ.  ูุจู ุฃู ูุชู ุฅุฎุฑุงุฌ Cat2950S ูู 48 ูููุฐูุง.  ุงูุณููุงุฑูู ุฃุฏูุงู <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุทูุจ ูู ูุญุฏุฉ ุงูุชุญูู ุงูุฑูู ุงูุชุณูุณูู ููุชุจุฏูู sw_num </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ ุงุณู ุงููุถูู ูู ูู ุงูุชุจุฏูู switch_ &lt;sw_num&gt; </li><li style=";text-align:right;direction:rtl">  ุทูุจุงุช ูุชุนููู ูููุฉ ูุฑูุฑ ููุญุฏุฉ EXEC ุฐุงุช ุงูุงูุชูุงุฒุงุช </li><li style=";text-align:right;direction:rtl">  ุชูููู ุงูุนููุงู ุนูู ูุงุฌูุฉ ุงูุชุญูู Fa0 (192.168.0.x) ููุงุฌูุฉ Vlan1 (10.0.x.254) ููููุง ูุฑูู ุงูุชุจุฏูู ุงูุฐู ุชู ุฅุฏุฎุงูู </li><li style=";text-align:right;direction:rtl">  ููุดุฆ ุญุฌุฒ DHCP ูุณุชูุฏ ุฅูู ุงููููุฐ ููุฌููุนุฉ ูู 48 ุนููุงููุง ุ ุญูุซ ูุชู ุญุฌุฒ ุนููุงู IP ูุงุญุฏ ููู ุนููู ุ ุญูุซ ุชุณุงูู ุงูุซูุงููุฉ ุงูุฃููู ุงูุฑูู ุงูุชุณูุณูู ูููููุฐ ุงูุฐู ูุชุตู ุจู ูุฐุง ุงูุนููู. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">puts "Enter Switch number:" set sw_num [gets stdin] ios_config "hostname switch_$sw_num" puts "Enter password (secret):" set pass [gets stdin] ios_config "enable secret 0 $pass" ios_config "line 0 16" "password 0 $pass" "login" ios_config "int fa0" "ip address 192.168.0.$sw_num 255.255.255.0" "no shut" ios_config "int vlan1" "ip address 10.0.$sw_num.254 255.0.0.0" "no shut" ios_config "ip dhcp use subscriber-id client-id" ios_config "ip dhcp subscriber-id interface-name" #    48       subscriber-id for {set i 1} {$i &lt;= 48} {incr i} {ios_config "int Gi1/0/$i" "ip dhcp server use subscriber-id client-id"} ios_config "ip dhcp pool POOL1" "network 10.0.0.0 255.0.0.0" "reserved-only" "default-router 10.10.0.254" #    48  IP-,   .  for {set i 1} {$i &lt;= 48} {incr i} {ios_config "ip dhcp pool POOL1" "address 10.0.$sw_num.$i client-id Gi1/0/$i ascii"} #</code> </pre> <br>  ููุงุญุธุฉ 1. ููุฌุฏ ุฎุทุฃ ููุทูู ุตุบูุฑ ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงููุตู.  ูุญุงููุฉ ููุนุซูุฑ ุนูููุง. <br><br>  ููุงุญุธุฉ 2. ูุญุจ ุจุนุถ ุจุฑุงูุฌ ุชุญุฑูุฑ ุงููุตูุต ูุถุน ุญุฑู EoF ุบูุฑ ูุงุจู ููุทุจุงุนุฉ ูู ููุงูุฉ ุงูููู.  ูููู ุฑุคูุชู ูู ูุญุฏุฉ ุชุญูู IOS ุนู ุทุฑูู ุณุฑุฏ ูุญุชููุงุช ุงูููู ูุน ุงููุท ุฃู ุฃูุซุฑ.  ุจุนุฏ ุฃู ุชุนุซุฑ ุนูู EoF ุ ุณูููู ูุชุฑุฌู Tcl ุจุฅููุงุก ุฎุทุฃ ูุชุฌุงูู ุงูุณุทุฑ ุจุงููุงูู.  ูุฐูู ุ ุชุฑูุช ุนูุงูุฉ ุชุนููู ุงููุฑูุจ ูู ููุงูุฉ ุงูุจุฑูุงูุฌ ุงููุตู. <br><br>  ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู: ููู ูููููู ูุชุงุจุฉ ุจุฑูุงูุฌ ูุตู ูุฐุงูุฑุฉ ุงูุชุจุฏูู ุจุงุณุชุฎุฏุงู ุนููุงู IP ุบูุฑ ูููุฃ ูุนูู ููุท ุนุจุฑ ูููุฐ ูุญุฏุฉ ุงูุชุญููุ  ูุง ุชูุชุจ ุงููุต ุจุฎุท ุงููุฏ!  ูู ูู ุงููููู ุชูููู ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ ูุฏูููุง ูุงุณุชุฎุฏุงู FTP ูู ูู ูุฑุฉุ  ูุง ุ ูููู ุฃู ูููู ุฃุณูู.  ูููู ูู Cisco IOS ูุณุฎ ุงููููุงุช ูุจุงุดุฑุฉ ูู ุฎูุงู ุงููููุฐ ุงูุชุณูุณูู ููุญุฏุฉ ุงูุชุญูู ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู Xmodem ูุญูุธูุง ุนูู ููุถุฉ.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ูุญุงูู ุฌูุงุฒ ุทุฑูู ูุฒูุฏ ุจุฏุนู Xmodem ุ ุนูู ุณุจูู ุงููุซุงู ุ ZOC ุฃู Tera Term (ูููู ุงููุนุฌูู ุงููุฌุงูู ุงูุฑุงุฆุฌ ุ ููุฃุณู ุ ูู ูุนูู!).  ูุชู ุฅุฌุฑุงุก ุงููุณุฎ ุจูุงุณุทุฉ ุฃูุฑ <i>ูุณุฎ</i> IOS <i>xmodem: flash: filename</i> ุ ูุจุนุฏ ุฐูู ุชุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก "ููู ุงููููุงุช" ูู ูุงุฆูุฉ ุงููุญุงูู ุงูุทุฑูู: <br><br><img src="https://habrastorage.org/webt/as/mx/l1/asmxl1uza1gqpdstctvhyrnq-ac.png" alt="ุตูุฑุฉ"><br><br>  ูููู ุงูููุงู ุจุฐูู ุฃูุถูุง ุฃุซูุงุก ูุฌูุฏู ูู ROMmon (ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช "ุจุชูููุต" ุชูููู ุงูููุชุงุญ ุฏูู ูููุฉ ูุฑูุฑ EXEC ุฎุงุตุฉ).  ููู ูุณุฎ ุงููููุงุช ูุฑุฉ ุฃุฎุฑู (ูู ุฐุงูุฑุฉ ุงูููุงุด ุงูุฎุงุตุฉ ุจุงูุชุจุฏูู ุฅูู ุงูููุจููุชุฑ ุงูุดุฎุตู) ุบูุฑ ูุฏุนูู. <br><br>  ูุณูุก ุงูุญุธ ุ ูู Tcl ุ ูุง ููููู ูุชุญ ุฌูุณุฉ telnet ุนูู ุฌูุงุฒ ุชูุฌูู ุจุนูุฏ.  ุฃุซูุงุก ุงููุญุงููุฉ <br>  ุณูุชู ุชุฌููุฏ ุฌูุณุฉ <code>sw(tclsh)#exec "telnet host"</code> ูู ูุฑุญูุฉ ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ. <br><br>  ูุฐุง ูุฎุชุชู ุงูุฑุญูุฉ ุงููุตูุฑุฉ ุฅูู ุฅููุงููุงุช ูุบุฉ Tcl ุนูู ูุธุงู Cisco IOS ุ ููููู ุฏุฑุงุณุฉ ุงููุดููุฉ ุจูุฒูุฏ ูู ุงูุชูุตูู ูู ูุณุชูุฏ Cisco IOS Scripting ูุน ุฏููู ุชูููู TCL ุงููุชุงุญ ุนูู ูููุน Cisco ุนูู ุงูููุจ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar455401/">https://habr.com/ru/post/ar455401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar455387/index.html">ููู ุงูุชุนูู ุงูุขูู ูู ุญุฒูุฉ ูุฑูุฉ (ุงููููุจ Elasticsearch ุ ููุนุฑู ุฃูุถูุง ุจุงุณู ELK)</a></li>
<li><a href="../ar455389/index.html">Haxe 4: ูุง ุงูุฌุฏูุฏุ</a></li>
<li><a href="../ar455391/index.html">ุงูุฌุฒุก 1: RISC-V / RocketChip ูู ููุฆู ุบูุฑ ุทุจูุนู</a></li>
<li><a href="../ar455393/index.html">ุนูู ุงุณุชุฎุฏุงู ุฃุณุงููุจ ุญุฏูุฏู ูุชูุฏูุฑ ุงูุทูููุฉ ูู ุงูุฑุงุฏุงุฑ - ุทุฑููุฉ ุงูููุณููู. ุฅุถุงูุฉ ุฅูู ุงูููุงู</a></li>
<li><a href="../ar455397/index.html">ููู ูููุง ุจุชุตููู ูุชูููุฐ ุงูุดุจูุฉ ุงูุฌุฏูุฏุฉ ุนูู Huawei ูู ููุชุจ ููุณูู ุ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar455403/index.html">ูู ุฎูุณุฉ ุณูุชุงุช ุฅูู ูุนุจุฉ ุงูุขููุฉ</a></li>
<li><a href="../ar455405/index.html">ููู ุชุญูู ุจุฑูุงูุฌ ุตุบูุฑ ููุชุจ ุตุบูุฑ ุฅูู ุดุฑูุฉ ููุฏุฑุงููุฉ ูุน ุฑุจุญ 100+ ููููู ุฑูุจู / ุดูุฑ</a></li>
<li><a href="../ar455407/index.html">ุงูุณูุงุฑุงุช ุงูููุฑุจุงุฆูุฉ ูุฃุนูู ูุจูุนุงุช ุณูุงุฑุงุช ุงููููุฏ</a></li>
<li><a href="../ar455409/index.html">ุงูุชูุงูู ุงูุฎููู</a></li>
<li><a href="../ar455411/index.html">ุฃุฌุฑู Megaphone ุชุญุฏูุซูุง ููููุง ... ุฃุณูุงุก ุงูุดุจูุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>