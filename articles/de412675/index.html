<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¾â€ğŸš’ ğŸ‘¨ğŸ¾â€ğŸ¨ ğŸ–• Multisig-VertrÃ¤ge und -Adressen in Bitcoin und Ethereum ğŸ“ˆ ğŸ‘’ ğŸ‘©ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Multisig-VertrÃ¤ge in modernen dezentralen Netzwerken sind ein leistungsstarkes Tool, mit dem Sie Gelder auf Sammelkonten einfach und zuverlÃ¤ssig schÃ¼t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Multisig-VertrÃ¤ge und -Adressen in Bitcoin und Ethereum</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mixbytes/blog/412675/"><p><img src="https://habrastorage.org/webt/ti/qx/nb/tiqxnbjj8o1cpdlyckucy6hsc54.jpeg"></p><br><p> Multisig-VertrÃ¤ge in modernen dezentralen Netzwerken sind ein leistungsstarkes Tool, mit dem Sie Gelder auf Sammelkonten einfach und zuverlÃ¤ssig schÃ¼tzen sowie Transaktionen mit mehreren Teilnehmern durchfÃ¼hren kÃ¶nnen.  Wenn Sie daran interessiert sind, wie solche Adressen verwendet werden, mÃ¼ssen Sie lediglich die Mechanismen ihres Besitzes verstehen und eine gute Vorstellung von der Reihenfolge der Transaktionen haben.  Um mit solchen Adressen arbeiten zu kÃ¶nnen, mÃ¼ssen mehrere Konten beteiligt sein. </p><br><p>  Trotz des gleichen Namens und einer Ã¤hnlichen Arbeitslogik unterscheiden sich interne Algorithmen und Methoden fÃ¼r die Interaktion mit Adressen, die durch Mehrfachsignaturen geschÃ¼tzt sind, in Bitcoin und Ethereum erheblich.  Es geht um dieses interne GerÃ¤t, das in diesem Artikel behandelt wird. </p><br><p>  Wir werden Ã¼ber zwei Netzwerke sprechen: Bitcoin und Ethereum.  In anderen Blockchains kann der Multisig-Zugriff auf Krypto-Assets auf vÃ¶llig andere Weise implementiert werden. </p><a name="habracut"></a><br><h1 id="vvedenie">  EinfÃ¼hrung </h1><br><p>  Angenommen, wir haben die Aufgabe, Gelder vor unbefugtem Zugriff an der Adresse (Konto, wenn die Bankenterminologie nÃ¤her bei Ihnen liegt) zu schÃ¼tzen, an der das Geld des Unternehmens gespeichert ist.  Der Zugriff auf die Adresse (die MÃ¶glichkeit, eine Transaktion von dieser zu einer externen zu erstellen) steht mehreren Personen zur VerfÃ¼gung, z. B. dem allgemeinen, dem finanziellen und dem Hauptbuchhalter.  Um Geld zu schÃ¼tzen, gibt es Multisig, wenn jemand aus dieser Dreifaltigkeit gezwungen ist, eine Schlussfolgerung zu unterschreiben.  In Bitcoin und Ethereum kÃ¶nnen Sie eine Adresse erstellen, fÃ¼r deren Abhebung nicht nur eine, sondern mehrere BestÃ¤tigungen erforderlich sind. </p><br><p>  Nun muss jeder der drei Teilnehmer, der eine Transaktion zum Abheben erstellen mÃ¶chte, seine Unterschrift vorlegen, um seine Zustimmung zur Transaktion zu bestÃ¤tigen.  Wenn genÃ¼gend Unterschriften gesammelt wurden, werden Gelder Ã¼berwiesen.  Diese Logik wird als Multisig bezeichnet: Senden von N von M Signaturen (M&gt; N), um den Vorgang zu bestÃ¤tigen. </p><br><p>  FÃ¼r dezentrale Netzwerke ist Multisig ein natives Muster, da jede gÃ¼ltige Transaktion, die per Design an eine Adresse gesendet wird, eine elektronische Signatur enthÃ¤lt, die vom geheimen SchlÃ¼ssel des Absenders erstellt wird. Daher sind fast alle fÃ¼r Multisig-Adressen erforderlichen Funktionen bereits in den meisten modernen Blockchains enthalten. </p><br><p>  Am interessantesten ist die einfachste Multisig-Adresse 2/3, deren Schlussfolgerung nur mit Zustimmung von zwei der drei Teilnehmer mÃ¶glich ist.  Mit einem solchen Multisig kÃ¶nnen viele Transaktionen mit drei Parteien bequem und sicher durchgefÃ¼hrt und Probleme gelÃ¶st werden, wenn zwei Teilnehmer darauf vertrauen, dass der dritte sie beurteilt.  Fast alle Finanzdienstleistungen, bei denen ein Dritter vertrauenswÃ¼rdig ist, werden mit Multisig 2/3 implementiert.  Nehmen Sie zum Beispiel ein Akkreditiv: Der Zahler verdient das Geld und kann es nicht nehmen, es sei denn, er Ã¼berzeugt entweder die Bank (wo die Kaufunterlagen nicht eingetroffen sind) oder den EmpfÃ¤nger (aus freiem Willen), dem zuzustimmen.  Der EmpfÃ¤nger kann das Geld auch nicht abholen, wenn der VerkÃ¤ufer es nicht (freiwillig) zurÃ¼ckgibt oder die Bank nicht darÃ¼ber informiert, dass die erforderlichen Dokumente bei ihm eingegangen sind, und er sie Ã¼berprÃ¼ft hat.  In dem System ist der Service der Bank unangemessen einfach: Wenn sie eine Vereinbarung Ã¼ber den Kauf einer Wohnung sieht, anstatt den SchlÃ¼ssel fÃ¼r die Zelle zum GeschÃ¤ft zu tragen, sendet sie einfach eine Genehmigung an eine Multisig-Adresse. </p><br><p>  Die Aufgaben der Rechnungslegung und Bezahlung von Dienstleistungen konzentrieren sich auch auf Multisig 2/3: Oft muss ein Dritter entscheiden, ob und in welchem â€‹â€‹Umfang die Dienstleistung erbracht wurde.  Multisig, bei dem eine der drei Unterschriften der Organisation gehÃ¶rt, die letztendlich entscheidet, ob die Dienstleistung erbracht wurde oder nicht (z. B. dem Gericht), bedeutet, dass das Gericht, nachdem es sich fÃ¼r eine der Parteien entschieden hat, einfach seine Entscheidung unterzeichnet und die Transaktion sendet und die Gelder automatisch freischaltet fÃ¼r die Gewinnerseite.  Bei B2C-Diensten wie Uber oder AirBnB ist das Multisig, wenn auch implizit, das Hauptarbeitsmuster: Wenn der Dienst bereitgestellt wird, ist es die Signatur der Anfrage des Dienstes, die das Senden von Geldern vom Kunden an den Fahrer oder den EigentÃ¼mer der Wohnung initiiert. </p><br><p>  Im Allgemeinen eignet sich ein bequem implementiertes Multisig - wie ein Kalaschnikow-Sturmgewehr: billig und frÃ¶hlich - fÃ¼r den Einsatz zu Hause und fÃ¼r GebÃ¼hren in MillionenhÃ¶he.  Und in der Blockchain ist das alles â€ohne Registrierung und SMSâ€œ (aus SicherheitsgrÃ¼nden ist dies Ã¼brigens eine ziemlich ernsthafte These, wenn Sie darÃ¼ber nachdenken). </p><br><p>  Wir werden zwei Blockchains betrachten - Bitcoin und Ethereum.  Ich muss sagen, dass das interne Multisig-GerÃ¤t in ihnen ganz anders ist, alles funktioniert anders.  Aber lasst uns nicht weiterkommen. </p><br><h1 id="bitcoin-multisig">  Bitcoin Multisig </h1><br><p>  Bitcoin ist eigentlich nicht so einfach, wie es vielen erscheinen mag.  Dank seines Designs kÃ¶nnen Sie leichte und gleichzeitig sehr sichere Systeme implementieren, um Zugang zu Geldern zu erhalten.  Nun, ich fÃ¼ge hinzu, dass die Strukturen und Algorithmen in Bitcoin rein meiner persÃ¶nlichen Meinung nach gut durchdacht, optimal und einfach schÃ¶n sind.  Die StandardÃ¼bersetzung von X-Bitcoins von Adresse zu Adresse ist nur die Standardtransaktionsart, die Spitze des Eisbergs potenzieller Bitcoin-Funktionen.  Die Standardtransaktion fÃ¼r die Ãœbersetzung von BTC aus der Sicht des Codes ist die einfachste Multisig 1/1: Um X-Bitcoins von Adresse a1 zu verwenden, mÃ¼ssen Sie der Transaktion eine elektronische Signatur mit dem geheimen SchlÃ¼ssel hinzufÃ¼gen, der zu Adresse a1 gehÃ¶rt.  Schauen wir uns die Struktur einer Bitcoin-Transaktion an und gehen wir etwas genauer auf deren Funktionsweise ein. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e6e/202/2f6/e6e2022f64f93cb6786abcc75e503ab1.png" alt="Bild"></p><br><p>  In Bitcoin gibt es eine Anforderung: Alle an einer bestimmten Adresse gespeicherten BTC werden immer als Ganzes ausgegeben.  Das heiÃŸt, nachdem die Transaktion sein Recht bestÃ¤tigt hat, eine Adresse zu besitzen, gibt die Transaktion den gesamten Restbetrag aus und verteilt ihn auf mehrere Ausgaben.  Im wirklichen Leben Ã¼berlÃ¤sst man den Unterschied zwischen Ein- und AusgÃ¤ngen dem Bergmann als Provision, aber fÃ¼r diesen Artikel ist dies nicht signifikant. </p><br><p>  Stellen Sie sich die Situation vor.  Vasya erhielt 50 BTC.  Vasya will Peta 0.5 BTC schicken.  Dazu muss er alle 50 BTC ausgeben.  Um eine Ã„nderung zu erhalten, nimmt Vasya einen Eingang (50 BTC) und erstellt zwei AusgÃ¤nge: </p><br><ul><li>  0,5 BTC an Petits Adresse; </li><li>  49.5 BTC an eine Ihrer eigenen Adressen. </li></ul><br><p>  Wenn sie sagen "Vasya unterschreibt die Transaktion" - ist dies fÃ¼r Bitcoin nicht ganz richtig.  Vasya signiert alle Eingaben in der Transaktion, und jede Eingabe ist eine separate Bitcoin-Adresse, und jede von ihnen benÃ¶tigt einen entsprechenden geheimen SchlÃ¼ssel.  Angenommen, Vasya hat drei Adressen, an die drei seiner Freunde jeweils 0,1 BTC gesendet haben.  Um 0,25 BTC auszugeben, muss Vasya drei Eingaben (jeweils 0,1) signieren und zwei Ausgaben bilden (0,25 an die Adresse des EmpfÃ¤ngers und 0,05 an sich selbst als Ã„nderung).  Ein solches Schema ermÃ¶glicht es insbesondere, niemals dieselbe Adresse zweimal zu verwenden und jedes Mal eine Ã„nderung an eine neue zurÃ¼ckzugeben.  Bei einigen Brieftaschen, z. B. Electrum, kann der EigentÃ¼mer die Strategie fÃ¼r die Wiederverwendung von Adressen wÃ¤hlen, die privater (jedes Mal eine neue Adresse) oder einfacher, aber mit permanenten Adressen ist (dieses Schema ist praktischer, wenn Sie auf komplexe regulÃ¤re Transaktionen zurÃ¼ckgreifen).  Ich erinnere Sie daran, dass der Unterschied zwischen der Summe der Ein- und AusgÃ¤nge sowohl eine Provision fÃ¼r den Bergmann ist: einfach und zuverlÃ¤ssig. </p><br><p>  Anstelle von "Vasya unterschreibt die Transaktion" sage ich jetzt "Vasya unterschreibt die Eingabe".  Aber ich habe absichtlich noch ein paar Punkte Ã¼bersehen, um das Gesamtsystem nicht zu komplizieren.  Tatsache ist, dass Adressen in Bitcoin kein Ã¶ffentlicher SchlÃ¼ssel in seiner reinsten Form sind, sondern sein Hash (zweimal ein Hash mit mehreren Service-Bytes und Versionen, Details im Bitcoinwiki- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> ), dh bei einer normalen Transaktion kennt der Absender nicht einmal den Ã¶ffentlichen SchlÃ¼ssel des EmpfÃ¤ngers.  Daher prÃ¤sentiert Vasya, der die Eingabe zusÃ¤tzlich zur Signatur selbst signiert, Bitcoin Script seinen eigenen Ã¶ffentlichen SchlÃ¼ssel und enthÃ¼llt ihn so.  Wenn Sie den Ã¶ffentlichen SchlÃ¼ssel kennen, kÃ¶nnen Sie natÃ¼rlich problemlos eine Bitcoin-Adresse generieren. </p><br><p>  ZusÃ¤tzlich zum Signieren von Eingaben legt Vasya fÃ¼r jede Ausgabe eine Bedingung fest, wie BTC fÃ¼r diese bestimmte Ausgabe ausgegeben werden soll.  Die â€Anforderungenâ€œ wurden ihm jedoch von demjenigen gestellt, der Bitcoins erhalten wird: Es ist seine Sorge, wie er seine BTC ausgeben wird.  Dies ist ein Ã¤uÃŸerst wichtiger Punkt.  Die Bitcoin-Adresse enthÃ¤lt einen Hash aus dem Code, der entscheidet, ob BTC von dieser Adresse zugelassen wird. </p><br><p>  Wenn Sie immer noch nach Analogien suchen, fÃ¼gt Vasya fÃ¼r jede Ausgabe (die er von denjenigen erhalten hat, die BTC erhalten) Daten hinzu, die die Frage beantworten: "Welcher Code und auf welchen Daten sollte wahr sein, damit der Unterzeichner als EigentÃ¼mer dieser Ausgabe betrachtet wird?" .  Hier ist eine weitere Analogie fÃ¼r Pythonisten: Sie kÃ¶nnen sich vorstellen, dass jede Ausgabe eine Lambda-Funktion enthÃ¤lt, die, ausgefÃ¼hrt von Petja, die ihr Argumente lieferte, wahr oder falsch zurÃ¼ckgibt.  Wenn true zurÃ¼ckgegeben wird, kann Petya die Ausgabe als Eingabe fÃ¼r nachfolgende Transaktionen verwenden.  In der Standardversion kann das Programm zwei von Petya bereitgestellte Argumente verwenden - die Signatur der Ausgabe und den Ã¶ffentlichen SchlÃ¼ssel von Petin - und die Signatur Ã¼berprÃ¼fen.  Wenn true zurÃ¼ckgegeben wird, hat Petya das Recht zur Ausgabe und kann es ausgeben.  Daher ist die Transaktion gÃ¼ltig.  Es ist nicht notwendig, tiefer in diesen Artikel im Skript einzutauchen, aber es ist sehr wÃ¼nschenswert.  Ãœbrigens, Skript einlÃ¶sen - dies ist der sehr intelligente Vertrag, dh eine formale Regel, nach der das Recht auf BTC von einer Adresse zur anderen Ã¼bertragen wird.  Clients des Netzwerks fÃ¼hren wÃ¤hrend der Transaktion jedes Skript in jeder Transaktion aus und prÃ¼fen, ob es gÃ¼ltig ist.  Wenn gÃ¼ltig - gÃ¼ltige und unbestreitbare Verschwendung von Bitcoins von einer bestimmten Adresse. </p><br><p>  Hier ist der erste ausgezeichnete Artikel zu diesem Thema. Ich empfehle dringend, ihn zu lesen. Der gesamte Rohmechanismus mit Beispielen in Python ist perfekt gemalt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bitcoins auf die harte Tour: Verwenden des Roh-Bitcoin-Protokolls</a> .  Und hier ist noch eines: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bitcoin auf den Punkt gebracht - Transaktion</a> . </p><br><p>  Kehren wir zu Multisig 2/3 zurÃ¼ck und stellen fest, dass die Ã¼bliche Transaktion mit der Ãœbertragung von Bitcoins auch als Multisig 1/1 betrachtet werden kann.  Angenommen, Petya mÃ¶chte, dass Vasya BTC einfach an ihn Ã¼bertrÃ¤gt.  Petya gibt Vasya die Adresse, an die der Hash des Standardskripts genÃ¤ht wird, und Bitcoins kann die Bitcoins von dieser Adresse abholen, indem sie einen Standard-SignaturprÃ¼fcode und die Signatur selbst bereitstellen.  Solche "traditionellen" Adressen in Bitcoin beginnen mit der Nummer 1 (Einheit).  Die Adressen, in die der "unkonventionelle" Code eingenÃ¤ht wird (ÃœberprÃ¼fung des Multisig-Skripts), werden als Pay-to-Script bezeichnet und beginnen mit 3 (Dreifach). </p><br><p>  Mit Bitcoin kÃ¶nnen wir eine Adresse erstellen, in die der Hash unseres EIGENEN EinlÃ¶seskripts genÃ¤ht wird.  Dies ist schlieÃŸlich unser Problem, da wir dann unsere BTC ausgeben und nicht die sendende.  Es ist uns egal, wer die Bitcoins an eine Adresse Ã¼bertrÃ¤gt, aber es ist wichtig, dass wir, wenn wir sie ausgeben mÃ¶chten, einen Code angeben mÃ¼ssen, der der Adresse entspricht.  Das heiÃŸt, indem ich gebeten werde, BTC an eine Pay-to-Script-Adresse zu Ã¼bertragen, verpflichte ich mich, das Skript spÃ¤ter selbst in einer Transaktion bereitzustellen, die diese Eingabe verwendet. </p><br><p>  GemÃ¤ÃŸ der Dokumentation wird fÃ¼r Multisig-Code dieser Art Folgendes verwendet: </p><br><pre><code class="hljs powershell">----------------------------------------------------------- Pubkey script: OP_HASH160 &lt;Hash160(redeemScript)&gt; OP_EQUAL Signature script: &lt;sig&gt; [<span class="hljs-type"><span class="hljs-type">sig</span></span>] [<span class="hljs-type"><span class="hljs-type">sig...</span></span>] &lt;redeemScript&gt; -----------------------------------------------------------</code> </pre> <br><p>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fortsetzung Artikel Ã¼ber Skript und Multisig</a> ) </p><br><p>  Wir benÃ¶tigen ein Skript, damit alle erforderlichen Signaturen sofort in der Ausgabentransaktion angezeigt werden.  Wenn unser Multisig 2/3 beispielsweise die Adressen von drei Teilnehmern (CEO, Hauptbuchhalter und Systemadministrator) enthÃ¤lt und die geheimen SchlÃ¼ssel fÃ¼r Signaturen separat auf ihren Computern gespeichert sind, muss der Systemadministrator: </p><br><ul><li>  eine Ausgabentransaktion generieren; </li><li>  Erstellen Sie Ihre eigene Signatur. </li><li>  Ãœbertragen Sie den Inhalt der Transaktion an den zweiten Unterzeichner (z. B. mit einem Flash-Laufwerk an die Buchhaltungsabteilung oder an den General). </li><li>  Bitten Sie den zweiten Unterzeichner, der Transaktion eine Signatur hinzuzufÃ¼gen. </li><li>  Senden Sie eine Transaktion mit zwei der drei Signaturen an das Netzwerk. </li></ul><br><p>  Dies ist kein sehr einfacher Weg, aber Sie kÃ¶nnen als einer der Unterzeichner einen Computer verwenden, der vollstÃ¤ndig vom Netzwerk getrennt ist und bei dem nicht garantiert wird, dass der geheime SchlÃ¼ssel zusammengefÃ¼hrt wird.  In diesem Fall erfolgt die Abhebung von Geldern vollstÃ¤ndig â€manuellâ€œ, was fÃ¼r groÃŸe BetrÃ¤ge recht gut ist.  Freunde des 21. Jahrhunderts, es ist jetzt in Mode, einen Zero-Laptop ohne Netzwerkverbindung und mit der einzigen installierten Software - einer Bitcoin-Brieftasche - in einen Safe zu legen. </p><br><h1 id="ethereum-multisig">  Ethereum multisig </h1><br><p>  Die Implementierung von Multisig in Ethereum unterscheidet sich stark von der in Bitcoin, da die internen Client-Netzwerkalgorithmen unterschiedlich gestaltet sind, es gibt jedoch Parallelen.  In Ethereum erstellt eine spezielle Transaktion vom Typ "create_contract" eine Adresse im Netzwerk, an die der Code fÃ¼r einen bestimmten Vertrag gebunden ist.  Diese Adresse hat auch ein Ã„thergleichgewicht.  Wenn Sie Ã„ther dorthin senden, wird die Adresse "es zum Ausgleich bringen".  Und umgekehrt, wenn Sie Ã„ther von der Adresse senden, wird er â€aus der Bilanz entferntâ€œ. </p><br><p>  Ich stelle sofort einige ziemlich genaue Analogien auf, um eine sehr einfache und logische KÃ¼che zu verstehen.  Wenn wir den Konsens vergessen und wissen, wie die Knoten die Blockkette aktualisieren, und die Blockchain als abstrakten Speicher betrachten, kann die Platzierung des Vertrags beispielsweise mit der Instanziierung eines Objekts verglichen werden, dh die Klasse wird in ein reales Objekt im RAM umgewandelt.  In einer Analogie ist Speicher eine Blockchain und Klassencode ein Vertragscode.  Nach der Instanziierung erhÃ¤lt das Objekt (Vertrag) eine eigene Adresse im â€Speicherâ€œ, und das Netzwerk kennt die Schnittstelle zu diesem Objekt, die in der in der Methodenklasse beschriebenen Form dargestellt wird. </p><br><p>  Transaktionen, die in einem solchen Schema an der Adresse ankommen, sind Schreibmethoden, sie Ã¤ndern den internen Status des Vertragsobjekts.  Jeder Client des Netzwerks fÃ¼hrt Methodenleser aus, die einfach Daten aus dem Vertragsstatus lesen, da sicher ist, dass die Kopie des Objekts korrekt ist und vom Konsens der Blockproduzenten bestÃ¤tigt wird.  Es ist auch wichtig zu verstehen, dass der Vertragscode ausgefÃ¼hrt wird, wenn der Miner die Transaktion, die auf den vorhandenen Vertrag eingegangen ist, â€anwendetâ€œ. In unserer Version ruft er einfach eine der Vertragsmethoden mit in die Transaktion eingebetteten Argumenten auf. </p><br><p>  Nun, da der Vertrag einen internen Status hat (Objektfelder in unserer Analogie), kann er Multisig implementieren, ohne dass Signaturen in einer Transaktion gesendet werden mÃ¼ssen.  Wir erstellen einen Vertrag, in dem wir die Adressen der Unterzeichner festschreiben, wenn Transaktionen zum Widerruf eintreffen - wir Ã¼bertragen den Vertrag nacheinander in den Wartezustand der erforderlichen Anzahl von BestÃ¤tigungen.  Wenn wir Ã¼ber Multisig 2/3 sprechen, kÃ¶nnte es ungefÃ¤hr so â€‹â€‹aussehen: </p><br><ul><li>  Der Systemadministrator stellt einen Multisig-Vertrag fÃ¼r das Netzwerk bereit und trÃ¤gt die Adressen des Generaldirektors und des Hauptbuchhalters ein. </li><li>  zufriedene Kunden schicken Tonnen von Ã„ther zum Vertrag; </li><li>  Der Hauptbuchhalter wird eine groÃŸe Zahlung leisten und eine Transaktion an den Vertrag senden, mit dem Wunsch, etwas Ã„ther an eine externe Adresse zu Ã¼bertragen. </li><li>  Multisig-Vertrag geht in den Zustand "Ich erwarte N BestÃ¤tigungen", in unserem Fall ist eine ausreichend; </li><li>  Der CEO mÃ¶chte dem Hauptbuchhalter helfen, hat jedoch vergessen, auf welchem â€‹â€‹Laptop der geheime SchlÃ¼ssel benÃ¶tigt wird. </li><li>  Der Systemadministrator sendet eine Transaktion - BestÃ¤tigung der Auszahlung von Geldern an den Vertrag. </li><li>  Nachdem der Vertrag die Transaktion vom Systemadministrator akzeptiert hat, versteht er, dass die erforderlichen N BestÃ¤tigungen gewÃ¤hlt wurden, und sendet die Sendung an die vom Hauptbuchhalter bestellte Adresse, wÃ¤hrend er zum Zustand des einfachen Geldeingangs zurÃ¼ckkehrt. </li></ul><br><p>  Viele Dinge kÃ¶nnen abhÃ¤ngig von der Implementierung des Multisig-Vertrags unterschiedlich implementiert werden.  Dies gilt fÃ¼r die Speicherung ausstehender Widerrufsbelehrungen, das Zeitintervall fÃ¼r das Warten auf Widerruf, zweckmÃ¤ÃŸige EinschrÃ¤nkungen.  Sie kÃ¶nnen beispielsweise die Auszahlung von BetrÃ¤gen bis zu einem bestimmten Limit ohne Mehrfachsignatur zulassen und eine BestÃ¤tigung verlangen, wenn das Limit Ã¼berschritten wird. </p><br><p>  Es gibt verschiedene Optionen fÃ¼r den Multisig Wallet-Vertragscode, die Sie leicht finden kÃ¶nnen.  Der offiziellste von ihnen ist <a href="">dieser</a> .  Es gibt viel mehr Modifikationen von Multisig-VertrÃ¤gen sowie von VertrÃ¤gen, die Multisig-VertrÃ¤ge sind, aber nicht einmal darÃ¼ber Bescheid wissen, da jeder Vertrag mit mehreren Rollen im philosophischen Sinne Multisig ist. </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>  Wir haben das Betriebsschema eines der wichtigsten Bausteine â€‹â€‹fÃ¼r den Aufbau komplexer Vertragssysteme und die Organisation multilateraler Transaktionen untersucht.  Wo lÃ¤sst sich Multisig-Adressen am einfachsten live fÃ¼hlen: </p><br><ul><li>  fÃ¼r Bitcoin: Die Electrum-Brieftasche enthÃ¤lt eine detaillierte Schritt-fÃ¼r-Schritt-Anleitung mit Screenshots zum Erstellen und Konfigurieren einer Multisig-Adresse und deren Verwendung.  Suchen Sie einfach nach Electrum multisig; </li><li>  fÃ¼r Ethereum: In der Standard-Brieftasche von Ethereum befindet sich ein Abschnitt mit VertrÃ¤gen, in dem Sie problemlos Multisig erstellen kÃ¶nnen.  AuÃŸerdem wird Multisig sicherlich in vielen Formen auf Plattformen fÃ¼r den Start von StandardvertrÃ¤gen prÃ¤sentiert, zum Beispiel haben wir bereits einen auf unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Smartz.io</a> . </li></ul><br><p>  Wie Sie in der Blockchain sehen kÃ¶nnen, sind diese Schemata sehr technologisch und einfach. Verwenden Sie sie daher zu Ihrem VergnÃ¼gen und schÃ¼tzen Sie Ihren Krypto-Reichtum korrekt. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412675/">https://habr.com/ru/post/de412675/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de412663/index.html">AI verkauft Pizza oder wie Voximplant sich mit Dialogflow anfreundet</a></li>
<li><a href="../de412665/index.html">Wochenplan-Editor</a></li>
<li><a href="../de412667/index.html">Cybergroup Turla verwendet Metasploit in der Moskitokampagne</a></li>
<li><a href="../de412669/index.html">Zeitmanagement ist nicht beÃ¤ngstigend: wie man mehr macht</a></li>
<li><a href="../de412671/index.html">BLE-Konsole: Eine vÃ¶llig neue Art der Interaktion mit BLE-GerÃ¤ten</a></li>
<li><a href="../de412677/index.html">RÃ¼ckverfolgbarkeitsmatrix</a></li>
<li><a href="../de412679/index.html">Erstellen einer Android-Anwendung zur Texterkennung in 10 Minuten. Mobile Vision CodeLab</a></li>
<li><a href="../de412681/index.html">BinÃ¤re Berechnungen fÃ¼r die Dezimalarithmetik</a></li>
<li><a href="../de412683/index.html">Wo und wie lernt man maschinelles Lernen?</a></li>
<li><a href="../de412685/index.html">Unity GPU Path Tracing - Teil 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>