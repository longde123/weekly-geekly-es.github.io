<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòé üë©üèæ‚Äçü§ù‚Äçüë®üèª üõ∏ Kitchen Robotics Part 2 ou un autre avatar de Blynk üë©üèº‚Äçüè≠ üèòÔ∏è üîú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entr√©e. Paroles, vous pouvez sauter 
 Bonjour encore! Dans cette histoire, je voudrais continuer sur le th√®me de la maison "construction de robots", c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kitchen Robotics Part 2 ou un autre avatar de Blynk</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477490/"><iframe width="560" height="315" src="https://www.youtube.com/embed/wZWz0MjsFXA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Entr√©e.  Paroles, vous pouvez sauter </h3><br>  Bonjour encore!  Dans cette histoire, je voudrais continuer sur le th√®me de la maison "construction de robots", c'est une sorte de <a href="https://habr.com/ru/post/443332">suite du post pr√©c√©dent</a> . <br><br>  Je vous pr√©viens imm√©diatement: je ne suis pas un expert dans ce secteur, j'apprends juste et depuis longtemps, je suis "g√™n√©" d'exprimer mes pens√©es et de pr√©senter des choses faites maison ici.  Je lis des publications sur Habr depuis longtemps, parfois on se demande ce qui se passe dans le monde!  Vous lisez un article, vous ne comprenez pas d'o√π vient l'auteur!  Comment pouvez-vous m√™me comprendre cela!  √Ä la lumi√®re de tout cela, je pensais que ma pr√©sentation ¬´maladroite¬ª ne serait int√©ressante pour personne, mais plus de 9 000 personnes ont regard√© l'histoire pr√©c√©dente, pour moi c'est certainement un succ√®s, je pense que beaucoup de gens comme moi sont des ¬´gens ordinaires¬ª sans dipl√¥me du Massachusetts Institute of Technology , ces informations leur sont donc plus accessibles.  Alors allons-y ... <br><a name="habracut"></a><br><h3>  Alt√©ration de la structure </h3><br>  Comme base de mon projet, j'ai pris la "cr√©ation" pr√©c√©dente, un chupocabra, qui √©tait habill√© et sous une performance son et lumi√®re, a men√© des vacances.  Je l'ai fait pour une journ√©e et gr√¢ce √† des moyens improvis√©s, dont on peut retracer l'apparence, la performance √©tait satirique.  Cela ressemblait √† ceci: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/54aLUjDR3qU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Tout d'abord, j'ai supprim√© tout ce qui n'√©tait pas n√©cessaire, achet√© des profils en aluminium et des coins perfor√©s pour un nouveau design. <br><br>  J'ai beaucoup aim√© les performances du robot de t√©l√©pr√©sence de la soci√©t√© √©trang√®re "Origibot" <br><br><img src="https://habrastorage.org/webt/cq/tz/j6/cqtzj6k70ai76udbjwjv-sf9rhq.jpeg" alt="image"><br><br><img src="https://habrastorage.org/webt/l2/v0/wp/l2v0wpyl_nhoicjfzj71u14mlf0.jpeg" alt="image"><br><br>  Son aspect asc√©tique pr√©sente plusieurs avantages, jugez par vous-m√™me, le poids n'est pas important, il s'agit principalement d'√©conomie d'√©nergie, d'ergonomie, d'√©conomie d'√©nergie de la batterie, d'un entra√Ænement √©lectrique moins puissant.  Imaginez cette situation, hypoth√©tiquement, nous sommes all√©s de l'avant et √† ce moment-l√† des probl√®mes de communication, si le poids du robot est de plusieurs dizaines de kilogrammes, les cons√©quences peuvent √™tre fatales.  Le deuxi√®me avantage de cette forme, je consid√®re la possibilit√© de plier le manipulateur entre les roues, il est possible de soulever quelque chose du sol. <br><br>  Eh bien, inspir√© et c'est parti!  Refaisant ¬´le sien¬ª, il d√©cide de diviser la production par √©tapes: <br><br><ol><li>  La fabrication d'un empattement bas√© sur deux roues motrices et une support arri√®re. </li><li>  R√©daction d'un croquis pour la gestion. </li><li>  Montage d'un appareil photo ou d'un t√©l√©phone.  La hauteur de placement a √©t√© choisie en fonction de la hauteur du po√™le dans la cuisine afin que vous puissiez regarder dans la casserole et voir de quoi le bortsch a √©t√© cuit. </li><li>  Installer un servo sur la cam√©ra pour pouvoir regarder sous les "pieds" et le plafond.  Je n'ai pas pris la peine de mouvement horizontal, vous pouvez tourner la base. </li><li>  Installation sur le ¬´produit¬ª du manipulateur avec une poign√©e </li></ol><br>  Mise en service suppl√©mentaire, en ce qui concerne le concept g√©n√©ral du robot, dans le cas id√©al qui n'a pas encore √©t√© mis en ≈ìuvre, le principal appareil de t√©l√©communication devrait √™tre un t√©l√©phone.  Skype y est install√©, qui est configur√© pour recevoir automatiquement les appels vid√©o, et le t√©l√©phone sera √©galement un point d'acc√®s pour une carte bas√©e sur le module ESP, cela permettra de contr√¥ler le robot et la visioconf√©rence.  Pourquoi skype  Pourquoi proposer quelque chose si vous avez d√©j√† des services qui fonctionnent parfaitement et changent automatiquement de qualit√©, en fonction de la bande passante du r√©seau. <br><br>  Il n'y a eu aucun probl√®me avec le premier article, la base √©tait pr√™te √† partir de l'engin pr√©c√©dent, a supprim√© tout ce qui √©tait superflu, le routeur TPlink MR3020 avec une antenne √† distance faite maison.  Dans le discours pr√©c√©dent, il y avait des murs ¬´√©pais¬ª, je devais la ferme collective, le r√©sultat est + 9db.  Les commandes de contr√¥le du trafic sont arriv√©es au routeur, le firmware cyberWRT. <br><br>  Le deuxi√®me point √©tait plus int√©ressant, mon niveau dans la programmation arduino "LED Blinker", j'ai trouv√© un croquis pr√™t sur Internet, malheureusement je ne me souviens pas de l'auteur, je ne l'ai pas fait beaucoup pour moi en utilisant la m√©thode du poke scientifique, il est utilis√© par ceux qui comprennent mal la th√©orie.  √âtant donn√© que la programmation dans des langages encore plus bas est une for√™t sombre pour moi, j'ai d√ª choisir une plate-forme sur laquelle je pouvais construire mon propre panneau de contr√¥le.  Un aspect important pour moi √©tait la possibilit√© de contr√¥ler le robot via un service cloud, car le contr√¥le proviendra des "adresses grises".  Le service Blynk est devenu une telle plateforme, je ne d√©crirai pas les avantages, il y a beaucoup d'informations sur le r√©seau.  Dans la premi√®re version, j'ai utilis√© le widget joystick pour contr√¥ler le mouvement, le code est ci-dessous: <br><cut></cut><br><pre><code class="plaintext hljs">#define BLYNK_PRINT Serial #include &lt;ESP8266_Lib.h&gt; #include &lt;BlynkSimpleShieldEsp8266.h&gt; #include &lt;AccelStepper.h&gt; #include &lt;Servo.h&gt; #include &lt;SimpleTimer.h&gt; // You should get Auth Token in the Blynk App. // Go to the Project Settings (nut icon). char auth[] = "****"; // Your WiFi credentials. // Set password to "" for open networks. char ssid[] = "****"; char pass[] = "****"; #define EspSerial Serial3 #define ESP8266_BAUD 115200 ESP8266 wifi(&amp;EspSerial); BlynkTimer timer; Servo servo; Servo servo2; // These are used to set the direction of the bridge driver. #define ENB 5 //ENB      monstr motor shield  5  6     #define MOTORB_1 4 //IN3 #define MOTORB_2 9 //IN4 #define MOTORA_1 8 //IN1 #define MOTORA_2 7 //IN2 #define ENA 6 //ENA int motor_right_speed = 0; int motor_left_speed = 0; AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,      int steeps = 192; //  ,    ,    // SETUP void setup() { Serial.begin(9600); delay(10); EspSerial.begin(ESP8266_BAUD); delay(10); // Connect Blynk Blynk.begin(auth, wifi, ssid, pass); Blynk.connect(); // Configure pins pinMode(ENA, OUTPUT); pinMode(MOTORA_1, OUTPUT); pinMode(MOTORA_2, OUTPUT); pinMode(ENB, OUTPUT); pinMode(MOTORB_1, OUTPUT); pinMode(MOTORB_2, OUTPUT); digitalWrite(ENA,LOW); digitalWrite(ENB,LOW); Stepper1.setMaxSpeed(10000); //      (/) Stepper1.setAcceleration(10000); //  (/^2) servo.attach(1); servo2.attach(3); servo2.write(55); timer.setInterval(500L, StopServo); // Start serial communication } BLYNK_WRITE(V1) /     ,  , / { if (param.asInt() == 1) { servo.attach(1); servo.write(165); // High gear timer.setTimeout(500L, StopServo); } else { servo.attach(1); servo.write(115); // Low gear timer.setTimeout(500L, StopServo); } } BLYNK_WRITE(V2) { servo2.write(param.asInt()); } void StopServo() /  { servo.detach(); } // JOYSTICK BLYNK_WRITE(V0) { int nJoyY = param[0].asInt(); // read x-joystick int nJoyX = param[1].asInt(); // read y-joystick // OUTPUTS int nMotMixL; // Motor (left) mixed output int nMotMixR; // Motor (right) mixed output // CONFIG // - fPivYLimt : The threshold at which the pivot action starts // This threshold is measured in units on the Y-axis // away from the X-axis (Y=0). A greater value will assign // more of the joystick's range to pivot actions. // Allowable range: (0..+127) float fPivYLimit = 1023.0; // TEMP VARIABLES float nMotPremixL; // Motor (left) premixed output float nMotPremixR; // Motor (right) premixed output int nPivSpeed; // Pivot Speed float fPivScale; // Balance scale between drive and pivot // Calculate Drive Turn output due to Joystick X input if (nJoyY &gt;= 0) { // Forward nMotPremixL = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX); nMotPremixR = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0; } else { // Reverse nMotPremixL = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0; nMotPremixR = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX); } // Scale Drive output due to Joystick Y input (throttle) nMotPremixL = nMotPremixL * nJoyY/900.0; //      nMotPremixR = nMotPremixR * nJoyY/1023.0; // Now calculate pivot amount // - Strength of pivot (nPivSpeed) based on Joystick X input // - Blending of pivot vs drive (fPivScale) based on Joystick Y input nPivSpeed = nJoyX; fPivScale = (abs(nJoyY)&gt;fPivYLimit)? 0.0 : (1.0 - abs(nJoyY)/fPivYLimit); // Calculate final mix of Drive and Pivot nMotMixL = (1.0-fPivScale)*nMotPremixL + fPivScale*( nPivSpeed); nMotMixR = (1.0-fPivScale)*nMotPremixR + fPivScale*(-nPivSpeed)/ 1.1; motor_left_speed = nMotMixL; motor_right_speed = nMotMixR; if (motor_right_speed &gt; 20) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); } else if (motor_right_speed &lt; -20) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2, HIGH); } else { digitalWrite(MOTORA_1, LOW); digitalWrite(MOTORA_2, LOW); } if (motor_left_speed &gt; 20) { digitalWrite(MOTORB_1, LOW); digitalWrite(MOTORB_2, HIGH); } else if (motor_left_speed &lt; -20) { digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORB_1, LOW); digitalWrite(MOTORB_2, LOW); } analogWrite(ENB, abs(motor_left_speed)); analogWrite(ENA, abs(motor_right_speed)); } BLYNK_WRITE(V3) { // Motor Speed - Slider set with 0-100 and Send On Relese OFF int pinValue = param.asInt(); Stepper1.move(pinValue); } // MAIN CODE void loop() { Blynk.run(); timer.run(); Stepper1.run(); }</code> </pre> <br><cut></cut><br>  Ensuite, l'installation d'une cam√©ra ou d'un t√©l√©phone, j'ai essay√© les deux. <br><br><img src="https://habrastorage.org/webt/tb/np/he/tbnphe621wfsg21pq2p4z7qjjmo.jpeg" alt="image"><br><br>  Sur la photo, le manipulateur se tient s√©par√©ment. <br><br>  Il est maintenant temps de tester!  J'en ai profit√© pour partager l'√©cran du t√©l√©phone (disponible dans le dernier firmware android), la partie sup√©rieure de la vid√©o, le contr√¥le du bas.  Pour tout d√©marrer en m√™me temps, j'ai t√©l√©charg√© l'application Screens depuis le Play Market et je suis all√© ... <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VYJX4IXc8A8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Au cours du premier ¬´pokatushek¬ª, les lacunes suivantes ont √©t√© r√©v√©l√©es: les moteurs qui, dans leur pass√© allemand, avaient l'habitude de faire tourner quelque chose sur une attraction, ont des sorties diff√©rentes en raison d'une ligne droite, le mouvement ne fonctionne pas.  Tout le temps, il tire dans l'une des directions, a ajust√© le calcul de la vitesse des moteurs dans le code, cela a aid√©, mais a d√©cid√© de refaire le code en boutons, c'est plus pratique pour moi, et les mouvements dans l'appartement seront principalement lin√©aires. <br><br>  Cela a √©t√© suivi de l'√©tape la plus longue, comme il s'est av√©r√©, maintenant il est clair pourquoi de nombreux robots de t√©l√©pr√©sence sur le march√© n'ont pas de manipulateur.  Il n'y a pas si longtemps, plongeant dans l'√©tude de la question, j'ai lu sur les m√©thodes de calcul des entra√Ænements de rotation qui ne sont pas √©galement r√©partis le long de l'axe de charge, je me suis souvenu de la fa√ßon dont je me suis assis √† l'institut lors d'une conf√©rence sur la m√©canique th√©orique il y a quinze ans et j'ai choisi mon nez en pensant: ¬´Pourquoi ai-je besoin d'un futur # Ing√©nieur - √©lectricien # cette merde. "  Bon, d'accord, comme on dit: "Pratiquer sans th√©orie est aveugle."  Une dizaine de fois, j'ai refait le manipulateur, br√ªl√© plusieurs servos, cens√©s soulever la charge principale. <br><br>  Si vous avez fait attention √† la photo Origibot, il y a quelque chose de terrible en tant que lecteur, sur leur site Web, j'ai lu que le manipulateur est capable de soulever jusqu'√† 1 kg, fantastique! <br>  Si nous appliquons par exemple un servomoteur avec une force de 20 kg / cm, alors √† une distance de 2 cm, une charge de 10 kg peut √™tre soulev√©e, et si le poids de cette charge est in√©galement r√©parti le long de l'axe et que l'axe est d'environ un m√®tre, alors encore moins. <br><br>  C'est bien que la vieille cam√©ra rotative CCTV soit √† port√©e de main, j'en ai retir√© deux moteurs pas √† pas, super!  Un moteur soul√®vera l'axe, et le second que j'utilise sur un rideau automatique.  Je voulais depuis longtemps cr√©er une maison, mais en m√™me temps, savoir comment travailler avec les vers de terre!  Pour ainsi dire, deux oiseaux avec une pierre √† la fois.  Ouais!  Le principal "probl√®me" attendait √† l'avance, j'ai oubli√© de dire que j'ai utilis√© le contr√¥leur Wemos D1 R1 pour mon produit fait maison, il ressemble √† Arduino Uno, seulement il y a du wifi √† bord.  Bien qu'il n'y ait pas de manipulateur, il y avait suffisamment de broches sur la carte, un moteur pas √† pas ajout√©, pour contr√¥ler les enroulements dont vous avez besoin de quatre broches, o√π puis-je l'obtenir?  Il s'est av√©r√© que les broches de la carte sont les broches du CES lui-m√™me, qui assure la communication, les broches du 0 au 8 sont r√©p√©t√©es.  Eh bien, comme on dit: "Une mauvaise t√™te ne donne aucune paix √† vos mains!" <br>  Le prix de l'erreur - en transf√©rant les r√©sultats du travail sur la carte Wemos 2560 esp8266, cette carte est une Mega et Esp r√©guli√®re.  Je l'ai pris pour l'automatisation de la serre, bien s√ªr √ßa ne s'est pas pass√© tout de suite, le croquis n'a pas √©t√© compil√©, des erreurs ont vol√©.  Trouv√© une solution sur le site: <br>  <a href="https://community.alexgyver.ru/threads/robotdyn-mega-wifi-r3-connect-blynk.1270/">community.alexgyver.ru/threads/robotdyn-mega-wifi-r3-connect-blynk.1270/#post-16746</a> <br>  Voici un croquis pour un Mega √† bouton: <br><cut></cut><br><pre> <code class="plaintext hljs">#define BLYNK_PRINT Serial #include &lt;ESP8266_Lib.h&gt; #include &lt;BlynkSimpleShieldEsp8266.h&gt; #include &lt;AccelStepper.h&gt; #include &lt;Servo.h&gt; #include &lt;SimpleTimer.h&gt; #define EspSerial Serial3 #define ESP8266_BAUD 115200 ESP8266 wifi(&amp;EspSerial); #define ENB 5 //ENB      monstr motor shield  5  6     #define MOTORB_1 4 //IN3 #define MOTORB_2 9 //IN4 #define MOTORA_1 8 //IN1 #define MOTORA_2 7 //IN2 #define ENA 6 //ENA BlynkTimer timer; Servo servo; Servo servo2; AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,      char auth[] = "****"; char ssid[] = "****"; char pass[] = "****"; // SETUP void setup() { Serial.begin(9600); delay(10); EspSerial.begin(ESP8266_BAUD); delay(10); // Connect Blynk Blynk.begin(auth, wifi, ssid, pass); Blynk.connect(); // Configure pins pinMode(ENA, OUTPUT); pinMode(MOTORA_1, OUTPUT); pinMode(MOTORA_2, OUTPUT); pinMode(ENB, OUTPUT); pinMode(MOTORB_1, OUTPUT); pinMode(MOTORB_2, OUTPUT); Stepper1.setMaxSpeed(100); //      (/) Stepper1.setAcceleration(96); //  (/^2) servo.attach(2); //   servo.write(115); //    servo2.attach(3); //  servo2.write(55); //    //timer.setInterval(500L, StopServo); // Start serial communication } BLYNK_WRITE(V6) { servo.write(param.asInt()); //timer.setTimeout(2500L, StopServo); } BLYNK_WRITE(V7) { servo2.write(param.asInt()); } //void StopServo() { // servo.detach(); //} BLYNK_WRITE(V8) { int pinValue = param.asInt(); Stepper1.move(pinValue); } BLYNK_WRITE(V4) { int speedL = param.asInt(); //      . 1,13       analogWrite(ENA, speedL); analogWrite(ENB, speedL* 1.13); } / FORWARD BLYNK_WRITE(V0) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // RIGHT BLYNK_WRITE(V1) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,HIGH); digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // LEFT BLYNK_WRITE(V2) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,HIGH); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // BACKWARD BLYNK_WRITE(V3) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,HIGH); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,HIGH); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // MAIN CODE void loop() { Blynk.run(); timer.run(); Stepper1.run();</code> </pre> <br><cut></cut><br>  En cons√©quence, la puissance du nom chinois √©tait encore moins - 5kg / cm, j'ai d√©cid√© d'essayer √† travers la ceinture: <br><br><img src="https://habrastorage.org/webt/ab/dm/fy/abdmfypidfuujvl-2wg6jry2i40.jpeg" alt="image"><br><br>  La courroie a gliss√© malgr√© le tendeur attach√© au rouleau (non illustr√©).  Une psychose et une nervosit√© exceptionnelles caus√©es par une s√©rie de revers techniques ont √©t√© interrompues par une nouvelle id√©e.  Il est n√©cessaire de r√©duire le poids de la structure - d'abandonner les deux servos √† la fin de l'axe, pour des degr√©s de libert√© suppl√©mentaires et de r√©duire la longueur de l'axe du manipulateur.  (J'esp√®re que le fusible restera et que cette d√©cision est temporaire). <br><br><img src="https://habrastorage.org/webt/p7/6x/2l/p76x2lt1i0kdzyjvuubgsyba_gk.jpeg" alt="image"><br><br>  Sur la photo √©galement, j'ai install√© un haut-parleur externe, qui a √©t√© soud√© √† l'appareil photo ds-2cd2432f-iw par le fabricant Hikvizhn.  L'orateur √† plein temps semblait faible. <br><br>  Maintenant, l'apparence est la suivante. <br><br><img src="https://habrastorage.org/webt/wh/sk/7j/whsk7jori1k6tnbtd5pvlqiewsq.jpeg" alt="image"><br><br><h3>  R√©sum√© </h3><br>  Nous avons un appareil photo sur roues, pourquoi jusqu'√† pr√©sent j'ai refus√© le t√©l√©phone.  Skype ne fonctionne pas correctement en mode multi-fen√™tres sur mon t√©l√©phone, lorsque le contr√¥le de l'image vid√©o est r√©duit √† la taille d'une petite fen√™tre, ce qui n'est pas tr√®s pratique lorsque le robot se d√©place.  Par cons√©quent, je me suis arr√™t√© sur l'appareil photo, j'utilise toujours la version payante du programme "Tiny cam pro" pour acc√©der √† la vid√©o, acc√©der de n'importe o√π dans le monde, l'appareil photo est connect√© sans fil √† un routeur sur lequel ses ports sont transf√©r√©s et le service de nom de domaine No-Ip est utilis√©.  Il est bon que le fournisseur fournisse jusqu'√† pr√©sent une adresse "blanche".  Pourquoi je n'utilise pas Blynk pour la transmission vid√©o, demandez-vous, car il existe un widget standard pour transmettre le protocole rtsp.  Je r√©ponds, je veux utiliser toutes les fonctionnalit√©s de la cam√©ra, √† savoir la communication bidirectionnelle.  M√™me si c'est sous une forme telle qu'elle est fournie par une application dans laquelle des codecs audio sont utilis√©s, ce qui r√©duit consid√©rablement la qualit√© du son.  Le protocole rtsp le plus important de l'application Blynk fonctionne avec un l√©ger retard, ce qui est essentiel pour voyager sur un m√©canisme qui p√®se 10 kg. <br><br>  La nutrition, un sujet int√©ressant distinct.  Le probl√®me d'une borne de recharge autonome n'a pas encore √©t√© r√©solu, n'a pas eu le temps.  Sur le mod√®le pr√©c√©dent, j'ai utilis√© des batteries Li-ion soud√©es par paires en parall√®le, pour augmenter la tension √† 12V et augmenter la capacit√©, en travaillant via le contr√¥leur de charge.  Dans ce projet, il a refus√© le lithium, les piles ont explos√© terriblement d'une mauvaise exp√©rience!  Une batterie au plomb-acide de 7 A / h est install√©e √† l'arri√®re de l'unit√©, pour une r√©partition uniforme de la charge lorsque le manipulateur soul√®ve la charge. Un convertisseur CC qui r√©duit la tension de 5 V est connect√© √† la batterie pour alimenter le contr√¥leur et la logique des deux pilotes de moteur MonstrmotorShield, un pour chaque roue, car seul le plancher du conducteur fonctionnait dans les deux planches, tr√®s probablement un mariage en usine, ne pouvait pas se faire une id√©e, eh bien, ne l'a-t-il pas jet√©? ... <br><br>  Parmi les probl√®mes non encore r√©solus, la charge autonome, je veux le r√©p√©ter comme √ßa <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uWZon62gA1w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Je n'ai pas non plus bien compris la biblioth√®que AccelStepper, si vous alimentez les enroulements du moteur, une fois le manipulateur termin√©, l'alimentation reste, ce qui augmente le courant de d√©charge de la batterie d'environ 400 mA, ce qui n'est pas √©conomique, vous devez trouver la logique lorsque le manipulateur est en position basse, l'alimentation des enroulements est coup√©e.  Je voudrais √©galement des commentaires afin que la position des servos et des vers-pas arrive √† Blynk lorsque le robot est allum√©.  Et bien s√ªr, la batterie doit d√©connecter la charge lorsque la tension chute √† 10,5 V, ce qui emp√™chera sa d√©gradation pr√©matur√©e.  Il n'y a aucun moyen de contr√¥ler depuis un ordinateur.  Et bien s√ªr, le code doit √™tre optimis√©. <br><br>  Ceux qui n'ont pas peur de beaucoup de livres et lisent jusqu'au bout, merci, bonne chance √† tous, tout va bien! <br>  Enfin, nous allons faire un peu! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yQOmUJuGMeU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477490/">https://habr.com/ru/post/fr477490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477474/index.html">Vie et coutumes des r√™veurs</a></li>
<li><a href="../fr477476/index.html">Programmation h√©t√©rog√®ne et bo√Æte √† outils OneAPI. Poser une question √† un expert Intel</a></li>
<li><a href="../fr477478/index.html">Domotique avec prise en charge des langages de programmation industriels ou BluePill x405</a></li>
<li><a href="../fr477484/index.html">Que pensaient-ils des programmeurs</a></li>
<li><a href="../fr477488/index.html">Neungers: les √©pices doivent couler</a></li>
<li><a href="../fr477492/index.html">Que restera-t-il dans la salle des serveurs?</a></li>
<li><a href="../fr477494/index.html">1. Analyse des logiciels malveillants √† l'aide de Check Point forensics. R√©seau de sablage</a></li>
<li><a href="../fr477498/index.html">Nous collectons les journaux de Nginx √† l'aide de nginx-clickhouse, les envoyons √† Clickhouse et les affichons √† Grafana</a></li>
<li><a href="../fr477500/index.html">Mod√®le d'application (Avalanche - cadre d'application pour Java)</a></li>
<li><a href="../fr477502/index.html">Travail √† distance d'un employeur sain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>