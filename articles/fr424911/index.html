<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÅ üñäÔ∏è üëê En bref sur les types d'architectures logicielles et celle que nous avons choisie pour le fournisseur IaaS üëµüèæ üÄÑÔ∏è ü¶Å</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe de nombreux types d'architectures logicielles avec leurs avantages et leurs inconv√©nients. Ensuite, nous parlerons des fonctionnalit√©s des p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>En bref sur les types d'architectures logicielles et celle que nous avons choisie pour le fournisseur IaaS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/424911/">  Il existe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreux types d'architectures logicielles</a> avec leurs avantages et leurs inconv√©nients.  Ensuite, nous parlerons des fonctionnalit√©s des plus populaires et parlerons de notre transition vers les microservices. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/xy/c4/0n/xyc40n4lngvgriexbx9vviubxki.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libreshot</a> / PD</i></font> <br><br><h2>  Types d'architectures logicielles </h2><br><h5>  Architecture en couches </h5><br>  Il s'agit de l'une des architectures les plus courantes.  Sur sa base, de nombreux grands frameworks sont construits - Java EE, Drupal, Express.  L'exemple le plus c√©l√®bre de cette architecture est peut-√™tre le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mod√®le de</a> r√©seau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OSI</a> . <br><br>  Le syst√®me est divis√© en niveaux, dont chacun interagit avec seulement deux voisins.  Par cons√©quent, les requ√™tes vers la base de donn√©es, qui se trouve g√©n√©ralement √† la toute fin de la cha√Æne d'interaction, passent s√©quentiellement √† travers chaque ¬´couche¬ª. <br><br>  L'architecture <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n'implique</a> aucun nombre obligatoire de niveaux - il peut y en avoir trois, quatre, cinq ou plus.  Le plus souvent, des syst√®mes √† trois niveaux sont utilis√©s: avec un niveau de pr√©sentation (client), un niveau logique et un niveau de donn√©es. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/qa/b8/nnqab847wdvsg0sbvwph-yumd3e.png" width="300"></div><br>  D'innombrables livres et articles ont √©t√© √©crits sur l'architecture √† plusieurs niveaux.  Et il y avait des opinions diff√©rentes sur ses avantages et ses inconv√©nients. <br><br>  <i>Avantages:</i> <br><br>  Chaque niveau de cette architecture ex√©cute un ensemble strictement limit√© de fonctions (qui ne sont pas r√©p√©t√©es d'une couche √† l'autre) et ne sait pas comment les autres niveaux sont organis√©s.  Par cons√©quent, le ¬´contenu¬ª des niveaux peut √™tre modifi√© sans risque de conflits globaux entre les couches. <br><br>  En g√©n√©ral, les applications √† plusieurs niveaux sont si r√©pandues que des g√©n√©rateurs de mod√®les sp√©ciaux sont cr√©√©s pour leur d√©veloppement.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LASG pour Visual Studio</a> propose plusieurs m√©thodes de g√©n√©ration de code qui automatisent les t√¢ches de routine et aident √† cr√©er des niveaux d'application. <br><br>  <i>Inconv√©nients:</i> <br><br>  En programmation, on dit que tout probl√®me peut √™tre r√©solu en ajoutant un autre niveau d'abstraction.  Cependant, cette approche peut finalement conduire √† une mauvaise organisation du code et d√©router les d√©veloppeurs. <br><br>  Un autre probl√®me vient de cela - la faible vitesse.  De nombreuses informations commencent √† passer inutilement d'une couche √† l'autre, sans utiliser de logique m√©tier.  Ce probl√®me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est</a> parfois <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">appel√© un</a> anti-mod√®le de gouffre, un mod√®le de conception lorsque le nombre d'op√©rations inutiles commence √† pr√©valoir sur les op√©rations utiles. <br><br>  Trouver des bogues sur des syst√®mes √† plusieurs niveaux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut</a> √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√™tre difficile</a> .  Avant d'entrer dans la base de donn√©es, les informations passent par tous les niveaux (car la base de donn√©es est le composant final).  Si, pour une raison quelconque, ces informations sont endommag√©es (ou perdues en cours de route), pour trouver une erreur, vous devez analyser chaque niveau s√©par√©ment. <br><br>  <i>Bon ajustement:</i> <br><br><ul><li>  Pour cr√©er de nouvelles applications qui doivent √™tre d√©ploy√©es rapidement.  Il s'agit d'une sorte de "mod√®le √† usage g√©n√©ral". <br><br><blockquote>  Lorsque nous avons commenc√© √† travailler sur les syst√®mes internes de notre fournisseur d'infrastructure virtuelle dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1cloud</a> , nous avons utilis√© ce type particulier d'architecture.  Au d√©part, nous n'avions pas pour t√¢che de cr√©er un service IaaS capable de traiter le trafic de dizaines ou de centaines de milliers d'utilisateurs.  Nous avons d√©cid√© de lancer rapidement le produit sur le march√© et de commencer √† d√©velopper une base de clients et √† r√©soudre les probl√®mes de mise √† l'√©chelle au fur et √† mesure qu'ils deviennent disponibles (et maintenant nous transf√©rons tous les syst√®mes vers une architecture de microservice, qui sera discut√©e plus tard). </blockquote><br>  Parmi les d√©veloppeurs, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il y a une opinion</a> qu'il n'est pas n√©cessaire d√®s les premiers jours du projet de le pr√©parer √† des charges colossales (√©crire un logiciel √† l'√©preuve du temps).  Les exigences r√©elles pour l'application ou le service peuvent diff√©rer des attentes et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les objectifs commerciaux peuvent changer</a> .  Par cons√©quent, un code √©crit dans un avenir lointain risque de devenir une dette technique. </li><li>  Selon O'Reilly, l'architecture en couches est un choix naturel pour de nombreuses applications d'entreprise.  Comme les entreprises (surtout les grandes) partagent souvent des comp√©tences: il y a une √©quipe responsable du front-end, il y a des gens qui sont responsables du back-end, etc.  Cela implique la division naturelle des applications en niveaux: certains d√©veloppeurs travaillent sur le client, d'autres sur la logique. <br><br>  Une relation similaire entre la structure de l'organisation et les approches de d√©veloppement d'applications est √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dict√©e par la loi de Conway</a> , formul√©e en 1967.  Il se lit comme suit: ¬´Lors du d√©veloppement d'un syst√®me, les organisations sont oblig√©es d'adh√©rer √† un sch√©ma qui r√©p√®te la structure des communications au sein de l'entreprise. </li></ul><br><h5>  Architecture orient√©e √©v√©nement </h5><br>  Dans ce cas, le d√©veloppeur prescrit le comportement (r√©actions) du programme lorsque des √©v√©nements se produisent.  Un √©v√©nement dans le syst√®me est consid√©r√© comme un changement significatif de son √©tat. <br><br>  Vous pouvez faire une analogie avec l'achat d'une voiture en cabine.  Lorsqu'une voiture trouve un nouveau propri√©taire, son √©tat passe de ¬´√† vendre¬ª √† ¬´vendu¬ª.  Cet √©v√©nement lance le processus de pr√©paration √† la pr√©-vente - installation d'√©quipements suppl√©mentaires, v√©rification de l'√©tat technique, lavage, etc. <br><br>  Un syst√®me pilot√© par √©v√©nements contient g√©n√©ralement deux composants: les sources d'√©v√©nements (agents) et leurs consommateurs (r√©cepteurs).  Il existe √©galement g√©n√©ralement deux types d'√©v√©nements: un √©v√©nement initiateur et un √©v√©nement auquel les consommateurs r√©pondent. <br><br>  Un exemple de la mise en ≈ìuvre d'une telle architecture est la biblioth√®que Java Swing.  Si la classe a besoin d'une alerte sur un √©v√©nement, le d√©veloppeur impl√©mente le soi-disant √©couteur - ActionListener (il "attrape" l'√©v√©nement correspondant) et l'ajoute √† l'objet que cet √©v√©nement peut g√©n√©rer. <br><br>  Le code d'impl√©mentation suivant pour ce m√©canisme est fourni sur le Wiki: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FooPanel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); JButton btn = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JButton(<span class="hljs-string"><span class="hljs-string">"Click Me!"</span></span>); btn.addActionListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(btn); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent ae)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Button has been clicked!"</span></span>); } }</code> </pre> <br>  <i>Avantages de l'architecture:</i> <br><br>  √âtant donn√© que les applications se composent d'un grand nombre de modules asynchrones (qui n'ont pas d'informations sur la mise en ≈ìuvre de l'autre), elles sont faciles √† mettre √† l'√©chelle.  Ces syst√®mes sont assembl√©s comme un constructeur - vous n'avez pas besoin d'enregistrer les d√©pendances, impl√©mentez simplement un nouveau module.  De plus, le mod√®le asynchrone permet des performances √©lev√©es des applications. <br><br>  <i>Inconv√©nients:</i> <br><br>  La nature asynchrone de ces applications complique le d√©bogage.  Un √©v√©nement peut d√©clencher plusieurs cha√Ænes d'actions √† la fois.  S'il existe de nombreuses cha√Ænes de ce type, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut √™tre difficile de</a> comprendre la cause exacte de l'√©chec.  Pour r√©soudre le probl√®me, nous devons trouver les conditions difficiles de la gestion des erreurs.  √Ä partir de l√†, le probl√®me de la journalisation suit - les journaux sont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">difficiles √†</a> structurer. <br><br>  <i>Convient pour:</i> <br><br><ul><li>  Cr√©ation de syst√®mes asynchrones.  Cela est √©vident car l'architecture elle-m√™me se compose d'un grand nombre de modules asynchrones. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Peut √™tre utilis√©</a> pour cr√©er une interface utilisateur.  Une page Web agit comme un conteneur dans lequel chacun de ses composants est isol√© et r√©pond √† certaines actions de l'utilisateur. </li><li>  Organiser la messagerie entre diff√©rents syst√®mes d'information. </li></ul><br><h5>  Architecture micro-noyau </h5><br>  Ce type d'architecture se compose de deux composants: le c≈ìur du syst√®me et les plugins.  Les plugins sont responsables de la logique m√©tier, et le noyau g√®re leur chargement et d√©chargement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5t/fm/sy/5tfmsyjhqdngpuld3y-8feeurxs.png" width="400"></div><br>  √Ä titre d'exemple d'architecture micro-noyau, le livre O'Reilly <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fournit un</a> IDE Eclipse.  Il s'agit d'un simple √©diteur qui ouvre des fichiers, leur permet d'√™tre modifi√©s et ex√©cute des processus d'arri√®re-plan.  Mais avec l'ajout de plugins (par exemple, le compilateur Java), ses fonctionnalit√©s s'√©tendent. <br><br>  L'architecture du micro-noyau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisait</a> √† une √©poque le syst√®me d'exploitation Symbian pour les appareils mobiles (le d√©veloppement a √©t√© arr√™t√© en 2012).  Dans son micro-noyau se trouvait un planificateur de t√¢ches, des syst√®mes de gestion de la m√©moire et des pilotes, et le syst√®me de fichiers et les composants responsables des communications t√©l√©phoniques faisaient office de plug-ins. <br><br>  <i>Avantages de l'architecture:</i> <br><br>  Il est facile de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">porter une</a> application d'un environnement √† un autre, car seul le micro-noyau doit √™tre modifi√©.  La s√©paration des politiques de haut niveau et des m√©canismes de bas niveau simplifie la prise en charge du syst√®me et garantit son extensibilit√©. <br><br>  <i>Inconv√©nients:</i> <br><br>  Les performances des applications sont r√©duites si vous branchez trop de modules.  Cependant, il peut √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">probl√©matique de trouver un √©quilibre</a> entre le nombre de plugins et le nombre de t√¢ches du micronoyau (g√©n√©ralement il ne contient que du code fr√©quemment utilis√©). <br><br>  Il est √©galement difficile de d√©terminer √† l'avance (avant le d√©veloppement de l'application) le degr√© optimal de fragmentation du code du micronoyau.  Et changer l'approche plus tard est presque impossible. <br><br>  <i>Bon pour:</i> <br><br><ul><li>  Cr√©ez des applications extensibles utilis√©es par un grand nombre de personnes.  Par exemple, l'iPhone OS a des racines de ¬´micro-noyau¬ª - ses d√©veloppeurs se sont inspir√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mach</a> (c'est l'un des tout premiers exemples de micro-noyau). </li><li>  Cr√©ation d'applications avec une s√©paration claire des m√©thodes de base et des r√®gles de haut niveau. </li><li>  D√©veloppement de syst√®mes avec un ensemble de r√®gles en √©volution dynamique qui doivent √™tre mises √† jour fr√©quemment. </li></ul><br><h5>  Microservices </h5><br>  Similaire √† l'architecture √©v√©nementielle et au micro-noyau.  Mais ils sont utilis√©s lorsque les t√¢ches d'application individuelles peuvent √™tre facilement divis√©es en petites fonctions - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des services ind√©pendants</a> .  Ces services peuvent √™tre √©crits dans diff√©rents langages de programmation car ils communiquent entre eux √† l'aide de l'API REST (par exemple, √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JSON</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thrift</a> ). <br><br>  Dans quelles proportions le code est divis√©, le d√©veloppeur d√©cide, mais Sam Newman, l'auteur du livre ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©ation de</a> microservices¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">,</a> vous recommande d'allouer autant de lignes de code au microservice que l'√©quipe peut reproduire en deux semaines.  Selon lui, cela permettra d'√©viter des "ballonnements" excessifs de l'architecture. <br><br>  Le plus souvent, les microservices sont lanc√©s dans des soi-disant conteneurs.  Ces conteneurs sont accessibles sur le r√©seau √† d'autres microservices et applications, et le syst√®me d'orchestration les g√®re tous: Kubernetes, Docker Swarm, par exemple. <br><br>  <i>Avantages:</i> <br><br>  L'architecture de microservice simplifie la mise √† l'√©chelle des applications.  Pour impl√©menter une nouvelle fonctionnalit√©, il suffit d'√©crire un nouveau service.  Si la fonction n'est plus n√©cessaire, le microservice peut √™tre d√©sactiv√©.  Chaque microservice est un projet distinct, il est donc facile de r√©partir le travail sur eux entre les √©quipes de d√©veloppement. <br><br>  En savoir plus sur les m√©canismes de mise √† l'√©chelle des syst√®mes de microservices dans le livre de Martin L. Abbott, The Art of Scalability. <br><br>  <i>Inconv√©nients:</i> <br><br>  Il est difficile de trouver des erreurs.  Contrairement aux syst√®mes monolithiques (lorsque toutes les fonctions sont dans le m√™me noyau), il peut √™tre difficile de d√©terminer pourquoi la demande a "chut√©".  Pour plus de d√©tails, vous devez vous rendre dans les journaux du processus ¬´coupable¬ª (s'il y en a plusieurs, le probl√®me est aggrav√©). <br><br>  Cela cr√©e une surcharge suppl√©mentaire pour la transmission de messages entre microservices.  Selon nos estimations, la croissance des co√ªts de r√©seau peut atteindre 25%. <br><br>  Un autre inconv√©nient est la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n√©cessit√© de s'accommoder</a> du concept de coh√©rence √©ventuelle ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">coh√©rence √† long terme</a> ).  Les microservices ont leurs propres entrep√¥ts de donn√©es, auxquels d'autres microservices acc√®dent.  Les informations sur les modifications de ces donn√©es ne sont pas distribu√©es instantan√©ment via le syst√®me.  Par cons√©quent, des situations surviennent lorsque certains microservices (quoique pour une p√©riode de temps extr√™mement courte) contiennent des donn√©es obsol√®tes. <br><br>  <i>O√π utiliser:</i> <br><br><ul><li>  Dans les grands projets avec une charge √©lev√©e.  Par exemple, les microservices sont utilis√©s par les plateformes de streaming.  Les syst√®mes de diffusion de contenu et autres services de support peuvent √™tre mis √† l'√©chelle ind√©pendamment les uns des autres, en s'adaptant aux changements de charge. </li><li>  Dans les syst√®mes qui utilisent des ressources "mixtes".  Si une partie de l'application a besoin de plus de temps processeur, et la seconde - de la m√©moire, alors il est logique de les diviser en microservices.  Ensuite, ils peuvent √™tre h√©berg√©s sur diff√©rentes machines - avec un processeur puissant ou une grande quantit√© de m√©moire, respectivement. </li><li>  Quand la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s√©curit√© est n√©cessaire</a> .  √âtant donn√© que les microservices sont isol√©s et communiquent par API, il peut √™tre garanti que seules les informations dont un service particulier a besoin seront transmises.  Ceci est important lorsque vous travaillez avec des mots de passe ou des donn√©es de carte de paiement. </li></ul><br><h2>  Pourquoi passons-nous aux microservices dans 1cloud </h2><br>  Comme nous l'avons d√©j√† dit, la base des services que nous proposons ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cloud priv√©</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">serveurs virtuels</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage en nuage d'objets</a> , etc.) est bas√©e sur une architecture √† plusieurs niveaux.  Elle s'est montr√©e du bon c√¥t√©, mais maintenant sa capacit√© √† √©voluer a commenc√© √† s'√©puiser. <br><br>  Nous devenons de plus en plus de partenaires qui fournissent leurs solutions bas√©es sur notre plateforme de franchise.  Il existe des sites et des services distants qui deviennent difficiles √† g√©rer √† partir d'un seul point (en particulier, nos √©quipements sont situ√©s dans plusieurs centres de donn√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en Russie, au Kazakhstan et en Bi√©lorussie</a> ). <br><br>  Pour faciliter la mise √† l'√©chelle des fonctions existantes et introduire de nouvelles fonctionnalit√©s, nous transf√©rons l'int√©gralit√© de notre infrastructure aux microservices dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1cloud</a> . <br><br><img src="https://habrastorage.org/webt/qc/en/nv/qcennvcdxbriz_2it7sf3jhtpv8.png"><br><br>  Nous voulons les s√©parer en modules s√©par√©s et au lieu d'une base de donn√©es complexe obtenir N simples.  Ainsi, dans la nouvelle architecture, chaque fonctionnalit√© aura une base de donn√©es distincte.  Il est beaucoup plus pratique et efficace en termes de support et de d√©veloppement. <br><br>  Nous pourrons r√©partir le travail sur les services entre plusieurs d√©veloppeurs (mettre en √©vidence les sp√©cialisations de l'entreprise) et √©voluer efficacement horizontalement - si n√©cessaire, nous connectons simplement de nouveaux microservices. <br><br>  Nos clients b√©n√©ficieront √©galement d'un certain nombre d'avantages.  √âtant donn√© que les microservices ne sont pas connect√©s les uns aux autres, alors lorsqu'un service particulier √©choue, seul il sera indisponible, tout le reste continuera √† fonctionner normalement.  De plus, m√™me si une baisse globale de notre service se produit, le panneau de contr√¥le continuera de fonctionner. <br><br>  Les clients du Kazakhstan et de Bi√©lorussie (et d'autres pays o√π nous ouvrirons des bureaux de repr√©sentation) remarqueront une augmentation significative de la vitesse et de la r√©activit√© des interfaces, car les panneaux de contr√¥le seront situ√©s localement. <br><br><h5>  Ce qui a d√©j√† √©t√© fait </h5><br>  Jusqu'√† pr√©sent, nous n'avons mis en ≈ìuvre que le premier pilote: ¬´Monitoring Service¬ª.  Les services restants seront transf√©r√©s sur une nouvelle piste fin 2018 - d√©but 2019. <br><br>  Dans le m√™me temps, la nouvelle architecture jette les bases technologiques de la prochaine √©tape - la migration vers les conteneurs.  Maintenant, nous utilisons l'infrastructure Windows et pour passer aux conteneurs, nous devons r√©√©crire tout le code accumul√© dans .NetCore et le transf√©rer vers Linux. <br><br>  Nous pr√©voyons de commencer une nouvelle transition au d√©but de 2019 et de la terminer √† la fin de l'ann√©e prochaine. <br><br><div class="spoiler">  <b class="spoiler_title">En termes simples sur ce qu'il vaut la peine de retenir sur l'architecture</b> <div class="spoiler_text"><ul><li>  <b>Architecture</b> √† plusieurs niveaux - l'application est divis√©e en niveaux, chacun ex√©cutant un ensemble de fonctions strictement d√©fini.  Chaque niveau peut √™tre modifi√© individuellement.  Parmi les lacunes figurent la faible vitesse du code et la difficult√© de trouver des bogues. <br><br>  Convient pour d√©velopper des applications qui doivent √™tre rapidement commercialis√©es.  Souvent utilis√© pour cr√©er des services d'entreprise. </li><li>  <b>Architecture orient√©e √©v√©nement</b> - le d√©veloppeur prescrit ici la r√©action du syst√®me √† tout √©v√©nement.  Par exemple, si des donn√©es sont re√ßues, √©crivez-les dans un fichier.  Les applications bas√©es sur une architecture orient√©e √©v√©nement sont faciles √† mettre √† l'√©chelle, car tous les gestionnaires d'√©v√©nements ne savent rien de la mise en ≈ìuvre de l'autre.  Cependant, le d√©bogage de tels syst√®mes est difficile - une seule action peut provoquer plusieurs cha√Ænes d'actions √† la fois (il est difficile de comprendre laquelle a provoqu√© la panne). <br><br>  Utilis√© pour cr√©er des syst√®mes asynchrones, l'organisation des interfaces graphiques et des syst√®mes de messagerie. </li><li>  <b>Architecture du micro-</b> noyau - se compose de deux composants cl√©s: les plug-ins et le noyau.  Les plugins sont responsables de la logique m√©tier, et le noyau est responsable de leur chargement et d√©chargement.  Cette s√©paration des t√¢ches simplifie le support du syst√®me.  Cependant, cela peut affecter les performances - cela d√©pend directement du nombre de modules connect√©s et actifs. <br><br>  Il convient au d√©veloppement d'applications extensibles utilis√©es par un grand nombre de personnes et de syst√®mes avec un ensemble de r√®gles qui doivent souvent √™tre mises √† jour (les plugins garantissent la facilit√© de mise √† jour). </li><li>  <b>Architecture de</b> microservices - les applications sont divis√©es en fonctions - microservices.  Chaque microservice est un composant ind√©pendant avec sa propre logique m√©tier.  Ces composants communiquent entre eux √† l'aide de l'API.  Ces applications sont faciles √† d√©velopper (il est possible de r√©partir le travail entre les √©quipes de d√©veloppement), mais il est difficile √† d√©boguer. <br><br>  Utilis√© dans les grands projets avec une charge √©lev√©e, qui n√©cessitent une s√©curit√© accrue. </li></ul><br><br></div></div><br><h5>  Que √©crivons-nous d'autre sur le blog 1cloud: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1cloud Cloud Architecture Evolution: d√©fis de modulation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment IaaS aide les franchis√©s 1C: exp√©rience 1cloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pourquoi la surveillance est-elle n√©cessaire?</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424911/">https://habr.com/ru/post/fr424911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424897/index.html">Une rencontre inattendue. Chapitre 18</a></li>
<li><a href="../fr424899/index.html">Ce qu'il faut √©couter sur l'audio: 15 podcasts</a></li>
<li><a href="../fr424901/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 272 (24 septembre - 30 septembre)</a></li>
<li><a href="../fr424905/index.html">D√©velopper un hexapode √† partir de z√©ro (partie 2) - build</a></li>
<li><a href="../fr424907/index.html">Conf√©rence DEFCON 22. GTVHacker Group. Hackez tout: 20 appareils en 45 minutes. Partie 1</a></li>
<li><a href="../fr424913/index.html">Agence internationale de l'√©nergie: l'√©nergie √©olienne pr√©vaudra en Europe d'ici 2027</a></li>
<li><a href="../fr424915/index.html">Conf√©rence DEFCON 22. GTVHacker Group. Hackez tout: 20 appareils en 45 minutes. 2e partie</a></li>
<li><a href="../fr424917/index.html">Comment nous avons remodel√© les mauvaises pr√©visions en un peu mieux</a></li>
<li><a href="../fr424919/index.html">Perle d'un march√© aux puces ou ing√©nierie inverse de la cam√©ra IP DCS-5220A1</a></li>
<li><a href="../fr424921/index.html">Comment les math√©matiques du r√©seau peuvent vous aider √† vous faire des amis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>