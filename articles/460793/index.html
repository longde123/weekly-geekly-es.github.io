<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∂üèª üéÖüèΩ üóìÔ∏è Estructurar React Aplicaciones üçÉ üèáüèø üà∑Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El material, cuya traducci√≥n publicamos hoy, revela los enfoques utilizados por su autor al estructurar las aplicaciones React. En particular, discuti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estructurar React Aplicaciones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/460793/">  El material, cuya traducci√≥n publicamos hoy, revela los enfoques utilizados por su autor al estructurar las aplicaciones React.  En particular, discutiremos aqu√≠ la estructura de carpetas utilizada, el nombre de las entidades, los lugares donde se encuentran los archivos de prueba y otras cosas similares. <br><br>  Una de las caracter√≠sticas m√°s agradables de React es que esta biblioteca no obliga al desarrollador a acatar estrictamente ciertas convenciones con respecto a la estructura del proyecto.  Gran parte de esto queda a discreci√≥n del programador.  Este enfoque es diferente del que, por ejemplo, se adopt√≥ en los marcos Ember.js o Angular.  Proporcionan a los desarrolladores m√°s funciones est√°ndar.  Estos marcos proporcionan convenciones con respecto a la estructura de proyectos y reglas para nombrar archivos y componentes. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/k6/9y/ug/k69yugvbt27p3wtccvzeqrf_v4w.jpeg"></a> <br><br>  Personalmente, me gusta el enfoque adoptado por React.  El hecho es que prefiero controlar algo yo mismo, sin depender de ciertos "acuerdos".  Sin embargo, el enfoque para estructurar proyectos que ofrece Angular ofrece muchas ventajas.  La elecci√≥n entre libertad y reglas m√°s o menos r√≠gidas se reduce a lo que est√° m√°s cerca de usted y su equipo. <br><br>  A lo largo de los a√±os de trabajo con React, he intentado muchas formas diferentes de estructurar aplicaciones.  Algunas de las ideas que apliqu√© resultaron ser m√°s exitosas que otras.  Por lo tanto, aqu√≠ voy a hablar sobre todo lo que se ha demostrado bien en la pr√°ctica.  Espero que encuentres algo aqu√≠ que te sea √∫til. <br><a name="habracut"></a><br>  No estoy tratando de mostrar aqu√≠ una forma "correcta" de estructurar aplicaciones.  Puede tomar algunas de mis ideas y cambiarlas para adaptarlas a sus necesidades.  Es muy posible que no est√©s de acuerdo conmigo si contin√∫as trabajando como antes.  Diferentes equipos crean diferentes aplicaciones y utilizan diferentes medios para lograr sus objetivos. <br><br>  Es importante tener en cuenta que si mira el sitio web de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Thread</a> , en el que participo en el desarrollo, y mira el dispositivo de su interfaz, encontrar√° lugares en los que no se respetan esas reglas de las que hablar√©.  El hecho es que cualquier "regla" en la programaci√≥n debe tomarse solo como recomendaciones, y no como est√°ndares integrales que sean v√°lidos en cualquier situaci√≥n.  Y si cree que alg√∫n tipo de "reglas" no le conviene, usted, en aras de mejorar la calidad de lo que est√° trabajando, debe encontrar la fuerza para desviarse de estas "reglas". <br><br>  En realidad, ahora, sin m√°s pre√°mbulos, les ofrezco mi historia sobre la estructuraci√≥n de aplicaciones React. <br><br><h2>  <font color="#3AC1EF">No te preocupes demasiado por las reglas.</font> </h2><br>  Quiz√°s decida que la recomendaci√≥n de que no se preocupe demasiado por las reglas parece extra√±a al comienzo de nuestra conversaci√≥n.  Pero esto es exactamente lo que quiero decir cuando digo que el principal error que los programadores tienen en t√©rminos de observar las reglas es que los programadores le dan demasiada importancia a las reglas.  Esto es especialmente cierto al comienzo del trabajo en un nuevo proyecto.  En el momento de la creaci√≥n del primer <code>index.jsx</code> simplemente imposible saber qu√© es lo mejor para este proyecto.  A medida que se desarrolle el proyecto, naturalmente llegar√° a alg√∫n tipo de estructura de archivos y carpetas, que probablemente sea bastante bueno para este proyecto.  Si durante la continuaci√≥n del trabajo resulta que la estructura existente no es exitosa, se puede mejorar. <br><br>  Si lees esto y te sorprendes pensando que no hay nada en tu aplicaci√≥n que se est√© discutiendo, entonces esto no es un problema.  Cada aplicaci√≥n es √∫nica, no hay dos equipos de desarrollo absolutamente id√©nticos.  Por lo tanto, cada equipo, trabajando en un proyecto, llega a algunos acuerdos con respecto a su estructura y m√©todos de trabajo en √©l.  Esto ayuda a los miembros del equipo a trabajar productivamente.  No se esfuerce, habiendo aprendido c√≥mo alguien est√° haciendo algo, pres√©ntese esto de inmediato.  No intente introducir en su trabajo lo que se llama en ciertos materiales, e incluso en esto, la "forma m√°s efectiva" para resolver un problema.  Siempre me he adherido y adhiero a la siguiente estrategia con respecto a tales recomendaciones.  Tengo mi propio conjunto de reglas, pero al leer sobre c√≥mo act√∫an los dem√°s en ciertas situaciones, elijo lo que me parece exitoso y adecuado para m√≠.  Esto lleva al hecho de que con el tiempo, mis m√©todos de trabajo mejoran.  Al mismo tiempo, no tengo ning√∫n shock y no deseo volver a escribir todo desde cero. <br><br><h2>  <font color="#3AC1EF">Los componentes importantes se encuentran en carpetas separadas</font> </h2><br>  El enfoque para colocar archivos de componentes en carpetas a los que llegu√© es que aquellos componentes que pueden considerarse "importantes", "b√°sicos", "b√°sicos" en el contexto de la aplicaci√≥n se colocan en carpetas separadas.  Estas carpetas, a su vez, se encuentran en la carpeta de <code>components</code> .  Por ejemplo, si estamos hablando de una aplicaci√≥n para una tienda electr√≥nica, entonces el componente <code>&lt;Product&gt;</code> utilizado para describir el producto puede reconocerse como un componente similar.  Esto es lo que quiero decir: <br><br><pre> <code class="plaintext hljs">- src/  - components/    - product/      - product.jsx      - product-price.jsx    - navigation/      - navigation.jsx    - checkout-flow/      - checkout-flow.jsx</code> </pre> <br>  En este caso, los componentes "secundarios" que solo utilizan ciertos componentes "principales" se encuentran en la misma carpeta que estos componentes "principales".  Este enfoque ha demostrado su eficacia en la pr√°ctica.  El hecho es que debido a su aplicaci√≥n, una cierta estructura aparece en el proyecto, pero el nivel de anidaci√≥n de carpetas no es demasiado grande.  Su aplicaci√≥n no conduce a la aparici√≥n de algo as√≠ como <code>../../../</code> en los comandos de importaci√≥n de componentes, no hace que sea dif√≠cil moverse por el proyecto.  Este enfoque le permite construir una jerarqu√≠a clara de componentes.  Ese componente, cuyo nombre coincide con el nombre de la carpeta, se considera "b√°sico".  Otros componentes ubicados en la misma carpeta sirven para dividir el componente "base" en partes, lo que simplifica el trabajo con el c√≥digo de este componente y su soporte. <br><br>  Aunque soy partidario de la presencia de una determinada estructura de carpetas en el proyecto, creo que lo m√°s importante es la selecci√≥n de buenos nombres de archivo.  Las carpetas en s√≠ mismas son menos importantes. <br><br><h2>  <font color="#3AC1EF">Usar subcarpetas para subcomponentes</font> </h2><br>  Uno de los inconvenientes del enfoque anterior es que su uso puede dar lugar a la aparici√≥n de carpetas de componentes "b√°sicos" que contienen muchos archivos.  Considere, por ejemplo, el componente <code>&lt;Product&gt;</code> .  Se adjuntar√°n archivos CSS (hablaremos de ellos m√°s adelante), archivos de prueba, muchos subcomponentes y, posiblemente, otros recursos, como im√°genes e √≠conos SVG.  Esta lista de "adiciones" no est√° limitada.  Todo esto caer√° en la misma carpeta que el componente "base". <br><br>  Realmente no me importa eso.  Esto me conviene si los archivos tienen nombres bien pensados ‚Äã‚Äãy si se pueden encontrar f√°cilmente (utilizando las herramientas de b√∫squeda de archivos en el editor).  Si es as√≠, la estructura de la carpeta se desvanece en el fondo.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> tweet sobre este tema. <br><br>  Sin embargo, si prefiere que su proyecto tenga una estructura m√°s extensa, no hay nada dif√≠cil en mover subcomponentes a sus propias carpetas: <br><br><pre> <code class="javascript hljs">- src/  - components/    - product/      - product.jsx      - ...      - product-price/        - product-price.jsx</code> </pre> <br><h2>  <font color="#3AC1EF">Los archivos de prueba se encuentran en el mismo lugar que los archivos de los componentes bajo prueba.</font> </h2><br>  Comenzamos esta secci√≥n con una recomendaci√≥n simple, que es que los archivos de prueba deben colocarse en el mismo lugar que los archivos con el c√≥digo que se verificaron con su ayuda.  Tambi√©n hablar√© sobre c√≥mo prefiero estructurar los componentes, tratando de asegurarme de que est√©n cerca uno del otro.  Pero ahora puedo decir que me parece conveniente colocar los archivos de prueba en las mismas carpetas que los archivos componentes.  En este caso, los nombres de los archivos con las pruebas son id√©nticos a los nombres de los archivos con el c√≥digo.  A los nombres de prueba, antes de la extensi√≥n del nombre de archivo, solo se agrega el sufijo <code>.test</code> : <br><br><ul><li>  Nombre de archivo del componente: <code>auth.js</code> </li><li>  Nombre del archivo de prueba: <code>auth.test.js</code> </li></ul><br>  Este enfoque tiene varias fortalezas: <br><br><ul><li>  Facilita la b√∫squeda de archivos de prueba.  De un vistazo, puede comprender si hay una prueba para el componente con el que estoy trabajando. </li><li>  Todos los comandos de importaci√≥n necesarios son muy simples.  En la prueba, para importar el c√≥digo probado, no es necesario crear estructuras que describan, por ejemplo, la salida de la carpeta <code>__tests__</code> .  Tales equipos se ven extremadamente simples.  Por ejemplo, as√≠: <code>import Auth from './auth'</code> . </li></ul><br>  Si tenemos algunos datos utilizados durante la prueba, por ejemplo, algo as√≠ como simulacros de solicitud de API, los colocamos en la misma carpeta donde ya se encuentran el componente y su prueba.  Cuando todo lo que se necesita se encuentra en una carpeta, esto contribuye al crecimiento de la productividad.  Por ejemplo, si usa una estructura de carpetas ramificadas y el programador est√° seguro de que existe un determinado archivo, pero no puede recordar su nombre, el programador tendr√° que buscar este archivo en muchos subdirectorios.  Con el enfoque propuesto, solo mire el contenido de una carpeta y todo quedar√° claro. <br><br><h2>  <font color="#3AC1EF">M√≥dulos CSS</font> </h2><br>  Soy un gran fan de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√≥dulos CSS</a> .  Descubrimos que son excelentes para crear reglas CSS modulares para componentes. <br><br>  Adem√°s, me gusta mucho la tecnolog√≠a de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componentes con estilo</a> .  Sin embargo, en el curso del trabajo en proyectos en los que participaron muchos desarrolladores, result√≥ que la presencia de archivos CSS reales en el proyecto aumenta la usabilidad. <br><br>  Como probablemente ya haya adivinado, nuestros archivos CSS se encuentran, como otros archivos, junto a los archivos componentes, en las mismas carpetas.  Esto simplifica enormemente el movimiento entre archivos cuando necesita comprender r√°pidamente el significado de una clase. <br><br>  Una recomendaci√≥n m√°s general, cuya esencia impregna todo este material, es que todo el c√≥digo relacionado con un determinado componente debe mantenerse en la misma carpeta en la que se encuentra este componente.  Atr√°s quedaron los d√≠as en que se usaban carpetas separadas para almacenar c√≥digo CSS y JS, c√≥digo de prueba y otros recursos.  El uso de estructuras de carpetas complejas complica el movimiento entre archivos y no tiene ning√∫n beneficio obvio, excepto que ayuda a "organizar el c√≥digo".  Mantenga los archivos interconectados en la misma carpeta; esto significa pasar menos tiempo movi√©ndose entre carpetas durante el trabajo. <br><br>  Incluso creamos un cargador Webpack para CSS, cuyas capacidades corresponden a las caracter√≠sticas de nuestro trabajo.  Comprueba los nombres de clase declarados y arroja un error en la consola si nos referimos a una clase que no existe. <br><br><h2>  <font color="#3AC1EF">Casi siempre, solo se coloca un c√≥digo de componente en un archivo</font> </h2><br>  Mi experiencia muestra que los programadores generalmente se adhieren demasiado estrictamente a la regla de que el c√≥digo para un solo componente React debe estar en un archivo.  Al mismo tiempo, apoyo totalmente la idea de que no vale la pena colocar demasiados componentes en un archivo (¬°solo imagine las dificultades de nombrar dichos archivos!).  Pero creo que no hay nada de malo en colocar el c√≥digo de un determinado componente "grande" y el c√≥digo del componente "peque√±o" asociado en el mismo archivo.  Si tal movimiento ayuda a preservar la pureza del c√≥digo, si el componente "peque√±o" no es demasiado grande para colocarlo en un archivo separado, entonces esto no da√±ar√° a nadie. <br><br>  Por ejemplo, si creo un componente <code>&lt;Product&gt;</code> y necesito un peque√±o c√≥digo para mostrar el precio, entonces puedo hacer esto: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Price = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ price, currency }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    {currency}    {formatPrice(price)}  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Product = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-comment"><span class="hljs-comment">// ,      !  return (    &lt;div&gt;      &lt;Price price={props.price} currency={props.currency} /&gt;      &lt;div&gt;loads more stuff...&lt;/div&gt;    &lt;/div&gt;  ) }</span></span></code> </pre> <br>  Lo bueno de este enfoque es que no tuve que crear un archivo separado para el componente <code>&lt;Price&gt;</code> , y que este componente est√° disponible exclusivamente para el componente <code>&lt;Product&gt;</code> .  No exportamos este componente, por lo que no se puede importar a otra parte de la aplicaci√≥n.  Esto significa que cuando se le pregunta si debe colocar <code>&lt;Price&gt;</code> en un archivo separado, puede dar una respuesta clara y positiva si necesita importarlo en otro lugar.  De lo contrario, puede hacerlo sin poner el c√≥digo <code>&lt;Price&gt;</code> en un archivo separado. <br><br><h2>  <font color="#3AC1EF">Carpetas separadas para componentes universales.</font> </h2><br>  Recientemente hemos estado usando componentes universales.  De hecho, forman nuestro sistema de dise√±o (que planeamos publicar alg√∫n d√≠a), pero hasta ahora hemos comenzado poco a poco, con componentes como <code>&lt;Button&gt;</code> y <code>&lt;Logo&gt;</code> .  Un componente se considera "universal" si no est√° vinculado a una parte espec√≠fica del sitio, pero es uno de los componentes b√°sicos de la interfaz de usuario. <br><br>  Componentes similares se encuentran en su propia carpeta ( <code>src/components/generic</code> ).  Esto simplifica enormemente el trabajo con todos los componentes universales.  Est√°n en un solo lugar, es muy conveniente.  Con el tiempo, a medida que el proyecto crece, planeamos desarrollar una gu√≠a de estilo (somos grandes fan√°ticos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">react-styleguidist</a> ) para simplificar a√∫n m√°s el trabajo con componentes universales. <br><br><h2>  <font color="#3AC1EF">Usar alias para importar entidades</font> </h2><br>  La estructura de carpetas relativamente plana en nuestros proyectos garantiza que los comandos de importaci√≥n no tengan estructuras demasiado largas como <code>../../</code> .  Pero es dif√≠cil prescindir de ellos.  Por lo tanto, utilizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">babel-plugin-module-resolver</a> para configurar alias que simplifican los comandos de importaci√≥n. <br><br>  Puede hacer lo mismo con Webpack, pero gracias al complemento Babel, los mismos comandos de importaci√≥n pueden funcionar en las pruebas. <br><br>  Configuramos esto con un par de alias: <br><br><pre> <code class="javascript hljs">{  <span class="hljs-attr"><span class="hljs-attr">components</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components'</span></span>,  <span class="hljs-string"><span class="hljs-string">'^generic/([\\w_]+)'</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components/generic/\\1/\\1'</span></span>, }</code> </pre> <br>  El primero es extremadamente simple.  Le permite importar cualquier componente, comenzando el comando con la palabra <code>components</code> .  En el enfoque normal, los comandos de importaci√≥n se ven as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Product <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../components/product/product'</span></span></code> </pre> <br>  En cambio, podemos escribirlos as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Product <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/product/product'</span></span></code> </pre> <br>  Ambos comandos importan el mismo archivo.  Esto es muy conveniente, ya que le permite no pensar en la estructura de la carpeta. <br><br>  El segundo alias es un poco m√°s complicado: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">'^generic/([\\w_]+)'</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/components/generic/\\1/\\1'</span></span>,</code> </pre> <br>  Usamos regex aqu√≠.  Encuentra comandos de importaci√≥n que comienzan con <code>generic</code> (el signo <code>^</code> al comienzo de la expresi√≥n le permite seleccionar solo aquellos comandos que comienzan con <code>generic</code> ) y captura lo que est√° despu√©s de <code>generic/</code> en el grupo.  Despu√©s de eso, usamos el fragmento capturado ( <code>\\1</code> ) en la construcci√≥n <code>./src/components/generic/\\1/\\1</code> . <br><br>  Como resultado, podemos usar los comandos de importaci√≥n para componentes universales de este tipo: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'generic/button'</span></span></code> </pre> <br>  Se convierten a los siguientes comandos: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'src/components/generic/button/button'</span></span></code> </pre> <br>  Este comando, por ejemplo, sirve para importar un archivo JSX que describe un bot√≥n universal.  Hicimos todo esto porque este enfoque simplifica enormemente la importaci√≥n de componentes universales.  Adem√°s, nos servir√° bien si decidimos cambiar la estructura de los archivos del proyecto (esto, a medida que nuestro sistema de dise√±o est√° creciendo, es muy posible). <br><br>  Aqu√≠ me gustar√≠a se√±alar que debe tener cuidado al trabajar con seud√≥nimos.  Si solo tiene unos pocos y est√°n dise√±ados para resolver problemas de importaci√≥n est√°ndar, entonces todo est√° bien.  Pero si tiene muchos de ellos, pueden traer m√°s confusi√≥n que bien. <br><br><h2>  <font color="#3AC1EF">Carpeta universal lib para utilidades</font> </h2><br>  Me gustar√≠a recuperar todo el tiempo que pas√© tratando de encontrar el lugar perfecto para el c√≥digo que no es c√≥digo de componente.  Compart√≠ todo esto de acuerdo con diferentes principios, destacando el c√≥digo de utilidades, servicios, funciones auxiliares.  Todo esto tiene tantos nombres que no los mencionar√© a todos.  Ahora no estoy tratando de averiguar la diferencia entre la "utilidad" y la "funci√≥n auxiliar" para encontrar el lugar correcto para un determinado archivo.  Ahora uso un enfoque mucho m√°s simple y m√°s comprensible: todo esto cae en una sola carpeta <code>lib</code> . <br><br>  A la larga, el tama√±o de esta carpeta puede llegar a ser tan grande que tenga que estructurarlo de alguna manera, pero esto es completamente normal.  Siempre es m√°s f√°cil equipar algo con una determinada estructura que deshacerse de los errores de estructuraci√≥n excesiva. <br><br>  En nuestro proyecto Thread, la carpeta <code>lib</code> contiene aproximadamente 100 archivos.  Se dividen aproximadamente por igual en archivos que contienen la implementaci√≥n de ciertas caracter√≠sticas y en archivos de prueba.  No caus√≥ ninguna dificultad para encontrar los archivos necesarios.  Gracias a los <code>lib/name_of_thing</code> b√∫squeda inteligentes integrados en la mayor√≠a de los editores, casi siempre tengo que ingresar algo como <code>lib/name_of_thing</code> , y lo que necesito se encuentra. <br><br>  Adem√°s, tenemos un alias que simplifica la importaci√≥n desde la carpeta <code>lib</code> , permiti√©ndole usar comandos de este tipo: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> formatPrice <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lib/format_price'</span></span></code> </pre> <br>  No se alarme por las estructuras de carpetas planas que pueden hacer que varios archivos se almacenen en una carpeta.  Por lo general, tal estructura es todo lo que se necesita para un determinado proyecto. <br><br><h2>  <font color="#3AC1EF">Ocultar bibliotecas de terceros detr√°s de API nativas</font> </h2><br>  Realmente me gusta el sistema de monitoreo de errores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sentry</a> .  A menudo lo usaba al desarrollar partes de aplicaciones de servidores y clientes.  Con su ayuda, puede detectar excepciones y recibir notificaciones sobre su ocurrencia.  Esta es una gran herramienta que nos permite estar al tanto de los problemas encontrados en el sitio. <br><br>  Cada vez que uso una biblioteca de terceros en mi proyecto, pienso en c√≥mo hacerlo para que, si es necesario, pueda reemplazarse lo m√°s f√°cilmente posible con otra cosa.  A menudo, como con el mismo sistema Sentry que realmente nos gusta, esto no es necesario.  Pero, por si acaso, nunca est√° de m√°s pensar una manera de evitar el uso de un determinado servicio o una forma de cambiarlo por otro. <br><br>  La mejor soluci√≥n a este problema es desarrollar su propia API que oculte las herramientas de otras personas.  Esto es algo as√≠ como crear un m√≥dulo <code>lib/error-reporting.js</code> que exporta la funci√≥n <code>reportError()</code> .  El n√∫cleo de este m√≥dulo usa Sentry.  Pero Sentry se importa directamente solo en este m√≥dulo y en ning√∫n otro lugar.  Esto significa que reemplazar Sentry con otra herramienta se ver√° muy simple.  Para hacer esto, ser√° suficiente cambiar un archivo en un lugar.  Mientras la API p√∫blica de este archivo permanezca sin cambios, el resto del proyecto ni siquiera sabr√° que al llamar a <code>reportError()</code> , no se usa Sentry, sino algo m√°s. <br><br>  Tenga en cuenta que la API p√∫blica del m√≥dulo se denomina funciones que exporta y sus argumentos.  Tambi√©n se denominan la interfaz p√∫blica del m√≥dulo. <br><br><h2>  <font color="#3AC1EF">Uso de PropTypes (o herramientas como TypeScript o Flow)</font> </h2><br>  Cuando programo, pienso en tres versiones de m√≠ mismo: <br><br><ul><li>  Jack del pasado y el c√≥digo que escribi√≥ (c√≥digo a veces dudoso). </li><li>  Jack de hoy, y el c√≥digo que escribe ahora. </li><li>  Jack del futuro.  Cuando pienso en este futuro, me pregunto el presente sobre c√≥mo puedo escribir c√≥digo que me facilitar√° la vida en el futuro. </li></ul><br>  Puede sonar extra√±o, pero lo encontr√© √∫til, pensando en c√≥mo escribir c√≥digo, haga la siguiente pregunta: "¬øC√≥mo se percibir√° en seis meses?". <br><br>  Una forma sencilla de hacerse presente y ser m√°s productivo es especificar los tipos de propiedades ( <code>PropTypes</code> ) utilizados por los componentes.  Esto ahorrar√° tiempo buscando posibles errores tipogr√°ficos.  Esto lo proteger√° de situaciones en las que, utilizando el componente, se apliquen propiedades de los tipos incorrectos o se olviden por completo de la transferencia de propiedades.  En nuestro caso, la <a href="">regla eslint-react / prop-types</a> es un buen recordatorio de la necesidad de usar <code>PropTypes</code> . <br><br>  Si va m√°s all√°, se recomienda describir las propiedades con la mayor precisi√≥n posible.  Por ejemplo, puedes hacer esto: <br><br><pre> <code class="javascript hljs">blogPost: PropTypes.object.isRequired</code> </pre> <br>  Pero ser√≠a mucho mejor hacer esto: <br><br><pre> <code class="javascript hljs">blogPost: PropTypes.shape({  <span class="hljs-attr"><span class="hljs-attr">id</span></span>: PropTypes.number.isRequired,  <span class="hljs-attr"><span class="hljs-attr">title</span></span>: PropTypes.string.isRequired,  <span class="hljs-comment"><span class="hljs-comment">//    }).isRequired</span></span></code> </pre> <br>  En el primer ejemplo, se realiza la verificaci√≥n m√≠nima necesaria.  En el segundo, el desarrollador recibe mucha m√°s informaci√≥n √∫til.  Ser√°n muy √∫tiles, por ejemplo, si alguien se olvida de un determinado campo utilizado en el objeto. <br><br><h2>  <font color="#3AC1EF">Las bibliotecas de terceros se usan solo cuando son realmente necesarias.</font> </h2><br>  Este consejo es m√°s relevante que nunca con la llegada de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ganchos React</a> .  Por ejemplo, particip√© en una gran modificaci√≥n de una de las partes del sitio Thread y decid√≠ prestar especial atenci√≥n al uso de bibliotecas de terceros.  ,       ,          .   (   ),  .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> ,      React-.      ‚Äî  ,    ,   React  API Context,        . <br><br> ,  ,  Redux,    .       ,      (            ,     ). ,           ,   ,           . <br><br><h2> <font color="#3AC1EF">   </font> </h2><br>   ‚Äî   ,       ,   .      . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     emitter.send('user_add_to_cart') //     emitter.on('user_add_to_cart', () =&gt; {  //  -  })</span></span></code> </pre> <br>      ,            .     ,             .      ,   ¬´   ¬ª.   ,      ,   ,    .         . ¬´¬ª      - ,       .  ,    ,        . <br><br>      Redux.       .     ,  .  ,     ,  <code>user_add_to_cart</code> ,   .       .  , ,       Redux,      .     ,    Redux    ,     . <br><br>  ,       ,   ,  ,     : <br><br><ul><li>  ,   , .         . </li><li>  ,  ,   .       ,    . </li><li>  ,  -  , . ,     ,    . </li></ul><br>    - ,    .    ,        ,   .      ,        ,   ,           ¬´¬ª . <br><br>       ,       ,  API Context  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">-</a> . <br><br><h2> <font color="#3AC1EF">     </font> </h2><br>         ,    (, ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a> ).     :    ,      . <br><br> ,    ,          ,     .        : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = mount(  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">UserAuth.Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ComponentUnderTest</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">UserAuth.Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> )</span></span></code> </pre> <br>      : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = mountWithAuth(ComponentUnderTest, {  <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>,  <span class="hljs-attr"><span class="hljs-attr">userId</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, })</code> </pre> <br>       : <br><br><ul><li>     .       ‚Äî     ,     ,   ,      . </li><li>      ‚Äî    <code>mountWithAuth</code>       .    ,          . </li></ul><br>   ,           <code>test-utils.js</code> . ,       ‚Äî   .       . <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>       .     ,     , ,  ,      .         ,  ,              .        ,   :       .               .           -     ,   . <br><br>  <b>Estimados lectores!</b>     React-? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/rw/6v/yn/rw6vyn2bxx4usoqc39holmj2z8m.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460793/">https://habr.com/ru/post/460793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460777/index.html">Este es el turno: por qu√© Apple ha cambiado los requisitos para los desarrolladores de aplicaciones</a></li>
<li><a href="../460779/index.html">Depuraci√≥n avanzada</a></li>
<li><a href="../460783/index.html">Consenso sobre la reputaci√≥n del nodo. ¬øEs necesario?</a></li>
<li><a href="../460785/index.html">Aplicaciones para libros electr√≥nicos en el sistema operativo Android. Parte 1. Introducci√≥n y aplicaciones de oficina.</a></li>
<li><a href="../460789/index.html">Finalmente, el rejuvenecimiento es una cosa.</a></li>
<li><a href="../460795/index.html">12 consejos para mejorar el rendimiento de la aplicaci√≥n JavaScript</a></li>
<li><a href="../460797/index.html">Desarrollo responsable de JavaScript, parte 2</a></li>
<li><a href="../460799/index.html">Solicitud de pago de API de navegador est√°ndar</a></li>
<li><a href="../460801/index.html">27 incre√≠bles herramientas VS Code para desarrolladores modernos de JavaScript</a></li>
<li><a href="../460803/index.html">Lectura para el verano: libros para t√©cnicos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>