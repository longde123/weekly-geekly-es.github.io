<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìí üë®üèø‚Äçüíº üçì Generando √≠conos multiplataforma multiplataforma con Sketch y un script Node.js - Parte # 1 üï∫üèø üéÆ ü§¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR 
 Usando un script de compilaci√≥n personalizado en Node JS, es posible manipular una serie de archivos de Sketch y luego, usando una herramient...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Generando √≠conos multiplataforma multiplataforma con Sketch y un script Node.js - Parte # 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/441040/"><img src="https://habrastorage.org/webt/r_/wy/rc/r_wyrcezx76z5i0-1_zuktooxzy.jpeg"><br><br><h4>  TL; DR </h4><br>  Usando un script de compilaci√≥n personalizado en Node JS, es posible manipular una serie de archivos de Sketch y luego, usando una herramienta de Sketch interna, exportar autom√°ticamente sus activos, para generar m√∫ltiples bibliotecas de iconos, para m√∫ltiples plataformas y diferentes marcas, que admiten din√°micas coloraci√≥n de los activos a trav√©s de tokens de dise√±o, y tambi√©n pruebas AB de los activos a trav√©s de la convenci√≥n de nomenclatura.  F√°cil guisante :) <br><hr><br>  Bueno, en realidad no es tan f√°cil, pero ciertamente se puede hacer.  Esta publicaci√≥n es una explicaci√≥n detallada de c√≥mo lo hicimos y de lo que descubrimos en el camino. <br><br><h2>  El problema que intentamos resolver </h2><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Badoo</a> creamos una aplicaci√≥n de citas.  En realidad, m√∫ltiples aplicaciones de citas.  Para m√∫ltiples plataformas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">iOS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Android</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Web m√≥vil</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Web de escritorio</a> ), en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">varios equipos</a> . <br><br>  Usamos cientos de iconos en nuestras aplicaciones.  Algunos de ellos son iguales en diferentes aplicaciones, algunos son muy espec√≠ficos de las marcas que reflejan las aplicaciones.  Los iconos evolucionan continuamente, en sincron√≠a con la evoluci√≥n del dise√±o.  A veces se agregan √≠conos completamente nuevos, mientras que otros se actualizan y otros se descartan (aunque a menudo permanecen en la base de c√≥digo). <br><a name="habracut"></a><br>  Nuestro equipo de dise√±o dise√±a y mantiene los √≠conos, y hasta ahora la √∫nica forma de proporcionar los activos correctos a los diferentes equipos, plataformas y aplicaciones, era envi√°ndolos por correo electr√≥nico, chat o dropbox.  Esto no solo lleva mucho tiempo, sino que casi siempre es propenso a errores.  De hecho, encontramos errores cada vez (¬°somos humanos!): Los iconos se actualizar√≠an en una plataforma pero no en otra;  o faltar√≠an iconos o estar√≠an en el formato o tama√±o incorrecto.  Entonces, hubo una constante ida y vuelta entre dise√±adores y desarrolladores;  los desarrolladores exportar√≠an √≠conos directamente desde el archivo de Sketch, y los √≠conos se agregar√≠an a la base de c√≥digo pero sin verificar si ya exist√≠an √≠conos similares (y si estaban disponibles para su reutilizaci√≥n).  Estoy seguro de que sabes de lo que estoy hablando. <br><br>  En Badoo tenemos un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sistema de dise√±o, llamado Cosmos</a> , y recientemente presentamos una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca de tokens de dise√±o</a> en m√∫ltiples plataformas (Mobile Web, Android e iOS) tanto para nuestra aplicaci√≥n principal como para sus etiquetas blancas.  Esencialmente, ahora podemos comunicar decisiones de dise√±o (como el borde de un bot√≥n, el color de fondo de una p√°gina de caracter√≠sticas en particular, el tama√±o de fuente del T√≠tulo 1 o la duraci√≥n de una animaci√≥n para una ventana emergente) utilizando valores de dise√±o elementales, todo procesado y entregado autom√°ticamente a todas las aplicaciones, y todas las plataformas que consumen estos tokens de dise√±o en sus aplicaciones. <br><br>  La forma en que ahora podemos transformar una idea de dise√±o, como por ejemplo un cambio de color, en c√≥digo real en producci√≥n, con solo unos pocos clics y casi en ning√∫n momento, realmente ha impresionado a los gerentes de producto y dise√±adores por igual. <br><br>  Entonces, su siguiente pregunta (y solicitud) fue: ¬øpuedes hacer algo similar para los activos?  Y nuestra respuesta fue: s√≠, ¬°nosotros (probablemente) podemos! <br><br>  Fue un gran salto de fe en ese momento, debo admitirlo.  Ten√≠amos algunas ideas sobre c√≥mo hacerlo, pero no est√°bamos del todo seguros de si era t√©cnicamente factible, con todas las restricciones bajo las cuales operamos.  Acordamos comenzar con un proyecto MVP, pero al final todo hab√≠a ido tan bien que se convirti√≥ en nuestro producto final, con todas las caracter√≠sticas necesarias. <br><br><h2>  Los requisitos </h2><br>  Los requisitos para el MVP eran muy claros: crear una tuber√≠a que pudiera tomar un archivo de boceto y exportar todos los √≠conos incluidos en el archivo, en diferentes formatos, para diferentes plataformas, con cada √≠cono adecuado para su uso en pruebas AB. <br><br>  Esto es complicado porque, en nuestros productos, un √≠cono puede tener muchos colores y / o formas diferentes para diferentes marcas / etiquetas blancas (aunque la base de c√≥digo de la aplicaci√≥n es la misma, as√≠ como el nombre del √≠cono). <br><br>  Mire algunos de los √≠conos utilizados en nuestras aplicaciones y notar√° que algunos son id√©nticos, algunos son muy similares entre s√≠, pero para algunos detalles, mientras que otros son bastante diferentes, tanto en sus formas como en sus colores: <br><br><img src="https://habrastorage.org/webt/kf/ms/bq/kfmsbqu2vyjyvtbweq5wg5v0gyo.png"><br>  <i>Una comparaci√≥n del √≠cono para las diferentes marcas</i> <br><br>  Ahora, los colores utilizados en los iconos no son solo colores simples, sino que coinciden con los colores exactos indicados en los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tokens de dise√±o</a> para esa marca y sus caracter√≠sticas espec√≠ficas: <br><br><img src="https://habrastorage.org/webt/n1/hv/f6/n1hvf6nlzo7ixqzlgji79jrn9bc.png"><br>  <i>Comparaci√≥n de los colores en diferentes marcas.</i>  <i>Los valores de color se especifican como tokens de dise√±o.</i> <br><br>  Por lo tanto, nuestro objetivo con esta nueva cartera de activos no era solo automatizar el proceso de generaci√≥n y entrega de los iconos, para todas las diferentes plataformas y marcas, sino m√°s bien poder colorear los iconos "din√°micamente" de acuerdo con la marca / blanco -etiqueta. <br><br><h2>  Sketch y sketchtool </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sketch</a> es la principal herramienta de dise√±o que utiliza nuestro equipo de dise√±o.  Aunque consideramos otras opciones ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Figma</a> , principalmente), sab√≠amos que Sketch era el formato de los archivos fuente que √≠bamos a utilizar para este proyecto (simplemente porque es la herramienta en la que nuestros dise√±adores son m√°s competentes, y es el formato de los archivos donde se usan los √≠conos / activos existentes, entre otras razones). <br><br>  El hecho es que, al comienzo del proyecto, ni siquiera est√°bamos seguros de qu√© formatos finales esperaban las plataformas.  En nuestra opini√≥n, el proceso iba a ser bastante b√°sico como este: exportar los √≠conos en formato SVG desde el archivo Sketch y luego consumir los archivos SVG en Mobile Web y Android, y para iOS encontrar una biblioteca que pueda convertir SVG a PDF.  Y ya est√°.  Ese era el plan cuando comenzamos, aunque no ten√≠amos idea de si funcionar√≠a o de las inc√≥gnitas desconocidas que podr√≠amos encontrar (por lo tanto, el MVP para ver si era factible y, de ser as√≠, cu√°nto esfuerzo podr√≠a implicar ) <br><br>  No s√© si alguna vez ha trabajado con "convertidores de PDF", pero en mi experiencia, generalmente son un dolor.  Ellos "casi" hacen el trabajo, pero nunca al 100% que realmente necesita.  Entonces, en el fondo de mi mente, sent√≠ que est√°bamos caminando por un camino peligroso. <br><br>  Sketch tiene una forma de exportar activos que es bastante perfecta, nunca he tenido un problema con ella (ya sea SVG, PDF u otros formatos).  As√≠ que quer√≠a ver si hab√≠a otras formas de interactuar con Sketch, usar su motor para exportar activos directamente a trav√©s de Sketch, posiblemente de manera program√°tica (tambi√©n me preguntaba si se podr√≠a construir un complemento personalizado, aunque eso hubiera significado mucho trabajo para m√≠, ¬°no solo porque no tengo experiencia en ese campo!). <br><br>  Sab√≠a que, internamente, Sketch no es m√°s que un archivo zip (si cambia el nombre de un archivo <i>.sketch</i> a <i>.zip</i> , haga doble clic para descomprimirlo y abra la carpeta resultante, ver√° una lista de archivos JSON y un mapa de bits utilizado como vista previa): <br><br><img src="https://habrastorage.org/webt/-b/nj/0d/-bnj0dj_0fsxjlucie9cmvlojjy.png"><br>  <i>Estructura interna de un archivo de boceto, una vez descomprimido</i> <br><br>  Entonces, comenc√© a explorar los diferentes archivos JSON, tratando de entender las conexiones y dependencias entre ellos. <br><br>  Me di cuenta de que de alguna manera, a pesar de que los archivos JSON est√°n profundamente anidados (¬°y bastante grandes!), Las relaciones entre las diferentes entidades dentro de sus objetos no son demasiado complicadas: tienes p√°ginas, mesas de trabajo y capas;  dentro de las capas tienes las rutas y puedes compartir estilos entre ellas;  cada una de estas entidades tiene una ID √∫nica que se usa para mantener una referencia entre los diferentes archivos;  y todos los objetos de "p√°gina" se guardan en archivos JSON, almacenados en una subcarpeta llamada <i>p√°ginas</i> , con la ID de la p√°gina utilizada como nombre del archivo. <br><br>  Un descubrimiento significativo que hice, durante esta exploraci√≥n, fue que <b>los nombres de las capas, p√°ginas y estilos son solo etiquetas, y se pueden cambiar en cualquier momento, sin comprometer el funcionamiento interno del archivo Sketch.</b>  Lo que importa es la identificaci√≥n √∫nica asignada a ellos, y esto nunca se expone al usuario final (aunque, puede leerse y referenciarse dentro de los archivos JSON).  Aqu√≠ hay un ejemplo de c√≥mo se ve la ID √∫nica de un estilo: <br><br><pre><code class="plaintext hljs">{ "_class": "sharedStyle", "do_objectID": "49BA4E98-8D63-435C-81D9-E2F6CDB63136", "name": "name-of/the-style", "value": {     "_class": "style",     "endMarkerType": 0,     "fills": [         {             "_class": "fill",             "isEnabled": true,             "color": {                 "_class": "color",                 "alpha": 1,                 "blue": 0.7176470588235294,                 "green": 0.4627450980392159,                 "red": 0             },             "fillType": 0,             "noiseIndex": 0,             "noiseIntensity": 0,             "patternFillType": 1,             "patternTileScale": 1         }     ],     "miterLimit": 10,     "startMarkerType": 0,     "windingRule": 1 } }</code> </pre> <br>  Esto me dio una idea: que tal vez podr√≠amos usar convenciones espec√≠ficas en los nombres de las mesas de trabajo y de las p√°ginas, para declarar alg√∫n tipo de metainformaci√≥n sobre las relaciones entre los diferentes activos, y usarlos mediante programaci√≥n en el momento de la construcci√≥n. <br><br><h2>  Sketchtool </h2><br>  En este punto, al final de las exploraciones iniciales, el plan hab√≠a cambiado de <i>"exportemos los √≠conos en SVG y luego los convertimos"</i> a <i>"construyamos un complemento que, dentro de Sketch, nos permite exportar directamente los √≠conos en su versi√≥n final formato "</i> .  Pero incluso entonces, el plan todav√≠a estaba muy borroso (y la viabilidad t√©cnica a√∫n era incierta). <br><br>  Mientras miraba los complementos existentes, especialmente en su c√≥digo fuente, para ver si pod√≠an interactuar con las API de exportaci√≥n de Sketch y c√≥mo podr√≠an interactuar con ellos, me encontr√© con una herramienta de la que nunca hab√≠a o√≠do hablar antes: Sketchtool. <br><br>  Sketchtool es una herramienta oficial de Sketch (oficial como en: desarrollada por Bohemian Coding), que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">seg√∫n la documentaci√≥n</a> : <br><blockquote>  ... es una utilidad de l√≠nea de comandos que se incluye con Sketch, que le permite realizar algunas operaciones con documentos de Sketch, como inspeccionarlos o exportar activos.  Tambi√©n le permite controlar Sketch desde la l√≠nea de comandos para realizar algunas acciones (como ejecutar complementos, por ejemplo). </blockquote><br>  ¬øEspera ... una <b>utilidad de l√≠nea de comandos</b> para realizar operaciones como la <b>exportaci√≥n de activos</b> ?  Justo lo que estaba buscando!  Adem√°s, al ser una herramienta oficial, no habr√≠a problemas de versiones, obsolescencia, mantenimiento, etc. <br><br>  Comenc√© a investigarlo de inmediato y le√≠ la documentaci√≥n, que se estableci√≥ en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una sola p√°gina</a> en el sitio web de Sketch (casi no he encontrado otros recursos o p√°ginas al respecto, por lo que es comprensible que nunca haya o√≠do hablar de √©l). it) <br><br>  Sketchtool se incluye directamente con Sketch, y puede encontrarlo dentro de Sketch en esta ruta: <code>Sketch.app/Contents/Resources/sketchtool/</code> <br><br>  Cuando lo inicie en su CLI con el comando: <br> <code>$ /Applications/Sketch.app/Contents/Resources/sketchtool/bin/sketchtool</code> <br> <br>  esta es la salida que ves en tu terminal (lo he simplificado un poco): <br><br><pre> <code class="plaintext hljs">Usage: sketchtool &lt;command&gt; [&lt;args&gt;] [--formats=&lt;string&gt;] [--use-id-for-name{=YES|NO}] [--export-page-as-fallback{=YES|NO}] [--serial{=YES|NO}] [--context=&lt;string&gt;] [--application=&lt;path&gt;] [--without-activating{=YES|NO}] [--item=&lt;string&gt;] [--items=&lt;string&gt;] [--safemode{=YES|NO} | --no-safemode | -S {&lt;YES|NO&gt;}] [--max-size=&lt;float&gt; | -m &lt;float&gt;] [--background=&lt;string&gt; | -g &lt;string&gt;] [--compression=&lt;float&gt; | -c &lt;float&gt;] [--new-instance{=YES|NO}] [--reveal{=YES|NO}] [--timeout=&lt;float&gt;] [--include-symbols{=YES|NO}] [--bounds=&lt;rectangle&gt;] [--outputJSON=&lt;path&gt;] [--filename=&lt;string&gt;] [--wait-for-exit{=YES|NO}] [--scales=&lt;path&gt;] [--overwriting{=YES|NO}] [--group-contents-only{=YES|NO}] [--trimmed{=YES|NO}] [--help] [--progressive{=YES|NO}] [--save-for-web{=YES|NO}] [--output=&lt;path&gt;] Commands: dump               Dump out the structure of a document as JSON. export artboards  Export one or more artboards export layers     Export one or more layers export pages      Export an area from one or more pages export preview    Export a preview image for a document export slices     Export one or more slices help              Show this help message. list artboards    List information on the document's artboards. list formats      List the supported export formats. list layers       List information on all of the document's layers. list pages        List information on the document's pages. list slices       List information on the document's slices. metadata          List the metadata for a document. run               Run a command from a plugin, inside Sketch. show              Show the location of the various sketch folders. See 'sketchtool help &lt;command&gt;' for more information on a specific command.</code> </pre> <br><br>  Como puede ver, la herramienta tiene cuatro funciones principales: <b>leer / volcar</b> los metadatos de los archivos JSON internos;  para <b>enumerar</b> las entidades dentro de un archivo;  para <b>exportar</b> estas entidades;  y para <b>ejecutar</b> un comando expuesto por un complemento.  Adem√°s, cada comando tiene muchas <b>opciones</b> disponibles.  En el caso del comando de exportaci√≥n, casi todas las opciones que encuentra en el <b>panel de exportaci√≥n</b> tambi√©n est√°n disponibles a trav√©s de la l√≠nea de comando de Sketchtool: <br><br><img src="https://habrastorage.org/webt/cl/nh/it/clnhitk3ewuz1sj6meowk4suons.png"><br>  <i>Panel "Exportar" en Sketch, con las opciones disponibles</i> <br><br>  Esto significa que Sketch se puede usar directamente como "motor" de exportaci√≥n a trav√©s de <i>sketchtool</i> , sin la necesidad de convertidores externos (por ejemplo, de SVG a PNG o PDF).  Gran cosa! <br><br>  Una prueba r√°pida usando <i>sketchtool</i> y un simple archivo de Sketch con algunos √≠conos dentro, confirm√≥ todas las suposiciones iniciales: solo usando esta herramienta simple, podemos evitar usar exportadores de terceros y crear nuestros propios exportadores personalizados: ¬°Sketch lo hace todo! <br><br><h2>  Los archivos de croquis </h2><br>  Una vez que supimos que Sketch era la herramienta que √≠bamos a usar, tanto para almacenar como para exportar los iconos, lleg√≥ el momento de recopilar los iconos utilizados en nuestras aplicaciones en un archivo de Sketch. <br><br>  Inicialmente, solo plane√°bamos trabajar con un conjunto limitado de √≠conos, aquellos para el proyecto MVP, pero r√°pidamente nos dimos cuenta de que hubiera sido mejor recopilarlos todos de una vez, para poder detectar duplicados, inconsistencias, omisiones de inmediato, etc. <br><br>  Nuestros dise√±adores hicieron un trabajo incre√≠ble y en solo un par de d√≠as una gran parte de los activos utilizados en sus archivos de Sketch se han recopilado y organizado en un solo archivo.  En este punto, el archivo de Sketch se ve√≠a as√≠: <br><br><img src="https://habrastorage.org/webt/h4/pc/ns/h4pcns4_q86k56t8njsfxarz7no.png"><br>  <i>Descripci√≥n general del archivo Sketch que contiene los iconos utilizados en nuestra aplicaci√≥n.</i> <br><br>  En el archivo, cada √≠cono tiene su propia mesa de trabajo, nombrada con el nombre deseado del √≠cono (que luego Sketch utilizar√° como nombre de archivo al exportar los activos). <br><br>  Todos los trazados se convierten en contornos, y los trazados combinados (generalmente como <i>uni√≥n</i> o <i>sustracci√≥n</i> ) se aplanan en una sola forma.  Esto garantiza que los activos generados mantengan la apariencia visual perfecta que tienen en el archivo fuente y una compatibilidad √≥ptima con las diversas plataformas. <br><br><img src="https://habrastorage.org/webt/ja/zt/im/jaztimwxbkymkadbp3gzjc5pwv8.png"><br><br>  <i>Ejemplo de c√≥mo se organizan los iconos (y sus capas) en el archivo de boceto de activos.</i>  <i>El fondo rosa claro aplicado a las mesas de trabajo crea un contraste visual con las √°reas blancas.</i> <br><br><h2>  Colorear din√°micamente los iconos con estilos compartidos (y tokens de dise√±o) </h2><br>  Una vez que reunimos los √≠conos, el siguiente paso fue aplicarles los colores correctos.  Lo que hicimos fue crear un conjunto de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estilos compartidos</a> predefinidos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en Sketch</a> , con nombres que coincid√≠an con los de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tokens de dise√±o</a> utilizados en nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sistema de dise√±o,</a> y luego usarlos para aplicar colores a los iconos. <br><br>  As√≠ es como se aplica un estilo a una capa: <br><br><img src="https://habrastorage.org/webt/xv/bd/27/xvbd27jn62ynxnuk77svb2ozsh4.png"><br>  <i>Capa en Sketch con un estilo predefinido (color de relleno).</i> <br><br>  Y as√≠ es como se declaran los estilos y luego se aplican a un elemento: <br><br><img src="https://habrastorage.org/webt/av/xq/ks/avxqksf8lmzji7mt_3tv0hi4j4s.png"><br>  <i>C√≥mo hemos decidido organizar los estilos en Sketch</i> <br><br>  La convenci√≥n de nombres es muy importante aqu√≠.  Los dise√±adores pueden organizar los estilos en cualquier subcarpeta, siempre que el nombre del estilo coincida con el nombre del token de dise√±o correspondiente para ese color.  Esto es, por lo que el script de compilaci√≥n puede hacer referencia program√°ticamente m√°s adelante. <br><br><h2>  P√°ginas y nombres de mesa de trabajo utilizados para pruebas AB </h2><br><br>  En este punto, era hora de comprender c√≥mo garantizar que los dise√±adores pudieran realizar pruebas AB en los iconos.  Una vez m√°s, al final decidimos confiar en las convenciones de nomenclatura (gran fan de KISS aqu√≠). <br><br>  En este caso, utilizamos los <b>nombres de</b> las <b>p√°ginas</b> para detectar cu√°ndo un conjunto de iconos era una prueba / experimento AB (usando " <b>XP_"</b> como prefijo) y los <b>nombres de</b> la <b>mesa de trabajo</b> para detectar a qu√© activo se refer√≠a la prueba AB y sus diferentes variantes ( encerrado entre corchetes). <br><br><img src="https://habrastorage.org/webt/xs/3c/ww/xs3cwws-nva55cjjxv9xcgrnvok.png"><br>  <i>C√≥mo se usa la convenci√≥n de nomenclatura en p√°ginas y mesas de trabajo para "declarar" una prueba AB.</i>  <i>Aviso: los √≠conos son solo ejemplos creados especialmente para fines de prueba, no son √≠conos reales utilizados en un producto</i> :) <br><br>  Los nombres utilizados para las pruebas y las opciones no son nombres gen√©ricos: deben coincidir con los <i>ID de</i> nombres <i>√∫nicos</i> asignados a los experimentos / opciones en nuestra herramienta interna de divisi√≥n de usuarios.  De esta manera, los activos se pueden asociar m√°s tarde correctamente con el grupo de usuarios de prueba AB correcto. <br><br><h2>  M√∫ltiples archivos para m√∫ltiples marcas. </h2><br>  La √∫ltima pieza del rompecabezas fue: ¬øc√≥mo admitimos diferentes formas del mismo √≠cono para diferentes marcas? <br><br><img src="https://habrastorage.org/webt/7n/df/uc/7ndfuclyp3csinhkyrp2cufmjq4.png"><br><br>  Este era <b>un requisito muy importante para los gerentes de producto</b> , y ten√≠amos varias opciones disponibles para usar.  Al principio, pensamos en usar diferentes p√°ginas en el mismo archivo de Sketch, con diferentes nombres de p√°gina para cada marca;  pero pronto nos dimos cuenta de que har√≠a mucho m√°s complejo y m√°s dif√≠cil para los dise√±adores mantener los iconos sincronizados entre las diferentes marcas.  As√≠ que concluimos que la soluci√≥n era tener m√∫ltiples archivos: un <b>archivo "com√∫n"</b> , donde almacenamos todos los √≠conos que eran id√©nticos para las diferentes marcas, y <b>archivos espec√≠ficos de la marca</b> para √≠conos que <b>anulaban</b> los √≠conos "base" en el com√∫n archivo. <br><br><img src="https://habrastorage.org/webt/vo/sq/sv/vosqsvsu_ozoqve04etypteipku.png"><br><br>  En este punto, los archivos de Sketch estaban listos.  Est√°bamos listos para comenzar a escribir c√≥digo. <br><br>  <i>Continuar√°</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/441040/">https://habr.com/ru/post/441040/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441028/index.html">C√≥mo los investigadores descubren bases de datos abiertas MongoDB y Elasticsearch</a></li>
<li><a href="../441030/index.html">Detecci√≥n de ataques web con un codificador autom√°tico Seq2Seq</a></li>
<li><a href="../441032/index.html">KeeBee Hacer su propio teclado USB desde cero</a></li>
<li><a href="../441034/index.html">6 puntos de crecimiento de conversi√≥n o c√≥mo aumentar la confianza usando un tel√©fono en el sitio</a></li>
<li><a href="../441036/index.html">C√≥mo dar y recibir retroalimentaci√≥n si eres un gorri√≥n-sociophobus</a></li>
<li><a href="../441042/index.html">Generando √≠conos multiplataforma de m√∫ltiples marcas con Sketch y un script Node.js - Parte # 2</a></li>
<li><a href="../441044/index.html">La historia de c√≥mo cambiamos el √≠cono de PVS-Studio</a></li>
<li><a href="../441046/index.html">La historia de c√≥mo cambiamos el √≠cono de PVS-Studio</a></li>
<li><a href="../441048/index.html">Oficina pro agresiva</a></li>
<li><a href="../441050/index.html">Hacer una c√°mara t√©rmica de bricolaje basada en una Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>