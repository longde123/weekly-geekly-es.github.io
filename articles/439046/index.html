<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóº üåô üå¥ C√≥mo combinar de forma segura los segmentos de red de tres grandes bancos: compartir trucos ü§∂üèΩ üëë üêµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace alg√∫n tiempo, bajo la marca VTB, tres grandes bancos se fusionaron: VTB, ex-VTB24 y ex-Bank of Moscow. Para los observadores externos, el banco V...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo combinar de forma segura los segmentos de red de tres grandes bancos: compartir trucos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/439046/">  Hace alg√∫n tiempo, bajo la marca VTB, tres grandes bancos se fusionaron: VTB, ex-VTB24 y ex-Bank of Moscow.  Para los observadores externos, el banco VTB combinado ahora funciona como un todo, pero desde el interior, todo parece mucho m√°s complicado.  En esta publicaci√≥n, hablaremos sobre los planes para crear una red unificada del banco VTB integrado, compartir trucos para organizar la interacci√≥n de los cortafuegos, conectar y combinar segmentos de red sin interrumpir los servicios. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/429/465/c50429465565f4cf1ec0ee1d62097102.png"><br><a name="habracut"></a><br><h2>  Dificultades en la interacci√≥n de infraestructuras dispares. </h2><br>  Las operaciones de VTB est√°n actualmente respaldadas por tres infraestructuras heredadas: el ex Banco de Mosc√∫, el ex VTB24 y el propio VTB.  Las infraestructuras de cada uno de ellos tienen su propio conjunto de per√≠metros de red, en cuyo borde hay equipos de protecci√≥n.  Una de las condiciones para integrar las infraestructuras a nivel de red es la existencia de una estructura de direccionamiento IP consistente. <br><br>  Inmediatamente despu√©s de la fusi√≥n, comenzamos a alinear los espacios de direcciones, y ahora est√° a punto de completarse.  Pero el proceso lleva tiempo y es r√°pido, y los plazos para organizar el acceso cruzado entre infraestructuras eran muy ajustados.  Por lo tanto, en la primera etapa, conectamos las infraestructuras de los diferentes bancos entre s√≠ en la forma en que est√°n, a trav√©s de los cortafuegos para varias zonas de seguridad principales.  De acuerdo con este esquema, para organizar el acceso de un per√≠metro de red a otro, es necesario enrutar el tr√°fico a trav√©s de muchos firewalls y otros medios de protecci√≥n, difundir en las direcciones conjuntas de recursos y usuarios utilizando las tecnolog√≠as NAT y PAT.  Adem√°s, todos los firewalls en los cruces est√°n reservados tanto local como geogr√°ficamente, y esto siempre debe tenerse en cuenta al organizar interacciones y construir cadenas de servicios. <br><br>  Tal esquema es bastante funcional, pero ciertamente no puede llamarlo √≥ptimo.  Hay problemas t√©cnicos y organizativos.  Es necesario coordinar y documentar las interacciones de muchos sistemas cuyos componentes est√°n dispersos en diferentes infraestructuras y zonas de seguridad.  Al mismo tiempo, en el proceso de transformaci√≥n de las infraestructuras, es necesario actualizar r√°pidamente esta documentaci√≥n para cada sistema.  La realizaci√≥n de este proceso carga en gran medida nuestro recurso m√°s valioso: especialistas altamente calificados. <br><br>  Los problemas t√©cnicos se expresan en la multiplicaci√≥n del tr√°fico en los enlaces, la gran carga de herramientas de seguridad, la complejidad de organizar las interacciones de red, la incapacidad de crear algunas interacciones sin la traducci√≥n de direcciones. <br><br>  El problema de la multiplicaci√≥n del tr√°fico surge principalmente debido a las muchas zonas de seguridad que interact√∫an entre s√≠ a trav√©s de firewalls en diferentes sitios.  Independientemente de la ubicaci√≥n geogr√°fica de los propios servidores, si el tr√°fico va m√°s all√° del per√≠metro de la zona de seguridad, pasar√° por una cadena de caracter√≠sticas de seguridad que pueden estar en otras ubicaciones.  Por ejemplo, tenemos dos servidores en un centro de datos, pero uno en el per√≠metro de VTB y el otro en el per√≠metro de la red ex-VTB24.  El tr√°fico entre ellos no va directamente, sino que pasa a trav√©s de 3-4 firewalls que pueden estar activos en otros centros de datos, y el tr√°fico se enviar√° al firewall y regresar√° varias veces a trav√©s de la red troncal. <br><br>  Para garantizar una alta confiabilidad, necesitamos cada firewall en 3-4 copias: dos en un sitio en forma de cl√∫ster HA y uno o dos firewalls en otro sitio, a los cuales se cambiar√° el tr√°fico si se interrumpe el cl√∫ster de firewall principal o el sitio en su conjunto. <br><br>  Resumimos  Tres redes independientes son un <b>mont√≥n de problemas</b> : complejidad excesiva, la necesidad de equipos costosos adicionales, cuellos de botella, dificultades de redundancia y, como resultado, altos costos para operar la infraestructura. <br><br><h2>  Enfoque de integraci√≥n general </h2><br>  Dado que decidimos asumir la transformaci√≥n de la arquitectura de red, comenzaremos con las cosas b√°sicas.  Vayamos de arriba a abajo, comenzaremos analizando los requisitos de la empresa, los solicitantes, los ingenieros de sistemas y el personal de seguridad. <br><br><ul><li>  Seg√∫n sus necesidades, dise√±amos la estructura objetivo de las zonas de seguridad y los principios de interconexi√≥n entre estas zonas. <br></li><li>  Imponemos esta estructura de zonas en la geograf√≠a de nuestros principales consumidores: centros de datos y grandes oficinas. <br></li><li>  A continuaci√≥n, formamos la red de transporte MPLS. <br></li><li>  Debajo, ya traemos la red primaria que proporciona servicios a la capa f√≠sica. <br></li><li>  Seleccionamos ubicaciones para la colocaci√≥n de m√≥dulos de borde y m√≥dulos de firewall. <br></li><li>  Una vez que la imagen objetivo se vuelve clara, trabajamos y aprobamos la metodolog√≠a para la migraci√≥n de la infraestructura existente a la infraestructura objetivo para que el proceso sea transparente para los sistemas de trabajo. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/429/465/c50429465565f4cf1ec0ee1d62097102.png"><br>  <i>Concepto de red de destino</i> <br><br>  Tendremos una red troncal primaria: esta es una infraestructura de transporte de telecomunicaciones basada en l√≠neas de comunicaci√≥n de fibra √≥ptica (FOCL), equipos de formaci√≥n de canales pasivos y activos.  Tambi√©n puede usar el subsistema de densificaci√≥n de canal √≥ptico xWDM y, posiblemente, una red SDH. <br><br>  Con base en la red primaria, estamos construyendo la llamada <i><b>red central</b></i> .  Tendr√° un √∫nico plan de direcciones y un √∫nico conjunto de protocolos de enrutamiento.  La red central incluye: <br><br><ul><li>  MPLS - red multiservicio; <br></li><li>  DCI - enlaces entre centros de datos; <br></li><li>  M√≥dulos EDGE: varios m√≥dulos de conexi√≥n: firewall, organizaciones asociadas, canales de Internet, centros de datos, LAN, redes regionales. <br></li></ul><br>  Creamos <i>una</i> red multiservicio de <i>acuerdo con un principio jer√°rquico con la asignaci√≥n de nodos de tr√°nsito (P) y final (PE)</i> .  Durante un an√°lisis preliminar de los equipos disponibles en el mercado hoy en d√≠a, qued√≥ claro que ser√≠a econ√≥micamente m√°s factible transferir el nivel de nodos P a equipos separados que combinar la funcionalidad P / PE en un dispositivo. <br><br>  Una red multiservicio tendr√° alta disponibilidad, tolerancia a fallas, tiempo de convergencia m√≠nimo, escalabilidad, alto rendimiento y funcionalidad, en particular IPv6 y soporte de multidifusi√≥n. <br><br>  Durante la construcci√≥n de la red troncal, tenemos la intenci√≥n de <i>abandonar las tecnolog√≠as patentadas</i> (siempre que sea posible sin comprometer la calidad), a medida que nos esforzamos por hacer que la soluci√≥n sea flexible y no est√© vinculada a un proveedor espec√≠fico.  Pero al mismo tiempo, no queremos crear una "vinagreta" a partir del equipo de varios proveedores.  Nuestro principio fundamental de dise√±o es proporcionar el n√∫mero m√°ximo de servicios cuando se utiliza un equipo que es m√≠nimamente suficiente para este n√∫mero de proveedores.  Esto permitir√°, entre otras cosas, organizar el mantenimiento de la infraestructura de la red, utilizando un n√∫mero limitado de personal.  Tambi√©n es importante que el nuevo equipo sea compatible con el equipo existente para garantizar un proceso de migraci√≥n sin interrupciones. <br><br>  Se planea redise√±ar completamente la estructura de las zonas de seguridad de las redes VTB, ex-VTB24 y ex-Banco de Mosc√∫ en el marco del proyecto con el objetivo de combinar segmentos funcionalmente duplicados.  Se planifica una estructura unificada de zonas de seguridad con reglas de enrutamiento comunes y un concepto unificado de acceso entre redes.  Planeamos llevar a cabo firewalls entre zonas de seguridad utilizando firewalls de hardware separados, espaciados en dos ubicaciones principales.  Tambi√©n planeamos implementar todos los m√≥dulos perimetrales de forma independiente en dos sitios diferentes con redundancia autom√°tica entre ellos en base a protocolos de enrutamiento din√°mico estandarizados. <br><br>  Organizamos la gesti√≥n de los equipos de la red central a trav√©s de una red f√≠sica separada (fuera de banda).  El acceso administrativo a todos los equipos de red se proporcionar√° a trav√©s de un √∫nico servicio de autenticaci√≥n, autorizaci√≥n y contabilidad (AAA). <br><br>  Para encontrar r√°pidamente problemas en la red, es muy importante poder copiar el tr√°fico desde cualquier punto de la red para su an√°lisis y entregarlo al analizador a trav√©s de un canal de comunicaci√≥n independiente.  Para hacer esto, crearemos una red aislada para el tr√°fico SPAN, con la ayuda de la cual recopilaremos, filtraremos y transmitiremos los flujos de tr√°fico a los servidores de an√°lisis. <br><br>  Para estandarizar los servicios proporcionados por la red y la posibilidad de asignar costos, presentaremos un √∫nico cat√°logo con indicadores SLA.  Pasamos al modelo de servicio, en el que tenemos en cuenta la interconexi√≥n de la infraestructura de red con las tareas aplicadas, la interconexi√≥n de elementos de aplicaciones de control y su impacto en los servicios.  Y este modelo de servicio es compatible con un sistema de monitoreo de red para que podamos asignar correctamente los costos de TI. <br><br><h2>  De la teor√≠a a la pr√°ctica. </h2><br>  Ahora bajaremos un nivel y le informaremos sobre las soluciones m√°s interesantes en nuestra nueva infraestructura que pueden serle √∫tiles. <br><br><h3>  Bosque de recursos: detalles </h3><br>  Ya hemos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conocido a los</a> residentes de Khabrovsk con el bosque de recursos VTB.  Ahora intente dar una descripci√≥n t√©cnica m√°s detallada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a4/b23/d21/3a4b23d2100cddffa97e76603577a207.png"><br><br>  Supongamos que tenemos dos (por simplicidad) infraestructuras de red de diferentes organizaciones que deben combinarse.  Dentro de cada infraestructura, como regla, entre el conjunto de segmentos de red funcionales (zonas de seguridad), se puede distinguir el segmento de red productivo principal, donde se encuentran los principales sistemas industriales.  Conectamos estas zonas productivas a una determinada estructura de segmentos de bloqueo, que llamamos el <i>"bosque de recursos"</i> .  Estos segmentos de puerta de enlace publican los recursos compartidos disponibles de las dos infraestructuras. <br><br>  El concepto de un bosque de recursos, desde el punto de vista de la red, es crear una zona de seguridad de puerta de enlace que consista en dos VPN IP (para el caso de dos bancos).  Estas VPN IP se enrutan libremente entre ellas y se conectan a trav√©s de firewalls a segmentos productivos.  El direccionamiento IP para estos segmentos se selecciona de un rango disjunto de direcciones IP.  Por lo tanto, el enrutamiento hacia el bosque de recursos es posible desde las redes de ambas organizaciones. <br><br>  Pero con el enrutamiento del bosque de recursos a los segmentos industriales, la situaci√≥n es algo peor, ya que el direccionamiento en ellos a menudo se cruza y es imposible formar una sola tabla.  Para resolver este problema, solo necesitamos dos segmentos en el bosque de recursos.  En cada uno de los segmentos del bosque de recursos, se escribe una ruta predeterminada hacia la red industrial de "su" organizaci√≥n.  Es decir, los usuarios pueden acceder sin traducir las direcciones a su segmento "propio" del bosque de recursos y a otro segmento a trav√©s de PAT. <br><br>  Por lo tanto, dos segmentos del bosque de recursos representan una zona de seguridad de puerta de enlace √∫nica, si dibuja el borde a lo largo de los firewalls.  Cada uno de ellos tiene su propia ruta: la puerta de enlace predeterminada mira hacia "su" banco.  Si colocamos un recurso en alg√∫n segmento del bosque de recursos, los usuarios del banco correspondiente pueden interactuar con √©l sin NAT. <br><br>  La interacci√≥n sin NAT es muy importante para muchos sistemas y, en primer lugar, para las interacciones de dominio de Microsoft; despu√©s de todo, en el bosque de recursos tenemos servidores de Active Directory para el nuevo dominio com√∫n, con los que ambas organizaciones establecen los fideicomisos.  Adem√°s, sin interacci√≥n NAT, se requieren sistemas como Skype for Business, ABS "MBANK" y muchas otras aplicaciones diferentes, donde el servidor vuelve a la direcci√≥n del cliente.  Y si el cliente est√° detr√°s de PAT, la conexi√≥n inversa ya no se establecer√°. <br><br>  Los servidores que instalamos en los segmentos del bosque de recursos se dividen en dos categor√≠as: infraestructura (por ejemplo, servidores MS AD) y acceso a algunos sistemas de informaci√≥n.  El √∫ltimo tipo de servidor que llamamos Data Marts.  Los escaparates suelen ser servidores web, cuyo backend ya est√° detr√°s del firewall en la red de producci√≥n de la organizaci√≥n que cre√≥ este escaparate en el bosque de recursos. <br><br>  ¬øY c√≥mo se <i>autentican los usuarios</i> al acceder a los recursos publicados?  Si simplemente proporcionamos acceso a algunas aplicaciones para uno o dos usuarios en otro dominio, entonces podemos crear cuentas separadas para la autenticaci√≥n en nuestro dominio para ellos.  Pero cuando hablamos de la fusi√≥n masiva de infraestructuras, por ejemplo, 50 mil usuarios, no es realista comenzar y mantener cuentas cruzadas separadas para ellos.  Crear fideicomisos directos entre bosques de diferentes organizaciones tampoco siempre es posible, tanto por razones de seguridad como por la necesidad de hacer que los usuarios de PAT se encuentren en condiciones de intersecci√≥n de espacios de direcciones.  Por lo tanto, para resolver el problema de la autenticaci√≥n unificada de usuarios, se crea un nuevo bosque MS AD que consta de un dominio en el per√≠metro del bosque de recursos.  En este nuevo dominio, los usuarios se autentican al acceder a los servicios.  Para hacer esto posible, se establecen fideicomisos bilaterales a nivel forestal entre el bosque nuevo y los bosques de dominio de cada organizaci√≥n.  Por lo tanto, el usuario de cualquiera de las organizaciones puede autenticarse en cualquier recurso publicado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d9/79b/c38/5d979bc3857f12b2c7d2169fdd579326.png"><br><br><h3>  Obtener integraci√≥n de red </h3><br>  Despu√©s de establecer la interacci√≥n de los sistemas a trav√©s de la infraestructura del bosque de recursos y, por lo tanto, eliminar los s√≠ntomas agudos, lleg√≥ el momento de retomar la integraci√≥n directa de las redes. <br><br>  Para hacer esto, en la primera etapa, conectamos los segmentos de productos de tres bancos a un √∫nico firewall potente (l√≥gicamente unificado, pero f√≠sicamente muchas veces reservado en diferentes sitios).  El cortafuegos proporciona interacci√≥n directa entre los sistemas de diferentes bancos. <br><br>  Con ex-VTB24, antes de organizar cualquier interacci√≥n directa entre los sistemas, ya logramos alinear los espacios de direcciones.  Habiendo formado las tablas de enrutamiento en el firewall y abriendo los accesos apropiados, pudimos asegurar la interacci√≥n entre sistemas en dos infraestructuras diferentes. <br><br>  Con el ex Banco de Mosc√∫, los espacios de direcciones en el momento de la organizaci√≥n de las interacciones aplicadas no estaban alineados, y tuvimos que usar NAT mutuo para organizar la interacci√≥n de los sistemas.  El uso de NAT cre√≥ una serie de problemas de resoluci√≥n de DNS que se resolvieron mediante el mantenimiento de zonas DNS duplicadas.  Adem√°s, debido a NAT, hubo dificultades con la operaci√≥n de varios sistemas de aplicaci√≥n.  Ahora casi hemos eliminado las intersecciones de los espacios de direcciones, pero nos enfrentamos al hecho de que muchos sistemas VTB y ex-Banco de Mosc√∫ est√°n estrechamente unidos para interactuar en las direcciones traducidas.  Ahora necesitamos migrar estas interacciones a direcciones IP reales mientras mantenemos la continuidad del negocio. <br><br><h3>  Abolici√≥n de NAT </h3><br>  Aqu√≠ nuestro objetivo es garantizar el funcionamiento de los sistemas en un solo espacio de direcciones para una mayor integraci√≥n de los servicios de infraestructura (MS AD, DNS) y la aplicaci√≥n (Skype for Business, MBANK).  Desafortunadamente, dado que algunos de los sistemas de aplicaciones ya est√°n vinculados entre s√≠ en las direcciones traducidas, se requiere trabajo individual con cada sistema de aplicaciones para eliminar NAT para interacciones espec√≠ficas. <br><br>  A veces puedes <i>optar por tal truco</i> : configura el mismo servidor al mismo tiempo, tanto en la direcci√≥n traducida como en la real.  Por lo tanto, los administradores de aplicaciones pueden probar el trabajo en una direcci√≥n real antes de la migraci√≥n, intentar cambiar a la interacci√≥n no NAT por su cuenta y retroceder si es necesario.  Al mismo tiempo, monitoreamos el firewall usando la funci√≥n de captura de paquetes para ver si alguien se est√° comunicando con el servidor a trav√©s de la direcci√≥n traducida.  Tan pronto como se detiene la comunicaci√≥n, de acuerdo con el propietario del recurso, dejamos de transmitir: el servidor solo tiene una direcci√≥n real. <br><br>  Despu√©s de analizar NAT, desafortunadamente, por alg√∫n tiempo ser√° necesario mantener el firewall entre segmentos funcionalmente id√©nticos, porque no todas las zonas cumplen con los mismos est√°ndares de seguridad.  Despu√©s de estandarizar los segmentos, el firewall entre los segmentos se reemplaza por el enrutamiento y las zonas de seguridad funcionalmente id√©nticas se fusionan. <br><br><h3>  Cortafuegos </h3><br>  Pasemos al problema del cortafuegos entre redes.  En principio, es relevante para cualquier organizaci√≥n grande en la que sea necesario proporcionar tolerancia a fallas tanto local como global de los equipos de protecci√≥n. <br><br><img src="https://habrastorage.org/webt/ui/l2/mq/uil2mq95zf7o-4uipsjevhk5-j8.png"><br><br>  Tratemos de formular el problema de la reserva del firewall en general.  Tenemos dos sitios: el sitio 1 y el sitio 2. Hay varios (por ejemplo, tres) VPN MPLS IP que se comunican entre s√≠ a trav√©s de un firewall con estado.  Este firewall debe reservarse localmente y geogr√°ficamente. <br><br>  No consideraremos el problema de la copia de seguridad local de los firewalls; casi cualquier fabricante proporciona la capacidad de ensamblar firewalls en un cl√∫ster HA local.  En cuanto a la reserva geogr√°fica de los firewalls, pr√°cticamente ning√∫n proveedor tiene esta tarea lista para usar. <br><br>  Por supuesto, puede "extender" un cl√∫ster de firewall en varios sitios a lo largo de L2, pero luego este cl√∫ster representar√° un √∫nico punto de falla y la confiabilidad de nuestra soluci√≥n no ser√° muy alta.  Debido a que los cl√∫steres a veces se congelan por completo debido a errores de software, o caen en un estado cerebral dividido debido a una ruptura de enlace L2 entre sitios.  Debido a esto, de inmediato nos negamos a extender los cl√∫steres de firewall sobre L2. <br><br>  Necesit√°bamos idear un esquema en el que si un m√≥dulo de firewall fallaba en un sitio, se producir√≠a una transici√≥n autom√°tica a otro sitio.  As√≠ es como lo hicimos. <br><br>  Se decidi√≥ apegarse al modelo de reserva geogr√°fica activa / en espera cuando el cl√∫ster activo se encuentra en el mismo sitio.  De lo contrario, inmediatamente encontramos problemas con el enrutamiento asim√©trico, que es dif√≠cil de resolver con una gran cantidad de VPN L3. <br><br>  El cl√∫ster de firewall activo debe indicar de alguna manera su correcto funcionamiento.  Como m√©todo de se√±alizaci√≥n, elegimos el anuncio OSPF desde el cortafuegos a la red de la ruta de prueba (bandera) con la m√°scara / 32.  El equipo de red en el sitio 1 monitorea la presencia de esta ruta desde el firewall y, si est√° disponible, activa el enrutamiento est√°tico (por ejemplo, 0.0.0.0 / 0), hacia el cl√∫ster de firewall dado.  Esta ruta predeterminada est√°tica se coloca (a trav√©s de la redistribuci√≥n) en la tabla de protocolo BGP MP y se distribuye a trav√©s de la red troncal.     ,     OSPF  ,    ,                IP VPN. <br><br>        ,           ,          ,        . <br><br>      1 - ,    ,    1      ,     2  ‚Äî       .    ,    ,     VPN'    . ,      ,     ,      . <br><br>    ,          active/standby.      active-.             ,     .   ,          (, IP-    ).          .       .         . <br><br>        L3 ,         .    . <br><br><h3>   </h3><br>          . ,     ,     ‚Äî  , ,   .            L3-,         . <br><br>             ,         IP-.           MPLS VPN.     MPLS VPN ¬´IN¬ª    VPN ¬´OUT¬ª.   VPN     HUB-and-spoke VPN.   Spoke   HUB'       VPN,      . <br><br>  ¬´IN¬ª <b> </b> -     Spoke VPN'        VPN.  ¬´OUT¬ª <b> </b>      Spoke VPN'    . <br><br>       MPLS VPN ¬´IN¬ª.     VPN    .          VPN  HUB-VPN ¬´IN¬ª    .          .           ,       Policy Based  Routing.      VPN ¬´OUT¬ª,           VPN ¬´OUT¬ª   Spoke-VPN. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f8/3f3/b13/4f83f3b1381bcc6e34a05b94736210f2.png"><br><br>        VPN,     .           MPLS import / export    HUB VPN. <br><br>      VPN     ,          ‚Äî      ,  VLAN,    .. <br><br><h2>  Conclusi√≥n </h2><br>           ,     ,          .     ,         ,       ,      .          . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439046/">https://habr.com/ru/post/439046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439032/index.html">Amazon y Google planean ingresar al mercado energ√©tico</a></li>
<li><a href="../439034/index.html">Seminario web del Grupo IB: ‚ÄúEquipo rojo o Pentest‚Äù 12/02/2019</a></li>
<li><a href="../439036/index.html">Lo principal es no entrar al centro comercial bajo la verificaci√≥n de horas</a></li>
<li><a href="../439038/index.html">Hacer una red neuronal: c√≥mo no romper el cerebro</a></li>
<li><a href="../439042/index.html">Puma est√° buscando beta testers para zapatillas de tracci√≥n Fi</a></li>
<li><a href="../439050/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. Especialista certificado en redes de Cisco (CCNA). D√≠a 2. Modelos OSI y TCP-IP</a></li>
<li><a href="../439056/index.html">Integraci√≥n de la marca de cemento</a></li>
<li><a href="../439060/index.html">7 tipos de clientes</a></li>
<li><a href="../439062/index.html">Anisoprint Composer: impresi√≥n 3D de alta resistencia</a></li>
<li><a href="../439064/index.html">Un error de cuadr√≠cula t√≠pico (Bootstrap Grid), o por qu√© el dise√±ador y el dise√±ador de dise√±o no se entienden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>