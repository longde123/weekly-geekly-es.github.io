<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•§ üö¥ üë®üèª‚Äçüíº Kommentare zum Telegrammkanal üç• üë®üèø‚Äç‚úàÔ∏è ü§ß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Bekanntschaft mit Telegramm-Bots erwies sich als verwirrend - bei der Arbeit war es notwendig, einem Team von Kollegen einen Schritt voraus zu sei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kommentare zum Telegrammkanal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428696/">  Die Bekanntschaft mit Telegramm-Bots erwies sich als verwirrend - bei der Arbeit war es notwendig, einem Team von Kollegen einen Schritt voraus zu sein, und da der Bot die interne API gut kannte, wurde er in wenigen Tagen geschrieben (anschlie√üend √ºberarbeitet und mit dem <i>Ru-Telegramm-√úberpr√ºfungsabzeichen versehen</i> ). <br><br>  Als Ergebnis wurden zwei Bots geschrieben (der Haupt- und der Verteilungs-Bots), auf denen sich das Management beruhigte, und ich startete Samizdat. <br><br>  Als ich noch einmal mit dem Prototyp spielte, wollte ich mir einfallen lassen, was sonst noch interessant ist und schnell in den Telegrammstapel geschrieben werden kann.  Die Wahl fiel auf die Kommentare. <br><a name="habracut"></a><br><blockquote>  <i>Bot @CommentsUserBot f√ºr Kommentare im Telegrammkanal</i> </blockquote><br>  Das Telegramm enth√§lt Kan√§le, die jedoch nicht kommentiert werden k√∂nnen, und es gibt Chats, in denen Sie keine Nachrichten schreiben k√∂nnen. Sie erhalten entweder alle Spam-Nachrichten oder nichts, wenn Sie <i>stumm schalten</i> . <br><blockquote>  <i>Wenn Sie jedoch eine PIN mit einer Benachrichtigung im Chat erstellen, k√∂nnen Sie die Ver√∂ffentlichung von aka in #channel emulieren.</i> </blockquote><img src="https://habrastorage.org/getpro/habr/post_images/9bb/465/515/9bb4655152f573aa3c1b5020d6f7fb8b.jpg" alt="Bild"><br><br>  Nach √úberlegung las ich die Dokumentation zu <i>telegra.ph</i> .  Ich musste bereits einen Nachrichtenparser f√ºr die Unternehmensseite f√ºr IV schreiben und hatte eine Vorstellung davon, welche Widgets auf der Plattform vorhanden sind ( <i>einige wurden jedoch nicht gestartet</i> ).  Au√üerdem habe ich in der Community der Bot-Entwickler einige nicht √∂ffentliche APIs erhalten, die sich sp√§ter als n√ºtzlich erwiesen haben. <br><br>  Alles sah klar aus, und √ºber das Wochenende erstellte ich einen Prototyp des Kommentar-Bots f√ºr den Telegrammkanal - eine Schaltfl√§che, die am Beitrag befestigt war, mit einem √úbergang zum Bot zum Schreiben von Text und dann die Generierung der Kommentarseite im Telegraphen.  Im Kanal selbst sollte die Schaltfl√§che die Anzahl der Kommentare anzeigen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb3/3b7/fc4/eb33b7fc45c35ba6dae070eaec1815bf.jpg" alt="Bild"><br><blockquote>  <i>Technisch gesehen funktioniert der Server nur, wenn ein Kommentar ver√∂ffentlicht wird.</i>  <i>Alles andere - Text und Grafiken - wird vom Telegraphen selbst gespeichert und zwischengespeichert.</i> </blockquote><br>  Nachdem ich die Entwickler zum Testen gestopft hatte, sammelte ich ein Feedback, skizzierte einen Plan und begann, √Ñnderungen leise einzureichen.  Daher wurde zun√§chst der automatische Aktualisierungsmodus des Kanals durch die Einstellungen ersetzt (manuell oder automatisch, Ersetzen des urspr√ºnglichen Beitrags oder Ver√∂ffentlichen eines Kommentarbeitrags).  Die Kommentare selbst wurden mit Widgets, Grafiken und Videos aufgef√ºllt ( <i>danke an Oleg O. f√ºr das Testen von Schwachstellen. √úbrigens hat er auch einen guten Kommentar-Bot @CommentsBot</i> ). <br><blockquote>  <i>Zu dieser Zeit habe ich telegram-x installiert, und eines der wichtigsten Updates war, dass Sie nach der Registrierung im Bot nicht jedes Mal auf Start dr√ºcken m√ºssen, wenn Sie √ºber den Deep Link eingeben.</i> </blockquote>  Kommentare, da es bereits einen flachen Chat gibt, wurde beschlossen, baumartig zu machen.  Ich habe vorher keinen solchen Speicher geschrieben, aber nach ein paar gegoogelten Artikeln konnte die Datenbank sie verdauen.  Die derzeitige Begrenzung der Verzweigungstiefe betr√§gt 10 Stufen.  Die Anzahl der Kommentare auf Seite 20 mit der Voranzeige der Antworten in den Zweigen, die Anzahl der Kommentare und die Paginierung. <br><br>  Ja, der Telegraph erlaubt es nicht, sich mit dem Design der Seite umzudrehen, aber genau das war erforderlich - ein Bot im <i>Telegramm-√ñkosystem</i> - es gibt keine zus√§tzlichen Berechtigungen und keinen Zugriff auf Websites.  Schriftarten fliegen nicht ab und die Kommentarseiten selbst funktionieren in der <i>Sofortansicht</i> .  Der Benutzer selbst stopft dann einen Kommentar im √ºblichen Format in ein Telegramm - mit Emoticons, Aufklebern, Links und mehr. <br><br>  Die Bearbeitung wird durch das Hinzuf√ºgen des aktuellen Kommentars ersetzt.  Im Allgemeinen reicht dies immer noch aus, da Sie Ihre eigenen Kommentare l√∂schen k√∂nnen ( <i>direkt von der</i> Kommentarseite). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a6/0d4/b98/5a60d4b98a9c85e6bd09199d68c45cbe.jpg" alt="Bild"><br><br>  Als der Bot dann gro√üe Kan√§le ( <i>&gt; 100.000 Abonnenten</i> ) nutzen wollte, stellte sich die Frage nach der Verwaltung.  Das Entfernen von unerw√ºnschten Kommentaren und Benutzerverboten wurde hinzugef√ºgt.  Aufgrund der pers√∂nlichen Feindseligkeit gegen√ºber Spam ist die Benachrichtigung √ºber Antworten f√ºr den Benutzer standardm√§√üig deaktiviert. Mit den Einstellungen k√∂nnen Sie jedoch alle Kommentare und Kommentare auf dem Kanal / Beitrag sowie die Auswahl der Kommentarebene abonnieren.  All dies kommt von einem separaten Bot-Spammer. Wenn Sie ihn also durch eine Ahnung der Telegrammschnittstelle blockieren, k√∂nnen Sie weiterhin Kommentare in andere Kan√§le schreiben. <br><br>  Das in der Gimp entworfene Symbol wird f√ºr alle Projekteinheiten gezeichnet - Bot, Benachrichtigungsbot, Projektnachrichten und Support-Chat. <br><br>  Informationen zu Sprachschnittstellen: Telegraphenseiten in <i>en</i> und Bots in <i>en / ru</i> (automatische Erkennung funktioniert). <br><blockquote>  <i>Kommentare gingen in S√ºdamerika sehr weit.</i>  <i>Jetzt √ºbersetzen die barmherzigen Samariter Dateien auf dem Github, um sie besser lokalisieren zu k√∂nnen.</i> </blockquote>  Im Fr√ºhjahr (Sommer?), Als das ILV anfing, die Zug√§nge zu blockieren, wurde es f√ºr mich etwas unpraktisch, mich zu entwickeln (im Zug, auf dem Weg zur / c-Arbeit - Double SSH zum Server f√§llt regelm√§√üig ab), sodass das Entwicklungstempo (bereits niedrig) verringert wurde.  Jetzt sammle ich Feedback, erstelle einen Verbesserungsplan und schreibe von Zeit zu Zeit einen anderen Bot, dessen Entwicklungen ich im aktuellen Projekt ben√∂tigen werde. <br><br>  Der Bot @CommentsUserBot f√ºr Kommentare im Telegrammkanal. <br><br>  Verbinden, schreiben, diskutieren) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428696/">https://habr.com/ru/post/de428696/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428680/index.html">Erstellen und Integrieren eines VK-Bots in eine Gruppe √ºber VkBotLongPoll [Python]</a></li>
<li><a href="../de428682/index.html">Selbstzerst√∂render Beta-Fallout 76</a></li>
<li><a href="../de428688/index.html">Einrichten der Arbeitsumgebung in Docker f√ºr die yii-Framework-Anwendung</a></li>
<li><a href="../de428690/index.html">Wie Sie Ihrer Freundin das Programmieren beibringen, wenn Sie kein Lehrer sind, aber sie an Sie glaubt</a></li>
<li><a href="../de428694/index.html">Die Geschichte eines einzelnen Spiels oder einer 4x-Strategie, die vor 20 Jahren begann und noch lebt</a></li>
<li><a href="../de428698/index.html">Der schwer fassbare Weltraumpirat: Verstecke dich im K√ºhlschrank vor den Bullen, besiege den Droidenkrieg und spucke Sauron ins Auge</a></li>
<li><a href="../de428700/index.html">Wie maschinelles Lernen bei YouDo in die Produktion einflie√üt. Vortrag in Yandex</a></li>
<li><a href="../de428702/index.html">Echos der Magie auf der Hut vor den exakten Wissenschaften</a></li>
<li><a href="../de428704/index.html">Prolog Workouts</a></li>
<li><a href="../de428706/index.html">Krypta-Fehler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>