<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>➕ 👩🏿‍🤝‍👩🏻 😗 控制面板上的GAZ-66玩具。 第一部分 🥡 🧑🏼‍🤝‍🧑🏻 🌇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="最近几年，我想在控制面板上放一个玩具，并总是带一个视频。 但是，不要购买现成的东西，而是自己动手做。 最后，我订购了一个这样的玩具，它具有简单的控制系统，但具有很大的现代化潜力。 从开始到几乎完成花费了大约9个月的时间来完成所有工作。 在这段时间的大部分时间里，来自中国的零件都在等待。 
 我大部分...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>控制面板上的GAZ-66玩具。 第一部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462283/"><img alt="主要的" width="700" src="https://habrastorage.org/webt/rz/l8/s0/rzl8s0pnehcut_fbc7adfyu9kvy.jpeg"><br><p> 最近几年，我想在控制面板上放一个玩具，并总是带一个视频。 但是，不要购买现成的东西，而是自己动手做。 最后，我订购了一个这样的玩具，它具有简单的控制系统，但具有很大的现代化潜力。 从开始到几乎完成花费了大约9个月的时间来完成所有工作。 在这段时间的大部分时间里，来自中国的零件都在等待。 <br> 我大部分时间都是在为自己写一篇文章，这样以后我就不会忘记自己所做的事情，如何做，为什么做以及为什么做。 <br> 它将包括两个主要部分：硬件和软件，可能还有关于铁的布局的另一部分。 首先，我将描述收集的硬件，遇到的问题以及如何解决它们。 </p><a name="habracut"></a><br><h3 id="1-apparatnaya-chast">  1.硬件 </h3><br><p> 该系统由控制面板和安装在打字机上的设备组成。 让我们更详细地考虑它们。 </p><br><h4 id="11-pult-upravleniya">  1.1控制面板 </h4><br><p> 组成部分 </p><br><ul><li> 树莓派3 </li><li>  ADS1115 ADC </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">游戏帽</a> </li></ul><br><h4 id="game-hat"> 游戏帽 </h4><br><p> 选择了游戏HAT是因为 这是一个交钥匙解决方案，结合了足以控制机器的屏幕，操纵杆和键盘。 </p><br><img alt="游戏帽" width="400" src="https://habrastorage.org/webt/ku/cy/16/kucy16tjvivlokfhjnm1evobwis.jpeg"><br><p> 该板上的操纵杆是KY-023。 他决定使用方向盘代替。 但是事实证明，Raspberry没有ADC，并且可以从中获得的唯一值为0和1，这显然不足以使轮子平滑旋转。 </p><br><img alt="KY-023" width="200" src="https://habrastorage.org/webt/kn/qb/oe/knqboerydcnmgjguaidv8ctyycg.jpeg"><br><h4 id="ads1115">  ADS1115 </h4><br><p> 该问题已通过ADS1115模块解决。 </p><br><img alt="ADS1115" width="200" src="https://habrastorage.org/webt/_r/8n/f-/_r8nf-9rsvzupsigrs2f7q2k59a.jpeg"><br><p> 该模块已焊接到Game HAT上，并使用3M胶带固定在该模块上。 读数取自操纵杆上可变电阻的中脚。 看起来像这样： </p><br><img alt="我的游戏帽" width="600" src="https://habrastorage.org/webt/0v/zx/yt/0vzxythizaow9qadldo2mdvma7w.jpeg"><br><p> 操纵杆类似地焊接到Game HAT中。 电线被焊接到Game HAT连接器上，该连接器对应于Raspberry上的电源和I2C连接器。 接线图： </p><br><img alt="遥远的" width="800" src="https://habrastorage.org/webt/x3/7g/nc/x37gnce-kbcv8ec9shm0par52ai.jpeg"><br><p> 这样就完成了控制面板的硬件收集。 从表面上看，他没有任何明显的变化。 </p><br><h4 id="12-mashinka">  1.2机器 </h4><br><p> 一切看起来如何可怕： </p><br><img alt="车" width="800" src="https://habrastorage.org/webt/mi/mw/ii/mimwiiy-4lj44y5ag-lpmp4rfb8.jpeg"><br><p> 让我们做对。 </p><br><p> 组成部分 </p><br><ul><li> 树莓派3 </li><li>  Raspberry Pi Camera v2 NoIR </li><li>  PCA9685 PWM发生器 </li><li>  Mini-360降压电源转换器 </li><li>  BMS CF-4S30A-A充电控制器 </li><li>  L298N电机控制驱动器 </li><li> 我的基于L293驱动程序的光控板 </li><li>  3块锂离子电池18650 </li><li>  370马达 </li><li>  DI-1181MG伺服 </li></ul><br><h4 id="pitanie"> 营养学 </h4><br><p> 让我们从电源开始，它由三个串联的18650电池提供，电压约为12伏。 <br> 电池通过BMS CF-4S30A-A板连接，因此可以在pokatushki上充电，而不会放电至零。 </p><br><img alt="4S 40A BMS" width="200" src="https://habrastorage.org/webt/xt/q0/_k/xtq0_k_ycvqpeuivas6r8jnbgpw.jpeg"><br><p> 但是该板设计用于4个电池，因此可以重做以使用3个电池。 她为什么被带走，而不是3S 40A BMS。 因为她在附近。 </p><br><p> 变更方案： </p><br><img alt="4S 40A BMS" width="450" src="https://habrastorage.org/webt/nl/li/-y/nlli-yxzn84k_lmtodkhozqaeog.jpeg"><br><p> 该电压通过L298N驱动器为370电机供电。 </p><br><img alt="370" width="300" src="https://habrastorage.org/webt/s6/9b/of/s69bof6t16zmpse8jn29at93ifa.jpeg"><br><img alt="L298N" width="300" src="https://habrastorage.org/webt/_l/vi/t4/_lvit4ox1-doo6kw8mjpixsvkny.jpeg"><br><p> 为了给树莓供电，使用了相同电池的电压，但是Mini-360模块将电压降低至5伏。 </p><br><img alt="迷你360" width="200" src="https://habrastorage.org/webt/ag/zn/ra/agznrap593x3j6t4doyakiukgzo.jpeg"><br><p> 覆盆子在腿上提供动力。 </p><br><h4 id="dvizhenie"> 机芯 </h4><br><p> 现在让我们谈谈汽车的驾驶方式。 为了控制转向机构，使用了DI-1181MG伺服驱动器，该驱动器通过PCA9685进行控制。  PCA9685还负责通过L298N驱动器调整电动机的速度和旋转方向来控制电动机。  Raspberry还控制I2C总线上的PCA9685。  PCA9685由具有降压转换器的5伏电源供电。 这对于伺服和电机控制就足够了。 电机连接到两个L298N输出以增加功率。 </p><br><img alt="DI-1181MG" width="170" src="https://habrastorage.org/webt/km/wm/_b/kmwm_b7oben_iuu1rhyntdu7bru.jpeg"><br><img alt="PCA9685" width="200" src="https://habrastorage.org/webt/zr/3k/k2/zr3kk2nhhqub8p63mmo0ghelcea.jpeg"><br><h4 id="video"> 录影带 </h4><br><p> 对于我使用Camera v2 NoIR的视频，它可以轻松连接到Raspberry。 但是有一些改进。 摄像机的标准环长为15厘米，不足以进行安装工作。 该循环也是非标准的，它具有15个引脚。 在速卖通上，这台相机要长时间循环，中国人要超过1000卢布。 因此，购买了一套10个标准的16针圈〜300卢布。 在使用办公剪刀的高科技技术的帮助下，相机的15针电缆已经重做。 </p><br><img alt="摄影机" width="300" src="https://habrastorage.org/webt/1m/vl/am/1mvlamazfobyscudex2p3xx7d6i.jpeg"><br><img alt="弦" width="300" src="https://habrastorage.org/webt/-t/jp/uv/-tjpuv287l5c191kgkjdee_nawm.jpeg"><br><p> 在撰写本文时，第二个月我正在等待机舱中相机的安装。 到目前为止，机器仅显示天花板） </p><br><h4 id="svet"> 灯 </h4><br><p> 机器已经安装了常规照明灯，该照明灯由带有2个黄色LED的前灯组成。 它仍然只是为它们供电。 <br> 光线是通过基于L293驱动程序的开发板控制的。 通过电阻为二极管供电。 该板使用LUT技术制成。 它还具有一堆用于电源接线的轨道。 <br> 在我自己做时，我可能不知道PCA9685，也可以不用它来控制PCA9685来控制灯光。 </p><br><p> 电路板： </p><br><img alt="我的司机" width="500" src="https://habrastorage.org/webt/i0/c1/qx/i0c1qxlmibkwb5yiph3ijkv7d0o.jpeg"><br><p> 我将展示一般的连接图： </p><br><img alt="全部" src="https://habrastorage.org/webt/yi/45/63/yi4563ligy60oj5mzjg_-r2xb9k.jpeg"><br><p> 但这是打字机上站着的东西，直到我爬上）） </p><br><img alt="旧的" width="200" src="https://habrastorage.org/webt/zh/i0/k8/zhi0k8fol1yt0e_wlnglzihgcvq.jpeg"><br><p> 在撰写本文时，我已经开始忘记自己在做什么以及如何做。 自安装以来，已经过去了一个多月。 </p><br><p> 一切都在硬件中。 在我的下一篇文章中，我将描述动画动画的软件部分。 </p><br><h3 id="blagodarnost"> 感激之情 </h3><br><p> 我的工作同事：安德烈（Andrei）和尼古拉（Nikolai）在铁的帮助下，安东（Anton）和尤金（Eugene）在视频的帮助下。  Samodelkin-22适用于我的电路板。 还有Murzik。 </p><br><h3 id="ssylki"> 参考文献 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第二部分</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第三部分</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462283/">https://habr.com/ru/post/zh-CN462283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462271/index.html">iOS中的锁定代码：Apple如何从防御中的防御转向守卫单一边界</a></li>
<li><a href="../zh-CN462273/index.html">使用digispark管理您的笔记本电脑支架</a></li>
<li><a href="../zh-CN462275/index.html">推出适用于Java的PVS-Studio静态分析器</a></li>
<li><a href="../zh-CN462277/index.html">技术发布Mail.ru Group 2019</a></li>
<li><a href="../zh-CN462279/index.html">基于从Yandex.Metrica Logs API获得的数据，以R语言构造行为渠道</a></li>
<li><a href="../zh-CN462293/index.html">快速开发技术如何成为令人不快的漏洞的来源</a></li>
<li><a href="../zh-CN462295/index.html">目录大小不值得我们努力</a></li>
<li><a href="../zh-CN462297/index.html">《哈伯周刊》第12期/ OneWeb，禁止聚集者的站点，IT部门的工资，“亲爱的，我们杀死了互联网”在俄罗斯联邦是不允许的</a></li>
<li><a href="../zh-CN462299/index.html">在.NET中四舍五入</a></li>
<li><a href="../zh-CN462301/index.html">秘诀，技巧和窍门：如何为Google Assistant创建酷炫的动作</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>