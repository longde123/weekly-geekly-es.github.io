<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💈 👒 🎤 带有堆栈跟踪过滤，静默字符串解析和版本比较的开源Java库 👦🏽 🃏 🧘🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在一段时间内从事不同的工作时，我遇到了一些当时无法找到的实用程序的需求。 我看到我一次又一次地需要它们。 因此，我编写了自己的小型图书馆，发现它非常有用。 因此，我只是将其发布为开源Java库。 

 这是Github链接 

 在线Javadoc可在此处获得 

 另外，该库在Maven Cent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>带有堆栈跟踪过滤，静默字符串解析和版本比较的开源Java库</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480268/"> 在一段时间内从事不同的工作时，我遇到了一些当时无法找到的实用程序的需求。 我看到我一次又一次地需要它们。 因此，我编写了自己的小型图书馆，发现它非常有用。 因此，我只是将其发布为开源Java库。 <br><br>  <a href="https://github.com/michaelgantman/Mgnt/releases">这是Github链接</a> <br><br>  <a href="http://michaelgantman.github.io/Mgnt/docs">在线Javadoc可在此处获得</a> <br><br> 另外，该库在Maven Central上可用。 这是Maven工件（在撰写本文时，最新版本为1.5.0.8，但将来可能会更改。要检查最新版本，请在<a href="http://search.maven.org/">http：//search.maven中</a>搜索工件“ MgntUtils” <a href="http://search.maven.org/">。 org /</a> ）： <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>javadoc<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>sources<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> 以下只是其中的简短说明。 该库随附了写得很好（希望如此）的JavaDoc，并提供了详细的描述。 因此，这里是功能列表： <br><a name="habracut"></a><br><h3>  Stacktrace噪声滤波器 </h3><br> 以我的经验，此功能对我来说是最通用和有用的。 当调试或尝试找出应用程序出了什么问题时，Stacktrace是一个救生器。 但是，在服务器端使用日志时，您会遇到巨大的stacktrace，其中包含各种框架和与Application Server相关的软件包中最长的无用的尾巴。 在这堆中的某处，有几条相关的迹线，它们可能位于无用的信息所分隔的不同段中。 寻找相关内容成为噩梦。 这是一个使用实际示例（不是为胆小的人）描述相同问题的链接<a href="https://dzone.com/articles/filtering-stack-trace-hell">https://dzone.com/articles/filtering-stack-trace-hell</a> 。 因此，在我的库中，有一个名为<i>TextUtils</i>的类，它具有带有多个重载签名的<i>getStacktrace（）</i>方法。 它采用Throwable实例，并允许设置相关软件包的软件包前缀。 <br><br> 同样，相同的实用程序（从1.5.0.3版开始）具有方法<i>getStacktrace（）</i> ，该方法采用CharSequence接口而不是Throwable，因此可以像从Throwable提取的stacktrace一样过滤和缩短作为字符串存储的stacktrace。 因此，基本上可以在运行时或稍后从任何文本源（例如日志）中“动态”过滤堆栈跟踪。  （请澄清一下-该实用程序不支持解析和修改整个日志文件。它仅支持过滤作为String传递的stacktrace。因此，如果有人想过滤日志文件中的异常，则他们必须解析日志文件。并将stacktrace提取为单独的字符串，然后可以使用此实用程序过滤每个单独的stacktrace）。 <br><br> 这是一个用法示例。 假设您的公司代码始终位于以“ com.plain。*”开头的软件包中，因此您可以设置这样的前缀并执行此操作 <br><br><pre> <code class="java hljs">logger.info(TextUtils.getStacktrace(e,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>));</code> </pre> <br> 这将非常巧妙地过滤掉跟踪中所有无用的部分，从而为您提供非常简洁的stacktrace。 另外，我发现预先设置前缀然后使用便捷方法非常方便 <br><br><pre> <code class="java hljs">TextUtils.getStacktrace(e);</code> </pre> <br> 它将执行相同的操作。 预设前缀只需使用方法 <br><br><pre> <code class="java hljs">setRelevantPackage(<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>);</code> </pre> <br> 如果要通过配置来预先设置此值， <b>则从</b>库版本1.1.0.1开始，可以将环境变量“ <b>MGNT_RELEVANT_PACKAGE</b> ”或系统属性“ <b>mgnt.relevant.package</b> ”设置为值“ <i>com.plain”。</i>将被设置为该值，而无需调用方法<i>TextUtils.setRelevantPackage（“ com.plain。”）；</i> 明确地在您的代码中。 请注意，如果同时设置了系统属性值，则该属性值将优先于环境变量。 提醒一下，使用System属性，可以使用-D标志将其添加到命令行中： <br><br>  “ -Dmgnt.relevant.package = com.plain。” <br><br> 另外，如果您使用的库版本早于1.1.0.1，或者不想使用上述环境变量或系统属性，而您正在使用Spring环境，则可以通过在Spring配置中添加以下段来预设前缀： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.beans.factory.config.MethodInvokingFactoryBean"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetClass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.mgnt.utils.TextUtils"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetMethod"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setRelevantPackage"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arguments"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.plain."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Javadoc详细解释了所有内容。 但是这里有一个小提示：您将获得以下堆栈跟踪： <br><br><pre> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() ... at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() ... at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br> 代替 <br><br><pre> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed() at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() at sun.reflect.NativeMethodAccessorImpl.invoke() at sun.reflect.DelegatingMethodAccessorImpl.invoke() at java.lang.reflect.Method.invoke() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod() at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.AbstractTraceInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.transaction.interceptor.TransactionInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept() at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br><h3> 静默字符串解析为整数，长整数等 </h3><br> 相同的类<i>TextUtils</i>提供了一些方法来静默地将String解析为Double，Long，Integer，Short和Byte类型（无任何异常）。 这些方法称为<i>parseStringToLong（）</i> <i>parseStringToInteger（）</i>等。 他们都接受4个论点： <br><br><ol><li> 要解析的字符串 </li><li> 如果发生任何解析问题，则将Number（双精度，长整数，整数，短整数或字节）的实现用作默认值 </li><li> 如果第一个参数为null（可以为null，则不打印错误），则将作为错误消息输出到日志中的String </li><li> 如果发生NumberFormatException，则将作为错误消息打印的字符串（可以为null，然后不打印错误） </li></ol><br><h3> 解析字符串到时间间隔 </h3><br> 在同一类<i>TextUtils中</i> ，有一个方法<i>parseStringToTimeInterval（字符串值）</i> 。 此方法解析预期包含某个时间间隔值的字符串-一个带有可选时间单位后缀的数字值。 例如，字符串“ 38s”将解析为38秒，“ 24m”-24分钟“ 4h”-4小时，“ 3d”-3天，“ 45”解析为45毫秒。 支持的后缀是“ <b>s</b> ”表示秒，“ <b>m</b> ”表示分钟，“ <b>h</b> ”表示小时，“ <b>d</b> ”表示天。 不带后缀的字符串被认为拥有以毫秒为单位的值。 后缀不区分大小写。 如果提供的String包含不受支持的后缀，或者具有负数字值或零，或者具有非数字值-则抛出IllegalArgumentException。 此方法返回TimeInterval类-该库中也定义了一个类。 本质上，它具有两个具有相关getter和setter的属性：long“值”和java.util.concurrent.TimeUnit。 但是除了getter和setter之外，此类还具有<i>toMillis（）</i> ， <i>toSeconds（）</i> ， <i>toMinutes（）</i> ， <i>toHours（）到</i> <i>Days（）的方法</i> 。 这些方法在指定的时间范围内返回long值（与类<i>java.util.concurrent.TimeUnit中的</i>相应方法相同） <br><br> 此方法对于解析时间间隔属性（例如超时或来自配置文件的等待时间）可能非常有用。 它消除了从不同时间范围到来回毫秒之间不必要的计算。 考虑您有一个<b>methodInvokingInterval</b>属性，需要设置5天。 因此，要设置毫秒值，您需要计算5天为432000000毫秒（显然这不是不可能完成的任务，但很烦人且容易出错），然后看到432000000值的其他任何人都必须将其计算回5令人沮丧的日子。 但是使用此方法，您会将属性值设置为“ 5d”并调用代码 <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">long</span></span> milliseconds = TextUtils.parsingStringToTimeInterval(<span class="hljs-string"><span class="hljs-string">"5d"</span></span>).toMillis();</code> </pre> <br> 将解决您的转换问题。 显然，这不是一个过于复杂的功能，但是它可以在您的配置文件中增加简洁性和清晰度，并将一些挫败感和“愚蠢”的错误计算结果保存为毫秒级错误。 <br><br><h3> 比较版本 </h3><br> 此实用程序允许将String转换为版本，反之亦然，并正确比较版本和版本范围。 通常，如果您需要比较版本，则只需比较字符串。 因此，可以说版本“ 1.5.3”将大于版本“ 1.3.1”。 但是，如果您比较字符串“ 1.4.2”和“ 1.12.3”，则字符串“ 1.4.2”将错误地更大。 因此，该实用程序可以解决此类问题，此外，它还引入了VersionRange类，并允许对版本范围进行操作。  （请参阅类<i>TextUtils</i>和类<i>VersionRange中的</i>方法<i>compareVersions</i> ） <br><br><h3> 字符串Unicode转换器 </h3><br> 类<i>StringUnicodeEncoderDecoder</i>具有可以将String（以任何语言）转换为Unicode字符序列的方法，反之亦然。 例如，字符串“ Hello World”将转换为 <br><br>  “ \ u0048 \ u0065 \ u006c \ u006c \ u006f \ u0020 \ u0057 \ u006f \ u0072 \ u006c \ u0064” <br><br> 并可以恢复原状。 <br><br><h3> 生命周期管理（自实例工厂） </h3><br> 此功能是一个软件包，其中包含一些小型基础结构，这些基础结构可简化和自动化与提供接口具体实现的工厂的工作。 该软件包仅包含2个类： <i>BaseEntityFactory</i>和<i>BaseEntity</i> 。 简而言之，此基础结构所做的是，如果创建一个扩展<i>BaseEntityFactory</i>的工厂和一些接口，并扩展其所有具体实现的接口扩展<i>BaseEntity，</i>则每个具体实现类类实例将自动插入到您的工厂中。 您无需担心如何以及何时填充工厂。 调用具体实现类的构造函数时，基础结构将为您完成此操作。 因此，您要做的就是创建任意数量的具体实现类，并确保为每个构造函数都调用一次。 之后，您可以使用工厂在代码中的任何位置获取任何具体的实现类。 这是一个简短的解释。 还有更多细节，但没有那么多。 有关此软件包的详细说明，请参阅<b>com.mgnt.lifecycle.management</b>软件包的Javadoc API。 另外，源代码包含com.mgnt.lifecycle.management.example软件包，其中包含有关如何使用此功能的注释清楚且详细的代码示例。 <br><br> 至于实际用法，我发现它对于Spring框架非常有用。 请记住，Spring在初始化期间会实例化所有它定义的bean。 因此，在Spring上下文中，如果我们简单地将具体实现声明为Spring Bean，Spring将为我们实例化它们，从而自动初始化其工厂。 这可能非常方便。 想象一下，您有一些具有用户定义接口类型的属性的Bean，该属性具有多个实现，但是实际需要哪种实现是在运行时确定的。 因此，那时，您可以使用Factory的<i>getInstance（java.lang.String）</i>方法访问所需的实现。 这将使您不必将所有具体的实例都注入到bean中，并且您将不必使用Spring <i>Bean Factory</i>访问Spring定义的bean，因为这会违反Spring的非介入性（这意味着您可以编写不依赖于Spring的组件）春天）。 另外，如果在以后的某个阶段需要添加更多具体的实现，那么您要做的就是将实现类添加到代码中，并将它们声明为Spring Bean。 其余的工作将在Spring和此基础架构中完成！ <br><br><h3> 文件工具 </h3><br> 使用此实用程序，可以在指定或不指定字符集的情况下将文件读取为字符串，或者仅将其读取为字节数组。 该实用程序使用nio程序包和缓冲区来提高性能。 该实用程序的最大文件大小为2G。 <br><br><h3> 时间效用 </h3><br> 这只是一个便捷方法，它提供与Thread.sleep（）相同的功能，但它是无声的。 即它“吞下” IterruptedException。 另外，它需要两个参数：睡眠时间和度量单位。 所以代替 <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Thread.sleep(<span class="hljs-number"><span class="hljs-number">2000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException ie) { }</code> </pre> <br> 您可以这样写： <br><br><pre> <code class="java hljs">TimeUtils.sleepFor(<span class="hljs-number"><span class="hljs-number">2</span></span>, TimeUnit.SECONDS);</code> </pre> <br> 我以为很可爱 <br><br> 就是这样。 随意下载该库。 它带有MIT许可证-我所知道的最宽松的许可证之一。 上面的链接提供了源代码，Javadoc和二进制版本。 该代码由JDK 8编译，但是其中没有版本8的功能。 它绝对应该与Java 7一起使用，我怀疑它可以与Java 6甚至5一起使用，但是还没有在那些版本上进行过测试。 可以随意使用它，如果喜欢的话，告诉其他人，如果有任何反馈，请随时给我发邮件michael_gantman@yahoo.com。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN480268/">https://habr.com/ru/post/zh-CN480268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN480256/index.html">Java文件覆盖</a></li>
<li><a href="../zh-CN480258/index.html">反应本机init vs Expo</a></li>
<li><a href="../zh-CN480262/index.html">12月14日的Java摘要</a></li>
<li><a href="../zh-CN480264/index.html">团结的回报：IT和自由职业者需要组织</a></li>
<li><a href="../zh-CN480266/index.html">云游戏的历史</a></li>
<li><a href="../zh-CN480270/index.html">PHP流行度下降：这不是那么简单吗？</a></li>
<li><a href="../zh-CN480272/index.html">人工智能与人脑的复杂性</a></li>
<li><a href="../zh-CN480274/index.html">酒精柜台或如何在自助餐招待会中生存</a></li>
<li><a href="../zh-CN480280/index.html">TurboConf安全研究</a></li>
<li><a href="../zh-CN480282/index.html">健身初创公司Peloton的历史：从80亿美元的估值到失败的广告，并预测股票下跌85％</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>