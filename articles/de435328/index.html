<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏾 👩‍👦‍👦 🕴🏻 So arbeiten Sie mit Shader Graph in Unity3D 🙆 🤾🏾 🚳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Shader Counts ist ein neues Tool zum Erstellen von Shadern in einer Einheit. Sie können damit Shader für Personen ohne Code-Schreibfähigkeiten erstell...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So arbeiten Sie mit Shader Graph in Unity3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435328/"><img src="https://habrastorage.org/webt/pb/ol/nf/pbolnfl2ldgwjhpufk58ugpo5ro.jpeg"><br><br>  Shader Counts ist ein neues Tool zum Erstellen von Shadern in einer Einheit.  Sie können damit Shader für Personen ohne Code-Schreibfähigkeiten erstellen.  Das Ergebnis jeder Operation ist beim Bearbeiten sichtbar.  Ein ideales Werkzeug für Anfänger und Experimentatoren. <br><a name="habracut"></a><br>  Das Hinzufügen eines Shader-Diagramms zu einem Projekt erfolgt über den Paket-Manager. <br><br><img src="https://habrastorage.org/webt/j9/u3/0k/j9u30kxmy0agncw4tal2cvamdz0.png"><br><br>  Für heute ist jedoch nur die Lightweight Render Pipeline-Version verfügbar. Für Experimente müssen Sie also ein Projekt wie das folgende erstellen: <br><br><img src="https://habrastorage.org/webt/7g/qw/wj/7gqwwju6nx2nicvafwvwn2nqnhu.png"><br><br><h4>  Einfacher Shader </h4><br>  Mit Shader Graph können Sie zwei Arten von Shadern erstellen: Unbeleuchtet (ohne Beleuchtung) und PBR (fotorealistisches Rendern) sowie Sub (Knoten für den Shader).  Letzteres kann in Unlit- und PBR-Shadern verwendet werden. <br><br><img src="https://habrastorage.org/webt/-t/6a/ld/-t6aldvzhfxw9rbddjvl9iyzspu.png"><br><br>  Unlit nutzt die integrierten Funktionen des Geräts nicht zum Beleuchten und Schattieren des Modells. Es zeigt nur die Textur über dem Modell an und ist daher viel einfacher, sich mit dem Modell vertraut zu machen. <br><br>  Erstellen Sie Material und erstellen Sie ein unbeleuchtetes Diagramm.  Durch Ziehen weisen wir dem Material einen Shader zu. <br><br><img src="https://habrastorage.org/webt/x_/qb/ac/x_qbaceqvmymyepqcj0l_s4mb18.png"><br><br>  Wenn Sie den Shader mit einem Doppelklick öffnen, wird der Masterknoten angezeigt <br><br><img src="https://habrastorage.org/webt/4m/df/rx/4mdfrxf3t9uusrnxr709zuj4z9u.png"><br><br>  Am Ausgang dieses Shaders können wir steuern: <br><br><ul><li>  <b>Position</b> - Scheitelpunktposition </li><li>  <b>Farbe</b> - Farbe jedes Oberflächenpixels </li><li>  <b>Alpha</b> - seine Transparenz </li><li>  <b>AlphaClipThreshold</b> - Transparenzschwelle, wenn keine Transluzenz verwendet wird </li></ul><br>  Die überwiegende Mehrheit der Shader verwendet aufgrund der Komplexität der Berechnungen und der Einschränkungen, die für solche Shader gelten, keine Transluzenz.  Und wo auf Transluzenz verzichtet werden kann, muss darauf verzichtet werden. <br><br>  Unabhängig davon, ob Ihr Shader Transluzenz verwendet oder nicht, können Sie diese im Masterknoten konfigurieren: <br><br><img src="https://habrastorage.org/webt/f4/u1/7h/f4u17hzrvibab9covvbvkzfxwfq.png"><br><br><ul><li>  <b>Undurchsichtig</b> - undurchsichtig </li><li>  <b>Transparent</b> - durchscheinend </li></ul><br>  Um das Modell einzufärben, können wir einen dreidimensionalen Vektor oder eine dreidimensionale Farbe an die Eingabe (Farbe) des Masterknotens senden, die für den Shader im Wesentlichen gleich ist, jedoch im Diagramm unterschiedlich angezeigt wird. <br>  Neue Knoten werden über das Kontextmenü erstellt. <br><br><img src="https://habrastorage.org/webt/ot/od/uy/otoduyyrmm5hqnu9tfwfuway9be.png"><br><br>  In diesem Fall können wir zwei Knoten Color oder Vector4 verwenden <br><br><img src="https://habrastorage.org/webt/hl/gr/jh/hlgrjhtd0gnn7c8mlu4mjd5eyr4.png"><br><br>  Um sie jedoch über den Inspektor konfigurieren zu können, müssen Sie eine Eigenschaft erstellen <br><br><img src="https://habrastorage.org/webt/zw/et/29/zwet29yatpn11kt8tldzlr-agfm.png"><br><br>  Ziehen Sie es dann mit der Maus in das Diagramm, um einen Knoten zu erstellen. <br><br><img src="https://habrastorage.org/webt/--/_2/0o/--_20oawb2mq1rcboc1crkubcic.png"><br><br><ul><li>  <b>Exposed</b> - Ermöglicht die <b>Anzeige</b> dieser Eigenschaft im Inspektor beim Bearbeiten von Material </li><li>  <b>Standard</b> - Legt den Standardfarbwert fest </li><li>  <b>Modus</b> - Ermöglicht die Auswahl eines Helligkeitsbereichs (mit HDR können Sie die übliche Helligkeit überschreiten). </li></ul><br>  Damit die erstellte Eigenschaft die Farbe des Materials beeinflusst, muss ihre Ausgabe mit der Farbeingabe des Masterknotens verbunden werden. <br><br><img src="https://habrastorage.org/webt/un/nr/pm/unnrpmw1w-fmwfijxvpboubjexk.png"><br><br><div class="spoiler">  <b class="spoiler_title">Der gleiche Shader, aber der Code</b> <div class="spoiler_text"><pre><code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/Simpliest"</span></span> <span class="hljs-comment"><span class="hljs-comment">// Shader -     , //      //   url-   { Properties //  ,      // inspector  Unity { _Color ("Color", Color) = (0.5,0.6,0.7,1) //        : // _Color -  ,       //     CGPROGRAM // "Color" - ,      // Inspector    // Color -  ,       //     Inspector,  // 5  : // Color -    , // Vector -  4   , // Float -       , // 2D - , // CUBE -    // (0.5,0.6,0.7,1) -     } SubShader //        , //       { // No culling or depth //   ,      //    GPU,     //    ,  ZTest Always  //  ,          Cull Off ZWrite Off ZTest Always ​ Pass //        SubShader, //  Pass         // ,   Pass    { CGPROGRAM //  ,     //    ​ #pragma vertex vert_img //     // vert_img,     #pragma fragment frag //     // frag,   #include "UnityCG.cginc" //     , //   Unity //     vert_img,     //  : // %UNITY%\Editor\Data\CGIncludes\UnityCG.cginc ​ fixed4 _Color; // fixed4 -  ,     //    4   fixed ​ fixed4 frag (v2f_img i) : COLOR { fixed4 col = _Color; return col; } ENDCG //  ,       } } }</span></span></code> </pre> <br></div></div><br><h4>  Der einfachste Textur-Shader </h4><br>  Um unsere Textur auf dem Netz zu überlagern, müssen wir einen Knoten erstellen, der von außerhalb des Shader-Diagramms angepasst werden kann.  Erstellen Sie dazu eine Eigenschaft <br><br><img src="https://habrastorage.org/webt/8e/ei/-m/8eei-mawilp3bdi6aoy5vjwzjpi.png"><br><br>  und dehnen Sie es, dies erzeugt einen Texturknoten <br><br><img src="https://habrastorage.org/webt/fq/gi/3h/fqgi3hxni0lsi2d0mx8prsef2oq.png"><br><br>  Danach müssen Sie einen Textur-Sampler-Knoten erstellen, der die Textur und die UV-Koordinate am Eingang empfangen und der Ausgabe die Pixelfarbe geben kann. <br><br><img src="https://habrastorage.org/webt/zb/tf/vm/zbtfvmhkku6ts_xpssxjxwief2w.png"><br><br>  Wir verbinden den Sampler-Ausgang mit dem Farbeingang des Master-Knotens. <br><br><img src="https://habrastorage.org/webt/uc/xy/rw/ucxyrwz0ot_hsjeoyphcpwust1e.png"><br><br><div class="spoiler">  <b class="spoiler_title">Der einfachste Textur-Shader-Code</b> <div class="spoiler_text"><pre> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/Texture"</span></span> { Properties { _MainTex(<span class="hljs-string"><span class="hljs-string">"Texture"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>D) = <span class="hljs-string"><span class="hljs-string">"white"</span></span> {} <span class="hljs-comment"><span class="hljs-comment">//        , //   ,  Inspector   //  .  "white"    , // ,      . } SubShader { Cull Off ZWrite Off ZTest Always Pass { CGPROGRAM #pragma vertex vert_img #pragma fragment frag #include "UnityCG.cginc" sampler2D _MainTex; // sampler2D -        //     , ,    // _MainTex       Properties, //     . fixed4 frag(v2f_img i) : COLOR { //          //       ,  ,   //  ,        //  . // tex2D -       , //   (_MainTex)       //  ,   (i.uv)  UV    //    . fixed4 col = tex2D(_MainTex, i.uv); return col; } ENDCG } } }</span></span></code> </pre> <br></div></div><br><h4>  Negative Textur </h4><br>  Bevor wir die Textur auf dem Bildschirm anzeigen, können wir sie durch Anwenden mathematischer Operationen ändern.  Erstellen Sie beispielsweise ein Negativ durch einfache Subtraktion. <br><br>  Fügen Sie einen Subtrahierknoten hinzu, der dekrementierte ist (1; 1; 1; 1) und der subtrahierte Knoten ist die Ausgabe der Textur. <br><br><img src="https://habrastorage.org/webt/xy/-x/8h/xy-x8h5okpfkvxlbn2zqldznfbs.png"><br><br><div class="spoiler">  <b class="spoiler_title">Negativer Texturcode</b> <div class="spoiler_text"><pre> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/Texture"</span></span> { Properties { _MainTex(<span class="hljs-string"><span class="hljs-string">"Texture"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>D) = <span class="hljs-string"><span class="hljs-string">"white"</span></span> {} } SubShader { Cull Off ZWrite Off ZTest Always Pass { CGPROGRAM #pragma vertex vert_img #pragma fragment frag #include <span class="hljs-string"><span class="hljs-string">"UnityCG.cginc"</span></span> sampler2D _MainTex; <span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f_img i)</span></span></span><span class="hljs-function"> : COLOR </span></span>{ fixed4 col = tex2D(_MainTex, i.uv); col = <span class="hljs-number"><span class="hljs-number">1</span></span> - col; <span class="hljs-comment"><span class="hljs-comment">//  ,     4-  // RedGreenBlueAlpha - , //        0  1 return col; } ENDCG } } }</span></span></code> </pre> <br></div></div><br><h4>  Zwei Texturen mischen </h4><br>  Um zwei Texturen zu mischen, benötigen wir drei Eigenschaften, von denen zwei Texturen sind, und eine dritte Zahl, die den Grad der Mischung angibt. <br><br>  Der Mischvorgang selbst wird vom Lerp-Knoten ausgeführt. <br><br><img src="https://habrastorage.org/webt/7r/jj/j3/7rjjj34nidxu3zzldlcvaswv9by.png"><br><br><div class="spoiler">  <b class="spoiler_title">Mischen von zwei Texturen mit Code</b> <div class="spoiler_text"><pre> <code class="cpp hljs">Shader <span class="hljs-string"><span class="hljs-string">"Tutorial/NoiseOverlay"</span></span> { Properties { _MainTex(<span class="hljs-string"><span class="hljs-string">"Main Texture"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>D) = <span class="hljs-string"><span class="hljs-string">"white"</span></span> {} _NoiseTex(<span class="hljs-string"><span class="hljs-string">"Noise Texture"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>D) = <span class="hljs-string"><span class="hljs-string">"white"</span></span> {} _LerpValue(<span class="hljs-string"><span class="hljs-string">"Lerp Value"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.5</span></span> } SubShader { Cull Off ZWrite Off ZTest Always​ Pass { CGPROGRAM #pragma vertex vert_img #pragma fragment frag​ #include <span class="hljs-string"><span class="hljs-string">"UnityCG.cginc"</span></span>​ sampler2D _MainTex; sampler2D _NoiseTex; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _LerpValue;​ <span class="hljs-function"><span class="hljs-function">fixed4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v2f_img i)</span></span></span><span class="hljs-function"> : COLOR </span></span>{ half4 base = tex2D(_MainTex, i.uv); half4 overlay = tex2D(_NoiseTex, i.uv);​ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lerp(base, overlay , _LerpValue); } ENDCG } } }</code> </pre><br></div></div><br><h4>  Ausschnittmaske </h4><br>  Um den Teil des Modells vollständig transparent zu machen, müssen Sie den Alpha-Wert des Kanals an die Eingabe des Masterknotens senden, eine Schiebereglereigenschaft erstellen und der AlphaClipThreshold-Eingabe zuführen <br><br><img src="https://habrastorage.org/webt/ru/je/u4/rujeu4pdag5mcxtzlo0pwru67c4.png"><br><br>  Ein Schieberegler wird benötigt, um einen Fehler im Graph-Shader zu beheben, mit dem Sie keinen Ausschnitt erstellen können. Außerdem können Sie den Wert in den Materialeinstellungen ändern. <br><br><h4>  UV-Inversion </h4><br>  Um mit UV zu arbeiten, müssen Sie einen UV-Knoten erstellen und ihn mit dem Textur-Sampler verbinden <br><br><img src="https://habrastorage.org/webt/we/gh/-7/wegh-7qnkale0v0is4jmr1wphzq.png"><br><br>  Hier können Sie den UV-Kanal auswählen. Einige Modelle dieser Kanäle können bei mehrschichtigen Texturen mehrere haben.  Mit diesem Schritt haben wir überhaupt nichts geändert. Um UV zu invertieren, müssen wir einen Knoten erstellen, der UV-Werte invertiert. Die übliche Multiplikation mit -1 Koordinaten entlang Y ist für uns geeignet. <br><br><img src="https://habrastorage.org/webt/qv/be/y7/qvbey7zvxfmo5n2h0nt_g4j_pwe.png"><br><br>  Das Spiegeln der Textur kann aus dem Material benutzerdefiniert werden. Dazu benötigen wir den Verzweigungsknoten. Er erhält einen booleschen Wert am Eingang und einen der beiden Werte am Ausgang, in unserem Fall 1 oder -1 <br><br><img src="https://habrastorage.org/webt/wh/q5/as/whq5assgqltabfvb6hl6xumiuew.png"><br><br><h4>  Impressionen </h4><br>  Das Erstellen eines Shaders mithilfe des Shader-Diagramms vereinfacht die Aufgabe erheblich, schon allein deshalb, weil Sie die Änderung des Ergebnisses nach jeder Phase der Berechnung beobachten können.  Das Prinzip des Erstellens über den Knoteneditor ermöglicht es Ihnen, etwas Neues zu erstellen, selbst für diejenigen, die in Shadern nichts verstehen.  Das Tool ist noch roh, aber schon sehr nützlich.  Da Sie im Editor experimentieren und dann den erstellten Code wiedergeben können, stimmen die Namen der Funktionen in den meisten Fällen mit dem Namen der Knoten überein, sodass Shader Graph auch für Programmierer nützlich sein kann. <br><br>  PS Ich danke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Darkirius</a> für die Hilfe bei der Vorbereitung des Artikels <br><br>  PPS Über den Link "Hitbuch" können Sie auch Lektionen zum Schreiben von Shadern in einer Einheit lernen </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435328/">https://habr.com/ru/post/de435328/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435316/index.html">Koreanische Wissenschaftler haben ein System zur Verfolgung des Datenverkehrs von zwei Laptops entwickelt</a></li>
<li><a href="../de435320/index.html">Schneller und genauer: ein Hybridsystem heterogener Qubits</a></li>
<li><a href="../de435322/index.html">Ein weiterer Redux Boilerplate Reduction Guide (NGRX)</a></li>
<li><a href="../de435324/index.html">Tesla beginnt mit dem Bau einer Fabrik in Shanghai, aber die Situation im Unternehmen ist schwierig</a></li>
<li><a href="../de435326/index.html">Marktüberblick über Videokonferenzsysteme</a></li>
<li><a href="../de435330/index.html">Cisco DevNet als Lernplattform, Funktionen für Entwickler und Ingenieure</a></li>
<li><a href="../de435332/index.html">Die Tastatur macht mich wütend</a></li>
<li><a href="../de435334/index.html">Reaktion auf kalte Briefe</a></li>
<li><a href="../de435336/index.html">Etwas gefunden: Papiere mit Elasticsearch Moskau-Treffen bei OZON</a></li>
<li><a href="../de435338/index.html">Wir schaffen ein System zur elektronischen Zeitmessung von Rennen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>