<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ช ๐ ๐ฉ๐ปโ๐คโ๐จ๐ฟ Centrifugo v2 - ูุณุชูุจู ุฎุงุฏู ุงูุฑุณุงุฆู ูุงูููุชุจุฉ ูู Go ๐ ๐ฉโ๐ฉโ๐ง ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฑุจูุง ุณูุน ุจุนุถ ุงููุฑุงุก ุนู Centrifugo ูู ูุจู. ุณุชุฑูุฒ ูุฐู ุงูููุงูุฉ ุนูู ุชุทููุฑ ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุงูุฎุงุฏู ูุงูููุชุจุฉ ุงูุฌุฏูุฏุฉ ูู ุงูููุช ุงููุนูู ููุบุฉ Go ุงูุชู ุชููู ูุฑุงุก...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Centrifugo v2 - ูุณุชูุจู ุฎุงุฏู ุงูุฑุณุงุฆู ูุงูููุชุจุฉ ูู Go</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/avito/blog/416915/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฑุจูุง ุณูุน ุจุนุถ ุงููุฑุงุก ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Centrifugo</a> ูู ูุจู.  ุณุชุฑูุฒ ูุฐู ุงูููุงูุฉ ุนูู ุชุทููุฑ ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุงูุฎุงุฏู ูุงูููุชุจุฉ ุงูุฌุฏูุฏุฉ ูู ุงูููุช ุงููุนูู ููุบุฉ Go ุงูุชู ุชููู ูุฑุงุกูุง. </p><br><p style=";text-align:right;direction:rtl">  ุงุณูู ุฃููุณูุฏุฑ ุฅููููู.  ูู ุงูุตูู ุงููุงุถู ุ ุงูุถููุช ุฅูู ูุฑูู Avito ุ ุญูุซ ุฃุณุงุนุฏ ุงูุขู ูู ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฎูููุฉ ูุจุฑูุงูุฌ Avito messenger.  ุฃููููู ุงูุนูู ุงูุฌุฏูุฏ ุ ุงููุฑุชุจุท ุจุดูู ูุจุงุดุฑ ุจุงูุชูุตูู ุงูุณุฑูุน ููุฑุณุงุฆู ุฅูู ุงููุณุชุฎุฏููู ุ ูุฃููููู ุงูุฒููุงุก ุงูุฌุฏุฏ ุจููุงุตูุฉ ุงูุนูู ูู ูุดุฑูุน Centrifugo ููุชูุญ ุงููุตุฏุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cl/mo/yt/clmoytonrzc4exvj6eeky8j-zw4.jpeg"></p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ - ูุฐุง ูู ุงูุฎุงุฏู ุงูุฐู ูููู ุจูููุฉ ุงูุญูุงุธ ุนูู ุงูุงุชุตุงูุงุช ุงููุณุชูุฑุฉ ูู ูุณุชุฎุฏูู ุงูุชุทุจูู ุงูุฎุงุต ุจู.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุณุชุฎุฏู Websocket</a> ุฃู SockJS polyfill ููุณููุฉ ููู ุ ูููููุง ุ ุฅุฐุง ูู ููู ูู ุงููููู ุฅูุดุงุก ุงุชุตุงู Websocket ุ ุงูุนูู ูู ุฎูุงู Eventsource ุ ูุชุฏูู XHR ุ ูุงูุงุณุชูุตุงุก ุงูุทููู ุ ููุณุงุฆู ุงูููู ุงูุฃุฎุฑู ุงููุณุชูุฏุฉ ุฅูู HTTP.  ูุดุชุฑู ุงูุนููุงุก ูู ุงููููุงุช ุงูุชู ุชูุดุฑ ุนูููุง ุงููุงุฌูุฉ ุงูุฎูููุฉ ูู ุฎูุงู Centrifuge API ุฑุณุงุฆู ุฌุฏูุฏุฉ ุนูุฏ ุธููุฑูุง - ูุจุนุฏ ุฐูู ูุชู ุชุณููู ุงูุฑุณุงุฆู ุฅูู ุงููุณุชุฎุฏููู ุงููุดุชุฑููู ูู ุงูููุงุฉ.  ุจูุนูู ุขุฎุฑ ุ ูู ุฎุงุฏู PUB / SUB. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-c/ws/k-/-cwsk-n9eulxk4cd7v9berdltzy.png"></p><br><p style=";text-align:right;direction:rtl"> ุญุงููุง ุ ูุชู ุงุณุชุฎุฏุงู ุงูุฎุงุฏู ูู ุนุฏุฏ ูุจูุฑ ูู ุงููุดุงุฑูุน.  ูู ุจูููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุนุถ ูุดุงุฑูุน Mail.Ru (ุฅูุชุฑุงูุช ูููุตุงุช ุชุฏุฑูุจ Technopark / Technosphere ููุฑูุฒ ุงูุดูุงุฏุงุช ููุง ุฅูู ุฐูู) ุ ูุน Centrifugo ุ ููุญุฉ ุชุญูู ุฌูููุฉ ุชุนูู ูู ููุชุจ ุงูุงุณุชูุจุงู ูู ููุชุจ Badoo ููุณูู ุ ู 350 ุฃูู ูุณุชุฎุฏู ูุชุตููู ูู ููุณ ุงูููุช ุจุฎุฏูุฉ spot.im ุฅูู ุฌูุงุฒ ุงูุทุฑุฏ ุงููุฑูุฒู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุถ ุงูุฑูุงุจุท ููููุงูุงุช ุงูุณุงุจูุฉ ุนูู ุงูุฎุงุฏู ูุชุทุจููุงุชู ูุฃููุฆู ุงูุฐูู ูุณูุนูู ุนู ุงููุดุฑูุน ูุฃูู ูุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุบูุต ูู Centrifugo</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทุฑุฏ ุงููุฑูุฒู - 3.5 ููููู ุฏูุฑุฉ ูู ุงูุฏูููุฉ</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฐูู ููุงูุฉ ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุชุญูู ุชุงุฑูุฎ ุงููุดุฑูุน ูุฏูุงูุนู</a> . </li></ul><br><p style=";text-align:right;direction:rtl">  ููุฏ ุจุฏุฃุช ุงูุนูู ุนูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุฏูุณูุจุฑ ูู ุงูุนุงู ุงููุงุถู ูุงุณุชูุฑุช ุญุชู ููููุง ูุฐุง.  ุฏุนูุง ูุฑู ูุง ูุญุฏุซ.  ุฃูุง ุฃูุชุจ ูุฐู ุงูููุงูุฉ ููุณ ููุท ูุชุฑููุฌ ุงููุดุฑูุน ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูููู ุฃูุถูุง ููุญุตูู ุนูู ุชุนูููุงุช ุจูุงุกุฉ ุฃูุซุฑ ููููุงู ูุจู ุฅุตุฏุงุฑ Centrifugo v2 - ุงูุขู ููุงู ูุฌุงู ููููุงูุฑุฉ ูุงูุชุบููุฑุงุช ุบูุฑ ุงููุชูุงููุฉ. </p><br><h1 id="real-time-biblioteka-dlya-go" style=";text-align:right;direction:rtl">  ููุชุจุฉ ูู ุงูููุช ุงูุญูููู ูู Go </h1><br><p style=";text-align:right;direction:rtl">  ูู ูุฌุชูุน Go ุ ูุทุฑุญ ุงูุณุคุงู ูู ููุช ูุขุฎุฑ - ูู ููุงู ุฃู ุจุฏุงุฆู ูู socket.io ุนูู Goุ  ูู ุจุนุถ ุงูุฃุญูุงู ูุงุญุธุช ููู ููุตุญ ุงููุทูุฑูู ุงุณุชุฌุงุจุฉ ูุฐูู ุจุงููุธุฑ ุฅูู Centrifugo.  ููุน ุฐูู ุ ูุฅู Centrifugo ูู ุฎุงุฏู ุชุชู ุงุณุชุถุงูุชู ุฐุงุชููุง ูููุณ ููุชุจุฉ - ุงูููุงุฑูุฉ ููุณุช ุนุงุฏูุฉ.  ููุฏ ุทููุจ ููู ุนุฏุฉ ูุฑุงุช ูุง ุฅุฐุง ูุงู ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุฑูุฒ Centrifugo ููุชุงุจุฉ ุชุทุจููุงุช ูู ุงูููุช ุงููุนูู ูู Go.  ููุงู ุงูุฌูุงุจ: ูููููุง ูุธุฑููุง ุ ููููู ูู ุฃุณุชุทุน ุถูุงู ุงูุชูุงูู ุงูุนูุณู ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุญุฒู ุงูุฏุงุฎููุฉ ุนูู ูุณุคูููุชู ุงูุฎุงุตุฉ.  ูู ุงููุงุถุญ ุฃูู ูุง ููุฌุฏ ุณุจุจ ูุฃู ุดุฎุต ูููุฎุงุทุฑุฉ ุจู ุ ูุงูุชุดููู ูู ุฎูุงุฑ ูุฐูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุฃููู ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุญุฒู ุงูุฏุงุฎููุฉ ุชู ุฅุนุฏุงุฏูุง ุจุดูู ุนุงู ููุฐุง ุงูุงุณุชุฎุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุงูุช ุฅุญุฏู ุงูููุงู ุงูุทููุญุฉ ุงูุชู ุฃุฑุฏุช ุญููุง ูู ุนูููุฉ ุงูุนูู ุนูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุงูุฎุงุฏู ูุญุงููุฉ ูุตู ููุจ ุงูุฎุงุฏู ุฅูู ููุชุจุฉ ูููุตูุฉ ุนูู Go.  ุฃุนุชูุฏ ุฃู ูุฐุง ุฃูุฑ ููุทูู ุ ุจุงููุธุฑ ุฅูู ุนุฏุฏ ุงูููุฒุงุช ุงูุชู ููุชูููุง ุฌูุงุฒ ุงูุทุฑุฏ ุงููุฑูุฒู ูู ุฃุฌู ุชูููููุง ูุน ุงูุฅูุชุงุฌ.  ููุงู ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงููุชุงุญุฉ ุฎุงุฑุฌ ุงูุตูุฏูู ูููุณุงุนุฏุฉ ูู ุฅูุดุงุก ุชุทุจููุงุช ูุงุจูุฉ ููุชุทููุฑ ูู ุงูููุช ุงููุนูู ุ ููุง ููุบู ุงูุญุงุฌุฉ ูููุทูุฑูู ููุชุงุจุฉ ุญููููู ุงูุฎุงุตุฉ.  ููุฏ ูุชุจุช ุนู ูุฐู ุงูููุฒุงุช ูู ููุช ุณุงุจู ูุณุฃุดุฑุญ ุฃูุถูุง ุจุนุถูุง ุฃุฏูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุณุฃุญุงูู ุชุจุฑูุฑ ูุงุญุฏ ุฒุงุฆุฏ ูู ูุฌูุฏ ูุซู ูุฐู ุงูููุชุจุฉ.  ูุนุธู ูุณุชุฎุฏูู Centrifugo ูู ูุทูุฑูู ููุชุจูู ุงููุงุฌูุฉ ุงูุฎูููุฉ ุจุงููุบุงุช / ุฃุทุฑ ุงูุนูู ูุน ุฏุนู ุงูุชุฒุงูู ุงูุถุนูู (ูุซู Django / Flask / Laravel / ...): ุงูุนูู ูุน ุงููุซูุฑ ูู ุงูุงุชุตุงูุงุช ุงููุณุชูุฑุฉ ุฅู ุฃููู ุ ุจุทุฑููุฉ ุบูุฑ ูุงุถุญุฉ ุฃู ุบูุฑ ูุนุงูุฉ.  ููููุง ูุฐูู ุ ูุง ูููู ูุฌููุน ุงููุณุชุฎุฏููู ุงููุณุงุนุฏุฉ ูู ุชุทููุฑ ุฎุงุฏู ููุชูุจ ุจูุบุฉ Go (ููุชูุฆ ุจุณุจุจ ููุต ุงููุนุฑูุฉ ุจุงููุบุฉ).  ูุฐูู ุ ุญุชู ูุฌุชูุน ุตุบูุฑ ุฌุฏูุง ูู ูุทูุฑู Go ุญูู ุงูููุชุจุฉ ุณูููู ูุงุฏุฑูุง ุนูู ุงููุณุงุนุฏุฉ ูู ุชุทููุฑ ุฎุงุฏู Centrifugo ุจุงุณุชุฎุฏุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุงููุชูุฌุฉ ูู ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุฑุฏ ุงููุฑูุฒู</a> .  ูุง ูุฒุงู ูุฐุง ูู WIP ุ ูููู ูุชู ุชูููุฐ ุฌููุน ุงูููุฒุงุช ุงููุงุฑุฏุฉ ูู ุงููุตู ุนูู Github ูุชุดุบูููุง.  ูุธุฑูุง ูุฃู ุงูููุชุจุฉ ุชููุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุบููุฉ ุฅูู ุญุฏ ูุง ุ ูุจู ุถูุงู ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุ ุฃูุฏ ุฃู ุฃุณูุน ุนู ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ุงููุงุฌุญุฉ ููุงุณุชุฎุฏุงู ูู ุงููุดุงุฑูุน ุงูุญููููุฉ ุนูู Go.  ูุง ููุฌุฏ.  ููุฐูู ูุงุดู :).  ูุง ููุฌุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฃููู ุฃูู ูู ุฎูุงู ุชุณููุฉ ุงูููุชุจุฉ ุจููุณ ุทุฑููุฉ ุงูุฎุงุฏู ุ ุณูู ุฃุชุนุงูู ูุน ุงูุงุฑุชุจุงู ุฅูู ุงูุฃุจุฏ.  ูููู ุฃุนุชูุฏ ุฃู ูุฐุง ูู ุงูุฎูุงุฑ ุงูุตุญูุญ ุ ูุฃู ุงูุนููุงุก (ูุซู ุงูุทุฑุฏ ุงููุฑูุฒู- js ุ ุงูุทุฑุฏ ุงููุฑูุฒู- go) ูุนูููู ูุน ูู ูู ููุชุจุฉ ุงูุทุฑุฏ ุงููุฑูุฒู ูุฎุงุฏู Centrifugo.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅู ุงูุงุณู ุฑุงุณุฎ ุจุงููุนู ูู ุฃุฐูุงู ุงููุณุชุฎุฏููู ุ ููุง ุฃุฑูุฏ ุฃู ุฃููุฏ ูุฐู ุงูุงุฑุชุจุงุทุงุช.  ููุน ุฐูู ุ ููุฒูุฏ ูู ุงููุถูุญ ุ ุณุฃูุถุญ ูุฑุฉ ุฃุฎุฑู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุทุฑุฏ ุงููุฑูุฒู - ููุชุจุฉ ููุบุฉ Go ุ </li><li style=";text-align:right;direction:rtl">  Centrifugo ูู ุญู ุฌุงูุฒ ุ ุฎุฏูุฉ ูููุตูุฉ ุ ูุงูุชู ุณูุชู ุจูุงุคูุง ูู ุงูุฅุตุฏุงุฑ 2 ูู ููุชุจุฉ ุงูุทุฑุฏ ุงููุฑูุฒู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุชุตููููุง ุ ุชูุชุฑุถ Centrifugo (ุฎุฏูุฉ ูุงุฆูุฉ ุจุฐุงุชูุง ูุง ุชุนุฑู ุฃู ุดูุก ุนู ุงููุงุฌูุฉ ุงูุฎูููุฉ) ุฃู ุชุฏูู ุงูุฑุณุงูุฉ ุนุจุฑ ุงูููู ูู ุงูููุช ุงููุนูู ุณููุชูู ูู ุงูุฎุงุฏู ุฅูู ุงูุนููู.  ูุงุฐุง ุชูุตุฏุ  ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจูุชุงุจุฉ ุฑุณุงูุฉ ุฅูู ุงูุฏุฑุฏุดุฉ ุ ููุฌุจ ุฃููุงู ุฅุฑุณุงู ูุฐู ุงูุฑุณุงูุฉ ุฅูู ุงููุงุฌูุฉ ุงูุฎูููุฉ ููุชุทุจูู (ุนูู ุณุจูู ุงููุซุงู ุ AJAX ูู ุงููุชุตูุญ) ุ ูุงูุชุญูู ูู ุตุญุชูุง ุนูู ุงูุฌุงูุจ ุงูุฎููู ุ ูุญูุธูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุซู ุฅุฑุณุงููุง ุฅูู Centrifuge API.  ุชุฒูู ุงูููุชุจุฉ ูุฐุง ุงูููุฏ ุ ููุง ูุณูุญ ูู ุจุชูุธูู ุงูุชุจุงุฏู ุซูุงุฆู ุงูุงุชุฌุงู ููุฑุณุงุฆู ุบูุฑ ุงููุชุฒุงููุฉ ุจูู ุงูุฎุงุฏู ูุงูุนููู ุ ููุฐูู ููุงููุงุช RPC. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jf/_d/er/jf_dervpzmkl2fuprcse34ayoke.png"></p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุจุณูุท: ูููู ุจุชูููุฐ ุฎุงุฏู ุตุบูุฑ ุนูู Go ุจุงุณุชุฎุฏุงู ููุชุจุฉ Centrifuge.  ุณูุชููู ุงูุฎุงุฏู ุฑุณุงุฆู ูู ุนููุงุก ุงููุณุชุนุฑุถ ุนุจุฑ Websocket ุ ูุณูููู ูุฏู ุงูุนููู ุญูู ูุตู ููููู ูู ุฎูุงูู ุชูุฌูู ุฑุณุงูุฉ ุ ูุงูุถุบุท ุนูู Enter - ูุณูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุฅูู ุฌููุน ุงููุณุชุฎุฏููู ุงููุดุชุฑููู ูู ุงูููุงุฉ.  ููุฐุง ูู ุงูุฅุตุฏุงุฑ ุงูุฃูุซุฑ ุจุณุงุทุฉ ููุฏุฑุฏุดุฉ.  ุจุฏุง ูู ุฃูู ุณูููู ูู ุงูุฃูุณุจ ูุถุน ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌููุฑ</a> . </p><br><p style=";text-align:right;direction:rtl">  ููููู ุชุดุบูู ูุงููุนุชุงุฏ: </p><br><pre style=";text-align:right;direction:rtl"><code class="go hljs">git clone https:<span class="hljs-comment"><span class="hljs-comment">//gist.github.com/2f1a38ae2dcb21e2c5937328253c29bf.git cd 2f1a38ae2dcb21e2c5937328253c29bf go get -u github.com/centrifugal/centrifuge go run main.go</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซู ุงูุชูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 8000</a> ุ ุงูุชุญ ุงูุนุฏูุฏ ูู ุนูุงูุงุช ุชุจููุจ ุงููุชุตูุญ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ุชุญุฏุซ ููุทุฉ ุงูุฏุฎูู ุฅูู ููุทู ุงูุนูู ุงูุฎุงุต ุจุงูุชุทุจูู ุนูุฏ ุชุนููู <code>On().Connect()</code> ูุธุงุฆู ุฑุฏ ุงูุงุชุตุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">node.On().Connect(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ctx context.Context, client *centrifuge.Client, e centrifuge.ConnectEvent)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">centrifuge</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConnectReply</span></span></span></span> { client.On().Disconnect(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e centrifuge.DisconnectEvent)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">centrifuge</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DisconnectReply</span></span></span></span> { log.Printf(<span class="hljs-string"><span class="hljs-string">"client disconnected"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> centrifuge.DisconnectReply{} }) log.Printf(<span class="hljs-string"><span class="hljs-string">"client connected via %s"</span></span>, client.Transport().Name()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> centrifuge.ConnectReply{} })</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุฏุง ูู ุงูููุฌ ุงููุงุฆู ุนูู ุฑุฏ ุงูุงุชุตุงู ูู ุงูุฃูุซุฑ ููุงุกูุฉ ููุชูุงุนู ูุน ุงูููุชุจุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ููุฌ ููุงุซู ุ ููุชูุจ ุจุดูู ุถุนูู ููุท ุ ูู ุชูููุฐ <a href="">ุฎุงุฏู socket-io ุนูู Go</a> .  ุฅุฐุง ูุงูุช ูุฏูู ูุฌุฃุฉ ุฃููุงุฑ ุญูู ููููุฉ ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุจุดูู ุงุตุทูุงุญู - ุณุฃููู ุณุนูุฏูุง ูุณูุงุน ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุซุงู ุจุณูุท ููุบุงูุฉ ูุง ููุถุญ ุฌููุน ููุฒุงุช ุงูููุชุจุฉ.  ูุฏ ููุงุญุธ ุดุฎุต ูุง ุฃูู ููุซู ูุฐู ุงูุฃุบุฑุงุถ ุ ูู ุงูุฃุณูู ุฃุฎุฐ ููุชุจุฉ ููุนูู ูุน Websocket.  ุนูู ุณุจูู ุงููุซุงู ุ Gorilla Websocket.  ูุฐุง ูู ุงููุงูุน.  ููุน ุฐูู ุ ุญุชู ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ุนููู ูุณุฎ ุฌุฒุก ูุงุฆู ูู ุฑูุฒ ุงูุฎุงุฏู ูู ุงููุซุงู ุงูููุฌูุฏ ูู ูุณุชูุฏุน Gorilla Websocket.  ูุงุฐุง ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฅูู ุชูุณูุน ุงูุชุทุจูู ุฅูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ูุง ุชุญุชุงุฌ ุฅูู ููุงุฉ ูุดุชุฑูุฉ ูุงุญุฏุฉ ุ ูููู ุนุฏุฉ - ููููู ูููุณุชุฎุฏููู ุงูุงุดุชุฑุงู ูุฅูุบุงุก ุงูุงุดุชุฑุงู ุฏููุงูููููุง ุฃุซูุงุก ุงูุชููู ูู ุชุทุจููู ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุชุญุชุงุฌ ุฅูู ุงูุนูู ุนูุฏูุง ูุชุนุฐุฑ ุฅูุดุงุก ุงุชุตุงู Websocket (ูุง ููุฌุฏ ุฏุนู ูู ูุชุตูุญ ุงูุนููู ุ ุฃู ููุงู ููุญู ูููุชุตูุญ ุ ุฃู ููุน ูู ุงููููู ูู ุงูุทุฑูู ุจูู ุงูุนููู ูุงูุฎุงุฏู ููุทุน ุงูุงุชุตุงู) ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุชุญุชุงุฌ ุฅูู ุงุณุชุนุงุฏุฉ ุงูุฑุณุงุฆู ุงูุชู ูุงุชูุง ุงูุนููู ุฃุซูุงุก ูุชุฑุงุช ุงูุฑุงุญุฉ ุงููุตูุฑุฉ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช ุฏูู ุชุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุชุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุชุฑุฎูุต ุงููุณุชุฎุฏู ูู ุงูููุงุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุชุญุชุงุฌ ุฅูู ูุตู ุงูุงุชุตุงู ุงูุฏุงุฆู ุนู ุงููุณุชุฎุฏููู ุงูุฐูู ุชู ุฅูุบุงุก ุชูุดูุทูู ูู ุงูุชุทุจูู ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุชุญุชุงุฌ ุฅูู ูุนูููุงุช ุญูู ูู ูู ุญุงูููุง ุนูู ุงูููุงุฉ ุฃู ุงูุฃุญุฏุงุซ ุงูุชู ุงุดุชุฑู ูููุง / ุฃูุบู ุงุดุชุฑุงููุง ูู ุงูููุงุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ุฃูู ุจุญุงุฌุฉ ุฅูู ููุงููุณ ููุฑุงูุจุฉุ </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ูููุชุจุฉ Centrifuge ูุณุงุนุฏุชู ูู ุฐูู - ูู ุงููุงูุน ุ ููุฏ ูุฑุซุช ุฌููุน ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ ุงูุชู ูุงูุช ูุชููุฑุฉ ุณุงุจููุง ูู Centrifugo.  ูููู ุงูุนุซูุฑ ุนูู ุงููุฒูุฏ ูู ุงูุฃูุซูุฉ ุงูุชู ุชูุถุญ ุงูููุงุท ุงููุฐููุฑุฉ ุฃุนูุงู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Github</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ุฅุฑุซ Centrifugo ุงูููู ูุงูุตูุง ุ ุญูุซ ุงุนุชูุฏุช ุงูููุชุจุฉ ุฌููุน ุขููุงุช ุงูุฎุงุฏู ุ ูุงูุชู ูู ุฃุตููุฉ ุชูุงููุง ุ ูุฑุจูุง ุ ูุฏ ุชุจุฏู ุบูุฑ ูุงุถุญุฉ ุฃู ูุญููุฉ ุจููุฒุงุช ุบูุฑ ุถุฑูุฑูุฉ ูุดุฎุต ูุง.  ุญุงููุช ุชูุธูู ุงูุดูุฑุฉ ุจุทุฑููุฉ ูุง ุชุคุซุฑ ูููุง ุงูููุฒุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ ุนูู ุงูุฃุฏุงุก ุงูุนุงู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุจุนุถ ุงูุชุญุณููุงุช ูู ุงูููุชุจุฉ ุงูุชู ุชุณูุญ ุจุงุณุชุฎุฏุงู ุฃูุซุฑ ููุงุกุฉ ููููุงุฑุฏ.  ูุฐุง ูุฌูุน ุจูู ุนุฏุฉ ุฑุณุงุฆู ูู ุฅุทุงุฑ Websocket ูุงุญุฏ ููุญูุธ ุนูู ูุชุงุจุฉ ููุงููุงุช ุงููุธุงู ุฃู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏุงู Gogoprotobuf ูุฅุฌุฑุงุก ุชุณูุณู ูุฑุณุงุฆู Protobuf ูุบูุฑูุง.  ุจุงูุญุฏูุซ ุนู Protobuf. </p><br><h1 id="binarnyy-protobuf-protokol" style=";text-align:right;direction:rtl">  ุจุฑูุชูููู Protobuf ุงูุซูุงุฆู </h1><br><p style=";text-align:right;direction:rtl">  ุฃุฑุฏุช ุญููุง ุฃู ุชุนูู Centrifugo ูุน ุงูุจูุงูุงุช ุงูุซูุงุฆูุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุณ ุฃูุง ููุท</a> ) ุ ูุฐุง ูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ุ ุฃุฑุฏุช ุฅุถุงูุฉ ุจุฑูุชูููู ุซูุงุฆู ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจุฑูุชูููู ุงูุญุงูู ุงููุงุฆู ุนูู JSON.  ุงูุขู ููุตู ุงูุจุฑูุชูููู ุจุฃูููู ุจุฃูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฎุทุท Protobuf</a> .  ุณูุญ ููุง ุฐูู ุจุฌุนููุง ุฃูุซุฑ ุชูุธููุงู ุ ูุฅุนุงุฏุฉ ุงูุชูููุฑ ูู ุจุนุถ ุงููุฑุงุฑุงุช ุบูุฑ ุงููุงุถุญุฉ ูู ุจุฑูุชูููู ุงูุฅุตุฏุงุฑ ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃูู ูุณุช ุจุญุงุฌุฉ ุฅูู ุฃู ุชุฎุจุฑ ููุชุฑุฉ ุทูููุฉ ูุง ูู ูุฒุงูุง Protobuf ุนูู JSON - ุงูุฏูุฌ ูุณุฑุนุฉ ุงูุชุณูุณู ูุงููุฎุทุท ุงูุตุงุฑู.  ููุงู ุนูุจ ูู ุดูู ุนุฏู ุงููุถูุญ ุ ูููู ุงูุขู ูุฏู ุงููุณุชุฎุฏููู ุงููุฑุตุฉ ูุชุญุฏูุฏ ูุง ูู ุฃูุซุฑ ุฃูููุฉ ููู ูู ุญุงูุฉ ูุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุฌุจ ุฃู ุชูุฎูุถ ุญุฑูุฉ ุงููุฑูุฑ ุงููุงุชุฌุฉ ุนู ุจุฑูุชูููู Centrifugo ุนูุฏ ุงุณุชุฎุฏุงู Protobuf ุจุฏูุงู ูู JSON ูุฑุชูู ุชูุฑูุจูุง (ุจุงุณุชุซูุงุก ุจูุงูุงุช ุงูุชุทุจูู).  ุงูุฎูุถ ุงุณุชููุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ุงุฎุชุจุงุฑุงุช ุงูุญูู ุงูุงุตุทูุงุนูุฉ ุจููุณ ุงููุนุฏู ~ ูุฑุชูู ููุงุฑูุฉ ุจู JSON.  ูุง ุชุชุญุฏุซ ูุฐู ุงูุฃุฑูุงู ูุซูุฑูุง ูู ุงููุงูุน ุนูุง ุณูุนุชูุฏ ุนููู ูู ุดูุก ุนููููุง ุนูู ููู ุชุนุฑูู ุชุญููู ุชุทุจูู ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุงูุงูุชูุงู ุ ุฃุทููุช ุนูู ุฌูุงุฒ ูุนูู ุจูุธุงู Debian 9.4 ู 32 Intelยฎ Xeonยฎ Platinum 8168 CPU @ 2.70GHz vCPU ุ ููุง ุณูุญ ููุง ุจููุงุฑูุฉ ุนุฑุถ ุงููุทุงู ุงูุชุฑุฏุฏู ููุชูุงุนู ุจูู ุงูุนููู ูุงูุฎุงุฏู ูู ุญุงูุฉ ุงุณุชุฎุฏุงู ุจุฑูุชูููู JSON ูุจุฑูุชูููู Protobuf.  ูุงู ููุงู 1000 ูุดุชุฑู ูู ููุงุฉ ูุงุญุฏุฉ.  ูู ูุฐู ุงูููุงุฉ ุ ุชู ูุดุฑ ุงูุฑุณุงุฆู ูู 4 ุชูุงุฑุงุช ูุชุณููููุง ูุฌููุน ุงููุดุชุฑููู.  ูุงู ุญุฌู ูู ุฑุณุงูุฉ 128 ุจุงูุช. </p><br><p style=";text-align:right;direction:rtl">  ูุชุงุฆุฌ ุจุญุซ JSON: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">$ <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span> -s ws:<span class="hljs-comment"><span class="hljs-comment">//localhost:8000/connection/websocket -n 1000 -ns 1000 -np 4 channel Starting benchmark [msgs=1000, msgsize=128, pubs=4, subs=1000] Centrifuge Pub/Sub stats: 265,900 msgs/sec ~ 32.46 MB/sec Pub stats: 278 msgs/sec ~ 34.85 KB/sec [1] 73 msgs/sec ~ 9.22 KB/sec (250 msgs) [2] 71 msgs/sec ~ 9.00 KB/sec (250 msgs) [3] 71 msgs/sec ~ 8.90 KB/sec (250 msgs) [4] 69 msgs/sec ~ 8.71 KB/sec (250 msgs) min 69 | avg 71 | max 73 | stddev 1 msgs Sub stats: 265,635 msgs/sec ~ 32.43 MB/sec [1] 273 msgs/sec ~ 34.16 KB/sec (1000 msgs) ... [1000] 277 msgs/sec ~ 34.67 KB/sec (1000 msgs) min 265 | avg 275 | max 278 | stddev 2 msgs</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ ู ูุถูุฉ Protobuf: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">$ <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span> -s ws:<span class="hljs-comment"><span class="hljs-comment">//localhost:8000/connection/websocket?format=protobuf -n 100000 -ns 1000 -np 4 channel Starting benchmark [msgs=100000, msgsize=128, pubs=4, subs=1000] Centrifuge Pub/Sub stats: 681,212 msgs/sec ~ 83.16 MB/sec Pub stats: 685 msgs/sec ~ 85.69 KB/sec [1] 172 msgs/sec ~ 21.57 KB/sec (25000 msgs) [2] 171 msgs/sec ~ 21.47 KB/sec (25000 msgs) [3] 171 msgs/sec ~ 21.42 KB/sec (25000 msgs) [4] 171 msgs/sec ~ 21.42 KB/sec (25000 msgs) min 171 | avg 171 | max 172 | stddev 0 msgs Sub stats: 680,531 msgs/sec ~ 83.07 MB/sec [1] 681 msgs/sec ~ 85.14 KB/sec (100000 msgs) ... [1000] 681 msgs/sec ~ 85.13 KB/sec (100000 msgs) min 680 | avg 680 | max 685 | stddev 1 msgs</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชูุงุญุธ ุฃู ุฅูุชุงุฌูุฉ ูุฐุง ุงูุชุซุจูุช ุฃูุจุฑ ุจุฃูุซุฑ ูู ูุฑุชูู ูู ุญุงูุฉ Protobuf.  ูููู ุงูุนุซูุฑ ุนูู ุงูุจุฑูุงูุฌ ุงููุตู ููุนููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> - ูุฐุง ูู ุงููุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุฌุนู ูููุงุชุณ ุงูุฐู ุชู ุชููููู ูุน ุญูุงุฆู ุฌูุงุฒ ุงูุทุฑุฏ ุงููุฑูุฒู</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ ุฃูุถูุง ุฃู ุฃุฏุงุก ุชุณูุณู JSON ุนูู ุงูุฎุงุฏู ูููู "ุชุนุฒูุฒู" ุจุงุณุชุฎุฏุงู ููุณ ุงูููุฌ ุงููุชุจุน ูู gogoprotobuf - ุชุฌูุน ุงููุฎุฒู ุงููุคูุช ูุฅูุดุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ - ูุชู ุญุงูููุง ุชุตููู JSON ุจูุงุณุทุฉ ุญุฒูุฉ ูู ููุชุจุฉ Go ุงูููุงุณูุฉ ุงููุจููุฉ ุนูู ุงูุนูุงุณ.  ุนูู ุณุจูู ุงููุซุงู ุ ูู Centrifugo ุ ูุชู ุฅุฌุฑุงุก ุชุณูุณู ููุฅุตุฏุงุฑ ุงูุฃูู ูู JSON ูุฏูููุง ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ</a> ุชููุฑ <a href="">ุชุฌูุนูุง ูุคูุชูุง</a> .  ูููู ุงูููุงู ุจุดูุก ููุงุซู ูู ุงููุณุชูุจู ูุฌุฒุก ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู. </p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู protobuf ุนูุฏ ุงูุงุชุตุงู ุจุงูุฎุงุฏู ูู ูุชุตูุญ.  ูุณุชุฎุฏู ุนููู ุฌุงูุง ุณูุฑูุจุช ููุชุจุฉ protobuf.js ููุฐุง ุงูุบุฑุถ.  ูุธุฑูุง ูุฃู ููุชุจุฉ protobufjs ุซูููุฉ ุฌุฏูุง ุ ูุณูููู ุนุฏุฏ ุงููุณุชุฎุฏููู ุจุงูุชูุณูู ุงูุซูุงุฆู ุตุบูุฑูุง ุ ุจุงุณุชุฎุฏุงู webpack ูุฎูุงุฑุฒููุฉ ุงูุชุฒุงุฒ ุงูุดุฌุฑุฉ ุงูุฎุงุตุฉ ุจูุง ุ ูุฅููุง ููุดุฆ ุฅุตุฏุงุฑูู ูู ุงูุนููู - ุฃุญุฏููุง ูุน ุฏุนู ุจุฑูุชูููู JSON ููุท ุ ูุงูุขุฎุฑ ูุน ุฏุนู JSON ู protobuf.  ุจุงููุณุจุฉ ููุจูุฆุงุช ุงูุฃุฎุฑู ุงูุชู ูุง ููุนุจ ูููุง ุญุฌู ุงูููุงุฑุฏ ูุซู ูุฐุง ุงูุฏูุฑ ุงูุญุงุณู ุ ูุง ูููู ููุนููุงุก ุงูููู ุจุดุฃู ูุฐุง ุงููุตู. </p><br><h1 id="json-web-token-jwt" style=";text-align:right;direction:rtl">  JSON Web Token (JWT) </h1><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุฅุญุฏู ูุดุงูู ุงุณุชุฎุฏุงู ุฎุงุฏู ูุณุชูู ูุซู Centrifugo ูู ุฃูู ูุง ูุนุฑู ุฃู ุดูุก ุนู ุงููุณุชุฎุฏููู ูุทุฑููุฉ ุงููุตุงุฏูุฉ ุงูุฎุงุตุฉ ุจูู ุ ูููุน ุขููุฉ ุงูุฌูุณุฉ ุงูุชู ุชุณุชุฎุฏููุง ุงููุงุฌูุฉ ุงูุฎูููุฉ.  ูุชุญุชุงุฌ ุฅูู ูุตุงุฏูุฉ ุงูุงุชุตุงู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููููุงู ุจุฐูู ุ ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู Centrifuge ุ ุนูุฏ ุงูุงุชุตุงู ุ ุชู ุงุณุชุฎุฏุงู ุชูููุน SHA-256 HMAC ุ ุจูุงุกู ุนูู ููุชุงุญ ุณุฑู ูุนุฑูู ููุท ูููุงุฌูุฉ ุงูุฎูููุฉ ูุฃุฌูุฒุฉ ุงูุทุฑุฏ ุงููุฑูุฒู.  ูุฐุง ูุถูู ุฃู ูููุฉ ุงููุณุชุฎุฏู ุงูุชู ูุฑุณููุง ุงูุนููู ุชุฎุตู ุญููุง. </p><br><p style=";text-align:right;direction:rtl">  ุฑุจูุง ูุงู ุงูููู ุงูุตุญูุญ ููุนููุงุช ุงูุงุชุตุงู ูุฅูุดุงุก ุฑูุฒ ูููุฒ ุฃุญุฏ ุงูุตุนูุจุงุช ุงูุฑุฆูุณูุฉ ูู ุฏูุฌ Centrifugo ูู ุงููุดุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุธูุฑ ุฌูุงุฒ ุงูุทุฑุฏ ุงููุฑูุฒู ุ ูู ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนูุงุฑ JWT</a> ุดุงุฆุนูุง ุจุนุฏ.  ุงูุขู ุ ุจุนุฏ ุจุถุน ุณููุงุช ุ ุฃุตุจุญุช ุงูููุชุจุงุช ุงูุฎุงุตุฉ ุจุฌูู JWT ูุชุงุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุบุงุช ุงูุฃูุซุฑ ุดููุนูุง</a> .  ุงูููุฑุฉ ุงูุฑุฆูุณูุฉ ูู JWT ูู ุจุงูุถุจุท ูุง ูุญุชุงุฌู ุฌูุงุฒ ุงูุทุฑุฏ ุงููุฑูุฒู: ุชุฃููุฏ ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ.  ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู HMAC ุ ุฃุชุงุญ ุงูุชูููุน ุงูุฐู ุชู ุฅูุดุงุคู ูุฏูููุง ุงููุฌุงู ูุงุณุชุฎุฏุงู JWT.  ูุฐุง ุฌุนู ูู ุงููููู ุฅุฒุงูุฉ ุงูุญุงุฌุฉ ุฅูู ุฏุนู ูุธุงุฆู ุงููุณุงุนุฏ ููุฅูุดุงุก ุงูุตุญูุญ ููุฑููุฒ ุงููููุฒุฉ ูู ุงูููุชุจุงุช ููุบุงุช ูุฎุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูู Python ุ ูููู ุฅูุดุงุก ุฑูุฒ ูููุฒ ููุงุชุตุงู ุจู Centrifugo ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> jwt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time token = jwt.encode({<span class="hljs-string"><span class="hljs-string">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">"42"</span></span>, <span class="hljs-string"><span class="hljs-string">"exp"</span></span>: int(time.time()) + <span class="hljs-number"><span class="hljs-number">10</span></span>*<span class="hljs-number"><span class="hljs-number">60</span></span>}, <span class="hljs-string"><span class="hljs-string">"secret"</span></span>).decode() print(token)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูููู ููุงุญุธุฉ ุฃูู ุฅุฐุง ููุช ุชุณุชุฎุฏู ููุชุจุฉ Centrifuge ุ ูููููู ูุตุงุฏูุฉ ุงููุณุชุฎุฏู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ Go ุงูุฃุตููุฉ - ุฏุงุฎู ุงููุณูุทุฉ.  ุงูุฃูุซูุฉ ููุฌูุฏุฉ ูู ุงููุณุชูุฏุน. </p><br><h1 id="grpc" style=";text-align:right;direction:rtl">  GRPC </h1><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุงูุชุทููุฑ ุ ุฌุฑุจุช ุงูุฏูู ุซูุงุฆู ุงูุงุชุฌุงู GRPC ูููู ููุงุชุตุงู ุจูู ุงูุนููู ูุงูุฎุงุฏู (ุจุงูุฅุถุงูุฉ ุฅูู Websocket ู SockJS ุงูุงุญุชูุงุทูุฉ ุงููุณุชูุฏุฉ ุฅูู HTTP).  ูุงุฐุง ุงูููุ  ุนูู.  ููุน ุฐูู ุ ูู ุฃุฌุฏ ุณููุงุฑูู ูุงุญุฏูุง ุญูุซ ุณูููู ุชุฏูู GRPC ุซูุงุฆู ุงูุงุชุฌุงู ุฃูุถู ูู Websocket.  ูุธุฑุช ุจุดูู ุฑุฆูุณู ุฅูู ููุงููุณ ุงูุฎุงุฏู: ุญุฑูุฉ ุงููุฑูุฑ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุฎูุงู ูุงุฌูุฉ ุงูุดุจูุฉ ุ ูุงุณุชููุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจูุงุณุทุฉ ุงูุฎุงุฏู ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุงุชุตุงูุงุช ุงููุงุฑุฏุฉ ุ ูุงุณุชููุงู ุงูุฐุงูุฑุฉ ููู ุงุชุตุงู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏุช GRPC ุฃูุงู Websocket ูู ุฌููุน ุงูููุงุญู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฒูุฏ ูุณุจุฉ GRPC ูู ุงูุฒูุงุฑุงุช ุจูุณุจุฉ 20ูช ูู ุณููุงุฑูููุงุช ููุงุซูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุณุชููู GRPC ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ 2-3 ูุฑุงุช (ุงุนุชูุงุฏูุง ุนูู ุชูููู ุงูุงุชุตุงูุงุช - ุฌููุนูู ูุดุชุฑููู ูู ูููุงุช ูุฎุชููุฉ ุฃู ุฌููุนูู ูุดุชุฑููู ูู ููุงุฉ ูุงุญุฏุฉ) ุ </li><li style=";text-align:right;direction:rtl">  ูุณุชููู GRPC 4 ุฃุถุนุงู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููู ุงุชุตุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงุชุตุงูุงุช 10 ุขูุงู ุ ุฃูู ุฎุงุฏู Websocket 500 ููุฌุง ุจุงูุช ูู ุงูุฐุงูุฑุฉ ุ ู GRPC - 2 ุฌูุฌุง ุจุงูุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุงูุช ุงููุชุงุฆุฌ ... ูุชููุนุฉ.  ุจุดูู ุนุงู ุ ูู GRPC ุ ุจุตูุชู ูุณููุฉ ููู ููุนููู ุ ูู ุฃุฑ ุงููุซูุฑ ูู ุงููุนููู - ูุญุฐูุช ุงูุดูุฑุฉ ุจุถููุฑ ูุฑุชุงุญ ุญุชู ุฃููุงุช ุฃูุถู ุ ุฑุจูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุฅู GRPC ุฌูุฏุฉ ูููุง ุชู ุฅูุดุงุคู ุฃุณุงุณูุง - ูุฅูุดุงุก ุฑูุฒ ูุณูุญ ูู ุจุฅุฌุฑุงุก ููุงููุงุช RPC ุจูู ุงูุฎุฏูุงุช ุจุงุณุชุฎุฏุงู ูุฎุทุท ูุญุฏุฏ ูุณุจููุง.  ูุฐูู ุ ุจุงูุฅุถุงูุฉ ุฅูู HTTP API ุ ุณูููู ููุทุฑุฏ ุงููุฑูุฒู ุงูุขู ุฏุนู API ุงููุงุฆู ุนูู GRPC ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุดุฑ ุฑุณุงุฆู ุฌุฏูุฏุฉ ุฅูู ุงูููุงุฉ ูุทุฑู ุฃุฎุฑู ูุชุงุญุฉ ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุฎุงุฏู. </p><br><h1 id="slozhnosti-s-klientami" style=";text-align:right;direction:rtl">  ุงูุตุนูุจุงุช ูุน ุงูุนููุงุก </h1><br><p style=";text-align:right;direction:rtl">  ุงูุชุบููุฑุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ุ ุฃุฒูุช ุงูุฏุนู ุงูุฅูุฒุงูู ููููุชุจุงุช ููุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฎุงุฏู - ุฃุตุจุญ ูู ุงูุฃุณูู ุงูุงูุฏูุงุฌ ุนูู ุฌุงูุจ ุงูุฎุงุฏู ุ ููุน ุฐูู ุ ุชู ุชุบููุฑ ุจุฑูุชูููู ุงูุนููู ูู ุงููุดุฑูุน ููุฏูู ุนุฏุฏ ูุงูู ูู ุงูููุฒุงุช.  ูุฐุง ูุฌุนู ุชูููุฐ ุงูุนููุงุก ุตุนุจูุง ููุบุงูุฉ.  ุจุงููุณุจุฉ ุฅูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ุ ูุฏููุง ุงูุขู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนููู ูู Javascript</a> ูุนูู ูู ุงููุชุตูุญุงุช ุ ูุฌุจ ุฃู ูุนูู ูุน NodeJS ู React-Native.  ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนููู ุนูู Go</a> ููุจูู ุนูู ุฃุณุงุณู ูุนูู ุฃุณุงุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑูุงุจุท ูุดุฑูุน gomobile ููุธุงูู</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุดุบูู iOS ู Android</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุชุญููู ุงูุณุนุงุฏุฉ ุงููุงููุฉ ุ ูุง ุชูุฌุฏ ููุชุจุงุช ุฃุตููุฉ ูุงููุฉ ููุธุงูู ุงูุชุดุบูู iOS ู Android.  ุจุงููุณุจุฉ ูููุณุฎุฉ ุงูุฃููู ูู Centrifugo ุ ุชู ุดุฑุงุคูุง ูู ูุจู ุฑุฌุงู ูู ูุฌุชูุน ููุชูุญ ุงููุตุฏุฑ.  ุฃุฑูุฏ ุฃู ุฃุตุฏู ุฃู ุดูุฆูุง ููุฐุง ุณูุญุฏุซ ุงูุขู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฌุฑุจุช ุญุธู ูุคุฎุฑูุง ุนู ุทุฑูู ุฅุฑุณุงู ุทูุจ ููุญุตูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุญุฉ MOSS ูู ููุฒููุง</a> ุ ุจูุฏู ุงูุงุณุชุซูุงุฑ ูู ุชุทููุฑ ุงูุนููุงุก ุ ูููู ุชู ุฑูุถู.  ูุงูุณุจุจ ูู ุงููุฌุชูุน ุบูุฑ ุงููุดุท ุจุดูู ูุงู ุนูู Github.  ููุฃุณู ุ ูุฐุง ุตุญูุญ ุ ูููู ููุง ุชุฑูู ุ ูุฅููู ุฃุชุฎุฐ ุจุนุถ ุงูุฎุทูุงุช ูุชุญุณูู ุงููุถุน. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/y4/3q/kc/y43qkcl_yp7fjdgalrqvuzw5hl0.jpeg"></p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูู ุฃุนูู ุนู ุฌููุน ุงูููุฒุงุช ุงูุชู ุณุชุธูุฑ ูู Centrifugo v2 - ูุฒูุฏ ูู ุงููุนูููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญูู ุงููุดููุฉ ูู Github</a> .  ูู ูุชู ุฅุตุฏุงุฑ ุงูุฎุงุฏู ุจุนุฏ ุ ููููู ุณูุญุฏุซ ูุฑูุจูุง.  ูุง ุชุฒุงู ููุงู ูุญุธุงุช ุบูุฑ ููุชููุฉ ุ ุจูุง ูู ุฐูู ุงูุญุงุฌุฉ ุฅูู ุงุณุชููุงู ุงููุซุงุฆู.  ูููู ุงูุงุทูุงุน ุนูู ุงููููุฐุฌ ุงูุฃููู ูููุซุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ุฅุฐุง ููุช ูู ูุณุชุฎุฏูู Centrifugo ุ ููุฐุง ูู ุงูููุช ุงูููุงุณุจ ููุชุฃุซูุฑ ุนูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุงูุฎุงุฏู.  ููุช ููุณ ูู ุงููุฎูู ููู ูุณุฑ ุดูุก ูุง ุ ุซู ุงูููุงู ุจุนูู ุฃูุถู ูุงุญููุง.  ููููุชููู: ูุชุฑูุฒ ุงูุชุทููุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ูุฑุน C2</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุตุนุจ ุจุงููุณุจุฉ ูู ุฃู ุฃุญูู ุนูู ูุฏู ุงูุทูุจ ุนูู ููุชุจุฉ ุงูุทุฑุฏ ุงููุฑูุฒู ุงูุชู ุชููู ูุฑุงุก Centrifugo v2.  ูู ุงูููุช ุงูุญุงูู ุ ุฃูุง ุณุนูุฏ ูุฃููู ุชูููุช ูู ุงููุตูู ุจู ุฅูู ุญุงูุชู ุงูุญุงููุฉ.  ุฃูู ูุคุดุฑ ุจุงููุณุจุฉ ูู ุงูุขู ูู ุฅุฌุงุจุฉ ุงูุณุคุงู "ูู ุณุฃุณุชุฎุฏู ูุฐู ุงูููุชุจุฉ ูู ูุดุฑูุนู ุงูุดุฎุตูุ"  ุฌูุงุจู ูุนู.  ูู ุงูุนููุ  ูุนู  ูุฐูู ุ ุฃุนุชูุฏ ุฃู ุงููุทูุฑูู ุงูุขุฎุฑูู ุณููุฏุฑูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุณูุฑุชูุฑ ุฎุงุต ุฃูุฏ ุฃู ุฃุดูุฑ ุงูุฑุฌุงู ุงูุฐูู ุณุงุนุฏูุง ูู ุงูุนูู ูุงููุดูุฑุฉ - ุฏููุชุฑู ููุฑููููู ุ ุฃุฑุชููู ุฑูุงุจููููู ุ ุฃูููุบ ููุฒููู.  ุณูููู ุถูู ุจุฏููู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar416915/">https://habr.com/ru/post/ar416915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar416905/index.html">ุนุฑุถ ุชูุฏููู ูู Boston Dynamics SpotMini</a></li>
<li><a href="../ar416907/index.html">ูุธุฑูุฉ ุงูุณุนุงุฏุฉ. ูุงููู ุงูุญูุงุฑ ุงููุญุดู ูุงูุทุงุจูุฑ ุงูุบุฑูุจุฉ</a></li>
<li><a href="../ar416909/index.html">ุณุฌู ุงูุฌูุณุฉ ุงููุดุท ูู PostgreSQL - ุงูุชุฏุงุฏ pgsentinel ุงูุฌุฏูุฏ</a></li>
<li><a href="../ar416911/index.html">ูุงู ูู ุงูููุชุฑุถ ุฃู ูููู Chatbots ูู ุงูุฅูุฌุงุฒ ุงูุชุงูู: ูุง ุงูุฎุทุฃ ุงูุฐู ุญุฏุซุ</a></li>
<li><a href="../ar416913/index.html">ูุง ุงูุฐู ูุฌุจ ุฃู ููุณุงู ุงููุณุคูู ุนูุฏ ุงูุชุจุฏูู ุฅูู ุงูุณุญุงุจุฉ - ููุงุฐุง ูุชุนูู</a></li>
<li><a href="../ar416917/index.html">ุงูุญุฒู ุงูุณุงุจุน</a></li>
<li><a href="../ar416919/index.html">ุจุฑุฌุฑ ููุฌ ูุชุณุฌูู ุดุงุดุฉ ุฎููุฉ ููุงุชูู</a></li>
<li><a href="../ar416921/index.html">ููู ูุฌุชูุน ูุฆุงุช ุงูุขูุงู ูู ุงูููุงุฆูุงุช ูุนูุง ูู ุชูุณููุจ ูุงุญุฏ</a></li>
<li><a href="../ar416925/index.html">ูุง ูุนุฑูู ุนู Ant Design</a></li>
<li><a href="../ar416927/index.html">ุดุฑูุงุช ุงูุฃุญุฐูุฉ ุงููุงุดุฆุฉ - ูููุงุฐุง ูุญุจูุง ูุงุฏู ุงูุณููููู ูุซูุฑูุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>