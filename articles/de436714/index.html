<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚶🏻 🛫 🗒️ Die Arbeit beginnt mit dem Testen. 👋🏿 👩‍👦 👶🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Leben eines jeden Entwicklers kommt ein Moment, in dem er darüber nachdenkt, eine Testkomponente für seine Idee zu erstellen. Ich werde mich erhole...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Arbeit beginnt mit dem Testen.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436714/">  Im Leben eines jeden Entwicklers kommt ein Moment, in dem er darüber nachdenkt, eine Testkomponente für seine Idee zu erstellen.  Ich werde mich erholen - im Leben eines jeden guten Entwicklers.  Wenn Sie ein Junior sind und keine besondere Verantwortung tragen, haben Sie das Recht auf viele Fehler und können diese jederzeit korrigieren.  Sie sind nicht für das von Ihnen erstellte Produkt verantwortlich und haben nicht die Motivation, eine zusätzliche Minute für die Überprüfung des generierten Codes aufzuwenden.  "Nichts, dieser Pfosten kann nicht reproduziert werden", "dieses Ding scheint zu funktionieren", "nun, zumindest tut es, was benötigt wird" - wenn Sie über das Niveau des Programmierkindergartens hinauswachsen möchten, müssen Sie jeden dieser Gedanken negieren. <br><br>  Mit der Entwicklung Ihrer eigenen Programmiererfahrung haben Sie immer mehr coole / große Kunden.  Sie werden sogar von einigen begeistert sein (von allem, wenn Sie Glück haben) - die Leute sind gut und zahlen großzügig und sind nicht wählerisch in Bezug auf die auftretenden Probleme.  Schauen wir uns einen so einfachen Fall an (sehr einfach, aber die Hauptsache, der dahinter steckt), einen Formularhandler von einem Programmierer zu erstellen, der den Aufwand nicht kennt. <br><a name="habracut"></a><br>  Die einfache Aufgabe ist also gekommen - einen Formularhandler zu schreiben.  Ziel ist es, Anträge von Kunden auf Kauf von Ziegeln anzunehmen.  Der Kunde ist groß, er ist mit großen Lieferungen von Ziegeln in loser Schüttung beschäftigt (zum Beispiel für eine Menge von mehr als 500.000 Rubel - um zumindest ein gewisses Maß an Verantwortung für das zu fühlen, was passiert).  Der Wettbewerb ist hart - Kunden können schnell zum Ziegellieferanten gehen, wenn sie nicht innerhalb eines Tages antworten. <br><br>  Unserem Programmierer wurde mitgeteilt, dass Kundendaten aus dem Formular gespeichert werden müssen - Name des Vertreters, Telefonnummer, Name des Unternehmens des Kunden, Auftragsvolumen und ein optionales Feld für die Auftragsbeschreibung.  Porakinin Gehirn, eine einfache Form wurde schnell mit Standardfeldern für die Vorderseite der Website erstellt: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/6d6647072b.png" alt="die Form"><br><br>  Daten aus dem Formular werden per AJAX-Anfrage gesendet, ohne die Seite neu zu laden.  Darüber hinaus übernimmt der Programmierer das Design des Formularhandlers und muss eine eher triviale Aufgabe bewältigen - Einträge für den neuen Kunden zur bereits vorhandenen Auftragstabelle hinzufügen und dem Kunden eine E-Mail mit einer Benachrichtigung über den neuen Kunden senden. <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/4393f0f44e.png" alt="einfacher Code einfügen"><br><br>  Das Formular funktioniert, die Daten werden erfolgreich gespeichert, der Kunde ist zufrieden.  Aber plötzlich kommt ein verärgerter Anruf vom Kunden: „Sie sagen, die Bestellung ist eingetroffen - die Millionärsfirma möchte alle Steine ​​von mir kaufen, aber die Telefonnummer stammt nicht aus dem Formular und wie kann ich sie jetzt kontaktieren?!  Morgen finden sie einen anderen Lieferanten!  Wie also was hast du gemacht ?!  Es ist deine Schuld ... "  Der Kunde zerreißt und wirft, minus Nerven, minus Vertrauen und minus Respekt.  Die Situation ist für einen Junior äußerst normal - das Fehlen jeglicher Validierung und Prüfung eingehender Daten aus dem Formular.  Die erste Aufgabe (Validierung) wird extrem einfach durch Hinzufügen von Validierungsregeln gelöst: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/3cbaa9c0e8.png" alt="Validierung"><br><cut><br>  Von nun an gibt der Site-Client nur noch die korrekten Daten an, die wir für die weitere Verarbeitung benötigen.  Gleichzeitig hat der Entwickler die Idee, den Code zu testen, um eine solche unangenehme Situation weiter zu vermeiden.  Das Testen des Felds für den Nachnamen sieht beispielsweise folgendermaßen aus (um das grundlegende Beispiel zu vereinfachen, ist der CSR-Schutz deaktiviert): <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/00ccfbb500.png" alt="fehlender Feldtest"><br><br>  Wir wissen, dass der Code in Abwesenheit dieses Felds eine von uns registrierte Antwort mit einem Fehler und einem Status von 400 zurückgeben sollte. Solche Testmethoden werden für jede spezifische Situation (oder spezifische Feldvalidierung, alles hängt von den Aufgaben und der Vorstellungskraft des Entwicklers ab) vorgeschrieben. <br><br>  Aber gibt es eine andere Entwicklungsmethode als "Ich habe es getan, aber jetzt werde ich es überprüfen"?  Wir schreiben zuerst den Code, stolpern über die Pfosten der Ausführung, reparieren ihn und erinnern uns dann an die Tests.  Dieser Ansatz kann für uns und unseren Kunden angesichts des verlorenen millionenschweren Kunden seitwärts gehen (obwohl theoretisch alle diese Kunden dies wären).  Und dann habe ich mich gefragt - was ist, wenn wir die Logik zum Erstellen der Anwendung am anderen Ende beginnen -, dass wir zuerst Anforderungen an den „Executor“ stellen und dann diese Anforderungen erfüllen?  Lass es uns versuchen. <br><br>  Wir verlassen die Aufgabe wie zuvor, wir ändern nur die Herangehensweise daran.  Wir müssen einen Formularhandler mit den Feldern fio, phone, corp, quant und content schreiben.  Das Ergebnis einer erfolgreichen Ausführung ist der Status 200, das Hinzufügen eines Felds zur Bestellung mit der Meldung "OK" und das Zurückgeben von Daten zum eingegebenen Datensatz, anderen Optionen - Status 400 und einer Liste von Fehlern. <br><cut><br>  Zunächst müssen wir eine Testmethode zum gültigen Ausfüllen von Formulardaten schreiben: <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/479183d938.png" alt="gültige Methode"><br><br>  Erstellen Sie als Nächstes die erforderliche Route und Controller-Methode (leer).  Wenn wir den Test jetzt ausführen, wird ein Fehler erwartet.  Die Validierung gültiger Daten ist nicht alles, was wir brauchen.  Jetzt beginnen wir mit dem Testen der Formularfeldvalidierung.  Wir bestimmen, welche Felder erforderlich sind - fio, phone, corp, quant und fügen eine Methode zur Überprüfung hinzu (Kommentar ist optional): <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/9fbc334d6e.png" alt="Leere"><br><br>  Der Formular-Handler muss lediglich nach eingehenden Daten fio, phone, corp, quant suchen.  Da wir alle erforderlichen Felder aus der Anforderung entfernt haben, sollte für jedes ein Fehlerfehler zurückgegeben werden.  Für den Fall, dass mindestens einer von ihnen nicht vorhanden ist - das Ausführungsproblem.  Falls gewünscht, können Sie wie zuvor eine Überprüfung auf Nachricht hinzufügen (auf „OK“ prüfen). <br>  Wir stellen eine Prüfung für die Mindestlänge der Felder fio, phone und corp aus (eine ähnliche Prüfung wird für die maximale Länge und für ungültige Zeichen in diesen Feldern durchgeführt). <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/e6d3507ea2.png" alt="Mindestlänge"><br><br>  Unsere Überprüfungen sind vorhanden, Sie können ausführen und überprüfen <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/d3d2572d83.png" alt="Ergebnis überprüfen"><br><br>  Perfekt.  Unsere Anwendung stürzte in 5 von 5 Tests ab.  Unser weiteres Ziel ist es, Testmethoden durchzugehen, die ungültige Werte für Felder festlegen und Validierungsregeln für eingehende Daten bilden.  Die Logik ist ungefähr so: Das fio-Feld kann nicht leer sein;  Länge nicht weniger als 3 und nicht mehr als 120;  Dies ist eine Zeichenfolge mit den im Namen zulässigen Zeichen (Buchstaben, Bindestriche, Einrückungen).  Das Ergebnis dieser Logik in allen Bereichen: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/1bc13f4444.png" alt="Validierung"><br><br>  Als Antwort auf eine Datei wurde eine Liste von Fehlern hinzugefügt, die jedem Feld "Problem" entsprechen.  Dies hilft uns, bestimmte Felder auf Validierung zu überprüfen (assertJsonStructure in der Testdatei).  Als nächstes fügen wir die Methode zur Validierung hinzu und erhalten die endgültige Version: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/b979543be1.png" alt="endgültige Methode"><br><br>  Und schließlich können wir überprüfen, wie unser Skript beim Testen funktioniert (ich erinnere mich, es gab 5 Fehler in 5 Tests). <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/e17df357d5.png" alt="ok"><br><br>  Wie Sie sehen, wurden alle Tests erfolgreich bestanden und nur ein Eintrag wurde in die Datenbank eingegeben (da nur eine Methode für die ordnungsgemäße Funktion konfiguriert wurde). <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/77c0dabe23.png" alt="Das Ergebnis wird in die Datenbank eingegeben"><br><br>  Was sind die Ergebnisse?  Die Anwendungsentwicklung, beginnend mit Tests, ist eine bessere Option als das übliche Schreiben von Funktionen.  Die Notwendigkeit, von der Methode nur das zu erhalten, was benötigt wird, ist vergleichbar mit der Disziplin der Armee - der Code macht genau das, was Sie von ihm verlangen, nicht einen Schritt zur Seite.  Dieser Ansatz hat jedoch eine negative Seite (wenn auch kontrovers) - Tatsache ist, dass das Schreiben zusätzlicher Funktionen (die getestet werden) auch einen Teil der für die Entwicklung des Projekts vorgesehenen Zeit in Anspruch nimmt.  Für mich ist die Wahl klar: Ein guter Programmierer sollte Tests schreiben, und wenn Sie mit der Testfunktionalität beginnen, können Sie ein gut funktionierendes und zuverlässiges Projekt schreiben.  Ich werde versuchen, es in etwas weniger Trivialem zu verwenden. </cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436714/">https://habr.com/ru/post/de436714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436700/index.html">Anti-Spoofing: Wie widerstehen Gesichtserkennungssysteme Betrügern?</a></li>
<li><a href="../de436704/index.html">Die Geschichte, wie wir Waagen für die Automatisierung von Registrierkassen ausgewählt haben</a></li>
<li><a href="../de436708/index.html">Woraus IoT besteht</a></li>
<li><a href="../de436710/index.html">Die Trends des Gamedev-Marktes des Jahres 2019 IMHO. Dezentralisierung?</a></li>
<li><a href="../de436712/index.html">Wie bewerbe ich ein inkrementelles Spiel? Kostenlos, schnell und effektiv *</a></li>
<li><a href="../de436716/index.html">Fake Door im Rahmen der Kundenentwicklung</a></li>
<li><a href="../de436718/index.html">Persönliche Erfahrung: Fünf Herausforderungen bei der Gründung eines Unternehmens in den USA</a></li>
<li><a href="../de436720/index.html">Es gibt eine Meinung: IPv6 ist fehlgeschlagen - wer denkt das und warum?</a></li>
<li><a href="../de436722/index.html">Diagnostisches medizinisches Expertensystem zu Prolog</a></li>
<li><a href="../de436730/index.html">Unterhaltungselektronik Hall of Fame: Die Geschichten der besten Geräte der letzten 50 Jahre, Teil 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>