<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôâÔ∏è ü§≤üèø ‚õ∞Ô∏è L'histoire de la fa√ßon dont l'ing√©nieur QA vous a simplifi√© la vie avec l'aide de Test IT, en utilisant le Bot Framework ‚ô®Ô∏è üë§ üë©‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ce n'est pas un secret qu'un bon logiciel diff√®re des autres non pas par la fonctionnalit√©, mais par la qualit√© des fonctions d√©clar√©es. Apr√®s tout, p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>L'histoire de la fa√ßon dont l'ing√©nieur QA vous a simplifi√© la vie avec l'aide de Test IT, en utilisant le Bot Framework</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481654/">  Ce n'est pas un secret qu'un bon logiciel diff√®re des autres non pas par la fonctionnalit√©, mais par la qualit√© des fonctions d√©clar√©es.  Apr√®s tout, personne n'a besoin d'un logiciel riche en fonctionnalit√©s s'il ne fonctionne tout simplement pas.  Mais comment parvenez-vous √† dire aux d√©veloppeurs √† temps que quelque chose ne va pas avec le projet? <br><br>  Aujourd'hui, nous parlerons un peu des probl√®mes de communication entre les services de l'entreprise, et en m√™me temps avec l'exemple de Test IT, nous examinerons ce qui nous a aid√©s √† comprendre le Zen: impartial, avec un c≈ìur de pierre et une √¢me issue d'un algorithme - un bot sur le Bot Framework.  Bienvenue au chat! <br><br><img src="https://habrastorage.org/webt/ep/ib/35/epib35fafiigqx2quacusrkv4h8.jpeg"><br><br><a name="habracut"></a><br><br>  On pense depuis longtemps qu'en temps de guerre, l'outil principal est la communication.  Sans communication, il est impossible de coordonner vos troupes, de trouver des nouvelles sur le terrain, de fournir un soutien et de suivre les actions de l'ennemi.  Et qu'est-ce que le d√©veloppement, sinon une guerre locale de plusieurs d√©partements pour un produit? <br><br>  Et si dans les temps anciens, ils utilisaient un messager, un messager et plus tard un t√©l√©phone pour diffuser des nouvelles, alors au seuil de 2020, il serait √©trange d'utiliser de telles technologies, surtout lorsque votre arm√©e travaillant sur un produit peut √™tre distribu√©e bien au-del√† des limites d'un seul bureau.  Voici notre ing√©nieur QA et a pos√© une question similaire. <br><br>  Bien s√ªr, vous pouvez √©crire des d√©tails sur l'√©chec du test dans un chat en direct.  Mais cela n√©cessitera du temps que vous ne souhaitez pas consacrer au m√™me type de notifications.  Vous pouvez ajouter une commande au portail <a href="http://testit.software/" rel="nofollow">IT de test</a> et les forcer √† v√©rifier l'√©tat des autotests.  Et cela r√©soudra √©galement partiellement le probl√®me, mais la n√©cessit√© d'√™tre constamment sur le portail distraira grandement l'√©quipe de d√©veloppement.  Nous avons besoin de quelque chose de plus simple, sans perdre de temps √† envoyer des notifications une fois de plus. <br><br>  En suivant cette logique, nous sommes arriv√©s aux webhooks.  Ils automatiseront l'envoi de notifications et de journaux critiques du syst√®me vers n'importe quel fer connect√© √† Internet. <br>  Nous avons donc tri√© le canal de communication.  Il est temps de r√©fl√©chir √† l'endroit o√π les webhooks doivent envoyer leurs notifications.  Id√©alement, cela devrait √™tre une plate-forme qui combine plusieurs messageries instantan√©es et e-mail pour les amoureux des classiques.  Et, comme vous pouvez le deviner d'apr√®s le titre de l'article, la plate-forme est tomb√©e sur le Bot Framework. <br><br>  Cette combinaison r√©pond pleinement aux exigences des notifications urgentes, √©tendra les capacit√©s du bot sans interf√©rer avec les cas de test et la plate-forme.  Et le bot lui-m√™me deviendra notre assistant de d√©veloppement, qui lira inlassablement une conversation de travail et nous informera de tout √©v√©nement int√©ressant dans TMS Test IT. <br><br>  Dans l'article d'aujourd'hui, nous consid√©rerons un exemple d'utilisation du bot dans Telegram pour envoyer des notifications aux √©quipes de d√©veloppement et de test √† partir de la plate-forme Test IT. <br><br><h2>  Cr√©er un projet et un bot </h2><br>  Acc√©dez au portail et cr√©ez un nouveau projet: <br><br><img src="https://habrastorage.org/webt/v_/pk/3q/v_pk3qflfqch1yn9izqlwgedoga.png" alt="image"><br><br>  Le projet comprend des cas de test, des tests automatiques, des listes de contr√¥le, des webhooks et bien plus encore. <br><br>  Ensuite, cr√©ez un plan de test.  Laissez-le avoir le m√™me nom simple que le nom du projet: <br><br><img src="https://habrastorage.org/webt/e_/nz/r-/e_nzr-xcf-ltulj3k_ys6flrxjy.png" width="40%" height="40%" alt="image"><br><br>  De plus, vous pouvez ajouter de nouveaux cas de test, mais nous irons directement √† la cr√©ation de notre assistant intelligent.  Ne fermez pas le portail, nous y reviendrons pour la configuration des webhooks. <br>  Le d√©veloppement sera effectu√© sur le .Net Framework (enfin, o√π sans lui) √† l'aide d'Azure.  En fait, nous allons commencer par <a href="https://portal.azure.com/" rel="nofollow">Azure</a> . <br><br>  Acc√©dez au portail et recherchez le Web App Bot: <br><br><img src="https://habrastorage.org/webt/d-/3m/f2/d-3mf2u2tjh3clmcxomas5b6otc.jpeg" alt="image"><br><br>  Cliquez sur "Cr√©er", remplissez les champs obligatoires et d√©veloppez.  Dans le cadre de l'article, nous d√©ploierons initialement le mod√®le Echo Bot et √† l'avenir, nous en tirerons parti <br>  Une fois le bot d√©ploy√© avec succ√®s, il est temps de se connecter √† ses canaux de communication avec le bot.  Une tr√®s grande liste de messagers et d'options de communication est pr√©sent√©e au choix du d√©veloppeur, mais Telegram suffit pour nos besoins. <br><br>  Pour ce faire, √©crivez quelques bonnes commandes dans le bot <a href="https://t.me/BotFather" rel="nofollow">@BotFather</a> et cr√©ez un nouveau bot.  Heureusement, il communique avec nous tr√®s amicalement, aidant √† cr√©er son propre genre.  Bot Father a √©t√© cr√©√© chez Telegram pour contr√¥ler d'autres bots.  Oui, pas √©tonnant que son nom soit le p√®re des bots! <br><br>  A la fin de l'inscription, Bot Father doit nous remettre la cl√© unique de notre enfant.  Nous sommes heureux de le copier, remercions le p√®re de cette √©trange famille et revenons au portail Azure. <br><br>  Maintenant, nous devons t√©l√©charger le code source du bot afin de pouvoir travailler directement avec lui dans notre IDE: <br><br><img src="https://habrastorage.org/webt/7k/u8/fy/7ku8fyhogapaqix9wt-wqaon86i.jpeg" alt="image"><br><br>  Nous pouvons imm√©diatement obtenir un √©mulateur pour le d√©bogage local.  Si votre bot aura un peu plus de logique que la sortie de "Hello world", il est pr√©f√©rable de disposer des outils pour d√©boguer et tester le nouveau membre de votre √©quipe. <br><br>  Directement sur le portail, il ne nous restait plus qu'√† ouvrir notre nouveau bot, aller dans l'onglet ¬´Cha√Ænes¬ª, ajouter une cha√Æne Telegram et lui donner la cl√©, gentiment laiss√©e par le p√®re des bots.  De plus, afin d'√©viter que le bot ne plante pendant une longue p√©riode d'inactivit√©, il est conseill√© de passer au service d'application (le nom est similaire au nom de notre bot sur le portail) -&gt; configuration -&gt; param√®tres g√©n√©raux et dans la colonne "Always On" s√©lectionnez le statut "Enabled".  Sinon, votre bot risque de s'endormir et il faut un temps pr√©cieux pour que les utilisateurs finaux le lancent. <br><br><img src="https://habrastorage.org/webt/th/we/yt/thweyt618vbqmm5nr8ac-ycl36k.jpeg" alt="image"><br><br>  De plus, comme nous sommes toujours sur le portail Azure, nous d√©ploierons une petite base de donn√©es pour ce bot.  Utile pour stocker une liste des index de groupe et leurs cl√©s secr√®tes.  Vous pouvez en savoir plus sur le d√©ploiement de la base de donn√©es <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-single-database-get-started%3Ftabs%3Dazure-portal" rel="nofollow">ici</a> . <br><br>  Donc, si, lors de l'acc√®s √† notre bot dans Telegram, il retourne notre message, cela signifie que nous avons tout fait correctement et l'onglet avec Azure peut √™tre report√© jusqu'√† des temps meilleurs.  Vous pouvez maintenant commencer √† travailler sur la logique de notre assistant. <br><br><h2>  Nous dirigeons le cerveau du bot </h2><br><br><img src="https://habrastorage.org/webt/el/fd/mo/elfdmo57rvfb8bwht6vsckfyfje.jpeg" alt="image"><br><br>  Pour ceux qui ont de l'exp√©rience avec ASP.NET Core, rien de nouveau ne viendra ensuite.  Le reste laissera un bref manuel sur ce qu'il faut faire ensuite: <br><br><ul><li>  Apprendre √† l'application √† travailler avec Entity Framework et √† lier la base de donn√©es.  Il est n√©cessaire que le bot soit capable de stocker les communications ChatID, l'√©tat d'ignorer le chat et le "secretKeyBot" des entit√©s entrantes dans la base de donn√©es.  Cela permettra d'utiliser le bot non seulement dans le cadre de ce projet et de l'entreprise dans son ensemble, mais aussi de l'ajouter librement √† des groupes pour tous; </li><li>  Ajoutez un mod√®le de donn√©es et un contr√¥leur API.  Dans notre application, il doit y avoir un point d'entr√©e externe par lequel vous pouvez acc√©der au bot et transmettre le corps de la demande.  Le mod√®le de donn√©es est la repr√©sentation du corps de la demande et le contr√¥leur doit travailler avec un appel externe; </li><li>  √âcrivez des puzzles et des √©quipes de service.  Si tout est clair avec kruds, alors le service de commande est notre logique m√©tier pour le traitement des messages de chat.  Au d√©part, nous voulions pouvoir noyer les notifications du bot dans n'importe quel chat particulier.  L'une des options pour ce faire est directement avec la commande chat, que le bot doit traiter et m√©moriser uniquement pour ce chat. </li><li>  Testez le bot dans un environnement local √† l'aide d'un √©mulateur.  Les gars particuli√®rement exp√©riment√©s peuvent t√©l√©charger le bot directement sur Azure et observer son comportement via un chat dans Telegram, mais dans ce cas, le bot ne vous renverra pas une description d√©taill√©e des erreurs.  Oui, et les points d'arr√™t (un outil de d√©bogage pr√©f√©r√©) ne peuvent pas √™tre plac√©s.  Soit dit en passant, une petite caract√©ristique du Bot Framework est qu'il n'aime vraiment pas renvoyer une description d√©taill√©e de l'erreur.  Nous nous d√©veloppons donc avec soin et nous nous engageons plus souvent! </li><li>  Publiez sur Azure.  Parmi les dossiers du projet, vous pouvez en trouver un avec le nom simple "PostDeployScripts".  Il contient un fichier important pour nous avec l'extension .PublishSettings.  Les donn√©es sur la connexion au stockage de bot sur Azure sont l√†.  Et pour ceux qui utilisent Visual Studio, ce fichier est la cl√© sacr√©e pour publier le projet: importez-le lors de la publication, et l'IDE en extraira toutes les donn√©es n√©cessaires. </li></ul><br><br><h2>  Ajouter un webhook </h2><br>  En fait, le bot est cr√©√©.  Il est temps de supprimer le webhook du portail TestIT.  Nous sommes heureux de ne pas avoir ferm√© l'onglet dans le navigateur, et allez-y: <br><br><img src="https://habrastorage.org/webt/hu/ys/m-/huysm-w3qz7tl6shpu-2guu-gti.png" alt="image"><br><br>  Nous allons dans les param√®tres du projet, l'onglet "Webhooks" et en ajoutons un nouveau: <br><br><img src="https://habrastorage.org/webt/a-/e_/7r/a-e_7rsnkxvlb2fos_uihnolhn8.png" alt="image"><br><br>  Essayons maintenant de changer l'√©tat du plan de test et de voir comment le bot va r√©agir. <br><br><img src="https://habrastorage.org/webt/e0/ma/gs/e0magsfc_gwdh5g5zfzywlf9cso.jpeg" alt="image"><br><br>  En fait, c'est l√† que nous nous sommes retrouv√©s avec un petit exemple de cr√©ation d'un robot assistant.  Notre bot peut √™tre consult√© <a href="https://github.com/developman2013/TestIT-bot-sample" rel="nofollow">sur GitHub</a> . <br><br>  D√©sormais, les √©quipes de d√©veloppeurs et de testeurs peuvent s'engager en toute s√©curit√© dans le d√©veloppement de produits, et notre nouvel ami intelligent attendra inlassablement les nouvelles des domaines de test et les partagera rapidement. <br><br>  Il est important de comprendre que les capacit√©s du bot sont presque illimit√©es: il est capable de traiter toutes les demandes de l'ext√©rieur.  Et cela signifie que vous pouvez apprendre beaucoup de choses: filtrer les messages de chat, les notifications de team building, les mini-jeux pendant votre temps libre.  Si vous essayez de faire preuve d'un peu d'imagination, vous pouvez lui apprendre √† commander des pizzas, √† construire un calendrier de travail, √† reconna√Ætre des documents ou m√™me √† transmettre vos e-mails entrants √† des messageries instantan√©es. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481654/">https://habr.com/ru/post/fr481654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481638/index.html">Pourquoi les mod√®les 3D de production complexe sont utiles</a></li>
<li><a href="../fr481640/index.html">Sortie de la nouvelle version du plugin DevOpsProdigy KubeGraf</a></li>
<li><a href="../fr481644/index.html">Comment survivre √† une base de donn√©es SQL au 21e si√®cle: Cloud, Kubernetes et PostgreSQL multimaster</a></li>
<li><a href="../fr481648/index.html">Junos PyEZ sur l'exemple de la t√¢che de trouver des sous-r√©seaux ipv4 gratuits</a></li>
<li><a href="../fr481652/index.html">Backdoor (?) Sur les smartphones BlackBerry Android</a></li>
<li><a href="../fr481656/index.html">PagerDuty, ou pourquoi le service des op√©rations peut ne pas dormir la nuit</a></li>
<li><a href="../fr481662/index.html">Essayer de nouveaux outils pour cr√©er et automatiser le d√©ploiement dans Kubernetes</a></li>
<li><a href="../fr481664/index.html">Prix ‚Äã‚Äãet co√ªts sans serveur: AWS Lambda</a></li>
<li><a href="../fr481666/index.html">R√®gles SwiftLint personnalis√©es</a></li>
<li><a href="../fr481668/index.html">Le premier probl√®me de visionneuse ou les difficult√©s de conversion des flux vid√©o WebRTC en HLS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>