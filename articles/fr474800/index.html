<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêå üë©üèΩ‚Äçüéì üö° Performances dans .NET Core üö° üë©üèº‚Äçüéì üõÄüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Performances dans .NET Core 


 Bonjour √† tous! Cet article est un recueil de bonnes pratiques que mes coll√®gues et moi-m√™me utilisons depuis longtemp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Performances dans .NET Core</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474800/"><h2>  Performances dans .NET Core </h2><br><img src="https://habrastorage.org/webt/y4/pt/7p/y4pt7pjnf2sjhavhohfpdlqbkw0.jpeg" alt="image"><br><br>  Bonjour √† tous!  Cet article est un recueil de bonnes pratiques que mes coll√®gues et moi-m√™me utilisons depuis longtemps pour travailler sur diff√©rents projets. <br><br><div class="spoiler">  <b class="spoiler_title">Informations sur la machine sur laquelle les calculs ont √©t√© effectu√©s:</b> <div class="spoiler_text"> BenchmarkDotNet = v0.11.5, OS = Windows 10.0.18362 <br>  Processeur Intel Core i5-8250U 1,60 GHz (Kaby Lake R), 1 processeur, 8 c≈ìurs logiques et 4 c≈ìurs physiques <br>  SDK .NET Core = 3.0.100 <br>  [H√¥te]: .NET Core 2.2.7 (CoreCLR 4.6.28008.02, CoreFX 4.6.28008.03), RyuJIT 64 bits <br>  Noyau: .NET Core 2.2.7 (CoreCLR 4.6.28008.02, CoreFX 4.6.28008.03), RyuJIT 64 bits <br>  [H√¥te]: .NET Core 3.0.0 (CoreCLR 4.700.19.46205, CoreFX 4.700.19.46214), RyuJIT 64 bits <br>  Noyau: .NET Core 3.0.0 (CoreCLR 4.700.19.46205, CoreFX 4.700.19.46214), RyuJIT 64 bits <br><br>  Job = Core Runtime = Core <br></div></div><br><h2>  ToList vs ToArray et Cycles </h2><a name="habracut"></a><br>  J'avais pr√©vu de pr√©parer ces informations avec la sortie de .NET Core 3.0, mais ils m'ont devanc√©, je ne veux pas voler la renomm√©e de quelqu'un d'autre et copier les informations de quelqu'un d'autre, je vais donc simplement pointer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vers un bon article o√π la comparaison est d√©taill√©e</a> . <br><br>  De ma part, je veux juste vous pr√©senter mes mesures et mes r√©sultats, je leur ai ajout√© des boucles inverses pour les amoureux du "style C ++" des boucles d'√©criture. <br><br><div class="spoiler">  <b class="spoiler_title">Code:</b> <div class="spoiler_text"><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bench</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-type"><span class="hljs-type">List</span></span>&lt;int&gt; _list; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> int[] _array; [<span class="hljs-type"><span class="hljs-type">Params</span></span>(<span class="hljs-number"><span class="hljs-number">100000</span></span>, <span class="hljs-number"><span class="hljs-number">10000000</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">N</span></span>; [<span class="hljs-type"><span class="hljs-type">GlobalSetup</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void <span class="hljs-type"><span class="hljs-type">Setup</span></span>() { const int <span class="hljs-type"><span class="hljs-type">MIN</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; const int <span class="hljs-type"><span class="hljs-type">MAX</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-type"><span class="hljs-type">Random</span></span> random = new <span class="hljs-type"><span class="hljs-type">Random</span></span>(); _list = <span class="hljs-type"><span class="hljs-type">Enumerable</span></span>.<span class="hljs-type"><span class="hljs-type">Repeat</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-type"><span class="hljs-type">N</span></span>).<span class="hljs-type"><span class="hljs-type">Select</span></span>(i =&gt; random.<span class="hljs-type"><span class="hljs-type">Next</span></span>(<span class="hljs-type"><span class="hljs-type">MIN</span></span>, <span class="hljs-type"><span class="hljs-type">MAX</span></span>)).<span class="hljs-type"><span class="hljs-type">ToList</span></span>(); _array = _list.<span class="hljs-type"><span class="hljs-type">ToArray</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForList</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _list.<span class="hljs-type"><span class="hljs-type">Count</span></span>; i++) { total += _list[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForListFromEnd</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>;t <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = _list.<span class="hljs-type"><span class="hljs-type">Count</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>; i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; i--) { total += _list[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForeachList</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>; foreach (int i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _list) { total += i; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForeachArray</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>; foreach (int i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _array) { total += i; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForArray</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _array.<span class="hljs-type"><span class="hljs-type">Length</span></span>; i++) { total += _array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int <span class="hljs-type"><span class="hljs-type">ForArrayFromEnd</span></span>() { int total = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = _array.<span class="hljs-type"><span class="hljs-type">Length</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>; i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; i--) { total += _array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } }</code> </pre> <br></div></div><br>  Les performances dans .NET Core 2.2 et 3.0 sont presque identiques.  Voici ce que j'ai r√©ussi √† obtenir dans .NET Core 3.0: <br><br><img src="https://habrastorage.org/webt/mk/vs/kz/mkvskzwjlpczslo8z5xeoylvh3i.jpeg"><br><br><img src="https://habrastorage.org/webt/z5/va/2_/z5va2_myxr2sbvo4rrac0cfii6s.jpeg"><br><br>  On peut conclure que le traitement en boucle d'une collection de type Array est plus rapide, du fait de ses optimisations internes et de l'allocation explicite de la taille de la collection.  Il convient √©galement de rappeler qu'une collection de type List a ses avantages et vous devez utiliser la collection souhait√©e en fonction des calculs n√©cessaires.  M√™me si vous √©crivez la logique du travail avec des cycles, n'oubliez pas qu'il s'agit d'une boucle ordinaire et qu'elle est √©galement soumise √† une √©ventuelle optimisation des cycles.  Un article est apparu sur habr pendant longtemps: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://habr.com/en/post/124910/</a> .  Il est toujours pertinent et recommand√© pour la lecture. <br><br><h2>  Jeter </h2><br>  Il y a un an, j'ai travaill√© dans une entreprise sur un projet h√©rit√©, dans ce projet, il √©tait normal de g√©rer la validation sur le terrain via une construction try-catch-throw.  J'ai d√©j√† compris qu'il s'agissait d'une logique commerciale malsaine du projet, j'ai donc essay√© de ne pas utiliser une telle conception si possible.  Mais voyons quelle est la mauvaise approche pour g√©rer les erreurs avec une telle conception.  J'ai √©crit un petit code afin de comparer les deux approches et tir√© les ¬´bancs¬ª pour chaque option. <br><br><div class="spoiler">  <b class="spoiler_title">Code:</b> <div class="spoiler_text"><pre> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ContainsHash</span></span>() { bool result = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; foreach (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _files) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Path</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetExtension</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class">); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_hash</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contains</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extension</span></span></span><span class="hljs-class">)) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">; } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class">; } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">public</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bool</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContainsHashTryCatch</span></span></span><span class="hljs-class">() </span></span>{ bool result = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { foreach (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _files) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Path</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetExtension</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class">); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_hash</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contains</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extension</span></span></span><span class="hljs-class">)) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">; } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class">(!</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">throw</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Exception</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">false</span></span></span><span class="hljs-class">"); } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">catch</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Exception</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">) </span></span>{ result = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br></div></div><br>  Les r√©sultats dans .NET Core 3.0 et Core 2.2 ont un r√©sultat similaire (.NET Core 3.0): <br><br><img src="https://habrastorage.org/webt/c6/rv/f3/c6rvf3uqvt-g2wf_1zp-nlk4bvc.jpeg"><br><br><img src="https://habrastorage.org/webt/tu/dh/ph/tudhphnwp0b-salg1ggnd3yqwtc.jpeg"><br><br>  Try catch complique la compr√©hension du code et augmente le temps d'ex√©cution de votre programme.  Mais si vous avez besoin de cette construction, vous ne devez pas ins√©rer les lignes de code √† partir desquelles la gestion des erreurs n'est pas attendue - cela facilitera la compr√©hension du code.  En fait, ce n'est pas tant la gestion des exceptions qui charge le syst√®me que le lancement des erreurs elles-m√™mes par le biais de la nouvelle construction throw Exception. <br><br>  Le lancement d'exceptions est plus lent que n'importe quelle classe qui collecte une erreur au format souhait√©.  Si vous traitez un formulaire ou des donn√©es et que vous savez √©videmment quelle erreur devrait √™tre, alors pourquoi ne pas la traiter? <br><br>  Vous ne devez pas √©crire throw new Exception () si cette situation n'est pas exceptionnelle.  <u>G√©rer et lever une exception co√ªte tr√®s cher !!!</u> <br><br><h2>  ToLower, ToLowerInvariant, ToUpper, ToUpperInvariant </h2><br>  Au cours de ses 5 ann√©es d'exp√©rience sur la plate-forme .NET, il a rencontr√© de nombreux projets utilisant la correspondance de cha√Ænes.  J'ai √©galement vu l'image suivante: il y avait une solution d'entreprise avec de nombreux projets, chacun effectuant des comparaisons de cha√Ænes de diff√©rentes mani√®res.  Mais qu'est-ce qui vaut la peine d'√™tre utilis√© et comment l'unifier?  Dans le CLR de Richter via C #, j'ai lu que ToUpperInvariant () est plus rapide que ToLowerInvariant (). <br><br>  Extrait du livre: <br><br><img src="https://habrastorage.org/webt/vl/kd/0q/vlkd0qmqkz61l5p9wf2zvpywtg8.jpeg"><br><br>  Bien s√ªr, je n'y croyais pas et j'ai d√©cid√© de faire des tests √† l'√©poque sur le .NET Framework et le r√©sultat m'a choqu√© - augmentation de plus de 15% des performances.  Plus loin √† mon arriv√©e au travail le lendemain matin, j'ai montr√© ces mesures √† mes sup√©rieurs et leur ai donn√© acc√®s √† la source.  Apr√®s cela, 2 projets sur 14 ont √©t√© modifi√©s pour de nouvelles mesures, et √©tant donn√© que ces deux projets existaient pour traiter d'√©normes tableaux Excel, le r√©sultat √©tait plus que significatif pour le produit. <br><br>  Je vous pr√©sente √©galement des mesures pour diff√©rentes versions de .NET Core, afin que chacun de vous puisse faire un choix dans la direction de la solution la plus optimale.  Et je veux juste ajouter que dans l'entreprise o√π je travaille, nous utilisons ToUpper () pour comparer les cha√Ænes. <br><br><div class="spoiler">  <b class="spoiler_title">Code:</b> <div class="spoiler_text"><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> const string defaultString = <span class="hljs-string"><span class="hljs-string">"VXTDuob5YhummuDq1PPXOHE4PbrRjYfBjcHdFs8UcKSAHOCGievbUItWhU3ovCmRALgdZUG1CB0sQ4iMj8Z1ZfkML2owvfkOKxBCoFUAN4VLd4I8ietmlsS5PtdQEn6zEgy1uCVZXiXuubd0xM5ONVZBqDu6nOVq1GQloEjeRN8jXrj0MVUexB9aIECs7caKGddpuut3"</span></span>; [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToLower</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToLower</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToLower</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToUpper</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToUpper</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToUpper</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>(); }</code> ; <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> const string defaultString = <span class="hljs-string"><span class="hljs-string">"VXTDuob5YhummuDq1PPXOHE4PbrRjYfBjcHdFs8UcKSAHOCGievbUItWhU3ovCmRALgdZUG1CB0sQ4iMj8Z1ZfkML2owvfkOKxBCoFUAN4VLd4I8ietmlsS5PtdQEn6zEgy1uCVZXiXuubd0xM5ONVZBqDu6nOVq1GQloEjeRN8jXrj0MVUexB9aIECs7caKGddpuut3"</span></span>; [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToLower</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToLower</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToLower</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToLowerInvariant</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToUpper</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToUpper</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToUpper</span></span>(); } [<span class="hljs-type"><span class="hljs-type">Benchmark</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool <span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defaultString.<span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>() == defaultString.<span class="hljs-type"><span class="hljs-type">ToUpperInvariant</span></span>(); }</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/d2/26/zq/d226zqcxjqwomj3mctdo0xhcyj0.jpeg"><br><br><img src="https://habrastorage.org/webt/lc/wq/kw/lcwqkw-ifelw0lw4imjeiyxfrok.jpeg"><br><br>  Dans .NET Core 3.0, le gain pour chacune de ces m√©thodes est ~ x2 et √©quilibre les impl√©mentations entre elles. <br><br><img src="https://habrastorage.org/webt/b5/fg/zp/b5fgzpyoscma2p-05cd3w_a1ogi.jpeg"><br><br><img src="https://habrastorage.org/webt/nv/fh/fz/nvfhfzqptyqbvqaaachvwnkacyq.jpeg"><br><br><h2>  Compilation de niveaux </h2><br>  Dans mon dernier article, j'ai bri√®vement d√©crit cette fonctionnalit√©, je voudrais corriger et compl√©ter mes mots.  La compilation √† plusieurs niveaux acc√©l√®re le temps de lancement de votre solution, mais vous sacrifiez des parties de votre code pour les compiler en une version plus optimis√©e en arri√®re-plan, ce qui peut entra√Æner une l√©g√®re surcharge.  Avec l'av√®nement de NET Core 3.0, le temps de construction des projets avec la compilation des niveaux a permis de r√©duire et de corriger les bogues li√©s √† cette technologie.  Auparavant, cette technologie entra√Ænait des erreurs dans les premi√®res requ√™tes dans ASP.NET Core et des blocages lors de la premi√®re g√©n√©ration en mode de compilation √† plusieurs niveaux.  Actuellement, il est activ√© par d√©faut dans .NET Core 3.0, mais vous pouvez le d√©sactiver comme vous le souhaitez.  Si vous √™tes chef d'√©quipe, senior, interm√©diaire ou que vous √™tes le chef du d√©partement, vous devez comprendre que le d√©veloppement rapide du projet augmente la valeur de l'√©quipe et cette technologie vous permettra d'√©conomiser √† la fois le temps des d√©veloppeurs et le temps de travail du projet. <br><br><h2>  Niveau sup√©rieur .NET </h2><br>  Mettez √† niveau votre .NET Framework / .NET Core.  Souvent, chaque nouvelle version am√©liore les performances et ajoute de nouvelles fonctionnalit√©s. <br><br>  Mais quels sont exactement les avantages?  Regardons certains d'entre eux: <br><br><ul><li>  Dans .NET Core 3.0, des images R2R ont √©t√© introduites afin de r√©duire le temps de d√©marrage des applications .NET Core. </li><li>  La version 2.2 a introduit la compilation de niveaux, gr√¢ce √† laquelle les programmeurs passeront moins de temps √† lancer un projet. </li><li>  Prise en charge de la nouvelle norme .NET. </li><li>  Prise en charge de la nouvelle version du langage de programmation. </li><li>  Optimisation, avec chaque nouvelle version, l'optimisation est am√©lior√©e par les biblioth√®ques de base Collection / Struct / Stream / String / Regex et bien plus encore.  Si vous effectuez une mise √† niveau du .NET Framework vers le .NET Core, vous obtiendrez une am√©lioration consid√©rable des performances d√®s le d√©part.  Par exemple, j'attache un lien vers une partie des optimisations qui ont √©t√© ajout√©es dans .NET Core 3.0: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-core-3-0/</a> </li></ul><br><img src="https://habrastorage.org/webt/9t/bg/ay/9tbgayxuucywax_n-bvzzdzi9ik.jpeg"><br><br><h2>  Conclusion </h2><br>  Lors de l'√©criture de code, vous devez pr√™ter attention aux diff√©rents aspects de votre projet et utiliser les fonctions de votre langage de programmation et de votre plateforme pour obtenir le meilleur r√©sultat.  Je serai heureux si vous partagez vos connaissances li√©es √† l'optimisation dans .NET. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien Github</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474800/">https://habr.com/ru/post/fr474800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474784/index.html">Arcade Stick Story</a></li>
<li><a href="../fr474788/index.html">Organisation d'itin√©raires √† Laravel</a></li>
<li><a href="../fr474790/index.html">Contes de n√©gociateur</a></li>
<li><a href="../fr474792/index.html">6-8 d√©cembre - Rosbank Tech.Madness Hackathon</a></li>
<li><a href="../fr474796/index.html">Qu'est-ce que l'Internet des objets et comment aidera-t-il les entreprises √† gagner plus?</a></li>
<li><a href="../fr474804/index.html">Progr√®s technologique russe dans le sport: interfaces neuronales, cam√©ras IP, CRM sportif et BigData √† partir d'une voiture de course</a></li>
<li><a href="../fr474806/index.html">UDP Flood de Google ou comment ne pas priver tout Youtube</a></li>
<li><a href="../fr474808/index.html">Version Rust 1.39.0: asynchrone / attente, attributs pour les param√®tres de fonction, nouvelles fonctions constantes</a></li>
<li><a href="../fr474810/index.html">Fonctionnement de la cryptographie √† courbe elliptique dans TLS 1.3</a></li>
<li><a href="../fr474812/index.html">Shader n'est pas magique. √âcriture de shaders dans Unity. Vertex Shaders</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>