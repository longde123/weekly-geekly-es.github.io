<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏯️ 👴🏼 🛀🏾 Media player dari lemari 📧 🙍🏿 🏔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penulis: Nikolai Khabarov
 
 Suatu Jumat malam yang baik, saya memutuskan untuk menonton film di rumah: Saya menyalakan laptop, menghubungkan kabel HD...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Media player dari lemari</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/396967/"><img src="https://habrastorage.org/files/454/fd7/d95/454fd7d9552b452cb8cc2f285fdc88bc.png"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penulis: Nikolai Khabarov</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Suatu Jumat malam yang baik, saya memutuskan untuk menonton film di rumah: Saya menyalakan laptop, menghubungkan kabel HDMI melalui adaptor DisplayPort, mengambil remote control, menyalakan TV, dan mulai bermain di laptop. Dan saya menyadari bahwa volume di TV tidak cukup - saya harus mencari remote control lagi untuk meningkatkannya ... Lalu saya berpikir, "Bisakah proses ini disederhanakan entah bagaimana?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabtu pagi itu sangat bermanfaat. Saya memutuskan untuk membuat pemutar multimedia jaringan saya sendiri, seperti yang saya bayangkan. Hampir semua detail diambil dari pantry, hati pemain adalah Raspberry Pi. Untuk detail lebih lanjut, apa yang ada di dalamnya dan cara merakit perangkat yang serupa, lihat di bawah potongan.</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/files/a14/a2d/e46/a14a2de464df4a66bf1aa09eba6748ef.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang dapat Anda lihat dari deskripsi, persyaratan saya untuk pemain sangat sederhana: kemampuan untuk memutar konten dari jaringan, penyimpanan beberapa ratus gigabyte, kemampuan untuk mengendalikan remote yang sama dengan TV; </font><font style="vertical-align: inherit;">port USB diinginkan, tetapi tidak perlu. </font><font style="vertical-align: inherit;">Pemain Android yang dibeli langsung menghilang, karena perangkat seperti itu kebanyakan murni China, dalam arti terburuk, dan saya tidak punya keinginan untuk bertarung dengan bug di dalamnya. </font><font style="vertical-align: inherit;">Selain itu, tidak jelas bagaimana menerapkan kontrol perangkat semacam itu dari remote control televisi, apalagi antarmuka grafis Android jelas tidak dimaksudkan untuk remote control pada prinsipnya. </font><font style="vertical-align: inherit;">Oleh karena itu, pencarian dimulai untuk sampah dari mana seseorang dapat membuat sesuatu.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami memilih detailnya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, saya hanya ingin mencoba dan memahami kelayakan pembuatan perangkat akhir. Oleh karena itu, untuk memulainya, kami akan mengambil detail minimum dan mencoba media player potensial yang sedang beroperasi. Kami pergi ke pantry dan menggali rincian yang kami butuhkan: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Komputer dengan output HDMI. Raspberry Pi 1 lama sangat cocok untuk keperluan kami, Anda juga dapat menggunakan Raspberry Pi 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Catu daya untuk papan - microUSB yang mengisi dari telepon lama cocok. Anda dapat mengambil "mencoba" apa pun, tetapi disarankan untuk mengambil sumber yang menyediakan arus keluaran 1A (satu ampere untuk mata cukup untuk Pi 2, lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">persyaratan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. kartu microSD dengan 4 GB atau lebih.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Mouse USB dan / atau keyboard (nirkabel dapat digunakan) dan, secara opsional, penerima sinyal inframerah TSOP4836 atau serupa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Adaptor Wi-Fi USB atau kemampuan untuk menghubungkan kabel Ethernet dengan Internet ke board.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menempatkan OpenElec, kami mencoba</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada titik ini kita akan menjalankan OpenElec dengan cara sekecil mungkin. Segera setelah saya berpikir tentang perangkat lunak untuk pemutar multimedia saya, saya ingat XBMC, yang kemudian diganti namanya menjadi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kodi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tetapi tidak ada keinginan untuk menginstal OS apa pun, dan kemudian mengkonfigurasi Kodi. Jadi saya memutuskan untuk mencari di google dan menemukan rakitan sistem operasi GNU / Linux ini, di atasnya Kodi sudah diinstal. Majelis ini disebut OpenElec, ini adalah proyek open source. Situs resminya adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openelec.tv.</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi, kami mengunduh gambar instalasi dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">situs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> resminya </font><font style="vertical-align: inherit;">. Kami memilih versi yang diinginkan dan platform tempat kami menjalankannya (dalam kasus saya, rilis stabil untuk Rasberry Pi), dan mengunduh 'Diskimage' (file dengan ekstensi .img.gz). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buka kemasan gambar: </font><font style="vertical-align: inherit;">
Dan tulis ke kartu memori:</font></font><br>
<code> $ gunzip -d &lt; &gt;.img.gz<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code>$ sudo dd if= &lt; &gt;.img of=/dev/mmblck0 bs=4M<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benar / dev / mmblck0 - jika ada lebih dari satu kartu memori di sistem Anda. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhatian! Isi kartu memori akan terhapus sepenuhnya.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pengguna Windows dapat menggunakan utilitas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disk Imager Win32</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratis </font><font style="vertical-align: inherit;">. Utilitas ini memiliki antarmuka grafis - pilih file, kartu memori dan tekan 'Tulis'. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang pastikan semuanya ditulis ke kartu dengan perintah</font></font><br>
<code>$ sync<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atau cukup keluarkan kartu melalui pelepasan aman perangkat di antarmuka grafis OS. Kami mendapatkannya secara fisik dan memasukkannya ke dalam Raspberry Pi. Selanjutnya, sambungkan kabel Ethernet dengan Internet atau masukkan adaptor Wi-Fi USB, sambungkan mouse, kabel HDMI ke TV. Jika Anda ingin menggunakan remote control inframerah, Anda harus menghubungkan penerima IR ke GPIO18 dan daya prosesor (3.3V). Diagram koneksi terakhir adalah sebagai berikut: </font></font><br>
<img src="https://habrastorage.org/files/6d3/6bf/259/6d36bf259da347bcb0a1e6818b949c99.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda memutuskan untuk menggunakan penerima inframerah, berhati-hatilah dengan itu </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- pastikan tata letak pin untuk penerima Anda sudah benar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segalanya, sekarang Anda bisa melihat lingkungan itu sendiri. Kami memberi daya pada papan dari sumber daya. Setelah memuat, wisaya pengaturan awal muncul di layar:</font></font><br>
<img src="https://habrastorage.org/files/143/7e8/037/1437e803748c4fc3a275a1a5cacbc1bb.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama pengaturan, saya sarankan segera mengaktifkan akses SSH. </font><font style="vertical-align: inherit;">Semua pertanyaan lainnya sepele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat bermain dengan lingkungan pemain masa depan menggunakan mouse dan / atau keyboard. </font><font style="vertical-align: inherit;">Anda dapat mencoba memutar video dalam berbagai format (Anda dapat menghubungkan USB flash drive ke porta bebas) dan umumnya mengerti apa itu. </font><font style="vertical-align: inherit;">Ada berbagai kasing untuk papan Raspberry Pi itu sendiri, mungkin seseorang akan senang dengan semuanya dengan cara yang minimalis, misalnya, Anda dapat menghubungkan mouse USB nirkabel dan menggunakan perangkat. </font><font style="vertical-align: inherit;">Kami akan terus meningkatkannya.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubungkan remote IR</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda memutuskan untuk tidak menghubungkan penerima IR, Anda dapat melewati bagian ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggunakan remote, kita perlu mengkonfigurasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LIRC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pertama, mari kita hidupkan modul, yang bekerja langsung dengan penerima melalui port GPIO. Untuk melakukan ini, tambahkan baris ke file konfigurasi DeviceTree. Kami masuk melalui SSH ke perangkat Anda (apakah Anda mengaktifkan SSH selama pengaturan awal? Jika tidak, Anda dapat melakukan ini di antarmuka grafis sistem itu sendiri). </font><font style="vertical-align: inherit;">
Kata sandi default adalah openelec. Tambahkan baris yang kita perlukan ke file: </font><font style="vertical-align: inherit;">
di bagian paling akhir kita tambahkan baris dan kemudian muat ulang: </font><font style="vertical-align: inherit;">
Sekarang kita perlu memastikan bahwa semuanya berfungsi dan LIRC dapat menerima perintah dari jarak jauh, untuk ini kita menghentikan LIRC dan mencoba mendapatkan data dari jarak jauh:</font></font><br>
<code>$ ssh root@ip_address<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<code># mount -o remount,rw /flash<br>
# nano /flash/config.txt<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code> dtoverlay=lirc-rpi<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code> # killall lircd<br>
 # mode2 -d /dev/lirc0<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengklik tombol apa saja pada kendali jarak jauh dan menyinari receiver - teks yang menggambarkan pulsa masuk harus dijalankan di konsol. Sekarang kami yakin bahwa semuanya berfungsi dan kami dapat melatih LIRC untuk menggunakan remote control Anda. Harap dicatat bahwa lircd harus dihentikan selama proses konfigurasi, kami melakukan ini sebelumnya menggunakan perintah kill. Ada utilitas khusus yang tidak direkam untuk pelatihan, kami menjalankan perintah berikut untuk meluncurkannya: </font><font style="vertical-align: inherit;">
Selanjutnya, ikuti instruksi di layar. Pada awalnya, utilitas akan meminta Anda untuk menekan berbagai tombol pada kendali jarak jauh sampai titik-titik pada layar terisi untuk mempelajari pola kendali jarak jauh Anda. Maka Anda perlu menunjukkan dengan teks tombol mana yang ingin Anda ajarkan LIRC untuk digunakan, dan bersinar pada penerima. </font><font style="vertical-align: inherit;">
Saya sarankan Anda mengajar setidaknya tombol berikut: </font><font style="vertical-align: inherit;">
KEY_UP </font><font style="vertical-align: inherit;">
KEY_DOWN</font></font><br>
<code># cd /storage/.config<br>
# irrecord -d /dev/lirc0 lircd.conf<br>
</code><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_LEFT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_RIGHT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_OK </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_PLAY </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_EXIT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_STOP </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_INFO </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_ING KEY_EPG </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seluruh daftar tombol yang tersedia dalam sistem dapat diperoleh dengan perintah: </font><font style="vertical-align: inherit;">
Pada kendali jarak jauh, Anda dapat memilih tombol apa saja yang nyaman untuk Anda. Sebagian besar TV dalam mode HDMI, sebagian besar tombol tidak melakukan apa-apa, yang tentu saja sudah dekat. Sebagai hasilnya, kita harus mendapatkan file lircd.conf dengan parameter dari remote Anda - kami me-reboot papan dan mencoba menggunakan remote. </font><font style="vertical-align: inherit;">
Anda juga dapat menghidupkan / mematikan pemain. Untuk melakukan ini, hubungkan penerima ke pin kedua dari Raspberry PI GPIO1 untuk Raspberry PI 1 atau GPIO3 untuk Raspberry PI 2 - pada kedua papan pin ini terletak di tempat yang sama pada konektor papan:</font></font><br>
<code> # irrecord -list namespace<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/f81/505/c34/f81505c3453242c6afaaa75e72237b19.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menghubungkan pin ini ke tanah, Anda dapat membangunkan papan dalam kondisi mati. Dengan koneksi ini, Anda dapat memprogram tombol KEY_POWER, dan pemain akan mati ketika Anda mengkliknya, dan itu akan dihidupkan oleh sinyal apa pun dari remote control apa pun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengumpulkan perangkat lebih serius</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya ingin membuat perangkat yang lebih menyeluruh dengan tampilan perangkat pabrik dan menambahkan hard drive ke dalamnya. Saya melihat ke dapur dan menemukan penerima satelit tua. Di dalam, sudah ada catu daya yang cukup untuk semua komponen daya, ada penerima sinyal IR, saklar power off di dinding belakang. Ada juga peluang untuk membuat arloji di panel depan karena indikator tujuh-segmen yang sudah terpasang. Dan tentu saja, kasus itu sendiri sangat bagus untuk tujuan kita. Penerima satelit dapat diganti dengan pemutar DVD atau VHS lama meskipun tidak berfungsi.</font></font><br>
<i>,         —   ,        .    /     —     ,       220 .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuka kasing receiver / VCR. Untuk memulainya, kita perlu memastikan bahwa catu daya memiliki output 5V, yang dapat memberikan daya yang diperlukan. Untuk melakukan ini, dengan menggunakan multimeter, kami memeriksa keberadaan daya 5V dan kemudian melacak komponen mana yang diperoleh 5V ini. Jika dasar elemen penyearah dan diameter trafo lilitan unit catu daya dapat menahan 2-3 ampere, kami beruntung - ada sumber, jika tidak, Anda harus mengubah sumber dalam kasing menjadi yang lebih kuat. Kemudian kita mengeluarkan papan utama / drive tape / drive optik dan mengirimkannya kembali ke dapur - itu akan berguna. Di dalam, kami hanya menyisakan papan PSU dan papan dengan panel depan di mana ada penerima IR.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang pilih tempat untuk menginstal Raspberry Pi itu sendiri. Pilihan di sini cukup sederhana: sisi papan dengan HDMI harus berada di luar kasing, sisi dengan port USB harus dipasang di dalam untuk menghubungkan komponen internal, di samping itu, kita memerlukan setidaknya beberapa akses ke kartu microSD jika firmware diganti. Ada bukaan untuk konektor RCA pada kasing penerima, kami akan meletakkan papan sehingga konektor HDMI dapat diakses semaksimal mungkin dari luar. Di sisi yang sama ada output kartu suara dan microUSB yang beroperasi dalam mode periferal. Kami tidak tertarik dengan konektor ini, kami akan memasok daya dari luar melalui konektor GPIO utama papan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menandai di mana Anda perlu memotong sedikit sehingga konektor HDMI secara bebas dimasukkan ke papan dari luar kasing dan menguraikan empat lubang untuk memasang papan. Saya menggunakan rak berikut:</font></font><br>
<img src="https://habrastorage.org/files/29f/6ab/6c5/29f6ab6c5f4b4e2daf092489d0ba57a7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rak-rak motherboard mengganggu, dan saya menghapusnya dengan bantuan tang. Manipulasi harus dilakukan dengan hati-hati, dengan gerakan canggung Anda dapat dengan mudah menekuk kasing itu sendiri. Kami mengebor, melihat, mengencangkan rak dengan baut yang sesuai dan papan itu sendiri untuk mereka. </font></font><br>
<img src="https://habrastorage.org/files/2bf/30d/ec7/2bf30dec733c4c6ca8db3c46d4beb367.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda perlu menemukan tempat untuk HDD. Di sini persyaratannya cukup sederhana - Anda harus meninggalkan beberapa sentimeter gratis di dalam kasing dari sisi konektor SATA, karena adaptor akan dimasukkan di sana. Hard drive memiliki ulir di permukaan bagian bawah dan sisi HDD. Winchester perlu sedikit dinaikkan agar tidak terletak pada logam. Saya memecahkan masalah dengan sangat sederhana - saya mengambil baut yang cocok untuk utas yang lebih rendah, tetapi sedikit lebih lama dari yang diperlukan, dan meletakkan jarak antara kasing dan HDD dengan mur yang lebih besar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu menemukan konverter USB SATA atau wadah lama untuk HDD, dari mana konverter tersebut dapat ditarik. Saya memiliki sebuah wadah, tetapi sayangnya itu ternyata tidak berfungsi. Saya harus lari ke toko untuk konverter USB SATA. Kami akan memasukkan konektor USB ke dalam Raspberry PI, tetapi agar tidak memuat papan dengan arus yang cukup serius yang dibutuhkan HDD, terutama saat memutar spindle, Anda perlu melakukan daya tambahan langsung dari PSU. Dalam kasus saya, adaptor memiliki kabel dengan dua konektor USB, saya menghubungkan salah satunya langsung ke unit catu daya dengan menyolder konektor respon USB di dekat PSU.</font></font><br>
<img src="https://habrastorage.org/files/f53/06a/235/f5306a2353de423592d7e82a33878e1c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua hal lagi untuk dipikirkan segera. Yang pertama adalah di mana dan bagaimana port USB eksternal akan berada. Yang kedua adalah tempat meletakkan adaptor Wi-Fi, atau jika Anda berencana untuk menerapkan hanya koneksi Ethernet, cara menempatkan konektor Ethernet di dinding case (jika Anda menempatkan papan dengan tepi konektor ini pada case, Anda tidak dapat menghubungkan perangkat USB dari dalam). Ethernet dapat diperpanjang dengan menempatkan stopkontak konvensional di dalam case dan menghubungkan kawat pendek dengan konektor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dongle Wi-Fi USB yang sangat kecil dijual sekarang, tetapi Anda tidak perlu memasukkannya ke dalam case logam - sinyalnya bisa buruk. Anda dapat mengambil kabel ekstensi USB pendek, meletakkan konektor USB di bagian belakang kasing dan memasukkannya ke sana. Ada juga adaptor USB dengan antena yang dapat dilepas, Anda dapat memperpanjang konektor RMA ke bagian belakang kasing dan memasang antena di sana. Saya memiliki yang agak lama dan, sebagai hasilnya, adaptor Wi-Fi USB yang agak besar dengan antena sampul dan input miniUSB. Saya tidak punya tempat untuk meletakkannya karena ukurannya, dan saya memutuskan untuk menggunakannya dalam bisnis. Dia melepas case - bentuknya tidak memungkinkan untuk memasang antena dari luar. Biayanya cukup besar, dan saya harus berpikir hati-hati tentang penempatannya. Untungnya, ternyata sangat tipis, dan saya memutuskan untuk meletakkannya di konektor USB dari Raspberry Pi. Konektor RMA keluarmemutar mur dan di dalam kasing meletakkan satu rak tinggi untuk papan. Akses ke USB tetap ada, dan antena diangkat di atas kasing. Hebat!</font></font><br>
<img src="https://habrastorage.org/files/c1d/ed1/7c7/c1ded17c77d24ba0b3f44aadb5e88ae9.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda harus memperbaiki kabel ekstensi USB ke panel depan, memastikan tidak mengganggu apa pun di dalam case. Dalam kasus saya, penerima memiliki pintu untuk kartu akses, dan saya memutuskan untuk meletakkan konektor di belakangnya - agar tidak menjadi debu! Karena itu, saya tidak memotongnya terlalu hati-hati, dan mengisinya dengan lem panas di belakang.</font></font><br>
<img src="https://habrastorage.org/files/800/d2b/468/800d2b46858841028fdacbd45c9eee9a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Situasi dengan papan panel depan lebih menarik - ada banyak pilihan untuk apa itu terdiri. Saya harus menerapkan indikasi dinamis tujuh-segmen indikator menggunakan DMA (Akses Memori Langsung, implementasi langsung indikasi dinamis melalui port GPIO akan mengkonsumsi terlalu banyak sumber daya CPU, dan kecerahan segmen akan tidak merata karena aktivitas sistem operasi). Tapi ini sudah menjadi topik untuk artikel yang terpisah, dan selain itu, papan seperti itu bisa sangat berbeda, oleh karena itu, di sini kami akan memberikan hak untuk menunjukkan potensi kreatif kami kepada pembaca. Anda dapat mempelajari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber implementasi untuk papan saya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dalam kasus yang paling sederhana, Anda cukup memotong trek menuju ke penerima IR dan solder langsung ke sana dengan tiga kabel. </font><font style="vertical-align: inherit;">Saya hanya mencatat bahwa saya menggunakan kabel IDE untuk menghubungkan ke konektor GPIO papan, sangat cocok pada konektor Raspberry Pi, dan kabel dapat dengan mudah disolder dengan komponen lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, saya mendapat perangkat seperti itu:</font></font><br>
<img src="https://habrastorage.org/files/1fd/936/99e/1fd93699eee74e1888e1fd8476e10135.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sesuaikan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika ketika Anda menghidupkan Anda melihat kotak berwarna di sudut kanan atas layar, ini berarti bahwa daya untuk Raspberry Pi tidak cukup - baik catu daya yang lemah, kabel terlalu tipis, atau periferal USB terlalu banyak. Dalam kasus pertama, hanya mengganti PSU dengan yang lebih kuat akan membantu. Pada yang kedua - masalahnya dapat dengan mudah diselesaikan dengan mengganti kabel dengan yang lebih tebal atau dengan menggunakan beberapa core secara paralel, pada yang ketiga - masalahnya diselesaikan dengan memberi makan perangkat USB langsung dari catu daya, atau, misalnya, dengan memasang hub USB dengan kemampuan untuk menghubungkan sumber daya eksternal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga mungkin akan melihat bahwa HDD Anda terhubung ke sistem sebagai drive flash eksternal. Mari kita menjadikannya penyimpanan utama dalam sistem operasi. Pada awal pertama, OpenElec secara otomatis mulai menggunakan semua ruang kosong pada kartu microSD untuk bagian data, yang kemudian dipasang sebagai / penyimpanan. Keputusan yang paling berhasil bagi saya tampaknya menggunakan seluruh hard drive sebagai / penyimpanan. Untuk melakukan ini, format hard drive dan buat partisi di atasnya dengan sistem file ext3 / 4. Ini dapat dilakukan langsung pada pemain menggunakan utilitas parted dan mkfs, perintah di bawah ini akan menghapus seluruh isi disk dan membuat satu partisi ext4: </font><font style="vertical-align: inherit;">
Untuk ini, Anda harus masuk ke pemain melalui SSH. Kemudian pasang partisi baru di suatu tempat:</font></font><br>
<br>
<code># umount /dev/sda1<br>
 # parted /dev/sda<br>
 GNU Parted 3.2<br>
 Using /dev/sda<br>
 Welcome to GNU Parted! Type 'help' to view a list of commands.<br>
 (parted) mklabel GPT <br>
 mklabel GPT<br>
 Warning: The existing disk label on /dev/sda will be destroyed and all data on<br>
 this disk will be lost. Do you want to continue?<br>
 Yes/No? yes <br>
 yes<br>
 (parted) mkpart primary 2048s 100% <br>
 mkpart primary 2048s 100%<br>
 (parted) q <br>
 q<br>
 Information: You may need to update /etc/fstab.<br>
 # mkfs.ext4 /dev/sda1<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># mkdir /tmp/hdd<br>
# mount /dev/sda1 /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salin seluruh isi / penyimpanan ke partisi baru untuk mempertahankan kondisi saat ini: </font><font style="vertical-align: inherit;">
Lepaskan partisi dan, jika diinginkan, hapus folder: </font><font style="vertical-align: inherit;">
Sekarang Anda perlu menentukan drive mana yang perlu kita pasang pada saat boot. Anda dapat melakukan ini dengan menyesuaikan baris perintah dari parameter kernel, tetapi pertama-tama kita mengetahui UUID partisi hard drive kami: </font><font style="vertical-align: inherit;">
Salin UUID partisi ke clipboard. Sekarang remount sistem file dengan konfigurasi kernel untuk menulis dan memperbaikinya: </font><font style="vertical-align: inherit;">
Dalam file tersebut, ganti parameter disk dengan UUID disk kami. Isi file akan terlihat seperti ini: </font><font style="vertical-align: inherit;">
Setelah reboot, pemain akan menggunakan hard drive sebagai / penyimpanan, dan bagian pada kartu memori dapat dihapus sehingga tidak me-mount secara otomatis ketika boot:</font></font><br>
 <code># cp -rf /storage/. /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
 <code># umount /dev/sda1<br>
# rmdir /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># blkid /dev/sda1<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># mount -o rw,remount /flash<br>
# nano /flash/cmdline.txt<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>boot=/dev/mmcblk0p1 disk=UUID=95013338-89b1-43af-8471-9b30efc85d98 quiet<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># parted -s /dev/mmcblk0 rm 2<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah akhir pekan yang menyenangkan yang saya alami. </font><font style="vertical-align: inherit;">Jangan lupa bahwa sistem operasi GNU / Linux ada pada pemutar media ini, dan Anda dapat memodifikasi / menambahnya sendiri sesuai keinginan Anda. </font><font style="vertical-align: inherit;">Anda juga dapat menyelesaikan beberapa tugas otomatisasi rumah, menggunakan perangkat yang sama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan akhirnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video pidato</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pengarang dari sebuah artikel yang menceritakan tentang perangkat tersebut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selamat menikmati!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id396967/">https://habr.com/ru/post/id396967/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id396957/index.html">Beli dengan cepat dan sederhana di AS dengan Pochtoy.com (+ hadiah untuk pembaca)</a></li>
<li><a href="../id396959/index.html">Fisika di dunia hewan: belut listrik dan "pembangkit listrik" -nya</a></li>
<li><a href="../id396961/index.html">Siapa yang membangun reaktor fusi</a></li>
<li><a href="../id396963/index.html">Cara membeli iPhone bekas</a></li>
<li><a href="../id396965/index.html">Mencegat pembicaraan di telepon atau cara membuat kontrol radio sederhana pada 39 MHz</a></li>
<li><a href="../id396969/index.html">Intel Sekarang Saudara dalam ARM</a></li>
<li><a href="../id396971/index.html">Eider tanpa sayap diusulkan untuk dihidupkan kembali dengan bantuan rekayasa genetika.</a></li>
<li><a href="../id396973/index.html">Pabrikan di Amerika Serikat tidak memiliki hak untuk menolak jaminan setelah melepas stiker garansi. Apa yang ada di Rusia?</a></li>
<li><a href="../id396975/index.html">Komputer dalam mobil, tahun 2016</a></li>
<li><a href="../id396977/index.html">Kecerdasan buatan memiliki masalah bahasa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>