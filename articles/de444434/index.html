<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèΩ üë©üèº‚Äçüé§ üàµ Es ist Zeit f√ºr Java 12! √úberpr√ºfung der hei√üen JEPs üë©‚Äçüé§ üíú üòÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sechs Monate sind vergangen, was bedeutet, dass es Zeit ist, neues Java zu installieren ! Es war eine lange Reise, und nur wenige erreichten das Ende....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Es ist Zeit f√ºr Java 12! √úberpr√ºfung der hei√üen JEPs</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/444434/"><p><img src="https://habrastorage.org/webt/k8/rn/qa/k8rnqagstd_wu4hezoj_bnjzfem.png"></p><br><p>  Sechs Monate sind vergangen, was bedeutet, dass es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeit ist, neues Java zu installieren</a> !  Es war eine lange Reise, und nur wenige erreichten das Ende.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rohe Linien</a> fielen von interessanten JEPs, aber wir werden √ºber den Rest unter dem Schnitt sprechen. </p><a name="habracut"></a><br><h1 id="kak-vsyo-proishodit">  Wie l√§uft alles? </h1><br><p>  Die Ver√∂ffentlichung der neuen Java-Version erfolgt nach dem neuen ‚Äûbeschleunigten‚Äú Ver√∂ffentlichungszyklus mit einer L√§nge von etwa sechs Monaten.  Die genauen Daten sind auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Projektseite festgelegt</a> .  Es gab mehrere Hauptphasen f√ºr JDK 12: </p><br><ul><li>  2018/12/13 - Die erste Phase der Verlangsamung (in diesem Moment wird eine Gabelung aus dem Hauptzweig im Repository hergestellt); </li><li>  17.01.2019 - Die zweite Phase der Verlangsamung (alles M√∂gliche abschlie√üen); </li><li>  2019/02/07 - Release Candidate (nur die wichtigsten Fehler wurden behoben); </li><li>  19.03.2019 - Ver√∂ffentlichung, Allgemeine Verf√ºgbarkeit.  <strong>&lt;- du bist hier</strong> </li></ul><br><p>  Was haben wir aus diesem Zeitplan?  Ja, in der Tat nichts - wir sind gerade am Ziel angekommen und beobachten die Liebhaber des Verm√§chtnisses aus einer H√∂he des brandneuen, frischen JDK 12. </p><br><h1 id="bagi-panika-vse-na-dno">  Bugs!  Panik!  Alles auf den Grund! </h1><br><p><img src="https://habrastorage.org/webt/9j/jw/j8/9jjwj87t8vtlqyiv4zmox4xljem.jpeg"></p><br><p>  Wenn eine neue Nicht-LTS-Version herauskommt, k√ºmmern sich normalerweise nicht alle um neue Funktionen.  Es ist interessanter, wenn alles zur H√∂lle zerf√§llt. </p><br><p>  Nat√ºrlich gibt es viele Fehler, aber nicht in JDK 12 :) Nach dem Jir zu urteilen, ist alles normal: </p><br><p><img src="https://habrastorage.org/webt/st/yr/cr/styrcrroe8hobgqc6jpxgv5hknw.jpeg"></p><br><p>  Ich werde die Anfrage zitieren, damit Sie <em>genau</em> verstehen <em>,</em> was die "Norm" ist: </p><br><pre><code class="plaintext hljs">project = JDK AND issuetype = Bug AND status in (Open, "In Progress", New) AND priority in (P1) AND (fixVersion in (12) OR fixVersion is EMPTY AND affectedVersion in (12) AND affectedVersion not in regexVersion("11.*", "10.*", "9.*", "8.*", "7.*", "6.*")) AND (labels is EMPTY OR labels not in (jdk12-defer-request, noreg-demo, noreg-doc, noreg-self)) AND (component not in (docs, globalization, infrastructure) OR component = infrastructure AND subcomponent = build) AND reporter != "Shadow Bug" ORDER BY priority, component, subcomponent, assignee</code> </pre> <br><p>  Nat√ºrlich haben Bugs <em>im Allgemeinen</em> einen Platz, an dem sie in einem so gro√üen Projekt nirgendwo hingehen k√∂nnen.  Es wird nur behauptet, dass P1-Fehler derzeit nicht bemerkt wurden. </p><br><p>  Eine formellere Kommunikation mit Fehlern wird in einem speziellen Dokument, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JEP 3: JDK Release Process, erkl√§rt</a> , das unserem unsterblichen Steward auf den turbulenten Wellen des Java-Ozeans geh√∂rt - Mark Reinhold. </p><br><p>  Insbesondere lohnt es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sich, einen Absatz zu</a> lesen <del>  Wer ist schuld und was zu tun </del>  So √ºbertragen Sie Tickets, wenn Sie keine Zeit f√ºr die 12. Ver√∂ffentlichung haben.  Es ist notwendig, im Bugtracker das Label <code>jdk$N-defer-request</code> in dem N angibt, von welcher Version Sie √ºbertragen m√∂chten, und einen Kommentar zu hinterlassen, dessen erste Zeile <em>Deferral Request ist</em> .  Dar√ºber hinaus wird die √úberpr√ºfung aller derartigen Anfragen von den Leitern der jeweiligen Bereiche und Projekte vorgenommen. </p><br><p>  Die Probleme beim √úbergeben von TCK k√∂nnen auf diese Weise nicht ignoriert werden - es wird garantiert, dass Java Java bleibt und nicht etwas Froschartiges.  Das <code>jdk$N-defer-request label</code> verschwindet nie.  Es ist interessant, was sie mit Menschen machen, die gegen die Regel versto√üen, Tags nicht zu l√∂schen - ich schlage vor, Meerschweinchen zu f√ºttern. </p><br><p>  Auf diese Weise k√∂nnen Sie jedoch sehen, wie viele Fehler auf JDK 13 portiert wurden. Versuchen wir diese Abfrage: </p><br><pre> <code class="plaintext hljs">project = JDK AND issuetype = Bug AND status in (Open, "In Progress", New) AND (labels in (jdk12-defer-request) AND labels not in (noreg-demo, noreg-doc, noreg-self)) AND (component not in (docs, globalization, infrastructure) OR component = infrastructure AND subcomponent = build) AND reporter != "Shadow Bug" ORDER BY priority, component, subcomponent, assignee</code> </pre> <br><p>  Nur 1 St√ºck, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JDK-8216039</a> : "TLS mit BC und RSASSA-PSS bricht ECDHServerKeyExchange".  Es ist nicht dick.  Wenn dieses Argument immer noch nicht hilft, empfehle ich als Ihr Anwalt, ein Beruhigungsmittel zu probieren. </p><br><h1 id="i-chto-zhe-v-suhom-ostatke">  Und was ist das Endergebnis? </h1><br><p><img src="https://habrastorage.org/webt/ef/uf/mx/efufmx-2rdphagrcihuscp0cswo.png"></p><br><p>  Es ist klar, dass die meisten Funktionen keine Benutzer (Java-Programmierer) betreffen, sondern Entwickler von OpenJDK.  Daher teile ich Features f√ºr alle F√§lle in <strong>externe</strong> und <strong>interne ein</strong> .  Sie k√∂nnen die internen √ºberspringen, aber ich bin beleidigt, ich habe so viel Text geschrieben. </p><br><p>  <strong>189: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shenandoah: Ein M√ºllsammler mit geringer Pause (experimentell)</a></strong> </p><br><p>  <strong>Externe Funktion</strong> .  Kurz gesagt, die Leute m√∂gen es nicht, wenn Java langsamer wird, insbesondere wenn die SLA eine Reaktionsf√§higkeit in der Gr√∂√üenordnung von 10 bis 500 Millisekunden erfordert.  Wir haben jetzt einen kostenlosen Low-Punch-GC, der versucht, n√§her am linken Rand dieses Bereichs zu arbeiten.  Der Nachteil ist, dass wir die CPU und den RAM austauschen, um die Latenz zu reduzieren.  Hip-Tagging- und Verdichtungsphasen arbeiten parallel zu Live-Anwendungsthreads.  Die verbleibenden kleinen Pausen sind darauf zur√ºckzuf√ºhren, dass Sie noch die Wurzeln des Objektdiagramms suchen und aktualisieren m√ºssen. </p><br><p>  Wenn keiner der oben genannten Punkte f√ºr Sie einen Sinn ergibt - es spielt keine Rolle, <em>funktioniert</em> Shenandoah <em>einfach</em> , unabh√§ngig davon, ob Sie die zugrunde liegenden Prozesse verstehen oder nicht verstehen. </p><br><p>  Alexei Shipilev, Christina Flood und Roman Kennke arbeiten daran - Sie m√ºssen sich bem√ºhen, nichts √ºber diese Leute zu wissen.  Wenn Sie allgemein verstehen, wie GC funktioniert, aber nicht wissen, was ein Entwickler dort tun kann, empfehlen wir Ihnen, sich die wunderbare √úbersetzung des wundervollen Leshina-Artikels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Homemade Garbage Collector f√ºr OpenJDK"</a> oder der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JVM Anatomy Quarks-</a> Reihe anzusehen.  Das ist <strong>sehr interessant</strong> . </p><br><blockquote>  <strong>Sehr wichtig.</strong>  Oracle hat beschlossen, Sheandoah nicht mit einem seiner Release-Builds zu versenden - weder mit dem auf jdk.java.net noch mit dem auf oracle.com.  Angesichts der Tatsache, dass Shenandoah eines der wichtigsten Merkmale von JDK 12 ist, lohnt es sich, eine andere offizielle Versammlung zu installieren, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">beispielsweise von Azul</a> . </blockquote><br><hr><br><p>  <strong>230: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microbenchmark Suite</a></strong> </p><br><p>  <strong>Inneres Merkmal</strong> .  Wenn Sie jemals versucht haben, Mikrobenchmarks zu schreiben, wissen Sie, dass dies auf JMH erfolgt.  JMH ist ein Framework zum Erstellen, Zusammenstellen, Starten und Analysieren von Mikrobenchmarks f√ºr Java und andere JVM-Sprachen. Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wissen selbst, wer</a> es geschrieben hat (alle √úbereinstimmungen sind zuf√§llig).  Leider kann nicht alles, was in der Welt der "normalen" Anwendungen getan wird, innerhalb des JDK angewendet werden.  Beispielsweise ist es unwahrscheinlich, dass dort jemals normaler Spring Framework-Code angezeigt wird. </p><br><p>  Gl√ºcklicherweise k√∂nnen Sie ab Version 12 mindestens JMH verwenden, und es gibt bereits eine Reihe von Tests, die darauf geschrieben sind.  Sie k√∂nnen es in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>jdk/jdk/test/micro/org/openjdk/bench</code></a> (Sie k√∂nnen direkt im Browser nachsehen, dieser Pfad ist ein Link). </p><br><p>  So sieht beispielsweise <a href="">der GC-Test</a> aus. </p><br><blockquote>  Ich m√∂chte Sie daran erinnern, dass wir hier keinen StackOverflow haben und es verboten ist, den Code aus Copy-Paste hier und im Folgenden zu verwenden, ohne alle Lizenzen aus der <a href="">entsprechenden Datei</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem OpenJDK-Projekt</a> im Allgemeinen zu lesen und zu beobachten, da Sie sonst leicht die letzten zu verklagenden Socken bekommen. </blockquote><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(TimeUnit.NANOSECONDS) <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Thread) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Alloc</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LENGTH = <span class="hljs-number"><span class="hljs-number">400</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ARR_LEN = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> largeLen = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> smalllen = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testLargeConstArray</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Blackhole bh)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> localArrlen = ARR_LEN; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; LENGTH; i++) { Object[] tmp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[localArrlen]; bh.consume(tmp); } } <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br><hr><br><p>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">325: Ausdr√ºcke wechseln (Vorschau)</a></strong> </p><br><p>  <strong>Externe Funktion</strong> .  Dies wird Ihre Herangehensweise an das Schreiben von Endlosschaltern mit einer L√§nge von mehr als zwei Bildschirmen grundlegend √§ndern.  Schauen Sie: </p><br><h3 id="virgin-java-switch-vs-">  Virgin Java Switch vs ... </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dayNum = -<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (day) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MONDAY: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> FRIDAY: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> SUNDAY: dayNum = <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TUESDAY: dayNum = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> THURSDAY: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> SATURDAY: dayNum = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> WEDNESDAY: dayNum = <span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre> <br><p>  <strong>Warum es so schlimm ist</strong> : Es gibt viele Buchstaben, Sie k√∂nnen die Pause √ºberspringen (insbesondere, wenn Sie drogenabh√§ngig sind oder an ADHS leiden). </p><br><h3 id="-vs-chad-java-swtich-expression">  ... gegen Chad Java Swtich Expression! </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dayNum = <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (day) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MONDAY -&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TUESDAY -&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = day.toString().length(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = f(k); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> result; } };</code> </pre> <br><p>  <strong>Warum gut</strong> : wenige Buchstaben, sicher, praktisch, neue coole Funktion. </p><br><p>  <strong>Bonus</strong> : Wenn Sie ein Sadist sind, werden Sie zutiefst zufrieden sein, da Tausende von IDE-Entwicklern jetzt mit der Unterst√ºtzung dieser Funktion gequ√§lt werden.  Ja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Lany</a> , ja? <del>  Sie k√∂nnen ihn <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nach dem Bericht am 6. April</a> fangen und sanft darum bitten, alle schmutzigen Details preiszugeben. </del></p><br><blockquote>  <strong>Dies ist eine Vorschaufunktion, die einfach nicht funktioniert!</strong>  Beim Kompilieren m√ºssen Sie in <code>--enable-preview --release 12</code> die Befehlszeilenoptionen <code>--enable-preview --release 12</code> und <code>java</code> ausf√ºhren - nur das <code>--enable-preview</code> . </blockquote><br><hr><br><p>  <strong>334: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JVM-Konstanten-API</a></strong> </p><br><p>  <strong>Inneres Merkmal</strong> .  Entwickler m√∂chten Klassendateien bearbeiten.  Sie m√ºssen dies bequem tun, und dies ist die Erkl√§rung des Problems.  Zumindest sagte Brian Goetz, dem dieser JEP geh√∂rt :-) All dies ist Teil eines gr√∂√üeren Schlachtfeldes, aber im Moment werden wir nicht tief gehen. </p><br><p>  Jede Java-Klasse verf√ºgt √ºber einen sogenannten "Konstantenpool", in dem entweder einige Werte (wie Zeichenfolgen und Ints) oder Laufzeitentit√§ten wie Klassen und Methoden gespeichert werden.  Sie k√∂nnen in diesen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speicherauszug</a> mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Anweisung ldc</a> - "load costant" graben, sodass all dieser M√ºll als ladbare Konstanten bezeichnet wird.  Es gibt immer noch einen Sonderfall f√ºr invokedynamic, aber egal. </p><br><p>  Wenn wir mit Klassendateien arbeiten, m√∂chten wir bequem Bytecode-Instrumente und damit ladbare Konstanten simulieren.  Der erste Wunsch besteht darin, einfach die entsprechenden Java-Typen zu erstellen. Wie pr√§sentieren Sie ihnen jedoch eine "lebende" Klasse, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>CONSTANT_Class_info</code></a> Struktur?  Klassenobjekte h√§ngen von der Richtigkeit und Konsistenz des Ladens von Klassen ab, und beim Laden von Klassen in Java wird eine h√∂llische Bacchanalia erstellt.  Zun√§chst k√∂nnen nicht alle Klassen in die VM geladen werden, aber Sie m√ºssen sie noch beschreiben! </p><br><p>  Ich m√∂chte Dinge wie Klassen, Methoden und weniger bekannte Bestien wie Methodenhandles und dynamische Konstanten unter Ber√ºcksichtigung all dieser Feinheiten irgendwie verwalten. </p><br><p>  Dies wird gel√∂st, indem neue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wertbasierte</a> Typen symbolischer Verkn√ºpfungen (im Sinne von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JVMS 5.1</a> ) eingef√ºhrt werden, von denen jede einen bestimmten Konstantentyp beschreibt.  Beschreibt rein nominell, isoliert von Ladeklassen oder Zugriffsproblemen.  Sie leben in Paketen wie <code>java.lang.invoke.constant</code> und fragen nicht danach, aber Sie k√∂nnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sich</a> den Patch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ansehen</a> . </p><hr><br><p>  <strong>340: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein AArch64-Port, nicht zwei</a></strong> <br>  <strong>Externe Funktion</strong> .  Bereits in JDK 9 gab es eine seltsame Situation, als Oracle und Red Hat gleichzeitig ihre ARM-Ports in Alarmbereitschaft versetzten.  Und jetzt sehen wir das Ende der Geschichte: Der 64-Bit-Teil des Oraklov-Ports wurde vom Upstream entfernt. </p><br><p>  Sie h√§tten selbst lange in die Geschichte eintauchen k√∂nnen, aber es gibt einen besseren Weg.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BellSoft war</a> an der Entwicklung dieses JEP beteiligt. Das B√ºro befindet sich in St. Petersburg neben dem ehemaligen B√ºro von Oracle. </p><br><p>  Deshalb habe ich mich sofort an Alexey Voitilov, CTO von BellSoft, gewandt: </p><br><blockquote>  "BellSoft bringt das Liberica JDK auf den Markt, das neben x86 Linux / Windows / Mac und Solaris / SPARC auch ARM unterst√ºtzt. Ab JDK 9 f√ºr ARM konzentrierten wir uns auf die Verbesserung der Leistung des AARCH64-Ports f√ºr Serveranwendungen und unterst√ºtzten weiterhin den 32-Bit-ARM-Port f√ºr Zum Zeitpunkt der Ver√∂ffentlichung von JDK 11 gab es also eine Situation, in der niemand den 64-Bit-Port-Teil von Oracle (einschlie√ülich Oracle) unterst√ºtzte, und die OpenJDK-Community beschloss, ihn zu entfernen, um sich auf den AARCH64-Port zu konzentrieren. Im Moment ist er produktiver ( siehe zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JEP 315</a> , die wir  integriert in JDK 11) und unterst√ºtzt ab JDK 12 alle Funktionen des Ports von Oracle (die letzte, Minimal VM, die ich im September integriert habe). Daher war ich froh, Bob Vandette dabei zu helfen, dieses Rudiment in JDK 12 zu entfernen. Infolgedessen OpenJDK Die Community erhielt einen Port auf AARCH64 und einen ARM32-Port, was die Unterst√ºtzung sicherlich erleichtert. " </blockquote><br><hr><br><p>  <strong>341: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Standard-CDS-Archive</a></strong> </p><br><p>  <strong>Inneres Merkmal</strong> .  Das Problem ist, dass beim Start einer Java-Anwendung Tausende von Klassen geladen werden, was das Gef√ºhl erzeugt, dass Java beim Start erheblich langsamer wird.  Aber wer da ist, um zu l√ºgen, das ist nicht nur eine ‚ÄûSensation‚Äú - es ist so.  Um das Problem aus alten Zeiten zu beheben, werden verschiedene Rituale praktiziert. </p><br><p>  Die gemeinsame Nutzung von Klassendaten ist eine Funktion, die uns <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seit Jahrhunderten zur Verf√ºgung steht</a> , wie eine kommerzielle Funktion aus JDK 8 Update 40. Sie erm√∂glicht es Ihnen, all diesen Startm√ºll in ein Archiv eines eigenen Formats zu packen (Sie m√ºssen nicht wissen, welches) und danach die Startgeschwindigkeit Anwendungen nimmt zu.  Und nach einer Weile erschien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JEP 310</a> : Application Class-Data Sharing, mit dem wir nicht nur mit Systemklassen, sondern auch mit Anwendungsklassen auf die gleiche Weise arbeiten konnten. </p><br><p>  F√ºr JDK-Klassen sieht es so aus.  Zuerst <code>java -Xshare:dump</code> wir die Klassen mit dem Befehl <code>java -Xshare:dump</code> und f√ºhren dann die Anwendung aus, um diesen Cache zu verwenden: <code>java -Xshare:on -jar app.jar</code> .  Alles, das Startup hat sich etwas verbessert.  Wussten Sie schon √ºber diese Funktion?  Viele, die es noch nicht wissen! </p><br><p>  Hier sieht es seltsam aus: Warum jedes Mal rituell <code>-Xshare:dump</code> schreiben <code>-Xshare:dump</code> wenn das Standardergebnis dieses Befehls selbst in der Phase der Erstellung der JDK-Distribution leicht vorhersehbar ist?  Wenn die Java 8-Distribution laut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> mit dem Installationsprogramm installiert wurde, sollte sie zum Zeitpunkt der Installation die erforderlichen Befehle f√ºr Sie ausf√ºhren.  Als ob der Installer leise in der Ecke abbaut.  Aber warum?  Und was tun mit der Distribution, die nicht als Installationsprogramm, sondern als Zip-Datei verteilt wird? </p><br><p>  Es ist ganz einfach: Ab JDK 12 wird das CDS-Archiv unmittelbar nach dem Verkn√ºpfen von den Erstellern des Distributionskits generiert.  Auch f√ºr Nacht-Builds (vorausgesetzt, sie sind 64-Bit und nativ, nicht f√ºr die Cross-Kompilierung). </p><br><p>  Benutzer m√ºssen nicht einmal √ºber das Vorhandensein dieser Funktion Bescheid wissen, da ab JDK 11 <code>-Xshare:auto</code> standardm√§√üig aktiviert ist und ein solches Archiv automatisch <code>-Xshare:auto</code> wird.  Die blo√üe <strong>Aktualisierung auf JDK 12 beschleunigt somit den Start der Anwendung!</strong> </p><hr><br><p>  <strong>344: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abbruchf√§hige gemischte Sammlungen f√ºr G1</a></strong> </p><br><p>  <strong>Inneres Merkmal</strong> .  Um ehrlich zu sein, <del>  Ich verstehe nichts in der Arbeit von G1 </del>  Eine Erkl√§rung der Funktionen von GC ist eine undankbare Aufgabe.  Es erfordert ein Verst√§ndnis der Details seiner Arbeit sowohl vom Erkl√§renden als auch vom Verstehen.  F√ºr die meisten Menschen ist GC eine Art H√∂lle aus einer Schnupftabakdose, die man im Falle von etwas betr√ºgen kann.  Daher muss das Problem irgendwie einfacher erkl√§rt werden. </p><br><p>  <strong>Problem</strong> : G1 k√∂nnte besser funktionieren. </p><br><p>  Nun, das Problem ist, dass der GC ein Kompromiss vieler Parameter ist, von denen einer die L√§nge der Pause ist.  Manchmal ist die Pause zu lang und dann ist es sch√∂n, sie abbrechen zu k√∂nnen. </p><br><p>  Wann passiert das?  G1 analysiert das Verhalten der Anwendung wirklich und w√§hlt den Arbeitsbereich (ausgedr√ºckt als <em>Sammlungssatz</em> ) anhand seiner Schlussfolgerungen aus.  Wenn der Arbeitsumfang genehmigt ist, verpflichtet sich G1, alle lebenden Gegenst√§nde im Sammelset hartn√§ckig und ohne Unterbrechung in einer Sitzung zu sammeln.  Manchmal dauert es zu lange.  Im Wesentlichen bedeutet dies, dass G1 den Arbeitsaufwand falsch berechnet hat.  Sie k√∂nnen ihn t√§uschen, indem Sie pl√∂tzlich das Verhalten Ihrer Anwendung √§ndern, sodass die Heuristik zus√§tzlich zu schlechten Daten funktioniert, wenn zu viele alte Regionen in den Sammlungssatz aufgenommen werden. </p><br><p>  Um aus der Situation herauszukommen, wurde G1 durch den folgenden Mechanismus finalisiert: Wenn die Heuristik regelm√§√üig den falschen Arbeitsaufwand ausw√§hlt, wechselt G1 Schritt f√ºr Schritt zur inkrementellen Speicherbereinigung, und jeder n√§chste Schritt (wenn er nicht in die Zielausf√ºhrungszeit passt) kann abgebrochen werden.  Es ist nicht sinnvoll, etwas inkrementell zu sammeln (junge Regionen), daher werden alle diese Arbeiten im ‚Äûobligatorischen‚Äú Block hervorgehoben, der immer noch kontinuierlich durchgef√ºhrt wird. </p><br><p>  Was tun mit dem Endbenutzer?  Nichts, Sie m√ºssen auf JDK 12 aktualisieren, alles wird von selbst besser. </p><hr><br><p>  <strong>346: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nicht verwendeten festgeschriebenen Speicher sofort von G1 zur√ºckgeben</a></strong> </p><br><p>  <strong>Inneres Merkmal</strong> .  Das Problem ist, dass wenn wir eine gro√üe H√ºfte haben, die niemand aktiv nutzt, es fair erscheint, all diesen inaktiven Speicher wieder auf das Betriebssystem zu √ºbertragen.  Vor JDK 12 war dies jedoch nicht der Fall. </p><br><p>  Um sein Ziel hinsichtlich der zul√§ssigen Pausenl√§nge zu erreichen, f√ºhrt G1 eine Reihe von inkrementellen, parallelen und mehrstufigen Zyklen durch.  In JDK 11 wird dem Betriebssystem nur mit vollem GC oder w√§hrend der parallelen Markierungsphase festgeschriebener Speicher zugewiesen.  Wenn Sie die Protokollierung verbinden (-Xloggc: /home/gc.log -XX: + PrintGCDetails -XX: + PrintGCDateStamps), wird diese Phase wie folgt angezeigt: </p><br><pre> <code class="plaintext hljs">8801.974: [G1Ergonomics (Concurrent Cycles) request concurrent cycle initiation, reason: occupancy higher than threshold, occupancy: 12582912000 bytes, allocation request: 0 bytes, threshold: 12562779330 bytes (45.00 %), source: end of GC] 8804.670: [G1Ergonomics (Concurrent Cycles) initiate concurrent cycle, reason: concurrent cycle initiation requested] 8805.612: [GC concurrent-mark-start] 8820.483: [GC concurrent-mark-end, 14.8711620 secs]</code> </pre> <br><p>  Das Lustige ist, dass G1, wie es kann, mit vollst√§ndigen Stopps zu k√§mpfen hat und der gleichzeitige Zyklus nur mit h√§ufigen Zuweisungen und einem verstopften Haufen beginnt.  Unsere Situation, in der niemand die H√ºfte ber√ºhrt, ist genau das Gegenteil.  Situationen, in denen G1 kratzt, um dem Betriebssystem Speicher zu geben, treten sehr selten auf! </p><br><p>  Jeder h√§tte bei diesem Problem ein Tor erzielt (‚Äûkaufe noch mehr RAM, was wie ein Schurke ist!‚Äú). Wenn nicht einer, aber - es gibt alle Arten von Wolken und Containern, in denen dies eine unzureichende Nutzung und den Verlust von ernsthaftem Geld bedeutet.  Schau, was f√ºr ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cooler Bericht</a> , randvoll mit Schmerz. </p><br><p>  Die L√∂sung bestand darin, G1 beizubringen, sich in diesem speziellen Fall gut zu verhalten, wie Shenanda oder GenCon von OpenJ9 bereits wissen.  Es ist notwendig, die unzureichende Auslastung der H√ºfte festzustellen und ihre Verwendung entsprechend zu reduzieren.  Bei einigen Tests mit Tomcat konnte der Speicherverbrauch dadurch um fast die H√§lfte reduziert werden. </p><br><p>  Unter dem Strich wird die Anwendung als inaktiv betrachtet oder wenn das Intervall (in Millisekunden) seit dem letzten Build <code>getloadavg()</code> ist und kein gleichzeitiger Zyklus <code>getloadavg()</code> oder wenn <code>getloadavg()</code> f√ºr einen Zeitraum von einer Minute eine Last unter einem bestimmten Schwellenwert <code>getloadavg()</code> .  Sobald dies passiert ist, beginnt die regelm√§√üige Speicherbereinigung - sie wird zwar nicht so sauber wie die gesamte Baugruppe, wirkt sich jedoch nur minimal auf die Anwendung aus. </p><br><p>  Sie k√∂nnen es in dieses Protokoll verschieben: </p><br><pre> <code class="plaintext hljs">(1) [6.084s][debug][gc,periodic ] Checking for periodic GC. [6.086s][info ][gc ] GC(13) Pause Young (Concurrent Start) (G1 Periodic Collection) 37M-&gt;36M(78M) 1.786ms (2) [9.087s][debug][gc,periodic ] Checking for periodic GC. [9.088s][info ][gc ] GC(15) Pause Young (Prepare Mixed) (G1 Periodic Collection) 9M-&gt;9M(32M) 0.722ms (3) [12.089s][debug][gc,periodic ] Checking for periodic GC. [12.091s][info ][gc ] GC(16) Pause Young (Mixed) (G1 Periodic Collection) 9M-&gt;5M(32M) 1.776ms (4) [15.092s][debug][gc,periodic ] Checking for periodic GC. [15.097s][info ][gc ] GC(17) Pause Young (Mixed) (G1 Periodic Collection) 5M-&gt;1M(32M) 4.142ms (5) [18.098s][debug][gc,periodic ] Checking for periodic GC. [18.100s][info ][gc ] GC(18) Pause Young (Concurrent Start) (G1 Periodic Collection) 1M-&gt;1M(32M) 1.685ms (6) [21.101s][debug][gc,periodic ] Checking for periodic GC. [21.102s][info ][gc ] GC(20) Pause Young (Concurrent Start) (G1 Periodic Collection) 1M-&gt;1M(32M) 0.868ms (7) [24.104s][debug][gc,periodic ] Checking for periodic GC. [24.104s][info ][gc ] GC(22) Pause Young (Concurrent Start) (G1 Periodic Collection) 1M-&gt;1M(32M) 0.778ms</code> </pre> <br><p>  Herausgefunden?  Ich nicht.  In JEP gibt es eine detaillierte √úbersetzung der Geb√§rdensprache f√ºr jede Zeile des Protokolls, die Funktionsweise des Algorithmus und alles andere. </p><br><p>  "Also was, warum habe ich es herausgefunden?"  - Du fragst.  Jetzt haben wir zwei zus√§tzliche Handles: <code>G1PeriodicGCInterval</code> und <code>G1PeriodicGCSystemLoadThreshold</code> , die verdreht werden k√∂nnen, wenn es schlecht wird.  Es ist sicher, dass es eines Tages schlecht wird, es ist Java, Baby! </p><hr><br><h1 id="itogi">  Zusammenfassung </h1><br><p>  Infolgedessen haben wir eine starke Befreiung in unseren H√§nden - keine Revolution, sondern eine Entwicklung, die auf die Verbesserung der Leistung ausgerichtet ist.  Genau die H√§lfte der Verbesserungen h√§ngt mit der Leistung zusammen: Drei JEPs zu GC und eine zu CDS, die sich selbst aktivieren lassen, m√ºssen nur auf JDK 12 aktualisiert werden. Au√üerdem haben wir eine Sprachfunktion (Switch-Ausdr√ºcke) und zwei neue Tools f√ºr JDK-Entwickler erhalten ( Konstante API- und JMH-Tests), und jetzt kann sich die Community besser auf einen einzelnen 64-Bit-Port in ARM konzentrieren. </p><br><p>  Aktualisieren Sie im Allgemeinen jetzt auf JDK 12, und die Force ist m√∂glicherweise bei Ihnen.  Du wirst es brauchen. </p><br><blockquote>  Minute der Werbung.  Sehr bald, vom 5. bis 6. April, wird die JPoint-Konferenz stattfinden, auf der eine gro√üe Anzahl von Menschen zusammenkommen wird, die viel √ºber JDK und alle m√∂glichen neuen Funktionen wissen.  Zum Beispiel wird es sicherlich Simon Ritter aus Azul geben, der einen Vortrag √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûJDK 12: Fallstricke f√ºr Unvorsichtige‚Äú h√§lt</a> .  Der am besten geeignete Ort, um die neueste Version zu diskutieren!  Weitere Informationen zu JPoint finden Sie auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Website</a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de444434/">https://habr.com/ru/post/de444434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de444422/index.html">Wie schon 2018: Industrieller FDM-Druck auf der Top 3D Expo</a></li>
<li><a href="../de444426/index.html">Lyft und Uber gehen an die B√∂rse. Warum in Lyft investieren?</a></li>
<li><a href="../de444428/index.html">Bergauto: Die klassische Herausforderung mit Verst√§rkungstraining l√∂sen</a></li>
<li><a href="../de444430/index.html">Analyse: Wie man Present Perfect tats√§chlich auf Englisch verwendet</a></li>
<li><a href="../de444432/index.html">Der Einsatz von Linux und Open Source Software in unserer Bildungseinrichtung: sein oder nicht sein?</a></li>
<li><a href="../de444436/index.html">Was ist ein Mirai-Botnetz und wie kann ich meine Ger√§te sch√ºtzen?</a></li>
<li><a href="../de444438/index.html">Eine kurze Geschichte von Open Source - wie freie Software mit propriet√§ren k√§mpfte</a></li>
<li><a href="../de444442/index.html">Jetson Nano: Nvidia Machine Board Single Board</a></li>
<li><a href="../de444444/index.html">Die besten Fehler unserer Konferenzen (Joker, JPoint, DotNext, Mobius, TechTrain usw.)</a></li>
<li><a href="../de444446/index.html">Erstellen einer modernen Webanwendung von Grund auf neu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>