<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โฌ ๐ฉ๐พโโ๏ธ ๐๐ป ุฎุทุฃ ุฌุงูุง ุณูุฑูุจุช ุฃููู ูู ุงูุชุนุงูู ูุน ุฅูุง ุฃุญุงุฏู ๐ฉ๐ฝโ๐ญ ๐ ๐ฉโ๐ฉโ๐ฆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฏุนูุง ูุชุญุฏุซ ููููุง ุนู ููููุฉ ุชุนุงูููุง ูุน ุงูุฃุฎุทุงุก. ูู JavaScript ุ ูุฏููุง ูุธููุฉ ูุบุฉ ูุถููุฉ ููุนูู ูุน ุงุณุชุซูุงุกุงุช. ูุฑูู ุงูููุฏ ุงูุฅุดูุงูู ูู try...catch build. ูุชูุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฎุทุฃ ุฌุงูุง ุณูุฑูุจุช ุฃููู ูู ุงูุชุนุงูู ูุน ุฅูุง ุฃุญุงุฏู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457098/" style=";text-align:right;direction:rtl"> ุฏุนูุง ูุชุญุฏุซ ููููุง ุนู ููููุฉ ุชุนุงูููุง ูุน ุงูุฃุฎุทุงุก.  ูู JavaScript ุ ูุฏููุง ูุธููุฉ ูุบุฉ ูุถููุฉ ููุนูู ูุน ุงุณุชุซูุงุกุงุช.  ูุฑูู ุงูููุฏ ุงูุฅุดูุงูู ูู <code>try...catch</code> build.  ูุชูุญ ูู ุฐูู ุชุญุฏูุฏ ูุณุงุฑ ุชูููุฐ ุนุงุฏู ูู ูุณู <code>try</code> ุ ุซู ุงูุชุนุงูู ูุน ุฌููุน ุงูุงุณุชุซูุงุกุงุช ูู ูุณู <code>catch</code> .  ููุณ ุฎูุงุฑุง ุณูุฆุง.  ูุชูุญ ูู ุฐูู ุงูุชุฑููุฒ ุนูู ุงููููุฉ ุงูุญุงููุฉ ุฏูู ุงูุชูููุฑ ูู ูู ุฎุทุฃ ูุญุชูู.  ุจุงูุชุฃููุฏ ุฃูุถู ูู ุงูุณุฏุงุฏ ุงูููุฏ ุงูุฎุงุต ุจู ูุน ifs ูุง ููุงูุฉ ููุง. <br><br>  ูู ุฏูู <code>try...catch</code> ูุตุนุจ ุงูุชุญูู ูู ูุชุงุฆุฌ ูู ุฏุงูุฉ ุงุณุชุฏุนุงุก ูููู ุบูุฑ ูุชููุนุฉ.  ูุฐุง ูู ุชุตููู ูููุฏ.  ููููุง ุชุนุงูู ูู ุจุนุถ ุงููุดุงูู.  ููุฐู ููุณุช ุงูุทุฑููุฉ ุงููุญูุฏุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก.  ูู ูุฐู ุงูููุงูุฉ ุ ุณููุธุฑ ูู ุงุณุชุฎุฏุงู <b>ุฅูุง ุฅูุง monad</b> ูุจุฏูู <code>try...catch</code> . <br><br>  ูุจู ุงููุชุงุจุนุฉ ุ ุฃูุงุญุธ ุจุถุน ููุงุท.  ุงูููุงูุฉ ุชูุชุฑุถ ุฃูู ุชุนุฑู ุจุงููุนู ุนู ุชูููู ูุธููุฉ ููุงุฑู.  ู ุชุญุฐูุฑ.  ุฅุฐุง ูู ุชุตุงุฏู monads ูู ูุจู ุ ููููู ุฃู ูุจุฏู ุญููุง ุบุฑูุจูุง.  ูุชุทูุจ ุงูุนูู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุฃุฏูุงุช ุชุบููุฑูุง ูู ุงูุชูููุฑ.  ูู ุงูุจุฏุงูุฉ ูููู ุฃู ูููู ุตุนุจุง. <br><br>  ูุง ุชููู ุฅุฐุง ููุช ูู ุญูุฑุฉ ูู ุฃูุฑู.  ุงูุฌููุน ูุฏูู ุฐูู.  ูู ููุงูุฉ ุงูููุงู ุ ููุช ุจุณุฑุฏ ุจุนุถ ุงูุฑูุงุจุท ุงูุชู ูุฏ ุชุณุงุนุฏ.  ูุง ุชุณุชุณูู.  ุชุณูู ูุฐู ุงูุฃุดูุงุก ุจูุฌุฑุฏ ุงุฎุชุฑุงููุง ูููุฎ. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ูุซุงู ุงููุดููุฉ </h1><br>  ูุจู ููุงูุดุฉ ูุดุงูู ุงูุงุณุชุซูุงุกุงุช ุ ุฏุนููุง ูุชุญุฏุซ ุนู ุณุจุจ ูุฌูุฏูุง ูููุงุฐุง <code>try...catch</code> ุธูุฑุช ูุชู <code>try...catch</code> .  ููููุงู ุจุฐูู ุ ุฏุนููุง ููุธุฑ ุฅูู ูุดููุฉ ุญุงููุช ุฌุนููุง ูุงูุนูุฉ ุนูู ุงูุฃูู ุฌุฒุฆููุง.  ุชุฎูู ุฃููุง ููุชุจ ูุธููุฉ ูุนุฑุถ ูุงุฆูุฉ ุจุงูุฅุดุนุงุฑุงุช.  ููุฏ ูุฌุญูุง ุจุงููุนู (ุจุทุฑููุฉ ูุง) ูู ุฅุนุงุฏุฉ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู.  ููู ูุณุจุจ ูุง ุ ูุฑุฑ ูููุฏุณู ุงููุงุฌูุฉ ุงูุฎูููุฉ ุฅุฑุณุงูู ุจุชูุณูู CSV ุ ูููุณ JSON.  ูุฏ ุชุจุฏู ุงูุจูุงูุงุช ุงูุฃูููุฉ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl">  ุงูุทุงุจุน ุงูุฒููู ุ ูุงููุญุชูู ุ ูุนุฑุถูุง ุ ูุฑูู
 2018-10-27T05: 33: 34 + 00: 00 ุ ุฏุนุงู madhatter ุฅูู ุงูุดุงู ุ ุบูุฑ ููุฑูุก ุ https: //example.com/invite/tea/3801
 2018-10-26T13: 47: 12 + 00: 00 ุ ุฐูุฑุช @ queenofhearts ูู ููุงูุดุฉ "ุจุทููุฉ ุงููุฑูููู" ุ ุชูุช ูุดุงูุฏุชูุง ุ https: //example.com/discussions/croquet/1168
 2018-10-25T03: 50: 08 + 00: 00 ุ ุฃุฑุณู ุฅููู @ cheshirecat ุงุจุชุณุงูุฉ ุบูุฑ ููุฑูุกุฉ ุ https: //example.com/interactions/grin/88 </pre><br>  ูุฑูุฏ ุนุฑุถู ูู HTML.  ูุฏ ูุจุฏู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MessageList"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message Message--viewed"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com/invite/tea/3801"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message-link"</span></span></span><span class="hljs-tag">&gt;</span></span>@madhatter invited you to tea<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">datetime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2018-10-27T05:33:34+00:00"</span></span></span><span class="hljs-tag">&gt;</span></span>27 October 2018<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message Message--viewed"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com/discussions/croquet/1168"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message-link"</span></span></span><span class="hljs-tag">&gt;</span></span>@queenofhearts mentioned you in 'Croquet Tournament' discussion<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">datetime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2018-10-26T13:47:12+00:00"</span></span></span><span class="hljs-tag">&gt;</span></span>26 October 2018<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message Message--viewed"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com/interactions/grin/88"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Message-link"</span></span></span><span class="hljs-tag">&gt;</span></span>@cheshirecat sent you a grin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">datetime</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2018-10-25T03:50:08+00:00"</span></span></span><span class="hljs-tag">&gt;</span></span>25 October 2018<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">time</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ูุชุจุณูุท ุงููููุฉ ุ ูุง ุนููู ุณูู ุงูุชุฑููุฒ ุนูู ูุนุงูุฌุฉ ูู ุตู ูู ุจูุงูุงุช CSV ูู ุงูููุช ุงูุญุงูู.  ููุจุฏุฃ ุจุจุนุถ ุงููุธุงุฆู ุงูุจุณูุทุฉ ููุนุงูุฌุฉ ุงูุณูุงุณู.  ุงูุฃูู ููุณู ุงูุณูุณูุฉ ุงููุตูุฉ ุฅูู ุญููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">splitFields</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> row.split(<span class="hljs-string"><span class="hljs-string">'","'</span></span>); }</code> </pre> <br>  ุชู ุชุจุณูุท ุงููุธููุฉ ููุง ูุฃููุง ูุงุฏุฉ ุชุนููููุฉ.  ูุญู ูุชุนุงูู ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุ ูููุณ ุชุญููู CSV.  ุฅุฐุง ูุงูุช ุฅุญุฏู ุงูุฑุณุงุฆู ุชุญุชูู ุนูู ูุงุตูุฉ ุ ูุณูููู ูู ูุฐุง ุฎุทุฃู ูุงุฏุญูุง.  ูุฑุฌู ุนุฏู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฑูุฒ ูุชุญููู ุจูุงูุงุช CSV ุงูุญููููุฉ.  ุฅุฐุง ูุงู ุนููู ุชุญููู ุจูุงูุงุช ููู CSV ุ ูุงุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ ุชุญููู ูููุงุช CSV ุงูุชู ุชู ุงุฎุชุจุงุฑูุง ุฌูุฏูุง</a> . <br><br>  ุจุนุฏ ุชูุณูู ุงูุจูุงูุงุช ุ ูุฑูุฏ ุฅูุดุงุก ูุงุฆู.  ุจุญูุซ ูุทุงุจู ูู ุงุณู ุฎุงุตูุฉ ุฑุคูุณ CSV.  ูููุชุฑุถ ุฃููุง ูููุง ุจุงููุนู ุจุชุญููู ุดุฑูุท ุงูุนููุงู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู (ุงููุฒูุฏ ุญูู ุฐูู ูุงุญููุง).  ููุฏ ูุตููุง ุฅูู ููุทุฉ ูุฏ ูุญุฏุซ ูููุง ุฎุทุฃ ูุง.  ุญุตููุง ุนูู ุฎุทุฃ ูููุนุงูุฌุฉ.  ูููู ุฎุทุฃ ุฅุฐุง ูุงู ุทูู ุงูุณูุณูุฉ ูุง ูุชุทุงุจู ูุน ุดุฑูุท ุงูุนููุงู.  ( <code>_.zipObject</code> ูู <a href="">ูุธููุฉ lodash</a> ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zipRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, fieldData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (headerFields.length !== fieldData.length) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Row has an unexpected number of fields"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.zipObject(headerFields, fieldData); }</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ุฃุถู ุชุงุฑูุฎูุง ูุงุจูุงู ูููุฑุงุกุฉ ุฅูู ุงููุงุฆู ูุนุฑุถู ูู ูุงูุจูุง.  ููุฏ ุธูุฑ ูุทูููุง ููููุงู ุ ูุธุฑูุง ูุฃู JavaScript ูุง ูุญุชูู ุนูู ุฏุนู ูุฏูุฌ ูุซุงูู ูุชูุณูู ุงูุชุงุฑูุฎ.  ููุฑุฉ ุฃุฎุฑู ุ ููุงุฌู ูุดุงูู ูุญุชููุฉ.  ูู ุญุงูุฉ ููุงุฌูุฉ ุชุงุฑูุฎ ุบูุฑ ุตุงูุญ ุ ูุฅู ูุธููุชูุง ุชุฑูู ุฎุทุฃ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addDateStr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">messageObj</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> errMsg = <span class="hljs-string"><span class="hljs-string">'Unable to parse date stamp in message object'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> months = [ <span class="hljs-string"><span class="hljs-string">'January'</span></span>, <span class="hljs-string"><span class="hljs-string">'February'</span></span>, <span class="hljs-string"><span class="hljs-string">'March'</span></span>, <span class="hljs-string"><span class="hljs-string">'April'</span></span>, <span class="hljs-string"><span class="hljs-string">'May'</span></span>, <span class="hljs-string"><span class="hljs-string">'June'</span></span>, <span class="hljs-string"><span class="hljs-string">'July'</span></span>, <span class="hljs-string"><span class="hljs-string">'August'</span></span>, <span class="hljs-string"><span class="hljs-string">'September'</span></span>, <span class="hljs-string"><span class="hljs-string">'October'</span></span>, <span class="hljs-string"><span class="hljs-string">'November'</span></span>, <span class="hljs-string"><span class="hljs-string">'December'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(messageObj.datestamp); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">isNaN</span></span>(d)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(errMsg); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> datestr = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${d.getDate()}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${months[d.getMonth()]}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${d.getFullYear()}</span></span></span><span class="hljs-string">`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {datestr, ...messageObj}; }</code> </pre> <br>  ุฃุฎูุฑูุง ุ ุฎุฐ ุงููุงุฆู ููู ุจุชูุฑูุฑู ุนุจุฑ <a href="">ุฏุงูุฉ ุงููุงูุจ</a> ููุญุตูู ุนูู ุณูุณูุฉ HTML. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowToMessage = _.template(<span class="hljs-string"><span class="hljs-string">`&lt;li class="Message Message--&lt;%= viewed %&gt;"&gt; &lt;a href="&lt;%= href %&gt;" class="Message-link"&gt;&lt;%= content %&gt;&lt;/a&gt; &lt;time datetime="&lt;%= datestamp %&gt;"&gt;&lt;%= datestr %&gt;&lt;/time&gt; &lt;li&gt;`</span></span>);</code> </pre> <br>  ุณูููู ูู ุงูุฌููู ุฃูุถูุง ุทุจุงุนุฉ ุฎุทุฃ ุฅุฐุง ูุง ุงูุชูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> showError = _.template(<span class="hljs-string"><span class="hljs-string">`&lt;li class="Error"&gt;&lt;%= message %&gt;&lt;/li&gt;`</span></span>);</code> </pre> <br>  ุนูุฏูุง ูููู ูู ุดูุก ูู ููุงูู ุ ููููู ุชุฌููุน ูุธููุฉ ููุนุงูุฌุฉ ูู ุณุทุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFieldNames, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { fields = splitFields(row); rowObj = zipRow(headerFieldNames, fields); rowObjWithDate = addDateStr(rowObj); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rowToMessage(rowObj); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showError(e); } }</code> </pre> <br>  ูุจุงูุชุงูู ูุฅู ูุธููุฉ ุฌุงูุฒุฉ.  ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ููููุฉ ุงูุชุนุงูู ูุน ุงูุงุณุชุซูุงุกุงุช. <br><br><h1 style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช: ุงูุฌุฒุก ุงูุฌูุฏ </h1><br>  ุฅุฐู ูุง ุงูุฌูุฏ ูู <code>try...catch</code> ุ  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ุงููุซุงู ุฃุนูุงู ุ ูุฏ ุชุชุณุจุจ ุฃู ูู ุงูุฎุทูุงุช ุงูููุฌูุฏุฉ ูู ูุชูุฉ <code>try</code> ุญุฏูุซ ุฎุทุฃ.  ูู <code>zipRow()</code> ู <code>addDateStr()</code> ูุฑูู ุงูุฃุฎุทุงุก ุนูุฏุง.  ูุฅุฐุง ูุดุฃุช ูุดููุฉ ุ ูุง ุนููู ุณูู ุงูุชูุงุท ุงูุฎุทุฃ ูุนุฑุถ ุฃู ุฑุณุงูุฉ ุนูู ุงูุตูุญุฉ.  ุจุฏูู ูุฐู ุงูุขููุฉ ุ ูุตุจุญ ุงูุฑูุฒ ูุจูุญูุง ุญููุง.  ุฅููู ููู ูุฏ ูุจุฏู.  ุงูุชุฑุถ ุฃู ุงูุฏุงูุงุช ูุง ุชุฑูู ุฃุฎุทุงุก ุ ููููุง ุชุฑุฌุน <code>null</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRowWithoutExceptions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFieldNames, row</span></span></span><span class="hljs-function">) </span></span>{ fields = splitFields(row); rowObj = zipRow(headerFieldNames, fields); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rowObj === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showError(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Encountered a row with an unexpected number of items'</span></span>)); } rowObjWithDate = addDateStr(rowObj); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rowObjWithDate === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showError(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Unable to parse date in row object'</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rowToMessage(rowObj); }</code> </pre> <br>  ููุง ุชุฑูู ุ ููุงู ุนุฏุฏ ูุจูุฑ ูู ุงูููุงูุจ <code>if</code> .  ุงูููุฏ ูู ุฃูุซุฑ ูุทูู.  ููู ุงูุตุนุจ ุงุชุจุงุน ุงูููุทู ุงูุฃุณุงุณู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูุฎุจุฑูุง ูุง ุดูุก.  ูุง ูุนุฑู ุญููุง ุณุจุจ ูุดู ุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุณุงุจูุฉ.  ุนูููุง ุฃู ูุฎูู.  ูููู ุจุฅูุดุงุก ุฑุณุงูุฉ ุฎุทุฃ ููุฏุนู <code>showError()</code> .  ูุฐุง ุงูุฑูุฒ ูู ุฃูุฐุฑ ูุฃูุซุฑ ุฅุฑุจุงูุงู. <br><br>  ุงูุธุฑ ูุฑุฉ ุฃุฎุฑู ุฅูู ุฅุตุฏุงุฑ ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุก.  ุฅูู ููุตู ุจูุถูุญ ุงููุณุงุฑ ุงููุงุฌุญ ููุจุฑูุงูุฌ ูุฑูุฒ ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุก.  ูุฑุน <code>try</code> ูู ูุณููุฉ ุฌูุฏุฉ ุ ููุฑุน <code>catch</code> ุฎุทุฃ.  ูู ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุก ูุญุฏุซ ูู ููุงู ูุงุญุฏ.  ูุงููุธุงุฆู ุงููุฑุฏูุฉ ูุฏ ุชูุฑูุฑ ููุงุฐุง ูุดููุง.  ุงููู ูู ุงููู ุ ูุฐุง ูุจุฏู ุฌูููุง.  ุฃุนุชูุฏ ุฃู ุงูุฃุบูุจูุฉ ุชุนุชุจุฑ ุงููุซุงู ุงูุฃูู ููุงุณุจูุง ุชูุงููุง.  ููุงุฐุง ููุฌ ูุฎุชููุ <br><br><h1 style=";text-align:right;direction:rtl">  ูุดุงูู ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุก ุญุงูู ... catch </h1><br>  ูุฐุง ุงูููุฌ ูุณูุญ ูู ุจุชุฌุงูู ูุฐู ุงูุฃุฎุทุงุก ุงููุฒุนุฌุฉ.  ูุณูุก ุงูุญุธ ุ <code>try...catch</code> ุงูููุงู ุจุนูููุง ุจุดูู ุฌูุฏ ููุบุงูุฉ.  ุฃูุช ูุฌุฑุฏ ุฑูู ุงุณุชุซูุงุก ูุงููุถู ูุฏูุง.  ูููููุง ุงููุจุถ ุนููู ูู ููุช ูุงุญู.  ูุงูุฌููุน ูุนุชุฒููู ุฏุงุฆูุง ูุถุน ูุซู ูุฐู ุงููุชู ุ ุญูุง.  ูููู ููุณ ูู ุงููุงุถุญ ุฏุงุฆููุง ุฃูู ูุฐูุจ ุงูุฎุทุฃ ุฅูู ุฃุจุนุฏ ูู ุฐูู.  ูุงููุชูุฉ ูู ุงูุณูู ุฌุฏูุง ูุณูุงููุง.  ููุจู ุฃู ุชุฏุฑู ูุฐุง ุ ุชุนุทู ุงูุชุทุจูู ุงูุฎุงุต ุจู. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุงูุงุณุชุซูุงุกุงุช ุชููุซ ุฑูุฒ.  ูู ููุงูุด ุงูููุงุก ุงููุธููู ุจุงูุชูุตูู ููุง.  ูููู ุฏุนููุง ููุธุฑ ุฅูู ุฌุงูุจ ูุงุญุฏ ุตุบูุฑ ูู ุงูููุงุก ุงููุธููู: ุงูุดูุงููุฉ ุงููุฑุฌุนูุฉ.  ุชุฑุฌุน ุฏุงูุฉ ุงูุงุฑุชุจุงุท ุงูุดูุงูุฉ ุฏุงุฆููุง ููุณ ุงููุชูุฌุฉ ูุฅุฏุฎุงู ูุนูู.  ูููู ุจุงููุณุจุฉ ูููุธุงุฆู ูุน ุงุณุชุซูุงุกุงุช ุ ูุง ูููููุง ููู ุฐูู.  ูููููู ุฑูู ุงุณุชุซูุงุก ูู ุฃู ููุช ุจุฏูุงู ูู ุฅุฑุฌุงุน ูููุฉ.  ูุฐุง ูุนูุฏ ุงูููุทู.  ูููู ูุงุฐุง ูู ูุฌุฏุช ุฎูุงุฑูุง ุฑุงุจุญููุง - ุทุฑููุฉ ูุธููุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุกุ <br><br><h1 style=";text-align:right;direction:rtl">  ููุฏ ุชูุตููุง ุฅูู ุจุฏูู </h1><br>  ุชููู ุงูุฏุงูุงุช ุงูุฎุงูุตุฉ ุฏุงุฆููุง ุจุฅุฑุฌุงุน ูููุฉ (ุญุชู ุฅุฐุง ูุงูุช ูุฐู ุงููููุฉ ููููุฏุฉ).  ูุฐูู ุ ูุฌุจ ุฃู ููุชุฑุถ ุฑูุฒ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุฎุงุต ุจูุง ุฃููุง ูุฑุฌุน ุฏุงุฆููุง ูููุฉ.  ูุฐุง ุ ููุญุงููุฉ ุฃููู ุ ูุงุฐุง ุนูู ุฃู ุฃูุนู ุ ุฅุฐุง ูุดููุง ูู ุฅุฑุฌุงุน ูุงุฆู ุฎุทุฃุ  ููุฐุง ูู ุ ุฃูููุง ูุฑุชูุจ ุฎุทุฃ ุ ูุฑุฌุน ูุซู ูุฐุง ุงูุดูุก.  ูุฏ ูุจุฏู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRowReturningErrors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFieldNames, row</span></span></span><span class="hljs-function">) </span></span>{ fields = splitFields(row); rowObj = zipRow(headerFieldNames, fields); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rowObj <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showError(rowObj); } rowObjWithDate = addDateStr(rowObj); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rowObjWithDate <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> showError(rowObjWithDate); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rowToMessage(rowObj); }</code> </pre> <br>  ูุฐู ููุณุช ุชุฑููุฉ ุฎุงุตุฉ ุฏูู ุงุณุชุซูุงุก.  ููู ูุฐุง ุฃูุถู.  ููุฏ ููููุง ูุณุคูููุฉ ุฑุณุงุฆู ุงูุฎุทุฃ ุฅูู ูุธุงุฆู ูุฑุฏูุฉ.  ูููู ูุง ูุฒุงู ูุฏููุง ูู ูุฐู ifs.  ุณูููู ูู ุงูุฌููู ุชุบููู ุงููุงูุจ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ุจูุนูู ุขุฎุฑ ุ ุฅุฐุง ุนูููุง ุฃู ูุฏููุง ุฎุทุฃ ุ ููุง ุชููู ุจุดุฃู ุจููุฉ ุงูููุฏ. <br><br><h1 style=";text-align:right;direction:rtl">  ุชุนุฏุฏ ุงูุฃุดูุงู </h1><br>  ููู ููุนู ุฐููุ  ูุฐู ูุดููุฉ ุตุนุจุฉ.  ูููู ูููู ุญููุง ุจูุณุงุนุฏุฉ ุณุญุฑ <i>ุชุนุฏุฏ ุงูุฃุดูุงู</i> .  ุฅุฐุง ูู ุชุตุงุฏู ุชุนุฏุฏ ุงูุฃุดูุงู ูู ูุจู ุ ููุง ุชููู.  ูู ุฌููุฑู ุ ูู "ุชูููุฑ ูุงุฌูุฉ ูุงุญุฏุฉ ููููุงูุงุช ูู ุฃููุงุน ูุฎุชููุฉ" (Straustrup ุ B. "C ++ Glossary of Bjรถrn Straustrup").  ูู JavaScript ุ ูุฐุง ูุนูู ุฃููุง ููุดุฆ ูุงุฆูุงุช ุจููุณ ุงูุฃุณุงููุจ ูุงูุชูุงููุน ุงููุณูุงุฉ.  ููู ุณููู ูุฎุชูู.  ูุงููุซุงู ุงูููุงุณููู ูู ุชุณุฌูู ุงูุชุทุจูู.  ูููููุง ุฅุฑุณุงู ูุฌูุงุชูุง ุฅูู ุฃูุงูู ูุฎุชููุฉ ุญุณุจ ุงูุจูุฆุฉ ุงูุชู ูุญู ูููุง.  ูุงุฐุง ูู ุฃูุดุฃูุง ูุงุฆููู ูุณุฌููู ุ ุนูู ุณุจูู ุงููุซุงูุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> consoleLogger = { <span class="hljs-attr"><span class="hljs-attr">log</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'This is the console logger, logging:'</span></span>, msg); } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ajaxLogger = { <span class="hljs-attr"><span class="hljs-attr">log</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fetch(<span class="hljs-string"><span class="hljs-string">'https://example.com/logger'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: msg}); } };</code> </pre> <br>  ูุนุฑูู ูู ูู ุงููุงุฆูุงุช ูุธููุฉ ุณุฌู ุชุชููุน ูุนููุฉ ุณูุณูุฉ ูุงุญุฏุฉ.  ููููู ูุชุตุฑููู ุจุดูู ูุฎุชูู.  ุงูุฌูุงู ูู ุฃูู ูููููุง ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชุณุชุฏุนู <code>.log()</code> ุ ุจุบุถ ุงููุธุฑ ุนู ุงููุงุฆู ุงูุฐู ูุณุชุฎุฏูู.  ูููู ุฃู ูููู <code>consoleLogger</code> ุฃู <code>ajaxLogger</code> .  ูู ุดูุก ูุนูู ุนูู ุฃู ุญุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ุณูุนูู ุงูุฑูุฒ ุฃุฏูุงู ุจุดูู ุฌูุฏ ูุน ุฃู ูุงุฆู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">logger, message</span></span></span><span class="hljs-function">) </span></span>{ logger.log(message); }</code> </pre> <br>  ูุซุงู ุขุฎุฑ ูู ุทุฑููุฉ. <code>.toString()</code> ูุฌููุน ูุงุฆูุงุช JS.  ูููููุง ูุชุงุจุฉ ุทุฑููุฉ. <code>.toString()</code> ูุฃู ูุฆุฉ ูููู ุจุฅูุดุงุฆูุง.  ุจุนุฏ ุฐูู ุ ููููู ุฅูุดุงุก ูุฆุชูู <code>.toString()</code> ุทุฑููุฉ. <code>.toString()</code> ูุฎุชูู.  <code>Left</code> <code>Right</code> (ุจุนุฏ ูููู ุณุฃุดุฑุญ ุงูุฃุณูุงุก). <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Left</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Left(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Right</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Right(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br>  ุงูุขู ูู ุจุฅูุดุงุก ุฏุงูุฉ ุชุณุชุฏุนู <code>.toString()</code> ุนูู ูุฐูู ุงููุงุฆููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trace</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } trace(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Left(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// โฆ Left(Hello world) trace(new Right('Hello world')); // โฆ Right(Hello world);</span></span></code> </pre> <br>  ููุณ ุฑูุฒ ุงููุนููุฉ ุ ูุฃูุง ุฃุนูู.  ูููู ุงูุญูููุฉ ูู ุฃู ูุฏููุง ููุนูู ูุฎุชูููู ูู ุงูุณููู ูุณุชุฎุฏูุงู ููุณ ุงููุงุฌูุฉ.  ูุฐุง ูู ุชุนุฏุฏ ุงูุฃุดูุงู.  ูููู ุงูุงูุชุจุงู ุฅูู ุดูุก ูุซูุฑ ููุงูุชูุงู.  ูู ุฅุฐุง ุงุณุชุฎุฏูุช ุงูุจูุงูุงุชุ  ุงูุตูุฑ.  ููุณุช ูุงุญุฏุฉ.  ููุฏ ุฃูุดุฃูุง ููุนูู ูุฎุชูููู ูู ุงูุณููู ุฏูู ุจูุงู if ูุงุญุฏ.  ุฑุจูุง ูููู ุงุณุชุฎุฏุงู ุดูุก ูุซู ูุฐุง ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก ... <br><br><h1 style=";text-align:right;direction:rtl">  ุงููุณุงุฑ ูุงููููู </h1><br>  ุงูุนูุฏุฉ ุฅูู ูุดููุชูุง.  ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ุงููุณุงุฑ ุงููุงุฌุญ ูุบูุฑ ุงููุงุฌุญ ููุฑูุฒ ุงูุฎุงุต ุจูุง.  ุนูู ุทุฑูู ุฌูุฏ ุ ููุงุตู ุจุจุณุงุทุฉ ุชุดุบูู ุงูููุฏ ุจูุฏูุก ุญุชู ูุญุฏุซ ุฎุทุฃ ุฃู ููุชูู ููู.  ุฅุฐุง ูุฌุฏูุง ุฃููุณูุง ุนูู ุงููุณุงุฑ ุงูุฎุทุฃ ุ ููู ูุญุงูู ุชุดุบูู ุงูููุฏ ุจุนุฏ ุงูุขู.  ูููููุง ุชุณููุฉ ูุฐู ุงููุณุงุฑุงุช ุจู Happy ู Sad ุ ููู ุญุงูู ุงุชุจุงุน ุงุตุทูุงุญุงุช ุงูุชุณููุฉ ุงูุชู ุชุณุชุฎุฏููุง ูุบุงุช ุงูุจุฑูุฌุฉ ูุงูููุชุจุงุช ุงูุฃุฎุฑู.  ูุฐูู ุ ุฏุนููุง ูุณูู ุงููุณุงุฑ ุงูุณูุฆ ูุณุงุฑ ุ ูุงููุณุงุฑ ุงููุงุฌุญ - ูููู. <br><br>  ุฏุนูุง ููุดุฆ ุทุฑููุฉ ุชุฏูุฑ ุงููุธููุฉ ุฅุฐุง ููุง ูุณูุฑ ุนูู ุทุฑูู ุฌูุฏ ุ ููููุง ูุชุฌุงูููุง ุจุทุฑููุฉ ุณูุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Left represents the sad path. */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Left</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } runFunctionOnlyOnHappyPath() { <span class="hljs-comment"><span class="hljs-comment">// Left is the sad path. Do nothing } toString() { const str = this._val.toString(); return `Left(${str})`; } }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Right represents the happy path. */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Right</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } runFunctionOnlyOnHappyPath(fn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fn(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val); } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Right(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br>  ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> leftHello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Left(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rightHello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>); leftHello.runFunctionOnlyOnHappyPath(trace); <span class="hljs-comment"><span class="hljs-comment">// does nothing rightHello.runFunctionOnlyOnHappyPath(trace); // โฆ Hello world // ๏ฟฉ "Hello world"</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุชุฑุฌูุฉ </h4><br>  ูุญู ููุชุฑุจ ูู ุดูุก ูููุฏ ุ ููู ููุณ ุจุนุฏ.  <code>.runFunctionOnlyOnHappyPath()</code> ุทุฑููุฉ <code>.runFunctionOnlyOnHappyPath()</code> ุจุฅุฑุฌุงุน ุฎุงุตูุฉ <code>_val</code> .  ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูููู ุบูุฑ ูุฑูุญ ููุบุงูุฉ ุฅุฐุง ููุง ูุฑูุฏ ุชุดุบูู ุฃูุซุฑ ูู ูุธููุฉ.  ููุงุฐุงุ  ูุฃููุง ูู ูุนุฏ ูุนุฑู ูุง ุฅุฐุง ููุง ุนูู ุงูุทุฑูู ุงูุตุญูุญ ุฃู ุงูุฎุทุฃ.  ุชุฎุชูู ุงููุนูููุงุช ุจูุฌุฑุฏ ุฃุฎุฐ ุงููููุฉ ุฎุงุฑุฌ ุงููุณุงุฑ ูุงููููู.  ุฅุฐู ูุง ูููููุง ูุนูู ูู ุฅุฑุฌุงุน ุงููุณุงุฑ ุงูุฃูุณุฑ ุฃู ุงูุฃููู ูุน ูุฌูุฏ <code>_val</code> ุฌุฏูุฏ ูู ุงูุฏุงุฎู.  ููุญู ุณูู ุชูุตูุฑ ุงูุงุณู ุ ูุฃููุง ููุง.  ูุง ูููู ุจู ูู ุชุฑุฌูุฉ ุฏุงูุฉ ูู ุนุงูู ุงูููู ุงูุจุณูุทุฉ ุฅูู ุนุงูู ุงููุณุงุฑ ูุงููููู.  ูุฐูู ุ ูุญู ูุณูู ุทุฑููุฉ <code>map()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Left represents the sad path. */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Left</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map() { <span class="hljs-comment"><span class="hljs-comment">// Left is the sad path // so we do nothing return this; } toString() { const str = this._val.toString(); return `Left(${str})`; } }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Right represents the happy path */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Right</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map(fn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right( fn(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val) ); } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Right(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br>  ูุฏุฑุฌ ูุฐู ุงูุทุฑููุฉ ููุณุชุฎุฏู ุงููุณุงุฑ ุฃู ุงููููู ูู ุจูุงุก ุงูุฌููุฉ ุงููุฌุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> leftHello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Left(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rightHello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> helloToGreetings = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> str.replace(<span class="hljs-regexp"><span class="hljs-regexp">/Hello/</span></span>, <span class="hljs-string"><span class="hljs-string">'Greetings,'</span></span>); leftHello.map(helloToGreetings).map(trace); <span class="hljs-comment"><span class="hljs-comment">// Doesn't print any thing to the console // ๏ฟฉ Left(Hello world) rightHello.map(helloToGreetings).map(trace); // โฆ Greetings, world // ๏ฟฉ Right(Greetings, world)</span></span></code> </pre> <br>  ููุฏ ุฃูุดุฃูุง ุทุฑูููู ููุชูููุฐ.  ูููููุง ูุถุน ุงูุจูุงูุงุช ุนูู ูุณุงุฑ ูุงุฌุญ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>new Right()</code> ุ ุฃู ุนูู ุงููุณุงุฑ ุงููุงุดู ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>new Left()</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36a/2ee/cf6/36a2eecf61c554e388c5723b0b5cbd02.svg"><br>  <i><font color="gray">ููุซู ูู ูุตู ูุณุงุฑูุง: ูุงุฌุญูุง ุฃู ุบูุฑ ูุงุฌุญ.</font></i>  <i><font color="gray">ููุฏ ุณุฑูุช ุงุณุชุนุงุฑุฉ ุงูุณูู ุงูุญุฏูุฏูุฉ ูุฐู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณููุช ููุงุดููุง</a></font></i> <br><br>  ุฅุฐุง ุนููุช <code>map</code> ุนูู ูุณุงุฑ ุฌูุฏ ุ ูุงุณุชูุฑ ูู ูุนุงูุฌุชูุง ููุนุงูุฌุฉ ุงูุจูุงูุงุช.  ุฅุฐุง ูุฌุฏูุง ุฃููุณูุง ุบูุฑ ูุงุฌุญูู ุ ููู ูุญุฏุซ ุดูุก.  ูุฌุฑุฏ ุงูุญูุงุธ ุนูู ุชูุฑูุฑ ุงููููุฉ ุฃุจุนุฏ ูู ุฐูู.  ุฅุฐุง ูุถุนูุง Error ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุฐุง ุงููุณุงุฑ ุบูุฑ ุงููุงุฌุญ ุ ูุณูุญุตู ุนูู ุดูุก ูุดุงุจู ุฌุฏูุง <code>tryโฆcatch</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/17c/3e6/09d/17c3e609d306efc1bee111077456b9ab.svg"><br>  <i><font color="gray">ุงุณุชุฎุฏู <code>.map()</code> ููุชุญุฑู ุนูู ุทูู ุงููุณุงุฑ</font></i> <br><br>  ูุน ุชูุฏูู ุ ูุตุจุญ ูู ุงูุตุนุจ ููููุงู ูู ูู ููุช ูุชุงุจุฉ ุงููุณุงุฑ ุฃู ุงููููู ุ ูุฐูู ุฏุนููุง ูุณูู ูุฐู ุงููุฌููุนุฉ ุจุจุณุงุทุฉ ุฅูุง ("ุฅูุง").  ุฅูุง ุงููุณุงุฑ ุฃู ุงููููู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงุฎุชุตุงุฑุงุช ูุฅูุดุงุก ุฃู ูู ุงููุงุฆูุงุช </h4><br>  ูุฐูู ุ ูุฅู ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุฏุงูุงุช ุงููุซุงู ุงูุฎุงุตุฉ ุจูุง ุจุญูุซ ุชูุฑุฌุน ุฅูุง.  ุงููุณุงุฑ ููุฎุทุฃ ุฃู ุงููููู ูููููุฉ.  ููู ูุจู ุงูููุงู ุจุฐูู ุ ุงุณุชูุชุน ุจุจุนุถ ุงููุฑุญ.  ุฏุนูุง ููุชุจ ุจุถุน ุงุฎุชุตุงุฑุงุช.  ุงูุฃูู ูู ุทุฑููุฉ ุซุงุจุชุฉ ุชุณูู <code>.of()</code> .  ุชููู ููุท ุจุฅุฑุฌุงุน ูุณุงุฑ ุฃู ูููู ุฌุฏูุฏ.  ูุฏ ูุจุฏู ุงูุฑูุฒ ูุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">Left.of = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Left(x); }; Right.of = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right(x); };</code> </pre> <br>  ุจุตุฑุงุญุฉ ุ ุญุชู <code>Left.of()</code> ู <code>Right.of()</code> ูููุฉ ูููุชุงุจุฉ.  ูุฐูู ุฃูุง ุฃููู ูุญู ุชุณููุงุช <code>left()</code> ู <code>right()</code> ุฃูุตุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">left</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Left.of(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">right</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Right.of(x); }</code> </pre> <br>  ุจุงุณุชุฎุฏุงู ูุฐู ุงูุงุฎุชุตุงุฑุงุช ุ ูุจุฏุฃ ูู ุฅุนุงุฏุฉ ูุชุงุจุฉ ูุธุงุฆู ุงูุชุทุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zipRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, fieldData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lengthMatch = (headerFields.length == fieldData.length); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (!lengthMatch) ? left(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Row has an unexpected number of fields"</span></span>)) : right(_.zipObject(headerFields, fieldData)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addDateStr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">messageObj</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> errMsg = <span class="hljs-string"><span class="hljs-string">'Unable to parse date stamp in message object'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> months = [ <span class="hljs-string"><span class="hljs-string">'January'</span></span>, <span class="hljs-string"><span class="hljs-string">'February'</span></span>, <span class="hljs-string"><span class="hljs-string">'March'</span></span>, <span class="hljs-string"><span class="hljs-string">'April'</span></span>, <span class="hljs-string"><span class="hljs-string">'May'</span></span>, <span class="hljs-string"><span class="hljs-string">'June'</span></span>, <span class="hljs-string"><span class="hljs-string">'July'</span></span>, <span class="hljs-string"><span class="hljs-string">'August'</span></span>, <span class="hljs-string"><span class="hljs-string">'September'</span></span>, <span class="hljs-string"><span class="hljs-string">'October'</span></span>, <span class="hljs-string"><span class="hljs-string">'November'</span></span>, <span class="hljs-string"><span class="hljs-string">'December'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(messageObj.datestamp); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">isNaN</span></span>(d)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> left(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(errMsg)); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> datestr = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${d.getDate()}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${months[d.getMonth()]}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${d.getFullYear()}</span></span></span><span class="hljs-string">`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> right({datestr, ...messageObj}); }</code> </pre> <br>  ุงููุธุงุฆู ุงููุนุฏูุฉ ูุง ุชุฎุชูู ูุซูุฑุง ุนู ุงููุธุงุฆู ุงููุฏููุฉ.  ูุญู ุจุจุณุงุทุฉ ููู ุงููููุฉ ุงููุฑุชุฌุนุฉ ุฅูุง ูู ุงููุณุงุฑ ุฃู ุงููููู ุ ุงุนุชูุงุฏูุง ุนูู ูุง ุฅุฐุง ูุงู ููุงู ุฎุทุฃ. <br><br>  ุจุนุฏ ุฐูู ุ ูููููุง ุงูุจุฏุก ูู ูุนุงูุฌุฉ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุนุงูุฌ ุณุทุฑ ูุงุญุฏ.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุถุน ุงูุณูุณูุฉ ูู ุฅูุง ูุน <code>right()</code> ุ ุซู ูู ุจุชุฑุฌูุฉ <code>splitFields</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-comment"><span class="hljs-comment">// โฆ }</span></span></code> </pre> <br>  ูุฐุง ูุนูู ุจุดูู ุฌูุฏ ุ ูููู ุงููุดููุฉ ุชุญุฏุซ ุฅุฐุง ุญุงููุช ุงูููุงู ุจููุณ ุงูุดูุก ูุน <code>zipRow()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObj = fieldsEither.map(zipRow <span class="hljs-comment"><span class="hljs-comment">/* wait. this isn't right */</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>  ุงูุญูููุฉ ูู ุฃู <code>zipRow()</code> ุชุชููุน ูุนููุชูู.  ููู ุงููุธุงุฆู ุงูุชู <code>.map()</code> ุฅูู <code>.map()</code> ุชุญุตู ุนูู ูููุฉ ูุงุญุฏุฉ ููุท ูู ุงูุฎุงุตูุฉ <code>._val</code> .  ูููู ุชุตุญูุญ ุงููููู ุจุงุณุชุฎุฏุงู ุฅุตุฏุงุฑ <code>zipRow()</code> ูู <code>zipRow()</code> .  ูุฏ ูุจุฏู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zipRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zipRowWithHeaderFields</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fieldData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lengthMatch = (headerFields.length == fieldData.length); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (!lengthMatch) ? left(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Row has an unexpected number of fields"</span></span>)) : right(_.zipObject(headerFields, fieldData)); }; }</code> </pre> <br>  ูุฐุง ุงูุชุบููุฑ <code>zipRow</code> ูุจุณุท ุชุญููู <code>zipRow</code> ุ ูุฐูู ุณูู ูุนูู ุจุดูู ุฌูุฏ ูุน <code>.map()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObj = fieldsEither.map(zipRow(headerFields)); <span class="hljs-comment"><span class="hljs-comment">// ... But now we have another problem ... }</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุงูุถู </h4><br>  ุงุณุชุฎุฏุงู <code>.map()</code> ูุชุดุบูู <code>splitFields()</code> ุฌูุฏ ุ ุญูุซ ูุง <code>.splitFields()</code> ุฅูุง.  ูููู ุนูุฏูุง ุชุถุทุฑ ุฅูู ุชุดุบูู <code>zipRow()</code> ุ ุชูุดุฃ ูุดููุฉ ูุฃููุง ุชูุฑุฌุน ุฅูุง.  ูุฐูู ุนูุฏ ุงุณุชุฎุฏุงู <code>.map()</code> ููุชูู ุจูุง ุงูุฃูุฑ ุฅูู ุงูุฑูุถ ูู ุฏุงุฎู ุฅูุง.  ุฅุฐุง ุฐูุจูุง ุฃุจุนุฏ ูู ุฐูู ุ ุซู ุชุนุซุฑ ุญุชู ูุชู ุชุดุบูู <code>.map()</code> ุฏุงุฎู <code>.map()</code> .  ูุฐุง ูู ููุฌุญ ุงูุถุง.  ูุญู ุจุญุงุฌุฉ ุฅูู ุทุฑููุฉ ูุฏูุฌ ูุฐู ุงููุชุฏุงุฎูุฉ ุฅูุง.  ูุฐูู ุฏุนููุง ููุชุจ ุทุฑููุฉ ุฌุฏูุฏุฉ ุ ูุงูุชู ุณูู ูุณูููุง <code>.join()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *Left represents the sad path. */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Left</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map() { <span class="hljs-comment"><span class="hljs-comment">// Left is the sad path // so we do nothing return this; } join() { // On the sad path, we don't // do anything with join return this; } toString() { const str = this._val.toString(); return `Left(${str})`; } }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Right represents the happy path */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Right</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map(fn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right( fn(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val) ); } join() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Left) || (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Right)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Right(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br>  ุงูุขู ูููููุง "ุชูุฑูุบ" ุฃุตูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObj = fieldsEither.map(zipRow(headerFields)).join(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObjWithDate = rowObj.map(addDateStr).join(); <span class="hljs-comment"><span class="hljs-comment">// Slowly getting better... but what do we return? }</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุณูุณูุฉ </h4><br>  ููุฏ ูุทุนูุง ุดูุทุง ุทูููุง.  ูููู ุนููู ุฃู ุชุชุฐูุฑ <code>.join()</code> ุทูุงู ุงูููุช ุ ููู ุฃูุฑ ูุฒุนุฌ.  ููุน ุฐูู ุ ูุฏููุง ููุท ููุงููุฉ ูุชุชุงููุฉ ุดุงุฆุนุฉ <code>.map()</code> ู. <code>.join()</code> ุ ูุฐูู ุฏุนููุง ููุดุฆ ุทุฑููุฉ ูุตูู ุณุฑูุน ูู.  ุฏุนูุง ูุณูููุง <code>chain()</code> ุ ูุฃููุง ุชุฑุจุท ุงููุธุงุฆู ุงูุชู ุชูุฑุฌุน ุฅูู ุงููุณุงุฑ ุฃู ุงููููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *Left represents the sad path. */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Left</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map() { <span class="hljs-comment"><span class="hljs-comment">// Left is the sad path // so we do nothing return this; } join() { // On the sad path, we don't // do anything with join return this; } chain() { // Boring sad path, // do nothing. return this; } toString() { const str = this._val.toString(); return `Left(${str})`; } }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Right represents the happy path */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Right</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(val) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val = val; } map(fn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Right( fn(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val) ); } join() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Left) || (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Right)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } chain(fn) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fn(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val); } toString() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._val.toString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Right(</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-string">)`</span></span>; } }</code> </pre> <br>  ุจุงูุนูุฏุฉ ุฅูู ููุงุณ ุงูุณูู ุงูุญุฏูุฏูุฉ ุ ุชููู <code>.chain()</code> ุจุชุจุฏูู ุงููุถุจุงู ุฅุฐุง ูุงุฌููุง ุฎุทุฃ.  ููุน ุฐูู ุ ููู ุงูุณูู ุฃู ุชุธูุฑ ุนูู ุงูุฑุณู ุงูุจูุงูู. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1bc/279/530/1bc2795304c211004070da858179fcfc.svg"><br>  <i><font color="gray">ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ ุ ุชุชูุญ ูู ุทุฑููุฉ .chain () ุงูุชุจุฏูู ุฅูู ุงููุณุงุฑ ุงูุฃูุณุฑ.</font></i>  <i><font color="gray">ูุฑุฌู ููุงุญุธุฉ ุฃู ููุงุชูุญ ุชุนูู ููุท ุทุฑููุฉ ูุงุญุฏุฉ.</font></i> <br><br>  ุญุตูุช ุนูู ุฑูุฒ ูุธุงูุฉ ููููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObj = fieldsEither.chain(zipRow(headerFields)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObjWithDate = rowObj.chain(addDateStr); <span class="hljs-comment"><span class="hljs-comment">// Slowly getting better... but what do we return? }</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุชูุนู ุดูุฆุง ูุน ุงูููู </h4><br>  ุงูุชูุงู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฏุงูุฉ <code>processRow()</code> ุชูุฑูุจูุง.  ูููู ูุงุฐุง ูุญุฏุซ ุนูุฏูุง ูุนูุฏ ุงููููุฉุ  ูู ุงูููุงูุฉ ุ ูุฑูุฏ ุฃู ูุชุฎุฐ ุฅุฌุฑุงุกุงุช ูุฎุชููุฉ ุญุณุจ ููุน ุงููููู ุงูุฐู ูุฏููุง: ูุณุงุฑ ุฃู ูููู.  ูุฐูู ุ ุณูู ููุชุจ ูุธููุฉ ุณุชุชุฎุฐ ุงูุชุฏุงุจูุฑ ุงูููุงุณุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">either</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">leftFunc, rightFunc, e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (e <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Left) ? leftFunc(e._val) : rightFunc(e._val); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุฎุฏุนุช ูุงุณุชุฎุฏูุช ุงูููู ุงูุฏุงุฎููุฉ ูููุงุฆูุงุช ุงููุณุฑู ุฃู ุงููููู. </font><font style="vertical-align: inherit;">ููู ุฃุฏุนู ุฃูู ูู ุชูุงุญุธ ูุฐุง. </font><font style="vertical-align: inherit;">ุงูุขู ูููููุง ุฅููุงู ูููุชูุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fieldsEither = right(row).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObj = fieldsEither.chain(zipRow(headerFields)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObjWithDate = rowObj.chain(addDateStr); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> either(showError, rowToMessage, rowObjWithDate); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฅุฐุง ุดุนุฑูุง ุจุฐูุงุก ุฎุงุต ุ ููููููุง ูุฑุฉ ุฃุฎุฑู ุงุณุชุฎุฏุงู ุจูุงุก ุงูุฌููุฉ ุงููุฌุงูู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields, row</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rowObjWithDate = right(row) .map(splitFields) .chain(zipRow(headerFields)) .chain(addDateStr); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> either(showError, rowToMessage, rowObjWithDate); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุงูุฅุตุฏุงุฑูู ุฌูููุฉ ุฌุฏุง. </font><font style="vertical-align: inherit;">ูุง ุชุตุงููู </font></font><code>try...catch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููุณ ุฅุฐุง ุงูุจูุงูุงุช ูู ูุธููุฉ ุงููุณุชูู ุงูุฃุนูู. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ููุงู ูุดููุฉ ูู ุณุทุฑ ูุนูู ุ ููุญู ุจุจุณุงุทุฉ ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ูู ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ููุงุญุธ ุฃูู ูู </font></font><code>processRow()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฐูุฑูุง ูููุณุงุฑ ุฃู ุงููููู ุงููุฑุฉ ุงููุญูุฏุฉ ูู ุงูุจุฏุงูุฉ ุนูุฏูุง ูุชุตู </font></font><code>right()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุงูุจุงูู ููุท ุงูุฃุณุงููุจ ุงููุณุชุฎุฏูุฉ </font></font><code>.map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>.chain()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุณุชุฎุฏุงู ุงูุฏุงูุฉ ุงูุชุงููุฉ.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุง ู ุจ ูุฑูุน </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุจุฏู ุฌูุฏุฉ ุ ููู ูุจูู ุงููุธุฑ ูู ุณููุงุฑูู ูุงุญุฏ ุฃุฎูุฑ. </font><font style="vertical-align: inherit;">ุจุงุชุจุงุน ูุซุงููุง ุ ุฏุนููุง ูุฑู ููู ููููู ูุนุงูุฌุฉ ุฌููุน ุจูุงูุงุช ููู CSV ุ ูููุณ ููุท ูู ุตู ุนูู ุญุฏุฉ. </font><font style="vertical-align: inherit;">ุณูุญุชุงุฌ ุฅูู ูุธููุฉ ูุณุงุนุฏุฉ (ุงููุณุงุนุฏ) ุฃู ุซูุงุซุฉ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">splitCSVToRows</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">csvData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// There should always be a header row... so if there's no // newline character, something is wrong. return (csvData.indexOf('\n') &lt; 0) ? left('No header row found in CSV data') : right(csvData.split('\n')); } function processRows(headerFields, dataRows) { // Note this is Array map, not Either map. return dataRows.map(row =&gt; processRow(headerFields, row)); } function showMessages(messages) { return `&lt;ul class="Messages"&gt;${messages.join('\n')}&lt;/ul&gt;`; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ูุฏููุง ูุณุงุนุฏ ูููู ุจุชูุณูู CSV ุฅูู ุฎุทูุท. </font><font style="vertical-align: inherit;">ููุนูุฏ ุฅูู ุงูุฎูุงุฑ ูุน ุฅูุง. </font><font style="vertical-align: inherit;">ุงูุขู ููููู ุงุณุชุฎุฏุงู </font></font><code>.map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุถ ูุธุงุฆู lodash ูุงุณุชุฎุฑุงุฌ ุดุฑูุท ุงูุนููุงู ูู ุฎุทูุท ุงูุจูุงูุงุช. </font><font style="vertical-align: inherit;">ููููุง ูุฌุฏ ุฃููุณูุง ูู ูููู ูุซูุฑ ููุงูุชูุงู ...</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">csvToMessages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">csvData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> csvRows = splitCSVToRows(csvData); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> headerFields = csvRows.map(_.head).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dataRows = csvRows.map(_.tail); <span class="hljs-comment"><span class="hljs-comment">// What's next? }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏููุง ุญููู ุฑุฃุณ ูุตููู ุจูุงูุงุช ุฌุงูุฒุฉ ููุนุฑุถ ุจูุง </font></font><code>processRows()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููู </font></font><code>headerFields</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุถุง </font></font><code>dataRows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุฉ ูู ุฅูุง. </font><font style="vertical-align: inherit;">ูุญุชุงุฌ ุฅูู ุทุฑููุฉ ูุชุญููู </font></font><code>processRows()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฏุงูุฉ ุงูุชู ุชุนูู ูุน ุฅูุง. </font><font style="vertical-align: inherit;">ููุจุฏุก ุ ูููู ุจุชูููุฐ ุงููุงุฑู </font></font><code>processRows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRows</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">headerFields</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRowsWithHeaderFields</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dataRows</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Note this is Array map, not Either map. return dataRows.map(row =&gt; processRow(headerFields, row)); }; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูู ุดูุก ุฌุงูุฒ ููุชุฌุฑุจุฉ. ูุฏููุง </font></font><code>headerFields</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููู ุฅูุง ุ ูููููุฉ ุญูู ูุฌููุนุฉ. ูุงุฐุง ุณูุญุฏุซ ุฅุฐุง ูุง ุฃุฎุฐูุง </font></font><code>headerFields</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุฏุนูุฉ ุนูู ุฐูู </font></font><code>.map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>processRows()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">csvToMessages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">csvData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> csvRows = splitCSVToRows(csvData); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> headerFields = csvRows.map(_.head).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dataRows = csvRows.map(_.tail); <span class="hljs-comment"><span class="hljs-comment">// How will we pass headerFields and dataRows to // processRows() ? const funcInEither = headerFields.map(processRows); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงุณุชุฎุฏุงู .map () ุ ูุชู ุงุณุชุฏุนุงุก ุฏุงูุฉ ุฎุงุฑุฌูุฉ ููุง </font></font><code>processRows()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููู ููุณุช </font><font style="vertical-align: inherit;">ุฏุงูุฉ </font><font style="vertical-align: inherit;">ุฏุงุฎููุฉ. </font><font style="vertical-align: inherit;">ุจูุนูู ุขุฎุฑ ุ ุชููู </font></font><code>processRows()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฅุฑุฌุงุน ุฏุงูุฉ. </font><font style="vertical-align: inherit;">ูููุฐ ุฐูู </font></font><code>.map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุง ุฒููุง ูุนูุฏ. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูุฅู ุงููุชูุฌุฉ ูู ูุธููุฉ ุฏุงุฎู ุฅูุง ุ ููู ูุง ูุณูู </font></font><code>funcInEither</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุณุชุบุฑู ูุฌููุนุฉ ูู ุงูุณูุงุณู ููุนูุฏ ูุฌููุนุฉ ูู ุงูุณูุงุณู ุงูุฃุฎุฑู. </font><font style="vertical-align: inherit;">ูุญู ุจุญุงุฌุฉ ุฅูู ุฃู ูุฃุฎุฐ ูุฐู ุงููุธููุฉ ุจุทุฑููุฉ ูุง ููุทูู ุนูููุง ูููุฉ ูู ุงูุฏุงุฎู </font></font><code>dataRows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ุฃุถู ุทุฑููุฉ ุฃุฎุฑู ุฅูู ูุตูููุง ุงููุณุงุฑ ูุงููููู. </font><font style="vertical-align: inherit;">ุณูู ูุณูููุง </font></font><code>.ap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุนุงููุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุนุงุฏุฉ ุ ูุง ุชูุนู ุงูุทุฑููุฉ ุดูุฆูุง ุนูู ุงููุณุงุฑ ุงูุฃูุณุฑ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// In Left (the sad path) ap() { return this; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจุงููุณุจุฉ ูููุฆุฉ ุงูููุงุณุจุฉ ุ ูุชููุน ุฅูุง ุฃุฎุฑู ูุน ูุธููุฉ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// In Right (the happy path) ap(otherEither) { const functionToRun = otherEither._val; return this.map(functionToRun); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุขู ูููููุง ุฅููุงู ูุธููุชูุง ุงูุฑุฆูุณูุฉ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">csvToMessages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">csvData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> csvRows = splitCSVToRows(csvData); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> headerFields = csvRows.map(_.head).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dataRows = csvRows.map(_.tail); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> funcInEither = headerFields.map(processRows); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messagesArr = dataRows.ap(funcInEither); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> either(showError, showMessages, messagesArr); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู </font></font><code>.ap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู </font><font style="vertical-align: inherit;">ุฌููุฑ ุงูุทุฑููุฉ ุนูู </font><font style="vertical-align: inherit;">ุงูููุฑ ููููุงู (ุชุฎูุท ููุงุตูุงุช Fantasy Land ุจูููุง ุ ูููู ูู ูุนุธู ุงููุบุงุช ุงูุฃุฎุฑู ุชุณุชุฎุฏู ุงูุทุฑููุฉ ุจุงูุนูุณ). ุฅุฐุง ูุตูุช ุงูุฃูุฑ ุจุทุฑููุฉ ุฃุณูู ุ ูุฃูุช ุชููู: "ูุฏู ูุธููุฉ ุชุณุชุบุฑู ุนุงุฏุฉู ูููุชูู ุจุณูุทุชูู. ุฃุฑูุฏ ุชุญููููุง ุฅูู ูุธููุฉ ุชุชุทูุจ ุงุซููู ูู ". ุฅุฐุง ูุงู ุฐูู ูุชุงุญูุง ุ </font></font><code>.ap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุง ูุชุงุจุฉ ูุธููุฉ ุณุชูุนู ุฐูู ุชูุงููุง. ุฏุนูุง ูุณูููุง </font></font><code>liftA2()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฑุฉ ุฃุฎุฑู ูููุง ููุงุณู ุงูููุงุณู. ุฅููุง ุชุฃุฎุฐ ูุธููุฉ ุจุณูุทุฉ ุชุชููุน ุญุฌุฉ ุ ู "ุชุฑูุน" ููุนูู ูุน "ุงููุชูุฏููู". (ูุฐู ูู ุงููุงุฆูุงุช ุงูุชู ุชุญุชูู ุนูู ุฃุณููุจ </font></font><code>.ap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทุฑููุฉ </font></font><code>.of()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). ูุฐูู ุ liftA2 ุงุฎุชุตุงุฑ ูู "ุงูุฑูุน ุงูุชุทุจููู ุ ูุนููุชุงู". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู </font></font><code>liftA2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏ ุชุจุฏู </font><font style="vertical-align: inherit;">ูุธููุฉ </font><font style="vertical-align: inherit;">ูุซู ูุฐุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">liftA2</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runApplicativeFunc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b.ap(a.map(func)); }; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุธููุฉ ุงููุณุชูู ุงูุฃุนูู ูุฏููุง ุณูู ุชุณุชุฎุฏููุง ุนูู ุงููุญู ุงูุชุงูู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">csvToMessages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">csvData</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> csvRows = splitCSVToRows(csvData); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> headerFields = csvRows.map(_.head).map(splitFields); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dataRows = csvRows.map(_.tail); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processRowsA = liftA2(processRows); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messagesArr = processRowsA(headerFields, dataRows); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> either(showError, showMessages, messagesArr); }</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุนูู CodePen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูุงุ </font><font style="vertical-align: inherit;">ูู ูุฐุง ูู ุดูุกุ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏ ุชุณุฃู ุ ูุง ูู ุฃูุถู ูู ุงูุงุณุชุซูุงุกุงุช ุงูุจุณูุทุฉุ </font><font style="vertical-align: inherit;">ุฃูุง ูุจุฏู ูู ุฃู ูุฐู ุทุฑููุฉ ูุนูุฏุฉ ููุบุงูุฉ ูุญู ูุดููุฉ ุจุณูุทุฉุ </font><font style="vertical-align: inherit;">ุฏุนูุง ุฃููุงู ูููุฑ ูู ุณุจุจ ููุฏ ุงูุงุณุชุซูุงุกุงุช. </font><font style="vertical-align: inherit;">ุฅุฐุง ูู ุชูู ููุงู ุงุณุชุซูุงุกุงุช ุ ูุณูุชุนูู ุนููู ูุชุงุจุฉ ุงููุซูุฑ ูู ุจูุงูุงุช if ูู ูู ููุงู. </font><font style="vertical-align: inherit;">ุณููุชุจ ุฏุงุฆููุง ุงูููุฏ ููููุง ููุจุฏุฃ "ุฅุฐุง ูุฌุญ ูุฐุง ุงูุฃุฎูุฑ ุ ุชุงุจุน ุ ูุฅูุง ูู ุจูุนุงูุฌุฉ ุงูุฎุทุฃ." </font><font style="vertical-align: inherit;">ููุฌุจ ุนูููุง ุงูุชุนุงูู ูุน ูุฐู ุงูุฃุฎุทุงุก ูู ุฌููุน ุฃูุญุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </font><font style="vertical-align: inherit;">ูุฐุง ูุฌุนู ูู ุงูุตุนุจ ููู ูุง ูุญุฏุซ. </font><font style="vertical-align: inherit;">ุชุณูุญ ูู ุงูุงุณุชุซูุงุกุงุช ุจุงูุฎุฑูุฌ ูู ุงูุจุฑูุงูุฌ ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูุง. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุง ุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ูู ูุฐู ifs. </font><font style="vertical-align: inherit;">ููููู ุงูุชุฑููุฒ ุนูู ูุณุงุฑ ุงูุชูููุฐ ุงููุงุฌุญ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ููุงู ุนูุจุฉ ูุงุญุฏุฉ. ุงูุงุณุชุซูุงุกุงุช ุชุฎูู ุงููุซูุฑ ุนูุฏูุง ุชุฑูู ุงุณุชุซูุงุกูุง ุ ูุฅูู ุชููู ูุดููุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุฅูู ูุธููุฉ ุฃุฎุฑู. ูู ุงูุณูู ุฌุฏูุง ุชุฌุงูู ุงุณุชุซูุงุก ุณููุจุซู ุฅูู ุฃุนูู ูุณุชูู. ุงูุฌุงูุจ ุงูุฌููู ูู ุฅูุง ูู ุฃูู ูุชูุญ ูู ุงูููุฒ ูู ุฏูู ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณู ุ ููุง ูู ูุงู ูุน ุงุณุชุซูุงุก. ููุนูู ุจุตุฏู. ููููู ุงูุญุตูู ุนูู ุงููููู ุฃู ุงููุณุงุฑ. ูุง ููููู ุงูุชุธุงูุฑ ุจุฃู ุฎูุงุฑ ุงููุณุงุฑ ูุณุชุญูู. ูู ุงูููุงูุฉ ุ ูุฌุจ ุนููู ุณุญุจ ุงููููุฉ ูุน ููุงููุฉ ูุซู </font></font><code>either()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนูู ุฃู ูุฐุง ูุจุฏู ููุฃูู ููุน ูู ุงูุชุนููุฏ. ููู ุฃููู ูุธุฑุฉ ุนูู ุงูููุฏ ุงูุฐู ูุชุจูุงู (ูููุณ ุงููุตูู ุ ูููู ุงููุธุงุฆู ุงูุชู ุชุณุชุฎุฏููุง). ูุง ููุฌุฏ ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุนุงูุฌุฉ. ุฅูู ุบุงุฆุจ ุชูุฑูุจูุง ุ ุจุงุณุชุซูุงุก ููุงููุฉ </font></font><code>either()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ </font></font><code>csvToMessages()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู</font></font><code>processRow()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุฐุง ูู ุจูุช ุงููุตูุฏ. </font><font style="vertical-align: inherit;">ูุน ุฅูุง ุ ูุฏูู ูุนุงูุฌุฉ ุฎุทุฃ ูุธููุฉ ูุง ูููู ูุณูุงููุง ุนู ุทุฑูู ุงูุฎุทุฃ. </font><font style="vertical-align: inherit;">ุจุฏูู ุฅูุง ุ ุฎุชู ูู ุฎูุงู ุฑูุฒ ูุฅุถุงูุฉ ุงูุญุดู ูู ูู ููุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุง ูุนูู ุฃูู ูุฌุจ ุนููู ุนุฏู ุงุณุชุฎุฏุงูู </font></font><code>try...catch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ุจุนุถ ุงูุฃุญูุงู ุชููู ุงูุฃุฏุงุฉ ุงูุตุญูุญุฉ ุ ููู ุทุจูุนูุฉ. </font><font style="vertical-align: inherit;">ููู ูุฐู ููุณุช ุงูุฃุฏุงุฉ ุงููุญูุฏุฉ. </font><font style="vertical-align: inherit;">ุฅูุง ูุนุทูู ุจุนุถ ุงูููุงุฆุฏ ุงูุชู ููุณ ูุฏูู </font></font><code>try...catch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุญุชู ุชุนุทู ูุฑุตุฉ ููุฐุง monad. </font><font style="vertical-align: inherit;">ุญุชู ูู ูุงู ุงูุฃูุฑ ุตุนุจูุง ูู ุงูุจุฏุงูุฉ ุ ุฃุนุชูุฏ ุฃูู ุณุชุญุจู. </font><font style="vertical-align: inherit;">ูู ูุถูู ุ ูู ูุถูู ูุง ุชุณุชุฎุฏู ุงูุชูููุฐ ูู ูุฐู ุงููุงุฏุฉ. </font><font style="vertical-align: inherit;">ูุญุงููุฉ ูุงุญุฏุฉ ูู ุงูููุชุจุงุช ุงููุนุฑููุฉุ ูุซู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตุฑุงุตูุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุฑู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญูุงูุฉ ุงูุฎุฑุงููุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูู ุฎุฏู ุฃูุถู. </font><font style="vertical-align: inherit;">ูููุง ุ ููุจุณุงุทุฉ ุ ูุงุชูู ุดูุก.</font></font><br><br><blockquote style=";text-align:right;direction:rtl"><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุฑุฏ ุฅุถุงููุฉ </font></font></h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ยซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">       </a> ยป, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> ( .) <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> Fantasy Land</a> <br></li><li style=";text-align:right;direction:rtl"> ยซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">    JavaScript: Either</a> ยป, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> <br></li><li style=";text-align:right;direction:rtl"> ยซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  JavaScript: </a> ยป, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar457098/">https://habr.com/ru/post/ar457098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar457086/index.html">ุงูููุท ุงููุนูุงุฑู "ููุดุฆ" ูู ุนุงูู "Swift" ู "iOS" / "macOS"</a></li>
<li><a href="../ar457090/index.html">ุฃุณุฑุฉ ุงูุณูุงูุฉ: JWT</a></li>
<li><a href="../ar457092/index.html">ูุฏุฑุณ MITER ATT & CK. ุงููุตูููุงุช ุงููุชูููุฉ: ูุตูู ุงูุฌูุงุฒ. ุงูุฌุฒุก 5</a></li>
<li><a href="../ar457094/index.html">Excel ุงูุฅุถุงููุฉ ุงูุชู ุชุฌุนู ูู ุงูุณูู ุชุนููู ุนูุงูู ุงูุชุตููุฉ ุนูุฏ ุงูุนูู ูุน ููุนุจุงุช (VBA)</a></li>
<li><a href="../ar457096/index.html">ูุญู ูุญุฑุฑ ุฃูุฏููุง ููุนุฏูุฏ ูู ุงููุญูููู: API Livy ูุฃุชูุชุฉ ุงูููุงู ุงููุตุฑููุฉ ุงููุนุชุงุฏุฉ</a></li>
<li><a href="../ar457100/index.html">AWS ูุงูุฏุง - ุงููุธุฑูุฉ ุ ุงูุชุนุงุฑู</a></li>
<li><a href="../ar457102/index.html">ูููุงุช QVD - ูุง ุจุฏุงุฎููุง ุ ุงูุฌุฒุก 3</a></li>
<li><a href="../ar457106/index.html">ุญุฑุจ ุงููุฏุงุก ุงูุขูู ุงูุฃูุฑููู - ูู ุณูููุฒ ูููุงุฐุง</a></li>
<li><a href="../ar457108/index.html">WWDC19: ุงูุดุฑูุน ูู ุงูุนูู ูุน ุฎุทุฉ ุงูุงุฎุชุจุงุฑ ูู XCTest</a></li>
<li><a href="../ar457110/index.html">ุงุฎุชุจุงุฑ ูุญุฏุฉ C ++ ูุฃููุงุท ุญูู ููููุฉ ุจุงุณุชุฎุฏุงู ุงูุตูุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>