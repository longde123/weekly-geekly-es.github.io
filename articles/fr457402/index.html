<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚖️ 👨🏼‍💻 🧑🏾‍🤝‍🧑🏽 Comment organiser le développement et le support d'un blog sur WordPress au 2T19 et ne pas le corriger 🙇 👩‍👩‍👧‍👦 🧗🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pensez à l'avance à la mise à l'échelle, tirez le meilleur parti des solutions Wordpress standard, créez un thème WP de vos propres mains, prenez soin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment organiser le développement et le support d'un blog sur WordPress au 2T19 et ne pas le corriger</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/457402/"><p>  Pensez à l'avance à la mise à l'échelle, tirez le meilleur parti des solutions Wordpress standard, créez un thème WP de vos propres mains, prenez soin de la commodité d'un concepteur de mise en page, concentrez-vous sur la mobilité - et mettez à jour le blog de l'entreprise pour que les lecteurs, les éditeurs et les dirigeants l'adorent.  Nous l'avons fait. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/31/ab/3s/31ab3sbtd1tyy1cfaneyga9do8s.png" alt="Blog PromoPult"></div><br><br><p>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blog de Promopult a</a> 9 ans.  Pendant ce temps, il a traversé plusieurs transformations.  <strong>Sergey Glazov</strong> , le technologue de notre blog et d'autres choses importantes dans le système Promopult, parle de ce dernier. </p><a name="habracut"></a><br><p>  Ce n'est plus discuté, car c'est devenu la norme: un standard simple et rapide pour le blog d'une entreprise, une personne, un personnel, oui, peu importe, WordPress.  Vous pouvez discuter, mais le fait demeure. </p><br><p>  Je veux parler de ce que je suis venu en termes d'organisation du code, en travaillant avec le blog WordPress et son support.  Cette histoire concerne le processus, car l'état actuel est le dernier point de ce processus et il semble que l'état actuel soit le plus réussi par rapport à toutes les itérations passées dans les approches de l'organisation. </p><br><div class="spoiler">  <b class="spoiler_title">Contenu de l'article</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Que s'est-il passé à (mon) début - en 2016</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Premières tâches: mobilisation et conception</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comme nous l'avons fait avec le travail sur le code</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce que je voulais obtenir, comme on dit, "dans un monde idéal"</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Refonte, première approche</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Deuxième approche: une nouvelle version de la structure</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blog PromoPult: Comment ça marche</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Liste de contrôle avant publication</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paramètres des articles de blog</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">De jolies petites choses</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">A propos d'une technique intéressante</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quels plugins nous utilisons</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conseils de conclusion pour ceux qui travaillent sur le blog de l'entreprise</a> <br></div></div><br><a name="id1"></a><h2>  Que s'est-il passé à (mon) début - en 2016 </h2><br><p>  Il est rare qu'un développeur crée et réfléchisse à tout.  Le plus souvent, il s'avère que déjà (le <em>plus souvent même depuis longtemps, avec une histoire distincte</em> ) il y a un projet qui doit être soutenu.  Refonte, modifications, énormes savoirs traditionnels et exigences.  Et dans les conditions de tout existant, il est nécessaire de naviguer rapidement et de résoudre les problèmes. </p><br><p>  J'ai accepté le blog en 2016, alors qu'il avait déjà une longue histoire et que tout n'est pas aussi beau que je le voulais. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/8m/ao/hl8maolspww0uzcsvc2nrzc4_x8.png" alt="Voilà à quoi ressemblait le blog de SeoPult début 2016."></div><br><br><ol><li>  Conception de blog ancienne avec une histoire de neuf ans. </li><li>  L'absence d'une version mobile / tablette sous quelque forme que ce soit. </li><li>  Plus de 600 messages. </li><li>  Problèmes structurels avec le contenu et son organisation: plus de 20 catégories et plus de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">neuf centaines de balises</a> (maintenant plus, mais nous avons déjà arrêté). </li><li>  Les plans ont déjà <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">changé de marque</a> et se déplacent vers un nouveau domaine.  Cela vaut également pour le blog. </li><li>  Une longue chaîne d'actions lorsque vous travaillez avec du code. </li><li>  Fonctionne sans contrôle de version (.git). </li></ol><br><a name="id2"></a><h2>  Premières tâches: mobilisation et conception </h2><br><p>  L'objectif principal était d'ajouter de l'adaptabilité au thème existant du blog: pour permettre aux utilisateurs mobiles de lire les articles et d'utiliser le site de manière adéquate - ils parlaient et écrivaient <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de</a> plus en plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Mobile First</a> , et les statistiques montraient qu'ils lisaient le blog à partir du mobile. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/er/oc/q3/erocq3hilkqxx99etqmtjmouzvy.png" alt="Statistiques dans Yandex.Metrica"></div><br><br><p>  Parallèlement à ces travaux, un nouveau design a été dessiné. </p><br><p>  En tant que développeur, j'ai travaillé en tandem avec le concepteur, sans chaîne de médiateurs inutile dans la discussion, donc le processus de communication a été plus rapide et plus animé.  Le fait évident, bien sûr, mais pour une raison quelconque, il est négligé dans de nombreux processus.  Et il s'avère que le designer fait quelque chose de très éloigné de la réalité.  Parlez avec votre bouche et discutez de tous les points.  Chaque participant au processus souhaite faire du bien et du cool.  Mais tout le monde ne comprend pas que le processus est une chaîne connectée, et si un artiste individuel manque ou ne fait rien sur son site de travail, ce sera difficile pour les prochaines personnes dans le processus. </p><br><p>  Au cours des travaux sur la version mobile, j'ai vu les inconvénients et les faiblesses de l'organisation du processus de développement.  Je voulais accélérer et simplifier tout. </p><br><a name="id3"></a><h3>  Comme nous l'avons fait avec le travail sur le code sur le blog </h3><br><p>  Il y avait une version DEV du blog avec une base de données de test séparée.  Le travail avec les fichiers a eu lieu sur un serveur distant, les tests ont eu lieu à une adresse distincte, inaccessible au monde extérieur.  Après le travail, les tests et la naissance d'une certaine unité de sens - elle a été déployée sur le blog de la bataille via un appel à l'administrateur.  Ce qu'il a fait était une magie distincte. </p><br><p>  Pour un blog où quelque chose change une fois par an, un excellent processus.  Mais avec la nouvelle édition et ses besoins, un tel processus serait très pénible. </p><br><a name="id4"></a><h3>  Ce que je voulais obtenir, comme on dit, "dans un monde idéal" </h3><br><p> Tout le code réside.  référentiels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">git</a> .  La version combat du blog est le <code>master</code> ce référentiel.  Tout travail avec le code s'effectue via des <code>dev</code> vers une branche de développement ou d'autres branches associées à de grandes tâches individuelles. </p><br><p>  Une fois la tâche terminée, une demande d'extraction (PR) et / ou une demande de fusion (MR) est créée avec un ensemble de modifications.  La signification dans MR et PR est la même, mais dans des services différents - un nom différent.  Nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitLab</a> , donc Merge Request. </p><br><p>  Lors de la création de MR, une adresse temporaire de la forme <code>-git--test.dev.blog.promopult.ru</code> disponible, accessible uniquement par IP pour une vérification en direct sur l'environnement de test. </p><br><p>  Le code dans le MR créé est revu et vérifié automatiquement (linter code, dont je vérifie la syntaxe selon des règles prédéfinies) et en mode manuel (la puissance verticale dans l'équipe, le timlid le regarde attentivement avec son œil attentif convexe naval).  Après avoir passé l'examen - à partir de l'interface du navigateur du référentiel .git, le bouton "Fusionner" est enfoncé et toutes les modifications apparaissent sur l'air du blog de combat après une brève période de temps évidente. </p><br><a name="id5"></a><h2>  Refonte, première approche </h2><br><p>  Plan de travail de refonte du blog: </p><br><ol><li>  Mise en page d'un prototype statique pour les mises en page de conception de toutes les pages; </li><li>  Transformer ("étirer") la mise en page en thème WordPress. </li></ol><br><p>  Disposition - une étape distincte du travail.  Pour un travail pratique avec les styles (CSS), le balisage et JS, le projet a utilisé un ensemble de plugins et de modules, qui est assemblé via les tâches Gulp décrites dans le générateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SPT</a> (Start Project Template). </p><br><p>  Les mots clés utilisés dans le collecteur du sujet de blog statique sont: HTML, CSS, JS, Babel, Gulp, PostCSS, SCSS, Nunjucks. </p><br><p>  Une fois la mise en page terminée, la structure était la suivante ( <em>seuls les répertoires de premier niveau sont indiqués</em> ): </p><br><blockquote><pre>  ├── design # Design, mises en page et tout
 ├── app / # Sources de projet: modules séparés
 ├── dist / # La version assemblée du projet (fichiers html) et toutes les statiques
 ├── gulpfile.js / # Config Gulp.js
 └── package.json # Fichier de configuration du collecteur: packages, scripts </pre></blockquote><br><p>  Chaque élément sémantique visuel individuel sur la page, par exemple, une carte postale ( <code>/components/article_card/</code> ), était un dossier dans lequel il se trouvait: </p><br><p>  - fichier de balisage ( <code>article_card.html</code> ), </p><br><p>  - fichier de styles ( <code>article_card.scss</code> ), </p><br><p>  - Fichier JS ( <code>article_card.js</code> ). </p><br><p>  Et chaque page a été assemblée à partir de ces blocs de composants séparés.  Les blocs sont pratiques à manipuler et les modifications n'affectent pas les éléments voisins. </p><br><p>  À la sortie, le collecteur a créé le dossier <code>dist</code> , qui contenait des fichiers html prêts à l'emploi de pages à visualiser dans le navigateur au stade de l'édition et de la coordination, ainsi qu'un fichier de style, tous les thèmes et deux fichiers JS: un fichier ( <code>app.js</code> ) décrivait la logique et le comportement site, le second ( <code>vendor.js</code> ) contenait toutes les bibliothèques utilisées pour le site (jQuery, fotorama, magnific-popup et autres). </p><br><p>  Ensuite, vous devez transformer tout cela en un thème WordPress et réfléchir à la structure du fichier.  Afin que vous puissiez facilement travailler avec une mise en page statique, et à côté de lui, un thème WP. </p><br><p>  Liste des mises en page préparées par le concepteur.  Ils sont identiques aux fichiers de thème du blog WordPress: </p><br><ul><li>  Page d'accueil (fichier <code>home.php</code> ). </li><li>  <code>single.php</code> / page de publication ( <code>single.php</code> ). </li><li>  Vue d'une seule page de texte ( <code>page.php</code> ). </li><li>  La page d'abonnement à la newsletter ( <code>subscribe.php</code> ). </li><li>  Erreur 404 ( <code>404.php</code> ). </li><li>  Page de balise séparée ( <code>tag.php</code> ). </li><li>  Page de catégorie distincte ( <code>category.php</code> ). </li><li>  Recherche et résultats de recherche ( <code>search.php</code> ). </li></ul><br><p>  Un flux de travail avec cette approche et la séparation de la version statique et de la version WordPress du thème est le suivant: si vous devez corriger quelque chose dans la partie visuelle - les modifications sont apportées dans la version statique et après le test sont transférées vers le thème.  Si des modifications sont nécessaires dans une partie non visuelle, seuls les fichiers de thème WP sont modifiés. </p><br><p>  Le dossier du thème du blog est <code>bsp</code> .  Il est situé le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">long du chemin d'accès dans le dossier avec les sujets du</a> blog lui-même: </p><br><blockquote><pre>  ├── wp-content / # Fichiers de site WordPress personnalisés
 │ ├── thèmes / # Thèmes du site
 │ │ ├── app / # Sources d'un thème statique
 │ │ │ ├── gulpfile.js / # Tâches Gulp pour l'assemblage
 │ │ ├── dist / # Créer un sujet statique
 │ │ │ ├── actifs / # Ressources: JS, CSS et graphiques 
 │ │ ├── Thème du blog bsp / # WP-PromoPult
 │ │ │ ├── actifs / # Ressources: JS, CSS et graphiques, copie depuis `/ dist /`
 │ │ │ ├── home.php # La page principale du blog et d'autres fichiers à la racine du sujet </pre></blockquote><br><p>  La place du thème wordpress est évidente et prédéterminée par la structure des fichiers de WordPress lui-même. </p><br><blockquote><p>  Il n'y a pas d'autres sujets dans le répertoire des thèmes - tout le standard a été supprimé.  Il existe un mythe sur l'augmentation de la productivité de cette manière, mais nous ne l'avons pas remarqué.  Cela se fait plus pour l'ordre dans le code.  Pas besoin de stocker ce qui n'est pas utilisé et ne sera certainement pas utilisé. </p></blockquote><br><p>  Tous les plugins WP utilisés sont également en .git.  Sur notre site, ce sont les plans de site XML XML, RSS pour Yandex Turbo, RusToLat et WP-PostViews. </p><br><p>  Le prototype statique et compilé des pages de blog et des fichiers source a été déplacé vers le répertoire des thèmes du blog: afin d'interagir de manière pratique avec la partie logique du modèle et avec tout ce qui est responsable de l'apparence et du comportement des éléments sur la page. </p><br><p>  Une version statique de l'assembly du projet - avec la source et toutes les dépendances lors de la première tentative d'organisation de la structure - a été placée dans le répertoire des thèmes. </p><br><p>  Autrement dit, à côté du thème <code>bsp</code> principal, le répertoire <code>/app</code> été ajouté, dans lequel se trouvent le code source de la disposition du thème et le gulp-collector.  Mais dans cette version, il y a eu un moment difficile: les fichiers statiques ont été générés dans un répertoire séparé, et pour que les modifications soient dans le thème WP, il était nécessaire de copier les fichiers de style statique et les scripts dans le dossier d' <code>assets</code> à l'intérieur du thème. </p><br><a name="id6"></a><h2>  Deuxième approche: une nouvelle version de la structure </h2><br><br><p>  Au cours des premières semaines, cela a été décidé par un simple script de console qui copiait les fichiers collectés d'un thème statique vers un thème WP.  Une action excessive entraîne des erreurs.  Par conséquent, l'option consistait uniquement à corriger la structure. </p><br><p>  Nous avons trois répertoires importants (depuis la racine): </p><br><ol><li>  Thème WP: <code>/wp-content/themes/bsp</code> </li><li>  Sources d'un thème statique: <code>/app</code> </li><li>  Sujet statique collecté: <code>/dist</code> </li></ol><br><p>  Et à l'intérieur, il y a des <code>assets</code> avec des fichiers de styles, des graphiques et JS </p><br><p>  Vous devez tout organiser pour que les fichiers de styles et de scripts statiques soient collectés dans le dossier souhaité ( <code>/wp-content/themes/bsp/assets</code> ). </p><br><p>  La nouvelle version de la structure était la suivante: </p><br><blockquote><pre>  ├── gulpfile.js / # Tâches Gulp pour l'assemblage
 ├── wp-content / # Fichiers de site WordPress personnalisés
 │ ├── plugins / # WP-plugins
 │ ├── thèmes / # Thèmes du site
 │ │ ├── bsp / # PromoPult Rubrique du blog
 │ │ │ ├── app / # Sources d'un sujet statique
 │ │ │ ├── actifs / # Ressources: JS, CSS et graphiques (génération automatique)
 │ │ │ ├── home.php # La page principale du blog et d'autres fichiers à la racine du sujet
 ├── fichiers wp-admin / # WP pour le panneau d'administration
 ├── wp-includes / # WP-files du système </pre></blockquote><br><p>  À la racine de l'ensemble du projet se trouvent des tâches de gulp - et sont exécutées à partir de la racine.  La configuration de gulp-task décrit la structure selon laquelle les fichiers statiques sont collectés du répertoire <code>wp-content/themes/bsp/app</code> vers <code>wp-content/themes/bsp/assets</code> sans aucune action supplémentaire telle que la copie, etc. </p><br><p>  Les fichiers de thème WP restent inchangés et le travail se déroule selon l'ancien scénario: modifications en statique → transfert vers les fichiers WP.  Les statiques CSS et JS sont générées immédiatement dans le dossier du thème et tout fonctionne. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ol/o8/ng/olo8ng_m6qpok93yhphs56hnesm.png" alt="Exemple MR pour le blog PromoPult"></div><br><br><p>  Tout cela concernait le processus de travail.  Maintenant, comment le blog est organisé. </p><br><a name="id7"></a><h2>  Blog PromoPult: Comment ça marche </h2><br><p>  La principale force du blog est l'équipe.  Éditeur, auteurs, concepteurs de mise en page. </p><br><p>  La grande tâche consiste à rendre le travail avec le contenu du blog pratique dans la zone d'administration.  Et compte tenu du fait que le thème de notre blog a été créé spécifiquement pour les tâches de contenu et les demandes éditoriales, le panneau d'administration a été modifié en conséquence. </p><br><a name="id8"></a><h3>  Liste de contrôle avant publication </h3><br><p>  Tout travail est important à contrôler.  La mise en page de l'article est un processus standardisé et formalisé, qui peut être facilement présenté sous la forme d'une liste de contrôle. </p><br><p>  Les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gars ont</a> vu l'idée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'EmailSoldiers</a> .  Nous avons décidé de l'appliquer à la maison. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/so/vz/dgsovzoervieowv432hrwobhdsy.png" alt="Liste de vérification des articles de blog PromoPult"></div><br><br><p>  Si aucun élément n'est coché, le système vous avertira avant la publication. </p><br><p>  En cliquant sur les liens, les liens soulignés dans l'élément de liste - sélectionnez un élément spécifique. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9t/-e/qp/9t-eqpm2rmrrih17jfmkcdb8bfi.png" alt="Paramètres de publication supplémentaires dans le panneau d'administration"></div><br><br><p>  La liste de contrôle est compilée dans le même ordre que les paramètres de publication supplémentaires dans le panneau d'administration. </p><br><a name="id9"></a><h3>  Paramètres des articles de blog </h3><br><p>  Étroitement lié à la liste de contrôle des publications décrite ci-dessus. </p><br><p>  Lors du développement du sujet, j'ai essayé de ne pas utiliser de plugins, mais de faire une solution simple et facile pour les tâches du sujet.  Faits saillants: </p><br><ul><li>  Descriptions des balises META SEO. </li><li>  Descriptions des balises OpenGraph qui utilisent les réseaux sociaux pour partager du matériel et former de jolies fiches d'articles. </li><li>  Travail pratique avec des images de couverture pour les messages.  Une image est requise - elle est ajoutée à la carte postale dans la vignette de publication, qui est affichée sur la page principale et sur la page d'en-tête ou de balise. </li><li>  Paramètres de thème supplémentaires: une publication peut être avec ou sans couverture, il y a un court texte d'annonce que nous affichons dans l'en-tête avec une couverture, et il est également utilisé dans la description de l'article dans la liste de diffusion Digest. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/j4/zu/7_j4zuiopxxg4qahpvu9_j3watk.png" alt="Écran avec la section des paramètres de publication de blog PromoPult"></div><br><br><p>  La section des paramètres de publication est implémentée via des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">méta-boîtes et des champs personnalisés</a> dans WordPress. </p><br><p>  Grâce à la méta-boîte, la liste de contrôle de publication a également été ajoutée. </p><br><p>  Dans les modèles, travailler avec des champs est simple: si le champ n'est pas vide et rempli, nous obtenons la valeur et la montrons.  Par exemple, voici comment la réaction de blocage au message est affichée: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (get_post_meta($post-&gt;ID, <span class="hljs-string"><span class="hljs-string">'postreaction'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) { <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">label</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">reaction</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_post_meta</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ID</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">postreaction</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;&lt;!-- /.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class"> --&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } ?&gt;</span></span></code> </pre> <br><p>  Un exemple de sortie de réaction sur une carte postale: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/lv/qq/wglvqqicz681nx0m0yrgv8lzbhy.png" alt="Conclusion de la réaction sur une carte postale"></div><br><a name="id10"></a><h3>  De jolies petites choses </h3><br><p>  Il y a de belles petites choses que peut-être personne ne voit.  Mais si quelqu'un a remarqué - bien. </p><br><p>  Par exemple, les <strong>dates de publication d'un</strong> poste sur cartes et dans un poste séparé dans notre alphabet cyrillique et savoir s'incliner.  Pour une raison quelconque, ce n'est pas dans la boîte WordPress.  Si la date de publication est dans l'année en cours, l'année ne s'affiche pas avec nous, si l'année diffère de l'année en cours, la date est affichée avec l'année de publication. </p><br><p>  <strong>Compteur de commentaires.</strong>  Ils ont longtemps soutenu que «0 commentaire» ou «aucun commentaire» est très déroutant.  La solution est très simple: ne pas afficher du tout le compteur de commentaires s'il y a moins d'un commentaire. </p><br><p>  En général, nous travaillons séparément sur un système de commentaires et aimerions en parler dans un grand post séparé.  Nous créons un système de commentaires simple et pratique avec une simple autorisation via les réseaux sociaux. </p><br><p>  <strong>Propres goûts:</strong> commenter ou partager des liens dans les réseaux sociaux est une longue affaire par le taux de consommation de contenu, mais cliquez sur «J'aime» et dites clairement que l'article est cool - simple et rapide.  Nous avons fait nos goûts simples et mis le compteur sur la carte postale.  Et les goûts arrivent assez rapidement.  Et comme ils sont en bas de l'article, c'est aussi un signal que le texte a été lu. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2n/cn/mr/2ncnmrkkdwdlru1tsmetmuqvura.png" alt="Bouton J'aime sur le blog PromoPult"></div><br><br><p>  Ils ont créé un <strong>thème sombre</strong> pour leur blog - maintenant c'est à la mode.  Compte tenu de la structure modulaire (en fait, le site est un ensemble de blocs qui sont en quelque sorte combinés entre eux) et de l'organisation des styles, cela s'est avéré assez rapide. </p><br><a name="id11"></a><h3>  A propos d'une technique intéressante </h3><br><p>  Il y a une <strong>minification du code de</strong> balisage, CSS et JS dans le sujet.  CSS et JS sont compressés via des tâches de gulp dans le collecteur de statiques, mais la minification du balisage se fait via le hook WordPress <code>WP_HTML_Compression</code> . </p><br><p>  Et dans les commentaires dans le balisage, nous avons ajouté un code promotionnel pour ceux qui sont intéressés par la façon dont le site est organisé de l'intérieur et qui vont d'abord regarder le code source: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/o_/s2/roo_s2bjblolfsrief4wedscr2y.png" alt="Code source du blog PromoPult"></div><br><br><p>  <strong>Mise en cache CSS et JS.</strong>  Pour mettre en cache les styles et les fichiers de script, mais toujours pertinents, si nous refaisons quelque chose, nous utilisons filemtime ().  Beaucoup dans ce cas utilisent <code>?&lt;?php echo time(); ?&gt;</code>  <code>?&lt;?php echo time(); ?&gt;</code> .  Mais cette option télécharge le fichier et fait une demande à chaque appel. </p><br><p>  Mieux vaut utiliser une telle astuce: </p><br><pre> <code class="php hljs">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> href=<span class="hljs-string"><span class="hljs-string">"&lt;?php echo get_template_directory_uri(); ?&gt;/assets/styles/style.css?t=&lt;?php echo filemtime(get_theme_file_path().'/assets/styles/style.css'); ?&gt;"</span></span> /&gt;</code> </pre> <br><p>  Dans ce cas, les fichiers seront téléchargés s'ils ont été modifiés et la date de modification du fichier sera ajoutée au paramètre de demande. </p><br><a name="id12"></a><h2>  Quels plugins nous utilisons </h2><br><p>  Malgré la possibilité et le désir dans certains cas de s'en sortir avec votre décision, nous utilisons toujours des plugins.  Notre liste est la suivante: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Sitemaps XML</a> - pour générer un plan du site XML pour les robots; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RSS pour Yandex Turbo</a> - pages turbo pour Yandex; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RusToLat</a> - translittération de l'URL des caractères russes en anglais; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WP-PostViews</a> - compte les vues des matériaux; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Éditeur classique</a> - inclut l'éditeur WordPress classique au lieu du nouveau bloc Gutenberg; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La limitation des tentatives d'autorisation</a> est pour des raisons de sécurité: avec plusieurs tentatives de connexion erronées, nous en interdisons une entrante pour une période de temps personnalisée; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AMP</a> - Pages AMP pour Google. </li></ul><br><a name="id13"></a><h2>  Conseils de conclusion pour ceux qui travaillent sur le blog d'une entreprise </h2><br><ul><li>  Je vous conseille au début des travaux sur le projet de penser immédiatement à la mise à l'échelle. </li><li>  Assurez-vous d'utiliser <code>.git</code> dans votre travail.  Pour 2019, bien sûr, des conseils étranges, mais ces conseils peuvent sauver quelqu'un des cheveux gris et réprimander en cas de problème. </li><li>  Il est préférable de diviser le développement et de travailler sur un thème WordPress en deux étapes: d'abord, créer quelque chose de statique, et déjà fait «tirer» quelque chose comme un thème WordPress. </li><li>  S'il y a une opportunité - temps, équipe et compréhension des raisons pour lesquelles vous avez besoin de tout cela - faites-le vous-même, sans utiliser d'options prêtes à l'emploi.  Gagner dans l'ordre et comprendre comment tout fonctionne.  Vous ne produirez pas de béquilles. </li><li>  Utilisez des crochets et des fonctionnalités WordPress standard si votre blog est construit dessus.  La personnalisation et la création d'une solution pratique sont rapides et faciles. </li><li>  Rendez-le pratique pour l'utilisateur et les éditeurs. </li><li>  N'oubliez pas les réseaux sociaux et la micro-mise en page. </li><li>  N'oubliez pas les versions mobiles. </li><li>  N'oubliez pas les mises à jour régulières des plugins et des systèmes. </li><li>  Sélectionnez uniquement des plugins éprouvés. </li></ul><br><p>  Le travail sur le blog continue - restez avec nous. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr457402/">https://habr.com/ru/post/fr457402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr457390/index.html">Madagascar - île des contrastes</a></li>
<li><a href="../fr457392/index.html">Économies sur le développement multiplateforme mobile: étude de cas Skyeng</a></li>
<li><a href="../fr457396/index.html">Déverrouillage automatique du conteneur racine LUKS après un démarrage à chaud</a></li>
<li><a href="../fr457398/index.html">Mais je fais des conneries? Pourquoi les développeurs se tournent vers gemba</a></li>
<li><a href="../fr457400/index.html">Le nombre de victimes de catastrophes nucléaires comme Tchernobyl est considérablement exagéré pour le drame</a></li>
<li><a href="../fr457404/index.html">Nouvelles du monde OpenStreetMap n ° 465 (06/11/2019 - 06/16/2019)</a></li>
<li><a href="../fr457406/index.html">Combien gagnent les diplômés de diverses universités russes</a></li>
<li><a href="../fr457408/index.html">Bienvenue à DINS Java EVENING le 26 juin</a></li>
<li><a href="../fr457410/index.html">Fondation Acronis: des écoles sont déjà construites dans 8 pays. Es-tu avec nous</a></li>
<li><a href="../fr457412/index.html">Bannières de cookies: comment vérifier rapidement la conformité au RGPD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>