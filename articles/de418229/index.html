<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔟 🌕 👨🏻‍🎨 MIT-Kurs "Computer Systems Security". Vorlesung 8: Netzwerksicherheitsmodell, Teil 1 👩🏽‍🏭 😻 ✋🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 8: Netzwerksicherheitsmodell, Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418229/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vorträge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gefährden, und Sicherheitstechniken, die auf jüngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen gehören Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: „Einführung: Bedrohungsmodelle“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: „Kontrolle von Hackerangriffen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: „Pufferüberläufe: Exploits und Schutz“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: „Trennung von Privilegien“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: „Woher kommen Sicherheitssysteme?“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: „Chancen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: „Native Client Sandbox“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: „Netzwerksicherheitsmodell“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  Beginnen wir den nächsten Teil unserer faszinierenden Reise in die Welt der Computersicherheit.  Heute werden wir über Web-Sicherheit sprechen.  Tatsächlich ist Internetsicherheit eines meiner Lieblingsthemen, weil es Sie in die wahren Schrecken dieser Welt einführt. <br><br>  Natürlich ist es einfach, Student zu sein und zu denken, dass alles großartig wird. Man muss nur seinen Abschluss machen.  Der heutige und der nächste Vortrag werden Ihnen jedoch sagen, dass dies in Wirklichkeit nicht der Fall ist und Sie auf anhaltende Schrecken warten. <br><br><img src="https://habrastorage.org/webt/is/3k/bi/is3kbiiozo3hkfvkj63g8vfke08.jpeg"><br><br>  Was ist das Internet?  Früher war das Netzwerk viel einfacher als heute.  Clients, d. H. Browser, konnten mit der Anzeige fester oder aktiver Inhalte nichts anfangen.  Im Wesentlichen konnten sie nur statische Bilder und statische Texte empfangen. <br><br>  Die Serverseite war jedoch etwas interessanter, auch wenn die Clientseite statischen Inhalt hatte.  Der Server könnte mit Datenbanken kommunizieren und mit anderen Computern auf der Serverseite "kommunizieren".  Daher ist das Konzept der Websicherheit seit sehr langer Zeit im Prinzip mit dem verbunden, was der Server tut.  In unseren Vorlesungen werden wir tatsächlich den gleichen Ansatz verfolgen. <br><br>  Wir haben so etwas wie einen Pufferüberlaufangriff betrachtet.  Da Clients den Server dazu verleiten können, ihn zu zwingen, das zu tun, was er nicht tun möchte.  Sie haben sich auch den OKWS-Server angesehen und erklärt, wie die Berechtigungsisolierung dort durchgeführt werden kann. <br><br>  Bisher haben wir die Sicherheit anhand der Erfahrungen untersucht, die durch die Verwendung der Sicherheitsressourcen selbst erzielt wurden.  Aber jetzt sind Browser aus Sicherheitsgründen sehr interessante Objekte, bei denen alles sehr kompliziert ist. <br><br>  Betrachten Sie alle Arten von verrückten, dynamischen Dingen, die ein Browser tun kann.  Zum Beispiel haben Sie wahrscheinlich von JavaScript gehört.  Mit JavaScript können Seiten jetzt clientseitigen Code ausführen.  Es gibt ein DOM-Modell, über das wir heute ausführlicher sprechen werden.  Das DOM-Modell ermöglicht es dem JavaScript-Code im Wesentlichen, das Erscheinungsbild der Seite dynamisch zu ändern, z. B. um Schriftarten und dergleichen zu formatieren. <br><br>  Wir haben HTTP-XML-Anfragen.  Dies ist im Grunde eine Möglichkeit für JavaScript, Inhalte asynchron von Servern abzurufen.  Sie können auch über HTTP-XML-Anforderungen namens AJAX - asynchrones JavaScript-Abrufen hören. <br><br>  Es gibt Dinge wie Web-Sockets.  Dies ist eine neu eingeführte API, eine Programmierschnittstelle.  Web-Sockets ermöglichen die Vollduplex-Kommunikation zwischen Clients und Servern, dh die Kommunikation in beide Richtungen. <br><br>  Wir haben auch alle Arten von Multimedia-Unterstützung, zum Beispiel ein Tag: <br><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">video</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Ermöglicht einer Webseite das Abspielen von Videos ohne Verwendung einer Flash-Anwendung.  Es kann dieses Video einfach nativ abspielen. <br><br><img src="https://habrastorage.org/webt/5_/_v/cb/5__vcb58sx_gbaj47uzqspqrnmq.jpeg"><br><br>  Wir haben auch Geolocation.  Jetzt kann die Webseite physisch bestimmen, wo Sie sich befinden.  Wenn Sie beispielsweise eine Webseite auf einem Smartphone verwenden, kann der Browser tatsächlich auf das GPS-Modul Ihres Geräts zugreifen.  Wenn Sie über einen Browser auf Ihrem Desktop auf eine Webseite zugreifen, kann diese Ihre Wi-Fi-Verbindung anzeigen und eine Verbindung zum Wi-Fi-Geolokalisierungsdienst von Google herstellen, um genau herauszufinden, wo Sie sich befinden.  Klingt verrückt, nicht wahr?  Aber jetzt können Webseiten solche Dinge tun.  Wir haben auch eine Sache wie den Native Client erwähnt, mit der Browser nativen Code ausführen können. <br>  Es gibt viele andere Funktionen im Browser, die ich hier nicht erwähnt habe.  Es genügt jedoch zu sagen, dass ein moderner Browser eine unglaublich komplexe Sache ist. <br><br>  Was bedeutet das für die Sicherheit?  Im Allgemeinen bedeutet dies, dass wir uns in großen Schwierigkeiten befinden.  Weil es wirklich ein riesiges Tätigkeitsfeld für Sicherheitsbedrohungen gibt.  Wenn Sie an Sicherheit denken, können Sie sich grob gesagt ein Diagramm vorstellen, das ungefähr so ​​aussieht: Die vertikale Achse ist die Wahrscheinlichkeit für die korrekte Ausführung von Funktionen, und die horizontale Achse ist die Anzahl der verfügbaren Funktionen.  Die vertikale Achse ist auf 100 begrenzt, was wir selbst mit dem einfachsten Code nicht erreichen können. <br><br><img src="https://habrastorage.org/webt/bb/ez/8c/bbez8ciugvxvpzo1im18s-tfdws.jpeg"><br><br>  Tatsächlich sieht diese Kurve ungefähr so ​​aus, und Webbrowser befinden sich hier am Ende des Diagramms unter dem Pfeil.  Die Abhängigkeit ist einfach: Je mehr Prozesse im System vorhanden sind, desto unwahrscheinlicher ist es, dass sie korrekt ausgeführt werden.  Deshalb werden wir heute alle Arten von dummen Sicherheitsfehlern diskutieren, die ständig auftreten.  Und sobald die alten behoben sind, treten sofort neue Fehler auf, da die Benutzer dem Browser weiterhin neue Funktionen hinzufügen, oft ohne darüber nachzudenken, welche Sicherheitsfolgen sie verursachen können. <br><br>  Wenn Sie also darüber nachdenken, was eine Webanwendung heute ist, können Sie sagen, dass es sich sowohl um eine Client- als auch um eine Serversache handelt.  Eine moderne Webanwendung umfasst mehrere Programmiersprachen, mehrere Computer und viele Hardwareprogramme. <br>  Sie können Firefox beispielsweise auf einem Windows-Computer verwenden. Dieser Browser kommuniziert dann mit dem Computer in der Cloud, auf dem Linux ausgeführt wird, und "läuft" mit dem Apache-Server.  Möglicherweise läuft es auf einem ARM-Chip, der nicht mit der x86-Plattform kompatibel ist, oder umgekehrt.  Kurz gesagt, es gibt Probleme mit der Zusammensetzung verschiedener Komponenten.  Alle diese Software- und Hardwareebenen können die Sicherheit beeinträchtigen. <br><br>  Daher ist dies alles schwierig, da wir keine Ahnung haben, wie wir diese gesamte Zusammensetzung von „Software“ und „Hardware“ als Ganzes abdecken sollen.  Eines der häufigsten Probleme mit dem Internet ist beispielsweise die Kontextanalyse. <br><br>  Angenommen, die Seite hat ungefähr Folgendes: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> x = </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'UNTRUSTED'</span></span></span><span class="actionscript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><img src="https://habrastorage.org/webt/7u/8u/_a/7u8u_akl6_cfutxhj0is1-ce8-0.jpeg"><br><br>  Sie deklarieren ein Skript-Tag. Darin befindet sich eine Variable, die den Wert von der unzuverlässigen Seite empfängt - dem Benutzer oder einem anderen Computer.  Dann schließen wir das Skript-Tag und diesem Teil kann vertraut werden.  Das heißt, wir haben eine Linie, an deren Rändern sich vertrauenswürdige Dinge befinden, und in der Mitte nicht vertrauenswürdiger, nicht vertrauenswürdiger Code.  Warum können wir Probleme haben, wenn wir etwas von einer nicht verifizierten Partei in die Mitte des Skripts setzen? <br><br>  <b>Zielgruppe:</b> Möglicherweise haben Sie irgendwo in diesem Code ein falsches Anführungszeichen, das die Skriptzeile unterbricht. <br><br>  <b>Professor:</b> absolut richtig!  Das Problem ist der unterschiedliche Kontext, der diesen unzuverlässigen Code in Teile zerlegen kann.  Befindet sich das schließende Anführungszeichen beispielsweise in der Mitte von nicht vertrauenswürdigem Code, schließen wir die Definition dieser JavaScript-Zeile. <br><br><img src="https://habrastorage.org/webt/xl/k7/hj/xlk7hjaccj8njct_nghkomz5myi.jpeg"><br><br>  Nachdem wir den JavaScript-Zeichenfolgenkontext hinzugefügt haben, starten wir die Ausführung dieses Kontexts.  In diesem Fall kann der Angreifer hier einfach das schließende Tag des Skripts einfügen, den JavaScript-Kontext verlassen und den HTML-Kontext eingeben, um beispielsweise neue HTML-Knoten oder ähnliches zu finden. <br><br><img src="https://habrastorage.org/webt/x3/17/59/x31759e07z2lp0rom7bwab3qb-4.jpeg"><br><br>  Daher sollten Sie solche Kompositionsprobleme im gesamten Internet berücksichtigen, da es viele verschiedene Sprachen verwendet: HTML, CSS, JavaScript, möglicherweise MySQL auf der Serverseite usw.  Deshalb habe ich ein klassisches Beispiel gegeben, warum Sie eine sogenannte „Inhaltsstandardisierung“ durchführen sollten.  Wenn Sie unzuverlässige Eingaben von jemandem erhalten, müssen Sie diese sehr sorgfältig analysieren, um sicherzustellen, dass sie nicht als Angriffsvektor verwendet werden können. <br><br>  Ein weiterer Grund, warum die Internetsicherheit schwierig ist, besteht darin, dass Webspezifikationen unglaublich lang, langwierig, langweilig und oft inkonsistent sind.  Wenn ich Webspezifikationen meine, meine ich Dinge wie JPEG-Definition, CSS-Definition, HTML-Definition.  Diese Dokumente haben die gleiche Größe wie die EU-Verfassung und sind ebenso schwer zu verstehen.  Wenn Browser-Anbieter all diese Spezifikationen sehen, müssen sie den Entwicklern einfach sagen: „Okay, und danke dafür“, sie dann lesen und mit ihren Freunden darüber lachen. <br><br>  Daher sind diese Spezifikationen eher vage und spiegeln nicht immer genau wider, was echte Browser tun.  Wenn Sie diesen Horror verstehen wollen, können Sie die Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.quirksmode.org/</a> besuchen, aber wenn Sie glücklich sein wollen, gehen Sie besser nicht dorthin.  Dort werden all diese schrecklichen Inkonsistenzen dokumentiert, die Browser beim Drücken einer Taste verursachen.  Auf dieser Seite können Sie überprüfen, was passiert. <br><br>  In dieser Vorlesung konzentrieren wir uns auf jeden Fall auf die Client-Seite der Webanwendung.  Insbesondere werden wir untersuchen, wie es möglich ist, Inhalte von verschiedenen Webanbietern zu isolieren, die irgendwie auf demselben Computer und in demselben Browser koexistieren müssen.  Es gibt einen grundlegenden Unterschied zwischen dem, was Sie normalerweise von der Desktop-Anwendung halten, und dem, was Sie von der Webanwendung halten. <br><br>  Abstrakt gesehen können die meisten von Ihnen verwendeten Desktop-Anwendungen als Produkt eines Entwicklers angesehen werden, z. B. Microsoft.  Oder vielleicht verwenden Sie die TurboTax-Software von Mr. und Mrs. TurboTax und so weiter und so fort.  Wenn Sie sich jedoch Webanwendungen ansehen, besteht das, was für Sie als Ganzes visuell aussieht, tatsächlich aus einer Reihe von Anwendungen mit unterschiedlichen Inhalten von einer Reihe verschiedener Entwickler. <br><br><img src="https://habrastorage.org/webt/ot/3g/nf/ot3gnfnorwcau6om-8-3kb2kvl4.jpeg"><br><br>  Wenn Sie beispielsweise zur CNN-Seite gehen, scheint es Ihnen, dass sich hier alles auf einer Registerkarte befindet.  Aber jedes dieser visuellen Dinge, die Sie sehen, kann tatsächlich von jemand anderem stammen.  Schauen wir uns ein sehr einfaches Beispiel an. <br><br>  Angenommen, wir sind online unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://foo.com/index.html</a> gegangen.  Woraus besteht die betrachtete Seite? <br><br><img src="https://habrastorage.org/webt/jn/mg/4j/jnmg4jliomepbmgt3iyyisgrhso.jpeg"><br><br>  Oben befinden sich möglicherweise Anzeigen, die möglicherweise von ads.com heruntergeladen wurden.  Links befindet sich beispielsweise ein Analyseblock von google.com.  Diese Bibliotheken sind sehr beliebt, um die Anzahl der Personen zu verfolgen, die diese Seite heruntergeladen haben, um zu überwachen, auf welche Links Personen klicken, mit welchen Teilen der Seite sie interagieren möchten usw. <br><br>  Auf der rechten Seite befindet sich möglicherweise eine andere JavaScript-Bibliothek, z. B. jQuery, die von cdn.foo.com stammt.  Dies sind einige Inhalte, die für den Betrieb von foo.com bereitgestellt werden. <br><br>  jQuery ist eine sehr beliebte Bibliothek zum Bearbeiten der GUI, daher ist jQuery auf vielen Websites verfügbar, obwohl sie von verschiedenen Stellen abgerufen werden.  Weiter auf dieser Seite sehen Sie einige HTML-Textdaten, Schaltflächen für den Benutzer, Texteingabefelder usw.  Das ist also einfach nur HTML auf der Seite. <br><br>  Sie können dann sehen, wie sie den integrierten JavaScript-Code von foo.com nennen.  Zum Beispiel haben wir oben ein Eröffnungs-Tag, und JavaScript-Code ist direkt in der Mitte zwischen ihnen eingebettet.  In unserem Fall gibt es so genanntes eingebettetes JavaScript - dies ist der obere Rand des Bildes. <br><br>  Unten in der Zeile werde ich ein sogenanntes JavaScript-Skript zeichnen, da dort der Inhalt etwas entspricht, das sich auf dem Remote-Server befindet.  Dies wird als externe JavaScript-Inhaltsdefinition bezeichnet.  Das Skript und der eingebettete Code unterscheiden sich voneinander. Auf unserer Seite ist JavaScript von foo.com integriert. <br><br><img src="https://habrastorage.org/webt/si/vh/zj/sivhzj3eh3phvw4sqo4hu1bmgyo.jpeg"><br><br>  Und eine weitere Sache, die hier sein kann, ist der Rahmen.  Ein Frame kann als separates JavaScript-Universum betrachtet werden.  Dies entspricht in etwa einem UNIX-Prozess.  Vielleicht stammt dieser Frame von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">facebook.com/likethis.html</a> und darin ist JavaScript von Facebook integriert. <br><br>  Außerdem haben wir möglicherweise einige f.jpeg-Bilder, die auch von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">facebook.com stammen</a> .  All dies sieht also wie eine einzige Registerkarte aus, obwohl es aus verschiedenen Inhalten besteht, die möglicherweise auf völlig unterschiedlichen Prinzipien basieren können.  Daher können Sie eine ganze Reihe interessanter Fragen zu einer Anwendung stellen, die so aussieht. <br><br><img src="https://habrastorage.org/webt/5p/qu/dv/5pqudvbhiasjfvf9rco1jew6r28.jpeg"><br><br>  Kann dieser Google.com-Analysecode beispielsweise Zugriff auf JavaScript-Inhalte haben, die sich im jQuery-Code befinden?  In erster Näherung scheint dies vielleicht eine schlechte Idee zu sein, da die beiden Teile des Codes von verschiedenen Stellen stammen.  Andererseits kann es sein, dass dies tatsächlich gut ist, da foo.com anscheinend beide Bibliotheken hier abgelegt hat, damit sie miteinander arbeiten können.  Also wer weiß? <br><br>  Eine andere Frage, die Sie möglicherweise haben, ist, ob Analytics-Code tatsächlich mit Text interagieren kann, der im unteren HTML-Block platziert ist.  Kann sich Analytics-Code beispielsweise auf Ereignishandler auswirken? <br><br>  JavaScript ist ein verwaltetes Single-Threaded-Modell, daher verfügt jeder Frame über eine Ereignisschleife, die ständig verarbeitet wird. Hier finden wichtige Prozesse statt, Netzwerkereignis-Timer funktionieren und dergleichen.  Und wenn dieser JavaScript-Code feststellt, dass es einige andere Handler gibt, die versuchen, dieselben Ereignisse zu verwalten, werden sie entfernt. <br><br>  Wer sollte also in der Lage sein, Ereignishandler für diesen HTML-Code zu definieren?  Erstens sollte google.com dazu in der Lage sein.  Es kann auch foo.com sein oder nicht. <br>  Eine andere Frage: Was verbindet diesen Facebook-Frame mit dem gemeinsamen großen foo.com-Frame?  Der Facebook-Frame ist HTTPS, dh sicher, foo.com ist HTTP, dh eine unsichere Verbindung.  Wie können diese beiden Dinge interagieren? <br><br>  Um diese Fragen zu beantworten, verwenden Browser ein Sicherheitsmodell, das als Richtlinie desselben Ursprungs oder als Richtlinie desselben Ursprungs bezeichnet wird.  Dies ist eine Art vages Ziel, da viele Dinge, die sich auf die Websicherheit beziehen, ziemlich vage sind, da niemand genau weiß, was sie tun.  Die Grundidee ist jedoch, dass zwei Websites nicht in der Lage sein sollten, sich gegenseitig in die Arbeit einzumischen, wenn sie dies nicht möchten.  Somit war es einfacher festzustellen, was solche Störungen bedeuteten, wenn das Internet selbst einfacher war.  Da wir jedoch weiterhin neue APIs hinzufügen, wird es für uns immer schwieriger zu verstehen, was der Zweck der Richtlinie zur Nichteinmischung ist.  Zum Beispiel ist es offensichtlich schlecht, wenn zwei Websites, die sich nicht vertrauen, ihre Daten auf einer gemeinsamen Anzeige anzeigen können.  Dies scheint eine eindeutig schlechte Sache zu sein, und offensichtlich ist es eine gute Sache, wenn zwei Websites, die zusammenarbeiten möchten, Daten auf sichere Weise austauschen können. <br><br>  Sie haben vielleicht von gemischten Seiten gehört, genau das habe ich gesagt.  Daher werden Sie im Internet auf ähnliche Dinge stoßen, wenn jemand Daten von einer Google-Karte nimmt und den Standort von Food Trucks darauf platziert.  So haben Sie diese erstaunliche „Kartoffelpüree“, mit der Sie günstig essen und gleichzeitig Salmonellen vermeiden können.  Aber wie genau entstehen Kompositionen dieser Art? <br><br>  Es gibt andere komplizierte Dinge.  Wenn der JavaScript-Code beispielsweise von Ursprung X innerhalb der Ursprungs-Y-Seite stammt, wie sollte dann der Inhalt dieses Codes sein?  Somit kann die Strategie, die von einer Politik desselben Ursprungs verwendet wird, ungefähr wie folgt beschrieben werden. <br><br>  Jeder Ressource wird eine eigene Ursprungsquelle zugewiesen, und JavaScript-Code kann nur auf Ressourcen zugreifen, die über eine solche Quelle verfügen.  Dies ist eine Strategie auf höchster Ebene, die von Politikern derselben Herkunft angewendet wird. <br><br>  Aber der Teufel steckt im Detail, daher gibt es viele Ausnahmen, die wir uns gleich ansehen werden.  Bevor wir fortfahren, definieren wir den Ursprung. <br>  Grundsätzlich ist origin ein Netzwerkprotokolldiagramm plus ein Hostname plus ein Port.  Zum Beispiel könnten wir so etwas wie http: // foo.com/index.html haben. <br><br><img src="https://habrastorage.org/webt/24/cq/fu/24cqfuyhlzicewjx90pzwoexsig.jpeg"><br><br>  Das Schema unseres Netzwerkprotokolls lautet also HTTP, der Hostname lautet foo.com und der Port ist 80. In diesem Fall ist der Port implizit.  Ein Port ist ein serverseitiger Port, über den der Benutzer eine Verbindung zum Server herstellt.  Wenn Sie also eine URL mit einem HTTP-Schema sehen, für das kein explizit angegebener Port vorhanden ist, wird hier Port 80 verwendet. <br><br>  Wenn Sie sich so etwas wie https: // foo.com/index.html ansehen, haben diese beiden Adressen denselben Hostnamen, aber tatsächlich unterschiedliche Schemata - das Protokoll https vs. http.  Außerdem ist hier implizit Port 443 vorhanden, der der Standardport für das sichere HTTPS-Protokoll ist.  Diese beiden URLs sind also unterschiedlichen Ursprungs. <br><br>  Betrachten Sie als letztes Beispiel die Website http: // bar.com:8181 / ... <br><br>  Die Ellipse nach dem Schrägstrich zeigt an, dass diese Dinge in Bezug auf Politik gleichen Ursprungs keine Rolle spielen, zumindest in Bezug auf dieses sehr einfache Beispiel. <br>  Wir sehen, dass wir ein HTTP-Schema haben, der Hostname ist bar.com und hier haben wir einen explizit angegebenen Port.  In diesem Fall handelt es sich um einen nicht standardmäßigen Port 8181. Tatsächlich ist dies die Ursprungsquelle.  Grob gesagt kann man sich Origin als eine UID in Unix vorstellen, bei der ein Frame als Prozess betrachtet wird. <br><br>  Daher gibt es vier Hauptideen, die der Implementierung eines Browsers derselben Ursprungsrichtlinie zugrunde liegen. <br><br>  Erste Idee: Jede Herkunftsquelle hat einen Client-Teil der Ressource.  Diese Client-Seite ist Cookies.  Cookies können als sehr einfache Möglichkeit angesehen werden, den Status in einem nicht persistenten Protokoll wie HTTP zu implementieren. <br><br>  Grundsätzlich ist ein Cookie eine winzige Datei, die jeder Originalquelle zugeordnet ist.  Später werden wir ein wenig über diese Besonderheit sprechen. <br><br>  Die Hauptidee ist jedoch, dass der Browser, wenn er eine Anfrage an eine bestimmte Site sendet, alle Cookies enthält, die der Client für diese Site hat.  Und diese Cookies können zum Beispiel zum Speichern eines Passworts verwendet werden. <br><br>  Wenn Sie beispielsweise eine E-Commerce-Website besuchen, können diese Cookies die Erwähnung von Waren im Warenkorb des Benutzers usw. enthalten. <br><br>  Cookies sind also eine Sache, mit der jede Herkunftsquelle in Verbindung gebracht werden kann.  Darüber hinaus betrachten Sie das Repository von DOM-Dokumentobjektmodellen als eine weitere Quelle dieser Ressourcen.  Dies ist eine ziemlich neue Schnittstelle, die jedoch bereits als Schnittstelle für die Strukturierung von HTML- und XML-Dokumenten von entscheidender Bedeutung ist. <br><br>  So können Sie im DOM-Repository der Quelle mitteilen: „Lassen Sie mich einen bestimmten Schlüssel, der eine Zeichenfolge ist, mit diesem angegebenen Wert verknüpfen, der auch eine Zeichenfolge ist.“ <br><br>  Eine andere Sache, die mit dem Ursprung zusammenhängt, ist der JavaScript-Namespace.  Dieser Namespace bestimmt, welche Funktionen und Schnittstellen für die Ursprungsquelle verfügbar sind. <br><br>  Einige dieser Schnittstellen umfassen beispielsweise String-Prototypen und dergleichen.  Dann kann die Anwendung den JavaScript-Namespace tatsächlich mit anderen Inhalten füllen. <br>  Es gibt immer noch so etwas wie den DOM-Baum.  Wie Sie wissen, bedeutet DOM "Dokumentobjektmodell".  Und der Dom-Baum spiegelt im Wesentlichen den HTML-Code auf der Seite mit JavaScript wider. <br><br><img src="https://habrastorage.org/webt/wd/uz/yg/wduzyga6x5ewxnolcbzlfynvaii.jpeg"><br><br>  Sie können sich also vorstellen, dass sich oben im DOM-Baum ein HTML-Knoten befindet, unten ein Knoten für den Kopf des Kopfnachrichten-Tags und ein Knoten für den Textkörper des Nachrichtennachrichtens usw. <br><br><img src="https://habrastorage.org/webt/6a/ly/yn/6alyynjjh05utxbq9lj3rxsbpyy.jpeg"><br><br>  So viele dynamische Webseiten ändern sich dank JavaScript-Code, der auf die Daten dieser Struktur in JavaScript zugreifen kann, die den HTML-Inhalt widerspiegeln. <br>  Sie können sich also vorstellen, dass die Animation auf der Browserseite aufgrund der Änderung einiger Knoten des Baums erfolgt, um verschiedene Organisationen mit unterschiedlichen Registerkarten zu implementieren.  Dies ist der DOM-Baum.  Es gibt auch einen visuellen Anzeigebereich, der, wie wir später sehen werden, sehr seltsam mit derselben Herkunftsquellenrichtlinie interagiert, und so weiter und so fort. <br><br>  Somit hat jede Quelle auf hoher Ebene Zugriff auf einen bestimmten Satz von Client-Ressourcen der von uns aufgelisteten Typen. <br><br>  Die zweite Idee ist, dass jeder Frame eine Ursprungsquelle für seine URL erhält.  Wie ich bereits erwähnt habe, entspricht der Frame in etwa dem Prozess unter Unix.  Es ist eine Art Namespace, der eine Reihe anderer Ressourcen zusammenbringt. <br><br>  Die dritte Idee ist, dass Skripte oder JavaScript-Code mit Berechtigungen ausgeführt werden, die denen der Quelle des Ursprungs des Frames entsprechen. <br><br>  Dies bedeutet, dass beim Importieren einer JavaScript-Datei von foo.com aus bar.com die JavaScript-Datei mit den Berechtigungen von foo.com arbeiten kann.  Grob gesagt ähnelt dies dem, was in der Unix-Welt passiert, wenn Sie eine Binärdatei ausführen müssen, die zum Home-Verzeichnis einer anderen Person gehört.  Dies sollte gemäß Ihren Berechtigungen durchgeführt werden. <br><br>  Die vierte Idee ist passiver Inhalt.        CSS ,   ,       . <br><br><img src="https://habrastorage.org/webt/f8/bl/xa/f8blxa7nt3pfwvtscxifliau4m4.jpeg"><br><br>  ,       .       .    ,  ,   Google Analytics   jQuery         foo.com. ,       cookie,      ,   . <br><br>      Facebook       foo.com,   ,     ,       .        .  ,         .       ,       Post Message.            . <br><br><img src="https://habrastorage.org/webt/6p/js/2s/6pjs2s7q7hhkzigmzyabrrnlufe.jpeg"><br><br>      Post Message   ,   Facebook  ,   , ,   foo.com.  ,   foo.com     ,  Facebook     ,    ,    ,    . <br><br>  ,   JavaScript ,   Facebook,     XML HTTP  foo.com,         ,    . - ,  Facebook.com     origin,  foo.com,           HTML-. <br><br> ,     ,    ,   ads.com.  ,    ,  ,     .   ,       . <br><br>   ,     –          ,      ! <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tatsache ist, dass es Sicherheitsbedenken gibt. </font><font style="vertical-align: inherit;">Dies ist die Subtilität, die in der 4. Idee verborgen ist. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28:00 min </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fortsetzung:</font></font><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIT-Kurs "Computer Systems Security".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorlesung 8: Netzwerksicherheitsmodell, Teil 2</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_1C62Twf0vs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Vollversion des Kurses finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder sie Ihren Freunden empfehlen. <b>Habr-Benutzer erhalten 30% Rabatt auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wenn Sie für einen Zeitraum von sechs Monaten bezahlen, können Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bestellen </font><font style="vertical-align: inherit;">.</font></font><br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418229/">https://habr.com/ru/post/de418229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418219/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 6: Chancen, Teil 2</a></li>
<li><a href="../de418221/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 6: „Chancen“, Teil 3</a></li>
<li><a href="../de418223/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 7: Die Native Client Sandbox, Teil 1</a></li>
<li><a href="../de418225/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 7: Native Client Sandbox Teil 2</a></li>
<li><a href="../de418227/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 7: Die Native Client Sandbox, Teil 3</a></li>
<li><a href="../de418233/index.html">BMW Mnemonik zum Finden von Grenzwerten</a></li>
<li><a href="../de418235/index.html">Orchestrierte Saga oder Erstellen von Geschäftstransaktionen in Diensten mit der Datenbank nach Dienstmuster</a></li>
<li><a href="../de418237/index.html">Entwicklung mandantenfähiger Anwendungen auf der SAP Cloud Platform in Neo, Teil 2: Autorisierung und Authentifizierung</a></li>
<li><a href="../de418239/index.html">48 Megapixel für Smartphone</a></li>
<li><a href="../de418241/index.html">Warum Gauß? (100 Möglichkeiten, das Gleichungssystem zu lösen)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>