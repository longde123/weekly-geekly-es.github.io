<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∂ üíØ ‚ùé Nouvelle fonctionnalit√© dans Git 3: fermetures üçõ üëè üå¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git est un syst√®me de contr√¥le de version populaire. Dans Git, un changement atomique d'un ou plusieurs fichiers est appel√© un commit, et plusieurs co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nouvelle fonctionnalit√© dans Git 3: fermetures</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445680/"><p>  Git est un syst√®me de contr√¥le de version populaire.  Dans Git, un changement atomique d'un ou plusieurs fichiers est appel√© un commit, et plusieurs commits cons√©cutifs sont combin√©s dans une branche.  Les branches sont utilis√©es pour mettre en ≈ìuvre de nouvelles id√©es (fonctionnalit√©s). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa5/222/85a/aa522285a7fd7fd5f8c597050956d878.svg"></div><p></p><br><p>  Il arrive que l'id√©e soit une impasse et que le d√©veloppeur a fait fausse route, il doit donc revenir √† la version originale.  Il doit oublier la nouvelle branche, passer √† la branche principale <strong>dev</strong> ou <strong>master</strong> et continuer √† travailler.  Dans ce cas, le "scion" va se bloquer pour toujours, ainsi que l'envie de le retirer.  Mais comment supprimer la partie de l'histoire?  Cette branche montre les efforts du programmeur assidu, m√™me en vain.  Il sera donc plus facile de signaler au patron, car un r√©sultat infructueux est √©galement un r√©sultat! </p><br><p>  Je me h√¢te de me r√©jouir que les d√©veloppeurs Git vont introduire une nouvelle commande pour fermer ces branches "sans-abri" dans la troisi√®me version.  La version actuelle est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2.21.0</a> . </p><br><p>  Comment utiliser cette commande, quels avantages offre-t-elle et qu'en pensent les soci√©t√©s informatiques?  L'article r√©pond √† ces questions et √† d'autres. </p><a name="habracut"></a><br><h2 id="description">  La description </h2><br><p> Il est d√©sormais possible de fermer une branche non r√©ussie sur l'un des validations pr√©c√©dentes.  Les arcs de fermeture sont de couleur jaune dans les images ci-dessous. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/c59/f42/831c59f42a1c28e9316781e918ab5ad2.svg"></div><br><br><p> Le commit <code>4</code> est le dernier pour la fonction qui a √©chou√©.  Il a √©t√© ferm√© sur le commit <code>1</code> , puis nous revenons au ma√Ætre et allons dans l'autre sens (le commit <code>5</code> ). </p><br><p>  Vous pouvez √©galement fermer un commit sur lui-m√™me, cr√©ant ainsi des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">boucles</a> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e2/d3b/c7f/6e2d3bc7f118f60d4e3a05762bda92ea.svg"></div><br><br><p>  Vous pouvez fermer la branche sur n'importe quel commit - Git est intelligent, il calcule les diff√©rences et fusionne tout correctement: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/1e3/7e1/61f1e37e1861b8307f715fd3b003fa2c.svg"></div><br><br><h2 id="how-to-use">  Comment utiliser? </h2><br><p>  La commande <code>merge</code> n'inclut pas la fonctionnalit√© des fermetures, car pour le premier cas la branche sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exp√©di√©e rapidement</a> , et pour le second cas rien ne sera fait ( <code>git already up to date</code> ). </p><br><p>  Afin de ne pas modifier l'ancien comportement, les d√©veloppeurs ont d√©cid√© d'introduire une commande de fermeture: </p><br><pre> <code class="plaintext hljs">git closure -s $source_commit -d $dest_commit -m $message</code> </pre> <br><p>  Le premier argument <code>-s $source_commit</code> d√©finit le hachage de la validation √† partir de laquelle vous souhaitez √©tirer la boucle, et le second (facultatif) <code>-d $dest_commit</code> d√©finit la validation dans laquelle la boucle sera ferm√©e.  S'il est absent, la fermeture a lieu dans la succursale de caisse actuelle.  L'argument <code>-m $message</code> d√©finit un message de fermeture, comme une <code>failed feature, revert to origin</code> .  Cependant, l' <code>--allow-empty-message</code> est √©galement disponible, ce qui permet des validations sans messages.  Par d√©faut, Git n'autorise qu'une seule fermeture pour une paire de validations.  Pour contourner cette limitation, l' <code>--allow-multiple-closures</code> est disponible. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/735/680/0d4735680312484fdb0f59ee1bf3ec56.svg"></div><br><p>  Une fois la commande ex√©cut√©e, Git calcule les modifications et dans le commit final, un double diff sera affich√©: √† partir des branches de base et de fermeture.  Dans le cas g√©n√©ral, il s'agit d'un diff √† n dimensions, c'est-√†-dire qu'il peut y avoir autant de fermetures que vous le souhaitez.  close-commit est similaire √† merge-commit avec la seule diff√©rence qu'il contient plusieurs messages, pas un. </p><br><p>  Malheureusement, les interfaces graphiques Git existantes ne prennent pas bien en charge les fermetures.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La</a> version d'aper√ßu de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitExtensions</a> affiche des courbes de fusion au lieu d'arcs √©l√©gants.  Jetez un ≈ìil aux nouveaux champs tels que <code>Closure message</code> <code>Closure diff</code> et <code>Closure diff</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w0/pn/ny/w0pnny3xyxyhdhr1pk9h8i03whk.png"></div><br><p>  Il convient de noter que la commande de <code>closure</code> modifie toujours l'historique (comme maintenant Git est une machine √† remonter le temps √† part enti√®re!), Il est donc d√©sormais possible de pousser les branches uniquement avec l'option <code>--force</code> ou la s√©curit√© <code>--force-with-lease</code> option de <code>--force-with-lease</code> . </p><br><p>  Rebase est √©galement disponible pour les branches en boucle, bien que la logique de recalcul des validations soit compliqu√©e. </p><br><p>  L'option <code>auto</code> permet √©galement la fermeture automatique de toutes les anciennes branches.  Dans ce cas, la validation de fermeture est celle qui d√©marre la branche.  Avec les plugins Git IDE, les fermetures peuvent √™tre ex√©cut√©es p√©riodiquement.  Dans GitExtensions, il existe un plugin similaire <strong>Supprimer les branches obsol√®tes</strong> . </p><br><h2 id="what-it-companies-think">  L'opinion des entreprises informatiques </h2><br><p>  Les grandes entreprises informatiques: Google, Facebook, Apple, DeepMind, Positive Technologies, et surtout Microsoft, attendent avec impatience les fermetures, car il sera d√©sormais possible de formaliser le cycle de vie des succursales, y compris celles non fusionn√©es. </p><br><p>  L'un des principaux dirigeants de Microsoft, Michael Richter, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> : </p><br><blockquote>  La nouvelle fonctionnalit√© de Git, bien s√ªr, r√©duira le chaos dans le monde du d√©veloppement open source (et pas seulement).  Il existe de nombreuses branches "suspendues" dans nos r√©f√©rentiels.  Par exemple, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vscode,</a> nous en avons plus de 200 et en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TypeScript</a> plus de 300!  Et ce probl√®me n'est pas seulement le n√¥tre.  Les fermetures am√©liorent non seulement l'organisation, mais permettent √©galement de suivre le raisonnement du programmeur, parfois compl√®tement incompr√©hensible m√™me pour ses coll√®gues :) Les fermetures me rappelaient le film "Back to the Future", o√π les personnages ont voyag√© dans le pass√© et le futur.  J'aime ce film, je l'ai regard√© plusieurs fois.  Et je pense que j'aimerai encore plus Git parce que si cette fonctionnalit√© :) </blockquote><br><h2 id="note">  Remarque </h2><br><p>  Si, plus t√¥t, le graphique des validations √©tait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">graphique acyclique dirig√©</a> (DAG), les fermetures l'√©tendent √† un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">graphique dirig√©</a> g√©n√©ral.  En utilisant Git, vous pouvez d√©crire des expressions r√©guli√®res dans lesquelles les √©tats sont valid√©s, et l'alphabet est l'ensemble de tous les messages.  Mais c'est le sujet du hub "Programmation anormale", et d√©passe donc le cadre de cet article.  Cependant, si cela vous semble int√©ressant, consultez l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> sur la fa√ßon de stocker les arbres g√©n√©alogiques dans Git. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445680/">https://habr.com/ru/post/fr445680/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445670/index.html">Cons√©quences de la r√©√©criture des composants Firefox dans Rust</a></li>
<li><a href="../fr445672/index.html">Catalyse des muons en termes de chimie quantique. Partie II: √©lectronique vs liaison chimique muon</a></li>
<li><a href="../fr445674/index.html">PVS-Studio pour Java prend la route. Le prochain arr√™t est Elasticsearch</a></li>
<li><a href="../fr445676/index.html">Nouveau dans Git 3: fermetures</a></li>
<li><a href="../fr445678/index.html">4. Check Point Getting Started R80.20. Installation et initialisation</a></li>
<li><a href="../fr445682/index.html">PVS-Studio pour Java est envoy√© vers le chemin. Le prochain arr√™t est Elasticsearch</a></li>
<li><a href="../fr445684/index.html">Onduleur monobloc vs modulaire</a></li>
<li><a href="../fr445686/index.html">D√©veloppement d'applications pour un ancien PDA (Cybiko Xtreme) en 2019</a></li>
<li><a href="../fr445692/index.html">Pr√©sentation des fonctionnalit√©s de PlayCanvas pour la cr√©ation d'applications Web VR</a></li>
<li><a href="../fr445696/index.html">Comment sont cr√©√©s les robots qui peuvent aller o√π nous sommes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>