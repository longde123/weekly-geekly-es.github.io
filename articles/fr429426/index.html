<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÄ üö∏ üïµüèæ Exportation de QGIS et de tuiles üÜö üìú üç™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis plusieurs ann√©es, je m'emploie √† dessiner et √† tenir √† jour des sch√©mas de cr√™tes de deux r√©gions montagneuses. Dzungarian Alatau et Central Ti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exportation de QGIS et de tuiles</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429426/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/3r/xp/qo/3rxpqonbc9bpny5n0esihlfssb8.jpeg"></div><br>  Depuis plusieurs ann√©es, je m'emploie √† dessiner et √† tenir √† jour des sch√©mas de cr√™tes de deux r√©gions montagneuses.  Dzungarian Alatau et Central Tien Shan. <br><br>  Au d√©part, j'ai tout dessin√© dans le programme Ocad.  Il s'agit d'un programme sp√©cial pour dessiner des cartes d'orientation.  Le projet a √©t√© divis√© en dizaines de feuilles.  Ensuite, ces feuilles ont √©t√© export√©es en images, cousues et coup√©es en carreaux.  Tuiles t√©l√©charg√©es sur ftp. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici un exemple de ce qui se passe dans QGis</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Et voici comment c'√©tait √† Ocad</a> <br><a name="habracut"></a><br>  Et puis un jour, j'ai rencontr√© QGIS. <br><br>  Le programme m'a impressionn√©.  Joli rendu.  Pas aussi expressif qu'en OCAD, mais la qualit√© me convenait.  La possibilit√© de travailler directement avec les g√©odonn√©es.  La possibilit√© de travailler avec l'ensemble du projet sans le diviser en morceaux. <br>  Tout cela a entra√Æn√© le transfert de l'ensemble du projet vers QGIS. <br><br>  Mais maintenant je le regrette un peu. <br>  <b>Le rendu QGIS n'est pas adapt√© √† la g√©n√©ration de tuiles.</b> <br>  Bien s√ªr, il existe deux plugins QTiles et QMetaTiles pour QGIS 2. Je les ai adapt√©s pour QGIS 3. <br><br>  Je vais vous en dire plus sur les montants incorrigibles qui interf√®rent avec la g√©n√©ration de cartes de tuiles dans QGIS. <br>  Exportation effectu√©e √† l'aide du plugin QTiles <br><br>  <b>Num√©ro de montant 1.</b>  <b>Lorsque le moteur de rendu calcule quels objets entrent dans son champ d'application (dans QGIS, c'est ce qu'on appelle le canevas), il ne prend pas en compte la taille des symboles des objets.</b> <br><br>  <b>Exemple 1a</b>  <b>Fonction ponctuelle</b> <br><br><img src="https://habrastorage.org/webt/eg/gk/nm/eggknmsu4gnitkztdps8rtfqdiw.jpeg" alt="image"><br><br>  Comme vous pouvez le voir, l'ic√¥ne du sommet a √©t√© rogn√©e.  Le rendu l'a rendu sur la tuile inf√©rieure, mais pas sur la tuile sup√©rieure.  Parce que le centre du pic ne tombait pas dans les limites de la tuile. <br><br>  <b>Exemple 1b</b>  <b>Fonction de ligne</b> <br><br><img src="https://habrastorage.org/webt/9z/-k/b9/9z-kb90ujubf1xxqvrpn0dsde20.jpeg"><br><br>  La ligne √©paisse passe pr√®s du bord de la tuile.  Elle est tomb√©e partiellement sur la tuile inf√©rieure.  Je n'ai pas du tout atteint la tuile du haut. <br><br>  Il n'est pas n√©cessaire que la ligne longe la bordure des carreaux.  Il peut encore y avoir un tel artefact <br><br><img src="https://habrastorage.org/webt/c9/ju/mx/c9jumxyc_0h66y8ohjvhsm4jtn8.jpeg"><br><br>  <b>Num√©ro de montant 2.</b>  <b>Disposition des inscriptions.</b> <br><br>  <b>Exemple 2a</b>  <b>Inscription courte sur un objet lin√©aire</b> <br><br><img src="https://habrastorage.org/webt/0z/51/cq/0z51cqyapbsggzsexvxulffzymu.jpeg"><br>  Le rendu a d√©duit le nom sur chaque tuile. <br><br>  <b>Exemple 2b</b>  <b>Inscription longue sur un objet lin√©aire</b> <br><br>  Z15 <img src="https://habrastorage.org/webt/ka/m7/gi/kam7gihdqmdbhifcerrls0fpulq.jpeg"><br><br>  Z16 <img src="https://habrastorage.org/webt/gd/2n/r_/gd2nr_-0_ktpnoermw0eykkd5dk.jpeg"><br><br>  Il y a une inscription sur Z15, car elle s'ins√®re compl√®tement dans les bordures de la tuile. <br>  Il n'y a plus d'inscriptions sur Z16, car une longue inscription ne rentre pas dans les bordures de la tuile. <br><br>  Imaginez que vous vouliez dessiner une carte du monde, et sur tout le continent, √©crivez ¬´EURASIA¬ª en majuscules.  Rien n'en sortira.  L'inscription n'appara√Ætra que sur les zooms o√π elle est plac√©e dans la tuile enti√®re. <br><br>  <b>Exemple 2c.</b>  <b>Fonction de l√©gende sur le point</b> <br><br>  J'ai activ√© l'option "Afficher les √©tiquettes partielles" <br><br>  Z16 <img src="https://habrastorage.org/webt/uj/lt/ru/ujltrutwyddzyef2qofd_utjdhw.jpeg"><br><br>  Z15 <img src="https://habrastorage.org/webt/e9/ra/hg/e9rahgmmi4wlx1vzen_k5my-tng.jpeg"><br><br>  Sur Z16, le rendu ne montre que la partie de l'inscription qui se brise dans la tuile.  Lors du rendu d'une tuile voisine, il l'oublie bien s√ªr. <br><br>  Si l'option ¬´Afficher les √©tiquettes partielles¬ª est d√©sactiv√©e, alors sur Z16 il n'y aura aucune inscription. <br><br>  Deux m√©thodes sont n√©cessaires pour lutter contre ces probl√®mes. <br><br>  1. Metataling <br>  2. Zones tampons <br><br>  <b>Metatailing.</b> <br>  Pas chaque tuile est rendue individuellement, mais un groupe de plusieurs tuiles.  Dites 4x4, puis coupez-les en petits morceaux. <br><br>  <b>Zones tampons</b> <br>  Une zone plus grande qu'une tuile ou une m√©tatile est rendue, puis la pi√®ce souhait√©e en est coup√©e. <br><br>  Les deux m√©thodes ne corrigent pas les montants ci-dessus, mais les d√©calent de plusieurs niveaux de zoom ci-dessous.  Les m√™mes jambages apparaissent d√©j√† aux bords des carreaux, et aux bords des m√©tatiles ou des zones tampons. <br><br>  <b>Exemple 2d.</b>  <b>Fonction ponctuelle</b> <br>  Je fais le plugin d'exportation QMetaTiles.  La taille du m√©ta-fichier est 2x2.  Cela signifie que la zone est rendue en carreaux 2x2, puis coup√©e en morceaux. <br><br>  Z16 <img src="https://habrastorage.org/webt/-p/20/th/-p20thjawza5j1jee969dqgzqey.jpeg" alt="image"><br><br>  Vraiment.  L'inscription n'est pas coup√©e maintenant, car elle s'ins√®re compl√®tement dans la zone de carreaux 2x2.  Mais √† la fronti√®re de la metatail, l'objet lui-m√™me a √©t√© coup√©.  Il en sera de m√™me avec un objet lin√©aire. <br>  Le probl√®me a d√©plac√© un niveau de zoom en dessous. <br><br>  <b>Num√©ro de montant 3.</b>  <b>T√©l√©chargement des inscriptions</b> <br>  <b>Exemple 3a</b> <br>  A chaque fois, l'aligneur s√©lectionne la position la plus avantageuse pour la prochaine inscription.  De plus, l'emplacement des √©tiquettes d√©pend de la position de la toile.  D√©placez-le de quelques millim√®tres et toutes les inscriptions seront situ√©es compl√®tement diff√©rentes. <br><br>  Cela signifie que lors du rendu d'un m√©ta-fichier et de la zone tampon qui l'entoure, l'inscription peut √™tre √† un endroit et lors du rendu d'un m√©ta-fichier voisin, √† un endroit compl√®tement diff√©rent. <br><br>  J'exporte un morceau de carte en tuiles.  Les inscriptions prennent une seule commande. <br><br>  Ensuite, je d√©place un peu le canevas et refais l'exportation.  Les inscriptions sont d√©j√† dans un ordre compl√®tement diff√©rent.  Dans ce cas, de tels artefacts apparaissent. <br><br><img src="https://habrastorage.org/webt/ei/ym/fd/eiymfdaaw2bddxxxb9ct--vwhds.jpeg"><br><br>  <b>Que faire de tout √ßa?</b> <br><br>  Les zones de m√©ta-navigation et les zones tampons ne r√©solvent pas les probl√®mes ci-dessus, mais les d√©placent vers des niveaux de zoom inf√©rieurs. <br><br>  1. Lorsque le moteur de rendu calcule les objets qu'il doit dessiner, il doit prendre en compte non seulement les g√©odonn√©es des objets, mais √©galement leur symbolisme. <br><br>  Par exemple, pour tous les objets, le rendu doit stocker le BBOX, que l'objet prend apr√®s le rendu individuel.  Lors du rendu d'une sc√®ne, vous devez tenir compte de l'intersection du canevas avec des BBOX individuels d'objets rendus. <br><br>  Dans le m√™me temps, il est souhaitable que le BBOX contienne √©galement des inscriptions attach√©es √† l'objet. <br><br>  2. L'emplacement des √©tiquettes ne doit pas d√©pendre de l'emplacement de la toile.  Ensuite, avec une exportation partielle, les fragments d'√©tiquettes seront bien cousus.  Il n'y aura pas besoin de m√©tatilingage et de zones tampons. <br><br>  Malheureusement, pour le moment, exporter des tuiles √† partir de QGI est tout simplement horrible, et quand il sera corrig√© n'est pas clair. <br><br>  Peut-√™tre qu'il y a quelqu'un impliqu√© dans le d√©veloppement de QGis ici? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr429426/">https://habr.com/ru/post/fr429426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436936/index.html">Dep√≥sito nuclear japon√©s en Primorye o el sitio de disposici√≥n de los submarinos nucleares de la Flota del Pac√≠fico</a></li>
<li><a href="../es436938/index.html">Guix es el sistema operativo m√°s avanzado.</a></li>
<li><a href="../fr429420/index.html">La PlayStation Classic utilise l'√©mulateur PCSX ReARMed pour le fonctionnement, pas de solutions propri√©taires</a></li>
<li><a href="../fr429422/index.html">UHCI, ou le tout premier USB</a></li>
<li><a href="../fr429424/index.html">Robotaxi de Daimler et Bosch appara√Ætra en Californie</a></li>
<li><a href="../fr429448/index.html">Nous √©crivons le chargeur FPGA dans LabVIEW. 2e partie</a></li>
<li><a href="../fr429450/index.html">Techniques de programmation g√©n√©ralis√©es dans Rust: comment nous avons traduit Exonum de Iron en actix-web</a></li>
<li><a href="../fr429452/index.html">Le Pentagone a commenc√© √† d√©classifier les logiciels malveillants d'autres personnes</a></li>
<li><a href="../fr429456/index.html">D√©j√† une histoire: o√π la culture startup a-t-elle commenc√© dans les ann√©es 30</a></li>
<li><a href="../fr429458/index.html">Comment j'ai fait des animations du syst√®me solaire pour un fils de deuxi√®me ann√©e</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>