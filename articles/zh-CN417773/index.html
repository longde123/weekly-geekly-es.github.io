<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚔️ 💌 👩🏼‍💼 自制OpenPnP组件安装程序 🍴 😇 👐🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="早在2012年，我就开始从事电子领域的工作，而互联网将我介绍给了许多好人，但我们中有些人仍在与他们交流。 通常，我们会分享经验，成功与失败，讨论新的电子产品，各种想法以及您可以开发或学习的新知识。 

 从那时起，每年年初就诞生了一项传统，以草拟一份TODO表格，其中写下了任何想法，包括疯狂的想法。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>自制OpenPnP组件安装程序</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417773/"> 早在2012年，我就开始从事电子领域的工作，而互联网将我介绍给了许多好人，但我们中有些人仍在与他们交流。 通常，我们会分享经验，成功与失败，讨论新的电子产品，各种想法以及您可以开发或学习的新知识。 <br><br> 从那时起，每年年初就诞生了一项传统，以草拟一份TODO表格，其中写下了任何想法，包括疯狂的想法。 在此过程中，对列表进行了补充，并在年底汇总了结果，发生了什么，没有发生什么。 <br><br> 新年假期，他翻了个旧螺丝，无意间发现了那些唱片。 事实证明，已经实现了一种或另一种方式。 除一个SMD安装程序外，其他所有程序。 <br><a name="habracut"></a><br> 我们不止一次地讨论了创造它的想法，但是这位技工使我感到恐惧-如果无法解决该怎么办。 因此，它仍然更像是一个不可能的梦想。 <br><br> 在怀旧的影响下，他叹了口气看了看录像，意识到梦依然是梦。 然后，纯粹出于好奇，我查看了开源世界提供的产品，并发现了Openpnp。 我不会说我以前从未听说过它，但是以某种方式重复建造的人很少，这非常令人震惊。 这次，对他们的站点进行了更详细的研究，其中包括炸弹列表，控制器固件和PC程序。 然后，关闭大脑一秒钟，我从列表中订购了第一部分，并决定为时已晚。 <br><br> 我希望从这篇介绍中可以清楚地了解到，作者以前没有组装过拾放机。 没有目的并制造商业产品。 因此，我不排除在正文中进一步会有术语上的错误和某些结论可能是错误的。 我只是对重复该设备，理清其原理并尝试我的手感兴趣。 我想与读者分享。 <br><br> 令人误解的第一件事就是OpenPnP的全部含义。 即使在今天，也很难回答这个问题。 硬件可以有很大的不同，例如，我的构建基于OpenBuilds和Smoothieboard控制器的硬件，两家公司都与OpenPnP无关。 您可以轻松扔掉熨斗中的任何组件，然后将其更换。 原则仍然很普遍：有一个与PC同名的程序，您可以从跟踪器中加载拾取和放置的程序，然后该程序向控制器发出命令，然后去那里打开它。 <br><br> 程序的外观。 <br><br><img src="https://habrastorage.org/webt/px/5q/ia/px5qiawh4llae-h_zpa_4uanj9y.png"><br><br> 如上所述，主机架取自OpenBuilds，V型槽导轨用作导轨。 对我而言，这是一个启示，简而言之，很难解释它们的所有优点，但是对它们进行任何设计都非常简单。 <br><br><img src="https://habrastorage.org/webt/fy/ge/_q/fyge_qgsjtnvpnymflnq7vmrwhy.jpeg"><br><br> 如果您需要在滑轨上安装一些物品，则将螺纹板从侧面插入，其正式名称为T-nut。 <br><br><img src="https://habrastorage.org/webt/2b/kz/vm/2bkzvm_z503hvv4qorgc_-jx8-i.jpeg"><br><br> 他们是单人和双人。 看起来就像是一盘带螺纹的普通盘子，我甚至一开始还是建议在当地商店中找到类似的东西，因为它们并不便宜。 但是，不要被它们明显的简单性所迷惑。 它们的螺纹突出于平板上方，这在拧紧螺钉时非常重要。 安装非常牢固。 <br><br> 沿轴的运动如何？ 基本思想是将一个简单的托架插入侧面的凹槽中，您已经可以在上面的平台上附加任何物品。 <br><br><img src="https://habrastorage.org/webt/xs/st/3m/xsst3ma5jzklsccf_pj7dc6qyve.jpeg"><br><br> 滑架本身很简单-它是带有四个滚轮的板。 滚轮的位置由螺母（偏心轮）调节，它们有助于调节车轮对导轨的压力。 这取决于她要移动多紧。 <br><br> 在导轨的每个端部都装有一个端板。 <br><br><img src="https://habrastorage.org/webt/n1/pk/el/n1pkeljxxojlqqw1gh4mjr3q6hy.jpeg"><br><br> 在安装Nema17电机的板上有孔。 在电机上放一个齿轮，拉动皮带，皮带的两端固定在滑架上。 因此，当电动机沿一个方向旋转时，滑架向前行驶，而在另一方向上则向后行驶。 <br><br><img src="https://habrastorage.org/webt/b-/7m/8z/b-7m8zjn6ij8o9xotpfx8ugxwxi.jpeg"><br><br> 在导轨的第二端，仅存在一根皮带沿其滑动的轴。 <br><br><img src="https://habrastorage.org/webt/qy/nm/tw/qynmtw497wgdypnyr_dfy0rxwvg.jpeg"><br><br> 现在已经出现了微妙之处。 端板。 我不知道最初的难度如何，事实是openbuild的价格在大多数情况下是足够的，但是交付的价格却不足。 因此，几乎所有东西都是用阿里买的。 包括这个细节。 <br><br> 板子很容易弯曲，下部的“耳朵”努力折断。 在原始组件中，框架是固定的，我不得不使用侧孔。 但是，否则它就不会发挥作用，它会死在轨道上。 <br><br> 关于铁轨。 这是我在俄罗斯购买的为数不多的零件之一，因为有一种观点认为，它们正被中国驱逐出境。 不想检查是否如此，但是从当地人那里购买却是这种追求。 根据广告显示，它们无处不在，实际上还是不可用，或者没人愿意与您联系3m。 很多时候，他们以V型槽为幌子提供T型槽，它们非常相似且价格实惠。 有意见认为，在这种情况下它们是可替换的，但不敢检查。 结果，它们只能在一个地方使用，因此要付出的交付费用要比机架本身的价格高。 <br><br> 螺丝。 原来，所有带六角头的紧固件。 起初不清楚原因。 首先，很难获得正确的长度，其次，它们的成本要高出一个数量级。 因此，他用十字螺丝刀拿起了紧固件的一部分，老实说后悔不止一次。 六角形有时更容易拧开，而当您仍然不了解它的工作原理时，您必须将其拧开10次。 <br><br> 字段的大小。 原始板条的长度为400x400。 我认为像我这样的许多人很少组装大型电路板。 因此，尺寸对我来说似乎很大。 实际上，情况并非如此。 虽然很小，但是末端被吞噬了，另一部分进入了角板，另一部分进入了头部等。 结果，实际字段略大于250x250，而实际大小却不那么多。 <br><br> 皮带张紧弹簧。 一开始，我忽略了它们。 这似乎是无用的事情。 实际上，在Y轴上的第一次运行中，总是会出现轻微的误差。 最后，我必须弄清楚带有一个奇怪的标记7/32“的弹簧。 <br><br><img src="https://habrastorage.org/webt/x4/2m/du/x42mdukos3rbq7updlepbuzxt4g.jpeg"><br><br> 否则，基础根本没有问题，机制将非常简单。 视频中很好地显示了一条导轨的完整组装过程。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Aj6Vo5oeRyY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 也许您会遇到与我相同的问题，为什么不将螺杆作为导向？ 为什么这些机架，皮带，齿轮？ 在其中一个论坛上，有一种观点认为，自重作用下的轴的中心会略有弯曲，这会产生错误。 而制造精确的轴将更加昂贵。 <br><br> 接下来的问题浮出水面，整个设计到底是如何进行的？ 老实说，我不知道如何评估。 主观上-非常准确，超出了预期。 如果您放一个铁尺并沿着它移动，沿着相机进行控制，则是毫米到毫米。 我没有注意到明显的错误积累。 <br><br> 故事的下一部分是控制器。 在原始的OpenPnP中，有一个面向3D打印机的Smoothieboard，但这并不妨碍它们安装到pnp机器上。 如果您深入研究，则在船上他具有微控制器LPC1769和一对步进电机驱动器。 让一些读者谴责我，但150欧元的价格（不包括交付费用）似乎不足以达到此水平的电路板。 最有趣的是，该板被定位为开源，但是我找不到理智的pcb或gerberas版本。 <br><br> 结果，问题得以自行解决，事实证明，中国人也拥有类似的董事会。 <br><br><img src="https://habrastorage.org/webt/ub/fa/1n/ubfa1nvuosb_cp53kuxj0-k75yk.jpeg"><br><br> 我们必须立即做出保留，以确保董事会非常相似，但不完全相同。 结石相同，GPIO布局相似，因此适合该软件。 但是，仍然存在细微差异。 所有设置都存储在存储卡上的文本文件中。 有很多设置，这是另一篇文章的主题。 板上有以太网，如果启用了以太网，则可以通过Web浏览器运行轴。 <br><br> 否则，对板子的所有控制都是通过USB-UART进行的，在PC上，它被定义为普通的虚拟COM端口，即 程序在Wart上抛出G代码，而控制器仅执行它们。 机器总共有3个主轴：X-上横梁，当机头从左向右移动时，仅拉动一个电动机。  Y-降低2个导轨，同时向上和向下拉动两个电机。  Z-上下降低喷嘴。 在这种情况下，机器使用右手坐标系，即 右下角-房屋为0，0。房屋由限位开关确定，实际上是通常的GPIO。 还使用了另一个C轴，该轴负责组件的旋转。 <br><br> 关于控制器的问题，没有什么特别的要说，但是从总体上来说，COM端口固有的所有痛处都是显而易见的-有时，端口本身会冻结，直到主板重启为止。 有一个错误，有时控制器方向错误，但是使用了新的固件。 <br><br> 现在最重要的是头部。 与她在一起的是大多数的不解。 值得解释的是通常如何通过真空捕获组分。 为此，使用一个12V的泵，管子从该泵进入阀。 在原始版本中，泵仅在接近组件时才起作用，我的电路板上没有大杆，就像在原始板上一样，所以我暂时离开了泵，不停地嘎嘎作响。 <br><br> 阀门在正常状态下关闭，即 没有吸入空气。 当压头接近部件时，会发出信号，阀门打开，泵将空气通过管道抽出。 该管通过空心轴紧贴电机，在电机的另一侧，喷嘴通过适配器连接。 <br><br> 不得不面对什么。 该管必须是聚氨酯，因为它足够坚硬，不会被挤压。  Nema8电动机与图中的电动机完全相同，但是卖方并未提供带有光滑轴的电动机，这使得无法用喷嘴固定适配器。 我必须订购新的。 <br><br> 原始物料中的喷嘴本身就是这样 <br><br><img src="https://habrastorage.org/webt/fl/sz/j3/flszj3n29j3g01yn-bsiwfy0b7o.jpeg"><br><br> 实验表明，不可能使用它，如照片所示，它是一根管子。 因此，由于喷嘴仍然牢固地靠在组件上，因此校准存在很多问题。 同时，在我为之祈祷的vidos上，还有一个带有弹簧的喷嘴，最后必须订购。 <br><br><img src="https://habrastorage.org/webt/cv/3y/hr/cv3yhridfm5xjsdxh9ykio4ya_0.jpeg"><br><br> 喷嘴由于Z电机而降低，即 他转身，摇杆压在固定C电机的部分上（空心轴相同）。 <br><br><img src="https://habrastorage.org/webt/a-/5q/w2/a-5qw2js1hqz3s1p6oreh1m0wnq.jpeg"><br><br> 依次沿线性导轨移动并通过弹簧连接，即 当发动机没有压在Z轴上时，由于弹簧的作用，缸盖返回到其原始状态。  C轴，是带有空心轴的同一电动机:)用来展开组件。 <br><br> 现在最重要的是整个设计如何在装配中工作？ 该程序在PC上运行。 将从示踪剂中拾取和放置的内容加载到其中。 您选择必要的组件并指定基准点，即 板上的捕捉点。 它们看起来像板上的铜圈。 <br><br><img src="https://habrastorage.org/webt/a9/yu/c1/a9yuc1q6ilbjkvl9u0cbogoh-sg.jpeg"><br><br> 你去“房子”，即 位于右下角的限位开关，以便机器了解其坐标。 接下来，您需要指出板子的位置。 为此，您需要将手非常接近板的左下角。 我们开始寻找基准点，需要此过程来了解板的确切原点和角度。 通过位于头部的摄像头-高视力进行搜索。 点识别是使用opencv完成的。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/aeW66c9oN5Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 总的来说，由于俯视图和组件，以及由于从拾取和放置位置卸载的相对坐标，板的位置是已知的。 它只是开始放置过程。 <br><br> 到目前为止，我已经停下来了。 事实证明，开始沿轴运动并降低喷嘴并不是这件事情中最重要的事情。 <br><br><img src="https://habrastorage.org/webt/cf/pb/uo/cfpbuo--en2tu1fcwi8pm-ahr8y.jpeg"><br><br> 问题是零部件的供应。 最简单的选择是假设将带有组件的胶带粘在靠近电路板的某个地方。 与木板坐标一样，对于每个组件，您都需要指明胶带的位置。 实话实说，这个过程非常繁琐，因此您需要立即进行组件的自动供应，但这是一个完全不同的故事。 <br><br> 因此，为以上所有内容画一条线。 这次经历很有趣。 是的，这是值得的，即使这不是一个完整的解决方案。 机械学并不像绘画那样可怕。 开源世界虽然仍然不那么受欢迎，但仍然需要感谢为人民的利益而无私奉献的每个人。 我真的希望将来在这个话题上还有更多要说的。 <br><br> 第一次使用旧喷嘴进行测试 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/KOifjS7IsBo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 使用新喷嘴进行测试 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/08ekcxOTW9k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN417773/">https://habr.com/ru/post/zh-CN417773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN417761/index.html">GitLab正在从Azure迁移到Google Cloud Platform。 搬迁新闻和维护日期</a></li>
<li><a href="../zh-CN417763/index.html">MVIDroid：新MVI库的回顾（模型-视图-意图）</a></li>
<li><a href="../zh-CN417767/index.html">使用卷积神经网络进行文本情感分析</a></li>
<li><a href="../zh-CN417769/index.html">用户内存设计：如何设计年龄</a></li>
<li><a href="../zh-CN417771/index.html">ICANN计划：公司提供新的DNS根服务器管理模型</a></li>
<li><a href="../zh-CN417775/index.html">比特币佣金机制以及为什么与矿工成为朋友</a></li>
<li><a href="../zh-CN417777/index.html">周末读物：初学者乙烯基爱好者的25种材料</a></li>
<li><a href="../zh-CN417779/index.html">在本机iOS / Android应用程序中使用Unity3D对开放空间的照明进行建模</a></li>
<li><a href="../zh-CN417781/index.html">NASA探测器“接触”太阳-不会融化</a></li>
<li><a href="../zh-CN417783/index.html">Python中使用的优化：列表和元组</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>