<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëßüèΩ üï† ü§Ωüèª AI en Hase und Igel: minimax para tres ‚ùî ‚ÜóÔ∏è üñêüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Despu√©s del verdadero auge de los juegos de mesa de finales de los a√±os 00, la familia dej√≥ varias cajas con juegos. Uno de ellos es el juego "Hare an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI en Hase und Igel: minimax para tres</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432382/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/z2/ng/inz2ngydxteyo76jh1r9du9oxx8.jpeg"></div><br>  Despu√©s del verdadero auge de los juegos de mesa de finales de los a√±os 00, la familia dej√≥ varias cajas con juegos.  Uno de ellos es el juego "Hare and Hedgehog" en la versi√≥n original en alem√°n.  Un juego para varios jugadores, en el que se minimiza el elemento de aleatoriedad, y el c√°lculo sobrio y la capacidad del jugador de "mirar hacia adelante" en varios pasos gana. <br><br>  Mis frecuentes derrotas en el juego me llevaron a escribir "inteligencia" en la computadora para elegir el mejor movimiento.  Inteligencia, idealmente capaz de luchar contra el gran maestro de la Liebre y el Erizo (y qu√©, t√©, no ajedrez, el juego ser√° m√°s f√°cil).  El resto del art√≠culo describe el proceso de desarrollo, la l√≥gica de IA y un enlace a la fuente. <br><a name="habracut"></a><br><h1>  Reglas del juego Hare and Hedgehog </h1><br>  En el campo de juego de 65 celdas hay varias fichas de jugador, de 2 a 6 participantes (mi dibujo, no can√≥nico, miradas, por supuesto, m√°s o menos): <br><br><img src="https://habrastorage.org/webt/rf/8w/8x/rf8w8xapxkminuwc_r78qrwlr_c.png"><br><br>  Adem√°s de las celdas con √≠ndices 0 (inicio) y 64 (finalizaci√≥n), solo se puede colocar un jugador en cada una de las celdas.  El objetivo de cada jugador es avanzar hacia la celda de meta, por delante de sus rivales. <br><br>  El "combustible" para avanzar es la zanahoria, la " <b>moneda</b> " del juego.  Al principio, cada jugador recibe 68 zanahorias, que √©l da (y a veces recibe) a medida que se mueve. <br><br>  Adem√°s de las zanahorias, al principio el jugador recibe 3 tarjetas de ensalada.  La ensalada es un "artefacto" especial que un jugador debe <b>eliminar</b> antes del final.  Deshacerse de la lechuga (y esto solo se puede hacer en una jaula especial de lechuga, como esta: <br><img src="https://habrastorage.org/webt/yk/ie/c9/ykiec9ojz0bdaawaedp8yo2lsy4.png" align="left"><br>  ), el jugador, incluido, recibe zanahorias adicionales.  Antes de eso, omitiendo tu movimiento.  Cuantos m√°s jugadores enfrente de la ensalada salgan de la carta, m√°s zanahorias recibir√° ese jugador: 10 x (la posici√≥n del jugador en el campo en relaci√≥n con otros jugadores).  Es decir, el jugador parado en el campo en segundo lugar recibir√° 20 zanahorias, dejando la jaula de la ensalada. <br><br>  Las celdas con los n√∫meros 1 a 4 pueden traer varias decenas de zanahorias si la posici√≥n del jugador coincide con el n√∫mero en la celda (1 a 4, la celda con el n√∫mero 1 tambi√©n es adecuada para las posiciones 4 y 6 en el campo), por analog√≠a con la celda de lechuga. <br><br>  El jugador puede omitir el movimiento, permanecer en la jaula con la imagen de zanahorias y recibir o dar 10 zanahorias para esta acci√≥n.  ¬øPor qu√© un jugador debe dar "combustible"?  El hecho es que un jugador puede terminar teniendo solo 10 zanahorias despu√©s de su movimiento final (20 si termina segundo, 30 si termina tercero, etc.). <br><br>  Finalmente, el jugador puede obtener 10 x N zanahorias dando N pasos en el erizo <b>libre m√°s cercano</b> (si el erizo m√°s cercano est√° ocupado, tal movimiento es imposible). <br><br>  El costo de avanzar se calcula no proporcionalmente al n√∫mero de movimientos, de acuerdo con la f√≥rmula (con redondeo): <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">c</span><span class="MJXp-mrow" id="MJXp-Span-7"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">N</span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-10"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-12" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.388ex" height="2.78ex" viewBox="0 -935.7 6194.9 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2B" x="1110" y="0"></use><g transform="translate(2111,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-32" x="1292" y="513"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-32" x="5694" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ frac {N + N ^ 2} {2} </script>  , <br>  donde N es el n√∫mero de pasos hacia adelante. <br><br>  Entonces, para avanzar una celda, el jugador da 1 zanahoria, 3 zanahorias para 2 celdas, 6 zanahorias para 3 celdas, 10 para 4, ..., 210 zanahorias para mover 20 celdas hacia adelante. <br><br>  La √∫ltima celda, la celda con la imagen de una liebre, introduce un elemento de aleatoriedad en el juego.  Habi√©ndose parado en una jaula con una liebre, el jugador roba una carta especial de la pila, despu√©s de lo cual se realiza alguna acci√≥n.  Dependiendo de la tarjeta y la situaci√≥n del juego, el jugador puede perder algunas zanahorias, obtener zanahorias adicionales o saltar un turno.  Vale la pena se√±alar que entre las cartas con "efectos" hay varios escenarios negativos m√°s para el jugador, lo que alienta al juego a ser cuidadoso y calculado. <br><br><h2>  <font color="#3050ff">Implementaci√≥n sin IA</font> </h2><br>  En la primera implementaci√≥n, que luego se convertir√° en la base para el desarrollo del "intelecto" del juego, me limit√© a la opci√≥n en la que cada jugador hace un movimiento: una persona. <br><br>  Decid√≠ implementar el juego como cliente, un sitio web est√°tico de una p√°gina, cuya "l√≥gica" se implementa en JS y el servidor, la aplicaci√≥n API WEB.  El servidor est√° escrito en .NET Core 2.1 y produce un artefacto de ensamblaje: un archivo dll, que se puede ejecutar en Windows / Linux / Mac OS. <br><br>  La "l√≥gica" de la parte del cliente se minimiza (as√≠ como la UX, ya que la GUI es puramente utilitaria).  Por ejemplo, el cliente web no realiza la verificaci√≥n por s√≠ mismo para ver si las reglas solicitadas por el jugador son aceptables.  Esta verificaci√≥n se realiza en el servidor.  El servidor le dice al cliente qu√© movimientos puede hacer el jugador desde la posici√≥n actual del juego. <br><br>  El servidor es una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√°quina</a> cl√°sica de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Moore</a> .  La l√≥gica del servidor carece de conceptos como "cliente conectado", "sesi√≥n de juego", etc. <br><br>  Todo lo que el servidor hace es procesar el comando recibido (HTTP POST).  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">patr√≥n de "comando" se</a> implementa en el servidor.  El cliente puede solicitar la ejecuci√≥n de uno de los siguientes comandos: <br><br><ul><li>  comenzar un nuevo juego, es decir  "Colocar" fichas del n√∫mero especificado de jugadores en un tablero "limpio" </li><li>  hacer el movimiento indicado en el comando </li></ul><br>  Para el segundo equipo, el cliente env√≠a al servidor la posici√≥n actual del juego (objeto de la clase Disposici√≥n), es decir, una descripci√≥n de la siguiente forma: <br><br><ul><li>  posici√≥n, n√∫mero de zanahorias y lechuga para cada liebre, m√°s un campo booleano adicional que indica que a la liebre le falta su turno </li><li>  √≠ndice de la liebre haciendo el movimiento. </li></ul><br>  El servidor no necesita enviar informaci√≥n adicional, por ejemplo, informaci√≥n sobre el campo de juego.  Al igual que para grabar un boceto de ajedrez, no es necesario pintar la disposici√≥n de las celdas en blanco y negro en el tablero; esta informaci√≥n se toma como una constante. <br><br>  En respuesta, el servidor indica si el comando se complet√≥ correctamente.  T√©cnicamente, un cliente puede, por ejemplo, solicitar un movimiento no v√°lido.  O intente crear un nuevo juego para un solo participante, lo que obviamente no tiene sentido. <br><br>  Si el equipo tiene √©xito, la respuesta contendr√° una nueva <b>posici√≥n de</b> juego, as√≠ como una lista de movimientos que puede realizar el pr√≥ximo jugador en la cola (actual para la nueva posici√≥n). <br><br>  Adem√°s de esto, la respuesta del servidor contiene algunos campos de servicio.  Por ejemplo, el texto de una carta de una liebre "sacada" por un jugador en un paso en la jaula correspondiente. <br><br><h4>  Turno de jugador </h4><br>  El turno del jugador est√° codificado como un entero: <br><br><ol><li>  0, si el jugador se ve obligado a permanecer en la celda actual, <br>  1, 2, ... N para 1, ... N da un paso adelante, </li><li>  -1, -2, ... -M para mover 1 ... M celdas de vuelta al erizo libre m√°s cercano, </li><li>  1001, 1002: c√≥digos especiales para el jugador que decidi√≥ quedarse en la celda de zanahoria y recibir (1001) o dar (1002) 10 zanahorias por esto. </li></ol><br><h3>  Implementaci√≥n de software </h3><br>  El servidor recibe el JSON del comando solicitado, lo analiza en una de las clases de solicitud correspondientes y realiza la acci√≥n solicitada. <br><br>  Si el cliente (jugador) solicit√≥ hacer un movimiento con el c√≥digo CMD desde la posici√≥n (POS) transferida al equipo, el servidor realiza las siguientes acciones: <br><br><ul><li>  comprueba si tal movimiento es posible </li><li>  crea una nueva posici√≥n desde la actual, aplicando las modificaciones correspondientes, <br>  obtiene muchos movimientos posibles para una nueva posici√≥n.  Perm√≠teme recordarte que el √≠ndice del jugador que realiza el movimiento ya est√° incluido en el objeto que describe la <abbr title="Estado espec√≠fico, alineaci√≥n de fuerzas, 'instant√°nea' del juego">posici√≥n</abbr> , </li><li>  devuelve al cliente una respuesta con una nueva posici√≥n, posibles movimientos o el indicador de √©xito igual a falso, y una descripci√≥n del error. </li></ul><br>  La l√≥gica de verificar la admisibilidad del movimiento solicitado (CMD) y construir una nueva posici√≥n result√≥ estar un poco m√°s cerca de lo que quisi√©ramos.  Con esta l√≥gica, el m√©todo para encontrar movimientos aceptables tiene algo en com√∫n.  Toda esta funcionalidad es implementada por la clase TurnChecker. <br><br>  A la entrada de los m√©todos de verificaci√≥n / ejecuci√≥n, TurnChecker recibe un objeto de la clase de la posici√≥n del juego (Disposici√≥n).  El objeto Disposition contiene una matriz de datos del jugador (Haze [] hazes), el √≠ndice del jugador que realiza el movimiento + alguna informaci√≥n de servicio que se completa durante la operaci√≥n del objeto TurnChecker. <br><br>  El campo de juego describe la clase FieldMap, que se implementa como un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">singleton</a> .  La clase contiene una matriz de celdas + cierta informaci√≥n general utilizada para simplificar / acelerar los c√°lculos posteriores. <br><br><div class="spoiler">  <b class="spoiler_title">Consideraciones de rendimiento</b> <div class="spoiler_text">  En la implementaci√≥n de la clase TurnChecker, trat√© de evitar los bucles tanto como sea posible.  El hecho es que los m√©todos para obtener el conjunto de movimientos permitidos / ejecuci√≥n de un movimiento se llamar√°n miles (decenas de miles) de veces durante el procedimiento de b√∫squeda de un movimiento cuasi √≥ptimo. <br><br>  Entonces, por ejemplo, calculo cu√°ntas celdas puede avanzar un jugador con N zanahorias, usando la f√≥rmula: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)Math.Pow(<span class="hljs-number"><span class="hljs-number">8</span></span> * N + <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>) - <span class="hljs-number"><span class="hljs-number">1</span></span>) / <span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre> <br>  Verificando si la celda i est√° ocupada por uno de los jugadores, no reviso la lista de jugadores (ya que esta acci√≥n probablemente tendr√° que realizarse muchas veces), pero me dirijo al diccionario del formulario <i>[cell_index, busy_cage_ flag]</i> completado por adelantado. <br><br>  Al verificar si la celda hedgehog especificada es la m√°s cercana (detr√°s) a la celda actual ocupada por el jugador, tambi√©n comparo la posici√≥n solicitada con un valor de un diccionario de la forma <i>[cell_index ,arest_back_dezh] _index]</i> - informaci√≥n est√°tica. <br></div></div><br><h2>  <font color="#3050ff">Implementaci√≥n con IA</font> </h2><br>  Se agrega un comando a la lista de comandos procesados ‚Äã‚Äãpor el servidor: ejecute un movimiento cuasi √≥ptimo seleccionado por el programa.  Este equipo es una peque√±a modificaci√≥n del comando "movimiento del jugador", del cual, de hecho, el campo de movimiento ( <abbr title="El c√≥digo num√©rico del comando, por ejemplo, 4 para mover 4 celdas hacia adelante, 0 para esperar, 1002 - dar 10 zanahorias ...">CMD</abbr> ) se ha eliminado. <br><br>  La primera decisi√≥n que viene a la mente es utilizar la heur√≠stica para seleccionar el "mejor movimiento posible".  Por analog√≠a con el ajedrez, podemos evaluar cada una de las posiciones de juego obtenidas con nuestro movimiento estableciendo alg√∫n tipo de calificaci√≥n para esta posici√≥n. <br><br><h3>  Evaluaci√≥n de posici√≥n heur√≠stica </h3><br>  Por ejemplo, en el ajedrez, es bastante simple hacer una evaluaci√≥n (sin subir a la naturaleza de las aperturas): como m√≠nimo, puede calcular el "costo" total de las piezas tomando el valor de caballero / alfil por 3 peones, el valor de la torre de 5 peones, la reina 9 y el rey <i>int</i> Peones <i>MaxValue</i> .  Es f√°cil mejorar la estimaci√≥n, por ejemplo, a√±adi√©ndole (con un factor de correcci√≥n - factor / exponente u otra funci√≥n): <br><br><ul><li>  el n√∫mero de movimientos posibles desde la posici√≥n actual, </li><li>  proporci√≥n de amenazas a figuras enemigas / amenazas del enemigo. </li></ul><br>  Se da una evaluaci√≥n especial a la posici√≥n del tapete: <i>int.MaxValue</i> , si el jaque mate puso la computadora, <i>int.MinValue</i> si el jaque mate puso a la persona. <br><br>  Si le ordena al procesador de ajedrez que elija el siguiente movimiento, guiado solo por dicha evaluaci√≥n, el procesador probablemente elegir√° no los peores movimientos.  En particular: <br><br><ul><li>  No pierdas la oportunidad de tomar una pieza m√°s grande o un jaque mate, </li><li>  lo m√°s probable es que no conduzca las figuras en las esquinas, </li><li>  No vuelve a poner la cifra bajo ataque (dada la cantidad de amenazas en la evaluaci√≥n). </li></ul><br>  Por supuesto, tales movimientos de la computadora no le dejar√°n una posibilidad de √©xito con un oponente que haga sus movimientos en el m√°s m√≠nimo sentido.  La computadora ignorar√° cualquiera de los enchufes.  Adem√°s, probablemente no dude en cambiar incluso a la reina por un pe√≥n. <br><br>  Sin embargo, el algoritmo para la evaluaci√≥n heur√≠stica de la posici√≥n de juego actual en el ajedrez (sin reclamar los laureles del programa campe√≥n) es bastante transparente.  No se puede decir sobre el juego Hare and Hedgehog. <br><br>  En el caso general, en el juego The Hare and the Hedgehog, una m√°xima bastante borrosa funciona: " <b><i>es mejor ir m√°s lejos con m√°s zanahorias y menos lechuga</i></b> ".  Sin embargo, no todo es tan sencillo.  Digamos, si un jugador tiene 1 carta de ensalada en el medio del juego, esta opci√≥n puede ser bastante buena.  Pero el jugador parado en la l√≠nea de meta con una tarjeta de ensalada obviamente estar√° en una situaci√≥n perdedora.  Adem√°s del algoritmo de evaluaci√≥n, tambi√©n me gustar√≠a poder "espiar" un paso m√°s all√°, as√≠ como las amenazas a las piezas pueden contarse en una evaluaci√≥n heur√≠stica de una posici√≥n de ajedrez.  Por ejemplo, vale la pena considerar la bonificaci√≥n de las zanahorias recibidas por un jugador que sale de la celda de lechuga / celda de posici√≥n (1 ... 4), teniendo en cuenta el n√∫mero de jugadores en el frente. <br><br>  Deduc√≠ la calificaci√≥n final como una funci√≥n: <br><br>  <abbr title="E (estimulaci√≥n), nota final">E</abbr> = Ks * S + Kc * C + Kp * P, <br><br>  donde S, C, P son calificaciones calculadas usando tarjetas de ensalada (S) y zanahorias ¬© en las manos del jugador, P son las calificaciones otorgadas al jugador por la distancia recorrida. <br><br>  Ks, Kc, Kp son los factores de correcci√≥n correspondientes (se discutir√°n m√°s adelante). <br><br>  La forma m√°s f√°cil es determinar la marca <b>del camino recorrido</b> : <br>  P = i * 3, donde i es el √≠ndice de la celda en la que se encuentra el jugador. <br><br>  La calificaci√≥n C (zanahorias) ya es m√°s dif√≠cil. <br><br>  Para obtener un valor C espec√≠fico, elijo una de las 3 funciones <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-msubsup" id="MJXp-Span-16"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-18" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-22" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-26" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.216ex" height="2.419ex" viewBox="0 -780.1 4398.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="1011" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="1169" y="0"></use><g transform="translate(1614,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31" x="1011" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="2783" y="0"></use><g transform="translate(3229,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-32" x="1011" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-2"> C_0, C_1, C_2 </script>  de un argumento (el n√∫mero de zanahorias en las manos).  El √≠ndice de la funci√≥n C ([0, 1, 2]) est√° determinado por la posici√≥n relativa del jugador en el campo de juego: <br><br><ul><li>  [0] si el jugador ha completado menos de la mitad del campo de juego, </li><li>  [2] si un jugador tiene suficientes zanahorias (mb, incluso abundantes) para terminar, </li><li>  [1] en otros casos. </li></ul><br><img src="https://habrastorage.org/webt/fo/cv/hr/focvhrlzpl_xuxxd8dmuw9atok8.png"><br><br>  Las funciones 0 y 1 son similares: el "valor" de cada zanahoria en las manos del jugador disminuye gradualmente a medida que aumenta el n√∫mero de zanahorias en las manos.  El juego rara vez alienta a los Plyushkins.  En el caso 1 (pas√≥ la mitad del campo), el valor de las zanahorias disminuye un poco m√°s r√°pido. <br><br>  La funci√≥n 2 (el jugador puede terminar), por el contrario, impone una gran multa (valor de coeficiente negativo) en cada zanahoria en las manos del jugador: cuantas m√°s zanahorias, mayor ser√° el coeficiente de penalizaci√≥n.  Dado que con un exceso de zanahorias, el final est√° prohibido por las reglas del juego. <br><br>  Antes de calcular la cantidad de zanahorias en las manos del jugador se especifica teniendo en cuenta las zanahorias por movimiento desde la celda de lechuga / celda n√∫mero 1 ... 4. <br><br>  Una " <b>lechuga</b> " de grado S se deduce de manera similar.  Dependiendo de la cantidad de ensalada en las manos del jugador (0 ... 3), se selecciona una funci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-27"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-31" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-32"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-34" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-35" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-36"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-38" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.505ex" height="2.419ex" viewBox="0 -780.1 4092.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="867" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="1067" y="0"></use><g transform="translate(1512,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31" x="867" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="2579" y="0"></use><g transform="translate(3025,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-32" x="867" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> S_0, S_1, S_2 </script>  o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-39"><span class="MJXp-msubsup" id="MJXp-Span-40"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-42" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.479ex" height="2.419ex" viewBox="0 -780.1 1067.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-33" x="867" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> S_3 </script>  .  Argumento de la funci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-43"><span class="MJXp-msubsup" id="MJXp-Span-44"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-46" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-50" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.799ex" height="2.419ex" viewBox="0 -780.1 3357.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="867" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2212" x="1289" y="0"></use><g transform="translate(2290,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-33" x="867" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> S_0 - S_3 </script>  .  - de nuevo, la ruta "relativa" recorrida por el jugador.  A saber, el n√∫mero de celdas con ensalada restante en el frente (en relaci√≥n con la celda ocupada por el jugador): <br><br><img src="https://habrastorage.org/webt/91/as/ra/91asraqadihe0n0dgtruyw1efuc.png"><br><br>  La curva <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-msubsup" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-54" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.479ex" height="2.419ex" viewBox="0 -780.1 1067.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="867" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> S_0 </script>  - funci√≥n de evaluaci√≥n (S) del n√∫mero de celdas de lechuga frente al jugador (0 ... 5), para un jugador con 0 cartas de lechuga en la mano, <br>  la curva <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-55"><span class="MJXp-msubsup" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-58" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.479ex" height="2.298ex" viewBox="0 -780.1 1067.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31" x="867" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> S_1 </script>  - la misma funci√≥n para un jugador con una carta de ensalada en la mano, etc. <br><br>  La calificaci√≥n final (E = Ks * S + Kc * C + Kp * P) tiene en cuenta: <br><br><ul><li>  la cantidad extra de zanahorias que recibir√° el jugador inmediatamente antes de su propio movimiento, </li><li>  el camino del jugador </li><li>  la cantidad de zanahorias y lechugas en las manos que afectan de manera no lineal al puntaje. </li></ul><br>  Y as√≠ es como juega una computadora, eligiendo el siguiente movimiento con la puntuaci√≥n heur√≠stica m√°xima: <br><br><img src="https://habrastorage.org/webt/nz/ze/4g/nzze4g5o3vbfug20cspijmdmnlg.gif"><br><br>  En principio, el debut no es tan malo.  Sin embargo, uno no deber√≠a esperar un buen juego de esa IA: a la mitad del juego, el "robot" verde comienza a hacer movimientos repetidos, y al final realiza varias iteraciones de movimientos hacia adelante, hacia atr√°s hasta el erizo, hasta que finalmente termina.  En parte debido al azar, terminar√° detr√°s del jugador, una persona por una docena de movimientos. <br><br><div class="spoiler">  <b class="spoiler_title">Notas de implementacion</b> <div class="spoiler_text">  El c√°lculo de la evaluaci√≥n es administrado por una clase especial: Calculador de estimaci√≥n.  Las funciones para evaluar la posici√≥n con respecto a las tarjetas de ensalada de zanahoria se cargan en matrices en el constructor <b>est√°tico</b> de la clase calculadora.  En la entrada, el m√©todo de estimaci√≥n de posici√≥n recibe el objeto de posici√≥n en s√≠ y el √≠ndice del jugador, desde el "punto de vista" desde el cual el algoritmo eval√∫a la posici√≥n.  Es decir, la misma posici√≥n de juego puede recibir varias clasificaciones diferentes, seg√∫n el jugador para el que se consideran los puntos virtuales. <br></div></div><br><h2>  <font color="#3050ff">√Årbol de decisi√≥n y algoritmo Minimax</font> </h2><br>  Utilizamos el algoritmo de toma de decisiones en el juego antagonista de Minimax.  Muy bien, en mi opini√≥n, el algoritmo se describe en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta publicaci√≥n (traducci√≥n)</a> . <br><br>  Ense√±amos al programa a "mirar" algunos movimientos adelante.  Supongamos que, desde la posici√≥n actual (y el fondo no es importante para el algoritmo, como recordamos, el programa funciona como <abbr title="El algoritmo no tiene 'estado interno'">una m√°quina Moore</abbr> ), numerado por el n√∫mero 1, el programa puede hacer dos movimientos.  Tenemos dos posiciones posibles, 2 y 3. Luego viene el turno del jugador - la persona (en el caso general - el enemigo).  Desde la segunda posici√≥n, el oponente tiene 3 movimientos, desde el tercero, solo dos movimientos.  Luego, el turno para hacer un movimiento nuevamente cae en el programa, que, en total, puede hacer 10 movimientos desde 5 posibles posiciones: <br><br><img src="https://habrastorage.org/webt/j8/1p/yf/j81pyfcci31ot27y3xgfafiuqc4.gif"><br><br>  Supongamos que, despu√©s del segundo movimiento de la computadora, el juego termina y cada una de las posiciones recibidas se eval√∫a desde el punto de vista del primer y segundo jugador.  Y ya hemos implementado el algoritmo de evaluaci√≥n.  Evaluemos cada una de las posiciones finales (hojas del √°rbol 9 ... 18) en forma de vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-59"><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-63" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-67" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-68" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.691ex" height="2.66ex" viewBox="0 -832 2881 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="686" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="1217" y="0"></use><g transform="translate(1663,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31" x="686" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-5D" x="2602" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> [v_0, v_1] </script>  , <br>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-msubsup" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-72" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.182ex" height="1.817ex" viewBox="0 -520.7 939.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="686" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> v_0 </script>  - puntuaci√≥n calculada para el primer jugador, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-76" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.182ex" height="1.696ex" viewBox="0 -520.7 939.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31" x="686" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> v_1 </script>  - puntuaci√≥n del segundo jugador: <br><br><img src="https://habrastorage.org/webt/xk/g5/yw/xkg5ywgzotdosiz4e4soubsrava.png"><br><br>  Como la computadora hace el √∫ltimo movimiento, obviamente elegir√° las opciones en cada uno de los sub√°rboles ([9, 10], [11], [12, 13], [14, 15, 16], [17, 18]) lo que le da una mejor calificaci√≥n.  La pregunta surge de inmediato: ¬øpor qu√© principio se debe elegir la "mejor" posici√≥n? <br><br>  Por ejemplo, hay dos movimientos, despu√©s de los cuales tenemos posiciones con calificaciones [5;  5] y [2;  1]  Eval√∫a al primer jugador.  Dos alternativas son obvias: <br><br><ul><li>  selecci√≥n de posici√≥n con el valor <b>absoluto</b> m√°ximo de la i-√©sima puntuaci√≥n para el i-√©simo jugador.  En otras palabras, el noble corredor Leslie, ansioso por la victoria, sin tener en cuenta a los competidores.  En este caso, una posici√≥n con una estimaci√≥n de [5;  5] </li><li>  La elecci√≥n de un puesto con la calificaci√≥n m√°xima en <b>relaci√≥n con las estimaciones de los competidores</b> es la astuta profesora Faith, que no pierde la oportunidad de infligir trucos sucios al enemigo.  Por ejemplo, intencionalmente va a la zaga de un jugador que planea comenzar desde la segunda posici√≥n.  Un art√≠culo con calificaci√≥n [2;  1] </li></ul><br>  En mi implementaci√≥n de software, hice el algoritmo de selecci√≥n de calificaci√≥n (una funci√≥n que asigna el vector de calificaci√≥n a un valor escalar para el i-√©simo jugador) un par√°metro personalizado.  Pruebas posteriores mostraron, para mi sorpresa, la superioridad de la primera estrategia: la elecci√≥n de la posici√≥n por el valor absoluto m√°ximo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-77"><span class="MJXp-msubsup" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-80" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.927ex" height="1.817ex" viewBox="0 -520.7 829.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-69" x="686" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> v_i </script>  . <br><br><div class="spoiler">  <b class="spoiler_title">Caracter√≠sticas de la implementaci√≥n de software.</b> <div class="spoiler_text">  Si la primera opci√≥n para elegir la mejor calificaci√≥n se especifica en la configuraci√≥n de la IA (clase TurnMaker), el c√≥digo del m√©todo correspondiente tomar√° la forma: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContractEstimateByAbsMax</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] estimationVector, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> playerIndex</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> estimationVector[playerIndex]; }</code> </pre><br>  El segundo m√©todo, el m√°ximo relativo a las posiciones de los competidores, se implementa un poco m√°s complicado: <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContractEstimateByRelativeNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[]eVector, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> player</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>? min = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pVal = eVector[player]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; eVector.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == player) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> val = pVal - eVector[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!min.HasValue || min.Value &gt; val) min = val; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> min.Value; }</code> </pre><br></div></div><br>  Las estimaciones seleccionadas (subrayadas en la figura) se transfieren al nivel superior.  Ahora el enemigo tiene que elegir una posici√≥n, sabiendo qu√© posici√≥n posterior elegir√° el algoritmo: <br><br><img src="https://habrastorage.org/webt/hf/pr/ox/hfproxjzdo7-_7ll2f90na7p5ky.png"><br><br>  El adversario, obviamente, elegir√° la posici√≥n con la mejor calificaci√≥n para s√≠ mismo (aquella en la que la <b>segunda coordenada del</b> vector toma el mayor valor).  Estas estimaciones se subrayan nuevamente en el gr√°fico. <br><br>  Finalmente, volvemos al primer movimiento.  La computadora selecciona, y √©l prefiere el movimiento con la primera coordenada m√°s grande del vector: <br><br><img src="https://habrastorage.org/webt/dr/f1/y-/drf1y-8s_h-orz173pj8fx2tam0.png"><br><br>  Por lo tanto, el problema est√° resuelto: se encuentra un movimiento casi √≥ptimo.  Supongamos que una puntuaci√≥n heur√≠stica del 100% en las posiciones de las hojas en un √°rbol indica un futuro ganador.  Entonces nuestro algoritmo elegir√° inequ√≠vocamente el mejor movimiento posible. <br><br>  Sin embargo, el puntaje heur√≠stico es 100% exacto solo cuando se eval√∫a la posici√≥n <b>final</b> del juego: uno (o varios) jugadores han terminado, se determina el ganador.  Por lo tanto, al tener la oportunidad de mirar hacia adelante N movimientos: tanto como sea necesario para ganar rivales con la misma fuerza, puedes elegir el movimiento √≥ptimo. <br><br>  Pero un juego t√≠pico para 2 jugadores dura en promedio entre 30 y 40 movimientos (para tres jugadores, alrededor de 60 movimientos, etc.).  Desde cada posici√≥n, un jugador generalmente puede hacer unos 8 movimientos.  En consecuencia, un √°rbol completo de posibles posiciones para 30 movimientos consistir√° en aproximadamente <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-81"><span class="MJXp-msubsup" id="MJXp-Span-82"><span class="MJXp-mn" id="MJXp-Span-83" style="margin-right: 0.05em;">8</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-84" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-85">30</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.039ex" height="2.419ex" viewBox="0 -935.7 1308.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-38" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-33"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-12"> 8 ^ {30} </script>  = 1237940039285380274899124224 picos! <br><br>  En la pr√°ctica, construir y "analizar" un √°rbol de ~ 100,000 posiciones en mi PC toma alrededor de 300 milisegundos.  Lo que nos da un l√≠mite en la profundidad del √°rbol en 7 a 8 niveles (movimientos), si queremos esperar una respuesta de la computadora de no m√°s de un segundo. <br><br><div class="spoiler">  <b class="spoiler_title">Caracter√≠sticas de la implementaci√≥n de software.</b> <div class="spoiler_text">  Obviamente, se requiere un m√©todo recursivo para construir un √°rbol de posiciones y encontrar el mejor movimiento.  En la entrada del m√©todo: la posici√≥n actual (en la que, como recordamos, el jugador ya est√° haciendo un movimiento) y el nivel del √°rbol actual (n√∫mero de movimiento).  Tan pronto como descendemos al nivel m√°ximo permitido por la configuraci√≥n del algoritmo, la funci√≥n devuelve un vector de estimaci√≥n de posici√≥n heur√≠stica desde el "punto de vista" de cada uno de los jugadores. <br><br>  <b><font color="#ff0000">Una adici√≥n importante</font></b> : el descenso debajo del √°rbol tambi√©n debe detenerse cuando el jugador actual haya terminado.  De lo contrario (si se selecciona el algoritmo para seleccionar la mejor posici√≥n en relaci√≥n con las posiciones de otros jugadores), el programa puede "pisotear" al final durante mucho tiempo, "burlarse" del oponente.  Adem√°s, de esta manera reduciremos ligeramente el tama√±o del √°rbol en el final del juego. <br><br>  Si a√∫n no estamos en el √∫ltimo nivel de recursi√≥n, seleccionamos los movimientos posibles, creamos una nueva posici√≥n para cada movimiento y lo pasamos a la llamada recursiva del m√©todo actual. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">¬øPor qu√© es Minimax?</b> <div class="spoiler_text">  En la interpretaci√≥n original de los jugadores son siempre dos.  El programa calcula el puntaje exclusivamente desde la posici√≥n del primer jugador.  En consecuencia, al elegir la "mejor" posici√≥n, el jugador con √≠ndice 0 busca una posici√≥n con una calificaci√≥n m√°xima, el jugador con √≠ndice 1 busca un m√≠nimo. <br><br>  En nuestro caso, la calificaci√≥n debe ser un vector para que cada uno de los N jugadores pueda evaluarla desde su "punto de vista", ya que la calificaci√≥n se eleva en el √°rbol. <br></div></div><br><h2>  <font color="#3050ff">Tuning AI</font> </h2><br>  Mi pr√°ctica de jugar contra la computadora ha demostrado que el algoritmo no es tan malo, pero a√∫n as√≠ es inferior a los humanos.  Decid√≠ mejorar la IA de dos maneras: <br><br><ul><li>  optimizar la construcci√≥n / recorrido del √°rbol de decisi√≥n, </li><li>  Mejorar la heur√≠stica. </li></ul><br><h3>  Optimizaci√≥n del algoritmo Minimax </h3><br>  En el ejemplo anterior, podr√≠amos negarnos a considerar la posici√≥n 8 y ‚Äúguardar‚Äù 2 - 3 v√©rtices del √°rbol: <br><br><img src="https://habrastorage.org/webt/-h/ce/hb/-hcehbcs1t-bcynqfe7j_cmnjp4.png"><br><br>  Caminamos alrededor del √°rbol de arriba a abajo, de izquierda a derecha.  Sin pasar por el sub√°rbol que comienza en la posici√≥n 2, dedujimos la mejor estimaci√≥n para el movimiento 1 -&gt; 2: [3, 2].  Sin pasar por el sub√°rbol con la ra√≠z en la posici√≥n 7, determinamos la calificaci√≥n actual (mejor para el movimiento 3 -&gt; 7): [2, 4].  Desde el punto de vista de la computadora (primer jugador), el puntaje [2, 4] es peor que el puntaje [3, 2].  Y dado que el oponente de la computadora elige el movimiento desde la posici√≥n 3, cualquiera que sea el puntaje para la posici√≥n 8, el puntaje final para la posici√≥n 3 ser√° a priori peor que el puntaje obtenido para la tercera posici√≥n.  En consecuencia, el sub√°rbol con la ra√≠z en la posici√≥n 8 no se puede construir ni evaluar. <br><br>  La versi√≥n optimizada del algoritmo Minimax, que le permite cortar el exceso de sub√°rboles, se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo de recorte alfa-beta</a> .  La implementaci√≥n de este algoritmo requerir√° modificaciones menores en el c√≥digo fuente. <br><br><div class="spoiler">  <b class="spoiler_title">Caracter√≠sticas de la implementaci√≥n de software.</b> <div class="spoiler_text">  Adem√°s, se pasan dos par√°metros enteros al m√©todo CalcEstimate de la clase TurnMaker: alpha, que es igual a int.MinValue inicialmente y beta, que es igual a int.MaxValue.  Adem√°s, despu√©s de recibir una estimaci√≥n del movimiento actual en consideraci√≥n, se ejecuta un pseudoc√≥digo del formulario: <br><br><pre> <code class="1c hljs"> e = _[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">//        (  )  (e &gt; alpha) alpha = e   (e &lt; beta) beta = e  (beta &lt;= alpha)    </span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Una caracter√≠stica importante de la implementaci√≥n de software.</b> <div class="spoiler_text">  El m√©todo de recorte alfa-beta, por definici√≥n, conduce a la misma soluci√≥n que el algoritmo Minimax "limpio".  Para verificar si la l√≥gica de la toma de decisiones ha cambiado (o m√°s bien, los resultados son movimientos), escrib√≠ una prueba de unidad en la que el robot realiz√≥ 8 movimientos para cada uno de los 2 oponentes (16 movimientos en total) y guard√≥ la serie de movimientos resultante, con opci√≥n de recorte <b>deshabilitada</b> . <br><br>  Luego, en la misma prueba, el procedimiento se repiti√≥ con <b>la</b> opci√≥n de recorte <b>activada</b> .  Despu√©s de eso, se compar√≥ la secuencia de movimientos.  La discrepancia en los movimientos indica un error en la implementaci√≥n del algoritmo de recorte alfa-beta (prueba fallida). <br></div></div><br><h3>  Optimizaci√≥n de recorte alfa-beta menor </h3><br>  Con la opci√≥n de recorte habilitada en la configuraci√≥n de AI, el n√∫mero de v√©rtices en el √°rbol de posici√≥n se redujo en un promedio de 3 veces.  Este resultado puede ser algo mejorado. <br><br>  En el ejemplo anterior: <br><br><img src="https://habrastorage.org/webt/-h/ce/hb/-hcehbcs1t-bcynqfe7j_cmnjp4.png"><br><br>  "coincidi√≥" con tanto √©xito que, antes del sub√°rbol con el v√©rtice en la posici√≥n 3, examinamos el sub√°rbol con el v√©rtice en la posici√≥n 2. Si la secuencia era diferente, podr√≠amos comenzar con el "peor" sub√°rbol y no concluir que no ten√≠a sentido considerar la siguiente posici√≥n . <br><br>  Como regla general, el recorte en un √°rbol resulta ser m√°s "econ√≥mico", sus v√©rtices descendientes en el mismo nivel (es decir, todos los movimientos posibles desde la posici√≥n i) ya est√°n ordenados por la estimaci√≥n de posici√≥n actual (sin mirar en profundidad).  En otras palabras, suponemos que el mejor movimiento (desde el punto de vista heur√≠stico) es m√°s probable que obtenga una mejor calificaci√≥n final.  Por lo tanto, con cierta probabilidad, clasificamos el √°rbol para que el "mejor" sub√°rbol sea considerado antes que el "peor", lo que nos permitir√° cortar m√°s opciones. <br><br>  La evaluaci√≥n de la posici√≥n actual es un procedimiento costoso.  Si anteriormente era suficiente para nosotros evaluar solo las posiciones terminales (hojas), entonces ahora se realiza la evaluaci√≥n para todos los v√©rtices del √°rbol.  Sin embargo, como lo mostraron las pruebas, el n√∫mero total de estimaciones realizadas fue a√∫n ligeramente menor que en la variante sin la clasificaci√≥n inicial de posibles movimientos. <br><br><div class="spoiler">  <b class="spoiler_title">Caracter√≠sticas de la implementaci√≥n de software.</b> <div class="spoiler_text">  El algoritmo de recorte alfa-beta devuelve el mismo movimiento que el algoritmo original de Minimax.  Esto verifica la prueba unitaria que escribimos, comparando dos secuencias de movimientos (para un algoritmo con recorte y sin √©l).  El recorte alfa-beta <b>con clasificaci√≥n</b> , en el caso general, puede indicar un <b>movimiento diferente</b> como cuasi √≥ptimo. <br><br>  Para probar el funcionamiento correcto del algoritmo modificado, necesita una nueva prueba.  A pesar de la modificaci√≥n, el algoritmo ordenado deber√≠a producir exactamente el mismo <b>vector de estimaci√≥n final</b> ([3, 2] en el ejemplo de la figura) que el algoritmo no ordenado como el algoritmo original de Minimax. <br><br>  En la prueba, cre√© una serie de posiciones de prueba y las seleccion√© de acuerdo con el "mejor" movimiento, activando y desactivando la opci√≥n de clasificaci√≥n.  Luego compar√≥ el vector de evaluaci√≥n obtenido de dos maneras. <br></div></div><br>  Adem√°s, dado que las posiciones para cada uno de los posibles movimientos en el v√©rtice actual del √°rbol se ordenan por evaluaci√≥n heur√≠stica, la idea sugiere descartar inmediatamente algunas de las peores opciones.  Por ejemplo, un jugador de ajedrez puede considerar un movimiento en el que sustituye su torre por un golpe de pe√≥n.  Sin embargo, al "desenrollar" la situaci√≥n en profundidad por 3, 4 ... movimientos hacia adelante, notar√° inmediatamente las opciones cuando, por ejemplo, el oponente ponga bajo ataque al obispo de su reina. <br><br>  En la configuraci√≥n de AI, configuro el vector de "recorte de las peores opciones".  Por ejemplo, un vector de la forma [0, 0, 8, 8, 4] significa que: <br><br><ul><li>  mirando un [0] y dos [0] pasos hacia adelante, el programa considerar√° todos los movimientos posibles, porque 0   , </li><li>    [8]   [8]  ,    8 ‚Äú‚Äù ,    , , </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mirando cinco o m√°s pasos hacia adelante [4], el programa evaluar√° no m√°s de 4 "mejores" movimientos. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Con la clasificaci√≥n activada para el algoritmo de recorte alfa-beta y un vector similar en la configuraci√≥n de recorte, el programa comenz√≥ a gastar alrededor de 300 milisegundos para seleccionar un movimiento cuasi √≥ptimo, "profundizando" 8 pasos hacia adelante. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimizaci√≥n Heur√≠stica </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A pesar de la cantidad decente de posiciones de v√©rtice iteradas en el √°rbol y "profundas" mirando hacia adelante en busca de un movimiento cuasi √≥ptimo, la IA ten√≠a varias debilidades. </font><font style="vertical-align: inherit;">Defin√≠ uno de ellos como una " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trampa de conejo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trampa de liebre</font></font></b> <div class="spoiler_text">       .   ( 8 ‚Äî 10   15),     .     ‚Äú‚Äù          (   !): <br><br><ul><li>           7, </li><li>    ,    ,  .   ,  ,    ,      . </li></ul><br>        .  : <br><br><img src="https://habrastorage.org/webt/qn/y-/wr/qny-wrq0dgtlr16wwj1ibekhk5g.png"><br><br>     54   (43),      ‚Äî   10     55 .  AI,   ,      (61),  28 .       ,   6          9 (      10 ). <br><br>   ,       ( ),         ,        4 ‚Äî 6 .   , ,          , AI     ? <br><br>   ,     <b> </b> ,   . AI      .            ,      ,    .      ‚Äú ‚Äù  : <br><br>                  65 ‚Äî    ‚Äú‚Äù  , ,      .         ,            ,  ,    ()    . <br></div></div><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Factores de correcci√≥n </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anteriormente, citando la f√≥rmula heur√≠stica para evaluar la posici√≥n actual </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E = Ks * S + Kc * C + Kp * P, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mencion√©, pero no describ√≠, los factores de correcci√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El hecho es que tanto la f√≥rmula en s√≠ como los conjuntos de funciones</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-msubsup" id="MJXp-Span-87"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-89" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-90" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-94" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-98" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></span><span class="MJXp-mo" id="MJXp-Span-100" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-103" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , fueron deducidos por m√≠ intuitivamente, sobre la base de la llamada </font><font style="vertical-align: inherit;">"Sentido com√∫n". </font><font style="vertical-align: inherit;">Como m√≠nimo, me gustar√≠a seleccionar tales coeficientes Ks, Kc y Kp para que la estimaci√≥n sea lo m√°s adecuada posible. </font><font style="vertical-align: inherit;">¬øC√≥mo evaluar la "adecuaci√≥n" de la evaluaci√≥n? </font><font style="vertical-align: inherit;">La evaluaci√≥n es una cantidad adimensional y solo se puede comparar con otra estimaci√≥n. </font><font style="vertical-align: inherit;">Pude encontrar la √∫nica forma de refinar los coeficientes de correcci√≥n:</font><font style="vertical-align: inherit;">puse en el programa una serie de "estudios" almacenados en un archivo CSV con datos del formulario</font></font><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.56ex" height="2.419ex" viewBox="0 -780.1 6699.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="1011" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2E" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2E" x="1614" y="0"></use><g transform="translate(2059,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-32" x="1011" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2C" x="3229" y="0"></use><g transform="translate(3674,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-30" x="867" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2E" x="4741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-2E" x="5186" y="0"></use><g transform="translate(5632,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-35" x="867" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-13">C_0 .. C_2, S_0 .. S_5</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cs hljs"> <span class="hljs-number"><span class="hljs-number">45</span></span>;<span class="hljs-number"><span class="hljs-number">26</span></span>;<span class="hljs-number"><span class="hljs-number">2</span></span>;f;<span class="hljs-number"><span class="hljs-number">29</span></span>;<span class="hljs-number"><span class="hljs-number">19</span></span>;<span class="hljs-number"><span class="hljs-number">0</span></span>;f;<span class="hljs-number"><span class="hljs-number">2</span></span> ...</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Esta l√≠nea literalmente significa lo siguiente: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el primer jugador est√° en la casilla 45, tiene 26 cartas de zanahorias y 2 cartas de ensalada en sus manos, el jugador no pierde un movimiento (f = falso). </font><font style="vertical-align: inherit;">El derecho a moverse es siempre el primer jugador.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el segundo jugador en la celda 29 con 19 cartas de zanahorias y sin cartas de ensalada, no se pierde un movimiento. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la figura dos significa que, "decidiendo" el estudio, asum√≠ que el segundo jugador est√° en una situaci√≥n ganadora. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de poner 20 bocetos en el programa, los "descargu√©" en el cliente web del juego, y luego orden√© cada boceto. </font><font style="vertical-align: inherit;">Analizando el boceto, alternativamente hice movimientos para cada uno de los jugadores, hasta que me decid√≠ por el "ganador". </font><font style="vertical-align: inherit;">Una vez finalizada la evaluaci√≥n, la envi√© en un equipo especial al servidor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de evaluar 20 estudios (por supuesto, valdr√≠a la pena analizar m√°s de ellos), evalu√© cada uno de ellos por el programa. </font><font style="vertical-align: inherit;">En la evaluaci√≥n, los valores de cada uno de los factores de correcci√≥n, de 0.5 a 2 en incrementos de 0.1 - total</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-104"><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mn" id="MJXp-Span-106" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-107" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 4096 variantes de triples de coeficientes. </font><font style="vertical-align: inherit;">Si el puntaje para el primer jugador result√≥ ser m√°s alto que el puntaje del segundo jugador, y se almacen√≥ una instrucci√≥n similar en la l√≠nea del registro de estudio (el √∫ltimo valor de la l√≠nea es 1), se cont√≥ el "hit". </font><font style="vertical-align: inherit;">Del mismo modo para una situaci√≥n espejo. </font><font style="vertical-align: inherit;">De lo contrario, se contaba un deslizamiento. </font><font style="vertical-align: inherit;">Como resultado, eleg√≠ los triples para los cuales el porcentaje de "golpes" era m√°ximo (16 de 20). </font><font style="vertical-align: inherit;">Salieron alrededor de 250 de 4096 vectores, de los cuales seleccion√© el "mejor", de nuevo, "a simple vista", y lo instal√© en la configuraci√≥n de AI.</font></font><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.379ex" height="2.419ex" viewBox="0 -935.7 1454.9 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-36" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/432382/&amp;usg=ALkJrhgMA56H0aE-tEwwWCcPdPj5ShfvfA#MJMAIN-33" x="1415" y="557"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14">16^3</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Resumen </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, obtuve un programa de trabajo que, como regla, me supera en la versi√≥n uno contra uno contra la computadora. A√∫n no se han acumulado estad√≠sticas serias de victorias y derrotas para la versi√≥n actual del programa. Quiz√°s la posterior sintonizaci√≥n f√°cil de IA har√° que mis victorias sean imposibles. O casi imposible, ya que el factor de c√©lulas de liebre a√∫n permanece. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por ejemplo, en la l√≥gica de elegir clasificaciones (m√°ximo absoluto o m√°ximo relativo a otros jugadores), definitivamente probar√≠a una opci√≥n intermedia. Como m√≠nimo, si el valor absoluto del puntaje del i-√©simo jugador es igual, es razonable elegir un movimiento que conduzca a una posici√≥n con un valor relativo m√°s alto del puntaje (un h√≠brido del noble Leslie y el traicionero Feith).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El programa es completamente funcional para la versi√≥n con 3 jugadores. </font><font style="vertical-align: inherit;">Sin embargo, hay sospechas de que la "calidad" de los movimientos de IA para jugar con 3 jugadores es menor que para jugar con dos jugadores. </font><font style="vertical-align: inherit;">Sin embargo, durante la √∫ltima prueba perd√≠ con la computadora, quiz√°s por negligencia, evaluando casualmente la cantidad de zanahorias en mis manos y llegando a la meta con un exceso de "combustible". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasta ahora, el desarrollo posterior de la IA se ve obstaculizado por la falta de una persona, un "probador", es decir, un oponente vivo de un "genio" de la computadora. </font><font style="vertical-align: inherit;">Yo mismo jugu√© lo suficiente de Hare y Hedgehog para causar n√°useas y me vi obligado a interrumpir en la etapa actual. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Enlace al </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositorio con fuente</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432382/">https://habr.com/ru/post/es432382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432370/index.html">AlphaZero derrot√≥ a Stockfish en una partida de 1,000 juegos</a></li>
<li><a href="../es432372/index.html">Microsoft ha confirmado oficialmente que Edge cambia al motor Chromium</a></li>
<li><a href="../es432374/index.html">Elasticsearch altamente accesible y escalable en Kubernetes</a></li>
<li><a href="../es432378/index.html">Un estudiante de d√©cimo grado de Siberia quiere convertirse en dise√±ador de procesadores. ¬øPor qu√© no hacer un acelerador neuronal FPGA?</a></li>
<li><a href="../es432380/index.html">Seis a√±os de vida con un iPhone que no me distrae</a></li>
<li><a href="../es432384/index.html">Estudio: el 22% de los usuarios de Tumblr van a un sitio porno, especialmente a las chicas j√≥venes</a></li>
<li><a href="../es432386/index.html">Mesa redonda "Arquitecto del proyecto de TI", septiembre de 2018</a></li>
<li><a href="../es432392/index.html">Tuvimos juegos de la vieja escuela y algunos hongos: misi√≥n completada</a></li>
<li><a href="../es432394/index.html">9 vueltas de automatizaci√≥n de almacenes Lamoda</a></li>
<li><a href="../es432398/index.html">Modo de DFU del gestor de arranque STM32 usando CubeMX. Instrucciones paso a paso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>