<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ฅ ๐จ๐พโ๐ป CSE: Kubernetes ูุฃู ุดุฎุต ูู vCloud ๐ ๐จ๐ฝโ๐จ ใฝ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน! 

 ููุฏ ุญุฏุซ ุฃู ูุฑูู ุงูุชุทููุฑ ุงูุตุบูุฑ ูุฏููุง ุ ูุงููู ุนู ุฐูู ูุคุฎุฑูุง ุ ูุจุงูุชุฃููุฏ ููุณ ููุงุฌุฆูุง ุ ูุฏ ูุดุฃ ูููู ุจุนุถ ุงูููุชุฌุงุช (ููู ุงููุณุชูุจู ุ ุฌููุนูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CSE: Kubernetes ูุฃู ุดุฎุต ูู vCloud</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/linxdatacenter/blog/472752/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pk/0v/u9/pk0vu9vp36lten5zgvswrtyzpl8.png"></div><br>  <b>ูุฑุญุจุง ุจุงูุฌููุน!</b> <br><br>  ููุฏ ุญุฏุซ ุฃู ูุฑูู ุงูุชุทููุฑ ุงูุตุบูุฑ ูุฏููุง ุ ูุงููู ุนู ุฐูู ูุคุฎุฑูุง ุ ูุจุงูุชุฃููุฏ ููุณ ููุงุฌุฆูุง ุ ูุฏ ูุดุฃ ูููู ุจุนุถ ุงูููุชุฌุงุช (ููู ุงููุณุชูุจู ุ ุฌููุนูุง) ุฅูู Kubernetes. <br><br>  ูุงู ููุงู ุงูุนุฏูุฏ ูู ุงูุฃุณุจุงุจ ูุฐูู ุ ููู ูุตุชูุง ููุณุช ุนู holivar. <br><br>  ูู ุฃุณุงุณ ุงูุจููุฉ ุงูุชุญุชูุฉ ุ ูู ููู ูุฏููุง ุฎูุงุฑ ูุจูุฑ.  vCloud Director ู vCloud Director.  ููุฏ ุงุฎุชุฑูุง ุฅุตุฏุงุฑูุง ุฌุฏูุฏูุง ููุฑุฑูุง ุงูุจุฏุก. <br><br>  ูุฑุฉ ุฃุฎุฑู ุ ูุธุฑูุง ุฅูู "ุงูุทุฑูู ุงูุตุนุจ" ุ ุชูุตูุช ุจุณุฑุนุฉ ุฅูู ุงุณุชูุชุงุฌ ููุงุฏู ุฃู ููุงู ุญุงุฌุฉ ุฅูู ุฃุฏุงุฉ ูุฃุชูุชุฉ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ ุนูู ุงูุฃูู ุ ูุซู ุงููุดุฑ ูุงูุชุญุฌูู ุ ุฃูุณ.  ุฃุจุฑุฒ ุงูุงูุบูุงุณ ุงูุนููู ูู Google ููุชุฌูุง ูุซู VMware Container Service Extension (CSE) - ููู ููุชุฌ ููุชูุญ ุงููุตุฏุฑ ูุณูุญ ูู ุจุฃุชูุชุฉ ุฅูุดุงุก ูุชุญุฌูู ูุฌููุนุงุช k8s ูุฃููุฆู ุงูููุฌูุฏูู ูู vCloud. <a name="habracut"></a><br><blockquote style=";text-align:right;direction:rtl">  ุฅุฎูุงุก ุงููุณุฆูููุฉ: CSE ููุง ุญุฏูุฏูุง ุ ูููู ูุฃุบุฑุงุถูุง ุฌุงุก ุงูุฃูุฑ ุจุดูู ูุซุงูู.  ุฃูุถูุง ุ ูุฌุจ ุฃู ูุฏุนู ุงููููุฑ ุงูุณุญุงุจู ุงูุญู ุ ูููู ูุธุฑูุง ูุฃู ุฌุฒุก ุงูุฎุงุฏู ููุชูุญ ุฃูุถูุง ุ ุงุทูุจู ูู ุฃูุฑุจ ูุฏูุฑ :) </blockquote><br><h2 style=";text-align:right;direction:rtl">  ุชุซุจูุช ุนููู CSE </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ุณุชุญุชุงุฌ ุฅูู ุญุณุงุจ ูุณุคูู ูู ูุคุณุณุฉ vCloud ูุดุจูุฉ ููุฌูุฉ ุชู ุฅูุดุงุคูุง ูุณุจููุง ููุธุงู ุงููุฌููุนุฉ.  <i><b>ูุงู:</b> ุฃุซูุงุก ุนูููุฉ ุงููุดุฑ ุชุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ูู ูุฐู ุงูุดุจูุฉ ุ ูุง ุชูุณ ุชูููู ุฌุฏุงุฑ ุงูุญูุงูุฉ / NAT.</i> <br><br>  ูุนุงูุฌุฉ ูุง ููู.  ูู ูุฐุง ุงููุซุงู ุ ุฎุฐ 10.0.240.0/24: <br><br><img src="https://habrastorage.org/webt/lz/3i/0e/lz3i0euak9ln8kfp1fmbwuobcdi.png"><br><blockquote style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃูู ุจุนุฏ ุฅูุดุงุก ุงููุฌููุนุฉ ุ ุณุชุญุชุงุฌ ุฅูู ุฅุฏุงุฑุชูุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ููู ุงููุณุชุญุณู ุฃู ูููู ูุฏูู VPN ูุน ุงูุชูุฌูู ุฅูู ุงูุดุจูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง.  ูุญู ูุณุชุฎุฏู ุทุจูุฉ ุงูููุงุจุณ ุงูุขููุฉ (SSL-VPN) ุงูุชู ุชู ุชูููููุง ูู Edge Gateway ูู ูุคุณุณุชูุง. </blockquote></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ุนููู CSE ุฅูู ุญูุซ ุณุชุชู ุฅุฏุงุฑุฉ ูุฌููุนุงุช k8s.  ูู ุญุงูุชู ุ ูุฐุง ุฌูุงุฒ ููุจููุชุฑ ูุญููู ูุนูู ูุงุซููู ูู ุงูุญุงููุงุช <s>ุงููุฎููุฉ ุฌูุฏูุง</s> ุงูุชู ุชุนูู ุนูู ุชูุฌูู ุงูุชุดุบูู ุงูุขูู. <br><br>  ูุชุทูุจ ุงูุนููู ุชุซุจูุช Python ุงูุฅุตุฏุงุฑ 3.7.3 ูุงูุฅุตุฏุงุฑุงุช ุงูุฃุญุฏุซ ููุญุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">vcd-cli</a> ูุซุจุชุฉ ุ ูุฐูู ุณูููู ุจุชุซุจูุช ูููููุง. <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">pip3 install vcd-cli pip3 install container-service-extension</code> </pre> </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชุซุจูุช ุ ุชุญูู ูู ุฅุตุฏุงุฑ CSE ูุงุญุตู ุนูู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># vcd cse version Error: No such command "cse".</code> </pre><br>  ุจุดูู ุบูุฑ ูุชููุน ุ ูููู ูุงุจู ููุชุซุจูุช. </li><li style=";text-align:right;direction:rtl">  ููุง ุงุชุถุญ ุ ูุญุชุงุฌ CSE ุฅูู ุซูู ููุญุฏุฉ ููุทูุฉ ุฅูู vcd-cli. <br>  ููููุงู ุจุฐูู ุ ูุฌุจ ุฃููุงู ุชุณุฌูู ุงูุฏุฎูู vcd-cli ุฅูู ููุธูุชูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># vcd login MyCloud.provider.com org-dev admin Password: admin logged in, org: 'org-dev', vdc: 'org-dev_vDC01'</code> </pre></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุชูุดุฆ vcd- <i>cli</i> ููู ุงูุชูููู <i>~ / .vcd-cli / profiles.yaml</i> <br>  ูู ููุงูุชู ุ ูุฌุจ ุนููู ุฅุถุงูุฉ ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">extensions: - container_service_extension.client.cse</code> </pre></li><li style=";text-align:right;direction:rtl">  ุซู ูุชุญูู ูุฑุฉ ุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># vcd cse version CSE, Container Service Extension for VMware vCloud Director, version 2.5.0</code> </pre></li></ol><br>  ูุฑุญูุฉ ุชุซุจูุช ุงูุนููู ูุงููุฉ.  ุฏุนูุง ูุญุงูู ูุดุฑ ุงููุฌููุนุฉ ุงูุฃููู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุดุฑ ุงููุชูุฉ </h2><br>  ููุฌุฏ ูู CSE ุนุฏุฉ ูุฌููุนุงุช ูู ูุนููุงุช ุงูุงุณุชุฎุฏุงู ุ ูููู ุงูุงุทูุงุน ุนูููุง ุฌููุนูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง.</a> <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูู ุจุฅูุดุงุก ุงูููุงุชูุญ ูููุตูู ุจุฏูู ูููุฉ ูุฑูุฑ ุฅูู ุงููุชูุฉ ุงููุณุชูุจููุฉ.  ูุฐู ุงูููุทุฉ ูููุฉ ุ ูุฃูู ุงูุชุฑุงุถููุง ุ ุณูุชู ุชุนุทูู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ุนูู ุงูุนูุฏ.  ูุฅุฐุง ูู ุชุญุฏุฏ ุงูููุงุชูุญ ุ ููููู ุงูุญุตูู ุนูู ุงููุซูุฑ ูู ุงูุนูู ูู ุฎูุงู ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ ููุฐุง ูุง ูุนูู ุฃูู ููุงุณุจ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># ssh-keygen Generating public/private rsa key pair. Enter file in which to save the key (/root/.ssh/id_rsa): Created directory '/root/.ssh'. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /root/.ssh/id_rsa. Your public key has been saved in /root/.ssh/id_rsa.pub.</code> </pre></li><li style=";text-align:right;direction:rtl">  ูุญุงูู ุงูุจุฏุก ูู ุฅูุดุงุก ูุชูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">vcd cse cluster create MyCluster --network k8s_cluster_net --ssh-key ~/.ssh/id_rsa.pub --nodes 3 --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-nfs</code> </pre> </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุญุตููุง ุนูู <i>ุฎุทุฃ: ุงูุชูุช ุงูุฌูุณุฉ ุฃู ูู ููู ุงููุณุชุฎุฏู ุจุชุณุฌูู ุงูุฏุฎูู.</i>  <i>ูุฑุฌู ุฅุนุงุฏุฉ ุชุณุฌูู ุงูุฏุฎูู.</i>  - ุชุณุฌูู ุงูุฏุฎูู vcd-cli ุฅูู vCloud ูุฑุฉ ุฃุฎุฑู ุ ููุง ูู ููุถุญ ุฃุนูุงู ุ ูุญุงูู ูุฑุฉ ุฃุฎุฑู. <br><br>  ูุฐู ุงููุฑุฉ ุ ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูุจุฏุฃุช ูููุฉ ุฅูุดุงุก ูุชูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">cluster operation: Creating cluster vApp <span class="hljs-string"><span class="hljs-string">'MyCluster'</span></span> (38959587-54f4-4a49-8f2e-61c3a3e879e0) from template <span class="hljs-string"><span class="hljs-string">'photon-v2_k8-1.12_weave-2.3.0'</span></span> (revision 1)</code> </pre></li><li style=";text-align:right;direction:rtl">  ุณูู ูุณุชุบุฑู ุญูุงูู 20 ุฏูููุฉ ูุฅููุงู ุงููููุฉ.  ูู ุบุถูู ุฐูู ุ ุณูููู ุจุชุญููู ูุนููุงุช ุงูุฅุทูุงู ุงูุฑุฆูุณูุฉ. <br><blockquote style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  - ุงูุดุจูุฉ - ุงูุดุจูุฉ ุงูุชู ุฃูุดุฃูุงูุง ูู ููุช ุณุงุจู. </li><li style=";text-align:right;direction:rtl">  - ููุชุงุญ - ุงูููุงุชูุญ - ุงูุชู ุฃูุดุฃูุงูุง ุ ูุงูุชู ุณูุชู ูุชุงุจุชูุง ุฅูู ุงูุนูุฏ ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  - ุงูุนูุฏ n - ุนุฏุฏ ุนูุฏ ุงูุนุงูู ูู ุงููุชูุฉ.  ุณูููู ููุงู ุฏุงุฆููุง ูุนุงูุฌ ูุงุญุฏ ุ ููุฐุง ูู ุฃุญุฏ ูููุฏ CSE. </li><li style=";text-align:right;direction:rtl">  - ุชูููู - nfs - ุฅูุดุงุก ุนูุฏุฉ ุฅุถุงููุฉ ููุฑุงุช NFS ุชุญุช ูุญุฏุงุช ุงูุชุฎุฒูู ุงูุซุงุจุชุฉ.  ููููุงู ูู ุฎูุงุฑ ุงูุฏูุงุณุฉ ุ ุณูุนูุฏ ูุงุญููุง ูุถุจุท ูุง ููุนูู. </li></ul><br></blockquote></li><li style=";text-align:right;direction:rtl">  ููู ุงูููุช ููุณู ุ ูู vCloud ุ ููููู ูุฑุงูุจุฉ ุฅูุดุงุก ุงููุชูุฉ ุจุดูู ูุฑุฆู. <br><br><img src="https://habrastorage.org/webt/x0/ni/qk/x0niqksfidmbunupuflf61u7qww.png"></li><li style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุงูุชูุงู ูููุฉ ุฅูุดุงุก ูุชูุฉ ุ ุชุตุจุญ ุฌุงูุฒุฉ ููุนูู. </li><li style=";text-align:right;direction:rtl">  ุชุญูู ูู ุงููุดุฑ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <i>vcd cse cluster info MyCluster</i> . <br><br><img src="https://habrastorage.org/webt/fx/4m/tj/fx4mtj6uzscxl3pns7shd8lni6a.png"></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุชูููู ุงููุชูุฉ ูุงุณุชุฎุฏุงู <i>kubectl</i> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># vcd cse cluster config MyCluster &gt; ./.kube/config</code> </pre></li><li style=";text-align:right;direction:rtl">  ูููููู ุงูุชุญูู ูู ุญุงูุฉ ุงููุชูุฉ ุงูุชู ุชุณุชุฎุฏููุง: <br><br><img src="https://habrastorage.org/webt/vu/1k/58/vu1k58dcahsedsulmu_vixrstge.png"></li></ol><br><h2 style=";text-align:right;direction:rtl">  ููุณ ุจูุฐู ุงูุจุณุงุทุฉ </h2><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููู ุงุนุชุจุงุฑ ุงููุฌููุนุฉ ุนุงููุฉ ุจุดุฑูุท ุ ุฅู ูู ููู ูููุตุฉ ุฐุงุช ุงููุฌูุฏุงุช ุงูุซุงุจุชุฉ.  ูุธุฑูุง ูุฃููุง ูู vCloud ุ ูุณูู ููุดู ุงุณุชุฎุฏุงู vSphere Provider.  ุชู ุชุตููู ุงูุฎูุงุฑ <i>- ุชูููู nfs</i> ูุชูุฏุฆุฉ ูุฐู ุงููุดููุฉ ุ ูููู ูู ููุฌุญ ูู ุงูููุงูุฉ.  ุถุจุท ูุฏูู ูู ูุทููุจ. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ุชุญุชุงุฌ ุงูุนูุฏุฉ ุงูุฎุงุตุฉ ุจูุง ุฅูู ุฅูุดุงุก ูุฑุต ูุณุชูู ูููุตู ูู vCloud.  ูุฐุง ูุถูู ุฃู ุจูุงูุงุชูุง ูุง ุชุฎุชูู ูุน ุงููุชูุฉ ุฅุฐุง ุชู ุญุฐููุง.  ุฃูุถุง ุ ูู ุจุชูุตูู ูุญุฑู ุงูุฃูุฑุงุต ุฅูู NFS. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># vcd disk create nfs-shares-1 100g --description 'Kubernetes NFS shares' # vcd vapp attach mycluster nfsd-9604 nfs-shares-1</code> </pre></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุฐูุจ ุนุจุฑ ssh (ูู ููุช ุจุงููุนู ุจุฅูุดุงุก ุงูููุงุชูุญุ) ุฅูู ุนูุฏุฉ NFS ุงูุฎุงุตุฉ ุจูุง ูุฃุฎูุฑุงู ุชูุตูู ุงููุฑุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">root@nfsd-9604:~# parted /dev/sdb (parted) mklabel gpt Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to continue? Yes/No? yes (parted) unit GB (parted) mkpart primary 0 100 (parted) print Model: VMware Virtual disk (scsi) Disk /dev/sdb: 100GB Sector size (logical/physical): 512B/512B Partition Table: gpt Disk Flags: Number Start End Size File system Name Flags 1 0.00GB 100GB 100GB primary (parted) quit root@nfsd-9604:~# mkfs -t ext4 /dev/sdb1 Creating filesystem with 24413696 4k blocks and 6111232 inodes Filesystem UUID: 8622c0f5-4044-4ebf-95a5-0372256b34f0 Superblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624, 11239424, 20480000, 23887872 Allocating group tables: done Writing inode tables: done Creating journal (32768 blocks): done Writing superblocks and filesystem accounting information: done</code> </pre></li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ุฏููู ููุจูุงูุงุช ููู ุจุชุญููู ูุณู ุฌุฏูุฏ ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mkdir /export echo '/dev/sdb1 /export ext4 defaults 0 0' &gt;&gt; /etc/fstab mount -a</code> </pre></li><li style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก ุฎูุณุฉ ุฃูุณุงู ุงุฎุชุจุงุฑ ููุดุงุฑูุชูุง ูููุฌููุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">&gt;<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> &gt;mkdir vol1 vol2 vol3 vol4 vol5 &gt;vi /etc/exports <span class="hljs-comment"><span class="hljs-comment">#     /export/vol1 *(rw,sync,no_root_squash,no_subtree_check) /export/vol2 *(rw,sync,no_root_squash,no_subtree_check) /export/vol3 *(rw,sync,no_root_squash,no_subtree_check) /export/vol4 *(rw,sync,no_root_squash,no_subtree_check) /export/vol5 *(rw,sync,no_root_squash,no_subtree_check) #:wq! ;) # -   &gt;exportfs -r</span></span></code> </pre></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ูู ูุฐุง ุงูุณุญุฑ ุ ููููู ุฅูุดุงุก PV ู PVC ูู ูุฌููุนุชูุง ูุซู ูุฐุง: <br><br>  <b>PV</b> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">cat &lt;&lt;EOF | kubectl apply -f - apiVersion: v1 kind: PersistentVolume metadata: name: nfs-vol1 spec: capacity: storage: 10Gi accessModes: - ReadWriteMany nfs: <span class="hljs-comment"><span class="hljs-comment"># Same IP as the NFS host we ssh'ed to earlier. server: 10.150.200.22 path: "/export/vol1" EOF</span></span></code> </pre><br>  <b>PVC</b> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">cat &lt;&lt;EOF | kubectl apply -f - apiVersion: v1 kind: PersistentVolumeClaim metadata: name: nfs-pvc spec: accessModes: - ReadWriteMany storageClassName: <span class="hljs-string"><span class="hljs-string">""</span></span> resources: requests: storage: 10Gi EOF</code> </pre></li></ol><br>  ูู ูุฐุง ุ ุชูุชูู ูุตุฉ ุฅูุดุงุก ูุฌููุนุฉ ูุงุญุฏุฉ ูุชุจุฏุฃ ูุตุฉ ุฏูุฑุฉ ุญูุงุชูุง.  ุนูู ุณุจูู ุงูููุงูุฃุฉ ุ ููุงู ุฃูุฑุงู ุฃูุซุฑ ูุงุฆุฏุฉ ูู CSE ูุณูุญุงู ูู ุจุชูููุฑ ุงูููุงุฑุฏ ูู ุจุนุถ ุงูุฃุญูุงู <s>ุฃู ูุง</s> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    8   &gt;cse cluster resize MyCluster --network k8s_cluster_net --nodes 8 #         &gt;vcd cse node delete MyCluster node-1a2v node-6685 --yes</span></span></code> </pre><br>  ุดูุฑุง ููู ุฌููุนุง ุนูู ููุชู ุ ุฅุฐุง ูุงู ูุฏูู ุฃุณุฆูุฉ - ุงุณุฃู ูู ุงูุชุนูููุงุช. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472752/">https://habr.com/ru/post/ar472752/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472738/index.html">ููููุฉ ุชุฑููุฉ ูุดุฑูุน ููุฌูุฏ ูู ASP.NET MVC ุฅูู ASP.NET Core. ุฏููู ุนููู</a></li>
<li><a href="../ar472744/index.html">MRP ูุง ูุนูู ... ูุง ูู ุงูุจุฏููุ</a></li>
<li><a href="../ar472746/index.html">ุงูุฎุงุฏู ุงูุทุฑูู ูููุดุฑู ููุณุช ูุฌูุฉ SSH ูุงุญุฏุฉ</a></li>
<li><a href="../ar472748/index.html">ูุชุตูุญ ุงูุฏูุงูู ุฃู ุงูุญูุงุฉ ุจุฏูู ููุงูุน</a></li>
<li><a href="../ar472750/index.html">ุญุณููุง ุ ูู ุฃุญุชุงุฌ ุญููุง ุฅูู Kubernetesุ</a></li>
<li><a href="../ar472754/index.html">ููู ุชุชุญุฏุซ ุงูุงูุฌููุฒูุฉ ูู ุดูุฑ. 9 ุฎุทูุงุช ุณููุฉ ูุซุจุช</a></li>
<li><a href="../ar472758/index.html">ุงูุชุฑุงุญ: ูุญุงููุฉ - ุงููุฏูุฌ ูู ูุธููุฉ ุงูุชุญูู ูู ุงูุฎุทุฃ</a></li>
<li><a href="../ar472760/index.html">ุชูููู ููุช ุงูุญูุณุจุฉ ูู ุจุถุน ุณููุงุช ุฅูู ุฏูุงุฆู. ููู ุชุนูู ุขูุฉ ุงููู</a></li>
<li><a href="../ar472762/index.html">ุงูุชุญููู ุงูููู ูู checkm8 ุงุณุชุบูุงู</a></li>
<li><a href="../ar472766/index.html">ุงููุนููุฉ ูู ุงูููู ูู py.test</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>