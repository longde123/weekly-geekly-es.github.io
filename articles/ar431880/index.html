<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฅ ๐๐ผ ๐๐ฝ ุนุฐุงุจ SceneKit. ุชุฌุฑุจุฉ ูุงูุฏูุณ ูุน 3D ุงูุฑุณููุงุช ูู ุฏุงุฆุฑุฉ ุงูุฑูุงุจุฉ ุงูุฏุงุฎููุฉ ๐ต๐ป ๐บ ๐ด๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- ุฃูุง ุฃุตุบุฑ ูู ุฃู ุฃููุช. 


 SceneKit ูู ุฅุทุงุฑ ุฑุณููุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุนุงูู ุงููุณุชูู ูู iOS ูุณุงุนุฏ ูู ุฅูุดุงุก ูุดุงูุฏ ูุชุฃุซูุฑุงุช ูุชุญุฑูุฉ. ูุชุถูู ูุญุฑููุง ูุนูููุง ููููุฏ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุนุฐุงุจ SceneKit. ุชุฌุฑุจุฉ ูุงูุฏูุณ ูุน 3D ุงูุฑุณููุงุช ูู ุฏุงุฆุฑุฉ ุงูุฑูุงุจุฉ ุงูุฏุงุฎููุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431880/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <i>- ุฃูุง ุฃุตุบุฑ ูู ุฃู ุฃููุช.</i> </p><br><p style=";text-align:right;direction:rtl">  SceneKit ูู ุฅุทุงุฑ ุฑุณููุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุนุงูู ุงููุณุชูู ูู iOS ูุณุงุนุฏ ูู ุฅูุดุงุก ูุดุงูุฏ ูุชุฃุซูุฑุงุช ูุชุญุฑูุฉ.  ูุชุถูู ูุญุฑููุง ูุนูููุง ููููุฏ ุฌุณููุงุช ููุฌููุนุฉ ูู ุงูุฅุฌุฑุงุกุงุช ุงูุจุณูุทุฉ ูููุงุฆูุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุงูุชู ุชุณูุญ ูู ุจูุตู ุงููุดูุฏ ูู ุญูุซ ุงููุญุชูู - ุงูููุฏุณุฉ ุ ูุงูููุงุฏ ุ ูุงูุฅุถุงุกุฉ ุ ูุงููุงููุฑุงุช - ูุชุญุฑููู ูู ุฎูุงู ูุตู ุงูุชุบููุฑุงุช ููุฐู ุงููุงุฆูุงุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/de8/eb3/a60/de8eb3a6080bb48be4f407c07d1b122a.gif"></p><br><p style=";text-align:right;direction:rtl"> ุณููุธุฑ ุงูููู ุฅูู SceneKit ุจูุธูุฑ ููุชุจู ุดุฏูุฏ ุงูููุฌุฉ ุ ูููู ุฃููุงู ุ ุฏุนูุง ูุฐูุจ ุฅูู ุงูุฃุณุงุณูุงุช ููุฑู ููู ูุจุฏู ุงููุดูุฏ ุซูุงุซู ุงูุฃุจุนุงุฏ ููุง ูุฌุจ ุงูููุงู ุจู ูุฅูุดุงุก ุฐูู. <a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1fa/7d7/138/1fa7d71381bc0f217fe6ddff8a08e77f.png" alt="ุฃุจุณุท ูุดูุฏ ูู ุซูุงุซุฉ ุงูุนูุฏ"><br>  <em>ุฃุจุณุท ูุดูุฏ ูู ุซูุงุซุฉ ุงูุนูุฏ ูุน ุงูููุฏุณุฉ ูููุง</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุฅูุดุงุก ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ูููุดูุฏ ุ ูุงูุชู ุชุชููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูุฏ</a> ุฃู ุงูุนูุฏ ุงูุฎุงุตุฉ ุจุงููุดูุฏ.  ูููู ุฃู ุชุญุชูู ูู ุนูุฏุฉ ุนูู ููุฏุณุฉ ูุนูุฏ ุฃุฎุฑู.  ูููู ุฃู ุชููู ุงูููุฏุณุฉ ุฅูุง ุจุณูุทุฉ ุ ูุซู ูุฑุฉ ุฃู ููุนุจ ุฃู ูุฑู ุฃู ุฃูุซุฑ ุชุนููุฏูุง ุชู ุฅูุดุงุคูุง ูู ุจุฑุงูุฌ ุชุญุฑูุฑ ุฎุงุฑุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a9c/dd6/3ae/a9cdd63aeb3c662009d721feff5a2fa2.png" alt="ุชุฑุงูุจ ุงูููุงุฏ"><br>  <em>ุชุฑุงูุจ ุงูููุงุฏ</em> </p><br><p style=";text-align:right;direction:rtl">  ุซู ุ ุจุงููุณุจุฉ ููุฐู ุงูููุฏุณุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงุฏ</a> ุงูุชู ุณุชุญุฏุฏ ุงูุชูุซูู ุงูุฃุณุงุณู ูููุงุฆูุงุช.  ุชููู ูู ูุงุฏุฉ ุจููุณูุง ุจุชุนููู ุทุฑุงุฒ ุงูุฅุถุงุกุฉ ุงูุฎุงุต ุจูุง ุ ูููููุง ูุฐูู ุ ุชุณุชุฎุฏู ูุฌููุนุฉ ูุฎุชููุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุตุงุฆุต</a> .  ูู ูุฐู ุงูุฎุตุงุฆุต ุนุงุฏุฉ ูุง ุชููู ููููุง ุฃู ูุณูุฌูุง ุ ูููู ุจุงูุฅุถุงูุฉ ุฅูู ูุฐู ุงูุฎูุงุฑุงุช ุงูุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู ุ ููุงู ุฃูุถูุง ุฎูุงุฑ ูุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CALayer</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AVPlayer</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SKScene</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0c1/ca5/831/0c1ca58318327b07263caf4f9d67ea63.png" alt="ุฅุถุงูุฉ ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ"><br>  <em>ุฅุถุงูุฉ ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูู ุงูุถุฑูุฑู ุฅุถุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฏุฑ ุถูุฆูุฉ</a> ุชุญุฏุฏ ูุฏู ุฑุคูุฉ ุงููุงุฆูุงุช ูู ุฌุฒุก ุฃู ุขุฎุฑ ูู ุงููุดูุฏ.  ุฅููู ุ ุจููุงุณ ุงูููุฏุณุฉ ุ ูุฌุจ ุฃู ููุนูุง ุฏุงุฎู ุนูุฏุฉ.  ูุฏุนู SceneKit ุงูุนุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุฃููุงุน ุงูุฅุถุงุกุฉ</a> ุงููุฎุชููุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุฃููุงุน ุงูุธูุงู</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c16/a8e/f8e/c16a8ef8ebcfb7242eef1d8142b70dea.png" alt="ูู ุฎุงุฑุฌ ููุทูุฉ ุงูุฌุฒุงุก"><br>  <em>ูู ุฎุงุฑุฌ ููุทูุฉ ุงูุฌุฒุงุก ุชุฃุซูุฑ ุจูู</em> </p><br><p style=";text-align:right;direction:rtl">  ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงููุฑุง</a> (ููุถุนูุง ูู ุนูุฏุฉ ูููุตูุฉ) ูุชุนููู ุงููุนููุงุช ุงูุฃุณุงุณูุฉ ููุง.  ููุงู ุงููุซูุฑ ูููู ุ ูููู ุจูุณุงุนุฏุฉ ูููู ููููู ุฅูุดุงุก ุชุฃุซูุฑุงุช ุฑุงุฆุนุฉ.  ูู ุฎุงุฑุฌ ุงูุตูุฏูู ุ ูุชู ุฏุนู ุฎูุฎู (ุฃู ุทูุณ) ุ ููุฏุนู HDR ูุน ุงูุชููู ุ ุชููุฌ ุ SSAO ุ ูุชุนุฏููุงุช ููู / ุชุดุจุน. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/76f/62c/908/76f62c908bda6280380c922e3a1e8ca3.gif" alt="ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฃุซุงุซ ูู SceneKit"><br>  <em>ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุจุณูุทุฉ ูู SceneKit</em> </p><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ูุชุถูู SceneKit ูุฌููุนุฉ ุจุณูุทุฉ ูู ุงูุฅุฌุฑุงุกุงุช ูููุงุฆูุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุชุชูุญ ูู ุชุนููู ุชุบููุฑุงุช ุงููุดูุฏ ูุน ูุฑูุฑ ุงูููุช.  ูุฏุนู SceneKit ุฃูุถูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุฌุฑุงุกุงุช ุงูููุถุญุฉ ูู JavaScript</a> ุ ูููู ูุฐุง ููุถูุน ูููุงู ูููุตู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/08c/0dc/2e4/08c0dc2e44e627e369af7dea6f18d27d.gif" alt="ูููู ุฃู ูููู ุชูุงุนู ูููุฏ ุงูุฌุณููุงุช ูุน ูุญุฑู ูุงุฏู ุฅูู ุญุฏูุซ ุฃุนุงุตูุฑ!"><br>  <em>ูููู ุฃู ูุคุฏู ุชูุงุนู ูููุฏ ุงูุฌุณููุงุช ูุน ูุญุฑู ูุงุฏู ุฅูู ุฅุนุตุงุฑ!</em> </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฑุณููุงุช ุ ูุฅู ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ูู SceneKit ูู ูููุฏ ุงูุฌุณููุงุช ูุงููุญุฑู ุงูููุฒูุงุฆู ุงููุชูุฏู ุงูุฐู ูุณูุญ ูู ุจุชุนููู ุงูุฎุตุงุฆุต ุงูููุฒูุงุฆูุฉ ุงูุญููููุฉ ููู ูู ุงููุงุฆูุงุช ุงูุนุงุฏูุฉ ูุงูุฌุฒูุฆุงุช ูู ุงููููุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุชู ูุชุงุจุฉ ุนุฏุฏ ูุจูุฑ ูู ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ ุงูููุตูุฉ ุญูู ูู ูุฐู ุงูููุฒุงุช.  ููู ูู ุนูููุฉ ุงูุชุทููุฑ ุ ูู ูุณุชุฎุฏู ูุฐู ุงููุฑุต ุนูููุง ... </p><br><h2 id="hey-not-too-rough" style=";text-align:right;direction:rtl">  <strong>ูููุง ุ ููุณุช ุตุนุจุฉ ููุบุงูุฉ</strong> </h2><br><blockquote style=";text-align:right;direction:rtl">  <em>ุจูุฌุฑุฏ ุฃู ูุชุจุช ูููุฐุฌ ุฅุถุงุกุฉ ููุฃูุนุงุจ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุฃูุถู ูู ุถูุก ุงูุดูุณ ุงูุญูููู ุ ูุฃุนุทู FPS ููุจูููุง ุนูู Nvidia 8800 ุ ููููู ูุฑุฑุช ุนุฏู ุฅุทูุงู ุงููุญุฑู ุ ูุฃู ุงููู ูุทูู ุจุงููุณุจุฉ ูู ููุง ุฃุฑูุฏ ุฅุธูุงุฑ ุนุฏู ุฃูููุชู ูู ูุฐุง ุงูุฃูุฑ.</em> <br>  <em>- ุฌูู ูุงุฑูุงู</em> </blockquote><p style=";text-align:right;direction:rtl">  ุณูุจุฏุฃ ุฏุฑุงุณุฉ ููุตูุฉ ุจูููุฉ ุจุณูุทุฉ ุฅูู ุญุฏ ูุง ุชูุดุฃ ููู ุดุฎุต ูุนูู ุจุฌุฏูุฉ ูุน SceneKit: ููู ูููู ุชุญููู ูููุฐุฌ ุจููุฏุณุฉ ูุนูุฏุฉ ูุงูููุงุฏ ุงููุชุตูุฉ ูุงูุฅุถุงุกุฉ ูุญุชู ุงูุฑุณูู ุงููุชุญุฑูุฉุ </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุนุฏุฉ ุทุฑู ุ ูููู ุฌููุนุง ุฅูุฌุงุจูุงุช ูุณูุจูุงุช: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  SCNScene (ุงุณูู :) - ูุญุตู ุนูู ูุดูุฏ ูู ุญุฒูุฉ ุ </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  SCNScene (ุนููุงู url: options :) - ูููู ุจุชุญููู ุงููุดูุฏ ุจูุงุณุทุฉ ุนููุงู URL ุ </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  SCNScene (mdlAsset :) - ูุญูู ูุดูุฏ ูู ุชูุณููุงุช ูุฎุชููุฉ ุ </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  SCNReferenceNode (url :) - ูุญููู ุงููุดูุฏ ุจุชูุงุณู. </p><br></li></ol><br><h3 id="poluchaem-scenu-iz-bandla" style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ุงููุดูุฏ ูู ุงูุญุฒูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทุฑููุฉ ุงูููุงุณูุฉ</a> : ุถุน ูููุฐุฌูุง ูู ุชูุณูู dae ุฃู scn ูู ุญุฒูุฉ scnassets ููู ุจุชุญูููู ูู ููุงู ุนู ุทุฑูู ุงูููุงุณ ุจุงุณุชุฎุฏุงู UIImage (ุงุณูู :). </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ููุช ุชุฑุบุจ ูู ุงูุชุญูู ูู ุชุญุฏูุซ ุงูุทุฑุฒ ุจููุณู ุฏูู ุฅุตุฏุงุฑ ุชุญุฏูุซ ูู ูุชุฌุฑ ุงูุชุทุจููุงุช ูู ูู ูุฑุฉ ุชุญุชุงุฌ ูููุง ุฅูู ุชุบููุฑ ุจุนุถ ุงูููุงูุ  ุฃู ุงูุชุฑุถ ุฃูู ุจุญุงุฌุฉ ุฅูู ุฏุนู ุงูุฎุฑุงุฆุท ูุงูููุงุฐุฌ ุงูุชู ุฃูุดุฃูุง ุงููุณุชุฎุฏููู.  ุฃู - ุฃูู ุจุจุณุงุทุฉ ูุง ุชุฑูุฏ ุฒูุงุฏุฉ ุญุฌู ุงูุชุทุจูู ุ ูุฃู ุงูุฑุณููุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ููู ููุณุช ุงููุธููุฉ ุงูุฑุฆูุณูุฉ. </p><br><h3 id="zagruzhaem-scenu-po-url" style=";text-align:right;direction:rtl">  ุชุญููู ุงููุดูุฏ ุนู ุทุฑูู URL </h3><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุดุฆ ุงููุดูุฏ ูู ุนููุงู URL</a> ูููู scn.  ุชุฏุนู ูุฐู ุงูุทุฑููุฉ ุงูุชูุฒูู ููุณ ููุท ูู ูุธุงู ุงููููุงุช ุ ูููู ุฃูุถูุง ูู ุงูุดุจูุฉ ุ ูููู ูู ุงูุญุงูุฉ ุงูุฃุฎูุฑุฉ ุ ููููู ูุณูุงู ุงูุถุบุท.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุญููู ุงููููุฐุฌ ุฅูู ุชูุณูู scn ููุฏููุง.  ููููู ุจุงูุทุจุน ุงุณุชุฎุฏุงู ุฏุงู ุ ูููู ูุน ุฐูู ุชุฃุชู ูุฌููุนุฉ ูู ุงููููุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ุนุฏู ูุฌูุฏ ุงูุชูุฏูู ุงูุจุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ููุฐู ุงูุทุฑููุฉ ูู ุฃููุง ุชุชูุญ ูู ุชูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุนุฏุงุฏุงุช ุงูุงุณุชูุฑุงุฏ</a> ุจูุฑููุฉ.  ููููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุนุฏูู ุฏูุฑุฉ ุญูุงุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุฌุนููุง ุชุชูุฑุฑ ุฅูู ูุง ูุง ููุงูุฉ.  ููููู ุชุญุฏูุฏ ูุตุฏุฑ ุชุญููู ุงูููุงุฑุฏ ุงูุฎุงุฑุฌูุฉ ุจุดูู ุตุฑูุญ ูุซู ุงูููุงู ุ ูููููู ุชุญููู ุงุชุฌุงู ุงููุดูุฏ ูุญุฌูู ุ ูุฅูุดุงุก ูุนุงููุฑ ุทุจูุนูุฉ ููููุฏุฉ ููููุฏุณุฉ ุ ูุฏูุฌ ููุฏุณุฉ ุงููุดูุฏ ุจุงููุงูู ูู ุนูุฏุฉ ูุงุญุฏุฉ ูุจูุฑุฉ ุฃู ุชุฌุงูู ุฌููุน ุนูุงุตุฑ ุงููุดูุฏ ุงูุชู ูุง ุชุชูุงูู ูุน ูุนูุงุฑ ุงูุชูุณูู. </p><br><h3 id="konvertiruem-scenu-iz-raznyh-formatov" style=";text-align:right;direction:rtl">  ุชุญููู ูุดูุฏ ูู ุตูุบ ูุฎุชููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุซุงูุซ ูู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุดุฆ ูุน MDLAsset</a> .  ูุฐุง ูู ุ ุฃููุงู ุ ููุดุฆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MDLAsset</a> ุ ุงููุชููุฑ ูู Modelio Framework ุ ุซู ููุฑุฑู ุฅูู ุงูููุดุฆ ูููุดูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุฎูุงุฑ ุฌูุฏ ูุฃูู ูุณูุญ ูู ุจุชูุฒูู ุงูุนุฏูุฏ ูู ุงูุชูุณููุงุช ุงููุฎุชููุฉ.  ูู ุงููุงุญูุฉ ุงูุฑุณููุฉ ุ ูููู ูู MDLAsset ุชุญููู ุงูุชูุณููุงุช obj ู ply ู stl ู usd ุ ููู ุจุนุฏ ููุงุฏ ูุงุฆูุฉ ุจุฌููุน ุงูุชูุณููุงุช ุงูููููุฉ ุ ุนูู ุงูุฃูู ุฐุงุช ุงูุตูุฉ ุจุทุฑููุฉ ูุง ุจุฑุณููุงุช ุงูููุจููุชุฑ ุ ูุฌุฏุช ุฃุฑุจุนุฉ ุฃุฎุฑู: abc ู bsp ู vox ู md3 ุ ููู ูุฏ ูุง ุชููู ูุฏุนููุฉ ุจุงููุงูู ุฃู ูุง ูู ุฌููุน ุงูุฃูุธูุฉ ุ ูููู ุชุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุตุญุฉ ุงูุงุณุชูุฑุงุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุถุฑูุฑู ุฃูุถูุง ูุฑุงุนุงุฉ ุฃู ูุฐู ุงูุทุฑููุฉ ููุง ุชูุงููู ููุชุญููู ุ ูุงุณุชุฎุฏุงููุง ุจุนูุงูุฉ ูุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุชูู ูุฐู ุงูุทุฑู ุนูู ูุฃุฒู ุดุงุฆุน ูุงุญุฏ: ููู ุชูุฑุฌุน SCNScene ุ ูููุณ SCNNode.  ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูุฅุถุงูุฉ ูุญุชูู ุฅูู ูุดูุฏ ููุฌูุฏ ูู ูุณุฎ ุฌููุน ุงูุนูุฏ ุงููุฑุนูุฉ - ูููููู ุจุณูููุฉ ุชุฎุทู ูุฐู ุงูุฎุทูุฉ - ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุนูุฏุฉ ุงูุฌุฐุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ุชุธูุฑ ููุงู ุนูุฏ ุงูุนูู ูุน ุฏุงู).  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชุนูู ุนููู ูุฑุงุนุงุฉ ุฃูู ูู ุงููุดูุฏ ูุง ูููู ุฃู ุชูุฌุฏ ุณูู ุจูุฆุฉ ูุณูุฌ ูุงุญุฏุฉ (ุฅุฐุง ููุช ูุง ุชุณุชุฎุฏู ุชุธูููุงุช ูุฎุตุตุฉ ููุงูุนูุงุณุงุช). </p><br><h3 id="lenivo-zagruzhaem-scenu" style=";text-align:right;direction:rtl">  ุชุญููู ูุณูู ุงููุดูุฏ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุฑุงุจุน ูู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SCNReferenceNode</a> .  ูุง ููุฑุฌุน ูุฐุง ุงููุดูุฏ ุ ูููู ุงูุนูุฏุฉ ุ ุงูุชู ูููููุง ูู ุญุฏ ุฐุงุชูุง (ุฃู ุจูุงุกู ุนูู ุทูุจ) ุ ุชุญููู ุงูุชุณูุณู ุงููุฑูู ูููุดูุฏ ุจุฃูููู.  ูุจุงูุชุงูู ุ ูุฅู ูุฐู ุงูุทุฑููุฉ ุชุดุจู ุงูุทุฑููุฉ ุงูุฃููู ุ ููููุง ุชุฎูู ุฏุงุฎููุง ุฌููุน ูุดููุงุช ุงููุณุฎ. </p><br><p style=";text-align:right;direction:rtl">  ูุฏูู ุดูุก ูุงุญุฏ ูููู: ุงููุนุงููุฑ ุงูุนุงูููุฉ ูููุดูุฏ ุชุถูุน. </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ูุฐู ูู ุงูุทุฑููุฉ ุงูุฃุณูู ูุงูุฃุณุฑุน ูุชูุฒูู ุงููููุฐุฌ ุงูุฎุงุต ุจู ุ ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุถุจุท ุงููููุงุช ุ ูุณุชููู ุงูุทุฑููุฉ ุงูุฃููู ุฃูุถู. </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุงุณุชูุฑูุง ุนูู ุงูุฎูุงุฑ ุงูุฃูู ุ ุญูุซ ูุงู ูู ุงูุฃูุณุจ ููุง ุงูุนูู ูู ุชูุณูู scn ุ ููููุตูููู - ููุชุญููู ูู ุชูุณูู dae ุฅููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญุชุงุฌ ุฅูู ุถุจุท ุฑุณูู ูุชุญุฑูุฉ ูููููุงุช ุฃุซูุงุก ุงูุชูููุฏ. </p><br><h3 id="vovse-ne-prezhdevremennye-optimizacii" style=";text-align:right;direction:rtl">  ููุณ ุนูู ุงูุฅุทูุงู ุชุญุณููุงุช ุณุงุจูุฉ ูุฃูุงููุง </h3><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ุชุนุงููุช ูุน ูุฐู ุงูุนูููุฉ ููุชุฑุฉ ุทูููุฉ ุ ูููููู ุฃู ุฃูุฏู ููู ุจุนุถ ุงููุตุงุฆุญ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุทุฑู ุงูุฃูุซุฑ ุฃูููุฉ ูู ุชุญููู ุงููููุงุช ุฅูู scn ููุฏูุง.  ุจุนุฏ ุฐูู ููููู ุ ูู ุฎูุงู ูุชุญ ุงูููู ูู ูุญุฑุฑ ุงููุดูุฏ ุงููุถูู ูู Xcode ุ ูุนุฑูุฉ ููู ุณูุจุฏู ุงููุงุฆู ูู SceneKit. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุงููุงูุน ุ ูุฅู ููู scn ูู ูุฌุฑุฏ ุชูุซูู ุซูุงุฆู ูููุดูุฏ ุ ูุฐูู ุณูุณุชุบุฑู ุงูุชุญููู ููู ุฃูู ููุช.  ูููุณ ุฏุงู ุ ูุฌุจ ุนููู ุฃููุงู ุชุญููู XML ุ ุซู ุชุญููู ุฌููุน ุงูุดุจูุงุช ูุงูุฑุณูู ุงููุชุญุฑูุฉ ูุงูููุงุฏ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุนุฏ ุชุญููู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุงูููุงุฏ ูุตุฏุฑุงู ูุญุชููุงู ูููุดุงูู.  ูุชุฐูุฑ ุนุฏู ูุฌูุฏ ุฏุนู PBR ูู ุฏุงู: ุงุชุถุญ ุฃูู ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุฎุฏุงูู ุ ูุณูุชุนูู ุนููู ุชุบููุฑ ููุน ุฌููุน ุงูููุงุฏ ุจุนุฏ ุงูุชุญููู ููุถุน ุงูููุงู ุงูููุงุณุจ ูุฏูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุน ูุฐู ุงูุนูููุฉ ุ ููููู ุงูุญุตูู ุนูู ุชุฃุซูุฑ ุฌุงูุจู ูููุฏ ููุบุงูุฉ: ุถุบุท ูุณูุฌ ูุจูุฑ.  ูููู ูุชุญูุง ูู "ุงูุนุฑุถ" ูุงูุชุตุฏูุฑ ุ ูุชุบููุฑ ุงูุชูุณูู ุฅูู heic.  ูู ุงููุชูุณุท โโุ ููุฑุช ูุฐู ุงูุนูููุฉ ุงูุจุณูุทุฉ 5 ููุบุงุจุงูุช ููู ูููุฐุฌ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ุฅุฐุง ููุช ุชููู ุจุชูุฒูู ูุดูุฏ ูู ุงูุฅูุชุฑูุช ุ ููููููู ุฃู ุฃูุตุญู ุจุชูุฒููู ูู ุงูุฃุฑุดูู ููู ุถุบุทู ูููู ุนููุงู URL ูููู scn ุงูุฐู ุชู ูู ุญุฒูู.  ูุฐุง ุณูููุฑ ูู ูุงููุณุชุฎุฏู ููุบุงุจุงูุช ุฅุถุงููุฉ - ูุงูุฐู ุจุฏูุฑู ุณูู ูุณุฑุน ุงูุชูุฒูู ุ ููููู ุฃูุถูุง ุนุฏุฏ ููุงุท ุงููุดู.  ููุงูู: ูุง ูุนุฏ ุชูุฏูู ุทูุจ ูููุตู ููู ููุฑุฏ ุฎุงุฑุฌู ุ ูุญุชู ุนูู ุงูุฅูุชุฑูุช ุนุจุฑ ุงููุงุชู ุงููุญููู ุ ุฃูุถู ุทุฑููุฉ ูุฒูุงุฏุฉ ุงูููุซูููุฉ. </p><br><h2 id="hurt-me-plenty" style=";text-align:right;direction:rtl">  <strong>ูุคุฐููู ูุซูุฑุง</strong> </h2><br><blockquote style=";text-align:right;direction:rtl">  <em>ุนูุฏูุง ุฃููุฏ ุณูุงุฑุฉ ุ ุฃุณูุน ุบุงูุจูุง ุงููุฑุต ุงูุตูุจ ูุตุฏุน ุงูููู ุ ูุฃุชุญูููู ูู ุงูุดุงุฑุน ุงูุชุงูู.</em> <br>  <em>- ุฌูู ูุงุฑูุงู</em> </blockquote><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุนูุฏูุง ูุชู ูุถุน ููุงุฐุฌ ุชุญููู ูุงุณุชูุฑุงุฏ ุงูุจุซ ุ ุชุธูุฑ ูููุฉ ุฌุฏูุฏุฉ: ุฅุถุงูุฉ ุชุฃุซูุฑุงุช ูููุฒุงุช ูุชููุนุฉ ุฅูู ุงููุดูุฏ.  ูุตุฏูููู ุ ููุงู ุดูุก ุฃุฎุจุฑ ุนูู.  ูุจุฏุฃ ุจุงููุฑูุฑ ุนุจุฑ ุงูุซูุงุจุช ุงููุฎุชููุฉ ูู SceneKit. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/c0e/ffd/1e3c0effdc9c72b19d6e3d0a19a13796.png" alt="ุชุนุชุจุฑ ุงููููุฏ ูู SceneKit ูุจุงุดุฑุฉ ุจุนุฏ ุงูููุฒูุงุก.  ู ุชูุฏูู ุงูุฅุทุงุฑ"><br>  <em>ุชุนุชุจุฑ ุงููููุฏ ูู SceneKit ูุจุงุดุฑุฉ ุจุนุฏ ุงูููุฒูุงุก.</em>  <em>ููุจู ุชูุฏูู ุงูุฅุทุงุฑ</em> </p><br><p style=";text-align:right;direction:rtl">  ุงููููุฏ ุ ุฃูุช ุชูููุ  ูุง ูู ุงูุซูุงุจุชุ  ูููู ูู ุงููุงุณ ูุนุฑููู ุ ุจู ูุฃูุซุฑ ูู ุฐูู ูุชุญุฏุซูู ุนู ุฐูู ุ ูููู SceneKit ูุฏูู ูุฌููุนุฉ ูู ุงูุซูุงุจุช ุงูุฎุงุตุฉ ุจู.  ูุนูู ุงูุฑุบู ูู ุฃููุง ููุณุช ูุฑูุฉ ูุซู ุงูุซูุงุจุช ูู UIkit ุ ูุง ูุฒุงู ุจุฅููุงูู ูุนู ุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงููุซูุฑุฉ ููุงูุชูุงู ูุนูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/006/c01/3a3/006c013a36d0bc0f615ca4f4378e4767.gif" alt="SCNReplicatorConstraint"><br>  <em>SCNReplicatorConstraint</em> </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ ุจุซุจุงุช ุจุณูุท - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SCNReplicatorConstraint</a> .  ูู ูุง ููุนูู ูู ุชูุฑุงุฑ ูุถุน ูุฏูุฑ ูุญุฌู ูุงุฆู ุขุฎุฑ ูุน ุฅุฒุงุญุฉ ุฅุถุงููุฉ.  ููุง ูู ุงูุญุงู ูุน ุฌููุน ุงูุซูุงุจุช ุงูุฃุฎุฑู ุ ููููู ุชุบููุฑ ุงูููุฉ ููุถุน ุนูู ุงูุชุฒุงูุฏ.  ูููู ุนุฑุถ ููุง ุงููุนููุชูู ุนูู ูุฐุง ุงูุซุงุจุช. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dd7/98d/a46/dd798da468df11e71ab53c7a41e187c5.gif" alt="ุงูุฎูุงุถ ุงูููุฉ 10 ูุฑุงุช"><br>  <em>ุงูุฎูุงุถ ุงูููุฉ 10 ูุฑุงุช</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุคุซุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฉ</a> ุนูู ููุฏุงุฑ ุงูุชุญููู ุงููุทุจู ุนูู ุงููุงุฆู.  ููุธุฑูุง ูุฃู ููุถุน ุงููุงุฆู ุงููุฏู ูุบูุฑ ูู ุฅุทุงุฑ - ููุชุฑุจ ูุงุฆู ุงูุธู ูู ุนูุดุฑ ูุฑู ุงููุณุงูุฉ.  ููุฐุง ุงูุณุจุจ ุ ูุธูุฑ ุชุฃุซูุฑ ุงูุชุฃุฎูุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/535/ec5/0bc/535ec50bce2b4e57f30c71226bc783da.gif" alt="ุฒูุงุฏุฉ ููุฏ ูุชูููู ุงูููุฉ ููุฎูุถุฉ 10 ูุฑุงุช"><br>  <em>ุฒูุงุฏุฉ ูุชุฒุงูุฏุฉ ูุชูููู ุงูููุฉ ุจููุฏุงุฑ 10 ูุฑุงุช</em> </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฒุงูุฏ</a> ุ ุจุฏูุฑู ุ ูุคุซุฑ ุนูู ูุง ุฅุฐุง ูุงู ุงูุซุงุจุช ูุฏ ุชู ุฅูุบุงุคู ุจุนุฏ ุงูุชูุฏูู.  ูููุชุฑุถ ุฃููุง ุฃุทูุฃูุงูุง.  ุซู ูุฑู ุฃูู ูู ูู ุฅุทุงุฑ ุ ูุชู ุชุทุจูู ุงูุซุงุจุช ูุจู ุงูุชูุฏูู ุ ูุจุนุฏ ุงูุฅูุบุงุก ุ ูุชู ุชูุฑุงุฑ ูู ุฅุทุงุฑ.  ูุชูุฌุฉ ูุฐูู ุ ุนูุฏ ุงูุฌูุน ุจูู ูุงุชูู ุงููุนููุชูู ุ ููููู ุงูุญุตูู ุนูู ุชุฃุซูุฑ ูุซูุฑ ููุงูุชูุงู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/74d/5c5/cfd/74d5c5cfd7bde6252adf7855705ec5ad.gif" alt="ุงูุทุงุฆุฑุฉ ุชูุงุฌู ุงููุงููุฑุง ุฏุงุฆููุง."><br>  <em>ุงูุทุงุฆุฑุฉ ุชูุงุฌู ุงููุงููุฑุง ุฏุงุฆููุง.</em> </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชูู ุฅูู ุซุงุจุช ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู: ููุญุฉ ูุง ูุณูู. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุ ูู ุงูุถุฑูุฑู ุฃู ูููู ูุงุฆู ูุง "ููุงุฌููุง" ุฏุงุฆููุง.  ููููุงู ุจุฐูู ุ ููุท ุงุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SCNBillboardConstraint</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุดุฑ</a> ุฅูู ุงููุญุงูุฑ ุงูุชู ูููู ูููุงุฆู ุชุฏููุฑูุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุจู ุญุณุงุจ ูู ุฅุทุงุฑ (ุจุนุฏ ุฎุทูุฉ ูุน ุงูููุฒูุงุก) ุ ุณูุชู ุชุญุฏูุซ ููุงูู ูุงุชุฌุงูุงุช ุฌููุน ุงููุงุฆูุงุช ูุฅุฑุถุงุก ุฌููุน ุงูุซูุงุจุช. </p><br><p style=";text-align:right;direction:rtl">  ููุง ููููู ุฐูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Look At Constraint</a> : ุฅูู ูุดุงุจู ูููุญุฉ ุฅุนูุงูุงุช ุ ูููู ููุท ุชุนููู ุงููุงุฆู ูู ููุงุฌูุฉ ุฃู ูุงุฆู ุขุฎุฑ ูู ุงููุดูุฏ ุจุฏูุงู ูู ุงููุงููุฑุง ุงูุญุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูููู ุนููู ุจูุณุงุนุฏุชููุ  ุจุงูุทุจุน ุ ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุซูุงุจุช ูู ุฃุบูุจ ุงูุฃุญูุงู ูุฑุณู ุงูุฃุดุฌุงุฑ ุฃู ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ.  ููุง ุฃููุง ุชุฎูู ูุคุซุฑุงุช ุฎุงุตุฉ ูุซู ุงููุงุฑ ุฃู ุงูุงููุฌุงุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ุจูุณุงุนุฏุชูู ุฌุนู ุงููุงููุฑุง ุชุชุจุน ุงููุงุฆู ุนูู ุงููุณุฑุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/077/6ed/96d/0776ed96d0d6116c12ababd108bfe180.gif" alt="ูุญุงูุธ ุนูู ุงููุณุงูุฉ ุจูู ุงููุงุฆูุงุช"><br>  <em>ูุญุงูุธ ุนูู ุงููุณุงูุฉ ุจูู ุงููุงุฆูุงุช</em> </p><br><p style=";text-align:right;direction:rtl">  ูุณูุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู SCNDistanceConstraint</a> ุจุชุนููู ุงูุญุฏ ุงูุฃุฏูู ู / ุฃู ุงูุญุฏ ุงูุฃูุตู ูููุณุงูุฉ ุฅูู ููุถุน ูุงุฆู ุขุฎุฑ.  ููุนู ุ ููููู ุงุณุชุฎุฏุงูู ูุตูุน ุซุนุจุงู.  :) ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ูุฐุง ุงูููุฏ ูุฑุจุท ุงููุงููุฑุง ุจุงูุดุฎุตูุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู ููุถุน ุงููุงููุฑุง ุนุงุฏุฉ ูุง ูููู ุฃูุซุฑ ุชุนููุฏูุง ุ ููุตููุง ูุน constrates ูุญุฏูุง ููุณุช ูููุฉ ุณููุฉ.  ูููู ุชุญููู ููุณ ุงูุชุฃุซูุฑ ูู ุฎูุงู ุฅุถุงูุฉ ูุจุน ูู ุงููุญุฑู ุงููุงุฏู ุ ูููู ูููู ุชูููุฉ ูุฐุง ุงูุฑุจูุน ุจุดุฏ ูู ุญุงูุฉ ุงุญุชูุงุฌู ุฅูู ุชุฌูุจ ูุดุงูู ุงูุชูุฏุฏ ุงูุฒุงุฆุฏ ุฃู ุถุบุท ุงูุฑุจูุน. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฑุฃู ุงููุซูุฑูู ูู ุจุนุถ Hitman ุฃู Fallout ุฃู Skyrim: ุชููู ุจุณุญุจ ุฌุณู ูุนู ุ ููู ุชูุณ ุนูุจุฉ - ูุชุจุฏุฃ ูู ุงูุชุตุฑู ููุง ูู ุฃู ุดูุทุงู ุฏุฎููุง.  ููุฐุง ุซุงุจุช ูุณุงุนุฏ ุนูู ุชุฌูุจ ูุฐู ุงูุฃุฎุทุงุก. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f8f/578/aca/f8f578aca5e9d78034dcef18062349b8.gif" alt="SCNSliderConstraint"><br>  <em>SCNSliderConstraint</em> </p><br><p style=";text-align:right;direction:rtl">  ูุชูุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู SCNSliderConstraint</a> ุถุจุท ุงูุญุฏ ุงูุฃุฏูู ูููุณุงูุฉ ุจูู ูุงุฆู ูุง ูุงูููุฆุงุช ุงููุงุฏูุฉ ุจุงุณุชุฎุฏุงู ููุงุน ุชุตุงุฏู ููุงุณุจ.  ูุถุญู ุฌุฏุง ุซุงุจุช ุ ูููู ูุฑุฉ ุฃุฎุฑู ุ ูุญุงูููู ูุญุงูุงุฉ ุฐูู ุจุงุณุชุฎุฏุงู ุงูุชูุงุนู ุงูุจุฏูู.  ุงูููุฑุฉ ุงูุฑุฆูุณูุฉ ูู ุถุจุท ูุตู ูุทุฑ ุงูููุทูุฉ ุงูููุชุฉ ุจุฃุฌุณุงุฏ ูุงุฏูุฉ ููุงุฆู ููุณ ุจู ุฌุณู ูุงุฏู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/357/930/7df/3579307dfcf69c026734b0c35d7c6f04.gif" alt="ุนูุณ ุงูุญุฑูุงุช ูู ุงูุนูู"><br>  <em>ุนูุณ ุงูุญุฑูุงุช ูู ุงูุนูู</em> </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SCNIKConstraint</a> ูู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุ ูููู ุฃูุถุง ุงูุซุงุจุช ุงูุฃูุซุฑ ุชุนููุฏุง ุ ูุงูุฐู ูุณุชุฎุฏู ูุง ูุณูู ุงูุญุฑููุฉ ุงูุนูุณูุฉ.  ุจุงุณุชุฎุฏุงู ุณูุณูุฉ ูู ุงูุนูุฏ ุงูุฃุตููุฉ ุ ุชุญุงูู ุงูุญุฑูุฉ ุงูุญุฑููุฉ ุงูุนูุณูุฉ ุจุดูู ูุชูุฑุฑ ุฅุญุถุงุฑ ููุถุน ุงูุนูุฏุฉ ุงูุฐู ููุช ุจุชุทุจูู ูุฐุง ุงูุซุงุจุช ุนููู ุฅูู ุงูููุทุฉ ุงูุถุฑูุฑูุฉ.  ูู ุงููุงูุน ุ ูุง ูุณูุญ ูู ุจุงูุชูููุฑ ูู ุงูููุถุน ุงูุฐู ููุจุบู ุฃู ูููู ุนููู ุงููุชู ูุงูุณุงุนุฏ ุ ูููู ุจุจุณุงุทุฉ ูุชุนููู ููุถุน ุงููุฏ ูุฒูุงูุง ุงูุฏูุฑุงู ุงููุญุชููุฉ ููุนูุฏ ุงููุชุตูุฉ.  ูุณูุชู ุงุญุชุณุงุจ ุงูุจุงูู ุจุงููุณุจุฉ ูู.  ุงูุนูุจ ุงูุฑุฆูุณู ููุฐุง ุงูููุฏ ูู ุฃูู ูุณูุญ ูู ุจุชุนููู ููุถุน ุงููุฏ ููุท ุ ูููู ููุณ ุงุชุฌุงูู ุ ููููู ุฌุนู ุงููููุฏ ุงูููุฑูุถุฉ ุนูู ุงูุฒูุงูุง ุนุงูููุฉ ุ ุฏูู ุชุญุทูู ุงููุญุงูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุงูุชูููุง ุจุงูุชูุตูู ูุน ุงูุซูุงุจุช ููุน ูุง ูุนุฑูููู ููููุฉ ุงูููุงู ุจู.  ุฏุนูุง ููุงุตู ุงุณุชูุดุงู ุขุซุงุฑ ูุซูุฑุฉ ููุงูุชูุงู.  ุณูุชุนุงูู ูุน ุชุฃุซูุฑ ุงูุธูุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5d9/d62/4a4/5d9d624a480d96c5654a8df80be14115.gif" alt="ููุงู ุทุงุฆุฑุฉ ุ ููููุง ููุณุช ูุฐูู"><br>  <em>ููุงู ุทุงุฆุฑุฉ ุ ููููุง ููุณุช ูุฐูู</em> </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃูู ูููู ุฃู ูููู ุงูุฃูุฑ ุฃุณูู ูู ูุญุฑู ูุฏุนู ุงูุธูุงู ูู ุฅูุดุงุก ุงูุธูุงูุ  ูููู ูู ุจุนุถ ุงูุฃุญูุงู ุชุญุชุงุฌ ุฅูู ุฃู ูููู ุงูุธูุงู ุนูู ุทุงุฆุฑุฉ ุดูุงูุฉ ุชูุงูุง.  ูุฐุง ูููุฏ ุฌุฏูุง ูู ARKit ุ ุญูุซ ูุชู ุนุฑุถ ุตูุฑุฉ ุงููุงููุฑุง ุฎูู ุงูุทุงุฆุฑุฉ ุ ููุฌุจ ุฅููุงุก ุงูุธู ูู ููุงู ูุง.  ุชุจูู ุฃู ุงูุญููุฉ ุจุณูุทุฉ ููุบุงูุฉ: ุฃููุงู ุ ุชุญุชุงุฌ ุฅูู ุชูููู ุงูุธูุงู ุงููุคุฌูุฉ ูุฅููุงู ุงูุชุณุฌูู ูู ุฌููุน ููููุงุช ุงูุทุงุฆุฑุฉ ูู ุนูุงูุฉ ุชุจููุจ ุงูููุงุฏ ุ ูุณูุณุชูุฑ ุงูุธู ูู ุชุฏุงุฎููุง.  ุงููุดููุฉ ุงููุญูุฏุฉ ูู ุฃู ูุฐู ุงูุทุงุฆุฑุฉ ุณูู ุชุชุฏุงุฎู ุงููุงุฆูุงุช ูุฑุงุก ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ููู ุงูุธูุงู ููุณุช ูู ุงูุชุฃุซูุฑ ุงููุญูุฏ ุงูุฐู ุชู ุฏุฑุงุณุชู ุจุดูู ุณูุก ูู SceneKit.  ุฏุนููุง ูุชุนุงูู ูุน ุงููุฑุงูุง ุงูุขู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/32d/75b/1ba/32d75b1ba50036e814d21bacb0104523.png" alt="ูุฑุขุฉ SCNFloor - ูุง ูููู ุฃู ูููู ุฃูุซุฑ ุจุณุงุทุฉ"><br>  <em>ูุฑุขุฉ SCNFloor - ูุง ูููู ุฃู ูููู ุฃูุซุฑ ุจุณุงุทุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ูู ูุนุจ ูุน SceneKit ุฑุจูุง ูุนุฑู ุนู scnfloor ุ ููุง ูุถูู ุงูุนูุงุณุงุช ุงููุฑุขุฉ ุนูู ุงูุฃุฑุถูุฉ.  ููู ูุณุจุจ ูุง ุ ุงุณุชุฎุฏูู ุนุฏุฏ ูููู ุฌุฏูุง ูู ุงูุฃููุงุฑ ุงูููุนูุณุฉ ุงูุตุงุฏูุฉ ุ ูุฃูู ููููู ูุถุน ุงููููุฐุฌ ุงูุฎุงุต ุจู ุนูู ููุฏุณุฉ ุงูุฃุฑุถูุฉ ูุฅูุงูุฉ ุจุนุถ ุงูุดูุก ูุชุญูููู ... ุฅูู ูุฑุขุฉ ุนุงุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1c4/bdf/289/1c4bdf289fd13dd45489765512bc2d2a.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fdd/950/d98/fdd950d9889d35a4d8e66b871c0c2767.png" alt="ุจุงูุชูููุท ุนูู ุงูุฒุฌุงุฌ ููุฑุขุฉ ููุญููุฉ"><br>  <em>ุจุงูุชูููุท ุนูู ุงูุฒุฌุงุฌ ููุฑุขุฉ ููุญููุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ูููู ุ ูุง ูู ุฃูู ุดูุฑุฉ ุ ูููู ุชุนููู ุฎุฑูุทุฉ ุทุจูุนูุฉ ููุฐุง ุงูููุน ูู ุงูุฌูุณ.  ูุชูุฌุฉ ููุฐุง ุ ููููู ุฃูุถูุง ุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงูุชุฃุซูุฑุงุช ุงููุฎุชููุฉ ุงููุซูุฑุฉ ููุงูุชูุงู ุ ูุซู ุชุฃุซูุฑ ุงูุฎุทูุท ุฃู ุงููุฑุขุฉ ุงูููุญููุฉ. </p><br><h2 id="ultra-violence" style=";text-align:right;direction:rtl">  <strong>ููู ุงูุจููุณุฌู</strong> </h2><br><blockquote style=";text-align:right;direction:rtl">  <em>ุจูุฌุฑุฏ ุชูุจูู ูุชุงุฉ ุจุนููู ููุชูุญุฉ.</em>  <em>ูุทุนุช ุงููุชุงุฉ ูุฌููุง ุจุงูุทุงุฆุฑุฉ ุงููุฑูุจุฉ ูู ุงููุตุงุตุฉ.</em>  <em>ููุฐ ุฐูู ุงูุญูู ุฃูุง ุฃูุจู ููุท ุจุนููู ูุบููุฉ.</em> <br>  <em>- ุฌูู ูุงุฑูุงู</em> </blockquote><p style=";text-align:right;direction:rtl">  ุงูุธูุงู ูุงููุฑุงูุง - ุขุซุงุฑ ูุซูุฑุฉ ููุงูุชูุงู.  ูููู ููุงู ุชุฃุซูุฑ ูุงุญุฏ ุ ุนูุฏ ุงุณุชุฎุฏุงูู ุจููุงุฑุฉ ุ ูุฏ ูููู ุฃูุซุฑ ุชุดููููุง - ููุงู ุงูููุฏูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/998/047/b54/998047b5496741e28e66d6faeb04f4a1.gif"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8b7/91c/a6b/8b791ca6b8f464f5bd7401bdc07225ac.gif" alt="ุฃุดุฑุทุฉ ุงูููุฏูู ุงูุนุงุฏูุฉ ู heightmap"><br>  <em>ุฃุดุฑุทุฉ ุงูููุฏูู ุงูุนุงุฏูุฉ ู heightmap</em> </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชุญุชุงุฌูุง ููุท ูุนุฑุถ ุงูููุฏูู ุฏุงุฎู ุงููุนุจุฉ.  ููู ุงูุฃูุฑ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฃูู ููููู ูุณุงุนุฏุฉ ุงูุฃุดูุงู ุงูููุฏุณูุฉ ุจูุณุงุนุฏุฉ ุฃุดูุงู ุงูููุฏูู.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ูุถุน ูุณูุฌ ุงูููุฏูู ูุน ุฎุฑูุทุฉ ุงูุงุฑุชูุงุน ูู ุฎุงุตูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุฒุงุญุฉ</a> ููููุงุฏ ุงูุฎุงุตุฉ ุจู ูุงุณุชุฎุฏุงู ุงูููุงุฏ ุนูู ุงููุณุชูู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุฏุฏ</a> ูุจูุฑ ุจูุง ููู ุงูููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงููุทุน</a> .  ูุจูู ุฃู ูููู ููููุฉ ูุถุนู ููุงู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฐูุฑุช ูู ูุตู ุนูููุฉ ุฅูุดุงุก ุงููุดูุฏ ุฃูู ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SKScene ูุฎุงุตูุฉ</a> ูุงุฏูุฉ ุ ููุฐุง ูุดูุฏ SpriteKit.  SpriteKit ูุดุจู SceneKit ุ ูููู ููุฑุณููุงุช ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ.  ูุฏููุง ุฏุนู ูุนุฑุถ ููุงุทุน ุงูููุฏูู ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SKVideoNode</a> .  ุชุญุชุงุฌ ููุท ุฅูู ูุถุน SKVideoNode ูู SKScene ุ ู SKScene ูู SCNMaterialProperty ุ ููุฏ ุงูุชููุช ูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุนุฏ ุชุตุฏูุฑ ุงููุดูุฏ ุซูุงุซู ุงูุฃุจุนุงุฏ ุงููุงุชุฌ ููุชุญู ูู ููุงู ุขุฎุฑ ุ ุณูุฑู ูุฑุจุนูุง ุฃุณูุฏ.  ุจุงูุชูุชูุด ูู ุฎูุงู ููู scn ุ ูุฌุฏุช ุงูุณุจุจ.  ุงุชุถุญ ุฃูู ุนูุฏ ุญูุธ ุฑูุฒ ุงูููุฏูู ุ ูุฅูู ูุง ูุญูุธ URL ุงูููุฏูู.  ูุจุฏู ุฃูู ุชุฃุฎุฐ ูุงูุญูู.  ูููู ููุณ ูู ุดูุก ุจูุฐู ุงูุจุณุงุทุฉ: ููู scn ูู ูุง ูุณูู ุจู plist ุซูุงุฆู ุ ูุงูุฐู ูุญุชูู ุนูู ูุชูุฌุฉ NSKeyedArchiver.  ูุงูููุงุฏ ุ ุงูุชู ูู ูุดูุฏ SpriteKit ุ ูู ููุณ ุงูููุญุฉ ุงูุซูุงุฆูุฉ ุ ุงูุชู ุ ููุง ุงุชุถุญ ุ ุชูุน ุจุงููุนู ุฏุงุฎู ููุญุฉ ุซูุงุฆูุฉ ุฃุฎุฑู!  ูู ุงูุฌูุฏ ุฃู ูููู ููุงู ูุณุชููุงู ููุท ูู ุงูุชุนุดูุด. </p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ุณููุชูู ุงูุขู ุฅูู ุงูุชุฃุซูุฑ ุ ูููู ุฅูู ุฃุฏุงุฉ ุชุณูุญ ูู ุจุฅูุดุงุก ุฃู ููุน ูู ุงูุชุฃุซูุฑุงุช.  ูุฐู ูู ูุนุฏูุงุช ุชุธููู. </p><br><p style=";text-align:right;direction:rtl">  ูุจู ุชุนุฏูู ุดูุก ูุง ุ ุชุญุชุงุฌ ุฅูู ููู ูุง ูููู ุจุชุนุฏููู.  ุงูุชุธููู ุ ุจุญูู ุชุนุฑููู ุ ูู ุจุฑูุงูุฌ ู GPU ูุนูู ููู ููุฉ ูููู ุจูุณู.  ูุจุงูุชุงูู ุ ูุฅู shader ูู ุจุฑูุงูุฌ ูุญุฏุฏ ููููุฉ ุธููุฑ ูุงุฆู ูุง ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ุชุชูุญ ูู ูุนุฏูุงุช ุงูุชุธููู ุชุบููุฑ ูุชุงุฆุฌ ุงูุชุธููู ุงูููุงุณู ุฅูู GLSL ุฃู ูุบุฉ ุชุธููู ุงููุนุงุฏู.  ุชุชููุฑ ุฃูุถูุง ูู ูุญุฑุฑ ูุฑุฆู ุ ููุง ูุณูุญ ูู ุจูุดุงูุฏุฉ ุงูุชุบููุฑุงุช ูู ุงููุนุฏู ูู ุงูููุช ุงููุนูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/663/9d1/9a7/6639d19a72901a50caea2b969816a1ae.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1d1/94a/660/1d194a660488fe33aa392c0573834ca4.png" alt="ุชุดู ู ุงูููุธุฑ ุฑุณู ุงูุฎุฑุงุฆุท"><br>  <em>ุงููุฑุงุก ู ุงูููุธุฑ ุฑุณู ุงูุฎุฑุงุฆุท</em> </p><br><p style=";text-align:right;direction:rtl">  ุจูุณุงุนุฏุฉ ููุนุฏูุงุช ุงูุชุธููู ุ ููููู ุฅูุดุงุก ุชุฃุซูุฑุงุช ูุฑุฆูุฉ ูุนูุฏุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุซููู ูู ุฃูุซุฑ ุงูุขุซุงุฑ ุดูุฑุฉ: Fur ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Parallax Mapping</a> . </p><br><pre style=";text-align:right;direction:rtl"><code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#pragma arguments texture2d bg; texture2d height; float depth; float layers; #pragma transparent #pragma body constexpr sampler sm = sampler(filter::linear, s_address::repeat, t_address::repeat); float3 bitangent = cross(_surface.tangent, _surface.normal); float2 direction = float2(-dot(_surface.view.rgb, _surface.tangent), dot(_surface.view.rgb, _surface.bitangent)); _output.color.rgba = float4(0); for(int i = 0; i </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; int(floor(layers)); i++) { float coeff = float(i) / floor(layers); float2 defaultCoords = _surface.diffuseTexcoord + direction * (1 - coeff) * depth; float2 adjustment = float2(scn_frame.sinTime + defaultCoords.x, scn_frame.cosTime) * depth * coeff * 0.1; float2 coords = defaultCoords + adjustment; _output.color.rgb += bg.sample(sm, coords).rgb * coeff * (height.sample(sm, coords).r + 0.1) * (1.0 - coeff); _output.color.a += (height.sample(sm, coords).r + 0.1) * (1.0 - coeff); } return _output;</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7aa/b5f/b0e/7aab5fb0e907d2a7290f0f31e415e4be.gif" alt="ุฑุงู ุงูุตุจ ูุน ุงููุงููุฉ ูู ุงูููุช ุงูุญูููู."><br>  <em>ุฑุงู ุงูุตุจ ูุน ุงูุญุงุฑ ุงูููุช ุงูุญูููู</em> </p><br><p style=";text-align:right;direction:rtl">  ูุงูุฃูุฑ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฃูู ูุง ุฃุญุฏ ููุชุฑุซ ุจุฑูุถ ูุชุงุฆุฌ ุฃุนูุงููู ุจุงููุงูู ููุชุงุจุฉ ุนุงุฑุถูู.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ูุญุงููุฉ ุชุทุจูู Ray Casting ูู ุชุธููู.  ููู ูุฐุง ูุนูู ุจุณุฑุนุฉ ูุงููุฉ ูุชูููุฑ 30 ุฅุทุงุฑุง ูู ุงูุซุงููุฉ ุญุชู ุนูู ูุซู ูุฐู ุงูุญุณุงุจุงุช ุงููุนูุฏุฉ.  ููู ูุฐุง ููุถูุน ูุชูุฑูุฑ ูููุตู.  ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Mobius</a> ! </p><br><h2 id="nightmare" style=";text-align:right;direction:rtl">  <strong>ูุงุจูุณ!</strong> </h2><br><blockquote style=";text-align:right;direction:rtl">  <em>ุฃูุง ูุง ุฃุญุจ ุฃู ูููุถ ุ ูุฃู ุงูุฌููู ูุบููุฉ ุชุญููู GPU ู BDPT ุจุญุฏุฉ ุจุณุจุจ ููุต ุงูุฅุถุงุกุฉ.</em> <br>  <em>- ุฌูู ูุงุฑูุงู</em> </blockquote><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุฏููุง ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุฐุงุช ุงูุชุฃุซูุฑุงุช ุงูุฑุงุฆุนุฉ.  ุงูุขู ูุจูู ุฃู ูุชุนูู ููููุฉ ุชุณุฌูููู.  ููููุงู ุจุฐูู ุ ุฏุนูุง ููุชูู ุฅูู ููุถูุน ุฃูุซุฑ ุชุนููุฏูุง: ููู ุชุนูููุง ููููุฉ ุชุณุฌูู ุงูููุฏูู ูุจุงุดุฑุฉ ูู SceneKit ุจุฏูู ูุงุฌูุฉ ูุณุชุฎุฏู ุฎุงุฑุฌูุฉ ูููู ูููุง ุจุชุญุณูู ูุฐุง ุงูุชุณุฌูู ุนุดุฑุงุช ุงููุฑุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชูู ุฃููุงู ุฅูู ุฃุจุณุท ุงูุญููู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ReplayKit</a> .  ูุนุฑูุฉ ููุงุฐุง ูุง ูุตูุญ.  ุจุดูู ุนุงู ุ ูุณูุญ ูู ูุฐุง ุงูุญู ุจุฅูุดุงุก ุฅุฏุฎุงู ุดุงุดุฉ ูู ุนุฏุฉ ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุญูุธู ูู ุฎูุงู ูุนุงููุฉ ุงููุธุงู.  ููู.  ูุญุชูู ุนูู ูุงูุต ูุจูุฑ - ููู ูุณุฌู ูู ุดูุก ุ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุฃููููุง ุ ุจูุง ูู ุฐูู ุฌููุน ุงูุฃุฒุฑุงุฑ ุงูุชู ุชุธูุฑ ุนูู ุงูุดุงุดุฉ.  ูุงู ูุฐุง ูู ูุฑุงุฑูุง ุงูุฃูู ุ ูููู ูุฃุณุจุงุจ ูุงุถุญุฉ ูุงู ูู ุงููุณุชุญูู ุงูุณูุงุญ ุจุฅุฏุฎุงูู ุฅูู ุงูุฅูุชุงุฌ: ูุงู ุนูู ุงููุณุชุฎุฏููู ูุดุงุฑูุฉ ุงูููุฏูู ููุดุงุฑูุชู ููุณ ูู ูุนุงููุฉ ุงููุธุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุฏูุง ุฃููุณูุง ูู ูููู ูุญุชุงุฌ ููู ุงูุญู ุฅูู ุฃู ููุชุจ ูู ุงูุตูุฑ.  ุชูุงูุง ูู ุงูุตูุฑ.  ูุฐูู ุ ุฏุนููุง ูุฑู ููู ููููู ูู iOS ุฅูุดุงุก ุงูููุฏูู ุงูุฎุงุต ุจู ูุชุณุฌูู ุงูุฅุทุงุฑุงุช ุงูุฎุงุตุฉ ุจู ููุงู.  ูู ุดูุก ุจุณูุท ููุบุงูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/bd5/ce3/0f8/bd5ce30f8b449cba0a5fbe8d68d2a420.png" alt="ุนูููุฉ ุงูุชุณุฌูู"><br>  <em>ุนูููุฉ ุงูุชุณุฌูู</em> </p><br><p style=";text-align:right;direction:rtl">  ูุญู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ููุงู ูููู ุจุชุณุฌูู ุงููููุงุช - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AVAssetWriter</a> ุ ูุฅุถุงูุฉ ุฏูู ููุฏูู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AVAssetWriterInput ุฅููู</a> ุ ูุฅูุดุงุก ูุญูู ููุฐุง ุงูุฏูู ุงูุฐู ุณูุญูู ูุฎุฒู ุงูุจููุณู ุงูุฎุงุต ุจูุง ุฅูู ุงูุชูุณูู ุงููุทููุจ ุจูุงุณุทุฉ ุงูุฏูู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AVAssetWriterPixelBufferAdaptor</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุท ูู ุญุงูุฉ ุ ุฃุฐูุฑู ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฎุฒู ุงููุคูุช ููุจูุณู</a> ูู ููุงู ุ ููู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ุญูุซ ุชุชู ูุชุงุจุฉ ุจูุงูุงุช ุงูุจูุณู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ูุฐุง ูู ูู ุงูุฃุณุงุณ ุชูุซูู ููุฎูุถ ุงููุณุชูู ููุตูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ููููุฉ ุงูุญุตูู ุนูู ูุฐุง ุงููุฎุฒู ุงููุคูุช ุจูุณูุ  ุงูุญู ุจุณูุท.  ูุญุชูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SCNView ุนูู</a> ูุธููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">.snapshot ()</a> ุฑุงุฆุนุฉ ุชููู ุจุฅุฑุฌุงุน UIImage.  ูุญุชุงุฌ ููุท ุฅูู ุฅูุดุงุก ูุฎุฒู ูุคูุช ุจุงูุจูุณู ูู UIImage. </p><br><pre style=";text-align:right;direction:rtl"> <code class="objectivec hljs">var unsafePixelBuffer: CVPixelBuffer? CVPixelBufferPoolCreatePixelBuffer(<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.pixelBufferPool, &amp;unsafePixelBuffer) guard let pixelBuffer = maybePixelBuffer <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } CVPixelBufferLockBaseAddress(pixelBuffer, <span class="hljs-number"><span class="hljs-number">0</span></span>) let data = CVPixelBufferGetBaseAddress(pixelBuffer) let rgbColorSpace = <span class="hljs-built_in"><span class="hljs-built_in">CGColorSpaceCreateDeviceRGB</span></span>() let bitmapInfo = <span class="hljs-built_in"><span class="hljs-built_in">CGBitmapInfo</span></span>(rawValue: <span class="hljs-built_in"><span class="hljs-built_in">CGBitmapInfo</span></span>.byteOrder32Little.rawValue | <span class="hljs-built_in"><span class="hljs-built_in">CGImageAlphaInfo</span></span>.premultipliedFirst.rawValue) let rowBytes = <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span>(CVPixelBufferGetBytesPerRow(pixelBuffer)) let context = <span class="hljs-built_in"><span class="hljs-built_in">CGContext</span></span>( data: data, width: image.width, height: image.height, bitsPerComponent: <span class="hljs-number"><span class="hljs-number">8</span></span>, bytesPerRow: CVPixelBufferGetBytesPerRow(pixelBuffer), space: rgbColorSpace, bitmapInfo: bitmapInfo.rawValue ) context?.draw(image, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span>(x: <span class="hljs-number"><span class="hljs-number">0</span></span>, y: <span class="hljs-number"><span class="hljs-number">0</span></span>, width: image.width, height: image.height)) CVPixelBufferUnlockBaseAddress(pixelBuffer, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.appendPixelBuffer(pixelBuffer, withPresentationTime: presentationTime)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ููุท ูุฎุตุต ููุงููุง ูู ุงูุฐุงูุฑุฉ ุ ููุตู ุงูุชูุณูู ุงูุฐู ุชุชูุชุน ุจู ูุฐู ุงูุจูุณูุงุช ุ ููุญุธุฑ ุงูุชุฎุฒูู ุงููุคูุช ููุชุบููุฑ ุ ููุญุตู ุนูู ุนููุงู ุงูุฐุงูุฑุฉ ุ ูููุดุฆ ุณูุงููุง ุนูู ุงูุนููุงู ุงููุณุชูู ุ ุญูุซ ูุตู ููููุฉ ุชุนุจุฆุฉ ุงูุจูุณู ูุนุฏุฏ ุงูุฎุทูุท ุงูููุฌูุฏุฉ ูู ุงูุตูุฑุฉ ููุง ูู ูุณุงุญุฉ ุงูููู ุงูุชู ูุณุชุฎุฏููุง.  ุซู ูููู ุจูุณุฎ ูุญุฏุงุช ุงูุจูุณู ูู UIImage ููุงู ุ ููุนุฑูุฉ ุงูุชูุณูู ุงูููุงุฆู ุ ูุฅูุบุงุก ููู ุงูุชุบููุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ba0/e25/5a0/ba0e255a03515ee7e299bfa3d2757526.png"></p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุชุญุชุงุฌ ุฅูู ุงูููุงู ุจุฐูู ูู ูู ุฅุทุงุฑ.  ููููุงู ุจุฐูู ุ ูููู ุจุฅูุดุงุก ุงุฑุชุจุงุท ุนุฑุถ ูุณุชุฏุนู ุฑุฏ ุงุชุตุงู ููู ุฅุทุงุฑ ุ ุญูุซ ูููู ุจุฏูุฑู ุจุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูููุทุฉ ูุฅูุดุงุก ูุฎุฒู ูุคูุช ููุจูุณู ูู ุงูุตูุฑุฉ.  ูู ุดูุก ุจุณูุท! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ab9/6fa/841/ab96fa8410458c0854d2c6b74bfb488c.gif"></p><br><p style=";text-align:right;direction:rtl">  ููู ูุง.  ูุซู ูุฐุง ุงูุญู ุ ุญุชู ุนูู ุงูููุงุชู ุงููููุฉ ุ ูุชุณุจุจ ูู ุชุจุงุทุค ุฑููุจ ูุชุฑุงุฌุน ูู ุนุฏุฏ FPS.  ุฏุนููุง ููุนู ุงูุชุญุณูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b13/562/6e6/b135626e6d19559cb931b0d62e20e0d3.png"></p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูููู ุฃููุง ูุณูุง ุจุญุงุฌุฉ ุฅูู 60 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ.  ุณูููู ุณุนุฏุงุก ุญุชู ุงูุฎุงูุณ ูุงูุนุดุฑูู.  ูููู ูุง ูู ุฃุณูู ุทุฑููุฉ ูุชุญููู ูุฐู ุงููุชูุฌุฉุ  ุจุงูุทุจุน ุ ุชุญุชุงุฌ ููุท ุฅูู ูุถุน ูู ูุฐุง ูู ููุถูุน ุงูุฎูููุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููุง ูููุทูุฑูู ุ ูุฐู ุงููุธููุฉ ุขููุฉ ุงูุฎูุท. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/701/d7c/a26/701d7ca267899b726966bcefacd2921e.gif"></p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฃุตุจุญ ุงูุชุฃุฎุฑ ุฃูู ุ ููู ุงูููุฏูู ุชููู ุนู ุงูุชุณุฌูู ... </p><br><p style=";text-align:right;direction:rtl">  ูู ุดูุก ุจุณูุท.  ููุง ูููููู ุ ุฅุฐุง ูุงูุช ูุฏูู ูุดููุฉ ุ ูุณูู ุชุญููุง ุจูุณุงุนุฏุฉ ุนุฏุฉ ุฎููุท ุ ุณูููู ูุฏูู ูุดููุชุงู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุญุงููุช ุชุณุฌูู ูุฎุฒู ูุคูุช ููุจูุณู ูุน ุทุงุจุน ุฒููู ุฃูู ูู ุขุฎุฑ ุชุณุฌูู ุ ูุณูููู ุงูููุฏูู ุจุฃูููู ุบูุฑ ุตุงูุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/643/ed3/f61/643ed3f61dd84093f38c4447952d2a8b.png"></p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุนุฏ ุฐูู ุจูุชุงุจุฉ ูุฎุฒู ูุคูุช ุฌุฏูุฏ ุญุชู ุชูุชูู ุงููุชุงุจุฉ ุงูุณุงุจูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/335/c9f/544/335c9f544b1bfd080a34cfe03847235a.gif"></p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ููุฏ ุชุญุณูุช ูุซูุฑูุง.  ููู ูุน ุฐูู ุ ููุงุฐุง ุธูุฑุช ุงูุชุฎููุงุช ูู ุงูุจุฏุงูุฉุ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ef1/b9d/838/ef1b9d8381334a5b0d6c9c4952eea020.png"></p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ูุธููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">.snapshot ()</a> ุ ุงูุชู ูุญุตู ุจูุง ุนูู ุตูุฑุฉ ูู ุงูุดุงุดุฉ ุ ุชููู ุจุฅูุดุงุก ุนุงุฑุถ ุฌุฏูุฏ ููู ููุงููุฉ ุ ูุชููู ุจุฑุณู ุฅุทุงุฑ ูู ููุทุฉ ุงูุตูุฑ ูุฅุนุงุฏุชูุง ุ ูููุณ ุงูุตูุฑุฉ ุงูุชู ุชุธูุฑ ุนูู ุงูุดุงุดุฉ.  ูุฐุง ูุคุฏู ุฅูู ุชุฃุซูุฑุงุช ููุชุนุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงููุญุงูุงุฉ ุงูุจุฏููุฉ ุฃุณุฑุน ูุฑุชูู. </p><br><p style=";text-align:right;direction:rtl">  ููู ุงูุชุธุฑ - ููุงุฐุง ูุญุงูู ุชูุฏูู ุฅุทุงุฑ ุฌุฏูุฏ ูู ูู ูุฑุฉุ  ุจุงูุชุฃููุฏ ูู ููุงู ูุง ููููู ุฃู ุชุฌุฏ ุงููุฎุฒู ุงููุคูุช ุงูุฐู ูุชู ุนุฑุถู ุนูู ุงูุดุงุดุฉ.  ูู ุงููุงูุน ุ ููุงู ุฅููุงููุฉ ุงููุตูู ุฅูู ูุซู ูุฐุง ุงููุฎุฒู ุงููุคูุช ุ ูููู ุบูุฑ ุชุงูู ููุบุงูุฉ.  ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุญุตูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CAMetalDrawable</a> ูู ุงููุนุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูุฅู ุงููุตูู ุฅูู Metal ูุจุงุดุฑุฉ ูู SCNView ููุณ ุจูุฐู ุงูุณูููุฉ ูุณุจุจ ููููู - ูู SceneKit ููููู ุงุฎุชูุงุฑ ููุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุจููุณู ุ ูููู ุฅุฐุง ูุธุฑุช ุฃุณูู ุงูุบุทุงุก ููุธุฑุช ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทุจูุฉ</a> ุ ููููู ุฃู ุชุฑู ุฃูู ูุชุตุฑู ููุง ูู ุ ูู ุญุงูุฉ Metal ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CAMetalLayer</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ููุง ุฃูุถูุง ุ ููุชุธุฑูุง ุงููุดู: ูู CAMetalLayer ุ ุงูุทุฑููุฉ ุงููุญูุฏุฉ ููุชูุงุนู ูุน ุงูุนุฑุถ ูู ุงูุฏุงูุฉ nextDrawable ุ ูุงูุชู ุชูุฑุฌุน CAMetalDrawable ุบูุฑ ูุฃูููุฉ.  ูู ุงููุนููู ุฃูู ุณุชูุชุจ ุงูุจูุงูุงุช ููู ูุชุณุชุฏุนู ุงููุธููุฉ ุงูุญุงููุฉ ุนููู ุ ูุงูุชู ุณุชุนุฑุถูุง ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญู ููุฌูุฏ ุจุงููุนู.  ูุงูุญูููุฉ ูู ุฃูู ุจุนุฏ ุงูุงุฎุชูุงุก ูู ุงูุดุงุดุฉ ุ ูุง ูุชู ุชุฎุตูุต ุงููุฎุฒู ุงููุคูุช ุ ูููู ูุชู ูุถุนู ูุฑุฉ ุฃุฎุฑู ููุท ูู ุญูุงู ุงูุณุจุงุญุฉ.  ูู ุงููุงูุน ุ ููุงุฐุง ุชุฎุตุต ุงูุฐุงูุฑุฉ ูู ูู ูุฑุฉ ุฅุฐุง ูุงู ููุงู ุงุซููู ุฃู ุซูุงุซุฉ ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ูุงููุฉ: ูุชู ุนุฑุถ ูุงุญุฏ ุนูู ุงูุดุงุดุฉ ุ ูุงูุซุงูู ููุนุฑุถ ูุงูุซุงูุซ ุ ุนูู ุณุจูู ุงููุซุงู ุ ู postprocessing ุ ุฅุฐุง ูุงู ูุฏูู ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃูู ุจุนุฏ ุนุฑุถ ุงููุฎุฒู ุงููุคูุช ุ ูุง ุชุฎุชูู ุงูุจูุงูุงุช ููู ูู ุฃู ููุงู ูููููู ุงููุตูู ุฅูููุง ุจุฃูุงู ูุฃูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฅุฐุง ุจุฏุฃูุง ูู ุงูุฎูู ูู ุงูุฑุฏ ุนูู ูู ููุงููุฉ ุฅูู nextDrawable () ูุญูุธูุง ุ ูุณูุญุตู ุนูู ูุง ูุญุชุงุฌู ุชูุฑูุจูุง.  ุงููุดููุฉ ูู ุฃู CAMetalDrawable ุงููุญููุธ ูู ุงูุฐู ูุชู ุฑุณู ุงูุตูุฑุฉ ููู ุงูุขู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุงูุชูุงู ุฅูู ุงูุญู ุงูุญูููู ุจุณูุท ููุบุงูุฉ - ููุญู ูููุฑ ูู ูู ุงูุฏุฑุฌ ุงูุญุงูู ูุงูุญู ุงูุณุงุจู. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ุ ุฌุงูุฒ - ุงููุตูู ุงููุจุงุดุฑ ุฅูู ุงูุฐุงูุฑุฉ ูู ุฎูุงู CAMetalDrawable. </p><br><pre style=";text-align:right;direction:rtl"> <code class="objectivec hljs">var unsafePixelBuffer: CVPixelBuffer? CVPixelBufferPoolCreatePixelBuffer(<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.pixelBufferPool, &amp;unsafePixelBuffer) guard let pixelBuffer = maybePixelBuffer <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } CVPixelBufferLockBaseAddress(pixelBuffer, <span class="hljs-number"><span class="hljs-number">0</span></span>) let data = CVPixelBufferGetBaseAddress(pixelBuffer) let width: <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> = lastDrawable.texture.width let height: <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> = lastDrawable.texture.height let rowBytes: <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span>(CVPixelBufferGetBytesPerRow(pixelBuffer) lastDrawable.texture.getBytes( data, bytesPerRow: rowBytes, fromRegion: <span class="hljs-built_in"><span class="hljs-built_in">MTLRegionMake2D</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, width, height), mipmapLevel: <span class="hljs-number"><span class="hljs-number">0</span></span> ) CVPixelBufferUnlockBaseAddress(pixelBuffer, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.appendPixelBuffer(pixelBuffer, withPresentationTime: presentationTime)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุญู ุงูุขู ูุง ููุดุฆ ุณูุงููุง ููุฑุณู ุตูุฑุฉ UIImage ููู ุ ูููููุง ููุณุฎ ุฌุฒุกูุง ูู ุงูุฐุงูุฑุฉ ุฅูู ุฃุฎุฑู.  ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู: ูุงุฐุง ุนู ุชูุณูู ุจูุณูุ .. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุชุทุงุจู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">deviceColorSpace</a> ... ููุง ูุชุทุงุจู ูุน ูุณุงูุงุช ุงูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู</a> ... </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ุจุงูุถุจุท ูู ุงูููุทุฉ ุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงุฑ</a> ูููุง ูุคูู ุฃุญุฏ ุงููููุฏ ุงูุนุงู ุ ุงูุฐู ูุคุฏู ููุณ ุงููููุฉ.  ุฃู ุดุฎุต ุขุฎุฑ ูู ูุตู ุฅูู ููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/198/181/bc7/198181bc7d908bca2ec56df495010106.gif"></p><br><p style=";text-align:right;direction:rtl">  ุญุณูุง ุ ูู ูุฐู ุงูุญูู - ูู ุฃุฌู ูุฑุดุญ ุฒุงุญูุ </p><br><p style=";text-align:right;direction:rtl">  ุญุณูุง ูุง!  ูู ููุงูุฉ ARKit ุ ููููู ุฃู ุชุฌุฏ ุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุตูุฑุฉ ูู ุงููุงููุฑุง ูุง ุชุณุชุฎุฏู ูุณุงุญุฉ ุงูููู ุงูููุงุณูุฉ ุ ูููู ุชู ุชูุณูุนูุง.  ูุญุชู ูุตูููุฉ ุชุญูู ูุณุงุญุฉ ุงูููู ููุฏูุฉ.  ูููู ููุงุฐุง ุงูุงูุฎุฑุงุท ูู ุงูุชุญูู ุ ุฅุฐุง ูุงู ููููู ูุญุงููุฉ ุชุณุฌูู ูุจุงุดุฑุฉ ูู ูุฐุง ุงูุดููุ  ูุจูู ููุนุฑูุฉ ูุง ูู ุดูู ูู ุฃุตู 60 ุงููุชุงุญุฉ ... </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/75d/802/781/75d8027810eb481eaa1775bd122cb79a.gif"></p><br><p style=";text-align:right;direction:rtl">  ุซู ุจุฏุฃุช ุฎุฑู.  ููุฏ ุณุฌูุช ุซูุงุซุฉ ููุงุทุน ููุฏูู ูู ุชุฏููุงุช ูุฎุชููุฉ ุจุชูุณููุงุช ูุฎุชููุฉ ุ ูุงุณุชุจุฏููุง ุจูู ุชุณุฌูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ูู ุงูุดูู ุงูุฃุฑุจุนูู ุ ูุญุตู ุนูู ุงุณูู.  ุชุจูู ุฃููุง ููุณุช ุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">kCVPixelFormatType_30RGBLEPackedWideGamut</a> .  ููู ูู ุฃุฎููุ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d6e/2e6/31e/d6e2e631e3dfdc690c85222a51561446.gif"></p><br><p style=";text-align:right;direction:rtl">  ููู ุณุนุงุฏุชู ุงุณุชูุฑุช ุญุชู ุฃูู ุงุฎุชุจุงุฑ.  ูู ููู ูุฏู ูููุงุช.  ูููุ  ูุถูุช ุงููุซูุฑ ูู ุงูููุช ูู ุงูุจุญุซ ุนู ุงูุชูุณูู ุงูุตุญูุญ.  ูู ุงูุฌูุฏ ุฃู ุชุชู ุชุฑุฌูุฉ ุงููุดููุฉ ุจุณุฑุนุฉ - ุชู ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงูุฎูู ุจุดูู ุซุงุจุช ูููุท ูู 6s ู 6s Plus.  ุจุนุฏ ุฐูู ุนูู ุงูููุฑ ุชูุฑูุจูุง ุ ุชุฐูุฑุช ุฃู ุดุงุดุงุช ุงูุนุฑุถ ุฐุงุช ุงููุทุงู ุงูุนุฑูุถ ุจุฏุฃุช ูุชู ุชุซุจูุชูุง ููุท ูู ุฃุฌูุฒุฉ iPhone ุงูุณุงุจุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงูุชุฏุฑุฌ ุงููููู ุฅูู 32RGBA ุงููุฏูู ุงูุฌูุฏ ุ ุฃุญุตู ุนูู ุณุฌู ุนููู!  ูุจูู ูููู ููููุฉ ุชุญุฏูุฏ ุฃู ุงูุฌูุงุฒ ูุฏุนู ุงููุทุงู ุงูุนุฑูุถ.  ููุงู ุฃุฌูุฒุฉ iPad ูุฒูุฏุฉ ุจุฃููุงุน ูุฎุชููุฉ ูู ุดุงุดุงุช ุงูุนุฑุถ ุ ูุฃุนุชูุฏ ุฃูู ููููู ุจุงูุชุฃููุฏ ุงูุญุตูู ุนูู ููุน ุงูุนุฑุถ ENUM ูู ุงููุธุงู.  ุชูุชุด ูู ุฎูุงู ุงููุซุงุฆู ุ ููุฏ ูุฌุฏุช ุฐูู - ููุฐุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">displayGamut</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">UITraitCollection</a> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ุฃุนุทูุช ุงูุชุฌููุน ูููุฎุชุจุฑูู ุ ุชูููุช ุฃุฎุจุงุฑูุง ุณุงุฑุฉ ูููู - ูู ุดูุก ูุนูู ุฏูู ุฃู ุชุฃุฎูุฑ ุ ุญุชู ุนูู ุงูุฃุฌูุฒุฉ ุงููุฏููุฉ! </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฎุชุงู ุ ุฃุฑูุฏ ุฃู ุฃุฎุจุฑู - ูู ุจุนูู ุฑุณููุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ!  ูู ุชุทุจูููุง ุ ุงูุฐู ูุง ููุซู ุงููุงูุน ุงููุนุฒุฒ ุญุงูุฉ ุงูุงุณุชุฎุฏุงู ุงูุฑุฆูุณูุฉ ูู ุ ูู ููุงูุฉ ุงูุฃุณุจูุน ุ ุณุงูุฑ ุงูุฃุดุฎุงุต ุฃูุซุฑ ูู 2000 ูููููุชุฑ ุ ูุดุงูุฏูุง ุฃูุซุฑ ูู 3000 ูุงุฆู ูุณุฌููุง ุฃูุซุฑ ูู 1000 ููุทุน ููุฏูู ูุนูู!  ุชุฎูู ูุง ููููู ุงูููุงู ุจู ุฅุฐุง ููุช ุชูุนู ุฐูู ุจููุณู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar431880/">https://habr.com/ru/post/ar431880/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar431870/index.html">ูุดูู ูุทูุฑ ุงููุชุจ ุงูุชูุงุนููุฉ ุงููุฒูุฏุฉ ุจูุตุงุจูุญ LED ูู ุณุฑูุฉ ุงูุฃููุงุฑ ูู ุฌุงูุจ ููุธูู Google</a></li>
<li><a href="../ar431872/index.html">ุฏููู JavaScript ุงูุฌุฒุก 9: ูุธุฑุฉ ุนุงูุฉ ุนูู ูุนุงููุฑ ES7 ู ES8 ู ES9</a></li>
<li><a href="../ar431874/index.html">Imba: ูุบุฉ ูุชูุงููุฉ ูุน ุฌุงูุง ุณูุฑูุจุช ููุนูู ุงูุณุฑูุน ูุน DOM</a></li>
<li><a href="../ar431876/index.html">ุชุนุธูู ุงูุงุณุชูุงุฏุฉ ูู ุงูุชุทุจููุงุช ุงูุฒุงูู</a></li>
<li><a href="../ar431878/index.html">ููุฒุงุช JavaScript ุบูุฑ ูุนุฑููุฉ</a></li>
<li><a href="../ar431884/index.html">ุชูููุช ูุงููุฑูุณููุช ุนูู ุดุฑูุฉ ุขุจู ูู ุงููููุฉ ุงูุณูููุฉ: ููู ุญุฏุซ ูุฐุงุ</a></li>
<li><a href="../ar431886/index.html">Al Lowy ูุงู ุจุชุญููู ูุฌููุนุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ุงูุฎุงุตุฉ ุจู Sierra products ุนูู eBay</a></li>
<li><a href="../ar431888/index.html">"ุฃุนุชูุฏ ุฃู ุฃููุงุฑ ุงููุฑูู ูู ุงูุฃูุซุฑ ุฃูููุฉ ุนูุฏ ุชุทููุฑ ุงูููุชุฌ."</a></li>
<li><a href="../ar431890/index.html">ููููุฉ ูุถุน ุงููุธุงู ุนูู ุงูุชุจุงุฏู ุงูุญุฑ</a></li>
<li><a href="../ar431892/index.html">ูุญู ูุณุชุฎุฏู Veeam Backup & Replication ูุงุฎุชุจุงุฑ ุงูุฃูุธูุฉ ูุงูุชุทุจููุงุช ุงูุฌุฏูุฏุฉ ูุจู ุงูุชุฑููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>