<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧 🔊 🧕🏿 Membalikkan protokol aktivasi Yandex.Station 👩🏼‍💻 🕒 👩🏼‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Yandex.Station adalah speaker cerdas dengan asisten suara Alice. Untuk mengaktifkannya, Anda perlu membawa ponsel dan memutar suara dari aplikasi Yand...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membalikkan protokol aktivasi Yandex.Station</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469435/"><img src="https://habrastorage.org/webt/_r/1r/de/_r1rdewpmo6uagc5cghgihry6jg.png"><br><br>  Yandex.Station adalah speaker cerdas dengan asisten suara Alice.  Untuk mengaktifkannya, Anda perlu membawa ponsel dan memutar suara dari aplikasi Yandex.  Di bawah potongan, saya akan memberi tahu Anda bagaimana sinyal ini bekerja, tentang <b>kata sandi untuk WiFi dalam bentuk terbuka</b> dan mencoba mengembangkan gagasan mentransmisikan data melalui suara. <br><a name="habracut"></a><br><h2>  Pembukaan </h2><br>  Saya lulus dari fakultas teknik radio MIPT, mempelajari dan mengembangkan sistem komunikasi dari protokol lapisan fisik ke jaringan federal.  Karena itu, ketika teman-teman mempresentasikan Yandex.Station, saya langsung bertanya-tanya bagaimana transfer data untuk aktivasi melalui token audio diatur. <br><br><h2>  Proses aktivasi </h2><br>  Ketika Anda menghidupkan kolom baru, entah bagaimana Anda perlu mentransfer informasi ke sana untuk menghubungkan ke jaringan WiFi dan otorisasi dalam layanan Yandex.  Di Stasiun, ini dilakukan melalui suara dan terlihat seperti video di bawah ini (7:34). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/OaHzvcz8ncM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  "... informasi sedang dikirim, baik, bukan dengan suara, tentu saja ..." - kata Valentin.  Dia akan tahu bahwa pada saat itu kata sandi WiFi-nya masuk ke video dalam bentuk hampir terbuka!  Tetapi lebih lanjut tentang itu nanti. <br><br>  Sementara itu, pertimbangkan apa yang terjadi.  Telepon mengambil data pada jaringan WiFi (ssid dari sistem, pengguna memasukkan kata sandi) dan data untuk otorisasi di Yandex.  Entah bagaimana mereka dikodekan, dimodulasi, dan dipancarkan oleh pengeras suara telepon.  Stasiun mendemodulasi sinyal dari mikrofon, menerjemahkan data dan menggunakannya untuk terhubung ke jaringan dan otorisasi. <br><br>  Dalam proses ini, kami tertarik pada bagaimana data <b>dikodekan</b> dan <b>dimodulasi</b> . <br><br><h2>  Demodulasi visual </h2><br>  Untuk mendapatkan sampel sinyal, Stasiun itu sendiri tidak diperlukan.  Hanya perlu telepon terhubung ke WiFi dengan internet.  Saya memutuskan untuk membuat jalur akses dengan ssid dan kata sandi yang berbeda untuk melihat bagaimana sinyal berubah.  Untuk kenyamanan, saya mulai merekam suara dalam file dan bekerja dengannya. <br><br>  Pertama, saya membuat titik akses dengan kata sandi acak "012345678" dan menghubungkan telepon ke sana.  Saya mengklik "Mainkan Suara" dan merekam sinyal yang dihasilkan.  Mari kita lihat spektrumnya dari waktu ke waktu (air terjun).  Di sini, sumbu vertikal mewakili frekuensi, sumbu horizontal mewakili waktu, dan warnanya ditentukan oleh amplitudo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1NQuD4N3mh4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Jadi, dapat dilihat bahwa modulasi frekuensi digunakan, dan data ditransmisikan dalam karakter 40 ms.  Anda juga dapat menyoroti peningkatan selanjutnya: <br><br><img src="https://habrastorage.org/webt/vn/co/ig/vncoigs1qjmln8xfnbbkapmr86e.png"><br><br>  Hentikan itu!  Tampaknya kami memiliki kata sandi yang berkembang.  "012345678".  Bagaimana angka-angka ini terlihat dalam pengkodean ascii atau utf-8?  " <b>30 31 32 33 34 35 36 37 38.</b> "  Wow!  Saya bahkan tidak perlu mengubah kata sandi!  Ini dia: <br><br><img src="https://habrastorage.org/webt/6d/h-/og/6dh-ogsq6pwhul8wkkfpvzbhqny.png"><br><br>  Saya mencoba mengubah kata sandi dan memastikan bahwa saya benar menentukan posisinya di sinyal. <br><br>  Ternyata data dikodekan dalam karakter 4-bit.  Bahkan, string hex dikodekan, di mana setiap nilai 0 - F memiliki frekuensi sendiri dari 1 kHz hingga 4,6 kHz dalam langkah 240 Hz.  Pada saat yang sama, di awal dan di akhir transmisi ada radiasi pada frekuensi di atas 5 kHz - tanda awal dan akhir dipisahkan dari bagian utama di tingkat fisik. <br><br><h2>  Decoding </h2><br>  Agar tidak menulis ulang simbol setiap kali, melihat spektrumnya, saya membuat sketsa penerima python sederhana yang mengubah file audio ke string hex asli cukup stabil.  Saya mulai mengubah ssid dari titik akses dan menganalisis apa yang mempengaruhi byte ini.  Akibatnya, ternyata informasi tentang ssid disimpan dalam dua byte sebelum kata sandi.  Panjang blok ini tidak tergantung pada panjang ssid.  Bagaimana bisa begitu? <br><br>  Mungkin hanya hash ssid yang ditransmisikan ke Stasiun.  Dalam hal ini, kemungkinan besar, Stasiun setelah mengaktifkan menghitung hash nama semua jaringan yang tersedia.  Kemudian dia memilih jaringan, membandingkan nilai yang diterima dengan yang diterima.  Kemungkinan besar, ini dilakukan untuk mengurangi panjang paket.  (Tapi bagaimana kemudian koneksi ke jaringan tersembunyi?) <br><br>  Terlihat juga bahwa dengan beberapa periode ada sisipan 4 karakter.  Pada spektrum mereka dapat dilihat dua kali di dalam kata sandi.  Ini mungkin semacam pengkodean yang tahan noise, atau simbol sinkronisasi. <br><br><img src="https://habrastorage.org/webt/jv/37/rf/jv37rfgtdsawelajxol3tjw57za.png"><br><br>  Saya tidak dapat mengalokasikan data untuk otorisasi di Yandex.  Namun, panjang paket cukup kecil, sehingga kita dapat mengatakan dengan pasti bahwa tidak ada token OAuth dalam paket.  Saya berasumsi bahwa aplikasi Yandex menerima tautan sementara, yang sebagian dikirimkan ke Stasiun.  Dan dia, pada gilirannya, menerima informasi otentikasi lengkap melalui tautan ini.  Saya pikir ini juga dilakukan untuk mengurangi panjang paket. <br><br><h2>  Diposting di Yandex? </h2><br>  Ya, 8 Mei 2019. Menerima respons otomatis: <br><br><img src="https://habrastorage.org/webt/wc/hs/xt/wchsxtohqkqdg-qnjxngxsxleni.png"><br><br>  4 bulan berlalu - dan tidak menghubungi.  Menurut aturan Yandex, sekarang Anda dapat mengungkapkan informasi, yang sebenarnya saya lakukan. <br><br><h2>  Apakah ini masalah? </h2><br>  Mungkin karyawan Yandex tidak menganggap ini masalah.  Memang, hampir tidak dapat disebut kerentanan, karena aktivasi Stasiun jarang terjadi lebih dari 1 kali.  Selain itu, seringkali dia berada di ruangan "tepercaya".  Di rumah atau di kantor, Anda dapat mengucapkan kata sandi WiFi dengan keras, yang hampir sama.  Pakar keamanan informasi, bagaimana menurut Anda? <br><br>  Selain itu, algoritma aktivasi telah ditransfer ke Stasiun yang diproduksi, sehingga tidak mungkin untuk menghilangkan kerentanan ini dalam versi saat ini. <br><br>  Namun, saya percaya ini bukan alasan untuk mengabaikan pesan di bugbounty.  Paling tidak, tidak sopan berjanji untuk menjawab dan tidak melakukannya.  Oke, mari kita asumsikan bahwa daya tarik saya telah hilang di suatu tempat.  Jika ada, nomor tiket: 19050804473488035. <br><br>  Secara pribadi, saya percaya ada semacam kerentanan.  Karena itu, terlepas dari kenyataan bahwa saya memiliki penerima sinyal yang stabil, saya tidak dapat memberikannya kepada Anda. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_g/dj/bc/_gdjbcc129fhzjtbi_dowolwewi.png"></div><br>  Dan juga, saya ingin mengingatkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wylsacom</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rozetked</a> , dan blogger lain tentang perlunya perubahan kata sandi biasa.  Setidaknya saya tahu apa yang Anda miliki pada saat ulasan Yandex.Station) <br><br><h2>  Apa hasilnya? </h2><br>  Pengembang dari Yandex melakukan hal yang keren.  Mereka mendekorasi proses aktivasi Stasiun, membuatnya menjadi tidak biasa.  Satu-satunya masalah, menurut saya, adalah kata sandi terbuka. <br><br>  Tetapi proses yang sama bisa dibuat lebih aman menggunakan Bluetooth.  Ini membuat saya berpikir bahwa dalam hal ini, keamanan atau kecepatan tidak begitu penting.  Pertunjukan penting.  Aktivasi melalui suara yang mengingatkan pada R2-D2 dari Star Wars sangat mengesankan dan terlihat tidak biasa. <br><br>  Posisi ini menginspirasi saya untuk mengembangkan ide pengembang Yandex dan membuat protokol yang berorientasi pada kesan.  Bagaimana jika frekuensi note digunakan untuk memodulasi karakter hex?  Mengapa tidak mentransfer data dalam C mayor?  Ternyata sangat menarik, tetapi lebih pada itu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di artikel selanjutnya</a> . <br><br>  Terima kasih sudah membaca, sukses! <br><br><div class="spoiler">  <b class="spoiler_title">UPD: Tanggapan Yandex</b> <div class="spoiler_text">  Dari layanan keamanan informasi, mereka menjawab dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">komentar</a> , dan juga mengirim surat: <br><img src="https://habrastorage.org/webt/rt/jr/2u/rtjr2uwdvs_rd6k-cdtty7oqt_e.png"><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469435/">https://habr.com/ru/post/id469435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469423/index.html">Holivar. Sejarah Runet. Bagian 2. Counterculture: pAdonki, marijuana dan Kremlin</a></li>
<li><a href="../id469425/index.html">Dmitry Matskevich, Dbrain (bagian 2): tentang neurobiologi, kebebasan internal, "dopamin murah" dan intuisi</a></li>
<li><a href="../id469427/index.html">Mainan Kayu, Bagian Empat - 1990</a></li>
<li><a href="../id469429/index.html">Review keinginan untuk ulasan habra</a></li>
<li><a href="../id469433/index.html">Pertama kali Kisah bagaimana kami memperkenalkan Scratch sebagai bahasa pemrograman robot</a></li>
<li><a href="../id469439/index.html">ARIES PLC110 [M02] -MS4, HMI, OPC dan SCADA, atau seberapa banyak seseorang membutuhkan teh Chamomile. Bagian 2</a></li>
<li><a href="../id469441/index.html">Kompleksitas kesederhanaan</a></li>
<li><a href="../id469443/index.html">Bahan yang selamat: struktur "mustahil" yang tahan terhadap kondisi terestrial pertama kali diperoleh</a></li>
<li><a href="../id469445/index.html">Tinjauan Umum AngularConnect 2019. Bagian 2</a></li>
<li><a href="../id469447/index.html">Jalur kecerdasan buatan dari ide yang fantastis ke industri ilmiah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>