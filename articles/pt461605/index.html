<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüé§ üßöüèº üèáüèø Criando defesa de torre na unidade: bal√≠stica ‚ÜôÔ∏è ‚òòÔ∏è üí´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[ A primeira , segunda e terceira partes do tutorial] 



- Suporte para diferentes tipos de torres. 
- Criando uma torre de argamassa. 
- C√°lculo de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando defesa de torre na unidade: bal√≠stica</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461605/">  [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A primeira</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">segunda</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">terceira</a> partes do tutorial] <br><br><ul><li>  Suporte para diferentes tipos de torres. </li><li>  Criando uma torre de argamassa. </li><li>  C√°lculo de trajet√≥rias parab√≥licas. </li><li>  Lan√ßamento de conchas explosivas. </li></ul><br>  Esta √© a quarta parte de um tutorial sobre como criar um jogo simples de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">defesa de torre</a> .  Nele, adicionaremos torres de argamassa que disparam proj√©teis detonantes em uma colis√£o. <br><br>  O tutorial foi criado no Unity 2018.4.4f1. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cee/22b/b28/cee22bb28fd043b06a81d046b1ca6ea8.jpg" width="512" height="256"></div><br>  <i>Inimigos s√£o bombardeados.</i> <br><a name="habracut"></a><br><h2>  Tipos de torres </h2><br>  Um laser n√£o √© o √∫nico tipo de arma que pode ser colocada em uma torre.  Neste tutorial, adicionaremos o segundo tipo de torre, que disparar√° proj√©teis que explodem ao entrar em contato, danificando todos os inimigos pr√≥ximos.  Para isso, precisamos de suporte para v√°rios tipos de torres. <br><br><h3>  Torre abstrata </h3><br>  A detec√ß√£o e rastreamento de alvos √© uma funcionalidade que qualquer torre pode usar, portanto, a colocaremos na classe base abstrata de torres.  Para fazer isso, simplesmente usamos a classe <code>Tower</code> , mas primeiro duplicamos seu conte√∫do para uso posterior em uma classe <code>LaserTower</code> espec√≠fica.  Em seguida, removemos todo o c√≥digo relacionado ao laser da <code>Tower</code> .  A torre pode n√£o acompanhar um destino espec√≠fico; portanto, exclua o campo de <code>target</code> e altere o <code>AcquireTarget</code> e o <code>TrackTarget</code> para que o par√¢metro de sa√≠da seja usado como par√¢metro de link.  Em seguida, removeremos a visualiza√ß√£o de <code>OnDrawGizmosSelected</code> do <code>OnDrawGizmosSelected</code> , mas deixaremos o intervalo de mira, pois √© usado para todas as torres. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Tower</span></span> : <span class="hljs-title"><span class="hljs-title">GameTileContent</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> enemyLayerMask = <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Collider[] targetsBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Collider[<span class="hljs-number"><span class="hljs-number">100</span></span>]; [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">1.5f</span></span>, <span class="hljs-number"><span class="hljs-number">10.5f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> targetingRange = <span class="hljs-number"><span class="hljs-number">1.5f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> TargetPoint target</span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ref</span></span></span></span><span class="hljs-function"><span class="hljs-params"> TargetPoint target</span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrawGizmosSelected</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Gizmos.color = Color.yellow; Vector3 position = transform.localPosition; position.y += <span class="hljs-number"><span class="hljs-number">0.01f</span></span>; Gizmos.DrawWireSphere(position, targetingRange); } }</code> </pre> <br>  Altere a classe duplicada para que se transforme em uma <code>LaserTower</code> que estenda a <code>Tower</code> e use a funcionalidade de sua classe base, livrando-se do c√≥digo duplicado. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LaserTower</span></span> : <span class="hljs-title"><span class="hljs-title">Tower</span></span> { [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">100f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> damagePerSecond = <span class="hljs-number"><span class="hljs-number">10f</span></span>; [SerializeField] Transform turret = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, laserBeam = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; TargetPoint target; Vector3 laserBeamScale; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { laserBeamScale = laserBeam.localScale; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TrackTarget(<span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> target) || AcquireTarget(<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> target)) { Shoot(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { laserBeam.localScale = Vector3.zero; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ } }</code> </pre> <br>  Atualize a pr√©-fabricada da torre do laser para usar o novo componente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f61/cac/322/f61cac3227e3600f455bffca7ae3427a.png" width="320" height="130"></div><br>  <i>Componente de uma torre de laser.</i> <br><br><h3>  Criando um tipo espec√≠fico de torre </h3><br>  Para poder selecionar quais torres ser√£o colocadas no campo, adicionaremos uma enumera√ß√£o <code>TowerType</code> semelhante ao <code>GameTileContentType</code> .  Criaremos suporte para a torre a laser e a torre de argamassa existentes, que criaremos posteriormente. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> TowerType { Laser, Mortar }</code> </pre> <br>  Como criaremos uma classe para cada tipo de torre, adicionaremos uma propriedade getter abstrata √† <code>Tower</code> para indicar seu tipo.  Isso funciona de maneira semelhante ao tipo de comportamento de uma figura na s√©rie de tutoriais sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gerenciamento de objetos</a> . <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> TowerType TowerType‚Ç¨ { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; }</code> </pre> <br>  Redefina-o no <code>LaserTower</code> para que ele retorne o tipo correto. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> TowerType TowerType‚Ç¨ =&gt; TowerType.Laser;</code> </pre> <br>  Em seguida, altere o <code>GameTileContentFactory</code> para que a f√°brica possa produzir a torre do tipo desejado.  Implementamos isso com uma matriz de torres e adicionamos um m√©todo <code>Get</code> p√∫blico alternativo com o par√¢metro <code>TowerType</code> .  Para verificar se a matriz est√° configurada corretamente, usaremos asser√ß√µes.  Outro m√©todo <code>Get</code> p√∫blico agora se aplicar√° apenas ao conte√∫do de blocos sem torres. <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] Tower[] towerPrefabs = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTileContent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTileContentType type</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type) { ‚Ä¶ } Debug.Assert(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"Unsupported non-tower type: "</span></span> + type); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTileContent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TowerType type</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)type &lt; towerPrefabs.Length, <span class="hljs-string"><span class="hljs-string">"Unsupported tower type!"</span></span>); Tower prefab = towerPrefabs[(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)type]; Debug.Assert(type == prefab.TowerType‚Ç¨, <span class="hljs-string"><span class="hljs-string">"Tower prefab at wrong index!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(prefab); }</code> </pre> <br>  Seria l√≥gico retornar o tipo mais espec√≠fico; portanto, idealmente, o tipo de retorno do novo m√©todo <code>Get</code> deve ser <code>Tower</code> .  Mas o m√©todo <code>Get</code> privado usado para instanciar a prefab retorna um <code>GameTileContent</code> .  Aqui voc√™ pode realizar a convers√£o ou tornar gen√©rico o m√©todo <code>Get</code> privado.  Vamos escolher a segunda op√ß√£o. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Tower </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TowerType type</span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ } T Get&lt;T&gt; (T prefab) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : GameTileContent { T instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }</code> </pre> <br>  Embora tenhamos apenas uma torre a laser, faremos dela o √∫nico elemento da matriz de torres da f√°brica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/13e/b55/14f/13eb5514f027062301183f1142e99412.png" width="320" height="150"></div><br>  <i>Uma matriz de torres pr√©-fabricadas.</i> <br><br><h3>  Criando inst√¢ncias de tipos de torre espec√≠ficos </h3><br>  Para criar uma torre de um tipo espec√≠fico, <code>GameBoard.ToggleTower</code> para que exija o par√¢metro <code>TowerType</code> e o <code>TowerType</code> √† f√°brica. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleTower</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile, TowerType towerType</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Tower‚Ç¨) { ‚Ä¶ } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { tile.Content = contentFactory.Get(towerType); ‚Ä¶ } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Wall) { tile.Content = contentFactory.Get(towerType); updatingContent.Add(tile.Content); } }</code> </pre> <br>  Isso cria uma nova oportunidade: o estado da torre muda quando j√° existe, mas as torres s√£o de v√°rios tipos.  At√© agora, a troca apenas remove a torre existente, mas seria l√≥gico que ela fosse substitu√≠da por um novo tipo, ent√£o vamos implementar isso.  Como o bloco permanece ocupado, voc√™ n√£o precisa procurar o caminho novamente. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Tower‚Ç¨) { updatingContent.Remove(tile.Content); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((Tower)tile.Content).TowerType‚Ç¨ == towerType) { tile.Content = contentFactory.Get(GameTileContentType.Empty); FindPaths(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { tile.Content = contentFactory.Get(towerType); updatingContent.Add(tile.Content); } }</code> </pre> <br>  <code>Game</code> agora deve rastrear o tipo de torre comut√°vel.  Simplesmente denotamos cada tipo de torre por um n√∫mero.  A torre do laser √© 1, ser√° a torre padr√£o e a torre da argamassa √© 2. Ao pressionar as teclas num√©ricas, selecionaremos o tipo apropriado de torre. <br><br><pre> <code class="cs hljs"> TowerType selectedTowerType; ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.G)) { board.ShowGrid = !board.ShowGrid; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.Alpha1)) { selectedTowerType = TowerType.Laser; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.Alpha2)) { selectedTowerType = TowerType.Mortar; } ‚Ä¶ } ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleTouch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameTile tile = board.GetTile(TouchRay); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKey(KeyCode.LeftShift)) { board.ToggleTower(tile, selectedTowerType); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { board.ToggleWall(tile); } } }</code> </pre> <br><h3>  Torre de argamassa </h3><br>  Ainda n√£o ser√° poss√≠vel colocar a torre da argamassa, porque ela ainda n√£o possui uma casa pr√©-fabricada.  Vamos come√ßar criando um tipo m√≠nimo de <code>MortarTower</code> .  As argamassas t√™m uma frequ√™ncia de tiro, para indicar qual voc√™ pode usar o campo de configura√ß√£o "tiros por segundo".  Al√©m disso, precisaremos de um link para a argamassa para que ela possa mirar. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MortarTower</span></span> : <span class="hljs-title"><span class="hljs-title">Tower</span></span> { [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">2f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> shotsPerSecond = <span class="hljs-number"><span class="hljs-number">1f</span></span>; [SerializeField] Transform mortar = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> TowerType TowerType‚Ç¨ =&gt; TowerType.Mortar; }</code> </pre> <br>  Agora crie uma pr√©-fabricada para a torre de argamassa.  Isso pode ser feito duplicando a pr√©-fabricada da torre a laser e substituindo seu componente.  Ent√£o nos livramos dos objetos da torre e do raio laser.  Renomeie a <code>turret</code> para <code>mortar</code> , mova-a para baixo e fique em cima da base, d√™ uma cor cinza clara e prenda-a.  Podemos deixar o colisor de argamassa, nesse caso, usando um objeto separado, que √© um colisor simples sobreposto √† orienta√ß√£o padr√£o da argamassa.  Atribu√≠ uma faixa de argamassa de 3,5 e uma frequ√™ncia de 1 tiro por segundo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16f/fdf/176/16ffdf1760e7ba7c9fe8455e51e36e7e.png" width="180" height="180" alt="cena"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ffd/c8b/db0/ffdc8bdb0ac0b4f3d49b3f16fe0656a5.png" width="226" height="66" alt="hierarquia"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/590/8cf/b18/5908cfb180527766e93968d70e744b4d.png" width="320" height="112" alt="inspetor"></div><br>  <i>Casa pr√©-fabricada da torre de argamassa.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Por que eles s√£o chamados de morteiros?</b> <div class="spoiler_text">  As primeiras variedades dessa arma foram essencialmente tigelas de ferro, semelhantes √†s argamassas, nas quais os ingredientes foram mo√≠dos com um pil√£o. </div></div><br>  Adicione as argamassas pr√©-fabricadas √† matriz de f√°brica para que as torres de argamassa possam ser colocadas no campo.  No entanto, eles n√£o est√£o fazendo nada ainda. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a0/9bd/029/1a09bd029c089572ce9542aeb2eff599.png" width="320" height="74" alt="inspetor"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78b/7f1/979/78b7f19793909d4598161ac7cad87901.png" width="230" height="230" alt="cena"></div><br>  <i>Dois tipos de torres, uma delas inativa</i> <br><br><h2>  C√°lculo de trajet√≥ria </h2><br>  Mortira atira uma concha em um √¢ngulo, para que ele voe sobre obst√°culos e acerte o alvo de cima.  Normalmente, s√£o usadas conchas que detonam ao colidir com um alvo ou acima dele.  Para n√£o complicar as coisas, sempre apontaremos para o ch√£o, para que as conchas explodam quando sua altura cai para zero. <br><br><h3>  Mira horizontal </h3><br>  Para apontar a argamassa, precisamos apont√°-la horizontalmente para o alvo e depois mudar sua posi√ß√£o vertical para que o proj√©til caia na dist√¢ncia certa.  Vamos come√ßar com o primeiro passo.  Primeiro, usaremos pontos relativos fixos, n√£o alvos em movimento, para garantir que nossos c√°lculos estejam corretos. <br><br>  Adicione um m√©todo <code>MortarTower</code> ao <code>GameUpdate</code> , que sempre chama o m√©todo <code>Launch</code> .  Em vez de disparar um proj√©til real, visualizaremos c√°lculos matem√°ticos por enquanto.  O ponto de tiro √© a posi√ß√£o da argamassa no mundo, localizada logo acima do solo.  Colocamos o ponto do alvo em tr√™s unidades ao longo do eixo X e zeramos o componente Y, porque sempre apontamos para o ch√£o.  Em seguida, mostraremos os pontos <code>Debug.DrawLine</code> linha amarela entre eles, chamando <code>Debug.DrawLine</code> .  A linha ser√° vis√≠vel no modo de cena para um quadro, mas isso √© suficiente, porque em cada quadro desenhamos uma nova linha. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Launch(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Launch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Vector3 launchPoint = mortar.position; Vector3 targetPoint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(launchPoint.x + <span class="hljs-number"><span class="hljs-number">3f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, launchPoint.z); Debug.DrawLine(launchPoint, targetPoint, Color.yellow); }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cfc/d13/419/cfcd134191102e009ca1c0702c473515.png" width="310" height="120"></div><br>  <i>Nosso objetivo √© um ponto fixo em rela√ß√£o √† torre.</i> <br><br>  Usando esta linha, podemos definir um tri√¢ngulo ret√¢ngulo.  Seu ponto superior est√° na posi√ß√£o de argamassa.  Em rela√ß√£o √†s argamassas, isso √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-mn" id="MJXp-Span-16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0</font></font></span><span class="MJXp-mspace" id="MJXp-Span-17" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;">n </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30"><font style="vertical-align: inherit;">x</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-19">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30"><font style="vertical-align: inherit;"></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.425ex" height="5.19ex" viewBox="0 -780.1 6641.5 2234.6" role="img" focusable="false" style="vertical-align: -3.378ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMAIN-30" x="6141" y="0"></use><g transform="translate(0,-1332)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ begin {bmatrix} 0 \\ 0 \ end {bmatrix} </script>  .  O ponto abaixo, na base da torre, √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mtext" id="MJXp-Span-32">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mrow" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-mn" id="MJXp-Span-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0</font></font></span><span class="MJXp-mspace" id="MJXp-Span-47" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;">n </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60"><font style="vertical-align: inherit;">x</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-49">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60"><font style="vertical-align: inherit;"></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.425ex" height="5.551ex" viewBox="0 -780.1 6641.5 2390.2" role="img" focusable="false" style="vertical-align: -3.74ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMAIN-30" x="6141" y="0"></use><g transform="translate(0,-1332)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-64" x="1814" y="0"></use><g transform="translate(2338,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ begin {bmatrix} 0 \\ y \ end {bmatrix} </script>  , e o ponto na meta √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-61"><span class="MJXp-mtext" id="MJXp-Span-62">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mrow" id="MJXp-Span-68"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x</font></font></span><span class="MJXp-mspace" id="MJXp-Span-77" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;">n </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;">x</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-79">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;"></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.593ex" height="5.551ex" viewBox="0 -780.1 6713.5 2390.2" role="img" focusable="false" style="vertical-align: -3.74ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="6141" y="0"></use><g transform="translate(0,-1332)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-65" x="747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6E" x="1214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-64" x="1814" y="0"></use><g transform="translate(2338,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="2996" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ begin {bmatrix} x \\ y \ end {bmatrix} </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-91"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/461605/&amp;usg=ALkJrhgYC8bw7y4UJA0cBRa1WK1lyK39Kw#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> x </script>  igual a 3 e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> y </script>  √â a posi√ß√£o vertical negativa da argamassa.  Precisamos rastrear esses dois valores. <br><br><pre> <code class="cs hljs"> Vector3 launchPoint = mortar.position; Vector3 targetPoint = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(launchPoint.x + <span class="hljs-number"><span class="hljs-number">3f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, launchPoint.z); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = <span class="hljs-number"><span class="hljs-number">3f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = -launchPoint.y;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ced/090/37c/ced09037c908b7a17505e21674cca0b8.png" width="225" height="125"></div><br>  <i>Tri√¢ngulo apontando.</i> <br><br>  Em geral, o alvo pode estar em qualquer lugar do alcance da torre, portanto Z tamb√©m deve ser levado em considera√ß√£o.  No entanto, o tri√¢ngulo de mira ainda permanece bidimensional, ele simplesmente gira em torno do eixo Y. Para ilustrar isso, adicionaremos o par√¢metro do vetor de deslocamento relativo no <code>Launch</code> e o chamaremos com quatro deslocamentos em XZ: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mtext" id="MJXp-Span-96">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mrow" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-mn" id="MJXp-Span-110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3</font></font></span><span class="MJXp-mspace" id="MJXp-Span-111" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115"><font style="vertical-align: inherit;">n </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124"><font style="vertical-align: inherit;">x</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124"><font style="vertical-align: inherit;"></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> \ begin {bmatrix} 3 \\ 0 \ end {bmatrix} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-125"><span class="MJXp-mtext" id="MJXp-Span-126">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mrow" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-mn" id="MJXp-Span-140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0</font></font></span><span class="MJXp-mspace" id="MJXp-Span-141" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-142">1</span><span class="MJXp-mtext" id="MJXp-Span-143">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">d</span><span class="MJXp-mrow" id="MJXp-Span-147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> \ begin {bmatrix} 0 \\ 1 \ end {bmatrix} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-155"><span class="MJXp-mtext" id="MJXp-Span-156">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">n</span><span class="MJXp-mrow" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">x</span></span><span class="MJXp-mn" id="MJXp-Span-170">1</span><span class="MJXp-mspace" id="MJXp-Span-171" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-172">1</span><span class="MJXp-mtext" id="MJXp-Span-173">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">d</span><span class="MJXp-mrow" id="MJXp-Span-177"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> \ begin {bmatrix} 1 \\ 1 \ end {bmatrix} </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-185"><span class="MJXp-mtext" id="MJXp-Span-186">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">n</span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">x</span></span><span class="MJXp-mn" id="MJXp-Span-200">3</span><span class="MJXp-mspace" id="MJXp-Span-201" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-202">1</span><span class="MJXp-mtext" id="MJXp-Span-203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">d</span><span class="MJXp-mrow" id="MJXp-Span-207"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> \ begin {bmatrix} 3 \\ 1 \ end {bmatrix} </script>  .  Quando o ponto de mira se torna igual ao ponto do tiro mais esse deslocamento, e ent√£o sua coordenada Y se torna igual a zero. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Launch(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">3f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>)); Launch(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>)); Launch(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>)); Launch(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">3f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Launch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector3 offset</span></span></span><span class="hljs-function">)</span></span> { Vector3 launchPoint = mortar.position; Vector3 targetPoint = launchPoint + offset; targetPoint.y = <span class="hljs-number"><span class="hljs-number">0f</span></span>; ‚Ä¶ }</code> </pre> <br>  Agora x do tri√¢ngulo de mira √© igual ao comprimento do vetor 2D apontando da base da torre para o ponto de mira.  Ao normalizar esse vetor, tamb√©m obtemos o vetor de dire√ß√£o XZ, que pode ser usado para alinhar o tri√¢ngulo.  Voc√™ pode mostr√°-lo desenhando a parte inferior do tri√¢ngulo como uma linha branca obtida da dire√ß√£o ex. <br><br><pre> <code class="cs hljs"> Vector2 dir; dir.x = targetPoint.x - launchPoint.x; dir.y = targetPoint.z - launchPoint.z; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = dir.magnitude; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = -launchPoint.y; dir /= x; Debug.DrawLine(launchPoint, targetPoint, Color.yellow); Debug.DrawLine( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(launchPoint.x, <span class="hljs-number"><span class="hljs-number">0.01f</span></span>, launchPoint.z), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3( launchPoint.x + dir.x * x, <span class="hljs-number"><span class="hljs-number">0.01f</span></span>, launchPoint.z + dir.y * x ), Color.white );</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a82/307/6b6/a823076b66a14c4799be25436768a5b2.png" width="310" height="120"></div><br>  <i>Tri√¢ngulos de mira alinhados.</i> <br><br><h3>  √Çngulo de tiro </h3><br>  Em seguida, devemos descobrir o √¢ngulo em que atirar no proj√©til.  √â necess√°rio deriv√°-lo da f√≠sica da trajet√≥ria do proj√©til.  N√£o levaremos em considera√ß√£o o arrasto, vento e outros obst√°culos, apenas a velocidade do tiro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">v</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> v </script>  e gravidade <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">g</span><span class="MJXp-mo" id="MJXp-Span-219" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-220">9</span><span class="MJXp-mo" id="MJXp-Span-221" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-222">81</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> g = 9,81 </script>  . <br><br>  Deslocamento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-223"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> d </script>  o proj√©til est√° alinhado com o tri√¢ngulo de mira e pode ser descrito por dois componentes.  Com o deslocamento horizontal, √© simples: √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-225"><span class="MJXp-msubsup" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-228" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-232" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> d_x = v_xt </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> t </script>  - tempo ap√≥s o tiro.  Com o componente vertical, tudo √© semelhante, ent√£o est√° sujeito a acelera√ß√£o negativa devido √† gravidade, portanto, tem a forma <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-236"><span class="MJXp-msubsup" id="MJXp-Span-237"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-239" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-240" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-241"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-243" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">t</span><span class="MJXp-mo" id="MJXp-Span-245" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-246" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">g</span><span class="MJXp-msubsup" id="MJXp-Span-248"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-250" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-251" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-252"><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-254">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> d_y = v_yt- (g t ^ 2) / 2 </script>  . <br><br><div class="spoiler">  <b class="spoiler_title">Como √© realizado o c√°lculo do deslocamento?</b> <div class="spoiler_text">  Velocidade <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">v</span></span></span><script type="math/tex" id="MathJax-Element-16"> v </script>  determinada pela dist√¢ncia por segundo, portanto, multiplicando a velocidade pela dura√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-257"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">t</span></span></span><script type="math/tex" id="MathJax-Element-17"> t </script>  n√≥s temos a dist√¢ncia <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-259"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">d</span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">t</span></span></span><script type="math/tex" id="MathJax-Element-18"> d = vt </script>  .  Quando a acelera√ß√£o est√° envolvida <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-264"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">a</span></span></span><script type="math/tex" id="MathJax-Element-19"> a </script>  , a velocidade √© vari√°vel.  Acelera√ß√£o √© a mudan√ßa na velocidade por segundo, ou seja, a dist√¢ncia por segundo ao quadrado.  A qualquer momento, a velocidade √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-266"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">v</span><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">m</span></span></span><script type="math/tex" id="MathJax-Element-20"> v = em </script>  .  No nosso caso, h√° acelera√ß√£o constante <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">a</span><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-274" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">g</span></span></span><script type="math/tex" id="MathJax-Element-21"> a = -g </script>  , para que possamos dividi-lo ao meio para obter a velocidade m√©dia e multiplicar pelo tempo para encontrar o deslocamento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">d</span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">e</span><span class="MJXp-msubsup" id="MJXp-Span-281"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282" style="margin-right: 0.05em;">m</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-283" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-284" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-287">2</span></span></span><script type="math/tex" id="MathJax-Element-22"> d = (em ^ 2) / 2 </script>  causada pela gravidade. </div></div><br>  Atiramos conchas na mesma velocidade <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> s </script>  que n√£o depende do √¢ngulo do tiro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-290"><span class="MJXp-mtext" id="MJXp-Span-291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> \ theta </script>  (teta).  Isso √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-297"><span class="MJXp-msubsup" id="MJXp-Span-298"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-300" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-301" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">s</span><span class="MJXp-mtext" id="MJXp-Span-303">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">s</span><span class="MJXp-mtext" id="MJXp-Span-307">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> v_x = s \ cos \ theta </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-313"><span class="MJXp-msubsup" id="MJXp-Span-314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-316" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-317" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">s</span><span class="MJXp-mtext" id="MJXp-Span-319">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">n</span><span class="MJXp-mtext" id="MJXp-Span-323">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> v_y = s \ sin \ theta </script>  . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a1/ee3/7ee/4a1ee37ee06a0b9271cfc5dbab0e22aa.png" width="225" height="125"></div><br>  <i>C√°lculo da velocidade de um tiro.</i> <br><br>  Realizando a substitui√ß√£o, obtemos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-329"><span class="MJXp-msubsup" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-332" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-333" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">t</span><span class="MJXp-mtext" id="MJXp-Span-336">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">s</span><span class="MJXp-mtext" id="MJXp-Span-340">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> d_x = st \ cos \ theta </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-346"><span class="MJXp-msubsup" id="MJXp-Span-347"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-349" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-350" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">t</span><span class="MJXp-mtext" id="MJXp-Span-353">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">n</span><span class="MJXp-mtext" id="MJXp-Span-357">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">a</span><span class="MJXp-mo" id="MJXp-Span-363" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">g</span><span class="MJXp-msubsup" id="MJXp-Span-366"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-368" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-370"><span class="MJXp-mo" id="MJXp-Span-371" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-372">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> d_y = st \ sin \ theta- (g t ^ 2) / 2 </script>  . <br><br>  O proj√©til √© disparado para que seu tempo de v√¥o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-373"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> t </script>  √© o valor exato necess√°rio para atingir a meta.  Como √© mais f√°cil trabalhar com deslocamento horizontal, podemos expressar o tempo como <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-375"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">t</span><span class="MJXp-mo" id="MJXp-Span-377" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mrow" id="MJXp-Span-381"><span class="MJXp-mo" id="MJXp-Span-382" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-msubsup" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-385" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> t = d_x / v_x </script>  .  No ponto final <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-386"><span class="MJXp-msubsup" id="MJXp-Span-387"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-389" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-390" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> d_x = x </script>  isso √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-394" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mrow" id="MJXp-Span-396"><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0.111em; margin-right: 0.111em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-398" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401"><font style="vertical-align: inherit;">c </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402"><font style="vertical-align: inherit;">o </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406"><font style="vertical-align: inherit;">h </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span></font><span class="MJXp-mtext" id="MJXp-Span-400">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-404">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> t = x / (s \ cos \ theta) </script>  .  Isso significa que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mo" id="MJXp-Span-413" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418"><font style="vertical-align: inherit;">n </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421"><font style="vertical-align: inherit;">h </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mo" id="MJXp-Span-425" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;">- </font></span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">( </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427"><font style="vertical-align: inherit;">g </font></span><span class="MJXp-msubsup" id="MJXp-Span-428"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">x </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-428"><span class="MJXp-mn MJXp-script" id="MJXp-Span-430" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">2</font></span></span><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ) </font></span><span class="MJXp-mrow" id="MJXp-Span-432"><span class="MJXp-mo" id="MJXp-Span-433" style="margin-left: 0.111em; margin-right: 0.111em;"><font style="vertical-align: inherit;">/</font></span></span><span class="MJXp-mo" id="MJXp-Span-434" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span><span class="MJXp-mn" id="MJXp-Span-435"><font style="vertical-align: inherit;">2 </font></span><span class="MJXp-msubsup" id="MJXp-Span-436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">s </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-436"><span class="MJXp-mn MJXp-script" id="MJXp-Span-438" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">2</font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440"><font style="vertical-align: inherit;"> c </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441"><font style="vertical-align: inherit;">o </font></span><span class="MJXp-msubsup" id="MJXp-Span-442"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">s </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-442"><span class="MJXp-mn MJXp-script" id="MJXp-Span-444" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">2</font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446"><font style="vertical-align: inherit;"> t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447"><font style="vertical-align: inherit;">h </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span></font><span class="MJXp-mtext" id="MJXp-Span-415">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-425" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-428"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-430" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-432"><span class="MJXp-mo" id="MJXp-Span-433" style="margin-left: 0.111em; margin-right: 0.111em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-434" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-435"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-438" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-439">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-442"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-444" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-445">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> y = x \ tan \ theta- (gx ^ 2) / (2s ^ 2 \ cos ^ 2 \ theta) </script>  . <br><br><div class="spoiler">  <b class="spoiler_title">Como obter a equa√ß√£o y?</b> <div class="spoiler_text"><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-452"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">y</span><span class="MJXp-mo" id="MJXp-Span-454" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456" style="margin-right: 0.05em;">d</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-457" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-458" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">s</span><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">x</span><span class="MJXp-mrow" id="MJXp-Span-462"><span class="MJXp-mo" id="MJXp-Span-463" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-464" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">s</span><span class="MJXp-mtext" id="MJXp-Span-466">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">s</span><span class="MJXp-mtext" id="MJXp-Span-470">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">a</span><span class="MJXp-mo" id="MJXp-Span-476" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-478">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">n</span><span class="MJXp-mtext" id="MJXp-Span-482">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">a</span><span class="MJXp-mo" id="MJXp-Span-488" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-489" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">g</span><span class="MJXp-mo" id="MJXp-Span-491" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">x</span><span class="MJXp-mrow" id="MJXp-Span-493"><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">s</span><span class="MJXp-mtext" id="MJXp-Span-497">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">s</span><span class="MJXp-mtext" id="MJXp-Span-501">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">a</span><span class="MJXp-mo" id="MJXp-Span-507" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-508"><span class="MJXp-mo" id="MJXp-Span-509" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-510" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-511" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-512"><span class="MJXp-mo" id="MJXp-Span-513" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-514">2</span><span class="MJXp-mo" id="MJXp-Span-515" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">x</span><span class="MJXp-mtext" id="MJXp-Span-517">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">n</span><span class="MJXp-mtext" id="MJXp-Span-521">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">a</span><span class="MJXp-mrow" id="MJXp-Span-527"><span class="MJXp-mo" id="MJXp-Span-528" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-529">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">s</span><span class="MJXp-mtext" id="MJXp-Span-533">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">Q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">l</span><span class="MJXp-mrow" id="MJXp-Span-538"><span class="MJXp-mo" id="MJXp-Span-539" style="margin-left: 0em; margin-right: 0em;">√©</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">e</span><span class="MJXp-mn" id="MJXp-Span-555">2</span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0.111em; margin-right: 0.111em;">?</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">m</span><span class="MJXp-mrow" id="MJXp-Span-562"><span class="MJXp-mo" id="MJXp-Span-563" style="margin-left: 0em; margin-right: 0em;">√°</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">a</span><span class="MJXp-mn" id="MJXp-Span-568">5</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">o</span></span></span><script type="math/tex" id="MathJax-Element-34"> y = d_y = s (x / (s \ cos \ theta)) \ sin \ theta- (g (x / (s \ cos \ theta)) ^ 2) / 2 = x \ sin \ theta / \ cos \ Qual √© a raiz quadrada de 2? Matem√°tica5 ponto</script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-574"><span class="MJXp-mtext" id="MJXp-Span-575">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">n</span><span class="MJXp-mtext" id="MJXp-Span-579">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">a</span><span class="MJXp-mo" id="MJXp-Span-585" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-586">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">n</span><span class="MJXp-mtext" id="MJXp-Span-590">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">a</span><span class="MJXp-mrow" id="MJXp-Span-596"><span class="MJXp-mo" id="MJXp-Span-597" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-598">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601">s</span><span class="MJXp-mtext" id="MJXp-Span-602">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">a</span></span></span><script type="math/tex" id="MathJax-Element-35"> \ tan \ theta = \ sin \ theta / \ cos \ theta </script>  . </div></div><br>  Usando esta equa√ß√£o, encontramos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-608"><span class="MJXp-mtext" id="MJXp-Span-609">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">n</span><span class="MJXp-mtext" id="MJXp-Span-613">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">a</span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-620" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-621"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-623" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-624" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-626">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">t</span><span class="MJXp-mrow" id="MJXp-Span-631"><span class="MJXp-mo" id="MJXp-Span-632" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-633"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-635" style="vertical-align: 0.5em;">4</span></span><span class="MJXp-mo" id="MJXp-Span-636" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">g</span><span class="MJXp-mo" id="MJXp-Span-638" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">g</span><span class="MJXp-msubsup" id="MJXp-Span-640"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-642" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-643" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-644">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">y</span><span class="MJXp-msubsup" id="MJXp-Span-646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-648" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-649" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-650" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-651" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-652"><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-654" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">x</span><span class="MJXp-mo" id="MJXp-Span-657" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ tan \ theta = (s ^ 2 + - \ sqrt {(s ^ 4-g (gx ^ 2 + 2ys ^ 2))}) / (gx) </script>  . <br><div class="spoiler">  <b class="spoiler_title">Como obter a equa√ß√£o tan Œ∏?</b> <div class="spoiler_text">  Primeiro vamos usar a identidade trigonom√©trica <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-658"><span class="MJXp-mtext" id="MJXp-Span-659">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">g</span><span class="MJXp-mtext" id="MJXp-Span-663">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">a</span><span class="MJXp-mo" id="MJXp-Span-669" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-670">1</span><span class="MJXp-mrow" id="MJXp-Span-671"><span class="MJXp-mo" id="MJXp-Span-672" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-673">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">s</span><span class="MJXp-mtext" id="MJXp-Span-677">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">a</span></span></span><script type="math/tex" id="MathJax-Element-37"> \ seg \ theta = 1 / \ cos \ theta </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-683"><span class="MJXp-mn" id="MJXp-Span-684">1</span><span class="MJXp-mo" id="MJXp-Span-685" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-686">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">a</span><span class="MJXp-msubsup" id="MJXp-Span-689"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-691" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-692">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">a</span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-699">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">e</span><span class="MJXp-msubsup" id="MJXp-Span-702"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-704" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-705">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">a</span></span></span><script type="math/tex" id="MathJax-Element-38"> 1 + \ tan ^ 2 \ theta = \ seg ^ 2 \ theta </script>  para vir para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-711"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">y</span><span class="MJXp-mo" id="MJXp-Span-713" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">x</span><span class="MJXp-mtext" id="MJXp-Span-715">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">n</span><span class="MJXp-mtext" id="MJXp-Span-719">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">a</span><span class="MJXp-mo" id="MJXp-Span-725" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-726" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">g</span><span class="MJXp-msubsup" id="MJXp-Span-728"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-730" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-731" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-732"><span class="MJXp-mo" id="MJXp-Span-733" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-734" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-735">2</span><span class="MJXp-msubsup" id="MJXp-Span-736"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-738" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-739" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-741">1</span><span class="MJXp-mo" id="MJXp-Span-742" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-743">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">a</span><span class="MJXp-msubsup" id="MJXp-Span-746"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-748" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-749">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">a</span><span class="MJXp-mo" id="MJXp-Span-755" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-756" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-757" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-758" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">g</span><span class="MJXp-msubsup" id="MJXp-Span-760"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-762" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-763" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-764"><span class="MJXp-mo" id="MJXp-Span-765" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-766" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-767">2</span><span class="MJXp-msubsup" id="MJXp-Span-768"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-770" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-771" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-772">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-773">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-774">a</span><span class="MJXp-msubsup" id="MJXp-Span-775"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-777" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-778">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-783">a</span><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785">x</span><span class="MJXp-mtext" id="MJXp-Span-786">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">n</span><span class="MJXp-mtext" id="MJXp-Span-790">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-791">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">a</span><span class="MJXp-mo" id="MJXp-Span-796" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-797" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">g</span><span class="MJXp-msubsup" id="MJXp-Span-799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-801" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-802" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-803"><span class="MJXp-mo" id="MJXp-Span-804" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-805" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-806">2</span><span class="MJXp-msubsup" id="MJXp-Span-807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-809" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-810" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-39"> y = x \ tan \ theta- (gx ^ 2) / (2s ^ 2) (1+ \ tan ^ 2 \ theta) = - (gx ^ 2) / (2s ^ 2) \ tan ^ 2 \ theta + x \ tan \ theta- (gx ^ 2) / (2s ^ 2) </script>  . <br><br>  Esta √© uma express√£o do formul√°rio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-811"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">a</span><span class="MJXp-msubsup" id="MJXp-Span-813"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-815" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-816" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">u</span><span class="MJXp-mo" id="MJXp-Span-819" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">c</span><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-822">0</span></span></span><script type="math/tex" id="MathJax-Element-40"> au ^ 2 + bu + c = 0 </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-823"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">u</span><span class="MJXp-mo" id="MJXp-Span-825" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-826">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">n</span><span class="MJXp-mtext" id="MJXp-Span-830">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">a</span></span></span><script type="math/tex" id="MathJax-Element-41"> u = \ tan \ theta </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-836"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">a</span><span class="MJXp-mo" id="MJXp-Span-838" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-839" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-840" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841">g</span><span class="MJXp-msubsup" id="MJXp-Span-842"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-844" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-845" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-846"><span class="MJXp-mo" id="MJXp-Span-847" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-848" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-849">2</span><span class="MJXp-msubsup" id="MJXp-Span-850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-852" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-853" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-42"> a = - (gx ^ 2) / (2s ^ 2) </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-854"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-855">b</span><span class="MJXp-mo" id="MJXp-Span-856" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">x</span></span></span><script type="math/tex" id="MathJax-Element-43"> b = x </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-858"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">c</span><span class="MJXp-mo" id="MJXp-Span-860" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">a</span><span class="MJXp-mo" id="MJXp-Span-862" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">y</span></span></span><script type="math/tex" id="MathJax-Element-44"> c = a-y </script>  . <br><br>  Podemos resolv√™-lo usando a f√≥rmula das ra√≠zes da equa√ß√£o quadr√°tica <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-864"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">u</span><span class="MJXp-mo" id="MJXp-Span-866" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-867" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-868" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-869">b</span><span class="MJXp-mo" id="MJXp-Span-870" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-871" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-872">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">t</span><span class="MJXp-mrow" id="MJXp-Span-877"><span class="MJXp-mo" id="MJXp-Span-878" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-879"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-881" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-882" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-883">4</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885">c</span><span class="MJXp-mo" id="MJXp-Span-886" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-887" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-888"><span class="MJXp-mo" id="MJXp-Span-889" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-891">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">a</span><span class="MJXp-mo" id="MJXp-Span-893" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-45"> u = (- b + - \ sqrt {(b ^ 2-4ac)}) / (2a) </script>  . <br><br>  Ap√≥s sua substitui√ß√£o, a equa√ß√£o se tornar√° confusa, mas voc√™ pode simplific√°-la multiplicando pela <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-894"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">m</span><span class="MJXp-mo" id="MJXp-Span-896" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-897"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-899" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mrow" id="MJXp-Span-900"><span class="MJXp-mo" id="MJXp-Span-901" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">x</span></span></span><script type="math/tex" id="MathJax-Element-46"> m = s ^ 2 / x </script>  ent√£o para obter <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-903"><span class="MJXp-mtext" id="MJXp-Span-904">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-907">n</span><span class="MJXp-mtext" id="MJXp-Span-908">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">a</span><span class="MJXp-mo" id="MJXp-Span-914" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-916" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">b</span><span class="MJXp-mo" id="MJXp-Span-919" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-920" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">m</span><span class="MJXp-mtext" id="MJXp-Span-922">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926">t</span><span class="MJXp-mrow" id="MJXp-Span-927"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">r</span></span><span class="MJXp-mo" id="MJXp-Span-929" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-930"><span class="MJXp-mo" id="MJXp-Span-931" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-932" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-933">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">a</span><span class="MJXp-mo" id="MJXp-Span-936" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-47"> \ tan \ theta = (- mb + -m \ sqrt {r}) / (2ma) </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-937"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-938">r</span><span class="MJXp-mo" id="MJXp-Span-939" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-940"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-941" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-942" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-943" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-944">4</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">c</span></span></span><script type="math/tex" id="MathJax-Element-48"> r = b ^ 2-4ac </script>  . <br><br>  Nesse caso, obtemos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-947"><span class="MJXp-mtext" id="MJXp-Span-948">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951">n</span><span class="MJXp-mtext" id="MJXp-Span-952">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-953">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-956">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957">a</span><span class="MJXp-mo" id="MJXp-Span-958" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-959" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-960"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-962" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-963" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-964" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-965">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">t</span><span class="MJXp-mrow" id="MJXp-Span-970"><span class="MJXp-mo" id="MJXp-Span-971" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-972"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973" style="margin-right: 0.05em;">m</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-974" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">r</span><span class="MJXp-mo" id="MJXp-Span-976" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-977" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-978"><span class="MJXp-mo" id="MJXp-Span-979" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-980" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">x</span><span class="MJXp-mo" id="MJXp-Span-983" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-49"> \ tan \ theta = (s ^ 2 + - \ sqrt {(m ^ 2r)}) / (gx) </script>  . <br><br>  Como resultado <math></math><img src="https://habrastorage.org/getpro/habr/formulas/9ea/31d/af6/9ea31daf680c1d3ac97007bd53d889a3.svg" alt="A soma de dois algarismos distintos √© igual a: a) x2 + x2 + x2 + x = 0 2) $" data-tex="inline">  . </div></div><br>  Existem dois √¢ngulos poss√≠veis, porque voc√™ pode mirar alto ou baixo.  Uma trajet√≥ria baixa √© mais r√°pida porque est√° mais pr√≥xima de uma linha reta do alvo.  Mas a trajet√≥ria alta parece mais interessante, por isso a escolheremos.  Isso significa que precisamos apenas usar a maior solu√ß√£o. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-984"><span class="MJXp-mtext" id="MJXp-Span-985">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">n</span><span class="MJXp-mtext" id="MJXp-Span-989">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994">a</span><span class="MJXp-mo" id="MJXp-Span-995" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-996" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-997"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-999" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1000" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1001">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005">t</span><span class="MJXp-mrow" id="MJXp-Span-1006"><span class="MJXp-mo" id="MJXp-Span-1007" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1008"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1010" style="vertical-align: 0.5em;">4</span></span><span class="MJXp-mo" id="MJXp-Span-1011" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">g</span><span class="MJXp-mo" id="MJXp-Span-1013" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014">g</span><span class="MJXp-msubsup" id="MJXp-Span-1015"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1017" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1018" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1019">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">y</span><span class="MJXp-msubsup" id="MJXp-Span-1021"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1023" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1024" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1025" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-1026" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-1027"><span class="MJXp-mo" id="MJXp-Span-1028" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-1029" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1030">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">x</span><span class="MJXp-mo" id="MJXp-Span-1032" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ tan \ theta = (s ^ 2 + \ sqrt {(s ^ 4-g (gx ^ 2 + 2ys ^ 2))}) / (gx) </script>  .  N√≥s calculamos e tamb√©m <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1033"><span class="MJXp-mtext" id="MJXp-Span-1034">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1037">s</span><span class="MJXp-mtext" id="MJXp-Span-1038">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1041">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1043">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ cos \ theta </script>  com <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1044"><span class="MJXp-mtext" id="MJXp-Span-1045">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048">n</span><span class="MJXp-mtext" id="MJXp-Span-1049">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> \ sin \ theta </script>  , porque precisamos deles para obter o vetor de velocidade da foto.  Para isso, voc√™ precisa converter <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1055"><span class="MJXp-mtext" id="MJXp-Span-1056">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">n</span><span class="MJXp-mtext" id="MJXp-Span-1060">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> \ tan \ theta </script>  para o √¢ngulo radiano usando <code>Mathf.Atan</code> .  Primeiro, vamos usar uma velocidade constante de tiro de 5. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = dir.magnitude; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = -launchPoint.y; dir /= x; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> g = <span class="hljs-number"><span class="hljs-number">9.81f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> s = <span class="hljs-number"><span class="hljs-number">5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> s2 = s * s; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> r = s2 * s2 - g * (g * x * x + <span class="hljs-number"><span class="hljs-number">2f</span></span> * y * s2); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tanTheta = (s2 + Mathf.Sqrt(r)) / (g * x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cosTheta = Mathf.Cos(Mathf.Atan(tanTheta)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sinTheta = cosTheta * tanTheta;</code> </pre> <br>  Vamos visualizar a trajet√≥ria desenhando dez segmentos azuis mostrando o primeiro segundo do voo. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sinTheta = cosTheta * tanTheta; Vector3 prev = launchPoint, next; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> t = i / <span class="hljs-number"><span class="hljs-number">10f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dx = s * cosTheta * t; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dy = s * sinTheta * t - <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * g * t * t; next = launchPoint + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(dir.x * dx, dy, dir.y * dx); Debug.DrawLine(prev, next, Color.blue); prev = next; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/154/7e4/fbb/1547e4fbb9bf8e8bf81ebf18b6b3e390.png" width="310" height="160"></div><br>  <i>Linhas de voo de Par√°bola com dura√ß√£o de um segundo.</i> <br><br>  Os dois pontos mais distantes podem ser alcan√ßados em menos de um segundo, ent√£o vemos todas as suas trajet√≥rias e os segmentos continuam um pouco mais abaixo da superf√≠cie.  Para os outros dois pontos, s√£o necess√°rios √¢ngulos de tiro maiores, devido aos quais as trajet√≥rias se tornam mais longas e o v√¥o dura mais de um segundo. <br><br><h3>  Velocidade de tiro </h3><br>  Se voc√™ quiser alcan√ßar os dois pontos mais pr√≥ximos em um segundo, precisar√° reduzir a velocidade do tiro.  Vamos torn√°-lo igual a 4. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> s = <span class="hljs-number"><span class="hljs-number">4f</span></span>;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ec/429/4a8/0ec4294a8a6e4de20c57146413d6e5cc.png" width="310" height="140"></div><br>  <i>Velocidade do tiro reduzida para 4.</i> <br><br>  Suas trajet√≥rias est√£o agora completas, mas as outras duas se foram.  Isso aconteceu porque a velocidade do tiro agora n√£o √© suficiente para alcan√ßar esses pontos.  Nesses casos, solu√ß√µes para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1066"><span class="MJXp-mtext" id="MJXp-Span-1067">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">n</span><span class="MJXp-mtext" id="MJXp-Span-1071">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1073">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> \ tan \ theta </script>  n√£o, ou seja, obtemos a raiz quadrada de um n√∫mero negativo, levando a valores de NaN e ao desaparecimento de linhas.  Podemos reconhecer isso verificando <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1077"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> r </script>  √† negatividade. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> r = s2 * s2 - g * (g * x * x + <span class="hljs-number"><span class="hljs-number">2f</span></span> * y * s2); Debug.Assert(r &gt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-string"><span class="hljs-string">"Launch velocity insufficient for range!"</span></span>);</code> </pre> <br>  Esta situa√ß√£o pode ser evitada definindo uma velocidade de tiro suficientemente alta.  Mas se for muito grande, para atingir alvos pr√≥ximos √† torre exigir√° trajet√≥rias muito altas e um longo tempo de voo; portanto, voc√™ deve deixar a velocidade o mais baixa poss√≠vel.  A velocidade do tiro deve ser suficiente para atingir o alvo no alcance m√°ximo. <br><br>  Na faixa m√°xima <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1079"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">r</span><span class="MJXp-mo" id="MJXp-Span-1081" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1082">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> r = 0 </script>  , ou seja, para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1083"><span class="MJXp-mtext" id="MJXp-Span-1084">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1085">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087">n</span><span class="MJXp-mtext" id="MJXp-Span-1088">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ tan \ theta </script>  Existe apenas uma solu√ß√£o, correspondendo a uma trajet√≥ria baixa.  Isso significa que sabemos a velocidade necess√°ria do tiro. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1094"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">s</span><span class="MJXp-mo" id="MJXp-Span-1096" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1097">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101">t</span><span class="MJXp-mrow" id="MJXp-Span-1102"><span class="MJXp-mo" id="MJXp-Span-1103" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">g</span><span class="MJXp-mo" id="MJXp-Span-1105" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">y</span><span class="MJXp-mo" id="MJXp-Span-1107" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1108">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">t</span><span class="MJXp-mrow" id="MJXp-Span-1113"><span class="MJXp-mo" id="MJXp-Span-1114" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1115"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1117" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1118" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1121" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1122" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-1123" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1124" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> s = \ sqrt {(g (y + \ sqrt {(x ^ 2 + y ^ 2)}))} </script>  . <br><br><div class="spoiler">  <b class="spoiler_title">Como derivar esta equa√ß√£o para s?</b> <div class="spoiler_text">  Precisa decidir <math></math><img src="https://habrastorage.org/getpro/habr/formulas/2f3/39e/1b9/2f339e1b92194bdef67e7f47766d724e.svg" alt="Qual o valor de x na equa√ß√£o x + 2y = 0? Matem√°tica5 pontos" data-tex="inline">  para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1126">s</span></span></span><script type="math/tex" id="MathJax-Element-59"> s </script>  . <br><br>  Esta √© uma express√£o do formul√°rio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1127"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1128">a</span><span class="MJXp-msubsup" id="MJXp-Span-1129"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1131" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1132" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134">u</span><span class="MJXp-mo" id="MJXp-Span-1135" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1136">c</span><span class="MJXp-mo" id="MJXp-Span-1137" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1138">0</span></span></span><script type="math/tex" id="MathJax-Element-60"> au ^ 2 + bu + c = 0 </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140">u</span><span class="MJXp-mo" id="MJXp-Span-1141" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1142"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1144" style="vertical-align: 0.5em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-61"> u = s ^ 2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">a</span><span class="MJXp-mo" id="MJXp-Span-1147" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1148">1</span></span></span><script type="math/tex" id="MathJax-Element-62"> a = 1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">b</span><span class="MJXp-mo" id="MJXp-Span-1151" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1152" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1153">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">y</span></span></span><script type="math/tex" id="MathJax-Element-63"> b = -2gy </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">c</span><span class="MJXp-mo" id="MJXp-Span-1158" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1159" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-1160"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1162" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-1163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1165" style="vertical-align: 0.5em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-64"> c = -g ^ 2x ^ 2 </script>  . <br><br>  Voc√™ pode resolv√™-lo usando a f√≥rmula simplificada das ra√≠zes da equa√ß√£o quadr√°tica <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">u</span><span class="MJXp-mo" id="MJXp-Span-1168" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1169" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1170" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">b</span><span class="MJXp-mo" id="MJXp-Span-1172" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1173" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-1174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1176">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178">t</span><span class="MJXp-mrow" id="MJXp-Span-1179"><span class="MJXp-mo" id="MJXp-Span-1180" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1181"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1183" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1184" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1185">4</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">c</span><span class="MJXp-mo" id="MJXp-Span-1187" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-1188" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-1189"><span class="MJXp-mo" id="MJXp-Span-1190" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-1191">2</span></span></span><script type="math/tex" id="MathJax-Element-65"> u = (- b + - \ sqrt {(b ^ 2-4c)}) / 2 </script>  . <br><br>  Ap√≥s a substitui√ß√£o, obtemos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1192"><span class="MJXp-msubsup" id="MJXp-Span-1193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1194" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1195" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1196" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1197" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1198">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1199">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200">y</span><span class="MJXp-mo" id="MJXp-Span-1201" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1202" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-1203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">t</span><span class="MJXp-mrow" id="MJXp-Span-1208"><span class="MJXp-mo" id="MJXp-Span-1209" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1210">4</span><span class="MJXp-msubsup" id="MJXp-Span-1211"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1212" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1213" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-1214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1216" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1217" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1218">4</span><span class="MJXp-msubsup" id="MJXp-Span-1219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1221" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-1222"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1224" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1225" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-1226" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-1227"><span class="MJXp-mo" id="MJXp-Span-1228" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-1229">2</span><span class="MJXp-mo" id="MJXp-Span-1230" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1232">y</span><span class="MJXp-mo" id="MJXp-Span-1233" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1234" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">g</span><span class="MJXp-mtext" id="MJXp-Span-1236">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1237">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1238">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">t</span><span class="MJXp-mrow" id="MJXp-Span-1241"><span class="MJXp-mo" id="MJXp-Span-1242" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1243"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1245" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1246" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1248" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1249" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1250" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><script type="math/tex" id="MathJax-Element-66"> s ^ 2 = (2gy + - \ sqrt {(4g ^ 2y ^ 2 + 4g ^ 2x ^ 2)}) / 2 = gy + -g \ sqrt {(x ^ 2 + y ^ 2)} </script>  . <br><br>  Precisamos de uma solu√ß√£o positiva, ent√£o chegamos a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1251"><span class="MJXp-msubsup" id="MJXp-Span-1252"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1254" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1255" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256">g</span><span class="MJXp-mo" id="MJXp-Span-1257" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">y</span><span class="MJXp-mo" id="MJXp-Span-1259" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1260">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1264">t</span><span class="MJXp-mrow" id="MJXp-Span-1265"><span class="MJXp-mo" id="MJXp-Span-1266" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1267"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1269" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1270" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1272" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1273" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1274" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-1275" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-67"> s ^ 2 = g (y + \ sqrt {(x ^ 2 + y ^ 2)}) </script>  . </div></div><br>  Precisamos determinar a velocidade necess√°ria somente quando as argamassas acordam (Desperta) ou quando alteramos seu alcance no modo Play.  Portanto, n√≥s o rastrearemos usando o campo e calcularemos em <code>Awake</code> e <code>OnValidate</code> . <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> launchSpeed; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { OnValidate(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnValidate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = targetingRange; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = -mortar.position.y; launchSpeed = Mathf.Sqrt(<span class="hljs-number"><span class="hljs-number">9.81f</span></span> * (y + Mathf.Sqrt(x * x + y * y))); }</code> </pre> <br>  No entanto, devido a limita√ß√µes na precis√£o dos c√°lculos de ponto flutuante, a determina√ß√£o do alvo muito pr√≥ximo da faixa m√°xima pode ser incorreta.  Portanto, ao calcular a velocidade necess√°ria, adicionamos uma pequena quantidade ao intervalo.  Al√©m disso, o raio do colisor do inimigo expande essencialmente o raio m√°ximo do alcance da torre.  Fizemos o valor igual a 0,125, mas com um aumento na escala do inimigo, ele pode dobrar o m√°ximo poss√≠vel, aumentando o alcance real em cerca de 0,25, por exemplo, em 0,25001. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = targetingRange + <span class="hljs-number"><span class="hljs-number">0.25001f</span></span>;</code> </pre> <br>  Em seguida, aplique a equa√ß√£o derivada para a velocidade de uma foto no <code>Launch</code> . <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> s = launchSpeed;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/37c/323/76037c32335075486f9e84e231a98ca1.png" width="310" height="170"></div><br>  <i>Aplique a velocidade calculada na faixa de mira 3.5.</i> <br><br><h3>  Tiro </h3><br>  Tendo o c√°lculo correto da trajet√≥ria, voc√™ pode se livrar das metas de teste relativas.  Agora voc√™ precisa passar o ponto de <code>Launch</code> para o destino. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Launch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TargetPoint target</span></span></span><span class="hljs-function">)</span></span> { Vector3 launchPoint = mortar.position; Vector3 targetPoint = target.Position; targetPoint.y = <span class="hljs-number"><span class="hljs-number">0f</span></span>; ‚Ä¶ }</code> </pre> <br>  Al√©m disso, os tiros n√£o s√£o disparados em todos os quadros.  Precisamos acompanhar o processo do tiro da mesma maneira que o processo de cria√ß√£o de inimigos e capturar um alvo aleat√≥rio quando chegar a hora do tiro no <code>GameUpdate</code> .  Mas, neste momento, pode n√£o haver objetivos dispon√≠veis.  Nesse caso, continuamos o processo de disparo, mas sem maior ac√∫mulo.  Para evitar um loop infinito, √© necess√°rio torn√°-lo um pouco menor que 1. <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> launchProgress; ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { launchProgress += shotsPerSecond * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (launchProgress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (AcquireTarget(<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> TargetPoint target)) { Launch(target); launchProgress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { launchProgress = <span class="hljs-number"><span class="hljs-number">0.999f</span></span>; } } }</code> </pre> <br>  N√£o rastreamos alvos entre tiros, mas precisamos girar a argamassa corretamente durante os tiros.  Voc√™ pode usar a dire√ß√£o horizontal da foto para girar a argamassa horizontalmente usando <code>Quaternion.LookRotation</code> .  Tamb√©m precisamos com <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1276"><span class="MJXp-mtext" id="MJXp-Span-1277">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1278">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1279">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1280">n</span><span class="MJXp-mtext" id="MJXp-Span-1281">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68"> \ tan \ theta </script>  aplique o √¢ngulo de tiro para o componente Y do vetor de dire√ß√£o.  Isso funcionar√° porque a dire√ß√£o horizontal tem um comprimento de 1, ou seja, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1287"><span class="MJXp-mtext" id="MJXp-Span-1288">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291">n</span><span class="MJXp-mtext" id="MJXp-Span-1292">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">a</span><span class="MJXp-mo" id="MJXp-Span-1298" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302">n</span><span class="MJXp-mtext" id="MJXp-Span-1303">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1304">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1305">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69"> \ tan \ theta = \ sin \ theta </script>  . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad5/3ab/d92/ad53abd9267080d707d8ac4fa2b4b219.png" width="225" height="125"></div><br>  <i>Decomposi√ß√£o do vetor de virada do visual.</i> <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tanTheta = (s2 + Mathf.Sqrt(r)) / (g * x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cosTheta = Mathf.Cos(Mathf.Atan(tanTheta)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sinTheta = cosTheta * tanTheta; mortar.localRotation = Quaternion.LookRotation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(dir.x, tanTheta, dir.y));</code> </pre> <br>  Para ainda ver a trajet√≥ria das capturas, voc√™ pode adicionar um par√¢metro ao <code>Debug.DrawLine</code> que permita que elas sejam desenhadas por um longo tempo. <br><br><pre> <code class="cs hljs"> Vector3 prev = launchPoint, next; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { ‚Ä¶ Debug.DrawLine(prev, next, Color.blue, <span class="hljs-number"><span class="hljs-number">1f</span></span>); prev = next; } Debug.DrawLine(launchPoint, targetPoint, Color.yellow, <span class="hljs-number"><span class="hljs-number">1f</span></span>); Debug.DrawLine( ‚Ä¶ Color.white, <span class="hljs-number"><span class="hljs-number">1f</span></span> );</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bo/qv/ud/boqvuda-fwbskvuul5tuaosc7w8.gif"></div><br>  <i>Apontar.</i> <br><br><h2>  Conchas </h2><br>  O significado de calcular trajet√≥rias √© que agora sabemos como disparar conchas.  Em seguida, precisamos cri√°-los e mat√°-los. <br><br><h3>  F√°brica de guerra </h3><br>  Precisamos de uma f√°brica para instanciar objetos de shell.  Enquanto no ar, as conchas existem por conta pr√≥pria e n√£o s√£o mais dependentes dos morteiros que as atingiram.  Portanto, eles n√£o devem ser processados ‚Äã‚Äãpela torre de argamassa e a f√°brica de conte√∫do de ladrilhos tamb√©m n√£o √© adequada para isso.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos criar criar para tudo o que est√° relacionado √†s armas, uma nova f√°brica e chamaremos de f√°brica de guerra. </font><font style="vertical-align: inherit;">Primeiro, crie um resumo </font></font><code>WarEntity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com uma propriedade </font></font><code>OriginFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e um m√©todo </font></font><code>Recycle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WarEntity</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { WarFactory originFactory; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> WarFactory OriginFactory { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; originFactory; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { Debug.Assert(originFactory == <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Redefined origin factory!"</span></span>); originFactory = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Recycle</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { originFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, crie uma entidade espec√≠fica </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para as conchas.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Shell</span></span> : <span class="hljs-title"><span class="hljs-title">WarEntity</span></span> { }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, crie </font></font><code>WarFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquele que criar√° o proj√©til usando a propriedade getter p√∫blica.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CreateAssetMenu] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WarFactory</span></span> : <span class="hljs-title"><span class="hljs-title">GameObjectFactory</span></span> { [SerializeField] Shell shellPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Shell Shell‚Ç¨ =&gt; Get(shellPrefab); T Get&lt;T&gt; (T prefab) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : WarEntity { T instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reclaim</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">WarEntity entity</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert(entity.OriginFactory == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"Wrong factory reclaimed!"</span></span>); Destroy(entity.gameObject); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie uma pr√©-fabricada para o proj√©til. </font><font style="vertical-align: inherit;">Usei um cubo simples com a mesma escala de 0,25 e material escuro, al√©m de um componente </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em seguida, crie o ativo da f√°brica e atribua a pr√©-fabricada do proj√©til.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/62a/a5e/803/62aa5e8031ffc282f8f54ea2084884bd.png" width="320" height="88"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√°brica de guerra.</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comportamento do jogo </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para mover as conchas, elas precisam ser atualizadas. </font><font style="vertical-align: inherit;">Voc√™ pode usar a mesma abordagem usada </font></font><code>Game</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para atualizar o status dos inimigos. </font><font style="vertical-align: inherit;">De fato, podemos at√© generalizar essa abordagem criando um componente abstrato </font></font><code>GameBehavior</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que estende </font></font><code>MonoBehaviour</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e adiciona um m√©todo virtual </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameBehavior</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora fa√ßa a refatora√ß√£o </font></font><code>EnemyCollection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, transformando-a em </font></font><code>GameBehaviorCollection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameBehaviorCollection</span></span> { List&lt;GameBehavior&gt; behaviors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;GameBehavior&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameBehavior behavior</span></span></span><span class="hljs-function">)</span></span> { behaviors.Add(behavior); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; behaviors.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!behaviors[i].GameUpdate()) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lastIndex = behaviors.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>; behaviors[i] = behaviors[lastIndex]; behaviors.RemoveAt(lastIndex); i -= <span class="hljs-number"><span class="hljs-number">1</span></span>; } } } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos faz√™-lo </font></font><code>WarEntity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expandir </font></font><code>GameBehavior</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, n√£o </font></font><code>MonoBehavior</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WarEntity</span></span> : <span class="hljs-title"><span class="hljs-title">GameBehavior</span></span> { ‚Ä¶ }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faremos o mesmo por </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, desta vez, substituindo o m√©todo </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Enemy</span></span> : <span class="hljs-title"><span class="hljs-title">GameBehavior</span></span> { ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ } ‚Ä¶ }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partir de agora, </font></font><code>Game</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ele ter√° que rastrear duas cole√ß√µes, uma para inimigos e outra para n√£o-inimigos. </font><font style="vertical-align: inherit;">Os n√£o inimigos devem ser atualizados depois de tudo o mais.</font></font><br><br><pre> <code class="cs hljs"> GameBehaviorCollection enemies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameBehaviorCollection(); GameBehaviorCollection nonEnemies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameBehaviorCollection(); ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ enemies.GameUpdate(); Physics.SyncTransforms(); board.GameUpdate(); nonEnemies.GameUpdate(); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A etapa final na implementa√ß√£o de uma atualiza√ß√£o do shell √© adicion√°-los a uma cole√ß√£o de n√£o inimigos. </font><font style="vertical-align: inherit;">Vamos fazer isso com uma fun√ß√£o </font></font><code>Game</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que ser√° uma fachada est√°tica para uma f√°brica de guerra, para que proj√©teis possam ser criados por um desafio </font></font><code>Game.SpawnShell()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Para que isso funcione, voc√™ </font></font><code>Game</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deve ter um link para a war factory e acompanhar sua pr√≥pria inst√¢ncia.</font></font><br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] WarFactory warFactory = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Game instance; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Shell </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnShell</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Shell shell = instance.warFactory.Shell‚Ç¨; instance.nonEnemies.Add(shell); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> shell; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { instance = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9fd/b90/878/9fdb90878989bd89121c012671db1ce3.png" width="320" height="164"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jogo com f√°brica de guerra.</font></font></i> <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma fachada est√°tica √© uma boa solu√ß√£o?</font></font></b> <div class="spoiler_text">     ,         ,     . </div></div><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atiramos em uma concha </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de criar uma inst√¢ncia do proj√©til, ele deve seguir seu caminho at√© atingir a meta final. </font><font style="vertical-align: inherit;">Para fazer isso, adicione ao </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todo </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e use-o para especificar o ponto do tiro, o ponto do alvo e a velocidade do tiro.</font></font><br><br><pre> <code class="cs hljs"> Vector3 launchPoint, targetPoint, launchVelocity; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Vector3 launchPoint, Vector3 targetPoint, Vector3 launchVelocity </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.launchPoint = launchPoint; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.targetPoint = targetPoint; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.launchVelocity = launchVelocity; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora podemos criar um shell </font></font><code>MortarTower.Launch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e envi√°-lo para a estrada.</font></font><br><br><pre> <code class="cs hljs"> mortar.localRotation = Quaternion.LookRotation(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(dir.x, tanTheta, dir.y)); Game.SpawnShell().Initialize( launchPoint, targetPoint, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(s * cosTheta * dir.x, s * sinTheta, s * cosTheta * dir.y) );</code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Movimento de proj√©teis </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avan√ßar, precisamos rastrear a dura√ß√£o de sua exist√™ncia, ou seja, o tempo decorrido desde o disparo. </font><font style="vertical-align: inherit;">Ent√£o podemos calcular sua posi√ß√£o em </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sempre fazemos isso com rela√ß√£o ao seu ponto de disparo, para que o proj√©til siga perfeitamente o caminho, independentemente da taxa de atualiza√ß√£o.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> age; ‚Ä¶ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { age += Time.deltaTime; Vector3 p = launchPoint + launchVelocity * age; py -= <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * <span class="hljs-number"><span class="hljs-number">9.81f</span></span> * age * age; transform.localPosition = p; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/la/lk/0n/lalk0nexu2vobomavqxtxomrcsa.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descasque. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para alinhar as cascas com suas trajet√≥rias, precisamos faz√™-las olhar ao longo do vetor derivado, que √© a velocidade delas no momento correspondente.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ Vector3 d = launchVelocity; dy -= <span class="hljs-number"><span class="hljs-number">9.81f</span></span> * age; transform.localRotation = Quaternion.LookRotation(d); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/st/w8/vh/stw8vh7pqutsy8bd8ilpigmci8e.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As conchas est√£o girando.</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Limpamos o jogo </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora que ficou claro que as conchas est√£o voando exatamente como deveriam, voc√™ pode remover as </font></font><code>MortarTower.Launch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trajet√≥rias </font><font style="vertical-align: inherit;">da </font><font style="vertical-align: inherit;">visualiza√ß√£o.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Launch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TargetPoint target</span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ Game.SpawnShell().Initialize( launchPoint, targetPoint, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(s * cosTheta * dir.x, s * sinTheta, s * cosTheta * dir.y) ); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, precisamos garantir que as conchas sejam destru√≠das ap√≥s atingir o alvo. </font><font style="vertical-align: inherit;">Como sempre apontamos para o ch√£o, isso pode ser feito verificando </font></font><code>Shell.GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se a posi√ß√£o vertical est√° abaixo de zero. </font><font style="vertical-align: inherit;">Voc√™ pode fazer isso imediatamente ap√≥s calcul√°-los, antes de mudar de posi√ß√£o e girar o proj√©til.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { age += Time.deltaTime; Vector3 p = launchPoint + launchVelocity * age; py -= <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * <span class="hljs-number"><span class="hljs-number">9.81f</span></span> * age * age; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (py &lt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>) { OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } transform.localPosition = p; ‚Ä¶ }</code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Detona√ß√£o </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atiramos em conchas porque elas cont√™m explosivos. </font><font style="vertical-align: inherit;">Quando o proj√©til atinge seu alvo, ele deve detonar e causar dano a todos os inimigos na √°rea da explos√£o. </font><font style="vertical-align: inherit;">O raio da explos√£o e o dano causado dependem do tipo de proj√©til disparado pela argamassa, portanto, adicionaremos </font></font><code>MortarTower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√µes de configura√ß√£o para eles.</font></font><br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, Range(0.5f, 3f)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> shellBlastRadius = <span class="hljs-number"><span class="hljs-number">1f</span></span>; [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">1f</span></span>, <span class="hljs-number"><span class="hljs-number">100f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> shellDamage = <span class="hljs-number"><span class="hljs-number">10f</span></span>;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ad/8e8/731/9ad8e87318ff5bd96472454663026a45.png" width="320" height="148"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raio de explos√£o e 1.5 de dano de 15 proj√©teis. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa configura√ß√£o √© importante apenas durante a explos√£o, portanto deve ser adicionada </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e seu m√©todo </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> age, blastRadius, damage; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Vector3 launchPoint, Vector3 targetPoint, Vector3 launchVelocity, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blastRadius, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> damage </span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.blastRadius = blastRadius; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage = damage; }</code> </pre> <br> <code>MortarTower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√≥ deve transmitir dados ao proj√©til ap√≥s sua cria√ß√£o. </font></font><br><br><pre> <code class="cs hljs"> Game.SpawnShell().Initialize( launchPoint, targetPoint, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(s * cosTheta * dir.x, s * sinTheta, s * cosTheta * dir.y), shellBlastRadius, shellDamage );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para atirar em inimigos dentro do alcance, o proj√©til deve capturar alvos. </font><font style="vertical-align: inherit;">N√≥s j√° temos o c√≥digo para isso, mas √© no </font></font><code>Tower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como √© √∫til para tudo que precisa de um objetivo, copie sua funcionalidade </font></font><code>TargetPoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a disponibilize estaticamente. </font><font style="vertical-align: inherit;">Adicione um m√©todo para preencher o buffer, uma propriedade para obter a quantidade em buffer e um m√©todo para obter o destino em buffer.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> enemyLayerMask = <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Collider[] buffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Collider[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BufferedCount { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FillBuffer</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector3 position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> range</span></span></span><span class="hljs-function">)</span></span> { Vector3 top = position; top.y += <span class="hljs-number"><span class="hljs-number">3f</span></span>; BufferedCount = Physics.OverlapCapsuleNonAlloc( position, top, range, buffer, enemyLayerMask ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BufferedCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> TargetPoint </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetBuffered</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> target = buffer[index].GetComponent&lt;TargetPoint&gt;(); Debug.Assert(target != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Targeted non-enemy!"</span></span>, buffer[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> target; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora podemos receber todos os alvos dentro do alcance at√© o tamanho m√°ximo do buffer e causar danos ao detonar </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (py &lt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>) { TargetPoint.FillBuffer(targetPoint, blastRadius); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TargetPoint.BufferedCount; i++) { TargetPoint.GetBuffered(i).Enemy‚Ç¨.ApplyDamage(damage); } OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ft/w4/56/ftw456dleh2agua1n3kipiplrdq.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detona√ß√£o de conchas. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ tamb√©m pode adicionar a uma </font></font><code>TargetPoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriedade est√°tica para obter um destino aleat√≥rio do buffer.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> TargetPoint RandomBuffered =&gt; GetBuffered(Random.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, BufferedCount));</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso nos permitir√° simplificar </font></font><code>Tower</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque agora voc√™ pode usar para procurar um alvo aleat√≥rio </font></font><code>TargetPoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcquireTarget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> TargetPoint target</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TargetPoint.FillBuffer(transform.localPosition, targetingRange)) { target = TargetPoint.RandomBuffered; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Explos√µes </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo funciona, mas ainda n√£o parece muito cr√≠vel. </font><font style="vertical-align: inherit;">Voc√™ pode melhorar a imagem adicionando a visualiza√ß√£o da explos√£o quando a detona√ß√£o do shell. </font><font style="vertical-align: inherit;">Isso n√£o apenas parecer√° mais interessante, mas tamb√©m fornecer√° um feedback √∫til ao jogador. </font><font style="vertical-align: inherit;">Para fazer isso, criaremos uma pr√©-fabricada da explos√£o como um raio laser. </font><font style="vertical-align: inherit;">Somente ser√° uma esfera mais transparente de cores brilhantes. </font><font style="vertical-align: inherit;">Adicione um novo componente de entidade </font></font><code>Explosion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com uma dura√ß√£o personalizada. </font><font style="vertical-align: inherit;">Meio segundo ser√° suficiente. </font><font style="vertical-align: inherit;">Adicione a ela um m√©todo </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que defina a posi√ß√£o e o raio da explos√£o. </font><font style="vertical-align: inherit;">Ao definir a escala, voc√™ precisa dobrar o raio, porque o raio da malha da esfera √© 0,5. </font><font style="vertical-align: inherit;">Tamb√©m √© um bom lugar para causar dano a todos os inimigos dentro do alcance, ent√£o tamb√©m adicionaremos um par√¢metro de dano. </font><font style="vertical-align: inherit;">Al√©m disso, ele precisa de um m√©todo </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para verificar se o tempo est√° se esgotando.</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Explosion</span></span> : <span class="hljs-title"><span class="hljs-title">WarEntity</span></span> { [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">1f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> duration = <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> age; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector3 position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blastRadius, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> damage</span></span></span><span class="hljs-function">)</span></span> { TargetPoint.FillBuffer(position, blastRadius); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TargetPoint.BufferedCount; i++) { TargetPoint.GetBuffered(i).Enemy.ApplyDamage(damage); } transform.localPosition = position; transform.localScale = Vector3.one * (<span class="hljs-number"><span class="hljs-number">2f</span></span> * blastRadius); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { age += Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (age &gt;= duration) { OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione uma explos√£o a </font></font><code>WarFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] Explosion explosionPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; [SerializeField] Shell shellPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Explosion Explosion‚Ç¨ =&gt; Get(explosionPrefab); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Shell Shell =&gt; Get(shellPrefab);</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0d/6e6/e49/d0d6e6e49ff7ad3bd485705dabe02b5b.png" width="320" height="60"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√°brica de guerra com uma explos√£o. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione tamb√©m ao </font></font><code>Game</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todo </font><font style="vertical-align: inherit;">da </font><font style="vertical-align: inherit;">fachada.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Explosion </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnExplosion</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Explosion explosion = instance.warFactory.Explosion‚Ç¨; instance.nonEnemies.Add(explosion); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> explosion; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora ele </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pode gerar e iniciar uma explos√£o ao atingir o alvo. </font><font style="vertical-align: inherit;">A pr√≥pria explos√£o causar√° danos.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (py &lt;= <span class="hljs-number"><span class="hljs-number">0f</span></span>) { Game.SpawnExplosion().Initialize(targetPoint, blastRadius, damage); OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zk/q_/rb/zkq_rbdw8g0f3ysfxw5qw4yg47e.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explos√µes de conchas.</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Explos√µes mais suaves </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esferas imut√°veis ‚Äã‚Äãem vez de explos√µes n√£o parecem muito bonitas. </font><font style="vertical-align: inherit;">Voc√™ pode melhor√°-los animando opacidade e escala. </font><font style="vertical-align: inherit;">Voc√™ pode usar uma f√≥rmula simples para isso, mas vamos usar curvas de anima√ß√£o que s√£o mais f√°ceis de configurar. </font><font style="vertical-align: inherit;">Adicione para esses </font></font><code>Explosion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dois campos de configura√ß√£o </font></font><code>AnimationCurve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Usaremos as curvas para ajustar os valores ao longo da vida √∫til da explos√£o, e o tempo 1 indicar√° o fim da explos√£o, independentemente de sua dura√ß√£o real. </font><font style="vertical-align: inherit;">O mesmo se aplica √† escala e raio da explos√£o. </font><font style="vertical-align: inherit;">Isso simplificar√° sua configura√ß√£o.</font></font><br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] AnimationCurve opacityCurve = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; [SerializeField] AnimationCurve scaleCurve = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A opacidade come√ßar√° e terminar√° com zero, suavemente dimensionada para um valor m√©dio de 0,3. </font><font style="vertical-align: inherit;">A escala come√ßar√° em 0,7, aumentar√° rapidamente e depois se aproximar√° lentamente de 1.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bca/b95/968/bcab95968f9d302b9c55954581d37920.png" width="320" height="98"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curvas de explos√£o. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para definir a cor do material, usaremos o bloco de propriedades do material. </font><font style="vertical-align: inherit;">onde preto √© a vari√°vel de opacidade. </font><font style="vertical-align: inherit;">A escala agora est√° definida como </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas precisamos rastrear usando o campo raio. </font><font style="vertical-align: inherit;">Em </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voc√™ pode usar a escala de duplica√ß√£o. </font><font style="vertical-align: inherit;">Os valores das curvas s√£o encontrados chamando-os </font></font><code>Evaluate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um argumento, calculado como o tempo de vida atual da explos√£o, dividido pela dura√ß√£o da explos√£o.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> colorPropertyID = Shader.PropertyToID(<span class="hljs-string"><span class="hljs-string">"_Color"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MaterialPropertyBlock propertyBlock; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> scale; MeshRenderer meshRenderer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { meshRenderer = GetComponent&lt;MeshRenderer&gt;(); Debug.Assert(meshRenderer != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Explosion without renderer!"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Vector3 position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blastRadius, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> damage</span></span></span><span class="hljs-function">)</span></span> { ‚Ä¶ transform.localPosition = position; scale = <span class="hljs-number"><span class="hljs-number">2f</span></span> * blastRadius; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propertyBlock == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { propertyBlock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MaterialPropertyBlock(); } <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> t = age / duration; Color c = Color.clear; ca = opacityCurve.Evaluate(t); propertyBlock.SetColor(colorPropertyID, c); meshRenderer.SetPropertyBlock(propertyBlock); transform.localScale = Vector3.one * (scale * scaleCurve.Evaluate(t)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-_/bw/-h/-_bw-hma2vkddbfvicdsuoc7zoa.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explos√µes animadas.</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conchas do marcador </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como as conchas s√£o pequenas e possuem uma velocidade bastante alta, pode ser dif√≠cil perceber. E se voc√™ observar a captura de tela de um √∫nico quadro, as trajet√≥rias s√£o completamente incompreens√≠veis. Voc√™ pode torn√°-los mais √≥bvios adicionando um efeito de rastreamento √†s suas conchas. Para cascas convencionais, isso n√£o √© muito realista, mas podemos dizer que esses s√£o marcadores. Essa muni√ß√£o √© feita especialmente para que eles deixem uma marca brilhante, tornando suas trajet√≥rias vis√≠veis. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem diferentes maneiras de criar rastreamentos, mas voc√™ usar√° uma muito simples. N√≥s refazemos as explos√µes para </font></font><code>Shell</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criar uma pequena explos√£o em cada quadro. Essas explos√µes n√£o causar√£o nenhum dano, portanto capturar alvos ser√° um desperd√≠cio de recursos. Adicionar a</font></font><code>Explosion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suporte para esse uso, fazendo com que o dano seja feito se for maior que zero e, em seguida, torne o par√¢metro de dano </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcional.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Vector3 position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> blastRadius, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> damage = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0f</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (damage &gt; <span class="hljs-number"><span class="hljs-number">0f</span></span>) { TargetPoint.FillBuffer(position, blastRadius); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TargetPoint.BufferedCount; i++) { TargetPoint.GetBuffered(i).Enemy.ApplyDamage(damage); } } transform.localPosition = position; radius = <span class="hljs-number"><span class="hljs-number">2f</span></span> * blastRadius; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criaremos uma explos√£o no final </font></font><code>Shell.GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um pequeno raio, por exemplo 0,1, para transform√°-las em proj√©teis de rastreamento. </font><font style="vertical-align: inherit;">Deve-se notar que, com essa abordagem, as explos√µes ser√£o criadas quadro a quadro, ou seja, elas dependem da taxa de quadros, mas, para um efeito t√£o simples, isso √© permitido.</font></font><br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ‚Ä¶ Game.SpawnExplosion().Initialize(p, <span class="hljs-number"><span class="hljs-number">0.1f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pb/tc/t-/pbtct-hdqtadh6oirtmjrqu-6-c.gif" alt="imagem"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rastreadores de proj√©teis. </font></font></i> <font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Artigo em PDF do </font></a></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reposit√≥rio do Tutorial</font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461605/">https://habr.com/ru/post/pt461605/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461587/index.html">Localiza√ß√£o do aplicativo em 10 etapas</a></li>
<li><a href="../pt461589/index.html">Tic Tac Toe: Ciclo do Conte√∫do</a></li>
<li><a href="../pt461593/index.html">API em F #. M√≥dulos de aplicativos baseados em fun√ß√µes de acesso</a></li>
<li><a href="../pt461595/index.html">Da teoria √† pr√°tica: como os alunos de gradua√ß√£o da faculdade de fot√¥nica e optoinform√°tica estudam e trabalham</a></li>
<li><a href="../pt461601/index.html">O que um fundador n√£o t√©cnico deve saber sobre desenvolvimento de software</a></li>
<li><a href="../pt461607/index.html">Como o adaptador de v√≠deo Apple Lightning funciona</a></li>
<li><a href="../pt461611/index.html">Implementa√ß√£o de cache Verilog</a></li>
<li><a href="../pt461613/index.html">Estudo da auto-descarga da bateria</a></li>
<li><a href="../pt461615/index.html">4 pecados capitais dos fones de ouvido TWS: por que o True Wireless ainda n√£o est√° bagun√ßado?</a></li>
<li><a href="../pt461617/index.html">Teoria de uma inicializa√ß√£o bem-sucedida</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>