<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¾ ğŸ’ƒğŸ» ğŸ¥• Perbandingan dan pemilihan sistem migrasi data ğŸ™† â±ï¸ â›“ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perbandingan dan pemilihan sistem migrasi data 


 Model data dalam proses pengembangan memiliki properti untuk berubah, dan pada titik tertentu tidak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perbandingan dan pemilihan sistem migrasi data</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/crosstech/blog/453930/"><h2>  Perbandingan dan pemilihan sistem migrasi data </h2><br><img src="https://habrastorage.org/webt/gk/bk/fo/gkbkfoq2o5erkxt4lvc063hkvkc.jpeg"><br><br>  Model data dalam proses pengembangan memiliki properti untuk berubah, dan pada titik tertentu tidak lagi sesuai dengan database.  Tentu saja, basis data dapat dihapus, dan kemudian ORM akan membuat versi baru yang akan sesuai dengan model, tetapi prosedur seperti itu akan menyebabkan hilangnya data yang ada.  Dengan demikian, fungsi dari sistem migrasi adalah untuk memastikan bahwa, sebagai akibat dari mengubah skema, menyinkronkannya dengan model data dalam aplikasi tanpa kehilangan data yang ada. <br><br>  Dalam artikel ini, kami ingin mempertimbangkan berbagai alat untuk mengelola migrasi basis data.  Kami berharap ulasan ini bermanfaat bagi pengembang yang dihadapkan dengan pilihan ini. <br><a name="habracut"></a><br><h3>  Tantangan </h3><br>  Perusahaan kami saat ini sedang aktif mengembangkan produk generasi berikutnya - Docs Security Suite (DSS).  Bagian server ditulis pada .Net Core, dan Entity Framework Core masing-masing digunakan sebagai DBMS.  Saat merancang aplikasi, kami menggunakan pendekatan Code First. <br><br>  Model domain dari aplikasi ini dibuat oleh beberapa pengembang secara bersamaan - masing-masing bertanggung jawab atas bagian logisnya dari sistem. <br><br>  Dalam generasi DSS sebelumnya, Migrasi Entitas Kerangka kerja klasik (EF 6) digunakan sebagai sistem manajemen migrasi.  Namun, beberapa klaim telah terakumulasi menentangnya, yang utamanya adalah EF tidak memiliki pendekatan yang waras untuk menyelesaikan konflik versi.  Fakta ini masih mengecewakan kami ketika memperbaiki bug dalam kerangka dukungan, jadi diputuskan untuk mempertimbangkan opsi alternatif. <br><br>  Sebagai hasil dari diskusi, persyaratan berikut untuk sistem manajemen migrasi dibentuk: <br><br><ol><li>  Dukungan untuk berbagai DBMS.  Wajib MS SQL Server, PostgreSQL, Oracle, tetapi Anda berpotensi menggunakan yang lain </li><li>  Bekerja dengan ORM.  Awalnya, penggunaan EF Core seharusnya, tetapi pada tahap desain, ORM lain siap untuk dipertimbangkan </li><li>  Autogenerasi migrasi.  Mengingat pengembangan Kode Pertama, saya ingin menghindari kebutuhan untuk "melukis dengan pena" migrasi </li><li>  Konflik versi.  Dalam lingkungan pengembangan terdistribusi dengan penggabungan, EF Core dapat mengalami konflik.  Ini menjadi masalah yang signifikan, karena bagian aplikasi yang berbeda dibuat oleh pengembang yang berbeda, sehingga Anda harus menghabiskan banyak waktu untuk setiap aplikasi. </li><li>  Dokumentasi dan dukungan tingkat lanjut.  Di sini, menurut kami, tidak diperlukan penjelasan </li><li>  Gratis.  Kriteria bersyarat, karena bukan sistem yang sangat mahal atau mahal, tetapi ideal dalam kenyamanan, kami juga siap untuk mempertimbangkan </li></ol><br>  Sebagai hasil dari studi kecil, opsi berikut ditemukan dan dianggap diinginkan untuk dipertimbangkan: <br><br><ol><li>  Migrasi inti </li><li>  Dbup </li><li>  RoundhousE </li><li>  ThinkingHome.Migrator </li><li>  Migrator yang lancar </li></ol><br><h3>  Dan sekarang sedikit lagi </h3><br><img src="https://habrastorage.org/webt/en/rv/1c/enrv1ctva0jyb5s6mlpawv_v0gi.jpeg"><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Migrasi Inti EntityFramework</a></b> <br><br>  Secara alami, ini adalah pilihan pertama dan utama untuk pilihan.  Alat asli yang bekerja di luar kotak tanpa menari dengan rebana.  Sejumlah besar dokumentasi, resmi dan tidak terlalu, kesederhanaan, dll.  Namun, klaim yang disampaikan kepada EF klasik cukup relevan untuk EF Core. <br><br>  Dengan demikian, keuntungan untuk EF Core disorot: <br><br><ul><li>  Dukungan Microsoft, dokumentasi, termasuk dalam bahasa Rusia, komunitas besar </li><li>  Migrasi Otomatis Berbasis CodeFirst </li><li>  Dibandingkan dengan EF 6, snapshot basis data tidak lagi disimpan di EF Core.  Saat bekerja dengan EF Core di Code First, Anda tidak perlu lagi menggunakan basis data </li><li>  Karena kita menari dari Code First - dimungkinkan untuk melakukan satu migrasi ke semua penyedia akses data yang diperlukan </li><li>  Mengenai penyedia - PostgreSQL, Oracle, dll., Dll., Dan bahkan - MS SQL Server didukung  </li></ul><br>  Serta kontra: <br><br><ul><li>  Resolusi konflik tetap pada tingkat yang sama.  Kita perlu membangun urutan migrasi dan memperbarui gambar basis data </li><li>  Ketergantungan pada model berdasarkan migrasi yang dihasilkan </li></ul><br>  <b>Dbup</b> <br><br><img src="https://habrastorage.org/webt/th/ip/le/thipledfm_ndz51kplcdyphsq7w.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dbup.github.io</a> <br><br>  DbUp adalah pustaka .NET yang diinstal oleh NuGet dan membantu untuk memutar perubahan ke SQL Server.  Ini melacak perubahan skrip yang telah dijalankan, dan meluncurkan yang diperlukan untuk memperbarui database.  Perpustakaan tumbuh dari proyek mesin blog sumber terbuka ASP.NET dan ada di bawah lisensi MIT, dan kode ada di GitHub.  Migrasi dijelaskan menggunakan T-SQL. <br><br>  Apa kelebihannya: <br><br><ul><li>  Dukungan untuk sejumlah besar DBMS (MS SQL Server, PstgreSQL, MySQL) </li><li>  Karena skrip ditulis dalam T-SQL, skrip tersebut terlihat sangat sederhana </li><li>  Konflik juga diselesaikan dengan menggunakan SQL </li></ul><br>  Kontra: <br><br><ul><li>  Dengan semua variasi DBMS yang didukung, Oracle tidak ada di antara mereka. </li><li>  Tidak berinteraksi dengan ORM </li><li>  Menulis skrip T-SQL dengan pulpen bukanlah tujuan kami </li><li>  Dokumentasi dan komunitasnya biasa saja, walaupun mungkin tidak diperlukan dalam konteks penulisan skrip SQL. </li></ul><br>  <b>RoundhousE</b> <br><br><img src="https://habrastorage.org/webt/go/ll/-e/goll-eicd6htkeqnvno4qtuxk1w.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/chucknorris/roundhouse</a> <br><br>  Alat manajemen migrasi ini, didistribusikan di bawah lisensi Apache 2.0, seperti yang sebelumnya, berjalan pada mesin migrasi T-SQL.  Tampaknya, para pengembang fokus pada pemecahan masalah teknis mengenai dukungan DBMS, daripada menciptakan proses pengembangan yang nyaman. <br><br>  Pro: <br><br><ul><li>  Mendukung DBMS yang diperlukan (termasuk Oracle) </li></ul><br>  Cons: <br><br><ul><li>  Oracle (dan juga Access tidak relevan bagi kami) tidak didukung pada .NET Core, hanya pada .NET Full Framework </li><li>  Tidak bekerja dengan ORM </li><li>  Bahkan ada lebih sedikit dokumentasi daripada alat sebelumnya </li><li>  Lagi - migrasi ditulis dalam skrip </li></ul><br>  <b>ThinkingHome.Migrator</b> <br><br><img src="https://habrastorage.org/webt/jc/rk/sb/jcrksb-jfsvr4zq_wofil0jir5c.jpeg"><br><br>  Alat untuk migrasi versi skema database untuk platform .NET Core, didistribusikan di bawah lisensi MIT.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembang sendiri menulis tentang versi terbaru hampir setahun yang lalu</a> . <br><br>  Pro: <br><br><ul><li>  Dipertajam di bawah .NET Core </li><li>  Diimplementasikan urutan migrasi bercabang </li><li>  Pencatatan migrasi yang diterapkan </li></ul><br>  Cons: <br><br><ul><li>  Pembaruan terakhir - setahun yang lalu.  Rupanya, proyek itu tidak didukung. </li><li>  Tidak didukung oleh Oracle (artikel ini menyatakan bahwa ini disebabkan oleh kurangnya implementasi yang stabil untuk .NET Core - tetapi ini setahun yang lalu) </li><li>  Migrasi auto-generasi tidak ada </li></ul><br>  Secara umum, proyek ini terlihat menjanjikan, terutama jika itu akan berkembang, tetapi kami perlu membuat keputusan di sini dan sekarang. <br><br>  <b>Migrator yang lancar</b> <br><br><img src="https://habrastorage.org/webt/nz/nj/0t/nznj0tjqevhr0mofgo9qeoz7i7q.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/fluentmigrator/fluentmigrator</a> <br><br>  Alat migrasi paling populer dengan sepasukan besar penggemar.  Didistribusikan di bawah lisensi Apache 2.0.  Seperti yang dinyatakan dalam deskripsi, ini adalah platform migrasi untuk .NET, mirip dengan Ruby on Rails Migrations.  Perubahan pada skema database dijelaskan dalam kelas di C #. <br><br>  Ada plus: <br><br><ul><li>  Dukungan untuk DBMS yang diperlukan </li><li>  Dukungan Inti NET </li><li>  Komunitas maju yang besar </li><li>  Konflik migrasi diselesaikan secara berurutan - urutan eksekusi diindikasikan untuk migrasi.  Selain itu, jika ada konflik di sekitar satu entitas, saat menggabungkan kode, solusinya dilakukan dengan cara yang sama seperti di sisa kode </li><li>  Ada profil yang berjalan setelah migrasi berhasil.  Dan mereka dapat menjalankan fungsi layanan. Pembaruan terakhir adalah sebulan yang lalu, yaitu, proyek tetap hidup </li></ul><br>  Adapun kontra, di sini: <br><br><ul><li>  Migrasi auto-generasi tidak ada </li><li>  Tidak ada koneksi dengan model EF </li><li>  Tidak ada snapshot basis data </li></ul><br><h3>  Apa pilihan kita? </h3><br><img src="https://habrastorage.org/webt/fm/1e/5r/fm1e5rub5hfdlr3rr8ugmlccvig.jpeg"><br><br>  Debat yang paling panas berkisar pada dua parameter - auto-generation of migrasi dan resolusi konflik yang waras.  Faktor-faktor lain jauh lebih sedikit ditakuti.  Akibatnya, sebagai hasil diskusi, tim memutuskan untuk menggunakan Fluent Migrator dalam proyek baru.  Untuk penyelesaian konflik di masa depan akan membawa keuntungan lebih banyak. <br><br><h4>  Kesimpulan </h4><br>  Tentu saja, tidak ada alat yang sempurna.  Jadi kami harus memprioritaskan "Daftar Keinginan" kami untuk suatu pilihan.  Namun, faktor-faktor lain mungkin menentukan untuk tim lain dan tugas lainnya.  Kami harap artikel ini membantu Anda menentukan pilihan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id453930/">https://habr.com/ru/post/id453930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id453908/index.html">RTOS Neutrino di komputer industri</a></li>
<li><a href="../id453914/index.html">Petunjuk Instalasi Klien TON Test</a></li>
<li><a href="../id453916/index.html">Bagaimana melindungi diri Anda dari penipu seluler</a></li>
<li><a href="../id453920/index.html">Bagaimana mengendalikan infrastruktur jaringan Anda. Bab Empat Otomasi Templat</a></li>
<li><a href="../id453926/index.html">Bagaimana layanan berbagi mobil bekerja dan bekerja</a></li>
<li><a href="../id453932/index.html">Beberapa kata untuk membela monolit</a></li>
<li><a href="../id453934/index.html">11 pertanyaan untuk didiskusikan sebelum mulai bekerja</a></li>
<li><a href="../id453938/index.html">NB-IoT Pelacakan Sepeda Dicuri</a></li>
<li><a href="../id453942/index.html">Tentang Etika dengan Contoh Codex PMI</a></li>
<li><a href="../id453944/index.html">Bug bertopeng di embedd</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>