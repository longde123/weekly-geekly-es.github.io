<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅 😾 🌯 F # 4: Let / Use / Do 📲 🥂 🛕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En esta publicación, veremos los enlaces en F #, en particular, veremos Let / Use / Do. Ahora puede que se pregunte qué son los enlaces, y dado que aú...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F # 4: Let / Use / Do</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470195/">  En esta publicación, veremos los enlaces en F #, en particular, veremos Let / Use / Do.  Ahora puede que se pregunte qué son los enlaces, y dado que aún no los hemos examinado, ahora es el momento de hablar al respecto. <br><br>  En pocas palabras, un enlace asocia un identificador con un valor o función. <br><a name="habracut"></a><br><h4>  Dejar </h4><br>  Utiliza la palabra clave let para asociar un nombre con un valor o función.  En realidad, hay un uso sutil y diferente de Let, donde uno se declara en el nivel superior del módulo y luego el otro, donde definimos un contexto local.  Aquí hay un ejemplo de ambos: <br><br><pre><code class="erlang hljs">module DemoModule = <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> someFunction = <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> a * b</code> </pre> <br>  Podríamos acceder a someFunction usando un nombre totalmente calificado, como DemoModule.someFunction, pero los enlaces Let (a, b) anidados solo están disponibles para el nivel superior Let.  Por lo general, ve más casos cuando usamos el enlace Let para declarar algunos valores del módulo interno, así que concentremos nuestros esfuerzos allí (aunque es importante saber que puede usar Let en el nivel del módulo). <br><br>  Así que veamos algunos ejemplos más. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aString =<span class="hljs-string"><span class="hljs-string">"this is a string"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aInt = <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aDecimal = <span class="hljs-number"><span class="hljs-number">12.444</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aPiFunction () = Math.PI <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aSquareRootFunction (x) = Math.Sqrt(x) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aFullyTypedSquareRootFunction (x :float) = Math.Sqrt(x) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a,b = <span class="hljs-string"><span class="hljs-string">"a"</span></span>,<span class="hljs-string"><span class="hljs-string">"tuple"</span></span></code> </pre> <br>  Puede ver que podemos usar el enlace Let para enlazar a múltiples valores, que pueden ser de varios tipos, como: <br><br><ul><li>  Entero </li><li>  Decimal </li><li>  Función sin parámetros de entrada </li><li>  Función con parámetros de entrada (donde el sistema de inferencia lógica del tipo F # elegirá el tipo correctamente) </li><li>  Una función que tiene tipos de parámetros completamente definidos. </li><li>  Tupla (en este caso, String * String tuple) </li></ul><br>  En otro lugar, puede ver el enlace Let en la clase, pero discutiremos esto con más detalle en el próximo artículo de esta serie. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Puede leer más sobre el enlace Let en MSDN.</a> <br><br><h4>  Uso </h4><br>  El enlace Use es muy similar al enlace Let porque vincula el valor al resultado de la expresión.  La principal diferencia es que el enlace Usar está diseñado para funcionar con tipos desechables ID y elimina automáticamente un valor cuando ya no está dentro del alcance.  Esto es muy similar a la palabra clave que usa .NET, aunque no creo que el enlace de uso de F # sea exactamente el mismo que usar en .NET, ya que la palabra clave que usa en .NET es en realidad un intento / finalmente con una llamada a Dispose ( ) en finalmente. <br><br>  Ya hemos visto un ejemplo del enlace Usar en la última publicación sobre formato de texto, pero solo para recordarnos, echemos otro vistazo a esto. <br><br><pre> <code class="erlang hljs">use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) fprintf sw <span class="hljs-string"><span class="hljs-string">"This is a string line %s\r\n"</span></span> <span class="hljs-string"><span class="hljs-string">"cat"</span></span> fprintf sw <span class="hljs-string"><span class="hljs-string">"This is a int line %i"</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> sw.Close()</code> </pre> <br>  En este ejemplo, el enlace Usar garantiza que el método StreamWriter llamará a su método Dispose () después de llamar a sw.Close (), como se muestra arriba. <br><br>  El uso solo funciona con IDisposables, y obtendrá un error de compilación si intenta usarlo con otra cosa, como se muestra a continuación: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9cc/ddf/4cc/9ccddf4cca18ab8e635892c0c0e61ff5.png" alt="imagen"><br><br>  Dado que el método Dispose () se llama al final del enlace Use, se debe tener cuidado de no devolver el valor asociado con Let. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Write = use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) sw</code> </pre> <br>  Si necesita volver a pasar IDisposable, que son parte del enlace Usar, puede usar la devolución de llamada.  Algo como esto funcionará, pero me detendría y me preguntaría si diseñó su diseño correctamente si hace tales cosas: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Write callback = use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) fprintf sw <span class="hljs-string"><span class="hljs-string">"Write is writing to the StreamWriter"</span></span> callback sw sw <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> callback sw = fprintf sw <span class="hljs-string"><span class="hljs-string">"sw is the StreamWriter"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disp = Write callback</code> </pre> <br><h4>  Hacer </h4><br>  El enlace do se usa para ejecutar código sin definir una función o valor.  Un enlace DEBE devolver siempre la Unidad (sin valor / nulo).  En muchos casos, puede omitir el enlace Do y todo funcionará como se espera. <br><br>  Estos son algunos ejemplos del uso de enlaces Do. <br><br><pre> <code class="erlang hljs">do printf <span class="hljs-string"><span class="hljs-string">"doing the do"</span></span> //oh oh <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> a unit do printf <span class="hljs-string"><span class="hljs-string">"print a sum %i"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> do <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Si, en cambio, le muestro una captura de pantalla con el código anterior, verá que el compilador se quejará si intenta usar Do con un resultado que no sea de la Unidad. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7a/20c/9d3/e7a20c9d3e18100e0f1a4ed11db911de.png" alt="imagen"><br><br>  Tienes dos opciones: <br><br><ul><li>  Use un operador canalizado para ignorar el resultado </li><li>  Crear dejar de enlace </li></ul><br>  Mostré un ejemplo de cada uno de ellos a continuación: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> do printf <span class="hljs-string"><span class="hljs-string">"print a sum %i"</span></span> x do (<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span> |&gt; ignore)</code> </pre> <br><h4>  Let!  Uso!  Hacer! </h4><br>  Aunque todavía no quiero discutirlos, a veces puede que accidentalmente veas Let!  Uso!  Do!, Y cuando haces esto, esto es parte de lo que se llama una expresión computacional.  Lo más probable es que vea esto en los flujos de trabajo asíncronos de F #, que cubriremos en uno de los artículos finales.  Si entiendo lo suficiente, incluso puedo tratar de explicar cómo puede crear su propia "Expresión computacional", aunque son un concepto bastante abstracto y un tema bastante complicado, por lo que ahora no es el momento para ellos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470195/">https://habr.com/ru/post/470195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470175/index.html">Agregar Iniciar sesión con Apple en el back-end</a></li>
<li><a href="../470179/index.html">PDDM - Nuevo algoritmo de aprendizaje de refuerzo basado en modelos con programador avanzado</a></li>
<li><a href="../470187/index.html">El rango de precios para el diseño y el diseño de un servicio en línea es de 100 mil a 5 millones de rublos. Razones</a></li>
<li><a href="../470189/index.html">Envío de mensajes entre pares con PeerJS</a></li>
<li><a href="../470193/index.html">Protección universal contra ataques xss e inyecciones sql</a></li>
<li><a href="../470197/index.html">¿Puedo hacer? Considere el patrón Has</a></li>
<li><a href="../470199/index.html">Memo a un desarrollador novato de juegos de computadora</a></li>
<li><a href="../470203/index.html">La aguja de aprobación del karma, como espejo de la evolución del homo</a></li>
<li><a href="../470207/index.html">1C Developer Tales: Epicafe</a></li>
<li><a href="../470209/index.html">Transformación de código en Android 2. Análisis AST</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>