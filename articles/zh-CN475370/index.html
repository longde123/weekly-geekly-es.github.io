<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😿 👨 🍕 Kahan算法：如何获得产品的确切差异 🌷 🛌🏿 🚻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我最近返回浮点错误分析，以完善下一版《 基于物理的渲染》一书中的一些细节。 浮点数是一个有趣的计算领域，充满了惊喜（好坏），以及摆脱不愉快惊喜的棘手技巧。 

 在此过程中，我遇到了StackOverflow上的这篇文章 ，从中我了解了一种用于精确计算的优雅算法。 倍倍a\倍b−c\倍d 。 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kahan算法：如何获得产品的确切差异</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475370/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16f/68a/389/16f68a389af6cb230a839586345c4bf5.png" alt="图片"></div><br> 我最近返回浮点错误分析，以完善下一版《 <em>基于物理的渲染》</em>一书中的一些细节。 浮点数是一个有趣的计算领域，充满了惊喜（好坏），以及摆脱不愉快惊喜的棘手技巧。 <br><br> 在此过程中，我遇到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了StackOverflow</a>上的这篇<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章</a> ，从中我了解了一种用于精确计算的优雅算法。 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>b</mi><mo>&amp;#x2212;</mo><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.471ex" height="2.66ex" viewBox="0 -832 5799.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="1859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="2511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="3512" y="0"></use><g fill="red" stroke="red" transform="translate(3945,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="5276" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\倍</mtext><mi>b</mi><mo>−</mo><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> a \倍b-c \倍d </script>  。 <br><br> 但是在继续算法之前，您需要了解表达式中的狡猾之处 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>b</mi><mo>&amp;#x2212;</mo><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.471ex" height="2.66ex" viewBox="0 -832 5799.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="1859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="2511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="3512" y="0"></use><g fill="red" stroke="red" transform="translate(3945,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="5276" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\倍</mtext><mi>b</mi><mo>−</mo><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> a \倍b-c \倍d </script>  ？ 拿 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>=</mo><mn>33962.035</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.275ex" height="1.937ex" viewBox="0 -728.2 6146.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="807" y="0"></use><g transform="translate(1863,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3782" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>=</mo><mn>33962.035</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> a = 33962.035 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>b</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>30438.8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.526ex" height="2.178ex" viewBox="0 -780.1 5823.6 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="1763" y="0"></use><g transform="translate(2542,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="2781" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi><mo>=</mo><mo>−</mo><mn>30438.8</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> b = -30438.8 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mo>=</mo><mn>41563.4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.727ex" height="2.057ex" viewBox="0 -780.1 5049.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="711" y="0"></use><g transform="translate(1767,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="2781" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mo>=</mo><mn>41563.4</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> c = 41563.4 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>24871.969</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.069ex" height="2.178ex" viewBox="0 -780.1 6918.6 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="1857" y="0"></use><g transform="translate(2636,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="3782" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mo>=</mo><mo>−</mo><mn>24871.969</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> d = -24871.969 </script>  。  （这些是我在<em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pbrt</a></em>启动期间获得的实际值。）对于32位浮点值，我们得到： <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>1.03376365</mn><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.658ex" height="2.901ex" viewBox="0 -935.7 13630.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="3397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="4453" y="0"></use><g transform="translate(5232,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="4282" y="0"></use></g><g fill="red" stroke="red" transform="translate(10015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(11345,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><g transform="translate(12175,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1415" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi><mo>=</mo><mo>−</mo><mn>1.03376365</mn><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-7"> a \乘以b = -1.03376365 \乘以10 ^ 9 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>1.03376352</mn><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><msup><mn>10</mn><mn>9</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.798ex" height="2.901ex" viewBox="0 -935.7 11968.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-3D" x="2565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="3621" y="0"></use><g transform="translate(4400,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="4282" y="0"></use></g><g fill="red" stroke="red" transform="translate(9183,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><g transform="translate(10513,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1415" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi><mo>=</mo><mo>−</mo><mn>1.03376352</mn><mtext mathcolor="red">\倍</mtext><msup><mn>10</mn><mn>9</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-8"> c \倍d = -1.03376352 \倍10 ^ 9 </script>  。 我们进行减法，我们得到 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>128</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.296ex" height="2.057ex" viewBox="0 -728.2 2280 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>128</mn></math></span></span><script type="math/tex" id="MathJax-Element-9"> -128 </script>  。 但是，如果您以双精度执行计算，最后将它们转换为浮点数，则会得到 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>75.1656</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.43ex" height="2.178ex" viewBox="0 -780.1 4060 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>75.1656</mn></math></span></span><script type="math/tex" id="MathJax-Element-10"> -75.1656 </script>  。 发生什么事了 <br><br> 问题在于每件作品的价值都远远超出了底线 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.368ex" height="2.901ex" viewBox="0 -935.7 4894.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="778" y="0"></use><g fill="red" stroke="red" transform="translate(1279,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(2609,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><g transform="translate(3439,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1415" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-11"> -1 \乘以10 ^ 9 </script>  ，其中可表示的浮点值之间的距离非常大-64。即，在四舍五入时 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.245ex" height="2.66ex" viewBox="0 -832 3119.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-12"> a \乘以b </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.313ex" height="2.66ex" viewBox="0 -832 2287.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-13"> c \倍d </script> 单独地，对于最接近的可表示浮点数，它们将变成64的倍数的数字。反过来，它们的差将是64的倍数，并且不希望它将变为 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>75.1656</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.43ex" height="2.178ex" viewBox="0 -780.1 4060 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>75.1656</mn></math></span></span><script type="math/tex" id="MathJax-Element-14"> -75.1656 </script> 比 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>64</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.133ex" height="2.178ex" viewBox="0 -780.1 1779.5 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>64</mn></math></span></span><script type="math/tex" id="MathJax-Element-15"> -64 </script>  。 在我们的案例中，由于对两个作品进行了四舍五入，结果甚至更进一步 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.368ex" height="2.901ex" viewBox="0 -935.7 4894.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="778" y="0"></use><g fill="red" stroke="red" transform="translate(1279,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(2609,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><g transform="translate(3439,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1415" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><msup><mn>10</mn><mn>9</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-16"> -1 \乘以10 ^ 9 </script>  。 我们将直接遇到旧的灾难性灾难减少<sup>1</sup> 。 <br><a name="habracut"></a><br> 这是比<sup>2</sup>更好的解决方案： <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DifferenceOfProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> d)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cd = c * d; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> err = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(-c, d, cd); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dop = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(a, b, -cd); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dop + err; }</code> </pre> <br>  <code>DifferenceOfProducts()</code>计算 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>b</mi><mo>&amp;#x2212;</mo><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.471ex" height="2.66ex" viewBox="0 -832 5799.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="1859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="2511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="3512" y="0"></use><g fill="red" stroke="red" transform="translate(3945,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="5276" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\倍</mtext><mi>b</mi><mo>−</mo><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-17"> a \倍b-c \倍d </script> 以一种避免灾难性收缩的方式。 传奇人物William Kahan在文章<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“没有超精确算法的浮点计算的成本”中</a>首次描述了这种技术。 值得注意的是，Kahan的著作整体上看起来很有趣，他们对浮点世界的当前状态以及数学和技术上的考虑有很多评论。 这是他的发现之一： <br><br><blockquote> 我们中那些为浮点数算法的变迁而苦苦挣扎，而对编译器的“优化”却没有深思熟虑的人，可以为这场斗争中的胜利感到自豪。 但是，如果我们将这场战斗的延续继续传递给子孙后代，这将与整个文明的本质相矛盾。 我们的经验表明，编程语言和开发系统是我们必须处理的太多混乱的根源。 可以省去太多的错误，以及一些吸引人的“优化”方法，这些方法对于整数是安全的，但有时对浮点数却是致命的。 </blockquote><br> 向他的智慧表示敬意之后，让我们回到<code>DifferenceOfProducts()</code> ：精通此功能的基础是使用FMA <sup>3</sup>融合乘加法。 从数学的角度来看， <code>FMA(a,b,c)</code>为 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.092ex" height="2.66ex" viewBox="0 -832 4775.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2B" x="3341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="4342" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> a \乘以b + c </script> 因此，起初看来，该操作仅对微优化有用：一条指令而不是两条指令。 但是fma <br> 它具有特殊的属性-仅舍入一次。 <br><br> 通常 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.092ex" height="2.66ex" viewBox="0 -832 4775.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2B" x="3341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="4342" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-19"> a \乘以b + c </script> 首先计算 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.245ex" height="2.66ex" viewBox="0 -832 3119.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-20"> a \乘以b </script>  ，然后将此值（通常不能以浮点格式表示）四舍五入到最接近的浮点数。 然后向此舍入值添加 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.007ex" height="1.455ex" viewBox="0 -520.7 433.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-21"> c </script>  ，并且此结果再次四舍五入到最接近的浮点数。  FMA的实现方式是仅在末尾进行舍入-中间值 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.245ex" height="2.66ex" viewBox="0 -832 3119.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-22"> a \乘以b </script> 保持足够的精度，因此添加后 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.007ex" height="1.455ex" viewBox="0 -520.7 433.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-23"> c </script> 最终结果将最接近真实值 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.092ex" height="2.66ex" viewBox="0 -832 4775.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-61" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(1859,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-62" x="2689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2B" x="3341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="4342" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mi>b</mi><mo>+</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-24"> a \乘以b + c </script> 浮动值。 <br><br> 处理完FMA之后，我们将返回<code>DifferenceOfProducts()</code> 。 再次，我将显示它的前两行： <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cd = c * d; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> err = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(-c, d, cd);</code> </pre> <br> 第一个计算舍入值 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.313ex" height="2.66ex" viewBox="0 -832 2287.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> c \倍d </script> 第二个...减去 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.313ex" height="2.66ex" viewBox="0 -832 2287.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> c \倍d </script> 从他们的工作？ 如果您不知道FMA的工作原理，那么您可能会认为<code>err</code>永远为零。 但是在使用FMA时，第二行实际上是在计算值中提取舍入误差的值 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.313ex" height="2.66ex" viewBox="0 -832 2287.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-27"> c \倍d </script> 并将其保存到<code>err</code> 。 之后，输出非常简单： <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dop = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(a, b, -cd); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dop + err;</code> </pre> <br> 第二个FMA使用FMA计算作品之间的差异，仅在最后进行舍入。 因此，它可以防止灾难性减少，但需要以四舍五入的值工作。 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x500D;</mtext><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.313ex" height="2.66ex" viewBox="0 -832 2287.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-63" x="0" y="0"></use><g fill="red" stroke="red" transform="translate(433,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">倍</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-64" x="1763" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mtext mathcolor="red">\倍</mtext><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> c \倍d </script>  。  <code>return</code> “修补”此问题，并在第二行中添加了突出显示的错误。 在Jeannenrod等人的文章中。 结果<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">表明</a> ，结果高达1.5 ulps（单位精度度量值）时是真实的，这非常好：FMA和简单的浮点运算在高达0.5 ulps的范围内都是准确的，因此该算法几乎是完美的。 <br><br><h2> 我们用新的锤子 </h2><br> 当您开始寻找使用<code>DifferenceOfProducts()</code> ，它确实非常有用。 计算二次方程的判别式？ 调用<code>DifferenceOfProducts(b, b, 4 * a, c)</code> <sup>4</sup> 。 计算2x2矩阵的行列式？ 该算法将解决此问题。 在下一版本的<em>pbrt中，</em>我发现它有大约80种用途。 在所有这些中，向量乘积的功能是最受欢迎的。 它一直是问题的根源，因此，您必须举手并在实现中使用double以避免灾难性的减少： <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> Vector3f </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cross</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v1x = v1.x, v1y = v1.y, v1z = v1.z; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v2x = v2.x, v2y = v2.y, v2z = v2.z; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector3f(v1y * v2z - v1z * v2y, v1z * v2x - v1x * v2z, v1x * v2y - v1y * v2x); }</code> </pre> <br> 现在，我们可以继续使用float并使用<code>DifferenceOfProducts()</code> 。 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> Vector3f </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cross</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector3f(DifferenceOfProducts(v1.y, v2.z, v1.z, v2.y), DifferenceOfProducts(v1.z, v2.x, v1.x, v2.z), DifferenceOfProducts(v1.x, v2.y, v1.y, v2.x)); }</code> </pre> <br> 从帖子开头的那个狡猾的例子实际上是矢量工作的一部分。 在某个阶段， <em>pbrt</em>代码<em>需要</em>计算向量的向量积 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>33962.035</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3001;</mo></mrow><mn>41563.4</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3001;</mo></mrow><mn>7706.415</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.768ex" height="2.298ex" viewBox="0 -780.1 14108.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3782" y="0"></use></g><g transform="translate(5112,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">、</text></g><g transform="translate(5663,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="2781" y="0"></use></g><g transform="translate(8945,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">、</text></g><g transform="translate(9496,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3281" y="0"></use></g><g transform="translate(13278,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>33962.035</mn><mrow class="MJX-TeXAtom-ORD"><mo>、</mo></mrow><mn>41563.4</mn><mrow class="MJX-TeXAtom-ORD"><mo>、</mo></mrow><mn>7706.415</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-29">（33962.035、41563.4、7706.415）</script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mo>&amp;#x2212;</mo><mn>24871.969</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>30438.8</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>5643.727</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.584ex" height="2.298ex" viewBox="0 -780.1 18334.8 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="1052" y="0"></use><g transform="translate(2052,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-39" x="3782" y="0"></use></g><g transform="translate(6335,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="7387" y="0"></use><g transform="translate(8388,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="2781" y="0"></use></g><g transform="translate(11669,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="12722" y="0"></use><g transform="translate(13722,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="3281" y="0"></use></g><g transform="translate(17504,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mo>−</mo><mn>24871.969</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>30438.8</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>5643.727</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-30">（-24871.969，-30438.8，-5643.727）</script>  。 使用float进行计算时，我们将得到一个向量 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>1552</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>1248</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>128</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.179ex" height="2.298ex" viewBox="0 -780.1 11271.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="1501" y="0"></use></g><g transform="translate(2831,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="3884" y="0"></use><g transform="translate(4884,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="1501" y="0"></use></g><g transform="translate(6886,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="7939" y="0"></use><g transform="translate(8939,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-38" x="1001" y="0"></use></g><g transform="translate(10441,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>1552</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>1248</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>128</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-31">（1552，-1248，-128）</script>  。  （一般规则：如果在涉及大数的浮点计算中，得到的整数值不是那么大，那么这几乎可以肯定地表明发生了灾难性的减少。） <br><br> 矢量乘积是双精度的 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>1556.0276</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>1257.5151</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>75.1656</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.906ex" height="2.298ex" viewBox="0 -780.1 17612.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="3782" y="0"></use></g><g transform="translate(5112,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="6164" y="0"></use><g transform="translate(7165,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="3782" y="0"></use></g><g transform="translate(11447,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="12500" y="0"></use><g transform="translate(13500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use></g><g transform="translate(16782,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>1556.0276</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>1257.5151</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>75.1656</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-32">（1556.0276，-1257.5151，-75.1656）</script>  。 我们看到了浮动 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-33"> x </script> 看起来很正常 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-34"> y </script> 已经很糟糕了 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>z</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.088ex" height="1.455ex" viewBox="0 -520.7 468.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-7A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-35"> z </script> 成为灾难，成为寻求解决方案的动力。 而使用<code>DifferenceOfProducts()</code>和float值会得到什么结果呢？ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>1556.0276</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>1257.5153</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mo>&amp;#x2212;</mo><mn>75.1656</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.906ex" height="2.298ex" viewBox="0 -780.1 17612.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-30" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="3782" y="0"></use></g><g transform="translate(5112,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="6164" y="0"></use><g transform="translate(7165,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-33" x="3782" y="0"></use></g><g transform="translate(11447,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2212" x="12500" y="0"></use><g transform="translate(13500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMAIN-36" x="2781" y="0"></use></g><g transform="translate(16782,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>1556.0276</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>1257.5153</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mo>−</mo><mn>75.1656</mn><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-36">（1556.0276，-1257.5153，-75.1656）</script>  。 价值观 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-37"> x </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>z</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.088ex" height="1.455ex" viewBox="0 -520.7 468.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-7A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-38"> z </script> 对应于双精度，并且 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhjDPH0fjuuyjfOisAtZ7CHb22j-Jw#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-39"> y </script> 稍微偏移-因此多余的ulp来自。 <br><br> 速度呢？  <code>DifferenceOfProducts()</code>执行两个FMA以及乘法和加法。 天真的算法可以用一个FMA和一个乘法来实现，这似乎需要花费一半的时间。 但是实际上，事实证明，从寄存器中获取值之后，这并不重要：在我笔记本电脑上的综合基准测试中， <code>DifferenceOfProducts()</code>仅比朴素算法贵1.09倍。 双精度运算速度慢了2.98倍。 <br><br> 一旦您了解了减少灾难性灾难的可能性，代码中所有看起来无辜的表达式就开始显得可疑。  <code>DifferenceOfProducts()</code>对于其中大多数似乎是一个很好的解决方法。 它易于使用，我们没有特殊的理由不使用它。 <br><br><h2> 注意事项 </h2><br><ol><li> 当减去具有不同符号的数量或添加具有相同符号的值时，灾难性的减少不是问题。 但是，在添加具有不同符号的值时可能会成为问题。 也就是说，应该以与差异相同的怀疑来考虑金额。 </li><li> 作为读者的练习，我建议编写<code>SumOfProducts()</code>函数，该函数可防止灾难性收缩。 如果要使任务复杂化，请解释为什么在<code>DifferenceOfProducts()</code> ， <code>dop + err == dop</code> ，因为符号<code>a*b</code>和<code>c*d</code>不同。 </li><li>  FMA指令在GPU上已经可用了十多年，在大多数CPU上已经使用了至少五年。 使用<code>std::fma()</code>时，可能有必要将编译器标志添加到CPU以直接生成它们。 在gcc和clang中， <code>-march=native</code>作品。 </li><li> 在IEEE浮点格式中，精确执行乘以2的幂，因此<code>4 * a</code>不会引起任何舍入误差，除非发生溢出。 </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN475370/">https://habr.com/ru/post/zh-CN475370/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN475342/index.html">Andrey Sebrant（Yandex）：人工智能时代的企业</a></li>
<li><a href="../zh-CN475346/index.html">当美军试图读懂思想时</a></li>
<li><a href="../zh-CN475354/index.html">快乐安全专家日</a></li>
<li><a href="../zh-CN475358/index.html">亚美尼亚IT部门的薪资分析以及TOP10 IT公司的空缺职位</a></li>
<li><a href="../zh-CN475368/index.html">如何计算广告效果</a></li>
<li><a href="../zh-CN475372/index.html">基于TLS 1.3的前端域</a></li>
<li><a href="../zh-CN475378/index.html">“我们不能将大客户的个人数据权利留给大公司”-英国《连线》杂志前主编谈到技术的未来</a></li>
<li><a href="../zh-CN475382/index.html">我们如何在Yandex.Maps中实现WebAssembly以及为什么要离开JavaScript</a></li>
<li><a href="../zh-CN475384/index.html">Spring Boot 2.2中有什么新功能？</a></li>
<li><a href="../zh-CN475386/index.html">FAS警告：如何不违反广告法。 广告商备注</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>