<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏻 📺 🤷 Méthodologie de reconstruction des bâtiments perdus à partir de photographies 💈 👂🏻 👨🏻‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je veux partager l'expérience de la reconstruction du modèle tridimensionnel de mon école, qui a brûlé il y a plusieurs années. Je vais...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Méthodologie de reconstruction des bâtiments perdus à partir de photographies</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485178/">  Bonjour, Habr!  Je veux partager l'expérience de la reconstruction du modèle tridimensionnel de mon école, qui a brûlé il y a plusieurs années.  Je vais vous parler de la méthode de travail avec les photos, comment adapter la perspective d'une caméra virtuelle à l'image.  Comment faciliter la modélisation.  Et je vais essayer de faire en sorte que ce ne soit pas ennuyeux, même pour une personne loin de la 3D. <br><br><img src="https://habrastorage.org/webt/rw/is/bk/rwisbkrzzhlt_bda_xycg6pmsx4.png"><br><a name="habracut"></a><br>  Une fois, mon ami Alexei <a href="https://habr.com/ru/users/kaiwas/" class="user_link">Lyapin kaiwas a</a> montré comment, en utilisant le module complémentaire BLAM gratuit pour blender, vous pouvez ajuster l'angle et le champ de vision d'une caméra 3D à partir d'une photo afin que leurs perspectives correspondent.  Puis j'ai <i>«tiré»</i> avec l'idée de restaurer l'école, et j'ai réalisé que cette technique aiderait. <br><br>  Il y avait suffisamment de photos de l'école prises avec un éclairage et des conditions météorologiques différentes, la couverture du bâtiment en photos était d'environ 95%, il y avait même deux photos de l'avion.  Ça fait plaisir.  La plupart du numérique que j'ai moi-même tourné.  Une partie est recrutée sur les réseaux sociaux.  Il y avait aussi des photographies prises sur pellicule.  J'ai tout rassemblé dans un dossier et j'ai commencé à comprendre. <br><br><img src="https://habrastorage.org/webt/p2/-s/l4/p2-sl4d88_nicl0n-xp9-0nxrdg.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Beaucoup de petites photos cachées sous un spoiler</b> <div class="spoiler_text">  Pour certains, ce bâtiment semblera une "bannière" rurale terne et cela est compréhensible, car rien ne vous y relie.  Mais vous devez admettre que la taille et le design sont impressionnants, étant donné qu'ils sont entièrement créés à partir de bois. <br><br><img src="https://habrastorage.org/webt/w3/7j/x_/w37jx_6wp_veesbn3kfrh3tdyba.png"><br><br><img src="https://habrastorage.org/webt/yy/wo/61/yywo61cqljspbmio2jglfbtoo6w.png"><br><br>  Photos de l'avion. <br><br><img src="https://habrastorage.org/webt/rb/le/ej/rbleejw1m9duboxod6g3wxu20vc.png"><br><br></div></div><br>  <i>La vidéo raconte brièvement l'histoire du bâtiment.</i>  <i>J'ai spécifiquement fait une installation tranquille et mesurée, comme</i>  <i>concentré sur un public adulte.</i>  <i>Il est dommage que YouTube ait en quelque sorte serré la vidéo et qu'il y ait eu un effet désagréable d'animation de "contraction".</i>  <i>Hélas, tel qu'il est.</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xgvIkXp2rto" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  En été, le porche de l'école était notre lieu de rassemblement préféré.  Il servait d'espace public aux écoliers et aux étudiants.  Le soir, les gens venaient "traîner" et se familiariser.  Jouez de la guitare <s>et buvez de la bière</s> . <br><br>  Je me suis souvenu de la période scolaire avec chaleur et de nombreux bons souvenirs sont associés au bâtiment.  Plusieurs fois, j'ai rêvé de l'intrigue, comme si je rentrais chez moi et que je me rendais à l'école.  Parfois, il était fantaisiquement déformé, selon la logique du monde du sommeil, il était restauré et affiné ... Quelque chose languissait en moi.  C'était obsédant.  Et je voulais le prendre et le dessiner moi-même. <br></blockquote>  Méthodes de travail avec l'addon BLAM: <br><br><ol><li>  Ouvrez une photo dans la fenêtre des clips du mélangeur; </li><li>  Tracez quatre lignes de référence, qui doivent être deux par deux sur différentes couches du crayon gras, le plugin traite une couche comme l'axe X, l'autre comme Y; </li><li>  Les lignes doivent être orientées le long d'objets rectangulaires dans le cadre.  Par des bords ou des limites visibles; </li><li>  Ensuite, vous devez cliquer sur le bouton du panneau de plugins et la caméra dans la scène peut se tenir de manière chaotique orientée par rapport au point de référence. </li><li>  Et après tout, vous devez ajuster longuement et sombrement un angle à un autre ... </li></ol><br>  <i>Soit dit en passant, une limitation assez grave de la méthode se pose: le bâtiment doit contenir des éléments rectangulaires et être tourné avec une perspective clairement visible ...</i> <br><br><img src="https://habrastorage.org/webt/qv/4k/lz/qv4klzwxcagybl_a9yd0inf33hk.png"><br><br>  L'exemple montre clairement que l'axe rouge (sortant du cadre, pour ainsi dire) n'a rien à attacher visuellement.  Parfois, vous pouvez ajuster l'axe manquant à l'œil nu.  Surtout si l'horizon est visible dans le cadre, qui est le point de fuite pour les lignes de référence. <br><br><img src="https://habrastorage.org/webt/8v/ir/ab/8virabgm0gdeviilerrzwjskohk.png"><br><br>  Bref, je ne vois aucune raison de vous ennuyer avec ces détails, car  l'auteur du plugin a finalement fait une demande distincte.  Dans lequel le travail est devenu plus visuel et plus agréable. <br><br>  Il s'appelle fspy.  Le programme multiplateforme, gratuit, incarne un cas rare d'utilitaires légers et concis.  Elle a également l'air esthétiquement agréable, du site à l'interface utilisateur.  C'est un plaisir à utiliser.  Super! <br><br><img src="https://habrastorage.org/webt/ax/ce/bf/axcebfwa3afy0tv4rw9tdxvbm7i.png"><br><br>  Faites attention à quelques innovations importantes.  Un marqueur blanc avec un triple de vecteurs est apparu.  C'est la marque du centre du monde.  Lors de l'importation dans Blender, le point zéro des coordonnées mondiales sera situé à l'emplacement du marqueur. <br><br><img src="https://habrastorage.org/webt/p4/vx/sn/p4vxsn4_lrhuqc1ssvf7kinyace.png"><br><br>  La deuxième innovation importante a été la possibilité de marquer la distance de référence le long d'un des axes.  Si un objet de taille connue est présent dans le cadre, cela signifie que vous obtiendrez la position exacte de la caméra, qui est la distance physiquement correcte du centre du monde (marqueur). <br><br>  Enregistrez le fichier et importez-le dans Blender.  <i>Attention, pour pouvoir importer des fichiers fspy, vous devez mettre un addon du même auteur dans le mélangeur.</i>  Lors de l'importation, un appareil photo est créé à travers lequel la photo sélectionnée sera visible.  Si tout est fait correctement, la caméra sera orientée correctement, vous pouvez immédiatement commencer la modélisation.  Pour ce faire, assurez-vous que les axes des mêmes couleurs dans les différentes photographies sont à sens unique. <br><br><img src="https://habrastorage.org/webt/va/fl/c9/vaflc9_pzrrh8ew1ricd_hcxiv8.png"><br><br><img src="https://habrastorage.org/webt/0b/00/hy/0b00hyhdvpvc3gznipvkh1mwbge.png"><br><br>  Maintenant, la tâche se réduit à un contour agréable et intuitif des détails des façades.  C’est comme dans la coloration des enfants.  L'étape de mise à niveau m'a d'abord semblé une routine infernale.  Mais plus tard, c'est devenu quelque chose comme assembler un puzzle en trois dimensions.  Lorsque vous ressentez déjà intuitivement la perspective et la taille, vous pouvez les combiner avec l'écoute de castes. <br><br>  Mais en même temps, j'ai rencontré beaucoup de petits problèmes et difficultés, j'ai même dû recréer le fichier deux fois et recommencer presque à nouveau, car  a fait des erreurs au début et n'a pas tenu compte du fait que le bâtiment s'est affaissé de façon inégale au fil du temps, perdant sa rectangulaire. <br><br>  L'image satellite est devenue d'une grande aide; je ne me souviens pas exactement d'où venait cette capture d'écran.  Mais maintenant, les cartes ont été mises à jour.  Et il n'y a pas déjà d'école pour eux. <br><br><img src="https://habrastorage.org/webt/ve/ea/xs/veeaxs5_wxmlhtpsuposyhnuavm.png"><br><br>  Je recommande d'orienter la scène et le bâtiment non pas aux points cardinaux, mais pour plus de commodité.  Plus tard, cela peut être facilement résolu en tournant tous les objets d'un groupe. <br><br>  Après la création de la boîte dimensionnelle, un travail minutieux a suivi, comme tracer des fils, de la neige et des ailes. <br><br><img src="https://habrastorage.org/webt/ra/cs/3m/racs3moioeggea7mvzsdbkbe1j4.png"><br><br>  Et la technique de «l'extraction de texture» a été appliquée à la tablette, j'en avais besoin sans distorsion en perspective.  Obtenu et redessiné dans le vecteur: <br><br><img src="https://habrastorage.org/webt/f_/k1/wl/f_k1wlllzl2ourqlk-pqivtq7ty.png"><br><br>  Il a peint des bouleaux à la main en utilisant la technique low-poly.  En général, je ne me suis pas fixé pour objectif le photoréalisme, je voulais transmettre l'ambiance du jouet ou du dessin animé. <br><br><img src="https://habrastorage.org/webt/fu/cv/ai/fucvai0blykaje1mq01yl7_4rva.png"><br><br>  Ensuite, j'ai voulu ajouter une sorte de "goodies" visuels et j'ai complété la scène avec des inscriptions faites dans la police old school pour un stylo pointu.  Toute la journée a apporté des lettres.  Oui, au fait, j'ai tout fait dans un mixeur.  Il a un grand potentiel. <br><br><img src="https://habrastorage.org/webt/47/vf/-j/47vf-jpu_oyhjkc-fu3vkx01v6i.png"><br><br>  Je voulais publier un article sur VK pour les vacances du Nouvel An et j'ai passé près d'une semaine à empiler des animations, des touches de déplacement et des effets de dessin.  Et j'ai aussi dû travailler sur la création de neige étincelante, une expérience inestimable a été acquise.  <i>Cependant, à partir du reste du travail sur le projet.</i> <br><br><img src="https://habrastorage.org/webt/uq/n_/cs/uqn_csfhzmzsgjpkyebed3kolvk.png"><br><br><img src="https://habrastorage.org/webt/y4/ej/t0/y4ejt0uo_wnylqkqnxf_zrlckow.png"><br><br>  La vidéo finale a été rendue pendant environ quatre heures, sur le moteur en temps réel eevee, sur une carte graphique 550ti.  J'ai eu un défi interne pour organiser le travail afin de ne pas avoir à me soucier des éditeurs vidéo.  J'ai appuyé sur le bouton et j'ai obtenu le résultat final (déjà avec le son).  Et le mélangeur a donné une telle opportunité. <br><br>  Pour ceux qui ont lu, un bonus: des photos du feu.  Photographe: Larin Vladimir. <br><br>  Vue depuis l'entrée principale (vue comme au début de la vidéo). <br><br><img src="https://habrastorage.org/webt/r2/7d/wn/r27dwnob9vzogsimazvc3o84n_0.jpeg"><br><br>  Des fils tombés en diagonale dans la cour.  Sur la gauche, nous voyons une dépendance à moitié brûlée avec une entrée.  Au deuxième étage, il y avait une bibliothèque.  Ses fenêtres sont au-dessus de la tête du pompier. <br><br><img src="https://habrastorage.org/webt/gb/vv/qs/gbvvqsq33nck_lsmmrydfezahgg.jpeg"><br><br>  Vue du coin intérieur où se trouvait l'entrée.  De la cour.  Au premier plan se trouve le support de ligne de transmission en L, qui se trouve à l'entrée de l'atelier.  Les murs ont presque perdu leur forme.  <i>Aucune des personnes n'a été blessée.</i> <br><br><img src="https://habrastorage.org/webt/-c/yk/t-/-cykt-uofdyulv6hejdsn87ji9m.jpeg"><br><br>  Vue de la scène le matin.  J'ai entendu une histoire qui dégage de la vapeur et de la fumée, les restes des murs dégagent une semaine de plus ... Je ne peux pas garantir la vérité.  J'ai observé un incendie similaire, qui a également eu lieu en hiver.  Les bâtiments sont trois fois plus petits qu'une école.  Et en effet, les cendres fumaient et sentaient pendant plusieurs jours. <br><br>  Soit dit en passant, le processus de combustion de tels volumes de bois produit beaucoup de chaleur.  Le rayonnement peut faire fondre la peinture sur les maisons voisines et assombrir l'écorce des arbres voisins.  Sur la photo ci-dessus, cet effet peut également être observé.  Les bouleaux sont devenus rouges de carbonisation avec la chaleur. <br><img src="https://habrastorage.org/webt/qt/cv/yw/qtcvywf5rd6hhymxvhg6ckbmumc.jpeg"><br><br>  Le résultat et l'évaluation des gens m'ont fait plaisir.  Près de 10 000 vues vidéo (en contact) d'environ 300 référentiels.  Merci des enseignants, des amis et des étrangers en PM. <br><br>  Merci de votre attention! <br><br>  <i>PS si vous n'êtes pas indifférent au patrimoine architectural de notre pays, essayez de photographier de vieux bâtiments de tous côtés et de les partager sur Internet, peut-être que ces photos aideront beaucoup quelqu'un.</i> <i><br><br></i>  <i>Et si vous avez aimé le post, je suis heureux de parler <a href="">du deuxième projet</a> .</i>  <i>Ce que je fais maintenant.</i>  <i>Cela s'est avéré plus difficile, car</i>  <i>quelques photos mais là j'ai appliqué quelques techniques dignes de mention.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485178/">https://habr.com/ru/post/fr485178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485162/index.html">Comment les commentaires de code ont évolué des années 1940 à 2020</a></li>
<li><a href="../fr485164/index.html">Transformers and Hate in Vancouver: How Anti-Plagiarism Rides the NeurIPS-2019</a></li>
<li><a href="../fr485172/index.html">Problèmes d'architecture dans les grands projets</a></li>
<li><a href="../fr485174/index.html">Types dépendants de Haskell: pourquoi l'avenir du développement logiciel</a></li>
<li><a href="../fr485176/index.html">Six schémas pour expliquer les concepts de gestion des produits</a></li>
<li><a href="../fr485180/index.html">Avons-nous besoin d'un lac de données? Que faire de l'entrepôt de données?</a></li>
<li><a href="../fr485182/index.html">Sennheiser en 2020 - casque sans fil mis à jour pour l'anniversaire</a></li>
<li><a href="../fr485184/index.html">Résultats du sondage par onglets</a></li>
<li><a href="../fr485186/index.html">Démarrage d'un billion de dollars ou naissance des entreprises les plus prospères de Valley</a></li>
<li><a href="../fr485190/index.html">Andrew Eun "Passion pour l'apprentissage automatique." Traduction des chapitres 47 à 58</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>