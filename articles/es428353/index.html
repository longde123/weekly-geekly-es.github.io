<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó®Ô∏è üèê ü§æüèª C√≥mo creamos un sistema para rastreos m√≥viles en SIBUR üò• ü§í üçé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando se trata del trabajo coordinado de cualquier producci√≥n t√©cnicamente compleja, la importancia de la seguridad es dif√≠cil de sobreestimar. Y si ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo creamos un sistema para rastreos m√≥viles en SIBUR</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sibur_official/blog/428353/"> Cuando se trata del trabajo coordinado de cualquier producci√≥n t√©cnicamente compleja, la importancia de la seguridad es dif√≠cil de sobreestimar.  Y si estamos hablando del sector petroqu√≠mico, a√∫n m√°s.  Aqu√≠, la seguridad implica una amplia gama de medidas: control de acceso, per√≠metros especialmente vigilados, perros hambrientos, videovigilancia, as√≠ como una condici√≥n satisfactoria de los nodos t√©cnicos.  De estos nodos hablaremos hoy. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/eg/rt/xv/egrtxvlzbbicixrizit2_-ls7jy.jpeg" width="800"><br></a> <br><br>  Existen muchos mecanismos y dispositivos complejos, incluso dentro de una sola plataforma.  V√°lvulas y tapones compuestos, bombas, tuber√≠as, dispositivos de extinci√≥n de incendios, electr√≥nica: todo esto debe ser monitoreado, cada nodo en el momento adecuado debe tener ciertos par√°metros: presi√≥n en las tuber√≠as, temperatura del nodo, el grado de apertura de cualquier tap√≥n y similares.  Por supuesto, algunos de los par√°metros m√°s cr√≠ticos se controlan electr√≥nicamente, pero cuando es autom√°ticamente dif√≠cil hacer esto, entran en juego los buenos y viejos paseos a pie. <br><br>  Entonces, por ahora, en nuestras instalaciones, el instalador de l√≠neas termina de tomar t√©, lleva un walkie-talkie con √©l para comunicarse con sus colegas, un cuaderno para registrar posibles defectos o desviaciones de la norma, es paciente y de buen humor, y realiza un viaje de senderismo por el sitio.  Si nota algunas rarezas cr√≠ticas, informa por radio, despu√©s de lo cual se toman medidas para eliminarlas.  Y luego, despu√©s de completar el desv√≠o, se dirige a su lugar de trabajo y por un tiempo reescribe todas las jambas descubiertas en el informe general.  Manos sobre papel. <br><a name="habracut"></a><br>  Por supuesto, se dedica mucho tiempo a todo este papeleo, dada la cantidad total de turnos, la frecuencia de las soluciones y la velocidad de escritura de individuos individuales.  Pero entonces la escritura a mano tambi√©n debe ser desmontada.  Por lo tanto, decidimos hacer la vida m√°s f√°cil tanto para los rastreadores como para nosotros escribiendo una aplicaci√≥n para rastreos m√≥viles. <br><br>  El hecho de que el liniero se volver√° m√°s f√°cil es comprensible, porque ya no necesita escribir todo con las manos en los cuadernos y luego dedicar tiempo a generar un informe.  Cualquier incidente que noten es introducido por √©l usando una aplicaci√≥n m√≥vil, y el sistema lo archiva inmediatamente en el informe general en un formato legible. <br><br>  Y otra ventaja para la compa√±√≠a es reducir el tiempo de inactividad del equipo en el sitio.  En las realidades actuales, 1 hora de inactividad para una producci√≥n petroqu√≠mica de tama√±o mediano es de varios millones de rublos.  La cantidad que claramente se puede gastar con mayor beneficio que apagar parte del sitio y observar el trabajo de restauraci√≥n, mirar el reloj. <br><br>  Y los supervisores de turno son m√°s f√°ciles: queda claro de inmediato cu√°n minuciosa y cuidadosamente se hizo el siguiente desv√≠o (y si fue perfecto en principio), qu√© defectos se descubrieron, qui√©n tuvo la culpa y qu√© hacer.  Si algo sucede, ahora la administraci√≥n puede darle inmediatamente al liniero las instrucciones necesarias en el chat de la aplicaci√≥n ("Sanya, gira esa cosa con fuerza, y luego de repente qu√©"). <br><br>  En realidad, estos fueron los principales dolores que tratamos de resolver. <br><br><h2>  Aplicaci√≥n y tel√©fono inteligente </h2><br>  Alrededor de 15 personas trabajaron en la aplicaci√≥n, si cuenta todo en su conjunto: backend, frontend, aplicaci√≥n m√≥vil, dise√±o. <br><br>  Decidieron hacer Backend en .NET Core, el frente en reactjs y sin Kotlin y Java. <br><br>  En este momento, hay un piloto en funcionamiento dentro de uno de nuestros sitios: existen los siguientes trabajos para el liniero: <br><br><img src="https://habrastorage.org/webt/bt/a8/w8/bta8w8bw4ouyxmnsrquxa7mhmsw.jpeg"><br><br><img src="https://habrastorage.org/webt/1g/bx/77/1gbx77l54zjcar7acvfhgzww0mc.jpeg"><br><br>  El tel√©fono inteligente no se parece tanto a esto porque el instalador de l√≠neas puede dejarlo caer, clavar un par de clavos o neutralizar al delincuente perimetral con un tiro bien dirigido, pero debido a que uno de los requisitos principales para los dispositivos electr√≥nicos en el sitio es la protecci√≥n contra explosiones, es decir, el dispositivo no debe convertirse en una fuente de explosi√≥n (no crear una chispa y similares).  Despu√©s de todo, puede pasar cualquier cosa: en alg√∫n lugar habr√° una expulsi√≥n de gas, que en s√≠ misma no es tan peligrosa hasta que alguien cercano quiera fumar, soldar una pieza de hierro a otra pieza de hierro, o por alguna raz√≥n el tel√©fono m√≥vil no pase la lluvia  Las implicaciones son bastante obvias. <br><br>  Por lo tanto, lo principal en el sitio es retomar con respecto a cualquier amenaza, por improbable que parezca.  Por cierto, por la misma raz√≥n, nuestras balizas Bluetooth y las etiquetas NFC no parecen balizas concisas familiares para todos, pero as√≠: <br><br><img src="https://habrastorage.org/webt/fe/ej/m_/feejm_pd6osjifujfmnlowq51xo.jpeg"><br><br><img src="https://habrastorage.org/webt/s6/bm/dy/s6bmdyr6i6p-6ejuokbyozjjh8w.jpeg"><br><br>  El dispositivo para rastreos funciona en Android est√°ndar, respectivamente, escribimos la aplicaci√≥n para esta plataforma.  Gracias a la aplicaci√≥n est√°n disponibles: <br><br><ul><li>  autorizaci√≥n del empleado que realiza el desv√≠o utilizando la etiqueta NFC del empleado (el pase de un empleado con una etiqueta est√° adherido al tel√©fono inteligente, el tel√©fono inteligente comprende qui√©n est√° actualmente en turno); </li><li>  una pantalla de cambio con un informe de defectos encontrados y su descripci√≥n (puede tomar fotos en un tel√©fono inteligente y proporcionarles descripciones relevantes); </li><li>  estad√≠sticas sobre el trabajo realizado (el supervisor de turno establece tareas espec√≠ficas para omitir, que deben completarse, algo puede llegar por empuje durante la ronda); </li><li>  composici√≥n del turno (lista de colegas y aquellos que realizaron la ronda anterior); </li><li>  defectos fijos (tiempo de detecci√≥n de un problema, el nombre del equipo y su c√≥digo, tipo de problema, foto, estado del equipo, etc.); </li><li>  Chat para la resoluci√≥n r√°pida de problemas; </li><li>  informe completo de la ronda (tiempo dedicado, etc.). </li></ul><br><br>  Tambi√©n pensamos en la posibilidad de hacer historia en el proceso de dar vueltas, pero decidimos que todav√≠a no val√≠a la pena. <br><br>  En promedio, hay 8 personas en un turno y 4 turnos. Encarcelamos al sistema por una capacidad promedio de 2500 personas (porque ahora es un piloto en un sitio y ahora tenemos 22 sitios y 150 instalaciones). <br><br><h2>  Bypass </h2><br>  El sitio, el equipo y las √°reas necesarias se cuelgan con balizas BT y etiquetas NFC.  En algunos lugares, para que el per√≠metro se marque como verificado, Bluetooth es suficiente, pero en alg√∫n lugar debe usar NFC.  Por qu√©  Debido a que hay ciertos tipos de equipos para la verificaci√≥n de los cuales es suficiente simplemente ingresar al rango de la baliza BT (es suficiente para ver que la cosa bajo prueba todav√≠a existe en el mismo lugar y no se ha volado), y otros equipos requieren una verificaci√≥n m√°s exhaustiva, utilizando instrumentos de medici√≥n precisos, par√°metros de fijaci√≥n e indicadores. <br><br>  Por lo tanto, el empleado debe tocar la etiqueta NFC del equipo bajo prueba con el tel√©fono inteligente, para que el sistema cuente esto como verificaci√≥n. <br><br>  Adem√°s, en cada baliza, confeccionamos una lista de controles que deben llevarse a cabo con el equipo atado a la baliza.  El empleado ingresa al radio del equipo de baliza BT y recibe una lista de verificaci√≥n en la aplicaci√≥n con lo que se debe verificar exactamente para esta pieza de hierro.  Lo mismo con una etiqueta NFC.  Toc√≥ el equipo (una lista de verificaci√≥n lleg√≥ al tel√©fono inteligente) realiz√≥ controles.  Por ejemplo, conect√© un tel√©fono inteligente a la bomba y obtuve una lista: ‚ÄúVerificar temperatura‚Äù, ‚ÄúVerificar presi√≥n‚Äù y otros par√°metros. <br><br>  En consecuencia, tan pronto como un empleado ingres√≥ a la zona de baliza BT, en el diagrama de la gerencia, dicha zona est√° marcada en verde (es decir, el empleado estaba all√≠ y examin√≥ este nodo), y en el caso de una etiqueta NFC, el empleado marca cada verificaci√≥n manual en la lista. <br><br>  De esta manera, resolvemos el problema de olvido del empleado (sin embargo, una persona puede trabajar en exceso y realizar no 12 verificaciones necesarias en el dispositivo, sino 11, por ejemplo, y aqu√≠ siempre tiene una lista de verificaciones a mano en la pantalla del tel√©fono inteligente), y generamos un informe m√°s claramente (en los resultados se ver√° qu√© nodos se inspeccionaron y qu√© controles realiz√≥ un rastreador espec√≠fico). <br><br>  Como resulta que ahora casi todo se hace a trav√©s de este tel√©fono inteligente, estamos trabajando en la posibilidad de rechazar los walkie-talkies; al final, el rastreador ya est√° con el tel√©fono inteligente, ¬øpor qu√© no enviar mensajes de voz a trav√©s de la aplicaci√≥n desde √©l?  El nivel de comunicaci√≥n en los sitios se garantiza de manera correspondiente, por lo que no deber√≠a haber problemas. <br><br>  Esto es para la aplicaci√≥n del rastreador.  Y as√≠ es como se ve el supervisor de turno. <br><br><h2>  El sistema </h2><br>  En el dise√±o general del sitio, la administraci√≥n ve las √°reas marcadas y cada sensor correspondiente al equipo que debe verificarse.  Tan pronto como el liniero marca el per√≠metro o la pieza de hierro marcada con un tel√©fono inteligente, el √°rea correspondiente en el diagrama se pinta de verde. <br><br>  Escribimos un panel de control conveniente para que todo se pudiera monitorear convenientemente y generar informes, as√≠ como nuevas tareas para los rastreadores justo durante el rastreo (a veces es necesario). <br><br>  Logramos el trabajo coordinado de todo este negocio gracias a la arquitectura de microservicios.  Todo se ve as√≠ (y hablaremos m√°s sobre esto con m√°s detalle): <br><br><img src="https://habrastorage.org/webt/zw/dt/sc/zwdtscsiqlxjjnilmzri_syg7h0.jpeg"><br><br>  La b√∫squeda de texto completo en el backend se realiz√≥ en Elasticsearch. <br><br><h2>  Entonces que </h2><br>  Ahora hemos resuelto los principales problemas que llevaron a la creaci√≥n del sistema, y ‚Äã‚Äãpuede colgarle peque√±as cosas adicionales.  Por ejemplo, dividiremos las bases para acelerar el funcionamiento general del sistema. <br><br>  Y tambi√©n queremos aprovechar la posibilidad de completar solicitudes de reparaci√≥n completas y rastrear su implementaci√≥n. <br><br>  Por supuesto, cierre una serie de errores.  Ahora, por ejemplo, a veces los rastreadores se quejan de que los permisos necesarios para que la aplicaci√≥n funcione vuela desde tel√©fonos m√≥viles. <br><br>  En general, el piloto tuvo bastante √©xito, aunque a√∫n no ha podido recopilar estad√≠sticas tan claras como sea posible sobre incidentes; por ejemplo, un rastreador camin√≥ por el sitio, vio que uno de los trozos estaba suelto, simplemente lo ajust√≥ sobre la marcha y continu√≥, diciendo: "¬øQu√© demonios, qu√© es esto en la lista?" para depositar ".  Es decir, las peque√±as cosas francas siempre se corrigen sobre la marcha, pero no siempre se registran en el informe.  Pero queremos arreglar cada peque√±a cosa. <br><br>  Lo principal es que el tiempo de cambio √∫til ha cambiado para mejor. <br><br>  Hasta ahora, estos son todos los datos sobre los cuales podemos construir estad√≠sticas, porque el piloto es piloto, pero en general, todos est√°n contentos. <br><br>  Incluyendo rastreadores. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428353/">https://habr.com/ru/post/es428353/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428339/index.html">No lo automatice: malos consejos comerciales</a></li>
<li><a href="../es428341/index.html">Tecnolog√≠a Qsan RAID EE</a></li>
<li><a href="../es428343/index.html">Un rompecabezas interesante en C</a></li>
<li><a href="../es428345/index.html">Requisitos de cobertura con estuches. SuperJob Realities</a></li>
<li><a href="../es428347/index.html">El futuro de WebAssembly como un "√°rbol de habilidades"</a></li>
<li><a href="../es428355/index.html">Mec√°nica de gamificaci√≥n: calificaci√≥n</a></li>
<li><a href="../es428363/index.html">Construyendo un jetpack / hoverboard: sistemas de rescate</a></li>
<li><a href="../es428365/index.html">La historia de c√≥mo cambi√≥ la facturaci√≥n de Google o c√≥mo evitar costos innecesarios</a></li>
<li><a href="../es428367/index.html">Creamos el m√≥dem sonar m√°s peque√±o del mundo</a></li>
<li><a href="../es428369/index.html">Salir de la rueda de Sansara, el extremismo y un poco de cosas verdes: un an√°lisis de las tareas del folleto GridGain en la conferencia Joker 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>