<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßóüèª üìä üå™Ô∏è Comprobaci√≥n del rendimiento del SOC üë©üèª‚Äçüî¨ üë©üèº‚Äçüè≠ üôÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy hablaremos sobre el Centro de Operaciones de Seguridad (SOC) de personas que no lo crean y configuran, pero que comprueban c√≥mo lo hicieron otros....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comprobaci√≥n del rendimiento del SOC</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dsec/blog/454148/">  Hoy hablaremos sobre el Centro de Operaciones de Seguridad (SOC) de personas que no lo crean y configuran, pero que comprueban c√≥mo lo hicieron otros.  Se verifica la efectividad del SOC creado para su empresa de forma independiente o por alguien externo.  El cheque responde a la pregunta "¬øCumple el SOC las tareas que se le asignaron o no, y qu√© tan efectivo es?".  Despu√©s de todo, la presencia de SOC no significa que funcione como deber√≠a y usted es consciente de cualquier posible incidente y otros problemas de seguridad.  Hablaremos sobre nuestra experiencia en la verificaci√≥n de SOC en diferentes compa√±√≠as dentro de nuestros proyectos. <br><br><img src="https://habrastorage.org/webt/k8/8j/aw/k88jawtmbartkria690_ycsumny.jpeg"><br><a name="habracut"></a><br>  Para aquellos que ya saben qu√© es SOC y con qu√© est√° borracho, les sugerimos que pasen inmediatamente a la segunda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">parte del</a> art√≠culo.  El resto est√° invitado a leer el art√≠culo completo. <br><br><h1>  Parte 1. Un poco sobre SOC para principiantes </h1><br>  La protecci√≥n de los sistemas de informaci√≥n es lo primero en casi cualquier industria.  Cualquier acceso no autorizado a la informaci√≥n puede generar serios problemas para la empresa. <br><br>  El sistema de informaci√≥n de cualquiera, incluso la empresa m√°s peque√±a, es complejo, y todas sus partes deben protegerse de acuerdo con el mismo principio: primero las medidas organizativas, luego las preventivas, luego las herramientas de vigilancia que detectan anomal√≠as y las herramientas de respuesta.  Las personas se encuentran en la √∫ltima etapa, pero no menos importante, de combatir las amenazas, aunque sucede que un problema de seguridad puede resolverse sin involucrar a las personas, por ejemplo, bloqueando autom√°ticamente los puertos o desconectando una m√°quina de una red compartida.  Las herramientas utilizadas para proteger cada uno de los componentes del sistema pueden variar de una compa√±√≠a a otra, pero existe una tendencia general: gradualmente, las empresas, independientemente de su tama√±o, tienen la idea de introducir SOC - Security Operation Center. <br><br>  Hay varias razones para esto: <br><br><ul><li>  El uso de SOC reduce el costo de rastrear manualmente los incidentes de seguridad </li><li>  los eventos del sistema se re√∫nen en un solo lugar, es menos probable que alguno de ellos se pierda; </li><li>  SOC le permite configurar reglas para clasificar eventos como incidentes de seguridad de acuerdo con las necesidades y caracter√≠sticas de una empresa en particular; </li><li>  SOC le permite minimizar el tiempo de detecci√≥n y respuesta a incidentes de seguridad, reduciendo as√≠ el da√±o potencial a la empresa; </li><li>  Los registros que caen en el SOC tienen un solo aspecto, lo que le permite investigar eficazmente los incidentes de seguridad, incluso si un atacante intenta detectar los rastros de su presencia en el sistema. </li></ul><br>  SOC es una infraestructura con muchos componentes interconectados, su base es SIEM (informaci√≥n de seguridad y gesti√≥n de eventos).  SIEM es un sistema de recopilaci√≥n, normalizaci√≥n y correlaci√≥n de datos que recopila registros de servidores web, m√°quinas host y otros componentes de infraestructura, as√≠ como herramientas de seguridad de la informaci√≥n instaladas en dispositivos de la red de la organizaci√≥n, las correlaciona y procesa para que vuelvan a la normalidad.  Esta es la tarea principal de SIEM: traer una gran cantidad de registros de diferentes fuentes a un solo formato para la conveniencia de detectar las relaciones entre ellos.  Esto es necesario para otro componente de SOC: los analistas de SOC que, mirando las enormes listas de registros de SIEM, deben responder a algunos de los eventos por su cuenta o transferirlos al trabajo de especialistas en seguridad. <br><br>  No hay dos SOC id√©nticos porque su configuraci√≥n es individual para cada organizaci√≥n.  Las principales etapas de la creaci√≥n de SOC son las siguientes: <br><br><ul><li> definiendo una infraestructura protegida, tanto organizativa como t√©cnicamente; </li><li>  instalaci√≥n de todos los medios de protecci√≥n y monitoreo posibles / necesarios, as√≠ como su configuraci√≥n; </li><li>  selecci√≥n de un SIEM adecuado y su ajuste en funci√≥n de las caracter√≠sticas de la empresa; </li><li>  crear reglas de correlaci√≥n de eventos; </li><li>  selecci√≥n del equipo de SOC: personas cuyo trabajo ser√° monitorear eventos y hacer correcciones a las reglas de correlaci√≥n, as√≠ como responder a eventos de seguridad. </li></ul><br>  Incluso despu√©s de que todo est√© definido, instalado y configurado, nadie puede garantizar que SOC ahora funcione como quisiera o como se muestra en hermosas presentaciones de los desarrolladores de SIEM.  El problema fundamental con el uso de cualquier medio de protecci√≥n es que pr√°cticamente nadie sabe qu√© tan efectivamente funcionan.  Es importante no solo instalarlos y ejecutarlos, sino tambi√©n asegurarse de que las medidas tomadas sean efectivas.  El nivel de madurez de la empresa en materia de seguridad tambi√©n es extremadamente importante. <br><br>  Dado que SOC es una estructura compleja y de m√∫ltiples componentes, es importante comprender que en cada una de las etapas enumeradas de su creaci√≥n, algo puede salir mal.  Y es probable que esto afecte la seguridad general del sistema y la eficiencia del SOC en s√≠. <br><br><h1><a name="part2"></a>  Parte 2. ¬øQu√© sucede si no verifica la efectividad del SOC, pero deja todo como est√°? </h1><br><img src="https://habrastorage.org/webt/nt/w-/d6/ntw-d6ttjy2mokg71gpq7nzye7e.jpeg"><br><br>  Para empezar, algo puede salir mal, incluso con el m√°s m√≠nimo <b>cambio en la infraestructura de la</b> organizaci√≥n.  Y suceden con bastante frecuencia: alguien se va, viene gente nueva, algo se rompe, el hardware y el software se actualizan y mucho m√°s.  En este caso, la configuraci√≥n del SPI y las reglas de correlaci√≥n deben cambiarse r√°pidamente, pero a menudo se olvidan y, cuando lo recuerdan, es demasiado tarde. <br><br><img src="https://habrastorage.org/webt/i8/5z/r-/i85zr-bggvrlkbclbmsjiqocawu.jpeg"><br><br>  La siguiente parte del SOC donde pueden ocurrir errores es el <b>medio de protecci√≥n</b> desde el cual la informaci√≥n ingresa al SIEM, puede configurarse incorrectamente y omitir acciones dirigidas al sistema desde el exterior.  Y si la acci√≥n del atacante no es detectada por ninguno de los SZI existentes, entonces no entrar√° en los registros y no estar√° en SIEM, y lo m√°s probable es que el servicio de seguridad no lo sepa pronto. <br><br><img src="https://habrastorage.org/webt/mc/gz/yz/mcgzyzfaqjul-mne8abzfesqnnk.jpeg"><br><br>  El problema puede estar en <b>SIEM</b> .  Puede que no funcione como te gustar√≠a.  Los eventos que caen en √©l pueden correlacionarse incorrectamente debido a errores en las reglas de correlaci√≥n, lo que conducir√° a omitir las acciones del atacante.  Vale la pena aclarar aqu√≠ que no siempre hay suficientes datos de una fuente.  Hay casos en que, para determinar incidentes de seguridad, es necesario combinar datos de varias fuentes a la vez para obtener una imagen completa de lo que est√° sucediendo en el sistema.  Pero puede resultar que la regla est√© configurada de modo que para determinar qu√© sucedi√≥, el incidente puede no tener suficientes datos de una fuente, lo que indica el hecho de su finalizaci√≥n.  Es decir  un rompecabezas que consiste en datos de varias fuentes no funcionar√°.  Adem√°s, las reglas para algunos eventos de seguridad pueden no existir en absoluto. <br><br>  <b>En la etapa de correlaci√≥n de eventos</b> en SIEM, pueden surgir varios problemas a la vez.  Uno de ellos puede ser un retraso en la transmisi√≥n de eventos desde algunas fuentes, lo que puede interferir con una correlaci√≥n exitosa. <br><br>  <b>Es posible que las reglas para clasificar eventos como incidentes</b> en SIEM no est√©n configuradas correctamente por s√≠ mismas o que no est√©n disponibles para ning√∫n evento.  Adem√°s, los incidentes suelen tener un nivel de gravedad que, si no se identifica correctamente, puede generar grandes problemas. <br><br><img src="https://habrastorage.org/webt/lp/i_/_b/lpi__b8kyefqpytkx1pvmfkdxw0.jpeg"><br><br>  <b>Las personas que</b> trabajan con SIEM, cuyo trabajo es responder a incidentes de seguridad, tambi√©n pueden causar ataques perdidos y problemas posteriores de seguridad de la informaci√≥n.  Pueden perder algunas se√±ales de SIEM o reaccionar incorrectamente a las acciones del atacante por varias razones.  Tambi√©n existe el problema de que las personas dejar√°n de fumar tarde o temprano, y los nuevos empleados necesitan tiempo para capacitarse. <br><br>  Dado lo anterior, las pruebas de SOC para verificar el rendimiento son extremadamente importantes tanto en la etapa de implementaci√≥n de SOC como a lo largo del tiempo.  Dado que los especialistas de nuestra empresa ya tienen experiencia en este asunto, decidimos describir los principales puntos y matices. <br><br><h1>  Parte 3. Verificaci√≥n de la efectividad de SOC </h1><br>  Las pruebas de SOC en una empresa se pueden realizar en varios escenarios.  Hablemos de los que nos parecen m√°s efectivos. <br><br>  Las tareas de prueba de SOC incluyen pruebas de seguridad al reproducir escenarios de comportamiento t√≠picos inherentes a los cibercriminales.  Estos incluyen: <br><br><ul><li>  iterando a trav√©s de las cuentas de otros usuarios utilizando la fuerza bruta, as√≠ como utilizando la t√©cnica de rociado de contrase√±a.  Es posible utilizar esta t√©cnica si tiene acceso a la lista de cuentas existentes en el sistema, por ejemplo, a trav√©s de la libreta de direcciones del cliente de correo.  En nuestra experiencia, las t√©cnicas de rociado de contrase√±as a menudo se olvidan y, en consecuencia, las reglas de SOC apenas pueden detectar dicho ataque; </li><li>  bombear datos de un recurso web, ya sea un wiki corporativo o un administrador de tareas.  Tal ataque puede llevarse a cabo incluyendo el uso de varios mecanismos de rastreo web y mecanismos brutos de directorio.  Por separado, los auditores prestan atenci√≥n a los servicios API y sus capacidades; </li><li>  intentos repetidos de acceder a recursos o proyectos que est√°n fuera de la competencia del rol en nombre del cual trabaja el atacante.  Un ejemplo simple son los intentos de autorizar a un usuario de un grupo de desarrolladores sobre los recursos de los administradores de red y los servicios de seguridad; </li><li>  Intenta descargar una gran cantidad de informaci√≥n de la red corporativa utilizando t√©cnicas de filtrado de derivaci√≥n.  Se trata principalmente de t√∫neles dns e icmp, pero a veces tiene sentido comenzar con comprobaciones m√°s simples, por ejemplo, intente buscar un puerto tcp o udp abierto afuera, as√≠ como una puerta de enlace adicional.  Para buscar pasarelas, por cierto, hay una implementaci√≥n revisada de una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">herramienta</a> popular de uno de los empleados. </li></ul><br>  Se puede continuar una lista similar de verificaciones durante mucho tiempo.  Es muy importante guiarse por las necesidades reales del cliente y los controles implementados por √©l. <br><br>  La prueba de SOC se puede hacer de dos maneras: <br><br><ul><li>  a ciegas - caja negra; </li><li>  con conocimiento de infraestructura - whitebox. </li></ul><br>  M√°s detalles sobre cada uno de ellos. <br><br>  En primer lugar, debe verificar el funcionamiento de SOC en el modo de prueba de blackbox.  Su esencia es que los empleados del departamento de SOC no son conscientes del trabajo que se est√° llevando a cabo y reaccionan a todos los eventos en modo de combate.  Los auditores / pentesters tienen acceso a la red corporativa, y las cuentas tambi√©n se pueden dar desde los servicios m√°s utilizados en la empresa. <br><br>  Tal modelo supone que un atacante que no tiene informaci√≥n adicional obtuvo acceso a la red de la compa√±√≠a y a cualquiera de las cuentas existentes de una manera desconocida.  Las acciones de tal atacante se caracterizan por un alto grado de aleatoriedad y "ruido".  Analiza activamente la red, itera sobre directorios, cuentas, env√≠a todos los exploits que conoce a todos los puertos, lanza aplicaciones web XSS, SQLi, RCE, SSTI, NoSQLi, etc. con vectores.  En general, se comporta de manera extremadamente agresiva con la esperanza de piratear al menos algo.  Durante la auditor√≠a, los auditores imitan las acciones de dicho atacante, manteniendo un cierto grado de locura, pero est√°n listos para detenerse en cualquier momento a solicitud del servicio SOC o si surgen problemas t√©cnicos.  Por cierto, un resultado inesperado y agradable puede ser el descubrimiento de servicios y aplicaciones vulnerables en la infraestructura de la compa√±√≠a. <br><br>  Otro modelo de prueba es whitebox.  En este caso, se resuelve el escenario de un empleado sin escr√∫pulos.  Por lo general, en este punto, los auditores est√°n bien versados ‚Äã‚Äãen la red del cliente y pueden desempe√±ar ese papel.  El comportamiento de un atacante potencial en este caso puede caracterizarse por la alta selectividad tanto de los medios como de los objetivos del ataque.  Aqu√≠ ya es posible establecer algunos paralelos con los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ataques APT</a> .  Los auditores atacan solo los lugares m√°s d√©biles en su opini√≥n y usan vectores de ataque bien pensados ‚Äã‚Äãy estrechamente dirigidos, y tambi√©n intentan acceder a informaci√≥n confidencial fuera de la competencia de su rol de cuenta con el posterior intento de extraerla del per√≠metro seguro.  Intentan realizar todas las acciones de manera tal que el servicio de seguridad de la empresa no lo note. <br><br>  Despu√©s de las pruebas, generalmente comienza el an√°lisis y la comparaci√≥n de los resultados obtenidos por los auditores y los incidentes detectados por los empleados de SOC.  Esta etapa proporcionar√° una imagen general de la efectividad del trabajo actual de SOC y puede servir como punto de partida para todos los planes adicionales para expandir los controles y enfoques existentes. <br><br>  Finalmente, cuando se compila una idea de la seguridad de la infraestructura probada, los auditores pueden usar la prueba de caja blanca para analizar el conjunto de reglas existente, as√≠ como los eventos en funci√≥n de los cuales se forman estas reglas.  Esta interacci√≥n entre auditores y analistas de SOC puede ser muy productiva, y durante la consulta ayudar√° a identificar errores l√≥gicos y omisiones en la configuraci√≥n de los componentes de SOC.  Su ra√≠z suele ser la falta de comprensi√≥n por parte de los analistas de SOC de c√≥mo puede actuar un verdadero atacante y qu√© trucos puede realizar en los sistemas. <br><br><h1>  Conclusi√≥n </h1><br>  Los servicios m√°s cr√≠ticos que merecen m√°s atenci√≥n se prueban por separado utilizando dos modelos de intrusos. <br><br>  Un conjunto similar de medidas le permite: <br><br><ul><li>  aumentar significativamente la conciencia de los gerentes de seguridad sobre el estado de su infraestructura; </li><li>  realizar ejercicios militares para el departamento de SOC con la oportunidad de obtener asesoramiento de expertos en el campo de la auditor√≠a; </li><li>  detectar y corregir errores existentes en el trabajo de SOC, as√≠ como en general aumentar la seguridad de la empresa. </li></ul><br>  Por su ayuda para escribir este art√≠culo, agradezco a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Denis _ttffdd_ Rybin</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ivan Chalykin</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454148/">https://habr.com/ru/post/454148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454132/index.html">Video vigilancia en orange pi zero - barato y nada enojado</a></li>
<li><a href="../454136/index.html">El teorema m√°s bello de las matem√°ticas: la identidad de Euler</a></li>
<li><a href="../454138/index.html">10 de junio, Deworkacy - QA Buena comunicaci√≥n</a></li>
<li><a href="../454140/index.html">De abogado a probador en Yandex. La historia de mi pasant√≠a.</a></li>
<li><a href="../454144/index.html">En Java 13 quieren agregar "bloques de texto"</a></li>
<li><a href="../454154/index.html">"Ramas del infierno": control en la nube de vertederos ilegales y vertederos peligrosos</a></li>
<li><a href="../454156/index.html">Neum√°ticos y protocolos en automatizaci√≥n industrial: c√≥mo funciona todo</a></li>
<li><a href="../454160/index.html">Uso de PowerShell para aumentar los privilegios de la cuenta local</a></li>
<li><a href="../454164/index.html">¬øC√≥mo funcionan las pruebas A / B en Avito?</a></li>
<li><a href="../454166/index.html">6 de junio - Foro VeeamON en Mosc√∫</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>