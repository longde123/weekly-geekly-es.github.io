<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍇 🛩️ 🚠 رد & BEM - التعاون الرسمي. الجزء التاريخي 👩🏼‍🤝‍👨🏽 😺 🧙🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="إليكم قصة دمج منهجية BEM في عالم التفاعل. تستند المواد التي ستقرأها إلى خبرة مطوري Yandex في تطوير أكبر خدمة وأكثرها تحميلًا في روسيا - Yandex.Search....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>رد & BEM - التعاون الرسمي. الجزء التاريخي</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/438598/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  إليكم قصة دمج منهجية BEM في عالم التفاعل.  تستند المواد التي ستقرأها إلى خبرة مطوري Yandex في تطوير أكبر خدمة وأكثرها تحميلًا في روسيا - Yandex.Search.  لم نتحدث من قبل قط بهذه التفاصيل وبعمق عن سبب قيامنا بذلك ، وليس بخلاف ذلك ، ما الذي حفزنا وما أردنا فعلاً.  حصل الخارج على إصدارات جافة واستعراضات في المؤتمرات.  فقط على الهامش يمكن للمرء أن يسمع شيئا من هذا القبيل.  بصفتي مؤلفًا مشاركًا ، كنت غاضبًا بسبب ندرة المعلومات خارج كل مرة تحدثت فيها عن إصدارات جديدة من المكتبات.  ولكن هذه المرة سوف نشارك كل التفاصيل. </p><br><img src="https://habrastorage.org/webt/wb/mt/xc/wbmtxcvurtd6cdv1aomjrtcyfw8.png"><br><p style=";text-align:right;direction:rtl">  لقد سمع الجميع عن منهجية BEM.  محددات CSS مع الشرطة السفلية.  تحدث عن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">عنصر المكون</a> ، مع الأخذ في الاعتبار الطريقة التي يتم بها كتابة محددات CSS CSS.  ولكن لن تكون هناك كلمة عن CSS في المقال.  فقط شبيبة ، المتشددين فقط! </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  لفهم سبب ظهور المنهجية والمشكلات التي واجهتها ياندكس في ذلك الوقت ، أوصي بأن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تتعرف على تاريخ</a> BEM. </p><br><h2 id="prolog" style=";text-align:right;direction:rtl">  مقدمة </h2><br><p style=";text-align:right;direction:rtl"> ولدت BEM حقا كخلاص من الاتصال القوي والتعشيش في CSS.  لكن تقسيم ورقة <code>style.css</code> إلى ملفات لكل كتلة أو عنصر أو معدّل أدى حتماً إلى بنية مماثلة لرمز JavaScript. </p><br><p style=";text-align:right;direction:rtl">  في عام 2011 ، استحوذت Open Source على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الالتزامات الأولى</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>i-bem.js</code></a> ، والتي عملت مع محرك القالب <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>bem-xjst</code></a> .  نشأت كلتا التقنيتين من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">XSLT</a> وخدمت الفكرة الشائعة آنذاك لفصل منطق الأعمال والعرض التقديمي للمكونات.  في العالم الخارجي ، كانت هذه <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الأوقات الرائعة لـ</a> Handlebars و Underscore. </p><br><p style=";text-align:right;direction:rtl">  <code>bem-xjst</code> هو نوع مختلف من محرك القالب.  من أجل زيادة معرفتي بهيكلية أساليب التوحيد ، أوصي بشدة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بتقرير سيرجي بيريزني</a> .  <code>bem-xjst</code> تجربة محرك القالب <code>bem-xjst</code> في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">صندوق الحماية عبر الإنترنت</a> . </p><br><p style=";text-align:right;direction:rtl">  نظرًا لخصائص خدمات بحث Yandex ، تم تصميم واجهات المستخدم باستخدام البيانات.  صفحة نتائج البحث فريدة لكل استعلام. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6g/af/sc/6gafsczppz4ul8glzeliauwnkjc.png"><br>  <em>استعلام البحث عن طريق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرابط</a></em> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ni/z5/nc/niz5ncgv3rlci2jfymornobfvcy.png"><br>  <em>استعلام البحث عن طريق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرابط</a></em> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eb/6q/ws/eb6qws6vwtclkce_jsumewy4jkk.png"><br>  <em>استعلام البحث عن طريق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرابط</a></em> </p><br><p style=";text-align:right;direction:rtl">  عندما ينتشر التقسيم إلى كتلة وعنصر ومعدل في نظام الملفات ، فإن هذا يسمح بتجميع أكبر قدر ممكن فقط من الشفرة الضرورية ، في الواقع لكل صفحة ، لكل طلب مستخدم.  لكن كيف؟ </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">src/components ├── ComponentName │ ├── _modName │ │ ├── ComponentName_modName.tsx —   │ │ └── ComponentName_modName_modVal.tsx —    │ ├── ElementName │ │ └── ComponentName-ElementName.tsx —   ComponentName │ ├── ComponentName.i18n —   │ │ ├── ru.ts —     │ │ ├── en.ts —     │ │ └── index.ts —    │ ├── ComponentName.test —   │ │ ├── ComponentName.page-object.js — Page Object │ │ ├── ComponentName.hermione.js —   │ │ └── ComponentName.test.tsx — unit- │ ├── ComponentName.tsx —    │ ├── ComponentName.scss —   │ ├── ComponentName.examples.tsx —    Storybook │ └── README.md —  </code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>هيكل دليل المكون الحديث</em> </p><br><p style=";text-align:right;direction:rtl">  كما هو الحال في بعض الشركات الأخرى ، في Yandex ، يكون مطورو الواجهة مسؤولين عن الواجهة الأمامية ، التي تتكون من جزء العميل في المستعرض وجزء الخادم على <code>Node.js</code>  يعالج جزء الخادم بيانات البحث "الكبير" ويفرض قوالب عليها.  تحول معالجة البيانات الأولية JSON إلى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BEMJSON</a> ، وهي بنية البيانات الخاصة <code>bem-xjst</code> قوالب <code>bem-xjst</code> .  يدور محرك القالب حول كل عقدة من الشجرة ويفرض قالبًا عليها.  نظرًا لأن التحويل الأساسي يتم على الخادم ، نظرًا للتقسيم إلى كيانات صغيرة ، فإن العقد تتوافق مع الملفات ، وخلال عملية إنشاء القوالب ، ندفع رمز المتصفح الذي سيتم استخدامه فقط في الصفحة الحالية. </p><br><p style=";text-align:right;direction:rtl">  أدناه هي مراسلة العقد BEMJSON إلى الملفات الموجودة على نظام الملفات. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'Select'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'Item'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elemMods</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'navigation'</span></span> } };</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">src/components ├── Select │ ├── Item │ │ _type │ │ ├── Select-Item_type_navigation.js │ │ └── Select-Item_type_navigation.css</code> </pre> <br><p style=";text-align:right;direction:rtl">  كان نظام وحدات <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>YModules</code></a> مسؤولاً عن عزل مكونات شفرة JavaScript في المستعرض.  يسمح لك بتوصيل الوحدات النمطية بشكل متزامن وغير متزامن إلى المستعرض.  يمكن العثور على مثال لكيفية عمل المكونات مع <code>YModules</code> و <code>i-bem.js</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا</a> .  اليوم ، بالنسبة لمعظم المطورين ، يقوم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>  webpack</code></a> غير المفرج <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">عن الواردات الديناميكية بذلك</a> . </p><br><p style=";text-align:right;direction:rtl">  أتاحت مجموعة من منهجية BEM ومحرك القوالب التعريفي وإطار عمل JS باستخدام نظام معياري حل أي مشكلة.  ولكن مع مرور الوقت ، أصبحت ديناميات واجهات المستخدم. </p><br><h2 id="novaya-nadezhda" style=";text-align:right;direction:rtl">  أمل جديد </h2><br><p style=";text-align:right;direction:rtl">  في عام 2013 ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">سحرت React</a> المصدر المفتوح.  في الواقع ، بدأ Facebook استخدامها مرة أخرى في عام 2011.  يقول جيمس لونج في ملاحظاته من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مؤتمر JS Conf الأمريكي</a> : </p><br><blockquote style=";text-align:right;direction:rtl">  كانت الدورتان الأخيرتان مفاجأة.  أعطيت الأولى واحدة من قبل اثنين من مطوري <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الفيسبوك</a> وأعلنوا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الفيسبوك رد الفعل</a> .  لم أأخذ الكثير من الملاحظات لأنني شعرت بالصدمة إزاء مدى سوء فكرة أعتقد أنها كذلك.  في الأساس ، أنشأوا لغة تسمى JSX والتي تتيح لك تضمين XML في JavaScript لإنشاء واجهات مستخدم تفاعلية مباشرة.  XML  في جافا سكريبت. </blockquote><p style=";text-align:right;direction:rtl">  لقد غير React منهج تصميم تطبيقات الويب.  لقد أصبح شائعًا لدرجة أنه لا يمكنك اليوم العثور على مطور لم يسمع بـ React.  ولكن هناك شيء آخر مهم: أصبحت التطبيقات مختلفة ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">لقد</a> حان <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SPA</a> في حياتنا. </p><br><p style=";text-align:right;direction:rtl">  من المقبول عمومًا أن مطوري ياندكس لديهم شعور خاص بالجمال فيما يتعلق بالتكنولوجيا.  غريب في بعض الأحيان ، وهو أمر صعب الجدال معه ، ولكن بدون سبب.  عندما كان React يكتسب <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نجومًا على GitHub</a> ، أصر الكثيرون الذين كانوا على دراية بتقنيات Yandex على الويب: فاز Facebook ، وأسقط حرفك وأعد كتابة كل شيء على React قبل فوات الأوان.  من المهم أن نفهم شيئين. </p><br><p style=";text-align:right;direction:rtl">  أولاً ، لم تكن هناك حرب.  الشركات لا تتنافس في إنشاء أفضل إطار على الأرض.  إذا بدأت الشركة في قضاء وقت أقل (قراءة الأموال) في مهام البنية الأساسية بنفس الإنتاجية ، فسيستفيد الجميع من ذلك.  لا معنى لكتابة الأطر لكتابة الأطر.  يقوم أفضل المطورين بإنشاء أدوات تعمل على حل مهام الشركة بأفضل طريقة.  الشركات ، الخدمات ، الأهداف - الأمر مختلف.  ومن هنا مجموعة متنوعة من الأدوات. </p><br><p style=";text-align:right;direction:rtl">  ثانياً ، كنا نبحث عن طريقة لاستخدام React بالطريقة التي نريدها.  مع كل الميزات التي قدمتها تقنياتنا الموضحة أعلاه. </p><br><p style=";text-align:right;direction:rtl">  من المعتقد على نطاق واسع أن الكود الذي يستخدم React سريع بشكل افتراضي.  إذا كنت تعتقد ذلك أيضًا ، فأنت مخطئ تمامًا.  الشيء الوحيد الذي يفعله React هو ، في معظم الحالات ، يساعد على التفاعل الأمثل مع DOM. </p><br><p style=";text-align:right;direction:rtl">  حتى الإصدار 16 ، كان لدى React عيب قاتل.  كان 10 مرات أبطأ من <code>bem-xjst</code> على الخادم.  لم نتمكن من تحمل هذه النفايات.  زمن الاستجابة لـ Yandex هو أحد المقاييس الأساسية.  تخيل أنك عندما تسأل عن وصفة نبيذ مدروسة ، ستحصل على إجابة أبطأ 10 مرات من المعتاد.  لن تكون سعيدًا بالأعذار ، حتى لو كنت تعرف أي شيء عن تطوير الويب.  ماذا يمكن أن نقول عن التفسير ، مثل "لكنه أصبح أكثر ملاءمة للمطورين للتواصل مع DOM".  أضف هنا نسبة سعر التنفيذ والربح - وأنت نفسك ستتخذ القرار الصحيح الوحيد. </p><br><p style=";text-align:right;direction:rtl">  لحسن الحظ للأسف ، فإن المطورين أناس غريبون.  إذا لم ينجح شيء ما ، فهذا ليس سببًا لإسقاط كل شيء ... </p><br><h2 id="shivorot-navyvorot" style=";text-align:right;direction:rtl">  رأسا على عقب </h2><br><p style=";text-align:right;direction:rtl">  كنا واثقين من أننا قادرون على هزيمة بطء رد الفعل.  لدينا بالفعل محرك قالب سريع.  كل ما تحتاجه هو إنشاء HTML على الخادم باستخدام <code>bem-xjst</code> ، وعلى العميل "إجبار" React على قبول هذا الترميز على أنه خاص به.  كانت الفكرة بسيطة للغاية لدرجة أن لا شيء ينذر بالفشل. </p><br><p style=";text-align:right;direction:rtl">  في الإصدارات التي تصل إلى 15 بما في ذلك ، قام React بالتحقق من صحة العلامات باستخدام مجموع تجزئة - وهي خوارزمية تحول أي تحسين إلى قرع.  لإقناع React بصلاحية العلامات ، كان من الضروري وضع معرف لكل عقدة وحساب مجموع التجزئة لكل العقد.  كما يعني دعم مجموعة مزدوجة من القوالب: رد فعل للعميل و <code>bem-xjst</code> للخادم.  أوضحت اختبارات السرعة البسيطة مع تثبيت المعرّف أنه لا يوجد أي جدوى من المتابعة. </p><br><p style=";text-align:right;direction:rtl">  <code>bem-xjst</code> bem <code>bem-xjst</code> هو أداة الاستخفاف بها للغاية.  انظر إلى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تقرير المشرف الرئيسي على Glory Oliyanchuk وانظر</a> بنفسك.  يعتمد <code>bem-xjst</code> على بنية تسمح لك باستخدام بناء جملة قالب واحد <code>bem-xjst</code> مختلفة من شجرة المصدر.  تشبه إلى حد كبير رد فعل ، أليس كذلك؟  تتيح هذه الميزة اليوم وجود أدوات مثل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>react-sketchapp</code></a> . </p><br><p style=";text-align:right;direction:rtl">  خارج النطاق <code>bem-xjst</code> يحتوي <code>bem-xjst</code> على نوعين من التحويلات: في HTML وفي JSON.  يمكن لأي مطور مجتهد بما فيه الكفاية كتابة محركه الخاص لتحويل القوالب إلى أي شيء.  علمنا <code>bem-xjst</code> تحويل شجرة البيانات إلى سلسلة من المكالمات إلى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وظائف HyperScript</a> .  مما يعني التوافق التام مع كل من React والتطبيقات الأخرى لخوارزمية DOM الظاهرية ، على سبيل المثال ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Preact</a> . </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yPV6pcMdezM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p style=";text-align:right;direction:rtl">  <em>مقدمة مفصلة لتوليد استدعاء وظيفة HyperScript</em> </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن قوالب React تتطلب التعايش بين التخطيط ومنطق العمل ، فقد اضطررنا إلى جلب المنطق من <code>i-bem.js</code> إلى <code>i-bem.js</code> ، والتي لم تكن مخصصة لهذا الغرض.  بالنسبة لهم كان غير طبيعي.  كانوا يسيرون بشكل مختلف.  بالمناسبة! </p><br><p style=";text-align:right;direction:rtl">  فيما يلي مثال من أعماق الإلتصاق بعوالم مختلفة في وقت تشغيل واحد. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">block(<span class="hljs-string"><span class="hljs-string">'select'</span></span>).elem(<span class="hljs-string"><span class="hljs-string">'menu'</span></span>)( def()(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> React = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'react'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Menu = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../components/menu/menu'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MenuItem = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../components/menu-item/menu-item'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _select = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ctx._select; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> selectComponent = _select._select; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.createElement.apply(React, [ Menu, { <span class="hljs-attr"><span class="hljs-attr">mix</span></span>: { <span class="hljs-attr"><span class="hljs-attr">block</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.block, <span class="hljs-attr"><span class="hljs-attr">elem</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elem }, <span class="hljs-attr"><span class="hljs-attr">ref</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">menu</span></span></span><span class="hljs-function"> =&gt;</span></span> selectComponent._menu = menu, <span class="hljs-attr"><span class="hljs-attr">size</span></span>: _select.mods.size, <span class="hljs-attr"><span class="hljs-attr">disabled</span></span>: _select.mods.disabled, <span class="hljs-attr"><span class="hljs-attr">mode</span></span>: _select.mods.mode, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: _select.options, <span class="hljs-attr"><span class="hljs-attr">checkedItems</span></span>: _select.bindings.checkedItems, <span class="hljs-attr"><span class="hljs-attr">style</span></span>: _select.bindings.popupMenuWidth, <span class="hljs-attr"><span class="hljs-attr">onKeyDown</span></span>: _select.bindings.onKeyDown, <span class="hljs-attr"><span class="hljs-attr">theme</span></span>: _select.mods.theme, }].concat(_select.options.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">option</span></span></span><span class="hljs-function"> =&gt;</span></span> React.createElement( MenuItem, { <span class="hljs-attr"><span class="hljs-attr">onClick</span></span>: _select.bindings.onOptionCheck, <span class="hljs-attr"><span class="hljs-attr">theme</span></span>: _select.mods.theme, <span class="hljs-attr"><span class="hljs-attr">val</span></span>: option.value, }, option.content) )) ); }) );</code> </pre> <br><p style=";text-align:right;direction:rtl">  بالطبع ، كان لدينا جمعية خاصة بنا.  كما تعلمون ، فإن أسرع عملية هي تسلسل السلسلة.  تم بناء محرك <code>bem-xjst</code> عليه ، وتم بناء التجميع عليه.  توجد ملفات الكتل والعناصر والمعدلات في مجلدات ، وكان على التجميع لصق الملفات في التسلسل الصحيح فقط.  باستخدام هذا النهج ، يمكنك لصق JS و CSS والقوالب بشكل متوازٍ ، وكذلك الكيانات نفسها.  وهذا هو ، إذا كان لديك أربعة مكونات في المشروع ، وأربع نوى على الكمبيوتر المحمول ، وتجميع تكنولوجيا مكون واحد يستغرق ثانية واحدة ، ثم يستغرق بناء المشروع ثانيتين.  هنا يجب أن يصبح أكثر وضوحًا كيف يمكننا إدارة الضغط فقط على الشفرة اللازمة في المتصفح. </p><br><p style=";text-align:right;direction:rtl">  كل هذا بالنسبة لنا فعل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ENB</a> .  تلقينا الشجرة النهائية للتوحيد القياسي فقط في وقت التشغيل ، وبما أن التبعية بين المكونات يجب أن تنشأ في وقت مبكر قليلاً من أجل جمع الحزم ، فقد تم الاستيلاء على هذه الوظيفة بواسطة تقنية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>deps.js</code></a> المعروفة.  لقد سمح لك بإنشاء رسم بياني للاعتماد بين المكونات ، وبعد ذلك يمكن للمجمع لصق الكود في التسلسل المطلوب ، متجاوزًا الرسم البياني. </p><br><p style=";text-align:right;direction:rtl">  توقف رد الفعل الإصدار 16 عن العمل في هذا الاتجاه ، وكانت سرعة تنفيذ القوالب على الخادم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">متساوية</a> .  في مرافق الإنتاج ، أصبح الفرق غير محسوس. </p><br><p style=";text-align:right;direction:rtl">  العقدة: <strong>v8.4.0</strong> <br>  الأطفال: <strong>5 ك</strong> </p><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  العارض </th><th>  الوقت يعني </th><th>  العمليات / ثانية </th></tr></thead><tbody><tr><td>  <strong>preact</strong> v8.2.6 </td><td>  66.235 مللي ثانية </td><td>  15 </td></tr><tr><td>  <strong>bem-xjst</strong> v8.8.4 </td><td>  71.326 مللي ثانية </td><td>  14 </td></tr><tr><td>  <strong>رد فعل</strong> v16.1.0 </td><td>  73.966 مللي ثانية </td><td>  14 </td></tr></tbody></table><br><p style=";text-align:right;direction:rtl">  باستخدام الروابط أدناه ، يمكنك استعادة تاريخ النهج: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://ru.bem.info/forum/961/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/awinogradov/react-bl</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/awinogradov/xjst-ddsl</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/awinogradov/ddsl-react</a> </li></ul><br><p style=";text-align:right;direction:rtl">  هل جربنا أي شيء آخر؟ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/veged/bem-components-react</a> - النهج الأول لتنفيذ المنهجية في React ؛ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/Yeti-or/bem-hazard</a> - نهج مماثل يستند إلى محرك قوالب BH.  مع BH ، بالمناسبة ، يمكنك اللعب على الإنترنت ؛ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/dfilatov/bem-react</a> - إنشاء مكونات من خلال BEMJSON ؛ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/rebem</a> - الأدوات المساعدة BEM في العالم React. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uv/si/wt/uvsiwtsrexhffeuznrqhpxvtjva.png"></p><br><h2 id="motivaciya" style=";text-align:right;direction:rtl">  الدافع </h2><br><p style=";text-align:right;direction:rtl">  في منتصف القصة ، سيكون من المفيد التحدث عن ما حفزنا.  كان الأمر يستحق القيام بذلك في البداية ، ولكن - من يتذكر القديم ، هذه العين كهدية.  لماذا نحتاج كل هذا؟  ما الذي يمكن لـ BEM أن يجلبه React؟  أسئلة يطرحها الجميع تقريبًا. </p><br><h3 id="dekompoziciya" style=";text-align:right;direction:rtl">  التحلل </h3><br><p style=";text-align:right;direction:rtl">  تصبح وظيفة المكونات أكثر تعقيدًا من سنة إلى أخرى ، ويزيد عدد الاختلافات.  يتم التعبير عن ذلك من خلال إنشاء رمز <code>switch</code> أو <code>switch</code> ، كنتيجة لذلك ، تزداد قاعدة التعليمات البرمجية حتمًا ، ونتيجة لذلك ، يزداد وزن المكون والمشروع باستخدام هذا المكون.  الجزء الرئيسي من منطق مكون React موجود في طريقة <code>render()</code> .  لتغيير وظيفة أحد المكونات ، من الضروري إعادة كتابة معظم هذه الطريقة ، مما يؤدي حتماً إلى زيادة هائلة في عدد المكونات عالية التخصص. </p><br><p style=";text-align:right;direction:rtl">  يعلم الجميع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مكتبات</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المواد</a> ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">واجهة المستخدم ،</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ومكتبات رد فعل التمهيد</a> .  بشكل عام ، جميع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المكتبات المعروفة التي</a> تحتوي على مكونات لها نفس العيب.  تخيل أن لديك عدة مشاريع وكلها تستخدم نفس المكتبة.  أنت تأخذ نفس المكونات ، ولكن في أشكال مختلفة: هنا توجد اختيارات مع خانات اختيار ، لا توجد ، هناك أزرار زرقاء مع أيقونة ، وهناك أزرار حمراء بدونها.  سيكون وزن CSS و JS الذي تجلبه المكتبة لك هو نفسه في جميع المشاريع.  لكن لماذا؟  يتم تضمين أشكال مختلفة داخل المكون نفسه وتأتي معها ، سواء كنت تريد ذلك أم لا.  بالنسبة لنا هذا غير مقبول. </p><br><p style=";text-align:right;direction:rtl">  Yandex لديها أيضا مكتبتها الخاصة مع المكونات - ليغو.  يتم تطبيقه في ~ 200 الخدمات.  هل نريد استخدام Lego في Search لتكلف نفسه لـ Yandex.Health؟  أنت تعرف الجواب. </p><br><h3 id="krossplatformennaya-razrabotka" style=";text-align:right;direction:rtl">  التنمية عبر منصة </h3><br><p style=";text-align:right;direction:rtl">  لدعم منصات متعددة ، غالبًا ما يقومون بإنشاء إصدار منفصل لكل نظام أساسي ، أو إصدار واحد قابل للتكيف. </p><br><p style=";text-align:right;direction:rtl">  يتطلب تطوير الإصدارات الفردية موارد إضافية: كلما زاد عدد المنصات ، زاد الجهد.  سيؤدي الحفاظ على الحالة المتزامنة لخصائص المنتج في إصدارات مختلفة إلى صعوبات جديدة. </p><br><p style=";text-align:right;direction:rtl">  يعمل تطوير نسخة قابلة للتكيف على تعقيد الكود ، وزيادة الوزن ، ويقلل من سرعة المنتج مع الاختلاف المناسب بين المنصات. </p><br><p style=";text-align:right;direction:rtl">  هل نريد من الآباء / الأصدقاء / الزملاء / الأطفال استخدام إصدارات سطح المكتب على الهاتف المحمول مع انخفاض سرعة الإنترنت وانخفاض الإنتاجية؟  أنت تعرف الجواب. </p><br><h3 id="eksperimenty" style=";text-align:right;direction:rtl">  التجارب </h3><br><p style=";text-align:right;direction:rtl">  إذا كنت تقوم بتطوير مشاريع لجمهور كبير ، فعليك التأكد من كل تغيير.  تجارب A / B هي إحدى الطرق لاكتساب هذه الثقة. </p><br><p style=";text-align:right;direction:rtl">  طرق تنظيم التعليمات البرمجية للتجارب: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  شوكة المشروع وإنشاء مثيلات الخدمة في الإنتاج ؛ </li><li style=";text-align:right;direction:rtl">  شروط نقطة داخل قاعدة الرمز. </li></ul><br><p style=";text-align:right;direction:rtl">  إذا كان المشروع يحتوي على الكثير من التجارب المطولة ، فإن تشفير قاعدة الكود يسبب تكاليف كبيرة.  من الضروري مواكبة كل فرع بالتجربة: أخطاء تصحيح المنفذ ووظائف المنتج.  Codebase المتفرعة يعقد تجارب متقاطعة عدة مرات. </p><br><p style=";text-align:right;direction:rtl">  تعمل شروط النقطة بشكل أكثر مرونة ، ولكنها تعقد قاعدة الشفرة: يمكن أن تؤثر ظروف التجربة على أجزاء مختلفة من المشروع.  هناك عدد كبير من الشروط تؤدي إلى انخفاض الأداء عن طريق زيادة مقدار التعليمات البرمجية للمستعرض.  من الضروري إزالة الشروط أو جعل الشفرة أساسية أو حذف التجربة الفاشلة تمامًا. </p><br><p style=";text-align:right;direction:rtl">  في Search ~ 100 تجربة عبر الإنترنت في مجموعات مختلفة للجماهير المختلفة.  يمكنك أن ترى ذلك بنفسك.  تذكر ، ربما لاحظت الوظيفة ، وبعد أسبوع اختفت بطريقة سحرية.  هل نريد اختبار نظريات المنتج على حساب الحفاظ على مئات فروع قاعدة الشفرة النشطة التي تبلغ 500000 سطر ، والتي يتم تغييرها بواسطة حوالي 60 مطور يوميًا؟  أنت تعرف الجواب. </p><br><h3 id="globalnye-izmeneniya" style=";text-align:right;direction:rtl">  التغيير العالمي </h3><br><p style=";text-align:right;direction:rtl">  على سبيل المثال ، يمكنك إنشاء مكون <code>CustomButton</code> موروثة من <code>Button</code> من مكتبة.  ولكن لن يتم تطبيق <code>CustomButton</code> الموروثة على جميع المكونات من المكتبة التي تحتوي على <code>Button</code> .  قد تحتوي المكتبة على مكون " <code>Search</code> إنشاؤه من " <code>Input</code> <code>Button</code> .  في هذه الحالة ، لا يظهر <code>CustomButton</code> الموروث داخل مكون <code>Search</code> .  هل نريد أن ندور حول قاعدة الشفرة بأكملها حيث <code>Button</code> استخدام <code>Button</code> ؟ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/po/7j/fg/po7jfgnxrawurvtkoi-3ch2wneu.jpeg"></p><br><h2 id="dolgaya-doroga-v-kompoziciyu" style=";text-align:right;direction:rtl">  طريق طويل إلى التكوين </h2><br><p style=";text-align:right;direction:rtl">  قررنا تغيير الإستراتيجية.  في النهج السابق ، أخذوا تقنية Yandex كأساس وحاولوا جعل React تعمل على هذا الأساس.  اقترح تكتيكات جديدة عكس ذلك.  هذه هي الطريقة التي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">جاء</a> بها <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مشروع bem-react-core</a> . </p><br><blockquote style=";text-align:right;direction:rtl">  توقف عن ذلك!  لماذا تتفاعل على الإطلاق؟ </blockquote><p style=";text-align:right;direction:rtl">  لقد رأينا فيها فرصة للتخلص من العرض الأولي الصريح في HTML ومن الدعم اليدوي لحالة مكون JS لاحقًا في وقت التشغيل - في الواقع ، أصبح من الممكن دمج قوالب BEMHMTL ومكونات JS في تقنية واحدة. </p><br><h3 id="v100httpsgithubcombembem-reacttreev100" style=";text-align:right;direction:rtl">  <a href="">v1.0.0</a> </h3><br><p style=";text-align:right;direction:rtl">  في البداية ، خططنا لنقل جميع أفضل الممارسات والخصائص <code>bem-xjst</code> إلى المكتبة في أعلى React.  أول ما يلفت انتباهك هو التوقيع ، أو إذا كنت تفضل بناء الجملة لوصف المكونات. </p><br><p style=";text-align:right;direction:rtl">  <em>ماذا فعلت ، هناك JSX!</em> </p><br><p style=";text-align:right;direction:rtl">  تم بناء الإصدار الأول على أساس <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوراثة</a> - مكتبة تساعد على تنفيذ الفصول والوراثة.  كما يتذكر البعض منكم ، في تلك الأيام ، لم يكن لدى النماذج الأولية في جافا سكريبت دروس ، لم يكن هناك <code>super</code> .  بشكل عام ، لا يزالون غائبين ، وبشكل أكثر دقة ، هذه ليست الطبقات التي تتبادر إلى الذهن أولاً.  <code>inherit</code> كل ما تستطيع الطبقات في ES2015 فعله الآن ، وما يعتبر سحراً أسود: دمج الوراثة والنموذج الأولي بدلًا من إعادة بناء السلسلة ، مما يؤثر إيجابًا على الأداء.  لن تكون مخطئًا إذا كنت تعتقد أن الأمر يبدو منطقيًا مثل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوراثة في Node.js</a> ، لكنها تعمل بشكل مختلف. </p><br><p style=";text-align:right;direction:rtl">  يوجد أدناه مثال على بناء جملة القوالب <code>bem-react-core@v1.0.0</code> . </p><br><p style=";text-align:right;direction:rtl">  <strong>App-Header.js</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { decl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bem-react-core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> decl({ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'App'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'Header'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attrs</span></span>: { <span class="hljs-attr"><span class="hljs-attr">role</span></span>: <span class="hljs-string"><span class="hljs-string">'heading'</span></span> }, content() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; } });</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>App-Header@desktop.js</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { decl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bem-react-core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> decl({ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'App'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'Header'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tag</span></span>: <span class="hljs-string"><span class="hljs-string">'h1'</span></span>, attrs() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...this.__base(...arguments), <span class="hljs-string"><span class="hljs-string">'aria-level'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, }, content() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.__base(...</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">arguments</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">     h1`</span></span>; } });</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>App-Header@touch.js</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { decl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bem-react-core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> decl({ <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'App'</span></span>, <span class="hljs-attr"><span class="hljs-attr">elem</span></span>: <span class="hljs-string"><span class="hljs-string">'Header'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tag</span></span>: <span class="hljs-string"><span class="hljs-string">'h2'</span></span>, content() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.__base(...</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">arguments</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">  `</span></span>; } });</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>index.js</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDomServer <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom/server'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AppHeader <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'b:App e:Header'</span></span>; ReactDomServer.renderToStaticMarkup(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">AppHeader</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>output@desktop.html</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"App-Header"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"heading"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-level</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span>A       h1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>output@touch.html</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"App-Header"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"heading"</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>يمكن العثور على قوالب الجهاز للمكونات الأكثر تعقيدًا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا</a> .</em> </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن الفصل عبارة عن كائن ، والعمل مع كائنات في JavaScript أكثر ملاءمة ، فإن بناء الجملة مناسب.  تم نقل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بناء الجملة</a> لاحقًا إلى العقل المدبر <code>bem-xjst</code> . </p><br><p style=";text-align:right;direction:rtl">  كانت المكتبة مستودعًا عالميًا لتعريفات الكائنات - نتائج تنفيذ دالة <code>decl</code> أو أجزاء من الكيانات: كتلة أو عنصر أو معدِّل.  يوفر BEM آلية تسمية فريدة وبالتالي فهو مناسب لإنشاء مفاتيح في قبو.  تم لصق مكون التفاعل الناتج في مكان استخدامه.  الحيلة هي أن <code>decl</code> عملية الحل عند استيراد الوحدة.  جعل ذلك من الممكن الإشارة إلى أجزاء المكون المطلوبة في كل مكان معين باستخدام قائمة بسيطة من الواردات.  ولكن تذكر: المكونات معقدة ، وهناك العديد من الأجزاء ، وقائمة الواردات طويلة ، والمطورين كسول. </p><br><h4 id="magiya-importov" style=";text-align:right;direction:rtl">  استيراد السحر </h4><br><p style=";text-align:right;direction:rtl">  كما ترون ، في أمثلة التعليمات البرمجية هناك خطوط <code>import AppHeader from 'b:App e:Header'</code> . </p><br><p style=";text-align:right;direction:rtl">  <em>لقد كسرت المعيار!</em>  <em>هذا مستحيل!</em>  <em>لن ينجح!</em> </p><br><p style=";text-align:right;direction:rtl">  أولاً ، لا يعمل معيار الاستيراد بشروط في الروح "يجب أن يكون هناك مسار إلى وحدة نمطية حقيقية في خط الاستيراد".  ثانياً ، إنه السكر النحوي الذي تم تحويله باستخدام بابل.  ثالثًا ، إنشاء علامات ترقيم <code>import txt from 'raw-loader!./file.txt';</code> غريبة لـ <code>import txt from 'raw-loader!./file.txt';</code> webpack <code>import txt from 'raw-loader!./file.txt';</code>  لسبب ما لم يزعج أحدا. <br>  لذلك ، يتم تقديم كتلة لدينا في منصتين: <code>desktop</code> ، <code>touch</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Hello <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'b:Hello'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     : var Hello = [ require('path/to/desktop/Hello/Hello.js'), require('path/to/touch/Hello/Hello.js') ][0].applyDecls();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">          <code>Hello</code> ,     <code>applyDecls</code> ,          <code>inherit</code>   ,       React-. </p><br><p style=";text-align:right;direction:rtl">   Babel,   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> .    webpack,       , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . </p><br><p style=";text-align:right;direction:rtl">  ,   : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ,   ,         ; </li><li style=";text-align:right;direction:rtl">     ; </li><li style=";text-align:right;direction:rtl">  React-    . </li></ul><br><p style=";text-align:right;direction:rtl">    : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   TypeScript/Flow; </li><li style=";text-align:right;direction:rtl">    React- ; </li><li style=";text-align:right;direction:rtl"> -         ; </li><li style=";text-align:right;direction:rtl">      . </li></ul><br><h3 id="v200httpsgithubcombembem-reacttreev200" style=";text-align:right;direction:rtl"> <a href="">v2.0.0</a> </h3><br><p style=";text-align:right;direction:rtl">     <code>bem-react-core@v1.0.0</code>  ,       . </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Elem } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bem-react-core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Button } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Button'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppHeader</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Elem</span></span></span><span class="hljs-class"> </span></span>{ block = <span class="hljs-string"><span class="hljs-string">'App'</span></span>; elem = <span class="hljs-string"><span class="hljs-string">'Header'</span></span>; tag() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'h2'</span></span>; } content() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">     ,     .    ,   ,      TypeScript/Flow.   ,     <code>inherit</code>  «» ,     ,            . </p><br><p style=";text-align:right;direction:rtl">   : <br> —         webpack    Babel; <br> —      ; <br> —       ,    . </p><br><p style=";text-align:right;direction:rtl">        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HOC</a> ,             . </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Block, Elem, withMods } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'bem-react-core'</span></span>; interface IButtonProps { <span class="hljs-attr"><span class="hljs-attr">children</span></span>: string; } interface IModsProps extends IButtonProps { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'link'</span></span> | <span class="hljs-string"><span class="hljs-string">'button'</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//   Text class Text extends Elem { block = 'Button'; elem = 'Text'; tag() { return 'span'; } } //   Button class Button&lt;T extends IModsProps&gt; extends Block&lt;T&gt; { block = 'Button'; tag() { return 'button'; } mods() { return { type: this.props.type }; } content() { return ( &lt;Text&gt;{this.props.children}&lt;/Text&gt; ); } } //    Button,    type   link class ButtonLink extends Button&lt;IModsProps&gt; { static mod = ({ type }: any) =&gt; type === 'link'; tag() { return 'a'; } mods() { return { type: this.props.type }; } attrs() { return { href: 'www.yandex.ru' }; } } //   Button  ButtonLink const ButtonView = withMods(Button, ButtonLink); ReactDOM.render( &lt;React.Fragment&gt; &lt;ButtonView type='button'&gt;Click me&lt;/ButtonView&gt; &lt;ButtonView type='link'&gt;Click me&lt;/ButtonView&gt; &lt;/React.Fragment&gt;, document.getElementById('root') );</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">              ,     . </p><br><p style=";text-align:right;direction:rtl"> <code>withMods</code>       ,   (),      .   ,     , withMods        ,      .      .       , ,     ,   ( )   .               .       ,   ,    —    ,    . </p><br><p style=";text-align:right;direction:rtl"> ,   : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    . ,        .   ,    TS.        ,      .    ES5 TS   super   ,         . , TS     ,    . </li><li style=";text-align:right;direction:rtl">    . TS  ES6  Babel  ES5.      ,    npm-    .  ,          Babel. </li></ul><br><p style=";text-align:right;direction:rtl">  : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       ,   . ,     . :    DOM-.     HOC,      .   withMods       . </li><li style=";text-align:right;direction:rtl">   (, , )       .             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SFC</a> . </li><li style=";text-align:right;direction:rtl">  CSS-.  CSS-   JS-     .      ,   ,          . </li></ul><br><p style=";text-align:right;direction:rtl">      v2. </p><br><h2 id="manifest" style=";text-align:right;direction:rtl">  </h2><br><p style=";text-align:right;direction:rtl"> ,    .   .  ,    ,      1  2.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . </p><br><p style=";text-align:right;direction:rtl">   —    .   CSS-     HOC,        —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">dependency injection</a> . </p><br><p style=";text-align:right;direction:rtl">       React: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   CSS-. </li><li style=";text-align:right;direction:rtl">     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> (, ); </li></ul><br><p style=";text-align:right;direction:rtl">         .         .        <code>React.ComponentType</code>     -.         HOC     compose    . </p><br><p style=";text-align:right;direction:rtl">             . </p><br><p style=";text-align:right;direction:rtl">        dependency injection,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>React.ContextAPI</code></a>    .             ,        ,        .        ,      .   DI —  HOC,     .         .     ,  ,         . </p><br><p style=";text-align:right;direction:rtl"> ,    ,         .   ,      ,    4 ,    <code>1.5Kb</code> . </p><br><p style=";text-align:right;direction:rtl">     .  شكرا لأولئك الذين قرأوا حتى النهاية.     ,     React  . . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438598/">https://habr.com/ru/post/ar438598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438588/index.html">أداة googleTranslate المخصصة للموقع</a></li>
<li><a href="../ar438590/index.html">الرعد في الجنة أو لماذا يجب أن لا تستخدم FlylinkDC ++</a></li>
<li><a href="../ar438592/index.html">ما الذي تبحث عنه عند اختيار قارئ - نحن نتحدث عن عامل الشكل والعرض</a></li>
<li><a href="../ar438594/index.html">مكان العمل و 4 K @ 60HZ</a></li>
<li><a href="../ar438596/index.html">حفظ بيانات المستخدم بعد تحديث الصفحة</a></li>
<li><a href="../ar438600/index.html">SciPy ، المدخلات والمخرجات في MATLAB</a></li>
<li><a href="../ar438602/index.html">نحن تفكيك بروتوكول رسائل النداء POCSAG ، الجزء 1</a></li>
<li><a href="../ar438606/index.html">تدهور رشيقة. تقرير Yandex.Taxi</a></li>
<li><a href="../ar438610/index.html">قوالب Figma المتجاوبة: إنشاء مكون تصميم مرن لنظام iOS Mobile Navigation</a></li>
<li><a href="../ar438614/index.html">ما هي الرسوم المتحركة الخاملة الجودة؟ يشارك المطورون الأمثلة المفضلة لديهم.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>