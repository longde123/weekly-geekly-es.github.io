<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåä üìê üìä DDD, Hexagonal, Onion, Clean, CQRS ... c√≥mo lo arm√© todo üé∏ ü§ôüèΩ üë©üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo es parte de Chronicle of Software Architecture , una serie de art√≠culos sobre arquitectura de software. En ellos escribo sobre lo que ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DDD, Hexagonal, Onion, Clean, CQRS ... c√≥mo lo arm√© todo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427739/"> <a href=""><img src="https://habrastorage.org/webt/mm/07/bx/mm07bx1u2dxlgab0prkzllunvf8.png"></a> <br><br>  Este art√≠culo es parte de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Chronicle of Software Architecture</a> , una serie de art√≠culos sobre arquitectura de software.  En ellos escribo sobre lo que aprend√≠ sobre la arquitectura de software, lo que pienso al respecto y c√≥mo uso el conocimiento.  El contenido de este art√≠culo puede tener m√°s sentido si lee los art√≠culos anteriores de la serie. <br><br>  Despu√©s de graduarme de la universidad, comenc√© a trabajar como maestra de secundaria, pero hace unos a√±os renunci√© y fui a los desarrolladores de software a tiempo completo. <br><br>  Desde entonces, siempre he sentido que necesito recuperar el tiempo "perdido" y averiguar lo m√°s posible, lo m√°s r√°pido posible.  Por lo tanto, comenc√© a involucrarme un poco en los experimentos, a leer y escribir mucho, prestando especial atenci√≥n al dise√±o y la arquitectura del software.  Es por eso que estoy escribiendo estos art√≠culos para ayudarme en mis estudios. <br><a name="habracut"></a><br>  En los √∫ltimos art√≠culos, habl√© sobre muchos conceptos y principios que aprend√≠, y un poco sobre c√≥mo razonar sobre ellos.  Pero los imagino como fragmentos de un gran rompecabezas. <br><br>  Este art√≠culo trata sobre c√≥mo arm√© todos estos fragmentos.  Creo que deber√≠a darles un nombre, as√≠ que los llamar√© <b>arquitectura expl√≠cita</b> .  Adem√°s, todos estos conceptos se <i>"prueban en la batalla"</i> y se utilizan en la producci√≥n en plataformas altamente confiables.  Una de ellas es una plataforma de comercio electr√≥nico SaaS con miles de tiendas en l√≠nea en todo el mundo, la otra es una plataforma comercial que opera en dos pa√≠ses con un bus de mensajes que procesa m√°s de 20 millones de mensajes por mes. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bloques fundamentales del sistema</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Las herramientas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conexi√≥n de herramientas y mecanismos de entrega al n√∫cleo de la aplicaci√≥n</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Puertos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Adaptadores primarios o de control</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Adaptadores secundarios o gestionados</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inversi√≥n de control</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Organizaci√≥n del n√∫cleo de la aplicaci√≥n.</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nivel de aplicaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nivel de dominio</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios de dominio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Modelo de dominio</a> </li></ul></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Desconexi√≥n de componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">L√≥gica de activaci√≥n en otros componentes.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recuperando datos de otros componentes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Almacenamiento de datos compartidos para componentes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Almacenamiento de datos separado para el componente</a> </li></ul></li></ul></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flujo de control</a> </li></ul><br><a name="1"></a><h1>  Bloques fundamentales del sistema </h1><br>  Comencemos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recordando las</a> arquitecturas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">EBI</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ports &amp; Adapters</a> .  Ambos separan claramente el c√≥digo interno y externo de la aplicaci√≥n, as√≠ como los adaptadores para conectar el c√≥digo interno y externo. <br><br>  Adem√°s, la arquitectura de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Puertos y Adaptadores</a> define expl√≠citamente los tres bloques fundamentales de c√≥digo en el sistema: <br><br><ul><li>  Eso le permite ejecutar la <b>interfaz de usuario</b> , independientemente de su tipo. </li><li>  Sistema de <b>l√≥gica de negocios</b> o <b>n√∫cleo de la aplicaci√≥n</b> .  La UI lo utiliza para realizar transacciones reales. </li><li>  El c√≥digo de <b>infraestructura</b> que conecta el n√∫cleo de nuestra aplicaci√≥n con herramientas como la base de datos, el motor de b√∫squeda o las API de terceros. </li></ul><br> <a href=""><img src="https://habrastorage.org/webt/7q/gt/h5/7qgth5e95mntgholpnrryv4zbm4.png"></a> <br><br>  El n√∫cleo de la aplicaci√≥n es lo m√°s importante para pensar.  Este c√≥digo le permite realizar acciones reales en el sistema, es decir, esta es nuestra aplicaci√≥n.  Varias interfaces de usuario (una aplicaci√≥n web progresiva, aplicaci√≥n m√≥vil, CLI, API, etc.) pueden funcionar con ella, todo se ejecuta en un n√∫cleo. <br><br>  Como puede imaginar, un flujo de ejecuci√≥n t√≠pico va del c√≥digo en la interfaz de usuario a trav√©s del n√∫cleo de la aplicaci√≥n al c√≥digo de infraestructura, de regreso al n√∫cleo de la aplicaci√≥n y, finalmente, la respuesta se entrega a la interfaz de usuario. <br><br> <a href=""><img src="https://habrastorage.org/webt/vn/7q/5u/vn7q5usrs1m2ftgkfmzagymrlfw.png"></a> <br><br><a name="2"></a><h1>  Las herramientas </h1><br>  Lejos del c√≥digo de kernel m√°s importante, todav√≠a hay herramientas que usa la aplicaci√≥n.  Por ejemplo, el motor de base de datos, el motor de b√∫squeda, el servidor web y la consola CLI (aunque los dos √∫ltimos tambi√©n son mecanismos de entrega). <br><br> <a href=""><img src="https://habrastorage.org/webt/_o/aj/rn/_oajrnom8cuphtclxgw-m-sgars.png"></a> <br><br>  Parece extra√±o colocar la consola CLI en la misma secci√≥n tem√°tica que el DBMS, porque tienen un prop√≥sito diferente.  Pero, de hecho, ambas son herramientas utilizadas por la aplicaci√≥n.  La diferencia clave es que la consola CLI y el servidor web le <b>dicen a la aplicaci√≥n que haga algo</b> , el n√∫cleo DBMS, por el contrario, <b>recibe comandos de la aplicaci√≥n</b> .  Esta es una diferencia muy importante, ya que afecta en gran medida la forma en que escribimos el c√≥digo para conectar estas herramientas al n√∫cleo de la aplicaci√≥n. <br><br><a name="3"></a><h1>  Conexi√≥n de herramientas y mecanismos de entrega al n√∫cleo de la aplicaci√≥n </h1><br>  Los bloques de herramientas de conexi√≥n de c√≥digo para el n√∫cleo de la aplicaci√≥n se denominan adaptadores ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">arquitectura de puertos y adaptadores</a> ).  Permiten que la l√≥gica de negocios interact√∫e con una herramienta espec√≠fica, y viceversa. <br><br>  Los adaptadores que le dicen a la aplicaci√≥n que haga algo se llaman <b>adaptadores primarios o de control</b> , mientras que los adaptadores que le dicen a la aplicaci√≥n que haga algo se llaman <b>adaptadores secundarios o administrados</b> . <br><br><a name="4"></a><h2>  Puertos </h2><br>  Sin embargo, estos <i>adaptadores</i> no se crean por casualidad, sino que corresponden a un punto de entrada espec√≠fico en el n√∫cleo de la aplicaci√≥n, el <i><b>puerto</b></i> .  Un puerto <b>no</b> es <b>m√°s que una especificaci√≥n</b> de c√≥mo la herramienta puede usar el n√∫cleo de la aplicaci√≥n o viceversa.  En la mayor√≠a de los idiomas y en su forma m√°s simple, este puerto ser√° una interfaz, pero de hecho puede estar compuesto por varias interfaces y DTO. <br><br>  Es importante tener en cuenta que los <b>puertos (interfaces) est√°n dentro de la l√≥gica empresarial</b> y los adaptadores est√°n afuera.  Para que esta plantilla funcione correctamente, es extremadamente importante crear puertos de acuerdo con las necesidades del n√∫cleo de la aplicaci√≥n, y no solo imitar las API de la herramienta. <br><br><a name="5"></a><h2>  Adaptadores primarios o de control </h2><br>  Los adaptadores primarios o de control <b>envuelven un puerto</b> y lo usan para decirle al n√∫cleo de la aplicaci√≥n qu√© hacer.  <b>Transforman todos los datos del mecanismo de entrega en llamadas a m√©todos en el n√∫cleo de la aplicaci√≥n.</b> <br><br> <a href=""><img src="https://habrastorage.org/webt/p3/6x/rc/p36xrcnsvtfgxpmnpb2f48vtguw.png"></a> <br><br>  En otras palabras, nuestros adaptadores de control son controladores o comandos de consola, est√°n integrados en su constructor con alg√∫n objeto cuya clase implementa la interfaz (puerto) que requiere un controlador o comando de consola. <br><br>  En un ejemplo m√°s espec√≠fico, el puerto puede ser la interfaz de servicio o la interfaz de repositorio que requiere el controlador.  Luego se implementa y se usa una implementaci√≥n espec√≠fica de un servicio, repositorio o solicitud en el controlador. <br><br>  Adem√°s, el puerto puede ser un bus de comando o una interfaz de bus de consulta.  En este caso, se ingresa una implementaci√≥n espec√≠fica del comando o bus de solicitud en el controlador, que luego crea un comando o solicitud y lo pasa al bus correspondiente. <br><br><a name="6"></a><h2>  Adaptadores secundarios o gestionados </h2><br>  A diferencia de los adaptadores de control que se envuelven alrededor de un puerto, los <b>adaptadores administrados</b> implementan un puerto, una interfaz y luego ingresan al n√∫cleo de la aplicaci√≥n donde se requiere el puerto (con el tipo). <br><br> <a href=""><img src="https://habrastorage.org/webt/rw/hz/bo/rwhzboewldt79asfbycnq9pwii0.png"></a> <br><br>  Por ejemplo, tenemos una aplicaci√≥n nativa que necesita guardar datos.  Creamos una interfaz de persistencia con un m√©todo para <i>guardar una</i> matriz de datos y un m√©todo para <i>eliminar una</i> fila en una tabla por su ID.  A partir de ahora, siempre que la aplicaci√≥n necesite guardar o eliminar datos, necesitaremos en el constructor un objeto que implemente la interfaz de persistencia que definimos. <br><br>  Ahora cree un adaptador espec√≠fico de MySQL que implementar√° esta interfaz.  Tendr√° m√©todos para guardar la matriz y eliminar la fila de la tabla, y la presentaremos donde sea que se requiera la interfaz de persistencia. <br><br>  Si en alg√∫n momento decidimos cambiar el proveedor de la base de datos, por ejemplo, a PostgreSQL o MongoDB, solo necesitamos crear un nuevo adaptador que implemente la interfaz de persistencia espec√≠fica para PostgreSQL e introducir un nuevo adaptador en lugar del anterior. <br><br><a name="7"></a><h2>  Inversi√≥n de control </h2><br>  Una caracter√≠stica de esta plantilla es que los adaptadores dependen de una herramienta espec√≠fica y un puerto espec√≠fico (mediante la implementaci√≥n de una interfaz).  Pero nuestra l√≥gica empresarial depende solo del puerto (interfaz), que est√° dise√±ado para satisfacer las necesidades de la l√≥gica empresarial y no depende de un adaptador o herramienta espec√≠ficos. <br><br> <a href=""><img src="https://habrastorage.org/webt/lz/8c/8m/lz8c8mla7fg4vuq9piocz1rb4ko.png"></a> <br><br>  Esto significa que las dependencias se dirigen hacia el centro, es decir, hay una <b>inversi√≥n del principio de control a nivel arquitect√≥nico</b> . <br><br>  Aunque, de nuevo, <b>es imperativo que los puertos se creen de acuerdo con las necesidades del n√∫cleo de la aplicaci√≥n, y no solo imiten las API de la herramienta</b> . <br><br><a name="8"></a><h1>  Organizaci√≥n del n√∫cleo de la aplicaci√≥n. </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La arquitectura Onion</a> recoge las capas DDD y las incorpora en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">arquitectura</a> del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puerto y del adaptador</a> .  Estos niveles est√°n dise√±ados para dar cierto orden a la l√≥gica empresarial, el interior del "hex√°gono" de puertos y adaptadores.  Como antes, la direcci√≥n de las dependencias es hacia el centro. <br><br><a name="9"></a><h2>  Capa de aplicaci√≥n (capa de aplicaci√≥n) </h2><br>  Los casos de uso son procesos que pueden iniciarse en el n√∫cleo mediante una o m√°s interfaces de usuario.  Por ejemplo, un CMS puede tener una interfaz de usuario para usuarios normales, otra interfaz de usuario independiente para administradores de CMS, otra CLI y una API web.  Estas IU (aplicaciones) pueden desencadenar casos de uso √∫nicos o comunes. <br><br>  Los casos de uso se definen a nivel de aplicaci√≥n: el primer nivel de DDD y la arquitectura de Onion. <br><br> <a href=""><img src="https://habrastorage.org/webt/en/x2/97/enx297n0fviyyevojd6u3y_mx3q.png"></a> <br><br>  Esta capa contiene servicios de aplicaciones (y sus interfaces) como objetos de primera clase, y tambi√©n contiene interfaces de puerto y adaptador (puertos), que incluyen interfaces ORM, interfaces de motor de b√∫squeda, interfaces de mensajer√≠a, etc. En el caso en el que usamos el bus de comando y / o el bus de solicitud, en este nivel est√°n los manejadores de comando y solicitud correspondientes. <br><br>  Los servicios de aplicaciones y / o los controladores de comandos contienen la l√≥gica de implementaci√≥n de un caso de uso, un proceso empresarial.  Como regla, su papel es el siguiente: <br><br><ol><li>  use el repositorio para buscar una o m√°s entidades; </li><li>  pedir a estas entidades que ejecuten alguna l√≥gica de dominio; </li><li>  y use el almacenamiento para volver a guardar entidades, guardando efectivamente los cambios de datos. </li></ol><br>  Los manejadores de comandos se pueden usar de dos maneras: <br><br><ol><li>  Pueden contener l√≥gica para ejecutar un caso de uso; </li><li>  Se pueden usar como partes simples de una conexi√≥n en nuestra arquitectura que reciben un comando y simplemente invocan la l√≥gica que existe en el servicio de la aplicaci√≥n. </li></ol><br>  El enfoque a utilizar depende del contexto, por ejemplo: <br><br><ul><li>  Ya tenemos servicios de aplicaciones y ahora se agrega el bus de comandos. </li><li>  ¬øEl bus de comandos le permite especificar una clase / m√©todo como controlador, o necesita extender o implementar las clases o interfaces existentes? </li></ul><br>  Esta capa tambi√©n contiene <b>eventos de aplicaci√≥n de</b> activaci√≥n que representan alg√∫n resultado de un caso de uso.  Estos eventos desencadenan una l√≥gica que es un efecto secundario de un caso de uso, como enviar correos electr√≥nicos, notificar a una API de terceros, enviar una notificaci√≥n push o incluso iniciar otro caso de uso que pertenece a otro componente de la aplicaci√≥n. <br><br><a name="10"></a><h2>  Nivel de dominio </h2><br>  M√°s adentro hay un nivel de dominio.  Los objetos en este nivel contienen datos y l√≥gica para administrar estos datos, que son espec√≠ficos del dominio en s√≠ y son independientes de los procesos comerciales que desencadenan esta l√≥gica.  Son independientes y completamente inconscientes del nivel de la aplicaci√≥n. <br><br> <a href=""><img src="https://habrastorage.org/webt/sm/tl/z2/smtlz2wmhuiysntbvasfqotc7zs.png"></a> <br><br><a name="11"></a><h3>  Servicios de dominio </h3><br>  Como mencion√© anteriormente, el rol del servicio de aplicaci√≥n: <br><br><ol><li>  use el repositorio para buscar una o m√°s entidades; </li><li>  pedir a estas entidades que ejecuten alguna l√≥gica de dominio; </li><li>  y use el almacenamiento para volver a guardar entidades, guardando efectivamente los cambios de datos. </li></ol><br>  Pero a veces nos encontramos con alguna l√≥gica de dominio, que incluye varias entidades del mismo tipo o de diferentes tipos, y esta l√≥gica de dominio no pertenece a las entidades mismas, es decir, la l√≥gica no es su responsabilidad directa. <br><br>  Por lo tanto, nuestra primera reacci√≥n puede ser colocar esta l√≥gica fuera de las entidades en el servicio de la aplicaci√≥n.  Sin embargo, esto significa que en otros casos la l√≥gica del dominio no se reutilizar√°: ¬°la l√≥gica del dominio debe permanecer fuera del nivel de la aplicaci√≥n! <br><br>  La soluci√≥n es crear un servicio de dominio, cuya funci√≥n es obtener un conjunto de entidades y ejecutar cierta l√≥gica empresarial en ellas.  Un servicio de dominio pertenece a un nivel de dominio y, por lo tanto, no sabe nada sobre las clases a nivel de aplicaci√≥n, como los servicios de aplicaci√≥n o los repositorios.  Por otro lado, puede usar otros servicios de dominio y, por supuesto, objetos de modelo de dominio. <br><br><a name="12"></a><h3>  Modelo de dominio </h3><br>  En el centro mismo est√° el modelo de dominio.  No depende de nada fuera de este c√≠rculo y contiene objetos comerciales que representan algo en el dominio.  Ejemplos de tales objetos son, en primer lugar, entidades, as√≠ como objetos de valor, enumeraciones y cualquier objeto utilizado en el modelo de dominio. <br><br>  Los eventos de dominio tambi√©n viven en el modelo de dominio.  Cuando cambia un conjunto de datos espec√≠fico, se desencadenan estos eventos, que contienen nuevos valores de las propiedades modificadas.  Estos eventos son ideales, por ejemplo, para usar en el m√≥dulo de abastecimiento de eventos. <br><br><a name="13"></a><h1>  Componentes </h1><br>  Hasta ahora, hemos aislado c√≥digo en capas, pero este es un aislamiento de c√≥digo demasiado detallado.  Es igualmente importante mirar la imagen con un aspecto m√°s general.  Estamos hablando de dividir el c√≥digo en subdominios y <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">contextos relacionados</a></b></i> de acuerdo con las ideas de Robert Martin expresadas en la <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">arquitectura de gritos</a></b></i> [es decir, la arquitectura deber√≠a "gritar" sobre la aplicaci√≥n en s√≠, y no sobre qu√© marcos usa - aprox.  trans.].  Hablan sobre la organizaci√≥n de paquetes por funci√≥n o componente, no por capa, y Simon Brown lo explic√≥ bastante bien en el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Paquetes de componentes y pruebas de arquitectura"</a> en su blog: <br><br> <a href=""><img src="https://habrastorage.org/webt/mf/n5/un/mfn5unjrsm8lmkufaoj55mfyqk0.png"></a> <br><br>  Soy partidario de organizar paquetes de componentes y quiero cambiar descaradamente el diagrama de Simon Brown de la siguiente manera: <br><br> <a href=""><img src="https://habrastorage.org/webt/xn/ng/nd/xnngndzw3fq5rcvzvitudp-kpns.png"></a> <br><br>  Estas secciones del c√≥digo son transversales para todas las capas descritas anteriormente, y estos son los <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componentes de</a></b></i> nuestra aplicaci√≥n.  Ejemplos de componentes son facturaci√≥n, usuario, verificaci√≥n o cuenta, pero siempre est√°n asociados con un dominio.  Los contextos limitados, como la autorizaci√≥n y / o autenticaci√≥n, deben considerarse herramientas externas para las cuales creamos un adaptador y nos escondemos detr√°s de un puerto. <br><br> <a href=""><img src="https://habrastorage.org/webt/9v/kd/ou/9vkdouyaegscibkngn0ui0ltbko.png"></a> <br><br><a name="14"></a><h2>  Desconexi√≥n de componentes </h2><br>  Al igual que en las unidades de c√≥digo de grano fino (clases, interfaces, rasgos, mixins, etc.), las unidades grandes (componentes) se benefician de un acoplamiento d√©bil y una conectividad estrecha. <br><br>  Para separar las clases, utilizamos la inyecci√≥n de dependencias, introduciendo dependencias en la clase, en lugar de crearlas dentro de la clase, y tambi√©n invirtiendo las dependencias, haciendo que la clase dependa de abstracciones (interfaces y / o clases abstractas) en lugar de clases espec√≠ficas.  Esto significa que la clase dependiente no sabe nada sobre la clase espec√≠fica que usar√°, no tiene una referencia al nombre completo de las clases de las que depende. <br><br>  Del mismo modo, en componentes completamente desconectados, cada componente no sabe nada sobre ning√∫n otro componente.  En otras palabras, ¬°no tiene ning√∫n enlace a ning√∫n bloque de c√≥digo de otro componente, ni siquiera a la interfaz!  Esto significa que la inyecci√≥n de dependencia y la inversi√≥n de dependencia no son suficientes para separar los componentes, necesitaremos alg√∫n tipo de construcci√≥n arquitect√≥nica.  ¬°Es posible que se necesiten eventos, un n√∫cleo com√∫n, consistencia eventual e incluso un servicio de descubrimiento! <br><br> <a href=""><img src="https://habrastorage.org/webt/wp/gk/2w/wpgk2wxy5fgyjtrwuzctapvv19y.png"></a> <br><br><a name="15"></a><h3>  L√≥gica de activaci√≥n en otros componentes. </h3><br>  Cuando uno de nuestros componentes (componente B) necesita hacer algo cada vez que ocurre algo m√°s en otro componente (componente A), no podemos simplemente hacer una llamada directa desde el componente A a la clase / m√©todo del componente B, porque entonces A estar√° conectado a B. <br><br>  Sin embargo, podemos usar el administrador de eventos para enviar el evento de la aplicaci√≥n, que se entregar√° a cualquier componente que lo escuche, incluido B, y el escucha de eventos en B activar√° la acci√≥n deseada.  Esto significa que el componente A depender√° del administrador de eventos, pero estar√° separado del componente B. <br><br>  Sin embargo, si el evento en s√≠ "vive" en A, esto significa que B sabe acerca de la existencia de A y est√° asociado con √©l.  Para eliminar esta dependencia, podemos crear una biblioteca con un conjunto de funcionalidades del n√∫cleo de la aplicaci√≥n que ser√°n compartidas por todos los componentes, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">n√∫cleo com√∫n</a> .  Esto significa que ambos componentes depender√°n del n√∫cleo com√∫n, pero estar√°n separados el uno del otro.  Un n√∫cleo com√∫n contiene funcionalidades tales como eventos de aplicaci√≥n y dominio, pero tambi√©n puede contener objetos de especificaci√≥n y cualquier cosa que tenga sentido compartir.  Al mismo tiempo, debe tener un tama√±o m√≠nimo, ya que cualquier cambio en el n√∫cleo com√∫n afectar√° a todos los componentes de la aplicaci√≥n.  Adem√°s, si tenemos un sistema pol√≠glota, por ejemplo, un ecosistema de microservicios en diferentes idiomas, entonces el n√∫cleo com√∫n no deber√≠a depender del idioma para que todos los componentes lo entiendan.  Por ejemplo, en lugar de un n√∫cleo com√∫n con una clase de evento, contendr√° una descripci√≥n del evento (es decir, un nombre, propiedades, quiz√°s incluso m√©todos, aunque ser√≠an m√°s √∫tiles en el objeto de especificaci√≥n) en un lenguaje universal como JSON para que todos los componentes / microservicios puedan interpretarlo y quiz√°s incluso generen autom√°ticamente sus propias implementaciones espec√≠ficas. <br><br>  Este enfoque funciona tanto en aplicaciones monol√≠ticas como distribuidas, como los ecosistemas de microservicios.  Pero si los eventos se pueden entregar solo de forma as√≠ncrona, entonces este enfoque no es suficiente para contextos donde la l√≥gica de activaci√≥n en otros componentes deber√≠a funcionar de inmediato.  Aqu√≠, el componente A necesitar√° realizar una llamada HTTP directa al componente B. En este caso, para desconectar los componentes, necesitamos un servicio de descubrimiento.  El componente A le preguntar√° d√≥nde enviar la solicitud para iniciar la acci√≥n deseada.  Alternativamente, haga una solicitud al servicio de descubrimiento, que la reenviar√° al servicio apropiado y finalmente devolver√° una respuesta al solicitante.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Este enfoque asocia componentes con un servicio de descubrimiento, pero no los asocia entre s√≠. </font></font><br><br><a name="16"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recuperando datos de otros componentes </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tal como lo veo, el componente no puede modificar datos que no "posee", pero puede solicitar y usar cualquier dato. </font></font><br><br><a name="17"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Almacenamiento de datos compartidos para componentes </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si el componente debe usar datos que pertenecen a otro componente (por ejemplo, el componente de facturaci√≥n debe usar el nombre del cliente que pertenece al componente de cuentas), entonces contiene el objeto de solicitud para el almacenamiento de datos. </font><font style="vertical-align: inherit;">Es decir, el componente de facturaci√≥n puede conocer cualquier conjunto de datos, pero debe usar datos de solo lectura de otros pa√≠ses.</font></font><br><br><a name="18"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Almacenamiento de datos separado para el componente </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En este caso, se aplica la misma plantilla, pero el nivel de almacenamiento de datos se vuelve m√°s complicado. </font><font style="vertical-align: inherit;">La presencia de componentes con su propio almac√©n de datos significa que cada almac√©n de datos contiene:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un conjunto de datos que un componente posee y puede cambiar, lo que lo convierte en la √∫nica fuente de verdad; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un conjunto de datos que es una copia de los datos de otros componentes que no puede cambiar por s√≠ mismo, pero que son necesarios para la funcionalidad del componente. </font><font style="vertical-align: inherit;">Estos datos deben actualizarse siempre que cambien en el componente propietario.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada componente crear√° una copia local de los datos que necesita de otros componentes, que se utilizar√°n seg√∫n sea necesario. </font><font style="vertical-align: inherit;">Cuando los datos cambian en el componente al que pertenece, este componente propietario desencadena un evento de dominio que lleva cambios de datos. </font><font style="vertical-align: inherit;">Los componentes que contienen una copia de estos datos escuchar√°n este evento de dominio y actualizar√°n su copia local en consecuencia.</font></font><br><br><a name="19"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Flujo de control </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como dije anteriormente, el flujo de control va del usuario al n√∫cleo de la aplicaci√≥n, a las herramientas de infraestructura, luego nuevamente al n√∫cleo de la aplicaci√≥n y de regreso al usuario. </font><font style="vertical-align: inherit;">Pero, ¬øc√≥mo funcionan exactamente las clases juntas? </font><font style="vertical-align: inherit;">¬øQui√©n depende de qui√©n? </font><font style="vertical-align: inherit;">¬øC√≥mo los componimos? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al igual que el t√≠o Bob, en mi art√≠culo sobre Arquitectura limpia, intentar√© explicar el flujo de la administraci√≥n de esquemas UMLish ...</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sin comando / bus de solicitud </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no usamos el bus de comandos, los controladores depender√°n del servicio de aplicaci√≥n o del objeto de consulta. </font></font><br><br> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Suplemento 18/11/2017] Omit√≠ completamente el DTO, que utilizo para devolver datos de la solicitud, as√≠ que lo agregu√© ahora. Gracias a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MorphineAdministered</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indic√≥</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un espacio.</font></font></sup> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En el diagrama anterior, utilizamos la interfaz para el servicio de aplicaciones, aunque podemos decir que realmente no es necesario, ya que el servicio de aplicaciones es parte de nuestro c√≥digo de aplicaci√≥n. Pero no queremos cambiar la implementaci√≥n, aunque podemos realizar una refactorizaci√≥n completa.</font></font><br> <a href=""><img src="https://habrastorage.org/webt/hg/ak/_p/hgak_pjjk5jb-5klihtccnlb7dy.png"></a> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El objeto Consulta contiene una consulta optimizada que simplemente devuelve algunos datos sin procesar que se mostrar√°n al usuario. Estos datos se devuelven al DTO, que est√° incrustado en el ViewModel. Este ViewModel puede tener alg√∫n tipo de l√≥gica de Vista y se usar√° para llenar la Vista. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por otro lado, el servicio de aplicaci√≥n contiene l√≥gica de casos de uso que se activa cuando queremos hacer algo en el sistema, y ‚Äã‚Äãno solo ver algunos datos. El servicio de aplicaci√≥n depende de repositorios que devuelven entidades que contienen la l√≥gica que debe iniciarse. Tambi√©n puede depender del servicio de dominio para coordinar el proceso del dominio en varias entidades, pero este es un caso raro.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de analizar el caso de uso, el servicio de aplicaci√≥n puede notificar a todo el sistema que se ha producido un caso de uso, luego depender√° del despachador de eventos para activar el evento. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es interesante observar que alojamos interfaces tanto en el motor de persistencia como en los repositorios. </font><font style="vertical-align: inherit;">Esto puede parecer redundante, pero tienen diferentes prop√≥sitos:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La interfaz de persistencia es una capa de abstracci√≥n sobre ORM, por lo que podemos intercambiar ORM sin cambiar el n√∫cleo de la aplicaci√≥n. </font></font></li><li>       persistence-. ,     MySQL  MongoDB.    persistence-    ,         ORM,       .   ,    ,      ,        ,       ,   ,    MongoDB  SQL. </li></ul><br><h2> C  / </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nuestra aplicaci√≥n usa el bus de comando / solicitud, el diagrama permanece casi igual, excepto que el controlador ahora depende del bus, as√≠ como de los comandos o solicitudes. Aqu√≠ se crea una instancia de un comando o solicitud y se pasa al bus, que encontrar√° el controlador adecuado para recibir y procesar el comando. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el siguiente diagrama, el controlador de comandos utiliza el servicio de la aplicaci√≥n. Pero esto no siempre es necesario, porque en la mayor√≠a de los casos el controlador contendr√° toda la l√≥gica del caso de uso. Todo lo que necesitamos hacer es extraer la l√≥gica del controlador en un servicio de aplicaci√≥n separado si necesitamos reutilizar la misma l√≥gica en otro controlador. </font></font><br><br> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Suplemento 18/11/2017] Omit√≠ completamente el DTO, que utilizo para devolver datos de la solicitud, as√≠ que lo agregu√© ahora. Gracias</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MorphineAdministered</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un espacio. </font></font></sup> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es posible que haya notado que no hay dependencias entre el bus, el comando, la solicitud y los controladores. </font><font style="vertical-align: inherit;">De hecho, no necesitan conocerse para garantizar una buena separaci√≥n. </font><font style="vertical-align: inherit;">El m√©todo de dirigir el bus a un controlador espec√≠fico para procesar un comando o solicitud se configura en una configuraci√≥n simple. </font><font style="vertical-align: inherit;">En ambos casos, todas las flechas, dependencias que cruzan el l√≠mite del n√∫cleo de la aplicaci√≥n, apuntan hacia adentro. </font><font style="vertical-align: inherit;">Como se explic√≥ anteriormente, esta es la regla fundamental de los puertos y los adaptadores, la cebolla y la arquitectura limpia.</font></font><br> <a href=""><img src="https://habrastorage.org/webt/dh/vh/c1/dhvhc1qxek9af6wc2ztmfqq4m4u.png"></a> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/la/3y/qs/la3yqsseqajawy91dvvrzcgzuku.png"></a> <br><br><h1>  Conclusi√≥n </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como siempre, el objetivo es obtener una base de c√≥digo desconectada con alta conectividad, en la que pueda realizar cualquier cambio de manera f√°cil, r√°pida y segura. </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los planes son in√∫tiles, pero la planificaci√≥n lo es todo. </font><font style="vertical-align: inherit;">- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eisenhower</font></font></i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta infograf√≠a es un mapa conceptual. </font><font style="vertical-align: inherit;">Conocer y comprender todos estos conceptos le ayuda a planificar una arquitectura saludable y una aplicaci√≥n viable. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un mapa no es un territorio. </font><font style="vertical-align: inherit;">- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alfred Korzybsky</font></font></i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En otras palabras, ¬° </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estas son solo recomendaciones! </font><font style="vertical-align: inherit;">Una aplicaci√≥n es un territorio, una realidad, un caso de uso espec√≠fico donde necesitamos aplicar nuestros conocimientos, ¬°y determina c√≥mo ser√° la arquitectura real! </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debemos comprender todos estos patrones, pero tambi√©n siempre debemos pensar y comprender qu√© necesita nuestra aplicaci√≥n, hasta d√≥nde podemos llegar en aras de la separaci√≥n y la conexi√≥n. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta decisi√≥n depende de muchos factores, que van desde los requisitos funcionales del proyecto hasta el momento del desarrollo de la aplicaci√≥n, su vida √∫til, la experiencia del equipo de desarrollo, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As√≠ es como me imagino todo esto por m√≠ mismo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estas ideas se analizan con m√°s detalle en el pr√≥ximo art√≠culo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"M√°s que capas conc√©ntricas"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427739/">https://habr.com/ru/post/es427739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427729/index.html">¬øC√≥mo configurar Firewall en un servidor con Zimbra?</a></li>
<li><a href="../es427731/index.html">Linus Torvalds vuelve a estar en servicio despu√©s del lanzamiento de la versi√≥n del kernel 4.19</a></li>
<li><a href="../es427733/index.html">Cyberpunk 2000: herramientas de creaci√≥n de Deus Ex</a></li>
<li><a href="../es427735/index.html">An√°lisis del juego de Classmates en Joker 2018</a></li>
<li><a href="../es427737/index.html">Viaje a la tierra de los gigantes: Rese√±a de ONYX BOOX Gulliver</a></li>
<li><a href="../es427741/index.html">Generador de c√≥digo para Laravel - para entrada OAS, para salida JSON-API</a></li>
<li><a href="../es427743/index.html">Divertido y extra√±o: hemos reunido consultas de b√∫squeda que nos gustan</a></li>
<li><a href="../es427745/index.html">Consejos y trucos de Kubernetes: acceso a sitios de desarrollo</a></li>
<li><a href="../es427747/index.html">A qui√©n aplastar un auto no tripulado: resultados del experimento Moral Machine</a></li>
<li><a href="../es427749/index.html">Apple y Samsung multados por primera vez por ralentizar tel√©fonos viejos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>