<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑‍🤝‍🧑 🕜 🙁 Recomendações da API REST - Exemplos de design de serviços da Web em Java e Spring 👨‍👧‍👦 🎵 ✴️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No último artigo desta série, você aprenderá sobre as recomendações da API REST e exemplos de desenvolvimento do Java e Spring Web Services. 

 Ao des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recomendações da API REST - Exemplos de design de serviços da Web em Java e Spring</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483374/">  No último artigo desta série, você aprenderá sobre as recomendações da API REST e exemplos de desenvolvimento do Java e Spring Web Services. <br><br>  Ao desenvolver uma boa API REST, é importante ter bons microsserviços. <br>  Como você desenvolve sua API REST?  Quais são as melhores práticas? <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/2l/pg/rq/2lpgrq94xumpddkf6ivlt3ekkgu.png"><br><h3>  Você aprenderá: </h3><br><ul><li>  Como desenvolver uma boa API REST? </li><li>  O que devo pensar ao desenvolver uma API REST? </li><li>  Quais são as melhores práticas para o desenvolvimento de serviços web RESTful? </li></ul><br><h3>  API REST </h3><br>  Este é o último artigo de uma série de artigos sobre a API REST: <br><br><ul><li>  <a href="https://habr.com/ru/post/483202/">Introdução à API REST - Serviços da Web RESTful</a> </li><li>  <a href="https://habr.com/ru/post/483204/">Diferenças entre REST e SOAP</a> </li><li>  <a href="https://habr.com/ru/post/483206/">Desenvolvimento da API REST - o que é primeiro contrato (primeiro contrato)?</a> </li><li>  <a href="https://habr.com/ru/post/483322/">Desenvolvimento da API REST - o que é o Code First (code first)?</a> </li><li>  <a href="https://habr.com/post/483328/">API REST - O que é o HATEOAS?</a> </li><li>  Recomendações da API REST - Exemplos de design de serviços da Web em Java e Spring </li></ul><br><h3>  Use a primeira abordagem do consumidor </h3><br>  Quem usará seu serviço?  Atendimento ao consumidor. <br><br>  Você vê o serviço da perspectiva do consumidor? <br><br><ul><li>  Se você estiver desenvolvendo uma API, seu consumidor pode entender sua API? </li><li>  Se você publicar seus recursos, o consumidor poderá encontrá-los e acessá-los? </li><li>  O consumidor pode entender seus URIs? </li><li>  Que tipo de serviço você oferece? </li><li>  É um aplicativo móvel ou web? </li><li>  Quais consumidores você espera e esses tipos de consumidores podem mudar no futuro? </li><li>  Se você estiver implementando algo como HATEOAS, pense em como seus clientes o usarão antes de implementá-lo. </li></ul><br><blockquote><ul><li>  <b>O mais importante é ter uma excelente documentação</b> </li><li>  <b>Facilite as coisas para que seus clientes economizem seu tempo.</b> </li><li>  <b>Quanto mais consumidores puderem fazer por conta própria, menos trabalho para você.</b> </li></ul><br></blockquote><br>  Sempre que você tiver uma discussão ou revisão de serviço, coloque os requisitos do cliente em primeiro lugar. <br><br><h3>  Use a primeira abordagem do contrato </h3><br>  O que é um contrato? <br><br>  O criador do serviço da web é considerado <b>um provedor de serviços</b> .  Um aplicativo que usa um serviço da Web é um <b>consumidor do serviço</b> .  <b>Um contrato</b> é um acordo entre um provedor e um consumidor sobre um serviço. <br><br><img src="https://habrastorage.org/webt/d-/5f/on/d-5fon8kmzaf6f_7g-bn7fsbofe.png"><br><br>  Para usar o serviço corretamente, o consumidor do serviço deve entender completamente o contrato.  O contrato inclui detalhes de muitos aspectos do serviço, como: <br><br><ul><li>  Como chamar um serviço da web? </li><li>  Que tipo de transporte é usado? </li><li>  Quais são as estruturas de solicitação e resposta? </li></ul><br>  Isso também é chamado de <b>definição de serviço</b> . <br><br>  Na primeira abordagem do contrato, você primeiro define um contrato de serviço e depois implementa apenas o serviço. <br><br><h3>  Primeiro contrato com WSDL </h3><br>  Por exemplo, ao definir serviços da web SOAP, você usa o WSDL para definir o contrato. <br><br><img src="https://habrastorage.org/webt/ou/st/86/oust86bvzc87vsg-k229x1ujl14.png"><br><br>  O WSDL determina quais são os pontos de extremidade do serviço, as operações que você publica e as estruturas de solicitação e resposta. <br><br><h3>  Contrato primeiro com Swagger / Open API </h3><br>  Quando você usa serviços da web RESTful, o Swagger é uma ferramenta popular para documentar seus serviços da web. <br><br><img src="https://habrastorage.org/webt/we/tc/3x/wetc3x4x6unbgve0wcaxdjdbkp8.png"><br><img src="https://habrastorage.org/webt/l-/2m/h_/l-2mh_uh6txdtyekd1xn585mmvw.png"><br>  O Swagger permite determinar quais recursos você fornece como parte da sua API.  Inclui os detalhes de cada operação, por exemplo, se usa XML, JSON ou ambos.  Um esboço de resposta também está lá. <br><br><img src="https://habrastorage.org/webt/9e/px/uh/9epxuhh57oelrv-dupcqib0t6ho.png"><br><br>  Ele também fornece informações detalhadas sobre os códigos de resposta que ele suporta.  Você também pode ver que este recurso específico, <b>/ jpa / users</b> : <br><br><img src="https://habrastorage.org/webt/gi/ig/pk/giigpknfhlsy8qiscbblp_eigdw.png"><br><br>  suporta operação GET.  De fato, ele também suporta a operação POST: <br><br><img src="https://habrastorage.org/webt/ox/9o/ch/ox9ochxtkao2ghxalyyi_o6oy4m.png"><br><br>  O esquema de resposta, se este recurso estiver disponível, será: <br><br><img src="https://habrastorage.org/webt/lf/gq/xo/lfgqxoi0txeqlqyg8vmblmppwdq.png"><br><br>  A definição do objeto Usuário está presente no contrato Swagger como: <br><br><img src="https://habrastorage.org/webt/d3/s0/nm/d3s0nmktz3so7vqye4t8vqizwm4.png"><br><br>  Inclui atributos: data de <b>nascimento</b> , <b>identificação</b> , <b>nome</b> e uma série de mensagens de postagens.  Alguns campos também incluem um campo de descrição dentro deles. <br><br>  Na primeira abordagem do contrato, antes de implementar o serviço, você manualmente ou usando o aplicativo cria a definição que o Swagger criou. <br><br><h3>  Benefícios da primeira abordagem do contrato </h3><br>  Usando a primeira abordagem do contrato, você pensa em seus clientes e em como eles podem usar esse serviço.  Você não está inicialmente preocupado com os detalhes da implementação. <br><br>  Se, no estágio inicial, você atribui grande importância à implementação, os detalhes técnicos penetram na definição do seu serviço. <br><br>  Você precisa garantir que a definição do seu serviço não dependa da plataforma que você está usando, seja Java, .NET ou qualquer outro. <br><br><h3>  Definir padrões da organização para a API REST </h3><br>  Uma orientação importante para seus padrões organizacionais é o YARAS. <br><br><img src="https://habrastorage.org/webt/bu/9e/9s/bu9e9sa0bryvgm6g8yhhtabcdf0.png"><br><br>  YARAS significa <b>ainda outro padrão de API RESTful</b> .  O YARAS fornece os padrões, diretrizes e convenções que devem ser seguidas ao desenvolver serviços da web RESTful.  Ele dá recomendações para as seguintes coisas: <br><br><ul><li>  Como você deve nomear seus serviços </li><li>  Como você deve estruturar sua solicitação e resposta </li><li>  Como você deve implementar filtragem, classificação, paginação e outras ações </li><li>  Como você deve abordar o versionamento </li><li>  Como você precisa abordar a documentação da API </li></ul><br><h3>  Abordagem unificada para o desenvolvimento de serviços </h3><br>  Você precisa resolver muitos problemas complexos antes de começar a projetar serviços da web RESTful.  Todas as opções acima, você precisa descobrir. <br><br>  A liderança da sua organização não deseja que as equipes que lidam com recursos diferentes tenham abordagens diferentes para essas coisas. <br><br>  Por exemplo, é indesejável para a Equipe A organizar o controle de versão com base em parâmetros de consulta e a Equipe B usar o controle de versão com base no URI. <br><br>  Portanto, é importante que você tenha definido claramente os padrões organizacionais para sua abordagem aos serviços da web RESTful. <br><br><h3>  Personalização YARAS SOB necessidades organizacionais </h3><br>  O bom do YARAS é que ele pode ser personalizado para atender às necessidades específicas da organização.  Por exemplo, você pode: <br><br><ul><li>  Configure como devem ser os corpos de solicitação e resposta. </li><li>  Escolha um sistema de controle de versão específico </li></ul><br>  Como o YARAS possui uma cobertura bastante abrangente, você pode ter certeza de que não perdeu uma única decisão importante. <br><br><h3>  Escolhendo uma estrutura corporativa padrão da API REST </h3><br>  As estruturas típicas usadas para criar serviços da Web RESTful no mundo Java são Spring MVC, Spring REST e JAX-RS. <br><br>  Se você criar um aplicativo de estrutura / arquétipo / referência específico da organização que atenda aos padrões comuns da organização na parte superior da plataforma API REST preferida, isso permitirá que as equipes adiram facilmente aos padrões comuns. <br><br>  Os recursos típicos incluem: <br><br><ul><li>  Estruturas de solicitação e resposta </li><li>  Tratamento de erros </li><li>  filtragem </li><li>  Pesquisar </li><li>  Versionamento </li><li>  Suporte para respostas falsas </li><li>  Hateoas </li></ul><br>  A estrutura padrão fornece uma abordagem unificada para projetar e implementar serviços em toda a organização. <br><br><h3>  Gerenciamento descentralizado da API REST </h3><br>  Crie um grupo de especialistas das equipes que criam a API REST e forme uma equipe de gerenciamento.  A equipe é responsável por <br><br><ul><li>  Melhorando os padrões da API REST </li><li>  Construindo / projetando sua estrutura de API REST </li></ul><br><h3>  Uso generalizado de HTTP </h3><br>  Sempre que você pensar em serviços da web RESTful, pense em HTTP. <br><br>  O HTTP possui todos os recursos que ajudam a criar excelentes serviços da web. <br><br><h4>  Use os métodos de solicitação HTTP corretos </h4><br>  Pense nos métodos de solicitação HTTP que você precisa usar.  Ao pensar em implementar uma operação, determine o recurso no qual ela deve ser executada e localize o método de solicitação HTTP apropriado.  Você recupera detalhes, cria algo, atualiza algo existente ou exclui um existente? <br><br>  Usando métodos HTTP: <br><br><ul><li>  GET para obter </li><li>  POST para criar </li><li>  PUT para atualizar </li><li>  DELETE para excluir </li><li>  PATCH para atualizações parciais </li></ul><br><h4>  Use o status de resposta HTTP apropriado </h4><br>  Ao executar a operação, certifique-se de retornar o status de resposta correto. <br><br>  Por exemplo, quando um recurso específico não for encontrado, não ative uma exceção do servidor.  Em vez disso, envie o código de resposta apropriado em uma mensagem de resposta, como <b>404</b> . <br><br>  Se realmente houver uma exceção do servidor, envie o código <b>500 de</b> volta. <br><br>  Se a validação falhar, envie o código para a solicitação inválida. <br><br><h3>  Foco no desempenho </h3><br>  Cada recurso pode ter várias representações - no formato XML ou JSON.  O consumidor do serviço pode escolher a apresentação de sua escolha. <br><br>  O serviço retorna 3 usuários quando enviamos uma solicitação GET.  Nesse caso, obtemos a representação JSON do recurso <b><i>/ users</i></b> . <br><br><img src="https://habrastorage.org/webt/gq/qn/jq/gqqnjqeoz1e_lo1vftv0qymzdje.png"><br><br>  Quando o consumidor não indica uma visualização preferida, usamos JSON. <br><br><img src="https://habrastorage.org/webt/ox/fr/b-/oxfrb-45qiilzqpul45nbdpqk6a.png"><br><br>  O consumidor pode enviar um cabeçalho Aceitar para indicar a exibição. <br><br><img src="https://habrastorage.org/webt/df/tz/0t/dftz0teguhajcobfnjsgs-elmhk.png"><br><br>  O corpo da resposta agora tem conteúdo XML: <br><br><img src="https://habrastorage.org/webt/bw/ct/io/bwctiow8vaxwy2sik1-awmyhar0.png"><br><br><h3>  Use o plural </h3><br>  Sempre use o plural ao nomear recursos. <br><br>  Vejamos um exemplo simples.  Suponha que tenhamos um serviço que hospeda um recurso do usuário.  A seguir, descreve como acessá-los: <br><br><ul><li>  Criar usuário: <b>POST / users</b> </li><li>  Excluir usuário: <b>DELETE / users / 1</b> </li><li>  Obter todos os usuários: <b>GET / users</b> </li><li>  Obter um usuário: <b>GET / users / 1</b> </li></ul><br>  A preferência de vários usuários em relação ao usuário torna o URI mais legível. <br><br><ul><li>  Por exemplo, se usarmos <b>/ user em</b> vez de <b>/ users</b> para obter, <b>GET / user</b> não passará a mensagem correta para o leitor. </li></ul><br><h3>  Crie boa documentação </h3><br>  Os consumidores precisam entender como fazer o melhor uso do serviço, e a melhor maneira de ajudá-los é criar uma boa documentação. <br><br>  Os serviços web SOAP podem usar a funcionalidade WSDL, enquanto os serviços web RESTful têm opções Swagger (agora o padrão de documentação da API aberta). <br><br>  A escolha de um formato é apenas uma parte da criação de uma boa documentação.  O que também é importante é o fornecimento da quantidade certa de informações para ajudar o consumidor. <br><br>  A documentação deve estar completa e incluir os seguintes pontos: <br><br><ul><li>  O que é uma estrutura de solicitação e resposta? </li><li>  Como um consumidor deve se autenticar? </li><li>  Quais são os limites de uso? </li><li>  Indique todos os tipos de mensagens de resposta e códigos de status correspondentes que podem ser esperados do serviço. </li></ul><br><h3>  Crie um portal de documentação comum da API REST </h3><br>  Seria útil ter um portal de documentação da API REST comum para toda a organização.  Dê uma olhada em um desses portais: <br><br><img src="https://habrastorage.org/webt/3j/vm/bo/3jvmbovqx_sikaedwbkgzxe80yc.png"><br><br>  Esse portal reúne todos os recursos disponíveis na organização.  Ter uma interface de usuário como a interface do usuário do Swagger terá seus benefícios adicionais.  Usando a interface do usuário do Swagger, você pode ver a documentação em mais detalhes: <br><br><img src="https://habrastorage.org/webt/xp/io/ox/xpiooxhstlexwhwjxqk9umd6yye.png"><br><br>  Isso pode ser usado mesmo por usuários não técnicos.  As informações fornecidas aqui incluem: <br><br><ul><li>  Formato de resposta esperado </li><li>  Tipo de conteúdo </li><li>  Códigos de resposta suportados </li></ul><br>  O formato da documentação no estilo de uma solicitação / resposta ativa também pode ser interessante. <br><br><h3>  Suporte de versão </h3><br>  O controle de versão implica grande complexidade para um serviço da web.  Manter várias versões diferentes do mesmo serviço da web é muito difícil.  Tente evitar isso sempre que possível. <br><br>  No entanto, em certos cenários, o controle de versão é inevitável. <br><br>  Vamos começar examinando um serviço de exemplo.  Suponha que inicialmente definimos um serviço que tenha a classe <b>PersonV1 da</b> seguinte maneira: <br><br>  Esta versão da classe não leva em consideração que um nome pode ter muitas subseções, como nome e sobrenome.  Verifique isto: <br><br>  A segunda versão da classe de origem foi atualizada para corrigir esta anomalia: <br><br>  Não podemos transferir imediatamente todo o serviço para usar o <b>PersonV2</b> !  Pode haver outros consumidores que aguardam respostas no formato <b>PersonV1</b> . <br><br>  É aqui que o controle de versão é necessário. <br><br>  Vejamos agora as opções que temos para o controle de versão desses dois recursos. <br><br><h3>  Usando URIs diferentes </h3><br>  Temos uma opção - usar URIs diferentes para esses recursos diferentes.  No código do exame abaixo, usamos os URIs <b>v1 / person</b> e <b>v2 / person</b> para distingui-los: <br><br>  Se você executar uma solicitação GET para o recurso <b>v1 / person</b> : <br><br><img src="https://habrastorage.org/webt/ro/xv/go/roxvgoo6pek2xv4wokws2zivir4.png"><br><br>  Você receberá informações correspondentes à <b>v1</b> .  Para outro recurso: <br><br><img src="https://habrastorage.org/webt/hn/yn/vh/hnynvhniet9iacsxsrikaa9pxj8.png"><br><br><h3>  Usando o parâmetro de consulta </h3><br>  O segundo método de controle de versão usa o parâmetro de consulta: <br><br>  No URI <b>/ person / param</b> , se enviarmos o parâmetro com <b>versão = 1</b> , retornamos um recurso do tipo <b>PersonV1</b> : <br><br><img src="https://habrastorage.org/webt/sp/qe/1g/spqe1gs9bksyba0pmidzsndo1fm.png"><br><br>  Para o mesmo URI, o parâmetro com <b>versão = 2</b> retorna um recurso do tipo <b>PersonV2</b> : <br><br><img src="https://habrastorage.org/webt/2q/qt/q1/2qqtq1ci6j_pg4bc6brglrj4z88.png"><br><br>  Esse método é chamado de controle de versão usando parâmetros de consulta. <br><br><h3>  Usando um cabeçalho (cabeçalho) </h3><br>  Outra maneira de fazer isso é o controle de versão, especificando um título.  Aqui, usamos um cabeçalho chamado <b>X-API-VERSION</b> e marcamos o URI como <b>/ person / header</b> .  Quando o valor do cabeçalho é <b>1</b> , um recurso do tipo <b>PersonV1 é retornado</b> : <br><br><img src="https://habrastorage.org/webt/d-/0b/ww/d-0bwwbim3yedwkmreql8hancrg.png"><br><br>  Quando seu valor é <b>2</b> , um recurso do tipo <b>PersonV2</b> é recuperado: <br><br><img src="https://habrastorage.org/webt/yz/_q/1-/yz_q1-fcemb3sqptsk4cd5p8kno.png"><br><br>  Usamos o atributo no cabeçalho da solicitação para executar o controle de versão para nós. <br><br><h3>  Usando o cabeçalho Accept </h3><br>  O método final para criar versões usa o cabeçalho Accept.  Se o consumidor incluir as informações da primeira versão no cabeçalho Accept da solicitação GET, o seguinte recurso será retornado: <br><br><img src="https://habrastorage.org/webt/dz/yw/54/dzyw5423iw2i6ogaiund7wpl1wo.png"><br><br>  Caso contrário, um recurso do tipo <b>PersonV2 será retornado</b> : <br><br><img src="https://habrastorage.org/webt/3i/a4/wl/3ia4wlgl4dbx9fvpxvz3ho8ihxc.png"><br><br>  Esse método de controle de versão é denominado <b>Accept Header Versioning</b> ou <b>Media Type Versioning</b> , pois os tipos MIME geralmente são o conteúdo do cabeçalho Accept. <br><br><h3>  Comparação de métodos de controle de versão </h3><br>  Até agora, vimos quatro tipos de métodos nas versões: <br><br><ul><li>  Usando URIs diferentes </li><li>  Usando o parâmetro de consulta </li><li>  Uso do cabeçalho </li><li>  Usando aceitar cabeçalho / tipo de mídia </li></ul><br>  Qual é o melhor?  A verdade é que não há uma resposta única para essa pergunta.  O fato é que diferentes gigantes da Internet apadrinham diferentes tipos de versões. <br><br><ul><li>  Usando diferentes URIs - Twitter </li><li>  Usando parâmetro de consulta - Amazon </li><li>  Usando um cabeçalho - Microsoft </li><li>  Usando aceitar cabeçalho / tipo de mídia - GitHub </li></ul><br><br>  Você precisa avaliar essas quatro opções de acordo com suas necessidades específicas.  Há vários fatores importantes a serem considerados: <br><br><ul><li>  <b>Poluição de URI</b> : controlando versões usando URIs e parâmetros de consulta, acabamos poluindo o espaço de URI.  Isso ocorre porque adicionamos prefixos e sufixos às principais strings do URI.  O controle de versão usando um cabeçalho evita isso. </li><li>  <b>Uso indevido de cabeçalhos HTTP</b> .  No caso de controle de versão usando cabeçalhos e tipo de mídia, os cabeçalhos HTTP são mal utilizados porque não foram originalmente destinados ao controle de versão. </li><li>  <b>Armazenamento em cache</b> : um recurso é identificado por seu URI.  No entanto, se você não usar um URI para determinar sua versão, mas usar um mecanismo baseado em cabeçalho, as informações da versão não poderão ser armazenadas em cache.  Se o cache HTTP for importante para você, use o controle de versão com base em um URI ou em um parâmetro de solicitação. </li><li>  <b>Executabilidade de solicitação do navegador</b> : o controle de versão com base no título e no tipo de mídia requer ferramentas como o Postman.  No entanto, se os consumidores de serviços não forem tecnicamente esclarecidos, é preferível usar o controle de versão com base em um parâmetro de consulta ou URI. </li><li>  <b>Documentação da API</b> : você também precisa pensar em como deseja documentar suas APIs.  O controle de versão baseado no URI e no parâmetro de consulta é mais fácil de documentar do que os outros dois tipos de controle de versão. </li></ul><br>  Entenda que não existe uma solução ideal única! <br><br><h3>  Pense no tratamento de erros </h3><br>  Quando um consumidor envia uma solicitação a um serviço, é importante que ele receba a resposta correta.  Sempre que algo der errado, é importante enviar uma resposta apropriada. <br><br><h3>  Quando um consumidor solicita um recurso inexistente </h3><br>  Se enviarmos uma solicitação GET para procurar um usuário existente, obteremos a seguinte resposta: <br><br><img src="https://habrastorage.org/webt/uv/dl/9j/uvdl9jri5sd_xafc-fog6acw0rm.png"><br><br>  Se você está procurando um usuário inexistente: <br><br><img src="https://habrastorage.org/webt/9z/kq/je/9zkqjeitglkibqhxszf-4_qr9xk.png"><br><br>  O que você recebe é o status <b>404 Não encontrado</b> .  Este é um bom tratamento de erros, pois determina corretamente que o recurso não foi encontrado e não retorna um erro no servidor. <br><br>  Vamos agora enviar uma solicitação GET para um URI inexistente: <br><br><img src="https://habrastorage.org/webt/gp/b9/ch/gpb9ch3b9ochiotgxppztr4zyb4.png"><br><br>  Como você pode ver, você obtém <b>404</b> status de resposta <b>Não encontrado</b> .  Um URL inválido indica um recurso que não existe. <br><br><h3>  Status de resposta importantes </h3><br><ul><li>  200 - sucesso </li><li>  404 - recurso não encontrado </li><li>  400 - solicitação inválida (por exemplo, erro de validação) </li><li>  201 - criado </li><li>  401 - não autorizado (se a autenticação falhar) </li><li>  500 - erro no servidor </li></ul><br><h3>  Detalhes do erro no corpo da resposta </h3><br>  Isso ajuda se você tiver uma estrutura de exceção padrão ao desenvolver seu serviço. <br><br><img src="https://habrastorage.org/webt/fd/ds/vd/fddsvdk0uirskh9ubp4oprwdcd8.png"><br><br>  Para erros específicos, estruturas de resposta específicas podem ser devolvidas ao consumidor, e esse pode ser o padrão em toda a organização.  Verifique se a resposta ao erro também é legível para os consumidores, sem confusão. <br><br><h3>  Usando o Swagger ou a documentação da API aberta </h3><br>  O Swagger fornece um dos formatos de documentação mais populares para serviços web RESTful.  Hoje, ele é suportado por várias organizações e é usado em um grande número de serviços.  Aqui, examinamos dois aspectos principais do Swagger: <br><br><ul><li>  Formato de documentação do Swagger </li><li>  Interface do usuário do Swagger, que permite examinar a documentação do Swagger de uma maneira visualmente conveniente </li></ul><br><h3>  Documentação do Swagger </h3><br>  Dê uma olhada no seguinte Swagger JSON: <br><br><img src="https://habrastorage.org/webt/76/da/mo/76damom8ezs7j-5amuzvwfxrh6q.png"><br><br>  No nível superior, isso se parece muito com a definição de WSDL.  Possui vários atributos importantes: <br><ul><li>  <b>host</b> : onde o serviço está localizado </li><li>  <b>basePath</b> : o caminho em que o serviço está localizado </li><li>  <b>consome</b> : quais solicitações são aceitas </li></ul><br><img src="https://habrastorage.org/webt/em/iz/q0/emizq09g1kavjozxl2-dnasjuum.png"><br><br><ul><li>  <b>produz</b> : Quais tipos de respostas são gerados </li></ul><br><img src="https://habrastorage.org/webt/eu/5w/wg/eu5wwgbarvmsawqrqslbu3ps9oa.png"><br><br><ul><li>  <b>caminhos</b> : vários recursos disponíveis Nesse caso, você tem vários tipos de recursos na lista: </li></ul><br><img src="https://habrastorage.org/webt/j0/y7/9d/j0y79dcqh83k2kak44d7te-fb3q.png"><br><br>  Ao examinar a documentação do Swagger, você pode identificar rapidamente os recursos disponíveis, operações suportadas e operações relacionadas a cada recurso: <br><br><img src="https://habrastorage.org/webt/bx/dx/5c/bxdx5cazvuaggiwdhkqrxcwp1es.png"><br><br>  O recurso <b>/ users</b> suporta operações <b>GET</b> e <b>POST</b> .  Para <b>GET,</b> você pode ver os tipos de solicitação e resposta suportados.  Você também vê vários tipos de respostas: <br><br><img src="https://habrastorage.org/webt/_1/gk/p6/_1gkp6wgcm4_lql3lnlrt49okvg.png"><br><br>  Observe que, para a resposta <b>200, o</b> circuito também é chamado de matriz do <b>usuário</b> .  <b>O usuário</b> faz parte da seção de <b>definições</b> na parte inferior do documento: <br><br><img src="https://habrastorage.org/webt/wa/-4/9o/wa-49o7ao-f8_lpf-ifh4zptvks.png"><br><br>  O Swagger é completamente independente da tecnologia usada para implementar um serviço da web RESTful.  Ah, tudo é baseado em JSON. <br><br><h3>  Apresentando a interface do usuário do Swagger </h3><br>  A interface do usuário do Swagger é uma ótima interface do usuário que é muito útil para visualizar a documentação do Swagger para o serviço da web RESTful.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dê uma olhada na captura de tela abaixo: </font></font><br><br><img src="https://habrastorage.org/webt/8_/up/yn/8_upynbqoldixni50vm45okd39c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observe que selecionamos uma versão específica do serviço da web para visualizar sua documentação. </font><font style="vertical-align: inherit;">Aqui está a mesma tela com mais detalhes: </font></font><br><br><img src="https://habrastorage.org/webt/ex/qu/4i/exqu4ioa6t5fai0zagud42n8w_k.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando vamos para a página inicial, ele descreve os recursos listados: </font></font><br><br><img src="https://habrastorage.org/webt/or/df/3-/ordf3-wrutjlzbey_oxfudbydcm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você também pode ver o conjunto de operações suportadas para URLs de recursos: </font></font><br><br><img src="https://habrastorage.org/webt/3z/8m/6q/3z8m6qrd6sgoyteluxobp7duiim.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao clicar na operação GET de um recurso específico, você obtém seus detalhes: </font></font><br><br><img src="https://habrastorage.org/webt/sw/rg/ps/swrgpsafvap9hwycxgqkphfkds0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode ver que o esquema Os modelos são descritos visualmente. </font><font style="vertical-align: inherit;">Os atributos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">birthDate</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">links</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nome</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postagens</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> também </font><b><font style="vertical-align: inherit;">são</font></b><font style="vertical-align: inherit;"> exibidos. </font><font style="vertical-align: inherit;">Você também pode executar uma consulta de exemplo e visualizar a resposta:</font></font><br><br><img src="https://habrastorage.org/webt/xb/np/ec/xbnpec9iiud7vdkdqok6scnu-uc.png"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usando ferramentas Swagger (Open API Standard) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O melhor do Swagger são as muitas ferramentas disponíveis. </font><font style="vertical-align: inherit;">Dê uma olhada no seguinte serviço que usamos anteriormente para explicar o controle de versão: A seguir, veja a documentação gerada automaticamente para este serviço: O </font></font><br><br><img src="https://habrastorage.org/webt/vi/el/hn/vielhn-jq9zvj5ql30hgnu0kzme.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger tem suporte para a abordagem de contrato primeiro e a abordagem de código primeiro. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre esta questão, há um </font></font><a href="https://youtu.be/-jwd-9PKr5Y" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vídeo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do autor </font><font style="vertical-align: inherit;">.</font></font><br><br><h3>  Sumário </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Neste artigo, analisamos as práticas recomendadas para criar e projetar serviços da Web RESTful. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leitura adicional </font></font></h3><br> <a href="https://dzone.com/articles/be-the-best-api-you-can-be" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seja o melhor em sua API REST! </font></font></a> <br><br> <a href="https://dzone.com/articles/developing-rest-apis" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvendo APIs REST</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483374/">https://habr.com/ru/post/pt483374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483360/index.html">Controle de acionamento elétrico de potência. Experiência amadora</a></li>
<li><a href="../pt483364/index.html">Você pode escrever um código no trabalho para economizar seu tempo livre.</a></li>
<li><a href="../pt483366/index.html">Histórico da Internet: Rede</a></li>
<li><a href="../pt483368/index.html">Criando o empacotador de arquivo ELF x86_64 para linux</a></li>
<li><a href="../pt483372/index.html">Como treinar uma rede neural DeepPavlov em um laptop usando uma GPU</a></li>
<li><a href="../pt483376/index.html">Na superfície de um buraco negro</a></li>
<li><a href="../pt483378/index.html">Trabalho com segurança de tipo com registros sem sobrecarga no C ++ 17: metaprogramação baseada em valor</a></li>
<li><a href="../pt483380/index.html">Microsserviços: como cumprir o contrato</a></li>
<li><a href="../pt483382/index.html">Kali Linux 2020.1</a></li>
<li><a href="../pt483384/index.html">Quais palavras em inglês do léxico de TI pronunciamos incorretamente com mais frequência</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>