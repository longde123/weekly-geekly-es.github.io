<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍💻 👨🏾‍💻 👵🏻 VM oder Docker? 💸 ⚠️ 🧠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie können Sie verstehen, dass Sie einen Docker und keine VM benötigen? Lassen Sie uns versuchen, die Hauptunterschiede zwischen der Isolation von vir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VM oder Docker?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474068/"><p> Wie können Sie verstehen, dass Sie einen Docker und keine VM benötigen?  Lassen Sie uns versuchen, die Hauptunterschiede zwischen der Isolation von virtuellen Maschinen (VMs) und Docker-Containern zu verstehen, ob sie austauschbar sind und wie wir sie verwenden können. </p><a name="habracut"></a><br><p>  <strong>Was ist der Unterschied zwischen Docker-Containern und VM?</strong> <br>  <strong><em>Eine virtuelle Maschine (VM)</em></strong> ist ein virtueller Computer mit allen virtuellen Geräten und einer virtuellen Festplatte, auf der ein neues unabhängiges Betriebssystem (Gastbetriebssystem) zusammen mit Treibern für virtuelle Geräte, Speicherverwaltung und anderen Komponenten installiert ist.  Das heißt, wir erhalten eine Abstraktion der physischen Ausrüstung, mit der Sie viele virtuelle Computer auf einem Computer ausführen können.  Virtuelle Geräte werden in den Systemeigenschaften angezeigt, und installierte Anwendungen interagieren mit ihnen, als ob sie real wären.  Gleichzeitig ist die virtuelle Maschine selbst vollständig vom realen Computer isoliert, obwohl sie Zugriff auf ihre Festplatte und Peripheriegeräte haben kann. <br>  <strong><em>Eine installierte VM kann auf verschiedene Arten Speicherplatz auf einer Computerfestplatte belegen:</em></strong> </p><br><ul><li>  fester Festplattenspeicher, der einen schnelleren Zugriff auf die virtuelle Festplatte ermöglicht und die Fragmentierung von Dateien vermeidet; </li><li>  dynamische Speicherzuordnung.  Bei der Installation zusätzlicher Anwendungen wird der Speicher dynamisch für sie zugewiesen, bis der maximal zugewiesene Speicher erreicht ist. </li></ul><br><p>  Bei Verwendung von VM fallen zusätzliche Kosten für die Emulation virtueller Geräte und den Start eines Gastbetriebssystems an, die die für die Funktion Ihrer Anwendung erforderliche Umgebung unterstützen und verwalten.  Wenn Sie eine große Anzahl virtueller Maschinen auf dem Server bereitstellen, nimmt der Speicherplatz auf der Festplatte nur zu, weil  Jede VM benötigt Speicherplatz, zumindest für das Gastbetriebssystem und Treiber für virtuelle Geräte. </p><br><p>  <strong><em>Docker</em></strong> ist eine Software zum Erstellen von containergestützten Anwendungen.  Container und virtuelle Maschinen lösen ein Problem, aber sie machen es anders.  Container nehmen da weniger Platz ein  Verwenden Sie mehr gemeinsam genutzte Ressourcen des Hostsystems als VM  Im Gegensatz zu VM bietet es Virtualisierung auf Betriebssystemebene und nicht auf Hardwareebene.  Dieser Ansatz bietet weniger Festplattenspeicher, schnellere Bereitstellung und einfachere Skalierung. </p><br><p>  Der Docker-Container bietet einen effizienteren Mechanismus zur Kapselung von Anwendungen und stellt die erforderlichen Hostsystemschnittstellen bereit.  Mit dieser Funktion können Container den Kern des Systems aufteilen, wobei jeder Container als separater Prozess des Hauptbetriebssystems arbeitet, das über einen eigenen virtuellen Adressraum verfügt, sodass Daten, die zu verschiedenen Speicherbereichen gehören, nicht geändert werden können. </p><br><p>  Docker ist die häufigste Technologie zur Verwendung von Containern in der Anwendung.  Es ist zum Standard in diesem Bereich geworden und baut auf den vom Linux-Kernel bereitgestellten cgroups und Namespace auf.  Das native Betriebssystem für Docker ist Linux, daher erfolgt der Start von Docker-Containern unter Windows in einer virtuellen Linux-Maschine. </p><br><p>  <strong>Woraus besteht der Behälter?</strong> </p><br><p>  <strong><em>Ein Bild</em></strong> ist das Hauptelement, aus dem Container erstellt werden.  Das Bild wird aus der Docker-Datei erstellt, die dem Projekt hinzugefügt wurde, und besteht aus einer Reihe von Dateisystemen (Ebenen), die übereinander geschichtet und schreibgeschützt gruppiert sind.  Die maximale Anzahl von Schichten beträgt 127. </p><br><p>  Das Herzstück jedes Bildes ist ein Basisbild, das durch den Befehl FROM angezeigt wird - der Einstiegspunkt für die Erstellung des Dockerfile-Bildes.  Jede Ebene ist eine schreibgeschützte Ebene und wird durch einen Befehl dargestellt, der das in die Docker-Datei geschriebene Dateisystem ändert.  Durch diesen Ansatz können sich verschiedene Dateien und Verzeichnisse aus verschiedenen Dateischichten transparent überlappen, wodurch ein kaskadenintegriertes Dateisystem entsteht.  Ebenen enthalten Metadaten, mit denen Sie verwandte Informationen zu jeder Ebene zur Laufzeit speichern und erstellen können.  Jede Ebene enthält eine Verknüpfung zur nächsten Ebene. Wenn die Ebene keine Verknüpfung hat, ist dies die oberste Ebene im Bild. <br>  Ab Docker EE Version 06.17.02-ee5 und Docker Engine - Community wird Overlay2 oder Overlay verwendet, und frühere Versionen verwenden AuFS (Advanced Multi Layered Union File System). </p><br><p>  <strong>Container - wie geht das?</strong> </p><br><p>  <strong><em>Ein Container</em></strong> ist eine Abstraktion auf Anwendungsebene, die Code und Abhängigkeiten kombiniert.  Container werden immer aus Bildern erstellt, wobei eine beschreibbare oberste Ebene hinzugefügt und verschiedene Parameter initialisiert werden.  Da der Container über eine eigene Aufzeichnungsebene verfügt und alle Änderungen in dieser Ebene gespeichert sind, können mehrere Container gemeinsam auf dasselbe Bild zugreifen.  Jeder Container kann über eine Datei im Projekt docker-compose.yml konfiguriert werden, in der verschiedene Parameter festgelegt werden, z. B. der Containername, Ports, Bezeichner und Abhängigkeiten zwischen anderen Containern.  Wenn Sie in den Einstellungen keinen Containernamen angeben, erstellt Docker jedes Mal einen neuen Container und weist ihm zufällig einen Namen zu. </p><br><p>  Wenn der Container vom Image ausgeht, stellt Docker das Dateisystem zum Lesen und Schreiben auf alle darunter liegenden Ebenen bereit.  Hier werden alle Prozesse ausgeführt.  Wenn Sie den Container zum ersten Mal starten, ist die anfängliche Lese- / Schreibebene leer.  Wenn Änderungen auftreten, gelten sie für diese Ebene.  Wenn Sie beispielsweise eine Datei ändern möchten, wird diese Datei von der unteren schreibgeschützten Ebene in die Lese- und Schreibebene kopiert.  Eine schreibgeschützte Version der Datei ist weiterhin vorhanden, wird jedoch jetzt unter der Kopie ausgeblendet. </p><br><p>  <strong>Wie funktioniert ein kaskadiertes Verbunddateisystem?</strong> </p><br><p>  Ein kaskadenintegriertes Dateisystem (FS) implementiert einen COW-Kopiermechanismus (Copy-on-Write).  Die Arbeitseinheit ist eine Ebene. Jede Ebene sollte als separates vollwertiges Dateisystem mit einer Hierarchie von Verzeichnissen vom Stamm selbst betrachtet werden.  Bei diesem Ansatz wird die einheitliche Bereitstellung von Dateisystemen verwendet, sodass der Benutzer Dateien und Verzeichnisse verschiedener Dateisysteme (sogenannte Zweige) transparent in einem einzigen verbundenen Dateisystem kombinieren kann.  Der Inhalt von Verzeichnissen mit denselben Pfaden wird zusammen in einem kombinierten Verzeichnis (in einem einzelnen Namespace) des resultierenden Dateisystems angezeigt. </p><br><p>  <strong><em>Die Ebenen werden nach folgenden Prinzipien zusammengeführt:</em></strong> </p><br><ul><li>  eine der Schichten wird zu einer Schicht der oberen Ebene, die zweite und nachfolgende Schichten werden zu Schichten der unteren Ebene; </li><li>  Ebenenobjekte sind für den Benutzer "von oben nach unten" zugänglich, d. h.  Befindet sich das angeforderte Objekt in der „oberen“ Ebene, wird es zurückgegeben, unabhängig davon, ob in der „unteren“ Ebene ein Objekt mit diesem Namen vorhanden ist.  Andernfalls wird das Objekt der "unteren" Ebene zurückgegeben.  Wenn das angeforderte Objekt weder dort noch dort vorhanden ist, wird der Fehler "Keine solche Datei oder kein solches Verzeichnis" zurückgegeben. </li><li>  Die Arbeitsebene ist "ober", dh alle Benutzeraktionen zum Ändern von Daten werden nur auf der Ebene der oberen Ebene angezeigt, ohne den Inhalt der Ebenen der unteren Ebene zu beeinflussen. </li></ul><br><p>  <strong>Fazit</strong> </p><br><p>  Wenn Sie ein System mit garantierten dedizierten Ressourcen und virtueller Hardware virtualisieren müssen, sollten Sie eine VM auswählen.  Was gibt die Verwendung von VM: </p><br><ul><li>  die Fähigkeit, mehrere verschiedene Betriebssysteme auf einem Computer zu installieren; </li><li>  Verteilung der Systemressourcen zwischen virtuellen Maschinen; </li><li>  Kein Neustart erforderlich, um zwischen Betriebssystemen zu wechseln. </li><li>  die Fähigkeit, einen „Schnappschuss“ des aktuellen Status des Systems und des Inhalts der Festplatten zu erstellen, um das System in seinen ursprünglichen Zustand zurückzusetzen; </li><li>  Isolierung von Fehlern und Verstößen gegen das Sicherheitssystem auf Hardwareebene; </li><li>  die Fähigkeit, ein Computernetzwerk auf einem Computer zu simulieren. </li></ul><br><p>  Wenn Sie laufende Anwendungen als separate Prozesse isolieren möchten, ist Docker in Ordnung für Sie.  Was gibt die Verwendung von Docker: </p><br><ul><li>  bietet Virtualisierung auf Betriebssystemebene; </li><li>  Container teilen sich den Kern des Systems und arbeiten als separater Prozess des Hauptbetriebssystems. </li><li>  Der Verbrauch von Systemressourcen wie Speicherverbrauch und CPU-Auslastung kann mithilfe von cgroups für jeden Container separat begrenzt werden. </li><li>  FS für Container wird mithilfe des COW-Mechanismus erstellt, der die Anwendungsbereitstellung beschleunigt, den Speicherverbrauch reduziert und Speicherplatz spart. </li><li>  Das geänderte Dateisystem eines Containers kann als Grundlage für die Bildung neuer Grundbilder anderer Container verwendet werden. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de474068/">https://habr.com/ru/post/de474068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de474048/index.html">HILDACRYPT: Neue Ransomware greift auf Backup-Systeme und Antiviren-Lösungen zu</a></li>
<li><a href="../de474050/index.html">Sie können Ihre Anwendung nicht einfach ausführen, wenn Sie der Star der Musikindustrie sind</a></li>
<li><a href="../de474052/index.html">Schwierigkeitskorb für den Reisenden</a></li>
<li><a href="../de474054/index.html">Offenes Webinar "Grundlagen der MongoDB"</a></li>
<li><a href="../de474062/index.html">Geld zählen. Auswahl einer Metrik für die Kreditbewertung</a></li>
<li><a href="../de474070/index.html">BYOD-Besprechungsraumgeräte</a></li>
<li><a href="../de474076/index.html">Wie man in einer Nische der Beste der Welt wird</a></li>
<li><a href="../de474080/index.html">Telegramm-Bot mit den Titelseiten der 10 beliebtesten Weltzeitschriften</a></li>
<li><a href="../de474082/index.html">Phonocut - ein Haushalts-Vinyl-Recorder: Gedanken zur Startwahrscheinlichkeit</a></li>
<li><a href="../de474084/index.html">Julia und Neuronale Netze: Fluss</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>