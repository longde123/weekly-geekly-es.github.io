<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÖ üêó ‚òùüèæ Revisi√≥n del curso en l√≠nea sobre Arduino / Rob√≥tica de MIPT (segunda semana) üç• üí¶ üïõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos publicando una descripci√≥n general del curso en l√≠nea "Construyendo robots y otros dispositivos Arduino", comenzando aqu√≠ . 


 Entonces, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revisi√≥n del curso en l√≠nea sobre Arduino / Rob√≥tica de MIPT (segunda semana)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/makeitlab/blog/403029/"><img src="https://habrastorage.org/files/221/125/c88/221125c882bb4cd8b698ba6897bbb3b2.jpg"><br><p>  <em>Continuamos publicando una descripci√≥n general del curso en l√≠nea "Construyendo robots y otros dispositivos Arduino", comenzando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .</em> </p><br><p>  Entonces, cu√°nto tiempo fue corto, termin√≥ la segunda semana del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">curso en l√≠nea de rob√≥tica de MIPT</a> .  Francamente, la semana estuvo llena de varios temas. </p><br><p>  Aqu√≠ hay una lista de muestra que me he asignado: </p><br><ul><li>  Divisor de voltaje.  Usando un fotoresistor y un termistor </li><li>  Se√±al anal√≥gica.  Ancho de se√±al </li><li>  Comunicaci√≥n a trav√©s del puerto serie.  Entorno de procesamiento </li><li>  Se√±al digital.  Botones y opciones de conexi√≥n.  Resistencia pull-up </li><li>  Expresiones l√≥gicas, declaraciones if y else </li><li>  Zumbador, barra LED, indicador de siete segmentos </li><li>  Microcircuitos  Inversor l√≥gico 74HC04, Registro de desplazamiento 74HC595 </li><li>  Programas de depuraci√≥n </li><li>  M√≥dulos externos </li><li>  Una variante de un sistema de monitoreo listo para usar que muestra la temperatura y el nivel de luz en la escala LED, as√≠ como un altavoz que funciona cuando se excede cierta temperatura </li></ul><br><p>  Despu√©s de pasar con √©xito la prueba y recopilar los esquemas propuestos de las lecciones, pens√© en c√≥mo mejorar este o aquel esquema o recopilar algo propio. </p><br><a name="habracut"></a><br><p>  Lo primero que me vino a la mente fue la modernizaci√≥n del sensor de luz.  La implementaci√≥n propuesta en la lecci√≥n simplemente tom√≥ el valor del fotorresistor y lo envi√≥ al puerto serie. </p><br><p>  La versi√≥n mejorada debe usar un indicador de siete segmentos para mostrar n√∫meros del 0 (iluminaci√≥n m√≠nima) al 9 (iluminaci√≥n m√°xima).  El indicador debe estar conectado a trav√©s de un registro de desplazamiento.  Deben usarse dos botones para establecer los niveles m√≠nimo y m√°ximo de iluminaci√≥n.  El registro de desplazamiento es necesario para no usar el pin Arduino en cada segmento, sino usar menos pines.  De hecho, el registro de desplazamiento convierte la salida de datos en serie (un bit por unidad de tiempo) en paralelo (varios bits por unidad de tiempo).  En nuestro caso, en lugar de siete pines Arduino, solo necesitamos tres. </p><br><p>  En el editor de Fritzing, obtuve ese dispositivo. </p><br><img src="https://habrastorage.org/files/307/086/4c8/3070864c8ede4968b71c94eed6491984.png"><br><p>  De esta manera se ve en vivo. </p><br><img src="https://habrastorage.org/files/420/717/3a3/4207173a318d4c83a99d044ccfac12c5.jpg"><br><p><br>  Se tomaron como base esquemas para trabajar con un registro de desplazamiento y una fotorresistencia. </p><br><p>  Tenga en cuenta que en el tablero, el fotorresistor est√° conectado de manera algo diferente que en el video tutorial: all√≠ medimos el voltaje en el fotorresistor en relaci√≥n con el suelo, y en el circuito eliminamos la ca√≠da de voltaje en relaci√≥n con la fuente de alimentaci√≥n.  Esto se hace para simplificar un poco el programa: con un aumento en el nivel de iluminaci√≥n, la resistencia de la fotorresistencia disminuye.  Por lo tanto, a la misma corriente, la ca√≠da de voltaje disminuye.  Por lo tanto, en la entrada anal√≥gica, cuanto mayor sea el voltaje, mayor ser√° el nivel de iluminaci√≥n y viceversa. </p><br><p>  Ahora depende de usted finalizar el c√≥digo fuente.  Se utiliz√≥ el mismo programa como base para mostrar el valor en un indicador de siete segmentos. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo del programa</b> <div class="spoiler_text"><pre><code class="hljs pgsql">// ,      #define DATA_PIN <span class="hljs-number"><span class="hljs-number">13</span></span> #define LATCH_PIN <span class="hljs-number"><span class="hljs-number">12</span></span> #define CLOCK_PIN <span class="hljs-number"><span class="hljs-number">11</span></span> //  ,        #define BTN_MIN <span class="hljs-number"><span class="hljs-number">3</span></span> #define BTN_MAX <span class="hljs-number"><span class="hljs-number">2</span></span> // ,       #define SENS_PIN A5 //     ,   byte d0 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01111101; byte d1 = <span class="hljs-number"><span class="hljs-number">0</span></span>b00100100; byte d2 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01111010; byte d3 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01110110; byte d4 = <span class="hljs-number"><span class="hljs-number">0</span></span>b00100111; byte d5 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01010111; byte d6 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01011111; byte d7 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01100100; byte d8 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01111111; byte d9 = <span class="hljs-number"><span class="hljs-number">0</span></span>b01110111; //        <span class="hljs-type"><span class="hljs-type">int</span></span> min_light = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> max_light = <span class="hljs-number"><span class="hljs-number">1023</span></span>; //    <span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; // ,  .  .  <span class="hljs-type"><span class="hljs-type">int</span></span> output; //   <span class="hljs-type"><span class="hljs-type">int</span></span> digit; <span class="hljs-type"><span class="hljs-type">void</span></span> setup() { //     pinMode(DATA_PIN, OUTPUT); pinMode(CLOCK_PIN, OUTPUT); pinMode(LATCH_PIN, OUTPUT); //       <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">9600</span></span>); //     pinMode(BTN_MIN, INPUT_PULLUP); pinMode(BTN_MAX, INPUT_PULLUP); } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() { //     <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = analogRead(SENS_PIN); output = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; //    -    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!digitalRead(BTN_MIN)) min_light = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!digitalRead(BTN_MAX)) max_light = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> - <span class="hljs-number"><span class="hljs-number">10</span></span>; //      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &lt; min_light) output = min_light; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &gt; max_light) output = max_light; //  ,      digit = map(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, min_light, max_light, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>); //   <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println("Value: " + String(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) + " Output: " + String(output) + " Min: " + String(min_light) + " Max: " + String(max_light) + " Current : " + String(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) + " Digit: " + String(digit)); //      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">0</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d0); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">1</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d1); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">2</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d2); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">3</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d3); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">4</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d4); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">5</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d5); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">6</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d6); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">7</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d7); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">8</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d8); digitalWrite(LATCH_PIN, HIGH); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digit == <span class="hljs-number"><span class="hljs-number">9</span></span>) { digitalWrite(LATCH_PIN, LOW); shiftOut(DATA_PIN, CLOCK_PIN, LSBFIRST, d9); digitalWrite(LATCH_PIN, HIGH); } //       delay(<span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> </div></div><br><p>  De las caracter√≠sticas, al establecer el nivel m√°ximo de iluminaci√≥n, tuvimos que restar alguna constante (max_light = value - 10), seleccionada emp√≠ricamente.  Esto es necesario para evitar "vibraciones" en el nivel m√°ximo de iluminaci√≥n, ya que el valor de voltaje tomado del fotorresistor es inestable. </p><br><p>  Compilamos el boceto, lo cargamos en el Arduino y lo verificamos. </p><br><p>  Primero en el monitor de puerto ... </p><br><img src="https://habrastorage.org/files/314/d5b/314/314d5b314e144bce97ad6ae301c17523.png"><br><p><br>  Y luego vivir </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/OZtMTCwsMrY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Como puede ver, el dispositivo funciona correctamente como se describe.  Por supuesto, todav√≠a hay margen de mejora, por ejemplo, puede agregar una se√±al de audio cuando la iluminaci√≥n cae por debajo de un cierto nivel, lo que significa que debe encender iluminaci√≥n adicional en el lugar de trabajo.  Tambi√©n en el futuro ser√° posible cambiar el programa en s√≠, utilizando matrices y funciones adicionales. </p><br><p>  En conclusi√≥n, repito una vez m√°s que la semana result√≥ ser muy agitada en varios temas.  Tenga en cuenta que desde la publicaci√≥n del curso en Arduino IDE, ha aparecido la funci√≥n de trazador de serie incorporado, que se superpone parcialmente a las funciones del entorno de procesamiento consideradas en las lecciones.  Adem√°s, al final de la semana, a los autores se les ocurri√≥ la idea de modularidad cuando el dispositivo final se ensambla a partir de elementos listos para usar: m√≥dulos, por ejemplo, botones con una resistencia pull-up ya incorporada, un sensor de luz listo para usar, donde el fotorresistor y una resistencia convencional ya se ensamblan en un divisor de voltaje, y similares.  Sin embargo, el dispositivo se puede ensamblar f√°cilmente en una placa de prueba, lo que se hizo.  La pregunta es para los lectores, ¬øalguna vez has hecho un caso para tus dispositivos?  ¬øQu√© materiales usaste para esto?  ¬øTal vez el cart√≥n, el contrachapado, el plexigl√°s o, lo que no es raro hoy, se imprimieron en una impresora 3D? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es403029/">https://habr.com/ru/post/es403029/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es403017/index.html">Realidad virtual c√≥smica: una selecci√≥n para el D√≠a de la Cosmon√°utica para ni√±os</a></li>
<li><a href="../es403021/index.html">YouTube deshabilita los anuncios en canales con menos de 10,000 vistas</a></li>
<li><a href="../es403023/index.html">El destino de la quinta interacci√≥n en f√≠sica pende de un hilo</a></li>
<li><a href="../es403025/index.html">En memoria de George Grechko</a></li>
<li><a href="../es403027/index.html">Comerciante? Dinero sobre la mesa: violas nuestros derechos de autor</a></li>
<li><a href="../es403031/index.html">6 nuevos productos Xiaomi para todas las ocasiones</a></li>
<li><a href="../es403033/index.html">C√≥mo fue el agujero c√≥smico en el tiempo de la primera</a></li>
<li><a href="../es403035/index.html">DeepMind anuncia el partido AlphaGo con el campe√≥n mundial en Go Ke Jie</a></li>
<li><a href="../es403037/index.html">El programador de 75 a√±os fund√≥ la compa√±√≠a de sistemas inform√°ticos COBOL</a></li>
<li><a href="../es403039/index.html">C√≥mo ensamblar un sistema de audio de altavoces rotos y un amplificador de un mercado de pulgas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>