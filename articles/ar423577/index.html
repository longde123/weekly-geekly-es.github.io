<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฅ ๐ค๐ป ๐ ุฅูุดุงุก ูุนุจุฉ ููุทููุฉ ูููุตุฉ ุงูุฃูุนุงุจ ๐ ๐ค๐ป ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจูุง. 

 ุฃุฑูุฏ ุฃู ุฃุดุงุฑู ูุตุชู ูู ุงูุชุนุงุฑู ูุน ููุตุฉ ุงูุฃูุนุงุจ Gameduino 3 ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููููู ูู ุงูุญุฏูุซ ุนู ุจุฑูุฌุฉ ุฃุจุณุท ูุนุจุฉ ููุทููุฉ ููุฐู ุงูููุตุฉ ุ ูุงูุชู ูุชู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ูุนุจุฉ ููุทููุฉ ูููุตุฉ ุงูุฃูุนุงุจ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423577/" style=";text-align:right;direction:rtl">  ูุฑุญุจูุง. <br><br>  ุฃุฑูุฏ ุฃู ุฃุดุงุฑู ูุตุชู ูู ุงูุชุนุงุฑู ูุน ููุตุฉ ุงูุฃูุนุงุจ Gameduino 3 ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููููู ูู ุงูุญุฏูุซ ุนู ุจุฑูุฌุฉ ุฃุจุณุท ูุนุจุฉ ููุทููุฉ ููุฐู ุงูููุตุฉ ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูุน Arduino Uno. <br><br>  ูุง ูู Gameduino 3ุ  Gameduino 3 ุนุจุงุฑุฉ ุนู ููุญุฉ ุชูุณุนุฉ ุชุณูุญ ูู ุจุชุญููู Arduino ุฅูู ูุญุฏุฉ ุชุญูู ูุนุจุฉ ูุญูููุฉ (ุจุญุฌู ุงูุญุฌู).  ูุฏูุดุชู ุ ูู ุฃุชููู ูู ุงูุนุซูุฑ ุนูู ุฃู ูุนูููุงุช ุชูุตูููุฉ ุนูู ูุฐุง ุงูููุชุฏู ุนูู ุงููุญูุฑ.  ุฃูุฏ ุณุฏ ูุฐู ุงููุฌูุฉ ุ ุฎุงุตุฉ ูุฃู ุงููุฌูุณ ุ ูู ุฑุฃูู ุ ูุณุชุญู ุงูุงูุชูุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููููู ูู ุงูุชุงุฑูุฎ </h3><br>  ูุคูู ุงููุดุฑูุน ุงููุณูู Gameduino ูู ุฌููุณ ุจููุงู ุ ุงูุฐู ุฃูุดุฃ ูู ุนุงู 2011 ุงููุณุฎุฉ ุงูุฃููู ูู ุงูููุญุฉ.  ุซู ุชู ูุถุนู ููุญุฏุฉ VGA ูู Arduino.  ุชู ุงุณุชุฏุนุงุก ุงูููุญุฉ Gameduino ูุงุณุชูุฏุช ุฅูู ุนุงุฆูุฉ Xilinx Spartan-3A ูู FPGA ุงูููุทููุฉ ุงููุงุจูุฉ ููุจุฑูุฌุฉ.  ุชู ุชุซุจูุช ููุตูุงุช ูุชูุตูู ุดุงุดุฉ VGA ูููุจุฑุงุช ุตูุช ุงุณุชุฑูู ุนูู ุงูููุญุฉ. <img src="https://habrastorage.org/webt/as/6q/1-/as6q1-hlbbmoyubblbcs6hehog0.jpeg" alt="ุงูุตูุฑุฉ"><br><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฒุงุช Gameduino (1):</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฎุฑุงุฌ ููุฏูู VGA ุจุฏูุฉ 400 ร 300 ุจูุณู ุ 512 ููููุง ุ </li><li style=";text-align:right;direction:rtl">  ุชุชู ูุนุงูุฌุฉ ุฌููุน ุงูุชุฏุฑุฌ ุงููููู ูู FPGA ุจุฏูุฉ 15 ุจุช ุ </li></ul><br>  ุฑุณููุงุช ุงูุฎูููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุงุญุฉ ูู ุฑุณููุงุช ุงูุฎูููุฉ ุงูุฑูุฒูุฉ 512x512 ุจูุณู ุ </li><li style=";text-align:right;direction:rtl">  256 ุญุฑููุง ุ ููู ูููุง ููุญุฉ ูุณุชููุฉ ุจุฃุฑุจุนุฉ ุฃููุงู ุ </li><li style=";text-align:right;direction:rtl">  ุชูููุฐ ุชุฃุซูุฑ ุงูุชูุงู ุงูุณูุงุณู ุงููุตูุฉ ูุน ุชุฌุงูุณ ุจูุณู ุ </li></ul><br>  ุงูุฑุณููุงุช ุงูุฃูุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ููุด ูุชุญุฑู ูู ุฏูุฉ 16x16 ุจูุณู. </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุญุชูู ูู ููุด ูุชุญุฑู ุนูู ููุญุฉ ุฃููุงู 256 ุฃู 16 ุฃู 4 ุฃููุงู ุ </li><li style=";text-align:right;direction:rtl">  ุฏุนู ุฎูุงุฑุฒููุงุช ุงูุฏูุฑุงู ุงูุฃููู ูุงูุฏูุฑุงู ุฑุจุงุนู ุงูุงุชุฌุงูุงุช ุ </li><li style=";text-align:right;direction:rtl">  96 sprites ููู ุฎุท ููุทู ุ 1536 ุนูุตุฑ ูุณูุฌ ููู ุฎุท ููุทู ุ </li><li style=";text-align:right;direction:rtl">  ุขููุฉ ูููุดู ุนู ุงูุชูุงุทุนุงุช ุงููุญุชููุฉ ููุนูุงุฑูุช ุ </li></ul><br>  ุฅุฎุฑุงุฌ ุงูุตูุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  12 ุจุช ูุฒุฌ ุชุฑุฏุฏ ุซูุงุฆู ุงูููุงุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุชุนุฏุฏ ุงูุฃุตูุงุช 64 ุตูุชูุง ูู ูุทุงู ุงูุชุฑุฏุฏ ูู 10 ุฅูู 8000 ูุฑุชุฒ. </li></ul><br>  ูุชู ุนุฑุถ ุงูุตูุฑุฉ ุนูู ุดุงุดุฉ ุฌูุงุฒ ุนุฑุถ VGA ููุงุณู ุจุฏูุฉ 400 ร 300 ุจูุณู ุ <br>  ุงูุญูุงุธ ุนูู ุงูุชูุงูู ูุน ุฃู ุดุงุดุงุช VGA ููุงุณูุฉ ุจุฏูุฉ 800 ร 600 ุจูุณู. <br></div></div><br>  ูู ุนุงู 2013 ุ ุชู ุฅุตุฏุงุฑ ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ุงูููุญุฉ - Gameduino 2 ุ ุญูุซ ุ ุนูู ุนูุณ ุงูุฅุตุฏุงุฑ ุงูุณุงุจู ุ ูุงู ููุงู ุจุงููุนู ุดุงุดุฉ ุชุนูู ุจุงูููุณ ููุงููุฉ 4.3 ุจูุตุฉ ุจุฏูุฉ 480x272 ุ ููููุงุณ ุชุณุงุฑุน ุซูุงุซู ุงููุญุงูุฑ ุ ููุชุญุฉ ุจุทุงูุฉ ุฐุงูุฑุฉ microSD ุ ูุฅุฎุฑุงุฌ ุตูุชู ูุณูุงุนุงุช ุงูุฑุฃุณ. <br><br><img src="https://habrastorage.org/webt/rv/e-/vg/rve-vggbftjqtpadk4ftr7xtfq4.jpeg" alt="ุงูุตูุฑุฉ"><br><br>  ูุงู "ููุจ" ุงูููุญุฉ ูู ุฌูุงุฒ ุงูุชุญูู ุงูุฑุณููู EVE (ูุญุฑู ุงูููุฏูู ุงููุถูู - ุจุงููุบุฉ ุงูุฑูุณูุฉ ูููู ุชุฑุฌูุชู ูู "ูุญุฏุฉ ุงูููุฏูู ุงููุถููุฉ") FT800 ุ ุงูุชู ุชุชูุชุน ุจูุฏุฑุงุช ุญูุณุจุฉ ูููุฉ ุ ุชุฌูุน ุจูู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ูู ููุณ ุงูููุช: ุชูููู ุงูุตูุฑุฉ ูุฅุฎุฑุงุฌูุง ุนูู ุดุงุดุฉ ุดุงุดุฉ TFT ุ ุดุงุดุฉ ุชุนูู ุจุงูููุณ ุ ุชูููุฏ ุงูุตูุช. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู ุชุฎุทูุทู ูุธููู ููุญุฏุฉ ุชุญูู ุงูุฑุณููุงุช FT800</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lj/7_/dd/lj7_ddvshsrqz9f1mhfs_xhzvja.jpeg" alt="ุงูุตูุฑุฉ"><br><br>  ูุชู ุชุถููู ุงููุชู ุงููุธูููุฉ ุงูุชุงููุฉ ูู ูููู ุงูุฏุงุฆุฑุฉ ุงููุตุบุฑุฉ: ูุญุฏุฉ ุงูุชุญูู ุงูุฑุณูููุฉ ุ ูุญุฏุฉ ุงูุชุญูู ูู ุงูุตูุช ุ ูุญุฏุฉ ุงูุชุญูู ูู ููุญุฉ ุงูููุณ ุงูููุงููุฉ.  ุชู ุชุตููู ุดุฑูุญุฉ FT800 ููุชุญูู ูู ุงูุดุงุดุงุช ุจุฏูุฉ ุชุตู ุฅูู 512 ร 512 ุจูุณู.  ูุฏุนู FT800 ุฃูุถูุง LCD WQVGA (480 ร 272) ู QVGA (320 ร 240).  ูุนุฏ EVE (ูุญุฑู ุงูููุฏูู ุงููุถูู) FT800 ุญูุงู ุฌุงูุฒูุง ูุฅูุดุงุก ูุงุฌูุฉ ูุณุชุฎุฏู ุฑุณูููุฉ.  ุชููุฏ ุงูุฏุงุฆุฑุฉ ุงููุตุบุฑุฉ ุฅุดุงุฑุงุช ุชุญูู ูู ุงูุนุฑุถ ุ ูุชุญุชูู ุนูู ูุธุงุฆู ุฑุณูููุฉ ูุถููุฉ ูุนุฑุถ ุงูููุงุท ูุงูุฎุทูุท ูุงูุตูุฑ ุงูููุทูุฉ ูุงูุฃุฒุฑุงุฑ ุงูุญุฌููุฉ ูุงููุตูุต ููุง ุฅูู ุฐูู. </div></div><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูููู ุงููุธุงู ุจูุงุกู ุนูู ูุญุฏุฉ ุชุญูู ุงูุฑุณููุงุช FT800</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุนุชูุฏ ุชูููู ุงูุตูุฑุฉ ุนูู ูุฌููุนุฉ ูู ุงูุฃูุงูุฑ (ูุงุฆูุฉ ุงูุนุฑุถ) ุ ูุงูุชู ูุชู ููููุง ุจูุงุณุทุฉ ูุชุญูู ุงูุชุญูู ุฅูู FT800 ุนุจุฑ ูุงุฌูุฉ I2C ุฃู SPI (ูู Gameduino 2 ุ ูุชู ุงูุงุชุตุงู ุจูู Arduino ู FT800 ุนุจุฑ ูุงุฌูุฉ SPI).  ููุฒุงุช FT800 ุชุฎูู ุจุดูู ูุจูุฑ ูู ุชุญูู ุงููุถูู ูููุธุงู. <br><br><img src="https://habrastorage.org/webt/br/2b/2u/br2b2ueemryzlv-qxkor6whrft4.jpeg" alt="ุงูุตูุฑุฉ"><br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูุนุฑุถ ุนุฏุฏ ูู ุงูุฃุฒุฑุงุฑ ุ ูููู ููู ุฃูุฑ ูุงุญุฏ ุฅูู ูุญุฏุฉ ุชุญูู ุงูุฑุณููุงุช (ุฃุฑุจุน ูููุงุช 32 ุจุช) ุ ูุณุชุดูู FT800 ุจุดูู ูุณุชูู ุตูุฑุฉ ููุฐู ุงูุฃุฒุฑุงุฑ ุนูู ุดุงุดุฉ ุนุฑุถ TFT.  ุชุชุถูู ูุฌููุนุฉ ุฃูุงูุฑ ูุญุฏุฉ ุชุญูู ุงูุฑุณููุงุช FTDI ุฃูุซุฑ ูู 50 ูุธููุฉ ูููู ุงุณุชุฎุฏุงููุง ูุนุฑุถ ุตูุฑ ูุชููุนุฉ ุนูู ุดุงุดุฉ ุงูุนุฑุถ ุจุชุฃุซูุฑุงุช ูุฎุชููุฉ. <br><br>  ูููู ุงูุนุซูุฑ ุนูู ุฏููู ุจุฑูุฌุฉ ูุญุฏุฉ ุชุญูู ููุตู ูุฃูุซูุฉ ุนูู ุงูุนูู ูุน ุจูุฆุงุช ุชุตููู ูุฎุชููุฉ ูู ููุงุญุธุงุช ุงูุชุทุจูู ุนูู ูููุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FTDI ุนูู</a> ุงูููุจ. <br><br>  ุจุงููุบุฉ ุงูุฑูุณูุฉ ุ ููุฌุฏ ูุตู ุฌูุฏ ูููุธููุฉ ูุงููุจุงุฏุฆ ุงูุนุงูุฉ ูุฃูุซูุฉ ููุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฒุงุช Gameduino 2:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฏูุฉ ุดุงุดุฉ 480x272 ุจูุณู ุจุฃููุงู 24 ุจุช ุ </li><li style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงูุฃูุงูุฑ ุจุฃุณููุจ OpenGL ุ </li><li style=";text-align:right;direction:rtl">  ูุง ูุตู ุฅูู 2000 ููุดุงุช ูู ุฃู ุญุฌู ุ </li><li style=";text-align:right;direction:rtl">  256 ููููุจุงูุช ูู ุฐุงูุฑุฉ ุงูููุฏูู ุ </li><li style=";text-align:right;direction:rtl">  ุฏูุฑุงู ุงูุนูุฑูุช ุงูุณูุณ ูุงูุชุญุฌูู ูุน ุงูุชุฑุดูุญ ุงูุซูุงุฆู. </li><li style=";text-align:right;direction:rtl">  ุฏุงุฆุฑุฉ ูุงุนูุฉ ูููุท ุฎุทู ูู ุงูุฃุฌูุฒุฉ - ุชูุนูู 16x ุ </li><li style=";text-align:right;direction:rtl">  ูู ุชุดููุฑ ุฃุฌูุฒุฉ JPEG ุ </li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ูุฏูุฌ ููุชุฏุฑุฌุงุช ูุงููุตูุต ูุงูุฃูุฑุงุต ูุงูุฃุฒุฑุงุฑ. </li></ul><br>  ูุชู ุฅุฎุฑุงุฌ ุงูุตูุช ูู ุฎูุงู ููุจุณ ุณูุงุนุฉ ุฑุฃุณ ูููู. <br>  ูุฏุนู ุงููุธุงู ุงุฎุชูุงุฑ ุงูุนููุงุช ูุงูุฃุฏูุงุช ุงููุฏูุฌุฉ. <br><br>  ROM ุชุญูู ุณููู ุจุงููุนู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุทูุท ุนุงููุฉ ุงูุฌูุฏุฉ (6 ุฃุญุฌุงู) ุ </li><li style=";text-align:right;direction:rtl">  ุนููุงุช ูู 8 ุขูุงุช ููุณูููุฉ ุชุนุฒู ุนูููุง ูุฐูุฑุฉ MIDI ุ </li><li style=";text-align:right;direction:rtl">  ุนููุงุช ูู 10 ุฃุตูุงุช ูุฑุน. </li></ul><br>  ูุจุงูุทุจุน ุ ููููู ุชุญููู ุงูุฎุทูุท ุงูุฎุงุตุฉ ุจู ูุฏุบุงุช ุงูุตูุช ูู 256 ููููุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br><br>  ุงุณุชุฎุฏุงู ููุตุฉ Arduino ููุณ ุดุฑุทูุง ุฃุณุงุณููุง: ูููู ุชูุตูู ููุญุฉ Gameduino 2 ุจุฃู ููุญุฉ ุชุญูู ุฏูููุฉ ุฃู ูุงุฌูุฉ ูุชุญูู ุจูุงุฌูุฉ SPI. </div></div><br>  ูู ุนุงู 2017 ุ ุชู ุฅุตุฏุงุฑ ุงูุฅุตุฏุงุฑ ุงูุซุงูุซ ูู ุงูููุญุฉ - Gameduino 3 ุ ูุงูุชู ุชุจุฏู ูุชุทุงุจูุฉ ุชูุฑูุจูุง ูุน Gameduino 2. ุจุฏูุงู ูู FT800 ุ ูุชู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู ุงูุฑุณููุงุช ุงูุฌุฏูุฏุฉ FT810 ุ ูุงูุชู ุชุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูุน FT800 (ุฃู ุฃู ูู ููุฏ ูู Gameduino2 ูุนูู ุนูู Gameduino3). ูููู ูู ููุณ ุงูููุช ูุฏููุง ุฅููุงูุงุช ุญูุณุจุฉ ุฃูุจุฑ 4 ูุฑุงุช ุ ูุซู ูู ุชุดููุฑ JPEG ููุฃุฌูุฒุฉ ุจุดูู ุฃุณุฑุน ุ ููู ุชุดููุฑ ุงูููุฏูู ุ ููุง ูุตู ุฅูู 1 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ููุง ุฅูู ุฐูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชููุฒ Gameduino 3:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุฏุฉ ูู ุชุฑููุฒ ุงูููุฏูู ูุดุงุดุฉ ููุฏูู ูุงููุฉ ุจูุนุฏู 30 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ ุ </li><li style=";text-align:right;direction:rtl">  1 ููุบุง ุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงูุฏุงุฎููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููุตูุงุช ูุจุทุงูุงุช microSD ูุฎุฑุฌ ุงูุตูุช ุ </li><li style=";text-align:right;direction:rtl">  4.3 ุจูุตุฉ 480x272 ููุญุฉ LCD ุนุงููุฉ ุงูุชุจุงูู ูุน ุดุงุดุฉ ุชุนูู ุจุงูููุณ ููุงูู ุ </li><li style=";text-align:right;direction:rtl">  ุฏุนู ุงูุฎุฑุงุฆุท ุงูุชู ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู ูุญุฑุฑ ุงูุฎุฑุงุฆุท ุงููุชุฌุงูุจุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุชุญููู ุตูุฑุฉ PNG ูู microSD ุ </li><li style=";text-align:right;direction:rtl">  ุชุณุฑูุน ูู ุชุดููุฑ JPEG ุ </li><li style=";text-align:right;direction:rtl">  ุตูุฑุฉ ุงูุฃุฌูุฒุฉ / ุชุจุฏูู ุงูููุงุธุฑ ุงูุทุจูุนูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฏุนู Arduino ู ESP8266 ู Teensy 3.2 ุ </li><li style=";text-align:right;direction:rtl">  ุฃุฏูุงุช ุนุจุฑ ุงูุฅูุชุฑูุช ูุฅุนุฏุงุฏ ุงูุฑุณููุงุช ูุงูุตูุช ูุงูุฎุท ูุงูููุฏูู ุ </li></ul><br></div></div><br>  ูุดุฑ ุฌููุณ ุจููุงู ููุชุจุฉ ููุดุฑูุนู ูุน ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ุงูุชู ุชุนูู ูุจุงุดุฑุฉ ุฎุงุฑุฌ ุงูุตูุฏูู.  ุงูููุชุจุฉ ุงูุญุงููุฉ ุงูุชู ุชูููุช ูู ุงูุนุซูุฑ ุนูููุง ููุฌูุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู ุงูุจุฑูุฌุฉ</a> (ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ) ุ ุญูุซ ูุชู ูุตู ูู ุดูุก ุจุงูุชูุตูู.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซูุฑ ูู ุงููุนูููุงุช ุงููููุฏุฉ</a> ุญูู ุชุซุจูุช IDE ุ ููุง ุฅูู ุฐูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุจุฑูุฌุฉ </h3><br>  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ุชุฌููุช ุญูู ูุณุงุญุงุช <s>ูุณุฑุญ Bolshoi</s> Internet ุ ููุฏ ุตุงุฏูุช ูุดุฑูุนูุง ูุซูุฑูุง ููุงูุชูุงู ูู Arduino - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุจุฉ ุงูููุทููุฉ "Columns"</a> ุ ููุชูุจุฉ ุชุญุช ุงูุดุงุดุฉ ุงูุตูููุฉ ุงูููููุฉ ุบูุฑ ุงูููููุฉ ุงููุนุชุงุฏุฉ ุจุญุฌู 128x160 ุจูุณู.  ููุช ุฃุฑุบุจ ูู ุชูุฑุงุฑ ูุฐู ุงููุนุจุฉ ุ ูููู ุนูู ููุญุชู ุ ุณุฃุณูููุง FT810 (ุจุงุณู GPU) ุ ุงูุชู ูุงูุช ูู ุฐูู ุงูููุช ุจูู ูุฏู ุจุงููุนู.  ุชูููุช ุจุงููุนู ูู ุฏุฑุงุณุฉ ุฏููู ุงูุจุฑูุฌุฉ ูุงูุฃูุซูุฉ ูู ุงูููุชุจุฉ ุ ูุฐุง ูุฅู "ูุฏู" ุชุดุนุฑ ุจุงูุญูุฉ ูู ุงูุฑุบุจุฉ ูู ูุชุงุจุฉ ุดูุก ุฎุงุต ุจูู.  ุงูุฐู ุจุฏุฃุชู ุนูู ุงูููุฑ. <br><br>  ุฃูู ุดูุก ูุงู ุนูู ูุนูู ูู ุนุฑุถ ุงููุต ุนูู ุงูุดุงุดุฉ. <br><br>  ุจูุถู ูุฌูุฏ ุฎุทูุท ูุถููุฉ ุ ูุฅู ุฅุฎุฑุงุฌ ุงููุต ุนูู ุงูุดุงุดุฉ ุณูู ููุบุงูุฉ.  ููุง ุฑุณู ุชุฌุฑูุจู ูู ุงูููุชุจุฉ (ูุน ุชุนูููุงุชู): <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู helloworld.ino</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> void setup() { Serial.begin(1000000); //   ,    1000000  GD.begin(0); //  ,   . } void loop() { GD.ClearColorRGB(0x103000); //    . GD.Clear(); //   (   ) GD.cmd_text( //  ,  GD.w / 2, //     2 GD.h / 2, //     2 31, //   OPT_CENTER, // ,         . </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Hello world"</span></span></span><span class="hljs-meta">); //   GD.swap(); //         (   ). }</span></span></code> </pre>  ููุชูุฌุฉ ูุฐูู ุ ูุญุตู ููุง ุนูู ูุต ุฌููู: <br><img src="https://habrastorage.org/webt/em/jq/xi/emjqxiynb2wjckhowwkvltpta9c.png" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ุจุนุฏ ุฐูู ุ ูุงู ูู ุงูุถุฑูุฑู ุฑุณู ุงูุฃุดูุงู ุงูููุฏุณูุฉ ุ ุนูู ุณุจูู ุงููุซุงู: ุงูุฎุทูุท. <br>  ูุฑุณู ุงูุฎุทูุท ุ ูุฌุจ ุงุณุชุฎุฏุงู Begin (LINES) ุฃู Begin (LINE_STRIP). <br>  ุชูุถู LINES ุฅูู ูู ุฒูุฌ ูู ุงูููู ุ ุจูููุง ููุถู LINE_STRIP ุฅูู ุฌููุน ุงูููู ูุนูุง. <br><br>  ุณุฃูุฏู ุงูุฑุณู ุงูุชูุถูุญู ุงูุชุงูู ูู ุงูููุชุจุฉ (ูุน ุชุนูููุงุชู): <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฎุทูุท ุฑุณู .ino</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> void setup() { Serial.begin(1000000); //   ,    1000000 . GD.begin(); //  ,   . } static void zigzag(int x) { GD.Vertex2ii(x - 10, 10); //     GD.Vertex2ii(x + 10, 60); //     () GD.Vertex2ii(x - 10, 110); GD.Vertex2ii(x + 10, 160); GD.Vertex2ii(x - 10, 210); GD.Vertex2ii(x + 10, 260); //     () } void loop() { GD.Clear(); //   (    - 0000000) GD.Begin(LINES); //     zigzag(140); //   zigzag   -   GD.Begin(LINE_STRIP); //     zigzag(240); GD.LineWidth(16 * 10); //        1/16 , .. 1/16 * 16 * 10 = 10  GD.Begin(LINE_STRIP); zigzag(340); GD.swap(); //         (   ). }</span></span></code> </pre> <br>  ุงูุฎุทูุท ุนูู ุงูุดุงุดุฉ: <br><br><img src="https://habrastorage.org/webt/zr/bp/_w/zrbp_ws6saudfdakxpv8tf2tvwc.png" alt="ุงูุตูุฑุฉ"></div></div><br>  ูู ุงูุฑุณู ุงูุฎุทู ุ ุฏุนูุง ููุชูู ุฅูู ุฑุณู ุงููุณุชุทููุงุช. <br><br>  ูุฑุณู ูุณุชุทููุงุช ุ ุงุณุชุฎุฏู Begin (RECTS) ูุงุถุจุท ุงูุฒูุงูุง ุงูููุงุจูุฉ ูููุณุชุทูู.  ูุง ููู ุชุฑุชูุจ ุงูุฒูุงูุง.  ูุชู ุฑุณู ุงููุณุชุทููุงุช ุจุฒูุงูุง ูุณุชุฏูุฑุฉ ุ ุจุงุณุชุฎุฏุงู ุนุฑุถ ุงูุฎุท ุงูุญุงูู ููุตู ูุทุฑ ุงูุฒุงููุฉ.  ุชูุชุฏ ุงูุฒูุงูุง ุงููุณุชุฏูุฑุฉ ุฅูู ูุง ูุฑุงุก ุญุฏูุฏ ุงููุณุชุทูู ุ ูุฐุง ูุฅู ุฒูุงุฏุฉ ูุตู ูุทุฑ ุงูุฒุงููุฉ ุชุคุฏู ุฅูู ุฒูุงุฏุฉ ูู ุนุฏุฏ ูุญุฏุงุช ุงูุจูุณู.  ูุฑุณู ูุฐุง ุงููุซุงู ูุณุชุทูู 420 ร 20 ุซูุงุซ ูุฑุงุช ูุน ุฒูุงุฏุฉ ูุตู ูุทุฑ ุงูุฒุงููุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู ูุณุชุทููุงุช .ino</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> void setup() { Serial.begin(1000000); //   ,    1000000 . GD.begin(); //  ,   . } void loop() { GD.Clear(); //   (    - 0000000) GD.Begin(RECTS); //     GD.Vertex2ii(30, 30); //       GD.Vertex2ii(450, 50); //       GD.LineWidth(16 * 10); //         1/16 , .. 1/16 * 16 * 10 = 10  GD.Vertex2ii(30, 120); //       GD.Vertex2ii(450, 140); //       GD.LineWidth(16 * 20); //         1/16 , .. 1/16 * 16 * 20 = 20  GD.Vertex2ii(30, 220); //       GD.Vertex2ii(450, 230); //       GD.swap(); //         (   ) }</span></span></code> </pre> <br>  ุงููุชูุฌุฉ: <br><img src="https://habrastorage.org/webt/vg/qi/mc/vgqimcuhwc-jsiwqizewxsxlgf8.png" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ุฏุนูุง ููุชูู ุฅูู ุฑุณู ุฏุงุฆุฑุฉ - ุฃุณุงุณ ุฃุฒุฑุงุฑ ุงูููุณ ุงููุณุชูุจููุฉ.  ุฏุนูุง ูุนูุฏ ุฅูู ุงููุซุงู ุงูุฃูู ูุน ุงููุต ูุฅุถุงูุฉ ุจุถุนุฉ ุฃุณุทุฑ ููุญููุฉ (). <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู ุจุฑุณู ุฏูุงุฆุฑ ููููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> void setup() { Serial.begin(1000000); //   ,    1000000  GD.begin(0); //  ,   . } void loop() { GD.ClearColorRGB(0x103000); //    . GD.Clear(); //   (   ) GD.cmd_text( //  ,  GD.w / 2, //     2 GD.h / 2, //     2 31, //   OPT_CENTER, // ,          </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Hello world"</span></span></span><span class="hljs-meta">); //   GD.PointSize(16 * 30); //    ()    1/16 , .. 1/16 * 16 * 30 = 30  GD.Begin(POINTS); //     () GD.ColorRGB(0xff8000); //   orange GD.Vertex2ii(220, 100); //   ()   220,100 GD.ColorRGB(0x0080ff); //   teal GD.Vertex2ii(260, 170); //   ()   260,170 GD.swap(); //         (   ) }</span></span></code> </pre> <br>  ุงููุชูุฌุฉ: <br><br><img src="https://habrastorage.org/webt/gw/rz/ja/gwrzjak3bp7sqsywwd89rwj0-5w.png"><br></div></div><br>  ููุนูู ุจุฃุฒุฑุงุฑ ุงูููุณ ุ ูู ุงูุถุฑูุฑู ุชูุธูู ูุนุงูุฌุฉ ุงูุถุบุท ุนูู ุดุงุดุฉ ุงูููุณ.  ูุชู ุฐูู ุนูู ุงููุญู ุงูุชุงูู.  ุณุฃุดุฑุญ ุงููุจุฏุฃ ุจุฅูุฌุงุฒ.  ูู ุจูุณู (ููุทุฉ) ุนูู ุงูุดุงุดุฉ ูู ููู.  ูุญุชูู ุฃูุถูุง ุนูู ูููุฉ ุนูุงูุฉ ุบูุฑ ูุฑุฆูุฉ ุ ูุงูุชู ูููู ุชุนููููุง ุฅูู ููุทุฉ (ุฃู ูุงุฆู ุจุฃูููู ูุซู ุงูุฎุท ุ ุงูุฏุงุฆุฑุฉ ุ ุงููุณุชุทูู ุ ุฅูุฎ) ูุชุณุชุฎุฏู ุฃูุถูุง ูููุดู ุนู ุงูููุณุงุช ููุฐุง ุงููุงุฆู.  ููุธูุฑ ุงูุฑุณู ุงูุชุงูู ูุซุงูุงู ุนูู ุชุนููู ูููุฉ ุงูุนูุงูุฉ ููุฏูุงุฆุฑ ุงูููููุฉ ุนูู 100 ู 101. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู ุดุงุดุฉ ุงูููุณ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> void setup() { Serial.begin(1000000); //   ,    1000000  GD.begin(0); //  ,   . } void loop() { GD.ClearColorRGB(0x103000); //    . GD.Clear(); //   (   ) GD.cmd_text( //  ,  GD.w / 2, //     2 GD.h / 2, //     2 31, //   OPT_CENTER, // ,          </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Hello world"</span></span></span><span class="hljs-meta">); //   GD.PointSize(16 * 30); //    ()    1/16 , .. 1/16 * 16 * 30 = 30  GD.Begin(POINTS); //     () GD.ColorRGB(0xff8000); //   orange GD.Tag(100); //       () GD.Vertex2ii(220, 100); //   ()   220,100 GD.ColorRGB(0x0080ff); //   teal GD.Tag(101); //       () GD.Vertex2ii(260, 170); //   ()   260,170 GD.swap(); //         (   ) GD.get_inputs(); //     if(GD.inputs.tag &gt; 0) //      Serial.println(GD.inputs.tag); //       โโ  }</span></span></code> </pre> <br>  ุงูุขู ุ ุนูุฏูุง ููุชุดู ุงููุธุงู ููุณุฉ ุนูู ุฃู ุฏุงุฆุฑุฉ ุ ูุฅูู ูุจูุบ ุนู ุฑูุฒ ุงููุณุชุดุนุฑ ุงูุฎุงุต ุจู ุ ูู ูุฐู ุงูุญุงูุฉ 100 ุฃู 101. ุนูุฏ ุงูููุฑ ุนูู ูุงุฆูุงุช (ุฏูุงุฆุฑ ููููุฉ) ุ ุณูุชู ุนุฑุถ ููู ุงูุนูุงูุงุช ุงูููุงุจูุฉ ูููุงุฆูุงุช ุงููุถุบูุทุฉ ุนูู ุงูุดุงุดุฉ ูู ูุงูุฐุฉ ุงููููุฐ ุงูุชุณูุณูู: <br><br><img src="https://habrastorage.org/webt/lh/q3/u_/lhq3u_jn8obrrcjy_kwke8m6gdw.png"><br></div></div><br>  ููุฏ ูุฏูุช ุฃูุซูุฉ ุนูู ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ ุ ูุงูุชู ูุงู ูู ุงููููู ุจุงููุนู ุงุณุชุฎุฏุงููุง ุจุฃูุงู ูู ุฅูุดุงุก ุงููุนุจุฉ.  ุจุงูุทุจุน ุ ูู ูุชู ุฅูุดุงุก ุงููุนุจุฉ ูู ุงูุตูุฑ ุ ูููู ุงูุฃุณุงุณ ูุงู ุฑูุฒูุง ุฌุงูุฒูุง ููุนูู ุชู ุชููููู (ูุน ุงูุญูุงุธ ุนูู ุงูุฑุณููุงุช) ุ ูุฐูู ูุงูุช ุงููุณุฎุฉ ุงูุฃุตููุฉ ูู ุงููุนุจุฉ ุชุดุจู ุฅูู ุญุฏ ูุจูุฑ ุงููุณุฎุฉ ุงูุฃุตููุฉ. <br><br>  ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงููุนุจุฉ: <br><br><img src="https://habrastorage.org/webt/3f/no/xg/3fnoxgf8auqkkotrp1lgtjqk6kq.jpeg"><br><br>  ุจุนุฏ ุงููุนุจ ูุนุฏุฉ ุฃูุงู ุ ุฃุฑุฏุช ุชุบููุฑ ุดูุก ูุง ูู ุงูุชุตููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุถุงูุฉ ุจุนุถ ุงูุฃุดูุงุก ุงูุฃุฎุฑู ุบูุฑ ุงูุนุงุฏูุฉ ุจุฏูุงู ูู ุงูุฎูููุฉ ุงูุจูุถุงุก.  ุซู ุชุฐูุฑุช ุฃุญุฏ ุงูุฃูุซูุฉ ูู ุงูููุชุจุฉ ุ ุญูุซ ุชููุถ ุงูุณูุงุก ุงููุฑุตุนุฉ ุจุงููุฌูู ูู ุงูุฎูููุฉ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชุญุฉ ุฑุณู slotgag.ino</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta">#include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;EEPROM.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;GD2.h&gt;</span></span></span><span class="hljs-meta"> #include </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"slotgag_assets.h"</span></span></span><span class="hljs-meta"> //      void setup() { Serial.begin(1000000); GD.begin(); LOAD_ASSETS(); //     } void loop() { GD.Clear(); //   ( ,     ) GD.ColorMask(1, 1, 1, 0); //        R, G, B,   GD.Begin(BITMAPS); //      GD.BitmapHandle(BACKGROUND_HANDLE); //   - GD.BitmapSize(NEAREST, REPEAT, REPEAT, 480, 272); //        GD.Vertex2ii(0, 0, BACKGROUND_HANDLE); //      0,0 GD.ColorMask(1, 1, 1, 1); GD.ColorRGB(0xa0a0a0); GD.Vertex2ii(240 - GAMEDUINO_WIDTH / 2, 136 - GAMEDUINO_HEIGHT / 2, GAMEDUINO_HANDLE); static int x = 0; GD.LineWidth(20 * 16); GD.BlendFunc(DST_ALPHA, ONE); GD.Begin(LINES); GD.Vertex2ii(x, 0); GD.Vertex2ii(x + 100, 272); x = (x + 20) % 480; //' }a GD.swap(); }</span></span></code> </pre> <br>  ุนุฑุถ: <br><br><img src="https://habrastorage.org/webt/x-/es/y4/x-esy4aropwlyqh0bvl75jf1qpg.png"><br><br>  ูู ุฃุฌู ุนุฏู ุงูุฎูุถ ูู ุงูุจุฑุงุฑู ุ ูู ุฃุนูู ุนูู ุงูููุฏ ุจุฃูููู ุ ููููู ุนููุช ููุท ุนูู ุงูุฃุณุทุฑ ุงูุถุฑูุฑูุฉ ูู ุงูููุฏ ุงูุชู ููุช ุจูุณุฎูุง ูู ุฑุณู ุนููู. </div></div><br>  ูุฅุถุงูุฉ ุตูุฑุฉ ููุณูุงุก ุงููุฑุตุนุฉ ุจุงููุฌูู ูุฎูููุฉ ุ ูุงู ุนูู ุงูููุงู ุจูุง ููู: ุฃููุงู ุ ูู ุจุชุบููุฑ ุงูููู ุงูุฃุณูุฏ ููุฎุทูุท ูุงููุต ุฅูู ุงูููู ุงูุฃุจูุถ (ุจุญูุซ ุชููู ูุฑุฆูุฉ ุนูู ุฎูููุฉ ุณูุฏุงุก) ุ ุงูุชุจ ุงูููู slotgag.gd2 ุฅูู ุจุทุงูุฉ SD ุงูุตุบูุฑุฉ ุ ุงูุชู ุชุฎุฒู ุงูุตูุฑุฉ ุฃุถู slotgag_assets.h ุฅูู ูุฌูุฏ ุงููุดุฑูุน ูุฃุถู 8 ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุถุฑูุฑูุฉ ุฅูู ุงูุฑุณู ุงูุชุฎุทูุทู. <br><br>  ููุชูุฌุฉ ูุฐูู ุ ุญุตูุช ุงููุนุจุฉ ุนูู ูุฐุง ุงููููุฐุฌ: <br><br><img src="https://habrastorage.org/webt/2t/hh/qo/2thhqo_apc-nidsqbcuudt98bwe.jpeg"><br><br>  ูุจุทุจูุนุฉ ุงูุญุงู ุ ูุง ูู ููุน ุงููุนุจุฉ ุจุฏูู ุชุตููู ุณูููุ  ูุจูู ุฅุถุงูุฉ ุงููุคุซุฑุงุช ุงูุตูุชูุฉ ุ ุฎุงุตุฉ ุฃููุง ุชูุฏู ุจุฌูุฏุฉ ุนุงููุฉ ููุชููุนุฉ. <br><br>  ูุญุชูู Gameduino 2/3 ุนูู ูุธุงููู ููุตูุช.  ุงูุฃูู - ูุฑูุจ - ูููู ุฃู ูููุฏ ูุฌููุนุฉ ูู ุงูุฃุตูุงุช ุงูุซุงุจุชุฉ ูุงูููุชุงุช ุงูููุณูููุฉ.  ูุนุชุจุฑ ุงููุฒุฌ ูููุฏูุง ูุฅุถุงูุฉ ุงูุตูุช ุจุณุฑุนุฉ ุฅูู ุงููุดุฑูุน ุ ูููู ูุธุฑูุง ูุฃู ูุฌููุนุฉ ุงูุฃุตูุงุช ุซุงุจุชุฉ ุ ููู ููุณุช ูุฑูุฉ ููุบุงูุฉ.  ูุงูุซุงูู ูู ุงุณุชูุณุงุฎ ุงูุนููุฉ.  ูุนูุฏ ุฅูุชุงุฌ ุงูุตูุช ุงููุฃุฎูุฐ ูู ุงูุฐุงูุฑุฉ ุงูุฑุฆูุณูุฉ ุจุชูุณููุงุช ูุฎุชููุฉ.  ูุฐุง ุงููุธุงู ุฃูุซุฑ ูุฑููุฉ ุ ูููู ุณุชุญุชุงุฌ ุฅูู ุฅุนุฏุงุฏ ูุชุญููู ุนููุงุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br><br>  ููุฏ ุงุณุชุฎุฏูุช ูุฑูุจ ุตูุช ุซุงุจุช.  ูููุฑ ุฌูุงุฒ ุงููุฒุฌ ุนุฏุฉ ุฃุตูุงุช "ูุฑุน" ูุตูุฑุฉ ุ ุชุณุชุฎุฏู ุจุดูู ุฃุณุงุณู ูู ูุงุฌูุงุช ุงููุณุชุฎุฏู.  ูุชุดุบูู ุตูุช ุ ูุฌุจ ุงุณุชุฏุนุงุก GD.play () ุจูุนุฑู ุตูุช.  ูุงุฆูุฉ ูุงููุฉ ุจุงูุฃุตูุงุช ุงููุชุงุญุฉ: <br><br>  ุงููุฑ <br>  ุงูุชุจุฏูู <br>  ุฌูุจูู <br>  ุงูุดู <br>  ูุงููุงุช <br>  Kickdrum <br>  ููุณููู ุงูุจูุจ <br>  ููุงู <br>  ุดุงู <br><br><h3 style=";text-align:right;direction:rtl">  ุงูููุฎุต </h3><br>  ููุงูุช ุงููุชูุฌุฉ ูุซู ูุฐุง ุงูุฑุณู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑุณู ุฃุนูุฏุฉ .ino</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs lua">#include &lt;SPI.h&gt; #include &lt;GD2.h&gt; #include &lt;avr/eeprom.h&gt; #include <span class="hljs-string"><span class="hljs-string">"slotgag_assets.h"</span></span> #define TAG_BUTTON_LEFT <span class="hljs-number"><span class="hljs-number">201</span></span> #define TAG_BUTTON_RIGHT <span class="hljs-number"><span class="hljs-number">202</span></span> #define TAG_BUTTON_ROT <span class="hljs-number"><span class="hljs-number">203</span></span> #define TAG_BUTTON_DROP <span class="hljs-number"><span class="hljs-number">204</span></span> #define X_BUTTON_LEFT <span class="hljs-number"><span class="hljs-number">50</span></span> #define Y_BUTTON_LEFT <span class="hljs-number"><span class="hljs-number">222</span></span> #define X_BUTTON_RIGHT <span class="hljs-number"><span class="hljs-number">430</span></span> #define Y_BUTTON_RIGHT <span class="hljs-number"><span class="hljs-number">222</span></span> #define X_BUTTON_ROT <span class="hljs-number"><span class="hljs-number">430</span></span> #define Y_BUTTON_ROT <span class="hljs-number"><span class="hljs-number">50</span></span> #define X_BUTTON_DROP <span class="hljs-number"><span class="hljs-number">50</span></span> #define Y_BUTTON_DROP <span class="hljs-number"><span class="hljs-number">50</span></span> // Color definitions #define BLACK <span class="hljs-number"><span class="hljs-number">0x000000</span></span> #define RED <span class="hljs-number"><span class="hljs-number">0xFF0000</span></span> #define GREEN <span class="hljs-number"><span class="hljs-number">0x00FF00</span></span> #define BLUE <span class="hljs-number"><span class="hljs-number">0x0000FF</span></span> #define YELLOW <span class="hljs-number"><span class="hljs-number">0xFFFF00</span></span> #define MAGENTA <span class="hljs-number"><span class="hljs-number">0xFF00FF</span></span> #define CYAN <span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span> #define WHITE <span class="hljs-number"><span class="hljs-number">0xFFFFFF</span></span> #define DISPLAY_MAX_X <span class="hljs-number"><span class="hljs-number">480</span></span> #define DISPLAY_MAX_Y <span class="hljs-number"><span class="hljs-number">272</span></span> #define MaxX <span class="hljs-number"><span class="hljs-number">8</span></span> #define MaxY <span class="hljs-number"><span class="hljs-number">17</span></span> #define SmeX <span class="hljs-number"><span class="hljs-number">3</span></span> #define SmeY <span class="hljs-number"><span class="hljs-number">3</span></span> #define razmer <span class="hljs-number"><span class="hljs-number">18</span></span> #define NumCol <span class="hljs-number"><span class="hljs-number">6</span></span> #define MaxLevel <span class="hljs-number"><span class="hljs-number">8</span></span> #define NextLevel <span class="hljs-number"><span class="hljs-number">80</span></span> #define DISP_LEFT ((DISPLAY_MAX_X - MaxX*razmer)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span>) #define DISP_RIGHT ((DISPLAY_MAX_X + MaxX*razmer)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) #define DISP_TOP ((DISPLAY_MAX_Y - (MaxY<span class="hljs-number"><span class="hljs-number">-4</span></span>)*razmer)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span>) #define DISP_BOT ((DISPLAY_MAX_Y + (MaxY<span class="hljs-number"><span class="hljs-number">-4</span></span>)*razmer)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) uint8_t MasSt[MaxX][MaxY], MasTmp[MaxX][MaxY], fignext[<span class="hljs-number"><span class="hljs-number">3</span></span>]; uint8_t Level=<span class="hljs-number"><span class="hljs-number">1</span></span>, dx, dy, tr, flfirst=<span class="hljs-number"><span class="hljs-number">1</span></span>; uint32_t MasCol[]={WHITE, BLACK, RED, BLUE, GREEN, YELLOW, MAGENTA, CYAN}; unsigned long Counter, Score=<span class="hljs-number"><span class="hljs-number">0</span></span>, TScore=<span class="hljs-number"><span class="hljs-number">0</span></span>, Record=<span class="hljs-number"><span class="hljs-number">0</span></span>, myrecord; uint16_t tempspeed = <span class="hljs-number"><span class="hljs-number">1000</span></span>; bool fl, Demo=<span class="hljs-literal"><span class="hljs-literal">true</span></span>, Arbeiten=<span class="hljs-literal"><span class="hljs-literal">false</span></span>, FlZ=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; int8_t x,y; int8_t mmm [<span class="hljs-number"><span class="hljs-number">4</span></span>][<span class="hljs-number"><span class="hljs-number">2</span></span>]={{<span class="hljs-number"><span class="hljs-number">-1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">-1</span></span>},{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}}; uint16_t MasSpeed[MaxLevel]={<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">450</span></span>,<span class="hljs-number"><span class="hljs-number">400</span></span>,<span class="hljs-number"><span class="hljs-number">350</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">250</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>}; uint8_t state_game = <span class="hljs-number"><span class="hljs-number">0</span></span>; unsigned long time_count; <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> prevkey; uint32_t btn_color = <span class="hljs-number"><span class="hljs-number">0xff0000</span></span>; /****************************************************************************************************************/ void setup(void) { Serial.begin(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); Serial.println(<span class="hljs-string"><span class="hljs-string">"Columns"</span></span>); GD.begin(); LOAD_ASSETS(); GD.BitmapHandle(BACKGROUND_HANDLE); GD.BitmapSize(NEAREST, REPEAT, REPEAT, <span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-number"><span class="hljs-number">272</span></span>); randomSeed(analogRead(<span class="hljs-number"><span class="hljs-number">5</span></span>)); myrecord = eeprom_read_byte((unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *)<span class="hljs-number"><span class="hljs-number">1</span></span>); time_count = millis() + <span class="hljs-number"><span class="hljs-number">1000</span></span>; } static struct { <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> t, note; } pacman[] = { { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">71</span></span> }, { <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">83</span></span> }, { <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> }, { <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span> }, { <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">83</span></span> }, { <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> }, { <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span> }, { <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">72</span></span> }, { <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">84</span></span> }, { <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> }, { <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-number"><span class="hljs-number">76</span></span> }, { <span class="hljs-number"><span class="hljs-number">24</span></span>, <span class="hljs-number"><span class="hljs-number">84</span></span> }, { <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> }, { <span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">76</span></span> }, { <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">71</span></span> }, { <span class="hljs-number"><span class="hljs-number">34</span></span>, <span class="hljs-number"><span class="hljs-number">83</span></span> }, { <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> }, { <span class="hljs-number"><span class="hljs-number">38</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span> }, { <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">83</span></span> }, { <span class="hljs-number"><span class="hljs-number">41</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> }, { <span class="hljs-number"><span class="hljs-number">44</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span> }, { <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span> }, { <span class="hljs-number"><span class="hljs-number">49</span></span>, <span class="hljs-number"><span class="hljs-number">76</span></span> }, { <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">77</span></span> }, { <span class="hljs-number"><span class="hljs-number">52</span></span>, <span class="hljs-number"><span class="hljs-number">77</span></span> }, { <span class="hljs-number"><span class="hljs-number">53</span></span>, <span class="hljs-number"><span class="hljs-number">78</span></span> }, { <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> }, { <span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> }, { <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span> }, { <span class="hljs-number"><span class="hljs-number">58</span></span>, <span class="hljs-number"><span class="hljs-number">81</span></span> }, { <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">83</span></span> }, { <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span> } }; //================================================== void loop(void) { GD.get_inputs(); <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> key = GD.inputs.tag; int8_t VAL = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prevkey == <span class="hljs-number"><span class="hljs-number">0x00</span></span>) { switch (key) { case TAG_BUTTON_LEFT: VAL = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case TAG_BUTTON_RIGHT: VAL = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case TAG_BUTTON_ROT: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!FlZ) { GD.play(HIHAT); <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> aa=MasSt[x][y]; MasSt[x][y]=MasSt[x][y+<span class="hljs-number"><span class="hljs-number">2</span></span>]; MasSt[x][y+<span class="hljs-number"><span class="hljs-number">2</span></span>]=MasSt[x][y+<span class="hljs-number"><span class="hljs-number">1</span></span>]; MasSt[x][y+<span class="hljs-number"><span class="hljs-number">1</span></span>]=aa; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case TAG_BUTTON_DROP: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Arbeiten) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!FlZ) { tempspeed=<span class="hljs-number"><span class="hljs-number">50</span></span>; GD.play(NOTCH); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { GD.play(CLICK); Demo=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; NewGame(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } prevkey = key; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (VAL!=<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; fig_shift(VAL) &amp;&amp; !FlZ) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>;i++) { MasSt[x+VAL][y+i]=MasSt[x][y+i]; MasSt[x][y+i]=<span class="hljs-number"><span class="hljs-number">0</span></span>; } x=x+VAL; } ProcGame(); ViewStacan(); GD.swap(); } //================================================== // redraw one square void ViewQuad(<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i,<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> j,<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> mycolor) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; uint16_t wy=DISP_TOP + SmeY+(j<span class="hljs-number"><span class="hljs-number">-3</span></span>)*razmer-j; uint16_t wx=DISP_LEFT + SmeX+i*razmer-i; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mycolor!=<span class="hljs-number"><span class="hljs-number">0</span></span>) { GD.LineWidth(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.ColorRGB(WHITE); GD.Begin(LINE_STRIP); GD.Vertex2ii(wx,wy); GD.Vertex2ii(wx + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>,wy); GD.Vertex2ii(wx + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>,wy + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>); GD.Vertex2ii(wx,wy + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>); GD.Vertex2ii(wx,wy); GD.Begin(RECTS); GD.ColorRGB(MasCol[mycolor]); GD.Vertex2ii(wx+<span class="hljs-number"><span class="hljs-number">1</span></span>, wy+<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.Vertex2ii(wx+<span class="hljs-number"><span class="hljs-number">1</span></span> + razmer<span class="hljs-number"><span class="hljs-number">-2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>, wy+<span class="hljs-number"><span class="hljs-number">1</span></span> + razmer<span class="hljs-number"><span class="hljs-number">-2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { } } //================================================== void ViewStacan(void) { <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> myStr2[<span class="hljs-number"><span class="hljs-number">5</span></span>]; // Draw background fone GD.Clear(); GD.ColorMask(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); GD.Begin(BITMAPS); GD.BitmapHandle(BACKGROUND_HANDLE); GD.BitmapSize(NEAREST, REPEAT, REPEAT, <span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-number"><span class="hljs-number">272</span></span>); GD.Vertex2ii(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, BACKGROUND_HANDLE); // Print text GD.ColorRGB(WHITE); GD.cmd_text(DISP_LEFT - <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"LEVEL"</span></span>); GD.cmd_text(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"NEXT"</span></span>); GD.cmd_text(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"SCORE"</span></span>); GD.cmd_text(DISP_LEFT - <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"TOP"</span></span>); // Print digit Score GD.ColorRGB(RED); sprintf(myStr2,<span class="hljs-string"><span class="hljs-string">"%05d"</span></span>,Score ); GD.cmd_text(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">130</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, myStr2); // Print digit Top sprintf(myStr2,<span class="hljs-string"><span class="hljs-string">"%05d"</span></span>,myrecord ); GD.cmd_text(DISP_LEFT - <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">130</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>, OPT_CENTER, myStr2); // Print digit Level sprintf(myStr2,<span class="hljs-string"><span class="hljs-string">"%02d"</span></span>,Level ); GD.cmd_text(DISP_LEFT - <span class="hljs-number"><span class="hljs-number">30</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">31</span></span>, OPT_CENTER, myStr2); // Draw color squares <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) ViewQuad(i,j,MasSt[i][j]); // Draw Next Figure <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>;i++) { GD.ColorRGB(WHITE); GD.Begin(LINE_STRIP); GD.LineWidth(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.Vertex2ii(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">15</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">20</span></span> + razmer*ii); GD.Vertex2ii(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">15</span></span> + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">20</span></span> + razmer*ii); GD.Vertex2ii(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">15</span></span> + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">20</span></span> + razmer*ii + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>); GD.Vertex2ii(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">15</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">20</span></span> + razmer*ii + razmer<span class="hljs-number"><span class="hljs-number">-1</span></span>); GD.Vertex2ii(DISP_RIGHT + <span class="hljs-number"><span class="hljs-number">15</span></span>, DISP_TOP + <span class="hljs-number"><span class="hljs-number">20</span></span> + razmer*ii); GD.Begin(RECTS); GD.ColorRGB(MasCol[fignext[i]]); GD.Vertex2ii(DISP_RIGHT+<span class="hljs-number"><span class="hljs-number">15</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_TOP+<span class="hljs-number"><span class="hljs-number">20</span></span>+razmer*i-i+<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.Vertex2ii(DISP_RIGHT+<span class="hljs-number"><span class="hljs-number">15</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>+razmer<span class="hljs-number"><span class="hljs-number">-2</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, DISP_TOP+<span class="hljs-number"><span class="hljs-number">20</span></span>+razmer*i-i+<span class="hljs-number"><span class="hljs-number">1</span></span>+razmer<span class="hljs-number"><span class="hljs-number">-2</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>); } // Draw <span class="hljs-string"><span class="hljs-string">"stacan"</span></span> GD.ColorRGB(WHITE); GD.Begin(LINE_STRIP); GD.LineWidth(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_TOP); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_BOT); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">1</span></span> + razmer*MaxX+<span class="hljs-number"><span class="hljs-number">5</span></span>-MaxX - <span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_BOT); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">1</span></span> + razmer*MaxX+<span class="hljs-number"><span class="hljs-number">5</span></span>-MaxX - <span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_TOP); // Draw <span class="hljs-number"><span class="hljs-number">9</span></span> vertical <span class="hljs-built_in"><span class="hljs-built_in">lines</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;<span class="hljs-number"><span class="hljs-number">9</span></span>; i++) { GD.ColorRGB(WHITE); GD.Begin(LINE_STRIP); GD.LineWidth(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">1</span></span>); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">3</span></span> + razmer*ii, DISP_TOP); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">3</span></span> + razmer*ii, DISP_BOT - <span class="hljs-number"><span class="hljs-number">2</span></span>); } // Draw <span class="hljs-number"><span class="hljs-number">1</span></span> horizontal line GD.ColorRGB(WHITE); GD.Begin(LINE_STRIP); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">3</span></span>, DISP_BOT - <span class="hljs-number"><span class="hljs-number">2</span></span>); GD.Vertex2ii(DISP_LEFT + <span class="hljs-number"><span class="hljs-number">3</span></span> + razmer*MaxX-MaxX - <span class="hljs-number"><span class="hljs-number">1</span></span>, DISP_BOT - <span class="hljs-number"><span class="hljs-number">2</span></span>); // Draw <span class="hljs-string"><span class="hljs-string">"Game Over"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Demo &amp;&amp; !Arbeiten) { GD.Begin(RECTS); GD.ColorRGB(WHITE); GD.Vertex2ii((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">60</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">60</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.ColorRGB(BLACK); GD.Vertex2ii((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">58</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">38</span></span>); GD.Vertex2ii((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">58</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">38</span></span>); GD.ColorRGB(RED); GD.cmd_text((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"GAME"</span></span>); GD.cmd_text((DISP_LEFT + DISP_RIGHT)/<span class="hljs-number"><span class="hljs-number">2</span></span>, (DISP_TOP + DISP_BOT)/<span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, OPT_CENTER, <span class="hljs-string"><span class="hljs-string">"OVER"</span></span>); } // Draw Buttons GD.Begin(POINTS); GD.PointSize(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">50</span></span>); // Set size of buttons (<span class="hljs-number"><span class="hljs-number">50</span></span> pix) GD.ColorRGB(btn_color); // Set fone color of buttons GD.Tag(TAG_BUTTON_LEFT); // Set TAG <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> BUTTON_LEFT GD.Vertex2ii( X_BUTTON_LEFT, Y_BUTTON_LEFT); // Place BUTTON1 GD.Tag(TAG_BUTTON_RIGHT); // Set TAG <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> BUTTON_RIGHT GD.Vertex2ii(X_BUTTON_RIGHT, Y_BUTTON_RIGHT); // Place BUTTON2 GD.Tag(TAG_BUTTON_ROT); // Set TAG <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> BUTTON_ROT GD.Vertex2ii( X_BUTTON_ROT, Y_BUTTON_ROT); // Place BUTTON3 GD.Tag(TAG_BUTTON_DROP); // Set TAG <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> BUTTON_DROP GD.Vertex2ii(X_BUTTON_DROP, Y_BUTTON_DROP); // Place BUTTON4 // Draw figures <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> buttons circles GD.Tag(<span class="hljs-number"><span class="hljs-number">255</span></span>); GD.ColorRGB(<span class="hljs-number"><span class="hljs-number">0xffff00</span></span>); GD.LineWidth(<span class="hljs-number"><span class="hljs-number">16</span></span>*<span class="hljs-number"><span class="hljs-number">2</span></span>); GD.Begin(LINE_STRIP); GD.Vertex2ii(X_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_LEFT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_LEFT, Y_BUTTON_LEFT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_LEFT, Y_BUTTON_LEFT - <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_LEFT - <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_LEFT); GD.Vertex2ii(X_BUTTON_LEFT, Y_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_LEFT, Y_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_LEFT + <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_LEFT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Begin(LINE_STRIP); GD.Vertex2ii(X_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT, Y_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT, Y_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT + <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_RIGHT); GD.Vertex2ii(X_BUTTON_RIGHT, Y_BUTTON_RIGHT + <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT, Y_BUTTON_RIGHT + <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_RIGHT + <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Vertex2ii(X_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_RIGHT - <span class="hljs-number"><span class="hljs-number">20</span></span>); GD.Begin(LINE_STRIP); GD.Vertex2ii(X_BUTTON_ROT - <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_ROT); GD.Vertex2ii(X_BUTTON_ROT, Y_BUTTON_ROT - <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_ROT + <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_ROT); GD.Vertex2ii(X_BUTTON_ROT, Y_BUTTON_ROT + <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_ROT - <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_ROT); GD.Begin(LINE_STRIP); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Arbeiten) { GD.Vertex2ii(X_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>); GD.Vertex2ii(X_BUTTON_DROP + <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>); GD.Vertex2ii(X_BUTTON_DROP, Y_BUTTON_DROP + <span class="hljs-number"><span class="hljs-number">30</span></span>); GD.Vertex2ii(X_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">40</span></span>, Y_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { GD.Vertex2ii(X_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>, Y_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_DROP + <span class="hljs-number"><span class="hljs-number">30</span></span>, Y_BUTTON_DROP); GD.Vertex2ii(X_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>, Y_BUTTON_DROP + <span class="hljs-number"><span class="hljs-number">40</span></span>); GD.Vertex2ii(X_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">10</span></span>, Y_BUTTON_DROP - <span class="hljs-number"><span class="hljs-number">40</span></span>); } } //================================================== void ClearMas(<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> MasStx[MaxX][MaxY]) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) MasStx[i][j]=<span class="hljs-number"><span class="hljs-number">0</span></span>; } //================================================== void Sosed(int i,int j,int dx,int dy, <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> mode) { int nx=i+dx; int ny=j+dy; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nx&gt;=<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; ny&gt;=<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; nx&lt;MaxX &amp;&amp; ny&lt;MaxY &amp;&amp; MasSt[nx][ny]==MasSt[i][j]) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mode==<span class="hljs-number"><span class="hljs-number">1</span></span>) MasTmp[i][j]++; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mode==<span class="hljs-number"><span class="hljs-number">2</span></span> &amp;&amp; (MasTmp[nx][ny]&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> || MasTmp[i][j]&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> )) { MasTmp[nx][ny]=<span class="hljs-number"><span class="hljs-number">3</span></span>; MasTmp[i][j]=<span class="hljs-number"><span class="hljs-number">3</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mode==<span class="hljs-number"><span class="hljs-number">3</span></span> &amp;&amp; MasTmp[nx][ny]==<span class="hljs-number"><span class="hljs-number">3</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasTmp[i][j]!=<span class="hljs-number"><span class="hljs-number">3</span></span>) { MasTmp[i][j]=<span class="hljs-number"><span class="hljs-number">3</span></span>; fl=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } } } } //================================================== void Sos(int i,int j, <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> mode) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> k=<span class="hljs-number"><span class="hljs-number">0</span></span>;k&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;k++) Sosed(i,j,mmm[k][<span class="hljs-number"><span class="hljs-number">0</span></span>],mmm[k][<span class="hljs-number"><span class="hljs-number">1</span></span>],mode); } //================================================== // <span class="hljs-built_in"><span class="hljs-built_in">create</span></span> <span class="hljs-built_in"><span class="hljs-built_in">next</span></span> figure void GetNext(void) { x=<span class="hljs-number"><span class="hljs-number">3</span></span>; y=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>;i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Demo) MasSt[x][i]=fignext[i]; fignext[i]=<span class="hljs-built_in"><span class="hljs-built_in">random</span></span>(NumCol)+<span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Demo) { Counter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Counter==NextLevel) { Counter=<span class="hljs-number"><span class="hljs-number">0</span></span>; Level++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Level&gt;MaxLevel) Level=MaxLevel; } tempspeed=MasSpeed[Level<span class="hljs-number"><span class="hljs-number">-1</span></span>]; } } //================================================== // <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> onecolor elements bool FindFull(void) { <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i,j,k; bool res; res=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> k=<span class="hljs-number"><span class="hljs-number">2</span></span>;k&lt;<span class="hljs-number"><span class="hljs-number">8</span></span>;k++) { // by every color ClearMas(MasTmp); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasSt[i][j]==k) Sos(i,j,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasTmp[i][j]&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) Sos(i,j,<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { fl=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasTmp[i][j]&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) Sos(i,j,<span class="hljs-number"><span class="hljs-number">3</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (fl); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasTmp[i][j]==<span class="hljs-number"><span class="hljs-number">3</span></span>) { MasSt[i][j]=<span class="hljs-number"><span class="hljs-number">1</span></span>; TScore++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(res); } //================================================ // move figure down bool fig_drop(int dy) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dy&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; !FlZ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (y+dy+<span class="hljs-number"><span class="hljs-number">2</span></span>&gt;MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span> || MasSt[x+dx][y+dy+<span class="hljs-number"><span class="hljs-number">2</span></span>]&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (y&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>) { gameover(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (y+dy+dy+<span class="hljs-number"><span class="hljs-number">2</span></span>&gt;MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span> || MasSt[x+dx][y+dy+dy+<span class="hljs-number"><span class="hljs-number">2</span></span>]&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) { GD.play(COWBELL); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>;i++) MasSt[x][y+<span class="hljs-number"><span class="hljs-number">2</span></span>-i+dy]=MasSt[x][y+<span class="hljs-number"><span class="hljs-number">2</span></span>-i]; MasSt[x][y]=<span class="hljs-number"><span class="hljs-number">0</span></span>; y=y+dy; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } //================================================ // move figure left/right (shift) bool fig_shift(int dx) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x+dx&lt;<span class="hljs-number"><span class="hljs-number">0</span></span> || x+dx&gt;MaxX<span class="hljs-number"><span class="hljs-number">-1</span></span>) { GD.play(COWBELL); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dx!=<span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MasSt[x+dx][y+dy+<span class="hljs-number"><span class="hljs-number">2</span></span>]==<span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x+dx+dx&lt;<span class="hljs-number"><span class="hljs-number">0</span></span> || x+dx+dx&gt;MaxX<span class="hljs-number"><span class="hljs-number">-1</span></span>) GD.play(COWBELL); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> GD.play(CHACK); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { GD.play(COWBELL); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } //================================================== // State-machine void ProcGame(void) { <span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i,j,k; bool res = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (time_count &lt; millis()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Arbeiten) time_count = millis() + tempspeed; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> time_count = millis() + <span class="hljs-number"><span class="hljs-number">1000</span></span>; switch (state_game) { // Demo case <span class="hljs-number"><span class="hljs-number">0</span></span>: Score=<span class="hljs-number"><span class="hljs-number">0</span></span>; GetNext(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> j=<span class="hljs-number"><span class="hljs-number">3</span></span>;j&lt;MaxY;j++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) MasSt[i][j]=<span class="hljs-built_in"><span class="hljs-built_in">random</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>)+<span class="hljs-number"><span class="hljs-number">2</span></span>; state_game = <span class="hljs-number"><span class="hljs-number">1</span></span>; TScore=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-number"><span class="hljs-number">1</span></span>: FindFull(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TScore&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) { FlZ=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; time_count = millis() + <span class="hljs-number"><span class="hljs-number">500</span></span>; } state_game = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;MaxY;j++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span>-j]==<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (k=<span class="hljs-number"><span class="hljs-number">0</span></span>;k&lt;MaxY<span class="hljs-number"><span class="hljs-number">-2</span></span>-j;k++) MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span>-kj] = MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-2</span></span>-kj]; res=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(res) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TScore&gt;<span class="hljs-number"><span class="hljs-number">7</span></span>) Score=Score+TScore+(TScore<span class="hljs-number"><span class="hljs-number">-8</span></span>)*<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Score=Score+TScore; state_game = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { state_game = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; // Arbeiten case <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fig_drop(<span class="hljs-number"><span class="hljs-number">1</span></span>)) { tempspeed=MasSpeed[Level<span class="hljs-number"><span class="hljs-number">-1</span></span>]; TScore=<span class="hljs-number"><span class="hljs-number">0</span></span>; FindFull(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TScore&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) { GD.play(KICKDRUM); FlZ=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; state_game = <span class="hljs-number"><span class="hljs-number">4</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { FlZ=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; GetNext(); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;MaxY;j++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;MaxX;i++) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span>-j]==<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (k=<span class="hljs-number"><span class="hljs-number">0</span></span>;k&lt;MaxY<span class="hljs-number"><span class="hljs-number">-2</span></span>-j;k++) MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-1</span></span>-kj] = MasSt[i][MaxY<span class="hljs-number"><span class="hljs-number">-2</span></span>-kj]; res=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(res) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TScore&gt;<span class="hljs-number"><span class="hljs-number">7</span></span>) Score=Score+TScore+(TScore<span class="hljs-number"><span class="hljs-number">-8</span></span>)*<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Score=Score+TScore; state_game = <span class="hljs-number"><span class="hljs-number">5</span></span>; FlZ=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; GD.play(CLACK); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { state_game = <span class="hljs-number"><span class="hljs-number">3</span></span>; FlZ=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; time_count = millis() + <span class="hljs-number"><span class="hljs-number">100</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case <span class="hljs-number"><span class="hljs-number">5</span></span>: state_game = <span class="hljs-number"><span class="hljs-number">3</span></span>; FlZ=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; default: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } //================================================ // start new game void NewGame() { Score = <span class="hljs-number"><span class="hljs-number">0</span></span>; FlZ = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; ClearMas(MasSt); Arbeiten = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; GetNext(); Counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; Level = <span class="hljs-number"><span class="hljs-number">1</span></span>; tempspeed = MasSpeed[<span class="hljs-number"><span class="hljs-number">0</span></span>]; Record = myrecord; state_game = <span class="hljs-number"><span class="hljs-number">3</span></span>; } //================================================ // draw <span class="hljs-string"><span class="hljs-string">"GAME OVER"</span></span> void gameover() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Arbeiten==<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { GD.play(SWITCH); Arbeiten=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Score&gt;myrecord) { myrecord=Score; eeprom_write_byte((unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *) <span class="hljs-number"><span class="hljs-number">1</span></span>, myrecord); } } }</code> </pre> </div></div><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">slotgag_assets.h</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LOAD_ASSETS() GD.safeload(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"slotgag.gd2"</span></span></span><span class="hljs-meta">); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BACKGROUND_HANDLE 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BACKGROUND_WIDTH 256 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BACKGROUND_HEIGHT 256 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BACKGROUND_CELLS 1 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GAMEDUINO_HANDLE 1 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GAMEDUINO_WIDTH 395 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GAMEDUINO_HEIGHT 113 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GAMEDUINO_CELLS 1 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> ASSETS_END 220342UL static const shape_t BACKGROUND_SHAPE = {0, 256, 256, 0}; static const shape_t GAMEDUINO_SHAPE = {1, 395, 113, 0};</span></span></code> </pre></div></div><br>  ุฃุนุชูุฏ ุฃููู ุฃูููุช ูููุฉ ุฅูุดุงุก ุฑุณู ุนููู ุงูุฃูู ููุฐุง ุงูููุชุฏู.  ุขูู ุฃู ูููู ููุงู ุดุฎุต ูุงุญุฏ ุนูู ุงูุฃูู ููุชู ุจูุฑุงุกุฉ ูุตุชู.  ููุฏ ูุชุนูููุงุช ููุถุน ุชุฑุญูุจ.  ูุง ุชุชููู ุงูุฎุทุท ุ ูุชุชูุฏู ุ ูุจุงูุทุจุน ุ ุชุชุจุงุฏู ุงูุฎุจุฑุฉ ูุงููุนุฑูุฉ. <br><br>  ูุฅุซุจุงุช ุนูู ุงูููุญุฉ ุ ุฃูุดุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูู</a> ูุน ุงูุตูุช (ุชูุจูู! ุตูุช ุนุงูู!). <br>  ุดูุฑุง ููู ุนูู ุงูุชูุงููู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar423577/">https://habr.com/ru/post/ar423577/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar423567/index.html">ูุฑุฉ ุฃุฎุฑู ุญูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</a></li>
<li><a href="../ar423569/index.html">ูุญู ุจุจุณุงุทุฉ ูุญุฏุฏ ูุบุฉ ุงูุฑุณุงุฆู</a></li>
<li><a href="../ar423571/index.html">ุฌููุน ุฃููุงุน ุงูุฃุดูุงุก ูู MetaPost</a></li>
<li><a href="../ar423573/index.html">ุงูุชุฒุงูู ุฃุณุทูุฑุฉ</a></li>
<li><a href="../ar423575/index.html">ูุนุงููุฑ ุงูุชุตููู ูู ุงูุฅููุชุฑูููุงุช ุงูุฏูููุฉ: ุฃูู ุชูุฌุฏ 7 ูุงูููุชุฑ ูู ุชูููุฉ 7 ูุงูููุชุฑุ</a></li>
<li><a href="../ar423579/index.html">ุงูุฎุฏูุงุช ุงูุณุญุงุจูุฉ ูู WebGLุ ูุง ุดูุฑูุง</a></li>
<li><a href="../ar423583/index.html">ุงูุญุตูู ุนูู ุงูุญูุงุฏุซ ูู ุฎูุงู NotificationIRP ูู OSS</a></li>
<li><a href="../ar423585/index.html">ูุจุงุดุฑ: CI / CD ุนูู iOS ู Android</a></li>
<li><a href="../ar423587/index.html">ุจูุงุก ูุฌููุนุฉ InnoDB ูู ุงูุฎููุฉ 5.7 ุนูู ุณูุชูุณ 7</a></li>
<li><a href="../ar423589/index.html">ููู ุงุฎุชุฑูุง TTS ุนูู ุณุจูู ุงููุซุงู ุงูุฃุตูุงุช ูู ุงููุงููุณ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>