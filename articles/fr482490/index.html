<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüîß üïû ü§úüèæ Qu'est-ce que MISRA et comment le faire cuire üëî ü§πüèæ üë©‚Äçüë©‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Peut-√™tre que chaque d√©veloppeur de programmes pour microcontr√¥leurs a probablement entendu au moins une fois parler de normes de codage sp√©ciales con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qu'est-ce que MISRA et comment le faire cuire</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/482490/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf9/5bc/021/cf95bc0219fd9e34f03d5cfc316f7e71.png" alt="Figure 1"></div><br><br>  Peut-√™tre que chaque d√©veloppeur de programmes pour microcontr√¥leurs a probablement entendu au moins une fois parler de normes de codage sp√©ciales con√ßues pour aider √† augmenter la s√©curit√© et la portabilit√© de votre code.  L'une de ces normes est MISRA.  Dans cet article, nous examinerons plus en d√©tail ce qu'est ce standard, quelle est sa philosophie et comment l'utiliser dans vos projets. <br><a name="habracut"></a><br>  Beaucoup de nos lecteurs ont entendu dire que PVS-Studio prend en charge la classification de leurs alertes selon la norme MISRA.  PVS-Studio <a href="https://www.viva64.com/ru/misra/">couvre actuellement</a> plus de 100 r√®gles MISRA C: 2012 et MISRA C ++: 2008. <br><br>  Cet article vise √† tuer trois oiseaux avec une pierre: <br><br><ol><li>  Dites ce qu'est MISRA pour ceux qui ne sont pas familiers avec cette norme; </li><li>  Rappeler au monde int√©gr√© ce dont nous sommes capables; </li><li>  Pour aider √† approfondir le cours des affaires pour les nouveaux employ√©s qui d√©velopperont √©galement notre analyseur MISRA; </li></ol><br>  J'esp√®re que je pourrai le rendre int√©ressant.  Commen√ßons donc! <br><br><h2>  L'histoire de MISRA </h2><br>  L'histoire de MISRA a commenc√© il y a longtemps.  Puis, au d√©but des ann√©es 90, le programme du gouvernement britannique sous le nom indicatif "Safe IT" a allou√© des fonds √† divers projets, d'une mani√®re ou d'une autre li√©s √† la s√©curit√© des syst√®mes √©lectroniques.  Le projet MISRA (Motor Industry Software Reliability Association) lui-m√™me a √©t√© fond√© pour cr√©er un guide pour le d√©veloppement de logiciels pour les microcontr√¥leurs dans les v√©hicules terrestres - dans les voitures en g√©n√©ral. <br><br>  Ayant re√ßu un financement de l'√âtat, l'√©quipe MISRA s'est mise au travail et, en novembre 1994, a publi√© son premier guide: " <a href="https://pdfs.semanticscholar.org/f7ab/6319c0ab1fb546e406a3f65463cd0e5d2f0c.pdf">Lignes directrices pour le d√©veloppement de logiciels bas√©s sur les v√©hicules</a> ".  Ce guide n'est pas encore li√© √† un langage sp√©cifique, mais je dois l'avouer: le travail √©tait impressionnant et concernait probablement tous les aspects imaginables du d√©veloppement de logiciels embarqu√©s.  Soit dit en passant, les d√©veloppeurs de ce guide ont r√©cemment <a href="https://www.misra.org.uk/LinkClick.aspx%3Ffileticket%3DpHorDgiWiPs%253D%26amp%3Btabid%3D59">c√©l√©br√© le 25e anniversaire d'</a> une date aussi importante pour eux. <br><br>  Lorsque le financement de l'√âtat a pris fin, les membres de la MISRA ont d√©cid√© de continuer √† travailler ensemble sur une base informelle - cela continue √† ce jour.  En fait, MISRA (en tant qu'organisation) est une communaut√© d'intervenants de diverses industries de fabrication d'automobiles et d'avions.  Maintenant, ces parties sont: <br><br><ul><li>  Voitures √† moteur Bentley </li><li>  Ford Motor Company </li><li> Jaguar land rover </li><li>  Syst√®mes diesel Delphi </li><li>  HORIBA MIRA </li><li>  Protean √©lectrique </li><li>  Services d'ing√©nierie Visteon </li><li>  L'universit√© de leeds </li><li>  Ricardo uk </li><li>  ZF TRW </li></ul><br>  Des acteurs du march√© tr√®s forts, non?  Sans surprise, leur premi√®re norme li√©e au langage, MISRA C, est devenue largement accept√©e par les d√©veloppeurs embarqu√©s critiques.  MISRA C ++ est apparu un peu plus tard.  Progressivement, les versions des normes ont √©t√© mises √† jour et affin√©es pour couvrir les nouvelles fonctionnalit√©s des langues.  Au moment d'√©crire ces lignes, les versions actuelles sont MISRA C: 2012 et MISRA C ++: 2008. <br><br><h2>  Philosophie et exemples de r√®gles </h2><br>  Les caract√©ristiques les plus distinctives de MISRA sont son incroyable attention aux d√©tails et son extr√™me minutie pour assurer la s√©curit√©.  Les auteurs ont non seulement rassembl√© en un seul endroit tous les ¬´trous¬ª C et C ++ qui leur venaient √† l'esprit (comme, par exemple, les auteurs du CERT) - ils ont soigneusement √©labor√© les normes internationales de ces langages et not√© toutes les fa√ßons imaginables et inconcevables de faire des erreurs.  Et puis ils ont pris et ajout√© les r√®gles sur la lisibilit√© du code d'en haut - c'est pour rendre plus difficile l'introduction d'une nouvelle erreur dans du code d√©j√† propre. <br><br>  Pour comprendre l'√©tendue du s√©rieux, consid√©rez quelques r√®gles tir√©es de la norme. <br><br>  D'une part, il existe de nombreuses bonnes r√®gles appropri√©es qui doivent toujours √™tre suivies √† tout moment, quel que soit le but de votre projet.  Pour la plupart, ils sont con√ßus pour √©liminer les comportements ind√©finis / non sp√©cifi√©s / d√©pendants de l'impl√©mentation.  Par exemple: <br><br><ul><li>  N'utilisez pas la valeur d'une variable non initialis√©e </li><li>  N'utilisez pas le pointeur FILE apr√®s avoir ferm√© le flux </li><li>  Toutes les fonctions non nulles doivent renvoyer une valeur. </li><li>  Le compteur de boucle ne doit pas avoir de type virgule flottante </li><li>  ... etc. </li></ul><br>  D'un autre c√¥t√©, il y a des r√®gles dont les b√©n√©fices se trouvent √† la surface, mais qui (du point de vue des projets ordinaires) ne sont pas si coupables de briser: <br><br><ul><li>  N'utilisez pas goto et longjmp </li><li>  Chaque commutateur doit se terminer par d√©faut </li><li>  N'√©crivez pas de code inaccessible </li><li>  N'utilisez pas de fonctions variables </li><li>  N'utilisez pas l'arithm√©tique d'adresse (sauf <i>[]</i> et <i>++</i> ) </li><li>  ... </li></ul><br>  De telles r√®gles ne sont pas non plus mauvaises et, combin√©es aux pr√©c√©dentes, elles donnent d√©j√† une augmentation tangible de la s√©curit√©, mais est-ce suffisant pour des syst√®mes embarqu√©s hautement responsables?  Ils sont utilis√©s non seulement dans l'industrie automobile, mais aussi dans la fabrication d'a√©ronefs, l'a√©rospatiale, l'arm√©e et le m√©dical. <br><br>  Nous ne voulons pas, en raison d'une erreur logicielle, de certains <a href="https://www.viva64.com/ru/b/0438/">patients irradi√©s par une</a> machine √† rayons X <a href="https://www.viva64.com/ru/b/0438/">avec une dose de 20 000 rad</a> , donc les r√®gles habituelles ¬´quotidiennes¬ª ne suffisent plus.  L'enjeu est la vie humaine et d'√©normes sommes d'argent, et la minutie doit √™tre incluse.  Ici, le reste des r√®gles MISRA entrent en sc√®ne: <br><ul><li>  Le suffixe ¬´L¬ª dans le litt√©ral doit toujours √™tre en majuscules (le petit ¬´l¬ª peut √™tre confondu avec l'unit√©) </li><li>  N'utilisez pas l'op√©rateur virgule (cela augmente les chances de faire une erreur) </li><li>  Ne pas utiliser de r√©cursivit√© (une petite pile de microcontr√¥leurs peut facilement d√©border) </li><li>  Les corps des <i>instructions</i> <i>if</i> , <i>else</i> , <i>for</i> , <i>while</i> , <i>do</i> doivent √™tre plac√©s entre accolades (vous pouvez potentiellement faire une erreur si le <a href="https://www.viva64.com/ru/w/v2507/">code n'est pas align√© correctement</a> ) </li><li>  N'utilisez pas de m√©moire dynamique (car il est possible de l'allouer sans succ√®s √† partir du tas, en particulier dans les microcontr√¥leurs) </li><li>  ... et beaucoup, beaucoup de ces r√®gles. </li></ul><br>  Souvent, les gens qui rencontrent MISRA pensent que la philosophie de la norme est "d'interdire ceci et d'interdire cela".  En fait, c'est le cas, mais seulement en partie. <br><br>  Oui, la norme a de nombreuses r√®gles similaires, mais son but n'est pas d'interdire tout ce qui est possible, mais d'√©num√©rer des moyens tous ou tous de violer d'une mani√®re ou d'une autre la s√©curit√© du code.  Pour la plupart des r√®gles, vous choisissez de les suivre ou non.  Je vais l'expliquer plus en d√©tail. <br><br>  Dans MISRA C, les r√®gles se r√©partissent en trois cat√©gories principales: obligatoires, obligatoires et consultatives.  Obligatoire - ce sont des r√®gles qui ne doivent √™tre viol√©es sous aucun pr√©texte.  Par exemple, cette section inclut la r√®gle ¬´ne pas utiliser la valeur d'une variable non initialis√©e¬ª.  Les r√®gles requises sont moins strictes: elles permettent la possibilit√© d'un rejet, mais uniquement si ces √©carts sont soigneusement document√©s et justifi√©s par √©crit.  Les r√®gles restantes sont incluses dans la cat√©gorie Avis - ce sont des r√®gles qui ne doivent pas √™tre suivies. <br><br>  MISRA C ++ est un peu diff√©rent: la cat√©gorie Obligatoire y manque et la plupart des r√®gles appartiennent √† la cat√©gorie Obligatoire.  Par cons√©quent, en fait, vous avez le droit de violer n'importe quelle r√®gle - n'oubliez pas de documenter les √©carts.  Il existe √©galement une cat√©gorie Document - ce sont des r√®gles obligatoires (les √©carts ne sont pas autoris√©s), qui sont associ√©s √† des pratiques courantes comme ¬´Chaque utilisation de l'assembleur doit √™tre document√©e¬ª ou ¬´la biblioth√®que de plug-ins doit √™tre conforme √† MISRA C ++¬ª. <br><br><h2>  Qu'y a-t-il d'autre </h2><br>  En fait, MISRA ne consiste pas seulement en un ensemble de r√®gles.  En fait, c'est un manuel pour √©crire du code s√ªr pour les microcontr√¥leurs, et donc il est plein de toutes sortes d'utilit√©s.  Examinons-les en d√©tail. <br><br>  Tout d'abord, la norme contient une description assez approfondie du contexte: pour ce qui a √©t√© cr√©√©, pourquoi C ou C ++ a √©t√© choisi, les avantages et les inconv√©nients de ces langages. <br><br>  Nous connaissons bien les vertus de ces langues.  Oui, et sur les lacunes, en g√©n√©ral aussi :) Quelle est la complexit√© √©lev√©e, la sp√©cification incompl√®te de la norme et la syntaxe qui permettent de faire une erreur tr√®s facilement, puis de rechercher une erreur pendant longtemps.  Par exemple, vous pourriez accidentellement √©crire ceci: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; ++i); { do_something(); }</code> </pre> <br>  Pourtant, il y a une chance qu'une personne ne remarque pas un <a href="https://www.viva64.com/ru/w/v529/">point</a> - <a href="https://www.viva64.com/ru/w/v529/">virgule suppl√©mentaire</a> , non?  Vous pouvez √©galement √©crire <a href="https://www.viva64.com/ru/w/v559/">comme ceci</a> : <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpendTime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> doWantToKillPeople)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (doWantToKillPeople = <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { StartNuclearWar(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { PlayComputerGames(); } }</code> </pre> <br>  Il est bon que le <a href="https://www.viva64.com/ru/w/v2507/">premier</a> et le <a href="https://www.viva64.com/ru/w/v2561/">deuxi√®me</a> cas soient facilement pris en compte par les r√®gles MISRA (le premier est MISRA C: 13.4 / MISRA C ++: 6.2.1, le second est MISRA C: 13.4 / MISRA C ++: 6.2.1). <br><br>  En plus de d√©crire les probl√®mes, la norme contient un grand nombre de conseils sur ce que vous devez savoir avant de commencer: sur la fa√ßon de configurer le processus de d√©veloppement MISRA, sur l'utilisation d'analyseurs statiques pour v√©rifier la conformit√© du code, sur quels documents vous devez conserver et comment remplir, et ainsi de suite et ainsi de suite. <br><br>  √Ä la fin, il y a des applications qui contiennent: une liste courte et un tableau r√©capitulatif des r√®gles, une petite liste de vuln√©rabilit√©s C / C ++, un exemple de documentation des √©carts par rapport √† la r√®gle, ainsi que plusieurs listes de contr√¥le con√ßues pour vous aider √† ne pas vous perdre dans toute cette bureaucratie. <br><br>  Comme vous pouvez le voir, MISRA n'est pas seulement un ensemble de r√®gles, mais presque toute une infrastructure pour √©crire du code s√©curis√© pour les syst√®mes embarqu√©s. <br><br><h2>  Utilisez dans vos projets </h2><br>  Imaginez une situation: vous allez √©crire un programme pour un syst√®me embarqu√© tr√®s n√©cessaire et responsable.  Ou vous avez d√©j√† un programme, mais vous devez le ¬´transf√©rer¬ª √† MISRA.  Comment v√©rifier la conformit√© de votre code avec la norme?  Devez-vous vraiment le faire manuellement? <br><br>  La v√©rification manuelle du code n'est pas une t√¢che facile et potentiellement impossible.  Non seulement chaque r√©viseur devrait examiner attentivement chaque ligne de code, mais il devrait √©galement conna√Ætre la norme par c≈ìur.  Horreur! <br><br>  Par cons√©quent, les d√©veloppeurs MISRA eux-m√™mes sont invit√©s √† utiliser l'analyse statique pour tester votre code.  En effet, en fait, l'analyse statique est un processus de r√©vision de code automatis√©.  Vous ex√©cutez simplement l'analyseur sur votre programme et en quelques minutes, vous recevrez un rapport sur les violations potentielles de la norme.  Ce dont vous avez besoin, non?  Il vous suffit de consulter le journal et de corriger la r√©ponse. <br><br>  Question suivante: √† quel moment commencez-vous √† utiliser MISRA?  La r√©ponse est simple: le plus t√¥t sera le mieux.  Id√©alement, avant m√™me de commencer √† √©crire du code, car MISRA suppose que vous suivez la norme tout au long de la vie de votre code. <br><br>  Bien s√ªr, il n'est pas toujours possible d'√©crire MISRA d√®s le d√©but.  Par exemple, il arrive souvent qu'un projet ait d√©j√† √©t√© partiellement ou enti√®rement mis en ≈ìuvre, mais le client souhaitait que le projet soit conforme √† la norme.  Dans ce cas, vous devrez effectuer une refactorisation approfondie du code existant. <br><br>  C'est l√† que l'√©cueil appara√Æt.  Je dirais m√™me qu'un rocher sous-marin appara√Æt.  Que se passe-t-il si vous prenez un analyseur statique et v√©rifiez la conformit√© du projet ¬´ordinaire¬ª avec la norme MISRA?  Spoiler: vous pouvez avoir peur. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/44e/2b7/7d9/44e2b77d90cd9804e1ec0a5a38f166a2.png" alt="Figure 5"></div><br><br>  Bien s√ªr, l'exemple de l'image est exag√©r√©.  Ici, vous pouvez voir le r√©sultat de la v√©rification d'un projet suffisamment grand, qui en fait n'a jamais √©t√© pens√© pour travailler sur des microcontr√¥leurs.  N√©anmoins, lors de la v√©rification d'un code existant, vous pouvez tr√®s bien voir une, deux, cinq, voire dix mille op√©rations d'analyseur.  Et dans tout ce tas, de nouvelles op√©rations seront perdues qui ont √©t√© √©mises dans le code qui vient d'√™tre √©crit ou modifi√©. <br><br>  Que faire √† ce sujet?  Est-il vraiment n√©cessaire de mettre toutes les choses de c√¥t√© et de s'asseoir pour r√©parer tous les anciens positifs? <br><br>  Nous savons que la premi√®re fois qu'un projet est v√©rifi√©, beaucoup de points positifs apparaissent assez souvent et nous avons d√©velopp√© une solution qui vous aidera √† b√©n√©ficier imm√©diatement de l'analyseur, sans arr√™ter le travail.  Cette solution est appel√©e une "base de suppression". <br><br>  Suppress-bases est le m√©canisme PVS-Studio qui permet de supprimer massivement les messages de l'analyseur.  Si vous v√©rifiez le projet pour la premi√®re fois et y d√©couvrez plusieurs milliers de positifs, il vous suffit de les ajouter √† la base de suppression et la prochaine fois que vous ex√©cuterez l'analyseur, il ne vous enverra aucun avertissement. <br><br>  Ainsi, vous pouvez continuer √† √©crire et √† modifier le code de la mani√®re habituelle, et en m√™me temps, vous ne verrez des avertissements que sur les erreurs qui viennent d'√™tre introduites dans le projet.  Dans le m√™me temps, vous profiterez au maximum de l'analyseur ici et maintenant, sans √™tre distrait par le ratissage d'anciennes erreurs.  Quelques clics - et l'analyseur est impl√©ment√©!  Vous pouvez lire des instructions d√©taill√©es √† ce sujet <a href="https://www.viva64.com/ru/m/0032/">ici</a> . <br><br>  Vous pourriez probablement vous demander: ¬´Attendez, que faire des r√©ponses cach√©es?¬ª La r√©ponse est assez simple: ne les oubliez pas et corrigez-les tranquillement.  Vous pouvez, par exemple, placer la base de suppression dans le syst√®me de contr√¥le de version et autoriser uniquement les validations qui n'augmentent pas le nombre d'op√©rations.  Ainsi, petit √† petit, votre "rocher sous-marin" est t√¥t ou tard vid√© et il n'en restera plus aucune trace. <br><br>  D'accord, l'analyseur est impl√©ment√© et maintenant nous sommes pr√™ts √† continuer.  Que faire ensuite?  Affaires claires - pour travailler avec le code.  Mais que faut-il pour pouvoir d√©clarer la conformit√© √† la norme?  Comment prouver que votre projet est conforme √† MISRA? <br><br>  Le fait est qu'il n'y a pas de ¬´certificat¬ª sp√©cial que votre code est conforme √† MISRA.  Comme le stipule la norme elle-m√™me, le suivi du code de conformit√© doit √™tre effectu√© par deux parties: le client du logiciel et le fournisseur du logiciel.  Le fournisseur d√©veloppe un logiciel conforme √† la norme et remplit les documents n√©cessaires.  Le client, pour sa part, doit s'assurer de la v√©racit√© des donn√©es de ces documents. <br><br>  Si vous √™tes vous-m√™me √† la fois client et d√©veloppeur de votre propre logiciel, la responsabilit√© de la conformit√© √† la norme incombera uniquement √† vos √©paules :) <br><br>  En g√©n√©ral, pour prouver la conformit√© de votre projet, vous aurez besoin de documents de preuve.  La liste des documents que les d√©veloppeurs de projets doivent pr√©parer peut varier, mais MISRA en propose certains comme r√©f√©rence.  Examinons cet ensemble plus en d√©tail. <br><br>  Pour revendiquer la conformit√© √† la norme, vous aurez besoin de quelques √©l√©ments: <br><br><ul><li>  En fait, un projet dont le code est conforme aux r√®gles obligatoires et obligatoires </li><li>  Guider le plan d'application </li><li>  Documentation de tous les avertissements du compilateur et de l'analyseur statique </li><li>  Documentation de tous les √©carts par rapport aux r√®gles requises </li><li>  R√©sum√© de la conformit√© aux lignes directrices </li></ul><br>  Le premier est un plan de conformit√©.  C'est votre tableau le plus important, et ce sera lui qui enverra l'examinateur √† tous les autres documents.  Dans sa premi√®re colonne est une liste des r√®gles MISRA, dans le reste, il est not√© si des √©carts par rapport √† ces r√®gles ont √©t√© identifi√©s.  Ce tableau ressemble √† ceci: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/341/643/231/3416432314b7841327af4659356de62c.png" alt="Figure 8"></div><br>  La norme recommande de construire votre projet avec plusieurs compilateurs, ainsi que d'utiliser deux analyseurs statiques ou plus pour v√©rifier la conformit√© de votre code.  Si le compilateur ou l'analyseur g√©n√®re une sorte d'avertissement associ√© √† la r√®gle, vous devez le noter dans le tableau et le document: pourquoi l'op√©ration ne peut pas √™tre √©limin√©e, si elle est fausse, etc. <br><br>  Si l'une des r√®gles ne peut pas √™tre v√©rifi√©e avec un analyseur statique, vous devez effectuer la proc√©dure de r√©vision du code.  Cette proc√©dure doit √©galement √™tre document√©e, apr√®s quoi un lien vers cette documentation doit √™tre ajout√© au plan de conformit√©. <br><br>  Si le compilateur ou l'analyseur statique s'av√®re correct, ou si des violations de code r√©elles ont √©t√© d√©tect√©es lors du processus de r√©vision du code, vous devez soit les corriger, soit les documenter.  Encore une fois, en attachant un lien vers la documentation du tableau. <br><br>  Ainsi, un plan de conformit√© est un document par lequel vous pouvez trouver de la documentation pour tout √©cart identifi√© dans votre code. <br><br>  Maintenant, un peu sur la documentation des √©carts par rapport aux r√®gles.  Comme je l'ai d√©j√† mentionn√©, une telle documentation n'est n√©cessaire que pour les r√®gles requises, car vous ne pouvez pas violer les r√®gles de niveau obligatoire et les r√®gles consultatives ne peuvent pas √™tre suivies sans aucune documentation. <br><br>  Si vous d√©cidez de d√©roger √† la r√®gle, la documentation doit contenir: <br><br><ul><li>  Num√©ro de r√®gle bris√© </li><li>  Emplacement exact de l'√©cart </li><li>  La validit√© de l'√©cart </li><li>  Preuve que l'√©cart ne compromet pas la s√©curit√© </li><li>  Implications potentielles pour les utilisateurs </li></ul><br>  Comme vous pouvez le voir, cette approche de la documentation vous fait s√©rieusement penser si la violation en vaut la peine.  Cela est fait sp√©cifiquement pour violer les r√®gles requises n'√©tait pas bon :) <br><br>  Maintenant sur le r√©sum√© de la conformit√© aux r√®gles.  Ce document est peut-√™tre le plus simple √† remplir: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f3d/77e/e05/f3d77ee05c3639efdc6df19706d60450.png" alt="Figure 2"></div><br>  La colonne centrale est remplie avant de commencer √† travailler avec le code, et la colonne la plus √† droite se trouve une fois que votre projet est pr√™t. <br><br>  Il est tout √† fait raisonnable de poser une question: pourquoi avez-vous besoin de sp√©cifier des cat√©gories de r√®gles, si elles sont d√©j√† sp√©cifi√©es dans la norme elle-m√™me?  Le fait est que la norme permet "d'augmenter" la r√®gle dans une cat√©gorie plus stricte.  Par exemple, un client peut vous demander de d√©placer une r√®gle de conseil dans une cat√©gorie.  Une telle ¬´augmentation¬ª doit √™tre effectu√©e avant de travailler avec le code, et un r√©sum√© du respect des r√®gles permet de le constater clairement. <br><br>  Avec la derni√®re colonne, tout est simple: il suffit de noter si la r√®gle est utilis√©e, et si oui, y a-t-il des √©carts par rapport √† elle. <br><br>  Cette table enti√®re est n√©cessaire pour que vous puissiez voir rapidement les priorit√©s des r√®gles et si le code les correspond.  Si vous √™tes soudain int√©ress√© √† conna√Ætre la raison exacte du rejet, vous pouvez toujours vous r√©f√©rer au plan de conformit√© et trouver la documentation dont vous avez besoin. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b4/c84/ca8/5b4c84ca873358cbb9b5dd6349330da4.png" alt="Figure 3"></div><br>  Vous avez donc soigneusement √©crit le code en suivant les r√®gles MISRA.  Vous avez √©labor√© un plan de conformit√© et document√© tout ce que vous pouviez documenter, et rempli un r√©sum√© de conformit√©.  Si cela est vrai, vous avez re√ßu du code tr√®s propre, tr√®s lisible et tr√®s fiable que vous d√©testez maintenant :) <br><br>  O√π vivra votre programme maintenant?  Dans un appareil d'IRM?  Dans un capteur de vitesse ordinaire ou dans le syst√®me de pilote automatique d'un satellite spatial?  Oui, vous √™tes pass√© par un chemin bureaucratique s√©rieux, mais ce sont des bagatelles.  Comment ne pas √™tre m√©ticuleux lorsque de vraies vies humaines sont en jeu? <br><br>  Si vous avez r√©ussi et r√©ussi √† atteindre une fin victorieuse, je vous f√©licite sinc√®rement: vous √©crivez du code s√©curis√© de haute qualit√©.  Je vous remercie! <br><br><h2>  L'avenir des normes </h2><br>  Enfin, je veux parler un peu de l'avenir des normes. <br><br>  MISRA vit et se d√©veloppe actuellement.  Par exemple, au d√©but de 2019, ¬´The MISRA C: 2012 Third Edition (First Revision)¬ª a √©t√© annonc√© - une norme mise √† jour et compl√©t√©e par de nouvelles r√®gles 2012.  Dans le m√™me temps, ils ont annonc√© la sortie prochaine de MISRA C: 2012 Amendement 2 - C11 Core, la norme 2012, dans laquelle des r√®gles seront ajout√©es qui couvriront les versions du langage C pour 2011 et 2018 pour la premi√®re fois. <br><br>  Ne reste pas immobile et MISRA C ++.  Comme vous le savez, la derni√®re norme MISRA C ++ remonte √† 2008, donc la version la plus ancienne du langage qu'elle couvre est C ++ 03.  Pour cette raison, il existe une autre norme, similaire √† MISRA, et elle s'appelle AUTOSAR C ++.  Il a √©t√© initialement con√ßu comme une continuation de MISRA C ++ et √©tait destin√© √† couvrir les versions ult√©rieures du langage.  Contrairement √† son cerveau, AUTOSAR C ++ est mis √† jour deux fois par an et prend actuellement en charge C ++ 14.  Une nouvelle mise √† niveau est pr√©vue vers C ++ 17, puis C ++ 20, etc. <br><br>  Qu'est-ce que j'ai commenc√© avec une autre norme?  Le fait est qu'il y a un peu moins d'un an, les deux organisations ont annonc√© l'unification de leurs normes en une seule.  D√©sormais, MISRA C ++ et AUTOSAR C ++ deviendront un standard unique, et maintenant ils seront d√©velopp√©s ensemble.  Je pense que c'est une excellente nouvelle pour les d√©veloppeurs √©crivant sous des microcontr√¥leurs C ++, et pas moins une excellente nouvelle pour les d√©veloppeurs d'analyseurs statiques.  Il y a encore beaucoup de travail pr√©f√©r√© √† venir!  :) <br><br><h2>  Conclusion </h2><br>  Aujourd'hui, nous avons beaucoup appris sur MISRA: nous avons lu l'histoire de son apparition, √©tudi√© des exemples de r√®gles et la philosophie de la norme, examin√© tout ce dont vous avez besoin pour utiliser MISRA dans vos projets, et m√™me regard√© un peu vers l'avenir.  J'esp√®re que vous comprenez mieux maintenant ce qu'est MISRA et comment le cuisiner! <br><br>  Selon la vieille tradition, je laisserai ici un lien vers notre analyseur statique PVS-Studio.  Il est capable de trouver non seulement des √©carts par rapport √† la norme MISRA, mais √©galement une <a href="https://www.viva64.com/ru/examples/">vaste gamme d'</a> erreurs et de vuln√©rabilit√©s.  Si vous souhaitez essayer PVS-Studio vous-m√™me, <a href="https://www.viva64.com/ru/pvs-studio-download/">t√©l√©chargez la</a> version de d√©monstration et v√©rifiez votre projet. <br><br>  Ceci conclut mon article.  Je souhaite √† tous les lecteurs une bonne ann√©e et un bon week-end de nouvel an! <br><br><h2>  Liens annexes </h2><br><ol><li>  Georgy Gribkov - " <a href="http://0x1.tv/%25D0%2591%25D0%25B5%25D0%25B7%25D0%25BE%25D0%25BF%25D0%25B0%25D1%2581%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_%25D0%25BD%25D0%25B0_%25D0%25BC%25D0%25B0%25D0%25BA%25D1%2581%25D0%25B8%25D0%25BC%25D0%25B0%25D0%25BB%25D0%25BA%25D0%25B0%25D1%2585_%25E2%2580%2594_%25D0%25BA%25D0%25B0%25D0%25BA_%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D1%2582%25D1%258C_%25D0%25BD%25D0%25B0%25D0%25B4%25D0%25B5%25D0%25B6%25D0%25BD%25D1%258B%25D0%25B9_C/C%252B%252B_%25D0%25BA%25D0%25BE%25D0%25B4_%25D0%25B4%25D0%25BB%25D1%258F_%25D0%25B2%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25B8%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC%25D1%258B%25D1%2585_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC_(%25D0%2593%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B3%25D0%25B8%25D0%25B9_%25D0%2593%25D1%2580%25D0%25B8%25D0%25B1%25D0%25BA%25D0%25BE%25D0%25B2,_SECR-2019)">S√©curit√© √† vitesse maximale - comment √©crire du code C / C ++ fiable pour les syst√®mes embarqu√©s</a> ." </li><li>  <a href="https://youtu.be/c5sJd4Abr8c">PVS-Studio est un analyseur de code statique</a> . </li><li>  <a href="https://youtu.be/9h7yObKAADU">Collaboration PVS-Studio &amp; KEIL 5</a> . </li></ol><br><p> <a href="https://habr.com/en/company/pvs-studio/blog/482486/"><img src="https://habrastorage.org/getpro/habr/post_images/898/3b6/5a7/8983b65a74adb29a2113eba12fbec3f1.png" align="left"></a> </p><br><br>  Si vous souhaitez partager cet article avec un public anglophone, veuillez utiliser le lien vers la traduction: George Gribkov.  <a href="https://habr.com/en/company/pvs-studio/blog/482486/">Qu'est-ce que MISRA et comment le faire cuire</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482490/">https://habr.com/ru/post/fr482490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482478/index.html">Iteraptor: biblioth√®que pour redus de carte transparent profond</a></li>
<li><a href="../fr482480/index.html">Touches cosmiques de l'ann√©e sortante</a></li>
<li><a href="../fr482482/index.html">Jeux de r√¥le</a></li>
<li><a href="../fr482484/index.html">Comment augmenter l'efficacit√© du d√©veloppement en utilisant la th√©orie des contraintes</a></li>
<li><a href="../fr482486/index.html">Qu'est-ce que Misra et comment le faire cuire</a></li>
<li><a href="../fr482492/index.html">D√©gel du perg√©lisol et √©missions de gaz √† effet de serre</a></li>
<li><a href="../fr482494/index.html">Mettre √† jour les r√©sultats de l'enqu√™te</a></li>
<li><a href="../fr482496/index.html">R√©sultats: 9 avanc√©es technologiques majeures de 2019</a></li>
<li><a href="../fr482498/index.html">Histoire de l'√©volution des interfaces en Java</a></li>
<li><a href="../fr482500/index.html">Python ou R: quel est le meilleur choix pour la science des donn√©es?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>