<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จโ๐พ ๐ ุชูุญูุฏ ููุงุนุฏ ุงูุชุญูู ูู ุงูุตุญุฉ ุจูุงุณุทุฉ ูุซุงู Asp core + VueJS ๐ด ๐๐ฝ ๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชูุถุญ ูุฐู ุงูููุงูุฉ ุทุฑููุฉ ุจุณูุทุฉ ูุชูุญูุฏ ููุงุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุฅุฏุฎุงู ุงููุณุชุฎุฏู ูุชุทุจูู ุฎุงุฏู ุนููู. ุจุงุณุชุฎุฏุงู ูุดุฑูุน ุจุณูุท ููุซุงู ุ ุณุฃูุถุญ ููู ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชูุญูุฏ ููุงุนุฏ ุงูุชุญูู ูู ุงูุตุญุฉ ุจูุงุณุทุฉ ูุซุงู Asp core + VueJS</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473776/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/aq/-m/hx/aq-mhx5bf0a0_ablfc-ers0kvki.png"><br>  <em>ุชูุถุญ ูุฐู ุงูููุงูุฉ ุทุฑููุฉ ุจุณูุทุฉ ูุชูุญูุฏ ููุงุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุฅุฏุฎุงู ุงููุณุชุฎุฏู ูุชุทุจูู ุฎุงุฏู ุนููู.</em>  <em>ุจุงุณุชุฎุฏุงู ูุดุฑูุน ุจุณูุท ููุซุงู ุ ุณุฃูุถุญ ููู ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู Asp net core ู Vue js.</em> </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุทููุฑ ุชุทุจููุงุช ุงูููุจ ุ ูููุงุนุฏุฉ ุนุงูุฉ ุ ููุงุฌู ูููุฉ ุงูุชุญูู ุงููุฒุฏูุฌ ูู ุฅุฏุฎุงู ุงููุณุชุฎุฏู.  ูู ูุงุญูุฉ ุ ูุฌุจ ุงูุชุญูู ูู ุตุญุฉ ุฅุฏุฎุงู ุงููุณุชุฎุฏู ุนูู ุงูุนููู ูุชูููู ุงูุทูุจุงุช ุงูุฒุงุฆุฏุฉ ุนูู ุงูุฎุงุฏู ูุชุณุฑูุน ุนูููุฉ ุงูุชุญูู ูู ุงูุตุญุฉ ูููุณุชุฎุฏู ููุณู.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุนูุฏ ุงูุญุฏูุซ ุนู ุงูุชุญูู ูู ุงูุตุญุฉ ุ ูุง ูููู ููุฎุงุฏู ูุจูู "ุจูุงุกู ุนูู ุฅููุงู" ุฃู ุงูุชุญูู ูู ุตุญุฉ ุงูุนููู ูุฏ ุชู ุจุงููุนู ูุจู ุฅุฑุณุงู ุงูุทูุจ ุ ูุฃู  ูููู ูููุณุชุฎุฏู ุชุนุทูู ุฃู ุชุนุฏูู ุฑูุฒ ุงูุชุญูู ูู ุงูุตุญุฉ.  ุฃู ุญุชู ุชูุฏูู ุทูุจ ูู API ุงูุนููู ูุฏููุง. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุฅู ุงูุชูุงุนู ุจูู ุงูุนููู ูุงูุฎุงุฏู ุงูููุงุณููู ูู ุนูุฏุชุงู ุ ูุน ููุงุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุฅุฏุฎุงู ุงููุณุชุฎุฏู ูู ูุซูุฑ ูู ุงูุฃุญูุงู.  ุชูุช ููุงูุดุฉ ูุฐู ุงูููุงูุฉ ููู ูู ุฃูุซุฑ ูู ููุงูุฉ ูุงุญุฏุฉ ุ ุณูุชู ูุตู ุญู ุฎููู ุงููุฒู ููุง ุจุงุณุชุฎุฏุงู ุฎุงุฏู API ASP.Net Core ูุนููู Vue js ููุซุงู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณูู ูุญุฏุฏ ุฃููุง ุณูููู ุจุงูุชุญูู ูู ุตุญุฉ ุทูุจุงุช ุงููุณุชุฎุฏู (ุงููุฑูู) ููุท ุ ูููุณ ุงูููุงู ุ ููู ูุฌูุฉ ูุธุฑ ุงูุจููุฉ ุงูููุงุณูููุฉ ุซูุงุซูุฉ ุงูุทุจูุงุช ุ ูุชู ุงูุชุญูู ูู ุงูุตุญุฉ ูู ุทุจูุฉ ุงูุนุฑุถ ุงูุชูุฏููู. </p><br><h1 id="servernaya-chast" style=";text-align:right;direction:rtl">  ุฌุงูุจ ุงูุฎุงุฏู </h1><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุฅูุดุงุก Visual Studio 2019 ุ ุณุฃููู ุจุฅูุดุงุก ูุดุฑูุน ูุชุทุจูู ุฎุงุฏู ุ ุจุงุณุชุฎุฏุงู ูุงูุจ ุชุทุจูู ASP.NET Core Web ุ ุจููุน API.  ูุญุชูู ASP ุฎุงุฑุฌ ุงูุตูุฏูู ุนูู ุขููุฉ ุชุญูู ุฌูุฏุฉ ููุงุจูุฉ ููุชูุณุนุฉ ุฅูู ุญุฏ ูุง - ุงูุชุญูู ูู ุตุญุฉ ุงููููุฐุฌ ุ ูููููุง ูุฐูู ุ ูุชู ุชูููุฒ ุฎุตุงุฆุต ุทูุจ ุงููููุฐุฌ ุจุณูุงุช ุชุญูู ูุญุฏุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุธุฑ ูู ูุฐุง ูุน ูุญุฏุฉ ุชุญูู ุจุณูุทุฉ: </p><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Route(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"[controller]"</span></span></span><span class="hljs-meta">)</span></span>] [ApiController] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AccountController</span></span> : <span class="hljs-title"><span class="hljs-title">ControllerBase</span></span> { [HttpPost(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(Registration))] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Registration</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[FromBody]RegistrationRequest request</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Ok(<span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{request.Name}</span></span></span><span class="hljs-string">,  !"</span></span>); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุจุฏู ุทูุจ ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ ููุง ููู: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RegistrationRequest</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RegistrationRequest</span></span> { [StringLength(maximumLength: <span class="hljs-number"><span class="hljs-number">50</span></span>, MinimumLength = <span class="hljs-number"><span class="hljs-number">2</span></span>, ErrorMessage = <span class="hljs-string"><span class="hljs-string">"     2  50 "</span></span>)] [Required(ErrorMessage = <span class="hljs-string"><span class="hljs-string">" "</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required(ErrorMessage = <span class="hljs-string"><span class="hljs-string">"  . "</span></span>)] [EmailAddress(ErrorMessage = <span class="hljs-string"><span class="hljs-string">"  . "</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Email { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required(ErrorMessage = <span class="hljs-string"><span class="hljs-string">" "</span></span>)] [MaxLength(<span class="hljs-number"><span class="hljs-number">100</span></span>, ErrorMessage = <span class="hljs-string"><span class="hljs-string">"{0}    {1} "</span></span>)] [MinLength(<span class="hljs-number"><span class="hljs-number">6</span></span>, ErrorMessage =<span class="hljs-string"><span class="hljs-string">"{0}    {1} "</span></span>)] [DisplayName(<span class="hljs-string"><span class="hljs-string">""</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Password { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required(ErrorMessage = <span class="hljs-string"><span class="hljs-string">" "</span></span>)] [Range(<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">150</span></span>, ErrorMessage = <span class="hljs-string"><span class="hljs-string">"      18  150"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Age { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [DisplayName(<span class="hljs-string"><span class="hljs-string">""</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Culture { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ุณูุงุช ุงูุชุญูู ูู ุงูุตุญุฉ ุงููุนุฑูุฉ ูุณุจููุง ูู ูุณุงุญุฉ ุงูุงุณู System.ComponentModel.DataAnnotations.  ูุชู ุชูููุฒ ุงูุฎุตุงุฆุต ุงููุทููุจุฉ ุจุงูุณูุฉ ุงููุทููุจุฉ.  ูุจุงูุชุงูู ุ ุนูุฏ ุฅุฑุณุงู JSON ูุงุฑุบุฉ ("{}") ุ ุณุชุนูุฏ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฏููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ ... <span class="hljs-attr"><span class="hljs-attr">"errors"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"Age"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"Name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"Email"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"  . "</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"Password"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span> ] } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุงูุฃููู ุงูุชู ูููู ููุงุฌูุชูุง ูู ูุฐู ุงููุฑุญูุฉ ูู ุชูุทูู ุฃูุตุงู ุงูุฎุทุฃ.  ุจุงูููุงุณุจุฉ ุ ูุญุชูู ASP ุนูู ุฃุฏูุงุช ุชุนุฑูุจ ูุถููุฉ ุ ูุณูู ููุธุฑ ูู ุฐูู ูุงุญููุง. </p><br><p style=";text-align:right;direction:rtl">  ููุชุญูู ูู ุทูู ุจูุงูุงุช ุงูุณูุณูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุงูุณูุงุช ุฐุงุช ุงูุฃุณูุงุก ุงููุงุทูุฉ: StringLength ู MaxLength ู MinLength.  ูู ุงูููุช ููุณู ุ ูู ุฎูุงู ุชูุณูู ุณูุงุณู (ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ) ุ ูููู ุฏูุฌ ูุนููุงุช ุงูุณูุงุช ูู ุฑุณุงูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ูุงุณู ุงููุณุชุฎุฏู ุ ูููู ุจุฅุฏุฑุงุฌ ุงูุญุฏ ุงูุฃุฏูู ูุงูุญุฏ ุงูุฃูุตู ููุทูู ูู ุงูุฑุณุงูุฉ ุ ููุงุณู ูููุฉ ุงููุฑูุฑ "ุงุณู ุงูุนุฑุถ" ุงููุญุฏุฏ ูู ุงูุณูุฉ ุงูุชู ุชุญูู ููุณ ุงูุงุณู.  ุชุนุฏ ุณูุฉ ุงููุทุงู ูุณุคููุฉ ุนู ุงูุชุญูู ูู ุงููููุฉ ุงูุชู ูุฌุจ ุฃู ุชููู ูู ุงููุทุงู ุงููุญุฏุฏ. <br>  ุฏุนูุง ูุฑุณู ุทูุจูุง ุจุงุณุชุฎุฏุงู ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ูุตูุฑุฉ ุจุดูู ุบูุฑ ููุจูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"> { <span class="hljs-attr"><span class="hljs-attr">"Name"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Password"</span></span> : <span class="hljs-string"><span class="hljs-string">"123"</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู ุ ููููู ุงูุนุซูุฑ ุนูู ุฑุณุงุฆู ุฎุทุฃ ุฌุฏูุฏุฉ ููุชุญูู ูู ุงูุตุญุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"Name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"     2  50 "</span></span> ], <span class="hljs-string"><span class="hljs-string">"Password"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"    6 "</span></span> ]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุ ุงูุชู ูุฏ ุชููู ุบูุฑ ูุงุถุญุฉ ูู ุงูููุช ุงูุญุงูู ุ ูู ุฃู ููู ุงูุญุฏูุฏ ูุทูู ุงูุงุณู ููููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู ููุฌูุฏุฉ ุฃูุถูุง ูู ุชุทุจูู ุงูุนููู.  ููุซู ุงููููู ุงูุฐู ูุชู ููู ุชุนููู ููุณ ุงูุจูุงูุงุช ูุฏูููุง ูู ููุงููู ุฃู ุฃูุงูู ุฌุณุฏูุฉ ุฃุฑุถูุง ูุญุชููุฉ ูุชูุงุซุฑ ุงูุฃุฎุทุงุก ุ ููู ุฅุญุฏู ุนูุงูุงุช ุณูุก ุงูุชุตููู.  ุฏุนููุง ุฅุตูุงุญู. </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ุจุชุฎุฒูู ูู ูุง ูุญุชุงุฌู ุงูุนููู ูู ูููุงุช ุงูููุงุฑุฏ.  ุงูุฑุณุงุฆู ูู Controllers.AccountController.ru.resx ุ ูุงูุจูุงูุงุช ุงููุณุชููุฉ ุซูุงูููุง ูู ููุฑุฏ ูุดุชุฑู: Controllers.AccountController.resx.  ุฃูุง ุฃูุชุฒู ุจูุฐุง ุงูุชูุณูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{PropertyName}DisplayName {PropertyName}{RuleName} {PropertyName}{RuleName}Message</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุจุงูุชุงูู ุ ูุญุตู ุนูู ุงูุตูุฑุฉ ุงูุชุงููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/al/cr/zg/alcrzgje8f1btwzkgwzfrz6mgyq.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃู ููุชุญูู ูู ุตุญุฉ ุนููุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู  ูุณุชุฎุฏู ุงูุจุฑูุฏ ุงูุชุนุจูุฑ ุงูุนุงุฏู.  ูููุชุญูู ูู ุตุญุฉ ุงูุซูุงูุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ูุฎุตุตุฉ - "ุงูููู" (ูุงุฆูุฉ ุงูููู).  ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุงูุชุญูู ูู ุญูู ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ ุ ูุงูุฐู ุณูุฑุงู ูุงุญููุง ุ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูููุตูู ุฅูู ูููุงุช ุงูููุงุฑุฏ ูุซูุงูุฉ ูุนููุฉ ุ ูุถูู ุฏุนู ุงูุชุฑุฌูุฉ ูู ุฃุณููุจ Startup.ConfigureServices ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงููุณุงุฑ ุฅูู ูููุงุช ุงูููุงุฑุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">services.AddLocalization(options =&gt; options.ResourcesPath = <span class="hljs-string"><span class="hljs-string">"Resources"</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฃูุถูุง ูู ุฃุณููุจ Startup.Configure ุ ุชุญุฏูุฏ ุงูุซูุงูุฉ ุญุณุจ ุฑุฃุณ ุทูุจ ุงููุณุชุฎุฏู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> app.UseRequestLocalization(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RequestLocalizationOptions { DefaultRequestCulture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RequestCulture(<span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>), SupportedCultures = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CultureInfo(<span class="hljs-string"><span class="hljs-string">"en-US"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CultureInfo(<span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>) }, RequestCultureProviders = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;IRequestCultureProvider&gt; { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AcceptLanguageHeaderRequestCultureProvider() } });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุ ุญุชู ูุชุณูู ููุง ุฏุงุฎู ูุญุฏุฉ ุงูุชุญูู ุ ุงููุตูู ุฅูู ุงูุชุนุฑูุจ ุ ุณูููุฐ ุชุจุนูุฉ ููุน IStringLocalizer ูู ุงูููุดุฆ ุ ููุนุฏู ุชุนุจูุฑ ุงูุฅุฑุฌุงุน ูุฅุฌุฑุงุก ุงูุชุณุฌูู: <br></p><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Ok(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(_localizer[<span class="hljs-string"><span class="hljs-string">"RegisteredMessage"</span></span>], request.Name));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฆุฉ ResxValidatior ุณุชููู ูุณุคููุฉ ุนู ุงูุชุญูู ูู ุงูููุงุนุฏ ุ ูุงูุชู ุณูู ุชุณุชุฎุฏู ุงูููุงุฑุฏ ุงูุชู ุชู ุฅูุดุงุคูุง.  ุฃูู ูุญุชูู ุนูู ูุงุฆูุฉ ูุญุฌูุฒุฉ ูู ุงููููุงุช ุงูุฃุณุงุณูุฉ ุ ูููุงุฆู ูุญุฏุฏุฉ ูุณุจููุง ุ ูุทุฑููุฉ ููุชุญูู ูููุง. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ResxValidatior</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ResxValidator</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ValuesSeparator = <span class="hljs-string"><span class="hljs-string">','</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> RangeSeparator = <span class="hljs-string"><span class="hljs-string">'-'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Keywords { DisplayName, Message, Required, Pattern, Length, MinLength, MaxLength, Range, MinValue, MaxValue, Values, Compare } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Dictionary&lt;Keywords, Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;&gt; _rules = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;Keywords, Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;&gt;() { [Keywords.Required] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(v), [Keywords.Pattern] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; Regex.IsMatch(v, arg), [Keywords.Range] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(v, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vLong) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg.Split(RangeSeparator)[<span class="hljs-number"><span class="hljs-number">0</span></span>].Trim(), <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vMin) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg.Split(RangeSeparator)[<span class="hljs-number"><span class="hljs-number">1</span></span>].Trim(), <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vMax) &amp;&amp; vLong &gt;= vMin &amp;&amp; vLong &lt;= vMax, [Keywords.Length] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg.Split(RangeSeparator)[<span class="hljs-number"><span class="hljs-number">0</span></span>].Trim(), <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vMin) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg.Split(RangeSeparator)[<span class="hljs-number"><span class="hljs-number">1</span></span>].Trim(), <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vMax) &amp;&amp; v.Length &gt;= vMin &amp;&amp; v.Length &lt;= vMax, [Keywords.MinLength] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; v.Length &gt;= <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.Parse(arg), [Keywords.MaxLength] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; v.Length &lt;= <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.Parse(arg), [Keywords.Values] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(v) &amp;&amp; arg.Split(ValuesSeparator).Select(x =&gt; x.Trim()).Contains(v), [Keywords.MinValue] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(v) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(v, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vLong) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> argLong) &amp;&amp; vLong &gt;= argLong, [Keywords.MaxValue] = (v, arg) =&gt; !<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(v) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(v, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vLong) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.TryParse(arg, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> argLong) &amp;&amp; vLong &lt;= argLong }; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IStringLocalizer _localizer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ResxValidator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IStringLocalizer localizer</span></span></span><span class="hljs-function">)</span></span> { _localizer = localizer; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsValid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> memberName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> message</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rules = _rules.Select(x =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> { Name = x.Key, Check = x.Value, String = _localizer.GetString(memberName + x.Key) }).Where(x =&gt; x.String != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; !x.String.ResourceNotFound); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rule <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rules) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!rule.Check(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, rule.String?.Value)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> messageResourceKey = <span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{memberName}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{rule.Name}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{Keywords.Message}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> messageResource = _localizer[messageResourceKey]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> displayNameResourceKey = <span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{memberName}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{Keywords.DisplayName}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> displayNameResource = _localizer[displayNameResourceKey] ?? displayNameResourceKey; message = messageResource != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; !messageResource.ResourceNotFound ? <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(messageResource.Value, displayNameResource, rule.String?.Value) : messageResourceKey; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } message = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ุณูุฉ ุชุญูู ูุฎุตุตุฉ ุณุชุฏุนู ุฌูุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจูุง.  ููุง ุ ูููู ุงูููุทู ุงูููุงุณู ูู ุงูุญุตูู ุนูู ูููุฉ ุงูุฎุงุตูุฉ ุงูุชู ุชู ุงูุชุญูู ูููุง ูููููุฐุฌ ูุงุณูู ูุงูุงุชุตุงู ุจุงููุฏูู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ResxAttribute</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">public sealed class ResxAttribute : ValidationAttribute { private readonly string _baseName; private string _resourceName; public ResxAttribute(string sectionName, string resourceName = null) { _baseName = sectionName; _resourceName = resourceName; } protected override ValidationResult IsValid(object value, ValidationContext validationContext) { if (_resourceName == null) _resourceName = validationContext.MemberName; var factory = validationContext .GetService(typeof(IStringLocalizerFactory)) as IStringLocalizerFactory; var localizer = factory?.Create(_baseName, System.Reflection.Assembly.GetExecutingAssembly().GetName().Name); ErrorMessage = ErrorMessageString; var currentValue = value as string; var validator = new ResxValidator(localizer); return validator.IsValid(_resourceName, currentValue, out var message) ? ValidationResult.Success : new ValidationResult(message); } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ููููู ุงุณุชุจุฏุงู ุฌููุน ุงูุณูุงุช ุงูููุฌูุฏุฉ ูู ุงูุทูุจ ุจูุงุญุฏ ุนุงููู ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงุณู ุงูููุฑุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">Resx(sectionName: </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Controllers.AccountController"</span></span></span><span class="hljs-meta">)</span></span>]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุฎุชุจุฑ ุงููุธููุฉ ุนู ุทุฑูู ุฅุฑุณุงู ููุณ ุงูุทูุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"> { <span class="hljs-attr"><span class="hljs-attr">"Name"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Password"</span></span> : <span class="hljs-string"><span class="hljs-string">"123"</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุชุฑุฌูุฉ ุ ุฃุถู Controllers.AccountController.en.resx ูุน ุฑุณุงุฆู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุ ููุฐูู ุฑุฃุณ ุ ูุน ูุนูููุงุช ุญูู ุงูุซูุงูุฉ: Accept-Language: en-US. </p><br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูููููุง ุงูุขู ุชุฌุงูุฒ ุงูุฅุนุฏุงุฏุงุช ูุซูุงูุฉ ูุนููุฉ.  ูู ููู * .en.resx ุ ุญุฏุฏุช ุงูุญุฏ ุงูุฃุฏูู ูุทูู ูููุฉ ุงููุฑูุฑ ููู 8 ุ ูุชูููุช ุฑุณุงูุฉ ููุงุณุจุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"Password"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Password must be at least 8 characters"</span></span> ]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ุฑุณุงุฆู ูุชุทุงุจูุฉ ุฃุซูุงุก ุงูุชุญูู ูู ุตุญุฉ ุงูุนููู ุ ูุฌุจ ุนููู ุจุทุฑููุฉ ูุง ุชุตุฏูุฑ ูุงุฆูุฉ ุงูุฑุณุงุฆู ุจุงููุงูู ูุฌุฒุก ุงูุนููู.  ููุจุณุงุทุฉ ุ ุณูููู ุจุฅูุดุงุก ูุญุฏุฉ ุชุญูู ูููุตูุฉ ุชููุฑ ูู ูุง ุชุญุชุงุฌู ูุชุทุจูู ุนููู ุจุชูุณูู i18n. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">LocaleController</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">Route(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"[controller]"</span></span></span><span class="hljs-meta">)</span></span>] [ApiController] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LocaleController</span></span> : <span class="hljs-title"><span class="hljs-title">ControllerBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IStringLocalizerFactory _factory; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _assumbly; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _location; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LocaleController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IStringLocalizerFactory factory</span></span></span><span class="hljs-function">)</span></span> { _factory = factory; _assumbly = System.Reflection.Assembly.GetExecutingAssembly().GetName().Name; _location = Path.Combine(Directory.GetCurrentDirectory(), <span class="hljs-string"><span class="hljs-string">"Resources"</span></span>); } [HttpGet(<span class="hljs-string"><span class="hljs-string">"Config"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetConfig</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> culture</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(culture)) { CultureInfo.CurrentCulture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CultureInfo(culture); CultureInfo.CurrentUICulture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CultureInfo(culture); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resources = Directory.GetFiles(_location, <span class="hljs-string"><span class="hljs-string">"*.resx"</span></span>, SearchOption.AllDirectories) .Select(x =&gt; x.Replace(_location + Path.DirectorySeparatorChar, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Empty)) .Select(x =&gt; x.Substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, x.IndexOf(<span class="hljs-string"><span class="hljs-string">'.'</span></span>))) .Distinct(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> config = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resource <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> resources.Select(x =&gt; x.Replace(<span class="hljs-string"><span class="hljs-string">'\\'</span></span>, <span class="hljs-string"><span class="hljs-string">'.'</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> section = _factory.Create(resource, _assumbly) .GetAllStrings() .OrderBy(x =&gt; x.Name) .ToDictionary(x =&gt; x.Name, x =&gt; x.Value); config.Add(resource.Replace(<span class="hljs-string"><span class="hljs-string">'.'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>), section); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = JsonConvert.SerializeObject(config, Formatting.Indented); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Ok(result); } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุงุนุชูุงุฏูุง ุนูู ูุบุฉ ุงููุจูู ุ ุณูุนูุฏ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุจูู ุงููุบุฉ: ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"Controllers-AccountController"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"AgeDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Age"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"AgeRange"</span></span>: <span class="hljs-string"><span class="hljs-string">"18 - 150"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"AgeRangeMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0} must be {1}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Email"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailPattern"</span></span>: <span class="hljs-string"><span class="hljs-string">"^[-\\w.]+@([A-z0-9][-A-z0-9]+\\.)+[Az]{2,4}$"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailPatternMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Incorrect email"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailRequired"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailRequiredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Email required"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Language"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageValues"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-RU, en-US"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageValuesMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Incorrect language. Possible: {1}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Name"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"2 - 50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Name length must be {1} characters"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmCompare"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmCompareMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Passwords must be the same"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password confirmation"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMaxLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMaxLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0} can't be greater than {1} characters"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMinLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"8"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMinLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0} must be at least {1} characters"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordRequired"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordRequiredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password required"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"RegisteredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0}, you've been registered!"</span></span> } }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุจูู ุงููุบุฉ: en-RU</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"Controllers-AccountController"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"AgeDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"AgeRange"</span></span>: <span class="hljs-string"><span class="hljs-string">"18 - 150"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"AgeRangeMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0}     {1}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">" . "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailPattern"</span></span>: <span class="hljs-string"><span class="hljs-string">"^[-\\w.]+@([A-z0-9][-A-z0-9]+\\.)+[Az]{2,4}$"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailPatternMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"  . "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailRequired"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"EmailRequiredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"  . "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageValues"</span></span>: <span class="hljs-string"><span class="hljs-string">"ru-RU, en-US"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"LanguageValuesMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">" .  : {1}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"2 - 50"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"NameLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"    {1} "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmCompare"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmCompareMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordConfirmDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordDisplayName"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMaxLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMaxLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0}    {1} "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMinLength"</span></span>: <span class="hljs-string"><span class="hljs-string">"6"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordMinLengthMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0}    {1} "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordRequired"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PasswordRequiredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"RegisteredMessage"</span></span>: <span class="hljs-string"><span class="hljs-string">"{0},  !"</span></span> } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุขุฎุฑ ุดูุก ุชุฑู ุงูููุงู ุจู ูู ุงูุณูุงุญ ูุทูุจุงุช ุงูุฃุตู ุงููุดุชุฑู ููุนููู.  ููููุงู ุจุฐูู ุ ุฃุถู ูู Startup.ConfigureServices: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> services.AddCors();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู Startup.Configure ุฃุถู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> app.UseCors(x =&gt; x .AllowAnyOrigin() .AllowAnyMethod() .AllowAnyHeader());</code> </pre> <br><h1 id="klientskaya-chast" style=";text-align:right;direction:rtl">  ุฌุฒุก ุงูุนููู </h1><br><p style=";text-align:right;direction:rtl">  ุฃูุถู ุฑุคูุฉ ุฌููุน ุฃุฌุฒุงุก ุงูุชุทุจูู ูู IDE ูุงุญุฏ ุ ูุฐูู ุณุฃููู ุจุฅูุดุงุก ูุดุฑูุน ุชุทุจูู ุนููู ุจุงุณุชุฎุฏุงู ูุงูุจ Visual Studio: Basic Vue.js Web Application.  ุฅุฐุง ูู ููู ูุฏูู / ูุง ุชุฑูุฏ ุฃู ุชุณุฏ VS ุจูุซู ูุฐู ุงูููุงูุจ ุ ูุงุณุชุฎุฏู vue cli ุ ุญูุซ ุณุฃููู ุจุชุซุจูุช ุนุฏุฏ ูู ุงูุญุฒู ูุจู: vuetify ุ axios ุ vue-i18n. </p><br><p style=";text-align:right;direction:rtl">  ูุทูุจ ูููุงุช ุงูููุงุฑุฏ ุงููุญููุฉ ูู LocaleController ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงูุซูุงูุฉ ูู ุฑุฃุณ Accept-Language ุ ููุถุน ุงูุงุณุชุฌุงุจุฉ ูู ูููุงุช en.json ู ru.json ูู ุฏููู ุงูุฅุนุฏุงุฏุงุช ุงููุญููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุญุชุงุฌ ุฅูู ุฎุฏูุฉ ูุชุญููู ุงูุงุณุชุฌุงุจุฉ ุจุงูุฃุฎุทุงุก ูู ุงูุฎุงุฏู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">errorHandler.service.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ErrorHandlerService = { parseResponseError (error) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.toString().includes(<span class="hljs-string"><span class="hljs-string">'Network Error'</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'ServerUnavailable'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.response) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> statusText = error.response.statusText; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.response.data &amp;&amp; error.response.data.errors) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> property <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> error.response.data.errors) { error.response.data.errors[property].forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">entry</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entry) { message += entry + <span class="hljs-string"><span class="hljs-string">'\n'</span></span> } }) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> message } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error.response.data &amp;&amp; error.response.data.message) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> error.response.data.message } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statusText) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> statusText } } } }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> { ErrorHandlerService }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุชุทูุจ ููู ูุฏูู ุงูุชุญูู ูู ุงูุตุญุฉ ุงููุถูู ูู Vutify.js ุชุญุฏูุฏ ูุฌููุนุฉ ูู ูุธุงุฆู ุงูุชุญูู ูู ุงูุตุญุฉ ุจุงุณุชุฎุฏุงู ุณูุฉ ุงูููุงุนุฏ ุ ูุณูู ูุทูุจ ูููู ูู ุงูุฎุฏูุฉ ุงูุนูู ูุน ุงูููุงุฑุฏ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">locale.service.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> i18n <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../i18n'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LocaleService = { getRules(resource, options) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rules = []; options = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.prepareOptions(options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addRequireRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addPatternRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addRangeRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addLengthRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addMaxLengthRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addMinLengthRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addValuesRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addCompareRule(rules, resource, options); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rules; }, prepareOptions(options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> getter = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> v; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> compared = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!options){ options = { <span class="hljs-attr"><span class="hljs-attr">getter</span></span>: getter, <span class="hljs-attr"><span class="hljs-attr">compared</span></span>: compared }; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!options.getter) options.getter = getter; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!options.compared) options.compared = compared; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> options; }, addRequireRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Required'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); } }, addPatternRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Pattern'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">RegExp</span></span>(settings.value).test(options.getter(v)) || settings.message); } }, addRangeRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Range'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> values = settings.value.split(<span class="hljs-string"><span class="hljs-string">'-'</span></span>); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(options.getter(v)) &gt;= values[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(options.getter(v)) &lt;= values[<span class="hljs-number"><span class="hljs-number">1</span></span>] || settings.message); } }, addLengthRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Length'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> values = settings.value.split(<span class="hljs-string"><span class="hljs-string">'-'</span></span>); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> options.getter(v).length &gt;= values[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp;&amp; options.getter(v).length &lt;= values[<span class="hljs-number"><span class="hljs-number">1</span></span>] || settings.message); } }, addMaxLengthRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'MaxLength'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> options.getter(v).length &lt;= settings.value || settings.message); } }, addMinLengthRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'MinLength'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings){ rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> options.getter(v).length &gt;= settings.value || settings.message); } }, addValuesRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Values'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> values = settings.value.split(<span class="hljs-string"><span class="hljs-string">','</span></span>); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!options.getter(v) || settings.message); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> !!values.find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.trim() === options.getter(v)) || settings.message); } }, addCompareRule(rules, resource, options){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleSettings(resource, <span class="hljs-string"><span class="hljs-string">'Compare'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings) { rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> settings.value === <span class="hljs-string"><span class="hljs-string">''</span></span> || !!settings.value || settings.message }); rules.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> options.getter(v) === options.compared() || settings.message; }); } }, getRuleSettings(resource, rule){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleValue(resource, rule); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getRuleMessage(resource, rule, value); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value === <span class="hljs-string"><span class="hljs-string">''</span></span> || value ? { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: value, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: message } : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }, getRuleValue(resource, rule){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> key =<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${resource}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${rule}</span></span></span><span class="hljs-string">`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getI18nValue(key); }, getDisplayName(resource){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> key =<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${resource}</span></span></span><span class="hljs-string">DisplayName`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getI18nValue(key); }, getRuleMessage(resource, rule, value){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> key =<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${resource}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${rule}</span></span></span><span class="hljs-string">Message`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i18n.t(key, [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getDisplayName(resource), value]); }, getI18nValue(key){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> value = i18n.t(key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value !== key ? value : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> { LocaleService }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุณ ููุงู ูู ูุนูู ููุตู ูุฐู ุงูุฎุฏูุฉ ุจุงููุงูู ุ ููุง  ููุฑุฑ ุฌุฒุฆูุง ูุฆุฉ ResxValidator.  ุฃูุงุญุธ ุฃูู ููุชุญูู ูู ูุงุนุฏุฉ ุงูููุงุฑูุฉ ุ ุญูุซ ูููู ูู ุงูุถุฑูุฑู ููุงุฑูุฉ ูููุฉ ุงูุฎุงุตูุฉ ุงูุญุงููุฉ ุจุขุฎุฑ ุ ูุชู ุชูุฑูุฑ ูุงุฆู ุงูุฎูุงุฑุงุช ุงูุฐู ุชุชู ููุงุฑูุฉ ุงููููุถ ุจู ุ ูุงูุฐู ููุฑุฌุน ูููุฉ ุงูููุงุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุณูุจุฏู ุญูู ุงููููุฐุฌ ุงููููุฐุฌู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">v-text-field</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"displayFor('Name')"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:rules</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rulesFor('Name')"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"model.Name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prepend-icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mdi-account"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">v-text-field</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุชุณููุฉ ุ ูุชู ุงุณุชุฏุนุงุก ูุธููุฉ ุงููุฌููุน ุนูู locale.service ุ ูุงูุชู ุชูุฑ ุจุงูุงุณู ุงููุงูู ููููุฑุฏ ุ ููุฐูู ุงุณู ุงูุฎุงุตูุฉ ุงูุชู ุชุฑูุฏ ุงูุญุตูู ุนูู ุงุณู ุงูุนุฑุถ ููุง.  ูุจุงููุซู ููููุงุนุฏ.  ูุญุฏุฏ ุงูููุฏูู v ูููุฐุฌูุง ูุชุฎุฒูู ุงูุจูุงูุงุช ุงููุฏุฎูุฉ. <br>  ุจุงููุณุจุฉ ุฅูู ุฎุงุตูุฉ ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ ุ ูุฑุฑ ููู ูููุฉ ุงููุฑูุฑ ููุณูุง ูู ูุงุฆู ุงูุฎูุงุฑุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">:rules="rulesFor('PasswordConfirm', { compared:() =&gt; model.Password })"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญุชูู v-select ูุงุฎุชูุงุฑ ุงููุบุฉ ุนูู ูุงุฆูุฉ ูุญุฏุฏุฉ ูุณุจููุง ูู ุงูุนูุงุตุฑ (ูุชู ุฐูู ูุจุณุงุทุฉ ุงููุซุงู) ู onChange ูู ูุนุงูุฌ.  ูุฃู  ูุญู ููุนู SPA ุ ูุฑูุฏ ุชุบููุฑ ุงูุชุฑุฌูุฉ ุนูุฏูุง ูุฎุชุงุฑ ุงููุณุชุฎุฏู ูุบุฉ ูุง ุ ูุจุงูุชุงูู ุ ูู ุงุฎุชูุงุฑ onChange ุ ูุชู ุชุญุฏูุฏ ุงููุบุฉ ุงููุญุฏุฏุฉ ุ ูุฅุฐุง ุชุบูุฑุช ุ ุชุชุบูุฑ ูุบุฉ ุงููุงุฌูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> onCultureChange (value) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> culture = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.cultures.find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.value === value); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.model.Culture = culture.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (culture.locale !== <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$i18n.locale) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$i18n.locale = culture.locale; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$refs.form.resetValidation(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุดูุก ุ ูุณุชูุฏุน ูุน ุชุทุจูู ุงูุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  <strong>ุจุงุฎุชุตุงุฑ ุ ุฃูุฏ ุฃู ุฃุดูุฑ ุฅูู</strong> ุฃูู ุณูููู ูู ุงูุฑุงุฆุน ุชุฎุฒูู ุงูููุงุฑุฏ ุจุฃููุณูู ุจุชูุณูู JSON ูุงุญุฏ ุ ูุงูุฐู ูุทูุจู ูู LocaleController ุ ูู ุฃุฌู ูู ุงุฑุชุจุงุทู ูู ุชูุงุตูู ุฅุทุงุฑ ุนูู ASP.  ูู ResxValidatior ุ ูููู ูููุฑุก ุฃู ูุถูู ุฏุนููุง ูููุงุนุฏ ุงููุงุจููุฉ ููุชูุณุนุฉ ูุงูููุงุนุฏ ุงููุฎุตุตุฉ ุนูู ูุฌู ุงูุฎุตูุต ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุจุฑุงุฒ ุงูููุฏ ุงููุทุงุจู ูู locale.service ูุฅุนุงุฏุฉ ูุชุงุจุชู ุจุฃุณููุจ JS ูุชุจุณูุท ุงูุฏุนู.  ููุน ุฐูู ุ ูู ูุฐุง ุงููุซุงู ุ ุฃุฑูุฒ ุนูู ุงูุจุณุงุทุฉ. </p><p></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar473776/">https://habr.com/ru/post/ar473776/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar473764/index.html">ุงูุทุฑุฏ ูู ุจุงูู ุงููุดุฑูุน ุงูููุถู</a></li>
<li><a href="../ar473766/index.html">ุชุญููู ุซุงุจุช ูููููุงุช ุงููุจูุฑุฉ ูู ููุฏ Python: ุชุฌุฑุจุฉ Instagram. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar473768/index.html">ุฃูุถู 5 ูุชุจ ูุฃููุฆู ุงูุฐูู ูุฑุบุจูู ูู ุชุญุณูู ููุงุฑุงุชูู</a></li>
<li><a href="../ar473770/index.html">ุชุญููู ุซุงุจุช ูููููุงุช ุงููุจูุฑุฉ ูู ููุฏ Python: ุชุฌุฑุจุฉ Instagram. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar473774/index.html">ุชุฃููู ุงูุบููุฉ ุนูู DF Cloud</a></li>
<li><a href="../ar473778/index.html">ุชุญุณูู ุงูุตูุฑุฉ: ููููุฉ ุงุณุชุฎุฏุงู ุฑุคูุฉ ุฌูุฌู ูููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ูููู ูุจุงุฏุฆ ุชุตููู ุงูุตูุฑ</a></li>
<li><a href="../ar473780/index.html">ุงูุชุดุงู ููุงู ุณุฑูุน ูู ููุฏูู 4K: ุงูููู ูุงูุฃุดูุงู ุงููุนูุฏุฉ</a></li>
<li><a href="../ar473784/index.html">ููููุฉ ูุชุงุจุฉ ุนูุฏ ุฐูู ูู WebAssembly ุนูู ุดุจูุฉ Ontologyุ ุงูุฌุฒุก 2: C ++</a></li>
<li><a href="../ar473786/index.html">ุงูุชุณุฌูู ูููุงูุงุซูู ูู ุฑูุบุง ููุชูู. ุฌุงุฆุฒุฉ - ุชุฏุฑูุจ ูุตูุฑ ุงูุฃุฌู ูู PhysTech</a></li>
<li><a href="../ar473788/index.html">ุชูุชุดู ุงูุจุฑูุชููุงุช ุงูุฏูููุฉ ุฌูุงูุจ ูุฌูููุฉ ูู ุนูู ุงูุฃุญูุงุก ุงูุญุฏูุซ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>