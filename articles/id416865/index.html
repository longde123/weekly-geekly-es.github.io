<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ  ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘©ğŸ¼ ğŸ¥ Desain retro untuk konsol portabel pertama dari tahun 1979 yang jauh ğŸŒˆ ğŸ§‘ğŸ½â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ‘©ğŸ½â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada tahun 1974, Texas Instruments meluncurkan mikrokontroler 4-bit pertama dari keluarga TMS1000, dan Intel pada tahun 1976 memulai produksi mikrokon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desain retro untuk konsol portabel pertama dari tahun 1979 yang jauh</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416865/"><img src="https://habrastorage.org/webt/41/yf/ic/41yfickhp7ywna9ls3tj4tigy24.jpeg"><br><br>  Pada tahun 1974, Texas Instruments meluncurkan mikrokontroler 4-bit pertama dari keluarga TMS1000, dan Intel pada tahun 1976 memulai produksi mikrokontroler 8-bit dari seri MCS-48 yang terkenal.  Dan kemudian mulai. <br><a name="habracut"></a><br>  Karena murahnya dan swasembada dari mikrokontroler (kemudian mereka dipanggil langsung - mikrokomputer chip tunggal), perangkat elektronik konsumen tajam lebih bijaksana, dan jumlah mereka tumbuh lebih dari sebelumnya.  Dengan munculnya mikrokontroler, kelas perangkat seperti game elektronik portabel muncul, skala "bencana" dapat diperkirakan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan ini</a> .  Di antara semua ragam permainan awal ini, yang akan saya bahas di pos ini sangat menonjol - ini adalah Milton Bradley Microvision, game elektronik portabel pertama dengan kartrid yang dapat diganti, yang menggunakan kedua mikrokontroler di atas.  Saya juga akan mencoba untuk memikirkan spesifik pengembangan untuk konsol ini. <br><br><h3>  Deskripsi Umum </h3><br> <a href=""><img src="https://habrastorage.org/webt/9_/vz/pz/9_vzpzmfre7fck4ey-suxwkrgna.jpeg"></a> <br><br>  Microvision dirilis di Amerika Serikat hampir empat puluh tahun yang lalu, pada tahun 1979.  Secara total, 12 kartrid dengan game dijual untuknya, di antaranya - datang lengkap dengan konsol Block Buster (analog dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Breakout</a> ), olahraga - Bowling dan Baseball, versi elektronik dari game papan terkenal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Connect Four</a> , Pinball dan lainnya.  Sebagian besar game dapat dievaluasi pada emulator <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MVEM</a> , yang dibuat berdasarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">serangkaian publikasi yang menarik</a> , dari mana saya juga belajar banyak hal berguna.  Di sini saya tidak akan membahas secara terperinci tentang deskripsi game konsol asli, tetapi saya akan segera beralih ke dunia batinnya. <br><br> <a href=""><img src="https://habrastorage.org/webt/gr/gu/lb/grgulbct_3jmlu9830qx2upfble.jpeg"></a> <br><br>  Fitur penting dari konsol ini adalah LCD 2 inci dengan resolusi 16x16 piksel.  Cukup primitif dengan standar saat ini, tetapi dibandingkan dengan rakitan LED dan indikator vakum-luminescent yang digunakan dalam game portabel saat itu, layar LCD matriks adalah langkah yang agak progresif.  Selain Microvision, pada tahun yang sama, serangkaian game elektronik Mego Mini-Vid dengan layar yang sama muncul dijual, meski 13x20.  Rupanya, pada saat itu, ini adalah satu-satunya perangkat yang dijual dengan matriks LCD dengan resolusi seperti itu. <br><br><img src="https://habrastorage.org/webt/ga/uh/tv/gauhtvjy3-ltagudiptipvvl6lm.jpeg"><br><br>  Layar dikontrol oleh chip Hughes SCUS0488 - ini adalah driver LCD matriks.  Pengemudi ditenagai oleh stabilisator tegangan negatif UA79MG dengan sepasang kapasitor dan resistor, yang merupakan basis elemen paling sederhana. <br> <a href=""><img src="https://habrastorage.org/webt/ws/li/pb/wslipbri9usvwd5o8eztgddsnry.jpeg"></a> <br><br>  Dalam casing konsol juga terdapat kontrol - matriks tombol 4x3 dan resistor variabel 10kÎ© sebagai pemukul.  Untuk reproduksi suara ada piezodynamic. <br><br>  Yang paling penting adalah mengapa Microvision membuat sejarah, dan semua orang lupa tentang Mini-Vid yang disebutkan di atas, menggunakan kartrid yang bisa diganti. <br><br> <a href=""><img src="https://habrastorage.org/webt/12/ke/qw/12keqw-kmdbgoo85q50i2yunnjc.jpeg"></a> <br><br>  Secara eksternal, kartrid adalah bagian atas perumahan yang dapat dilepas.  Di tengah-tengah kartrid ada jendela plastik yang menutupi layar, di mana elemen-elemen permainan warna dan prasasti individu diterapkan untuk setiap permainan.  Di bawah ini adalah lubang untuk tombol yang ditutupi oleh film tipis, di mana tanda tangan diterapkan, dan untuk setiap permainan, lubang dibuat hanya untuk tombol yang digunakan.  Mungkin, susunan kartrid ini, menurut penulis, memungkinkan untuk memaksimalkan adaptasi konsol ke permainan tertentu. <br><br> <a href=""><img src="https://habrastorage.org/webt/ub/od/ou/ubodouuncl6f7az9o4v8n2slwuq.jpeg"></a> <br>  <i>Papan permainan Block Buster, dalam kasing dan di belakang</i> <br><br>  Bagian elektronik dari kartrid dibangun di atas satu dari dua mikrokontroler - TMS1100 atau Intel 8021 dengan harness yang diperlukan.  Menempatkan "otak" konsol dalam kartrid mungkin tampak seperti keputusan yang agak aneh, tetapi itu hanya memungkinkan Anda bertahan dengan dua chip per game.  Selain itu, ia juga menambahkan fleksibilitas.  Pada saat yang sama, harga kartrid, tampaknya karena kehadiran mikrokontroler, tidak meningkat banyak (misalnya, biaya 8021 dalam lot besar pada tahun 1976 adalah sekitar $ 3). <br><br>  Semua ini memberi satu atau dua mahkota yang terhubung secara paralel (8021 cukup rakus).  Selain itu, dalam versi yang lebih baru, kontak untuk baterai kedua telah dihapus, dan sisa ruang direkomendasikan untuk digunakan untuk baterai cadangan.  Rupanya, ini karena fakta bahwa pengguna sering bingung polaritas, mendapatkan hubungan pendek yang agak berbahaya. <br><br><h3>  Dasi </h3><br>  Saya membeli konsol kuno ini untuk menulis beberapa jenis game dan membuat cartridge, dan jika mungkin, menyalin elemen dasar dari aslinya sebanyak mungkin. <br>  Tetapi ada satu masalah yang signifikan - bahwa TMS1100, bahwa Intel 8021 memiliki ROM bertopeng, mis.  diprogram di pabrik selama proses pembuatan.  Ada jalan keluar untuk mikrokontroler Intel: 8021 adalah versi 8048 yang dilucuti, yang juga memiliki ROM bertopeng, tetapi Intel menghasilkan analog 8048 dengan ROM yang dapat diprogram - 8748, keduanya dalam hal penghapusan ultraviolet dan lebih murah setelah diprogram. <br><br>  Sayangnya, situasinya jauh lebih buruk untuk TMS1100 - ada versi debug chip yang bekerja dengan ROM eksternal - TMS1098, tetapi membelinya sekarang, jika mungkin, sangat sulit.  Selain itu, chip dibuat dalam paket DIP-64, itu besar dalam dirinya sendiri dan tidak akan masuk ke dalam panjang cartridge, tetapi ROM yang agak besar juga diperlukan. <br><br>  Secara umum, 8748 yang dapat dihapus-UV adalah yang Anda butuhkan, dan versi final kartrid dapat dibuat pada versi yang tidak terhapuskan. <br><br> <a href=""><img src="https://habrastorage.org/webt/kg/gs/jp/kggsjpioqodpscq5i9orcdp_0im.jpeg"></a> <br>  <i>Di atas adalah P8748H satu-programmable dan di bawah ini adalah D8748H yang dapat dihapus-UV</i> <br><br><h3>  Intel 8021 </h3><br>  Di bawah ini adalah deskripsi singkat dari 8021, bukan 8748, karena  Saya hanya akan menggunakan fitur terpotong 8021 untuk memiliki hanya sumber daya yang awalnya ditetapkan oleh pengembang konsol. <br><br>  Subsistem memori, seperti seluruh keluarga MCS-48, didasarkan pada arsitektur Harvard yang dimodifikasi.  Memori program adalah ROM internal 1024 byte, memori data adalah 64 byte RAM dinamis. <br><br>  Organisasi RAM ditunjukkan pada gambar berikut: <br><br><img src="https://habrastorage.org/webt/ak/9m/2y/ak9m2y_m9qmrnnwbj8a8f55slf4.png"><br><br>  Sel 0â€“7 menempati register kerja yang langsung dialamatkan, R0 - R7, dengan R0 dan R1 digunakan sebagai pointer untuk akses tidak langsung ke semua sel RAM.  Sel 8-23 digunakan untuk tumpukan panggilan 8-tingkat, meskipun mereka juga dapat digunakan melalui R0-R1. <br><br>  Mikrokontroler memiliki generator clock built-in, frekuensi referensi diatur oleh kuarsa eksternal, rantai RC atau rantai LC.  Siklus alat berat berlangsung 10 siklus, dan setiap siklus membutuhkan 3 periode frekuensi referensi.  Frekuensi maksimum adalah 3,58 MHz, sementara siklus mesin berlangsung 8,38 Î¼s.  Frekuensi minimum dibatasi oleh spesifikasi DRAM dan 600 kHz. <br><br>  8021 berisi dua port 8-bit dan satu 4-bit, yang juga dapat digunakan untuk menghubungkan expander port I / O, chip 8243. Semua port adalah kuasi-bidirectional. <br><br>  Selain itu, mikrokontroler memiliki penghitung / penghitung delapan digit bawaan.  Dalam mode waktu, penghitung T bertambah 1 setiap 32 siklus mesin.  Pada overflow T, flag TF diatur.  Dalam mode penghitung, pulsa dihitung pada input tes T1. <br><br>  Sistem perintah berisi 64 instruksi, yang 36 dijalankan dalam satu siklus, dan 28 dalam dua.  Sebagian besar instruksi adalah byte tunggal. <br><br><div class="spoiler">  <b class="spoiler_title">Daftar instruksi dengan deskripsi singkat</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dy/lw/hd/dylwhdauhna9z62ivd8z2slns-s.png"><br></div></div><br><h3>  Persiapan </h3><br>  Tidak ada masalah dengan pembelian 8748, yang utama adalah memperhatikan bahwa chip diproduksi menggunakan teknologi yang berbeda.  NMOP paling awal membutuhkan tegangan 25V untuk firmware, berlabel D8748.  Pada akhir 70-an, mikrokontroler ini mulai dibangun menggunakan teknologi HMOP-E (versi perbaikan dari NMOP Intel), diberi label D8748H dan sudah membutuhkan 21V.  Tegangan yang sama diperlukan oleh klon kemudian dari NEC (mPD8748H).  Versi yang dapat diprogram satu kali diberi label P8748H. <br><br>  Penghapus UV dibeli oleh orang Cina yang paling sederhana dan termurah dengan pengatur waktu mekanis, yang, seperti yang diperlihatkan oleh praktik, mengatasi tugasnya dengan sempurna (meskipun tidak ada keakuratan pengukur waktu pada interval pendek).  Ini andal menghapus ROM chip dalam ~ 2,5 menit.  Kemudian, saya membeli penghapus ZAX Quick-EII dengan harga simbolis dari tangan Jepang, saya bahkan tidak tahu tahun berapa, dengan tampilan awal tahun 90-an.  Ia menggunakan xenon flash dan menghapus 8748 dalam 3 (!) Detik, secara harfiah.  Video (bukan milik saya) dengan demonstrasi pekerjaan dapat dilihat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Masalah utama adalah programmer.  Dukungan untuk keluarga Intel yang usang ini dalam programer modern hanya tersedia dengan biaya $ 300.  Meskipun, ada Willem amatir yang relatif murah yang dapat bekerja dengan MCS-48 melalui adaptor, tetapi membutuhkan LPT, yang tidak cocok untuk saya sama sekali.  Saya harus menyolder sendiri.  Saya, katakanlah, seorang amatir radio pemula, jadi saya menghabiskan sekitar satu minggu bersamanya, membuang salah satu dari dua 8748 yang telah tiba pada saat itu (walaupun saya menyukai pemikiran bahwa dia awalnya seperti itu).  Saya mengambil sirkuit yang diterbitkan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini sebagai</a> dasar, hanya mengadaptasinya untuk Atmega dan kekuatan 24V yang lebih nyaman.  Semua ini disolder di atas papan tempat memotong roti: <br><br><img src="https://habrastorage.org/webt/5c/tt/ut/5cttutbzs817thtcpq37vlakkx0.jpeg"><br><br>  Ternyata, tentu saja, sangat jelek, dan salah satu MOSFET bekerja sampai batas (bahkan sedikit untuk), tetapi, pada akhirnya, programmer mengatasi tugasnya dan melayani saya dengan baik. <br><br>  Jadi, semuanya sudah siap, firmware pengujian berkedip bahagia dengan LED, sekarang saatnya membuat kartrid. <br><br><h3>  Cartridge </h3><br>  Sebagian besar kartrid berfungsi pada TMS1100, karena  Signetics, yang merilis lisensi Intel 8021 Intel, tidak dapat menyediakan pasokan chip MB yang diperlukan.  Bahkan beberapa game yang sudah ditulis untuk 8.021 harus diangkut ke TMS1100.  Ini, kebetulan, memungkinkan kami untuk meninggalkan bundel berbahaya dua baterai, karena konsumsi mikrokontroler TI hanya 0,1W versus 1W untuk Intel.  Saya hanya memiliki satu dari 6 kartrid dengan 8021, ini adalah permainan Connect Four, dan diambil sebagai basis. <br><br>  Saya mencoba membuat papan yang mirip dengan aslinya mungkin, tetapi, tentu saja, saya harus membuat perubahan.  Pertama, ukuran chip (DIP-40 versus DIP-28) dan pinout yang berbeda.  Kedua, kami harus mengubah denominasi dalam rangkaian osilasi yang mengatur frekuensi clock, karena  siklus mesin untuk versi HMOS dari sirkuit mikro adalah 15 siklus, dan untuk versi MOS yang digunakan dalam kartrid asli, 30 siklus.  Oleh karena itu, untuk keaslian lengkap, kartrid saya akan bekerja pada 1,25 MHz terhadap 2,5 MHz asli, sambil memastikan kinerja yang sama. <br><br> <a href=""><img src="https://habrastorage.org/webt/bz/9f/zx/bz9fzxh_7-9-djp9yamoeog5tfe.jpeg"></a> <br><br>  Pada foto di atas, papan sirkuit cetak yang sudah jadi dipesan di Cina, dan ketika sedang menyala, saya menggambar dan menggores papan sirkuit dan memasang "kompleks debug": <br> <a href=""><img src="https://habrastorage.org/webt/yh/gx/vn/yhgxvntybge5njn2cw3dppmogrs.jpeg"></a> <br><br>  Akhirnya, bagian perangkat keras siap dan Anda dapat memulai pemrograman. <br><br><h3>  Tampilan </h3><br> <a href=""><img src="https://habrastorage.org/webt/wa/g6/jx/wag6jx-tblcypxvqvgmz-pwau_q.jpeg"></a> <br><br>  Pertama-tama, saya harus berurusan dengan output ke LCD.  Seperti yang saya tulis di atas, itu dikendalikan oleh driver Hughes 0488 menggunakan multiplexing (baru-baru ini sebuah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> menarik tentang cara kontrol LCD ini diterbitkan di HabrÃ©).  Ini adalah driver, bukan pengontrol, sehingga Anda tidak bisa hanya menghidupkan piksel dan menjalankan bisnis Anda, Anda harus terus memperbarui konten layar dengan frekuensi 30-50 Hz dengan perintah tingkat rendah. <br><br>  Diagram koneksi adalah sebagai berikut: <br><br> <a href=""><img src="https://habrastorage.org/webt/ul/ym/rg/ulymrgc1oyensrme_-wjhprv2_u.png"></a> <br><br>  Pinout H0488: <br><br>  <b>Vdd</b> - Power (3-8V) <br>  <b>R1-R16</b> - Output Kontrol String <br>  <b>C1-C16</b> - Output Kontrol Kolom <br>  <b>DATA0-DATA3</b> - Data Bus <br>  <b>! Data Clk</b> - Input jam perekaman <b>data</b> <br>  <b>Latch Pulse</b> - Pinout Status Signal R0-R15, C0-C15 <br><br>  Arti chip adalah sebagai berikut: <br><br>  Melalui 4 jalur informasi, keadaan yang diperlukan dari semua 32 output dari rangkaian mikro diatur secara berurutan (16 per baris dan kolom).  Yaitu  kami mengindikasikan dalam bagian 4-bit status output untuk baris 1-4, lalu 5-8, 9-12 dan akhirnya untuk 13-16, dan juga 4 kali dalam 4 bit, kami menunjukkan status kolom.  Setiap data baru di-clock oleh pulsa di sepanjang garis! DATA CLK.  Setelah kami mengirim semua 8 data, sebuah pulsa pada jalur Latch Pulse menetapkan status yang ditunjukkan dari output R1-R16, C1-C16 yang akan ditahan hingga pulsa berikutnya pada baris ini. <br><br>  Secara alami, dalam satu siklus seperti itu kami tidak dapat menunjukkan keadaan masing-masing piksel secara terpisah dari yang lain, kami hanya dapat 16 (dengan jumlah persimpangan baris dengan kolom).  Oleh karena itu, untuk secara mandiri memperbarui status setiap piksel, 256/16 = 16 siklus akan diperlukan. <br><br>  Selain itu, kami memiliki tanggung jawab untuk mengganti polaritas untuk menghilangkan tegangan konstan elektroda LCD, jika tidak, layar akan cepat rusak.  Peralihan polaritas terjadi di tepi belakang sinyal pada Latch Pulse pada input rendah! Data Clock.  Disarankan untuk mengganti polaritas dengan kecepatan refresh layar. <br><br>  Di atas diilustrasikan oleh bagan waktu berikut dari lembar data: <br><br><img src="https://habrastorage.org/webt/58/ok/zu/58okzuokeat3bg6nf98bppvxpco.png"><br><br>  Semua ini, diimplementasikan dalam assembler 8021 (yang, omong-omong, berkurang secara signifikan dibandingkan dengan assembler dari seluruh keluarga, semua untuk keaslian yang sama saya hanya menggunakan instruksi yang didukung oleh 8021), mungkin terlihat seperti ini: <br><br><pre><code class="hljs ruby">mov R<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">#32 ;    . mov r1, #10000000b ;    r1-r2 mov r2, #00000000b ;  . mov r4, #00000010b ;    !DATA CLK. mov r3, #11110000b clr c loop: ;   r1-r16   . mov a, r1 ;   r1 loadNibble ;    R1-R4. mov a, r1 ;  4   r1 rrc a ;      , xch a, r1 ;    . swap a loadNibble ;    R5-R8. mov a, r2 ;   r2 loadNibble ;    R9-R12. mov a, r2 ;  4   r2 rrc a ;      ,  xch a, r2 ;  C,     . swap a loadNibble ;    R13-R16 ;   C1-C16     . mov a, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@R</span></span></span><span class="hljs-comment">0 ;       loadNibble ;       C1-C4. mov a, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@R</span></span></span><span class="hljs-comment">0 swap a ;   4 . loadNibble ;     C4-C8. inc R0 ;     mov a, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@R</span></span></span><span class="hljs-comment">0 ;     , loadNibble ;      4 . mov a, </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@R</span></span></span><span class="hljs-comment">0 swap a ;   4 . loadNibble ;     C9-C12. inc R0 ;    inc a ;   R0-R15  C0-C15, outl p1, a ;  Latch Pulse  1. jnc loop ;      . clr a ; outl p1, a ; . inc a ; outl p1, a ; loadNibble macro anl a, r3 ;    . outl p1, a ;   . orl a, r4 outl p1, a ; !DATA CLK. endm</span></span></code> </pre> <br>  Ini adalah versi subrutin tercepat saya yang menampilkan gambar yang disimpan dalam RAM.  Ini dilakukan dalam 1152 siklus mesin (yang dalam kasus kami adalah ~ 12 Î¼s). <br><br>  Kecepatan refresh maksimum layar adalah sekitar 70 frame per detik (jika mikrokontroler tidak melakukan hal lain), yang pada dasarnya berlebihan, oleh karena itu, untuk menghemat register dan ROM, saya menggunakan rutinitas lain dalam praktik - lebih lambat dan lebih cocok untuk tugas-tugas tertentu.  Tetapi, pada frekuensi ini, dengan mempertimbangkan tingkat inertness yang tinggi dari tampilan ini, dimungkinkan untuk menampilkan gambar dengan 4 gradasi abu-abu (seperti niblonog di KPDV), yang dengan cepat mengubah bingkai.  Atau bahkan animasi empat warna pendek: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/9v/1z/jl9v1zg4fi77u_67qendhuxbtt0.gif"></div><br>  Seperti yang Anda lihat, kontrasnya jauh dari yang diinginkan, ini sangat mencolok ketika semua baris dan kolom terlibat, tetapi tidak ada yang harus dilakukan - biaya kontrol multipleks. <br><br><h3>  Keyboard </h3><br> <a href=""><img src="https://habrastorage.org/webt/yh/96/k4/yh96k4mzlmmxlt7bczu5whiozcg.jpeg"></a> <br><br>  Semuanya jauh lebih sederhana di sini.  Tombol-tombol dikelompokkan ke dalam matriks 4 baris dan 3 kolom.  Baris terhubung ke pin P0.4-P0.7, kolom terhubung ke P0.0-P0.2. <br><br> <a href=""><img src="https://habrastorage.org/webt/zk/2b/cy/zk2bcyshihgdt_h5ygvmxyu4gqw.png"></a> <br><br>  Seperti yang saya sebutkan di atas, port 8021 adalah quasi-bidirectional, oleh karena itu, untuk mengetahui status terminal, Anda harus terlebih dahulu mengirim unit kepada mereka.  Yaitu  saat memasukkan data, konjungsi terjadi antara sinyal input dan isi buffer, yang sesuai dengan data terbaru yang ditampilkan pada port.  Jajak pendapat keyboard terlihat seperti ini: <br><br><pre> <code class="hljs nginx"> <span class="hljs-attribute"><span class="hljs-attribute">mov</span></span> a, <span class="hljs-comment"><span class="hljs-comment">#01111111b ; 0        1, outl p0, a ; ,      . in a, p0 ; , 0       ;     </span></span></code> </pre><br><h3>  Dayung </h3><br> <a href=""><img src="https://habrastorage.org/webt/4n/ck/j1/4nckj1to9wuxdqnp4qbuzr4zrku.jpeg"></a> <br><br>  Atau, dalam bahasa Rusia, roda manipulator yang dipasang di bagian bawah konsol adalah resistor variabel 10kÎ© dengan pegangan dekoratif, yang dapat diputar untuk mengendalikan sesuatu dalam permainan.  Tentu saja, tidak ada ADC di 8021 atau TMS1100.  Sudut rotasi ditentukan oleh kecepatan pengisian kapasitor, yang secara hati-hati disolder ke papan konsol. <br><br> <a href=""><img src="https://habrastorage.org/webt/he/kh/k2/hekhk2fa7hrnv1odcm5lxximh7m.png"></a> <br><br>  Semuanya berfungsi sebagai berikut: sementara pin P2.2-P2.3 tinggi, kapasitor dilepaskan dan unit logis berada pada input uji T1.  Setelah kita mengatur pin P2.2-P2.3 ke level yang rendah, kapasitor akan mulai mengisi dan setelah beberapa saat, tergantung secara eksponensial pada resistansi dari variabel resistor, penurunan tegangan akan menjadi sedemikian rupa sehingga T1 diatur ke 0. Tetap hanya untuk mendeteksi waktu sampai munculnya nol pada T1, yang akan sebanding dengan sudut rotasi dayung (Lebih detail dan lebih menarik tentang skema tersebut dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DI HALT'a</a> ).  Dalam kode, ini mungkin terlihat seperti ini: <br><br><pre> <code class="hljs css"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">clr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mov</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">r1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">outl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p2</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> ; 0  <span class="hljs-selector-tag"><span class="hljs-selector-tag">P2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2-P2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">loop</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">inc</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">r1</span></span> ; <span class="hljs-selector-tag"><span class="hljs-selector-tag">r1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jt1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">loop</span></span> ;  <span class="hljs-selector-tag"><span class="hljs-selector-tag">T1</span></span>  <span class="hljs-selector-tag"><span class="hljs-selector-tag">mov</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#00110000b</span></span> ; 1  <span class="hljs-selector-tag"><span class="hljs-selector-tag">P2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2-P2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">outl</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p2</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> ;    </code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ir/2c/1y/ir2c1yukhpzppj3h9jznphe_s-k.gif"></div><br><br><h3>  Suara </h3><br>  Di sini cukup sederhana, piezodynamic terhubung ke dua baris port P2.0 dan P2.1, yang perlu kita lakukan adalah menyentak kaki bergantian dengan frekuensi yang tepat. <br><br><h3>  Apa yang terjadi </h3><br>  Akibatnya, saya menulis dua permainan - Tetris dan sejenis Flappy Bird.  Untuk debugging, saya menggunakan Intel D8748H dan klon NEC D8749HD hanya berbeda dalam ukuran ROM.  Saya menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">8048 Integrated Development Environment</a> sebagai assembler dan debugger.  Dalam prosesnya, saya mendapatkan pengalaman yang tak terlupakan - aliran konstan mikrokontroler dari konsol ke penghapus, dari penghapus ke programmer, dan dari sana kembali ke konsol, dan semua ini disertai dengan aroma rumah sakit dari udara terionisasi ultraviolet ... <br><br>  Saya menuliskan program yang telah selesai dalam Intel P8748H yang sebelumnya dapat diprogram yang saya solder pada papan sirkuit tercetak yang telah tiba saat itu. <br><br> <a href=""><img src="https://habrastorage.org/webt/_p/f8/oo/_pf8ool9qniaa7--uotj-o-bx6i.jpeg"></a> <br>  <i>Bandingkan dengan papan asli, dari kiri ke kanan: Block Buster, My option, Connect Four</i> <br><br>  Saya harus menggunakan yang asli sebagai kasing; Saya hanya punya satu dari dua kartrid yang tersedia untuk permainan Block Buster yang ternyata tidak beroperasi. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9gqDIIBmB2c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Lambung tidak cukup untuk game kedua: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zir4Owh1Pxc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Kesimpulan </h3><br>  Microvision MB diproduksi sebelum 1981, dan meskipun penjualan pada awalnya cukup berhasil, sejumlah kecil game (13 cartridge dirilis secara total) dan masalah kualitas biasanya disebut sebagai alasan untuk penurunan penjualan.  Saya akan menambahkan ukuran yang sangat besar ini, terutama dibandingkan dengan seri Nintendo Game &amp; Watch yang muncul saat itu dan menjadi hit. <br><br>  Kode sumber dan skema yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diterbitkan di GitHub</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416865/">https://habr.com/ru/post/id416865/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416851/index.html">Hibernate - tutorial apa yang dibungkam</a></li>
<li><a href="../id416855/index.html">Sarjana dari Universitas Negeri St. Petersburg</a></li>
<li><a href="../id416857/index.html">Kami membangun kuil - dalam kode dan dalam kehidupan. Pengalaman saya mengembangkan aplikasi Android kedua saya</a></li>
<li><a href="../id416859/index.html">Temui Semua Seketika Bereaksi Boilerplate oleh Maximilian Stoiber v3.6.0</a></li>
<li><a href="../id416863/index.html">Cara baru untuk memperkenalkan peserta pameran</a></li>
<li><a href="../id416867/index.html">Para peneliti telah menciptakan perangkat untuk serangan lokal pada sistem SCADA</a></li>
<li><a href="../id416871/index.html">Saya lelah menerima pembayaran melalui WebView. Apa yang harus saya lakukan</a></li>
<li><a href="../id416877/index.html">Cetak Manajemen Infrastruktur</a></li>
<li><a href="../id416879/index.html">Agile Office: Tempat Tuan Rumah Seribu Pengembang?</a></li>
<li><a href="../id416881/index.html">Pengantar kontrak pintar. Potensi dan keterbatasan nyata mereka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>