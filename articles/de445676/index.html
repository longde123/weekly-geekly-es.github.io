<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👺 👨🏽‍🏭 🕗 Neu in Git 3: Schließungen 👦🏻 🗂️ 👩‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git ist ein beliebtes Versionskontrollsystem. Darin wird die atomare Änderung einer oder mehrerer Dateien als Commit bezeichnet, und mehrere aufeinand...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neu in Git 3: Schließungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445676/"><p>  Git ist ein beliebtes Versionskontrollsystem.  Darin wird die atomare Änderung einer oder mehrerer Dateien als Commit bezeichnet, und mehrere aufeinanderfolgende Commits werden in einem Zweig kombiniert.  Zweige werden verwendet, um neue Ideen (Features) umzusetzen. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa5/222/85a/aa522285a7fd7fd5f8c597050956d878.svg"></div><p></p><br><p> Es kommt vor, dass sich die Idee als Sackgasse herausstellt, der Entwickler den falschen Weg abschaltet und ein Rollback auf die ursprüngliche Version erforderlich ist. Dazu müssen Sie den neuen Zweig vergessen und zum Hauptentwickler oder <strong>Master</strong> wechseln und dann weiterarbeiten, als wäre nichts passiert.  In diesem Fall bleibt der "Schuss" für immer hängen, wie der Wunsch, ihn zu entfernen.  Aber wie löscht man, wenn es Teil der Geschichte ist?  Dieser Prozess zeigt die Bemühungen des Workaholic-Programmierers, wenn auch vergebens.  Es ist einfacher, sich bei den Behörden zu melden, da ein erfolgloses Ergebnis auch ein Ergebnis ist! </p><br><p>  Ich beeile mich zu gefallen: Die Git-Entwickler in Version 3 werden einen neuen Befehl einführen, um solche streunenden Zweige zu schließen.  Ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">möchte</a> Sie daran erinnern, dass die aktuelle Version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.21.0 ist</a> . </p><br><p>  Wie man dieses Team einsetzt, was gibt es und was denken IT-Unternehmen?  Der Artikel beantwortet diese und andere Fragen. </p><a name="habracut"></a><br><h2 id="opisanie">  Beschreibung </h2><br><p>  Jetzt können Sie einen nicht erfolgreichen Zweig mit einem der vorherigen Commits schließen.  Die Bögen des Fehlers sind in den folgenden Abbildungen gelb gefärbt. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/c59/f42/831c59f42a1c28e9316781e918ab5ad2.svg"></div><br><br><p> Hier ist Commit <code>4</code> das letzte für eine nicht erfolgreiche Funktion.  Er wurde von <code>1</code> geschlossen und kehrte dann zum Meister zurück und ging von Commit <code>5</code> in die andere Richtung. </p><br><p>  Sie können das Commit auch in sich selbst sperren und so <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schleifen</a> erstellen: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e2/d3b/c7f/6e2d3bc7f118f60d4e3a05762bda92ea.svg"></div><br><br><p>  Sie können sich an jedes Commit binden - smart Git berechnet den Unterschied und kombiniert alles richtig: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/1e3/7e1/61f1e37e1861b8307f715fd3b003fa2c.svg"></div><br><br><h2 id="kak-polzovatsya">  Wie benutzt man? </h2><br><p>  Der <code>merge</code> Befehl enthält keine Closure-Funktionalität, da der Zweig im ersten Fall <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schnell gefälscht</a> wird und im zweiten Fall nichts <code>git already up to date</code> wird ( <code>git already up to date</code> ). </p><br><p>  Um das alte Verhalten nicht zu ändern, haben die Entwickler beschlossen, einen Befehl zum Schließen einzugeben: </p><br><pre> <code class="plaintext hljs">git closure -s $source_commit -d $dest_commit -m $message</code> </pre> <br><p>  Das erste Argument <code>-s $source_commit</code> gibt den Hash des Commits an, aus dem eine Schleife ausgeführt werden soll, und das zweite, optional <code>-d $dest_commit</code> , gibt das Commit an, in dem die Schleife geschlossen werden muss.  Wenn es nicht vorhanden ist, erfolgt die Schließung in der aktuellen Check-out-Filiale.  Der Parameter <code>-m $message</code> legt fest, dass die Abschlussnachricht, z. B. die <code>failed feature, revert to origin</code> .  Es ist jedoch auch die Option <code>--allow-empty-message</code> verfügbar, die Commits ohne Nachrichtentext ermöglicht.  Standardmäßig erlaubt Git genau einen Abschluss für ein paar Commits.  Um diese Einschränkung zu <code>--allow-multiple-closures</code> , ist die Option <code>--allow-multiple-closures</code> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/735/680/0d4735680312484fdb0f59ee1bf3ec56.svg"></div><br><p>  Nachdem der Befehl ausgeführt wurde, berechnet der Git selbst die Änderungen, und beim endgültigen Festschreiben wird Double Diff angezeigt: vom Basis- und vom nachfolgenden Zweig.  Im Allgemeinen handelt es sich hierbei um ein n-dimensionales Diff, dh Sie können das Schließen so oft durchführen, wie Sie möchten.  Closure-Commit ähnelt Merge-Commit mit dem Unterschied, dass mehrere Nachrichten gespeichert werden, nicht eine. </p><br><p>  Leider unterstützen die vorhandenen GUIs für die Arbeit mit Git Schließungen noch nicht vollständig.  Die Vorschau-Version von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitExtensions erstellt</a> Kurven wie eine Zusammenführung anstelle eines schönen Bogens.  Beachten Sie die neuen Felder <code>Closure message</code> und <code>Closure diff</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w0/pn/ny/w0pnny3xyxyhdhr1pk9h8i03whk.png"></div><br><p>  Es ist erwähnenswert, dass das <code>closure</code> immer den Verlauf ändert (Git, jetzt ist Git eine vollwertige Zeitmaschine!). Jetzt können <code>--force</code> Zweige nur noch mit der Option <code>--force</code> oder mit der sicheren Option <code>--force-with-lease</code> . </p><br><p>  Rebases für Zweige mit Schleifen sind ebenfalls verfügbar, die Logik zum Nachzählen von Commits in ihnen ist jedoch kompliziert. </p><br><p>  Mit der Option <code>auto</code> können Sie außerdem alle alten Zweige automatisch schließen.  In diesem Fall ist das Abschluss-Commit dasjenige, von dem aus die Verzweigung gestartet wurde.  Mit Plugins für die Git-IDE können Schließungen regelmäßig ausgeführt werden.  In GitExtensions entfernt ein ähnliches Plugin zum <strong>Löschen veralteter Zweige</strong> veraltete Zweige. </p><br><h2 id="mnenie-it-kompaniy">  Meinung von IT-Unternehmen </h2><br><p>  Große IT-Unternehmen: Google, Facebook, Apple, DeepMind, Positive Technologies und insbesondere Microsoft freuen sich auf Schließungen, da jetzt der Lebenszyklus von Filialen, auch nicht zusammenhängender, formalisiert werden kann. </p><br><p>  Einer der Top-Manager von Microsoft, Michael Richter, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schreibt</a> : </p><br><blockquote>  Die neue Funktion des Git wird sicherlich das Chaos in der Welt der Open Source-Entwicklung reduzieren und nicht nur.  Unsere Repositories haben viele hängende Zweige.  Zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gibt</a> es mehr als 200 davon in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vscode</a> und mehr als 300 davon in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TypeScript</a> !  Und das ist nicht nur das Problem von Microsoft.  Abschlüsse verbessern nicht nur die Organisation, sondern ermöglichen es Ihnen auch, die Argumentation des Programmierers zu verfolgen, die selbst für Kollegen manchmal völlig unverständlich ist :) Abschlüsse erinnerten mich an den Film "Zurück in die Zukunft" - in dem die Charaktere in die Vergangenheit und in die Zukunft reisten.  Ich liebe diesen Film, ich habe ihn mehrmals rezensiert.  Und ich denke, dass ich den Git deswegen noch mehr lieben werde :) </blockquote><br><h2 id="na-zametku">  Hinweis </h2><br><p>  Wenn der Commit-Graph früher ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gerichteter azyklischer Graph</a> (DAG) war, erweitern ihn Verschlüsse auf einen verallgemeinerten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gerichteten Graphen</a> .  Mit Git ist es möglich, reguläre Ausdrücke zu beschreiben, in denen die Zustände festgeschrieben sind, und das Alphabet ist die Menge aller Nachrichten.  Dies riecht jedoch nach "abnormaler Programmierung" des Hubs und geht daher über den Rahmen des Artikels hinaus.  Wenn Sie jedoch daran interessiert sind, lesen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> , in dem beschrieben wird, wie Sie Stammbäume in Git speichern können. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445676/">https://habr.com/ru/post/de445676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445666/index.html">Wir brauchen einen vorgefertigten Juni - unterrichten Sie ihn selbst oder wie wir einen Seminarkurs für Studenten gestartet haben</a></li>
<li><a href="../de445668/index.html">Neoquest 2019: Verbindung mit dem Himmel</a></li>
<li><a href="../de445670/index.html">Folgen des Umschreibens von Firefox-Komponenten in Rust</a></li>
<li><a href="../de445672/index.html">Myonenkatalyse in Bezug auf die Quantenchemie. Teil II: elektronisch vs. Myon chemische Bindung</a></li>
<li><a href="../de445674/index.html">PVS-Studio für Java macht sich auf den Weg. Nächster Halt ist Elasticsearch</a></li>
<li><a href="../de445678/index.html">4. Check Point Erste Schritte R80.20. Installation und Initialisierung</a></li>
<li><a href="../de445680/index.html">Neues Feature in Git 3: Schließungen</a></li>
<li><a href="../de445682/index.html">PVS-Studio für Java wird an den Pfad gesendet. Nächster Halt ist Elasticsearch</a></li>
<li><a href="../de445684/index.html">Monoblock gegen modulare USV</a></li>
<li><a href="../de445686/index.html">Anwendungsentwicklung für einen alten PDA (Cybiko Xtreme) im Jahr 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>