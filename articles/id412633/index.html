<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃🏼 👩🏾‍🎓 🥂 Pengalaman mengkonfigurasi dan menggunakan WSL (Linux subsystem di Windows 10) 🚬 👒 💞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya diminta untuk menulis artikel ini dengan pertanyaan tentang Toaster terkait dengan WSL. Saya, setelah beberapa tahun menggunakan sistem pada kern...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengalaman mengkonfigurasi dan menggunakan WSL (Linux subsystem di Windows 10)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412633/"><p>  Saya diminta untuk menulis artikel ini dengan pertanyaan tentang Toaster terkait dengan WSL.  Saya, setelah beberapa tahun menggunakan sistem pada kernel Linux, sekitar enam bulan yang lalu, beralih menggunakan Windows 10 pada PC rumahan.  Ketergantungan pada lingkungan terminal dan Linux dalam pekerjaan saya hampir segera membawa saya ke pertanyaan: apakah menginstal mesin virtual atau mencoba WSL.  Saya memilih yang kedua, dan benar-benar puas. </p><br><p>  Di bawah cat, saya akan memberi tahu Anda cara menginstal dan mengkonfigurasi WSL, masalah dan batasan apa yang saya temui, cara menjalankan aplikasi Linux dari Windows dan sebaliknya, serta bagaimana mengintegrasikan elemen lingkungan Xfce ke lingkungan desktop Windows. </p><br><p><img src="https://habrastorage.org/webt/-0/ns/in/-0nsinltsgqffm37apocivmp4d8.png"></p><a name="habracut"></a><br><p>  Saya tidak pernah berpikir bahwa saya akan kembali ke Windows suatu hari, tetapi kombinasi keadaan memberi saya alasan untuk mencoba: istri saya, jauh dari IT, menarik hampir setiap kali dia perlu menggunakan komputer;  bangun nostalgia untuk satu pertandingan, tetapi dia tidak ingin bekerja secara memadai di bawah anggur;  dan kemudian mereka memberi saya kotak Windows 10 Pro.  Saya menginstal WSL segera setelah menginstal sistem, bermain-main untuk beberapa malam, saya menyadari bahwa produk ini cocok untuk tugas-tugas saya, tetapi saya ingin terminal yang lebih akrab dan umumnya beberapa fasilitas. </p><br><h3 id="ustanovka-wsl-i-distributiva">  Instal WSL dan distribusinya </h3><br><p> Segera melakukan reservasi, di Internet Anda dapat menemukan deskripsi instalasi dengan menjalankan perintah <code>lxrun /install</code> pada baris perintah atau konsol PowerShell.  Metode ini tidak lagi berfungsi (setelah rilis WSL dalam rilis stabil).  Sejauh yang saya tahu, sekarang WSL hanya dapat diinstal dari Microsoft Store bersama dengan distribusi pilihan Anda. </p><br><p>  Saya juga mencatat bahwa ketika saya melakukan instalasi, distribusi OpenSUSE, SUSE Linux Enterprise, dan Ubuntu 16.04 tersedia untuk dipilih - yang terakhir saya instal.  Ubuntu 18.04, Debian 9 dan Kali Linux juga tersedia sekarang, dan distribusi lainnya dapat muncul.  Langkah-langkah instalasi dapat bervariasi.  Selain itu, beberapa masalah yang dijelaskan dalam artikel ini mungkin sudah diperbaiki. </p><br><p>  Kami menemukan distribusi yang diinginkan di toko dan menginstalnya.  Instalasi akan cepat, karena itu hanya akan mengunduh emulator kernel Linux dan utilitas untuk meluncurkan subsistem, yang akan berada di folder sistem dalam tiga contoh: wsl.exe, bash.exe dan ubuntu.exe (bukan ubuntu akan ada nama kit distribusi Anda).  Semuanya setara dan melakukan hal yang sama - mereka menjalankan emulator terminal sendiri, di dalamnya linux'ovy bash bekerja di bawah emulator kernel.  Pada awal pertama, kita akan diminta untuk membuat nama pengguna dan kata sandi default untuk pengguna, dan setelah itu distribusi akan diinstal secara langsung.  Sebagai pengguna default, tentukan root tanpa kata sandi - ini akan diperlukan untuk langkah selanjutnya.  Keamanan tidak akan terpengaruh, di samping itu, ketika menyiapkan bahan untuk artikel, dalam tutorial berbahasa Inggris, saya menemukan informasi bahwa versi baru WSL sekarang membuat pengguna root default tanpa kata sandi tanpa pertanyaan yang tidak perlu. </p><br><p>  Kami sedang menunggu instalasi.  Selanjutnya, hal pertama adalah memperbarui mirror apt untuk selanjutnya.  Untuk melakukan ini, Anda memerlukan editor teks CLI.  Hanya vi yang disertakan, tapi saya lebih suka nano, jadi saya katakan: </p><br><pre> <code class="bash hljs">apt install nano</code> </pre> <br><p>  sudo tidak diperlukan, karena kita sudah root.  Edit file /etc/apt/sources.list: </p><br><pre> <code class="bash hljs">nano /etc/apt/sources.list</code> </pre> <br><p>  Mirror Yandex paling cocok untuk saya, jadi file saya terlihat seperti ini: </p><br><pre> <code class="hljs ruby">deb <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial main universe restricted deb-src http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial main universe restricted deb http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial-security main universe restricted deb-src http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial-security main universe restricted deb http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial-updates main universe restricted deb-src http:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/mirror.yandex.ru/ubuntu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ xenial-updates main universe restricted</span></span></code> </pre> <br><p>  Tekan Ctrl + O untuk menyimpan dan Ctrl + X untuk keluar.  Sekarang Anda dapat memperbarui sistem ke kondisi saat ini: </p><br><pre> <code class="bash hljs">apt update &amp;&amp; apt upgrade</code> </pre> <br><p>  Setelah pembaruan, Anda dapat membuat pengguna utama kami.  Pada artikel ini saya akan menyebutnya user1, tetapi Anda dapat menentukan nama yang biasa: </p><br><pre> <code class="bash hljs">addgroup --gid 1000 user1 adduser --home /home/user1 --shell /bin/bash --uid 1000 -G user1,sudo user1</code> </pre> <br><p>  Selanjutnya, buka folder pengguna, buka di bawahnya, setel kata sandi dan edit file ~ / .bashrc: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/user1 su user1 passwd nano .bashrc</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Bashrc dasar saya terlihat seperti ini</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># If not running interactively, don't do anything case $- in *i*) ;; *) return;; esac # don't put duplicate lines or lines starting with space in the history. # See bash(1) for more options HISTCONTROL=ignoreboth # append to the history file, don't overwrite it shopt -s histappend # for setting history length see HISTSIZE and HISTFILESIZE in bash(1) HISTSIZE=1000 HISTFILESIZE=2000 # check the window size after each command and, if necessary, # update the values of LINES and COLUMNS. shopt -s checkwinsize # If set, the pattern "**" used in a pathname expansion context will # match all files and zero or more directories and subdirectories. #shopt -s globstar # make less more friendly for non-text input files, see lesspipe(1) [ -x /usr/bin/lesspipe ] &amp;&amp; eval "$(SHELL=/bin/sh lesspipe)" # set variable identifying the chroot you work in (used in the prompt below) if [ -z "${debian_chroot:-}" ] &amp;&amp; [ -r /etc/debian_chroot ]; then debian_chroot=$(cat /etc/debian_chroot) fi # set a fancy prompt (non-color, unless we know we "want" color) case "$TERM" in xterm|xterm-color|*-256color) color_prompt=yes;; esac # uncomment for a colored prompt, if the terminal has the capability; turned # off by default to not distract the user: the focus in a terminal window # should be on the output of commands, not on the prompt #force_color_prompt=yes if [ -n "$force_color_prompt" ]; then if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then # We have color support; assume it's compliant with Ecma-48 # (ISO/IEC-6429). (Lack of such support is extremely rare, and such # a case would tend to support setf rather than setaf.) color_prompt=yes else color_prompt= fi fi if [ "$color_prompt" = yes ]; then if [[ ${EUID} == 0 ]] ; then PS1='${debian_chroot:+($debian_chroot)}\[\033[01;31m\]\h\[\033[01;34m\] \W \$\[\033[00m\] ' else PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\] \[\033[01;34m\]\w \$\[\033[00m\] ' fi else PS1='${debian_chroot:+($debian_chroot)}\u@\h \w \$ ' fi unset color_prompt force_color_prompt # If this is an xterm set the title to user@host:dir case "$TERM" in xterm*|rxvt*) PS1="\[\e]0;${debian_chroot:+($debian_chroot)}\u@\h \w\a\]$PS1" ;; *) ;; esac # enable color support of ls and also add handy aliases if [ -x /usr/bin/dircolors ]; then test -r ~/.dircolors &amp;&amp; eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)" alias ls='ls --color=auto' #alias dir='dir --color=auto' #alias vdir='vdir --color=auto' alias grep='grep --color=auto' alias fgrep='fgrep --color=auto' alias egrep='egrep --color=auto' fi # colored GCC warnings and errors #export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01' # some more ls aliases alias ll='ls -alF' alias la='ls -A' alias l='ls -CF' # Add an "alert" alias for long running commands. Use like so: # sleep 10; alert alias alert='notify-send --urgency=low -i "$([ $? = 0 ] &amp;&amp; echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//'\'')"' # Alias definitions. # You may want to put all your additions into a separate file like # ~/.bash_aliases, instead of adding them here directly. # See /usr/share/doc/bash-doc/examples in the bash-doc package. if [ -f ~/.bash_aliases ]; then . ~/.bash_aliases fi # enable programmable completion features (you don't need to enable # this, if it's already enabled in /etc/bash.bashrc and /etc/profile # sources /etc/bash.bashrc). if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fi fi</span></span></code> </pre> </div></div><br><p>  Semuanya, subsistem siap digunakan ... hampir ... </p><br><h3 id="ustanovka-x-servera-xfce-i-prochih-guishnyh-prilozheniy">  Menginstal X Server, Xfce, dan Aplikasi GUI Lainnya </h3><br><p>  Masalah pertama yang saya temui - bash-completion di emulator terminal yang diusulkan bekerja, untuk membuatnya lebih ringan, salah.  Selain itu, emulator ini tidak tahu cara menggunakan tab, dan setiap instance memulai segala sesuatu dalam ruang proses baru, dengan init terpisah (yang, omong-omong, tidak dapat diganti).  Saya ingin emulator terminal normal, beberapa aplikasi GUI lainnya, serta soket untuk memulai semuanya dengan cepat. </p><br><p>  Ketika saya mencari pertanyaan ini di Google, saya menemukan banyak masalah, seperti kebutuhan untuk menerjemahkan dbus ke protokol tcp.  Saat ini, tidak ada masalah seperti itu.  Unix-domain-sockets bekerja secara normal di subsistem dan semuanya berkomunikasi dengan tenang melalui mereka. </p><br><p>  Pertama-tama, kita perlu X-server, apalagi, diinstal di sistem utama (di Windows).  Secara pribadi, saya menggunakan VcXsrv untuk tujuan ini - port X11 pada Windows.  Situs resmi yang ditentukan dalam tentang utilitas itu sendiri tidak menyediakannya sekarang, oleh karena itu kami memasang google installer dan menginstal semuanya secara default. </p><br><p>  Ketika instalasi sedang berlangsung, kami kembali ke terminal WSL, dengan perintah keluar kami keluar kembali ke root.  Pertama, konfigurasikan lokal Rusia: </p><br><pre> <code class="bash hljs">locale-gen ru_RU locale-gen ru_RU.UTF-8 update-locale</code> </pre> <br><p>  Selanjutnya, instal beberapa komponen Xfce.  Tentu saja, Anda dapat menginstalnya sepenuhnya dari paket-meta, tetapi kita tidak akan memerlukan sebagian besar komponen, dan arsitektur modular Xfce memungkinkan kita untuk memasok hanya yang diperlukan: </p><br><pre> <code class="bash hljs">apt install -y xfce4-session xfce4-notifyd xfce4-appfinder xfce4-panel xfce4-quicklauncher-plugin xfce4-whiskermenu-plugin xfce4-xkb-plugin xfce4-settings xfce4-terminal xfce4-taskmanager mousepad</code> </pre> <br><p>  Sangat tidak nyaman menjalankan lingkungan dengan tangan Anda setiap kali, jadi saya mengotomatiskan proses ini.  Untuk melakukan ini, di sistem utama, buat folder di tempat yang nyaman bagi kami, dan di dalamnya 3 file untuk dijalankan: </p><br><ol><li>  <strong>config.xlaunch</strong> - file pengaturan untuk VcXsrv <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">XLaunch</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">WindowMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MultiWindow"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ClientMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NoClient"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LocalClient</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Display</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LocalProgram</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xcalc"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">RemoteProgram</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xterm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">RemotePassword</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">PrivateKey</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">RemoteHost</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">RemoteUser</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">XDMCPHost</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">XDMCPBroadcast</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">XDMCPIndirect</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clipboard</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ClipboardPrimary</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ExtraParams</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Wgl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DisableAC</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">XDMCPTerminate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"False"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> </li><li><p>  <strong>x-run.vbs</strong> - WSL selalu dimulai dengan emulator terminalnya, jika Anda menutupnya, semua proses turunannya akan berakhir.  Agar jendela ini tidak berperasaan mata, ada baiknya menjalankannya tersembunyi.  Untungnya, Windows memiliki interpreter VBScript bawaan yang memungkinkan Anda melakukan ini dalam satu baris: </p><br><pre> <code class="vbscript hljs">WScript.<span class="hljs-built_in"><span class="hljs-built_in">CreateObject</span></span>(<span class="hljs-string"><span class="hljs-string">"Shell.Application"</span></span>).ShellExecute <span class="hljs-string"><span class="hljs-string">"wsl"</span></span>, <span class="hljs-string"><span class="hljs-string">"cd /home/user1; DISPLAY=:0 LANG=ru_RU.UTF-8 su user1 -c xfce4-session"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"open"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p>  Izinkan saya menjelaskan apa yang terjadi di sini.  Kami memberi tahu VBscript untuk menjalankan aplikasi wsl dengan <code>cd /home/user1; DISPLAY=:0 LANG=ru_RU.UTF-8 su user1 -c xfce4-session</code>  <code>cd /home/user1; DISPLAY=:0 LANG=ru_RU.UTF-8 su user1 -c xfce4-session</code> , folder awal tidak penting bagi kami, jadi baris kosong, tindakan terbuka - mulai, 0 - mode tersembunyi.  Kami memberikan wsl sendiri perintah untuk dieksekusi: buka folder pengguna, kemudian dengan pengaturan variabel lingkungan DISPLAY (tampilan server X) dan LANG (digunakan lokal) kami menjalankan sesi xfce4 atas nama pengguna pengguna kami1 (berkat perintah su) </p><br></li><li>  <strong>start.bat</strong> - file batch untuk dijalankan, opsional Anda dapat memasukkannya ke startup <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">start</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.xlaunch</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">wscript</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">x-run</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.vbs</span></span></code> </pre> </li></ol><br><p>  Selanjutnya, kita dapat menjalankan start.bat dan mengkonfigurasi panel Xfce untuk diri kita sendiri.  Saya perhatikan bahwa di sini saya menemukan satu masalah lagi - panel ditampilkan dengan sempurna di atas semua jendela, tetapi tidak dapat mengalokasikan tempat untuk dirinya sendiri seperti panel di desktop Windows.  Jika ada yang tahu solusi untuk masalah ini, bagikan di komentar. </p><br><p>  Nah, di akhir bagian ini, tangkapan layar desktop saya: </p><br><p><img src="https://habrastorage.org/webt/ia/zp/-g/iazp-g5m4o_5tby6t52zl-nwau0.png"></p><br><h3 id="vzaimodeystvie-okruzheniya-windows-i-okruzheniya-podsistemy-linux">  Interaksi lingkungan Windows dan lingkungan subsistem Linux </h3><br><p>  Anda dapat menjalankan aplikasi Linux langsung dari Windows melalui 3 perintah yang sama - bash, wsl atau ubuntu.  Jangan lupa bahwa secara default peluncurannya adalah dari root, jadi Anda harus menurunkan privilege melalui <code>su</code> , Anda juga harus ingat untuk melewati variabel lingkungan DISPLAY =: 0 jika aplikasi memerlukan server X.  Anda juga perlu mengubah folder dari mana aplikasi harus bekerja melalui cd di dalam WSL.  Contoh, mari kita hitung md5 untuk file.txt pada disk D menggunakan Linux md5sum: </p><br><pre> <code class="hljs mel">wsl md5sum &lt; d:\<span class="hljs-keyword"><span class="hljs-keyword">file</span></span>.txt</code> </pre> <br><p>  Akses ke sistem file Linux juga tersedia, terletak di <code>%localappdata%\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs</code> .  Anda dapat membaca file dengan cara ini, tetapi menulisnya tidak disarankan, Anda dapat merusak sistem file.  Saya pikir masalahnya adalah bahwa Windows tidak dapat bekerja dengan hak dan pemilik sistem file Linux. </p><br><p>  Dari Linux, Anda juga dapat menjalankan aplikasi Windows.  Jalankan saja exe-shnik dan itu akan dieksekusi di sistem utama. </p><br><p>  Drive Windows dipasang di <code>/mnt</code> menurut huruf kecilnya.  Misalnya, drive D akan dipasang di <code>/mnt/d</code> .  Dari Linux, Anda dapat dengan bebas membaca dan menulis file Windows.  Anda dapat membuat symlink pada mereka.  Hak file tersebut akan selalu 0777, dan pemiliknya akan root. </p><br><p>  Tumpukan jaringan subsistem ini umum untuk Windows.  Server yang dibangkitkan di Linux akan tersedia di localhost di Windows dan sebaliknya.  Namun, unix-domain-socket untuk Windows hanya berupa file kosong, Anda hanya bisa menggunakannya di Linux.  Linux juga memiliki akses ke jaringan eksternal, termasuk mendengarkan port, jika firewall tidak melarang ini. <br>  ifconfig di Linux dan ipconfig di Windows memberikan informasi yang sama tentang antarmuka jaringan. </p><br><p>  Dari task manager Windows, Anda dapat dengan aman mengalahkan proses di dalam subsistem Linux.  Namun, Linux hanya akan melihat prosesnya. </p><br><h3 id="osobennosti-ogranicheniya-i-podvodnye-kamni">  Fitur, batasan, dan jebakan </h3><br><p>  Kernel Linux di WSL tidak nyata.  Ini hanya lapisan emulator, yang bagian dari tugas spesifik Linux melakukan sendiri, dan bagian proksi langsung ke kernel winNT.  Sebagian besar api diimplementasikan di dalamnya, tetapi tidak semua.  Anda tidak akan dapat merakit kernel Anda, Anda juga tidak dapat menghubungkan modul kernel (.ko, Obyek Kernel). </p><br><p>  Proses init WSL juga miliknya sendiri dan menggantinya, misalnya dengan system.d tidak akan berfungsi.  Saya sudah lama memiliki keinginan untuk menulis daemon manager saat bepergian yang akan bekerja dengan file system.d unit dan menyediakan antarmuka yang sama, tetapi semua tangan tidak dapat menjangkau. </p><br><p>  Tidak ada dukungan untuk openFUSE, karenanya, pemasangan sistem file virtual atau jarak jauh akan gagal.  Tidak mungkin untuk membuat mount dari file, mount sepertinya tidak dapat melakukan apa pun kecuali mengikat di sini. </p><br><p>  Juga tidak ada cara untuk mempartisi sistem file Linux menjadi beberapa partisi / disk. </p><br><p>  Akses langsung ke zat besi praktis tidak ada.  Semua sama, kita berada di kotak pasir Windows, dan tidak di Linux penuh.  / dev dan / sys terasa kosong, mereka hanya berisi perangkat virtual.  Akses ke GPU - hanya melalui X-server, secara langsung - dengan cara apa pun, sehingga Anda harus melatih jaringan saraf pada Windows. </p><br><p>  Dalam pengembangan JS, saya menemukan fakta bahwa electron.js menolak untuk berjalan di WSL, saya harus menduplikasi lingkungan node.js pada Windows. </p><br><h3 id="itogi">  Ringkasan </h3><br><p>  Artikelnya ternyata cukup panjang, semoga bermanfaat juga. <br>  WSL bagi saya pribadi ternyata menjadi alat yang sepenuhnya dapat digunakan yang memecahkan masalah saya <del>  fullstack </del>  pengembang backend.  Selama enam bulan, mesin virtual dengan Linux tidak diperlukan.  Perasaan umum adalah bahwa Windows + WSL jauh lebih fungsional daripada Linux + Wine. </p><br><p>  Saat menulis artikel, saya menemukan bahwa perakitan WSL dengan Debian 9.3 muncul di Microsoft Store, distribusi ini lebih cantik bagi saya daripada Ubuntu, jadi saya akan mencoba menginstalnya. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id412633/">https://habr.com/ru/post/id412633/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id412621/index.html">Bagaimana menjadi pesulap (bagian 3). Surat Hogwarts</a></li>
<li><a href="../id412623/index.html">Kit baru untuk Star Citizen akan menelan biaya $ 27 ribu</a></li>
<li><a href="../id412625/index.html">Cara cepat menemukan dan tidak kehilangan spesialis AI dan Data Science</a></li>
<li><a href="../id412627/index.html">Pameran Internasional CMEF & ICMD 2018 Spring di Shanghai (Bagian 2)</a></li>
<li><a href="../id412629/index.html">Gelombang Adaptif untuk layanan audio Anda</a></li>
<li><a href="../id412637/index.html">Untuk melakukan atau tidak mendesain ulang logo? Itu pertanyaannya</a></li>
<li><a href="../id412639/index.html">Apa yang perlu Anda tunggu tentang menciptakan strategi untuk perdagangan di bursa: seberapa efisien pembelajaran mesin</a></li>
<li><a href="../id412641/index.html">Apa kesamaan yang dimiliki pertambangan, Georgia dan Irkutsk?</a></li>
<li><a href="../id412643/index.html">Bagaimana kami mengintegrasikan sistem pembayaran ke dalam proyek Rusia</a></li>
<li><a href="../id412645/index.html">Obyek, properti, aktivitas: model dan metode konstruksi mereka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>