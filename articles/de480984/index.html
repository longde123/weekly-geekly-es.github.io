<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåï üë¥üèø üë®‚Äç‚ù§Ô∏è‚Äçüë® Vermeiden beliebter Netzwerksicherheitsfehler üç¶ üöÖ üóº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mitte September wurde bekannt, dass fast 2 TB Daten verloren gingen, die Informationen √ºber den Betrieb des Systems f√ºr operative Suchma√ünahmen (SORM)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vermeiden beliebter Netzwerksicherheitsfehler</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/480984/"> <a href="https://habr.com/ru/company/pt/blog/480984/"><img src="https://habrastorage.org/webt/0l/ar/t7/0lart7oec4i77spqmsu5dntncbs.png"></a> <br><br>  Mitte September <a href="https://techcrunch.com/2019/09/18/russia-sorm-nokia-surveillance/">wurde bekannt, dass</a> fast 2 TB Daten verloren gingen, die Informationen √ºber den Betrieb des Systems f√ºr operative Suchma√ünahmen (SORM) im Netz eines russischen Telekommunikationsbetreibers enthielten.  Das Leck war auf ein falsch konfiguriertes rsync-Sicherungsdienstprogramm zur√ºckzuf√ºhren.  Solche Fehler sind eine h√§ufige Ursache f√ºr die Probleme gro√üer Unternehmen.  In diesem Artikel analysieren wir die sieben h√§ufigsten Netzwerksicherheitsfehler: Wir erkl√§ren, wie sie erkannt und beseitigt werden k√∂nnen. <br><br>  Ein h√§ufiger Grund f√ºr die erfolgreiche Entwicklung von Angriffen im Netzwerk sind Fehler bei der Konfiguration von Kommunikationskan√§len oder Datenverarbeitungs- und Speichersystemen sowie Verst√∂√üe gegen IS-Vorschriften.  All dies verringert die Wirksamkeit der verwendeten Schutzausr√ºstung und erh√∂ht die Wahrscheinlichkeit, dass Angreifer in einen Angriff eindringen und ihn entwickeln.  In Projekten zur Untersuchung von Vorf√§llen und zur Analyse des Datenverkehrs findet unser Team des <a href="https://www.ptsecurity.com/ru-ru/services/esc/">PT Expert Security Center</a> regelm√§√üig typische Fehler in der Konfiguration von Informationssystemen und Verst√∂√üe gegen die IS-Vorschriften des Unternehmens.  Mal sehen, was diese Fehler sind. <a name="habracut"></a><br><br><h2>  7 h√§ufige Netzwerksicherheitsfehler </h2><br>  Wie unsere Praxis zeigt, treten in 9 von 10 Organisationen unabh√§ngig von ihrer Gr√∂√üe und ihrem T√§tigkeitsbereich die folgenden Fehler am h√§ufigsten auf: <br><br><ol><li>  √úbertragen Sie Anmeldeinformationen im Klartext √ºber das Netzwerk. </li><li>  Unverschl√ºsselte E-Mail-Nachrichten. </li><li>  Verwenden von Dienstprogrammen f√ºr den Remotezugriff. </li><li>  Verwendung der Broadcast-Protokolle LLMNR und NetBios. </li><li>  Netzwerkkonfigurationsfehler. </li><li>  TOR, VPN-Tunnel und andere Tools zum Ausblenden der Netzwerkaktivit√§t. </li><li>  Missbrauch von Systemen (Cryptocurrency Miner, Torrents). </li></ol><br>  Die Fehlerursachen sind unzureichende Beachtung der Informationssicherheit, mangels oder Versto√ües gegen IS- und IT-Vorschriften in der Organisation, Fehler bei der Systemkonfiguration und in gro√üen Unternehmensnetzwerken, da es schwierig ist, die richtigen Konfigurationen zu steuern. <br><br>  Als n√§chstes werden wir √ºber jeden Fehler sprechen, welche Konsequenzen sie haben k√∂nnen, wie sie identifiziert werden k√∂nnen und Empfehlungen f√ºr ihre Beseitigung geben. <br><br><h2>  Klare √úbertragung der Anmeldeinformationen √ºber das Netzwerk </h2><br>  Die Verwendung von Netzwerkprotokollen, bei denen Benutzeranmeldeinformationen im Klartext √ºbertragen werden, ist immer noch zu finden - dies sind HTTP, Mail-Protokolle ohne Verschl√ºsselung, LDAP und Telnet.  Nach <a href="https://www.ptsecurity.com/ru-ru/research/analytics/corporate-vulnerabilities-2019/%3Fsphrase_id%3D65679">unseren Untersuchungen</a> finden sich in 44% der Organisationen, in denen wir eine Sicherheitsanalyse durchgef√ºhrt haben, wichtige Informationen in offener Form in Netzwerkressourcen.  Im Falle eines gef√§hrdeten Netzwerks kann ein Angreifer im passiven Modus Anmeldeinformationen abfangen, seine Pr√§senz in der Infrastruktur festigen und seine Berechtigungen erh√∂hen. <br><br><img src="https://habrastorage.org/webt/wq/3s/3m/wq3s3mpoynyoyddptf6-ggjbhku.jpeg"><br><br>  <i>Beispiel f√ºr mit PT NAD identifizierte Flugausweise</i> <br><br>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D290%26v%3DmD3SFLTStu0">In dem Video wurde</a> gezeigt, wie mit dem Verkehrsanalysesystem von <a href="https://www.ptsecurity.com/ru-ru/products/network-attack-discovery/">PT Network Attack Discovery</a> √ºberpr√ºft wird, ob Anmeldeinformationen im Klartext √ºber das Netzwerk √ºbertragen werden.  Zu diesem Zweck haben wir Netzwerksitzungen in PT NAD anhand eines Kennworts herausgefiltert.  Auf diese Weise konnten wir die Fakten zur √úbertragung von Anmeldeinformationen f√ºr eine Webanwendung ermitteln, in unserem Fall das Zabbix-√úberwachungssystem.  Mit einem privilegierten Konto auf dem Zabbix-Server kann ein Angreifer am h√§ufigsten Befehle auf allen mit der √úberwachung verbundenen Systemen remote ausf√ºhren.  In der Demonstration wurde auch ein Beispiel f√ºr eine Verkehrsanalyse zur Verwendung offener Netzwerkprotokolle (LDAP, FTP, HTTP, POP3, SMTP, Telnet) und zum Extrahieren von Benutzerkonten untersucht. <br><br>  Es gibt verschiedene M√∂glichkeiten, um die √úbertragung von Anmeldeinformationen im Klartext zu verhindern. <br><br><ol><li>  <b>WEB-Server: Wechsel von HTTP zu HTTPS</b> .  Um zum sicheren HTTPS-Protokoll zu wechseln, m√ºssen Sie ein SSL-Zertifikat konfigurieren und von HTTP-Adressen an HTTPS weiterleiten.  Es ist zul√§ssig, selbstsignierte Zertifikate f√ºr die internen Ressourcen der Organisation zu konfigurieren, indem Sie die interne Zertifizierungsstelle vorkonfigurieren.  F√ºr √∂ffentlich verf√ºgbare Ressourcen empfiehlt es sich, vertrauensw√ºrdige Zertifikate zu verwenden, die von einer vertrauensw√ºrdigen Zertifizierungsstelle ausgestellt wurden. </li><li>  <b>LDAP-Protokoll</b> : Konfigurieren Sie Clients f√ºr die Verwendung der Authentifizierung √ºber Kerberos oder verwenden Sie eine sichere Version des Protokolls.  Um die Authentifizierung √ºber Kerberos zu konfigurieren, m√ºssen Sie Clients f√ºr die Verwendung der SASL-Authentifizierungsmechanismen GSSAPI oder GSS-SPNEGO konfigurieren. </li><li>  <b>Um die sichere TLS-Authentifizierung zu konfigurieren, m√ºssen Sie LDAPS auf dem Server gem√§√ü den <a href="https://support.microsoft.com/ru-ru/help/321051/how-to-enable-ldap-over-ssl-with-a-third-party-certification-authority">Anweisungen</a> aktivieren</b> .  Konfigurieren Sie als N√§chstes die Clients f√ºr die Verwendung von TLS (LDAPS), wenn Sie eine Verbindung zum LDAP-Server herstellen. </li><li>  <b>Mail-Protokolle: Konfigurieren Sie Clients und Server f√ºr die Verwendung von TLS</b> .  Anstelle von POP3, IMAP und SMTP wird empfohlen, die Clients und Server Ihres Unternehmens so zu konfigurieren, dass deren sichere POP3S-, IMAPS- und SMTPS-Gegenst√ºcke gem√§√ü den Anweisungen auf Ihrem Mailserver verwendet werden.  Beachten Sie, dass beim erzwungenen Aktivieren von TLS m√∂glicherweise keine Briefe an Server √ºbermittelt werden, die keine Verschl√ºsselung unterst√ºtzen. </li><li>  <b>Telnet-Protokoll: Wechseln Sie zu SSH</b> .  Sie sollten auf die Verwendung des Telnet-Protokolls vollst√§ndig verzichten und es durch das sichere SSH-Protokoll ersetzen. </li><li>  <b>FTP: Upgrade auf SFTP oder FTPS</b> .  FTPS ist eine SSL-Version von FTP, f√ºr deren Betrieb ein SSL-Zertifikat erforderlich ist.  SFTP ist das Datei√ºbertragungsprotokoll, das am h√§ufigsten SSH verwendet.  Infolgedessen ist weniger Konfiguration auf Servern erforderlich, die bereits SSH verwenden. </li></ol><br><h2>  Unverschl√ºsselte E-Mail-Nachrichten </h2><br>  Der n√§chste typische Fehler ist die Verwendung offener Mail-Protokolle auf dem Weg vom Server der Organisation zum externen Mail-Server.  Dies f√ºhrt dazu, dass Briefe, die in sicherer Form innerhalb des Netzwerks √ºbertragen werden, sp√§ter in offener Form √ºber das Internet √ºbertragen werden k√∂nnen.  Infolgedessen kann ein Angreifer, der Zugriff auf externen Netzwerkverkehr hat (z. B. √ºber einen Internetprovider), problemlos Informationen aus Briefen erhalten. <br><br>  F√ºr die Suche nach ungesch√ºtzten ausgehenden E-Mails, die an ein externes Netzwerk √ºbertragen werden, haben <a href="https://www.youtube.com/watch%3Ftime_continue%3D986%26v%3DmD3SFLTStu0">wir</a> PT NAD-Filter unter Verwendung des SMTP-Protokolls sowie der Quell- und Zieladressen verwendet.  Um verschl√ºsselte Verbindungen auszuschlie√üen, haben wir mit dem Befehl STARTTLS einen Filter hinzugef√ºgt.  Als Ergebnis wurde ein Brief mit dem Anhang gefunden, der im Klartext √ºbertragen wurde. <br><br><blockquote><h4>  Weitere Details zum Video </h4></blockquote><br>  M√∂gliche L√∂sungen f√ºr den Fehler: <br><br><ol><li>  <b>Konfigurieren Sie den Server so, dass beim Senden von E-Mails TLS erzwungen wird</b> (in diesem Fall werden m√∂glicherweise keine Briefe an Server <b>gesendet</b> , die keine Verschl√ºsselung unterst√ºtzen). </li><li>  <b>Konfigurieren Sie die Verwendung von S / MIME</b> , dem Standard zum Senden von verschl√ºsselten und digital signierten Nachrichten.  Erfordert die Einrichtung des Mail-Clients und des S / MIME-Zertifikats.  Weitere Details <a href="https://docs.microsoft.com/ru-ru/exchange/policy-and-compliance/smime">hier</a> . </li><li>  <b>PGP anwenden</b> .  Die erzwungene Verwendung von PGP schlie√üt auch die √úbertragung von Briefen im Klartext aus, erfordert jedoch eine zus√§tzliche Konfiguration auf den Clients und die √úbertragung des √∂ffentlichen Schl√ºssels an die Empf√§nger.  Diese Option eignet sich eher f√ºr den Einsatz in besonderen F√§llen. </li></ol><br><h2>  Verwenden von RAS-Dienstprogrammen </h2><br>  Mitarbeiter verwenden h√§ufig RAT-Tools (Remote Access Tools), z. B. TeamViewer, Ammyy Admin, RMS und andere.  Wenn dies durch interne IS-Richtlinien zul√§ssig ist, ist es in dem Fall, in dem ein Angreifer dieselben Tools verwendet, schwierig, ihre illegitime Verwendung von ihrer legitimen zu unterscheiden. <br><br>  Konnektivit√§t kann √ºber TeamViewer mithilfe eines Verkehrsanalysesystems erkannt werden.  In unserem Fall haben wir zwei solcher Netzwerksitzungen gefunden.  Wenn die Organisation die Verwendung von Fernsteuerungsdienstprogrammen nicht zul√§sst, sollte der Informationssicherheitsspezialist eine Untersuchung durchf√ºhren, um die Quelle der Aktivit√§t zu ermitteln. <br><br>  Ein weiterer Mechanismus zum Erkennen von RAT-Anwendungsf√§llen sind vordefinierte Regeln.  In dem Video mit ihrer Hilfe haben wir festgestellt, dass das Dienstprogramm Remote Admin verwendet wird. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1323%26v%3DmD3SFLTStu0">Weitere Details zum Video</a> </h4></blockquote><br>  Empfehlungen zur Behebung des Versto√ües: <br><br><ol><li>  √úberwachen Sie die Verwendung von Remoteverwaltungsdienstprogrammen.  Es m√ºssen IS-Vorschriften entwickelt werden, die die unbefugte Verwendung von Dienstprogrammen f√ºr die Fernverwaltung verbieten und deren Einhaltung √ºberwachen.  RAT kann auch auf der Ebene einiger Netzwerksicherheitsfunktionen wie NGFW deaktiviert werden. </li><li>  Unterscheiden Sie die Rechte lokaler Benutzer auf Arbeitsstationen.  Wenn Benutzern keine redundanten Administratorrechte gew√§hrt werden, die unter anderem die Installation von Programmen auf Arbeitscomputern erm√∂glichen, ist die Verwendung von Dienstprogrammen nicht m√∂glich. </li><li>  Einf√ºhrung einer Whitelisting-Richtlinie f√ºr Software.  Die zuverl√§ssigste, aber zeitaufw√§ndigste Methode zur L√∂sung.  Geben Sie die Liste der "wei√üen" Software in der Organisation ein und stellen Sie sicher, dass alle Knoten nur Software aus dieser Liste verwenden und die Relevanz der Liste √ºberwachen.  Zum Konfigurieren k√∂nnen Sie das in Windows enthaltene AppLocker-Dienstprogramm verwenden.  Weitere Details <a href="https://docs.microsoft.com/ru-ru/windows/security/threat-protection/windows-defender-application-control/applocker/applocker-overview">hier</a> . </li></ol><br><h2>  Verwendung von LLMNR- und NetBios-Broadcast-Protokollen </h2><br>  Ein weiteres Problem bei Netzwerkeinstellungen f√ºr Organisationen ist die Verwendung von gef√§lschten LLMNR- und NetBios-Protokollen.  Diese Protokolle erm√∂glichen es, durch Broadcast-Anforderungen im lokalen L2-Netzwerksegment die Namen benachbarter Computer aufzul√∂sen, ohne einen DNS-Server zu verwenden.  Diese Protokolle werden auch automatisch verwendet, wenn DNS nicht verf√ºgbar ist.  Im Falle eines Eindringlings, der in das interne Netzwerk des Unternehmens eindringt, kann er einen Angriff "Mann in der Mitte" (engl. Man in the middle, MITM) ausf√ºhren.  Ein Angreifer kann auf eine Broadcast-Anfrage antworten und so Opferanfragen an einen vom Angreifer kontrollierten Server umleiten.  Durch Ausf√ºhren dieses Angriffs k√∂nnen Sie Authentifizierungsdaten abfangen. <br><br>  Wir haben <a href="https://www.youtube.com/watch%3Ftime_continue%3D1555%26v%3DmD3SFLTStu0">versucht, die</a> Verwendung dieser Protokolle mithilfe des Widgets ‚ÄûAnwendungsprotokolle‚Äú in PT NAD zu ermitteln.  Wir haben festgestellt, dass zus√§tzlich zu den √ºblichen Protokollen die Protokolle LLMNR und NBNS verwendet werden.  Durch Hinzuf√ºgen zum Filter haben wir auch alle Clients gefunden, die Anforderungen mit diesem Protokoll gesendet haben. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1555%26v%3DmD3SFLTStu0">Video</a> </h4></blockquote><br>  Um diesen Fehler zu beheben, m√ºssen Sie: <br><br>  1. <b>Deaktivieren Sie LLMNR</b> .  Dazu m√ºssen Sie zuerst den DNS auf den Clients konfigurieren.  Sie k√∂nnen LLMNR mithilfe der Gruppenrichtlinie zum Deaktivieren der Multicast-Namensaufl√∂sung im Abschnitt Computerkonfiguration -&gt; Administrative Vorlagen -&gt; Netzwerk -&gt; DNS-Client deaktivieren.  Zum Deaktivieren muss der Richtlinienwert auf "Aktiviert" gesetzt werden. <br><br> <a href=""><img src="https://habrastorage.org/webt/6q/15/jo/6q15joudaaxny7ftm724doicr9c.png"></a> <br><br>  <i>Mit einem Klick auf das Bild wird es in voller Gr√∂√üe ge√∂ffnet</i> <br><br>  2. <b>Deaktivieren Sie NetBios</b> .  Verwenden Sie dazu das Snap-In dhcpmgmt.msc.  Serveroptionen: Registerkarte Erweitert -&gt; Microsoft Windows 2000-Optionen -&gt; Microsoft Netbios-Option deaktivieren.  Setzen Sie den Wert auf 0x2. <br><br><img src="https://habrastorage.org/webt/s6/tu/84/s6tu84fxaewi02mcibwd98i_srm.png"><br><br>  3. Sie k√∂nnen die NetBios-Unterst√ºtzung auch deaktivieren, indem Sie ein PowerShell-Skript auf Knoten mithilfe der Gruppenrichtlinie Skripts im Abschnitt Computerkonfiguration -&gt; Richtlinien -&gt; Windows-Einstellungen ausf√ºhren.  Sie m√ºssen ein PowerShell-Startskript mit dem folgenden Inhalt hinzuf√ºgen: <br><br><pre><code class="powershell hljs"><span class="hljs-variable"><span class="hljs-variable">$regkey</span></span> = <span class="hljs-string"><span class="hljs-string">"HKLM:SYSTEM\CurrentControlSet\services\NetBT\Parameters\Interfaces"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Get-ChildItem</span></span> <span class="hljs-variable"><span class="hljs-variable">$regkey</span></span> |<span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">Set-ItemProperty</span></span> <span class="hljs-literal"><span class="hljs-literal">-Path</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$regkey</span></span></span><span class="hljs-string">\</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$_</span></span></span><span class="hljs-string">.pschildname)"</span></span> <span class="hljs-literal"><span class="hljs-literal">-Name</span></span> NetbiosOptions <span class="hljs-literal"><span class="hljs-literal">-Value</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-literal"><span class="hljs-literal">-Verbose</span></span>}</code> </pre> <br>  Dieses Skript f√ºr alle Netzwerkadapter im Registrierungszweig <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NetBT\Parameters\Interfaces</code> setzt den Wert des Parameters NetbiosOptions auf 2. <br><blockquote>  Wenn die Infrastruktur Knoten enth√§lt, auf denen Windows XP oder Windows 2000 ausgef√ºhrt wird, kann das Deaktivieren von NetBios die Leistung beeintr√§chtigen. <br></blockquote><br><img src="https://habrastorage.org/webt/ss/ne/sb/ssnesbvogw5_tgj67_skphf1j_g.png"><br><br><h2>  Netzwerkkonfigurationsfehler </h2><br>  Die h√§ufigsten Fehler im Zusammenhang mit einer falschen Netzwerkkonfiguration: <br><br><ol><li>  <b>Unn√∂tig vertrauensw√ºrdige Beziehungen zwischen Subnetzen</b> .  Dies schlie√üt Probleme mit ein, den Zugriff zwischen Subnetzen einzuschr√§nken, bei denen ein nicht autorisierter Netzwerkzugriff zwischen Subnetzen der internen Organisation m√∂glich wird.  Infolgedessen kann ein Angreifer, der einen kleinen Teil des Netzwerks kompromittiert, leicht die Kontrolle √ºber Schl√ºsselknoten des gesamten Netzwerks √ºbernehmen. </li><li>  <b>Zugriff von Infrastrukturknoten auf externe DNS-Server</b> .  Bei Verwendung des internen Domainnamensystems sollten DNS-Abfragen nur auf den eigenen DNS-Servern des Unternehmens verarbeitet werden.  Wenn das DNS auf den Clients nicht richtig konfiguriert ist, besteht bei einer Anforderung an den √∂ffentlichen DNS-Server die Gefahr, dass interne Dom√§nennamen verloren gehen und die Filterung bekannter Adressen von Malware-Befehlsservern umgangen wird. </li><li>  <b>Netzwerkanschl√ºsse und Dienstanschl√ºsse, die f√ºr das externe Netzwerk "nach au√üen" offen sind, ohne dass dies erforderlich ist (z. B. Datenbanken)</b> .  Infolgedessen hat ein Angreifer gro√üe Chancen, einen Angriff auszuf√ºhren.  Beispielsweise sind aufgrund der Speicherung von Informationen in einer unsicheren Datenbank die <a href="https://www.securitylab.ru/news/498730.php">Daten von Krankenwagenpatienten aus der Region Moskau</a> in das Netzwerk <a href="https://www.securitylab.ru/news/498730.php">eingedrungen</a> . </li></ol><br>  Um solche Fehler zu identifizieren, haben wir die Registerkarte PT NAD-Netzwerkverbindungen verwendet.  Alle Mitteilungen werden grafisch dargestellt.  Wir haben versucht, Verbindungen vom DMZ-Subnetz zum Benutzersubnetz zu finden.  Richten Sie dazu einen Filter nach Subnetz ein.  Als Ergebnis fanden wir eine unerw√ºnschte Netzwerkverbindung sowie ein Ereignis, das ausgel√∂st wurde - Scannen mit nmap, das als Indikator f√ºr die Netzwerkintelligenz dient. <br><br>  Wir haben auch versucht, Verbindungen vom externen Netzwerk zum DMZ-Subnetz zu finden.  Wir analysierten die Anwendungsprotokolle - sahen die aktive Verwendung von Dienstprotokollen sowie das Ereignis - als Versuch, die Sicherheitsanf√§lligkeit von EthernalBlue auszunutzen, die die sensationelle WannaCry-Epidemie ausl√∂ste. <br><br>  Als n√§chstes haben wir den korrekten Betrieb von DNS untersucht.  Filtern Sie dazu den Datenverkehr nach dem Protokoll und w√§hlen Sie als Empf√§nger IP-Adressen aus, die nicht aus dem lokalen Netzwerk stammen.  Infolgedessen haben wir DNS-Abfragen an Google-Server gefunden, die von einem Nutzersegment stammen. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1779%26v%3DmD3SFLTStu0">Video</a> </h4></blockquote><br>  Fehler k√∂nnen wie folgt behoben werden: <br><br><ol><li>  <b>Konfigurieren Sie die Zugriffssteuerungsliste (Access Control List, ACL)</b> auf dem Netzwerkger√§t f√ºr die richtige Verteilung der Zugriffsrechte zwischen den Subnetzen.  Eine ACL ist ein Satz von Zulassungs- oder Ablehnungsregeln f√ºr den Netzwerkverkehr (im Kontext von Netzwerkger√§ten).  In den meisten F√§llen werden Zugriffslisten f√ºr die Paketfilterung an der Grenze des Internets und eines privaten Netzwerks verwendet. Eine Filterung kann jedoch auch an der Grenze der DMZ und anderer Subnetze erforderlich sein. </li><li>  <b>Firewall konfigurieren</b> .  Firewalls sollten nicht nur an der Grenze zum externen Netzwerk, sondern auch zwischen den internen Subnetzen der Organisation konfiguriert werden. </li><li>  <b>Verhindern Sie √Ñnderungen an den Netzwerkeinstellungen der Benutzer</b> .  Konfigurieren Sie dazu die Einstellung in den Windows-Gruppenrichtlinien: "Benutzerkonfiguration -&gt; Administrative Vorlagen -&gt; Netzwerk -&gt; Netzwerkverbindungen". </li></ol><br><h2>  Verkehr versteckt </h2><br>  Tools zum Ausblenden des Datenverkehrs k√∂nnen VPN, Tor, Verschl√ºsselungs-Proxys und andere verschl√ºsselte Tunnel sein.  Ihre unbefugte und unkontrollierte Verwendung kann zu einer Verringerung der Wirksamkeit der Schutzausr√ºstung in der Organisation f√ºhren.  Verlust der Kontrolle √ºber den im Tunnelverkehr √ºbertragenen Inhalt;  Ein Angreifer kann einen verschl√ºsselten Tunnel in das interne Netzwerk eines Unternehmens einbinden, wenn der Heimcomputer eines angegriffenen Mitarbeiters besch√§digt wird. <br><br>  Um die Verwendung dieser Tools zu identifizieren, sind die folgenden Filter geeignet: Gem√§√ü der Tor-Relays-Reputationsliste, die die aktuellen Adressen der Tor-Netzwerkknoten enth√§lt, sowie eines Filters, der das TLS-Protokoll verwendet, da Tor darunter maskiert ist.  Das in der "verd√§chtigen" Sitzung verwendete TLS-Zertifikat wird automatisch generiert. Dies ist ein Indikator f√ºr die Tor-Netzwerkverbindung. <br><br>  Zum Erkennen von VPNs und anderen Tunneln k√∂nnen Sie den PPTP-Schl√ºsselwortfilter (Point-to-Point Protocol) und zum Erkennen von SOCKS5-Verkehr den nach Protokoll bekannten Filter verwenden.  So fanden wir eine VPN-Sitzung mit einem externen Host und vielen SOCKS5-Verbindungen. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D2130%26v%3DmD3SFLTStu0">Video</a> </h4></blockquote><br>  Wir haben bereits fr√ºher √ºber Methoden zur L√∂sung dieses Problems nachgedacht, um Folgendes zu bew√§ltigen: <br><br><ol><li>  Differenzierung der Rechte lokaler Nutzer. </li><li>  Software-Whitelist-Richtlinie. </li><li>  Firewall konfigurieren. </li><li>  Netzwerkports schlie√üen. </li></ol><br><h2>  Missbrauch von Systemen </h2><br>  Der Missbrauch von Systemen umfasst die Verwendung von Cryptocurrency Minern, Bittorent-Clients und Online-Spielen.  Obwohl dies keine unmittelbare Bedrohung f√ºr die Sicherheit darstellt, erh√∂ht es die Belastung von Computersystemen und Informations√ºbertragungskan√§len und birgt auch das Risiko, Malware zu installieren. <br><br>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D2382%26v%3DmD3SFLTStu0">Mithilfe der</a> Miner-Reputationsliste k√∂nnen Sie die Miner identifizieren, einschlie√ülich der Adressen bekannter Mining-Pools sowie der Blockchain-Knoten verschiedener Kryptow√§hrungen.  Infolgedessen sehen wir eine gro√üe Anzahl von DNS-Abfragen, die den Betrieb des Crypto Miner anzeigen.  Ein weiterer Indikator f√ºr den Betrieb des Crypto Miner k√∂nnen die Regeln sein, die funktioniert haben. <br><br>  Bei Bittorent- und Online-Spielen ist es noch einfacher - wir verwenden den Bittorent-Filter, um nach Torrent-Zugriffen zu suchen, und verwenden f√ºr Online-Spiele die Server beliebter Online-Spiele.  Dies hilft bei der Berechnung von Mitarbeitern, die ihre Arbeitszeit nicht so nutzen, wie es sich der Arbeitgeber w√ºnscht. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D2382%26v%3DmD3SFLTStu0">Video</a> </h4></blockquote><br>  Gegenma√ünahmen sind fast die gleichen wie in den obigen Abs√§tzen: <br><br><ol><li>  Unterscheiden Sie die Rechte der lokalen Benutzer. </li><li>  Software-Whitelist-Richtlinie. </li><li>  Aktualisieren Sie Antivirus und seine Datenbank. </li></ol><br><h2>  Um es zusammenzufassen </h2><br>  In den meisten Unternehmen stellen wir Probleme beim korrekten Einrichten umfangreicher Unternehmensnetzwerke und bei der Nichteinhaltung von IS-Konfigurationen, Richtlinien und Vorschriften fest.  Dies ist auf das st√§ndige Wachstum der Netzwerke und deren Ver√§nderungen sowie auf √Ñnderungen der Regeln und Richtlinien selbst zur√ºckzuf√ºhren.  Hier sind allgemeine Richtlinien, um viele Fehler zu vermeiden: <br><br><ol><li>  Minimieren Sie die Verwendung offener Protokolle. </li><li>  Zur Steuerung der Differenzierung des Netzwerkzugriffs. </li><li>  Definieren Sie die Benutzerrechte. </li></ol><br>  Gleichzeitig gibt es bereits Tools auf dem Markt, mit denen die Netzwerkaktivit√§t innerhalb eines Unternehmens √ºberwacht und sowohl Konfigurationsfehler als auch b√∂swillige Aktivit√§ten rechtzeitig erkannt werden k√∂nnen.  Ein solches System ist die <a href="https://www.ptsecurity.com/ru-ru/products/network-attack-discovery/">PT Network Attack Discovery</a> . <br><br>  Gepostet <b>von</b> Alexey Lednev, Senior Specialist.  PT Expert Security Center </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de480984/">https://habr.com/ru/post/de480984/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de480974/index.html">Anwendungsentwicklung in VK Mini Apps</a></li>
<li><a href="../de480976/index.html">JSON-RPC-API-Testbibliothek</a></li>
<li><a href="../de480978/index.html">Gibt es ein Leben nach Signora?</a></li>
<li><a href="../de480980/index.html">Moderne Analysetechnologien in der Cybersicherheit</a></li>
<li><a href="../de480982/index.html">3. Fortinet Getting Started v6.0. Layoutvorbereitung</a></li>
<li><a href="../de480986/index.html">LEGO Education WeDo 2.0 und Scratch - ein neues Paket zum Unterrichten von Robotik f√ºr Kinder</a></li>
<li><a href="../de480990/index.html">Retro Digest: 30 interessante Ressourcen zu Technologie und Spielen der letzten Jahre</a></li>
<li><a href="../de480992/index.html">√úber den Beruf des Produktmanagers: Wie erreicht man das Ideal? (Teil 2)</a></li>
<li><a href="../de480996/index.html">Pentester Notizen: Jagd F√§lle - 2</a></li>
<li><a href="../de480998/index.html">MERCH! MERCH! MERCH! und ... Einh√∂rner</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>