<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö∞Ô∏è üèÇüèª üöÑ Nous apprenons √† Arduino √† imprimer des t√©l√©grammes üè´ ‚úãüèº üîò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un petit projet sur Arduino qui imprime les notifications qui arrivent sur votre t√©l√©phone: messages d'une vari√©t√© de messageries instantan√©es, nouvel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous apprenons √† Arduino √† imprimer des t√©l√©grammes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/407057/"><div style="text-align:center;"><img width="80%" src="https://habrastorage.org/webt/59/d0/d3/59d0d3538ad5f765219143.jpeg"></div><br>  Un petit projet sur Arduino qui imprime les notifications qui arrivent sur votre t√©l√©phone: messages d'une vari√©t√© de messageries instantan√©es, nouvelles de Twitter et tout le reste.  Un tel ¬´appareil t√©l√©graphique¬ª a √©t√© con√ßu comme un jouet int√©ressant sans utilisation s√©rieuse, mais il s'est av√©r√© que recevoir des messages sous forme de t√©l√©grammes papier est extr√™mement agr√©able.  Sous la coupe - une description du fonctionnement de l'appareil et un tutoriel d√©taill√©. <br><a name="habracut"></a><br><h3>  En bref sur la fa√ßon dont tout cela fonctionne </h3><br>  En fait, l'ensemble du processus d'impression se r√©sume √† trois op√©rations simples: mouvement le long de l'axe X (traction du ruban), mouvement le long de l'axe Y (mouvement du stylo) et le processus de laisser une marque sur le papier. <br><br><div class="spoiler">  <b class="spoiler_title">Regardez la video</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/MVHfoNOy69I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Le mouvement le long de l'axe Y est effectu√© en utilisant le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©canisme lambda de P. L. Chebyshev</a> , qui convertit le mouvement de rotation en approximativement rectiligne. <br><br>  La bande est tir√©e √† l'aide d'un casque en silicone du casque, mis en rotation par un moteur pas √† pas.  Id√©alement, le ruban doit √™tre tir√© √† travers deux rouleaux press√©s l'un contre l'autre, mais une telle solution compliquerait consid√©rablement la conception, de sorte que le choix s'est port√© sur la plus simple des options de travail. <br><br>  Dans des projets similaires (traceurs maison, imprimantes, etc ...), le processus de dessin est effectu√© par un mouvement de translation (ou proche de la traduction) du stylo de haut en bas.  Un tel syst√®me est trop encombrant pour tenir sur le m√©canisme lambda, j'ai donc opt√© pour une voie l√©g√®rement diff√©rente.  Un sol√©no√Øde est install√© dans le bo√Ætier, auquel une petite plate-forme est fix√©e, soulevant le ruban de papier.  Une telle solution est peu utile dans d'autres projets, mais elle s'int√®gre parfaitement ici.  Tous les √©l√©ments sont situ√©s dans un bo√Ætier en contreplaqu√© de 64 √ó 64 mm. <br><br>  L'appareil imprime litt√©ralement tout ce qui lui arrive sur le port s√©rie.  Une police de 128 caract√®res est cousue dans l'esquisse: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/cf/f4/59cff49731487289672163.png"></div><br>  Pour ce faire, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programme</a> Java <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">a</a> √©t√© √©crit qui convertit une image en une description d'un tableau d'octets en C, si vous le souhaitez, la police peut √™tre modifi√©e par vous-m√™me. <br><br>  J'ai √©galement d√©velopp√© une petite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application Android</a> , dont la t√¢che est d'attraper toutes les notifications push affich√©es sur le t√©l√©phone, puis de les envoyer en arri√®re-plan √† Arduino via Bluetooth. <br><br><div class="spoiler">  <b class="spoiler_title">√âcran d'application</b> <div class="spoiler_text"><div style="text-align:center;"><img width="60%" src="https://habrastorage.org/webt/59/d1/26/59d126f5541fe880392867.jpeg"></div><br></div></div><br><h3>  De quoi avons-nous besoin </h3><br><ul><li>  <b>Arduino Mini.</b>  Il s'agit d'une modification miniature de l'Arduino Uno avec une taille tr√®s compacte.  Il n'est pas n√©cessaire de l'utiliser.  Si vous ne voulez pas pousser tous les composants √©lectroniques de contr√¥le dans le bo√Ætier de l'appareil, alors n'importe quelle autre carte, par exemple Arduino Uno ou Leonardo, fera l'affaire.  Vous pouvez √©galement regarder en direction de l'Iskra Mini - un analogue complet de l'Arduino Mini. </li><li>  <b>Servo SG-90.</b>  Les servos les plus petits et les moins chers des existants. </li><li>  <b>Moteur pas √† pas 28BYJ-48.</b>  Un moteur pas √† pas tr√®s bon march√© avec une pr√©cision de positionnement √©lev√©e - 4096 pas par tour.  Habituellement vendu d√©j√† avec le pilote ULN2003. </li><li>  <b>Sol√©no√Øde 5V.</b>  Ces appareils ne sont pas si souvent utilis√©s dans les produits faits maison, comme par exemple les servos.  Leur essence est la suivante: ce sont de petits √©lectro-aimants qui, quand du courant leur est appliqu√©, poussent le stock qui s'y trouve.  Ils peuvent effectuer des mouvements de translation tr√®s rapides qui peuvent √™tre contr√¥l√©s. </li><li>  <b>Module Bluetooth HC-06.</b>  N√©cessaire pour communiquer avec le monde ext√©rieur.  Vous pouvez √©galement envisager de vous connecter au wifi via esp8266 au lieu d'utiliser un module Bluetooth </li><li>  <b>Coussinets d'oreille en caoutchouc (inserts) pour √©couteurs.</b>  Il est n√©cessaire pour la fabrication d'un m√©canisme d'√©tirage du papier.  Plus le coussin d'oreille est grand, mieux c'est. </li><li>  <b>Axe 3 mm.</b>  Le choix des mat√©riaux est large: vous pouvez utiliser des brochettes en bois d'un diam√®tre de 3 mm ou des vis √† chapeaux sci√©s. </li><li>  <b>Colle.</b>  Pour une plus grande pr√©cision, il est pr√©f√©rable d'utiliser 3 types de colle: PVA pour coller les pi√®ces en bois, colle thermique et super-colle pour fixer les √©l√©ments restants. </li><li>  <b>Papier de verre.</b>  M√™me avec une fabrication tr√®s pr√©cise des pi√®ces, elles n√©cessiteront un r√©glage, donc sans meulage, elles n'iront nulle part. </li><li>  <b>Contreplaqu√© 4 mm.</b>  Vous pouvez le trouver dans une quincaillerie ou un magasin de loisirs.  Peut-√™tre que d'autres options conviennent, par exemple le plexiglas. </li><li>  <b>Dessins.</b>  Vous pouvez les prendre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br>  Et au format DXF - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> </li><li><div class="spoiler">  <b class="spoiler_title">Beaucoup de petites choses ...</b> <div class="spoiler_text"><ul><li>  <b>Stylo capillaire ou feutre.</b>  Les stylos √† bille et √† gel, ainsi que les crayons, sont bien pires, car la trace qu'ils laissent sur le papier est beaucoup moins distincte. </li><li>  <b>Petites vis.</b>  Avec un diam√®tre ne d√©passant pas 2 mm.  Ils sont souvent utilis√©s dans toutes sortes de jouets chinois. </li><li>  <b>Tube r√©tractable.</b>  N√©cessaire pour allonger l'arbre du moteur pas √† pas.  Le diam√®tre interne avant chauffage est de l'ordre de 6 mm. </li><li>  <b>Commutateur.</b>  Celui que vous aimez.  Vous pouvez regarder en direction de petits boutons avec fixation. </li><li>  <b>Connecteur d'alimentation</b>  Cric baril de 2,1 mm. </li><li>  <b>Diode</b>  La d√©nomination et les caract√©ristiques ne joueront pas un grand r√¥le, vous pouvez abandonner certaines anciennes radios. </li><li>  <b>Commutateur ou relais √† transistor</b> .  Plus d'informations √† leur sujet seront √©crites ci-dessous. </li></ul><br></div></div></li></ul><br><h3>  Fabrication de pi√®ces </h3><br>  Cette √©tape d√©pend de votre envie et de vos capacit√©s.  Vous pouvez le couper sur la machine ou couper toutes les pi√®ces manuellement.  Au fait, il n'est pas du tout n√©cessaire de r√©p√©ter exactement le projet.  Par exemple, vous ne pouvez pas essayer de pousser toute l'√©lectronique de commande dans l'appareil.  Ou, apr√®s avoir compris le principe du travail, faire quelque chose de similaire litt√©ralement ¬´sur le genou¬ª, et tout fonctionnera de toute fa√ßon. <br><br><div style="text-align:center;"><img width="70%" src="https://habrastorage.org/webt/59/cf/be/59cfbedb37cb2245633560.png"></div><br><br><div class="spoiler">  <b class="spoiler_title">Pour ceux qui pr√©voient de tout faire manuellement</b> <div class="spoiler_text">  Pour faire tous les d√©tails, vous aurez besoin: d'une scie sauteuse (scie sauteuse), d'une perceuse (perceuse), d'une imprimante, de papier de verre et, si n√©cessaire, de limes. <br><br>  L'algorithme est le suivant.  Imprimez les dessins, collez-les sur du contreplaqu√©.  Percez ensuite tous les trous n√©cessaires dans les contours internes.  Les contours des rainures doivent √™tre d√©coup√©s, reculant un peu d'espace (~ 0,2-0,5 mm) vers l'int√©rieur, de sorte que les pointes (apr√®s un petit traitement de la lime) entrent dans les tractions.  Apr√®s cela, nous avons d√©coup√© les contours internes, d√©chir√© / ponc√© le papier coll√© et broy√©.  Il n'y a rien de compliqu√©, l'essentiel est de travailler avec soin et de ne pas se pr√©cipiter. <br></div></div><br><h3>  Assembler l'affaire </h3><br>  Bien qu'il n'y ait rien de compliqu√©: il suffit de prendre les pi√®ces et de les coller.  Assurez-vous qu'il ne reste plus de colle sur les pi√®ces. <br><br><img width="45%" src="https://habrastorage.org/webt/59/cf/c1/59cfc1188bc75449360143.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/c1/59cfc1188f7c9896522790.jpeg"><br><br><h3>  Installez le support de bobine </h3><br>  Lors du collage de cet √©l√©ment, je recommande d'utiliser une perceuse pour maintenir l'alignement.  Tout d'abord, les parois lat√©rales sont coll√©es au corps, puis un couvercle est mont√© dessus.  Faites attention √† la perpendicularit√© - le m√©canisme lambda d√©pend de la position du trou sur le couvercle de ce support. <br><br><img width="45%" src="https://habrastorage.org/webt/59/cf/c2/59cfc29858f5b212251775.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/c2/59cfc2e2e2ce3214303931.jpeg"><br><br><h3>  Mettre le m√©canisme lambda </h3><br><div style="text-align:center;"><img width="70%" src="https://habrastorage.org/webt/59/cf/c5/59cfc51f00a7e296314683.jpeg"></div><br>  Nous sommes donc arriv√©s √† la premi√®re √©tape cruciale - l'assemblage du m√©canisme lambda.  Vous devez d'abord faire une √©paule pour le servo.  Chaque servo est livr√© avec plusieurs balan√ßoires en plastique.  Il est n√©cessaire d'en prendre un et de le couper comme indiqu√© sur la figure ci-dessous.  Et puis collez-le dans l'√©paule vierge. <br><br><img width="45%" src="https://habrastorage.org/webt/59/d0/b4/59d0b44563c26629828555.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/c5/59cfc5488dbb0502194059.jpeg"><br><br>  Ensuite, nous fabriquons une √©paule avec un ¬´porte-stylo¬ª.  Le trou pour l'instrument d'√©criture est mieux v√©rifi√© √† l'avance.  Tr√®s probablement, il sera de l'ordre de 8 √† 9 mm.  Collez deux anneaux en haut et en bas.  Pour les emp√™cher de sortir, vous pouvez ins√©rer un stylo ou une perceuse d'un diam√®tre appropri√© dans le trou.  Une fois la colle s√®che, nous rectifions les surfaces int√©rieure et ext√©rieure de l'anneau jusqu'√† ce que sa surface devienne suffisamment uniforme.  Sur le c√¥t√©, nous forons un trou pour la vis de serrage. <br><br><div style="text-align:center;"><img width="70%" src="https://habrastorage.org/webt/59/cf/c5/59cfc5935833d768946544.jpeg"></div><br>  Vous pouvez maintenant proc√©der √† l'assemblage du m√©canisme lambda.  Vous devez d'abord coller le servo sur l'adh√©sif thermofusible de sorte que la distance entre son axe et le trou sur le support de bobine soit exactement de 20 mm.  Ensuite, tournez le servo-entra√Ænement dans le sens antihoraire jusqu'√† ce qu'il s'arr√™te, apr√®s quoi nous assemblons toute la structure selon la photo: <br><br><img width="45%" src="https://habrastorage.org/webt/59/cf/c7/59cfc72045da9269286227.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/c7/59cfc72043028671519182.jpeg"><br><br>  Vous pouvez v√©rifier l'op√©rabilit√© de ce m√©canisme si vous connectez le servo √† Arduino et chargez l'esquisse √† partir des √©chantillons: Servo ‚Üí Sweep (Par d√©faut, le servo est connect√© √† la broche 9).  Au cas o√π, je donne le code de croquis ci-dessous. <br><br><div class="spoiler">  <b class="spoiler_title">Balayage servo</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#include &lt;Servo.h&gt; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MIN_ANGLE 150 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX_ANGLE 180 Servo servo; void setup() { servo.attach(9); } void loop() { for(int i=MIN_ANGLE; i&lt;=MAX_ANGLE; ++i) { servo.write(i); delay(15); } for(int i=MAX_ANGLE; i&gt;=MIN_ANGLE; --i) { servo.write(i); delay(15); } }</span></span></code> </pre> <br></div></div><br>  √Ä ce stade, vous pouvez s√©lectionner la plage d'angles de travail du servo en d√©finissant les valeurs MIN_ANGLE et MAX_ANGLE (cette plage est d'environ 150 ¬∞ ... 180 ¬∞), cela sera n√©cessaire √† l'avenir.  Si le m√©canisme ne fonctionne pas correctement, essayez de desserrer les vis ou de poser les rondelles. <br><br><h3>  Nous mettons la diapositive en papier </h3><br>  Maintenant, nous avons presque un travail de bijoux √† faire: faire une diapositive le long de laquelle le ruban de papier se d√©placera, ainsi qu'une plate-forme qui sera mont√©e sur un sol√©no√Øde.  Les rails longs doivent √™tre coll√©s √† la base de sorte que leurs extr√©mit√©s viennent en but√©e contre le rack pour la bobine, et la distance entre eux doit √™tre de 13 mm. <br><br><img width="30%" src="https://habrastorage.org/webt/59/cf/ca/59cfca076417b654935337.jpeg"><img width="30%" src="https://habrastorage.org/webt/59/cf/ca/59cfca075fb3e954526039.jpeg"><br><br>  Ensuite, un b√¢ton court sup√©rieur est coll√© √† ces lattes.  L'assemblage de cette unit√© est plus facile √† r√©aliser sur de la super-colle.  Essayez de ne pas laisser l'exc√®s de colle, cela peut interf√©rer avec l'√©tirement du papier. <br><br>  La zone doit √™tre ponc√©e jusqu'√† l'√©paisseur minimale possible (‚â§ 1,5 mm), et un bord doit √™tre en forme de coin afin que le papier y circule plus facilement.  Vous pouvez imm√©diatement prendre et cr√©er ce site √† partir d'une r√®gle en bois relativement mince ou d'une carte en plastique inutile.  De plus, un support rond y est coll√© au centre.  Ensuite, un sol√©no√Øde est coll√© √† l'int√©rieur du bo√Ætier de sorte que son arbre soit situ√© au centre du trou.  Apr√®s cela, collez doucement le tampon sur la tige du sol√©no√Øde sur la super-colle.  Cela devrait ressembler √† ceci: <br><br><img width="45%" src="https://habrastorage.org/webt/59/cf/ca/59cfca078d214565208529.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/ca/59cfca07a979e395023936.jpeg"><br><br><div style="text-align:center;"><img width="45%" src="https://habrastorage.org/webt/59/cf/ca/59cfca07c9702203432978.jpeg"></div><br>  Au d√©but du test, essayez simplement d'appliquer 5V au sol√©no√Øde.  Si le site a augment√© - alors tout va bien.  Si cela ne se produit pas, essayez d'inverser la polarit√©.  Si cela ne vous aide pas, essayez de pousser la tige du sol√©no√Øde de votre propre main.  S'il bouge ou bouge avec beaucoup d'efforts, cela signifie que de la colle suppl√©mentaire est arriv√©e. <br><br>  La connexion du sol√©no√Øde √† la carte de commande <i>ne</i> s'effectue pas <i>directement</i> : pour cela, vous devez utiliser un relais √©lectromagn√©tique ou un interrupteur √† transistor.  Vous pouvez rechercher des solutions toutes faites, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Il sera √©galement utile de lire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> .  J'ai utilis√© le relais sovi√©tique RES49.  Voici un sch√©ma de la connexion du sol√©no√Øde √† travers un transistor TIP120. <br><br><div style="text-align:center;"><img width="45%" src="https://habrastorage.org/webt/59/d0/28/59d0282d5c761301173639.jpeg"></div><br>  L'utilisation d'une diode dans le circuit est obligatoire.  Il remplit une fonction de verrouillage ici, sans lui, la carte Arduino red√©marrera constamment.  Les caract√©ristiques de la diode ne jouent pas un grand r√¥le, elle peut √™tre retrouv√©e et retir√©e de n'importe quelle ancienne carte. <br><br><h3>  M√©canisme de traction </h3><br>  Pour que le m√©canisme de brochage fonctionne, il est n√©cessaire d'assurer un frottement minimal du ruban de papier sur la surface du bo√Ætier.  Vous pouvez r√©duire les frottements si vous frottez abondamment la piste avec de la paraffine ou, au pire, collez une bande de ruban transparent dessus. <br><br><div style="text-align:center;"><img width="70%" src="https://habrastorage.org/webt/59/cf/ce/59cfcefa42541901173331.jpeg"></div><br>  Nous proc√©dons √† la proc√©dure de fabrication.  Nous coupons la tige de la longueur requise (28 mm), apr√®s quoi nous d√©crivons l'endroit o√π le coussin d'oreille du casque sera situ√©, enroulons plusieurs tours de ruban √©lectrique sur la tige - afin que notre ¬´rouleau¬ª y soit bien ajust√©. <br><br>  Ensuite, apr√®s avoir mordu les ¬´oreilles¬ª du moteur pas √† pas pour le montage sur le fil, nous l'avons mis dans une niche.  Ensuite, √† l'aide d'un tube thermor√©tractable, nous fixons l'axe √† l'arbre du moteur.  Si tout a fonctionn√©, nous fixons le moteur avec un adh√©sif thermofusible.  Essayez de rendre l'arbre perpendiculaire √† la piste et parall√®le au plan horizontal.  Le coussin d'oreille et l'arbre du moteur sont mieux coll√©s imm√©diatement √† l'axe avec une super-colle. <br><br><img width="100%" src="https://habrastorage.org/webt/59/cf/ce/59cfcefa4295b088017506.jpeg"><br><br>  Pour v√©rifier, nous connectons le moteur pas √† pas via le pilote √† la carte de commande et nous chargeons l'esquisse √† partir des √©chantillons: Stepper ‚Üí stepper_oneStepAtATime.  Il suffit de changer la valeur de la variable stepsPerRevolution de 200 √† 4096 et de supprimer le retard (500). <br><br>  Au cas o√π, je donne le code avec les corrections ci-dessous. <br><br><div class="spoiler">  <b class="spoiler_title">stepper_oneStepAtATime</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#include &lt;Stepper.h&gt; const int stepsPerRevolution = 4096; Stepper myStepper(stepsPerRevolution, 8, 9, 10, 11); void setup() { } void loop() { myStepper.step(1); delay(5); }</span></span></code> </pre><br></div></div><br>  Apr√®s avoir charg√© l'esquisse, le moteur pas √† pas doit commencer une rotation douce et lente.  Vous pouvez essayer de glisser un morceau de ruban adh√©sif sous le rouleau.  Elle devrait √©galement commencer un mouvement fluide et lent.  Si cela ne se produit pas, il est possible que la rugosit√© de surface soit √©lev√©e, ce qui est corrig√© avec du papier de verre √† grain fin. <br><br><h3>  Axe pour bobine </h3><br>  C'est peut-√™tre l'√©tape la plus facile parmi d'autres.  Nous prenons un axe d'environ 25 mm de long, une partie restante non utilis√©e et les collons ensemble.  Vous devrez peut-√™tre mettre une rondelle entre le support pour la bobine et la partie pour laquelle je n'ai pas trouv√© de nom. <br><br><img width="45%" src="https://habrastorage.org/webt/59/cf/d5/59cfd509e2a93004972703.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/d5/59cfd509e3087280035544.jpeg"><br><br>  Maintenant, quelques mots sur la bande de papier.  Sa largeur optimale est de 11 mm.  Vous pouvez proposer plusieurs technologies pour sa fabrication.  Par exemple, prenez un rouleau de ruban adh√©sif (rouleau de papier calque, papier millim√©tr√©, etc ...) et coupez-le.  J'ai aim√© l'option de couper la feuille A4 en bandes, qui sont ensuite soigneusement coll√©es dans le ruban de la longueur souhait√©e. <br><br><h3>  Tout mettre ensemble </h3><br>  Si tous les m√©canismes fonctionnent d√©j√†, il est maintenant temps de commencer l'√©tape la plus difficile - de les faire fonctionner ensemble.  Vous devez d'abord assembler / souder le circuit ci-dessous. <br><br><div style="text-align:center;"><img width="80%" src="https://habrastorage.org/webt/59/d1/2e/59d12ea00518f229159088.jpeg"></div><br>  J'ai plac√© toute l'√©lectronique dans le bo√Ætier de l'appareil comme suit (un jour j'apprendrai √† souder normalement, mais pas cette fois): <br><br><div style="text-align:center;"><img width="80%" src="https://habrastorage.org/webt/59/cf/d5/59cfd579bd4d8140062253.jpeg"></div><br>  Nous installons √©galement un interrupteur et un connecteur d'alimentation.  Comme interrupteur, j'ai utilis√© le MT-1 sovi√©tique.  Je recommande de prendre quelque chose de plus petit, car l'utilisation d'un interrupteur √† bascule si grand dans un si petit bo√Ætier est un luxe inadmissible, il est pr√©f√©rable de prendre cet endroit avec quelque chose de plus utile. <br><br><div class="spoiler">  <b class="spoiler_title">Quelques photos de l'appareil fini</b> <div class="spoiler_text"><img width="45%" src="https://habrastorage.org/webt/59/cf/da/59cfdac114ea6887453312.jpeg"><img width="45%" src="https://habrastorage.org/webt/59/cf/da/59cfdac114eb0922143450.jpeg"><br><div style="text-align:center;"><img width="45%" src="https://habrastorage.org/webt/59/cf/da/59cfdac150f15092698130.jpeg"></div><br></div></div><br>  Nous proc√©dons au d√©bogage du programme.  Pour ce faire, prenez le croquis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ICI</a> et chargez-le dans le tableau. <br><br>  J'ai essay√© de le commenter autant que possible, alors j'esp√®re que ce sera aussi clair que possible.  Lorsque le programme d√©marre, l'appareil imprime le mot ¬´BONJOUR¬ª, puis imprime litt√©ralement tout ce qui vient au module Bluetooth.  Votre t√¢che au stade du d√©bogage consiste √† s√©lectionner les valeurs DOT_UP_DELAY, DOT_DOWN_DELAY, SERVO_MAX, SERVO_STEPS, SERVO_DELAY et LINE_TAB dans l'esquisse afin que l'inscription "HELLO" au d√©marrage du programme soit la plus belle possible. <br><br>  Une fois la qualit√© d'impression souhait√©e atteinte, vous pouvez essayer d'envoyer un message via Bluetooth.  Pour ce faire, vous pouvez t√©l√©charger n'importe quelle application sur votre t√©l√©phone avec l'expression ¬´terminal Bluetooth¬ª dans son nom, vous connecter √† l'appareil (tr√®s probablement, il sera affich√© sous le nom hc-06) et commencer √† lui envoyer des messages.  Gardez √† l'esprit que la taille de la m√©moire tampon du port s√©rie sur l'Arduino est de 64 octets.  Cela signifie que si vous envoyez un message trop long, il n'imprimera pas exactement ce que vous voulez. <br><br>  J'ai √©galement √©crit une petite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application Android</a> qui capture les notifications push affich√©es sur votre t√©l√©phone et les envoie √† l'impression.  Il peut √©galement √™tre utilis√© comme un simple terminal Bluetooth.  Les versions Android de 4.3.0 sont prises en charge.  Vous devez vous rappeler d'autoriser l'acc√®s de l'application aux notifications syst√®me, sinon rien ne fonctionnera. <br><br><div class="spoiler">  <b class="spoiler_title">Comment autoriser l'application √† acc√©der aux notifications</b> <div class="spoiler_text"><div style="text-align:center;"><img width="80%" src="https://habrastorage.org/webt/59/d0/26/59d026d7c2d7d304089110.jpeg"></div><br></div></div><br>  Il s'agit d'une version b√™ta de l'application, si n√©cessaire je vais la modifier et √©tendre les fonctionnalit√©s. <br><br><h3>  Partie d√©corative </h3><br>  Cette √©tape n'est pas obligatoire du tout et, dans certains cas, elle est plus susceptible de nuire.  Tout est √† votre go√ªt ici.  Dans mon cas, par exemple, j'ai vieilli toutes les pi√®ces en bois avec une patine et recouvert d'une fine couche de vernis, et j'ai √©galement fait de petits panneaux "Mini Telegraph", "ON / OFF" et une plaque de signature. <br><br><h3>  Pour r√©sumer </h3><br>  C‚Äôest tout.  J'esp√®re que vous avez appr√©ci√© ce petit projet.  Peut-√™tre que certaines id√©es ou solutions vous ont sembl√© int√©ressantes.  Avec un haut degr√© de probabilit√©, je modifierai <br>  ce projet.  Je serai heureux de toute question, conseil et suggestion dans les commentaires.  Si vous parvenez √† faire quelque chose de similaire, il sera tr√®s int√©ressant pour moi de le regarder, si vous avez des questions, vous pouvez √©crire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h3>  Liste des articles pouvant √™tre utiles. </h3><br><div class="spoiler">  <b class="spoiler_title">Liste</b> <div class="spoiler_text">  Une compr√©hension approfondie de ce avec quoi vous travaillez aidera √† √©viter de nombreuses erreurs d√©sagr√©ables. <br>  (Certains articles sont en anglais, mais avec de belles images en couleur) <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√Ä propos des servos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Moteur pas √† pas 28BYJ-48 Pro</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">A propos de la connexion des sol√©no√Ødes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√Ä propos de la fa√ßon de flasher Arduino mini</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√Ä propos du module Bluetooth</a> </li></ul><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr407057/">https://habr.com/ru/post/fr407057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr407047/index.html">IP57 vs IPX8, ou √Ä propos du seul lecteur v√©ritablement ¬´tout-terrain¬ª au monde</a></li>
<li><a href="../fr407049/index.html">Mauvaise nouvelle: les poissons mangent beaucoup de plastique; mais pire encore, ils pourraient l'aimer</a></li>
<li><a href="../fr407051/index.html">Le jour o√π la Terre s'est disput√©e</a></li>
<li><a href="../fr407053/index.html">Un peu sur la chaleur int√©rieure</a></li>
<li><a href="../fr407055/index.html">Vous vous d√©placez plus vite que la vitesse de la lumi√®re? - Rien de plus simple</a></li>
<li><a href="../fr407061/index.html">L'interaction des machines et des personnes dans l'environnement de l'Internet social des objets</a></li>
<li><a href="../fr407063/index.html">Voyages longue distance - sur une fus√©e</a></li>
<li><a href="../fr407065/index.html">Ordinateur portable japonais 1998 (Fujitsu fmV-BIBLO NCIII13)</a></li>
<li><a href="../fr407067/index.html">Trichez sur KinoPoisk, regardez les comptes de plus pr√®s</a></li>
<li><a href="../fr407069/index.html">Okira Energy: sac √† dos de ville et station de charge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>