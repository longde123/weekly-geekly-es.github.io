<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦃 🥅 👨‍👨‍👦 在家中使用WiFi水壶，或如何使普通水壶真正智能 ⛹🏽 🖐🏼 👲🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前言
 
 如果您阅读了我的上一篇文章（Arduino上的Running line），那么您可能已经知道我们有机会在我们的大学进行硬件课程项目。受以前工作的启发，我决定再次尝试用自己的双手做些事情。只有现在，这个话题才应该更加严肃。顺便说一句，我开始考虑在寒假期间，即学期前该做什么。我想同时做一些有...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在家中使用WiFi水壶，或如何使普通水壶真正智能</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/393785/"><img src="https://habrastorage.org/files/13e/789/ac5/13e789ac5ab64c99bb2243540c6188bc.jpg" alt="图片"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前言</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您阅读了我的上一篇文章（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino上的Running line</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），那么您可能已经知道我们有机会在我们的大学进行硬件课程项目。</font><font style="vertical-align: inherit;">受以前工作的启发，我决定再次尝试用自己的双手做些事情。</font><font style="vertical-align: inherit;">只有现在，这个话题才应该更加严肃。</font><font style="vertical-align: inherit;">顺便说一句，我开始考虑在寒假期间，即学期前该做什么。</font><font style="vertical-align: inherit;">我想同时做一些有趣和有用的事情。</font></font><br>
<br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜寻想法</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一次，在“信息保护基础知识”中，我们有一个与知识产权和专利有关的主题。老师给了我们一项任务，即根据所有要求为任何设备颁发专利，并以wifi水壶为例。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他说-忘了。每个人都忘记了，但是在我脑海中这个话题仍然存在。当需要考虑下个学期的课程作业时，我想起了这个茶壶。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我决定要看的第一件事是已经完成的工作。当我看到只有三种支持WiFi控制的假人模型发售时，其中有两个属于同一公司，这让我感到惊讶。这些是Smarter iKettle 1.0和2.0和俄罗斯Polaris PWK 1792CGL。</font></font><br>
<br>
<img src="https://psv4.vk.me/c615220/u9412861/docs/0ad68e7b3b82/imgonline-com-ua-twotoonefP6QyHRwpyGH.jpg?extra=DYIN0iLJbtamO0yymkG01568IjGjd-b5TPTlrxOGOg9GKUkRFG9qAbzX7whoNtLphkadbiiUq9AIz1X7jxfJ5trWX89OM_uDNpnwCw7j1tyXwPGFSsnL" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有趣的是，几乎每个房子都有普通的电热水壶，而且智能电水壶很少。</font><font style="vertical-align: inherit;">比较iKettle和Polaris提供的功能，我列出了最必要的功能。</font><font style="vertical-align: inherit;">这是发生了什么：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过智能手机打开/关闭；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设定加热水的温度；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找出当前温度的能力；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪水壶中当前的水量；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告和防止少量水开启的保护措施；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置自动唤醒时间；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备通知；</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
看起来很真实，是时候开始做生意了。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索所需的组件</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于不可能制造出全新的水壶，因此决定修改现成的普通电水壶。仅仅在家里是一个孤立的水壶，开关坏了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我认为基础已经存在。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我不得不开始寻找硬件组件。由于使用Arduino的经验很少，因此我决定在Arduino上实现所有功能。而且，Arduin自己及其模块很便宜。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于我必须将水壶控制的整个部分插入水壶内，因此选择权在于Arduino Nano。它体积小巧，并且具有用于连接电缆的接口，与Pro Mini不同，Pro Mini必须通过UART进行刷新。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/bd1/d8a/273/bd1d8a273b5189fb42cdd0834246dbc4.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wifi水壶的主要组件当然是wifi模块。在Internet上搜索负担得起的东西和许多教程，ESP8266都遇到了。即，在版本01上。我认为它价格便宜（约合2美元），并且有很多连接说明。停下来了。至于模块本身，这句话很好：便宜又开朗。但是稍后会更多。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a39/db0/0e5/a39db00e5e05bc51f4c727c9b75ee18a.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了控制温度，我们需要某种防水温度传感器。我在速卖通上发现了一种防水的NTC热敏电阻，可以承受100度以上的温度。我还找到了与他合作的例子，因此在这里我迅速决定。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/205/649/1b9/2056491b9c4e3906446017711d069826.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，有必要决定如何使水壶在给定的时间点打开，当然，您可以在Arduino上使程序成为时钟并在时间一致时打开水壶，但这会不稳定，并且如果程序被意外重置，那么一切都会出错。因此，这里需要一个实时时钟。即DS1307。它们具有独立的电源（由3 V电池供电），并且我要在其上停止的模块上还有一个32K位EEPROM存储器芯片，我以前用来节省开机时间。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f8b/6d4/3e1/f8b6d43e1e1ddcf1ab573ad49bec80f3.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
哦，是的，由于水壶现在应该以编程方式打开，因此还需要一个1通道继电器。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/be1/f74/46d/be1f7446d29e3cdcc3a226860e31d01d.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
至于液位传感器，则必须手动完成。详细信息如下。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其余的仍然需要几个不同面额的电阻器，用于测试的面包板，用于实际安装的电路板，布线，带有助焊剂和焊料的烙铁以及耐心的绝大部分。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发开始</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于该项目是一个wifi水壶，所以我想要和需要处理wifi模块的第一件事。</font><font style="vertical-align: inherit;">包裹到达后，我立即打开包装并开始连接。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在互联网上找到了很多例子。</font><font style="vertical-align: inherit;">3.3 V稳压器，用于RX和TX的分压器应有尽有。</font><font style="vertical-align: inherit;">我通过示例收集了所有东西，将它们连接起来-它没有飞起来！</font><font style="vertical-align: inherit;">事实证明，COM端口监视器中显示了一堆文本，该模块一直处于重置状态。</font><font style="vertical-align: inherit;">它不响应发送的AT命令。</font><font style="vertical-align: inherit;">本文的作者作品，我没有。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
怎么了我试图寻找其他连接方案，依此类推，等等，但是该模块仍处于重置状态或不显示任何内容。在所有地方都用红色字体表示：“请勿应用于5 V模块，否则它将失败。”因此，寻找解决方案的时间有时会持续到晚上，我已经在考虑购买另一个模块，但决定使用万用表检查电压。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原来，当模块连接到3.3 V时，电压下降到3.2 V以下。看来，好的，它会下降。我决定从另一个电源为其供电，结果发现该模块在高于3.2 V的电压下仍能正常工作，而低于该电压还不够，并且会不断复位。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，我自己冒着风险，将其连接到5 V，一切正常，并且仍然可以正常工作。</font></font><br>
<br>
<img src="https://habrastorage.org/files/d5d/17e/780/d5d17e7804c34c46a595c059100295e1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其他组件没有此类问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在找出wifi之后，我必须决定如何处理液位传感器。在谷歌搜索中，我找到了一篇文章，作者在其中撰写了一篇土壤湿度传感器。当土壤变干时，传感器的电阻会增加，Arduino的模拟端口上的电压也会上升。通过检测电压的变化，可以检测液体的外观。用6个触点代替我的项目中的液位，其中一个触点连接到5 V输出，其余触点连接到模拟输入，而10kΩ电阻连接到GND。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是测试的照片。</font></font><br>
<br>
<img src="https://habrastorage.org/files/43c/536/5fd/43c5365fd8464326bf5b4eee5bfbe806.jpg"><br>
<img src="https://habrastorage.org/files/c99/d28/fee/c99d28fee740489a9b3893e4f9fdd418.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这就是液位传感器的结果。</font></font><br>
<br>
<img src="https://habrastorage.org/files/b1e/2bb/10d/b1e2bb10db5f4e7ea647a746bc7e039c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我测试的下一件事是实时时钟。</font><font style="vertical-align: inherit;">但是与他们合作基本上很简单。</font><font style="vertical-align: inherit;">为了设置时间并获取有关时间的信息，我仅使用了库随附的示例来与DS1307一起使用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，当所有东西都组装在面包板上时，我们在电线和模块之间遇到了这种交叉。</font><font style="vertical-align: inherit;">顺便说一下，在这些照片中还有另一个温度传感器。</font></font><br>
<br>
<img src="https://habrastorage.org/files/2f9/74d/288/2f974d288e8b43b0ab3612641a985f0e.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门指南</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，所有这些都必须焊接在电路板上。</font><font style="vertical-align: inherit;">没什么特别的评论，所以只有一张照片。</font><font style="vertical-align: inherit;">如您所见，添加了另一个按钮，以便您不仅可以从智能手机打开水壶，还可以以通常的方式打开水壶。</font></font><br>
<br>
<img src="https://habrastorage.org/files/98a/ad1/920/98aad19203204e46a644e52c9f905af0.jpg"><br>
<img src="https://habrastorage.org/files/995/592/45e/99559245edb048699172208c2584b689.jpg"><br>
<img src="https://habrastorage.org/files/2dd/594/23c/2dd59423cb0a447295593b52da781dd5.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，您需要将所有物品放入水壶中。</font></font><br>
<br>
<img src="https://habrastorage.org/files/9cb/50e/bf8/9cb50ebf8d05486babe76682ce68fddf.jpg"><br>
<img src="https://habrastorage.org/files/39d/b11/53b/39db1153b86c4592862b1b2f66531252.jpg"><br>
<img src="https://habrastorage.org/files/605/7db/1e6/6057db1e6ead493c81d399e164b399d4.jpg"><br>
<img src="https://habrastorage.org/files/853/6fc/00e/8536fc00ead6460ab5e581029bbdaf64.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
添加了石棉插件以防止所有内部过热。</font></font><br>
<br>
<img src="https://habrastorage.org/files/027/99a/f36/02799af362264b6682b3355bae815b9c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
没错，必须使用额外的塑料插件稍微抬起表壳。</font></font><br>
<br>
<img src="https://habrastorage.org/files/ec3/06e/ab8/ec306eab83114666a94c62b33f9ce6f2.jpg"><br>
<img src="https://habrastorage.org/files/836/47b/9ac/83647b9ac23a43c7bd39ec57c4b2807c.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在转到移动部分。</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
至于应用程序，由于它是在Android OS下开发的，因此最初计划使用Android Studio。但是，为了研究新技术，决定使用现成的平台来开发物联网领域的程序。结果，选择权落在了Evothings产品-Evothings Studio上。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/74f/e14/7b1/74fe147b1a99d6a7fd6dd0b6a01ac2a2.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
它的主要优点如下：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -有关使用各种模块（Wifi，蓝牙）的大量标准示例；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -使用JS，HTML，CSS进行应用程序开发，可让您编写一种在Android和iOS上均能正常工作的代码，即仅绑定到一个平台的绑定消失；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -易于测试应用程序：智能手机上安装了一个应用程序以预览其开发，并且所有测试消息和错误消息均显示在计算机上的程序中；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -互联网上有关使用JS，HTML，CSS进行开发的大量信息；</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这个Evothings Studio中，有一个示例，该示例通过ESP8266发送开启请求来开启LED。我决定以该示例为基础，因为对我而言，最有价值的就是通过tcp套接字与WiFi模块进行通信。与发送打开LED的请求类似，我也请求更新水壶的传感器，设置打开时间，设置温度等。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后我把准备就绪和少量饮水的通知搞砸了，好处是我们时代中的一切都可以轻松地搜索到。</font><font style="vertical-align: inherit;">结果就是这样一个应用程序（一件不错的事情是使用CSS来创建应用程序接口）：</font></font><br>
<br>
<img src="https://habrastorage.org/files/0b9/985/b2d/0b9985b2d0fb4c97bb36d4ebeb772ab6.jpg"><br>
<img src="https://habrastorage.org/files/431/aaa/445/431aaa44557d42de996527f587d8691f.jpg"><br>
<img src="https://habrastorage.org/files/e3a/f8d/fb1/e3af8dfb13764be2b2b9e9acbad28769.jpg"><br>
<img src="https://habrastorage.org/files/9c0/db4/c6e/9c0db4c6e1b44b0f86f725b5e75a265a.jpg"><br>
<img src="https://habrastorage.org/files/80a/7ff/90f/80a7ff90f43b46e197fdfc3594297e1a.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能手机和水壶互动的简要说明</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器和客户端之间的通信使用WiFi模块进行。当您打开水壶控制模块时，WiFi模块将开始分发名为artKettle的网络。这是使用服务器端的AT命令完成的。因此，例如，要将模块置于接入点模式，则需要发送AT + CWMODE = 2命令。接下来，使用这些命令，您需要分配网络参数，允许连接多个设备并获取wifi本身的IP地址。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从客户端通过chrome.tcp.socket通过特定端口和wifi模块的ip地址进行连接。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将客户端连接到服务器后，您可以从智能手机控制水壶。考虑打开水壶的例子。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当您在artKettle应用程序中单击电源按钮时，将调用包含app.kettleOn（）的相应功能。</font><font style="vertical-align: inherit;">在此函数内部，两行传输到服务器端：</font></font><br>
<br>
<pre><code class="cpp hljs">app.sendString(<span class="hljs-string"><span class="hljs-string">'H'</span></span>);<font></font>
app.sendString(<span class="hljs-string"><span class="hljs-string">'U'</span></span>);
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来是Arduino方面的工作。</font><font style="vertical-align: inherit;">在第一行以字符“ H”到达后，将执行以下代码：</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(message.indexOf(<span class="hljs-string"><span class="hljs-string">"H"</span></span>) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; waterDetected())  {<font></font>
      digitalWrite(POWER_PIN, LOW); <font></font>
      IS_ON = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;<font></font>
      Serial.println(<span class="hljs-string"><span class="hljs-string">"ON"</span></span>);<font></font>
      sendCIPData(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"ON"</span></span>); <font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，它通过调用waterDetected（）方法来检查水壶中是否有水。</font><font style="vertical-align: inherit;">当水壶中有水时，请考虑使用该选项。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将低电压电平施加到继电器的控制引脚，这对应于继电器的控制引脚，即 </font><font style="vertical-align: inherit;">电源电路闭合：</font></font><br>
<pre><code class="cpp hljs">digitalWrite(POWER_PIN, LOW); 
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后将标志设置为指示水壶已打开，并在串行端口监视器的输出上显示一条消息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
之后，调用一个函数，该函数将响应消息发送到客户端，表明整个包含已成功完成：</font></font><br>
<br>
<pre><code class="cpp hljs">sendCIPData(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"ON"</span></span>);
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在客户端，检查传入消息后，电源按钮将设置为“打开”状态：</font></font><br>
<pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (buf.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) == <span class="hljs-string"><span class="hljs-string">"ON"</span></span>) {<font></font>
	app.setButtonOn();<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
之后，将使用从客户端发送到服务器的字符“ U”来处理文本消息。</font><font style="vertical-align: inherit;">这里，以类似于包含的方式，更新关于釜中的当前温度和液体量的信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，组织了客户端和服务器之间的双向通信，以便它们中的任何一个在任何给定时间都知道另一个的状态。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></h2><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该课程项目的结果是，对传统电水壶进行了修改，从而可以通过wifi从智能手机进行控制。现在，这个茶壶可以归因于物联网的代表。我们设法完全实现了所有功能，因此现在该水壶具有以下功能：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -通过智能手机打开/关闭；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -设定加热水的温度；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -找出当前温度的能力；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -跟踪水壶中当前的水量；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -警告和防止少量水开启的保护措施；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -设置开启时间；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -准备就绪通知；</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
已实施项目的优点是元素库的可访问性，因为您需要的所有内容都可以在电子组件的存储中找到，这是项目的可扩展性。由于水壶已经安装了所有必需的传感器，因此可以通过程序对其进行修改，并且不会比模拟水壶差。考虑到所使用的wifi模块的多功能性，您可以将其连接到Internet并组织对水壶的控制（位于世界任何地方），并使用在线服务处理SMS消息，可以组织SMS的收录。即该项目仍是非常可扩展的，为此有很多机会，但是由于它们不是正在开发的项目目标的一部分，因此并未实施。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，该项目也有弊端。</font><font style="vertical-align: inherit;">第一个是Wifi模块的不稳定运行。</font><font style="vertical-align: inherit;">一个模块有时只是失去其网络，开始重置设置，或者根本不处理输入信号。</font><font style="vertical-align: inherit;">而且，这些是该模块用户中普遍的问题。</font><font style="vertical-align: inherit;">第二个缺点是水壶没有机械停机。</font><font style="vertical-align: inherit;">关机是通过软件实现的；当达到沸点时，电路将通过继电器断开。</font><font style="vertical-align: inherit;">如果程序突然崩溃，则水壶可能无法关闭。</font><font style="vertical-align: inherit;">第三个缺点是监测加热温度的问题。</font><font style="vertical-align: inherit;">因此，例如，如果您在60度的温度下关闭水壶，则加热十台将继续散发热量，过一会儿，水温将已经达到约70度。</font><font style="vertical-align: inherit;">但这可以通过对该程序进行调整来纠正。</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN393785/">https://habr.com/ru/post/zh-CN393785/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN393775/index.html">海豚发现了语言交流的雏形</a></li>
<li><a href="../zh-CN393777/index.html">水星在阳光下通过-照片和视频</a></li>
<li><a href="../zh-CN393779/index.html">阿联酋计划建造人造山以增加降雨</a></li>
<li><a href="../zh-CN393781/index.html">NUST“ MISiS”的科学家证明了地球结构经典理论的失败</a></li>
<li><a href="../zh-CN393783/index.html">日食和月食的基础从-1999年到+3000年</a></li>
<li><a href="../zh-CN393787/index.html">Как ремонтируют ядерные реакторы</a></li>
<li><a href="../zh-CN393791/index.html">瑞士城市获准以比特币支付水电费</a></li>
<li><a href="../zh-CN393795/index.html">由于全球变暖，中东和北非的部分地区将无法居住</a></li>
<li><a href="../zh-CN393797/index.html">开始预订Pyra游戏机</a></li>
<li><a href="../zh-CN393799/index.html">特斯拉车主使用亚马逊的Echo展示了让汽车离开车库是多么容易。</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>