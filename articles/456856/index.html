<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèΩ üë©üèΩ üê® C√≥mo elegir el mejor lugar para abrir una sucursal y visualizar los resultados en los mapas üßñüèΩ ‚òùüèø üöå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Elegir un lugar para una nueva sucursal es una decisi√≥n responsable. Los errores pueden ser costosos, especialmente en industrias intensivas en capita...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo elegir el mejor lugar para abrir una sucursal y visualizar los resultados en los mapas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456856/"> Elegir un lugar para una nueva sucursal es una decisi√≥n responsable.  Los errores pueden ser costosos, especialmente en industrias intensivas en capital.  Muy a menudo, tales decisiones son tomadas por expertos en gesti√≥n: en base al conocimiento de la ciudad, la industria, la experiencia previa. <br><br>  En este art√≠culo hablar√© sobre c√≥mo los an√°lisis pueden ayudar a tomar tales decisiones.  C√≥mo recopilar informaci√≥n sobre la poblaci√≥n, los precios inmobiliarios y hacer visualizaciones interactivas.  ¬øEl n√∫mero de clientes depende de la distancia a la sucursal, el a√±o en que se construy√≥ la casa y el valor de la propiedad? <br><br><h4>  Poblaci√≥n de la ciudad precisa para el hogar </h4><br><img src="https://habrastorage.org/webt/wp/_u/jf/wp_ujf5jre0_kj9nui0ktf9eubm.jpeg"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">C√≥digo para crear un mapa</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    import pandas as pd from folium.plugins import HeatMap import folium #  df = pd.read_csv('people_spb.csv') filial = pd.read_csv('filial.csv') competitor = pd.read_csv('competitors.csv') #  hmap = folium.Map(location=[59.95, 30.15], zoom_start=11) #    people = folium.FeatureGroup(name = ' ') hm = HeatMap( list(zip(df.lat.values, df.lng.values, df['People'])), min_opacity = .1, max_val = df['People'].max(), radius = 15, blur = 25, max_zoom = 1 ) people.add_child(hm) #    filial_markers = folium.FeatureGroup(name = ' ') for index, row in filial.iterrows(): folium.Marker( location = [row['lat'], row['lng']], popup = row['Name'], icon = folium.Icon(color='blue', icon='cloud') ).add_to(filial_markers) #    competitor_markers = folium.FeatureGroup(name = ' ') for index, row in competitor.iterrows(): folium.Marker( location = [row['lat'], row['lng']], popup = row['Name'], icon = folium.Icon(color='red') ).add_to(competitor_markers) #    hmap.add_child(people) hmap.add_child(filial_markers) hmap.add_child(competitor_markers) #   folium.LayerControl(collapsed=False).add_to(hmap) #    html  hmap.save('people_spb.html')</span></span></code> </pre> <br></div></div><br>  Para evaluar la poblaci√≥n de la casa, utilizamos los datos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de la reforma de vivienda y servicios comunales</a> .  En este portal puede obtener informaci√≥n sobre cada casa: a√±o de construcci√≥n, superficie habitable, n√∫mero de locales residenciales.  La estimaci√≥n de la poblaci√≥n de cada casa se bas√≥ en el n√∫mero de apartamentos y el espacio total de vida: un promedio de aproximadamente 3 personas por apartamento con ligeras diferencias para algunas casas y distritos municipales. <br><br>  Arriba hay un mapa de calor con densidad de poblaci√≥n en San Petersburgo.  Nuestra tarjeta para uso interno tambi√©n contiene una capa separada con la densidad de clientes.  Es m√°s conveniente buscar manchas blancas, lugares con poca cobertura. <br><br><h4>  Direcciones de clientes </h4><br>  Debido a los detalles espec√≠ficos del negocio, ten√≠amos direcciones para casi todos los clientes en nuestra base de datos.  Solo era necesario encontrar las coordenadas geogr√°ficas para cada direcci√≥n: geocodificaci√≥n o geocodificaci√≥n.  Para obtener las coordenadas, utilic√© el paquete geocodificador para python.  Los siguientes problemas ocurrieron durante la geocodificaci√≥n: <br><br><ol><li>  Algunas direcciones son incorrectas, por ejemplo, el caso o la letra son confusos.  En esta situaci√≥n, la geocodificaci√≥n puede "poner" al cliente en un jard√≠n de infantes o en un edificio de oficinas.  Para tales casos, tuve que escribir un proceso que cambiara las coordenadas al edificio residencial m√°s cercano dentro de los 200 m. </li><li>  Puntos con un n√∫mero anormalmente alto de clientes: centro de la ciudad, centro de una calle grande, centro del distrito.  Dichas coordenadas se obtuvieron con una direcci√≥n rellenada incorrectamente y podr√≠an distorsionar la imagen general, por lo tanto, antes de modelar, se eliminaron </li></ol><br>  Como resultado, obtuvimos las coordenadas exactas de la casa para el 93% de los clientes.  Ahora puedes construir dicho mapa: <br><br><img src="https://habrastorage.org/webt/1m/qj/9e/1mqj9ejjf5rydnthunmyexvatyw.gif"><br>  <i>Los datos aleatorios se trazan en el mapa para parte de San Petersburgo.</i> <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo para crear un mapa</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> folium <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> folium.plugins <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MarkerCluster <span class="hljs-comment"><span class="hljs-comment">#  df = pd.read_csv('data.csv') cmap = folium.Map(location=[59.95525, 30.2923], zoom_start=13) m = MarkerCluster() for i, row in df.iterrows(): mc.add_child(folium.Marker(location=[row.lat,row.lng])) cmap.add_child(mc) cmap.save(folder+"marker_map.html")</span></span></code> </pre><br></div></div><br>  Tal mapa result√≥ ser una herramienta conveniente para probar hip√≥tesis.  Por ejemplo, el negocio ten√≠a la hip√≥tesis de que en algunos tipos de casas (edificios masivos sovi√©ticos: barcos, series 504, Khrushchevs, etc.) no habr√≠a clientes nuestros.  Result√≥ que esto no es del todo cierto.  S√≠, la proporci√≥n de clientes de la poblaci√≥n en esas casas es baja.  Pero deben tenerse en cuenta ya que hay muchas de esas casas en la ciudad y, como resultado, proporcionan hasta el 20% del flujo de clientes. <br><br><h4>  Fronteras de los distritos municipales. </h4><br>  Puede reorganizar los datos de poblaci√≥n y clientes de la secci√≥n anterior por distrito municipal y mapearlos.  Si agrega ventanas de informaci√≥n y colores personalizados, resulta muy informativo.  Ya hay un excelente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> sobre el centro, donde los pasos muestran c√≥mo construir esas tarjetas. <br><br><img src="https://habrastorage.org/webt/oh/po/pk/ohpopkpsxfsxxadt50euapsjowq.jpeg"><br><br><img src="https://habrastorage.org/webt/y1/07/or/y107orxug3bx5dpujsc186ltmpa.jpeg"><br><br><h4>  Valor de la propiedad </h4><br>  Determinar los precios de las propiedades ha demostrado ser una tarea desalentadora.  En la primera etapa, logramos obtener todos los anuncios para la venta de bienes ra√≠ces desde principios de 2018, esto es alrededor de 700 mil registros. <br><br>  Para cada casa, el costo por metro cuadrado se calcul√≥ como la mediana de los anuncios.  Para el 20% de las casas sin anuncios, estimamos el costo de sq.  m. utilizando el modelo.  El factor principal es el precio por metro cuadrado.  m 15 casas m√°s cercanas.  Al mismo tiempo, las casas con caracter√≠sticas similares recibieron m√°s peso: a√±o de construcci√≥n, n√∫mero de residentes, tipo de proyecto.  El error promedio del modelo en el conjunto de prueba fue de 9.5%, lo cual es bastante aceptable para nuestro estudio.  Especialmente cuando consideras que incluso en una casa cuestan metros cuadrados.  m. puede variar mucho: piso, reparaci√≥n, √°rea y otros factores. <br><br><h4>  Distancia de la casa a la sucursal </h4><br>  El gr√°fico para 4 departamentos muestra la dependencia de la proporci√≥n de clientes en la casa en la distancia al departamento.  En algunas sucursales hay saltos fuertes, lo que sugiere la influencia de otros factores (edad de la casa, precio de los bienes inmuebles). <br><br><img src="https://habrastorage.org/webt/hb/y9/ei/hby9eivf0ndbl6fqp5-mc5ie18w.jpeg"><br><br><h4>  Edad en casa </h4><br>  Interesante es la relaci√≥n entre el a√±o en que se construy√≥ la casa y la proporci√≥n de clientes. <br><br><img src="https://habrastorage.org/webt/dz/f-/fy/dzf-fyplc6b5jdkxeteuiwklt9o.jpeg"><br><br>  Para seguir modelando, la edad de la casa se dividi√≥ en 5 categor√≠as significativas: <br><div class="scrollable-table"><table><tbody><tr><th>  Periodo </th><th>  Descripci√≥n </th></tr><tr><td>  1700-1960 </td><td>  Old Foundation y Stalin </td></tr><tr><td>  1960-1990 </td><td>  El per√≠odo de desarrollo masivo sovi√©tico </td></tr><tr><td>  1990-2000 </td><td>  Edificios puntuales en barrios antiguos, muchas casas de ladrillo </td></tr><tr><td>  2000-2010 </td><td>  El per√≠odo de recuperaci√≥n econ√≥mica.  Se est√°n construyendo muchas viviendas en buenas ubicaciones. </td></tr><tr><td>  2010-2018 </td><td>  desarrollo masivo en √°reas menos bien ubicadas y remotas </td></tr></tbody></table></div><br><h4>  Precio por sq.  m </h4><br><img src="https://habrastorage.org/webt/w2/jc/gs/w2jcgsvolniayunmfbuco51x6py.jpeg"><br><br>  El precio se correlaciona con la participaci√≥n del cliente.  Pero la relaci√≥n es m√°s d√©bil que entre la proporci√≥n de clientes y la edad de la casa.  Quiz√°s la raz√≥n es que la edad de la casa se correlaciona con la edad de los residentes.  Y la edad de una persona afecta en gran medida la frecuencia de las solicitudes de servicios m√©dicos. <br><br><h4>  Descripci√≥n del modelo </h4><br>  Posteriormente, este an√°lisis se convirti√≥ en un modelo completo, donde las coordenadas se suministran en la entrada y el n√∫mero de visitas de nuevos clientes se obtiene en la salida.  El art√≠culo result√≥ ser voluminoso, por lo que hablar√© brevemente sobre el modelo. <br><br>  Para facilitar la interpretaci√≥n de los resultados, se eligi√≥ la regresi√≥n lineal como modelo.  La variable objetivo es la proporci√≥n de clientes en la casa, factores: el logaritmo de la distancia a la oficina m√°s cercana, el costo de la vivienda, el a√±o en que se construy√≥ la casa.  Los tres factores resultaron ser significativos e ingresaron al modelo. <br><br>  Sustituyendo nuevas coordenadas en dicho modelo (es decir, cambiando el factor de distancia a la rama m√°s cercana), en la salida obtenemos un nuevo n√∫mero de clientes para toda la red.  Si restamos de este n√∫mero el n√∫mero de clientes que ten√≠a antes, obtendremos un efecto neto. <br><br>  Tal declaraci√≥n del problema es conveniente porque las nuevas ubicaciones se seleccionan teniendo en cuenta la ubicaci√≥n de las sucursales actuales.  Es decir, no es necesario tener en cuenta adicionalmente el factor de "canibalizaci√≥n" entre los diferentes departamentos. <br><br>  La b√∫squeda de puntos √≥ptimos para toda la ciudad se realiz√≥ mediante una simple enumeraci√≥n de coordenadas cada 500 m. Para calcular el efecto de abrir varias ramas, los puntos se establecieron secuencialmente. <br><br><h4>  Resultados </h4><br>  Logramos reemplazar el mapa de la pared, en el que pintamos manualmente los bordes de los distritos y le√≠mos algo en mapas interactivos convenientes.  Liber√≥ a los empleados de corregir y relacionar manualmente miles de direcciones con distritos municipales  Enriquezca los datos y pase del nivel del distrito municipal a cada casa. <br><br>  Result√≥ identificar varias ubicaciones muy prometedoras y no obvias para la colocaci√≥n.  Cree un modelo que compare de forma autom√°tica e imparcial los diferentes puntos. <br><br>  Se obtuvieron resultados interesantes cuando las l√≠neas de negocio se dividieron en "geodependientes" y "geo-independientes".  La primera debe formar parte de nuevas sucursales, la segunda puede desarrollarse en el marco de las ubicaciones actuales.  <i>(no presentado en el art√≠culo)</i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456856/">https://habr.com/ru/post/456856/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456846/index.html">Seminario "Gesti√≥n de vulnerabilidades: est√°ndares, realidad, herramientas", 4 de julio, Mosc√∫</a></li>
<li><a href="../456848/index.html">¬øQu√© tipo de m√∫sica estaba "cableada" en un sistema operativo popular?</a></li>
<li><a href="../456850/index.html">"Ojos de cachorro": 30,000 a√±os de co-evoluci√≥n humana y canina</a></li>
<li><a href="../456852/index.html">Simplifique el dibujo de Enum Flags en Unity</a></li>
<li><a href="../456854/index.html">Del kit de interfaz de usuario al sistema de dise√±o</a></li>
<li><a href="../456858/index.html">Ansible: actualizaciones en soluciones clave para automatizar su mundo</a></li>
<li><a href="../456860/index.html">Interruptores Insight de Extreme Networks ¬øO por qu√© en los conmutadores una m√°quina virtual?</a></li>
<li><a href="../456862/index.html">Lo que aprend√≠ de mi amarga experiencia (m√°s de 30 a√±os en desarrollo de software)</a></li>
<li><a href="../456866/index.html">Cu√°ndo har√°n "cheburnet" desde Internet: visi√≥n general del proyecto</a></li>
<li><a href="../456868/index.html">Nuevo 3CX SBC Remote Connection Manager en V16 Update 2 Beta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>