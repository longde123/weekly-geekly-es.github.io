<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💪🏼 👐🏽 👨‍👩‍👧 História desenhada: reconhecimento de imagem como base da mecânica do jogo 👨‍🏭 🏐 🤵🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sobre o que é o jogo?
 Resumidamente, o jogo Drawn Story pode ser descrito como uma missão em que, em vez de procurar os objetos necessários para se m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>História desenhada: reconhecimento de imagem como base da mecânica do jogo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/387821/"><img src="https://habrastorage.org/files/884/b87/4e1/884b874e14ce4631b1d38a3174b144a1.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o que é o jogo?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resumidamente, o jogo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drawn Story</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode ser descrito como uma missão em que, em vez de procurar os objetos necessários para se mover ao longo da trama, você precisa desenhar esses objetos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este é um jogo sobre o mundo desenhado em um pedaço de papel. Você controla dois personagens: um dos homenzinhos que vivem neste mundo e um artista que olha para uma folha de papel de algum lugar acima. No papel de um artista, você desenha objetos que podem ser apanhados e usados ​​pelos habitantes deste mundo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, você pode desenhar uma serra e cortar uma árvore com ela para construir uma balsa. </font><font style="vertical-align: inherit;">Ou puxe imediatamente um barco e a necessidade de uma jangada desaparecerá. </font><font style="vertical-align: inherit;">Você pode desenhar uma chave para abrir uma porta trancada ou um machado para quebrar uma porta. </font><font style="vertical-align: inherit;">A beleza é que, no papel do artista, você escolhe como interagir com o mundo. </font><font style="vertical-align: inherit;">Aqui está o que parece:</font></font><br>
<br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/yl_dUZm3bSI%3Ffeature%3Doembed&amp;usg=ALkJrhiTC4Aj8MeHp-2_3yBE2jyAn1h7tQ" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objetivo do jogo é criar objetos adequados para ajudar uma pessoa que vive no mundo pintado a lidar com todos os seus problemas cotidianos: chegar a algum lugar ou, inversamente, escapar, derrotar inimigos ou fazer amizade com eles, salvar a princesa ou encontrar um tesouro. </font><font style="vertical-align: inherit;">Não é necessário ser um verdadeiro artista para o jogo, e esboços aproximados de objetos servirão. </font><font style="vertical-align: inherit;">O principal é a sua imaginação e bom senso.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como tudo começou</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos últimos anos, desenvolvi este jogo de forma passiva, combinando-o com o trabalho principal de um programador. E há vários meses, parei e comecei a dedicar mais tempo ao desenvolvimento do jogo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ideia de criar esse jogo surgiu gradualmente. Depois que participei da criação de um serviço de pesquisa de esboços para imagens, lidei apenas com as questões de reconhecimento de imagens. O serviço não foi um grande sucesso. Mas então percebemos que muitos usuários acessam o site apenas para brincar com a tecnologia - desenhar algo e ver o que podem encontrar. Então surgiram pensamentos sobre como tornar básico o componente divertido do processo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também fui inspirado pelo charmoso jogo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crayon Physics Deluxe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em certo sentido, meu projeto é o desenvolvimento de suas idéias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E quando criança, adorava desenhar e costumava me sentar em uma folha em branco, ainda não imaginando o que iria retratar. </font><font style="vertical-align: inherit;">Ele inventou uma trama ao longo do caminho: aqui está uma fortaleza, aqui estão seus defensores, aqui estão outros homenzinhos invadindo-a; </font><font style="vertical-align: inherit;">aqui eles fizeram uma brecha no portão, e aqui eles colocaram escadas na parede, os defensores precisavam de alguma forma repelir todos esses ataques ... Foi interessante, depois de um tempo, olhar para uma foto assim e resolver o enredo novamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gradualmente, todos esses pré-requisitos se formaram no desejo de fazer um jogo sobre desenho com mecânica incomum.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalhes técnicos</font></font></h4><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enquadramento</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O jogo é desenvolvido em C ++ usando a estrutura Qt para o sistema operacional principal da área de trabalho: Windows, Mac, Linux. </font><font style="vertical-align: inherit;">Há também a possibilidade de um dia fazer uma versão para tablets. </font><font style="vertical-align: inherit;">Talvez a escolha de algum mecanismo de jogo especializado (Unity, por exemplo) seja mais racional, mas quando eu comecei o desenvolvimento, eu queria entender todas as nuances da criação do jogo: saída de gráficos, temporizadores, animação etc. </font><font style="vertical-align: inherit;">Além disso, eu não tinha certeza das possibilidades de personalizar soluções prontas para mecânica de jogo não padrão. </font><font style="vertical-align: inherit;">Então, eu escolhi o Qt com base nas minhas preferências pessoais. </font><font style="vertical-align: inherit;">Embora não seja aprimorado para a criação de jogos, é uma estrutura bem pensada e bem desenvolvida, com um mecanismo conveniente para slots e sinais. </font><font style="vertical-align: inherit;">Além disso, permite que você use a aceleração gráfica de hardware de forma quase transparente, sem recorrer a chamadas diretas para a biblioteca OpenGL.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reconhecimento de imagem</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para reconhecer objetos que o jogador desenha, uma biblioteca e um algoritmo auto-escritos são usados. Em geral, o esquema é o seguinte. Há uma base de imagens de referência de vários objetos (espada, escudo, serra, barco, chave etc.), para cada objeto são possíveis várias imagens diferentes (por exemplo, um escudo pode ser representado de maneiras completamente diferentes) e vários ângulos de rotação sob os quais eles será reconhecido. No protótipo inicial, os objetos não eram reconhecidos quando as pessoas os pintavam girando 45 graus, o que incomodava os jogadores que tentavam puxar a espada do homenzinho diretamente em sua mão. O algoritmo identifica certas características da imagem, as compara com amostras do banco de dados e encontra a melhor correspondência. Assim, é possível determinar o tipo de objeto e em qual direção ele é girado.Em seguida, no jogo é criado um modelo físico do objeto desenhado (para física, agradecimentos especiais à biblioteca</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Box2D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !) E seu modelo de comportamento. Graças a este último, será possível acenar com um objeto identificado, por exemplo, como uma espada, e refletir golpes com um objeto identificado como um escudo. No total, no momento do jogo você pode criar cerca de 40 itens diferentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, o algoritmo de reconhecimento não é perfeito. </font><font style="vertical-align: inherit;">No momento, de acordo com minhas estimativas, a precisão do reconhecimento é de 83% - esta é a porcentagem de objetos classificados corretamente. </font><font style="vertical-align: inherit;">Esta não é uma figura com a qual eu ficaria completamente satisfeito; portanto, volto periodicamente ao trabalho para melhorar a precisão do algoritmo. </font><font style="vertical-align: inherit;">Portanto, na última iteração, foi possível aumentar a precisão em cerca de 10% devido ao uso de outra função de similaridade de imagem. </font><font style="vertical-align: inherit;">Em geral, do ponto de vista do jogador, um objeto identificado incorretamente está longe de ser sempre uma fonte de frustração. </font><font style="vertical-align: inherit;">Às vezes, isso é apenas uma fonte adicional de diversão no jogo.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gráficos</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, planejei tornar os gráficos do jogo muito primitivos, para que correspondessem aos esboços em preto e branco que o jogador desenha. </font><font style="vertical-align: inherit;">Parecia algo assim: </font></font><br>
<img src="https://habrastorage.org/files/6b4/16e/100/6b416e1007314259ba63460725bec7d6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas rapidamente percebi que parecia muito miserável e, gradualmente, experimentando e melhorando os resultados, cheguei a imagens vívidas, possivelmente estilizadas como desenhos em guache: </font></font><br>
<img src="https://habrastorage.org/files/afe/cbd/6e3/afecbd6e341b46d2987e98e7b5c3f1ed.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
os próprios personagens do jogo também sofreram melhorias. </font><font style="vertical-align: inherit;">Foi: </font></font><br>
<img src="https://habrastorage.org/files/46d/085/b63/46d085b63cec4fab8525a852503cd4db.jpg" width="500"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tornou-se: </font></font><br>
<img src="https://habrastorage.org/files/d2f/4c7/917/d2f4c79175484c14a4d222e65e7570bc.jpg" width="500"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, o nível dos gráficos permanece muito amador - afinal, o artista meu não é muito. </font><font style="vertical-align: inherit;">Agora comecei a pensar em atrair um designer profissional para o projeto.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Status atual</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma versão demo do jogo com 5 níveis (e mais um "segredo") está pronta. </font><font style="vertical-align: inherit;">Você pode fazer o download no site do jogo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drawnstory.com/Downloads.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Windows, Mac, Linux de 64 bits) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também recentemente lancei uma campanha no Steam Greenlight. </font><font style="vertical-align: inherit;">Se você gostou do jogo e deseja contribuir para o desenvolvimento futuro, pode votar nesta página: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">steamcommunity.com/sharedfiles/filedetails/?id=568322436</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O principal trabalho de criação do mecanismo de jogo foi realizado. No futuro, os planos adicionarão novos níveis e complicarão os existentes.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt387821/">https://habr.com/ru/post/pt387821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt387811/index.html">NASA postou uma foto colorida de Plutão</a></li>
<li><a href="../pt387813/index.html">A NeoPhotonics, líder mundial no desenvolvimento de optoeletrônica, chegou a Moscou: uma turnê por salas limpas</a></li>
<li><a href="../pt387815/index.html">O primeiro plasma é obtido no stellarator Wendelstein 7-X</a></li>
<li><a href="../pt387817/index.html">Как может выглядеть 3D-принтер от Apple? Представлена возможная дизайн-концепция</a></li>
<li><a href="../pt387819/index.html">Chile concebeu usinas de energia solar</a></li>
<li><a href="../pt387823/index.html">Um tour pelo data center sueco do Facebook, perto do Círculo Polar Ártico</a></li>
<li><a href="../pt387827/index.html">Revisão do Techno MOZG 7.0 de 7 polegadas bb-mobile no Intel® Atom ™ X3</a></li>
<li><a href="../pt387829/index.html">Seja infeliz. Viva por muito tempo</a></li>
<li><a href="../pt387833/index.html">E nós temos ShielPlus, e você?</a></li>
<li><a href="../pt387835/index.html">Campo de batalha para startups de startups de alimentos: como e com quem os serviços de entrega de alimentos competem com as receitas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>