<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔃 👲 🙍🏼 为什么要使用python -m pip 🗄️ 🚳 👩🏼‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="你好 预期将在机器学习课程中启动一个新主题，我们希望共享该文章的翻译，该文章与ML有相当间接的联系，但对我们博客的订阅者肯定有用。 



 加拿大开发人员Mariatta在Twitter上要求使用python -m pip进行询问，请她讨论此习语并解释其用法。 

 我最近了解到，您需要编写pyt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>为什么要使用python -m pip</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/475392/">  <i>你好</i>  <i>预期将在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">机器学习</a>课程中启动一个新主题，我们希望共享该文章的翻译，该文章与ML有相当间接的联系，但对我们博客的订阅者肯定有用。</i> <br><hr><br><img src="https://habrastorage.org/webt/qy/tv/jx/qytvjx9wzyn5f_ryroepxwqagvu.png"><br><hr><br> 加拿大开发人员<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Mariatta</a>在Twitter上要求使用<i>python -m pip</i>进行询问，请她讨论此习语并解释其用法。 <br><br><blockquote> <i>我最近了解到，您需要编写python -m pip而不是通常的pip安装，但是现在我不记得从谁那里来了。</i>  <i>可能来自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@brettsky</a>或<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@zooba</a> 。</i>  <i>你们是否有博客文章，以便我与读者分享？</i> <i><br></i>  <i>-Mariatta（ <code>@mariatta</code> ）2019年10月29日（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://twitter.com/mariatta/status/1189243515739561985?ref_src=twsrc%5Etfw</a> ）</i> <br></blockquote><br><br> 我不确定我对Mariatta所说的关于<i>python -m pip的内容</i> ，但是很有可能是我，因为我要求自2016年以来<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">就</a>以这种方式编写使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PyPI</a>安装软件包的说明。 因此，本文应解释什么是<i>python -m pip</i>以及为什么在启动<i>pip</i>时应使用它。 <a name="habracut"></a><br><br><h3> 什么是python -m pip？ </h3><br> 对于初学者， <i>python -m pip</i>使用您为python语句指定的Python版本执行pip。 因此，/ <code>/usr/bin/python3.7 -m pip</code>表示您为<code>/usr/bin/python3.7</code>的解释器运行<i>pip</i> 。 如果您不了解<code>-m</code>标志的工作原理，则可以阅读<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档</a> （顺便说一句，它非常有用）。 <br><br><h3> 为什么要使用python -m pip而不是pip / pip3？ </h3><br> 您可以说：“好吧，但是为什么我不能只通过运行<i>pip</i>命令来使用<i>pip</i> ？”答案是：“是，但是您对此的控制较少。” 我将通过一个示例来解释“减少控制”的含义。 <br><br> 假设我安装了两个版本的Python，例如Python 3.7和3.8（这在使用Mac OS或Linux的人们中很常见，更不用说您可能想使用Python 3.8的事实，并且您已经Python 3.7）。 因此，如果您在终端中键入<i>pip</i> ，将为该软件包安装哪个Python解释器？ <br><br> 没有更详细的信息，您将不知道答案。 首先，您需要了解PATH中的内容，即<code>/usr/bin</code>首先或<code>/usr/local/bin</code> （这是安装Python的最常见位置，通常以<code>/usr/local/</code>首先）。 因此，您还记得Python 3.7和3.8的安装位置，它们是不同的目录，并且您将首先了解PATH中的内容。 假设您手动安装了这两个软件，也许您的系统上已经预先安装了Python 3.7.3，并安装了Python 3.7.5。 在这种情况下，两个版本的Python都安装在<code>/usr/local/bin</code> 。 您现在能告诉我现在附有什么<i>点</i>吗？ <br><br> 您不知道答案。 如果您不知道每个版本的安装时间，并且知道<i>pip</i>的最新版本已写入<code>/usr/local/bin/pip</code> ，但您不知道<i>pip</i>命令将使用哪个解释器。 现在您可以说：“我总是安装最新版本，这意味着将在最后安装Python 3.8.0，因为它比3.7.5还要新。”好的，但是当Python 3.7出现时会发生什么.6？Python 3.8将不再使用您的<i>点</i> ，而Python 3.7将不再使用您的<i>点</i> 。 <br><br> 当您将<i>python -m pip</i>与所需的特定python解释器一起使用时，所有歧义都会消失。 如果我编写<i>python3.8 -m pip</i> ，那么我确切地知道将使用哪个<i>pip</i> ，并且该软件包将为Python 3.8安装（如果我指出python3.7，也会发生同样的事情）。 <br><br> 如果使用Windows，则还有一个额外的动机来使用<i>python -m pip</i> ，因为它允许<i>pip进行</i>更新。 主要是因为编写<i>pip install</i> <i>--upgrade</i> <i>pip</i>时<i>pip.exe</i>被认为正在运行。 此时，Windows不允许您重新安装<i>pip.exe</i> 。 但是，如果您执行<i>python-m pip install --upgrade pip</i> ，则会在启动<i>python.exe而</i>不是<i>pip.exe时</i>解决此问题。 <br><br><h3> 在激活的环境中会发生什么？ </h3><br> 通常，当我向人们解释本文的本质时，总会有人说：“我一直使用虚拟环境，而这不适用于我。” 好吧，对于初学者来说，使用虚拟环境总是很好！  （我将在下一篇文章中解释为什么会这样！）但是，老实说，我仍然会坚持使用<i>python -m pip</i> ，即使严格地说，这是没有必要的。 <br><br> 首先，如果您使用Windows，则仍要使用<i>python-m pip，</i>以便可以在您的环境中更新<i>pip</i> 。 <br><br> 其次，即使您使用其他操作系统，我也会说您仍然需要使用<i>python-m pip</i> ，因为不管情况如何，它都可以工作。 如果您忘记激活环境，他会警告您错误，并且任何监视您的人员都会采用最佳做法。 就个人而言，我不认为节省10次击键对于不采取良好做法会是不菲的代价。 而且此命令还将帮助您防止编写自动化脚本时出错，如果您忘记激活环境，该脚本将执行明显不正确的操作。 <br><br> 就个人而言，当我使用其工作取决于启动哪个解释器的任何工具时，无论是否激活了虚拟环境，我都始终使用<code>-m</code> 。 对我来说，了解我使用的是哪个Python解释器始终很重要。 <br><br><h3> 始终使用环境！ 不要将所有内容都放在全局解释器中！ </h3><br> 当我们谈论如何避免在Python中进行安装时的混乱时，我想强调的是，当我们在本地工作时，我们不应该在全局Python解释器中安装任何东西（容器是完全不同的事情）！ 如果这是系统的预装Python，那么如果您安装了操作系统所依赖的某些不兼容版本的库，则实际上将破坏系统。 <br><br> 但是，即使您自己单独安装<i>python</i>副本，我仍然强烈建议您不要直接在本地开发中安装它。 最终，您将在项目中使用可能相互冲突的各种程序包，并且对项目中的依赖项一无所知。 最好使用环境将各个项目和工具彼此隔离。  Python社区使用两种类型的环境：虚拟环境和conda环境。 甚至还有一种特殊的方式来独立安装Python工具。 <br><br><h3> 如果您需要安装工具 </h3><br> 对于独立安装该工具，我建议使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pipx</a> 。 每个工具都将拥有自己的虚拟环境，以免与其他工具冲突。 因此，如果您只想要一个安装，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Black</a> ，则可以工作而不会意外中断<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">mypy</a>的唯一安装。 <br><br><h3> 如果您需要项目环境（并且不使用conda） </h3><br> 当您需要为项目创建环境时，我个人总是转向<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">venv</a>和虚拟环境。 它包含在<i>stdlib</i> Python中，因此始终可以通过<i>python-m venv使用</i> （当然，除非您使用的是Debian或Ubuntu，在这种情况下，您可能需要安装<i>python3-venv apt</i>软件包）。  <i>一段</i>历史：实际上，出于需要使用<i>python -m pip</i>而不是<i>pip</i>的相同原因，我实际上删除了Python安装的用于使用<i>venv</i>创建虚拟环境的旧<i>pyvenv</i>命令。 也就是说，尚不清楚您使用旧的<i>pyvenv命令</i>为哪个解释器创建了虚拟环境。 请记住，您不需要激活环境即可使用其中包含的解释器，因为<code>.venv/bin/python</code>可以与激活环境并输入<i>python</i>命令一起工作。 <br><br> 如今，一些开发人员仍然更喜欢<i>virtualenv</i> ，因为它在Python 2中可用并且具有一些附加功能。 就个人而言，我对其他功能几乎没有兴趣，并且集成了<i>venv</i>意味着我不需要使用<i>pipx</i>在每台计算机上安装<i>virtualenv</i> 。 但是，如果<i>venv</i>不能<i>满足</i>您的需求，并且您想要一个虚拟环境，请查看<i>virtualenv</i>是否满足您的需求。 <br><br><h3> 如果您使用conda </h3><br> 如果使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">conda</a> ，则可以使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">conda</a>环境获得与<i>venv</i>提供的虚拟环境相同的效果。 我不会讨论在特定情况下是否需要使用conda或venv，但是如果您使用<i>conda</i> ，那么您知道可以（并且应该）为您的工作创建<i>conda</i>环境，而不是自己安装一切系统安装。 因此，您可以清楚地了解您的项目具有哪些依赖关系（这是使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">miniconda</a>而不是完整的<i>anaconda</i>的充分理由，因为前者的体积不到后者的十分之一）。 <br><br><h3> 总是有容器 </h3><br> 在容器中工作是根本不处理环境的一种方式，因为您的整个“机器”将变成一个单独的环境。 在容器系统中安装Python之前，您应该能够安全地进行全局安装，以使容器保持简单明了。 <br><br>  <b>我再说一遍，你真的了解本质...</b> <b><br></b>  <b>不要在全局Python解释器中安装任何内容！</b>  <b>始终尝试使用环境进行本地开发！</b> <br><br> 我不能再说我有多少次必须帮助某个认为pip安装在一个Python解释器中但实际上安装在另一个Python解释器中的人了。 这个不可估量的金额也适用于人们破坏整个系统或想知道为什么他们无法安装与先前为另一个项目设置的其他东西相抵触的东西等情况的那一刻。 由于他们不必在本地计算机上配置环境。 <br><br> 因此，为了使您和我都能安然入睡，请使用<i>python-m pip</i>并尝试始终使用环境。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN475392/">https://habr.com/ru/post/zh-CN475392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN475382/index.html">我们如何在Yandex.Maps中实现WebAssembly以及为什么要离开JavaScript</a></li>
<li><a href="../zh-CN475384/index.html">Spring Boot 2.2中有什么新功能？</a></li>
<li><a href="../zh-CN475386/index.html">FAS警告：如何不违反广告法。 广告商备注</a></li>
<li><a href="../zh-CN475388/index.html">安全周46：麦克风，激光和经过培训的机器的安全性</a></li>
<li><a href="../zh-CN475390/index.html">如何使用Go创建您的第一个Web应用程序</a></li>
<li><a href="../zh-CN475396/index.html">禁用印刷电路板CAD中的“不必要”检查的问题</a></li>
<li><a href="../zh-CN475398/index.html">11月11日至17日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN475400/index.html">11月11日至17日在圣彼得堡举行的数字活动</a></li>
<li><a href="../zh-CN475404/index.html">一个简单示例的BLoC模式</a></li>
<li><a href="../zh-CN475406/index.html">当我为学校d / z编写机器人并更改数据库时</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>