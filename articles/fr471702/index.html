<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶É üè® üë®üèº‚Äçüéì Applications Web cyber-am√©lior√©es üíæ ‚úåüèº üî´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le frontend moderne a parcouru un long chemin depuis l'√©poque de jQuery et des pages HTML r√©guli√®res. Nous avons maintenant des assembleurs, des gesti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Applications Web cyber-am√©lior√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471702/"><p>  Le frontend moderne a parcouru un long chemin depuis l'√©poque de jQuery et des pages HTML r√©guli√®res.  Nous avons maintenant des assembleurs, des gestionnaires de packages, une approche de composants, SPA, SSR et bien plus encore. </p><br><p>  Il semble que nous ayons tout ce qui est n√©cessaire pour le bonheur.  Mais l'industrie va de l'avant.  Je veux vous parler du framework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Svelte</a> compil√© et de ses avantages par rapport aux analogues. </p><br><p><img src="https://habrastorage.org/webt/es/5w/wc/es5wwct4qctbavihmd23-k8phvu.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Image par Andrew Walpole</a> </p><a name="habracut"></a><br><h2 id="google-trends">  Tendances Google </h2><br><p>  Pour comprendre la situation actuelle dans le front-end, j'ai analys√© la popularit√© des requ√™tes dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Trends</a> pour les mots-cl√©s React, jQuery, Vue, Angular en Russie au cours des 5 derni√®res ann√©es. </p><br><p><img src="https://habrastorage.org/webt/hb/7q/6l/hb7q6lfm_j8pjpkepo4_zcl-rto.png"><br>  <em>Tendances Google</em> </p><br><p>  Au cours des 5 derni√®res ann√©es, le nombre de requ√™tes li√©es √† jQuery a consid√©rablement diminu√©, laissant la place aux frameworks de composants.  Bien que jQuery ait perdu du terrain, il reste un outil de d√©veloppement populaire. </p><br><p>  √Ä partir de ce graphique, nous pouvons conclure que les biblioth√®ques de composants ont remport√© le premier r√¥le, et React est le leader en Russie. </p><br><h2 id="rynok-truda">  March√© du travail </h2><br><p>  Nous √©crivons du code non seulement pour nous-m√™mes, mais aussi pour de l'argent.  Surtout pour l'argent.  Par cons√©quent, il est insens√© de consid√©rer la popularit√© des cadres ind√©pendamment du march√© du travail. </p><br><p>  Par le nombre de postes vacants sur hh, React est en premi√®re place, suivi de jQuery et d'autres biblioth√®ques de composants.  Si nous regardons le nombre de candidats qui ont indiqu√© les biblioth√®ques en question dans leurs comp√©tences cl√©s, jQuery conna√Æt 5 fois plus de candidats que React.  Et 15 fois plus grand que Angular. </p><br><p><img src="https://habrastorage.org/webt/nk/vt/g0/nkvtg0lfwgjyltdhg6uvkvqfp6i.png"><br>  <em>March√© du travail</em> </p><br><p>  Les conclusions suivantes peuvent √™tre tir√©es de ce graphique: </p><br><ul><li>  Les cadres de composants sont les plus populaires parmi les employeurs, le plus populaire d'entre eux est React. </li><li>  Parmi les candidats, la biblioth√®que la plus courante est jQuery. </li></ul><br><p>  Ainsi, les frameworks de composants ont gagn√©.  Frontend a r√©solu les probl√®mes rencontr√©s par les d√©veloppeurs lors de jQuery.  Mais de nouvelles approches suscitent de nouveaux probl√®mes.  Quels probl√®mes est-ce que je vois? </p><br><ol><li>  Performance. <br>  En janvier de cette ann√©e, Google a annonc√© la possibilit√© de publier des applications PWA sur google play, ouvrant la voie √† javascript dans le magasin d'applications natif.  Cela impose une certaine responsabilit√© aux d√©veloppeurs, car les utilisateurs attendent les performances des applications natives, il ne devrait pas y avoir de diff√©rence pour le consommateur. <br>  Javascript conquiert √©galement les appareils de faible puissance.  Ceci est une t√©l√©vision intelligente, regardez, IoT.  De tels appareils ont un budget limit√© de m√©moire et de processeur, de sorte que les d√©veloppeurs ne peuvent pas se permettre de gaspiller leurs ressources sur l'utilisateur. <br>  Au travail, nous avons de l'exp√©rience dans l'ex√©cution d'applications React sur un hub Internet.  Cela s'est av√©r√© moyen. </li><li>  Seuil d'entr√©e √©lev√©. <br>  Comme nous l'avons vu ci-dessus, la plupart des demandeurs d'emploi pointent vers des comp√©tences jQuery, ne r√©agissent pas.  La ma√Ætrise des concepts React est beaucoup plus difficile que de se connecter √† une page jQuery et de commencer √† cr√©er. </li><li>  D√©pendance du cadre. <br>  Si vous avez une biblioth√®que de composants √©crite dans React, il est peu probable que vous puissiez la r√©utiliser dans un projet Vue ou Angular.  Vous devenez otage de l'√©cosyst√®me. </li></ol><br><h2 id="svelte-vanilla-flavored">  Svelte.  Ar√¥me vanille. </h2><br><p>  En avril de cette ann√©e, la troisi√®me version du framework compil√© Svelte a √©t√© publi√©e. <br>  Svelte offre aux d√©veloppeurs la possibilit√© d'√©crire du code d√©claratif de haut niveau qui, apr√®s la compilation, se transforme en code imp√©ratif de bas niveau.  Cela permet √©galement de faire un tremblement d'arbre efficace et, par cons√©quent, permet d'envoyer un paquet minimal au client. <br>  Voyons quelles solutions Svelte propose pour les probl√®mes sond√©s. </p><br><p>  √âtant donn√© que React est la biblioth√®que la plus populaire de Russie, d'autres exemples seront disponibles sur React. </p><br><h2 id="1-proizvoditelnost">  1. Performance </h2><br><p>  Si vous commencez √† vous familiariser avec la nouvelle biblioth√®que, alors vous commencerez probablement la visite avec une liste de t√¢ches.  C'est une t√¢che assez simple, qui est souvent plus facile √† √©crire en vanille.  Si vous souhaitez approfondir le cadre, un examen de Real World Application est un excellent choix.  Il s'agit d'un blog qui est essentiellement un clone de Medium.  Il y a l'enregistrement, l'autorisation, la cr√©ation de messages, les commentaires, les likes.  Les sp√©cialistes du framework √©crivent l'impl√©mentation de la fonctionnalit√© et l'ajoutent √† la collection <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Real World Application</a> . <br>  Un article sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comparaison de Real World Application</a> √©crit dans diff√©rents cadres a √©t√© publi√© sur FreeCodeCamp. <br>  Si nous regardons la taille du bundle final, Svelte surpasse ses concurrents.  Seulement 9,7 Ko de code sont envoy√©s au client.  Par cons√©quent, le transfert de donn√©es, l'analyse et le traitement de votre code prennent moins de temps. </p><br><p><img src="https://habrastorage.org/webt/q_/nq/rm/q_nqrmfqup3utimvroeu-zsrjza.png"><br>  <em>Comparaison de la taille du bundle Real World Application</em> </p><br><p>  Et le meilleur code n'est pas du code √©crit. <br>  Si nous examinons le nombre de lignes de code n√©cessaires pour √©crire les fonctionnalit√©s de l'application, alors Svelte aura besoin d'environ 1 000 lignes et React d'environ 2 000 lignes. Moins il y a de code dans votre application, moins de bogues et une prise en charge plus facile. </p><br><p><img src="https://habrastorage.org/webt/gk/jn/ey/gkjneygjfhfhi1b-cooph8aeqim.png"><br>  <em>Comparaison de la taille du code d'application dans le monde r√©el</em> </p><br><p>  Jetons un coup d'≈ìil √† la performance.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">js-framework-benchmark</a> propose une comparaison des performances de rendu parmi les frameworks frontaux.  Le test consiste √† dessiner un tableau avec un grand nombre de lignes.  D'autres manipulations avec ce tableau sont effectu√©es: mise √† jour partielle ou compl√®te, cr√©ation, nettoyage, suppression de lignes. </p><br><p>  Au moment de la mise √† jour, Svelte affiche l'heure la meilleure ou comparable.  Svelte est tr√®s √©quilibr√©, il n'y a pas de distorsions lors de l'ex√©cution de diff√©rents types d'op√©rations. </p><br><p><img src="https://habrastorage.org/webt/rk/qt/nz/rkqtnzb4ua4zy7vvbnbyonfqxqo.png"><br>  <em>Comparaison du temps d'ex√©cution de la mise √† jour, ms</em> </p><br><p>  Si nous regardons la quantit√© de m√©moire consomm√©e, Svelte est la moins vorace parmi les biblioth√®ques consid√©r√©es. </p><br><p><img src="https://habrastorage.org/webt/de/d-/p_/ded-p_wuuzcdxlay0duwcubzb6g.png"><br>  <em>Comparaison de la quantit√© de m√©moire consomm√©e, Mo</em> </p><br><p>  Je n'avais pas l'habitude de prendre un mot et j'ai d√©cid√© de tout v√©rifier moi-m√™me.  J'ai trouv√© l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©mentation du benchmark DBMonster</a> pour le front-end et r√©√©crit l'impl√©mentation sur React 16.8 et Svelte 3. Le test consiste √† restituer le tableau puis √† mettre √† jour les lignes. </p><br><p><img src="https://habrastorage.org/webt/p2/fc/0j/p2fc0jzzmb3jqkr3pxclinvgrqy.gif"><br>  <em>√Ä quoi ressemble le test DBMonster?</em> </p><br><p>  Pendant le test, Svelte a consomm√© 10 Mo de m√©moire en moins et mis √† jour 10 ms plus rapidement que React. </p><br><p><img src="https://habrastorage.org/webt/it/xm/si/itxmsiqrktcbuiua--rg32ixlce.gif"><img src="https://habrastorage.org/webt/5c/q2/bu/5cq2buhlzbnbcd9ov0yhi1lh2xu.gif"><br>  <em>Svelte / r√©agir</em> </p><br><p>  Les tests ci-dessus sont synth√©tiques, mais nous pouvons en conclure que lors du d√©veloppement sur Svelte, vous sortirez de la bo√Æte: </p><br><ul><li>  Taille de paquet plus petite </li><li>  Moins de consommation de m√©moire </li><li>  Rendu plus rapide. </li></ul><br><h2 id="2-vysokiy-porog-vhoda">  2. Seuil d'entr√©e √©lev√© </h2><br><p>  Si nous regardons le composant le plus simple sur React, alors vous devez importer React lui-m√™me, √©crire une fonction qui retournera le balisage et exportera votre composant.  Total 3 lignes de code. </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Component;</code> </pre> <br><p>  Si nous regardons l'exemple le plus simple d'un composant sur svelte, alors vous √©crivez simplement le balisage.  Total 1 ligne de code. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  √Ä strictement parler, le composant Svelte le plus simple est un fichier vide.  Cela permet de cr√©er un mod√®le pour votre application √† partir de fichiers vides, puis de commencer le d√©veloppement.  Dans ce cas, rien ne se cassera. </p><br><p>  Vous pouvez √©galement prendre la disposition re√ßue du typographe et l'utiliser imm√©diatement comme composant Svelte sans transformations suppl√©mentaires.  Le html valide est un composant Svelte. </p><br><p>  Je veux partager un exemple d'une interview sur la position de d√©veloppeur de r√©action moyenne. </p><br><pre> <code class="javascript hljs">setFilter() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchFlag = !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchFlag } ... &lt;button onClick={setFilter}&gt;Filter&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt;</span></span></code> </pre> <br><p>  Le candidat a tent√© d'enregistrer l'√©tat du bouton de filtre directement dans la propri√©t√© de classe.  React, malgr√© son nom, n'est pas suffisamment r√©actif pour r√©pondre √† de tels changements.  Cela sugg√®re que m√™me les d√©veloppeurs interm√©diaires ont du mal √† obtenir les mod√®les de mise √† jour d'√©tat utilis√©s par React. </p><br><p>  Regardons un exemple de bouton qui augmente le compteur d'un clic. </p><br><p><img src="https://habrastorage.org/webt/id/en/d8/idend8qhqefwtl2uumhewmzjkg0.gif"></p><br><p>  Sur React, vous avez besoin d'une variable pour conserver l'√©tat et d'une fonction qui peut mettre √† jour l'√©tat.  Ensuite, vous devez affecter un gestionnaire pour la mise √† jour au bouton lui-m√™me.  Au total, j'ai obtenu 8 lignes de code. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = React.useState(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> setCount(count + 1)}&gt; Clicked {count} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Component;</code> </pre> <br><p>  Pour r√©soudre un probl√®me similaire sur Svelte, vous avez besoin d'une variable pour stocker l'√©tat.  Plus loin dans le gestionnaire, vous modifiez simplement la valeur de cette variable.  Total 6 lignes de code. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> count = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span><span class="hljs-tag">=&gt;</span></span>count+=1}&gt; Clicked {count} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Compliquons un peu l'exemple.  Supposons que nous ayons besoin d'un champ de saisie qui affiche son √©tat √† c√¥t√© de lui. </p><br><p><img src="https://habrastorage.org/webt/cc/ld/xt/ccldxto2knv1mrmdxke33yevgse.gif"></p><br><p>  Sur React, nous avons encore besoin d'une variable et d'une fonction pour mettre √† jour l'√©tat.  Ensuite, dans le champ de saisie, vous devez transf√©rer la valeur actuelle et affecter un gestionnaire aux modifications.  Je me suis retrouv√© avec 11 lignes de code. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [value, setValue] = React.useState(<span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;input value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; {value} &lt;/React.Fragment&gt; ); } export default App;</code> </pre> <br><p>  Pour r√©soudre ce probl√®me sur Svelte, vous avez besoin d'une variable qui stocke l'√©tat, puis effectuez simplement une liaison bidirectionnelle dans le champ de saisie.  Total de 5 lignes de code. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> value = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{value}/</span></span></span><span class="hljs-tag">&gt;</span></span> {value}</code> </pre> <br><p>  Si vous avez d√©j√† anim√© la suppression d'un √©l√©ment du DOM sur React, je sympathise avec vous.  React n√©cessitera soit un wrapper qui retardera la suppression de l'√©l√©ment du DOM et fera l'animation, soit l'√©l√©ment restera dans le DOM, mais l'animation n√©cessitera le contr√¥le de la propri√©t√© d'affichage ou d'autres manipulations afin que l'√©l√©ment ne prenne pas de place. </p><br><p><img src="https://habrastorage.org/webt/_w/-7/05/_w-705ykcxp0h5jmajgmgvd6lok.gif"></p><br><p>  J'ai essay√© de trouver l'impl√©mentation la plus simple sur React, ce qui a abouti √† 35 lignes de code.  Si vous avez une solution plus simple, partagez les commentaires. </p><br><div class="spoiler">  <b class="spoiler_title">Fadein fadeout react</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"./style.css"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [visible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;React.Fragment&gt; &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(!visible)}&gt;toggle&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt; &lt;div className={visible ? "visible" : "invisible"}&gt;Hello&lt;/</span></span>div&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">React.Fragment</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); }; export default App;</span></span></code> </pre> <br><pre> <code class="html hljs xml">.visible { animation: fadeIn 0.5s linear forwards; } .invisible { animation: fadeOut 0.5s linear forwards; } @keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; display: none; } } @keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } }</code> </pre> </div></div><br><p>  Sur Svelte, un composant similaire ne n√©cessite que 8 lignes de code.  Svelte poss√®de un module int√©gr√© pour g√©rer les animations.  Vous importez le type d'animation souhait√©, puis dites comment animer votre composant lors de l'ajout et de la suppression. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { fade } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte/transition'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> visible = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span><span class="hljs-tag">=&gt;</span></span>visible=!visible}&gt;toggle<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> {#if visible} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transition:fade</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {/if}</code> </pre> <br><p>  La compilabilit√© permet √† Svelte de fournir des abstractions int√©ressantes au d√©veloppeur.  Et si vous ne les utilisez pas, ils ne tomberont pas dans le paquet final. </p><br><p>  Par exemple, le module de transition a une fonctionnalit√© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fondu encha√Æn√©</a> sympa qui vous permet d'animer un composant lors du passage d'un n≈ìud DOM √† un autre.  En l'utilisant, vous pouvez effectuer une telle transition de t√¢che dans la liste des t√¢ches. </p><br><p><img src="https://habrastorage.org/webt/jy/qx/jk/jyqxjktdonnzxitsm7mdhe0fxgm.gif"></p><br><p>  Un autre exemple d'abstractions int√©ressantes est la directive <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">use :</a> .  Il vous permet d'affecter un gestionnaire personnalis√© √† un √©l√©ment DOM.  Dans l'exemple ci-dessous, les √©v√©nements de pression et de d√©placement, ainsi que les √©v√©nements tactiles sont trait√©s √† l'aide d'une seule fonction. </p><br><p><img src="https://habrastorage.org/webt/vr/ne/xj/vrnexj0zvmftba16ecdnb8klmq4.gif"></p><br><p>  Apr√®s avoir fait connaissance avec Svelte, mes amis disent g√©n√©ralement qu'ils n'ont pas connu ce genre de d√©veloppement frontal amusant depuis jQuery. </p><br><h2 id="3-zavisimost-ot-freymvorka">  3. D√©pendance du cadre </h2><br><p>  Lorsque React est arriv√©, il y avait beaucoup de widgets jQuery sur le Web.  Trouver le bon composant sur React a √©t√© difficile.  Ensuite, des wrappers pour les widgets jQuery ont commenc√© √† appara√Ætre, qui √©taient capables de synchroniser React et jQuery.  Apr√®s cela, les composants √©crits sur React lui-m√™me ont d√©j√† commenc√© √† appara√Ætre. <br>  Maintenant, une situation similaire avec React lui-m√™me.  Il existe un tas de solutions et de biblioth√®ques pr√™tes √† l'emploi qui ne vous permettent pas de transf√©rer sans difficult√© vers un autre framework. </p><br><p>  Que propose Svelte?  Apr√®s la compilation, votre code se transforme en JS standard, qui ne n√©cessite pas d'ex√©cution.  Cela permet d'utiliser le composant Svelte dans d'autres frameworks.  Vous avez juste besoin d'un emballage universel.  Par exemple, un adaptateur pour React et Vue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">svelte-adapter</a> .  En encapsulant le composant dans l'adaptateur, vous pouvez utiliser l'√©l√©ment en tant que composant normal. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SvelteSpinner <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"svelte-spinner"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> toReact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"svelte-adapter/react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Spinner = toReact(SvelteSpinner, {}, <span class="hljs-string"><span class="hljs-string">"div"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Spinner size={<span class="hljs-number"><span class="hljs-number">50</span></span>} /&gt;</code> </pre> <br><p><img src="https://habrastorage.org/webt/y7/xl/l1/y7xll1mvvg0lorjn21kz04_g6sq.gif"></p><br><p>  Svelte prend en charge la compilation dans un √©l√©ment personnalis√©, ce qui √©largit encore le champ d'application des composants.  Vous pouvez voir la prise en charge des √©l√©ments personnalis√©s avec divers cadres sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">custom-elements-partout</a> . </p><br><h2 id="lichnyy-opyt">  Exp√©rience personnelle </h2><br><p>  Je ne peux pas encore √©crire chez Svelte au travail, car nous sommes √©troitement li√©s √† l'√©cosyst√®me React, mais j'ai des projets personnels. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">J'ai d√©j√† √©crit</a> comment j'ai publi√© mon application <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Metalz</a> sur Google Play. </p><br><p><img src="https://habrastorage.org/webt/mr/a8/mm/mra8mmaxfr4odearjgnfbtisbu0.png"></p><br><p>  Selon mes sentiments, Svelte vous permet d'√©crire du code plus concis et compr√©hensible, tout en fournissant une large gamme d'outils pour simplifier l'impl√©mentation. </p><br><h2 id="minusy">  Inconv√©nients </h2><br><p>  Comme tout framework jeune, Svelte poss√®de un petit √©cosyst√®me de solutions toutes faites et quelques articles o√π vous pouvez trouver les meilleures pratiques.  Par cons√©quent, je ne recommanderais pas de prendre imm√©diatement Svelte pour de grands projets, car vous pouvez vous retrouver dans une impasse architecturale. </p><br><p>  Essayez Svelte sur de petits projets, je suis s√ªr que vous l'aimerez. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr471702/">https://habr.com/ru/post/fr471702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr471678/index.html">Services aux ours sur demande</a></li>
<li><a href="../fr471684/index.html">Pourquoi vous devez cr√©er des modules pour Nginx</a></li>
<li><a href="../fr471686/index.html">Comment AWS fabrique ses services r√©silients. Mise √† l'√©chelle du serveur et de la base de donn√©es</a></li>
<li><a href="../fr471688/index.html">Comment AWS fabrique ses services r√©silients. Mise √† l'√©chelle du r√©seau</a></li>
<li><a href="../fr471700/index.html">Comment j'ai choisi une pile technologique avec une base pour l'avenir</a></li>
<li><a href="../fr471704/index.html">Le livre ¬´Mitochondries √©go√Østes. Comment maintenir la sant√© et d√©placer la vieillesse "</a></li>
<li><a href="../fr471706/index.html">9 probl√®mes de r√©seau typiques qui peuvent √™tre d√©tect√©s en utilisant l'analyse NetFlow (en utilisant Flowmon comme exemple)</a></li>
<li><a href="../fr471708/index.html">Les points de stockage sont dangereux pour le d√©veloppement d'applications client-serveur</a></li>
<li><a href="../fr471712/index.html">Cr√©ation d'une application de chat mobile sur React Native</a></li>
<li><a href="../fr471716/index.html">Exposition technologique GITEX 2019 - comment c'√©tait</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>