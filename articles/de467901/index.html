<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏳ 💧 🤘🏽 Widerlegen Sie vier Stereotypen über die Programmiersprache Rust ◼️ 🙅🏼 🚵🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Programmiersprache Rust , die als Hobbyprojekt gestartet und anschließend von Mozilla unterstützt wurde, ermöglicht es gewöhnlichen Programmierern...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Widerlegen Sie vier Stereotypen über die Programmiersprache Rust</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467901/"><p><img src="https://habrastorage.org/webt/gr/cn/po/grcnpoasuzxw8tvn_3k0ntgswbi.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Die Programmiersprache Rust</a> , die als Hobbyprojekt gestartet und anschließend von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Mozilla</a> unterstützt wurde, ermöglicht es gewöhnlichen Programmierern, gleichzeitig sichere und schnelle Systeme zu schreiben: von Taschenrechnern bis zu stark ausgelasteten Servern. </p><br><p> Für ihre relativ kurze Existenzzeit hat diese Sprache bereits Stereotypen erworben, von denen ich vier im Folgenden zu widerlegen versuchen werde.  Ich kann einige Punkte überspringen, Diskussionen in den Kommentaren sind willkommen. </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rust ist eine komplexe Programmiersprache</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rust ist ein weiterer C / C ++ - Killer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unsicher ruiniert alle Garantien von Rust</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rust wird C / C ++ niemals in seiner Geschwindigkeit überholen</a> <a name="habracut"></a></li></ol><br><h1 id="1-rust---slozhnyy-yazyk-programmirovaniya">  1. Rust - eine komplexe Programmiersprache </h1><br><p>  Die Komplexität der Programmiersprache wird durch das Vorhandensein einer großen Anzahl von Syntaxkonstrukten bestimmt, die nicht miteinander übereinstimmen.  Ein bemerkenswertes Beispiel ist C ++ und C #, da C ++ für die überwiegende Mehrheit der Programmierer die komplizierteste Sprache ist, die C # trotz der großen Anzahl von Syntaxelementen nicht ist.  Rost ist da ziemlich einheitlich  Es wurde ursprünglich mit Blick auf die Fehler der Vergangenheit entworfen, und alle Innovationen werden nur in Übereinstimmung mit den bestehenden eingeführt. </p><br><hr><br><p>  Dieses Stereotyp hat seine Wurzeln im Konzept der Lebensdauer von Links, das es ermöglicht, die Garantien für die Gültigkeit von Links zu beschreiben, die auf der Ebene der Semantik der Sprache verwendet werden.  Die lebenslange Syntax sieht zunächst seltsam aus: </p><br><pre><code class="rust">struct R&lt;'a&gt;(&amp;'a i32);
unsafe fn extend_lifetime&lt;'b&gt;(r: R&lt;'b&gt;) -&gt; R&lt;'static&gt; {
    std::mem::transmute::&lt;R&lt;'b&gt;, R&lt;'static&gt;&gt;(r)
}

unsafe fn shorten_invariant_lifetime&lt;'b, 'c&gt;(r: &amp;'b mut R&lt;'static&gt;)
                                             -&gt; &amp;'b mut R&lt;'c&gt; {
    std::mem::transmute::&lt;&amp;'b mut R&lt;'static&gt;, &amp;'b mut R&lt;'c&gt;&gt;(r)
}</code></pre><br>
<p>        —    ,    .  <code>'static</code> ,          .</p><br>
<p>  " "?   ,      ,     . ,   <code>main()</code>  <code>something</code>  , ..     <code>produce_something()</code>    :</p><br>
<pre><code class="cpp">int *produce_something(void) {
    int something = 483;
    return &amp;something;
}

int main(void) {
    int *something = produce_something();
    int dereferenced = *something; // Segmentation fault (core dumped)
}</code></pre><br>
<p>       . ,    ,   <code>foo</code>       <code>bar</code>:</p><br>
<pre><code class="rust">fn sum&lt;'a, 'b: 'a&gt;(foo: &amp;'b i32, bar: &amp;'a i32) -&gt; i32 {
    return foo + bar;
}</code></pre><br>
<p>    ,       .  —   ,             ,    .    .</p><br>
<hr><br>
<p> Rust    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">  </a> (     Rust).    ,         :  —     ,   —       .</p><br>
<p>  .      <code>x</code>    <code>Foo</code>,   <code>y</code>  ,    <code>x</code>:</p><br>
<pre><code class="rust">struct Foo {
    data: Vec&lt;u8&gt;,
}

fn main() {
    let x = Foo { data: Vec::new() }; //  (owning)
    let y = &amp;x; //  (borrowing)
}</code></pre><br>
<p>       ,     ,     ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> </a>.      ,    Rust    :</p><br>
<ul>
<li>             ;</li>
<li>               .</li>
</ul><br>
<h1 id="2-rust---eschyo-odin-ubiyca-cc">2. Rust —   " C/C++"</h1><br>
<p>  — " ".    Rust — <strong></strong>  ,      ,    ,   C/C++.            —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> SIMD</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> -</a>.</p><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Vala</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Zig</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Golang</a>  .    ,       ,           ,     C/C++.  Vala  Zig  ,  Golang                , ..      (,  ).</p><br>
<p>,   C/C++       -      ,   ,  Rust     ,   -  Java.</p><br>
<h1 id="3-unsafe-gubit-vse-garantii-predostavlyaemye-rust">3. Unsafe   ,  Rust</h1><br>
<p>Unsafe,  , —    Rust,     ,   "" Rust. Borrow-checker   , -          .  :</p><br>
<ul>
<li>   (FFI);</li>
<li>  ;</li>
<li>  ;</li>
<li>    ;</li>
<li>  .</li>
</ul><br>
<p>         , ..  ,       .       ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> </a>.</p><br>
<pre><code class="rust">//     UB :
fn safe_display() {
    unsafe {
        let x = 385;
        let x_ref: *const i32 = &amp;x;
        println!("{}", *x_ref);
    }
}</code></pre><br>
<hr><br>
<p>       : "Rust    ,     ".   , ..   ,  Rust,      .  Rust     .</p><br>
<hr><br>
<p>   : "Unsafe  ,      Rust     ".    : " Java  ,        ,    UB".</p><br>
<p>  ,        UB,         UB      Rust.   "", , "UB          ",   ,     .    UB  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>:</p><br>
<blockquote> ,      (, )    ,  : «       ».</blockquote><br>
<h1 id="4-rust-nikogda-ne-obgonit-cc-po-skorosti">4. Rust    C/C++  </h1><br>
<p> .  , ,    Rust,      ,      C/C++.      Rust <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">  GCC C</a>:</p><br>
<p><img src="https://habrastorage.org/webt/9o/8t/5d/9o8t5df6bc-scwykpwhsdvi3bmu.png"><br>
<img src="https://habrastorage.org/webt/l5/kr/ss/l5krsswtuqmdt-pw393o7ncjhv4.png"><br>
<img src="https://habrastorage.org/webt/rc/ch/o4/rccho4wali6k5lonxrrwrw7kxv0.png"></p><br>
<p>      ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> </a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">RapidJSON</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">serde_json</a>. serde_json  DOM ,    RapidJSON,   /  serde_json  RapidJSON (DOM)   GCC,    CLANG:</p><br>
<p><img src="https://habrastorage.org/webt/yq/c4/st/yqc4stv2w0xzctqtoqdnzb2gaow.png"></p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"> Rustls</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">OpenSSL</a>     ( 10%         20%-40%   ,  10%-20%         30%-70%   ).</p><br>
<hr><br>
<p> ,     Rust,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">rustc</a>,   C/C++ ,   CLANG,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">LLVM IR</a>.         ,   — .</p><br>
<p>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">rustc</a>           GCC/CLANG, , ,       .       Rust   C CLANG:</p><br>
<p>:<br>
[<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">https://godbolt.org/z/7b46MD</a>]</p><br>
<pre><code class="rust">pub fn compute(input: &amp;mut [i64; 8]) {
    for i in 0..input.len() {
        input[i] = (input[i] + 3254) * 3;
    }
}</code></pre><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="plaintext">&lt;T as core::convert::From&lt;T&gt;&gt;::from:
        mov     rax, rdi
        ret

&lt;T as core::convert::Into&lt;U&gt;&gt;::into:
        mov     rax, rdi
        ret

&lt;T as core::convert::TryFrom&lt;U&gt;&gt;::try_from:
        mov     rax, rdi
        ret

&lt;I as core::iter::traits::collect::IntoIterator&gt;::into_iter:
        mov     rdx, rsi
        mov     rax, rdi
        ret

example::compute:
        xor     eax, eax
        jmp     .LBB4_1
.LBB4_3:
        mov     rcx, qword ptr [rdi + 8*rax]
        lea     rcx, [rcx + 2*rcx]
        add     rcx, 9762
        mov     qword ptr [rdi + 8*rax], rcx
        inc     rax
.LBB4_1:
        cmp     rax, 8
        jne     .LBB4_3
        ret</code></pre></div></div><br>
<p>:<br>
[<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">https://godbolt.org/z/YOey3P</a>]</p><br>
<pre><code class="cpp">#include &lt;stdint.h&gt;

void compute(int64_t *input) {
    for (int i = 0; i &lt; 8; i++) {
        input[i] = (input[i] + 3254) * 3;
    }
}</code></pre><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="plaintext">compute:                                # @compute
        xor     eax, eax
.LBB0_1:                                # =&gt;This Inner Loop Header: Depth=1
        cmp     rax, 8
        je      .LBB0_2
        mov     rcx, qword ptr [rdi + 8*rax]
        lea     rcx, [rcx + 2*rcx]
        add     rcx, 9762
        mov     qword ptr [rdi + 8*rax], rcx
        inc     rax
        jmp     .LBB0_1
.LBB0_2:
        ret</code></pre></div></div><br>
<p>rustc   ,  CLANG,      — LLVM.    rustc,       Rust, ..         (   CLANG).</p><br>
<hr><br>
<p>    Rust  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><code>restrict</code></a> -,      .      C/C++ ,       /  <code>restrict</code>,       .</p><br>
<h1 id="zaklyuchenie"></h1><br>
<p>Rust   ,       ,    (     )   . ,        .  —  .</p><br></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de467901/">https://habr.com/ru/post/de467901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de467887/index.html">Realistische ätzende Reflexionen</a></li>
<li><a href="../de467891/index.html">FAQ zur Cloud [elektronischen] Signatur</a></li>
<li><a href="../de467893/index.html">Nur ein weiterer Qt-Wrapper für gRPC und Protobuf</a></li>
<li><a href="../de467895/index.html">Welche Muster finden neuronale Netze?</a></li>
<li><a href="../de467897/index.html">Autotest-Tools, Yandex Mapkit 3-Integration, cooles Design und Server Driven UI-Ansatz - Android Mitap-Ankündigung</a></li>
<li><a href="../de467903/index.html">Top 20 Navigationsfunktionen bei IntelliJ IDEA. Teil 1</a></li>
<li><a href="../de467905/index.html">Wie wir in Cloud Mail.ru Meilensteine ​​erkannt haben und warum</a></li>
<li><a href="../de467907/index.html">Vor- und Nachteile des Outsourcings</a></li>
<li><a href="../de467909/index.html">Chatten Sie unter iOS: Verwenden von Sockets</a></li>
<li><a href="../de467913/index.html">Wie man das „Bastard-Mineral“ oder die neue Schnittstelle für das Solarpanel verbessert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>