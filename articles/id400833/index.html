<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â­ï¸ âš¾ï¸ ğŸ‘©â€âš–ï¸ Tentang menghubungkan dan bekerja dengan teks OLED Winstar display ğŸ‘¼ğŸ» ğŸ“® ğŸ§šğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tampilan garis (atau teks) dimaksudkan untuk pengiriman informasi teks dalam bentuk garis. Mereka terdiri dari beberapa jenis (terutama LCD atau OLED ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tentang menghubungkan dan bekerja dengan teks OLED Winstar display</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/400833/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tampilan garis (atau teks) dimaksudkan untuk pengiriman informasi teks dalam bentuk garis. </font><font style="vertical-align: inherit;">Mereka terdiri dari beberapa jenis (terutama LCD atau OLED bercahaya sendiri), dan biasanya dalam penandaannya terdapat angka 1202, 1602, 1204 atau serupa, yang menunjukkan jumlah garis (dalam contoh 2 atau 4) dan karakter di setiap baris (12 dan 16) . </font><font style="vertical-align: inherit;">Ada tampilan garis tunggal jenis ini, tetapi dalam presentasi berikut ini kami fokus pada tampilan dua baris yang lebih umum digunakan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagian besar layar ini kompatibel dengan pengontrol HD44780 (Hitachi). Pajangan yang paling populer (setidaknya di negara kami) dari varietas ini diproduksi oleh Winstar. Selain itu, varietas LCD (nama dimulai dengan huruf WH, misalnya, WH1602) adalah satu-satu yang kompatibel dengan sistem perintah HD44780, dan tipe OLED (nama dimulai dengan WEH, misalnya, WEH001602) memiliki pengontrol WS0010 yang ditingkatkan. Sayangnya, atau untungnya, kita akan berurusan sekarang.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berbeda dengan tampilan </font><font style="vertical-align: inherit;">grafik yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami periksa sebelumnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berdasarkan pada pengontrol ks0108, generator karakter di layar huruf kecil adalah built-in. </font><font style="vertical-align: inherit;">Selain itu, bagi kami, perbedaan utama antara WS0010 dan HD44780 standar adalah adanya beberapa (empat) tabel kode untuk menampilkan teks multibahasa. </font><font style="vertical-align: inherit;">HD44780 hanya memiliki satu meja seperti itu, itulah sebabnya perusahaan harus menjual jenis tampilan terpisah di setiap wilayah. </font><font style="vertical-align: inherit;">Tampilan OLED berbasis WS0010 tidak memerlukan kerusakan regional, yang jauh lebih nyaman. </font><font style="vertical-align: inherit;">Tetapi tidak untuk pengguna: secara default, tabel ENGLISH_JAPANESE dihidupkan dalam tampilan WEH, dan untuk mengaktifkan karakter Rusia, Anda harus mengubahnya ke ENGLISH_RUSSIAN.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari lebih lanjut tentang tabel ENGLISH_RUSSIAN.</font></font></b><div class="spoiler_text">     :    (.    )     ,     .      ,    ,   â€” -   -8,          (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> 19768-93</a>).       -, , ,     EBCDIC,       ,     ( 127 )    ASCII.    ,  ,    ,    ASCII      .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pustaka LiquidCrystal standar (disertakan dengan Arduino IDE), tentu saja, tidak tahu apa-apa tentang empat tabel, dan karena itu memerlukan pelurusan, setidaknya dalam hal ini. </font><font style="vertical-align: inherit;">Tetapi tidak hanya: pada akhirnya, akan mungkin dilakukan dengan bahasa Inggris. </font><font style="vertical-align: inherit;">Namun, prosedur inisialisasi terasa berbeda untuk WS0010, dan jika tidak diperbaiki, tampilan akan menunjukkan bahwa setiap kali dimulai.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur lainnya</font></font></b><div class="spoiler_text"> ,  OLED- Winstar   ,       ( ,    ).  ,   ,     . ,  ,     WEH   SPI (, Â« SPIÂ»),    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>,   ,      (  3) â€” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>.           :         ,         .       ,       I2C    (. ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>).<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk beberapa alasan, tampilan Winstar memiliki defisit besar dalam hal dokumentasi yang dapat dipahami (seperti yang mungkin Anda perhatikan, ini umumnya merupakan fitur karakteristik produk China). </font><font style="vertical-align: inherit;">Perlu ditunjukkan di mana Anda dapat mengunduh dokumentasi yang kurang lebih lengkap tanpa kesalahan: di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini di LCD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (WH1602) dengan pengontrol HD44780, di sini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layar OLED</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (WEH1602), di sini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengontrol WS0010 secara terpisah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (kami akan merujuknya nanti) . </font><font style="vertical-align: inherit;">Dan di sini, jika Anda tertarik, ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penjelasan rinci tentang pengontrol HD44780</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam bahasa Rusia.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leveling perpustakaan LiquidCrystal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengontrol tampilan huruf kecil pada HD44780 dan analognya, pustaka LiquidCrystal standar, yang secara tradisional disertakan dalam IDE Arduino dari semua versi, sangat cocok. Untuk menampilkan teks Rusia, ada versi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang secara mengejutkan bekerja dengan baik di semua versi modern dari Arduino IDE (dikatakan bahwa penulis dengan benar mendekati konversi karakter UTF-8). Tetapi untuk beradaptasi dengan tampilan OLED pada pengontrol WS0010, Anda masih perlu melakukan koreksi. Di masa depan, kami akan mengejek perpustakaan ini dan oleh karena itu kami akan mengganti namanya menjadi LiquidCrystalRus_OLED, agar tidak menjadi bingung dengan yang biasa. Untuk menyederhanakan tugas, kami tidak akan mengganti nama fungsi, karena inisialisasi akan sama dengan LiquidCrystalRus asli. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perubahannya adalah sebagai berikut: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Sejak</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tabel Rusia-Inggris</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di WS0010 (lihat halaman 9 untuk lembar data pada WS0010 menggunakan tautan di atas) adalah nomor 2, maka untuk beralih ke itu Anda perlu mengatur dua bit paling tidak signifikan FT1 dan FT0 dalam perintah SET FUNCTION untuk mengaturnya ke status 10 (0x02). (Dalam LCD dengan satu tabel kode, bit ini, omong-omong, tidak digunakan sama sekali). Untuk melakukan ini, dalam file </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><i><font style="vertical-align: inherit;">cari</font></i><font style="vertical-align: inherit;"> tempat (baris 96 file) di mana nilai variabel </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_displayfunction diatur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Di kedua baris inisialisasi (baris 97 dan 99) tambahkan append " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| = 0x02</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Selanjutnya, Anda perlu memperbaiki </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penundaan inisialisasi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setelah menyalakan daya. Untuk HD44780, seharusnya tidak lebih dari 40 ms (lihat dokumentasi pada tautan di atas). Perpustakaan menggunakan fungsi untuk ini.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delayMicroseconds (50000)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (baris 120 dari file </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Untuk pengontrol WS0010, Anda harus memiliki penundaan sepuluh kali lebih lama - setidaknya 500 ms (lihat halaman terakhir lembar data di tautan di atas). Persyaratan ini disembunyikan dengan sangat hati-hati (file dengan dokumentasi berbahasa Inggris di Winstar menampilkan â€œkehilangan fontâ€ di bagian ini), sehingga tampaknya hanya sedikit orang yang memikirkannya sampai sekarang. Oleh karena itu, kami mengganti baris ini dengan 32 pengulangan keterlambatan masing-masing 16 ms:</font></font><br>
<br>
<pre><code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt;=<span class="hljs-number"><span class="hljs-number">31</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) delayMicroseconds(<span class="hljs-number"><span class="hljs-number">16000</span></span>);</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Selain ini (lihat juga halaman terakhir lembar data ini), setelah penundaan ini, saat menghidupkan empat kawat, Anda harus </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengirim perintah kosong lima kali berturut-turut</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (0x00). Karena Arduino secara signifikan lebih cepat daripada pengontrol tampilan, perintah harus diberikan dengan jeda menengah. Mereka perlu dimasukkan sedikit lebih jauh ke dalam teks fungsi begin, di mana ia secara spesifik tentang inklusi 4-bit (baris 147 dari file </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Tapi ini bukan akhir. Tabel ENGLISH_RUSSIAN asli memiliki </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ikon gelar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(kode 0xEF). Opsi ini dieksekusi sangat tidak berhasil secara grafis (terlalu besar), jadi alih-alih saya lebih suka menggunakan titik atas yang tebal (kode 0xDF) - ini jauh lebih mirip gelar dalam gaya yang biasa. Itu bisa dimasukkan dalam bentuk kode (lebih baik daripada oktal "\ 337"), tetapi masalahnya adalah - mencoba menyederhanakan fungsi mengganti kode huruf Rusia dengan kode di tabel generator karakter, penulis perpustakaan, berdasarkan pengkodean UTF-8 (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel sebelumnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), memperkenalkan kondisi penggantian untuk kode apa pun yang lebih besar dari 0x80 (fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus :: write</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Karena 0xDF kami jelas lebih besar dari 0x80, ketika Anda menentukan karakter "\ 337" di baris kode, maka ruang kosong akan ditampilkan, karena itu tidak sesuai dengan huruf Rusia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, fungsi </font><i><font style="vertical-align: inherit;">createChar ()</font></i><font style="vertical-align: inherit;"> standar</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketika saya mencoba menggunakannya untuk membuat ikon gelar saya sendiri, saya memasuki layar dengan sangat pingsan, yang hanya bisa dihapus dengan memuat ulang program. Apa yang perlu saya tangani juga dan saya akan berterima kasih jika seseorang memberi tahu saya ada apa. Jadi generator karakter tidak dapat diedit dalam kemampuan kami, tetapi kami dapat mengecualikan karakter 0xDF yang kami butuhkan dari kondisi tersebut. Untuk melakukan ini, ganti </font><font style="vertical-align: inherit;">kondisi yang </font><font style="vertical-align: inherit;">ada (lihat teks dari fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tulis</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) dengan yang berikut ini:</font></font><br>
<br>
<pre><code class="hljs lisp">if ((<span class="hljs-name"><span class="hljs-name">value&gt;=0x80</span></span>)<span class="hljs-symbol"><span class="hljs-symbol">&amp;&amp;</span></span>(<span class="hljs-name"><span class="hljs-name">value!=0xdf</span></span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Akhirnya, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nol dicoret</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada tampilan ini tidak begitu mencolok seperti pada layar LCD grafis. </font><font style="vertical-align: inherit;">Namun demikian, dalam fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tulis yang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sama, </font><font style="vertical-align: inherit;">saya memperkenalkan penggantian kode nol (0x30) dengan kode huruf "O" (0x4f). </font><font style="vertical-align: inherit;">Mereka yang ingin dapat mengembalikan nol dicoret kembali hanya dengan menghapus atau mengomentari garis pengganti (baris 308 dari file </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp yang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dimodifikasi </font><font style="vertical-align: inherit;">). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perpustakaan yang diperbarui dapat diunduh dari tautan di akhir artikel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koneksi</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang semuanya tampaknya di-tweak, Anda dapat terhubung. </font><font style="vertical-align: inherit;">Koneksi tampilan WEH001602BG (16 karakter, panjang layar 100 mm) ke Arduino ditunjukkan pada gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a58/0b4/c91/a580b4c91cf235bbb5b698986b4fdcfc.png" width="600" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pin Arduino yang terhubung dengan pin display RS, E, DB4-DB7 harus ditunjukkan ketika layar diinisialisasi:</font></font><br>
<br>
<pre><code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">// RS, E, DB4, DB5, DB6, DB7</span></span>
<span class="hljs-function"><span class="hljs-function">LiquidCrystalRus </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OLED1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-function">)</span></span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika diinginkan, Anda dapat menghubungkan dua atau lebih tampilan di opsi antarmuka apa saja (delapan atau empat kabel). Dalam hal ini, jalur data dan RS dapat dibagi. Pilihan antara tampilan dalam hal ini dilakukan melalui terminal E, yang untuk tampilan berbeda terhubung ke terminal Arduino yang berbeda (garis koneksi layar kedua ditampilkan dalam warna abu-abu pada diagram, terminal E layar kedua di sini terhubung ke pin 6 dari Arduino). Tentu saja, dalam hal ini, Anda perlu membuat dua salinan perpustakaan (misalnya, OLED1 dan OLED2), di mana semua outputnya sama, kecuali untuk E. Selain itu, display dapat dari berbagai konfigurasi dan ukuran (8x2, 16x2, 12x2, 12x4, dll. .). Ini juga berlaku untuk tampilan LCD konvensional pada HD44780.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan mengapa ada relay untuk daya? Kelemahan utama dari WS0010 adalah kurangnya perangkat keras "rezet". Dalam HD44780, rezet bawaan dapat dibenarkan - penulis tidak memiliki cukup pengalaman dengan layar LCD untuk mengatakan dengan pasti. Tetapi Winstar, yang mencoba mengikuti standar dalam pengembangannya, jelas tidak dapat mengatasi tugas ini. Mem-boot ulang pengontrol tanpa mematikan daya akan menyebabkan tampilan kekeruhan apa pun pada layar, dan Anda dapat menghilangkannya hanya dengan menyulap kekuatan seluruh rangkaian dan menginisialisasi layar dari awal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, tampilan saat mematikan / menghidupkan daya dapat membingungkan garis di tempat. Orang-orang mengklaim bahwa inklusi 8-bit penuh (bukannya 4-bit) membantu, tetapi itu bekerja lebih buruk bagi saya. Mereka juga bersikeras bahwa dalam â€œbatch baruâ€ hipotetis semua ini sudah diperbaiki, tetapi sulit untuk percaya (batch â€œbaruâ€ seperti apa yang sedang kita bicarakan ketika Winstar telah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">merilis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> display OLED </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">sejak 2008</font></a><font style="vertical-align: inherit;"> , dan saya memiliki display 13 dan 14 tahun lepaskan?).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menyampaikan dan mengatur untuk mengatur ulang tampilan secara artifisial saat me-reboot Arduino tanpa mematikan daya. Ini andal menghilangkan sampah di layar. Kekuatan tampilan (atau tampilan) dihidupkan secara terpisah melalui relai ini, yang dinyalakan dari pin Arduino gratis (dalam hal ini, pin 4) pada awal prosedur pengaturan, ketika controller sudah beroperasi dengan stabil. Dan sebelum menyalakan relai, ada baiknya memberikan penundaan tambahan 1000 ms (lihat sketsa di bawah). Relai yang ditunjukkan EDR202A05 adalah relai buluh, arus belitan adalah 10 mA, oleh karena itu ia dikendalikan secara diam-diam dari keluaran Arduino.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adapun kebingungan antara garis ketika dihidupkan, di samping perubahan di atas dalam prosedur inisialisasi, efek ini dengan sempurna mengurangi kekuatan seluruh rangkaian dari sumber eksternal yang cukup kuat (setidaknya 1-2 A) dengan tegangan stabil di bawah beban setidaknya 7,5 volt. </font><font style="vertical-align: inherit;">Ketergantungan pada nutrisi ini, jelas, merupakan sumber ketidaksesuaian dalam banyak publikasi, di mana banyak penulis mengklaim bahwa semuanya berjalan baik untuk mereka. </font><font style="vertical-align: inherit;">Dalam hal ini, display (atau display) dapat dihubungkan melalui stabilisator internal Arduino (pin 5V papan), atau mereka dapat dihubungkan melalui stabilizer terpisah, tetapi yang utama adalah bahwa tegangan input stabilizer harus cukup stabil terlepas dari lonjakan daya pada saat diaktifkan.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Periksa</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memeriksanya, saya mengirim sketsa demo, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proba_Rus_Liquid_Crystal_OLED</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mensimulasikan tampilan jam kalender dengan sensor suhu eksternal:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh tampilan WEH1602</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;LiquidCrystalRus_OLED.h&gt;</span></span></span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">// initialize the library with the numbers of the interface pins</span></span>
<span class="hljs-comment"><span class="hljs-comment">// RS, E, DB4, DB5, DB6, DB7</span></span>
<span class="hljs-function"><span class="hljs-function">LiquidCrystalRus </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OLED1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RelayPin 4 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// 4 -  </span></span></span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
delay (<span class="hljs-number"><span class="hljs-number">1000</span></span>);<font></font>
pinMode(RelayPin, OUTPUT);<font></font>
digitalWrite(RelayPin, HIGH); <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
delay (<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
  OLED1.begin(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">//16  2 </span></span><font></font>
  OLED1.clear();<font></font>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ,  </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"-22,3\337C"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//10  </span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// , 11 </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"10:22"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//</span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"16.01.17 "</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 16  </span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// , 13  ":"</span></span>
  OLED1.blink(); <span class="hljs-comment"><span class="hljs-comment">// </span></span>
   delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
<span class="hljs-comment"><span class="hljs-comment">/*        
        13,0 
    blink
*/</span></span><font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua perubahan karakteristik di perpustakaan yang disebutkan di atas diterapkan di sini. </font><font style="vertical-align: inherit;">Program ini juga menunjukkan cara membuat titik dua berkedip dalam beberapa jam: menit menggunakan fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blink ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Perhatikan bahwa output baru di posisi yang sama menghancurkan kedekatan keakraban, dan ketika memperbaruinya, Anda harus melanjutkan lagi, setelah sebelumnya mengatur kursor tak terlihat ke posisi yang sama 13 di baris nol. </font><font style="vertical-align: inherit;">Dengan pembaruan jam nyata, mungkin lebih mudah untuk memperbarui hanya angka-angka di posisi 11-12 dan 14-15, meninggalkan usus besar yang berkedip utuh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil output dari contoh ditunjukkan dalam foto:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/4e1/a88/249/4e1a8824925e055d968ab80e68f52229.jpg" width="500" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicatat bahwa foto tersebut tidak menampilkan cahaya layar OLED hijau (dalam hal ini). Bahkan, itu adalah warna hijau tua, dengan panjang gelombang lebih pendek dari layar LED 568 nm yang biasa (tujuh segmen atau matriks). Mengapa yang terakhir dengan latar belakang OLED tampak "pudar", dan aplikasi gabungan mereka sulit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WS0010 memiliki mode grafis, dan tampilan OLED grafis Winstar (seperti WEG010016) juga memiliki pengontrol ini. Seseorang memperhatikan bahwa mereka bahkan memiliki matriks yang sama. Menurut pendapat saya, mencoba menerapkan mode grafis pada tampilan garis teks agak tidak ada gunanya: tampilan garis memiliki ruang-ruang gelap yang diatur oleh perangkat keras antara karakter dan garis yang membuat gambar sangat tidak estetis (lihat </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berbagai contoh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> upaya tersebut).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satu catatan terakhir: pada daya tahan Winstar OLEDs. </font><font style="vertical-align: inherit;">Dalam lembar data, waktunya ditunjukkan 100.000 jam, yaitu, 11 tahun. </font><font style="vertical-align: inherit;">Namun demikian, salah satu tampilan tahun ke-13 rilis (cahaya kuning) hingga saat ini (musim dingin tanggal 16) telah kehilangan kecerahan dalam diri saya. </font><font style="vertical-align: inherit;">Sangat lucu bahwa sisanya dari partai yang sama (hijau) dan kemudian (kuning dan hijau 14 tahun) tidak menunjukkan tanda-tanda sekarat. </font><font style="vertical-align: inherit;">Oleh karena itu, dengan pasti, saya tidak berani mengatakan apa-apa, tetapi untuk berjaga-jaga, saya menyarankan Anda untuk tidak menyolder display ke papan, tetapi untuk menginstalnya pada konektor, sehingga dalam kasus yang dapat diganti tanpa masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengunduh arsip dengan perpustakaan gratis dan contoh </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: ada solusi untuk masalah permulaan yang stabil tanpa memanipulasi kekuatan: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://geektimes.ru/post/287234/</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id400833/">https://habr.com/ru/post/id400833/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id400823/index.html">Serangan di grid: penyabot paling berbahaya adalah tupai</a></li>
<li><a href="../id400825/index.html">Google sekali lagi dituduh mempromosikan produk mereka di mesin pencari mereka sendiri</a></li>
<li><a href="../id400827/index.html">ASUS Tinker Board: pesaing lain untuk RPi</a></li>
<li><a href="../id400829/index.html">Mitos abadi: mengapa pasien menyebut cuaca sebagai penyebab nyeri sendi</a></li>
<li><a href="../id400831/index.html">Ada yang tidak beruntung untuk roket ultralight sederhana</a></li>
<li><a href="../id400835/index.html">Reaksi yang tidak terduga: Palang Merah harus menghapus simbolismenya dari game Prison Architect</a></li>
<li><a href="../id400837/index.html">Kerucut foton mach pertama kali difilmkan. Otak berikutnya</a></li>
<li><a href="../id400839/index.html">Wi-Fi Sinkron: Alliance Bersiap untuk Menyertifikasi Teknologi TimeSync</a></li>
<li><a href="../id400841/index.html">Ya, sehingga Anda hidup dengan 80 GB di kepala Anda! Bagaimana Hollywood Mengubah Teknologi menjadi Pengejek</a></li>
<li><a href="../id400843/index.html">Tanyakan Ethan: Berapa ukuran Semesta yang baru lahir?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>