<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕🏿 💄 🧕🏼 Et encore une fois sur les nuages, pas seulement les pros 👩🏼‍💼 👐🏻 🙋🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous. Cet article devrait apparaître tôt ou tard. Après tout, nous voyons de nombreux articles de la série "Le cloud est le meilleur qui pui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Et encore une fois sur les nuages, pas seulement les pros</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462797/"> Bonjour à tous.  Cet article devrait apparaître tôt ou tard.  Après tout, nous voyons de nombreux articles de la série "Le cloud est le meilleur qui puisse nous arriver!", "Comment l'organisation est passée à l'infrastructure cloud et a économisé N argent" ... Ce n'est qu'occasionnellement que des commentaires apparaissent dans les commentaires que dans certains cas, les nuages ​​ne sont pas exactement ce dont vous avez besoin.  Soyons honnêtes et comparons les revenus aux dépenses.  Et regardez également les inconvénients évidents sur lesquels il est habituel de garder le silence. <br><a name="habracut"></a><br>  Au départ, lors de la rédaction d'un article, je voulais couvrir absolument tout et l'argument le plus significatif est bien sûr le prix.  Il existe des tableaux comparant certains fournisseurs de cloud, mais cet article ne traite pas de cela.  Nous comparerons notre matériel + nos forces administratives et ....  colocalisation dans les sociétés d'hébergement qui fournissent ces services.  Vous devez comprendre où se situe la frontière entre l'achat de ressources cloud et l'achat de votre matériel pour une utilisation future dans votre environnement de travail.  Et aussi, non seulement votre administrateur système, mais aussi un employé du fournisseur de cloud peuvent faire une erreur, et vous en souffrirez de la même manière. <br><br>  De plus, je ne voulais en aucun cas tromper tous les fournisseurs qui fournissent des services cloud.  Oui, j'ai lu par exemple de tels articles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">habr.com/ru/company/activecloudru/blog/415483</a> (et # comment_18825847) et je comprends qu'il y aura un certain nombre de négatifs.  Auparavant, les nuages ​​étaient pensés comme un moyen de résoudre les tâches à forte charge, c'est-à-dire  il y avait une charge - les serveurs achetés pendant 2-3 jours, ont diminué - rendus. <br><br>  <b>À</b> mon avis, l' <b>un des principaux avantages de l'</b> utilisation d'une plateforme cloud est: <br><br><ol><li>  Réduire le coût d'achat de l'équipement, car seules les ressources nécessaires sont achetées.  Si vous n'en avez pas besoin, supprimez simplement et ne payez pas, commodément. </li><li>  Il n'est pas nécessaire de garder des spécialistes qui serviront le serveur au niveau matériel.  Le client ne pense pas que ce soit au niveau physique - tout est décidé par les spécialistes du fournisseur de cloud. </li><li>  Mise à l'échelle et géo-distribution infinies du centre de données.  Toute volonté du client d'augmenter la résilience de l'application métier. </li><li>  La possibilité d'acheter un service est un service et ne gaspille pas les ressources de leurs administrateurs système sur la maintenance. </li><li>  La VM et les services nécessaires sont installés (et supprimés également) en un seul clic de souris. </li><li>  Il n'est pas nécessaire de surveiller une partie de l'infrastructure (ce qui signifie la cohérence des données de raid, des commutateurs, etc.) - tout est fait par les spécialistes du fournisseur de cloud. </li></ol><br><h4>  Inconvénients </h4><br><ul><li>  Prix  L'achat de vos serveurs peut être rentable en 1 an.  Et lorsque vous achetez un cloud, vous n'avez qu'un service.  Une équipe de spécialistes est également à l'étude. </li><li>  "Le virtuel n'est pas entièrement réel."  Ici, toutes les ressources achetées auprès du fournisseur sont le CPU, la RAM, le SSD et la vitesse du réseau.  Nous comprenons tous qu'il existe des ressources au niveau de l'hôte et au niveau de la machine virtuelle.  Comment pouvons-nous vérifier que nous obtenons vraiment 100% des ressources processeur et disque? </li><li>  La résilience et le SLA fournis par le fournisseur sont loin du rêve du marketing. </li><li>  "Sur l'aiguille."  Le fournisseur essaie de garder le client et prend des décisions au sein de son écosystème. </li></ul><br>  Comme vous pouvez le voir, plus en détail je ne décrirai que les inconvénients.  Après tout, les pros sont écrits presque partout, ce sont principalement des blogs d'entreprises proposant des services similaires. <br><br><h4>  Commencez par le prix </h4><br>  Une petite digression.  Décrit ci-dessous dans le cadre de l'achat d'un serveur de vente au détail.  Les prix sont moyens.  Si vous avez une grande entreprise ou un hébergement, nous comprenons tous que le niveau des remises sur l'achat de matériel en fonction du volume peut atteindre 20 à 60% (et parfois même plus).  Ceci est un ajout à l'article, tout le monde comprend pourquoi ils paient trop. <br><br>  Comme point de départ, prenez un serveur standard avec les caractéristiques suivantes: <br><br><div class="scrollable-table"><table><tbody><tr><td>  Les accessoires </td><td>  Coût estimé </td><td>  La quantité </td><td>  Coût par quantité </td></tr><tr><td>  MotherBoard X11DPi-NT </td><td>  50 000 </td><td>  1 </td><td>  50 000 </td></tr><tr><td>  INTEL CPU Silver 4214 </td><td>  57000 </td><td>  2 </td><td>  114000 </td></tr><tr><td>  RAM 16Gb </td><td>  7500 </td><td>  16 </td><td>  120 000 </td></tr><tr><td>  INTEL SSDSC2KB96 (970 Go) </td><td>  13000 </td><td>  4 </td><td>  52000 </td></tr><tr><td>  Contrôleur RAID ASR 8805 </td><td>  38000 </td><td>  1 </td><td>  38000 </td></tr><tr><td>  SATA HGST HUS724020ALA640 (2000 Go) </td><td>  14000 </td><td>  4 </td><td>  56000 </td></tr><tr><td>  Boîtier avec alimentation 825TQ-563LPB (2U) </td><td>  27000 </td><td>  1 </td><td>  27000 </td></tr><tr><td>  Supplément pour un bon immeuble </td><td>  60 000 </td><td>  1 </td><td>  60 000 </td></tr><tr><td></td><td></td></tr><tr><td></td><td></td><td>  Total pour 1 serveur </td><td>  517000 </td></tr></tbody></table></div><br>  Les disques du matériel seront en RAID10, c'est-à-dire  le prix sera comparable et la vitesse sera nettement plus élevée. <br><br>  Pour plus de clarté, j'ai pris la même VM avec les mêmes caractéristiques.  J'ai moi-même déterminé le choix des prestataires, vous pouvez aussi compter pour les autres.  Je le répète, cet article ne considère pas une comparaison des fournisseurs, mais une comparaison du coût du cloud avec son propre matériel.  Voici la configuration des fournisseurs, CPU 24cores, RAM 256 Go, SSD 2 To, HDD 4 To. <br><br><div class="scrollable-table"><table><tbody><tr><td>  Fournisseur de cloud </td><td>  Par mois </td><td>  Depuis 1 an </td><td>  depuis 3 ans </td></tr><tr><td>  SELECTEL VPC </td><td>  137326 </td><td>  1647912 </td><td>  4943736 </td></tr><tr><td>  SELECTEL VMWARE </td><td>  150432 </td><td>  1805184 </td><td>  5415552 </td></tr><tr><td>  SELECTEL VMWARE GOLD </td><td>  162672 </td><td>  1952064 </td><td>  5856192 </td></tr><tr><td>  YANDEX 5% </td><td>  71211 </td><td>  854532 </td><td>  2563596 </td></tr><tr><td>  YANDEX 20% </td><td>  77376 </td><td>  928512 </td><td>  2785536 </td></tr><tr><td>  YANDEX 100% </td><td>  79997 </td><td>  959964 </td><td>  2879892 </td></tr><tr><td>  MCS MAILRU </td><td>  126880 </td><td>  1522560 </td><td>  4567680 </td></tr><tr><td>  RTCLOUD * </td><td>  175156 </td><td>  2101872 </td><td>  6305616 </td></tr></tbody></table></div><br>  <i>* Dans le cadre de rtcloud, j'ai pris un serveur avec la configuration de RAM-20GB, CPU-4GHz (comme 2 cœurs de 2GHz chacun), FAST HDD-167GB.</i>  <i>Et multiplié par 12 (13263 * 12 + 16000 pour un disque dur de 4 To)</i> <i><br></i>  <i>** Selon Yandex, il faut encore tenir compte du coût du trafic sortant.</i>  <i>Selectel donne 3 To de trafic pour un projet, puis des frais pour 1 Go.</i>  <i>Chez MCS MAILRU, le trafic est entièrement gratuit.</i> <br><br>  En conséquence, nous comprenons que la garantie moyenne pour tous les composants est de 3 ans.  Par conséquent, nous supposons qu'après 3 ans, nous jetons simplement ce serveur. <br><br>  Aussi pour ce serveur, nous donnerons 6000-10000 (serveur 2 unités avec 2 alimentations), selon la colocation que nous choisissons.  Prenez le maximum <br>  12 * 10000 = 12000 * 3 = 360 000 <br><br>  Par conséquent, dans 3 ans, nous donnerons 360.000 + 517.000 = 877.000r.  C'est pour 3 ans d'utilisation de votre serveur, qui après l'opération peut être donné aux startups nécessiteuses ou utilisé pour un site de test. <br><br>  D'après les chiffres de la table des fournisseurs, tout est clair.  Nous avons payé et reçu le service. <br><br>  Maintenant, beaucoup écriront: «Eh bien, c'est tellement clair, le capitaine est évident.  Mais qu'en est-il de l'amortissement, du salaire des administrateurs qui serviront ces serveurs et feront des choses intéressantes pour vous, comme la migration en direct, etc. Licences VMWare, par exemple, etc.  Achat séparé de stockage ou organisation d'un stockage distribué »Oui, je suis d'accord.  La direction doit prendre une décision en fonction de ses besoins.  Ce n'est que le premier élément.  Allons plus loin. <br><br>  Nous prenons 4 administrateurs système pour nous et payons 200 000 roubles chacun (et je pense qu'un autre + 200 000 sera dépensé en taxes, c'est beaucoup et c'est probablement dans les rêves de nos fonctionnaires).  Par conséquent: <br><br>  4 * 400000 = 1600000 par mois.  Et en 19.200.000 pour les salaires de ces employés hautement qualifiés. <br><br>  Donc, après 20 serveurs avec cette configuration, il est plus rentable de faire appel à vos spécialistes et à votre service.  En ce qui concerne le cloud, qui fournit un tel serveur pour 1 million de roubles par an.  Si votre hébergement est plus cher, cela signifie que le nombre de serveurs par rapport à 4 spécialistes sera moindre. <br><br><h4>  «Le virtuel n'est pas tout à fait réel» </h4><br>  CPU  Certains fournisseurs disent spécifiquement qu'ils ne limitent pas les performances du processeur, c'est-à-dire  a pris 4 cœurs et vous pouvez charger au besoin.  D'autres fournisseurs, par exemple amazon, yandex, indiquent que vous ne pouvez pas acheter 100% de la puissance du processeur et que le pourcentage et le prix alloués seront inférieurs.  Il y a aussi le concept de "Charge admissible sur le serveur", dans lequel le client est informé "Votre serveur a trop de charge CPU, vous devez passer à un tarif plus cher".  N'oubliez pas non plus de survente. <br><br>  RAM  Je ne m'attarderai pas sur ce moment.  Consultez / proc / meminfo.  Et essayez de prendre toute la quantité de RAM sur toutes les machines virtuelles que vous avez achetées pour les tests.  Maintenant, il n'y a pas de tels problèmes et les fournisseurs donnent généralement de la RAM honnêtement. <br><br>  IOPS  C'est le paramètre que le fournisseur de cloud supprime très fortement et implicitement.  Prenez toujours des mesures fio.  Mais il n'y a qu'une seule conclusion: de nombreux fournisseurs de cloud computing sont passés au schéma "Plus j'ai pris de volume, plus j'ai reçu d'iops".  Par exemple, lorsque j'ai testé le cloud de Yandex, jusqu'à 60 Go, je n'ai pas remarqué la différence lors de l'utilisation du HDD et du SSD, tout est trop implicite.  Et faites également attention aux SLA qui s'appliquent à ce paramètre - car tout ce paramètre est tellement flou que vous pouvez simplement dire «Nous vous donnons 10 000 IOPS, mais en fait vous en obtenez 400. Pour obtenir l'effet de 10 000, vous devez acheter un volume de plus de 600 Go.  Et ici <s>nous vous aurons aussi, il</s> y a une nuance puisque  Le SLA pour ce paramètre ne dépasse pas 75% et, dans certaines conditions, pas plus de 50%. » <br><br>  Vitesse du port.  C'est différent ici, certains fournisseurs donnent vraiment du gigabit honnête.  D'autres ne sont qu'à 250 Mbps.  Fondamentalement, les problèmes surviennent rarement ici et tout est complètement résoluble. <br><br><h4>  SLA et tolérance aux pannes </h4><br>  Comment pouvons-nous vérifier que nous obtenons toutes les ressources que nous avons achetées.  C'est là que des spécialistes sont nécessaires pour assurer le suivi (comment organiser ce suivi, dans le cadre de cet article).  Et également au stade de la signature du contrat, vous devez immédiatement accepter.  Par exemple, en cas d'incohérence dans le SLA d'un certain paramètre, le dommage est compensé.  Et aussi un moment délicat - qui a révélé et informé à temps.  Si le fournisseur lui-même, alors conformément au contrat.  Si le fournisseur a décidé de garder le silence et que vous l'avez remarqué sur vos systèmes de surveillance, puis après 2 jours pour le signaler et le prouver, le remboursement est 2 fois plus.  Cela vous aidera à obtenir la qualité de service offerte par le fournisseur. <br><br>  Tous les leaders des services cloud parlent de la façon dont tout est configuré et en cas d'explosion d'un centre de données, toutes vos données dupliquées à la fois fonctionneront dans un autre centre de données.  En fait, même lors de l'achat d'un cloud trop résilient, il y aura des problèmes qui vous forceront à vous occuper de la disponibilité de vos services - ce sont les recommandations du fournisseur Anti-Affinity.  Et «se soucier» de la qualité de la prestation des services de ses spécialistes pour une certaine somme d'argent, de la mise en place de services à l'intérieur du cloud, en cas de panne d'un des serveurs du fournisseur.  Voilà, le service client. <br><br><h4>  "Sur l'aiguille" </h4><br>  Commençons par le même yandex et amazon.  Faites votre API, faites de la documentation et faites-le bien.  D'autres ont opté pour openstack - voici une seule API pour tout le monde, ce qui ajoute tout le pouvoir de contrôle sur de nombreux services. <br><br>  Je ne donnerai pas d'histoires d'expérience personnelle.  Je ne peux dire qu'une chose, si un problème de bas niveau se produit au niveau du bloc - personne ne vous aidera, l'enquête sur ces problèmes prendra du temps, vous devez constamment prouver quelque chose avec les données de l'abstraction que j'ai achetée.  En plus des problèmes de RAM, vous ne pouvez pas exécuter memtest et vérifier que tout est vraiment bien - comptez sur la conscience du fournisseur. <br><br>  Je résume.  Qu'est-ce que je veux dire dans cet article? <br><br><ol><li>  Chers représentants des services cloud.  Améliorez encore vos services et n'obligez pas les clients à vous surpayer pour augmenter la fiabilité de leur application en achetant des ressources supplémentaires.  Et aussi faire des remises et faire le premier pas dans cette direction. </li><li>  Chers clients.  Essayez de créer des clouds hybrides et ne dépendez pas entièrement des fournisseurs de cloud.  À l'avenir, ce marché va croître et <s>les</s> prix des <s>contrats</s> seront à peu près au même niveau et augmenteront progressivement.  De nombreuses grandes entreprises commencent à construire <s>leurs centres de données</s> leurs services avec une participation minimale des fournisseurs de cloud. </li><li>  Je ne peux pas aborder le sujet de la sécurité.  Achetez des clouds privés qui sont presque 1,5 fois plus chers que les clouds publics ou ... </li><li>  Les responsables informatiques doivent adopter une approche plus stricte pour choisir un fournisseur de cloud.  Pesez tous les risques possibles et provoquez un incendie avant qu'il ne commence (tests rigoureux). </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462797/">https://habr.com/ru/post/fr462797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462783/index.html">Matrice: 20 ans plus tard</a></li>
<li><a href="../fr462787/index.html">Comment apprivoiser un junior?</a></li>
<li><a href="../fr462789/index.html">En Allemagne par un développeur sans lycée</a></li>
<li><a href="../fr462793/index.html">Tapis avec un éléphant et un cheval. La méthode cyclique "Prisonnier du Caucase"</a></li>
<li><a href="../fr462795/index.html">Schéma déclaratif et ce qui ne va pas dans Magento 2</a></li>
<li><a href="../fr462801/index.html">15 outils indispensables pour les chefs de produit en 2019</a></li>
<li><a href="../fr462803/index.html">Migration d'un système ERP à un autre</a></li>
<li><a href="../fr462805/index.html">Analyse: comment l'argent est-il réellement protégé lors de la négociation en bourse</a></li>
<li><a href="../fr462807/index.html">WinForms: erreurs, Holmes</a></li>
<li><a href="../fr462809/index.html">WinForms: erreurs, Holmes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>