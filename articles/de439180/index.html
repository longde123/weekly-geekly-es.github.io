<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏨 👧🏿 🙇🏽 Rekko Herausforderung 💸 👍🏻 😿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute starten wir die Rekko Challenge 2019 , einen Wettbewerb für maschinelles Lernen aus dem Online-Kino von Okko . 


 Wir empfehlen Ihnen, ein Empf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rekko Herausforderung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/439180/"><p><img src="https://habrastorage.org/webt/nn/ry/a8/nnrya8zeeuwrczokyqm6dq44mcw.jpeg" alt="Rekko Herausforderung"></p><br><p>  Heute starten wir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rekko Challenge 2019</a> , einen Wettbewerb für maschinelles Lernen aus dem Online-Kino von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Okko</a> . </p><br><p>  Wir empfehlen Ihnen, ein Empfehlungssystem auf den realen Daten eines der größten russischen Online-Kinos aufzubauen.  Wir sind sicher, dass diese Aufgabe sowohl für Anfänger als auch für erfahrene Spezialisten interessant sein wird.  Wir haben versucht, den größtmöglichen Spielraum für Kreativität zu schaffen, ohne Sie mit Gigabyte-Datensätzen mit Hunderten von vorberechneten Funktionen zu überlasten. </p><br><p>  Lesen Sie unten mehr über Okko, die Aufgabe, Daten, Preise und Regeln. </p><a name="habracut"></a><br><h2 id="zadacha">  Herausforderung </h2><br><p>  Sie haben über einen Zeitraum von N Tagen (N&gt; 60) Zugriff auf Daten zu allen Ansichten, Bewertungen und Ergänzungen der „gespeicherten“ Filme und Serien durch den Benutzer sowie auf alle Metainformationen zum Inhalt.  Es muss vorhergesagt werden, welche Filme und Serien der Benutzer in den nächsten 60 Tagen im Abonnement kaufen oder ansehen wird. </p><br><p>  Im nächsten Abschnitt haben wir versucht, das Minimum dessen zu beschreiben, was Sie über Online-Kinos wissen müssen, um die Daten schnell zu verstehen und mit der Analyse zu beginnen.  Wenn diese Informationen für Sie nicht relevant sind, können Sie sofort mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschreibung der Daten</a> fortfahren. </p><br><h2 id="o-nashem-servise">  Über unseren Service </h2><br><p>  Wenn ein Benutzer einen Film legal im Internet ansehen möchte, hat er drei Möglichkeiten. </p><br><p> Die erste Möglichkeit besteht darin, Werbespots kostenlos anzusehen und ständig zu unterbrechen ( <strong>AVOD</strong> , Advertising Video On Demand).  Die zweite <strong>Möglichkeit</strong> besteht darin, einen Film für Ihre Sammlung oder Miete zu kaufen ( <strong>TVOD</strong> , Transactional Video On Demand).  Die dritte <strong>Möglichkeit besteht darin</strong> , sich für einen bestimmten Zeitraum <strong>anzumelden</strong> ( <strong>SVOD</strong> , Subscription Video On Demand). </p><br><p>  Okko funktioniert nur mit TVOD- und SVOD-Modellen.  Es gibt überhaupt keine Werbung in unserem Service. </p><br><p>  Insgesamt hat der Dienst etwas mehr als 10.000 Filme und Serien, von denen etwa 6.000 im Abonnement erhältlich sind, der Rest ist nur zum Kauf oder Verleih bestimmt.  Gleichzeitig können fast alle Abonnementinhalte gekauft werden.  Eine Ausnahme bilden beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Amediateka-TV-Sendungen</a> , die nur im Abonnement angesehen werden können. </p><br><p><img src="https://habrastorage.org/webt/-b/le/7l/-ble7lmcuyxxnigbiussw59adng.png" alt="Inhaltsverteilung nach Verbrauchsmodell"></p><br><p>  Nach welchem ​​Modell der Film erhältlich sein wird, hängt weitgehend vom Studio ab, das die Rechte besitzt.  Sie schließen einen Vertrag mit Online-Kinos, in dem festgelegt ist, wann und für welche Rechte der Film verfügbar sein wird.  In der Regel sind die Bedingungen für alle Marktteilnehmer gleich, aber manchmal machen die Studios Zugeständnisse an einige Kinos oder bieten günstigere Bedingungen für mehr Geld.  Es gibt also exklusive. </p><br><p>  Beispielsweise werden wichtige globale Innovationen nicht sofort in das Abonnement aufgenommen, sondern erst 2-3 Monate nach dem Erscheinen im Service.  Darüber hinaus können sie in den ersten Wochen nicht einmal gemietet werden, sondern es besteht nur die Möglichkeit, für immer zu kaufen.  Russische Filme können jedoch unmittelbar nach der Veröffentlichung und manchmal sogar gleichzeitig mit dem Beginn des Verleihs in Offline-Kinos im Abonnement erhältlich sein. </p><br><p>  Wenn der Vertrag ausläuft, ist der Film nicht mehr verfügbar - bis zur Verlängerung des abgelaufenen Vertrags oder bis zum Abschluss eines neuen. </p><br><p><img src="https://habrastorage.org/webt/n3/vk/ua/n3vkual7jetrhk1l54zceb-c8ys.jpeg" alt="Beispiel für unzugängliche Filmkarten"></p><br><p>  Zeiträume ohne Rechte an Inhalten sind in den Diagrammen der Anzahl der Aufrufe deutlich sichtbar.  Unten sehen Sie zum Beispiel eine Tabelle für den Film "John Wick 2".  Zunächst scheint es, als hätte sich der Hadup für ein paar Monate zur Ruhe gelegt, aber nein: Die Rechte waren vorbei. </p><br><p><img src="https://habrastorage.org/webt/h8/mc/0q/h8mc0qauuyz_a-qtu2shswrjyg0.png" alt="Grafik der Ansichten des Films &quot;John Wick 2&quot;"></p><br><p>  Der höchste Peak in der obigen Grafik (mit einer vertikalen Linie markiert) fällt mit dem Datum zusammen, an dem der Film zum Abonnement hinzugefügt wurde: Dies ist ein sehr charakteristisches Verhalten für hochkarätige Neuheiten.  Unser Service hat 12 Abonnements: </p><br><ul><li>  Acht Themen </li><li>  Fernsehserie Amediateka, </li><li>  Fernsehserie ABC, </li><li>  Russische Filme und Serien aus dem START-Dienst, </li><li>  4K-Filme. </li></ul><br><p>  Und zwei Abonnement-Pakete: Optimal, das alle thematischen Abonnements enthält, und Optimal + Amediateka. </p><br><p><img src="https://habrastorage.org/webt/iq/kn/6r/iqkn6rw39kfvmbza416dhpzllby.jpeg" alt="Abonnement-Schnittstelle"></p><br><p>  Am beliebtesten sind natürlich Metapakete.  Von den thematischen Abonnements bevorzugen Benutzer World Cinema und Our Cinema. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ce/c03/2b9/7cec032b96c763d3d8f03b11f9b4079e.jpg"></p><br><p>  Nur wenige Benutzer sehen Filme nur im Abonnement, die meisten kaufen entweder nur Filme oder zusätzlich zum Abonnement. </p><br><p>  In den meisten Fällen entscheiden sich Benutzer für den Kauf neuer Artikel für die aktuelle Vermietung und die großen Premieren des letzten Jahres. </p><br><p>  Die beliebteste Quelle für Einkäufe in der Anwendung ist der Abschnitt „Empfehlungen“, gefolgt von „Suchen“, „Nachrichten“ und „Katalog“.  Benutzer kaufen einen Teil der Filme bei "Similar" und "Memorized". </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/5c2/2f3/c37/5c22f3c37bebd0f74d64a4d87c21ecf7.jpg"></p><br><p>  Eines der Hauptprobleme, mit denen wir bei Okko aktiv kämpfen, ist das Problem, dass Benutzer Inhalte auswählen.  Wenn Sie sich das Diagramm der Wahrscheinlichkeit eines Kaufs im Vergleich zu der Zeit ansehen, die Sie für den Service aufgewendet haben (Daten für das letzte Jahr), wird deutlich, dass Benutzer bereit sind, innerhalb der ersten 10 Minuten einen Film auszuwählen und zu kaufen. Dann sinkt die Wahrscheinlichkeit eines Kaufs schnell.  Gleichzeitig bleibt ein ziemlich großer Teil der Benutzer übrig, die zwischen einer halben und einer Stunde im Dienst verbringen und keine für sich geeigneten Inhalte auswählen können. </p><br><p>  10 Minuten - nicht so sehr.  Während dieser Zeit ist der Benutzer rein physisch nicht in der Lage, den Katalog im Detail zu studieren und den Inhalt auszuwählen, den er mag. </p><br><p>  Hier kommt Rekko ins Spiel, das interne Empfehlungssystem für das Okko-Online-Kino.  Rekko ist derzeit in zwei Bereichen des Dienstes tätig - "Empfehlungen" und "Ähnlich". </p><br><p><img src="https://habrastorage.org/webt/y8/yo/vw/y8yovw9ikla8v28e31bijkry4uw.jpeg" alt="TV-Empfehlungsbereich"></p><br><p><img src="https://habrastorage.org/webt/ai/dl/qh/aidlqhz32tslrxilfq_i0_-rebk.jpeg" alt="Ähnlich wie beim Fernsehen"></p><br><p>  Um die Zufriedenheit der Benutzer mit den Inhalten zu bewerten, analysieren wir die Tatsache des Kaufs, die Ansichten nach Abonnement, die Anzeigezeit, das Hinzufügen zu den gespeicherten Bewertungen und Benutzerbewertungen. </p><br><p>  Die Bewertungsskala in Okko wird durch fünf Sternchen mit halben Unterteilungen dargestellt: Sie nimmt ganzzahlige Werte von 0 bis 10 an. </p><br><p><img src="https://habrastorage.org/webt/s4/jh/kd/s4jhkdrp_7gqdtqek8b8ih3xfru.jpeg" alt="Bewertungsschnittstelle"></p><br><p>  Der Benutzer kann den Film jederzeit bewerten, unabhängig von der Tatsache des Kaufs oder der Anzeige.  Die Punktzahl kann unbegrenzt oft geändert, aber nicht rückgängig gemacht werden. </p><br><p>  Sie können sich jederzeit an einen Film "erinnern". Dieser wird dann im Profil des Benutzers unter "Erinnert" angezeigt.  Auf die gleiche Weise kann es von dort entfernt werden. </p><br><p><img src="https://habrastorage.org/webt/l-/_e/m9/l-_em9ml6klqs_8deogrbv7jzeo.jpeg" alt="Speicherschnittstelle"></p><br><p><img src="https://habrastorage.org/webt/yo/a4/_h/yoa4_hap-jrswbxriwb608hc1wc.jpeg" alt="Aufgenommene Filme im Profil"></p><br><p>  Die Arbeiten an Rekko begannen genau vor einem Jahr und laut A / B-Tests konnten wir derzeit die durchschnittliche Anzahl der Einkäufe um 4%, die Transaktionserlöse um 3%, die Umstellung auf Abonnements um 5% und die Auswahl der Filme um 18% beschleunigen . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61f/339/900/61f3399001f3e4a0e9ee6312c419bef0.jpg"></p><br><h2 id="dannye">  Daten </h2><br><p>  Alle Daten mit Ausnahme der Anzeigezeit und der Bewertungen sind anonymisiert oder verzerrt.  Die Zeit wird in abstrakten Einheiten ausgedrückt, für die das Verhältnis von Ordnung und Entfernung erhalten bleibt. </p><br><h3 id="transactionscsv">  transaction.csv </h3><br><p>  Aufzeichnungen aller Transaktionen und Inhaltsansichten während des Schulungszeitraums.  Die Transaktion hier ist der Kauf eines Films für immer, entweder zum Ausleihen oder um das Ansehen durch Abonnement zu initiieren. </p><br><div class="scrollable-table"><table><thead><tr><th>  element_uid </th><th>  user_uid </th><th>  Verbrauchsmodus </th><th>  ts </th><th>  watch_time </th><th>  Gerätetyp </th><th>  Gerätehersteller </th></tr></thead><tbody><tr><td>  3336 </td><td>  5177 </td><td>  S. </td><td>  44305181.2180206 </td><td>  4282 </td><td>  0 </td><td>  50 </td></tr><tr><td>  481 </td><td>  593316 </td><td>  S. </td><td>  44305180.606027626 </td><td>  2989 </td><td>  0 </td><td>  11 </td></tr><tr><td>  4128 </td><td>  262355 </td><td>  S. </td><td>  44305180.41444582 </td><td>  833 </td><td>  0 </td><td>  50 </td></tr></tbody></table></div><br><ul><li> <code>element_uid</code> - Elementkennung </li><li>  <code>user_uid</code> - Benutzer-ID </li><li>  <code>consumption_mode</code> - Art des Verbrauchs ( <code>P</code> - Kauf, <code>R</code> - Miete, <code>S</code> - Ansicht nach Abonnement) </li><li>  <code>ts</code> - Transaktionszeit </li><li>  <code>watched_time</code> - Die Anzahl der Sekunden, die der Benutzer für diese Transaktionssekunden überwacht </li><li>  <code>device_type</code> - anonymer Gerätetyp, von dem aus die Transaktion durchgeführt wurde </li><li>  <code>device_manufacturer</code> - anonymer Hersteller des Geräts, von dem aus die Transaktion durchgeführt wurde </li></ul><br><p><img src="https://habrastorage.org/webt/tf/yj/zy/tfyjzy6svqhfspgca9kzlzmtwg8.png" alt="Watched_time-Verteilung"></p><br><h3 id="ratingscsv">  Bewertungen.csv </h3><br><p>  Informationen zu Benutzerbewertungen für den Trainingszeitraum.  Informationen werden aggregiert, d.h.  Wenn der Benutzer seine Bewertung geändert hat, wird nur der letzte Wert in der Tabelle angezeigt. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  Bewertung </th><th>  ts </th></tr></thead><tbody><tr><td>  571252 </td><td>  1364 </td><td>  10 </td><td>  44305174.26309871 </td></tr><tr><td>  63140 </td><td>  3037 </td><td>  10 </td><td>  44305139.28281821 </td></tr><tr><td>  443817 </td><td>  4363 </td><td>  8 </td><td>  44305136.20584908 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> - Elementkennung </li><li>  <code>user_uid</code> - Benutzer-ID </li><li>  <code>rating</code> - benutzerdefinierte Bewertung (von <code>0</code> bis <code>10</code> ) </li><li>  <code>ts</code> - Rankingzeit </li></ul><br><p><img src="https://habrastorage.org/webt/qc/eh/zm/qcehzmvinvz57efywfnga3eo67m.png" alt="Verteilung der Bewertungen"></p><br><h3 id="bookmarkscsv">  bookmarks.csv </h3><br><p>  Die Fakten, dass Benutzer einen Film zum "Erinnerten" hinzufügen.  Informationen werden aggregiert, d.h.  Wenn der Benutzer den Film aus "Gespeichert" gelöscht hat, wird nicht aufgezeichnet, ob er dort in der Tabelle hinzugefügt wurde. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  ts </th></tr></thead><tbody><tr><td>  301135 </td><td>  7185 </td><td>  44305161.30743926 </td></tr><tr><td>  301135 </td><td>  4083 </td><td>  44305160.01187332 </td></tr><tr><td>  301135 </td><td>  10158 </td><td>  44305157.74463292 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> - Elementkennung </li><li>  <code>user_uid</code> - Benutzer-ID </li><li>  <code>ts</code> - Zeit, den Film zum "erinnerten" hinzuzufügen </li></ul><br><h3 id="cataloguejson">  catalogue.json </h3><br><p>  Meta-Informationen zu allen empfohlenen Elementen: Filme, Serien und Serienfilme. </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"1983"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>, <span class="hljs-string"><span class="hljs-string">"subscription"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">140</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">1657223.396513469</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7536096584</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">39</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1194091265</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, ...] }, <span class="hljs-attr"><span class="hljs-attr">"2166"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">36764165.87817783</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7360206399</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1386044027</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.6547073468</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">16738</span></span>, <span class="hljs-number"><span class="hljs-number">13697</span></span>, <span class="hljs-number"><span class="hljs-number">1066</span></span>, <span class="hljs-number"><span class="hljs-number">1089</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5318</span></span>, <span class="hljs-number"><span class="hljs-number">308</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>, ...] }, ... }</code> </pre> <br><ul><li>  <code>type</code> - Nimmt die Werte von <code>movie</code> , <code>multipart_movie</code> oder <code>series</code> </li><li>  <code>duration</code> - die Dauer in Minuten, auf zehn gerundet (die Dauer der Serie für Serien- und Serienfilme) </li><li>  <code>availability</code> - verfügbare Rechte an den Inhalten (kann die Werte von <code>purchase</code> , <code>rent</code> und <code>subscription</code> ) </li><li>  <code>attributes</code> - eine Tasche mit einigen anonymisierten Attributen </li><li>  <code>feature_1..5</code> - fünf anonymisierte Material- und Ordnungsmerkmale </li></ul><br><p>  Die verfügbaren Rechte werden am Ende des Trainingszeitraums und zu Beginn des Tests angegeben. </p><br><p>  <strong>Wichtig:</strong> In JSON können Wörterbuchschlüssel nur Zeichenfolgen sein. Denken Sie also daran, sie in eine Zahl umzuwandeln, wenn Sie Bezeichner in Tabellen als Zahlen lesen (tun Sie dies, um Speicherplatz zu sparen). </p><br><p><img src="https://habrastorage.org/webt/zc/2o/zj/zc2ozj5hiw-focmppfjvsb-pebi.png" alt="Verteilung der Merkmale im Katalog"></p><br><h2 id="metrika">  Metrisch </h2><br><p>  Als Metrik verwenden wir die mittlere durchschnittliche Genauigkeit (MAP) für 20 Elemente, die jedoch leicht modifiziert ist.  Während des Testzeitraums könnte der Benutzer weniger als 20 Filme konsumieren.  Wenn wir in diesem Fall einen ehrlichen MAP betrachten, ist die Obergrenze der Metrik kleiner als eins und die Werte sind klein.  Wenn der Benutzer weniger als 20 Elemente verbraucht hat, normalisieren wir daher nach ihrer Anzahl und nicht nach 20. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy=&quot;false&quot;>)</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>i</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="86.689ex" height="3.142ex" viewBox="0 -935.7 37324.3 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-62" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6F" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-78" x="2043" y="0"></use><g transform="translate(2616,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-4E" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-41" x="1940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-50" x="2690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-40" x="3442" y="0"></use><g transform="translate(4220,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-30" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-3D" x="8115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-66" x="9421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="9972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-61" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-63" x="10953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-31" x="11386" y="0"></use><g transform="translate(11887,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-55" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="3331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-76" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-65" x="4268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="4734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-74" x="5186" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-73" x="17684" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="18154" y="0"></use><g transform="translate(18726,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="926" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6E" x="1271" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-55" x="1872" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-66" x="21821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="22372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-61" x="22823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-63" x="23353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-31" x="23786" y="0"></use><g transform="translate(24287,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-28" x="2074" y="0"></use><g transform="translate(2464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="849" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-2C" x="3569" y="0"></use><g transform="translate(4014,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-29" x="5015" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-73" x="29941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="30411" y="0"></use><g transform="translate(30983,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,360)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-32"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(33111,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-28" x="34067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="34457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-29" x="34802" y="0"></use><g transform="translate(35192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-40" x="36200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="36978" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy="false">)</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>i</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ mbox {MNAP @ 20} = \ frac {1} {\ lvert U \ rvert} \ sum_ {u \ in U} \ frac {1} {\ min (n_u, 20)} \ sum_ {i = 1} ^ {20} r_u (i) p_u @ i </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.842ex" height="3.142ex" viewBox="-38.5 -935.7 12417.9 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="712" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-40" x="1008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6B" x="1786" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-3D" x="2586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-66" x="3892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="4442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-61" x="4894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-63" x="5423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-31" x="5857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6B" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-73" x="7129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="7598" y="0"></use><g transform="translate(8171,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6B" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(10298,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-28" x="11254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="11644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-29" x="11989" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> p_u @ k = \ frac {1} {k} \ sum_ {i = 1} ^ {k} r_u (i) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.833ex" height="2.66ex" viewBox="0 -832 2080.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="638" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-28" x="956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="1345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMAIN-29" x="1691" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> r_u (i) </script>  - befindet <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> i </script>  Das vorhergesagte Element in der Gruppe von Elementen, die während des Testzeitraums vom Benutzer verbraucht wurden <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> u </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.567ex" height="1.817ex" viewBox="0 -520.7 1105.3 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhiZMlwlTYlD3siPn0bjkBW6EcYPAg#MJMATHI-75" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> n_u </script>  Ist die Größe dieses Sets.  Wenn plötzlich die Ranking-Qualitätsmetriken vergessen werden, gibt es im Hub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen ausgezeichneten Artikel</a> darüber </p><br><div class="spoiler">  <b class="spoiler_title">Metrikcode in Cython</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">average_precision</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( dict data_true, dict data_predicted, const unsigned long int k )</span></span></span><span class="hljs-function"> -&gt; float:</span></span> cdef: unsigned long int n_items_predicted unsigned long int n_items_true unsigned long int n_correct_items unsigned long int item_idx double average_precision_sum double precision set items_true list items_predicted <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> data_true: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> ValueError(<span class="hljs-string"><span class="hljs-string">'data_true is empty'</span></span>) average_precision_sum = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key, items_true <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_true.items(): items_predicted = data_predicted.get(key, []) n_items_true = len(items_true) n_items_predicted = min(len(items_predicted), k) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n_items_true == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> n_items_predicted == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> n_correct_items = <span class="hljs-number"><span class="hljs-number">0</span></span> precision = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item_idx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(n_items_predicted): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> items_predicted[item_idx] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items_true: n_correct_items += <span class="hljs-number"><span class="hljs-number">1</span></span> precision += &lt;double&gt;n_correct_items / &lt;double&gt;(item_idx + <span class="hljs-number"><span class="hljs-number">1</span></span>) average_precision_sum += &lt;double&gt;precision / &lt;double&gt;min(n_items_true, k) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision_sum / &lt;double&gt;len(data_true) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">metric</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(true_data, predicted_data, k=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">20</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> true_data_set = {k: set(v) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> true_data.items()} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision(true_data_set, predicted_data, k=k)</code> </pre> </div></div><br><h2 id="prizy-i-pravila">  Preise und Regeln </h2><br><p>  Der Preisfonds beträgt 600 Tausend Rubel: </p><br><ul><li>  <strong>300</strong> Tausend erhalten den Gewinner, </li><li>  <strong>200</strong> Tausend - der Teilnehmer auf dem zweiten Platz </li><li>  100.000 - ein Teilnehmer auf dem dritten Platz. </li></ul><br><p>  Die Regeln sind Standard: Unterbrechen Sie nicht die Plattform, verwenden Sie nur ein Konto, vermeiden Sie den Austausch von privatem Code mit anderen Teilnehmern und seien Sie kein Mitarbeiter von Okko und Rambler. </p><br><h2 id="kak-nachat">  Wie fange ich an? </h2><br><p>  Selbst für erfahrene Fachleute kann es schwierig sein, an dem Wettbewerb teilzunehmen: Sie müssen schnell einen neuen Domänenbereich herausfinden, Daten verstehen und analysieren und neue Bibliotheken sortieren. </p><br><p>  Wir hoffen, dass wir Sie in diesem Artikel in das Thema Online-Kino eintauchen und die Daten ausreichend detailliert beschreiben konnten.  Im Archiv mit der Aufgabe finden Sie die Datei <code>baseline.ipynb</code> , die Code zum Laden von Daten und ein Beispiel für eine einfache Lösung mit dem K-Algorithmus für die nächsten Nachbarn enthält. </p><br><p>  Sollten Punkte aus der Beschreibung der Daten- und Domain-Domain unklar bleiben, beantworten wir Ihre Fragen gerne in den Kommentaren.  Sie können auch Fragen im Telegrammkanal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@boosterspro stellen</a> - dort findet die Hauptdiskussion des Wettbewerbs statt. </p><br><p>  <strong>So fangen Sie an:</strong> </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Melden Sie sich bei boosters.pro</a> an und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">treten Sie @boosterspro bei</a> . </li><li>  Laden Sie die Daten auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Wettbewerbsseite</a> oder <a href="">hier</a> herunter. </li><li>  Öffnen Sie <code>baseline.ipynb</code> , installieren Sie die erforderlichen Pakete, führen Sie den gesamten Code aus und laden Sie Ihre erste Lösung herunter. </li><li>  Versuchen Sie, die Basislinie zu ändern, um die Leistung zu verbessern. </li><li>  Experimentieren Sie! </li></ol><br><p>  Die Rekko Challenge beginnt heute, am 18. Februar.  Entscheidungen werden bis zum 18. April, 23:59:59 Uhr Moskauer Zeit getroffen. </p><br><p>  Wir warten auf alle und viel Glück! </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir suchen</a> übrigens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mitarbeiter</a> .  Einschließlich des Entwicklers von Empfehlungssystemen. </p><br><p>  <strong>UPD 26.02.2019: Es wurde</strong> ein Fehler bei der <strong>Erstellung</strong> von Testdaten gefunden, diese ersetzt und die Datei <em>test_users.json</em> .  Alle Teilnehmer erhalten zusätzliche Versuche. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439180/">https://habr.com/ru/post/de439180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439168/index.html">Client-Analysesysteme</a></li>
<li><a href="../de439170/index.html">Mobilfunkbetreiber helfen Banken dabei, die Richtigkeit von Kundendaten zu überprüfen</a></li>
<li><a href="../de439172/index.html">Assert () - Makroerweiterung zur Implementierung einer minimalen Fehlerbehandlung</a></li>
<li><a href="../de439174/index.html">Tag des sicheren Internets: Welche Bedrohungen müssen 2019 gesucht werden?</a></li>
<li><a href="../de439176/index.html">Senden Sie eine E-Mail mit Anhängen von JavaMailSender von SpringFramework</a></li>
<li><a href="../de439182/index.html">Wie wir Bestellungen zwischen Fahrern in Yandex.Taxi verteilen</a></li>
<li><a href="../de439184/index.html">Ändern Sie Ihr Kennwort: Testen der Kennwortrichtlinien für Webdienste</a></li>
<li><a href="../de439186/index.html">UX Editor: wahre Geschichte, riales Leben</a></li>
<li><a href="../de439190/index.html">So erstellen Sie eine Augmented Reality-Anwendung mit ARCore</a></li>
<li><a href="../de439192/index.html">PC-Lautsprecher bis elf</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>