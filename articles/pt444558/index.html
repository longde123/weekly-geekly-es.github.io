<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖüèæ üí™üèæ üîà Novidades do CUBA 7 üòî üë©üèæ‚Äçü§ù‚Äçüë©üèº ü¶à</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Novidades do CUBA 7 


 H√° tr√™s anos, anunciamos a segunda vers√£o principal do framework dispon√≠vel ao p√∫blico. CUBA 6 foi a vers√£o que mudou o jogo -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Novidades do CUBA 7</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/444558/"><h1 id="whats-new-in-cuba-7">  Novidades do CUBA 7 </h1><br><p>  H√° tr√™s anos, anunciamos a segunda vers√£o principal do framework dispon√≠vel ao p√∫blico.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA 6</a> foi a vers√£o que mudou o jogo - o licenciamento passou do propriet√°rio para o Apache 2.0.  Naqueles dias, n√£o pod√≠amos nem imaginar onde isso traria a estrutura a longo prazo.  A comunidade CUBA come√ßou a crescer exponencialmente, por isso aprendemos muitas maneiras poss√≠veis (e √†s vezes imposs√≠veis) de como os desenvolvedores usam a estrutura.  Agora, estamos felizes em anunciar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA 7</a> , que, esperamos, tornar√° o desenvolvimento mais coerente e alegre para todos os membros da comunidade, daqueles que est√£o iniciando sua jornada em CUBA e Java, para desenvolvedores empresariais qualificados e especialistas em Java. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d60/280/788/d602807880920f1c89cc34aa4c944f11.png" alt="cuba"></p><a name="habracut"></a><br><h2 id="development-tools">  Ferramentas de desenvolvimento </h2><br><p>  Obviamente, grande parte do sucesso do CUBA devemos ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA Studio</a> .  Ele simplificou notavelmente a rotina empresarial Java exagerada, em muitos lugares a base para fazer configura√ß√µes triviais nos designers visuais: n√£o √© necess√°rio conhecer a Persistence API ou Gradle ou mesmo Spring para desenvolver um aplicativo CRUD completo e rico em recursos - o Studio far√° isso para voc√™ </p><br><p>  O Studio era um aplicativo Web separado e esse fato causou algumas limita√ß√µes significativas: </p><br><ul><li>  Antes de tudo, o Studio n√£o era um IDE completo, ent√£o os desenvolvedores tiveram que alternar entre o Studio e o IntelliJ IDEA ou Eclipse para desenvolver a l√≥gica de neg√≥cios e se beneficiar de uma navega√ß√£o conveniente, conclus√£o de c√≥digo e outras coisas essenciais, o que era irritante. </li><li>  Em segundo lugar, essa simplicidade m√°gica foi constru√≠da sobre uma enorme an√°lise e gera√ß√£o de c√≥digo-fonte.  Melhorar os recursos de gera√ß√£o de c√≥digo significaria avan√ßar para o desenvolvimento de um IDE completo - um empreendimento muito ambicioso. </li></ul><br><p>  Decidimos nos apoiar no ombro de outro gigante para superar essas limita√ß√µes.  O Studio foi mesclado no IntelliJ IDEA pela JetBrains.  Agora voc√™ pode instal√°-lo como um plug-in para o seu IntelliJ IDEA ou fazer o download como um pacote independente. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eba/91f/e64/eba91fe64a5025522853a054d2e6d720.png" alt="cuba1"></p><br><p>  Isso abre novos horizontes: </p><br><ul><li>  Outros idiomas da JVM suportam (e Kotlin em primeiro lugar) </li><li>  Implementa√ß√£o a quente aprimorada </li><li>  Navega√ß√£o intuitiva por todo o projeto </li><li>  Dicas mais inteligentes e geradores de c√≥digo </li></ul><br><p>  Atualmente, o novo Studio est√° em desenvolvimento ativo: estamos portando recursos da vers√£o antiga.  O plano de curto prazo tamb√©m √© reimplementar designers baseados na Web usando a interface do usu√°rio IntelliJ nativa e melhorar a experi√™ncia de navega√ß√£o do projeto. </p><br><h2 id="stack-upgrade">  Atualiza√ß√£o da pilha </h2><br><p>  Tradicionalmente, a pilha subjacente tamb√©m foi atualizada principalmente, por exemplo, Java 8/11, Vaadin 8, Spring 5. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fb4/f9a/5f9/fb4f9a5f937e543e339dfba51e637f2e.png" alt="cuba2"></p><br><p>  Por padr√£o, novos projetos usam o Java 8, mas voc√™ pode especificar a vers√£o do Java incluindo a seguinte cl√°usula no arquivo build.gradle: </p><br><pre><code class="plaintext hljs">subprojects { sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11 }</code> </pre> <br><p>  A atualiza√ß√£o para o Vaadin 8 foi um grande desafio por causa de grandes mudan√ßas na API de liga√ß√£o de dados do Vaadin.  Felizmente, o CUBA abstrai desenvolvedores dos componentes internos do Vaadin, envolvendo-o em sua pr√≥pria camada de API.  A equipe do CUBA fez um √≥timo trabalho reimplementando os componentes internos, mantendo sua pr√≥pria API intocada.  Isso significa que a compatibilidade √© totalmente salva e voc√™ pode se beneficiar do Vaadin 8 logo ap√≥s migrar um projeto para o CUBA 7 sem nenhuma refatora√ß√£o. </p><br><p>  A lista completa de depend√™ncias atualizadas est√° dispon√≠vel nas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">notas de vers√£o</a> oficiais. </p><br><h2 id="new-screens-api">  API de novas telas </h2><br><p>  Esta se√ß√£o tamb√©m pode ser chamada de "API das primeiras telas" - pois o CUBA nunca teve nenhuma API declarada oficialmente na camada de cliente da web.  Vem da hist√≥ria da estrutura e de certas suposi√ß√µes feitas na primeira etapa: </p><br><ul><li>  Abordagem centrada no declarativo - tudo o que pode ser descrito declarativamente, deve ser declarado em um descritor de tela e n√£o codificado em seu controlador </li><li>  As telas padr√£o (navegador e editor) fornecem funcionalidade gen√©rica concreta e n√£o √© necess√°rio modific√°-la </li></ul><br><p>  Desde que os primeiros mil membros se juntaram √† nossa comunidade, percebemos o qu√£o grande √© a variedade de requisitos para telas CRUD "padr√£o" - muito al√©m do conjunto de recursos inicialmente projetado.  No entanto, por um longo tempo, conseguimos lidar com solicita√ß√µes de comportamento personalizado, mesmo sem uma camada de API - gra√ßas a outra suposi√ß√£o do primeiro est√°gio - Open Inheritance.  Heran√ßa efetivamente aberta significa que voc√™ pode substituir qualquer m√©todo p√∫blico ou protegido de uma classe subjacente para adaptar seu comportamento ao que voc√™ precisa.  Isso pode parecer uma cura para todas as doen√ßas, mas, na verdade, n√£o oferece nem um contrato de curto prazo: e se o m√©todo substitu√≠do for renomeado, exclu√≠do ou simplesmente nunca usado nas futuras vers√µes do framework? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4ed/043/150/4ed0431505177eab85281d6f583f4bc4.png" alt="cuba3"></p><br><p>  Ent√£o, em resposta √† crescente demanda da comunidade, decidimos introduzir uma nova API de telas.  A API fornece pontos de extens√£o claros e de longo prazo, sem m√°gica declarativa oculta, flex√≠vel e muito f√°cil de usar. </p><br><h3 id="screen-declaration">  Declara√ß√£o de tela </h3><br><p>  No CUBA 7, a declara√ß√£o de tela √© extremamente simples: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") // screen id public class NewScreen extends Screen { }</code> </pre> <br><p>  A partir do exemplo acima, podemos ver que o identificador de tela √© definido explicitamente logo acima da classe do controlador.  Em outras palavras, o ID da tela e a classe do controlador agora correspondem exclusivamente um ao outro.  Portanto, boas not√≠cias, agora as telas podem ser endere√ßadas diretamente por sua classe de controlador de maneira segura: </p><br><pre> <code class="plaintext hljs">@Inject private ScreenBuilders screenBuilders; @Subscribe private void onBeforeClose(BeforeCloseEvent event) { screenBuilders.screen(this) .withScreenClass(SomeConfirmationScreen.class) .build() .show(); }</code> </pre> <br><p>  O descritor de tela se torna uma parte complementar em vez de obrigat√≥ria.  O layout pode ser criado programaticamente ou declarado como um descritor de tela xml, definido pela anota√ß√£o @UiDescriptor sobre a classe do controlador.  Isso torna os controladores e o layout muito mais f√°ceis de ler e entender - essa abordagem √© muito semelhante √† usada no desenvolvimento do Android. </p><br><p>  Antes, tamb√©m era necess√°rio registrar um descritor de tela no arquivo web-screens.xml e atribuir um identificador a ele.  No CUBA 7, esse arquivo √© mantido por motivos de compatibilidade; no entanto, a cria√ß√£o de telas de uma nova maneira n√£o exige esse registro. </p><br><h3 id="screens-lifecycle">  Ciclo de vida das telas </h3><br><p>  A nova API apresenta eventos de ciclo de vida de tela claros e auto-explicativos: </p><br><ul><li>  Init </li><li>  Afterinit </li><li>  Beforeshow </li><li>  P√≥s-show </li><li>  Antes de fechar </li><li>  Afterclose </li></ul><br><p>  Todos os eventos relacionados √† tela no CUBA 7 podem ser registrados da seguinte maneira: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") public class NewScreen extends Screen { @Subscribe private void onInit(InitEvent event) { } @Subscribe private void onBeforeShow(BeforeShowEvent event) { } }</code> </pre> <br><p>  Comparando a nova API com a abordagem antiga, voc√™ pode ver que n√£o estamos substituindo m√©todos de gancho, chamados obscuramente na hierarquia das classes pai, mas definindo a l√≥gica em pontos predefinidos claros do ciclo de vida da tela. </p><br><h3 id="event-handling-and-functional-delegates">  Manipula√ß√£o de Eventos e Delegados Funcionais </h3><br><p>  Na se√ß√£o anterior, aprendemos como se inscrever nos eventos do ciclo de vida. Ent√£o, e os outros componentes?  Ainda devemos dispersar todos os ouvintes necess√°rios na inicializa√ß√£o da tela como nas vers√µes 6.x?  A nova API √© muito uniforme, portanto, inscrever-se em outros eventos √© absolutamente semelhante aos do ciclo de vida. </p><br><p>  Vamos dar um exemplo simples com dois elementos da interface do usu√°rio: um bot√£o e um campo de moeda, para que seu descritor xml se pare√ßa com: </p><br><pre> <code class="plaintext hljs">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt; &lt;window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd" caption="msg://caption" messagesPack="com.company.demo.web"&gt; &lt;layout&gt; &lt;hbox spacing="true"&gt; &lt;currencyField id="currencyField" currency="$" currencyLabelPosition="LEFT"/&gt; &lt;button id="calcPriceBtn" caption="Calculate Price"/&gt; &lt;/hbox&gt; &lt;/layout&gt; &lt;/window&gt;</code> </pre> <br><p>  Ao clicar no bot√£o, chamamos o servi√ßo de middleware retornando um n√∫mero, que vai para o campo de moeda.  O campo da moeda deve mudar seu estilo, dependendo do valor do pre√ßo. </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private PricingService pricingService; @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe("calcPriceBtn") private void onCalcPriceBtnClick(Button.ClickEvent event) { currencyField.setValue(pricingService.calculatePrice()); } @Subscribe("currencyField") private void onPriceChange(HasValue.ValueChangeEvent&lt;BigDecimal&gt; event) { BigDecimal price = pricingService.calculatePrice(); currencyField.setStyleName(getStyleNameByPrice(price)); } private String getStyleNameByPrice(BigDecimal price) { ... } }</code> </pre> <br><p>  No exemplo acima, podemos ver dois manipuladores de eventos: um √© chamado quando o bot√£o √© clicado e outro √© executado quando o campo da moeda altera seu valor - t√£o simples quanto isso. </p><br><p>  Agora, vamos imaginar que precisamos validar nosso pre√ßo e verificar se seu valor √© positivo.  A maneira direta seria adicionar um validador durante a inicializa√ß√£o da tela: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe private void onInit(InitEvent event) { currencyField.addValidator(value -&gt; { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); }); } }</code> </pre> <br><p>  Em aplica√ß√µes do mundo real, um ponto de entrada na tela geralmente fica cheio com esse tipo de inicializador de elementos de tela.  Para resolver esse problema, o CUBA fornece a anota√ß√£o √∫til <code>@Install</code> .  Vamos ver como isso pode ajudar no nosso caso: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Install(to = "currencyField", subject = "validator") private void currencyFieldValidator(BigDecimal value) { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); } }</code> </pre> <br><p>  De fato, delegamos a l√≥gica de valida√ß√£o do nosso campo de <em>moeda ao</em> m√©todo <em>currencyFieldValidator</em> em nossa tela.  Isso pode parecer um pouco complicado, no entanto, os desenvolvedores adotam esse recurso surpreendentemente r√°pido. </p><br><h3 id="screen-builders--notifications--dialogs">  Criadores de tela / notifica√ß√µes / caixas de di√°logo </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d7b/b4b/83a/d7bb4b83a2ac4b60988f0a7e59b91dae.png" alt="cuba4"></p><br><p>  O CUBA 7 tamb√©m apresenta um conjunto de componentes √∫teis com APIs fluentes: </p><br><ul><li><p>  <strong>O ScreenBuilders</strong> combina f√°bricas fluentes para gerar pesquisas padr√£o, editores e telas personalizadas.  O exemplo abaixo mostra como voc√™ pode abrir uma tela da outra.  Observe que o m√©todo <em>build ()</em> retorna a inst√¢ncia de tela do tipo certo, sem a necessidade de convert√™-lo sem seguran√ßa. </p><br><p>  CurrencyConversions currencyConversions = screenBuilders.screen (isso) <br>  .withScreenClass (CurrencyConversions.class) <br>  .withLaunchMode (OpenMode.DIALOG) <br>  .build (); <br>  currencyConversions.setBaseCurrency (Currency.EUR); <br>  currencyConversions.show (); </p><br></li><li><p>  <strong>O</strong> componente <strong>Telas</strong> fornece uma abstra√ß√£o de n√≠vel inferior para criar e mostrar telas em vez de <em>ScreenBuilders</em> .  Ele tamb√©m fornece acesso √†s informa√ß√µes sobre todas as telas abertas no aplicativo CUBA ( <em>Screens # getOpenedScreens</em> ), caso voc√™ precise <em>iter√°-</em> las. </p><br></li><li><p>  <strong>Os</strong> componentes <strong>Notifica√ß√µes</strong> e <strong>Di√°logos</strong> apresentam interfaces auto-explicativas convenientes.  Aqui est√° um exemplo para criar e mostrar uma caixa de di√°logo e uma notifica√ß√£o: </p><br><p>  dialogs.createOptionDialog () <br>  .withCaption ("Minha primeira caixa de di√°logo") <br>  .withMessage ("Gostaria de agradecer √† equipe CUBA?") <br>  .withActions ( <br>  novo DialogAction (DialogAction.Type.YES) .withHandler (e -&gt; <br>  Notifications.create () <br>  .withCaption ("Obrigado!") <br>  .withDescription ("Agradecemos a todos os membros da comunidade") <br>  .withPosition (Notifications.Position.MIDDLE_CENTER) <br>  .withHideDelayMs (3000) <br>  .show ()), <br>  novo DialogAction (DialogAction.Type.CANCEL) <br>  ) <br>  .show (); </p><br></li></ul><br><h3 id="data-binding">  Liga√ß√£o de dados </h3><br><p>  O CUBA permite o desenvolvimento extremamente r√°pido de UIs de backoffice, n√£o apenas fornecendo ferramentas visuais avan√ßadas com amplos recursos de gera√ß√£o de c√≥digo, mas tamb√©m por um rico conjunto de componentes sens√≠veis a dados dispon√≠veis imediatamente.  Esses componentes precisam apenas saber com quais dados eles trabalham e o restante ser√° gerenciado automaticamente, por exemplo, listas de pesquisa, campos selecionadores, v√°rias grades com opera√ß√µes CRUD e assim por diante. </p><br><p>  Antes da liga√ß√£o de dados da vers√£o 7 ser implementada por meio das chamadas fontes de dados - objetos que envolvem uma √∫nica entidade ou uma cole√ß√£o de entidades para vincul√°-los reativamente a componentes com reconhecimento de dados.  Essa abordagem funcionou muito bem, no entanto, em termos de implementa√ß√£o, era um mon√≥lito.  A arquitetura monol√≠tica normalmente causa problemas com sua personaliza√ß√£o, portanto, no CUBA 7, esse pedregulho s√≥lido foi dividido em tr√™s componentes de dados: </p><br><ul><li>  <strong>O carregador de dados</strong> √© um provedor de dados para cont√™ineres de dados.  Os carregadores de dados n√£o mant√™m dados, apenas passam todos os par√¢metros de consulta necess√°rios para um armazenamento de dados e alimentam os cont√™ineres com o conjunto de dados resultante. </li><li>  <strong>O cont√™iner de dados</strong> mant√©m os dados carregados (uma √∫nica entidade ou v√°rias entidades) e os fornece aos componentes com reconhecimento de dados de maneira reativa: todas as altera√ß√µes das entidades agrupadas s√£o expostas aos componentes de UI correspondentes e vice-versa, todas as altera√ß√µes em os componentes da interface do usu√°rio levar√£o √†s altera√ß√µes correspondentes em seu cont√™iner de dados. </li><li>  <strong>O contexto de dados</strong> √© um poderoso gerenciador de modifica√ß√£o de dados que rastreia altera√ß√µes e confirma todas as entidades modificadas.  Uma entidade pode ser mesclada em um contexto de dados, para fornecer uma c√≥pia da entidade original com a √∫nica diferen√ßa, mas muito importante: todas as modifica√ß√µes da entidade resultante e todas as entidades que ela referencia (incluindo cole√ß√µes) ser√£o rastreadas, armazenadas e cometido em conformidade. </li></ul><br><p>  Os componentes de dados podem ser declarados em descritores de tela ou instanciados programaticamente usando uma f√°brica especializada - <em>DataComponents</em> . </p><br><h3 id="miscellaneous">  Diversos </h3><br><p>  Ufff, as partes mais significativas da nova API de telas s√£o descritas, ent√£o deixe-me listar brevemente outros recursos importantes na camada de cliente da Web: </p><br><ul><li>  <strong>Hist√≥rico e navega√ß√£o de URL</strong> .  Esse recurso resolve um problema muito comum do SPA com o bot√£o "voltar" em um navegador da Web, fornece uma maneira f√°cil de atribuir rotas √†s telas de aplicativos e permite que uma API reflita o estado atual de uma tela em sua URL. </li><li>  <strong>Formul√°rio em vez de FieldGroup</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O FieldGroup</a> √© um componente com reconhecimento de dados para mostrar e modificar campos de uma √∫nica entidade.  Ele infere a interface do usu√°rio real mostrada para um campo em tempo de execu√ß√£o.  Em outras palavras, se voc√™ tiver um campo <em>Data</em> em sua entidade, ele ser√° mostrado como um <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DateField</a></em> .  No entanto, se voc√™ deseja operar com esse campo programaticamente, precisar√° injetar esse campo no controlador de tela e convert√™-lo no tipo certo manualmente ( <em>DateField em nosso exemplo</em> ).  Posteriormente, alteramos nosso tipo de campo para outro e nosso aplicativo falha no tempo de execu√ß√£o ... O formul√°rio soluciona esse problema por declara√ß√£o expl√≠cita de tipo de campo.  Encontre mais informa√ß√µes sobre esse novo componente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </li><li>  <strong>A integra√ß√£o de componentes JavaScript de terceiros</strong> √© significativamente simplificada, siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a documenta√ß√£o</a> para incorporar componentes JavaScript personalizados em um aplicativo CUBA. </li><li>  Agora, os atributos <strong>HTML / CSS</strong> podem ser facilmente definidos diretamente no descritor de tela xml ou definidos programaticamente.  Encontre mais informa√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </li></ul><br><h2 id="middleware-features">  Recursos de middleware </h2><br><p>  O bloco anterior sobre a nova API de telas era maior do que eu esperava, portanto, nesta se√ß√£o, vou tentar ser legal! </p><br><h3 id="entity-changed-event">  Evento alterado da entidade </h3><br><p>  Evento alterado de entidade √© um evento de aplicativo Spring que √© disparado quando sua entidade foi para um reposit√≥rio de dados, foi inserido fisicamente e est√° a uma polegada de ser confirmado.  Aqui voc√™ pode fornecer algumas verifica√ß√µes adicionais (por exemplo, verificar a disponibilidade do produto em estoque antes de confirmar um pedido) e modific√°-lo (por exemplo, recalcular totais) antes de ficar vis√≠vel para outras transa√ß√µes (√© claro, com n√≠vel de isolamento confirmado por leitura).  Voc√™ tamb√©m pode usar esse evento como a √∫ltima chance de interromper a confirma√ß√£o da transa√ß√£o, lan√ßando uma exce√ß√£o - que pode ser √∫til em alguns casos de canto. </p><br><p>  Tamb√©m h√° uma maneira de capturar o Evento Alterado da Entidade logo ap√≥s a confirma√ß√£o. </p><br><p>  Siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este cap√≠tulo</a> da documenta√ß√£o para ver um exemplo. </p><br><h3 id="transactional-data-manager">  Transactional Data Manager </h3><br><p>  Ao desenvolver um aplicativo, normalmente operamos com entidades desanexadas - aquelas que n√£o s√£o gerenciadas por nenhuma transa√ß√£o.  No entanto, nem sempre √© poss√≠vel trabalhar com entidades desanexadas, especialmente ao tentar atender aos requisitos do ACID - esse √© o caso quando voc√™ pode usar o gerenciador de dados transacionais.  Parece muito semelhante ao gerenciador de dados comum, mas difere nos seguintes aspectos: </p><br><ul><li>  Ele pode ingressar na transa√ß√£o existente (no caso de ser chamado no contexto transacional) ou criar sua pr√≥pria transa√ß√£o. </li><li>  Ele n√£o possui m√©todo de <em>confirma√ß√£o</em> , mas existe o m√©todo save, que n√£o leva √† confirma√ß√£o imediata, mas aguarda at√© que a transa√ß√£o anexada seja confirmada. </li></ul><br><p>  Encontre um exemplo de como us√°-lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><h3 id="jpa-lifecycle-callbacks">  Retornos de chamada do ciclo de vida da JPA </h3><br><p>  Por fim, o CUBA 7 suporta retornos de chamada do ciclo de vida JPA.  Para n√£o replicar informa√ß√µes bem escritas sobre para que esses retornos de chamada podem ser usados, deixe-me compartilhar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este link</a> , que cobre completamente o assunto. </p><br><h2 id="what-about-compatibility">  E a compatibilidade? </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d41/044/292/d410442925950409df8fdab04102dd95.png" alt="cuba5"></p><br><p>  Uma pergunta justa para qualquer vers√£o importante, especialmente quando h√° tantas mudan√ßas aparentemente dif√≠ceis!  N√≥s projetamos todos esses novos recursos e APIs tendo em mente a compatibilidade com vers√µes anteriores: </p><br><ul><li>  A API de telas antigas √© suportada no CUBA 7 e √© implementada por meio da nova vers√£o oculta :) </li><li>  Tamb√©m fornecemos adaptadores para a liga√ß√£o de dados antigos, que continuam trabalhando para as telas antiquadas. </li></ul><br><p>  Portanto, boas not√≠cias, o caminho de migra√ß√£o da vers√£o 6 para 7 deve ser bastante direto. </p><br><h2 id="conclusion">  Conclus√£o </h2><br><p>  Concluindo esta vis√£o geral t√©cnica, gostaria de mencionar que existem outras inova√ß√µes importantes, especialmente no licenciamento: </p><br><ul><li>  O limite de 10 entidades para o Studio acabou </li><li>  Os relat√≥rios, BPM, Gr√°ficos e Mapas e complementos de pesquisa de texto completo agora s√£o gratuitos e de c√≥digo aberto. </li><li>  A vers√£o comercial do Studio oferece conforto extra de desenvolvimento com designers visuais para entidades, telas, menus e outros elementos da plataforma, enquanto a vers√£o gratuita se concentra em trabalhar com c√≥digo </li><li>  N√£o se esque√ßa que para as vers√µes 6.x e mais antigas dos termos de licenciamento da Platform e Studio permanecem os mesmos! </li></ul><br><p>  Finalmente, gostaria de agradecer novamente aos membros da comunidade por todo o apoio e feedback.  Espero que voc√™ ame a vers√£o 7!  A lista completa de altera√ß√µes est√° tradicionalmente dispon√≠vel nas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">notas de vers√£o</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444558/">https://habr.com/ru/post/pt444558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444548/index.html">Experi√™ncia pessoal: como nos envolvemos na promo√ß√£o de startups hisp√¢nicas na Am√©rica Latina</a></li>
<li><a href="../pt444550/index.html">Para a quest√£o da divis√£o</a></li>
<li><a href="../pt444552/index.html">TDMS Fairway. Trabalhe com experi√™ncia</a></li>
<li><a href="../pt444554/index.html">A API RESTful JSON mais simples do Elixir</a></li>
<li><a href="../pt444556/index.html">A cor da lua e do sol do espa√ßo nos valores de RGB e temperatura de cor</a></li>
<li><a href="../pt444560/index.html">Convidamos voc√™ para a confer√™ncia ‚ÄúClouds. Fashion Trends ‚Äù26 de mar√ßo de 2019</a></li>
<li><a href="../pt444562/index.html">Moderniza√ß√£o da GHIDRA. Carregadeira para rum Sega Mega Drive</a></li>
<li><a href="../pt444564/index.html">Desenvolvimento de produtos digitais com modelos mentais</a></li>
<li><a href="../pt444566/index.html">Sikorsky realizou uma demonstra√ß√£o de um helic√≥ptero n√£o tripulado com um homem a bordo</a></li>
<li><a href="../pt444568/index.html">Os 10 principais erros de projetos C ++ encontrados em 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>