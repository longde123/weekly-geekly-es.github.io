<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∏ üíí ü§æüèæ Menjalankan IntelliJ IDEA Inspections on Jenkins üëÆ üíì ‚¨ÖÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="IntelliJ IDEA hari ini memiliki analisa kode Java statis paling canggih, yang dalam kemampuannya jauh tertinggal dari "veteran" seperti Checkstyle dan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menjalankan IntelliJ IDEA Inspections on Jenkins</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450214/"><p>  IntelliJ IDEA hari ini memiliki analisa kode Java statis paling canggih, yang dalam kemampuannya jauh tertinggal dari "veteran" seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Checkstyle</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Spotbugs</a> .  Banyak "inspeksi" memeriksa kode dalam berbagai aspek, dari gaya pengkodean hingga bug karakteristik. </p><br><p>  Namun, sementara hasil analisis hanya ditampilkan di antarmuka lokal IDE pengembang, mereka sedikit berguna untuk proses pengembangan.  Analisis statis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">harus dilakukan</a> sebagai langkah pertama dari pipa rakitan, hasilnya harus menentukan gerbang kualitas, dan rakitan harus gagal jika gerbang kualitas tidak dilewati.  TeamCity CI diketahui terintegrasi dengan IDEA.  Tetapi bahkan jika Anda tidak menggunakan TeamCity, Anda dapat mencoba menjalankan inspeksi IDEA pada server CI lainnya.  Saya mengusulkan untuk melihat bagaimana hal ini dapat dilakukan dengan menggunakan IDEA Community Edition, Jenkins dan Warnings NG plugin. </p><a name="habracut"></a><br><h2 id="shag-1-zapuskaem-analiz-v-konteynere-i-poluchaem-otchyot">  Langkah 1. Jalankan analisis dalam wadah dan dapatkan laporan </h2><br><p>  Awalnya, ide untuk memulai IDE (aplikasi desktop!) Di dalam sistem CI yang tidak memiliki antarmuka grafis bisa tampak meragukan dan sangat menyusahkan.  Untungnya, pengembang IDEA telah menyediakan kemampuan untuk menjalankan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pemformatan kode</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">inspeksi</a> dari baris perintah.  Selain itu, untuk menjalankan IDEA dalam mode ini, subsistem grafis tidak diperlukan dan tugas-tugas ini dapat dilakukan pada server dengan shell teks. </p><br><p> Inspeksi diluncurkan menggunakan <code>bin/inspect.sh</code> dari direktori instalasi IDEA.  Sebagai parameter yang diperlukan: </p><br><ul><li>  jalur penuh ke proyek (relatif tidak didukung) </li><li>  path ke file .xml dengan pengaturan inspeksi (biasanya terletak di dalam proyek di .idea / inspectionProfiles / Project_Default.xml), </li><li>  path lengkap ke folder tempat file .xml dengan laporan hasil analisis akan ditambahkan. </li></ul><br><p>  Selain itu, diharapkan hal itu </p><br><ul><li>  IDE akan mengonfigurasi jalur ke Java SDK, jika tidak, analisisnya tidak akan berfungsi.  Pengaturan ini terkandung dalam file konfigurasi <code>jdk.table.xml</code> di folder konfigurasi global IDEA.  Konfigurasi IDEA global itu sendiri terletak secara default di direktori home pengguna, tetapi lokasi ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dapat secara eksplisit ditentukan</a> dalam file <code>idea.properties</code> . </li><li>  proyek yang dianalisis harus merupakan proyek IDEA yang valid, untuk itu kontrol versi harus melakukan beberapa file yang biasanya diabaikan, yaitu: <br><ul><li>  <code>.idea/inspectionProfiles/Project_Default.xml</code> - pengaturan analisa, mereka jelas akan digunakan ketika memulai inspeksi dalam wadah, </li><li>  <code>.idea/modules.xml</code> - jika tidak kita akan mendapatkan kesalahan 'Proyek ini tidak mengandung modul', </li><li>  <code>.idea/misc.xml</code> - jika tidak kita akan mendapatkan kesalahan 'JDK tidak dikonfigurasi dengan benar untuk proyek ini', </li><li>  <code>*.iml-</code> - jika tidak kita akan mendapatkan kesalahan tentang JDK yang tidak dikonfigurasi dalam modul. </li></ul></li></ul><br><p>  Meskipun file-file ini biasanya termasuk dalam <code>.gitignore</code> , mereka tidak mengandung informasi khusus untuk lingkungan pengembang tertentu - tidak seperti, misalnya, file <code>workspace.xml</code> , di mana informasi tersebut terkandung, dan oleh karena itu tidak perlu untuk melakukan itu. </p><br><p>  Sendiri memohon cara untuk mengemas JDK bersama-sama dengan Edisi Komunitas IDEA dalam sebuah wadah dalam bentuk yang siap untuk "mengatur" proyek-proyek yang dianalisis.  Kami akan memilih wadah dasar yang sesuai, dan inilah Dockerfile yang kami dapatkan: </p><br><div class="spoiler">  <b class="spoiler_title">Dockerfile</b> <div class="spoiler_text"><pre> <code class="bash hljs">FROM openkbs/ubuntu-bionic-jdk-mvn-py3 ARG INTELLIJ_VERSION=<span class="hljs-string"><span class="hljs-string">"ideaIC-2019.1.1"</span></span> ARG INTELLIJ_IDE_TAR=<span class="hljs-variable"><span class="hljs-variable">${INTELLIJ_VERSION}</span></span>.tar.gz ENV IDEA_PROJECT_DIR=<span class="hljs-string"><span class="hljs-string">"/var/project"</span></span> WORKDIR /opt COPY jdk.table.xml /etc/idea/config/options/ RUN wget https://download-cf.jetbrains.com/idea/<span class="hljs-variable"><span class="hljs-variable">${INTELLIJ_IDE_TAR}</span></span> &amp;&amp; \ tar xzf <span class="hljs-variable"><span class="hljs-variable">${INTELLIJ_IDE_TAR}</span></span> &amp;&amp; \ tar tzf <span class="hljs-variable"><span class="hljs-variable">${INTELLIJ_IDE_TAR}</span></span> | head -1 | sed -e <span class="hljs-string"><span class="hljs-string">'s/\/.*//'</span></span> | xargs -I{} ln -s {} idea &amp;&amp; \ rm <span class="hljs-variable"><span class="hljs-variable">${INTELLIJ_IDE_TAR}</span></span> &amp;&amp; \ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> idea.config.path=/etc/idea/config &gt;&gt; idea/bin/idea.properties &amp;&amp; \ chmod -R 777 /etc/idea CMD idea/bin/inspect.sh <span class="hljs-variable"><span class="hljs-variable">${IDEA_PROJECT_DIR}</span></span> <span class="hljs-variable"><span class="hljs-variable">${IDEA_PROJECT_DIR}</span></span>/.idea/inspectionProfiles/Project_Default.xml <span class="hljs-variable"><span class="hljs-variable">${IDEA_PROJECT_DIR}</span></span>/target/idea_inspections -v2</code> </pre> </div></div><br><p>  Dengan menggunakan opsi <code>idea.config.path</code> kami memaksa IDEA untuk mencari konfigurasi globalnya di folder <code>/etc/idea</code> , karena folder home pengguna dalam kondisi CI adalah hal yang tidak ditentukan dan seringkali sama sekali tidak ada. </p><br><p>  Ini adalah bagaimana file <code>jdk.table.xml</code> disalin ke wadah terlihat seperti, di mana jalur ke OpenJDK diinstal di dalam wadah ditulis (file serupa dari direktori Anda sendiri dengan pengaturan IDEA dapat diambil): </p><br><div class="spoiler">  <b class="spoiler_title">jdk.table.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ProjectJdkTable"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdk</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"JavaSDK"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.8"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">homePath</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/usr/java"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">roots</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">annotationsPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"composite"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar://$APPLICATION_HOME_DIR$/lib/jdkAnnotations.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">annotationsPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"composite"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/charsets.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/deploy.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/access-bridge-64.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/cldrdata.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/dnsns.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/jaccess.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/jfxrt.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/localedata.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/nashorn.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/sunec.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/sunjce_provider.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/sunmscapi.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/sunpkcs11.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/ext/zipfs.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/javaws.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/jce.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/jfr.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/jfxswt.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/jsse.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/management-agent.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/plugin.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/resources.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jar:///usr/java/jre/lib/rt.jar!/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"simple"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">root</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">roots</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">additional</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jdk</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p>  Gambar yang sudah jadi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tersedia di Docker Hub</a> . </p><br><p>  Sebelum melanjutkan, periksa awal penganalisis IDEA dalam wadah: </p><br><pre> <code class="bash hljs">docker run --rm -v &lt;///&gt;:/var/project inponomarev/intellij-idea-analyzer</code> </pre> <br><p>  Analisis akan berhasil dengan sukses, dan banyak file .xml dengan laporan penganalisa akan muncul di subfolder target / idea_inspections. </p><br><p>  Sekarang tidak ada lagi keraguan bahwa IDEA dapat dijalankan secara offline di lingkungan CI apa pun, dan kami beralih ke langkah kedua. </p><br><h2 id="shag-2-otobrazhaem-i-analiziruem-otchyot">  Langkah 2. Tampilkan dan analisis laporan </h2><br><p>  Mendapatkan laporan dalam bentuk file .xml adalah setengah dari perjuangan, sekarang Anda harus membuatnya dapat dibaca oleh manusia.  Dan juga hasilnya harus digunakan di gerbang kualitas - logika menentukan apakah perubahan yang diterima melewati atau tidak lulus sesuai dengan kriteria kualitas. </p><br><p>  Ini akan membantu kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jenkins Warnings NG Plugin</a> , yang dirilis pada Januari 2019.  Dengan kemunculannya, banyak plugin individual untuk bekerja dengan hasil analisis statis di Jenkins (CheckStyle, FindBugs, PMD, dll.) Sekarang ditandai sebagai usang. </p><br><p>  Plugin terdiri dari dua bagian: </p><br><ul><li>  banyak pengumpul pesan penganalisa ( <a href="">daftar lengkap</a> mencakup semua penganalisa yang diketahui dari AcuCobol hingga ZPT Lint), </li><li>  penampil tunggal untuk mereka semua. </li></ul><br><p>  Daftar yang bisa dianalisis NG Peringatan mencakup peringatan dari kompiler Java dan peringatan dari log runtime Maven: meskipun mereka selalu terlihat, jarang dianalisis dengan sengaja.  Laporan IntelliJ IDEA juga termasuk dalam daftar format yang dikenal. </p><br><p>  Karena plugin ini baru, awalnya berinteraksi dengan baik dengan Jenkins Pipeline.  Langkah perakitan dengan partisipasinya akan terlihat seperti ini (kami hanya memberi tahu plug-in format laporan mana yang kami kenali dan file mana yang harus dipindai): </p><br><pre> <code class="plaintext hljs">stage ('Static analysis'){ sh 'rm -rf target/idea_inspections' docker.image('inponomarev/intellij-idea-analyzer').inside { sh '/opt/idea/bin/inspect.sh $WORKSPACE $WORKSPACE/.idea/inspectionProfiles/Project_Default.xml $WORKSPACE/target/idea_inspections -v2' } recordIssues( tools: [ideaInspection(pattern: 'target/idea_inspections/*.xml')] ) }</code> </pre> <br><p>  Antarmuka laporan terlihat seperti ini: </p><br><p><img src="https://habrastorage.org/webt/f9/sl/at/f9slatguudcvphteuhb7ryhxydm.png"></p><br><p>  Mudahnya, antarmuka ini bersifat universal untuk semua analis yang dikenal.  Ini berisi diagram interaktif distribusi temuan berdasarkan kategori dan grafik dinamika perubahan jumlah penemuan.  Di kisi di bagian bawah halaman, Anda dapat melakukan pencarian cepat.  Satu-satunya hal yang IDEA tidak berhasil untuk inspeksi adalah kemampuan untuk menelusuri kode secara langsung di Jenkins (walaupun untuk laporan lain, misalnya Checkstyle, plugin ini dapat melakukannya dengan indah).  Ini tampaknya merupakan bug pengurai laporan IDEA untuk diperbaiki. </p><br><p>  Di antara kemampuan Peringatan NG adalah kemampuan untuk mengumpulkan temuan dari berbagai sumber dalam satu laporan dan program Quality Gates, termasuk ratchet untuk rakitan referensi.  Beberapa dokumentasi pemrograman Quality Gates tersedia di <a href="">sini</a> - namun, itu tidak lengkap, dan Anda harus melihat sumbernya.  Di sisi lain, untuk kontrol penuh atas apa yang terjadi, "ratchet" dapat diimplementasikan secara independen (lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting</a> saya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> tentang topik ini). </p><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Sebelum mulai menyiapkan materi ini, saya memutuskan untuk mencari: apakah ada orang yang sudah menulis tentang topik ini di Habr√©?  Saya hanya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wawancara 2017</a> dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">lany di</a> mana dia mengatakan: </p><br><blockquote>  Sejauh yang saya tahu, tidak ada integrasi dengan Jenkins atau plugin pakar [...] Pada prinsipnya, setiap penggemar bisa berteman dengan IDEA Community Edition dan Jenkins, banyak yang akan mendapat manfaat dari ini. <br></blockquote><p>  Ya: dua tahun kemudian, kita memiliki Plugin Peringatan NG, dan akhirnya persahabatan ini menjadi kenyataan! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450214/">https://habr.com/ru/post/id450214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450200/index.html">"Berkontribusi pada ekosistem Samsung!" - Persaingan ide. Hadiah Utama - Galaxy S10</a></li>
<li><a href="../id450202/index.html">Python dalam Visual Studio Code. Edisi April</a></li>
<li><a href="../id450206/index.html">Kiat untuk pengembang pemula</a></li>
<li><a href="../id450208/index.html">Qbot kembali. Varonis memperkenalkan analisis terperinci dari Trojan Qbot perbankan</a></li>
<li><a href="../id450210/index.html">Sebarkan sayap Anda: bagaimana pengawasan video membantu ornitolog menyelamatkan burung langka</a></li>
<li><a href="../id450216/index.html">Liburan atau liburan?</a></li>
<li><a href="../id450222/index.html">5 layanan pemasaran digital keren tidak terdengar di Rusia</a></li>
<li><a href="../id450228/index.html">10 mitos tentang rabies</a></li>
<li><a href="../id450230/index.html">Anda bukan google</a></li>
<li><a href="../id450232/index.html">Sistem pemurnian air reverse osmosis - besar atau tidak?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>