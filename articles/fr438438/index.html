<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤾🏼 🙌🏼 🍬 Nourriture pour perroquets Bitrix. Nous testons les performances, sélectionnons le fer 🙃 🚊 🧙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout le monde a besoin de perroquets Bitrix, et plus encore. Je travaille en tant qu'administrateur dans une société d'hébergement et je rencontre con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nourriture pour perroquets Bitrix. Nous testons les performances, sélectionnons le fer</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/first/blog/438438/"><img src="https://habrastorage.org/webt/f6/tg/tk/f6tgtkhi__miuivkcydwhvnkdtc.jpeg"><br><br>  Tout le monde a besoin de perroquets Bitrix, et plus encore.  Je travaille en tant qu'administrateur dans une société d'hébergement et je rencontre constamment de telles demandes.  Finissons-en une fois pour toutes - dans cet article, vous trouverez la réponse sur la façon dont le matériel affecte les performances du CMS Bitrix (réel et "perroquet").  Nous effectuerons des tests et sélectionnerons plusieurs configurations de serveur. <br><a name="habracut"></a><br>  <b>Objectifs de recherche:</b> <br><br><ul><li>  Identifier la relation entre les caractéristiques du matériel et les indicateurs de performance de Bitrix (perroquets), ainsi que la vitesse réelle d'exécution des requêtes. </li><li>  Déterminez la dynamique des changements de performances résultant de la modification de la configuration matérielle du serveur. </li><li>  Choisissez les options de configuration du serveur. </li></ul><br>  <b>Conditions d'essai:</b> <br><br><ul><li>  CMS «1C-Bitrix: Site Management» version 18.0.4, édition de «Standard» en encodage utf-8. </li><li>  OS Debian 9.5 à partir de l'image netinstall. </li><li>  nginx + php-fpm </li><li>  MariaDB 10.1 </li><li>  php 7.0 </li><li>  Les réglages sont effectués pour le passage correct de la «vérification du système», pstate est désactivé, acpi-cpufreq est en mode performance. </li><li>  La vitesse d'exécution des requêtes est mesurée par l'utilitaire ab. </li></ul><br><h3>  Alors, avec quoi nourrir les perroquets? </h3><br>  <b>Méthodologie</b> <br><br>  Pour identifier la dépendance des performances de Bitrix sur les performances du processeur et de la RAM, nous utilisons la configuration suivante: <br><br>  Processeur: Intel Core i7-3770K CPU @ 3.50GHz <br>  Mémoire: DDR3 Samsung 1600 MHz (M378B5273DH0-CH9) <br>  SSD: OCZ-VERTEX4 128 Go MLC <br>  Disque dur: WD5000AAVS-00ZTB0 <br><br>  Cette configuration vous permet de modifier la fréquence du processeur sur une large plage, ce qui signifie que vous n'avez pas besoin de remplacer le processeur plusieurs fois.  Pour modifier la fréquence, utilisez l'utilitaire de définition de fréquence.  Le pilote intel_pstate ne vous permet pas de contrôler la fréquence, il est donc désactivé. <br><br>  Nous effectuons des mesures avec un pas de 400 Hz.  En plus des indicateurs de performance Bitrix, nous mesurons le nombre de requêtes de la page principale que le serveur peut exécuter en une seconde.  Pour mesurer les indicateurs de performance lors de l'utilisation d'un disque dur, une réplique d'un système précédemment configuré est créée sur le disque dur et les indicateurs sont collectés à la fréquence maximale. <br><br><h3>  Résultats: nous nourrissons les perroquets avec la fréquence et demandons la vitesse avec les noyaux </h3><br>  Voici les graphiques que j'ai obtenus: <br><br><img src="https://habrastorage.org/webt/bf/fr/gi/bffrgifz8cr6hzlis-xczctj84k.png"><br><br><img src="https://habrastorage.org/webt/9x/_y/bx/9x_ybxjcre1c63bphmlb_trwq5g.png"><br><br><img src="https://habrastorage.org/webt/xi/ou/ep/xiouepgmavrhxc1xwn-bem7v2hg.png"><br><br><img src="https://habrastorage.org/webt/7h/nn/qj/7hnnqj4fymi4clyz104gzzwsvbg.png"><br><br><img src="https://habrastorage.org/webt/z2/za/-5/z2za-5qfbl--wv5l8qtj6pufy4a.png"><br><br>  Par lien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pdf avec toutes les données sous forme de graphiques et de tableaux</a> .  Plus des données supplémentaires sur la dépendance des indicateurs du système de fichiers et de la base de données sur le nombre de cœurs et la fréquence du processeur. <br><br>  Selon les données obtenues, les <b>conclusions</b> suivantes peuvent être <b>tirées</b> : <br><br><ul><li>  <b>Le nombre de perroquets</b> augmente avec la fréquence du processeur et ne dépend pas des performances du disque.  Avec une augmentation du nombre de cœurs de processeur, cet indicateur diminue. </li><li>  <b>La vitesse d'exécution des requêtes</b> dépend de la fréquence du processeur et du nombre de cœurs.  Nous considérons cet indicateur comme le plus important, car  cela dépend des performances du site avec un nombre élevé de visiteurs. </li><li>  <b>La métrique «File System»</b> est indépendante des performances du disque.  Une légère augmentation de l'indicateur sur le graphique est une erreur.  L'indicateur augmente avec l'augmentation de la fréquence. </li><li>  Les performances du disque dépendent des métriques <b>«base de données MySQL (enregistrement)»</b> , <b>«base de données MySQL (modification)»</b> et de la <b>vitesse des requêtes http</b> . </li><li>  L'indicateur <b>"Base de données MySQL (lecture)"</b> cesse d'augmenter après deux cœurs.  La présence de plus de deux cœurs n'est pas reflétée dans le test de performance Bitrix. </li><li>  La fréquence de la RAM n'affecte pas les <b>performances</b> .  Nous avons effectué des tests, mais la métrique n'a pas changé lorsque la fréquence a changé. </li></ul><br><h3>  Nous sélectionnons le fer </h3><br>  Compte tenu des données reçues, nous collectons plusieurs serveurs et vérifions leurs performances.  Pour confirmer ou réfuter la théorie résultante, j'ai pris trois configurations peu coûteuses avec différentes fréquences et nombre de cœurs.  Et quelques serveurs supplémentaires, où il y a plus de cœurs. <br><br><ul><li>  E3-1270v6 </li><li>  E5-2620v4 </li><li>  E5-1650v4 </li><li>  E5-2640v4 </li><li>  2xE5-2699 </li></ul><br>  Pour ces serveurs, la fréquence sera définie automatiquement (intel_pstate est activé en mode performance), le tableau indique la fréquence maximale en fonction des spécifications du processeur. <br><br>  <b>Que recherchons-nous?</b> <br><br><ul><li>  Serveur pour grands perroquets. </li><li>  Serveur pour un taux élevé de vitesse d'exécution des requêtes de site. </li><li>  L'équilibre entre perroquets et performances réelles. </li><li>  Serveur pour une exécution plus rapide des requêtes, pour un projet plus chargé </li><li>  Serveur pour une vitesse d'exécution des requêtes encore plus grande, pour un projet très chargé </li></ul><br>  La théorie a été confirmée ↓ <br><br><img src="https://habrastorage.org/webt/i6/g0/4q/i6g04qnknst2vuknva0ft5ofdwm.jpeg"><br><br><img src="https://habrastorage.org/webt/xk/ba/04/xkba04gfv-ar2zxtlzy4lx0q2rw.png"><br><br>  Les indicateurs de performance correspondent à des schémas précédemment identifiés.  Plus la fréquence est élevée, plus le score Bitrix est élevé.  Et si vous avez besoin d'un serveur capable de servir un grand nombre de visiteurs, vous devez choisir plus de cœurs avec la fréquence de base la plus élevée possible. <br><br>  Utilisé dans l'article de configuration avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1dedic.ru</a> .  Les serveurs sur E5-2640v4 et 2xE5-2699v4 peuvent être <b>commandés avec une remise de 10% pendant 2 mois</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contactez le service commercial</a> avec la phrase secrète "Besoin d'un serveur pour Bitrix pour des performances réelles".  Lors du paiement de l'année moins 10% supplémentaires. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438438/">https://habr.com/ru/post/fr438438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438426/index.html">Retour aux microservices avec Istio. Partie 1</a></li>
<li><a href="../fr438428/index.html">Les agences gouvernementales ont trouvé un moyen de saboter les logiciels nationaux</a></li>
<li><a href="../fr438430/index.html">Je suis coincé! Ou comment surmonter l'effet plateau en apprenant l'anglais</a></li>
<li><a href="../fr438434/index.html">Hacker Lab: P1. Libssh auth bypass</a></li>
<li><a href="../fr438436/index.html">L'idée de fournir aux employés un accès temporaire aux ressources des clients sans avoir à refaire briller les mots de passe</a></li>
<li><a href="../fr438442/index.html">Transférer les demandes d'Apache vers Payara Server 5 dans Ubuntu</a></li>
<li><a href="../fr438446/index.html">Benchmark comme base pour décider d'un changement de code</a></li>
<li><a href="../fr438448/index.html">De quoi le haut-parleur PC est capable</a></li>
<li><a href="../fr438450/index.html">Pourquoi le modèle de politique de confidentialité ne vous convient-il pas?</a></li>
<li><a href="../fr438454/index.html">OpenSceneGraph: Niveaux de détail (LOD) et chargement d'arrière-plan des objets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>