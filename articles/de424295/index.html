<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí§ üôá üë®üèæ‚Äçüåæ MIT-Kurs "Computer Systems Security". Vorlesung 9: ‚ÄûSicherheit von Webanwendungen‚Äú, Teil 2 ü•î üò© üòÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 9: ‚ÄûSicherheit von Webanwendungen‚Äú, Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424295/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vortr√§ge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gef√§hrden, und Sicherheitstechniken, die auf j√ºngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen geh√∂ren Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: ‚ÄûEinf√ºhrung: Bedrohungsmodelle‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: ‚ÄûKontrolle von Hackerangriffen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: ‚ÄûPuffer√ºberl√§ufe: Exploits und Schutz‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: ‚ÄûTrennung von Privilegien‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: ‚ÄûWoher kommen Sicherheitssysteme?‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: ‚ÄûChancen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: ‚ÄûNative Client Sandbox‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: ‚ÄûNetzwerksicherheitsmodell‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 9: ‚ÄûSicherheit von Webanwendungen‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  Zum Beispiel nimmt Django diese spitzen Klammern, √ºbersetzt sie in HTML-Form und wiederholt den Rest der Zeichen.  Das hei√üt, wenn der benutzerdefinierte Namenswert spitze Klammern, doppelte Anf√ºhrungszeichen und dergleichen enth√§lt, werden alle diese Zeichen ausgeschlossen.  Dadurch wird der Inhalt auf der Client-Browserseite nicht als HTML-Code interpretiert. <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  Jetzt wissen wir also, dass dies keine sehr zuverl√§ssige Verteidigung gegen einige Cross-Site-Scripting-Angriffe ist.  Der Grund, wie wir im Beispiel gezeigt haben, ist, dass diese Grammatiken f√ºr HTML, CSS und JavaScript so komplex sind, dass sie den Browser-Parser sehr leicht verwirren k√∂nnen. <br><br>  Zum Beispiel haben wir eine sehr h√§ufige Sache im Rahmen von Django gemacht.  Sie haben also eine div-Funktion, und wir m√∂chten eine dynamische Klasse daf√ºr festlegen.  Wir geben der Klasse den Wert var und so weiter und so fort.  Die Idee ist, dass Django, wenn er dies verarbeitet, herausfinden muss, was der aktuelle Stil ist, und ihn dann hier einf√ºgen muss. <br><br>  In diesem Fall kann ein Angreifer eine Zeichenfolge erstellen, die diese Klasse definiert, z. B. "Klasse 1" schreibt.  Bis zu diesem Punkt l√§uft alles gut, da es sich um einen g√ºltigen CSS-Ausdruck handelt. <br><br>  Aber dann setzt der Angreifer hier den Onclick-Operator, der dem JavaScript-Code entspricht, der den Systemaufruf ausf√ºhrt. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Da dies falsch ist, sollte der Browser hier einfach anhalten.  Das Problem ist jedoch, dass, wenn Sie jemals den HTML-Code einer echten Webseite gesehen haben, alles kaputt und verwirrt ist, selbst bei legitimen, "freundlichen" Websites.  Wenn der Browser also vor jedem fehlerhaften HTML-Ausdruck stoppt, funktioniert keine einzelne Site, die Ihnen gef√§llt, einfach nie.  Wenn Sie jemals von der Welt entt√§uscht werden m√∂chten und ich Ihnen nicht genug geholfen habe, √∂ffnen Sie einfach die JavaScript-Konsole in Ihrem Browser, wenn Sie die Website anzeigen, um zu sehen, wie viele Fehler Sie erhalten. <br><br>  Sie k√∂nnen beispielsweise zu CNN gehen und sehen, wie viele Fehler Sie erhalten.  Ja, im Grunde funktioniert CNN, aber sehr ungleichm√§√üig.  Um beispielsweise den Acrobat Reader zu √∂ffnen, m√ºssen Sie st√§ndig Nullzeigerausnahmen ausl√∂sen, und gleichzeitig f√ºhlen Sie sich vom Leben ein wenig get√§uscht.  Aber im Internet haben wir gelernt, dies ohne gro√üe Emp√∂rung zu akzeptieren. <br>  Da Browser gegen√ºber solchen Dingen sehr tolerant sein sollten, werden sie versuchen, b√∂sartigen Code in etwas zu verwandeln, das ihnen vern√ºnftig erscheint.  Und das ist die Sicherheitsl√ºcke. <br><br>  So funktioniert die Desinfektion von Inhalten und sie ist immer noch besser als nichts.  Sie kann viele sch√§dliche Dinge fangen, sich aber nicht gegen alles verteidigen. <br><br>  Es gibt noch etwas zu bedenken - die Verwendung einer weniger ausdrucksstarken Auszeichnungssprache.  Mal sehen, was gemeint ist. <br><br>  <b>Zielgruppe:</b> Was soll ich tun, wenn die Inhaltsbereinigung nicht funktioniert? <br><br>  <b>Professor:</b> Ja, das ist zum Beispiel m√∂glich. In diesem Fall kann Django statisch nicht feststellen, dass es schlecht ist.  Zum Beispiel in diesem speziellen Fall.  Aber in dem Fall, wenn ich ein b√∂sartiges Bild-Tag einf√ºge ... <br><br>  <b>Teilnehmerin:</b> In diesem speziellen Fall w√ºrde ich erwarten, dass die Klassenzuordnung in Anf√ºhrungszeichen steht und in diesem Fall keine Auswirkungen haben sollte ... <br><br>  <b>Professor:</b> Nun, Sie sehen, es gibt kleine Tricks.  Unter der Annahme, dass die Grammatik von HTML und CSS sorgf√§ltig definiert ist, k√∂nnen Sie sich eine Welt vorstellen, in der ideale Parser diese Probleme irgendwie erfassen oder in normale Dinge umwandeln k√∂nnten.  Tats√§chlich leiden HTML-Grammatik und CSS-Grammatik unter Ungenauigkeiten.  Dar√ºber hinaus implementieren Browser keine Spezifikationen.  Wenn Sie weniger ausdrucksstarke Grammatik verwenden, ist es f√ºr uns daher viel einfacher, den Inhalt zu bereinigen. <br><br>  Hier wird der Begriff Markdown verwendet - "leicht lesbares Markup" anstelle des Begriffs Markup - gew√∂hnliches Markup.  Die Hauptidee von Markdown ist, dass es als eine Sprache konzipiert ist, die es Benutzern beispielsweise erm√∂glicht, Kommentare zu ver√∂ffentlichen, jedoch nicht die M√∂glichkeit enth√§lt, ein leeres Tag, Applet-Unterst√ºtzung und dergleichen zu verwenden.  Daher ist es in Markdown viel einfacher, die Grammatik eindeutig zu identifizieren und dann einfach anzuwenden. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  Die Desinfektion ist in einer einfachen Sprache viel einfacher als in HTML, CSS und JavaScript.  In gewisser Weise ist dies wie der Unterschied zwischen dem Verst√§ndnis von C-Code und Python-Code.  Es ist wirklich ein gro√üer Unterschied, eine ausdrucksst√§rkere Sprache zu verstehen.  Durch die Einschr√§nkung der Ausdruckskraft verbessern Sie daher h√§ufig die Sicherheit. <br><br>  Zum Schutz vor Cross-Site-Scripting-Angriffen wird auch CSP (Content Security Policy) verwendet.  Die Idee von CSP ist, dass es dem Webserver erlaubt ... <br>  Teilnehmerin: Ich bin nur neugierig, etwas √ºber diese Markdown-Sprache herauszufinden.  K√∂nnen alle Browser eine Sprachanalyse durchf√ºhren? <br><br>  <b>Professor:</b> nein, nein, nein.  Sie k√∂nnen einfach verschiedene Arten von Sprachen in HTML konvertieren, aber Browser verstehen sie nicht in ihrer urspr√ºnglichen Form.  Mit anderen Worten, Sie haben ein Kommentarsystem, das Markdown verwendet.  Das hei√üt, die Kommentare werden vor dem Anzeigen auf der Seite an den Markdown-Compiler gesendet, der sie in das HTML-Format √ºbersetzt. <br><br>  <b>Teilnehmerin:</b> Warum also nicht immer Markdown verwenden? <br><br>  <b>Professor: Mit</b> Markdown k√∂nnen Sie eingebettetes HTML verwenden. Soweit ich wei√ü, gibt es eine M√∂glichkeit, es im Compiler zu deaktivieren.  Aber da k√∂nnte ich mich irren.  Tatsache ist, dass es nicht immer m√∂glich ist, eine begrenzte Sprache zu verwenden, und das will nicht jeder. <br><br>  Lassen Sie uns also die Diskussion dar√ºber fortsetzen, wie die Sicherheit mithilfe der Inhaltssicherheitsrichtlinie erh√∂ht werden kann.  Mit dieser Richtlinie kann der Server dem Webbrowser mitteilen, welche Arten von Inhalten auf die zur√ºckgesendete Seite geladen werden k√∂nnen und woher diese Inhalte stammen sollen. <br><br>  In der HTTP-Antwort kann der Server beispielsweise Folgendes verwenden: Er enth√§lt den Header "Inhalt - Sicherheit - Richtlinie", die Standardquelle ist "Selbst" und empf√§ngt Daten von * .mydomain.com. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Mit dem Betreiber selbst gibt der Server an, dass der Inhalt dieser Website nur aus der Domain einer bestimmten Seite oder einer Subdomain von mydomain.com stammen soll.  Dies bedeutet, dass der Server diese Seite an den Browser zur√ºcksenden w√ºrde, wenn wir eine Selbstbindung an foo.com h√§tten. <br><br>  Angenommen, ein Cross-Site-Scripting-Angriff versucht, einen Link zu bar.com zu erstellen.  In diesem Fall erkennt der Browser, dass bar.com nicht selbst und keine Domain von mydomain.com ist, und √ºberspringt diese Anfrage nicht weiter.  Dies ist ein ziemlich leistungsf√§higer Mechanismus, mit dem Sie detailliertere Steuerelemente festlegen k√∂nnen.  Sie legen Parameter fest, die angeben, dass Ihre Bilder aus einer solchen und einer solchen Quelle stammen sollen, Skripte aus einer solchen und einer solchen Quelle und so weiter.  Es ist eigentlich bequem. <br><br>  Dar√ºber hinaus verhindert diese Richtlinie tats√§chlich eingebettetes JavaScript, sodass Sie das Tag nicht √∂ffnen, keine Skripte schreiben und das Tag schlie√üen k√∂nnen, da alles, was zum Browser gelangen kann, nur aus einer bedingten Quelle stammen sollte.  CSP verhindert gef√§hrliche Dinge wie die Verwendung des Arguments f√ºr die Funktion eval (), mit der eine Webseite dynamisch generierten JavaScript-Code ausf√ºhren kann.  Wenn also der CSP-Header gesetzt ist, f√ºhrt der Browser eval () nicht aus. <br><br>  <b>Teilnehmerin:</b> Ist das alles, vor dem CSP sch√ºtzt? <br><br>  <b>Professor:</b> nein.  Es gibt eine ganze Liste von Ressourcen, die tats√§chlich gesch√ºtzt werden, und Sie k√∂nnen den Schutz gegen viele unerw√ºnschte Dinge konfigurieren. Geben Sie beispielsweise an, wo ausgehendes CSS und eine Reihe anderer Dinge akzeptiert werden d√ºrfen. <br><br>  <b>Teilnehmerin:</b> Aber neben eval () gibt es noch andere Dinge, die die Sicherheit bedrohen? <br><br>  <b>Professor:</b> Ja, sie existieren.  Daher stellt sich immer die Frage nach der Vollst√§ndigkeit des Schutzes.  So kann beispielsweise nicht nur eval dynamisch JavaScript-Code generieren.  Es gibt auch einen Konstruktor von Funktionen, es gibt bestimmte M√∂glichkeiten, ein bestimmtes Zeitlimit aufzurufen, Sie gehen zur Zeile und k√∂nnen den Code auf diese Weise analysieren.  CSP kann alle diese gef√§hrlichen Angriffsmethoden deaktivieren.  Dies ist jedoch kein Allheilmittel f√ºr die vollst√§ndige Isolierung b√∂swilliger Exploits. <br><br>  <b>Zielgruppe:</b> Stimmt es, dass CSP so konfiguriert werden kann, dass nicht alle internen Skripts auf der Seite √ºberpr√ºft werden? <br><br>  <b>Professor:</b> Ja, es hilft, die Ausf√ºhrung von dynamisch generiertem Code zu verhindern, w√§hrend der eingebettete Code ignoriert werden sollte.  Der Browser sollte den Code immer aus dem Quellattribut abrufen.  Eigentlich wei√ü ich nicht, ob dies alle Browser tun.  Pers√∂nliche Erfahrungen zeigen, dass Browser unterschiedliche Verhaltensweisen aufweisen. <br><br>  Im Allgemeinen ist die Internetsicherheit den Naturwissenschaften √§hnlich, daher stellen die Leute nur Theorien dar√ºber auf, wie Browser funktionieren.  Und dann sehen Sie, wie das tats√§chlich passiert.  Und das wirkliche Bild kann entt√§uschen, weil uns beigebracht wird, dass es Algorithmen, Beweise und dergleichen gibt.  Diese Browser verhalten sich jedoch so schlecht, dass die Ergebnisse ihrer Arbeit nicht vorhersehbar sind. <br><br>  Browser-Entwickler versuchen, Angreifern einen Schritt voraus zu sein, und weiter unten in der Vorlesung sehen Sie Beispiele daf√ºr.  In der Tat ist CSP eine ziemlich coole Sache. <br><br>  Eine weitere n√ºtzliche Sache ist, dass der Server einen HTTP-Header namens X-Content-Type-Options setzen kann, dessen Wert nosniff ist. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Dieser Header verhindert, dass MIME die Antwort vom angek√ºndigten Inhaltstyp verwirft, da der Header den Browser anweist, den Antwortinhaltstyp nicht zu √ºberschreiben.  Wenn der Server mit der Option nosniff angibt, dass der Inhalt Text / HTML ist, zeigt der Browser ihn als Text / HTML an. <br>  Einfach ausgedr√ºckt, dieser Header verhindert, dass der Browser die Antwort des deklarierten Inhaltstyps "schn√ºffelt", sodass die Situation nicht eintritt, wenn der Browser sagt: "Ja, ich habe die Nicht√ºbereinstimmung zwischen der Dateierweiterung und dem tats√§chlichen Inhalt festgestellt, sodass ich diesen Inhalt in einen anderen verst√§ndlichen Inhalt umwandle." mir eine Sache. "  Es stellt sich heraus, dass Sie den Barbaren pl√∂tzlich die Schl√ºssel zum K√∂nigreich gegeben haben. <br><br>  Wenn Sie diesen Header festlegen, weisen Sie den Browser daher an, so etwas nicht zu tun.  Dies kann die Auswirkungen bestimmter Arten von Angriffen erheblich abschw√§chen.  Hier finden Sie eine kurze √úbersicht √ºber einige Sicherheitsl√ºcken bei Cross-Site-Scripting-Angriffen. <br><br>  Schauen wir uns nun einen anderen beliebten Angriffsvektor an - SQL.  Sie haben wahrscheinlich von Angriffen geh√∂rt, die als "SQL-Injection" - oder SQL-Injection-Attacke bezeichnet werden.  Das Wesentliche dieser Angriffe ist die Verwendung der Website-Datenbank.  Um die dem Benutzer angezeigte Seite dynamisch zu erstellen, werden Datenbankabfragen ausgegeben, die an diesen internen Server gesendet werden.  Stellen Sie sich vor, Sie m√ºssen alle Werte aus einer bestimmten Tabelle ausw√§hlen, wobei das Feld Benutzer-ID dem entspricht, was im Internet aus einer m√∂glicherweise unzuverl√§ssigen Quelle ermittelt wurde. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Wir alle wissen, wie diese Geschichte enden wird - sie wird sehr schlecht enden, es wird keine √úberlebenden geben.  Denn was aus einer nicht √ºberpr√ºften Quelle stammt, kann viel √Ñrger verursachen.  Alternativ k√∂nnen Sie der Benutzer-ID den folgenden Wert geben: Benutzer-ID = ‚Äú0;  TABELLE L√ñSCHEN ‚Äú. <br><br>  Was wird hier also passieren?  Grunds√§tzlich sagt die Serverdatenbank: "OK, ich setze die Benutzer-ID auf Null und f√ºhre dann den Befehl" Tabelle l√∂schen "aus."  Und das war's, du bist fertig! <br><br>  Sie sagen, dass vor ein paar Jahren ein bestimmtes virales Bild aufgetaucht ist.  Einige Leute in Deutschland installierten Nummernschilder an Autos, auf denen 0 stand;  TABELLE L√ñSCHEN.  Die Idee war, dass Stra√üenkameras OCR verwenden, um Ihre Nummer zu erkennen und diese Nummer dann in die Datenbank aufzunehmen.  Im Allgemeinen haben die Leute von Volkswagen beschlossen, diese Sicherheitsanf√§lligkeit auszunutzen, indem sie b√∂sartigen Code auf ihre Nummern setzen. <br><br>  Ich wei√ü nicht, ob das funktioniert hat, weil es lustig klingt.  Aber ich w√ºrde gerne glauben, dass dies wahr ist.  Also wiederhole ich noch einmal - die Idee der Desinfektion besteht darin, die Ausf√ºhrung von Inhalten aus nicht vertrauensw√ºrdigen Quellen auf Ihrer Website zu verhindern. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Achten Sie daher darauf, dass es einige einfache Dinge gibt, die nicht so funktionieren, wie sie sollten.  Sie k√∂nnten also denken: "Nun, warum kann ich nicht einfach ein weiteres Zitat am Anfang der Zeile und ein weiteres am Ende einf√ºgen, um die Ausf√ºhrung von Schadcode des Angreifers auszuschlie√üen, der zwischen dreifachen Anf√ºhrungszeichen eingeschlossen ist?" <br><br>  Benutzer-ID = '‚Äú+ Benutzer-ID +'‚Äú <br><br>  Dies funktioniert jedoch nicht, da ein Angreifer immer einfach Anf√ºhrungszeichen in die angreifende Zeichenfolge einf√ºgen kann.  In den meisten F√§llen bringt Ihnen ein solches "halbes Hacken" nicht so viel Sicherheit, wie Sie erwarten. <br><br>  Die L√∂sung hier ist, dass Sie Ihre Daten sorgf√§ltig verschl√ºsseln m√ºssen.  Und ich wiederhole noch einmal: Wenn Sie Informationen von einer unzuverl√§ssigen Quelle erhalten, f√ºgen Sie sie nicht in der Form in das System ein, in der sie vorliegen.  Stellen Sie sicher, dass es nicht aus der Sandbox springen kann, wenn Sie es dort ablegen, um einen b√∂swilligen Exploit auszuf√ºhren. <br><br>  Sie m√∂chten beispielsweise eine Escape-Funktion einf√ºgen, um die Verwendung des Rohkommaoperators zu verhindern.  Zu diesem Zweck verf√ºgen viele Web-Frameworks, wie z. B. Django, √ºber integrierte Bibliotheken, mit denen Sie SQL-Abfragen vermeiden k√∂nnen, um solche Ereignisse zu verhindern.  Diese Frameworks ermutigen Entwickler, niemals direkt mit der Datenbank zu interagieren.  Zum Beispiel bietet Django selbst eine √ºbergeordnete Oberfl√§che, die Sie desinfiziert. <br><br>  Aber die Leute k√ºmmern sich immer um die Leistung, und manchmal denken die Leute, dass diese Web-Frameworks zu langsam sind.  Wie Sie gleich sehen werden, werden die Benutzer immer noch unformatierte SQL-Abfragen durchf√ºhren, was zu Problemen f√ºhren kann. <br><br>  Probleme k√∂nnen auftreten, wenn der Webserver Pfadnamen von nicht vertrauensw√ºrdigen Bildern akzeptiert.  Stellen Sie sich vor, Sie machen irgendwo auf Ihrem Server etwas √Ñhnliches: √ñffnen Sie mit "www / images /" + Dateiname, wobei Dateiname durch etwas wie ... / ... / ... / ... / dargestellt wird. etc / Passwort. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Das hei√üt, Sie geben den Befehl, das Bild an dieser Adresse aus einer nicht vertrauensw√ºrdigen Benutzerdatei zu √∂ffnen, was Ihnen in Wirklichkeit ernsthaften Schaden zuf√ºgen kann.  Wenn Sie also einen Webserver oder ein Webframework verwenden m√∂chten, sollten Sie in der Lage sein, diese gef√§hrlichen Zeichen zu erkennen und zu vermeiden, um die Ausf√ºhrung dieser nicht behandelten Befehle zu verhindern. <br><br>  Machen wir eine Pause von der Diskussion √ºber die Desinfektion von Inhalten und sprechen wir ein wenig √ºber Cookies.  Cookies sind eine sehr beliebte Methode zum Verwalten von Sitzungen, um einen Benutzer an bestimmte Ressourcen zu binden, die auf der Serverseite vorhanden sind.  Viele Frameworks wie Django oder Zoobar, die Sie sp√§ter kennenlernen werden, f√ºgen tats√§chlich eine zuf√§llige Sitzungskennung in Cookies ein.  Die Idee ist, dass diese Sitzungs-ID ein Index in einer Art serverseitiger Tabelle ist: <br><br>  Tabelle [Sitzungs-ID] = Benutzerinformationen. <br><br>  Das hei√üt, die Sitzungskennung entspricht einigen Benutzerinformationen.  Infolgedessen sind diese Sitzungs-ID und Cookies in ihrer Erweiterung sehr sensible Teile.  Viele Angriffe beinhalten den Diebstahl von Cookies, um diese Sitzungs-ID zu erhalten.  Wie wir in unserer letzten Vorlesung besprochen haben, kann Ihnen dieselbe Politik derselben Herkunftsquelle in gewissem Ma√üe gegen einige dieser Cookie-Diebstahl-Angriffe helfen.  Weil es Regeln gibt, die auf derselben Ursprungsrichtlinie basieren und die willk√ºrliche √Ñnderung von Cookies verhindern. <br><br>  Die Subtilit√§t besteht darin, dass Sie eine Domain oder Subdomain nicht mit jemandem teilen sollten, dem Sie nicht vertrauen.  Denn wie bereits in der letzten Vorlesung erw√§hnt, gibt es Regeln, nach denen zwei Dom√§nen oder Subdom√§nen desselben Ursprungs auf die Cookies der anderen zugreifen k√∂nnen.  Wenn Sie einer Domain vertrauen, der Sie nicht vertrauen sollten, kann diese m√∂glicherweise direkt die Sitzungskennung in diesen Cookies festlegen, auf die Sie beide Zugriff haben.  Auf diese Weise kann der Angreifer den Benutzer zwingen, die Sitzungskennung nach Wahl des Angreifers zu verwenden. <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Angenommen, ein Angreifer setzt ein Google Mail-Benutzercookie.  Ein Benutzer meldet sich bei Google Mail an und gibt einige Buchstaben ein.  Ein Angreifer kann dann dieses Cookie verwenden, insbesondere diese Sitzungskennung verwenden, Google Mail herunterladen und dann auf Google Mail zugreifen, als w√§re er ein Opferbenutzer.  Daher gibt es viele Feinheiten, die Sie mit diesen Cookies tun k√∂nnen, um Ihre Sitzungen zu verwalten.  Wir werden einige von ihnen heute und in nachfolgenden Vortr√§gen diskutieren. <br><br>  Vielleicht denkst du, du kannst Cookies einfach loswerden?  Schlie√ülich bringen sie mehr Probleme als Vorteile.  Warum kannst du sie nicht ablehnen? <br><br>   stateless cookie,  ¬´   ¬ª,  -             , ,  ,     . <br><br> ,     ,        ,     .      ,       .  ,    ,            .        , ,  ,         ,  . <br><br>      ‚Äî     MA ‚Äî Message Authentication Codes,    .   ,  .       HCK  -  m.     ,  ,          K.  ,        ,     .   ,     ,          . <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>     ,   .    ,   stateless cookie,    Amazon, , x3.   - Amazon,   AWS,     .  ‚Äì    K,  ‚Äì   AWS,    . <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>    ,       AWS  HTTP,       . <br><br> ,        ,   ,      : <br><br> GET /photos/ cat; .jpg HTTP/1.1,        -  AWS: <br><br> HOST: ‚Äî - ‚Äî - ‚Äî ,     , : <br><br> DATE: Mon, June 4,            ,  ,     .    ,   ID ,  ,     ,   . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>      ?       ,        3-  . <br><br>  ,   String To Sign   : <br><br> ‚Äî  HTTP,     GET; <br> ‚Äî     MDS; <br> ‚Äî  ,  html   jpg; <br> ‚Äî ; <br> ‚Äî  ,     ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br>  ,     ,     HCK MAC.  ,            .         ,         .  ,        .  ? <br><br>   ,  ,     ,          -   .     Amazon  ,      stateless cookie,     MD5       . <br><br>    , ,      ,         cookie,    .      ‚Äì    ,  ,     . <br><br>        ,       .  ,      ,         ‚ÄúHCK, m‚Äù. <br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br>         .                GET /photos/ cat; .jpg HTTP/1.1  ,    ,    .    ,  ,      .    , ?     : ¬´,  ,            ,    ¬ª. <br><br> 56:15 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIT-Kurs "Computer Systems Security".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> 9: ¬´ Web-¬ª,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Die Vollversion des Kurses finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie f√ºr einen Zeitraum von sechs Monaten bezahlen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de424295/">https://habr.com/ru/post/de424295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de424277/index.html">Auswanderung und alles dazu in Telegramm-Blogs</a></li>
<li><a href="../de424279/index.html">So √∂ffnen Sie eine IP in Deutschland, wenn Sie Programmierer sind und keine Kegel f√ºllen</a></li>
<li><a href="../de424285/index.html">Y Combinator Startup-Tipps: Entwickeln Sie Spielzeugm√§rkte</a></li>
<li><a href="../de424287/index.html">Wie wir an der InnovateFPGA 2018 teilgenommen haben und nicht wieder gewonnen haben</a></li>
<li><a href="../de424289/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 9: Sicherheit von Webanwendungen, Teil 1</a></li>
<li><a href="../de424297/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 9: Sicherheit von Webanwendungen, Teil 3</a></li>
<li><a href="../de424301/index.html">Adaptiver neuronaler Netzwerkbildfilteralgorithmus</a></li>
<li><a href="../de424305/index.html">Plattform√ºbergreifende RIBs f√ºr die mobile Architektur von Uber</a></li>
<li><a href="../de424307/index.html">GitLab 11.3 wurde mit Maven-Repository und sicheren Umgebungen ver√∂ffentlicht</a></li>
<li><a href="../de424309/index.html">DevCore: Software-Teil des DevBoy-Projekts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>