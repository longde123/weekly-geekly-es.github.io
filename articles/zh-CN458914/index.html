<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥— ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ ğŸš£ğŸ¼ åœ¨Unityä¸Šåˆ›å»ºæ¸¸æˆéœ€è¦äº†è§£ä»€ä¹ˆï¼ˆä¸æ˜¯ï¼‰ ğŸ‘©ğŸ»â€ğŸ³ ğŸ’‡ğŸ½ ğŸ‘©ğŸ»â€ğŸ’¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unityæ˜¯ä¸€ä¸ªæ¸¸æˆå¼•æ“ï¼Œå…¶è¿›å…¥é—¨æ§›è¿œéé›¶ï¼ˆä¸åŒä¸€ä¸ªGame Maker Studioç›¸æ¯”ï¼‰ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¼€å§‹å­¦ä¹ å®ƒæ—¶é‡åˆ°çš„é—®é¢˜ä»¥åŠæ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆã€‚ æˆ‘å°†ä»¥æˆ‘çš„Android 2dç›Šæ™ºæ¸¸æˆä¸ºä¾‹æ¥æè¿°è¿™äº›æ—¶åˆ»ï¼ˆæˆ‘å¸Œæœ›å®ƒå°†å¾ˆå¿«åœ¨Play Marketä¸Šå‘å¸ƒï¼‰ã€‚ 

 æˆ‘å¹¶ä¸å‡è£…æ˜¯çœŸçš„ï¼Œæˆ‘ä¹Ÿä¸æ•¦ä¿ƒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨Unityä¸Šåˆ›å»ºæ¸¸æˆéœ€è¦äº†è§£ä»€ä¹ˆï¼ˆä¸æ˜¯ï¼‰</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458914/"><img width="100%" src="https://habrastorage.org/webt/tf/uv/8n/tfuv8nnybrkzyxholyzuoaasafo.png"><br><br>  Unityæ˜¯ä¸€ä¸ªæ¸¸æˆå¼•æ“ï¼Œå…¶è¿›å…¥é—¨æ§›è¿œéé›¶ï¼ˆä¸åŒä¸€ä¸ªGame Maker Studioç›¸æ¯”ï¼‰ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¼€å§‹å­¦ä¹ å®ƒæ—¶é‡åˆ°çš„é—®é¢˜ä»¥åŠæ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆã€‚ æˆ‘å°†ä»¥æˆ‘çš„Android 2dç›Šæ™ºæ¸¸æˆä¸ºä¾‹æ¥æè¿°è¿™äº›æ—¶åˆ»ï¼ˆæˆ‘å¸Œæœ›å®ƒå°†å¾ˆå¿«åœ¨Play Marketä¸Šå‘å¸ƒï¼‰ã€‚ <a name="habracut"></a><br><br> æˆ‘å¹¶ä¸å‡è£…æ˜¯çœŸçš„ï¼Œæˆ‘ä¹Ÿä¸æ•¦ä¿ƒæ‚¨é‡å¤è‡ªå·±çš„äº‹ï¼Œå¦‚æœæ‚¨çŸ¥é“æœ€å¥½çš„æ–¹æ³•ï¼Œæˆ‘åªä¼šå‘æ‚¨å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œä¹Ÿè®¸åˆšå¼€å§‹ç†Ÿæ‚‰Unityçš„äººå°†ä»¥æ›´å°‘çš„å·¥ä½œé‡åˆ›å»ºè‡ªå·±çš„ç‹¬ç«‹æ¸¸æˆå¼€å‘æ°ä½œã€‚ <br><br> æˆ‘æ˜¯ç”µå‚è®¾è®¡å·¥ç¨‹å¸ˆï¼Œä½†æ˜¯æˆ‘ä¸€ç›´å¯¹ç¼–ç æ„Ÿå…´è¶£ï¼Œå¹¶ä¸”æˆ‘å¯¹æŸäº›ç¼–ç¨‹è¯­è¨€å¾ˆç†Ÿæ‚‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åŒæ„åœ¨Unityä¸Šåˆ›å»ºæ¸¸æˆï¼š <br><ul><li> æ‚¨éœ€è¦äº†è§£ä¸€äº›Cï¼ƒæˆ–JavaScriptï¼ˆè‡³å°‘æ˜¯Cå½¢è¯­æ³•ï¼‰ã€‚ <br></li></ul><br> ä¸‹é¢å°†è¦å†™çš„æ‰€æœ‰å†…å®¹éƒ½ä¸æ˜¯Unityæ•™ç¨‹ï¼Œåœ¨æ²¡æœ‰æˆ‘çš„æƒ…å†µä¸‹ï¼Œå…¶ä¸­è¶³å¤Ÿå¤šçš„å†…å®¹å·²åœ¨ç½‘ç»œä¸Šç¹æ®–ã€‚ ä¸‹é¢å°†æ”¶é›†åœ¨Unityä¸Šåˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®æ—¶å¯èƒ½å‘ç”Ÿçš„å›°éš¾æ—¶åˆ»ã€‚ <br><br> å€¼å¾—è­¦å‘Šçš„æ˜¯ï¼Œæä¾›çš„è„šæœ¬çœç•¥äº†å¤§å¤šæ•°æ¸¸æˆé€»è¾‘ï¼ˆä»£è¡¨â€œå•†ä¸šç§˜å¯†â€ï¼‰ï¼Œä½†æ˜¯å®ƒä»¬ä½œä¸ºç¤ºä¾‹çš„æ€§èƒ½å·²å¾—åˆ°éªŒè¯ã€‚ <br><br><h3> é—®é¢˜ä¸€-æ–¹å‘ </h3><br><img align="left" width="40%" src="https://habrastorage.org/webt/-f/za/hw/-fzahwdptbht2vwe1qm4xswgqkm.png"><br>  <b>æ–¹å‘é”</b> <br> æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªå›°éš¾æ˜¯ï¼Œæˆ‘æ²¡æœ‰é€‚å½“æ³¨æ„ä¼˜åŒ–å±å¹•æ–¹å‘çš„å¯è§†ç•Œé¢ã€‚ è§£å†³æ–¹æ¡ˆæ˜¯æœ€ç®€å•çš„-å¦‚æœæ‚¨ä¸éœ€è¦æ›´æ”¹å±å¹•æ–¹å‘ä»¥è¿›è¡Œæ¸¸æˆï¼Œåˆ™æœ€å¥½å°†å…¶é˜»æ­¢ã€‚ æ— éœ€è¿‡åº¦çš„çµæ´»æ€§ï¼Œæ‚¨å°±å¯ä»¥ç¼–å†™ç‹¬ç«‹æ¸¸æˆï¼Œè€Œä¸æ˜¯å¦ä¸€ç™¾ä¸‡ç¾å…ƒçš„é¡¹ç›®ã€‚ å¦‚æœæ¸¸æˆåœ¨â€œè‚–åƒâ€ä¸­çœ‹èµ·æ¥æ›´å¥½ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œå¤§é‡çš„æ¡ä»¶è½¬æ¢å’Œé”šç‚¹å˜åŒ–å‘¢ï¼Ÿ æ‚¨å¯ä»¥åœ¨æ­¤å¤„é”å®šå±å¹•æ–¹å‘ï¼š <br>  <b>ç¼–è¾‘&gt;é¡¹ç›®è®¾ç½®&gt;æ’­æ”¾å™¨</b> <br clear="all"><br clear="all"><img align="right" width="40%" src="https://habrastorage.org/webt/jb/3u/ot/jb3uotkehyw_t2pa2e__yw0n2ng.png"><br>  <b>ä¸åŒçš„æƒé™</b> <br> åœ¨é€‰å®šæ–¹å‘ä¸Šä»¥ä¸åŒåˆ†è¾¨ç‡æµ‹è¯•è§†è§‰ç•Œé¢ä¹Ÿå¾ˆé‡è¦ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•æ—¶ï¼Œè¯·ä¸è¦å¿˜è®°å­˜åœ¨æ¯”ä¾‹ä¸º4ï¼š3ï¼ˆæˆ–3ï¼š4ï¼‰çš„è®¾å¤‡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°æ·»åŠ 768x1024ï¼ˆæˆ–1024x768ï¼‰ã€‚ <br><br>  <b>æ›´å¥½çš„å®šä½</b> <br> è¦è°ƒæ•´æ¸¸æˆå¯¹è±¡çš„ä½ç½®å’Œæ¯”ä¾‹ï¼Œæœ€å¥½ä½¿ç”¨Rectå˜æ¢ã€‚ <img align="left" width="40%" src="https://habrastorage.org/webt/rm/gk/ao/rmgkao3ttyvdkj3dbs8zmtxrm2o.png"><br><br clear="all"><br clear="all"><h3> é—®é¢˜äºŒ-é€šè®¯ </h3><br> æˆ‘é‡åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ï¼Œå› ä¸ºæˆ‘æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨Game Maker Studioè®¤è¯†æ¸¸æˆå¼€å‘äººå‘˜ï¼Œè¯¥è„šæœ¬æ˜¯æ¸¸æˆå¯¹è±¡çš„å®Œæ•´éƒ¨åˆ†ï¼Œå¹¶ä¸”å¯ä»¥ç«‹å³å®Œå…¨è®¿é—®è¯¥å¯¹è±¡çš„æ‰€æœ‰ç»„ä»¶ã€‚  Unityå…·æœ‰é€šç”¨è„šæœ¬ï¼Œå¹¶ä¸”ä»…å°†å®ƒä»¬çš„å®ä¾‹æ·»åŠ åˆ°å¯¹è±¡ä¸­ã€‚ ç®€å•åœ°è¯´ï¼Œè¯¥è„šæœ¬ä¸ç›´æ¥çŸ¥é“å®ƒå½“å‰åœ¨å“ªä¸ªå¯¹è±¡ä¸Šæ‰§è¡Œã€‚ å› æ­¤ï¼Œåœ¨ç¼–å†™è„šæœ¬æ—¶ï¼Œå¿…é¡»è€ƒè™‘æ¥å£çš„åˆå§‹åŒ–ï¼Œä»¥ä½¿ç”¨å¯¹è±¡çš„ç»„ä»¶æˆ–å…¶ä»–å¯¹è±¡çš„ç»„ä»¶ã€‚ <br><br>  <b>æˆ‘ä»¬è®­ç»ƒçŒ«</b> <br> åœ¨æˆ‘çš„æ¸¸æˆä¸­ï¼Œæœ‰ä¸€ä¸ªGameFieldå¯¹è±¡ï¼Œåœ¨èˆå°ä¸Šåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒåè„šæœ¬ã€‚ è¯¥å¯¹è±¡è´Ÿè´£æ˜¾ç¤ºæ¸¸æˆåˆ†æ•°å¹¶å†ç°æ•´ä¸ªæ¸¸æˆå£°éŸ³ï¼Œå› æ­¤åœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒå¯¹äºå­˜å‚¨æ›´ä¸ºç»æµï¼ˆé€šå¸¸ï¼Œæ¸¸æˆåªæœ‰ä¸‰ä¸ªéŸ³é¢‘æº-ä¸€ä¸ªèƒŒæ™¯éŸ³ä¹ï¼Œä¸¤ä¸ªå…¶ä»–éŸ³æ•ˆï¼‰ã€‚ è¯¥è„šæœ¬è§£å†³äº†å­˜å‚¨æ¸¸æˆå¸æˆ·ï¼Œé€‰æ‹©AudioClipæ’­æ”¾å£°éŸ³ä»¥åŠæŸäº›æ¸¸æˆé€»è¾‘çš„é—®é¢˜ã€‚ <br><br> è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°è®¨è®ºå£°éŸ³ï¼Œå› ä¸ºæ­¤ç¤ºä¾‹è½»æ¾æ˜¾ç¤ºäº†è„šæœ¬ä¸å¯¹è±¡ç»„ä»¶çš„äº¤äº’ã€‚ <br><br><img width="40%" align="left" src="https://habrastorage.org/webt/2y/ll/ab/2yllabokihsyqwabiwnod3tiqyc.png"> è‡ªç„¶åœ°ï¼Œè¯¥å¯¹è±¡åº”è¯¥å…·æœ‰GameField.csè„šæœ¬æœ¬èº«å’ŒAudioSourceç»„ä»¶ï¼Œåœ¨æˆ‘çš„æƒ…å†µä¸‹æ˜¯ä¸¤ä¸ªæ•´ä½“ï¼ˆç¨åå°†æ¸…æ¥šåŸå› ï¼‰ã€‚ <br clear="all"><br clear="all"> å¦‚å‰æ‰€è¿°ï¼Œè„šæœ¬â€œä¸çŸ¥é“â€è¯¥å¯¹è±¡å…·æœ‰AudioSourceç»„ä»¶ï¼Œå› æ­¤æˆ‘ä»¬å£°æ˜å¹¶åˆå§‹åŒ–æ¥å£ï¼ˆç›®å‰ï¼Œæˆ‘ä»¬è®¤ä¸ºåªæœ‰ä¸€ä¸ªAudioSourceï¼‰ï¼š <br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioSource Sound; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ Sound = GetComponent&lt;AudioSource&gt; (); }</code> </pre> <br>  GetComponentæ–¹æ³•&lt;component_type&gt;ï¼ˆï¼‰å°†ä»å¯¹è±¡è¿”å›æŒ‡å®šç±»å‹çš„ç¬¬ä¸€ä¸ªç»„ä»¶ã€‚ <br><br> é™¤äº†AudioSourceï¼Œæ‚¨è¿˜éœ€è¦å‡ ä¸ªAudioClipï¼š <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Header (</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Audio clips"</span></span></span><span class="hljs-meta">)</span></span>] [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnStart; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnEfScore; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnHighScore; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnMainTimer; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnBubbMarker; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioClip OnScoreUp;</code> </pre><br> åœ¨ä¸‹æ–‡ä¸­ï¼ŒInspector`aéœ€è¦æ–¹æ‹¬å·ä¸­çš„å‘½ä»¤ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„æœ‰</a>æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ <br><br><img width="40%" align="left" src="https://habrastorage.org/webt/wk/t-/k7/wkt-k7spezw5hanfme5xchxexzk.png"><br><br> ç°åœ¨ï¼ŒInspectorä¸­çš„è„šæœ¬å…·æœ‰æ–°çš„å­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­æ‹–åŠ¨å¿…è¦çš„å£°éŸ³ã€‚ <br><br clear="all"><br clear="all"> æ¥ä¸‹æ¥ï¼Œåœ¨é‡‡ç”¨AudioClipçš„è„šæœ¬ä¸­åˆ›å»ºSoundPlayæ–¹æ³•ï¼š <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaySound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AudioClip Clip = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span>{ Sound.clip = Clip; Sound.Play (); }</code> </pre><br> è¦åœ¨æ¸¸æˆä¸­æ’­æ”¾å£°éŸ³ï¼Œæˆ‘ä»¬åœ¨é€‚å½“çš„æ—¶å€™ä½¿ç”¨å‰ªè¾‘è°ƒç”¨æ­¤æ–¹æ³•ã€‚ <br><br> è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œä¸€æ¬¡åªèƒ½æ’­æ”¾ä¸€ç§å£°éŸ³ï¼Œä½†æ˜¯åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œé™¤äº†ä¸æ–­æ’­æ”¾èƒŒæ™¯éŸ³ä¹å¤–ï¼Œå¯èƒ½æœ‰å¿…è¦æ’­æ”¾ä¸¤ç§æˆ–æ›´å¤šç§å£°éŸ³ã€‚ <br><br> ä¸ºé¿å…äº§ç”Ÿåˆºè€³çš„å£°éŸ³ï¼Œæˆ‘å»ºè®®é¿å…åŒæ—¶æ’­æ”¾4-5ç§ä»¥ä¸Šå£°éŸ³ï¼ˆæœ€å¥½æ˜¯2-3ç§ï¼‰çš„å¯èƒ½æ€§ï¼Œæˆ‘æŒ‡çš„æ˜¯æ¸¸æˆçŸ­æ—¶çš„ä¸€é˜¶å£°éŸ³ï¼ˆè·³è·ƒï¼Œç¡¬å¸ï¼Œç©å®¶å°„å‡»ç­‰ï¼‰ï¼Œå¯¹äºèƒŒæ™¯å™ªéŸ³è€Œè¨€ï¼Œæœ€å¥½åˆ›å»ºè‡ªå·±çš„å£°éŸ³æºåœ¨äº§ç”Ÿè¿™ç§å™ªéŸ³çš„ç‰©ä½“ä¸Šå‘å‡ºå£°éŸ³ï¼ˆå¦‚æœéœ€è¦2d-3då£°éŸ³ï¼‰ï¼Œæˆ–è€…åœ¨ä¸€ä¸ªç‰©ä½“ä¸Šäº§ç”Ÿæ‰€æœ‰èƒŒæ™¯å™ªéŸ³ï¼ˆå¦‚æœä¸éœ€è¦â€œéŸ³é‡â€ï¼‰ã€‚ <br><br> åœ¨æˆ‘çš„æ¸¸æˆä¸­ï¼Œæ— éœ€åŒæ—¶æ’­æ”¾ä¸¤ä¸ªä»¥ä¸Šçš„AudioClipã€‚ ä¸ºäº†ä¿è¯ä¸¤ç§å‡è®¾å£°éŸ³çš„å›æ”¾ï¼Œæˆ‘å‘GameFieldå¯¹è±¡æ·»åŠ äº†ä¸¤ä¸ªAudioSourceã€‚ ä¸ºäº†ç¡®å®šè„šæœ¬ä¸­çš„ç»„ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–¹æ³• <br><pre> <code class="cs hljs">GetComponents&lt;_&gt;()</code> </pre><br> å®ƒä»å¯¹è±¡è¿”å›æŒ‡å®šç±»å‹çš„æ‰€æœ‰ç»„ä»¶çš„æ•°ç»„ã€‚ <br><br> è¯¥ä»£ç å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AudioSource[] Sound; <span class="hljs-comment"><span class="hljs-comment">//    void Start(){ Sound = GetComponents&lt;AudioSource&gt; (); //  GetComponents }</span></span></code> </pre><br> å¤§å¤šæ•°æ›´æ”¹å°†å½±å“PlaySoundæ–¹æ³•ã€‚ æˆ‘çœ‹åˆ°æ­¤æ–¹æ³•çš„ä¸¤ä¸ªç‰ˆæœ¬ï¼šâ€œé€šç”¨â€ï¼ˆé’ˆå¯¹å¯¹è±¡ä¸­çš„ä»»ä½•æ•°é‡çš„AudioSourceï¼‰å’Œâ€œç¬¨æ‹™â€ï¼ˆé’ˆå¯¹2-3 AudioSourceï¼Œè¿™ä¸æ˜¯æœ€ä¼˜é›…çš„æ–¹æ³•ï¼Œä½†æ˜¯å ç”¨èµ„æºè¾ƒå°‘ï¼‰ã€‚ <br><br> ä¸¤ä¸ªAudioSourceçš„â€œç¬¨æ‹™â€é€‰é¡¹ï¼ˆæˆ‘ç”¨è¿‡ï¼‰ <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaySound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AudioClip Clip = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Sound [<span class="hljs-number"><span class="hljs-number">0</span></span>].isPlaying) { Sound [<span class="hljs-number"><span class="hljs-number">0</span></span>].clip = Clip; Sound [<span class="hljs-number"><span class="hljs-number">0</span></span>].Play (); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Sound [<span class="hljs-number"><span class="hljs-number">1</span></span>].clip = Clip; Sound [<span class="hljs-number"><span class="hljs-number">1</span></span>].Play (); } }</code> </pre><br> æ‚¨å¯ä»¥æ‰©å±•åˆ°ä¸‰ä¸ªæˆ–æ›´å¤šAudioSourceï¼Œä½†æ˜¯æ¡ä»¶æ•°é‡å°†åå™¬æ‰€æœ‰æ€§èƒ½èŠ‚çœã€‚ <br><br>  â€œé€šç”¨â€é€‰é¡¹ <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaySound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AudioClip Clip = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (AudioSource _Sound <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Sound) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_Sound.isPlaying) { _Sound.clip = Clip; _Sound.Play (); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } }</code> </pre><br><br>  <b>è®¿é—®å¤–æ¥ç»„ä»¶</b> <br> åœ¨è¿åŠ¨åœºä¸Šï¼Œæœ‰Fishkaé¢„åˆ¶ä»¶çš„å¤šä¸ªå®ä¾‹ï¼Œä¾‹å¦‚æ¸¸æˆç­¹ç ã€‚ å®ƒæ˜¯è¿™æ ·æ„å»ºçš„ï¼š <br><ul><li> çˆ¶å¯¹è±¡åŠå…¶SpriteRenderer; <ul><li> å­å¯¹è±¡ä½¿ç”¨å…¶SpriteRendererã€‚ </li></ul></li></ul><br> å­å¯¹è±¡è´Ÿè´£ç»˜åˆ¶èŠ¯ç‰‡çš„ä¸»ä½“ï¼Œå…¶é¢œè‰²ä»¥åŠå…¶ä»–å¯å˜å…ƒç´ ã€‚ çˆ¶çº§åœ¨ç­¹ç å‘¨å›´ç»˜åˆ¶æ ‡è®°è¾¹æ¡†ï¼ˆæ´»åŠ¨ç­¹ç å¿…é¡»åœ¨æ¸¸æˆä¸­çªå‡ºæ˜¾ç¤ºï¼‰ã€‚ è¯¥è„šæœ¬ä»…åœ¨çˆ¶å¯¹è±¡ä¸Šã€‚ å› æ­¤ï¼Œè¦ç®¡ç†å­Spriteï¼Œçˆ¶è„šæœ¬éœ€è¦æŒ‡å®šè¿™äº›Spriteã€‚ æˆ‘è¿™æ ·ç»„ç»‡èµ·æ¥-åœ¨è„šæœ¬ä¸­åˆ›å»ºäº†ç”¨äºè®¿é—®SpriteRendererå­çº§çš„æ¥å£ï¼š <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Header (</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Graphic objects"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SpriteRenderer Marker; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SpriteRenderer Base; [Space] [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SpriteRenderer Center_Red; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SpriteRenderer Center_Green; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SpriteRenderer Center_Blue;</code> </pre><br> ç°åœ¨ï¼ŒInspectorä¸­çš„è„šæœ¬å…·æœ‰å…¶ä»–å­—æ®µï¼š <br><img src="https://habrastorage.org/webt/mq/w9/kp/mqw9kpst-fen-bkdtgp_8jycpck.png"><br><br clear="all"> é€šè¿‡å°†å­çº§æ‹–æ”¾åˆ°ç›¸åº”çš„å­—æ®µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è„šæœ¬ä¸­è®¿é—®å®ƒä»¬ã€‚ <br><br clear="all"> ç”¨æ³•ç¤ºä¾‹ï¼š <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        Marker.enabled = !Marker.enabled; }</span></span></code> </pre><br><br clear="all">  <b>å‘¼å«åˆ«äººçš„è„šæœ¬</b> <br> é™¤äº†æ“ä½œå¤–éƒ¨ç»„ä»¶å¤–ï¼Œæ‚¨è¿˜å¯ä»¥è®¿é—®ç¬¬ä¸‰æ–¹å¯¹è±¡çš„è„šæœ¬ï¼Œå¹¶ä½¿ç”¨å…¶å…¬å…±å˜é‡ï¼Œæ–¹æ³•ï¼Œå­ç±»ã€‚ <br><br> æˆ‘å°†ä»¥ä¸€ä¸ªå·²ç»ä¼—æ‰€å‘¨çŸ¥çš„GameFieldå¯¹è±¡ä¸ºä¾‹ã€‚ <br><br>  GameFieldè„šæœ¬å…·æœ‰ä¸€ä¸ªå…¬å…±æ–¹æ³•FishkiMarkerDisabledï¼ˆï¼‰ï¼Œè¯¥æ–¹æ³•éœ€è¦ä»åœºä¸Šæ‰€æœ‰èŠ¯ç‰‡ä¸Šâ€œåˆ é™¤â€æ ‡è®°ï¼Œå¹¶åœ¨å•å‡»èŠ¯ç‰‡æ—¶ç”¨äºè®¾ç½®æ ‡è®°çš„è¿‡ç¨‹ï¼Œå› ä¸ºåªèƒ½æœ‰ä¸€ä¸ªæ´»åŠ¨æ ‡è®°ã€‚ <br><br> åœ¨Fishka.csè„šæœ¬ä¸­ï¼ŒSpriteRendereræ ‡è®°æ˜¯å…¬å…±çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ä»å¦ä¸€ä¸ªè„šæœ¬è®¿é—®å®ƒã€‚ ä¸ºæ­¤ï¼Œè¯·åœ¨GameField.csè„šæœ¬ä¸­æ·»åŠ Fishkaç±»çš„æ‰€æœ‰å®ä¾‹çš„æ¥å£çš„å£°æ˜å’Œåˆå§‹åŒ–ï¼ˆåˆ›å»ºè„šæœ¬æ—¶ï¼Œå°†åœ¨å…¶ä¸­åˆ›å»ºç›¸åŒåç§°çš„ç±»ï¼‰ï¼Œç±»ä¼¼äºå¯¹å¤šä¸ªAudioSourceè¿›è¡Œçš„æ“ä½œï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Fishka[] Fishki; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ Fishki = GameObject.FindObjectsOfType (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Fishka)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Fishka[]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FishkiMarkerDisabled</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (Fishka _Fishka <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Fishki) { _Fishka .Marker.enabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }</code> </pre><br> åœ¨Fishka.csè„šæœ¬ä¸­ï¼Œæ·»åŠ GameFieldç±»å®ä¾‹çš„æ¥å£çš„å£°æ˜å’Œåˆå§‹åŒ–ï¼Œç„¶åå•å‡»è¯¥å¯¹è±¡ï¼Œæˆ‘ä»¬å°†è°ƒç”¨è¯¥ç±»çš„FishkiMarkerDisabledï¼ˆï¼‰æ–¹æ³•ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameField gf; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ gf = GameObject.FindObjectOfType (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(GameField)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameField; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ gf.FishkiMarkerDisabled(); Marker.enabled = !Marker.enabled; }</code> </pre><br> å› æ­¤ï¼Œæ‚¨å¯ä»¥åœ¨ä¸åŒå¯¹è±¡çš„è„šæœ¬ï¼ˆæˆ–ç±»ï¼‰ä¹‹é—´è¿›è¡Œäº¤äº’ã€‚ <br><br clear="all"><br clear="all"><h3> é—®é¢˜ä¸‰-ä¿æŒ </h3><br>  <b>å¸æˆ·ç®¡ç†å‘˜</b> <br> åœ¨æ¸¸æˆä¸­å‡ºç°å¸æˆ·ä¹‹ç±»çš„é—®é¢˜åï¼Œç›´æ¥çš„é—®é¢˜å°±æ˜¯åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ä»¥åŠæ¸¸æˆå¤–éƒ¨çš„å­˜å‚¨æƒ…å†µï¼Œæˆ‘ä¹Ÿæƒ³ä¿ç•™ä¸€ä¸ªè®°å½•ï¼Œä»¥é¼“åŠ±ç©å®¶è¶…è¶Šå®ƒã€‚ <br><br> å½“æ•´ä¸ªæ¸¸æˆï¼ˆèœå•ï¼Œæ¸¸æˆï¼Œå¸æˆ·å–æ¬¾ï¼‰æ„å»ºåœ¨ä¸€ä¸ªåœºæ™¯ä¸­æ—¶ï¼Œæˆ‘ä¸ä¼šè€ƒè™‘é€‰é¡¹ï¼Œå› ä¸ºï¼Œé¦–å…ˆï¼Œè¿™ä¸æ˜¯æ„å»ºç¬¬ä¸€ä¸ªé¡¹ç›®çš„æœ€ä½³æ–¹æ³•ï¼Œå…¶æ¬¡ï¼Œæˆ‘è®¤ä¸ºåˆå§‹åŠ è½½åœºæ™¯åº”ä¸ºã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åŒæ„é¡¹ç›®ä¸­æœ‰å››ä¸ªåœºæ™¯ï¼š <br><ol><li> åŠ è½½ç¨‹åº-åˆå§‹åŒ–èƒŒæ™¯éŸ³ä¹å¯¹è±¡çš„åœºæ™¯ï¼ˆç¨åå°†è¿›è¡Œæ›´å¤šè¯´æ˜ï¼‰ï¼Œå¹¶ä»ä¿å­˜ä½ç½®åŠ è½½è®¾ç½®ï¼› <br></li><li> èœå•-å…·æœ‰èœå•çš„åœºæ™¯ï¼› <br></li><li> æ¸¸æˆ-æ¸¸æˆåœºæ™¯ï¼› <br></li><li> å¾—åˆ†-å¾—åˆ†ï¼Œè®°å½•ï¼Œæ’è¡Œæ¦œçš„åœºæ™¯ã€‚ <br></li></ol><br><img width="40%" align="right" src="https://habrastorage.org/webt/dy/yl/4t/dyyl4tkmtx6a0ijbnjiy1jgkr9q.png"><br>  <i>æ³¨æ„ï¼šåœºæ™¯åŠ è½½é¡ºåºåœ¨â€œæ–‡ä»¶â€&gt;â€œæ„å»ºè®¾ç½®â€ä¸­è®¾ç½®ã€‚</i> <br clear="all"><br clear="all"> æ¸¸æˆä¸­ç´¯ç§¯çš„ç§¯åˆ†å­˜å‚¨åœ¨GameFieldç±»çš„Scoreå˜é‡ä¸­ã€‚ è¦åœ¨è¿›å…¥æ¯”åˆ†åœºæ™¯æ—¶è®¿é—®æ•°æ®ï¼Œè¯·åˆ›å»ºä¸€ä¸ªå…¬å…±é™æ€ç±»ScoreHolderï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå˜é‡ä»¥å­˜å‚¨å€¼ï¼Œå¹¶å£°æ˜ä¸€ä¸ªå±æ€§ä»¥è·å–å¹¶è®¾ç½®æ­¤å˜é‡çš„å€¼ï¼ˆæ–¹æ³•ç”±<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">apocatastasç›‘è§†</a> ï¼‰ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ScoreHolder</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _Score = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Score { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _Score; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>{ _Score = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre><br> ä¸éœ€è¦å°†å…¬å…±é™æ€ç±»æ·»åŠ åˆ°ä»»ä½•å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä»»ä½•è„šæœ¬ä¸­çš„ä»»ä½•åœºæ™¯ä¸­ç«‹å³ä½¿ç”¨å®ƒã€‚ <br><br> åœºæ™¯è½¬æ¢æ–¹æ³•ä¸­GameFieldç±»ä¸­çš„ç¤ºä¾‹ç”¨æ³•å¾—åˆ†ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.SceneManagement; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameField</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Score = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     ,         Scores void GotoScores(){ ScoreHolder.Score = Score; //   ScoreHolder.Score   SceneManager.LoadScene (â€œscoresâ€); } }</span></span></code> </pre><br> åŒæ ·ï¼Œæ‚¨å¯ä»¥åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å°†è®°å½•å¸æˆ·æ·»åŠ åˆ°ScoreHolderï¼Œä½†åœ¨é€€å‡ºæ—¶ä¸ä¼šå°†å…¶ä¿å­˜ã€‚ <br><br clear="all">  <b>è®¾ç½®å®ˆæŠ¤è€…</b> <br> è€ƒè™‘æ ¹æ®æ¸¸æˆçš„çŠ¶æ€æ˜¯å¦æœ‰å£°éŸ³æ•ˆæœæ¥ä¿å­˜å¸ƒå°”å˜é‡SoundEffectsMuteçš„å€¼çš„ç¤ºä¾‹ã€‚ <br><br> å˜é‡æœ¬èº«å­˜å‚¨åœ¨å…¬å…±é™æ€ç±»SettingsHolderä¸­ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SettingsHolder</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SoundEffectsMute = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> SoundEffectsMute{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _SoundEffectsMute; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>{ _SoundEffectsMute = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre><br> è¯¥ç±»ç±»ä¼¼äºScoreHolderï¼Œæ‚¨ç”šè‡³å¯ä»¥å°†å®ƒä»¬ç»„åˆä¸ºä¸€ä¸ªç±»ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸å¥½çš„ä¸¾æ­¢ã€‚ <br><br> ä»è„šæœ¬ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤æƒ…å†µä¸‹_SoundEffectsMuteå£°æ˜ä¸ºfalseï¼Œå› æ­¤æ¯æ¬¡æ¸¸æˆå¯åŠ¨æ—¶ï¼Œæ— è®ºç”¨æˆ·æ˜¯å¦ä¹‹å‰å¯¹å…¶è¿›è¡Œäº†æ›´æ”¹ï¼ŒSettingsHolder.SoundEffectsMuteéƒ½å°†è¿”å›falseï¼ˆä½¿ç”¨èœå•é˜¶æ®µçš„æŒ‰é’®å¯¹å…¶è¿›è¡Œäº†æ›´æ”¹ï¼‰ã€‚ <br><br clear="all">  <b>ä¿å­˜å˜é‡</b> <br> å¯¹äºAndroidåº”ç”¨ç¨‹åºè€Œè¨€ï¼Œæœ€ç†æƒ³çš„æ–¹æ³•æ˜¯ä½¿ç”¨PlayerPrefs.SetIntæ–¹æ³•è¿›è¡Œä¿å­˜ï¼ˆæœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹æ–‡æ¡£</a> ï¼‰ã€‚ åœ¨PlayerPrefsä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹å¯ä»¥ä¿ç•™SettingsHolder.SoundEffectsMuteçš„å€¼ï¼Œæˆ‘ä»¬ç§°å®ƒä»¬ä¸ºâ€œç®€å•â€å’Œâ€œä¼˜é›…â€ã€‚ <br><br clear="all">  â€œç®€å•â€çš„æ–¹å¼ï¼ˆå¯¹æˆ‘æ¥è¯´å¦‚æ­¤ï¼‰æ˜¯åœ¨ä¸Šè¿°æŒ‰é’®ç±»çš„OnMouseDownï¼ˆï¼‰æ–¹æ³•ä¸­ã€‚ å­˜å‚¨çš„å€¼åœ¨åŒä¸€ç±»ä¸­ä½†åœ¨Startï¼ˆï¼‰æ–¹æ³•ä¸­åŠ è½½ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ButtonSoundMute</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,  PlayerPrefs    bool switch (PlayerPrefs.GetInt ("SoundEffectsMute")) { case 0: SettingsHolder.SoundEffectsMute = false; break; case 1: SettingsHolder.SoundEffectsMute = true; break; default: //    default SettingsHolder.SoundEffectsMute = true; break; } } void OnMouseDown(){ SettingsHolder.SoundEffectsMute = !SettingsHolder.SoundEffectsMute; //    ,  PlayerPrefs    bool if (SettingsHolder.SoundEffectsMute) PlayerPrefs.SetInt ("SoundEffectsMute", 1); else PlayerPrefs.SetInt ("SoundEffectsMute", 0); } }</span></span></code> </pre><br><br clear="all"> æˆ‘è®¤ä¸ºâ€œä¼˜é›…â€çš„æ–¹æ³•ä¸æ˜¯æœ€æ­£ç¡®çš„ï¼Œå› ä¸º ä½¿ä»£ç çš„ç»´æŠ¤å¤æ‚åŒ–ï¼Œä½†æ˜¯å…¶ä¸­åŒ…å«ä¸€äº›å†…å®¹ï¼Œæˆ‘å¿ä¸ä½å…±äº«å®ƒã€‚ è¯¥æ–¹æ³•çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œåœ¨ä¸éœ€è¦é«˜æ€§èƒ½çš„æ—¶å€™è°ƒç”¨SettingsHolder.SoundEffectsMuteå±æ€§çš„setterï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨PlayerPrefsï¼ˆè¯»å–-å†™å…¥æ–‡ä»¶ï¼‰æ¥åŠ è½½ï¼ˆå“¦ï¼Œææ€–ï¼‰ã€‚ æ›´æ”¹å…¬å…±é™æ€ç±»SettingsHolderï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SettingsHolder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SoundEffectsMute = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> SoundEffectsMute{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _SoundEffectsMute; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>{ _SoundEffectsMute = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_SoundEffectsMute) PlayerPrefs.SetInt (<span class="hljs-string"><span class="hljs-string">"SoundEffectsMute"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> PlayerPrefs.SetInt (<span class="hljs-string"><span class="hljs-string">"SoundEffectsMute"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } } }</code> </pre><br>  ButtonSoundMuteç±»çš„OnMouseDownæ–¹æ³•å°†ç®€åŒ–ä¸ºï¼š <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ SettingsHolder.SoundEffectsMute = !SettingsHolder.SoundEffectsMute; }</code> </pre><br><br clear="all"> ä¸å€¼å¾—é€šè¿‡è¯»å–æ–‡ä»¶æ¥åŠ è½½å¸æ°”å‰‚ï¼Œå› ä¸ºå®ƒæ¶‰åŠåˆ°æ€§èƒ½è‡³å…³é‡è¦çš„è¿‡ç¨‹-åœ¨GameFieldç±»çš„PlaySoundï¼ˆï¼‰æ–¹æ³•ä¸­ï¼š <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaySound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AudioClip Clip = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!SettingsHolder.SoundEffectsMute) { <span class="hljs-comment"><span class="hljs-comment">//      â€œâ€  (. ) if (!Sound [0].isPlaying) { Sound [0].clip = Clip; Sound [0].Play (); } else { Sound [1].clip = Clip; Sound [1].Play (); } } }</span></span></code> </pre><br><br clear="all"> é€šè¿‡ä»¥ä¸Šæ–¹å¼ï¼Œæ‚¨å¯ä»¥ç»„ç»‡æ¸¸æˆä¸­æ‰€æœ‰å˜é‡çš„å­˜å‚¨ã€‚ <br><br clear="all"><br clear="all"><h3> ç¬¬äº”é¢˜-ä¸€åŠ³æ°¸é€¸ </h3><br>  <b>è¿™ç§éŸ³ä¹å°†æ˜¯æ°¸æ’çš„</b> <br> æ¯ä¸ªäººè¿Ÿæ—©éƒ½ä¼šé¢ä¸´è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸ä¾‹å¤–ã€‚ æŒ‰ç…§è®¡åˆ’ï¼Œå³ä½¿åœ¨èœå•åœºæ™¯ä¸­ä¹Ÿå¼€å§‹æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼Œå¦‚æœæœªå…³é—­èƒŒæ™¯éŸ³ä¹ï¼Œåˆ™å¯ä»¥åœ¨åœºæ™¯ä¸­æ’­æ”¾èœå•ï¼Œæ¸¸æˆå’Œä¹è°±ï¼Œè€Œä¸ä¼šä¸­æ–­ã€‚ ä½†æ˜¯ï¼Œå¦‚æœå°†â€œæ­£åœ¨æ’­æ”¾â€çš„èƒŒæ™¯éŸ³ä¹å¯¹è±¡å®‰è£…åœ¨èœå•åœºæ™¯ä¸­ï¼Œåˆ™å½“æ‚¨è¿›å…¥æ¸¸æˆåœºæ™¯æ—¶ï¼ŒèƒŒæ™¯éŸ³ä¹å°†è¢«é”€æ¯å¹¶ä¸”å£°éŸ³æ¶ˆå¤±ï¼Œå¹¶ä¸”ï¼Œå¦‚æœå°†ç›¸åŒçš„å¯¹è±¡æ”¾åœ¨æ¸¸æˆåœºæ™¯ä¸­ï¼Œåˆ™åœ¨è¿‡æ¸¡ä¹‹åå°†é¦–å…ˆæ’­æ”¾éŸ³ä¹ã€‚ äº‹å®è¯æ˜ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨æ”¾ç½®åœ¨å…¶â€œè„šæœ¬â€å¯¹è±¡å…·æœ‰è„šæœ¬å®ä¾‹çš„ç±»çš„Startï¼ˆï¼‰æ–¹æ³•ä¸­çš„DontDestroyOnLoadï¼ˆå¯¹è±¡ç›®æ ‡ï¼‰æ–¹æ³•ã€‚ ä¸ºæ­¤ï¼Œè¯·åˆ›å»ºDontDestroyThis.csè„šæœ¬ï¼š <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DontDestroyThis</span></span>: <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ DontDestroyOnLoad(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } }</code> </pre><br><img width="40%" align="left" src="https://habrastorage.org/webt/ee/cj/hn/eecjhn5uyzoclq7ywnqztl1untu.png"> ä¸ºäº†ä½¿ä¸€åˆ‡æ­£å¸¸å·¥ä½œï¼Œâ€œéŸ³ä¹â€å¯¹è±¡å¿…é¡»æ˜¯æ ¹ç›®å½•ï¼ˆä¸ä¸»æ‘„åƒæœºä½äºç›¸åŒçš„å±‚æ¬¡ç»“æ„çº§åˆ«ï¼‰ã€‚ <br clear="all"><br clear="all">  <b>ä¸ºä»€ä¹ˆåŠ è½½ç¨‹åºä¸­æœ‰èƒŒæ™¯éŸ³ä¹</b> <br> å±å¹•æˆªå›¾æ˜¾ç¤ºï¼Œâ€œéŸ³ä¹â€å¯¹è±¡ä¸åœ¨èœå•åœºæ™¯ä¸­ï¼Œè€Œæ˜¯åœ¨åŠ è½½ç¨‹åºåœºæ™¯ä¸­ã€‚ è¿™æ˜¯ç”±äºä»¥ä¸‹äº‹å®å¯¼è‡´çš„ï¼šèœå•åœºæ™¯å¯ä»¥è¢«åŠ è½½å¤šæ¬¡ï¼ˆåœ¨ä¹è°±åœºæ™¯ä¹‹åï¼Œè¿‡æ¸¡åˆ°èœå•åœºæ™¯ï¼‰ï¼Œå¹¶ä¸”æ¯æ¬¡åŠ è½½æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºå¦ä¸€ä¸ªâ€œéŸ³ä¹â€å¯¹è±¡ï¼Œå¹¶ä¸”ä¸ä¼šåˆ é™¤æ—§çš„å¯¹è±¡ã€‚ å¯ä»¥æŒ‰ç…§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹æ–‡æ¡£</a>ä¸­çš„ç¤ºä¾‹è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯æˆ‘å†³å®šåˆ©ç”¨è¿™æ ·çš„äº‹å®ï¼Œå³åŠ è½½ç¨‹åºåœºæ™¯ä»…ä¿è¯åŠ è½½ä¸€æ¬¡ã€‚ <br><br> åœ¨æ­¤ä¸Šï¼Œæˆ‘åœ¨Unityä¸Šå¼€å‘è‡ªå·±çš„ç¬¬ä¸€æ¬¾æ¸¸æˆæ—¶é‡åˆ°çš„å…³é”®é—®é¢˜å·²æˆåŠŸç»“æŸï¼Œè¯¥é—®é¢˜åœ¨ä¸Šä¼ åˆ°Playå¸‚åœºä¹‹å‰ï¼ˆæˆ‘å°šæœªæ³¨å†Œå¼€å‘è€…å¸æˆ·ï¼‰ã€‚ <br><br>  <b>èšè‹¯ä¹™çƒ¯</b> <br>  <i>å¦‚æœè¿™äº›ä¿¡æ¯æœ‰ç”¨ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥æ”¯æŒä½œè€…ï¼Œä»–å°†æœ€ç»ˆæ³¨å†Œä¸€ä¸ªAndroidå¼€å‘äººå‘˜å¸æˆ·ã€‚</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN458914/">https://habr.com/ru/post/zh-CN458914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN458904/index.html">ä½¿ç”¨Rä¸­çš„åŠ¨ç”»æ¡å½¢å›¾å¯è§†åŒ–NBAçƒé˜Ÿçš„è·èƒœæ¬¡æ•°</a></li>
<li><a href="../zh-CN458906/index.html">[å¶å¡æ·ç³å ¡ï¼Œå…¬å‘Š] Flutteron-Flutterå¼€å‘ç ”è®¨ä¼š</a></li>
<li><a href="../zh-CN458908/index.html">é€šè¿‡ç½‘ç»œæ‰«ææ–‡æ¡£</a></li>
<li><a href="../zh-CN458910/index.html">ä½¿ç”¨å¤§å‹Linuxé¡µé¢å¯¹PostgreSQLè¿›è¡ŒåŸºå‡†æµ‹è¯•</a></li>
<li><a href="../zh-CN458912/index.html">ä½¿ç”¨imapsyncè¿ç§»åˆ°Zimbra</a></li>
<li><a href="../zh-CN458916/index.html">åœ¨Reactçš„å¹•å æˆ‘ä»¬ä»å¤´å¼€å§‹ç¼–å†™å®ç°</a></li>
<li><a href="../zh-CN458918/index.html">æ‚¨å¯ä»¥ä»è¶…ä¼‘é—²æ¸¸æˆçš„è®¾è®¡ä¸­å­¦åˆ°ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN458920/index.html">DevOpsç²‰ä¸å¤§ä¼š</a></li>
<li><a href="../zh-CN458922/index.html">å¦‚ä½•ä»ESXiè¿ç§»åˆ°KVM / LXDè€Œä¸å¤±ä¸»æ„</a></li>
<li><a href="../zh-CN458924/index.html">äº‹æ•…å¯ä»¥å¸®åŠ©æ‚¨å­¦ä¹ </a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>