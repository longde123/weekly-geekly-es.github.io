<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏 🙆🏼 🚦 我如何设计LED心形盒 🦂 🧛🏿 🧢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="问候，哈勃！ 

 我想讲一个有关创建带有灯光元素的音乐盒的故事-一个精美​​的礼物，可以单独选择灯光效果和音乐伴奏。 这个盒子叫做普通-LED HEART。 任何工作都已完成，我想分享有关此“业余”项目的简短故事。 

 在网络上（包括在Habré上），您可以满足许多创建LED Valentine...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我如何设计LED心形盒</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456366/"> 问候，哈勃！ <br><br> 我想讲一个有关创建带有灯光元素的音乐盒的故事-一个精美​​的礼物，可以单独选择灯光效果和音乐伴奏。 这个盒子叫做普通-LED HEART。 任何工作都已完成，我想分享有关此“业余”项目的简短故事。 <br><br> 在网络上（包括在Habré上），您可以满足许多创建LED Valentines，Hearts等项目的秘密已经不是什么秘密了。 与他们一起的演示视频通常会在评论中收集一些讨人喜欢的热情评论。 同时，到目前为止，提供这样有趣的礼物的机会仍然是很多工程师，火腿等等。 具有足够资格来重复某人的项目/自己做的人。 此外，您需要大量的空闲时间。 我还没有看到这种礼物的批量生产。 最接近的是两家国内公司提供的最简单的业余焊接套件，在中国网站上也提供了类似的选择。 <br> 这个想法最初导致了一个创建LED心脏的项目，不仅对那些与您“在一起”使用电子产品的人可用。 <br><br> 我会从远处开始一些背景知识。 它持续了整整几年... <a name="habracut"></a><br><br><h3> 背景知识 </h3><br> 我在2010年的一个YouTube频道上看到了第一部带有LED灯的视频。 该项目令人印象深刻。  2011年，作为一名学生，他从女友那里秘密偷偷做了几个星期的工作，于是他整理了一个简单版的LED心形，并于3月8日展示了它。 该项目由我自己开发-包括硬件和固件-研究，发明的自行车。 <br><br> 它看起来...总体上来说是这样的： <br><br><img src="https://habrastorage.org/webt/aa/ii/gz/aaiigzidhcvjjne9-iys01aj3_g.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/3g/w7/wk/3gw7wk6ohmy_mfadpdkomtq2aqw.jpeg" alt="图片"><br><br> 不幸的是，没有照片能够完全传达9年前在某些地方我无法超越的礼物独有程度。 鱼罐头上有一块印有Attiny13A的印刷电路板（照片中看不到MK，从外面用锡膏焊接-一束导线延伸到照片的上边界之外），移位寄存器和明亮的LED沿心脏符号的轮廓焊接。 锡罐盖的外面有一个铭文：“手里充满着爱，甚至是……”，里面是“……鲭鱼。 自3月8日以来！” 按下红色大按钮，指示灯开始运转，LED闪烁并闪烁，具体取决于装入1 KB微控制器内存的内容。 如您所见，创意和浪漫在边缘蔓延。 就像我现在记得的那样，我在超市的两排之间徘徊，考虑为“丰盛的礼物”选择哪种情况……突然间，我的目光投向了罐头食品……这就是……洞察力…… <br><br> 好吧，有点分心，我会继续。 <br><br><h3> 故事本身 </h3><br> 从他未来的妻子那里得到了期望的回应之后，他的脑子里浮现出这样的想法：生产和销售这种有趣的礼物在原则上可能是合理的。 这样的纪念品唤起了积极的情感，并象征着给予它的人的热情。 但是学习，文凭，工作，例行生活，个人生活并没有分配足够的时间来从事这样的冒险活动-所有这些活动在开始之前就已经结束了。 <br><br>  3年过去了……2014年到来了……在某个时候，我又开始偶然地在互联网上进行类似的项目-其中一些项目已经变得更加先进和有趣-开发自己独特版本的心脏并投入新的活力来点燃心脏的想法，以前没有这样的事。 同时，很明显，人们表现出了兴趣。 已有工程经验，他开始更系统地解决这个问题。 但是，始终如一地以一种业余爱好的方式进行工作-在某些晚上和周末（如果可能的话），与其他“业余爱好”项目和主要工作同时进行，这是所有工作的首要任务。 因此，最后，对于这样的项目，时间框架实在令人肿。 <br><br> 研究是如何开始的？ <br><br> 首先，找出并评估了所见业余构造中的缺点。 当时注意到的最重要的事情是： <br><br><ul><li> 缺少各种照明要素。 </li><li> 设计的简单性和笨拙性总是给人留下第一印象，并且在给予时可能不会产生适当的效果。 所检查的绝大多数设备看起来像业余工艺品，仅此而已（就像我在2010年所做的那样）–坚固，不严重，很无聊……大多数被认为是心脏的设计要么根本就没有身体，要么这个身体很糟糕-阿拉用烂胶合板锯切，用自攻螺钉拧进木板，用有机玻璃做窗。 玻璃等 需要一定的最佳-设备的类型至少不应该吓跑人，相反-它应该最大程度地传达出提供给它的人的全部感觉，同时-设备不应该尺寸过大，过于复杂等。 。 </li><li> 在我的心中，光的效果缺乏声音效果（非常罕见的例外），尽管在我看来，这是自欺欺人的。 仅闪烁LED矩阵是不够的。 音乐应增强效果，在给予时增加浪漫色彩。 音乐甚至可以成为此类礼物的个人特色，它可以为相应的情况“预热”合适的氛围-浪漫/庄重/有趣等。 有一个假设是，如果照明的效果（对于其他所有因素）也与背景旋律同步-这将是非常酷，令人信服和凉爽的。 </li><li> 因为，按照上一段所述，应该有音乐-一个音乐盒的构想是独立出现的-您打开它-它会播放并发出火花-您关闭它-它会逐渐消失。 </li></ul><br> 所有这些想法使大脑猛冲了一段时间。 首先，我必须确定盒子的具体功能。 一般而言，它被认为如下： <br><br><ul><li> 心脏应该具有足够分辨率的LED矩阵，以便您可以运行一条直线，进行最简单的动画处理。 应该有可能平滑淡出并点亮LED。 </li><li> 为特定客户的照明程序的快速重组，应该有可能快速创建和校正照明效果。 应该明确的是，与客户互动的模型暗示了以下内容。 最初为客户提供了一组带有预定义旋律的基本照明程序，他从中选择了最适合自己意愿的照明程序-此外，对于他而言，我们将调整照明程序，使其适应于此特定的人，他的场合/假期（跑步路线的文字，其他框架）。 将来，计划逐步扩展可用音乐和灯光效果的基础。 另外，就我而言，在与客户沟通之后，我总是可以根据输入数据为您提供最佳选择。 尚未完全排除对旋律和照度进行完全单独研究的可能性，但是成本增加了。 在任何情况下，为新旋律编写灯光效果程序的过程实际上要比准备销售该设备的其他过程长得多。 </li><li> 一个似是而非的案例（虽然仅在原型阶段依赖于您的口味）。 </li><li> 权力自治 该设备本质上是纪念品，将其固定在外部源上没有任何意义。 </li></ul><br> 此外，将这些要求正式化为具体的技术任务，并逐步解决了这些任务。 在此过程中，检查了不同的材料，考虑了设计类型，电路，以及编写软件，实现快速添加/删除/编辑照明效果的能力等，这些工作花费了大部分时间。 <br> 作为此类转换的示例，我可以提供2015年生产的原型盒的中间版本的演示-可以有条件地将其视为迭代1的结果（视频质量很差，声音与mp3文件分开叠加，因此无法充分录制）： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/F8leTFH6pFw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 最终版本已经在2017年组装完毕： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0MPJeOb9aJI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  LED的亮度似乎比2015年的要暗，但事实并非如此-只是在拍摄时，外部光源太强了。 这里的声音已经是真实的了。 <br><br> 到该样本出现时，设备的内部和外部以及软件部分都发生了许多变化。 <br><br><h3> 简要介绍硬件 </h3><br> 电子盒位于三个印刷电路板上。 其中一个是LED，晶体管和电阻器，它们是LED矩阵所必需的，它是Atmega32A控制微控制器及其接线。 在第二块板上，当盒子打开时执行上电控制，这是电源电压下降到可接受范围的断电电路。 第三块板有一个mp3播放器（购买的模块）。 <br><br> 箱子是购买的金属盒。 在内部，整个结构基于在3D打印机上打印的塑料框架。 一些元件通过粘合剂连接固定，主板固定在安装在塑料底座中的磁铁上。 <br> 盒子由三节AAA电池供电。 <br><br><h3> 简要介绍软件 </h3><br> 对于PC，开发了一个程序-具有图形界面的代码生成器，可让您快速创建和编辑灯光效果，控制所有必要的时间间隔（与背景旋律同步）并立即生成代码以刷新位于心脏板上的微控制器。 开发了某种格式，用于将效果参数记录到数据数组中。 在MK端，固件解析这些阵列，并在正确的时间将它们转换为正确的LED的光。 在代码表中记录效果的格式非常经济-微控制器程序的内部存储器足以存储固件代码和带有照明效果参数的表。 <br><br> 可以撰写有关解决技术问题和开发过程中遇到的问题的单独文章。 当然，这不是一门“火箭科学”，咀嚼这样的问题对公众可能很无聊，但是如果有人感兴趣，您肯定会感到困惑。 <br><br><h3> 总结 </h3><br> 结果如何？ 棺材项目仍然可以不停地进行舔和升级，可以在完全不同的方向上进行改进，增加功能等。 但是以构想框的形式-完成了，开发项目就完成了。 他们说，对于（小型）批量生产，还需要做更多的工作，但这是技术问题。 <br><br> 在旅途中的某个地方，我意识到尝试独立开发项目的商业组件对我来说不是很有趣，没有时间，也没有太多的渴望。 在我的环境中，没有人会负责组织销售，旋律和灯光效果的大部分工作。 通过这种潜在的伙伴关系，我同意结束所有技术问题，生产，采购和物流。 但是它没有解决。 而时间却经常被其他任务占用-要么更有趣，要么仅仅是必要的/家务。 <br><br> 因此，目前，我认为该项目已在此阶段完成。 总共制作了3份最新版本-两份是送给亲人的礼物，另一份是定做的。 我不会保证，某种历史可能会持续到某个时候，但是目前的状况是这样的。 总的来说，工作的结果令我满意。 但是，最有价值的是亲爱的人的反应，这些人的初衷是要给他们做的，为此，花很多时间来浪费自己并不可惜！ <br><br> 好吧，就开展这样一个项目的合理性而言，得出了客观的结论，吸取了教训，这些教训必将为我将来的事迹和成就服务！ <br><br> 谢谢您的阅读，如果您有任何疑问，意见或建议，我总是很乐意在评论中进行讨论。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN456366/">https://habr.com/ru/post/zh-CN456366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN456350/index.html">6月17日至23日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN456352/index.html">无线对象通信模块WISE-4000</a></li>
<li><a href="../zh-CN456354/index.html">我们如何收集电视盒</a></li>
<li><a href="../zh-CN456358/index.html">过去一年中最臭名昭著的13篇文章</a></li>
<li><a href="../zh-CN456362/index.html">6级设计师：我们如何激励和发展设计师</a></li>
<li><a href="../zh-CN456368/index.html">使用Web3在JPMorgan Quorum区块链上执行公共和私人交易</a></li>
<li><a href="../zh-CN456370/index.html">在Qsan Storage中实施QoS</a></li>
<li><a href="../zh-CN456372/index.html">SimbirSoft邀请IT专业人员参加Intensive Summer 2019</a></li>
<li><a href="../zh-CN456374/index.html">等离子现金区块链状态数据结构</a></li>
<li><a href="../zh-CN456376/index.html">没有一个春季启动：替代方案概述</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>