<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🚀 📕 🎅🏽 从移动开发人员的角度来看React Native 🙏🏾 👈🏽 👢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文针对的是iOS和android开发人员，他们已经非常熟悉该领域并且对React Native有所了解。 

 当我第一次了解React Native时，我以它为契机，让Web开发人员入侵我的领地（ 绝对不可能！ ），同时破坏了运行良好的无崩溃60 fps产品。 事情就这样发生了。 结束了。 真实...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>从移动开发人员的角度来看React Native</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qlean/blog/416097/"><img src="https://habrastorage.org/webt/6y/dk/ia/6ydkiap1asyevkiekkhbtqglzhy.png"><br><br>  <i>本文针对的是iOS和android开发人员，他们已经非常熟悉该领域并且对React Native有所了解。</i> <br><br> 当我第一次了解React Native时，我以它为契机，让Web开发人员入侵我的领地（ <i>绝对不可能！</i> ），同时破坏了运行良好的无崩溃60 fps产品。  <s>事情就这样发生了。</s>  <s>结束了。</s> 真实的故事竟然更长。 <br><a name="habracut"></a><br><h2> 拒绝 </h2><br> 移动应用程序中的JavaScript？ 我只想到了几个在iOS上使用JavaScriptCore的库（这些库占使用它们的应用程序崩溃的90％）和“旧模型”的混合应用程序（嗯，这就是atas）。 <br><br> 混合应用程序一直表现出希望，直到您尝试它们的那一刻，此后，您开始竭尽全力地逃避它们。 <br><br> 记住三年前学习Xamarin的尝试失败，我很快放弃了使用React Native的想法。 <br><br> 值得注意的是，我总是很高兴能感知到编写本机应用程序的新方法（从ObjC到Swift，从Java到Kotlin，从Eclipse到Android Studio）。 我多年来一直从事iOS和android的业余爱好和专业工作。 切换到新的语言（在同一操作系统内）或IDE后，我很少回到前一种。 看来React Native是合乎逻辑的下一步，又是新的一步。 还是退后一步？ <br><br><h2> 怒气 </h2><br> 当我已经知道如何“真正”做到这一点时，为什么还要教简化版呢？ <br> 当公司设定完全重新设计其中一个应用程序（当时仅在iOS上可用）并在android上发布它的任务时，我仍然必须找到该问题的答案。 <br><br> 如何同时做两件事并减少编写代码？ 像这样的建议：瘦客户机，带有来自Swift / Kotlin代码的调用的C库，React Native？ <br><br>  React Native看起来非常有前途，因为它能够创建库，然后立即在三个平台（iOS / android / web）上使用它们。 <br><br><h2> 竞标 </h2><br> 对任何人都有前途，但对我却不行。 我当然对这个转折不满意。 我感到自己处于开发iOS和android的能力的顶峰，然后被要求抛弃所有这些知识，就好像我是应届毕业生并且只有0。我什至怀疑使用React Native能否创造出高质量的产品。 <br><br><img src="https://habrastorage.org/webt/9v/o8/uy/9vo8uy4yheyrmhezpccdxpcmiwo.png"><br><br><h2> 抑郁症 </h2><br> 怀疑是合理的。 主要问题是： <br><br><ul><li> 在React Native的核心中有相当数量的滴; </li><li> 仅在一个平台上起作用的方法（扩展坞表明它们在任何地方都可以工作）； </li><li> 描述不完整。 只需查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">React Native收集器</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">底座即可</a> 。 </li></ul><br> 隐藏的主要问题是：我头部的内部障碍物，使我无法看到一堆负号背后的优点。 <br><br><h2> 验收 </h2><br> 当然，React Native不仅是缺点。 有很多优点，比起特定平台上的同类工具，它写起来容易得多，而且开箱即用的效果更好。 <br><br> 如果我们抛弃明显的问题，例如坠毁和微弱的码头，以下是我必须面对的示例： <br><br><h3>  Java脚本 </h3><br> 难怪 这是流血，流汗和流泪相伴的第一件事。 <br> 当我开始回忆起以前作为前端开发人员的经历时（我在移动应用程序开发之前就涉足网站开发），我从越南综合症开始： <i>约翰尼，JavaScript环绕着我们！</i> <br><br> 如果您决定在React Native上编写应用程序，那么我建议参加一门最新的JS课程。 它们不必是React或React Native。 <br><br> 在过去的几年中，随着ES6，ES7和ES8标准的发布，编写代码的方式已经发生了很大变化。 <br><br> 而且他变得<b>很有个性</b> 。 <br><br><h3> 静态检查 </h3><br> 在最初的几个月中，非常缺乏使用所有本地移动语言的静态分析器。 <br><br> 有多种实用程序可以消除其缺失，并执行部分功能 <br><br><h3> 布局元素 </h3><br> 这里最大的挑战将是iOS初学者。 <br><br> 这个挑战是缺少可视界面编辑器。 <br><br> 一切都使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JSX</a>标记在代码中完成。 从技术上讲，此标记是可选的，它有助于查看组件的层次结构。  Android开发人员会放心，注意与XML的相似之处。 <br><br> 同时，对这些视图和重用的潜力有清晰的了解。 <br><br> 在iOS中，取决于选择哪种方法（代码或“界面”构建器中的布局），可以选择一种或另一种。 是的，这两个问题都可以解决，但是您必须编写大量的代码。 <br><br>  React Native没有这个问题。 <br> 顺便说一下，在Android中也不存在。 <br> 但是，Android专家将欣赏在标记中将参数从外部组件直接传递到内部组件的方式。 <br><br> 这里的基本视图是LinearLayout（android）和UIStackView（iOS）的类似物，同时具有常量的混合。 定位元素的一种非常简单的方法（与基体相比）。 <br><br><h3>  UIViewController和Activity </h3><br>  React Native没有一个。 <br> 当然，他们是在幕后。 与他们直接互动将无效。 是的，这不是必需的。 <br><br> 所有React Native组件的生命周期与iOS和android完全不同，因此很难一一列举。 如果您关注与本机系统的差异，那么： <br><br><ul><li>  UI元素本身在更改输入参数时会更改状态/外观； </li><li> 在android上，无需处理<i>onSaveInstantState</i> 。  React Native为我们完成了所有这些工作； </li><li> 在iOS上，没有方法可以直接显式报告应用程序屏幕出现/隐藏的时间。 </li></ul><br><h3> 建立时间/实时重载/热重载 </h3><br> 由于采用增量组装，因此可以实现极高的速度-仅重建修改过的模块，而不重建整个捆绑包。 <br><br>  JS代码中的所有更改都可以在模拟器中立即看到。 极大地加速发展！ <br><br><h3>  JS缺乏本机功能 </h3><br> 在React Native的JS部分中，并不是您需要的所有东西都是开箱即用的。 <br><br> 您可以在两个平台上编写本机部分，制作一个JS包装器，然后像其余代码一样调用它。 没有什么复杂的。 <br><br> 有大量由第三方开发人员编写的现成模块。 <br><br> 所有模块都通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm</a> （适用于iOS的CocoaPods和适用于Android的Gradle的连接）进行连接，它们具有具有必要功能的本机代码。 <br><br><h3> 通用链接和深层链接 </h3><br> 该功能由Facebook实现。 <br> 它运作良好且始终如一。 <br><br><h3> 处理第三方意图 </h3><br> 作为上一段的特殊情况。 <br><br>  android上最大的问题是处理应用程序中的Deeplink以外的Intent。 <br> 当然，这取决于意图和收到意图时需要执行的操作。 <br><br> 您可以撰写有关此主题的另一篇文章。 起点是将<i>createReactActivityDelegate</i>方法添加到MainActivity。 <br><br><h3> 性能表现 </h3><br> 在带有复杂单元格的长列表中滚动时，很容易获得60 FPS。 <br> 其他所有功能（例如，按下按钮，在字段中打印文本）的性能都较低。 在大量元素的状态动态变化期间，这一点很明显。 这很容易解决。 文档“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将本机驱动程序用于Animated”</a>中的一个好部分。 <br><br> 开箱即用，无法正常控制手势及其与动画的关联。 <br><br><img src="https://habrastorage.org/webt/t-/g5/33/t-g5335qtreeuxilvixyhhhterw.png"><br><br><h3> 不稳定性 </h3><br> 通常，一个项目只是停止构建，例如： <br><br><ul><li>  React Native内核更新（包括更新次要版本时）； </li><li>  npm模块更新； </li><li>  Xcode更新； </li><li>  CocoaPods更新（与此有关的永久性问题）； </li><li> 就这样 是的，那也发生了。 </li></ul><br> 幸运的是，大多数这些问题都可以很快解决。 您可以添加一个脚本，以清理所有地方的所有缓存，并在出现问题时运行它。 帮助解决98％突然出现的奇怪问题。 除了CocoaPods之外，其他一切都是令人难过的。 <br><br><h3> 第三方依赖性不稳定 </h3><br>  iOS上最大的问题是并且现在是npm模块广泛使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">方法</a>泛滥的愿望。 <br><br> 许多本机模块通过二进制文件连接。 理解以相同的方法浏览多个独立模块并不是那么简单。 <br><br> 组装过程分为几个阶段，每个阶段都有可能出错。 <br><br><h3> 更新第三方依赖项时不稳定 </h3><br> 一些npm模块依赖于其他npm模块，依此类推。 如果将两个模块绑定到第三个模块的不同版本，则在最佳情况下，安装时我们会立即收到警告。 在最坏的情况下，没有警告，但没有任何效果。 <br><br> 如果npm模块依赖具有不同版本的本机Android模块，则会出现类似的问题。 <br><br> 清除缓存后，可以安静地加载新版本。 看来他什么也没做，但停止工作了。 <br><br><h3> 单元和UI测试 </h3><br>  React Native附带了一个通过Jest库非常简单的测试机制。 方便的测试覆盖率分析-显示从未调用过被测函数中的哪些行。 <br><br> 有用于UI测试的库。 实际上，到目前为止，我还没有使用它。 <br><br><h2> 结论 </h2><br> 与React Native一起工作13个月后，我可以自信地说： <br><br><ul><li> 它适用于只需要从服务器获取列表，显示列表，显示列表项的详细视图，将更改发送到服务器的大多数应用程序； </li><li> 以上所有都是用更少的代码实现的； </li><li> 现在，这是与我联系的新项目的“默认”选择，因为请参见上一段； </li><li> 不适合出国“发送请求-收到响应”的项目，仅举几个例子：照片编辑器，播放器，使用蓝牙，人工智能，机器学习，社交。 网络信使； </li><li> 可以在React Native上完成高级项目，但是您仍然必须编写大量本机代码，因此这一点不再有效。 </li><li>  React Native已经来了也不会去，这是不容忽视的。 </li><li> 对本地移动开发人员的需求将略有减少，新的本地移动开发人员的涌入将减少更多。 怎么了 见下文； </li><li> 一个人通常遵循最简单的方法，无需尝试花费20％的努力（与本地开发相比）来完成95％的应用程序； </li><li> 由于上述三点：本机移动开发人员的需求和供应之间的差距将变得更大。 那些没有他们真的无法做的人会发现很难找到他们。 这太可悲了。 </li></ul><br> 对于立即开始在React Native上写并且由于某种原因决定最终阅读这篇文章的人来说，这句话的最终意思是。 <br><br> 如果您认为自己理解主题并且做得很好，那么请以本机开发人员的身份尝试。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416097/">https://habr.com/ru/post/zh-CN416097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416083/index.html">我的效率规则：处理任务，项目，书籍和笔记</a></li>
<li><a href="../zh-CN416087/index.html">MTProto代理统计信息收集</a></li>
<li><a href="../zh-CN416089/index.html">我们如何为柴油动力不间断电源提供服务</a></li>
<li><a href="../zh-CN416091/index.html">我如何将小屋自动化90％</a></li>
<li><a href="../zh-CN416095/index.html">美国情报机构运营暗网洗钱计划长达一年</a></li>
<li><a href="../zh-CN416099/index.html">不会破裂或冻结</a></li>
<li><a href="../zh-CN416101/index.html">离线A / B零售测试</a></li>
<li><a href="../zh-CN416103/index.html">克莱文件</a></li>
<li><a href="../zh-CN416109/index.html">在ERIS中实施ViPNet加密网关的经验</a></li>
<li><a href="../zh-CN416111/index.html">DevExtreme-Reactive中CustomTreeData组件的GraphQL数据转换</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>