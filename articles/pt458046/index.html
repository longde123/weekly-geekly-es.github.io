<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì£ ü§ù üåâ Folha de dicas de Gradle üöª üî∞ üë®üèæ‚Äçü§ù‚Äçüë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parece-me que a maioria das pessoas come√ßa a lidar com gradle apenas quando algo precisa ser adicionado ao projeto ou algo de repente quebra - e depoi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Folha de dicas de Gradle</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458046/"><p> Parece-me que a maioria das pessoas come√ßa a lidar com gradle apenas quando algo precisa ser adicionado ao projeto ou algo de repente quebra - e depois de resolver o problema "adquirido pelo excesso de trabalho", a experi√™ncia √© esquecida com seguran√ßa.  Al√©m disso, muitos exemplos na Internet s√£o semelhantes a feiti√ßos altamente especializados que n√£o acrescentam entendimento do que est√° acontecendo: </p><br><pre><code class="java hljs">android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> defaultConfig { applicationId <span class="hljs-string"><span class="hljs-string">"com.habr.hello"</span></span> minSdkVersion <span class="hljs-number"><span class="hljs-number">20</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> } buildTypes { release { minifyEnabled <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> } } }</code> </pre> <br><p>  N√£o vou descrever em detalhes para que servem cada linha acima - esses s√£o detalhes particulares da implementa√ß√£o do plug-in do Android.  H√° algo mais valioso - uma compreens√£o de como tudo est√° organizado.  As informa√ß√µes est√£o espalhadas em v√°rios sites / documenta√ß√£o oficial / fontes do ber√ßo e plug-ins - em geral, esse √© um conhecimento um pouco mais universal que eu n√£o quero esquecer. </p><br><p>  O texto adicional pode ser considerado uma folha de dicas para aqueles que est√£o apenas dominando o gradle ou que j√° se esqueceram. </p><a name="habracut"></a><br><h2 id="poleznye-ssylki">  Links √∫teis </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A documenta√ß√£o oficial √©</a> bastante volumosa, mas em alguns lugares pode haver falta de detalhes. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digos-fonte no github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">javadoc</a> - por causa da digita√ß√£o din√¢mica no groovy, o ambiente de desenvolvimento est√° longe de ser sempre capaz de fornecer uma lista de campos / m√©todos dispon√≠veis e, por nomes curtos de m√©todos e tipos de argumento (fechamento de fechamento), nem sempre √© poss√≠vel entender por que eles s√£o necess√°rios. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo em um hub</a> com v√°rios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplos</a> √© uma tradu√ß√£o do segundo cap√≠tulo do livro "Construindo e testando com gradle".  O livro tamb√©m pode ser lido, est√° dispon√≠vel gratuitamente. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mais um artigo - sobre o buildSrc</a> </li></ul><br><h1 id="konsol">  Console </h1><br><p>  O Android studio / IDEA oculta meticulosamente os comandos gradle do desenvolvedor e, mesmo ao alterar os arquivos build.gradle, ele come√ßa a ser est√∫pido ou reinicia o projeto. </p><br><p>  Nesses casos, chamar o gradle a partir do console √© muito mais f√°cil e r√°pido.  O wrapper grapper geralmente vem com o projeto e funciona bem em linux / macos / windows, a menos que voc√™ precise chamar o arquivo bat em vez do wrapper. </p><br><h2 id="vyzov-zadach">  Tarefas de desafio </h2><br><pre> <code class="plaintext hljs">./gradlew tasks</code> </pre> <br><p>  escreve tarefas dispon√≠veis. </p><br><pre> <code class="plaintext hljs">./gradlew subprojectName:tasks --all</code> </pre> <br><p>  Voc√™ pode exibir as tarefas de um subprojeto separado e, mesmo com a op√ß√£o <code>--all</code> , todas as tarefas, incluindo as secund√°rias, ser√£o exibidas. </p><br><p>  Voc√™ pode chamar qualquer tarefa e todas as tarefas das quais depende ser√£o chamadas. </p><br><pre> <code class="plaintext hljs">./gradlew app:assembleDevelopDebug</code> </pre> <br><p>  Se voc√™ estiver com pregui√ßa de escrever o nome inteiro, jogue letras min√∫sculas: </p><br><pre> <code class="plaintext hljs">./gradlew app:assembleDD</code> </pre> <br><p>  Se o granizo n√£o conseguir adivinhar claramente qual tarefa eles tinham em mente, ele exibir√° uma lista de op√ß√µes adequadas. </p><br><h2 id="logging">  Registo </h2><br><p>  A quantidade de informa√ß√µes exibidas no console ao iniciar uma tarefa depende muito do n√≠vel de log. <br>  Al√©m do padr√£o, existem <code>-q, -w, -i, -d</code> , well ou <code>--quiet, --warn, --info, --debug</code> em quantidade crescente de informa√ß√µes.  Em projetos complexos, a sa√≠da com -d pode ocupar mais de um megabyte e, portanto, √© melhor salv√°-lo em um arquivo imediatamente e procurar ali pesquisando palavras-chave: </p><br><pre> <code class="bash hljs">./gradlew app:build -d &gt; myLog.txt</code> </pre> <br><p>  Se uma exce√ß√£o for lan√ßada em algum lugar, a op√ß√£o <code>-s</code> para stacktrace. </p><br><p>  Voc√™ pode escrever no log voc√™ mesmo: </p><br><pre> <code class="java hljs">logger.warn(<span class="hljs-string"><span class="hljs-string">'A warning log message.'</span></span>)</code> </pre> <br><p>  o logger √© uma implementa√ß√£o do SLF4J. </p><br><h2 id="groovy">  Groovy </h2><br><p>  O que acontece nos arquivos <code>build.gradle</code> √© apenas um c√≥digo groovy. </p><br><p>  Por alguma raz√£o, o Groovy, como linguagem de programa√ß√£o, n√£o √© muito popular, embora, como me pare√ßa, seja digno de pelo menos um pouco de estudo.  A linguagem nasceu em 2003 e se desenvolveu lentamente.  Recursos interessantes: </p><br><ul><li>  Quase qualquer c√≥digo java √© um c√≥digo groovy v√°lido.  Ajuda muito a escrever intuitivamente o c√≥digo de trabalho. </li><li>  Simultaneamente com a est√°tica, a digita√ß√£o din√¢mica √© suportada no sulco, em vez da <code>String a = "a"</code> voc√™ pode escrever com seguran√ßa <code>def a = "a"</code> ou mesmo <code>def map = ['one':1, 'two':2, 'list' = [1,false]]</code> </li><li>  Existem fechamentos para os quais voc√™ pode determinar dinamicamente o contexto de execu√ß√£o.  Esses mesmos blocos <code>android {...}</code> fecham e os executam para algum objeto. </li><li>  H√° interpola√ß√£o das cadeias <code>"$a, ${b}"</code> , cadeias de linhas m√∫ltiplas <code>"""yep, ${c}"""</code> , e as cadeias java comuns s√£o enquadradas por aspas simples: <code>'text'</code> </li><li>  H√° uma apar√™ncia de m√©todos de extens√£o.  A cole√ß√£o de idiomas padr√£o j√° possui m√©todos como any, every, each, findAll.  Para mim, pessoalmente, os nomes dos m√©todos parecem incomuns, mas o principal √© que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">s√£o</a> . </li><li>  Delicioso a√ß√∫car sint√°tico, o c√≥digo √© muito mais curto e mais simples.  Voc√™ n√£o precisa escrever colchetes em torno dos argumentos da fun√ß√£o; para a declara√ß√£o de listas e <code>[a,b,c], [key1: value1, key2: value2]</code> hash <code>[a,b,c], [key1: value1, key2: value2]</code> sintaxe agrad√°vel √©: <code>[a,b,c], [key1: value1, key2: value2]</code> </li></ul><br><p>  Em geral, por que linguagens como Python / Javascript dispararam e o Groovy n√£o - √© um mist√©rio para mim.  Por enquanto, quando n√£o havia lambdas no java, e alternativas como o kotlin / scala estavam aparecendo ou ainda n√£o existiam, o Groovy teve que parecer uma linguagem realmente interessante. </p><br><p>  Foi a flexibilidade da sintaxe groovy e da digita√ß√£o din√¢mica que nos permitiu criar DSLs concisas em gradle. </p><br><p>  Agora, na documenta√ß√£o oficial da Gradle, exemplos s√£o duplicados no Kotlin, e parece que est√° planejado mudar para ele, mas o c√≥digo n√£o parece mais t√£o simples e se parece mais com o c√≥digo normal: </p><br><pre> <code class="java hljs">task hello { doLast { println <span class="hljs-string"><span class="hljs-string">"hello"</span></span> } }</code> </pre> <br><p>  vs </p><br><pre> <code class="kotlin hljs">tasks.register(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>) { doLast { println(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>) } }</code> </pre> <br><p>  No entanto, a renomea√ß√£o no Kradle ainda n√£o est√° planejada. </p><br><h2 id="stadii-sborki">  Etapas de montagem </h2><br><p>  Eles s√£o divididos em inicializa√ß√£o, configura√ß√£o e execu√ß√£o. </p><br><p>  A id√©ia √© que o gradle colete um gr√°fico de depend√™ncia ac√≠clica e chame apenas o m√≠nimo necess√°rio deles.  Se bem entendi, o est√°gio de inicializa√ß√£o ocorre no momento em que o c√≥digo de build.gradle √© executado. </p><br><p>  Por exemplo, isto: </p><br><pre> <code class="java hljs">copy { from source to dest }</code> </pre> <br><p>  Ou assim: </p><br><pre> <code class="java hljs">task epicFail { copy{ from source to dest } }</code> </pre> <br><p>  Talvez isso n√£o seja √≥bvio, mas o acima ir√° desacelerar a inicializa√ß√£o.  Para n√£o se envolver na c√≥pia de arquivos em cada inicializa√ß√£o, voc√™ precisa usar o <code>doLast{...}</code> ou <code>doFirst{...}</code> na tarefa - o c√≥digo ser√° encerrado e ser√° chamado quando a tarefa for conclu√≠da. </p><br><pre> <code class="java hljs">task properCopy { doLast { copy { from dest to source } } }</code> </pre> <br><p>  mais ou menos </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">properCopy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type: Copy)</span></span></span><span class="hljs-function"> </span></span>{ from dest to source }</code> </pre> <br><p>  Nos exemplos antigos, <code>doLast</code> pode ver o operador <code>&lt;&lt;</code> em vez de <code>doLast</code> , mas posteriormente o abandonaram devido ao comportamento n√£o √≥bvio. </p><br><pre> <code class="java hljs">task properCopy &lt;&lt; { println(<span class="hljs-string"><span class="hljs-string">"files copied"</span></span>) }</code> </pre> <br><h2 id="tasksall">  task.all </h2><br><p>  O que √© engra√ßado, com <code>doLast</code> e <code>doFirst</code> voc√™ pode suspender algum tipo de a√ß√£o em qualquer tarefa: </p><br><pre> <code class="kotlin hljs">tasks.all { doFirst { println(<span class="hljs-string"><span class="hljs-string">"task </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string"> started"</span></span>) } }</code> </pre> <br><p>  O IDE sugere que as <code>tasks</code> t√™m um <code>whenTaskAdded(Closure ...)</code> , mas o m√©todo <code>all(Closure ...)</code> funciona muito mais interessante - o fechamento √© chamado para todas as tarefas existentes, bem como para novas tarefas quando elas s√£o adicionadas. </p><br><p>  Crie uma tarefa que imprima as depend√™ncias de todas as tarefas: </p><br><pre> <code class="kotlin hljs">task printDependencies { doLast { tasks.all { println(<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string"> dependsOn </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dependsOn</span></span></span><span class="hljs-string">"</span></span>) } } }</code> </pre> <br><p>  ou mais: </p><br><pre> <code class="kotlin hljs">task printDependencies { doLast { tasks.all { Task task -&gt; println(<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${task.name}</span></span></span><span class="hljs-string"> dependsOn </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${task.dependsOn}</span></span></span><span class="hljs-string">"</span></span>) } } }</code> </pre> <br><p>  Se <code>tasks.all{}</code> chamado em tempo de execu√ß√£o (no bloco <code>doLast</code> ), veremos todas as tarefas e depend√™ncias. <br>  Se voc√™ fizer o mesmo sem <code>doLast</code> (ou seja, durante a inicializa√ß√£o), as tarefas impressas poder√£o n√£o ter depend√™ncias, pois ainda n√£o foram adicionadas. </p><br><p>  Oh sim, v√≠cios!  Se outra tarefa depender dos resultados de nossa implementa√ß√£o, vale a pena adicionar uma depend√™ncia: </p><br><pre> <code class="java hljs">anotherTask.dependsOn properCopy</code> </pre> <br><p>  Ou mesmo assim: </p><br><pre> <code class="kotlin hljs">tasks.all{ task -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (task.name.toLowerCase().contains(<span class="hljs-string"><span class="hljs-string">"debug"</span></span>)) { task.dependsOn properCopy } }</code> </pre> <br><h2 id="inputs-outputs-i-inkrementalnaya-sborka">  entradas, sa√≠das e montagem incremental </h2><br><p>  Uma tarefa comum ser√° chamada sempre.  Se voc√™ especificar que uma tarefa baseada no arquivo A gera o arquivo B, o gradle ignorar√° a tarefa se esses arquivos n√£o tiverem sido alterados.  E o gradle n√£o verifica a data de modifica√ß√£o do arquivo, mas seu conte√∫do. </p><br><pre> <code class="kotlin hljs">task generateCode(type: Exec) { commandLine <span class="hljs-string"><span class="hljs-string">"generateCode.sh"</span></span>, <span class="hljs-string"><span class="hljs-string">"input.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"output.java"</span></span> inputs.file <span class="hljs-string"><span class="hljs-string">"input.txt"</span></span> output.file <span class="hljs-string"><span class="hljs-string">"output.java"</span></span> }</code> </pre> <br><p>  Da mesma forma, voc√™ pode especificar pastas, bem como alguns valores: <code>inputs.property(name, value)</code> . </p><br><h2 id="task-description">  descri√ß√£o da tarefa </h2><br><p>  Ao chamar <code>./gradlew tasks --all</code> as tarefas padr√£o t√™m uma descri√ß√£o bonita e s√£o de alguma forma agrupadas.  Para suas tarefas, isso √© adicionado de maneira muito simples: </p><br><pre> <code class="kotlin hljs">task hello { group <span class="hljs-string"><span class="hljs-string">"MyCustomGroup"</span></span> description <span class="hljs-string"><span class="hljs-string">"Prints 'hello'"</span></span> doLast{ print <span class="hljs-string"><span class="hljs-string">'hello'</span></span> } }</code> </pre> <br><h3 id="taskenabled">  task.enabled </h3><br><p>  voc√™ pode "desativar" a tarefa - ent√£o suas depend√™ncias ainda ser√£o chamadas, mas ela mesma n√£o ser√°. </p><br><pre> <code class="java hljs">taskName.enabled <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre> <br><h2 id="neskolko-proektov-moduley">  v√°rios projetos (m√≥dulos) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">compila√ß√µes de m√∫ltiplos projetos na documenta√ß√£o</a> </p><br><p>  No projeto principal, voc√™ pode colocar v√°rios outros m√≥dulos.  Por exemplo, isso √© usado em projetos Android - n√£o h√° quase nada no projeto raiz, o plug-in Android est√° inclu√≠do no subprojeto.  Se voc√™ deseja adicionar um novo m√≥dulo, pode adicionar outro e, por exemplo, tamb√©m √© poss√≠vel conectar o plug-in Android, mas use outras configura√ß√µes para ele. </p><br><p>  Outro exemplo: ao publicar um projeto usando o jitpack, o projeto raiz descreve com quais configura√ß√µes publicar um m√≥dulo filho que talvez nem suspeite da publica√ß√£o. </p><br><p>  Os m√≥dulos filhos s√£o especificados em settings.gradle: </p><br><pre> <code class="java hljs">include <span class="hljs-string"><span class="hljs-string">'name'</span></span></code> </pre> <br><p>  Leia mais sobre depend√™ncias entre projetos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui.</a> </p><br><h2 id="buildsrc">  buildSrc </h2><br><p>  Se <code>build.gradle</code> muito c√≥digo no <code>build.gradle</code> ou se for duplicado, ele poder√° ser movido para um m√≥dulo separado.  Precisamos de uma pasta com o nome m√°gico <code>buildSrc</code> , na qual voc√™ pode colocar o c√≥digo em groovy ou java.  (bem, ou melhor, no <code>buildSrc/src/main/java/com/smth/</code> code, os testes podem ser adicionados ao <code>buildSrc/src/test</code> ).  Se voc√™ quiser algo mais, por exemplo, escreva sua tarefa no scala ou use algumas depend√™ncias, diretamente no <code>buildSrc</code> voc√™ precisar√° criar o <code>build.gradle</code> e especificar as depend√™ncias necess√°rias nele / ativar plug-ins. </p><br><p>  Infelizmente, com um projeto no <code>buildSrc</code> IDE pode ser est√∫pido com dicas, ent√£o voc√™ ter√° que escrever importa√ß√µes e classes / tarefas a partir da√≠, tamb√©m precisar√° import√°-lo para o <code>build.gradle</code> usual.  <code>import com.smth.Taskname</code> n√£o √© dif√≠cil, voc√™ s√≥ precisa se lembrar disso e n√£o <code>buildSrc</code> por que a tarefa do <code>buildSrc</code> n√£o <code>buildSrc</code> encontrada). </p><br><p>  Por esse motivo, √© conveniente primeiro escrever algo que funcione diretamente no <code>build.gradle</code> e somente depois transferir o c√≥digo para o <code>buildSrc</code> . </p><br><h2 id="svoy-tip-zadachi">  Tipo de tarefa pr√≥pria </h2><br><p>  A tarefa √© herdada do <code>DefaultTask</code> , na qual existem muitos, muitos campos, m√©todos e outras coisas.  <a href="">C√≥digo AbstractTask herdado de DefaultTask.</a> </p><br><p>  Pontos √∫teis: </p><br><ul><li>  em vez de adicionar manualmente <code>inputs</code> e <code>outputs</code> voc√™ pode usar campos e anota√ß√µes para eles: <code>@Input, @OutputFile</code> etc. </li><li>  m√©todo que ser√° executado quando a tarefa for executada: <code>@TaskAction</code> . </li><li>  m√©todos convenientes como <code>copy{from ... , into... }</code> ainda podem ser chamados, mas √© necess√°rio cham√°-los explicitamente para o projeto: <code>project.copy{...}</code> </li></ul><br><p>  Quando algu√©m no <code>build.gradle</code> escreve para a nossa tarefa </p><br><pre> <code class="java hljs">taskName { ... <span class="hljs-comment"><span class="hljs-comment">//some code }</span></span></code> </pre> <br><p>  o m√©todo <code>configure(Closure)</code> √© chamado na tarefa. </p><br><p>  N√£o tenho certeza se essa √© a abordagem correta, mas se a tarefa tiver v√°rios campos cujo estado m√∫tuo √© dif√≠cil de controlar com getter-setters, parece bastante conveniente redefinir o m√©todo da seguinte maneira: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">override def </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Closure closure)</span></span></span></span>{ def result = <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>().configure(closure) <span class="hljs-comment"><span class="hljs-comment">//    / - return result; }</span></span></code> </pre> <br><p>  E mesmo se voc√™ escrever </p><br><pre> <code class="java hljs">taskName.fieldName value</code> </pre> <br><p>  ent√£o o m√©todo <code>configure</code> ainda ser√° chamado. </p><br><h2 id="svoy-plagin">  Pr√≥prio plugin </h2><br><p>  Como uma tarefa, voc√™ pode escrever seu pr√≥prio plug-in, que ir√° configurar algo ou criar tarefas.  Por exemplo, o que est√° acontecendo no <code>android{...}</code> √© inteiramente um m√©rito <del>  magia negra </del>  O plug-in Android, que al√©m disso cria v√°rias tarefas como app: assembleDevelopDebug para todas as combina√ß√µes poss√≠veis de sabor / tipo de constru√ß√£o / dimens√£o.  N√£o h√° nada complicado ao escrever seu plug-in, para uma melhor compreens√£o, voc√™ pode ver o c√≥digo de outros plug-ins. </p><br><p>  H√° uma terceira etapa - voc√™ pode colocar o c√≥digo n√£o no <code>buildSrc</code> , mas torn√°-lo um projeto separado.  Em seguida, usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jitpack.io</a> ou outra coisa, publique o plug-in e conecte-o de maneira semelhante aos outros. </p><br><h2 id="the-end">  O fim </h2><br><p>  Os exemplos acima podem incluir erros de digita√ß√£o e imprecis√µes.  Escreva em uma nota pessoal ou marque com <code>ctrl+enter</code> - eu a corrigirei.  Exemplos espec√≠ficos s√£o extra√≠dos da documenta√ß√£o e veja este artigo como uma pequena lista de "como faz√™-lo". </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458046/">https://habr.com/ru/post/pt458046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458026/index.html">Compara√ß√£o de formatos de serializa√ß√£o</a></li>
<li><a href="../pt458030/index.html">JavaScript funcional: cinco maneiras de encontrar a m√©dia aritm√©tica dos elementos da matriz e o m√©todo .reduce ()</a></li>
<li><a href="../pt458040/index.html">De Moscou para Tomsk. A hist√≥ria de um movimento</a></li>
<li><a href="../pt458042/index.html">Como organizei o treinamento de aprendizado de m√°quina na NSU</a></li>
<li><a href="../pt458044/index.html">Seguran√ßa provincial da informa√ß√£o - estagna√ß√£o ou desenvolvimento?</a></li>
<li><a href="../pt458048/index.html">Delega√ß√£o como ferramenta de gerente</a></li>
<li><a href="../pt458050/index.html">Como foi o Mobius 2019 Piter (e um pouco sobre o pr√≥ximo Mobius)</a></li>
<li><a href="../pt458052/index.html">AMA com Habr.10. √öltima * Edi√ß√£o</a></li>
<li><a href="../pt458056/index.html">A grande entrevista com Martin Kleppmann: ‚ÄúDescobrindo o futuro dos sistemas de dados distribu√≠dos‚Äù</a></li>
<li><a href="../pt458060/index.html">Criando um shader de grama no mecanismo Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>