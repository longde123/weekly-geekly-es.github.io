<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ô üßöüèø üíß Prepar√°ndose para combinar üöä ‚òπÔ∏è ü§ôüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace un a√±o y medio, cant√© las alabanzas de RxSwift . Me tom√≥ un tiempo darme cuenta, pero cuando eso sucedi√≥, no hubo vuelta atr√°s. Ahora ten√≠a el me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prepar√°ndose para combinar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/470117/"><img src="https://habrastorage.org/webt/km/8-/uo/km8-uov-j3m2rfjjsxscoyeh9bc.jpeg"><br><br>  Hace un a√±o y medio, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cant√© las alabanzas de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RxSwift</a> .  Me tom√≥ un tiempo darme cuenta, pero cuando eso sucedi√≥, no hubo vuelta atr√°s.  Ahora ten√≠a el mejor martillo del mundo, y maldita sea si todo a mi alrededor no parec√≠a un clavo. <br><br>  Apple present√≥ el marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Combine</a> en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WWDC</a> Summer Conference.  A primera vista, parece una versi√≥n ligeramente mejor de RxSwift.  Antes de que pueda explicar lo que me gusta y lo que no, necesitamos entender qu√© problema est√° dise√±ado para resolver Combine. <br><a name="habracut"></a><br><h2>  Programaci√≥n reactiva?  ¬øY qu√©? </h2><br>  La comunidad ReactiveX, de la cual forma parte la comunidad RxSwift, explica su esencia de la siguiente manera: <br><br><blockquote>  API para programaci√≥n asincr√≥nica con hilos observables. </blockquote><br>  Y tambi√©n: <br><br><blockquote>  ReactiveX es una combinaci√≥n de las mejores ideas de los patrones de dise√±o de Observer e Iterator, as√≠ como la programaci√≥n funcional. </blockquote><br>  Bueno ... esta bien. <br><br>  ¬øY qu√© significa esto <i>realmente</i> ? <br><br><h2>  Los fundamentos </h2><br>  Para comprender realmente la esencia de la programaci√≥n reactiva, me resulta √∫til comprender c√≥mo llegamos a ella.  En este art√≠culo, describir√© c√≥mo puede ver los tipos existentes en cualquier lenguaje OOP moderno, torcerlos y luego pasar a la programaci√≥n reactiva. <br><br>  En este art√≠culo, profundizaremos r√°pidamente en la jungla, lo que no es <i>absolutamente</i> necesario para comprender la programaci√≥n reactiva. <br><br>  Sin embargo, considero que este es un ejercicio acad√©mico curioso, especialmente en t√©rminos de cu√°n fuertemente mecanografiados los idiomas pueden llevarnos a nuevos descubrimientos. <br><br>  As√≠ que espera mis pr√≥ximas publicaciones si est√°s interesado en nuevos detalles. <br><br><h2>  Enumerable </h2><br>  La " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">programaci√≥n reactiva</a> " conocida por m√≠ se origin√≥ en el lenguaje en el que una vez escrib√≠: C #.  La premisa en s√≠ es bastante simple: <br><br>  <i>¬øQu√© pasa si, en lugar de extraer valores de enumerables, le enviar√°n los valores ellos mismos?</i> <br><br>  Esta idea, "empujar en lugar de tirar", fue mejor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descrita por</a> Brian Beckman y Eric Meyer.  Los primeros 36 minutos ... No entend√≠ nada, pero a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">partir del minuto 36</a> se vuelve <i>realmente</i> interesante. <br><br>  En resumen, reformulemos la idea de un grupo lineal de objetos en Swift, as√≠ como un objeto que pueda iterar sobre este grupo lineal.  Puede hacer esto definiendo estos protocolos falsos de Swift: <br><br><pre><code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//   ;     //    Array. protocol Enumerable { associatedtype Enum: Enumerator associatedtype Element where Self.Element == Self.Enum.Element func getEnumerator() -&gt; Self.Enum } // ,       . protocol Enumerator: Disposable { associatedtype Element func moveNext() throws -&gt; Bool var current: Element { get } } //          // Enumerator,         .   . protocol Disposable { func dispose() }</span></span></code> </pre> <br><h2>  Dobles </h2><br>  Vamos a darle la vuelta y hacer <i>dobles</i> .  Enviaremos datos a su origen.  Y obtenga los datos de donde se fueron.  Suena absurdo, pero aguanta un poco. <br><br><h3>  Doble enumerable </h3><br>  Comencemos con Enumerable: <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,  . protocol Enumerable { associatedtype Element where Self.Element == Self.Enum.Element associatedtype Enum: Enumerator func getEnumerator() -&gt; Self.Enum } protocol DualOfEnumerable { //  Enumerator : // getEnumerator() -&gt; Self.Enum //    : // getEnumerator(Void) -&gt; Enumerator // //  , : // : Void; : Enumerator // getEnumerator(Void) ‚Üí Enumerator // //     Void   Enumerator. //   -      Enumerator,   Void. // :  Enumerator; : Void func subscribe(DualOfEnumerator) }</span></span></code> </pre> <br>  Como <code>getEnumerator()</code> tom√≥ <code>Void</code> y le dio <code>Enumerator</code> , ahora aceptamos el [doble] <code>Enumerator</code> y le damos <code>Void</code> . <br><br>  S√© que esto es extra√±o.  No te vayas. <br><br><h3>  Doble enumerador </h3><br>  ¬øY entonces qu√© es <code>DualOfEnumerator</code> ? <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,  . protocol Enumerator: Disposable { associatedtype Element // : Void; : Bool, Error func moveNext() throws -&gt; Bool // : Void; : Element var current: Element { get } } protocol DualOfEnumerator { // : Bool, Error; : Void //   Error    func enumeratorIsDone(Bool) // : Element, : Void var nextElement: Element { set } }</span></span></code> </pre> <br>  Hay varios problemas aqu√≠: <br><br><ul><li>  No existe el concepto de una propiedad de solo conjunto en Swift. <br></li><li>  ¬øQu√© pas√≥ con los <code>throws</code> en <code>Enumerator.moveNext()</code> ? <br></li><li>  ¬øQu√© le sucede a <code>Disposable</code> ? <br></li></ul><br>  Para solucionar el problema con la propiedad de solo conjunto, podemos tratarlo como lo que realmente es: una funci√≥n.  <code>DualOfEnumerator</code> nuestro <code>DualOfEnumerator</code> : <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// : Bool; : Void, Error //   Error    func enumeratorIsDone(Bool) // : Element, : Void func next(Element) }</span></span></code> </pre> <br>  Para resolver el problema con los <code>throws</code> , <code>moveNext()</code> el error que puede ocurrir en <code>moveNext()</code> y <code>moveNext()</code> con √©l como una funci√≥n separada de <code>error()</code> : <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// : Bool, Error; : Void func enumeratorIsDone(Bool) func error(Error) // : Element, : Void func next(Element) }</span></span></code> </pre> <br>  Podemos hacer algo m√°s: eche un vistazo a la firma de la finalizaci√≥n de la iteraci√≥n: <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enumeratorIsDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bool)</span></span></span></span></code> </pre> <br>  Probablemente algo similar suceder√° con el tiempo: <br><br><pre> <code class="swift hljs">enumeratorIsDone(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) enumeratorIsDone(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-comment"><span class="hljs-comment">//     enumeratorIsDone(true)</span></span></code> </pre> <br>  Ahora, simplifiquemos las cosas y llamemos a <code>enumeratorIsDone</code> solo cuando ... todo est√© realmente listo.  Guiados por esta idea, simplificamos el c√≥digo: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enumeratorIsDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Error)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element)</span></span></span></span> }</code> </pre><br><h3>  Cuidarnos </h3><br>  ¬øQu√© hay de <code>Disposable</code> ?  ¬øQu√© hacer con eso?  Dado que <code>Disposable</code> es parte <i>del tipo</i> <code>Enumerator</code> , cuando obtenemos el <code>Enumerator</code> <i>doble</i> , probablemente no deber√≠a estar en el <code>Enumerator</code> .  En cambio, deber√≠a ser parte de <code>DualOfEnumerable</code> .  ¬øPero d√≥nde exactamente? <br><br>  <code>DualOfEnumerator</code> aqu√≠ <code>DualOfEnumerator</code> : <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DualOfEnumerator)</span></span></span></span></code> </pre> <br>  Si aceptamos <code>DualOfEnumerator</code> , ¬øno deber√≠a <i>devolverse</i> <code>Disposable</code> ? <br><br>  Este es el tipo de doble que obtienes al final: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DualOfEnumerator)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Disposable</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enumeratorIsDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Error)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element)</span></span></span></span> }</code> </pre><br><h2>  Ll√°malo rosa, aunque no </h2><br>  Entonces, una vez m√°s, esto es lo que tenemos: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DualOfEnumerator)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Disposable</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enumeratorIsDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Error)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element)</span></span></span></span> }</code> </pre> <br>  Juguemos un poco con los nombres ahora. <br><br>  Comencemos con <code>DualOfEnumerator</code> .  Vamos a encontrar mejores nombres para las funciones para describir con mayor precisi√≥n lo que est√° sucediendo: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DualOfEnumerator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onComplete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Error)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element)</span></span></span></span> }</code> </pre> <br>  Mucho mejor y m√°s comprensible. <br><br>  ¬øQu√© pasa con los nombres de tipo?  Son simplemente horribles.  Vamos a cambiarlos un poco. <br><br><ul><li>  <code>DualOfEnumerator</code> : algo que sigue lo que le sucede a un grupo lineal de objetos.  Podemos decir que <i>observa</i> un grupo lineal. <br></li><li>  <code>DualOfEnumerable</code> es un tema de observaci√≥n.  Lo que estamos viendo  Por lo tanto, se puede llamar <i>observable</i> . <br></li></ul><br>  Ahora haga los cambios finales y obtenga lo siguiente: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Observable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Observer)</span></span></span></span> ‚Üí <span class="hljs-type"><span class="hljs-type">Disposable</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Observer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onComplete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Error)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Element)</span></span></span></span> }</code> </pre><br><h2>  Wow </h2><br>  Acabamos de crear dos objetos fundamentales en RxSwift.  Puedes ver sus versiones reales <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Tenga en cuenta que en el caso de Observer, las tres funciones <code>on()</code> se combinan en una <code>on(Event)</code> , donde <code>Event</code> es una enumeraci√≥n que determina cu√°l es el evento: finalizaci√≥n, siguiente valor o error. <br><br>  Estos dos tipos son la base de RxSwift y la programaci√≥n reactiva. <br><br><h2>  Sobre protocolos falsos </h2><br>  Los dos protocolos "falsos" que mencion√© anteriormente en realidad no son falsos.  Estos son an√°logos de los tipos existentes en Swift: <br><br><ul><li>  Enumerable es la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secuencia</a> <br></li><li>  El enumerador es una secuencia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">iterador</a> <br></li></ul><br><h2>  ¬øY qu√©? </h2><br>  Entonces, ¬øde qu√© preocuparse? <br><br>  Tanto en el desarrollo moderno, <i>especialmente el</i> desarrollo de aplicaciones, est√° asociado con la asincron√≠a.  El usuario de repente hizo clic en un bot√≥n.  El usuario de repente seleccion√≥ una pesta√±a en el UISegmentControl.  El usuario de repente seleccion√≥ una pesta√±a en la UITabBar.  El portal web de repente nos dio nueva informaci√≥n.  Esta descarga de repente, y finalmente, termin√≥.  Esta tarea de fondo termin√≥ abruptamente.  Esta lista sigue y sigue. <br><br>  En el mundo moderno de CocoaTouch, hay muchas maneras de manejar tales eventos: <br><br><ul><li>  notificaciones <br></li><li>  devoluciones de llamada <br></li><li>  Observaci√≥n de valor clave (KVO), <br></li><li>  objetivo / mecanismo de acci√≥n. <br></li></ul><br>  Imag√≠nese si <i>todo</i> pudiera reflejarse en una sola interfaz.  Lo que podr√≠a funcionar con <i>cualquier</i> tipo de datos asincr√≥nicos o eventos dentro de toda la aplicaci√≥n. <br><br>  Ahora imagine si habr√≠a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conjunto</a> completo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de funciones</a> que le permite modificar estas <i>secuencias</i> , convertirlas de un tipo a otro, extraer informaci√≥n de Elements o incluso combinarlas con otras secuencias. <br><br>  De repente, en nuestras manos hay un nuevo conjunto <i>universal</i> de herramientas. <br>  Y as√≠, volvimos al principio: <br><br><blockquote>  API para programaci√≥n asincr√≥nica con hilos observables. </blockquote><br>  Esto es lo que hace que RxSwift sea una herramienta tan poderosa.  Como combinar. <br><br><h2>  Que sigue </h2><br>  Si desea leer m√°s sobre RxSwift <i>en la pr√°ctica</i> , le recomiendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mis cinco art√≠culos escritos en 2016</a> .  Describen la creaci√≥n de una aplicaci√≥n CocoaTouch simple, seguida de una conversi√≥n por fases a RxSwift. <br><br>  En uno de los siguientes art√≠culos explicar√© por qu√© muchas de las t√©cnicas descritas en mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">serie de art√≠culos para principiantes</a> no son aplicables en Combine, y tambi√©n comparo Combine con RxSwift. <br><br><h1>  Combinar: ¬øcu√°l es el punto? </h1><br>  La discusi√≥n de Combine tambi√©n incluye una discusi√≥n de las principales diferencias entre √©l y RxSwift.  Para m√≠ hay tres de ellos: <br><br><ul><li>  la posibilidad de usar clases no reactivas, <br></li><li>  manejo de errores <br></li><li>  contrapresi√≥n <br></li></ul><br>  Dedicar√© un art√≠culo separado a cada art√≠culo.  Comenzar√© con el primero. <br><br><h2>  Caracter√≠sticas de RxCocoa </h2><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una publicaci√≥n anterior,</a> dije que RxSwift es m√°s que ... RxSwift.  Ofrece numerosas posibilidades para utilizar controles de UIKit en el subproyecto de tipo pero no del todo de RxCocoa.  Adem√°s, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RxSwiftCommunity</a> fue m√°s all√° e implement√≥ muchos enlaces para calles secundarias a√∫n m√°s aisladas de UIKit, as√≠ como algunas otras clases de CocoaTouch que RxSwift y RxCocoa a√∫n no cubren. <br><br>  Por lo tanto, es muy f√°cil obtener una secuencia <code>Observable</code> haciendo clic, por ejemplo, en UIButton.  Dar√© este ejemplo nuevamente: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disposeBag = <span class="hljs-type"><span class="hljs-type">DisposeBag</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = <span class="hljs-type"><span class="hljs-type">UIButton</span></span>() button.rx.tap .subscribe(onNext: { <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Tap!"</span></span>) }) .disposed(by: disposeBag)</code> </pre> <br>  Peso ligero <br><br><h2>  Hablemos (finalmente) de Combine </h2><br>  Combinar es muy similar a RxSwift.  Como dice la documentaci√≥n: <br><br><blockquote>  El marco Combinar proporciona una API Swift declarativa para manejar valores a lo largo del tiempo. </blockquote><br>  Suena familiar: recuerde la descripci√≥n de ReactiveX (el proyecto principal para RxSwift): <br><br><blockquote>  API para programaci√≥n asincr√≥nica con hilos observables. </blockquote><br>  En ambos casos, se dice lo mismo.  Es solo que se usan t√©rminos espec√≠ficos en la descripci√≥n de ReactiveX.  Se puede reformular de la siguiente manera: <br><br><blockquote>  Una API para programaci√≥n asincr√≥nica con valores a lo largo del tiempo. </blockquote><br>  Casi lo mismo que para m√≠. <br><br><h2>  Igual que antes </h2><br>  Cuando comenc√© a analizar la API, inmediatamente se hizo evidente que la mayor√≠a de los tipos que conozco de RxSwift tienen opciones similares en Combinar: <br><br><ul><li>  Observable ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Editor</a> <br></li><li>  Observador ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Suscriptor</a> <br></li><li>  Desechable ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cancelable</a> .  Este es un triunfo del marketing.  No puedes imaginar cu√°ntas miradas de sorpresa recib√≠ de desarrolladores m√°s imparciales cuando comenc√© a describir Desechable en RxSwift. <br></li><li>  SchedulerType ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scheduler</a> <br></li></ul><br>  Hasta ahora todo bien.  Una vez m√°s, me gusta mucho m√°s Cancelable que Desechable.  Un gran reemplazo, no solo en t√©rminos de marketing, sino tambi√©n en t√©rminos de una descripci√≥n precisa de la esencia del objeto. <br><br>  ¬°M√°s es a√∫n mejor! <br><br><ul><li>  Controlador de RxCocoa -&gt; Este es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BindableObject</a> de SwiftUI <br></li></ul><br>  Esto no est√° claro de inmediato, pero espiritualmente sirven para un prop√≥sito, y ninguno de ellos puede dar lugar a errores. <br><br><ul><li>  Soltero ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Futuro</a> <br></li><li>  SubjectType ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Subject</a> <br></li><li>  PublishSubject ‚Üí PassthroughSubject <br></li></ul><br><h2>  "Romper para caca" </h2><br>  Todo cambia tan pronto como comienzas a profundizar en RxCocoa.  ¬øRecuerda el ejemplo anterior, en el que quer√≠amos obtener una secuencia Observable que representa los clics en UIButton?  Aqu√≠ esta: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disposeBag = <span class="hljs-type"><span class="hljs-type">DisposeBag</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = <span class="hljs-type"><span class="hljs-type">UIButton</span></span>() button.rx.tap .subscribe(onNext: { <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Tap!"</span></span>) }) .disposed(by: disposeBag)</code> </pre> <br>  Combinar requiere ... mucho m√°s trabajo para hacer lo mismo. <br><br>  <b>Combine no proporciona ninguna capacidad para enlazar objetos UIKit.</b> <br><br>  Esto es ... solo un fastidio irreal. <br><br>  Aqu√≠ hay una forma com√∫n de obtener <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UIControl.Event</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UIControl</a> usando Combine: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ControlPublisher</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIControl</span></span></span><span class="hljs-class">&gt;: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Publisher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">ControlEvent</span></span> = (control: <span class="hljs-type"><span class="hljs-type">UIControl</span></span>, event: <span class="hljs-type"><span class="hljs-type">UIControl</span></span>.<span class="hljs-type"><span class="hljs-type">Event</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Output</span></span> = <span class="hljs-type"><span class="hljs-type">ControlEvent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">Failure</span></span> = <span class="hljs-type"><span class="hljs-type">Never</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subject = <span class="hljs-type"><span class="hljs-type">PassthroughSubject</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Output</span></span>, <span class="hljs-type"><span class="hljs-type">Failure</span></span>&gt;() <span class="hljs-keyword"><span class="hljs-keyword">convenience</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(control: <span class="hljs-type"><span class="hljs-type">UIControl</span></span>, event: <span class="hljs-type"><span class="hljs-type">UIControl</span></span>.<span class="hljs-type"><span class="hljs-type">Event</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(control: control, events: [event]) } <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(control: <span class="hljs-type"><span class="hljs-type">UIControl</span></span>, events: [<span class="hljs-type"><span class="hljs-type">UIControl</span></span>.<span class="hljs-type"><span class="hljs-type">Event</span></span>]) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> events { control.addTarget(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(controlAction), <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: event) } } <span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">controlAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sender: UIControl, forEvent event: UIControl.Event)</span></span></span></span> { subject.send(<span class="hljs-type"><span class="hljs-type">ControlEvent</span></span>(control: sender, event: event)) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">receive</span></span></span><span class="hljs-function">&lt;S&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(subscriber: S)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-type"><span class="hljs-type">S</span></span> : <span class="hljs-type"><span class="hljs-type">Subscriber</span></span>, <span class="hljs-type"><span class="hljs-type">ControlPublisher</span></span>.<span class="hljs-type"><span class="hljs-type">Failure</span></span> == <span class="hljs-type"><span class="hljs-type">S</span></span>.<span class="hljs-type"><span class="hljs-type">Failure</span></span>, <span class="hljs-type"><span class="hljs-type">ControlPublisher</span></span>.<span class="hljs-type"><span class="hljs-type">Output</span></span> == <span class="hljs-type"><span class="hljs-type">S</span></span>.<span class="hljs-type"><span class="hljs-type">Input</span></span> { subject.receive(subscriber: subscriber) } }</code> </pre> <br>  Aqu√≠ ... <i>mucho</i> m√°s trabajo.  Al menos la llamada se ve as√≠: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">ControlPublisher</span></span>(control: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.button, event: .touchUpInside) .sink { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Tap!"</span></span>) }</code> </pre> <br>  A modo de comparaci√≥n, RxCocoa proporciona un cacao agradable y sabroso en forma de enlaces a objetos UIKit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.button.rx.tap .subscribe(onNext: { <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Tap!"</span></span>) })</code> </pre> <br>  Por s√≠ mismos, estos desaf√≠os son, en √∫ltima instancia, realmente muy similares.  Lo √∫nico frustrante es que tuve que escribir <code>ControlPublisher</code> para llegar a este punto.  Adem√°s, RxSwift y RxCocoa est√°n muy bien probados y se utilizan en proyectos mucho m√°s que los m√≠os. <br><br>  A modo de comparaci√≥n, mi <code>ControlPublisher</code> apareci√≥ solo ... ahora.  Solo por la cantidad de clientes (cero) y el tiempo de uso en el mundo real (casi cero en comparaci√≥n con RxCocoa) puede mi c√≥digo considerarse infinitamente m√°s peligroso. <br><br>  Bummer <br><br><h2>  Ayuda comunitaria? </h2><br>  Honestamente, nada impide que la comunidad cree su propio c√≥digo abierto "CombineCocoa", que llenar√≠a la brecha de RxCocoa al igual que lo hizo RxSwiftCommunity. <br><br>  Sin embargo, considero que esto es un gran inconveniente de Combine.  No quiero reescribir todo el RxCocoa, solo para obtener enlaces a objetos UIKit. <br><br>  Si decido apostar por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SwiftUI</a> , supongo que esto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">eliminar√° el</a> problema de la falta de enlaces.  Incluso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mi peque√±a aplicaci√≥n</a> contiene un <i>mont√≥n de</i> c√≥digo <i>de</i> interfaz <i>de</i> usuario.  Lanzar todo esto solo para saltar al tren Combinado ser√≠a al menos est√∫pido, o incluso peligroso. <br><br>  Por cierto, el art√≠culo en la documentaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>Recepci√≥n y manejo de eventos con Combine</i></a> describe brevemente c√≥mo recibir y procesar eventos en Combine.  La introducci√≥n es buena, muestra c√≥mo extraer un valor de un campo de texto y guardarlo en un objeto de modelo personalizado.  La documentaci√≥n tambi√©n demuestra el uso de operadores para realizar algunas modificaciones m√°s avanzadas a la secuencia en cuesti√≥n. <br><br><h2>  Ejemplo </h2><br>  Pasemos al final de la documentaci√≥n, donde el ejemplo de c√≥digo es: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sub = <span class="hljs-type"><span class="hljs-type">NotificationCenter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> .publisher(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">NSControl</span></span>.textDidChangeNotification, object: filterField) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>( { ($<span class="hljs-number"><span class="hljs-number">0</span></span>.object <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">NSTextField</span></span>).stringValue } ) .assign(to: \<span class="hljs-type"><span class="hljs-type">MyViewModel</span></span>.filterString, on: myViewModel)</code> </pre> <br>  Tengo ... muchos problemas con esto. <br><br><h2>  Notificarte que no me gusta </h2><br>  Las dos primeras l√≠neas me causan m√°s preguntas: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sub = <span class="hljs-type"><span class="hljs-type">NotificationCenter</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> .publisher(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">NSControl</span></span>.textDidChangeNotification, object: filterField)</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NotificationCenter</a> es algo as√≠ como un bus de aplicaci√≥n (o incluso un bus de sistema) en el que muchos pueden arrojar datos o atrapar fragmentos de informaci√≥n que vuelan.  Esta soluci√≥n es de la categor√≠a de todos y para todos, seg√∫n lo previsto por los creadores.  Y realmente hay muchas situaciones en las que es posible que necesite averiguar, por ejemplo, que el teclado se mostr√≥ u ocult√≥.  NotificationCenter es una excelente manera de distribuir este mensaje en todo el sistema. <br><br>  Pero para m√≠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NotificationCenter</a> es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo con un estrangulador</a> .  Hay momentos (como recibir una notificaci√≥n sobre el teclado) cuando NotificationCenter es realmente la <i>mejor</i> soluci√≥n <i>posible</i> al problema.  Pero con demasiada frecuencia para m√≠ NotificationCenter es la soluci√≥n <i>m√°s conveniente</i> .  Es realmente muy conveniente dejar caer algo en NotificationCenter y recogerlo en otro lugar de la aplicaci√≥n. <br><br>  Adem√°s, NotificationCenter tiene el tipo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"cadena"</a> , es decir, puede cometer f√°cilmente el error de qu√© notificaci√≥n est√° intentando publicar o escuchar.  Swift est√° haciendo todo lo posible para mejorar la situaci√≥n, pero sigue siendo el mismo NSString debajo del cap√≥. <br><br><h2>  Sobre KVO </h2><br>  En la plataforma Apple, ha habido una forma popular de recibir notificaciones de cambios en diferentes partes del c√≥digo: observaci√≥n de valor clave (KVO).  Apple lo describe as√≠: <br><br><blockquote>  Este es un mecanismo que permite que los objetos reciban notificaciones de cambios en las propiedades especificadas de otros objetos. </blockquote><br>  Gracias a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tweet de Gui Rambo,</a> not√© que Apple agreg√≥ enlaces KVO a Combine.  Esto podr√≠a significar que podr√≠a deshacerme de las muchas decepciones sobre la falta de un an√°logo de RxCocoa en Combine.  Si puedo usar KVO, esto probablemente eliminar√° la necesidad de CombineCocoa, por as√≠ decirlo. <br><br>  Trat√© de encontrar un ejemplo del uso de KVO para obtener un valor de un <code>UITextField</code> y <code>UITextField</code> a la consola: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sub = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.textField.publisher(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: \<span class="hljs-type"><span class="hljs-type">UITextField</span></span>.text) .sink(receiveCompletion: { <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Completed"</span></span>) }, receiveValue: { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Text field is currently \"\($0)\""</span></span>) })</code> </pre> <br>  Se ve bien, sigue adelante? <br><br>  No tan r√°pido, amigos. <br><br>  Olvid√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">inc√≥moda verdad</a> : <br><br>  UIKit, en general, no es compatible con KVO. <br><br>  Y sin el soporte de KVO, mi idea no funcionar√°.  Mis comprobaciones confirmaron esto: el c√≥digo no muestra nada en la consola cuando ingreso texto en el campo. <br><br>  Por lo tanto, mis esperanzas de deshacerme de la necesidad de las uniones UIKit eran hermosas, pero no por mucho tiempo. <br><br><h2>  Limpieza </h2><br>  Otro problema de Combine es que todav√≠a no est√° completamente claro d√≥nde y c√≥mo liberar recursos en objetos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cancelables</a> .  <i>Parece</i> que deber√≠amos almacenarlos en variables de instancia.  Pero no recuerdo que en la documentaci√≥n oficial se dijera algo sobre la limpieza. <br><br>  RxSwift tiene un DisposeBag terriblemente llamado pero incre√≠blemente conveniente.  No es menos f√°cil crear CancelBag en Combine, pero no estoy muy seguro de que en este caso sea la mejor soluci√≥n. <br><br>  En el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pr√≥ximo art√≠culo</a> hablaremos sobre el manejo de errores en RxSwift y Combine, sobre las ventajas y desventajas de ambos enfoques. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470117/">https://habr.com/ru/post/470117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470103/index.html">Crear un simple juego clicker desde cero</a></li>
<li><a href="../470105/index.html">Oktech Data Sense # 3: Sistemas de recomendaci√≥n</a></li>
<li><a href="../470107/index.html">Consejos y trucos de mi canal de Telegram @pythonetc, septiembre de 2019</a></li>
<li><a href="../470109/index.html">@Pythonetc Septiembre 2019</a></li>
<li><a href="../470115/index.html">Su navegador m√≥vil dificulta la conducci√≥n</a></li>
<li><a href="../470121/index.html">Escuelas de programaci√≥n de la empresa o c√≥mo ingresar a TI</a></li>
<li><a href="../470123/index.html">Yandex.Money trampa financiera</a></li>
<li><a href="../470125/index.html">No juzgues estrictamente el c√≥digo de otra persona</a></li>
<li><a href="../470127/index.html">Compositor con una larga memoria a corto plazo.</a></li>
<li><a href="../470129/index.html">Gesti√≥n declarativa de memoria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>