<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧙🏿 🕸️ 👨🏽‍🔬 Serialisasi dan Deserializing .NET Core vs Go Data 😩 🍶 🏍️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai% nama pengguna% 


 Tugas saya adalah membandingkan kinerja serialisasi untuk .NET Core dan Golang. Setelah mencari di Internet, saya menemukan re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Serialisasi dan Deserializing .NET Core vs Go Data</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/homecredit/blog/469271/"><p>  Hai% nama pengguna% </p><br><p>  Tugas saya adalah membandingkan kinerja serialisasi untuk .NET Core dan Golang.  Setelah mencari di Internet, saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> .  Contoh sederhana dari layanan mikro REST dipertimbangkan.  Inilah yang saya butuhkan, pikir saya.  Setelah melihat hasil tes, saya terkejut.  Setelah melihat kode sumber, saya menyadari apa yang salah.  Inilah yang saya tidak suka: </p><br><ul><li>  Untuk serialisasi dan deserialisasi, array 3 elemen dipilih.  Ini jelas tidak cukup. </li><li>  Untuk Golang, semua fitur bahasa tidak digunakan, tetapi, seperti yang Anda tahu, pengkodean / json built-in library lambat. </li><li>  Akibatnya, penulis membandingkan kinerja server web kestrel dan net / http. </li></ul><br><p>  Kekurangan inilah yang menyebabkan pertimbangan kinerja yang lebih rinci dalam kerangka contoh yang dijelaskan di atas.  Saya harap Anda tertarik untuk mengetahui hasilnya. </p><a name="habracut"></a><br><h3 id="sostav-i-opisanie-po">  Komposisi dan deskripsi perangkat lunak </h3><br><p>  Kode sumber dari repositori di atas juga diambil sebagai basis.  Apa yang telah difinalisasi: </p><br><ul><li>  Untuk server API, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://github.com/valyala/fast">fasthttp</a> digunakan. </li><li>  Server API merespons dengan array rekaman. </li><li>  Setiap klien memiliki beberapa metode untuk memeriksa. </li></ul><br><p>  Kode yang dimodifikasi tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> . </p><br><p>  Untuk kejelasan, contoh respons JSON dari API server: </p><br><pre><code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"Id"</span></span>:<span class="hljs-string"><span class="hljs-string">"id_8299119732867115081"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Name"</span></span>:<span class="hljs-string"><span class="hljs-string">"name_5541535679032008745"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Time"</span></span>:<span class="hljs-number"><span class="hljs-number">1566731141</span></span> }, ... { <span class="hljs-attr"><span class="hljs-attr">"Id"</span></span>:<span class="hljs-string"><span class="hljs-string">"id_2804604318195309547"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Name"</span></span>:<span class="hljs-string"><span class="hljs-string">"name_5914011395631118540"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Time"</span></span>:<span class="hljs-number"><span class="hljs-number">1566731142</span></span> } ]</code> </pre> <br><h3 id="klienty">  Pelanggan </h3><br><p>  Untuk mengevaluasi kinerja di setiap layanan, tiga metode diterapkan: </p><br><ul><li>  menerima data dari API server dan mengirimkannya tanpa memproses [/ testNoProcess]. </li><li>  menerima data dari API server - deserialization, serialisasi menggunakan refleksi dan mengirim [/ testReflection].  Untuk .NETCore, paket Newtonsoft.Json digunakan, untuk Golang, penyandian / json digunakan. </li><li>  menerima data dari server API - deserialization, serialisasi tanpa menggunakan refleksi dan mengirim [/ testNoReflection].  Untuk .NETCore, solusi berbasis Rentang diimplementasikan untuk meminimalkan jumlah alokasi memori.  Golang memiliki solusi siap pakai - perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">easyjson</a> , yang telah membuktikan dirinya secara eksklusif di sisi positif. </li></ul><br><p>  Berdasarkan tes ini, Anda dapat mengevaluasi kinerja relatif dari server web (kestrel dan net / http), penurunan kinerja saat memproses data menggunakan refleksi dan tanpa itu untuk implementasi dalam kedua bahasa. </p><br><h3 id="opisanie-metodiki-testirovaniya">  Deskripsi metodologi pengujian </h3><br><p>  Pengujian dilakukan dalam beberapa tahap untuk mengevaluasi kinerja setiap bahasa dan setiap implementasi. <br>  Untuk membuat beban, utilitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bombardier</a> dipilih.  Utilitas diluncurkan dengan parameter berikut: -c 125 -d 120s, yang dapat diartikan sebagai berikut: cara menggunakan 125 utas dengan waktu uji 120 detik. </p><br><p>  Pengukuran kinerja dilakukan dalam 3 tahap: </p><br><ol><li>  Dimensi server RPS API.  Pengukuran dilakukan untuk dapat menilai pengaruh metode pemrosesan pada kinerja masing-masing metode. </li><li>  Pengukuran RPS dari pemrosesan respons menggunakan refleksi. </li><li>  Ukur pemrosesan respons RPS tanpa menggunakan refleksi. </li></ol><br><p>  Berdasarkan pengukuran ini, data diperoleh pada kinerja pemrosesan respons.  Pemanfaatan semua inti prosesor adalah 99,8-100%.  Untuk penilaian, data awal 10, 30, 100, dan 500 catatan dipilih.  Susunan 500 rekaman dalam produksi tidak umum, tetapi saya tertarik untuk melihat bagaimana masing-masing bahasa berperilaku. </p><br><h3 id="testovyy-stend">  Test stand </h3><br><p>  Semua tes dijalankan pada mesin virtual yang menjalankan Ubuntu Server 18.04 dengan semua pembaruan untuk Agustus 2019.  Ini memiliki karakteristik sebagai berikut: </p><br><ul><li>  Core Prosesor I7-3770K - 4 core. </li><li>  RAM - 4 GB. </li></ul><br><p>  Untuk perbandingan kinerja, .NET Core 2.2 dan Golang 1.12 diinstal. </p><br><p>  Nah, sekarang saatnya untuk beralih ke yang paling menarik - hasilnya. </p><br><h3 id="rezultaty">  Hasil </h3><br><p>  Di bawah ini adalah tabel dengan hasil tes. </p><br><p><img src="https://habrastorage.org/webt/y7/0o/qa/y70oqawydgs0k7dieoumddehicc.png" alt="alt text" title="Tabel 1. Tabel ringkasan hasil tes."></p><br><p>  Anda dapat segera melihat bahwa Golang memiliki server web yang lebih produktif.  Perbedaannya adalah sekitar 12% dibandingkan dengan Kestrel di .NET Core. <br>  Berdasarkan data di atas, 2 grafik dibangun.  Selanjutnya, Anda dapat dengan jelas melihat perbandingan RPS. </p><br><p><img src="https://habrastorage.org/webt/jt/ow/rp/jtowrpsxtiidgccxehrh7qkq1t8.png" alt="alt text" title="Gambar 1. Perbandingan RPS"></p><br><p>  Karena perpustakaan net / http yang lebih cepat, Golang menunjukkan hasil yang baik untuk data kecil.  Dengan peningkatan volume data, kinerja dibandingkan dengan kestrel. </p><br><p>  Saat menggunakan refleksi pada ukuran data kecil, RPS kurang lebih sama, dengan mempertimbangkan kesalahan pengukuran.  Dengan meningkatnya ukuran data, .NET Core menunjukkan lebih banyak RPS. </p><br><p>  Saat menguji tanpa menggunakan refleksi, kedua bahasa menunjukkan peningkatan kinerja.  Golang menunjukkan kinerja yang lebih baik karena RPS awalnya lebih tinggi (permintaan per detik) pada tes tanpa diproses.  Pada data kecil, keuntungannya signifikan.  Dengan peningkatan ukuran data, RPS hampir dibandingkan.  Pada tes terbesar dari 500 rekaman, Golang kembali unggul. </p><br><p><img src="https://habrastorage.org/webt/jd/6f/rq/jd6frqyzi1unjzhiicpbibm8dkw.png" alt="alt text" title="Gambar 2. Perbandingan penurunan kinerja selama pemrosesan JSON, lebih sedikit lebih baik."></p><br><p>  Dalam tes menggunakan refleksi, Golang hilang di semua lini.  Penurunan kinerja dalam skenario terburuk lebih dari 60%.  Menerapkan serialisasi di luar kotak untuk kinerja umumnya tidak berharga. <br>  Tanpa refleksi, Golang lebih cepat dalam semua tes.  Dan dengan pertumbuhan data, keuntungan Golang hanya tumbuh.  Bagaimanapun, penolakan untuk menggunakan refleksi memberikan peningkatan kinerja yang signifikan untuk Golang dan .NETCore, yang, secara umum, harus diharapkan. </p><br><h3 id="vyvody">  Kesimpulan </h3><br><p>  Kesimpulan apa yang bisa diambil dari perbandingan kinerja kecil ini?  Saya ingin merumuskan ini dalam bentuk pro dan kontra untuk setiap solusi.  Mari kita mulai dengan Golang: </p><br><ul><li>  Ini memiliki kinerja yang lebih baik, dan dapat ditingkatkan lebih lanjut, misalnya, dengan menggunakan fasthttp sebagai server web. </li><li>  Berkat pembuatan kode - penggunaan metode pemrosesan yang mudah tanpa menggunakan refleksi. </li><li>  Konsumsi memori lebih sedikit. </li></ul><br><p>  .NET Core juga memiliki beberapa keunggulan: </p><br><ul><li>  Kinerja cocok untuk sebagian besar kasus. </li><li>  Menurut pendapat saya, ini adalah salah satu lingkungan pengembangan terbaik dan paling nyaman untuk Visual Studio. </li></ul><br><p>  Hasilnya dapat diringkas sebagai berikut: jika Anda memiliki REST API dan Anda merencanakan beban yang besar, logika bisnis yang tidak terlalu rumit, lebih baik menggunakan Golang, dalam kasus lain Anda dapat melakukannya dengan .NET Core.  Haruskah saya menulis ulang solusi yang sudah jadi dari .NET Core ke Golang?  Setiap orang akan memutuskan sendiri. </p><br><p>  Saya harap Anda menemukan bahan ini bermanfaat.  Semua baik </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469271/">https://habr.com/ru/post/id469271/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469257/index.html">Kami mengintegrasikan perintah Linux di Windows menggunakan PowerShell dan WSL</a></li>
<li><a href="../id469259/index.html">Perubahan iklim: kami menganalisis suhu di berbagai kota selama 100 tahun terakhir</a></li>
<li><a href="../id469263/index.html">Mengapa karma pada Habré baik?</a></li>
<li><a href="../id469265/index.html">Mengakses Akses Intel Neural Computer Stick melalui REST</a></li>
<li><a href="../id469267/index.html">Menangani panggilan sistem menggunakan LD_PRELOAD dengan satu titik masuk</a></li>
<li><a href="../id469275/index.html">Seperti yang saya lakukan di 18 universitas AS</a></li>
<li><a href="../id469277/index.html">Siapa itu DevOps?</a></li>
<li><a href="../id469287/index.html">Pertempuran Golem dari kartu. Bagaimana kami mengubah permainan menjadi Liga Kartu Parobot</a></li>
<li><a href="../id469289/index.html">Apa itu margin trading di bursa, dan bagaimana cara kerjanya</a></li>
<li><a href="../id469291/index.html">Inisialisasi dan pengoperasian juru kode bytecode di JVM HotSpot di bawah x86</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>