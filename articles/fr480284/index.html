<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🃏 🌩️ 🎅🏽 Mon (nano) expérience avec l'API Yandex.Maps ou pourquoi ai-je besoin d'instructions 🤚🏽 💵 🍭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Présentation 


 Je suis développeur Android et ... 


 Il m'est arrivé de terminer un petit projet (~ 500h), dans lequel au début il a été décidé d'u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mon (nano) expérience avec l'API Yandex.Maps ou pourquoi ai-je besoin d'instructions</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480284/"><h2>  Présentation </h2><br><p>  <em>Je suis développeur Android et ...</em> </p><br><p>  Il m'est arrivé de terminer un petit projet (~ 500h), dans lequel au début il a été décidé d'utiliser l'API Yandex.Maps, car pourquoi utiliser Google maps pour Moscou s'il y en a le nôtre.  Maintenant, je vais vous dire comment ça s'est passé. </p><br><p>  Je n'ai pas fait de recherches approfondies sur la hotte et je ne dévoilerai aucun secret.  Mais si, comme moi, vous devez commencer très rapidement (hier) à utiliser des cartes dans votre projet, j'espère pouvoir vous aider à gagner un peu de temps. <a name="habracut"></a></p><br><p>  Si vous êtes trop paresseux pour lire, ou vous avez immédiatement besoin d'une conclusion, je l'envoie à la dernière "Action 4: C'est la fin / TL; DR" </p><br><h2>  Action 0: définitions </h2><br><p>  Commençons par les définitions: quoi, pourquoi, pourquoi. </p><br><p>  <strong>Tâche</strong> : afficher une carte de Moscou, pour indiquer des endroits spécifiques avec des épingles, pour pouvoir construire un itinéraire de la position actuelle à un point spécifique (ou à plusieurs). <br>  <strong>Technologie</strong> : API Yandex.Maps.  Références à la documentation [1] ci-dessous. <br>  <strong>Total</strong> : lire la documentation, implémenter les fonctionnalités. </p><br><p>  Tout semble simple, ce qui pourrait mal tourner. </p><br><h2>  Étape 1: Rechercher </h2><br><p>  Avant d'étudier la documentation, vous devez la trouver.  Recherche Yandex, bien sûr, nous serons dans Google - nous trouverons [2] ou <del>  [2] .ru </del>  [3].  Nous sommes des développeurs, nous voyons le bouton «pour les développeurs» - cliquez.  L'énorme icône "Maps API" ressemble à ce dont nous avons besoin!  (C'est un piège!) </p><br><p>  Dans «... / maps» [4], nous n'attendons que des recherches, des déceptions et des souffrances sans fin.  Ce qui ne m'a pas conduit à la documentation nécessaire. </p><br><p>  Nous remontons d'une étape, descendons et trouvons MapKit [5] - nous y sommes.  La navigation ici est assez triste, voici donc les liens importants - exemples android [6] et Documentation [7] (parfois vous pouvez trouver quelque chose d'utile ici). </p><br><h2>  Action 2: c'est parti </h2><br><p>  Trouvez Premiers pas et commencez.  Au début, tout est simple. </p><br><p>  À l'étape «Configurer la bibliothèque», des questions se posent.  La vue et l'usine doivent être démarrées et arrêtées séparément, sinon, comme nous sommes informés, rien ne fonctionnera.  Pourquoi?  Et que se passera-t-il si quelque chose est commencé, mais pas, ou quelque chose a commencé plus tard?  Et si quelques vues, alors pour chacune, vous avez besoin d'une usine, ou est-ce un singleton? </p><br><p>  Peut-être que c'est juste QuickStart et ensuite nous trouverons une description détaillée!  (non) </p><br><p>  Voyons ce qu'il y a sur la documentation.  Et c'est tout, rien d'autre.  Il n'y a que de la documentation générée avec des commentaires comme: </p><br><pre><code class="plaintext hljs">Class MapKitFactory Methods getInstance() - Gets the MapKit factory instance. initialize(Context context) - Initializes the MapKit factory. setApiKey(String apiKey) - Sets the API key to use for requests.</code> </pre> <br><p>  Merci Yandex. </p><br><p>  D'accord, sur le github il y a un autre projet avec des exemples d'utilisation [8].  À l'intérieur de chaque classe d'activité, il y a des commentaires sur ce qu'il fait et pourquoi il est nécessaire (après la documentation, c'est juste un cadeau du destin).  Il existe plusieurs scénarios: créer une couche de carte personnalisée, créer un itinéraire pour une voiture, travailler avec des objets sur une carte et quelques autres. </p><br><p>  L'API a-t-elle l'air puissante?  Oui <br>  Est-il clair comment l'utiliser dans des cas un peu plus compliqués que les exemples?  Non. ( <br>  Comment comprendre ça?  ¯_ (ツ) _ / ¯ Plongez tête baissée dans le code, selon les résultats de la recherche, vendez un livre sur ce que j'ai trouvé. </p><br><h2 id="deystvie-3-razrabatyvaem">  Action 3: Développement </h2><br><p>  <strong>Tâche 1:</strong> afficher une carte <br>  Je n'ai rencontré aucune difficulté, tout est dans le guide. </p><br><p>  <strong>Tâche 2:</strong> afficher les broches <br>  Nous avons besoin de "MapObjectsActivity.java", ce que nous recherchons s'appelle des repères. Nous regardons dans le code pour comprendre quoi en faire. </p><br><p>  <strong>Tâche 3:</strong> créer un itinéraire <br>  Notre ami ici est «MasstransitRoutingActivity.java».  Vous pouvez demander un itinéraire différent: uniquement en voiture, uniquement à pied, etc.  à coup sûr, vous pouvez toujours prendre en compte le métro et d'autres choses différentes, mais je n'ai pas esquivé. </p><br><p>  Tâche supplémentaire: positionnement direct et inverse.  Il faut aussi pouvoir déterminer l'emplacement.  Géocodage direct - déterminer les coordonnées par nom, l'inverse - déterminer le nom par coordonnées. </p><br><p>  Pour résoudre ce problème, vous devrez retourner à la recherche et trouver la documentation de js [9].  Il semble beaucoup plus détaillé et volumineux (j'envie).  Nous avons besoin d'une «demande de géocodage HTTP» [10] - il est assez clair de quoi il s'agit et comment l'utiliser.  Il appartient à la mise en œuvre des requêtes-réponses http sur les téléphones mobiles. </p><br><h2 id="deystvie-4-eto-konec--tldr">  Action 4: il s'agit de la fin / TL; DR </h2><br><p>  Résultats généraux: <br>  Les cartes Yandex sont cool.  Comment les utiliser n'est pas clair. </p><br><p>  Bonne documentation pour «toucher» le service.  Documentation affreuse pour en faire quelque chose.  La structure des liens est "Vous trouverez du raifort", la qualité de la découverte est "Voici la roue, elle roule.  Et puis vous-même pouvez facilement inventer une voiture, une fusée, un sous-marin. » </p><br><p>  Faits saillants: <br>  Comment afficher une carte dans un projet?  Lien [7], tout est simple ici. <br>  Comment ajouter une épingle à la carte?  Mots-clés Placemark, MapObjects.  Recherche dans les échantillons. <br>  Comment construire un itinéraire?  Mot-clé MasstransitRouting.  Recherche dans les échantillons. <br>  Comment faire autre chose?  Recherche dans les échantillons.  Sinon, vous avez un problème. </p><br><h2 id="spisok-literatury">  Références: </h2><br><p>  [1] - <a href="https://tech.yandex.com/maps/">https://tech.yandex.com/maps/</a> <br>  [2] - <a href="https://tech.yandex.com/">https://tech.yandex.com/</a> <br>  [3] - <a href="https://tech.yandex.ru/">https://tech.yandex.ru/</a> <br>  [4] - <a href="https://tech.yandex.com/maps/">https://tech.yandex.com/maps/</a> <br>  [5] - <a href="https://tech.yandex.com/maps/mapkit/">https://tech.yandex.com/maps/mapkit/</a> <br>  [6] - <a href="https://github.com/yandex/mapkit-android-demo">https://github.com/yandex/mapkit-android-demo</a> <br>  [7] - <a href="https://tech.yandex.com/maps/doc/mapkit/3.x/concepts/about-docpage/">https://tech.yandex.com/maps/doc/mapkit/3.x/concepts/about-docpage/</a> <br>  [8] - <a href="https://github.com/yandex/mapkit-android-demo/tree/master/src/main/java/com/yandex/mapkitdemo">https://github.com/yandex/mapkit-android-demo/tree/master/src/main/java/com/yandex/mapkitdemo</a> <br>  [9] - <a href="https://tech.yandex.com/maps/doc/jsapi/2.1/quick-start/index-docpage/">https://tech.yandex.com/maps/doc/jsapi/2.1/quick-start/index-docpage/</a> <br>  [10] - <a href="https://tech.yandex.com/maps/doc/geocoder/desc/concepts/input_params-docpage/">https://tech.yandex.com/maps/doc/geocoder/desc/concepts/input_params-docpage/</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480284/">https://habr.com/ru/post/fr480284/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480272/index.html">L'intelligence artificielle et la complexité du cerveau humain</a></li>
<li><a href="../fr480274/index.html">Comptoir d'alcool ou Comment survivre aux réceptions sous forme de buffet</a></li>
<li><a href="../fr480276/index.html">Entretien de jeu: stratégies d'embauche. Partie I</a></li>
<li><a href="../fr480280/index.html">Étude de sécurité TurboConf</a></li>
<li><a href="../fr480282/index.html">L'histoire de la startup de fitness Peloton: d'une valorisation de 8 milliards de dollars à des publicités infructueuses et des prévisions d'une baisse de 85% des stocks</a></li>
<li><a href="../fr480288/index.html">Est-il possible de transmettre et de recevoir des informations sans restrictions sur la distance et la vitesse de la lumière?</a></li>
<li><a href="../fr480290/index.html">Ordinateur portable maison ZedRipper sur seize Z80</a></li>
<li><a href="../fr480294/index.html">Vision industrielle à grande vitesse dans le dispositif de tri de pièces LEGO polyvalent</a></li>
<li><a href="../fr480296/index.html">Développement réactif du bot Telegram</a></li>
<li><a href="../fr480300/index.html">En 2011, la question de savoir si Nginx appartient à Igor Sysoev ou Rambler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>