<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèùÔ∏è üíö ‚û°Ô∏è Guide JavaScript, partie 6: exceptions, points-virgules, litt√©raux de mod√®le üì≤ üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üë©üèæ‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les sujets de cette partie de la traduction du didacticiel JavaScript seront la gestion des exceptions, les fonctionnalit√©s de point-virgule automatiq...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guide JavaScript, partie 6: exceptions, points-virgules, litt√©raux de mod√®le</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/430376/">  Les sujets de cette partie de la traduction du didacticiel JavaScript seront la gestion des exceptions, les fonctionnalit√©s de point-virgule automatique et les litt√©raux de mod√®le. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: premier programme, fonctionnalit√©s linguistiques, normes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: style de code et structure du programme</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3: variables, types de donn√©es, expressions, objets</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4: caract√©ristiques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5: tableaux et boucles</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6: exceptions, points-virgules, litt√©raux g√©n√©riques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7: mode strict, ce mot-cl√©, √©v√©nements, modules, calculs math√©matiques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 8: Pr√©sentation des fonctionnalit√©s d'ES6</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 9: Pr√©sentation des normes ES7, ES8 et ES9</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/jf/eo/1s/jfeo1s-pygp9g5pazca5kjwvwoa.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Gestion des exceptions</font> </h2><br>  Lorsqu'un probl√®me se produit lors de l'ex√©cution du code, il est exprim√© comme une exception en JavaScript.  Si vous ne prenez pas de mesures pour g√©rer les exceptions, alors, lorsqu'elles se produisent, le programme s'arr√™te et un message d'erreur s'affiche dans la console. <br><br>  Consid√©rez l'extrait de code suivant. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) <span class="hljs-comment"><span class="hljs-comment">//message text console.log('Before') //Before console.log(fn(notObj)) //,    console.log('After')</span></span></code> </pre> <br>  Ici, nous avons une fonction que nous pr√©voyons d'utiliser pour traiter les objets qui ont la propri√©t√© <code>value</code> .  Elle rend cette propri√©t√©.  Si vous utilisez cette fonction aux fins pr√©vues, c'est-√†-dire pour lui transf√©rer un objet avec lequel elle est con√ßue pour fonctionner, aucune erreur ne sera g√©n√©r√©e lors de son ex√©cution.  Mais si vous lui passez quelque chose d'inappropri√©, dans notre cas, une variable d√©clar√©e mais non initialis√©e, une erreur se produit lorsque vous essayez d'acc√©der √† la propri√©t√© <code>value</code> de valeur <code>undefined</code> .  Un message d'erreur appara√Ætra dans la console, l'ex√©cution du programme s'arr√™tera. <br><br>  Voici √† quoi cela ressemble lorsque vous ex√©cutez ce code dans Node.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42d/eec/eaa/42deeceaad05edd38b8581f65b4de563.png"></div><br>  <i><font color="#999999">Exception TypeError dans Node.js</font></i> <br><br>  Si quelque chose comme cela se produit dans le code JS d'une page Web, un message similaire sera envoy√© √† la console du navigateur.  Si cela se produit dans un vrai programme, par exemple - dans le code du serveur Web, ce comportement est extr√™mement ind√©sirable.  Ce serait bien d'avoir un m√©canisme qui permet, sans arr√™ter le programme, de rattraper l'erreur, puis de prendre des mesures pour la corriger.  Un tel m√©canisme existe en JavaScript, il est repr√©sent√© par la construction <code>try...catch</code> . <br><br><h3>  <font color="#3AC1EF">Tryconstruction essayer ... attraper</font> </h3><br>  La construction <code>try...catch</code> vous permet d'attraper et de g√©rer les exceptions.  √Ä savoir, il comprend un bloc <code>try</code> , qui comprend du code qui peut provoquer une erreur, et un <code>catch</code> , dans lequel le contr√¥le est transf√©r√© lorsqu'une erreur se produit.  <code>try</code> blocs d' <code>try</code> n'incluent pas absolument tout le code du programme.  Les parties de celui-ci qui peuvent provoquer des erreurs d'ex√©cution y sont plac√©es.  Par exemple, les appels √† des fonctions qui doivent fonctionner avec certaines donn√©es re√ßues de sources externes.  Si la structure de ces donn√©es est diff√©rente de celle attendue par la fonction, une erreur peut se produire.  Voici √† quoi ressemble le diagramme de conception <code>try...catch</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     } catch (e) { //  }</span></span></code> </pre> <br>  Si le code est ex√©cut√© sans erreur, le <code>catch</code> (gestionnaire d'exceptions) n'est pas ex√©cut√©.  Si une erreur se produit, l'objet d'erreur y est transf√©r√© et certaines actions sont entreprises pour lutter contre cette erreur. <br><br>  Nous appliquons cette construction dans notre exemple, prot√©geant avec son aide les sections dangereuses du programme - celles dans lesquelles la fonction <code>fn()</code> appel√©e. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e.message) } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Before'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//Before try {   console.log(fn(notObj)) } catch (e) {   console.log(e.message) //Cannot read property 'value' of undefined } console.log('After') //After</span></span></code> </pre> <br>  Examinons les r√©sultats de l'ex√©cution de ce code dans Node.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8b/5f7/e5e/b8b5f7e5e4745ec45d69bd9f642cef70.png"></div><br>  <i><font color="#999999">Gestion des erreurs dans Node.js</font></i> <br><br>  Comme vous pouvez le voir, si vous comparez cet exemple avec le pr√©c√©dent, maintenant tout le code est ex√©cut√©, et celui qui se trouve avant la ligne de probl√®me, et celui qui se trouve apr√®s.  Nous ¬´traitons¬ª l'erreur en imprimant simplement sur la console les valeurs de la propri√©t√© <code>message</code> de l'objet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Error</a> .  Quelle sera la gestion de l'erreur qui s'est produite dans le code r√©ellement utilis√© d√©pend de l'erreur. <br><br>  Nous avons discut√© du bloc <code>try...catch</code> ci-dessus, mais, en fait, cette construction inclut un autre bloc - <code>finally</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç enfin bloquer</font> </h3><br>  Le bloc <code>finally</code> contient du code qui s'ex√©cute, qu'une erreur soit survenue ou non dans le code qui s'ex√©cute dans le bloc <code>try</code> .  Voici √† quoi √ßa ressemble. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  } catch (e) { //  } finally { //  }</span></span></code> </pre> <br>  Le bloc <code>finally</code> peut √©galement √™tre utilis√© si le bloc <code>try...catch...finally</code> n'a pas de <code>catch</code> .  Dans cette approche, il est utilis√© de la m√™me mani√®re que dans la construction avec le <code>catch</code> , par exemple, pour lib√©rer les ressources occup√©es dans le bloc <code>try</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Blocs d'essai imbriqu√©s</font> </h3><br>  Les blocs d'essai peuvent √™tre imbriqu√©s ensemble.  Dans ce cas, l'exception est g√©r√©e dans le <code>catch</code> le plus proche. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  try {   //   } finally {   // -  } } catch (e) { }</span></span></code> </pre> <br>  Dans ce cas, si une exception se produit dans le bloc <code>try</code> interne, elle sera trait√©e dans le <code>catch</code> externe. <br><br><h3>  <font color="#3AC1EF">‚ñç Exception auto-g√©n√©r√©e</font> </h3><br>  Des exceptions peuvent √™tre lev√©es par vous-m√™me √† l'aide de l'instruction <code>throw</code> .  Voici √† quoi √ßa ressemble. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> value</code> </pre> <br>  Apr√®s l'ex√©cution de cette instruction, le contr√¥le est transf√©r√© vers le <code>catch</code> le plus proche, ou si un tel bloc est introuvable, le programme s'arr√™te.  La valeur d'exception peut √™tre n'importe quoi.  Par exemple, un objet d'erreur d√©fini par l'utilisateur. <br><br><h2>  <font color="#3AC1EF">√Ä propos des points-virgules</font> </h2><br>  L'utilisation de points-virgules en JavaScript est facultative.  Certains programmeurs s'en passent, s'appuyant sur un syst√®me d'arrangement automatique pour eux, et ne les pla√ßant que l√† o√π c'est absolument n√©cessaire.  Certaines personnes pr√©f√®rent les placer autant que possible.  L'auteur de ce document fait r√©f√©rence √† la cat√©gorie des programmeurs qui veulent se passer des points-virgules.  Il dit qu'il a d√©cid√© de s'en passer √† l'automne 2017 en configurant Prettier pour les supprimer partout o√π vous pouvez le faire sans leur insertion explicite.  √Ä son avis, le code sans point-virgule semble plus naturel et plus facile √† lire. <br><br>  On peut peut-√™tre dire que la communaut√© des d√©veloppeurs JS est divis√©e, par rapport aux points-virgules, en deux camps.  Dans le m√™me temps, il existe √©galement des guides de style JavaScript qui prescrivent des points-virgules explicites et des guides qui recommandent de s'en passer. <br><br>  Tout cela est possible gr√¢ce au fait que JavaScript dispose d'un syst√®me de points-virgules automatiques (Automatic Semicolon Insertion, ASI).  Cependant, le fait que dans le code JS, dans de nombreuses situations, vous pouvez vous passer de ces caract√®res, et le fait que les points-virgules soient plac√©s automatiquement lors de la pr√©paration du code pour l'ex√©cution, ne signifie pas que le programmeur n'a pas besoin de conna√Ætre les r√®gles selon lesquelles cela se produit.  L'ignorance de ces r√®gles entra√Æne des erreurs. <br><br><h3>  <font color="#3AC1EF">‚ñç R√®gles pour les points-virgules automatiques</font> </h3><br>  L'analyseur JavaScript ajoute automatiquement des points-virgules lors de l'analyse du texte du programme dans les situations suivantes: <br><br><ol><li>  Lorsque la ligne suivante commence par un code qui interrompt le code actuel (le code d'une certaine commande peut se trouver sur plusieurs lignes). </li><li>  Lorsque la ligne suivante commence par le caract√®re <code>}</code> , ce qui ferme le bloc actuel. </li><li>  Lorsque la fin du fichier avec le code du programme est d√©tect√©e. </li><li>  Dans la ligne de la commande de <code>return</code> . </li><li>  Dans la ligne de la commande <code>break</code> . </li><li>  Dans la ligne de la commande <code>throw</code> . </li><li>  Dans la ligne avec la commande <code>continue</code> . </li></ol><br><h3>  <font color="#3AC1EF">‚ñç Exemples de code qui ne fonctionne pas comme pr√©vu</font> </h3><br>  Voici quelques exemples illustrant les r√®gles ci-dessus.  Par exemple, que pensez-vous qui sera affich√© √† la suite de l'ex√©cution du fragment de code suivant? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you [<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  Lorsque vous essayez d'ex√©cuter ce code, une erreur <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> sera <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> syst√®me <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> , sur la base de la r√®gle n ¬∞ 1, il essaie d'interpr√©ter le code comme suit. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you[<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  Le probl√®me peut √™tre r√©solu en mettant un point-virgule apr√®s l'avant-derni√®re ligne du premier exemple. <br><br>  Voici un autre morceau de code. <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>).toString()</code> </pre> <br>  Le r√©sultat de son ex√©cution sera la sortie de la cha√Æne <code>"3"</code> .  Mais que se passe-t-il si quelque chose comme cela appara√Æt dans l'extrait de code suivant? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b (a + b).toString()</code> </pre> <br>  Dans cette situation, une erreur <code>TypeError: b is not a function</code> appara√Ætra <code>TypeError: b is not a function</code> car le code ci-dessus sera interpr√©t√© comme suit. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b(a + b).toString()</code> </pre> <br>  Voyons maintenant un exemple bas√© sur la r√®gle 4. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  Vous pourriez penser que cette IIFE renverra un objet contenant la propri√©t√© <code>color</code> , mais en fait ce n'est pas le cas.  Au lieu de cela, la fonction retournera <code>undefined</code> car le syst√®me ajoute un point-virgule apr√®s la commande <code>return</code> . <br><br>  Afin de r√©soudre un probl√®me similaire, l'accolade ouvrante du litt√©ral objet doit √™tre plac√©e sur la m√™me ligne que la commande de <code>return</code> . <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  Si vous regardez le fragment de code suivant, vous pourriez penser qu'il affichera <code>0</code> dans la bo√Æte de message. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Mais il renvoie 2, car, conform√©ment √† la r√®gle n ¬∞ 1, ce code est repr√©sent√© comme suit. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Vous devez √™tre prudent lorsque vous utilisez des points-virgules en JavaScript.  Vous pouvez rencontrer des partisans ardents des points-virgules et leurs adversaires.  En fait, lorsque vous d√©cidez si des points-virgules sont n√©cessaires dans votre code, vous pouvez compter sur le fait que JS prend en charge leur substitution automatique, mais chacun doit d√©cider par lui-m√™me s'ils sont n√©cessaires dans son code ou non.  L'essentiel est d'appliquer l'approche choisie de mani√®re coh√©rente et raisonnable.  Concernant le placement des points-virgules et la structure du code, nous pouvons recommander les r√®gles suivantes: <br><br><ul><li>  √Ä l'aide de la commande <code>return</code> , organisez ce qu'elle doit renvoyer de la fonction sur la m√™me ligne que la commande.  Il en va de m√™me pour les commandes <code>break</code> , <code>throw</code> , <code>continue</code> . </li><li>  Portez une attention particuli√®re aux situations o√π une nouvelle ligne de code commence par un crochet, car cette ligne peut √™tre automatiquement combin√©e avec la pr√©c√©dente et pr√©sent√©e par le syst√®me comme une tentative d'appeler une fonction ou une tentative d'acc√®s √† un √©l√©ment de tableau. </li></ul><br>  En g√©n√©ral, on peut dire que si vous mettez des points-virgules vous-m√™me ou comptez sur leur placement automatique, testez le code afin de vous assurer qu'il fonctionne exactement comme pr√©vu. <br><br><h2>  <font color="#3AC1EF">Les guillemets et les caract√®res g√©n√©riques</font> </h2><br>  Parlons des fonctionnalit√©s de l'utilisation de guillemets en JavaScript.  √Ä savoir, nous parlons des types de devis suivants autoris√©s dans les programmes JS: <br><br><ul><li>  Citations simples. </li><li>  Double guillemets. </li><li>  Retour citations. </li></ul><br>  Les guillemets simples et doubles, en g√©n√©ral, peuvent √™tre consid√©r√©s comme identiques. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bike = <span class="hljs-string"><span class="hljs-string">"bike"</span></span></code> </pre> <br>  Il n'y a pratiquement aucune diff√©rence entre eux.  Peut-√™tre que la seule diff√©rence notable est que dans les cha√Ænes entre guillemets simples, vous devez √©chapper au caract√®re d'un guillemet simple, et dans les cha√Ænes entre guillemets doubles, le caract√®re est double. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te\'st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te"st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te\"st"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te'st"</span></span></code> </pre> <br>  Dans diff√©rents guides de style, vous pouvez trouver √† la fois une recommandation pour l'utilisation de guillemets simples et une recommandation pour l'utilisation de guillemets doubles.  L'auteur de ce document dit que dans le code JS, il s'efforce d'utiliser exclusivement des guillemets simples, en utilisant des guillemets doubles uniquement dans le code HTML. <br><br>  Les backticks sont apparus en JavaScript avec la sortie de la norme ES6 en 2015.  Ils, entre autres nouvelles fonctionnalit√©s, permettent de d√©crire facilement des cha√Ænes multi-lignes.  De telles cha√Ænes peuvent √©galement √™tre sp√©cifi√©es √† l‚Äôaide de guillemets r√©guliers - en utilisant la s√©quence d‚Äô√©chappement <code>\n</code> .  Cela ressemble √† ceci. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">'A string\non multiple lines'</span></span></code> </pre> <br>  Les virgules invers√©es (g√©n√©ralement le bouton pour les saisir se trouve √† gauche de la touche num√©rique 1 du clavier) se passent de <code>\n</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on multiple lines`</span></span></code> </pre> <br>  Mais les possibilit√©s de guillemets ne se limitent pas √† cela.  Donc, si une cha√Æne est d√©crite √† l'aide de guillemets, il est possible de lui substituer des valeurs du calcul des expressions JS en utilisant la construction <code>${}</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">+</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> lines`</span></span></code> </pre> <br>  Ces cha√Ænes sont appel√©es des litt√©raux de mod√®le. <br><br>  Les litt√©raux de mod√®le ont les caract√©ristiques suivantes: <br><br><ul><li>  Ils prennent en charge le texte multiligne. </li><li>  Ils permettent d'interpoler des cha√Ænes; des expressions int√©gr√©es peuvent y √™tre utilis√©es. </li><li>  Ils vous permettent de travailler avec des mod√®les balis√©s, permettant de cr√©er vos propres langues sp√©cifiques au domaine (DSL, Domain-Specific Language). </li></ul><br>  Parlons de ces fonctionnalit√©s. <br><br><h3>  <font color="#3AC1EF">TextTexte multiligne</font> </h3><br>  Lorsque vous d√©finissez des textes sur plusieurs lignes avec des guillemets, vous devez vous rappeler que les espaces dans ces textes sont tout aussi importants que les autres caract√®res.  Par exemple, consid√©rez le texte multiligne suivant. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`First               Second`</span></span></code> </pre> <br>  Sa conclusion donnera approximativement ce qui suit. <br><br><pre> <code class="javascript hljs">First               Second</code> </pre> <br>  Autrement dit, il s'av√®re que lorsque ce texte a √©t√© entr√© dans l'√©diteur, il est possible que le programmeur s'attende √† ce que les mots <code>First</code> et <code>Second</code> , lors de la sortie, apparaissent strictement l'un sous l'autre, mais en fait ce n'est pas le cas.  Pour contourner ce probl√®me, vous pouvez commencer le texte multiligne avec un saut de ligne et, imm√©diatement apr√®s avoir ferm√© le guillemet arri√®re, appeler la m√©thode <code>trim()</code> , qui supprimera les espaces au d√©but ou √† la fin de la ligne.  Ces caract√®res, en particulier, incluent des espaces et des tabulations.  Les caract√®res de fin de ligne seront √©galement supprim√©s. <br><br>  Cela ressemble √† ceci. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">` First Second`</span></span>.trim()</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Interpolation</font> </h3><br>  Par interpolation, nous entendons ici la conversion de variables et d'expressions en cha√Ænes.  Cela se fait en utilisant la construction <code>${}</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> variable = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ variable }</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-comment"><span class="hljs-comment">//something test</span></span></code> </pre> <br>  Vous pouvez ajouter n'importe quoi au bloc <code>${}</code> - m√™me des expressions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string2 = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${foo() ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'y'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> }</span></span></span><span class="hljs-string">`</span></span></code> </pre> <br>  Le texte <code>something 6</code> entrera dans la constante de <code>string</code> , soit le texte <code>something x</code> ou le texte <code>something y</code> sera √©crit dans la constante <code>string2</code> .  Cela d√©pend si la fonction <code>foo()</code> retourne vrai ou faux (l'op√©rateur ternaire est utilis√© ici, qui, si ce qui est avant le point d'interrogation est vrai, retourne ce qui vient apr√®s le point d'interrogation, sinon retourne ce que vient apr√®s le colon). <br><br><h3>  <font color="#3AC1EF">‚ñçMod√®les balis√©s</font> </h3><br>  Les mod√®les balis√©s sont utilis√©s dans de nombreuses biblioth√®ques populaires.  Parmi eux, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">styl√©s</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apollo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GraphQL</a> . <br><br>  La sortie de ces mod√®les est soumise √† une logique d√©finie par la fonction.  Voici un exemple l√©g√®rement r√©vis√© dans l'une de nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">publications</a> illustrant comment travailler avec des cha√Ænes de mod√®le balis√©es. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> esth = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">helper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">strs, ...keys</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str1 = strs[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">//ES const str2 = strs[1] //is let additionalPart = '' if (keys[0] == 8) { //8   additionalPart = 'awesome' } else {   additionalPart = 'good' } return `${str1}${keys[0]}${str2}${additionalPart}.` } const es = helper`ES ${esth} is ` console.log(es) //ES 8 is awesome.</span></span></code> </pre> <br>  Ici, si le nombre <code>8</code> √©crit dans la constante <code>esth</code> , la ligne <code>ES 8 is awesome</code> sera en <code>es</code> .  Sinon, il y aura une autre ligne.  Par exemple, si <code>esth</code> chiffre <code>6</code> , il semblera que <code>ES 6 is good</code> . <br><br>  Les composants stylis√©s utilisent des mod√®les balis√©s pour d√©finir des cha√Ænes CSS. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = styled.button<span class="hljs-string"><span class="hljs-string">` font-size: 1.5em; background-color: black; color: white; `</span></span>;</code> </pre> <br>  Chez Apollo, ils sont utilis√©s pour d√©finir des requ√™tes GraphQL. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> query = gql<span class="hljs-string"><span class="hljs-string">` query {   ... } `</span></span></code> </pre> <br>  En sachant comment fonctionnent les mod√®les balis√©s, il est facile de comprendre que <code>styled.button</code> et <code>gql</code> des exemples pr√©c√©dents ne sont que des fonctions. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gql</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">literals, ...expressions</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre> <br>  Par exemple, la fonction <code>gql()</code> renvoie une cha√Æne qui peut √™tre le r√©sultat de tout calcul.  Le param√®tre <code>literals</code> de cette fonction est un tableau contenant le contenu d'un mod√®le litt√©ral divis√© en parties, les <code>expresions</code> contiennent les r√©sultats de l'√©valuation des expressions. <br><br>  Analysons la ligne suivante. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> `</span></span></code> </pre> <br>  La fonction d' <code>helper</code> obtient le tableau de <code>literals</code> contenant deux √©l√©ments.  Dans le premier, il y aura <code>something</code> texte avec un espace apr√®s, dans le second, il y aura une ligne vide - c'est-√†-dire ce qui est entre l'expression <code>${1 + 2 + 3}</code> et la fin de la ligne.  Il y aura un √©l√©ment dans le tableau des <code>espressions</code> - <code>6</code> . <br>  Voici un exemple plus complexe. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something another </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> new line </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> test`</span></span></code> </pre> <br>  Ici, dans la fonction d' <code>helper</code> , le tableau suivant obtiendra comme premier param√®tre. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'something\nanother '</span></span>, <span class="hljs-string"><span class="hljs-string">'\nnew line '</span></span>, <span class="hljs-string"><span class="hljs-string">'\ntest'</span></span> ]</code> </pre> <br>  Le deuxi√®me tableau ressemblera √† ceci. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Aujourd'hui, nous avons parl√© de la gestion des exceptions, de la substitution automatique des points-virgules et des litt√©raux de mod√®le en JavaScript.  La prochaine fois, nous examinerons quelques concepts plus importants de la langue.  En particulier - travailler en mode strict, minuteries, calculs math√©matiques. <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous les capacit√©s des mod√®les balis√©s en JavaScript? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430376/">https://habr.com/ru/post/fr430376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430362/index.html">Pr√©sentation d'Amazon Corretto, un OpenJDK gratuit avec support √† long terme</a></li>
<li><a href="../fr430364/index.html">¬´Il me semble que nous approchons du moment o√π tout le monde pourra coder. Le code est la libert√©. "</a></li>
<li><a href="../fr430366/index.html">VR-cuisine: ce qui n'est pas visible dans le casque</a></li>
<li><a href="../fr430372/index.html">Voiture √† hydrog√®ne. Est-il temps de dire au revoir √† l'essence?</a></li>
<li><a href="../fr430374/index.html">Ing√©nierie des donn√©es et plus encore: bandes vid√©o Wrike et diapositives de la r√©union</a></li>
<li><a href="../fr430378/index.html">J2CL - Mieux vaut tard que jamais</a></li>
<li><a href="../fr430380/index.html">Guide JavaScript Partie 5: Tableaux et boucles</a></li>
<li><a href="../fr430382/index.html">Guide JavaScript Partie 4: Fonctionnalit√©s</a></li>
<li><a href="../fr430384/index.html">Cr√©ation de cartes √† partir d'entit√©s de bruit</a></li>
<li><a href="../fr430386/index.html">Construction d'une centrale de stockage √† semi-conducteurs en Inde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>