<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐑 🤱🏼 💃🏾 Qu'est-ce que quoi et qui est qui sur le marché de la protection DDoS 🌛 👨‍👨‍👦‍👦 🎒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis sur le marché numérique depuis 2008, et pendant ce temps, j'ai vu la transition des sites Web sur Joomla (rappelez-vous cela?) À Internet d'au...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qu'est-ce que quoi et qui est qui sur le marché de la protection DDoS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/450092/">  Je suis sur le marché numérique depuis 2008, et pendant ce temps, j'ai vu la transition des sites Web sur Joomla (rappelez-vous cela?) À Internet d'aujourd'hui avec ses applications mobiles et des centaines de millions d'appareils IoT connectés au réseau. <br>  Les attaques sur Internet se sont également bien développées pendant cette période :) <br>  Mais le marché de la protection DDoS et les technologies utilisées par les opérateurs pour se protéger contre les attaques sont encore assez fermés. <br>  Je vais vous dire ce que j'ai appris sur lui, en soutenant des sites Web et des services Internet qui ont été constamment attaqués au cours des dernières années. <br><br> <a href=""><img src="https://habrastorage.org/webt/hh/qr/ab/hhqrabfc2kbsjf6aj3bmimutclu.png" alt="image"></a> <br>  <i>Attaques régulières.</i>  <i>350 000 req au total, 52 000 req légitimes</i> <br><a name="habracut"></a><br>  Les premières attaques sont apparues presque simultanément avec Internet.  Le DDoS en tant que phénomène s'est généralisé depuis la fin des années 2000 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voir www.cloudflare.com/learning/ddos/famous-ddos-attacks</a> ). <br><br>  Vers 2015-2016, presque tous les fournisseurs d'hébergement ont été protégés contre les attaques DDoS, comme la plupart des sites importants dans les zones concurrentielles (faites le whois sur les sites IP eldorado.ru, leroymerlin.ru, tilda.ws, voir le réseau des opérateurs de protection). <br><br>  S'il y a 10 à 20 ans, la plupart des attaques pouvaient être repoussées sur le serveur lui-même (évaluer les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recommandations de l'administrateur système Lenta.ru Maxim Moshkov des années 90</a> ), maintenant tout est plus compliqué. <br><br>  Tout d'abord, brièvement sur les types d'attaques. <br><br>
<h2>  Types d'attaques DDoS en termes de choix d'un opérateur de protection </h2><br><h4>  Attaques L3 / L4 (modèle OSI) </h4><br><ul><li>  Inondation UDP depuis le botnet (de nombreuses requêtes sont envoyées directement des appareils infectés au service attaqué, le canal est bloqué par les serveurs); </li><li>  Amplification DNS / NTP / etc (de nombreuses demandes de DNS / NTP / etc vulnérables sont envoyées depuis des appareils infectés, l'adresse de l'expéditeur est truquée, un nuage de paquets répondant aux demandes envahit le canal de l'attaquant; c'est ainsi que les attaques les plus massives sur Internet moderne sont effectuées); </li><li>  SYN / ACK flood (de nombreuses demandes de connexion sont envoyées aux serveurs attaqués, la file d'attente de connexion déborde); </li><li>  attaques avec fragmentation de paquets, ping de la mort, ping flood (google plz); </li><li>  etc. </li></ul><br>  Ces attaques visent à «remplir» le canal avec le serveur ou à «tuer» sa capacité à recevoir du nouveau trafic. <br>  Bien que l'inondation et l'amplification SYN / ACK soient très différentes, de nombreuses entreprises les traitent tout aussi bien.  Des problèmes surviennent avec les attaques du groupe suivant. <br><br><h4>  Attaques sur L7 (niveau application) </h4><br><ul><li>  http flood (si un site Web ou une API http est attaqué); </li><li>  attaque sur les parties vulnérables du site (sans cache, très forte charge sur le site, etc.). </li></ul><br>  Le but est de faire en sorte que le serveur «travaille dur», traite beaucoup de «comme si de vraies demandes» et se retrouve sans ressources pour de vraies demandes. <br>  Bien qu'il existe d'autres attaques, ce sont les plus courantes. <br>  Des attaques sérieuses au niveau L7 sont créées de manière unique pour chaque projet attaqué. <br><br>  <b>Pourquoi 2 groupes?</b> <br><br>  Parce qu'il y a beaucoup de gens qui savent bien repousser les attaques au niveau L3 / L4, mais soit ne prennent pas du tout la protection au niveau de l'application (L7), soit tout en les traitant est plus faible que les alternatives. <br><br><h2>  Qui est qui sur le marché de la protection DDoS </h2><br>  (mon look personnel) <br><br><h4>  Protection L3 / L4 </h4><br>  Afin de repousser les attaques par amplification («bloquer» le canal du serveur), il y a suffisamment de canaux larges (de nombreux services de protection se connectent à la plupart des principaux fournisseurs de dorsale en Russie et ont des canaux d'une capacité théorique supérieure à 1 Tbit).  N'oubliez pas que de très rares attaques avec amplification durent plus d'une heure.  Si vous êtes Spamhaus et que tout le monde ne vous aime pas - oui, vous pouvez essayer d'éteindre les chaînes pendant plusieurs jours, même au risque de continuer à survivre au botnet mondial utilisé.  Si vous venez d'avoir une boutique en ligne, même si c'est mvideo.ru - 1 Tbit pendant plusieurs jours, vous verrez très bientôt (j'espère). <br><br>  Afin de repousser les attaques avec SYN / ACK flood, la fragmentation des paquets, il est nécessaire que des équipements ou des systèmes logiciels détectent et bloquent de telles attaques. <br><br>  Un tel équipement est produit par beaucoup (Arbour, il existe des solutions de Cisco, Huawei, des implémentations logicielles de Wanguard, etc.), de nombreux opérateurs de backbone l'ont déjà installé et vendent des services de protection DDoS (je connais les installations de Rostelecom, Megafon, TTK, MTS , en fait, pour tous les grands fournisseurs, les hébergeurs font de même avec leur protection a-la OVH.com, Hetzner.de, face à la protection dans ihor.ru lui-même).  Certaines entreprises développent leurs solutions logicielles (des technologies comme DPDK vous permettent de gérer des dizaines de gigabits de trafic sur une machine physique x86). <br><br>  Parmi les joueurs bien connus, les DDoS L3 / L4 sont plus ou moins efficaces pour repousser tout le monde.  Je ne vais pas dire qui a la capacité de canal maximale (ce sont des informations privilégiées), mais généralement ce n'est pas si important, et la seule différence est la rapidité avec laquelle la protection fonctionne (instantanément ou après quelques minutes d'indisponibilité du projet, comme dans Hetzner). <br><br>  La question est de savoir comment cela se fait: une attaque avec amplification peut être repoussée en bloquant le trafic en provenance des pays où le trafic est le plus nuisible, ou vous pouvez rejeter uniquement du trafic vraiment inutile. <br><br>  Mais en même temps, d'après mon expérience, tous les acteurs sérieux du marché russe peuvent y faire face sans problème: Qrator, DDoS-Guard, Kaspersky, G-Core Labs (anciennement SkyParkCDN), ServicePipe, Stormwall, Voxility, etc. <br><br>  Les entreprises en Russie travaillent rarement avec des opérateurs de sécurité étrangers, à l'exception de Cloudflare.  J'écrirai sur Cloudflare séparément. <br><br>  Je n'ai pas rencontré de protection contre des opérateurs tels que Rostelecom, Megafon, TTK, Beeline, selon des collègues, ils fournissent ces services de haute qualité, mais pour l'instant, le manque d'expérience affecte périodiquement: parfois, vous devez resserrer quelque chose grâce au soutien de l'opérateur de protection. <br>  Certains opérateurs disposent d'un service distinct «protection contre les attaques au niveau L3 / L4», ou «protection des canaux», cela coûte beaucoup moins cher que la protection à tous les niveaux. <br><br><div class="spoiler">  <b class="spoiler_title">Et si le fournisseur de backbone repousse les attaques de centaines de Gbps, il n'a pas ses propres canaux?</b> <div class="spoiler_text">  L'opérateur de protection peut se connecter à n'importe lequel des principaux fournisseurs et repousser les attaques «à ses frais».  Vous devrez payer pour le canal, mais toutes ces centaines de Gbps ne seront pas toujours utilisées, il existe des options pour réduire considérablement le coût des canaux dans ce cas, de sorte que le schéma reste opérationnel. </div></div><br> <a href=""><img src="https://habrastorage.org/webt/l0/nv/70/l0nv70ydhaz69tiqttecs0ug1_w.png"></a> <br>  <i>Ce sont les rapports de la protection supérieure L3 / L4 que je recevais régulièrement, prenant en charge le système d'hébergement.</i> <br><br><h4>  Protection L7 (niveau application) </h4><br>  Les attaques au niveau L7 (niveau application) sont capables de battre les unités régulièrement et efficacement. <br>  J'ai une expérience assez grande avec <br><br><ul><li>  Qrator.net; </li><li>  DDoS-Guard; </li><li>  Laboratoires G-Core; </li><li>  Kaspersky </li></ul><br>  Ils facturent pour chaque mégabit de trafic net, un mégabit coûte environ plusieurs milliers de roubles.  Si vous avez au moins 100 Mbps de trafic pur - oh.  La protection coûtera très cher.  Je peux dire dans les articles suivants comment concevoir des applications afin d'économiser très bien sur la capacité des canaux de protection. <br><br>  Le vrai "roi de la colline" est Qrator.net, les autres sont quelque peu derrière eux.  Qrator est le seul dans ma pratique à donner un pourcentage proche de zéro de faux positifs, mais en même temps, ils sont plusieurs fois plus chers que les autres acteurs du marché. <br><br>  Les autres opérateurs bénéficient d'une protection stable et de haute qualité.  De nombreux services que nous supportons (y compris très connus dans le pays!) Sont protégés par DDoS-Guard, G-Core Labs, et sont très satisfaits du résultat, je peux les recommander. <br><br> <a href=""><img src="https://habrastorage.org/webt/95/i0/ap/95i0api3gqlvnmwnk-3l8byibqq.png"></a> <br>  <i>Attaques repoussées par Qrator</i> <br><br>  Il existe encore de l'expérience avec les petits opérateurs de protection tels que cloud-shield.ru, ddosa.net, etc.  Je ne peux certainement pas le recommander, car  l'expérience n'est pas très grande, je vais parler des principes de leur travail.  Le coût de la protection est souvent inférieur de 1 à 2 ordres de grandeur à celui des grands acteurs.  En règle générale, ils achètent un service de défense partielle (L3 / L4) à l'un des plus grands joueurs + font leur propre défense contre les attaques à des niveaux supérieurs.  Cela peut être assez efficace + vous pouvez obtenir un bon service pour moins d'argent, mais ce sont toujours de petites entreprises avec un petit personnel, veuillez considérer. <br><br><h4>  Cloudflare </h4><br>  CloudFlare est un phénomène distinct.  Il s'agit déjà d'une énorme entreprise qui coûte plusieurs milliards de dollars, leurs clients représentent la moitié des générateurs de trafic dans le monde et le service de protection DDoS est tout simplement le plus célèbre de leurs services.  Nous les utilisons également en permanence pour l'hébergement DNS, CDN, en tant que service proxy de trafic. <br><br>  Pour un site / service qui n'a pas d'attaques complexes, Cloudflare est tout à fait correct, mais avec des attaques sérieuses (quand elles ne «remplissent» pas seulement le canal, mais combinent de nombreux types d'attaques), leur plan d'affaires de 200 $ ne nous a jamais sauvés, mais parlons-en La protection des entreprises pour la Russie n'a aucun sens, il est moins coûteux et plus efficace de se tourner vers d'autres joueurs. <br>  Pourquoi  Je pense qu'il est difficile de rendre un service massif presque gratuit de très haute qualité. <br>  Au fait, beaucoup d'ingénieurs russophones travaillent dans les FC :) <br><br><h4>  Opérateurs de sécurité étrangers </h4><br>  J'ai déjà eu une vraie expérience avec Dragonara.net (autrefois le plus grand opérateur de sécurité au monde), qui n'existe plus aujourd'hui. <br>  Il y a déjà beaucoup d'articles sur Habré sur les opérateurs modernes, je vais juste donner un lien vers la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dernière</a> critique: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">habr.com/en/post/350384</a> <br>  Certes, beaucoup d'entre eux sont très bons si le projet ne vise pas le marché russe, mais en Russie, il y a des problèmes avec eux. <br>  La première - une protection efficace doit être aussi proche que possible du défenseur et tenir compte des spécificités locales (en Russie seulement, en Chine la seconde, en Amérique du Sud la troisième). <br>  Deuxième raison: une tâche vraiment difficile et coûteuse est la protection au niveau L7.  Et oui, cela coûte cher à tout le monde, en principe, peu d'entreprises dans le monde offrent une bonne protection L7, et les services russes gagnent souvent simplement la concurrence. <br><br><h4>  Quelle est la difficulté de repousser les attaques au niveau L7? </h4><br>  Toutes les applications sont uniques et vous devez autoriser le trafic qui leur est utile et bloquer le trafic nuisible.  Il n'est pas toujours possible d'éliminer les robots sans équivoque, vous devez donc utiliser beaucoup de degrés de purification du trafic. <br><br>  Autrefois, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le module nginx-testcookie était</a> suffisant, et maintenant il suffit de repousser un grand nombre d'attaques.  Lorsque je travaillais dans le secteur de l'hébergement, ma protection L7 était basée uniquement sur nginx-testcookie.  Soit dit en passant, Beget.ru, Netangels.ru, FastVPS.ru avaient un système similaire. <br><br>  Hélas, les attaques sont devenues plus difficiles.  testcookie utilise des contrôles pour les bots basés sur JS, et de nombreux bots modernes peuvent les passer avec succès. <br><br>  Les réseaux de zombies attaquants sont également uniques et vous devez tenir compte des caractéristiques de chaque grand réseau de zombies. <br>  Amplification, inondation directe depuis un botnet, filtrage du trafic de différents pays (filtrage différent pour différents pays), inondation SYN / ACK, fragmentation des paquets, ICMP, inondation http, tandis qu'au niveau application / http, vous pouvez trouver un nombre illimité d'attaques différentes. <br><br>  Au total, au niveau de la protection des canaux, des équipements spécialisés pour nettoyer le trafic, des logiciels spéciaux, des paramètres de filtrage supplémentaires pour chaque client, il peut y avoir des dizaines et des centaines de niveaux de filtrage. <br><br>  Pour gérer correctement cela et régler correctement les paramètres de filtrage pour différents utilisateurs, vous avez besoin de beaucoup d'expérience et de personnel qualifié.  Même un opérateur majeur qui a décidé de fournir des services de protection ne peut pas «bêtement jeter un problème à l'argent»: il faudra acquérir de l'expérience sur les sites de mensonge et des faux positifs sur le trafic légitime. <br><br>  Pour l'opérateur de protection, il n'y a pas de bouton «hit DDoS», il existe un grand nombre d'outils, vous devez pouvoir les utiliser. <br><br>  Et un autre exemple de bonus. <br><br> <a href=""><img src="https://habrastorage.org/webt/ya/wr/mq/yawrmqrp_xyx2o_nlg_hqeogl30.png"></a> <br>  <i>Le serveur sans protection a été bloqué par l'hébergeur lors d'une attaque d'une capacité de 600 Mbps</i> <br>  <i>(La "perte" de trafic n'est pas perceptible, car un seul site a été attaqué, il a été retiré du serveur pendant un certain temps et le verrou a été libéré en moins d'une heure).</i> <br> <a href=""><img src="https://habrastorage.org/webt/ty/b_/2b/tyb_2baae8seawlsujllodb5kd0.png"></a> <br>  <i>Le même serveur est protégé.</i>  <i>Les assaillants se sont «rendus» après une journée d'attaques repoussées.</i>  <i>L'attaque elle-même n'était pas la plus forte.</i> <br><br>  Les attaques L3 / L4 et leur protection sont plus triviales, elles dépendent principalement de l'épaisseur du canal, des algorithmes de détection et de filtrage des attaques. <br><br>  Les attaques L7 sont plus complexes et originales, elles dépendent de l'application attaquée, des capacités et de l'imagination des attaquants.  La protection contre eux nécessite une grande connaissance et expérience, et le résultat peut ne pas être immédiat et pas à cent pour cent.  Jusqu'à ce que Google propose un autre réseau de neurones pour la protection. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450092/">https://habr.com/ru/post/fr450092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450078/index.html">Un client de Hertz poursuit l'intégrateur Accenture et réclame 32 millions de dollars pour une mise à niveau défectueuse du site</a></li>
<li><a href="../fr450080/index.html">Microbes indigènes et digestion</a></li>
<li><a href="../fr450084/index.html">Récepteur standard Qi fait maison</a></li>
<li><a href="../fr450088/index.html">Comment dessiner des illustrations pour des résumés mathématiques dans Inkscape</a></li>
<li><a href="../fr450090/index.html">Nouvelles du monde d'OpenStreetMap n ° 457 (04.16.2019-22.04.2019)</a></li>
<li><a href="../fr450094/index.html">Café solaire: augmenter l'efficacité des cellules solaires grâce à la caféine</a></li>
<li><a href="../fr450096/index.html">Toilette chat automatique</a></li>
<li><a href="../fr450098/index.html">Yuri Bushmelev «Carte de râteau sur le champ de collecte et de livraison des grumes» - transcription du rapport</a></li>
<li><a href="../fr450100/index.html">Génération de code pour le backend. Que générer, comment et pourquoi?</a></li>
<li><a href="../fr450102/index.html">Montre à réglage automatique avec affichage électronique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>