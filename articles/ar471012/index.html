<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๏ธ ๐ ๐ง๐ฟโ๐คโ๐ง๐ฟ ุงูููุฌ ุงูููุฏุณู ูุชุทููุฑ ุงูุจุฑูุฌูุงุช. ูู ุงููุธุฑูุฉ ุฅูู ุงูููุงุฑุณุฉ ๐คท๐พ ๐ ๐ฉ๐ฝโ๐คโ๐ฉ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููููุฉ ุงุฎุชุจุงุฑ ุงูุฃููุงุฑ ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูุงูุฎูุงุฑุฒููุงุช ุฏูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉุ ููููุฉ ุตูุงุบุฉ ูุงูุชุญูู ูู ููุชููุงุชููุ ูุง ูู ูุนุจุฉ ุงูุฏุงูุง ูุงูุจุงุญุซูู ุนู ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุฌ ุงูููุฏุณู ูุชุทููุฑ ุงูุจุฑูุฌูุงุช. ูู ุงููุธุฑูุฉ ุฅูู ุงูููุงุฑุณุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/471012/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> ููููุฉ ุงุฎุชุจุงุฑ ุงูุฃููุงุฑ ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูุงูุฎูุงุฑุฒููุงุช ุฏูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉุ  ููููุฉ ุตูุงุบุฉ ูุงูุชุญูู ูู ููุชููุงุชููุ  ูุง ูู ูุนุจุฉ ุงูุฏุงูุง ูุงูุจุงุญุซูู ุนู ุงูููุงุฐุฌุ  ูุงุฐุง ุชูุนู ุนูุฏูุง ุชููู ูุฏุฑุงุช ุงูุงุฎุชุจุงุฑุงุช ุบูุฑ ูุงููุฉุ </p><br><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง.  ุงุณูู Vasil Dyadov ุ ูุงูุขู ุฃุนูู ููุจุฑูุฌ ูู Yandex.Mail ุ ููุจู ุฐูู ุนููุช ูู ุดุฑูุฉ Intel ุ ููุฏ ุณุจู ูู ุฃู ูุถุนุช ุฑูุฒ RTL (ูุณุชูู ููู ุงูุชุณุฌูู) ุนูู Verilog / VHDL ูู ASIC / FPGA.  ููุฏ ููุช ูุบุฑููุง ููุฐ ูุชุฑุฉ ุทูููุฉ ุจููุถูุน ููุซูููุฉ ุงูุจุฑุงูุฌ ูุงูุฃุฌูุฒุฉ ูุงูุฑูุงุถูุงุช ูุงูุฃุฏูุงุช ูุงูุฃุณุงููุจ ุงููุณุชุฎุฏูุฉ ูุชุทููุฑ ุงูุจุฑุงูุฌ ูุงูููุทู ุจุฎุตุงุฆุต ูุถูููุฉ ููุญุฏุฏุฉ ูุณุจููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุงูููุงูุฉ ุงูุซุงููุฉ ูู ุณูุณูุฉ (ุงูููุงูุฉ ุงูุฃููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ) ุ ุงููุตููุฉ ูุฌุฐุจ ุงูุชุจุงู ุงููุทูุฑูู ูุงููุฏูุฑูู ุฅูู ุงูููุฌ ุงูููุฏุณู ูุชุทููุฑ ุงูุจุฑูุฌูุงุช.  ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ุ ุชู ุชุฌุงููู ุจุดูู ุบูุฑ ูุณุชุญู ุ ุนูู ุงูุฑุบู ูู ุงูุชุบููุฑุงุช ุงูุซูุฑูุฉ ูู ููุฌู ูุฃุฏูุงุช ุงูุฏุนู. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุจุฏุง ุงูููุงู ุงูุฃูู ูุจุนุถ ุงููุฑุงุก ูุฌุฑุฏุฉ ููุบุงูุฉ.  ููุฏ ุงููุซูุฑูู ุฃู ูุฑูุง ูุซุงููุง ุนูู ุงุณุชุฎุฏุงู ููุฌ ููุฏุณู ูููุงุตูุงุช ุฑุณููุฉ ูู ุธุฑูู ูุฑูุจุฉ ูู ุงููุงูุน. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ุณููุธุฑ ูู ูุซุงู ุนูู ุงูุชุทุจูู ุงูุญูููู ูู TLA + ูุญู ูุดููุฉ ุนูููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ุฏุงุฆููุง ูููุชุญ ูููุงูุดุฉ ุงููุถุงูุง ุงููุชุนููุฉ ุจุชุทููุฑ ุงูุจุฑูุฌูุงุช ุ ูุณุฃููู ุณุนูุฏูุง ููุฏุฑุฏุดุฉ ูุน ุงููุฑุงุก (ุฅุญุฏุงุซูุงุช ุงูุงุชุตุงู ูู ูููู ุงูุดุฎุตู). </p><br><h1 id="chto-takoe-tla" style=";text-align:right;direction:rtl">  ูุง ูู TLA +ุ </h1><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุฃูุฏ ุฃู ุฃููู ุจุถุน ูููุงุช ุญูู TLA + ู TLC. </p><br><p style=";text-align:right;direction:rtl">  TLA + (ุงูููุทู ุงูุฒููู ููุฅุฌุฑุงุกุงุช + ุงูุจูุงูุงุช) ูู ุดูููุฉ ุชุณุชูุฏ ุฅูู ููุน ูู ุงูููุทู ุงูุฒููู.  ุตููู ููุฒูู ูุงูุจูุฑุช. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฅุทุงุฑ ูุฐู ุงูุดูููุงุช ุ ูููู ูููุฑุก ุฃู ูุตู ูุถุงุก ูุชุบูุฑุงุช ุณููู ุงููุธุงู ูุฎุตุงุฆุต ูุฐู ุงูุณููููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุจุณุงุทุฉ ุ ูููููุง ุฃู ููุชุฑุถ ุฃู ุณููู ุงููุธุงู ููุซูู ุณูุณูุฉ ูู ุญุงูุงุชู (ูุซู ุงูุฎุฑุฒุงุช ุงููุงููุงุฆูุฉ ุ ุงููุฑุงุช ุนูู ุงูุณูุณูุฉ) ุ ูุชุนุฑู ุตูุบุฉ TLA + ูุฆุฉ ูู ุงูุณูุงุณู ุงูุชู ุชุตู ุฌููุน ุงููุชุบูุฑุงุช ุงููุญุชููุฉ ูุณููู ุงููุธุงู (ุนุฏุฏ ูุจูุฑ ูู ุงูุฎุฑุฒุงุช). </p><br><p style=";text-align:right;direction:rtl">  TLA + ููุงุณุจ ุชูุงููุง ููุตู ุฃุฌูุฒุฉ ุงูุญุงูุฉ ุงููุญุฏุฏุฉ ุบูุฑ ุงููุญุฏุฏุฉ (ุงูุชูุงุนู ุนูู ุณุจูู ุงููุซุงู ุ ุชูุงุนู ุงูุฎุฏูุงุช ูู ุงููุธุงู) ุ ุนูู ุงูุฑุบู ูู ุฃู ุชุนุจูุฑูุง ูููู ููุตู ุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงูุฃุฎุฑู (ูุงูุชู ูููู ุงูุชุนุจูุฑ ุนููุง ูู ููุทู ุงูุฏุฑุฌุฉ ุงูุฃููู). </p><br><p style=";text-align:right;direction:rtl">  ู TLC ูู ูุฏูู ุทุฑุงุฒ ุตุฑูุญ: ุจุฑูุงูุฌ ุ ููููุง ููุตู ูุธุงู TLA + ูุนูู ูุตูุบ ุฎุงุตูุฉ ุ ูุชูุฑุฑ ุนูู ุญุงูุงุช ุงููุธุงู ููุญุฏุฏ ูุง ุฅุฐุง ูุงู ุงููุธุงู ููู ุจุงูุฎุตุงุฆุต ุงููุญุฏุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุชู ุฅูุดุงุก ุงูุนูู ุจุงุณุชุฎุฏุงู TLA + / TLC ุจูุฐู ุงูุทุฑููุฉ: ูุญู ูุตู ุงููุธุงู ูู TLA + ุ ููุถูู ุงูุทุงุจุน ุงูุฑุณูู ุนูู ุงูุฎุตุงุฆุต ุงููุซูุฑุฉ ููุงูุชูุงู ูู TLA + ุ ููู ุจุชุดุบูู TLC ููุชุญูู. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃูู ููุณ ูู ุงูุณูู ูุตู ูุธุงู ุฃูุซุฑ ุฃู ุฃูู ุชุนููุฏูุง ุจุดูู ูุจุงุดุฑ ูู TLA + ุ ุชู ุงุฎุชุฑุงุน ูุบุฉ ุฐุงุช ูุณุชูู ุฃุนูู - PlusCal ุ ูุงูุชู ุชุชุฑุฌู ุฅูู TLA +.  ููุฌุฏ PlusCal ุจุทุฑููุชูู: ูุน ุจูุงุก ุฌููุฉ Pascal ู C-like.  ูู ุงูููุงู ุงูุฐู ุงุณุชุฎุฏูุชู ุจูุงุก ุฌููุฉ ุชุดุจู Pascal ุ ูุจุฏู ูู ุฃูู ูู ุงูุฃูุถู ูุฑุงุกุฉ.  PlusCal ูููุง ูุชุนูู TLA + ูู ููุณู ุชูุฑูุจุง C ูููุง ูุชุนูู ุงููุฌููุน. </p><br><p style=";text-align:right;direction:rtl">  ููุง ูู ูุชุนูู ูู ุงููุธุฑูุฉ.  ูุชู ุชูููุฑ ุฃุฏุจ ุงูุบูุฑ ูู TLA + / PlusCal / TLC ูู ููุงูุฉ ุงูููุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ูููุชู ุงูุฑุฆูุณูุฉ ูู ุฅุธูุงุฑ ุชุทุจูู TLA + / TLC ูู ูุซุงู ุญูููู ุจุณูุท ูููููู ููุญูุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุชุนูููุงุช ุนูู ุงูููุงู ุงูุณุงุจู ุ ุชู ุชุฃููุจ ุฃููู ูู ุฃุฑุณู ุงูุฃุณุณ ุงููุธุฑูุฉ ููุฃุฏูุงุช ุ ูููู ุงูุบุฑุถ ูู ูุฐู ุงูุณูุณูุฉ ูู ุงูููุงูุงุช ูู ุฅุธูุงุฑ ุงูุชุทุจูู ุงูุนููู ูุฃุฏูุงุช ุงูููุฌ ุงูููุฏุณู ูู ุชุทููุฑ ุงูุจุฑูุฌูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ุงูุงูุบูุงุณ ุงูุนููู ูู ุงููุธุฑูุฉ ูุง ููู ุฃู ุดุฎุต ุ ูููู ุฅุฐุง ููุช ููุชููุง ุ ูููููู ุฏุงุฆููุง ุงูุฐูุงุจ ุฅูู ุฑุฆูุณ ุงููุฒุฑุงุก ููุญุตูู ุนูู ุฑูุงุจุท ูุชูุณูุฑุงุช ุ ูุจูุฏุฑ ูุง ูุฏู ูุนุฑูุฉ ูุงููุฉ (ุจุนุฏ ูู ุดูุก ุ ุฃูุง ูุณุช ุนุงูููุง ูุธุฑููุง ูู ุงูุฑูุงุถูุงุช ุ ููููู ูููุฏุณ ุจุฑูุฌูุงุช) ุ ุณุฃุญุงูู ุงูุฅุฌุงุจุฉ . </p><br><h1 id="postanovka-zadachi" style=";text-align:right;direction:rtl">  ุจูุงู ุงููุดููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุณุฃุชุญุฏุซ ููููุงู ุนู ุงููููุฉ ุงูุชู ุชู ุงุณุชุฎุฏุงู TLA + ููุง. </p><br><p style=";text-align:right;direction:rtl">  ุชุชุนูู ุงููููุฉ ุจูุนุงูุฌุฉ ุชุฏูู ุงูุฃุญุฏุงุซ.  ููู ูุฅูุดุงุก ูุงุฆูุฉ ุงูุชุธุงุฑ ูุชุฎุฒูู ุงูุฃุญุฏุงุซ ูุฅุฑุณุงู ุฅุนูุงูุงุช ุญูู ูุฐู ุงูุฃุญุฏุงุซ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุธูู ูุณุชูุฏุน ุงูุจูุงูุงุช ูุนูููุง ุนูู ุฃุณุงุณ PostgreSQL DBMS. </p><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุฑุฆูุณู ุงูุฐู ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ูุตุงุฏุฑ ููุฃุญุฏุงุซ.  ูุฃุบุฑุงุถูุง ุ ูููููุง ุฃู ููุตุฑ ุฃููุณูุง ุนูู ุญูููุฉ ุฃู ูู ุญุฏุซ ูุชููุฒ ุจุงูููุช ุงูุฐู ูุชู ููู ุงูุชุฎุทูุท ูููุนุงูุฌุฉ.  ุชูุชุจ ูุฐู ุงููุตุงุฏุฑ ุงูุฃุญุฏุงุซ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุนุงุฏุฉู ูุง ูุฑุชุจุท ููุช ุงููุชุงุจุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุช ุงููุนุงูุฌุฉ ุงููุฎุทุทุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู. </li><li style=";text-align:right;direction:rtl">  ููุงู ุนูููุงุช ุชูุณูููุฉ ุชูุฑุฃ ุงูุฃุญุฏุงุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุฑุณู ุฅุฎุทุงุฑุงุช ุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ุฅูู ููููุงุช ุงููุธุงู ุงูุชู ูุฌุจ ุฃู ุชุณุชุฌูุจ ููุฐู ุงูุฅุดุนุงุฑุงุช. </li><li style=";text-align:right;direction:rtl">  ุงูุดุฑุท ุงูุฃุณุงุณู: ูุฌุจ ุฃูุง ูููุฏ ุงูุฃุญุฏุงุซ.  ูููู ุชูุฑุงุฑ ุฅุนูุงู ุงูุญุฏุซ ูู ุงูุญุงูุงุช ุงููุตูู ุ ุฃู ุฃูู ูุฌุจ ุฃู ูููู ููุงู ุถูุงู <em>ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู</em> .  ูู ุงูุฃูุธูุฉ ุงูููุฒุนุฉ ุ ูู ุงูุตุนุจ ููุบุงูุฉ ุชูููุฐ ุถูุงู <em>ูุฑุฉ ูุงุญุฏุฉ ููุท</em> (ูุฏ ูููู ุฐูู ูุณุชุญูููุง ุ ููู ูุฌุจ ุฅุซุจุงุชู) ุฏูู ูุฌูุฏ ุขููุงุช ุฅุฌูุงุน ุ ููู (ุนูู ุงูุฃูู ูู ูุง ุฃุนุฑูู) ููุง ุชุฃุซูุฑ ููู ุฌุฏูุง ุนูู ุงููุธุงู ูู ุญูุซ ุงูุชุฃุฎูุฑ ูุงูุฅูุชุงุฌูุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุนุถ ุงูุชูุงุตูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุนูููุงุช ุงููุตุฏุฑ ุ ูููู ุฃู ุชููุฏ ุงูููุงููู (ูู ุฃุณูุฃ ุงูุญุงูุงุช) ูู ุงูุฃุญุฏุงุซ ุงูุชู ุชูุน ูู ูุชุฑุฉ ุฒูููุฉ ุถููุฉ. </li><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก ุงูุฃุญุฏุงุซ ูููุณุชูุจู ูููููุช ุงููุงุถู (ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชุจุงุทุฃุช ุนูููุฉ ุงููุตุฏุฑ ูุณุฌูุช ุญุฏุซูุง ููุญุธุฉ ุงูุชู ูุฑุช ุจุงููุนู). </li><li style=";text-align:right;direction:rtl">  ุชููู ุฃููููุฉ ูุนุงูุฌุฉ ุงูุญุฏุซ ูู ุงูููุช ุงูููุงุณุจ ุ ุฃู ูุฌุจ ุนูููุง ุฃููุงู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงููุจูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ููู ุญุฏุซ ุ ุชููุฏ ุงูุนูููุฉ ุงููุตุฏุฑ ุฑูููุง ุนุดูุงุฆููุง <em>ููุนุงูู</em> ุ ุจุญูุซ ูุชู ุชูุฒูุน ุงูุฃุญุฏุงุซ ุจูู ุงูููุณููู. </li><li style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุนูููุงุช ุงูุชูุณูู (ุงูููุงููุณ ููููุง ููุงุญุชูุงุฌุงุช ุจูุงุกู ุนูู ุชุญููู ุงููุธุงู). </li><li style=";text-align:right;direction:rtl">  ูู ุนูููุฉ ููุณู ุชููู ุจูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงูุฎุงุตุฉ <em>ุจูุฌููุนุชูุง worker_id</em> ุ ุจูุนูู ุ ูุจุณุจุจ <em>worker_id ุ</em> ูุชุฌูุจ ุงูุชูุงูุณ ุจูู ุงูููุณููู ูุงูุญุงุฌุฉ ุฅูู ุงูุฃููุงู. </li></ol><br><p style=";text-align:right;direction:rtl">  ููุง ูุชุถุญ ูู ุงููุตู ุ ูููููุง ุงููุธุฑ ูู ุนูููุฉ ุชูุณูู ูุงุญุฏุฉ ููุท ูุนุฏู ูุฑุงุนุงุฉ <em>ุนุงูู_ ุนุงูู</em> ูู ูููุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ูู ุ ููุจุณุงุทุฉ ุ ููุชุฑุถ ุฃู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุนูููุงุช ุงููุตุฏุฑ. </li><li style=";text-align:right;direction:rtl">  ุนูููุฉ ุงูุชูุณูู ูุงุญุฏุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ุณูู ุฃุตู ุชุทูุฑ ููุฑุฉ ุญู ูุฐู ุงููุดููุฉ ุนูู ูุฑุงุญู ุ ุจุญูุซ ูููู ูู ุงูููู ููู ุชุทูุฑุช ุงูููุฑุฉ ูู ุชุทุจูู ุจุณูุท ุฅูู ุชุทุจูู ูุญุณู. </p><br><h1 id="reshenie-v-lob" style=";text-align:right;direction:rtl">  ูุฑุงุฑ ุงูุฌุจูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุณูููู ุจุฅูุดุงุก ููุญุฉ ููุฃุญุฏุงุซ ุญูุซ ุณูููู ุจุชุฎุฒูู ุงูุฃุญุฏุงุซ ูู ุดูู <em>ุทุงุจุน ุฒููู</em> (ูุญู ูุณูุง ููุชููู ุจูุนููุงุช ุฃุฎุฑู ูู ูุฐู ุงููููุฉ).  ุฏุนููุง ุจูุงุก ููุฑุณ ูู ุญูู <em>ุงูุทุงุจุน ุงูุฒููู</em> . </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃู ุงูุญู ุงูุทุจูุนู ุชูุงูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ูุดููุฉ ูู ูุงุจููุฉ ุงูุชูุณุน: ูููุง ุฒุงุฏ ุนุฏุฏ ุงูุฃุญุฏุงุซ ุ ูููุง ูุงูุช ุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃุจุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุฃุชู ุงูุฃุญุฏุงุซ ููููุช ุงููุงุถู ุ ูุฐูู ุณูุชุนูู ุนูู ุงูููุณู ูุฑุงุฌุนุฉ ุงูุฌุฏูู ุงูุฒููู ุจุฃูููู ุจุงุณุชูุฑุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุญู ุงููุดููุฉ ุนูู ูุทุงู ูุงุณุน ุนู ุทุฑูู ุชูุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุดุธุงูุง ุจูุฑูุฑ ุงูููุช ุ ุฅูุฎ. ููู ูุฐู ุทุฑููุฉ ูุซููุฉ ุงูุงุณุชุฎุฏุงู ููููุงุฑุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ุณูู ูุชุจุงุทุฃ ุนูู ุงูููุณููู ุ ุญูุซ ุณูุชุนูู ุนููู ูุฑุงุกุฉ ูุฏูุฌ ุงูุจูุงูุงุช ูู ุนุฏุฉ ููุงุนุฏ ุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุตุนุจ ุชุทุจูู ุงูุชุฎุฒูู ุงููุคูุช ููุญุฏุซ ูู ุงูููุณู ุญุชู ูุง ุชูุชูู ุฅูู ุงูููุงุนุฏ ููุนุงูุฌุฉ ูู ุญุฏุซ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฒูุฏ ูู ููุงุนุฏ ุงูุจูุงูุงุช - ุงููุฒูุฏ ูู ูุดุงูู ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ู ููุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุชูุงูู ุจุงูุชูุตูู ูุฐุง ุงูุญู ุงูุฃูุงูู ุจุงูุชูุตูู ุ ูุฃูู ุชุงูู ูุบูุฑ ููุชู. </p><br><h1 id="pervaya-optimizaciya" style=";text-align:right;direction:rtl">  ุงูุชุญุณูู ุงูุฃูู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุฑู ููููุฉ ุชุญุณูู ุงูุญู ุงูุฃูุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชุญุณูู ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููููู ุชุนููุฏ ุงูููุฑุณ ููููุงู ุ ูุฅุถุงูุฉ ูุนุฑู ุฒูุงุฏุฉ ุฑุชุงุจุฉ ุฅูู ุงูุฃุญุฏุงุซ ุงูุชู ุณูุชู ุฅูุดุงุคูุง ุนูุฏ ุงุฑุชูุงุจ ูุนุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุฃู ุฃู ุงูุญุฏุซ ูุชููุฒ ุงูุขู ุจุงูุฒูุฌ <em>{timeุ id}</em> ุ ุญูุซ ูููู <em>ุงูููุช</em> ูู ุงูููุช ุงูุฐู ุชู ููู ุฌุฏููุฉ ุงูุญุฏุซ ุ <em>ูุงููุนุฑู</em> ูู ุนุฏุงุฏ ูุชุฒุงูุฏ ุจุดูู ุฑุชูุจ.  ููุฌุฏ ุถูุงู ูุชูุฑุฏ <em>ุงููุนุฑู</em> ููู ุญุฏุซ ุ ูููู ูุง ููุฌุฏ ุถูุงู ุจุฃู ููู <em>ุงููุนุฑู</em> ุชุฐูุจ ุจุฏูู ุซููุจ (ุฃู ุ ูููู ุฃู ูููู ููุงู ูุซู ูุฐุง ุงูุชุณูุณู: <em>1</em> ุ <em>2</em> ุ <em>7</em> ุ <em>15</em> ). </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃูู ูููููุง ุงูุขู ุชุฎุฒูู ูุนุฑูู ุญุฏุซ ุงููุฑุงุกุฉ ุงูุฃุฎูุฑ ูู ุนูููุฉ ุงูููุณู ุ ูุนูุฏ ุฌูุจ ุงูุฃุญุฏุงุซ ุ ุญุฏุฏ ุฃุญุฏุงุซ ุฐุงุช ูุนุฑููุงุช ุฃูุจุฑ ูู ุขุฎุฑ ุญุฏุซ ูุนุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ููุง ุชุธูุฑ ุงููุดููุฉ ุนูู ุงูููุฑ: ูููู ูุนูููุงุช ุงููุตุฏุฑ ุชุณุฌูู ุญุฏุซ ูุน ุทุงุจุน ุฒููู ุจุนูุฏ ูู ุงููุณุชูุจู.  ุนูุฏูุง ุณูุชุนูู ุนูููุง ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฏุงุฆููุง ูุฌููุนุฉ ุงูุฃุญุฏุงุซ ุฐุงุช ุงููุนุฑูุงุช ุงูุตุบูุฑุฉ ูู ุนูููุฉ ุงูุชูุณูู ุ ูุงูุชู ูู ูุญู ููุนุฏูุง ุจุนุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ููุงุญุธุฉ ุฃู ุงูุฃุญุฏุงุซ ุงููุชุนููุฉ ุจุงูููุช ุงูุญุงูู ููุณูุฉ ุฅูู ูุฆุชูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุญุฏุงุซ ูุน ุงูุทุงุจุน ุงูุฒููู ูู ุงููุงุถู ุ ูููู ูุน ูุนุฑู ูุจูุฑ.  ููุฏ ุชูุช ูุชุงุจุชูุง ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุคุฎุฑูุง ุ ุจุนุฏ ุฃู ูููุง ุจูุนุงูุฌุฉ ุฐูู ุงููุงุตู ุงูุฒููู.  ูุฐู ุฃุญุฏุงุซ ุฐุงุช ุฃููููุฉ ุนุงููุฉ ุ ููุฌุจ ูุนุงูุฌุชูุง ุฃููุงู ุญุชู ูุง ูุชุฃุฎุฑ ุงูุฅุฎุทุงุฑ - ุงูุฐู ุชุฃุฎุฑ ุจุงููุนู. </li><li style=";text-align:right;direction:rtl">  ุงูุฃุญุฏุงุซ ุงููุณุฌูุฉ ุฐุงุช ูุฑุฉ ูุน ุทูุงุจุน ุฒูููุฉ ูุฑูุจุฉ ูู ุงููุญุธุฉ ุงูุญุงููุฉ.  ุณูููู ููุฐู ุงูุฃุญุฏุงุซ ูููุฉ ูุนุฑู ููุฎูุถุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ููููุง ูุฐูู ุ ุชุชููุฒ ุงูุญุงูุฉ ุงูุญุงููุฉ ูุนูููุฉ ุงูููุณู ุจุงูุฒูุฌ {state.timeุ state.id}. </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนููุง ูู ุนูู ุงููุณุงุฑ ูููู ูุฐู ุงูููุทุฉ (ุงูููุทูุฉ ุงููุฑุฏูุฉ) ุ ูุงูุฃุญุฏุงุซ ุงูุนุงุฏูุฉ ูู ุฅูู ุงููููู (ุงูุฃุฒุฑู ุงููุงุชุญ): </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/n3/x3/q-/n3x3q-kjbxuerrkffffqqnh6hh8.png"></p><br><h2 id="blok-shema" style=";text-align:right;direction:rtl">  ูุฎุทุท ุงูุชุฏูู </h2><br><p style=";text-align:right;direction:rtl">  ุฎูุงุฑุฒููุฉ ุนูู ุงูููุณู ูู ููุง ููู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/j6/4d/ge/j64dgeq_jubcbyn4e3zu9ekfasy.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8y/ux/si/8yuxsi4nubi7q5yvclqizezo6xq.png"></p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฏุฑุงุณุฉ ุงูุฎูุงุฑุฒููุฉ ุ ูุฏ ุชุซุงุฑ ุงูุฃุณุฆูุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุงุฐุง ูู ุจุฏุฃุช ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงูุนุงุฏูุฉ ููู ุชูู ุงููุญุธุฉ ูุตูุช ุฃุญุฏุงุซ ุฌุฏูุฏุฉ ูู ุงููุงุถู (ูู ุงูููุทูุฉ ุงููุฑุฏูุฉ) ุ ุฃูุง ุชุถูุนุ  ุงูุฅุฌุงุจุฉ: ุณุชุชู ูุนุงูุฌุชูุง ูู ุงูุฏูุฑุฉ ุงูุชุงููุฉ ููุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ.  ูุง ูููู ุฃู ูุถูุนูุง ุ ูุฃู ูุนุฑููู ูุถููู ููููู ุฃุนูู ูู ูุนุฑู ุงูุญุงูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุงุฐุง ูู ุญุฏุซ ุจุนุฏ ูุนุงูุฌุฉ ุฌููุน ุงูุฃุญุฏุงุซ ุงูุนุงุฏูุฉ - ูู ููุช ุงูุชุจุฏูู ุฅูู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ - ุฃุญุฏุงุซ ุฌุฏูุฏุฉ ูุน ุทูุงุจุน ุฒูููุฉ ูู ุงููุงุตู ุงูุฒููู [state.timeุ state.time + Delta] ุ ูู ูููุฏูุงุ  ุงูุฅุฌุงุจุฉ: ุณูู ูุณูุทูู ูู ุงูููุทูุฉ ุงููุฑุฏูุฉ ุ ุญูุซ ุณูููู ูุฏููู <em>ููุช</em> &lt;state.time ู <em>id</em> &gt; state.id: ููุฏ ูุตููุง ูุคุฎุฑูุง ุ ููุชุฒุงูุฏ <em>ูุนุฑู ุงููููุฉ</em> ุฑุชุงุจุฉ. </li></ol><br><h2 id="primer-raboty-algoritma" style=";text-align:right;direction:rtl">  ูุซุงู ุนูููุฉ ุงูุฎูุงุฑุฒููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุจุถุน ุฎุทูุงุช ูู ุงูุฎูุงุฑุฒููุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jl/lf/5v/jllf5vhoz843at6gfrtmjmasppw.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/z-/ri/zx/z-rizxhocuxtepr7_wnflvgqm14.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/oc/dr/pv/ocdrpv4ozmf-pq_itridvcjookc.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uv/xt/aw/uvxtawqbs5ftd8uzebcwqosdrvw.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uo/_s/cg/uo_scglk7ucb_yze8he8b___wro.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ko/8q/24/ko8q24qizzqz5ddew4jbodavvts.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/iw/-f/el/iw-felnslp1mdme-thbu_nicbly.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vf/vs/tz/vfvstz05jy9aowpndr-okgajxpk.png"></p><br><h2 id="model" style=";text-align:right;direction:rtl">  ูููุฐุฌ </h2><br><p style=";text-align:right;direction:rtl">  ุณูู ูุชุฃูุฏ ูู ุฃู ุงูุฎูุงุฑุฒููุฉ ูุง ุชููุช ุงูุฃุญุฏุงุซ ูุณูุชู ุฅุฑุณุงู ุฌููุน ุงูุฅุฎุทุงุฑุงุช: ุณูููู ุจุฅูุดุงุก ูููุฐุฌ ุจุณูุท ูุงูุชุญูู ููู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุทุฑุงุฒ ุ ูุณุชุฎุฏู TLA + ุ ูุจุดูู ุฃูุซุฑ ุฏูุฉ PlusCal ุ ูุงูุฐู ูุชุฑุฌู ุฅูู TLA +. </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">---------------- MODULE events ---------------- EXTENDS Naturals, FiniteSets, Sequences, TLC (* --algorithm Events \*      \*   (by Daniel Jackson) \* small-scope hypothesis,   \*  ,  ฬ   \*     \*   \*  : \* Events -   - ,   \*    [time, id], \*     \*      \*   \* Event_Id -    \*   id \* MAX_TIME -  ,   \*   \* TIME_DELTA -   Delta, \*     \*  variables Events = {}, Event_Id = 0, MAX_TIME = 5, TIME_DELTA \in 1..3 define \*   \*   ZERO_EVT == [time |-&gt; 0, id |-&gt; 0] MAX(S) == CHOOSE x \in S: \A y \in S: y &lt;= x MIN(S) == CHOOSE x \in S: \A y \in S: y &gt;= x \*  fold_left/fold_right    RECURSIVE SetReduce(_, _, _) SetReduce(Op(_, _), S, value) == IF S = {} THEN value ELSE LET s == CHOOSE s \in S : TRUE IN SetReduce(Op, S \ {s}, Op(s, value)) (*     (  ) *) ToSeq(S) == LET op(e, val) == Append(val, e) IN SetReduce(op, S, &lt;&lt; &gt;&gt;) (* :    *) ToSet(S) == {S[i] : i \in DOMAIN(S)} (*  map    *) MapSet(Op(_), S) == {Op(x) : x \in S} (*   *) \*   id  GetIds(Evts) == MapSet(LAMBDA x: x.id, Evts) \*   time  GetTimes(Evts) == MapSet(LAMBDA x: x.time, Evts) (*   SQL  *) \*     \*   ORDER BY EventsOrderByTime(e1, e2) == e1.time &lt; e2.time EventsOrderById(e1, e2) == e1.id &lt; e2.id EventsOrder(e1, e2) == \*   time, id \/ EventsOrderByTime(e1, e2) \/ /\ e1.time = e2.time /\ EventsOrderById(e1, e2) \* SELECT * FROM events \* WHERE time &lt;= curr_time AND id &gt;= max_id \* ORDER BY time, id SELECT_HIGH_PRIO(state) == LET \*      \* time &lt;= curr_time \* AND id &gt;= maxt_id selected == {e \in Events : /\ e.time &lt;= state.time /\ e.id &gt;= state.id } IN selected \* SELECT * FROM events \* WHERE time &gt; current_time AND time - Time &lt;= delta_time \* ORDER BY time, id SELECT_NORMAL(state, delta_time) == LET selected == {e \in Events : /\ e.time &lt;= state.time + delta_time /\ e.time &gt; state.time } IN selected \* Safety predicate \*       ALL_EVENTS_PROCESSED(state) == \A e \in Events: \/ e.time &gt;= state.time \/ e.id &gt;= state.id end define; \*  -   fair process inserter = "Sources" variable n, t; begin forever: while TRUE do \*      get_time: \*     \* ,     , \*    with evt_time \in 0..MAX_TIME do t := evt_time; end with; \*     ; \*   : \* 1.   . \* 2.  ,    \* Event_Id -   , \*     commit: \* either -     either Events := Events \cup {[time |-&gt; t, id |-&gt; Event_Id]} || Event_Id := Event_Id + 1; or Event_Id := Event_Id + 1; end either; end while; end process fair process coordinator = "Coordinator" variable state = ZERO_EVT, events = {}; begin forever: while TRUE do \*    high_prio: events := SELECT_HIGH_PRIO(state); \*   process_high_prio: \*          , \*    Events, \*       state.id := MAX({state.id} \union GetIds(events)) || \*      , \*      Events := Events \ events || \*  events  , \*      events := {}; \*  -   normal: events := SELECT_NORMAL(state, TIME_DELTA); process_normal: state.time := MAX({state.time} \union GetTimes(events)) || Events := Events \ events || events := {}; end while; end process end algorithm; *) \* BEGIN TRANSLATION \*  TLA+,     PlusCal  \* END TRANSLATION ================================</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ุงููุตู ุตุบูุฑ ูุณุจููุง ุ ุนูู ุงูุฑุบู ูู ุงููุณู ุงูุถุฎู ูู ุงูุชุนุฑููุงุช (ุชุนุฑูู) ุ ูุงูุฐู ูููู ุฃุฎุฐู ูู ูุญุฏุฉ ููุทูุฉ ูููุตูุฉ ุ ุซู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุชุนูููุงุช ุญุงููุช ุชูุถูุญ ูุง ูุญุฏุซ ูู ุงููููุฐุฌ.  ุงูู ูุฐุง <br>  ุชูููุช ูููุณ ููุงู ุญุงุฌุฉ ูุฑุณู ุงููููุฐุฌ ุจูุฒูุฏ ูู ุงูุชูุงุตูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฏ ููุท ุชูุถูุญ ููุทุฉ ูุงุญุฏุฉ ูููุง ูุชุนูู ุจูุฏู ุฐุฑูุฉ ุงูุชุญููุงุช ุจูู ุงูุญุงูุงุช ูููุฒุงุช ุงูููุฐุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูููุฐุฌุฉ ุนู ุทุฑูู ุชูููุฐ ุงูุฎุทูุงุช ุงูุฐุฑูุฉ ููุนูููุงุช.  ูู ุนูููุฉ ุงูุชูุงู ูุงุญุฏุฉ ุ ูุชู ุชูููุฐ ุฎุทูุฉ ุฐุฑูุฉ ูุงุญุฏุฉ ูู ุงูุนูููุฉ ุงูุชู ูููู ุงูููุงู ุจูุฐู ุงูุฎุทูุฉ.  ุงุฎุชูุงุฑ ุงูุฎุทูุฉ ูุงูุนูููุฉ ุบูุฑ ุญุงุณู: ุฃุซูุงุก ุงูููุฐุฌุฉ ุ ูุชู ูุฑุฒ ุฌููุน ุงูุณูุงุณู ุงูููููุฉ ูู ุงูุฎุทูุงุช ุงูุฐุฑูุฉ ูุฌููุน ุงูุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ููุดุฃ ุงูุณุคุงู: ูุงุฐุง ุนู ููุฐุฌุฉ ุงูุชูุงุฒู ุงูุญูููู ุ ุนูุฏูุง ูููุฐ ูู ููุช ูุงุญุฏ ุนุฏุฉ ุฎุทูุงุช ุฐุฑูุฉ ูู ุนูููุงุช ูุฎุชููุฉุ </p><br><p style=";text-align:right;direction:rtl">  ูุทุงููุง ุชู ุฅุฌุงุจุฉ ูุฐุง ุงูุณุคุงู ุนูู Leslie Lamport ูู ูุชุงุจ "ุชุญุฏูุฏ ุงูุฃูุธูุฉ" ูุงูุฃุนูุงู ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃูุชุจุณ ูู ุงูุฅุฌุงุจุฉ ุจุดูู ูุงูู ุ ุจุงุฎุชุตุงุฑ ุ ูุฅู ุงูุฌููุฑ ูู ูุฐุง: ุฅุฐุง ูู ููู ููุงู ูุทุงู ุฒููู ูุญุฏุฏ ุญูุซ ูุฑุชุจุท ูู ุญุฏุซ ุจูุญุธุฉ ูุนููุฉ ุ ููุง ููุฌุฏ ูุฑู ูู ููุฐุฌุฉ ุงูุฃุญุฏุงุซ ุงููุชูุงุฒูุฉ ูุฃุญุฏุงุซ ูุชุชุงููุฉ ุบูุฑ ุญุชููุฉ ุ ูุฃูู ูููููุง ุฏุงุฆููุง ุงูุชุฑุงุถ ุฃู ุญุฏุซูุง ูุง ููุน ูุจู ุขุฎุฑ ูููุฉ ูุงููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูููู ุญููุง ูู ุงูุชุฎุตูุต ุงููุฎุชุต ููุฎุทูุงุช ุงูุฐุฑูุฉ.  ุฅุฐุง ูุงู ููุงู ุงููุซูุฑ ูููู ุ ูุณูุญุฏุซ ุงููุฌุงุฑ ุงูุฏูุงุฌู ููุณุงุญุฉ ุงูุฏููุฉ.  ุฅุฐุง ุงุชุฎุฐุช ุฎุทูุงุช ุฃูู ูู ุงููุงุฒู ุ ุฃู ุญุฏุฏุชูุง ุจุดูู ุบูุฑ ุตุญูุญ - ุฃู ุงุญุชูุงู ููุฏ ุญุงูุฉ / ุงูุชูุงู ุบูุฑ ุตุงูุญ (ุฃู ุ ุณููุชูุฏ ุงูุฃุฎุทุงุก ูู ุงููููุฐุฌ). </p><br><p style=";text-align:right;direction:rtl">  ูุชูุณูู ุงูุนูููุงุช ุจุดูู ุตุญูุญ ุฅูู ุฎุทูุงุช ุฐุฑูุฉ ุ ูุฌุจ ุฃู ูููู ูุฏูู ููุฑุฉ ุฌูุฏุฉ ุนู ููููุฉ ุนูู ุงููุธุงู ูู ุญูุซ ุงุนุชูุงุฏ ุงูุนูููุงุช ุนูู ุงูุจูุงูุงุช ูุนูู ุขููุงุช ุงููุฒุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููุงุนุฏุฉ ุนุงูุฉ ุ ูุง ูุคุฏู ุชูุณูู ุงูุนูููุงุช ุฅูู ุฎุทูุงุช ุฐุฑูุฉ ุฅูู ุญุฏูุซ ูุดููุงุช ูุจูุฑุฉ.  ูุฅุฐุง ุญุฏุซ ุฐูู ุ ููู ูุดูุฑ ุฅูู ุนุฏู ููู ุงููุดููุฉ ุ ูููุณ ุนู ูุดุงูู ุชุฌููุน ุงููููุฐุฌ ููุชุงุจุฉ ููุงุตูุงุช TLA +.  ูุฐู ูู ููุฒุฉ ุฃุฎุฑู ูููุฏุฉ ููุบุงูุฉ ูู ุงูููุงุตูุงุช ุงูุฑุณููุฉ: ููู ุชุชุทูุจ ุฏุฑุงุณุฉ ูุชุญููู ุฏููู. <br>  ูุดููุฉ  ููุงุนุฏุฉ ุนุงูุฉ ุ ุฅุฐุง ูุงูุช ุงููููุฉ ุฐุงุช ูุนูู ูููููุง ุฌูุฏูุง ุ ููุง ุชูุฌุฏ ูุดููุงุช ูู ุฅุถูุงุก ุทุงุจุน ุฑุณูู ุนูููุง. </p><br><h2 id="proverka-modeli" style=";text-align:right;direction:rtl">  ุชุญูู ุงููููุฐุฌ </h2><br><p style=";text-align:right;direction:rtl">  ูููุฐุฌุฉ ุณุฃุณุชุฎุฏู ุฃุฏุงุฉ TLA.  ููููู ุจุงูุทุจุน ุชุดุบูู ูู ุดูุก ูู ุณุทุฑ ุงูุฃูุงูุฑ ุ ููู <em>IDE</em> ูุง ูุฒุงู ุฃูุซุฑ ููุงุกูุฉ ุ ุฎุงุตุฉ ูุจุฏุก ุงูุชุนูู ุนู ุงูููุฐุฌุฉ ุจุงุณุชุฎุฏุงู TLA +. </p><br><p style=";text-align:right;direction:rtl">  ุชู ูุตู ุฅูุดุงุก ุงููุดุฑูุน ุจุดูู ุฌูุฏ ูู ุงูุฃุฏูุฉ ูุงูููุงูุงุช ูุงููุชุจ ุ ูุงูุฑูุงุจุท ุงูุชู ุฃุดุฑุช ุฅูููุง ูู ููุงูุฉ ุงูููุงู ุ ูุฐูู ูู ุฃูุฑุฑ ููุณู.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ุณุฃููุช ุงูุชุจุงูู ุฅููู ูู ุฅุนุฏุงุฏุงุช ุงููุญุงูุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  TLC ูู <em>ูุฏูู ูููุฐุฌ</em> ูุน ุงูุชุญูู ูู ุญุงูุฉ ูุงุถุญุฉ.  ูู ุงููุงุถุญ ุฃู ูุณุงุญุฉ ุงูุฏููุฉ ูุฌุจ ุฃู ุชููู ูุญุฏูุฏุฉ ุจุญุฏูุฏ ูุนูููุฉ.  ูู ูุงุญูุฉ ุ ูุฌุจ ุฃู ุชููู ูุจูุฑุฉ ุจูุง ูููู ูุชููู ูุงุฏุฑูุง ุนูู ุงูุชุญูู ูู ุงูุฎุตุงุฆุต ุงูุชู ุชูููุง ุ ููู ูุงุญูุฉ ุฃุฎุฑู ุ ููู ุตุบูุฑุฉ ุจูุง ูููู ูุฅุชูุงู ุงููุญุงูุงุฉ ูู ูุชุฑุฉ ุฒูููุฉ ูุนูููุฉ ุจุงุณุชุฎุฏุงู ููุงุฑุฏ ููุจููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ููุทุฉ ุญุณุงุณุฉ ููุบุงูุฉ ุ ูููุง ุชุญุชุงุฌ ุฅูู ููู ุฎุตุงุฆุต ุงููุธุงู ูุงูุทุฑุงุฒ.  ูููู ูุฃุชู ุจุณุฑุนุฉ ูุน ุงูุฎุจุฑุฉ.  ุจุงููุณุจุฉ ูููุจุชุฏุฆูู ุ ููููู ุจุจุณุงุทุฉ ุชุนููู ุงูุญุฏูุฏ ุงููุตูู ุงูููููุฉ ุงูุชู ูุง ุชุฒุงู ููุจููุฉ ูู ุญูุซ ููุช ุงููุญุงูุงุฉ ูุงูููุงุฑุฏ ุงููุณุชูููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุฃูุถูุง ุทุฑููุฉ ููุชุญูู ูู ูุณุงุญุฉ ุงูููุงูุฉ ุจุฃููููุง ุ ูููู ููุงู ุณูุงุณู ุงูุชูุงุฆูุฉ ุนูู ุนูู ูุนูู.  ููุง ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ูููู ูุถุฑูุฑู ููุงุณุชุฎุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุนูุฏ ุฅูู ุฅุนุฏุงุฏุงุช ุงููุญุงูุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูุญุฏุฏ ุงููููุฏ ุงูููุฑูุถุฉ ุนูู ูุณุงุญุฉ ุญุงูุฉ ุงููุธุงู.  ูุชู ุชุนููู <em>ุงููููุฏ ูู</em> ูุณู ุฅุนุฏุงุฏุงุช ูุญุงูุงุฉ <em>ุงูุฎูุงุฑุงุช ุงููุชูุฏูุฉ / ุญุงูุฉ ุงูููุฏ</em> . </p><br><p style=";text-align:right;direction:rtl">  ุฃุดุฑุช ุฅูู ุชุนุจูุฑ TLA +: <code>Cardinality(Events) &lt;= 5 /\ Event_Id &lt;= 5</code> ุ <br>  ุญูุซ Event_Id ูู ุงูุญุฏ ุงูุฃุนูู ููููุฉ ูุนุฑู ุงูุญุฏุซ ุ <code>Cardinality(Events)</code> ูู ุญุฌู ูุฌููุนุฉ ุณุฌูุงุช ุงูุฃุญุฏุงุซ (ููุชุตุฑ ุงููููุฐุฌ ุงูุฃุณุงุณู <br>  ุงูุจูุงูุงุช ูู ุฎูุงู ุฎูุณุฉ ุณุฌูุงุช ูู ููุญุฉ). </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุญุงูุงุฉ ุ ุณูู ููุธุฑ TLC ููุท ูู ุงูุญุงูุงุช ุงูุชู ุชููู ูููุง ูุฐู ุงูุตูุบุฉ ุตุญูุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ุจุฅููุงูู ุงูุณูุงุญ ุจุงูุชูุงูุงุช ุงูุญุงูุฉ ุงูุตุญูุญุฉ ( <em>ุฎูุงุฑุงุช ูุชูุฏูุฉ / ููุฏ ุงูุฅุฌุฑุงุก</em> ) ุ <br>  ููููุง ูุณูุง ุจุญุงุฌุฉ ุฅูููุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุดูุฑ ุฅูู ุตูุบุฉ TLA + ุงูุชู ุชุตู ูุธุงููุง: <em>Model Overview / Temporal Formula</em> = <code>Spec</code> ุ ุญูุซ <em>Spec</em> ูู ุงุณู ุตูุบุฉ TLA + autogenerated ุจูุงุณุทุฉ PlusCal (ูู ุฑูุฒ ุงููููุฐุฌ ุฃุนูุงู ูุง: ูุชูููุฑ ูุณุงุญุฉ ุ ูู ุฃุฐูุฑ ูุชูุฌุฉ ุชุฑุฌูุฉ PlusCal ุฅูู TLA +) . </p><br><p style=";text-align:right;direction:rtl">  ุงูุฅุนุฏุงุฏ ุงูุชุงูู ูุณุชุญู ุงูุงูุชูุงู ูู ุงูุงุฎุชูุงุฑ ุงูุฌููุฏ. <br>  (ุนูุงูุฉ ุงุฎุชูุงุฑ ูู <em>ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููููุฐุฌ / ุญุงูุฉ ุชููู ุชุงู</em> ).  ุนูุฏ ุชูููู ูุฐู ุงูุนูุงูุฉ ุ ุณูู ูุชุญูู TLC ูู ุงููููุฐุฌ ูุญุงูุงุช "ุงูุชุนููู" ุ ุฃู ุชูู ุงูุชู ูุง ุชูุฌุฏ ุจูุง ุงูุชูุงูุงุช ุตุงุฏุฑุฉ.  ุฅุฐุง ูุงู ููุงู ูุซู ูุฐู ุงูุญุงูุงุช ูู ูุณุงุญุฉ ุงูููุงูุฉ ุ ููุฐุง ูุนูู ูุฌูุฏ ุฎุทุฃ ูุงุถุญ ูู ุงููููุฐุฌ.  ุฃู ูู TLC ุ ุงูุฐู ุ ูุซูู ูุซู ุฃู ุจุฑูุงูุฌ ุขุฎุฑ ุบูุฑ ุชุงูู ุ ููุณ ูุญุตููุง ูู ุงูุฃุฎุทุงุก :) ูู ููุงุฑุณุชู (ููุณุช ูุจูุฑุฉ) ุ ูู ุฃูุงุฌู ุจุนุฏ ุญุงูุฉ ุชููู ุชุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ ูู ุฃุฌู ุจุฏุก ูู ูุฐุง ุงูุงุฎุชุจุงุฑ ุ ุตูุบุฉ ุงูุฃูุงู ูู <em>ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููููุฐุฌ / Invariants</em> = <code>ALL_EVENTS_PROCESSED(state)</code> . </p><br><p style=";text-align:right;direction:rtl">  ุณูู ูุชุญูู TLC ูู ุตุญุฉ ุงูุตูุบุฉ ูู ูู ููุงูุฉ ุ ูุฅุฐุง ุฃุตุจุญุช ุฎุงุทุฆุฉ ุ <br>  ุณูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ููุธูุฑ ุชุณูุณู ุงูุญุงูุงุช ุงูุชู ุฃุฏุช ุฅูู ุงูุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุชุดุบูู TLC ุ ูุจุนุฏ ุงูุนูู ููุฏุฉ 8 ุฏูุงุฆู ุ ุฃุจูุบุช "ุจูุง ุฃุฎุทุงุก".  ูุฐุง ูุนูู ุฃู ุงููููุฐุฌ ุชู ุงุฎุชุจุงุฑู ูููุจู ุงูุฎุตุงุฆุต ุงููุญุฏุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ TLC ุฃูุถูุง ุงููุซูุฑ ูู ุงูุฅุญุตุงุกุงุช ุงููุซูุฑุฉ ููุงูุชูุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุฐุง ุงููููุฐุฌ ุ ุชู ุงูุญุตูู ุนูู 7247 724 ุญุงูุฉ ูุฑูุฏุฉ ุ ูู ุงููุฌููุน ุ ูุธุฑ TLC ุฅูู 27 109 02 ููุงูุฉ ุ ูุจูุบ ูุทุฑ ูุณุงุญุฉ ุงูููุงูุฉ 47 (ููุฐุง ูู ุงูุญุฏ ุงูุฃูุตู ูุทูู ุณูุณูุฉ ุงูุญุงูุฉ ูุจู ุงูุชูุฑุงุฑ ุ <br>  ุงูุญุฏ ุงูุฃูุตู ูุทูู ุงูุฏูุฑุฉ ูู ุงูุญุงูุงุช ุบูุฑ ุงููุชูุฑุฑุฉ ูู ุงูุญุงูุฉ ูุงูุฑุณู ุงูุจูุงูู ุงูุงูุชูุงูู). </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุณููุง 27 ููููู ููุงูุฉ ุฅูู 8 ุฏูุงุฆู ุ ูุณูุญุตู ุนูู ุญูุงูู 56 ุฃูู ููุงูุฉ ูู ุงูุซุงููุฉ ุ ูุงูุชู ูุฏ ูุง ุชุจุฏู ุณุฑูุนุฉ ุฌุฏูุง.  ููู ุถุน ูู ุงุนุชุจุงุฑู ุฃููู ููุช ุจุชุดุบูู ุงููุญุงูุงุฉ ุนูู ุฌูุงุฒ ููุจููุชุฑ ูุญููู ูุนูู ูู ูุถุน ุชูููุฑ ุงูุทุงูุฉ (ููุฏ ุฃุฌุจุฑุช ุงูุชุฑุฏุฏ ุงูุฃุณุงุณู ุนูู 800 ููุฌุงูุฑุชุฒ ุ ูุฃููู ููุช ุฃููุฏ ุงูุณูุงุฑุฉ ูู ุชูู ุงููุญุธุฉ ูู ุงููุทุงุฑ) ุ ููู ุฃููู ุจุชุญุณูู ูููุฐุฌ ุณุฑุนุฉ ุงููุญุงูุงุฉ ุนูู ุงูุฅุทูุงู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุชุณุฑูุน ุนูููุฉ ุงููุญุงูุงุฉ: ูู ููู ุฌุฒุก ูู ุฑูุฒ ุทุฑุงุฒ TLA + ุฅูู Java ูุงูุงุชุตุงู ุจู TLC ุฃุซูุงุก ุงูุชููู (ูู ุงููููุฏ ุชุณุฑูุน ุฌููุน ุฃููุงุน ูุธุงุฆู ุงููุณุงุนุฏ) ุฅูู ุชุดุบูู TLC ูู ุงูุณุญุจ ูุนูู ุงูุชุฌูุนุงุช (ุชู ุชุตููู ุฏุนู ุงูุณุญุงุจุฉ ูู Amazon ู Azure ูุจุงุดุฑุฉ ูู TLC ููุณู). </p><br><h1 id="vtoraya-optimizaciya" style=";text-align:right;direction:rtl">  ุงูุชุญุณูู ุงูุซุงูู </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฎูุงุฑุฒููุฉ ุงูุณุงุจูุฉ ุ ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ุจุงุณุชุซูุงุก ุจุนุถ ุงููุดุงูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูู ุฃู ูุนุงูุฌ ุฌููุน ุงูุฃุญุฏุงุซ ูู ุงูููุทูุฉ ุงูุฒุฑูุงุก ูู ุงููุงุตู ุงูุฒููู <code>[state.time, state.time + Delta]</code> ุ ูุง ูููููุง ุงูุงูุชูุงู ุฅูู ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ.  ุฃู ุฃู ุงูุฃุญุฏุงุซ ุงููุชุฃุฎุฑุฉ ุณุชุชุฃุฎุฑ ุฃูุซุฑ.  ูุนุงุฏุฉ ูุง ูููู ุงูุชุฃุฎูุฑ ุบูุฑ ูุชููุน.  ูุจุณุจุจ ูุฐุง ุ ูููู ุฃู ูุชุฎูู state.time ุนู ุงูููุช ุงูุญุงูู ุ ููุฐุง ูู ุณุจุจ ุงููุดููุฉ ุงูุชุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฏ ุชููู ุงูุฃุญุฏุงุซ ุงูุชู ุชุตู ุฅูู ููุทูุฉ ุงูุฃุญุฏุงุซ ุงูุนุงุฏูุฉ ูุชุฃุฎุฑุฉ ( <em>id</em> &gt; state.id).  ุฅููุง ุจุงููุนู ุฃููููุฉ ุนุงููุฉ ููุฌุจ ุงุนุชุจุงุฑูุง ุฃุญุฏุงุซูุง ูู ุงูููุทูุฉ ุงููุฑุฏูุฉ ุ ููุง ุฒููุง ูุนุชุจุฑูุง ุทุจูุนูุฉ ููุนุงูููุง ุนูู ุฃููุง ุทุจูุนูุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ุงูุตุนุจ ุชูุธูู ุงูุชุฎุฒูู ุงููุคูุช ููุญุฏุซ ูุชุฌุฏูุฏ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช (ุงููุฑุงุกุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช). </li></ol><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงูููุทุชุงู ุงูุฃูููุชุงู ูุงุถุญุชูู ุ ูุฑุจูุง ุชุซูุฑ ุงูููุทุฉ ุงูุซุงูุซุฉ ูุนุธู ุงูุฃุณุฆูุฉ.  ุฏุนููุง ูุชูุงูููุง ุจูุฒูุฏ ูู ุงูุชูุงุตูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุฑุถ ุฃููุง ูุฑูุฏ ุฃููุงู ูุฑุงุกุฉ ุนุฏุฏ ุซุงุจุช ูู ุงูุฃุญุฏุงุซ ูู ุงูุฐุงูุฑุฉ ุซู ูุนุงูุฌุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงููุนุงูุฌุฉ ุ ูุฑูุฏ ูุถุน ุนูุงูุฉ ุนูู ุงูุฃุญุฏุงุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุงุณุชุนูุงูุงุช ุงููุชู ููุง ุชูุช ูุนุงูุฌุชูุง ุ ูุฃูู ุฅุฐุง ููุช ูุง ุชุนูู ูุน ุงููุชู ุ ูููู ูุน ุงูุฃุญุฏุงุซ ุงููุฑุฏูุฉ ุ ููู ูููู ููุงู ููุณุจ ูุจูุฑ ูู ุงูุชุฎุฒูู ุงููุคูุช. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃููุง ูููุง ุจูุนุงูุฌุฉ ุฌุฒุก ูู ุงููุชู ููุฑุบุจ ูู ุงุณุชููุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุซู ุ ุฅุฐุง ูุตูุช ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนููุง ุงููุชุฃุฎุฑุฉ ุฃุซูุงุก ุงููุนุงูุฌุฉ ุ ูููููุง ูุนุงูุฌุชูุง ูุจูุฑูุง. </p><br><p style=";text-align:right;direction:rtl">  ุฃู ุฃูู ูู ุงููุฑุบูุจ ููู ููุบุงูุฉ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ูุฑุงุกุฉ ุงูุฃุญุฏุงุซ ูู ูุชู ุตุบูุฑุฉ ูู ุฃุฌู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงููุชุฃุฎุฑุฉ ูู ุฃุณุฑุน ููุช ูููู ุ ูููู ูุชุญุฏูุซ ุณูุฉ ุงููุนุงูุฌุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ูุชู ูุจูุฑุฉ ูุฑุฉ ูุงุญุฏุฉ - ูุชุญููู ุงูููุงุกุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุชูุนู ูู ูุฐู ุงูุญุงูุฉุ </p><br><p style=";text-align:right;direction:rtl">  ุญุงูู ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ูุชู ุตุบูุฑุฉ ุฐุงุช ูุณุงุญุฉ ุฒุฑูุงุก ู ูุฑุฏูุฉ ูููู ููุทุฉ ุงูููุงูุฉ ุจุฎุทูุงุช ุตุบูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุชู ุชูุฏูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุฑุงุกุชูุง ูู ุฃุฌุฒุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุงูุจูุงูุงุช ุ ุจุนุฏ ูู ูุฑุงุกุฉ ุ ุชู ุชุบููุฑ ููุทุฉ ุงูุญุงูุฉ ุญุชู ูุง ุชุชู ุฅุนุงุฏุฉ ูุฑุงุกุฉ ุงูุฃุญุฏุงุซ ุงูุชู ุชู ูุฑุงุกุชูุง ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฃุตุจุญุช ุงูุฎูุงุฑุฒููุฉ ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ุ ูุจุฏุฃูุง ููุฑุฃ ูู ุฃุฌุฒุงุก ูุญุฏูุฏุฉ. </p><br><h2 id="blok-shema-1" style=";text-align:right;direction:rtl">  ูุฎุทุท ุงูุชุฏูู </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/as/8n/qk/as8nqk0dmos8bsiwiigzphb7gns.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wn/9x/yx/wn9xyxfi4j2021hibcqxe3abhn8.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุฎูุงุฑุฒููุฉ ุ ูููู ููุงุญุธุฉ ุฃูู ูุธุฑูุง ููุชูููุฏ ุงูููุฑูุถ ุนูู ูุชู ุงูุฃุญุฏุงุซ ุงููุงุจูุฉ ูููุฑุงุกุฉ ุ ูุฅู ุงูุญุฏ ุงูุฃูุตู ููุชุฃุฎูุฑ ูู ุงูุงูุชูุงู ูู ุงููุนุงูุฌุฉ ุฐุงุช ุงูุฃููููุฉ ุงูููุฎูุถุฉ ุฅูู ุงููุนุงูุฌุฉ ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ ุณูููู ูุณุงููุงู ูููุช ุงููุนุงูุฌุฉ ุงูุฃูุตู ูููุชูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุ ุงูุขู ูููููุง ูุฑุงุกุฉ ุงูุฃุญุฏุงุซ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ูุชู ุตุบูุฑุฉ ุ ูุงูุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู ููุชุฃุฎูุฑ ูู ุงูุงูุชูุงู ุฅูู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ ูู ุฎูุงู ุงูุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงููุชูุฉ ูููุฑุงุกุฉ. </p><br><h2 id="primer-raboty-algoritma-1" style=";text-align:right;direction:rtl">  ูุซุงู ุนูููุฉ ุงูุฎูุงุฑุฒููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฎูุงุฑุฒููุฉ ูู ุงูุนูู ุ ูู ุฎุทูุงุช.  ููุฑุงุญุฉ ุ ุฎุฐ <code>LIMIT = 2</code> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-i/u8/qz/-iu8qzxfabbn9gcig_ekb1xhabu.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3x/if/ju/3xifju7ktzac6eyyutbhfanpufs.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ab/dg/o7/abdgo7ieinh8ddx6tnthfcsrwre.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ei/qg/al/eiqgal0lfwfiwtdltnb-e1bjyc0.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hp/2i/kd/hp2ikd4mgcqsswoiwwexz_kmp-e.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tq/ct/fv/tqctfvtnrqo939zqut2-8lwjale.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yk/3j/jk/yk3jjkf9htxfmdvwsa1dyrogqqo.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ym/9d/vt/ym9dvt1_ykho82n4xhxwtlbkeow.png"></p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ูุชู ุญู ุงููุดููุฉุ  ููู ูุง.  (ูู ุงููุงุถุญ ุฃูู ุฅุฐุง ุชู ุญู ุงููุดููุฉ ุจุงููุงูู ูู ูุฐู ุงููุฑุญูุฉ ุ ุฅุฐู <br>  ูุฐุง ุงูููุงู ูู ููู :)) </p><br><h2 id="oshibka" style=";text-align:right;direction:rtl">  ุงูุฎุทุฃุ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููููุฐุฌ ุ ุนููุช ุงูุฎูุงุฑุฒููุฉ ููุชุฑุฉ ุทูููุฉ ุฅูู ุญุฏ ูุง.  ูู ุงูุงุฎุชุจุงุฑุงุช ุณุงุฑ ุนูู ูุง ูุฑุงู.  ูู ุชูู ููุงู ูุดุงูู ูู ุงูุฅูุชุงุฌ ุณูุงุก. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุทูุฑ ุงูุฎูุงุฑุฒููุฉ ูุชูููุฐู (ุฒูููู ุจูุชุฑ ุฑูุฒููููู) ุฐู ุฎุจุฑุฉ ูุจูุฑุฉ ุ ูุดุนุฑ ุจุดูู ุญุฏุณู ุจุฃู ููุงู ุดูุฆูุง ูุง ุฎุทุฃ ููุง.  ูุฐูู ุ ุชู ุฅุฌุฑุงุก ุงููุฏูู ุจุฌูุงุฑ ุงูุฑูุฒ ุงูุฑุฆูุณู ุ ูุงูุฐู ุชู ุงูุชุญูู ููู ูุฑุฉ ูุงุญุฏุฉ ุนูู ุฌูุงุฒ ุชูููุช ููุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช ููุงู ุฃูุฉ ุฃุญุฏุงุซ ุถุงุฆุนุฉ ุ ู <br>  ุฅู ูุฌุฏุช ุ ููุฏ ุนุงูุฌุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููููุฐุฌ ุ ุนูู ุงููุธุงู ุจูุฌุงุญ.  ุตุญูุญ ุ ูู ูุญุชูุธ ุฃุญุฏ ุจุฅุญุตุงุฆูุงุช ุญูู ุนุฏุฏ ุงูุฃุญุฏุงุซ ุงูุชู ุงุฎุชุงุฑูุง ุงููุฏูู.  ูุฐูู ุ ููุฃุณู ุ ูุง ูุนุฑู ุนุฏุฏ ุญุงูุงุช ุงููุดู ุงููุฑุชุจุทุฉ ุจูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ูู ููุช ุบูุฑ ููุงุณุจ. </p><br><p style=";text-align:right;direction:rtl">  ููุช ุจุชูููุฐ ูุงุฆูุฉ ุงูุชุธุงุฑ ููุงุซูุฉ ูู ุงููุงุฆูุงุช ุงููุญุฏุฏุฉ ุฒูููุง.  ููุงูุดุฉ ุชุทุจูู ุงูุฎูุงุฑุฒููุงุช ูุชุญุณูููุง ูุน ุจูุชุฑ ุฑูุฒููููู ุ ุชุญุฏุซูุง ุนู ูุฐู ุงูุฎูุงุฑุฒููุฉ ููุนูู ูุน ุงูุฃุญุฏุงุซ.  ููุฏ ุดูููุง ูู ุฃู ุงูุฎูุงุฑุฒููุฉ ุตุญูุญุฉ.  ูุฑุฑูุง ุชูุฏูู ูููุฐุฌ ุตุบูุฑ ูุชุฃููุฏ ุฃู ุชุจุฏูุฏ ุงูุดููู.  ูุชูุฌุฉ ูุฐูู ุ ูุฌุฏูุง ุฎุทุฃ. </p><br><h2 id="model-1" style=";text-align:right;direction:rtl">  ูููุฐุฌ </h2><br><p style=";text-align:right;direction:rtl">  ูุจู ุชูููู ุงูุชุชุจุน ูุน ูุฌูุฏ ุฎุทุฃ ุ ุณุฃูุฏู ุงูููุฏ ุงููุตุฏุฑู ูููููุฐุฌ ุงูุฐู ุชู ุงูุชุดุงู ุงูุฎุทุฃ ุนููู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุงุฎุชูุงูุงุช ูู ุงููููุฐุฌ ุงูุณุงุจู ุตุบูุฑุฉ ุฌุฏูุง ุ ููุง ููุฌุฏ ุณูู ุญุฏ ูุญุฌู ูุชู ุงููุฑุงุกุฉ: ูุชู ุฅุถุงูุฉ ุนุงูู ุงูุชุดุบูู "ุงูุญุฏ" ุ ูุจุงูุชุงูู ูุชู ุชุบููุฑ ุนูุงูู ุงุฎุชูุงุฑ ุงูุญุฏุซ. </p><br><p style=";text-align:right;direction:rtl">  ูุชูููุฑ ูุณุงุญุฉ ุ ุชุฑูุช ุงูุชุนูููุงุช ููุท ุนูู ุงูุฃุฌุฒุงุก ุงูุชู ุชู ุชุบููุฑูุง ูู ุงููููุฐุฌ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">---------------- MODULE events ---------------- EXTENDS Naturals, FiniteSets, Sequences, TLC (* --algorithm Events \*    LIMIT, \*     \*     \*   variables Events = {}, Event_Id = 0, MAX_TIME = 5, LIMIT \in 1..3, TIME_DELTA \in 1..2 define ZERO_EVT == [time |-&gt; 0, id |-&gt; 0] MAX(S) == CHOOSE x \in S: \A y \in S: y &lt;= x MIN(S) == CHOOSE x \in S: \A y \in S: y &gt;= x RECURSIVE SetReduce(_, _, _) SetReduce(Op(_, _), S, value) == IF S = {} THEN value ELSE LET s == CHOOSE s \in S : TRUE IN SetReduce(Op, S \ {s}, Op(s, value)) ToSeq(S) == LET op(e, val) == Append(val, e) IN SetReduce(op, S, &lt;&lt; &gt;&gt;) ToSet(S) == {S[i] : i \in DOMAIN(S)} MapSet(Op(_), S) == {Op(x) : x \in S} GetIds(Evts) == MapSet(LAMBDA x: x.id, Evts) GetTimes(Evts) == MapSet(LAMBDA x: x.time, Evts) EventsOrderByTime(e1, e2) == e1.time &lt; e2.time EventsOrderById(e1, e2) == e1.id &lt; e2.id EventsOrder(e1, e2) == \/ EventsOrderByTime(e1, e2) \/ /\ e1.time = e2.time /\ EventsOrderById(e1, e2) Limit(S, limit) == LET amount == MIN({limit, Len(S)}) result == IF amount &gt; 0 THEN SubSeq(S, 1, amount) ELSE &lt;&lt; &gt;&gt; IN result \* SELECT * FROM events \* WHERE time &lt;= curr_time AND id &gt; max_id \* ORDER BY id \* LIMIT limit SELECT_HIGH_PRIO(state, limit) == LET selected == {e \in Events : /\ e.time &lt;= state.time /\ e.id &gt;= state.id } \*   Id sorted == SortSeq(ToSeq(selected), EventsOrderById) \*    limited == Limit(sorted, limit) IN ToSet(limited) \* SELECT * FROM events \* WHERE time &gt; current_time \* AND time - Time &lt;= delta_time \* ORDER BY time, id \* LIMIT limit SELECT_NORMAL(state, delta_time, limit) == LET selected == {e \in Events: /\ e.time &lt;= state.time + delta_time /\ e.time &gt; state.time } \*   sorted == SortSeq(ToSeq(selected), EventsOrder) \*   limited == Limit(sorted, limit) IN ToSet(limited) ALL_EVENTS_PROCESSED(state) == \A e \in Events: \/ e.time &gt;= state.time \/ e.id &gt;= state.id end define; fair process inserter = "Sources" variable t; begin forever: while TRUE do get_time: with evt_time \in 0..MAX_TIME do t := evt_time; end with; commit: either Events := Events \union {[time |-&gt; t, id |-&gt; Event_Id]} || Event_Id := Event_Id + 1; or Event_Id := Event_Id + 1; end either; end while; end process fair process event_processor = "Event_processor" variable state = ZERO_EVT, events = {}; begin forever: while TRUE do select: events := LET evts_high_prio == SELECT_HIGH_PRIO(state, LIMIT) new_limit == LIMIT - Cardinality(evts_high_prio) evts_normal == SELECT_NORMAL(state, TIME_DELTA, new_limit) IN evts_high_prio \union evts_normal; proc_evts: Events := Events \ events || state := [ time |-&gt; MAX({state.time} \union GetTimes(events)), id |-&gt; MAX({state.id} \union GetIds(events))] || events := {}; end while; end process end algorithm; *) \* BEGIN TRANSLATION \*  TLA+,     PlusCal  \* END TRANSLATION ===================================================</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฏ ููุงุญุธ ุงููุงุฑุฆ ุงูููุธ ุฃูู ุจุงูุฅุถุงูุฉ ุฅูู ุฅุฏุฎุงู ุงูุญุฏ ุ ุชู ุชุบููุฑ ุงูุชุตูููุงุช ูู event_processor ุฃูุถูุง.  ุงููุฏู ูู ุฃูุถู ููููุงู ููุญุงูุงุฉ ุงูููุฏ ุงูุญูููู ุงูุฐู ูุชู ุชูููุฐู ูู ูุนุงููุฉ ูุงุญุฏุฉ ุ ุฃู ุงุฎุชูุงุฑ ุงูุฃุญุฏุงุซ ุงูุชู ูููู ุชูููุฐูุง ุนูู ุฃุณุงุณ ุชููุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูุฅุฐุง ูุฌุฏูุง ุฎุทุฃู ูู ูููุฐุฌ ุฐู ุนูููุงุช ุฐุฑูุฉ ุฃูุจุฑ ุ ูุฅู ูุฐุง ูุถูู ุนูููุงู ุญุฏูุซ ููุณ ุงูุฎุทุฃ ูู ููุณ ุงููููุฐุฌ ุ ูููู ูุน ุฎุทูุงุช ุฐุฑูุฉ ุฃุตุบุฑ (ุนุจุงุฑุฉ ูููุฉ ุฌุฏูุง ุ ููููู ุฃุนุชูุฏ ุฃูู ุญุฏุณู ุ ูุฌุจ ุฃู ุชููู ุฌูุฏุฉ ุฅุฐุง ูู ุชุซุจุช ุ ุซู ุงูุชุญูู ูู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูููุงุฐุฌ). </p><br><h2 id="proverka-modeli-1" style=";text-align:right;direction:rtl">  ุชุญูู ุงููููุฐุฌ </h2><br><p style=";text-align:right;direction:rtl">  ูุจุฏุฃ ุงููุญุงูุงุฉ ุจููุณ ุงููุนููุงุช ููุง ูู ุงููููุฐุฌ ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุญุตููุง ุนูู ุงูุชูุงู ููุฎุงุตูุฉ ALL_EVENTS_PROCESSED ูู ุงูุฎุทูุฉ 19 ูู ุงููุญุงูุงุฉ ุนูุฏ ุงูุจุญุซ ูู ุงูุนุฑุถ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุจูุงูุงุช ุงูุฃูููุฉ ุงููุญุฏุฏุฉ (ูุฐู ูุณุงุญุฉ ุตุบูุฑุฉ ุฌุฏูุง ููุญุงูุฉ) ุ ูุดูุฑ ุงูุฎุทุฃ ูู ุงูุฎุทูุฉ ุงูุชุงุณุนุฉ ุนุดุฑุฉ ุฅูู ุฃู ุงูุฎุทุฃ ูุงุฏุฑ ุฌุฏูุง ููุตุนุจ ุงูุชุดุงูู ุ ูุฃูู ูุจู ุฐูู ุชู ูุญุต ุฌููุน ุณูุงุณู ุงูุญุงูุฉ ุจุทูู ุฃูู ูู 19. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูู ุงูุตุนุจ ุงููุญุงู ุจูุฐุง ุงูุฎุทุฃ ูู ุงูุงุฎุชุจุงุฑุงุช.  ููุท ุฅุฐุง ููุช ุชุนุฑู ุงูููุงู ุงูุฐู ุชุจุญุซ ููู ุ ูุญุฏุฏ ุนูู ูุฌู ุงูุชุญุฏูุฏ ุงูุงุฎุชุจุงุฑุงุช ูุงูุฃููุงุฎ ุงููุคูุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุญูู ุงููุณุงุฑ ุจุงููุงูู ูู ุฃุฌู ุชูููุฑ ุงููุณุงุญุฉ ูุงูููุช.  ุฅููู ููุทุน ูู ุนุฏุฉ ููุงูุงุช ูุน ูุฌูุฏ ุฎุทุฃ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/1g/xq/en/1gxqen3cvdftawczsxb5apskzlc.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5r/b6/ml/5rb6mlga8u0rfalc1_3klnb6-ky.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5_/cz/n4/5_czn4pqrkbkhy6uocf3zllz39w.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_v/s8/d6/_vs8d6feegcimnw9bla8ylm-878.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wo/0j/qu/wo0jquth7jszanamlk7l3dpkspc.png"></p><br><h2 id="analiz-i-ispravlenie" style=";text-align:right;direction:rtl">  ุงูุชุญููู ูุงูุชุตุญูุญ </h2><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุญุฏุซุ </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุฅู ุงูุฎุทุฃ ุชุฌูู ูู ุญูููุฉ ุฃููุง ุฃุฎุทุฃูุง ุงูุญุฏุซ {2 ุ 3} ุจุณุจุจ ุญูููุฉ ุฃู ุงูุญุฏ ุงูุชูู ูู ุงูุญุฏุซ {2 ุ 1} ุ ูุจุนุฏ ุฐูู ูููุง ุจุชุบููุฑ ุญุงูุฉ ุงูููุณู.  ูููู ุฃู ูุญุฏุซ ูุฐุง ููุท ุฅุฐุง ูุงูุช ููุงู ุนุฏุฉ ุฃุญุฏุงุซ ูู ูุญุธุฉ ูุงุญุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงูุฎุทุฃ ูุงู ุจุนูุฏ ุงูููุงู ูู ุงูุงุฎุชุจุงุฑุงุช.  ูู ุฃุฌู ูุธูุฑู ุ ูู ุงูุถุฑูุฑู ุฃู ุชุชุฒุงูู ุงูุฃุดูุงุก ุงููุงุฏุฑุฉ ุฌุฏูุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุถุฑุจ ุงูุนุฏูุฏ ูู ุงูุฃุญุฏุงุซ ููุณ ุงูููุทุฉ ูู ุงูููุช ุงูููุงุณุจ. </li><li style=";text-align:right;direction:rtl">  ุงูุชูู ุงูุญุฏ ุงูุฃูุตู ูุงุฎุชูุงุฑ ุงูุฃุญุฏุงุซ ูุจู ูุญุธุฉ ูุฑุงุกุฉ ูู ูุฐู ุงูุฃุญุฏุงุซ. </li></ol><br><p style=";text-align:right;direction:rtl">  ูููู ุชุตุญูุญ ุงูุฎุทุฃ ูุณุจููุง ุจุณูููุฉ ุฅุฐุง ุชู ุชูุณูุน ุญุงูุฉ ุงูููุณู ููููุงู: ุฃุถู ููุช ููุนุฑู ุขุฎุฑ ุญุฏุซ ูุฑุงุกุฉ ูู ููุทูุฉ ุงูุญุฏุซ ุงูุนุงุฏูุฉ ุจุฃูุตู ูุนุฑู ุฅุฐุง ูุงู ููุช ูุฐุง ุงูุญุฏุซ ูุชูุงูู ูุน ูููุฉ ุงูุญุงูุฉ ุงูุชุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ููุงู ุฃู ุญุฏุซ ูู ูุฐุง ุงููุจูู ุ ูุณูููู ุจุชุนููู ุงูุญุงูุฉ ุงูุฅุถุงููุฉ (ุฏููุฉ_ุฅุถุงููุฉ) ุฅูู ุญุงูุฉ ุบูุฑ ุตุงูุญุฉ (UNDEF_EVT) ููุง ูุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุนูุฏ ุงูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุณุชุนุชุจุฑ ุชูู ุงูุฃุญุฏุงุซ ูู ุงูููุทูุฉ ุงูุทุจูุนูุฉ ุงูุชู ูู ุชุชู ูุนุงูุฌุชูุง ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ ููููุณู ุฃููููุฉ ุนุงููุฉ ูุณูููู ุจุงูุชุงูู ุจุชุตุญูุญ ุงุฎุชูุงุฑ ุงูุฃููููุฉ ุงูุนุงููุฉ ูุงูุฃูุงู ุงููุชููุน. </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ูููู ูู ุงููููู ุฅุฏุฎุงู ููุทูุฉ ุฃุฎุฑู ูุณูุทุฉ ุจูู ุงูุฃููููุฉ ุงูุนููุง ูุงูุทุจูุนูุฉ ุ ูุชุบููุฑ ุงูุฎูุงุฑุฒููุฉ.  ุฃููุงู ุ ุณุชููู ุจูุนุงูุฌุฉ ุชูู ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ ุ ุซู ุงููุชูุณุทุฉ ูููุง ุ ุซู ุงูุงูุชูุงู ุฅูู ุงูุญุงูุงุช ุงูุนุงุฏูุฉ ูุน ุงูุชุบููุฑ ุงููุงุญู ููุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุซู ูุฐู ุงูุชุบููุฑุงุช ุณุชุคุฏู ุฅูู ุฒูุงุฏุฉ ุญุฌู ุฅุนุงุฏุฉ ุงูุจูุงุก ูุน ููุงุฆุฏ ุบูุฑ ูุงุถุญุฉ (ุณุชููู ุงูุฎูุงุฑุฒููุฉ ุฃูุซุฑ ูุถูุญูุง ููููุงู ุ ูุงููุฒุงูุง ุงูุฃุฎุฑู ุบูุฑ ูุฑุฆูุฉ ุนูู ุงูููุฑ). </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุฑุฑูุง ุถุจุท ุงูุญุงูุฉ ุงูุญุงููุฉ ูุงุฎุชูุงุฑ ุงูุฃุญุฏุงุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููููุงู ููุท. </p><br><h2 id="skorrektirovannaya-model" style=";text-align:right;direction:rtl">  ุงููููุฐุฌ ุงููุนุฏู </h2><br><p style=";text-align:right;direction:rtl">  ููุง ูู ูููุฐุฌ ุชุตุญูุญูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">------------------- MODULE events ------------------- EXTENDS Naturals, FiniteSets, Sequences, TLC \*        CONSTANTS MAX_TIME, LIMIT, TIME_DELTA (* --algorithm Events variables Events = {}, Limit \in LIMIT, Delta \in TIME_DELTA, Event_Id = 0 define \*    \*  ,   extra_state UNDEF_EVT == [time |-&gt; MAX_TIME + 1, id |-&gt; 0] ZERO_EVT == [time |-&gt; 0, id |-&gt; 0] MAX(S) == CHOOSE x \in S: \A y \in S: y &lt;= x MIN(S) == CHOOSE x \in S: \A y \in S: y &gt;= x RECURSIVE SetReduce(_, _, _) SetReduce(Op(_, _), S, value) == IF S = {} THEN value ELSE LET s == CHOOSE s \in S : TRUE IN SetReduce(Op, S \ {s}, Op(s, value)) ToSeq(S) == LET op(e, val) == Append(val, e) IN SetReduce(op, S, &lt;&lt; &gt;&gt;) ToSet(S) == {S[i] : i \in DOMAIN(S)} MapSet(Op(_), S) == {Op(x) : x \in S} GetIds(Evts) == MapSet(LAMBDA x: x.id, Evts) GetTimes(Evts) == MapSet(LAMBDA x: x.time, Evts) EventsOrderByTime(e1, e2) == e1.time &lt; e2.time EventsOrderById(e1, e2) == e1.id &lt; e2.id EventsOrder(e1, e2) == \/ EventsOrderByTime(e1, e2) \/ /\ e1.time = e2.time /\ EventsOrderById(e1, e2) TakeN(S, limit) == LET amount == MIN({limit, Len(S)}) result == IF amount &gt; 0 THEN SubSeq(S, 1, amount) ELSE &lt;&lt; &gt;&gt; IN result (* SELECT * FROM events WHERE time &lt;= curr_time AND id &gt; max_id ORDER BY id Limit limit *) SELECT_HIGH_PRIO(state, limit, extra_state) == LET \*      \* time &lt;= curr_time \* AND id &gt; maxt_id selected == {e \in Events : \/ /\ e.time &lt;= state.time /\ e.id &gt;= state.id \/ /\ e.time = extra_state.time /\ e.id &gt; extra_state.id} sorted == \*  SortSeq(ToSeq(selected), EventsOrderById) limited == TakeN(sorted, limit) IN ToSet(limited) SELECT_NORMAL(state, delta_time, limit) == LET selected == {e \in Events : /\ e.time &lt;= state.time + delta_time /\ e.time &gt; state.time } sorted == SortSeq(ToSeq(selected), EventsOrder) limited == TakeN(sorted, limit) IN ToSet(limited) \*    extra_state UpdateExtraState(events, state, extra_state) == LET exact == {evt \in events : evt.time = state.time} IN IF exact # {} THEN CHOOSE evt \in exact : \A e \in exact: e.id &lt;= evt.id ELSE UNDEF_EVT \*    extra_state ALL_EVENTS_PROCESSED(state, extra_state) == \A e \in Events: \/ e.time &gt;= state.time \/ e.id &gt; state.id \/ /\ e.time = extra_state.time /\ e.id &gt; extra_state.id end define; fair process inserter = "Sources" variable t; begin forever: while TRUE do get_time: with evt_time \in 0..MAX_TIME do t := evt_time; end with; commit: either Events := Events \union {[time |-&gt; t, id |-&gt; Event_Id]} || Event_Id := Event_Id + 1; or Event_Id := Event_Id + 1; end either; end while; end process fair process event_processor = "Event_processor" variable events = {}, state = ZERO_EVT, extra_state = UNDEF_EVT; begin forever: while TRUE do select: events := LET evts_high_prio == SELECT_HIGH_PRIO(state, Limit, extra_state) new_limit == Limit - Cardinality(evts_high_prio) evts_normal == SELECT_NORMAL(state, Delta, new_limit) IN evts_high_prio \union evts_normal; proc_evts: Events := Events \ events || state := [ time |-&gt; MAX({state.time} \union GetTimes(events)), id |-&gt; MAX({state.id} \union GetIds(events)) ]; extra_state := UpdateExtraState(events, state, extra_state) || events := {}; end while; end process end algorithm; *) \* BEGIN TRANSLATION \*  TLA+,     PlusCal  \* END TRANSLATION ===================================================</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ูุฅู ุงูุชุบููุฑุงุช ุตุบูุฑุฉ ุฌุฏูุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุช ุฅุถุงูุฉ ุจูุงูุงุช ุฅุถุงููุฉ ุฅูู ุญุงูุฉ extra_state. </li><li style=";text-align:right;direction:rtl">  ุชู ุชุบููุฑ ุงุฎุชูุงุฑ ุงูุฃุญุฏุงุซ ุฐุงุช ุงูุฃููููุฉ ุงูุนููุง. </li><li style=";text-align:right;direction:rtl">   UpdateExtraState   extra_state. </li><li style=";text-align:right;direction:rtl">  <em>safety</em> -    . </li></ol><br><h2 id="modelirovanie" style=";text-align:right;direction:rtl">  </h2><br><p style=";text-align:right;direction:rtl">    ,   . ,      (,  ,    ,     ). <br>       ,       ,  TLA+/TLC .  :) </p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h1><br><p style=";text-align:right;direction:rtl">     , ,     ( , ,  ,    ). </p><br><p style=";text-align:right;direction:rtl">  ,            ,        TLA+/TLC,     . ,    . </p><br><p style=";text-align:right;direction:rtl">         TLA+/TLC  ,   ,           ( ,     )  . </p><br><p style=";text-align:right;direction:rtl">  ,     ,     ,  TLA+/TLC                . </p><br><h1 id="bibliografiya" style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงููุฑุงุฌุน </h1><br><h2 id="knigi" style=";text-align:right;direction:rtl">  ุงููุชุจ </h2><br><h3 id="dlya-pogruzheniya-v-oblast" style=";text-align:right;direction:rtl">     </h3><br><p style=";text-align:right;direction:rtl">   ,    ,   ,    .      . </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Michael Jackson <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Problem Frames: Analysing &amp; Structuring Software Development Problems</a> </p><br><p style=";text-align:right;direction:rtl">      (  !),     .   ,   .      ,        . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Hillel Wayne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Practical TLA+: Planning Driven Development</a> </p><br><p style=";text-align:right;direction:rtl">     TLA+/PlusCal     .  ,    .      .         :    . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MODEL CHECKING.      </a> </p><br><p style=";text-align:right;direction:rtl">     .  ,    ,  .      ,            . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Leslie Lamport <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Specifying Systems: The TLA+ Language and Tools for Hardware and Software Engineers</a> </p><br><p style=";text-align:right;direction:rtl">    TLA+.   ,   .      :     ,   .  ,     TLA+  ,    . </p><br></li></ol><br><h3 id="primery-iz-promyshlennosti" style=";text-align:right;direction:rtl">    </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Formal Development of a Network-Centric RTOS</a> </p><br><p style=";text-align:right;direction:rtl">    TLA+          ( <em>RTOS</em> )       TLC. </p><br><p style=";text-align:right;direction:rtl">      ,      .   ,   TLA+      ,             ,    <em>RTOS</em>   โ Virtuoso.       ,       . </p><br><p style=";text-align:right;direction:rtl">          ,           (, ,  ,  ,    ). </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">w Amazon Web Services Uses Formal Methods</a> </p><br><p style=";text-align:right;direction:rtl">   TLA+      AWS.        : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://lamport.azurewebsites.net/tla/amazon-excerpt.html</a> </p><br></li></ol><br><h2 id="internet" style=";text-align:right;direction:rtl">  </h2><br><h3 id="blogi" style=";text-align:right;direction:rtl">  </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Hillel Wayne (  "Practical TLA+") <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> </p><br><p style=";text-align:right;direction:rtl">     .  ,  .   ,  -   . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Ron Pressler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> </p><br><p style=";text-align:right;direction:rtl">   .        .  ,      TLA+.       TLA+,    <em>computer</em> <em>science</em>    . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Leslie Lamport <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> </p><br><p style=";text-align:right;direction:rtl">      TLA+  <em>computer</em> <em>science</em> .  <em>TLA+</em>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . </p><br></li></ol><br><h3 id="prezentacii-i-videokursy" style=";text-align:right;direction:rtl">    </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">. . , . . , . . .      </a> </p><br><p style=";text-align:right;direction:rtl">  ,   ,       . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">   TLA+,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> </p><br><p style=";text-align:right;direction:rtl">   ,     TLA+. ,       TLA+. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Hillel Wayne </p><br><p style=";text-align:right;direction:rtl">      Hillel Wayne  .      . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">The Two Hardest Problems in CS (June 5, 2018)</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Everything about distributed systems is terrible | Code Mesh LDN 18</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Designing Distributed Systems with TLA+ | รredev 2018</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Tackling Concurrency Bugs with TLA+</a> </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> Ron Pressler </p><br><p style=";text-align:right;direction:rtl">  ,   Hillel Wayne,     .  ,    . Ron Pressler      . ฬ       ,    ,     . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">The Practice and Theory of TLA+</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Why Writing Correct Software Is Hard and Why Math (Alone) Won't Help Us</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">On the Nature of Abstraction</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Finite of sense &amp; infinite of thought | Code Mesh LDN 18</a> </li></ul><br></li></ol><br><h3 id="modelirovanie-1" style=";text-align:right;direction:rtl">  </h3><br><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TLA toolbox</a> + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TLAPS</a> :        TLA+  <br>           .          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Alloy Analyzer</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471012/">https://habr.com/ru/post/ar471012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471000/index.html">ุฃูุนุงุจ ุฎุดุจูุฉ ุ ุงูุฌุฒุก ุงูุฃุฎูุฑ - 1997</a></li>
<li><a href="../ar471004/index.html">ุฃูุนุงุจ ุฎุดุจูุฉ - ุฎุงุชูุฉ ุชุจูู ูุณูุฑูุง ุญุชู ุงูุณูู</a></li>
<li><a href="../ar471006/index.html">500 ุฏููุงุฑ ุดูุฑููุง: ูุงุฐุง ูููู ุงููุณุชููุฏูู ูู ุงูุฏุฎู ุงูุฃุณุงุณู ุบูุฑ ุงููุดุฑูุท ุฃููุงููู ุนูููุงุ</a></li>
<li><a href="../ar471008/index.html">ุฏุนููุง ูุชุญุฏุซ ุนู ุงููุฑุงูุจุฉ: ุงูุชุณุฌูู ุงููุจุงุดุฑ ูุจูุฏูุงุณุช ุฏููููุจ ุฏููููุจ ูุน ููู ุฑูููู ูู ุงูุงุฌุชูุงุน ููู 23 ุฃูุชูุจุฑ</a></li>
<li><a href="../ar471010/index.html">ุฎูุงุฑุฒููุฉ ุบุฑููุฑ ูุงูุจุญุซ ุนู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar471014/index.html">ูุญู ูุตูุน ุทุงุฆุฑุฉ ุจุฏูู ุทูุงุฑ ุฐุงุชูุฉ ุงูุญูู ููููุงู ุ ุฃู ููุง ุญููุช ุจูุณุงุนุฏุฉ ุจุงููุงู ุ ููููู ูุณุช ุดุฑูุฉ ุบุงุฒุจุฑูู. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar471016/index.html">ุชุตููู ููุงุนุฏ ุงูุจูุงูุงุช. ุฃูุถู ุงูููุงุฑุณุงุช</a></li>
<li><a href="../ar471018/index.html">ููุงุฑูุฉ ุจูู ุฃุฏุงุก ุงูููุจููุชุฑ ูุงููุงุชู ุงูุฐูู ุ ุจูุง ูู ุฐูู iPhone 11</a></li>
<li><a href="../ar471020/index.html">ููููุฉ ุงูุนุซูุฑ ุนูู ุฎุทุฃ ูู ุงููุนุงูุฌ ุงูุฏููู ุตุฏุฑ ูุจู ุฎูุณุฉ ูุซูุงุซูู ุนุงูุง</a></li>
<li><a href="../ar471022/index.html">ุงููุดู ุนู ุณุฑ ุนูุฑู 140 ุนุงููุง ูู ุงูููุฒูุงุก</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>