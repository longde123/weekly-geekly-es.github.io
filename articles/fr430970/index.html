<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèöÔ∏è ü§≥üèø üë©‚ÄçüöÄ Cloud personnel ü§òüèª ‚ûñ üíå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le stockage dans le cloud vous permet non seulement de stocker des donn√©es, mais √©galement de collaborer avec elles dans le NAS . 
 Solutions possible...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cloud personnel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430970/"><p><img src="https://habrastorage.org/webt/pp/rh/gv/pprhgvtoydiwu1ks2fpnobjszqm.png"></p><br><p>  Le stockage dans le cloud vous permet non seulement de stocker des donn√©es, mais √©galement de collaborer avec elles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le NAS</a> . </p><a name="habracut"></a><br><h2 id="vozmozhnye-resheniya">  Solutions possibles </h2><br><p>  Il existe plusieurs options pour les services cloud: NextCloud, Seafile, Pydio, etc ... <br>  Certains d'entre eux sont examin√©s ci-dessous. </p><br><div class="spoiler">  <b class="spoiler_title">Impl√©mentations de services cloud.</b> <div class="spoiler_text"><h3 id="owncloudhttpsowncloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Owncloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/fj/be/gx/fjbegxfckhsx7ww4y9b8_m10jsm.png"></a> </p><br><p>  Impl√©ment√© en PHP / Javascript. </p><br><p>  Capacit√©s: </p><br><ul><li>  Il est possible d'√©tendre la fonctionnalit√© en installant des applications √† partir du r√©f√©rentiel cloud. </li><li>  Il y a int√©gration avec le bureau de Collabora et OnlyOffice. </li><li>  Il est possible d'utiliser des r√©f√©rentiels existants tels que FTP, Swift, S3, Dropbox, etc., <br>  partager des donn√©es entre eux et le cloud local. </li><li>  Cryptage sur le client. </li><li>  La possibilit√© de fournir des fichiers √† des utilisateurs externes par e-mail. </li><li>  Il existe une automatisation des op√©rations avec les fichiers (par exemple, l'ajout automatique de balises). </li><li>  LDAP </li><li>  Il y a un lecteur audio, une collection de musique, une galerie de plugins de lecteur PDF. </li><li>  Int√©gration avec Zimbra. </li><li>  Il y a des calendriers, des listes de t√¢ches, des √©diteurs de texte, etc. </li><li>  Antivirus et protection contre les ransomwares. </li><li>  Authentification √† deux facteurs. </li><li>  La possibilit√© d'emprunter l'identit√© d'un autre utilisateur (√† des fins de d√©bogage). </li></ul><br><h3 id="nextcloudhttpsnextcloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NextCloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/62/cb/lo/62cbloe--f5eaxvejke31jqk-r4.png"></a> </p><br><p>  Fork OwnCloud.  Impl√©ment√© en PHP / Javascript. </p><br><p>  Capacit√©s: </p><br><ul><li>  Stockage de fichiers √† l'aide de structures de r√©pertoires r√©guli√®res ou √† l'aide de WebDAV. </li><li>  Il y a NextCloud Talk, √† travers lequel il est possible de passer des appels vid√©o et des vid√©oconf√©rences. </li><li>  Synchronisation entre les clients ex√©cutant Windows (Windows XP, Vista, 7 et 8), Mac OS X (10.6 et versions ult√©rieures) ou Linux. </li><li>  Synchronisez avec les appareils mobiles. </li><li>  Calendrier (√©galement comme CalDAV). </li><li>  Planificateur de t√¢ches. </li><li>  Carnet d'adresses (identique √† CardDAV). </li><li>  M√©dia en streaming (utilis√© par Ampache). </li><li>  Il prend en charge diff√©rents fournisseurs d'autorisation: LDAP, OpenID, Shibboleth. </li><li>  Autorisation √† deux facteurs. </li><li>  Partager du contenu entre des groupes ou utiliser des URL publiques.  Affiner les r√®gles. </li><li>  Un √©diteur de texte en ligne avec coloration syntaxique et pliage.  Prise en charge des versions en ligne des √©diteurs de LibreOffice annonc√©e. </li><li>  Signets </li><li>  M√©canisme de raccourcissement d'URL. </li><li>  Galerie de photos </li><li>  Visionneuse PDF (√† l'aide de PDF.js) </li><li>  Int√©gration avec Collabora et OnlyOffice. </li><li>  Module de journalisation. </li><li>  Possibilit√© de cr√©er vos propres sites Web (chez PicoCMS). </li><li>  Int√©gration avec Outlook et Thunderbird. </li><li>  Int√©gration client dans Gnome. </li><li>  Possibilit√© d'utiliser un stockage externe. </li><li>  Recherche plein texte. </li><li>  Int√©gration avec antivirus. </li></ul><br><h3 id="sparklesharehttpwwwsparkleshareorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sparkleshare</a> </h3><br><p>  Impl√©ment√© en C #. </p><br><p>  Capacit√©s: </p><br><ul><li>  Versioning </li><li>  Cryptage sur le client. </li><li>  Synchronisation transparente entre plusieurs utilisateurs: les modifications √† distance appara√Ætront dans le r√©pertoire local d√©di√© √† SparkleShare. </li></ul><br><p>  Caract√©ristiques: </p><br><ul><li>  Utilise git comme backend. </li></ul><br><h3 id="seafilehttpswwwseafilecom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Seafile</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/gk/rb/op/gkrbopkni_o44lqncmhdeuqe2fa.png"></a> </p><br><p>  Impl√©ment√© en C / Javascript. </p><br><p>  Capacit√©s: </p><br><ul><li>  Les fichiers peuvent √™tre organis√©s en biblioth√®ques qui peuvent √™tre synchronis√©es entre les appareils. </li><li>  Il existe un client qui vous permet de cr√©er un "disque" local, mapp√© sur le cloud. </li><li>  Cryptage int√©gr√©.  Tous les fichiers sont crypt√©s par le client et stock√©s dans le cloud crypt√©s. </li><li>  Prise en charge des appareils mobiles. </li><li>  Cryptage HTTS / TLS. </li><li>  Il y a LDAP. </li><li>  Droits de r√©glage fin. </li><li>  Fichiers de version. </li><li>  Possibilit√© de cr√©er un instantan√© de r√©pertoire, qui peut ensuite √™tre retourn√©. </li><li>  D√©duplication. </li><li>  Prise en charge du verrouillage de fichiers. </li><li>  Co-√©dition de fichiers en ligne. </li><li>  Antivirus. </li><li>  Droits de r√©glage fin. </li><li>  Sauvegarde p√©riodique via rsync. </li><li>  WebDAV </li><li>  API REST </li><li>  Capacit√© √† s'int√©grer √† Collabora. </li></ul><br><p>  Caract√©ristiques: </p><br><ul><li>  Rapide et peu exigeant pour les ressources. </li><li>  Il est consid√©r√© comme fiable. </li><li>  La d√©finition des droits sur les sous-r√©pertoires n'est prise en charge que dans la version Pro payante. </li><li>  Int√©gration avec antivirus - uniquement dans la version Pro. </li><li>  Audit - uniquement dans la version Pro. </li><li>  Recherche en texte int√©gral - uniquement dans la version Pro. </li><li>  Int√©gration avec S3 et Ceph - uniquement dans la version Pro. </li><li>  Visualisation en ligne de Doc / PPT / Excel - uniquement dans la version Pro. </li></ul><br><h3 id="pydiohttpspydiocom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pydio</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/v7/7n/he/v77nhe_y1o7wq8lkg7e1dhtp1ms.jpeg"></a> </p><br><p>  Impl√©ment√© en PHP / Javascript. </p><br><p>  Capacit√©s: </p><br><ul><li>  Partage de fichiers non seulement entre utilisateurs, mais √©galement entre plusieurs instances de Pydio. </li><li>  Cryptage SSL / TLS. </li><li>  WebDAV </li><li>  Possibilit√© de cr√©er plusieurs espaces de travail. </li><li>  Partage de fichiers avec des utilisateurs externes, avec partage fin (par exemple, liens directs, mot de passe, etc.). </li><li>  Bureau Collabora int√©gr√©. </li><li>  Pr√©visualisez et modifiez les images. </li><li>  Il y a un lecteur audio et vid√©o int√©gr√©. </li></ul><br><h3 id="projectsendhttpswwwprojectsendorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Projectend</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/61/1k/uc/611kuc8ohfjs4ym7kajncgufowo.png"></a> </p><br><p>  Impl√©ment√© en PHP / Javascript. </p><br><p>  Capacit√©s: </p><br><ul><li>  Il est possible de partager des fichiers, √† la fois entre des utilisateurs sp√©cifiques et entre des groupes. </li><li>  Rapport complet sur les op√©rations de fichiers. </li><li>  La possibilit√© pour les utilisateurs externes de t√©l√©charger des fichiers (dans le but de partager, par exemple, l'application de rapports de bogues). </li></ul><br><h3 id="spideroakhttpsspideroakcom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SpiderOak</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/w9/ce/k5/w9cek5imrxva3-chj9iejtwdh04.jpeg"></a> </p><br><p>  Capacit√©s: </p><br><ul><li>  √âconomisez de l'espace de stockage et du temps de t√©l√©chargement de fichiers en d√©doublonnant et en apportant des modifications aux fichiers existants (au lieu d'√©craser l'int√©gralit√© du fichier). </li><li>  Synchronisation multi-plateforme personnalisable. <br>  DropBox pour la synchronisation cr√©e un dossier sp√©cial dans lequel il est n√©cessaire de placer tous les fichiers synchronis√©s.  SpiderOak peut fonctionner avec n'importe quel r√©pertoire. </li><li>  Enregistrer toutes les versions historiques des fichiers et des fichiers supprim√©s </li><li>  Partage de dossiers √† l'aide des soi-disant ShareRooms, qui d√©finissent un mot de passe. <br>  Les fichiers mis √† jour sur l'ordinateur local sont automatiquement mis √† jour dans le r√©f√©rentiel.  Les utilisateurs sont inform√©s des modifications via RSS. </li><li>  Recevez des fichiers depuis n'importe quel appareil connect√© √† Internet. </li><li>  Cryptage complet des donn√©es bas√© sur le principe de la ¬´connaissance z√©ro¬ª. </li><li>  Prise en charge d'un nombre illimit√© d'appareils. </li><li>  Cryptage des donn√©es c√¥t√© client. </li><li>  Authentification √† deux facteurs. </li></ul><br><p>  Caract√©ristiques: </p><br><p>  Syst√®me propri√©taire ferm√©. </p><br><p>  √âtant donn√© que ce logiciel est payant et partiellement ferm√©, son utilisation est exclue. </p></div></div><br><h2 id="ustanovka-nextcloud">  Installez NextCloud </h2><br><p>  Initialement, il y avait une volont√© d'utiliser Seafile: la partie serveur est impl√©ment√©e en C, elle est efficace et stable.  Mais il s'est av√©r√© que la version gratuite n'a pas tout. </p><br><p>  Par cons√©quent, j'ai essay√© Nextcloud et j'√©tais satisfait.  Il offre plus de fonctionnalit√©s et est enti√®rement gratuit. </p><br><p>  Vous pouvez voir comment cela fonctionne en mode d√©mo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Voici les interfaces communes entre le stockage cloud et le syst√®me: </p><br><ul><li> <code>/tank0/apps/cloud/nextcloud</code> - stockage de service cloud. </li><li>  <code>/tank0/apps/onlyoffice</code> - donn√©es de bureau. </li><li>  <code>https://cloud.NAS.cloudns.cc</code> - Interface de service cloud WEB. </li></ul><br><p>  Parce que  La configuration de NextCloud est assez volumineuse et se compose de plusieurs fichiers, je ne les √©num√©rerai pas ici. </p><br><p>  Tout ce dont vous avez besoin se trouve dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel sur Github</a> . </p><br><p>  La configuration de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeaFile y</a> est √©galement disponible. </p><br><p>  Installez et lancez d'abord NextCloud. </p><br><p>  Pour ce faire, copiez la configuration dans le <code>/tank0/docker/services/nextcloud</code> et ex√©cutez: </p><br><pre> <code class="plaintext hljs"># docker-compose up -d</code> </pre> <br><p>  Une nouvelle image bas√©e sur Nextcloud 13.0.7 sera construite.  Si vous souhaitez modifier la version de l'image de base, faites-le dans <code>app/Dockerfile</code> .  J'utilise la version 15, mais il convient de noter que de nombreux plugins, tels que le chargeur ocDownloader et les notes, ne fonctionnent pas, et je n'ai pas encore restaur√© les fonctionnalit√©s d'OnlyOffice. </p><br><p>  Je n'ai pas remarqu√© de diff√©rences cardinales ou une forte am√©lioration des performances. </p><br><p>  Ci-dessous, je pense que vous utilisez la version 13+. </p><br><p>  Ensuite, allez sur NextCloud et s√©lectionnez "Applications" dans le menu en haut √† droite, terminez l'installation des plug-ins n√©cessaires. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/sd/3y/rv/sd3yrvs5lqfdzig5smsbdasiiw0.png" alt="Les applications"></a> </p><br><p>  Requis: </p><br><ul><li>  <strong>Utilisateur LDAP et backend de groupe</strong> - couplage avec LDAP. </li><li>  <strong>Prise en</strong> charge du stockage externe - prise en charge du stockage externe.  Il sera n√©cessaire davantage, dans le but d'int√©grer NextCloud et les fichiers partag√©s, ainsi que de les associer √† un stockage cloud externe.  Je parlerai de la configuration du stockage externe dans un autre article. </li><li>  <strong>ocDownloader</strong> - t√©l√©chargeur de fichiers.  √âtend les fonctionnalit√©s du cloud.  L'image Docker est sp√©cialement reconstruite pour qu'elle fonctionne. </li><li>  <strong>ONLYOFFICE</strong> - int√©gration de bureau.  Sans cette application, les fichiers de documents ne s'ouvriront pas dans le cloud. </li><li>  <strong>Chiffrement de bout en bout</strong> - <strong>Chiffrement de</strong> bout en bout sur le client.  Si plusieurs utilisateurs utilisent le cloud, un plugin est n√©cessaire pour assurer commod√©ment la s√©curit√© de leurs fichiers. </li></ul><br><p>  Applications souhait√©es: </p><br><ul><li>  <strong>Param√®tres de force brute</strong> - protection contre la s√©lection des informations d'identification.  NextCloud navigue sur Internet, il est donc pr√©f√©rable de l'installer. </li><li>  <strong>Emprunter l'identit√©</strong> - permet √† l'administrateur de se connecter avec d'autres utilisateurs.  Utile pour le d√©bogage et le d√©pannage. </li><li>  <strong>Talk</strong> - chat vid√©o. </li><li>  <strong>Calendrier</strong> - parle de lui-m√™me, vous permet de conserver des calendriers dans le cloud. </li><li>  <strong>Contr√¥le</strong> d'acc√®s aux fichiers - permet aux utilisateurs de restreindre l'acc√®s aux fichiers et aux r√©pertoires en fonction des balises et des r√®gles. </li><li>  <strong>Somme de contr√¥le</strong> - vous permet de calculer et d'afficher les sommes de contr√¥le des fichiers. </li><li>  <strong>Sites externes</strong> - cr√©e des liens vers des sites arbitraires sur le panneau en haut. </li></ul><br><p>  Caract√©ristiques du conteneur: </p><br><ul><li>  Le chargeur de d√©marrage Aria2 est install√©. </li><li>  Chargeur de d√©marrage Youtube-DL install√©. </li><li>  Inotify-tools install√©. </li><li>  Augmentation des limites de m√©moire pour PHP. </li><li>  Le serveur Web est configur√© pour mieux fonctionner avec LDAP. </li></ul><br><p>  Je note que si vous installez la version 13+, mais d√©cidez ensuite de passer √† la version 15, vous pouvez le faire et bien plus encore en utilisant l'utilitaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">occ</a> . </p><br><h3 id="ldap">  LDAP </h3><br><p>  La configuration de LDAP n'est pas anodine, car je vais vous en dire plus. </p><br><p>  Allez dans "Param√®tres-&gt; Int√©gration avec LDAP / AD". <br>  Ajoutez le serveur 172.21.0.1 avec le port 389. <br>  Connexion: <code>cn=admin,dc=nas,dc=nas</code> . <br>  NextCloud peut g√©rer les utilisateurs dans la base de donn√©es LDAP et pour cela, il aura besoin d'un administrateur. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/9n/tg/h9/9ntgh9xbg3rtfvjrqid6qbj0a5y.png"></a> </p><br><p>  Appuyez sur le bouton "V√©rifier la configuration DN" et, si l'indicateur de v√©rification est vert, sur le bouton "Suivant". </p><br><p>  Chaque utilisateur poss√®de un attribut <code>inetOrgPerson</code> et est membre du groupe <code>users_cloud</code> . </p><br><p>  Le filtre ressemblera √† ceci: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=inetOrgPerson))(|(memberof=cn=users_cloud,ou=groups,dc=nas,dc=nas)))</code> </pre> <br><p>  Cliquez sur "V√©rifier la base de donn√©es des param√®tres et recompter les utilisateurs", et si tout est correct, le nombre d'utilisateurs devrait √™tre affich√©.  Cliquez sur Suivant. </p><br><p>  Sur la page suivante, un filtre utilisateur sera configur√© par lequel NextCloud les recherchera. </p><br><p>  Filtre: </p><br><pre> <code class="plaintext hljs">Ôøº(&amp;(objectclass=inetOrgPerson)(uid=%uid))</code> </pre> <br><p>  Sur cette page, vous devez entrer la connexion d'un utilisateur et cliquer sur "V√©rifier les param√®tres". <br>  La derni√®re fois "Suivant". </p><br><p>  Cliquez ensuite sur "Avanc√©" et v√©rifiez que le champ "Base de l'arborescence des groupes" est √©gal au champ "Base de l'arborescence des utilisateurs" et a la valeur <code>dc=nas,dc=nas</code> . </p><br><p>  Revenez aux groupes et cochez la case "Seulement ces classes d' <code>groupOfUniqueNames</code> √† c√¥t√© de <code>groupOfUniqueNames</code> . </p><br><p>  Voici le dernier filtre: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=groupOfUniqueNames)))</code> </pre> <br><p>  Le champ "Seulement de ces groupes", je ne l'ai pas d√©fini, car  Je veux voir tous les utilisateurs dans l'interface NextCloud, et ceux qui ne sont pas <code>users_cloud</code> groupe <code>users_cloud</code> sont <code>users_cloud</code> par le filtre √† l'√©tape pr√©c√©dente. </p><br><h2 id="onlyoffice">  Onlyoffice </h2><br><p> <a href=""><img src="https://habrastorage.org/webt/fr/rs/9e/frrs9euxco6_ycd8p_4a1y8bxiw.png"></a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OnlyOffice</a> est une excellente suite bureautique multiplateforme qui prend en charge les documents MS Office.  Il est gratuit et ouvert, ainsi que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LibreOffice</a> et peut √©galement fonctionner comme un serveur. </p><br><p>  Mais en m√™me temps, la prise en charge du format d'origine est beaucoup mieux impl√©ment√©e, presque comme dans le bureau d'origine de MS, il est plus stable, a une interface plus r√©fl√©chie. </p><br><p>  Il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s'int√®gre</a> √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√™t √† l'emploi avec NextCloud</a> . </p><br><p>  Soit dit en passant, il existe une version de bureau d'OnlyOffice, y compris pour Linux.  En g√©n√©ral, ayant √©t√© tourment√© par le Collabora lourd et instable (c'est LibreOffice), j'ai choisi OnlyOffice et jusqu'√† pr√©sent je suis assez satisfait. </p><br><p>  La configuration OnlyOffice <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est disponible sur Github</a> et ci-dessous, sous le spoiler. </p><br><p>  Github a √©galement une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">configuration pour Collabora</a> . </p><br><div class="spoiler">  <b class="spoiler_title">/tank0/docker/services/office/onlyoffice/docker-compose.yml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">version: '2' # https://helpcenter.onlyoffice.com/ru/server/docker/document/docker-installation.aspx networks: onlyoffice: driver: 'bridge' docker0: external: name: docker0 services: onlyoffice-redis: container_name: onlyoffice-redis image: redis restart: always networks: - onlyoffice expose: - '6379' onlyoffice-rabbitmq: container_name: onlyoffice-rabbitmq image: rabbitmq restart: always networks: - onlyoffice expose: - '5672' onlyoffice-postgresql: container_name: onlyoffice-postgresql image: postgres environment: - POSTGRES_DB=onlyoffice - POSTGRES_USER=onlyoffice networks: - onlyoffice restart: always expose: - '5432' volumes: - /tank0/apps/onlyoffice/postgresql_data:/var/lib/postgresql onlyoffice-documentserver-data: container_name: onlyoffice-documentserver-data image: onlyoffice/documentserver:latest environment: - ONLYOFFICE_DATA_CONTAINER=true - POSTGRESQL_SERVER_HOST=onlyoffice-postgresql - POSTGRESQL_SERVER_PORT=5432 - POSTGRESQL_SERVER_DB_NAME=onlyoffice - POSTGRESQL_SERVER_USER=onlyoffice - RABBITMQ_SERVER_URL=amqp://guest:guest@onlyoffice-rabbitmq - REDIS_SERVER_HOST=onlyoffice-redis - REDIS_SERVER_PORT=6379 stdin_open: true restart: always networks: - onlyoffice volumes: - /tank0/apps/onlyoffice/document-server-data/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server-data/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server-data/cache:/var/lib/onlyoffice/documentserver/App_Data/cache/files - /tank0/apps/onlyoffice/document-server-data/files:/var/www/onlyoffice/documentserver-example/public/files - /usr/share/fonts onlyoffice-documentserver: image: onlyoffice/documentserver:latest depends_on: - onlyoffice-postgresql - onlyoffice-redis - onlyoffice-rabbitmq - onlyoffice-documentserver-data environment: - ONLYOFFICE_DATA_CONTAINER_HOST=onlyoffice-documentserver-data - BALANCE=uri depth 3 - EXCLUDE_PORTS=443 - HTTP_CHECK=GET /healthcheck - EXTRA_SETTINGS=http-check expect string true - JWT_ENABLED=true - JWT_SECRET=&lt;JWT_SECRET_TOKEN&gt; # Uncomment the string below to redirect HTTP request to HTTPS request. #- FORCE_SSL=true - VIRTUAL_HOST=office.* - VIRTUAL_PORT=80 - VIRTUAL_PROTO=http - CERT_NAME=NAS.cloudns.cc stdin_open: true restart: always networks: - onlyoffice - docker0 expose: - '80' volumes: - /tank0/apps/onlyoffice/document-server/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server/lib:/var/lib/onlyoffice - /tank0/apps/onlyoffice/document-server/db:/var/lib/postgresql volumes_from: - onlyoffice-documentserver-data</code> </pre> </div></div><br><p>  J'expliquerai quelques points: </p><br><ul><li>  Vous devez remplacer &lt;JWT_SECRET_TOKEN&gt; par le v√¥tre, ainsi que le NAS au nom de votre zone DNS. </li><li>  Il n'est pas n√©cessaire d'inclure HTTPS ici, car bien que le bureau soit visible de l'ext√©rieur, l'√©change avec lui se fait via un proxy inverse, qui travaille avec l'utilisateur exclusivement via HTTPS.  C'est ainsi que l'architecture NAS est construite. </li></ul><br><p>  Vous devez maintenant relever le bureau: </p><br><pre> <code class="plaintext hljs">docker-compose up -d</code> </pre> <br><p>  Et, si tout fonctionne, la page suivante sera √† office.NAS.cloudns.cc: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nt/e6/nq/nte6nqehacnsc__jn_zpqja9hi0.png" alt="√âcran OnlyOffice Server"></a> </p><br><p>  Ensuite, dans les param√®tres NextCloud, vous devez s√©lectionner l'√©l√©ment "Administration-&gt; ONLYOFFICE" et entrer l'adresse du serveur de documents dans les deux premiers champs: <code>https://office.NAS.cloudns.cc/</code> et votre jeton JWT. </p><br><p>  Dans le troisi√®me champ, saisissez l'adresse du cloud. </p><br><p>  Il est possible de g√©n√©rer un jeton JWT, par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Si le serveur est configur√© correctement, des √©l√©ments suppl√©mentaires pour les documents Office appara√Ætront dans le menu de cr√©ation de documents dans le cloud et les fichiers <code>.docx</code> s'ouvriront dans le bureau. </p><br><h2 id="vyvody">  Conclusions </h2><br><p>  Le stockage dans le cloud est le lien central pour l'interaction des utilisateurs entre eux et d'autres services. </p><br><p>  Dans ce r√¥le, NextCloud est tr√®s pratique et poss√®de de nombreuses fonctionnalit√©s. </p><br><p>  Il a le sien dans le processus de mise √† jour entre les versions, mais en g√©n√©ral, ce r√©f√©rentiel peut √™tre recommand√©. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430970/">https://habr.com/ru/post/fr430970/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430960/index.html">√Ä propos de gamedev √† partir d'une exposition sur ordinateur</a></li>
<li><a href="../fr430962/index.html">Prise en charge de Razor dans Visual Studio Code</a></li>
<li><a href="../fr430964/index.html">Pens√©e d√©clarative</a></li>
<li><a href="../fr430966/index.html">Sprints g√©n√©raux chez Atlassian Jira Software</a></li>
<li><a href="../fr430968/index.html">"L'esprit est en ligne." Les drones sont partout</a></li>
<li><a href="../fr430972/index.html">node.js serverside - fonctionne sur les bugs. Partie 1</a></li>
<li><a href="../fr430974/index.html">Grande visite photo du nuage de Moscou 1cloud</a></li>
<li><a href="../fr430976/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 276 (du 19 au 25 novembre)</a></li>
<li><a href="../fr430978/index.html">Combien de temps avez-vous consacr√© aux films?</a></li>
<li><a href="../fr430980/index.html">¬´Tout le monde veut parfois regarder le chat¬ª: nous parlons de marketing de contenu dans le podcast GLPH</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>