<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎐 🕢 🔌 Telegram belajar untuk menyamar sebagai HTTPS 👩‍🌾 🤸🏾 🏰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kode klien Telegram ditambahkan dengan kemampuan untuk menyamar sebagai HTTPS (TLS + HTTP / 2.0). 



 Untuk menggunakan fitur ini, mereka menambahkan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegram belajar untuk menyamar sebagai HTTPS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461171/">  Kode klien Telegram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ditambahkan dengan</a> kemampuan untuk menyamar sebagai HTTPS (TLS + HTTP / 2.0). <br><br><img src="https://habrastorage.org/webt/b3/hg/t0/b3hgt0upzhdrmslkix08w_hjd80.png"><br><br>  Untuk menggunakan fitur ini, mereka menambahkan awalan rahasia baru - <i>"ee"</i> .  Selain itu, mereka menambahkan kemampuan untuk menyandikan rahasia di alamat server proxy sebagai base64, selain hex. <br><br>  Sebelum mempelajari detailnya, mari kita coba mencari tahu bagaimana dukungan server proxy di Telegram dikembangkan. <br><a name="habracut"></a><br><h3>  Latar belakang </h3><br><ol><li>  Telegram awalnya mendukung proksi SOCKS.  Ini membantu mem-bypass pemblokiran server IP, tetapi protokolnya terlihat dalam lalu lintas, dan kata sandi ditransmisikan dalam bentuk teks. </li><li>  Sekitar setahun yang lalu, mereka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">merilis</a> proxy resmi yang bekerja pada protokol MTProto baru.  Tidak seperti SOCKS, kata sandi dalam MTProto tidak dikirimkan dalam teks yang jelas.  Dalam protokol, mereka menyingkirkan header layanan yang dapat dipahami orang bahwa itu benar-benar dirinya.  Kami juga menambahkan kemampuan untuk menampilkan iklan ke pengguna server proxy </li><li> Ternyata proksi yang menjalankan protokol MTProto dapat dideteksi oleh panjang paket.  Ketika koneksi dibuat, klien dan server proxy bertukar paket dengan panjang tertentu, dan selama operasi - paket dengan panjang modulo 4. Fitur ini mulai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">digunakan oleh</a> penyedia besar untuk memblokir messenger.  Pengembang Telegram bereaksi dengan memodifikasi protokol dengan menambahkan sejumlah byte acak ke setiap paket.  Karena perubahan merusak kompatibilitas, saya harus melengkapi format rahasia dengan awalan "dd" khusus, yang berarti menggunakan protokol yang dimodifikasi: <br> <code>tg://proxy?server=178.62.232.110&amp;port=3256&amp;secret=dd00000000000000000000000000000000</code> </li> <li>  Ketika mempelajari fitur pemblokiran server proxy di Cina dan Iran, ternyata pengawas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menggunakan</a> serangan replay untuk deteksi.  Dalam implementasi alternatif dari server proxy di Python, Erlang dan Go, perlindungan parsial terhadap jenis serangan ini telah muncul.  Untuk ini, server proxy menyimpan data yang dikirim pada tahap awal membangun koneksi dan tidak memungkinkan menghubungkan kembali dengan data yang sama.  Pendekatan memiliki masalah dengan proxy besar, seperti  memori membutuhkan sejumlah besar RAM </li><li>  Di Cina dan Iran, taktik berikut digunakan: jika protokol tidak diketahui, maka untuk berjaga-jaga, kecepatan kerjanya sangat terpotong.  Dalam praktiknya, ini berarti kemungkinan menggunakan Telegram hanya untuk mengirim pesan teks, tanpa gambar dan video.  Dan di Cina mereka tahu cara melakukan ini untuk waktu yang lama, tetapi di Iran mereka belajar relatif baru.  Rusia belum belajar, tetapi hukum sudah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">disahkan</a> .  Upaya pengembang messenger untuk menutupi lalu lintas di bawah beberapa protokol populer dengan latar belakang ini terlihat alami. </li></ol><br><h3>  Apa yang berubah? </h3><br>  Dalam protokol antara klien Telegram dan server proxy, lapisan enkapsulasi lain melalui TCP ditambahkan.  Alih-alih mengirim data melalui TCP, data tersebut dibungkus dengan entri TLS berikut: <br><br><img src="https://habrastorage.org/webt/re/ye/gr/reyegr-9iptayjtr6hyruhcm56y.png"><br><br>  Pada awal pekerjaan, fase emulasi jabat tangan TLS telah ditambahkan.  Paket dari klien ke server proxy memiliki struktur berikut: <br><br><img src="https://habrastorage.org/webt/c7/cw/2-/c7cw2-da2powgfq1_zrx8iellbs.png"><br><br>  Hampir semua bidang tidak masuk akal untuk klien Telegram dan diperlukan hanya untuk berpura-pura menjadi TLS.  Fungsi yang paling penting dijalankan oleh bidang <i>Random</i> , di mana hasil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HMAC</a> dari rahasia bersama dan data dalam paket ditempatkan, yang memungkinkan klien untuk membuktikan bahwa ia tahu rahasianya.  Juga, klien memunculkan 4 byte terakhir dari bidang Random dengan waktu dalam format unixtime, yang memungkinkan server proxy untuk menentukan kapan paket dihasilkan.  Ini berguna untuk melindungi dari serangan replay.  Jika paket dibuat lama atau di masa depan, maka server proxy dapat segera menjatuhkannya. <br><br>  Ketika klien terhubung, server proxy memeriksa HMAC yang dikirimkan.  Jika cocok dengan yang dihitung, proxy merespons dengan paket dengan struktur berikut: <br><br><img src="https://habrastorage.org/webt/to/d_/z0/tod_z0oiokru5bd6lsctypp5m_a.png"><br><br>  Bidang <i>acak</i> di dalamnya juga tidak acak, tetapi merupakan hasil dari HMAC dari rahasia bersama dan data dalam paket, dan ketika menghitung HMAC, nilai acak yang dikirim oleh klien diberikan sebelum data paket itu sendiri.  Saat mentransmisikan data itu sendiri, pesan pertama diabaikan oleh klien, yang memungkinkan Anda untuk mengirimnya data dengan panjang acak, untuk semakin mempersulit pendeteksian. <br><br><h3>  Di mana mencoba? </h3><br>  Untuk demonstrasi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">server proxy dengan Python</a> telah dimodifikasi dan dimunculkan, yang dapat Anda sambungkan ke klien desktop Telegram terbaru dan saksikan lalu lintas yang dikirimkan menggunakan Wireshark: <br><br><pre> <code class="plaintext hljs">tg://proxy?server=178.62.232.110&amp;port=3256&amp;secret=7gAAAAAAAAAAAAAAAAAAAABnb29nbGUuY29t</code> </pre> <br>  Juga, dukungan masking TLS telah ditambahkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ke server proksi Erlang</a> .  Kemungkinan besar, dalam waktu dekat, fungsi ini akan ditambahkan ke implementasi lain dari server proxy. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461171/">https://habr.com/ru/post/id461171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461157/index.html">Apa yang akan ditawarkan oleh Asisten Umpan Balik - platform pengembang yang akan menggantikan Bug Reporter</a></li>
<li><a href="../id461159/index.html">Ivideon Bridge: cara menghubungkan sistem CCTV lama ke cloud</a></li>
<li><a href="../id461161/index.html">Delegasi preferensi Android</a></li>
<li><a href="../id461163/index.html">Apa yang menghubungkan paradoks ulang tahun dan kerentanan tanda tangan elektronik?</a></li>
<li><a href="../id461165/index.html">Biometri semakin dekat</a></li>
<li><a href="../id461173/index.html">Apa gunanya Analisis Dinamis Ketika Anda Memiliki Analisis Statis?</a></li>
<li><a href="../id461175/index.html">27 hal yang ingin saya ketahui sebelumnya sebelum memulai pemrograman</a></li>
<li><a href="../id461177/index.html">Sejarah Internet: ARPANET - Subnet</a></li>
<li><a href="../id461179/index.html">Mengapa bukti Teorema Hebat Fermat tidak perlu diperbaiki</a></li>
<li><a href="../id461185/index.html">JsonDiscovery: Mengubah pengalaman melihat JSON di browser</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>