<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèΩ üé∏ ü•õ C√≥mo elegimos la base de componentes para un hogar inteligente: sobre sensores y un controlador üññüèΩ üíÄ üë©üèº‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kauri desarrolla equipos para soluciones de IoT y escribe software para ello. Recientemente, probamos con √©xito la red Zigbee con una placa de depurac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo elegimos la base de componentes para un hogar inteligente: sobre sensores y un controlador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kauri_iot/blog/472430/">  <i>Kauri desarrolla equipos para soluciones de IoT y escribe software para ello.</i>  <i>Recientemente, probamos con √©xito la red Zigbee con una placa de depuraci√≥n y sensores, por lo que hicimos una peque√±a gu√≠a.</i> <i><br><br></i>  <i>Hablemos de los criterios de selecci√≥n, fabricantes, precios, un poco de rega√±o al mercado ruso.</i> <i><br></i> <br><img src="https://habrastorage.org/webt/vt/5f/fw/vt5ffwzvdfn_drf1po1oqppc_88.jpeg" alt="imagen"><br><a name="habracut"></a><br>  Hemos compilado para nosotros la siguiente lista de sensores que nos interesan, que son responsables de la indicaci√≥n: <br><br><ol><li>  Fugas </li><li>  Humo </li><li>  Penetraci√≥n (contacto magn√©tico) </li><li>  Movimientos de objetos </li><li>  Rotura de cristales </li></ol><br>  Adem√°s de sensores que miden: <br><br><ol><li>  Temperatura </li><li>  Consumo de gas / agua </li><li>  El consumo de energ√≠a </li><li>  Humedad </li></ol><br>  De estos, compramos sensores para movimiento / nivel de iluminaci√≥n, intrusi√≥n, fuga y temperatura / humedad (basados ‚Äã‚Äãen soluciones para un hogar inteligente, evitando robos, incendios, inundaciones). <br><br><h3>  <font color="#5dbd35">¬øC√≥mo elegimos un fabricante?</font> </h3><br>  El criterio m√°s simple para la selecci√≥n es el costo del sensor y su disponibilidad en Rusia.  El sensor en s√≠ es un dispositivo simple, las diferentes compa√±√≠as ofrecen aproximadamente la misma calidad, por lo que nos guiamos por el precio del producto: cuanto m√°s barato, mejor.  Despu√©s de todo, al final, el cliente pagar√° todo y cientos de sensores pueden ir a una casa grande.  Si paga 1,000 rublos o m√°s por cada uno, saldr√° caro. <br><br><img src="https://habrastorage.org/webt/pm/ct/bg/pmctbgqz3rzdczdbsqm7w_jmdec.jpeg" alt="imagen"><br><br>  Otro criterio importante es el consumo de energ√≠a (nuestros sensores, por ejemplo, funcionan con bater√≠a).  Algunos dispositivos se colocan en lugares de dif√≠cil acceso, el reemplazo constante de las bater√≠as puede ser un problema desagradable.  Observamos sensores compatibles con la tecnolog√≠a ZigBee, que es el est√°ndar de comunicaci√≥n con mayor eficiencia energ√©tica.  Por lo tanto, nuestros sensores pueden estar en modo de suspensi√≥n, consumiendo una cantidad m√≠nima de energ√≠a, y cambiar al modo de recepci√≥n-transmisi√≥n solo cuando sea necesario. <br><br>  Y ZigBee, aunque tiene una baja tasa de transferencia, se considera una red completamente confiable y de recuperaci√≥n autom√°tica que es f√°cil de implementar y operar. <br><br><h3>  <font color="#5dbd35">¬øQui√©n hace estos sensores?</font> </h3><br>  Hay muchas empresas, solo miramos la lista.  Xiaomi es el l√≠der: tienen un producto barato, una gran selecci√≥n, incluso puedes pedirlo en Aliexpress.  A√∫n as√≠, los sensores deben ser f√°cilmente accesibles y populares. <br><br>  Los sensores en s√≠ mismos son in√∫tiles; deben estar conectados a la red.  Por lo tanto, es necesario decidir qu√© base de elementos y SoC zigbish elegir para probar este est√°ndar de comunicaci√≥n. <br><br>  Elegimos entre cristales de Texas Instruments y Silicon Labs.  Luego comenzaron a ver c√≥mo van las cosas con el apoyo de estos microprocesadores en Rusia.  Cuando comience a comprender su trabajo, pueden surgir preguntas t√©cnicas: la documentaci√≥n detallada del fabricante le ayudar√° aqu√≠. <br><img src="https://habrastorage.org/webt/6t/pk/7e/6tpk7e8kpxeovlmyrupj-kuy_ks.jpeg" alt="imagen"><br>  Tambi√©n hay algunos componentes que son dif√≠ciles de comprar en Rusia, no hay distribuidores directos.  Y esto es importante: debe poder concluir un acuerdo de asociaci√≥n: ha elegido un cristal y ha acordado que comprar√° un lote mensualmente.  En consecuencia, le har√°n una oferta especial a precios, etc.  Por cierto, algunos fabricantes pueden "presentar" muestras de prueba al registrar un proyecto. <br><br>  Como resultado, recurrimos a los distribuidores de Silicon Labs, podemos llegar a un acuerdo con ellos, los precios son adecuados, hay soporte no solo de hardware sino tambi√©n de software (todo tipo de bibliotecas especializadas, DLL, todo esto hace la vida m√°s f√°cil para los desarrolladores). <br><br>  A continuaci√≥n, necesitamos una placa electr√≥nica para trabajar con el chip.  Este es un proceso largo.  Y para que los programadores puedan ponerse a trabajar de inmediato, Silicon Labs proporciona, en particular, placas de depuraci√≥n (un paquete completo para desarrolladores), controladores. <br><br><h3>  <font color="#5dbd35">Sobre el controlador</font> </h3><br><img src="https://habrastorage.org/webt/v2/a2/vw/v2a2vwie7_pk_0as8vrqbfv-kq0.jpeg" alt="imagen"><br><br>  El controlador recopila datos sobre el funcionamiento de los sensores y los env√≠a al servidor para su posterior procesamiento.  Creamos nuestro propio controlador modular Kauri para que pueda funcionar con la mayor cantidad posible de est√°ndares de comunicaci√≥n modernos para diferentes industrias.  Desde la log√≠stica, donde se utiliza principalmente LoRa, hasta el comercio minorista, donde se necesita la tecnolog√≠a RFID. <br><br>  Tambi√©n es importante para nosotros que el controlador funcione de forma aut√≥noma.  E, incluso si hay problemas con la red, la casa debe permanecer "inteligente" y segura.  Los controladores de Xiaomi, por ejemplo, no brindan tal soluci√≥n.  Transmiten toda la informaci√≥n a los servidores en China (por cierto, la informaci√≥n sobre la ubicaci√≥n de la vivienda tambi√©n puede volar all√≠). <br><br>  El controlador Kauri gestiona todos los dispositivos en la LAN ZigBee utilizando scripts Python.  Por lo tanto, en caso de problemas con Internet, el sistema continuar√° realizando sus tareas correctamente. <br><br>  El "cuadro" para el controlador en s√≠, el caso, est√° hecho por muchas compa√±√≠as.  Al elegirlo, es mejor comenzar desde la esfera de la explotaci√≥n: una calle, una casa.  Si el controlador estar√° en la calle, seleccione IP al menos 65 (para soportar las lluvias).  El controlador para las instalaciones (hogar, f√°brica, almac√©n) se selecciona con IP40.  Si necesitamos un dispositivo sellado (para trabajar bajo el agua), seleccione IP66. <br><br>  Al elegir una vivienda para la habitaci√≥n, debe prestar atenci√≥n a su apariencia, debe verse est√©ticamente agradable en la casa.  Para el controlador utilizamos el procesador de la familia iMX 8M, Cortex A53. <br><br><h3>  <font color="#5dbd35">Acerca de la seguridad</font> </h3><br><img src="https://habrastorage.org/webt/6l/zw/q5/6lzwq5yggvibvrskndaenezps1u.jpeg" alt="imagen"><br><br>  Tomamos la placa de depuraci√≥n, el sensor y el programador reconstruy√≥ la red Zigbee.  Luego verificamos si los sensores aparecieron en la red y si reaccionaron normalmente.  Y aqu√≠ pensamos en seguridad.  La propia red ZigBee proporciona protecci√≥n de datos criptogr√°ficos. <br><br>  La junta de depuraci√≥n es el coordinador de la red Zigbee.  La red puede estar relativamente abierta (las claves de seguridad se intercambian cuando se conecta un nuevo sensor) y cerrarse (no se intercambian claves, es decir, la clave de seguridad deseada se cose en el propio sensor). <br><br>  La desventaja de una red abierta es que si alguien en el momento de la conexi√≥n puede interceptar la clave, descifrar toda la informaci√≥n transmitida no es dif√≠cil.  Y esto es especialmente peligroso cuando se trata del trabajo de la planta, por ejemplo. <br><br>  En nuestro caso, la configuraci√≥n se establecer√° en el nivel de configuraci√≥n de la red, lo que significa que el cliente elegir√° el m√©todo de conexi√≥n de los sensores y el tipo de seguridad. <br><br><h3>  <font color="#5dbd35">Sobre la industria rusa y extranjera</font> </h3><br>  Utilizamos el elemento base de la producci√≥n extranjera.  En Rusia, desafortunadamente, no fabrican componentes adecuados.  Toda la tecnolog√≠a ZigBee, microprocesadores, matrices, todo esto pertenece a los estadounidenses. <br><br>  En Rusia, la microelectr√≥nica pr√°cticamente no est√° desarrollada, incluso las resistencias no.  La mayor√≠a de los componentes dom√©sticos se producen para la industria espacial, y todo esto cuesta dinero loco.  Y en cualquier caso, esto no es adecuado para nuestras decisiones. <br><br><h3>  <font color="#5dbd35">¬øD√≥nde ordenaste y cu√°nto cost√≥?</font> </h3><br>  Era una compra regular para un individuo (sin contratos) en el comercio minorista en una tienda en l√≠nea regular.  En t√©rminos de costo, result√≥ as√≠: <br><br><ul><li>  Un sensor de movimiento cuesta 989 rublos </li><li>  Ventana y sensor de apertura de ventana - 989 rublos </li><li>  Fugas de agua - 929 rublos </li><li>  Temperatura humedad - 700 rublos </li></ul><br>  Pero lo compramos para nosotros en la oficina para probar.  En el mismo AliExpress, estos sensores se pueden comprar a la mitad del precio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/472430/">https://habr.com/ru/post/472430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../472418/index.html">C√≥mo mantener los derechos de desarrollo personalizado</a></li>
<li><a href="../472420/index.html">Hacer que la interfaz sea m√°s receptiva gracias a Promise diferido</a></li>
<li><a href="../472422/index.html">Sber X RamblerFront & Meet Up</a></li>
<li><a href="../472426/index.html">Semana de la seguridad 43: la vida secreta de IoT Hanipots</a></li>
<li><a href="../472428/index.html">Operador de kubernetes de Tarantool</a></li>
<li><a href="../472432/index.html">Python 3.8: ¬øQu√© hay de nuevo y c√≥mo usarlo?</a></li>
<li><a href="../472434/index.html">Actualiza tus lanzamientos</a></li>
<li><a href="../472438/index.html">C√≥mo se usan los proxies en la seguridad de la informaci√≥n: 6 casos de uso pr√°ctico</a></li>
<li><a href="../472440/index.html">Un d√≠a en Joker 2019</a></li>
<li><a href="../472442/index.html">La situaci√≥n: todos hablan del regreso de los formatos de audio olvidados: por qu√© est√°n destinados a seguir siendo un nicho</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>