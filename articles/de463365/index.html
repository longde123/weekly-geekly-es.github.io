<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👧🏾 🔪 🎮 Einführung in Redis mit Spring Boot 🌃 🏓 🍕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Übersetzung des Artikels wurde speziell für Studenten des Kurses "Developer on the Spring Framework" erstellt. 
 

 In diesem Artikel werden die G...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einführung in Redis mit Spring Boot</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/463365/">  <i>Die Übersetzung des Artikels wurde speziell für Studenten des Kurses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Developer on the Spring Framework" erstellt.</a></i> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a></i> <br><hr><br>  In diesem Artikel werden die Grundlagen der Verwendung von Redis über Spring Boot mithilfe der Spring Data Redis-Bibliothek behandelt. <br><br><img src="https://habrastorage.org/webt/a0/tw/tu/a0twtumhbnetrfpmm13nh02u7ye.png"><br><br>  Wir werden eine Anwendung erstellen, die zeigt, wie CRUD-Operationen über eine Webschnittstelle ausgeführt werden.  Der Quellcode für dieses Projekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ist auf GitHub verfügbar</a> . <br><br><h3>  Was ist Redis? </h3><br>  Redis ist ein Open Source Data Warehouse für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schlüsselwertdatenstrukturen</a> , die als Datenbank, Cache und Nachrichtenbroker verwendet werden können.  In Bezug auf die Implementierung gehören Schlüsselwertspeicher zu den größten und ältesten Vertretern in der NoSQL-Welt.  Redis unterstützt Datenstrukturen wie Zeichenfolgen, Hashes, Listen, Mengen und sortierte Mengen mit Bereichsabfragen. <a name="habracut"></a><br><br>  Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spring Data Redis-</a> Framework erleichtert das Schreiben von Spring-Anwendungen, die Redis-Speicher verwenden, und bietet eine bequeme Abstraktion des Datenspeichers. <br><br><h3>  Redis Server Setup </h3><br>  Der Server steht hier kostenlos zur Verfügung. <br>  Wenn Sie einen Mac verwenden, können Sie ihn mit <code>homebrew</code> installieren: <br><br><pre> <code class="javascript hljs">brew install redis</code> </pre> <br>  Starten Sie dann den Server: <br><br><pre> <code class="java hljs">mikes-MacBook-Air:~ mike$ redis-server <span class="hljs-number"><span class="hljs-number">10699</span></span>:C <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.306</span></span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo <span class="hljs-number"><span class="hljs-number">10699</span></span>:C <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.307</span></span> # Redis version=<span class="hljs-number"><span class="hljs-number">4.0</span></span>.2, bits=<span class="hljs-number"><span class="hljs-number">64</span></span>, commit=<span class="hljs-number"><span class="hljs-number">00000000</span></span>, modified=<span class="hljs-number"><span class="hljs-number">0</span></span>, pid=<span class="hljs-number"><span class="hljs-number">10699</span></span>, just started <span class="hljs-number"><span class="hljs-number">10699</span></span>:C <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.307</span></span> # Warning: no config file specified, using the <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> config. In order to specify a config file use redis-server /path/to/redis.conf <span class="hljs-number"><span class="hljs-number">10699</span></span>:M <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.309</span></span> * Increased maximum number of open files to <span class="hljs-number"><span class="hljs-number">10032</span></span> (it was originally set to <span class="hljs-number"><span class="hljs-number">256</span></span>). _._ _.-``__ <span class="hljs-string"><span class="hljs-string">''</span></span>-._ _.-`` `. `_. <span class="hljs-string"><span class="hljs-string">''</span></span>-._ Redis <span class="hljs-number"><span class="hljs-number">4.0</span></span>.2 (<span class="hljs-number"><span class="hljs-number">00000000</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-number"><span class="hljs-number">64</span></span> bit .-`` .-```. ```\/ _.,_ <span class="hljs-string"><span class="hljs-string">''</span></span>-._ ( <span class="hljs-string"><span class="hljs-string">' , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|'</span></span>` _.-<span class="hljs-string"><span class="hljs-string">'| Port: 6379 | `-._ `._ / _.-'</span></span> | PID: <span class="hljs-number"><span class="hljs-number">10699</span></span> `-._ `-._ `-./ _.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span> |`-._`-._ `-.__.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">'| | `-._`-._ _.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">' | http://redis.io `-._ `-._`-.__.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span> |`-._`-._ `-.__.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">'| | `-._`-._ _.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">' | `-._ `-._`-.__.-'</span></span>_.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span> `-._ `-.__.-<span class="hljs-string"><span class="hljs-string">' _.-'</span></span> `-._ _.-<span class="hljs-string"><span class="hljs-string">' `-.__.-'</span></span> <span class="hljs-number"><span class="hljs-number">10699</span></span>:M <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.312</span></span> # Server initialized <span class="hljs-number"><span class="hljs-number">10699</span></span>:M <span class="hljs-number"><span class="hljs-number">23</span></span> Nov <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>:<span class="hljs-number"><span class="hljs-number">58.312</span></span> * Ready to accept connections</code> </pre> <br><h3>  Maven-Abhängigkeiten </h3><br>  <code>pom.xml</code> wir die erforderlichen Abhängigkeiten in <code>pom.xml</code> für die Anwendung, mit der wir arbeiten werden: <br><br><pre> <code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre><br><h3>  Redis Konfiguration </h3><br>  Wir müssen unsere Anwendung mit dem Redis-Server verbinden.  Um eine Verbindung herzustellen, verwenden wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jedis</a> , eine Client-Implementierung von Redis. <br><br><h3>  Konfiguration </h3><br>  Beginnen wir mit der Definition von Konfigurations-Beans: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-function">JedisConnectionFactory </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jedisConnectionFactory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JedisConnectionFactory(); } <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> RedisTemplate&lt;String, Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">redisTemplate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> RedisTemplate&lt;String, Object&gt; template = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RedisTemplate&lt;String, Object&gt;(); template.setConnectionFactory(jedisConnectionFactory()); template.setValueSerializer(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GenericToStringSerializer&lt;Object&gt;(Object.class)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> template; }</code> </pre><br>  <code>JedisConnectionFactory</code> wird als Bean dargestellt, damit wir eine <code>RedisTemplate</code> erstellen <code>RedisTemplate</code> , um Daten anzufordern. <br><br><h3>  Post Publisher </h3><br>  Nach den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prinzipien von SOLID</a> erstellen wir die <code>MessagePublisher</code> Schnittstelle: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessagePublisher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">publish</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String message)</span></span></span></span>; }</code> </pre> <br>  Wir implementieren die <code>MessagePublisher</code> Schnittstelle mithilfe der übergeordneten RedisTemplate, um eine Nachricht zu veröffentlichen, da <code>RedisTemplate</code> mit <code>RedisTemplate</code> beliebige Objekte als Nachrichten senden können: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessagePublisherImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessagePublisher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RedisTemplate&lt;String, Object&gt; redisTemplate; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ChannelTopic topic; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MessagePublisherImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MessagePublisherImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> RedisTemplate&lt;String, Object&gt; redisTemplate, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ChannelTopic topic)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.redisTemplate = redisTemplate; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.topic = topic; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">publish</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String message)</span></span></span><span class="hljs-function"> </span></span>{ redisTemplate.convertAndSend(topic.getTopic(), message); } }</code> </pre> <br>  Wir definieren dies auch als Bean in <code>RedisConfig</code> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-function">MessagePublisher </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">redisPublisher</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MessagePublisherImpl(redisTemplate(), topic()); }</code> </pre><br><h3>  Nachrichtenempfänger </h3><br>  Um Nachrichten zu abonnieren, müssen Sie die <code>MessageListener</code> Schnittstelle implementieren: Jedes Mal, wenn eine neue Nachricht eintrifft, wird der Benutzercode in der <code>onMessage</code> Methode <code>onMessage</code> .  Diese Schnittstelle bietet Zugriff auf die Nachricht, den Kanal, über den sie empfangen wurde, und ermöglicht Ihnen die Verwendung einer beliebigen Vorlage, die zum Abonnieren des Kanals verwendet wird. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageSubscriber</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> List&lt;String&gt; messageList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Message message, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] pattern)</span></span></span><span class="hljs-function"> </span></span>{ messageList.add(message.toString()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Message received: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(message.getBody())); } }</code> </pre> <br>  Außerdem muss diese Klasse in <code>RedisConfig</code> als Bean <code>RedisConfig</code> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-function">MessageListenerAdapter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">messageListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MessageListenerAdapter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MessageSubscriber()); }</code> </pre> <br><h3>  Redisrepository </h3><br>  Nachdem wir die Anwendung für die Interaktion mit dem Redis-Server eingerichtet haben, bereiten wir die Anwendung für den Empfang von Testdaten vor. <br><br><h3>  Modell </h3><br>  In diesem Beispiel definieren wir ein <code>Movie</code> mit zwei Feldern: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-comment"><span class="hljs-comment">//standard getters and setters</span></span></code> </pre> <br><h3>  Repository-Schnittstelle </h3><br>  Im Gegensatz zu anderen Spring Data-Projekten bietet Spring Data Redis alles, was Sie für die Arbeit mit anderen Spring Data-Schnittstellen benötigen.  Dies mag für Personen mit Erfahrung mit anderen Spring Data-Projekten seltsam aussehen. <br><br>  Oft ist es nicht erforderlich, eine Implementierung der Repository-Schnittstelle für Spring Data-Projekte zu schreiben.  Wir interagieren nur mit der Schnittstelle.  Spring Data JPA bietet zahlreiche Repository-Schnittstellen, die erweitert werden können, um Funktionen wie CRUD-Operationen, abgeleitete Abfragen und Paginierung bereitzustellen. <br><br>  Leider müssen wir <i>unsere eigene Schnittstelle schreiben und dann die Methoden definieren</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RedisRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Map&lt;Object, Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAllMovies</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Movie movie)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Movie </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findMovie</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span></span>; }</code> </pre> <br><h3>  Repository-Implementierung </h3><br>  Die Klasse verwendet <code>redisTemplate</code> das in der <code>RedisConfig</code> Konfigurationsklasse definiert ist. <br><br>  Wir verwenden <code>HashOperations</code> , die Spring Data Redis anbietet: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Repository</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RedisRepositoryImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RedisRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String KEY = <span class="hljs-string"><span class="hljs-string">"Movie"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RedisTemplate&lt;String, Object&gt; redisTemplate; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> HashOperations hashOperations; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RedisRepositoryImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RedisTemplate&lt;String, Object&gt; redisTemplate)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.redisTemplate = redisTemplate; } <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ hashOperations = redisTemplate.opsForHash(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Movie movie)</span></span></span><span class="hljs-function"> </span></span>{ hashOperations.put(KEY, movie.getId(), movie.getName()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String id)</span></span></span><span class="hljs-function"> </span></span>{ hashOperations.delete(KEY, id); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Movie </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findMovie</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String id)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Movie) hashOperations.get(KEY, id); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Map&lt;Object, Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAllMovies</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hashOperations.entries(KEY); } }</code> </pre> <br>  Achten wir auf die Methode <code>init()</code> .  In dieser Methode verwenden wir eine Funktion namens <code>opsForHash()</code> , die Operationen zurückgibt, die mit Hash-Werten ausgeführt werden, <code>opsForHash()</code> diesem Schlüssel zugeordnet sind.  Dann verwenden wir für alle unsere CRUD-Operationen <code>hashOps</code> , das in <code>init()</code> definiert wurde. <br><br><h3>  Webschnittstelle </h3><br>  In diesem Abschnitt werden wir uns mit dem Hinzufügen von Redis CRUD-Funktionen zur Weboberfläche befassen. <br><br><h3>  Hinzufügen eines Films </h3><br>  Wir möchten einen Film über eine Webseite hinzufügen können.  Der Schlüssel ist die Kennung des Films und der Wert ist das eigentliche Objekt.  Wir werden jedoch später darauf zurückkommen, sodass nur der Name des Films als Wert angezeigt wird. <br><br>  Fügen wir dem HTML-Dokument ein Formular hinzu und weisen Sie die entsprechenden Namen und Bezeichner zu: <br><br><pre> <code class="javascript hljs">&lt;form id=<span class="hljs-string"><span class="hljs-string">"addForm"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"keyInput"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Movie ID (key)</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"keyInput"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"keyInput"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"valueInput"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Movie Name (field of Movie object value)</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"valueInput"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"valueInput"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"btn btn-default"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"addButton"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Add</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Jetzt verwenden wir JavaScript, um Werte beim Senden des Formulars zu speichern: <br><br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> keyInput = $(<span class="hljs-string"><span class="hljs-string">'#keyInput'</span></span>), valueInput = $(<span class="hljs-string"><span class="hljs-string">'#valueInput'</span></span>); refreshTable(); $(<span class="hljs-string"><span class="hljs-string">'#addForm'</span></span>).on(<span class="hljs-string"><span class="hljs-string">'submit'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: keyInput.val(), <span class="hljs-attr"><span class="hljs-attr">value</span></span>: valueInput.val() }; $.post(<span class="hljs-string"><span class="hljs-string">'/add'</span></span>, data, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ refreshTable(); keyInput.val(<span class="hljs-string"><span class="hljs-string">''</span></span>); valueInput.val(<span class="hljs-string"><span class="hljs-string">''</span></span>); keyInput.focus(); }); event.preventDefault(); }); keyInput.focus(); });</code> </pre><br>  Wir legen <code>@RequestMapping</code> Parameter für die POST-Anforderung fest, fordern den Schlüssel und den Wert an, erstellen ein <code>Movie</code> Objekt und speichern es im Repository: <br><br><pre> <code class="javascript hljs">@RequestMapping(value = <span class="hljs-string"><span class="hljs-string">"/add"</span></span>, method = RequestMethod.POST) public ResponseEntity&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; add( @RequestParam <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> key, @RequestParam <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> value) { Movie movie = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Movie(key, value); redisRepository.add(movie); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseEntity&lt;&gt;(HttpStatus.OK); }</code> </pre><br><h3>  Inhalt anzeigen </h3><br>  Sobald das Movie-Objekt hinzugefügt wurde, aktualisieren wir die Tabelle, um die neuen Werte anzuzeigen.  Im Block des JavaScript-Codes haben wir die Funktion <code>refreshTable()</code> aufgerufen.  Es führt eine GET-Anforderung aus, um die aktuellen Daten im Repository abzurufen: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refreshTable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $.get(<span class="hljs-string"><span class="hljs-string">'/values'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> attr, mainTable = $(<span class="hljs-string"><span class="hljs-string">'#mainTable tbody'</span></span>); mainTable.empty(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (attr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data.hasOwnProperty(attr)) { mainTable.append(row(attr, data[attr])); } } }); }</code> </pre> <br>  Die GET-Anforderung wird von der <code>findAll()</code> -Methode verarbeitet, die alle im Speicher gespeicherten Movie-Objekte abruft und dann den Datentyp von <code>Map &lt;Object, Object&gt;</code> in <code>Map &lt;String, String&gt;</code> konvertiert: <br><br><pre> <code class="javascript hljs">@RequestMapping(<span class="hljs-string"><span class="hljs-string">"/values"</span></span>) public @ResponseBody <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; findAll() { <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>&gt; aa = redisRepository.findAllMovies(); <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; map = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>.Entry&lt;<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>&gt; entry : aa.entrySet()){ <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> key = (<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) entry.getKey(); map.put(key, aa.get(key).toString()); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> map; }</code> </pre> <br><h3>  Filmentfernung </h3><br>  Wir werden ein Skript schreiben, um eine POST-Anforderung entlang des <code>/delete</code> Pfads auszuführen, die Tabelle zu aktualisieren und den Tastaturfokus für eine bequeme Eingabe zu wechseln: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteKey</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key</span></span></span><span class="hljs-function">) </span></span>{ $.post(<span class="hljs-string"><span class="hljs-string">'/delete'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">key</span></span>: key}, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ refreshTable(); $(<span class="hljs-string"><span class="hljs-string">'#keyInput'</span></span>).focus(); }); }</code> </pre> <br>  Wir fordern einen Schlüssel an und löschen das Objekt in <code>redisRepository</code> basierend auf diesem Schlüssel: <br><br><pre> <code class="javascript hljs">@RequestMapping(value = <span class="hljs-string"><span class="hljs-string">"/delete"</span></span>, method = RequestMethod.POST) public ResponseEntity&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>(@RequestParam <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> key) { redisRepository.delete(key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseEntity&lt;&gt;(HttpStatus.OK); }</code> </pre> <br><h3>  Demo </h3><br>  Hier haben wir zwei Filme hinzugefügt: <br><br><img src="https://habrastorage.org/webt/kw/r-/vc/kwr-vcj6znclouo84qenpm_aqma.png"><br><br>  Und ein Film wurde gelöscht: <br><br><img src="https://habrastorage.org/webt/c_/tw/-o/c_tw-o4rb7t02i9ky028qgom34w.png"><br><br><h3>  Fazit </h3><br>  In diesem Handbuch haben wir uns Spring Data Redis und eine Möglichkeit angesehen, es mit einer Webanwendung zu verbinden, um CRUD-Operationen auszuführen. <br><br>  Der Quellcode für die Beispielanwendung befindet sich auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> . <br><br>  Das ist alles.  Traditionell auf Ihre Kommentare warten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463365/">https://habr.com/ru/post/de463365/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463351/index.html">Verwenden des statischen Analysators PVS-Studio in der C- und C ++ - Entwicklung für eingebettete Systeme</a></li>
<li><a href="../de463353/index.html">5 Tipps zur Designführung Teil 1</a></li>
<li><a href="../de463355/index.html">Fusion von Uber & Careem: Wie werden sich die aufkommenden Taxi-Hageldienste in der MENA-Region auswirken?</a></li>
<li><a href="../de463357/index.html">Sich entwickelnde Handelssysteme</a></li>
<li><a href="../de463361/index.html">So schützen Sie Vermögenswerte an der Börse: 6 Anlageschutzstrategien</a></li>
<li><a href="../de463367/index.html">Maschinelles Lernen und Theorie der Zwänge</a></li>
<li><a href="../de463369/index.html">Über Dienstleistungen für Arzttermine</a></li>
<li><a href="../de463371/index.html">IT außerhalb von Moskau</a></li>
<li><a href="../de463373/index.html">UX Design Portfolio: Best Practices</a></li>
<li><a href="../de463375/index.html">Wein unter Windows 10. Es funktioniert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>