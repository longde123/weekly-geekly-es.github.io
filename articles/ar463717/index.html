<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฅ ๐จ๐ฝโ๐ผ #โฃ ุจูุงุก ุชุทุจูู Bare-Metal ุนูู Intel Cyclone V ูููุจุชุฏุฆูู ุงููุทูููู ๐๐พ ๐คถ๐ฝ ๐จ๐พโ๐ณ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุง ูุนุฏ ุฅุนุฏุงุฏ ูุธุงู Linux ุนูู ููุญุฉ ุงูุชุทููุฑ ูุซู SocKit ุจุงุณุชุฎุฏุงู ARM Cortex A9 ุซูุงุฆู ุงูููุงุฉ ุนูู ุงูุตูุงุฑูุฎ. ุชุฏุนู ุงูุฌูุฉ ุงููุตูุนุฉ ูููุญุฉ ุงูุตูุฑุฉ ุงูุฌุงูุฒุฉ ููุงุณุชุฎุฏุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจูุงุก ุชุทุจูู Bare-Metal ุนูู Intel Cyclone V ูููุจุชุฏุฆูู ุงููุทูููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463717/" style=";text-align:right;direction:rtl">  ูุง ูุนุฏ ุฅุนุฏุงุฏ ูุธุงู Linux ุนูู ููุญุฉ ุงูุชุทููุฑ ูุซู SocKit ุจุงุณุชุฎุฏุงู ARM Cortex A9 ุซูุงุฆู ุงูููุงุฉ ุนูู ุงูุตูุงุฑูุฎ.  ุชุฏุนู ุงูุฌูุฉ ุงููุตูุนุฉ ูููุญุฉ ุงูุตูุฑุฉ ุงูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุ ุงูููุงุณุจุฉ ููุชุซุจูุช ุนูู ุจุทุงูุฉ SD ุฃู ุฃู ูุณุงุฆุท ุฃุฎุฑู.  ูููู ูุงุฐุง ูู ููุช ุชูุฏ ุฃู ุชููุณ ุงููุนุฏู ุงูุนุงุฑู ุ ูุชูุชุฑุจ ูู ุณุฑุนุฉ ูุณุฑ ุงูุดูุฑุฉ ุงูุชู ูุง ุชููุฏูุง ููุงุฉ ุงูุชุดุบููุ  ุญุณููุง ุ ูุฐุง ูููู ุ ููู ููุณ ุณููุงู ููุงุถุญูุง.  ูู ูุฐุง ุงูููุงู ุงููุตูุฑ ุ ุณูู ุฃุนุทูู ุชุนูููุงุช ุฎุทูุฉ ุจุฎุทูุฉ ุ ุญูู ููููุฉ ุฅูุดุงุก ูุชุดุบูู ุฃูู ุชุทุจูู ูุนุฏูู ุนูู Cyclone V SoC ุ ูุงูุฐู ูุณุชุฎุฏู ARM Cortex A9 ูููุธุงู ุงููุฑุนู HPS ูู SoC. <br><br>  ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ููุญุฉ ุงูุชุทููุฑ ูุน Intel (Altera) Cyclone V SoC.  ููุฏ ุงุณุชุฎุฏูุช ููุญุฉ SoCKit: <br><br><img src="https://habrastorage.org/webt/x5/tw/rb/x5twrba2tlvz68fuwltzjsak2ds.jpeg"><br><a name="habracut"></a><br>  ููุฏ ููุช ุจูู ุงูุฃุดูุงุก ุงูููุถุญุฉ ูู ูุฐู ุงูููุงูุฉ ูู ุฏูุจูุงู ุฌูุณู.  ููููู ุงุณุชุฎุฏุงู ูุธุงู Linux ุฃู Windows ูุน ุงูุชุบููุฑุงุช ุงูููุงุจูุฉ. <br><br>  ูุชุญุชุงุฌ DS-5 IDE.  ููุณูุก ุงูุญุธ ุ ูุง ูุณูุญ ูู ุงูุฅุตุฏุงุฑ ุงููุฌุงูู ุจุชุฌููุน ุฑูุฒ ููุดูู.  ุชุญุชุงุฌ ุงููุณุฎุฉ ุงููุงููุฉ. <br><br>  1. ุงูุชุญุถูุฑ <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุฏูู ุงูุฅุตุฏุงุฑ ุงููุงูู ูู DS-5 ุ ุฅูุง ุฃูู ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ุงูุฅุตุฏุงุฑ DS-5 Altera ุงููุฌุงูู.  ูุฌุจ ุชุซุจูุช ููุง ุงูุฅุตุฏุงุฑูู ูู ูุถุน <i>sudo</i> ุ ูู ุฏูุงุฆู ูุฎุชููุฉ ุ ุนูู ุณุจูู ุงููุซุงู: <i>/ home / user / intelFPGA</i> ูู DS-5 Altera Edition ู <i>/ home / user / DS-5</i> ููุฅุตุฏุงุฑ ุงููุงูู ูู DS-5.  ูุฌุจ ุนููู ุฅุฏุฎุงู ุงููุณุงุฑุงุช ุจุงููุฏ ุฃุซูุงุก ุนูููุฉ ุงูุชุซุจูุช. <br><br>  2. IDE ุงูุฌุฑู <br><br>  2.1.  ุฃููุงู ุ ูู ุจุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู <i>/home/user/intelFPGA/16.1/embedded/embedded_command_shell.sh</i> ุ ุซู ูู ุจุชุบููุฑ ุงูุฏููู ุฅูู <i>/ home / user / DS-5 / bin</i> ูุชุดุบูู IDE: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ ./eclipse &amp;</code> </pre> <br><br>  ุงูุจุฑูุงูุฌ ุงููุตู ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ.  ูุชุนููู ุงููุชุบูุฑุงุช ุนูุฏ ุจุฏุก ุชุดุบูู ุงููุธุงู ุ ูุฌุจ ุฅุถุงูุฉ ุงูุณุทุฑ ุงูุชุงูู ุฅูู ุงูููู / <i>home</i> / <i>user /</i> ููู <i>ุงูุชุนุฑูู</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">QUARTUS_ROOTDIR=/home/user/intelFPGA/16.1/qprogrammer <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span>:/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/gcc-arm-none-eabi-5_4-2016q3/bin/:/home/user/intelFPGA/16.1/embedded/host_tools/mentor/gnu/arm/baremetal/bin/</code> </pre> <br><br>  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุฃุถู ุณุทุฑูุง ูุดุงุจููุง ููุชุบูุฑุงุช otter ุงููุทููุจุฉ ุ ูุซู QSYS_ROOTDIR. <br><br>  ุฃูุถุง ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ูุชุดุบูู Quartus Prime.  ุฏุนูุง ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุฏููู ุชุซุจูุช Quartus ูู <i>/home/user/intelFPGA/16.1/quartus/</i> . <br><br>  ุชุดุบูู Quartus Prime ุ ุงูููุฌูุฏ ูู <i>/home/user/intelFPGA/16.1/quartus/bin/quartus</i> ุ ููู ุฃุฏุงุฉ ูุณุงุนุฏุฉ ูุจุฑูุฌ JTAG ุ ููุฌูุฏุฉ ูู / <i>home/user/intelFPGA/16.1/qprogrammer/bin/quartus_pgmw</i> . <br><br>  3. ุชูุตูู SoCkit <br><br>  3.1.  ูู ุจุชูุตูู ููุญุฉ SoCkit ุจููุจููุชุฑ.  ูู ุจุชูุตูู ูุจูุงุช microUSB ุจููุงูุฐ ุงูููุญุฉ ุ ุงููุณูู "USB Blaster (JTAG)" ู "USB to UART". <br><br>  3.2.  ูู ุจุชุดุบูู ุงูููุญุฉ ูุฃุฏุฎู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ ls /dev/bus/usb/001 001 002 003</code> </pre> <br><br>  ุงูุฑูู ุงูุฃุฎูุฑ (003) ูู ูุงุฌูุฉ JTAG.  ุชุนููู ุฃุฐููุงุช ูููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"> $ sudo chmod 666 /dev/bus/usb/001/003</code> </pre> <br><br>  ุนููู ุฃู ุชูุนู ุฐูู ูู ูู ูุฑุฉ ุชููู ูููุง ุจุชุดุบูู ุงูููุญุฉ. <br><br>  3.3.  ุฅุนุฏุงุฏุงุช ูุญุทุฉ TTY <br><br>  ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ: <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">screen /dev/ttyUSB0 115200</code> </pre> <br><br>  4. ุจูุงุก ุงูุชุญููู ุงููุณุจู (u-boot-spl) <br><br>  4.1.  ูู ุจุชูุฒูู ุงูููู <i>sockit_ghrd_16.0.tar.gz</i> ููู ุจูู <i>ุถุบุทู</i> .  ุนูู ุณุจูู ุงููุซุงู ุ ูู <i>ุจูููุง</i> ุฅูู <i>/ home / user / ghrd-16 / sockit_ghrd</i> . <br><br>  4.2.  ูู ุจุชุดุบูู Quartus Prime ูุงูุชุญ ุงูููู <i>/home/user/ghrd-16/sockit_ghrd/soc_system.qpf.</i> <br><br>  4.3.  ุชุดุบูู Qsys (ุฃุฏูุงุช / Qsys).  ุงูุชุญ <i>ุงูููู / home/user/ghrd-16/sockit_ghrd/soc_system.qsys.</i>  ูู <i>ุชูููุฏ / ุชูููุฏ HDL</i> ูุฅููุงุก Qsys. <br><br>  4.4.  ุชุดุบูู ูุฌูุน ูู Quartus ุจุฑุงูู. <br><br>  4.5.  ุชุดุบูู bsp-editor: <i>/home/user/intelFPGA/16.1/embedded/host_tools/altera/preloadergen/bsp-editor</i> .  ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ: ููู / ุฌุฏูุฏ HPS BSP.  ูู ุงูุญูู " <i>ุฏููู ุฅุนุฏุงุฏ Preloader</i> " ุงููุชุงุจุฉ " <i>/ home / user / ghrd-16 / sockit_ghrd / hps_isw_handoff / soc_system_hps_0.</i> " <br><br>  4.6.  ุฅุนุฏุงุฏ Preloader.  ุงูุชูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ ุฎูุงุฑุงุช ูุชูุฏูุฉ.  ุฃุบูู <i>Watchdog_enable</i> .  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฑุคูุฉ ุฑุณุงุฆู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุฎูุงู JTAG ุ ูููููู ุชุดุบูู <i>Semihosting</i> .  ุจุนุฏ ูุฐุง ุงุถุบุท <i>ุฅูุดุงุก</i> ูุฅููุงุก. <br><br>  4.7.  ูู ุงููููู ุชุบููุฑ ุฑุณุงูุฉ ุจุฏุก ุงูุชุดุบูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุฑูุงูุฌ ุงูููู / spl_bsp / uboot-socfpga / board / altera / socfpga / socfpga_cyclone5.c ุ ูู ุจุชุบููุฑ ุงูุณูุณูุฉ " <i>BOARD: Altera SOCFPGA Cyclone V Board</i> " ุนูู ูุชู ุขุฎุฑ: <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Print Board information */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkboard</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> CONFIG_SOCFPGA_VIRTUAL_TARGET puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"BOARD : Altera VTDEV5XS1 Virtual Board\n"</span></span></span><span class="hljs-meta">); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//puts("BOARD : Altera SOCFPGA Cyclone V Board\n"); puts("ARM preloader build by 32-bit.me\n"); #endif return 0; }</span></span></span></span></code> </pre> <br><br>  4.8.  ูุฌุจ ุถุจุท ูุชุบูุฑ ุงูุจูุฆุฉ SOCEDS_DEST_ROOT ุนูู / <i>home</i> / <i>user</i> / <i>intelFPGA</i> / <i>16.1</i> / <i>embedded</i> : <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> SOCEDS_DEST_ROOT=/home/user/intelFPGA/16.1/embedded</code> </pre> <br>  ุงุฐูุจ ุงูุขู ุฅูู ุงูุฏููู <pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/home/user/ghrd-16/sockit_ghrd/software/spl_bsp</code> </pre>  ูุงูููุงู ุจูุง.  Make ูููู ุฃู ุชูุดู ูุน ูุฌูุฏ ุฎุทุฃ "make: mkpimage: ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุฃูุฑ" ุ ูููู ูุฌุจ ุฃู ุชููู ุจุฅูุดุงุก ููู <i>u-boot-spl</i> ูู ุงููุณุงุฑ <i>/ ุงูููุฒู / ุงููุณุชุฎุฏู / ghrd-16 / sockit_ghrd / software / spl_bsp / uboot-socfpga / spl / ุด ุงูุชูููุฏ</i> . <br><br>  4.9.  ุงุฎุชุจุงุฑ ุงูุชุญููู ุงููุณุจู <br><br>  4.9.1.  ูุง ุชุญุชุงุฌ ุฅูู ุตูุฑุฉ FPGA (ุงูุชู ุชุญุชูู ุนูู ููุญู ".sof") ูุชุดุบูู ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู.  ูู ุจุชุดุบูู DS-5 ุ ูุงูุชุญ "ุชููููุงุช ุชุดุบูู / ุชุตุญูุญ". <br><br>  4.9.2.  ูู ุงูุญูู ุ ูุฌุจ ุถุจุท ุงูุงุชุตุงู ุนูู <i>CV SoCKit 1-1</i> .  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ูุงุถุบุท ุนูู ุงูุฒุฑ "ุงุณุชุนุฑุงุถ" ูุงุถุจุท ูุฐุง ุงูุฎูุงุฑ.  ุฅุฐุง ุธูุฑ ุฎุทุฃ ุ ูุงูุนู 3.1-3.2. <br><br>  4.9.3.  ูู ุจุชุนููู ุงูููู <i>u-boot-spl</i> ูู ุนูุงูุฉ ุงูุชุจููุจ "ุงููููุงุช" ุ ูู ุญูู "ุงูุชุทุจูู ุนูู ุงููุถูู ููุชูุฒูู": / home / user / ghrd-16 / sockit_ghrd / software / spl_bsp / uboot-socfpga / spl / u-boot-spl .  ุงุถุจุท ุงูุนูุงูุฉ "ุชุญููู ุงูุฑููุฒ".  ุชุจูู ุญูู "ุงููููุงุช" ูุงุฑุบูุง. <br><br>  4.9.4.  ูู ุจุฅููุงู ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุนูุงูุฉ ุงูุชุจููุจ ุชุตุญูุญ ุงูุฃุฎุทุงุก. <br><br>  4.9.5.  ุชุดุบูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูุทุฑููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ <i>ุงูุดุงุดุฉ</i> ) ูุงุถุบุท ุนูู ุงูุฒุฑ "ุชุตุญูุญ".  ูุชู ุชุญููู ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู ูู ุงูุฐุงูุฑุฉ ููููู ูุตุญุญ ุงูุฃุฎุทุงุก ุฌุงูุฒูุง ููุชุดุบูู.  ุงุถุบุท ุนูู ุฒุฑ "ูุชุงุจุนุฉ" (ุฃู F8) ูุงูุธุฑ ุงูุฑุณุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">U-Boot SPL 2013.01.01 (Jun 24 2017 - 19:49:33) ARM preloader build by 32-bit.me CLOCK: EOSC1 clock 25000 KHz CLOCK: EOSC2 clock 25000 KHz CLOCK: F2S_SDR_REF clock 0 KHz CLOCK: F2S_PER_REF clock 0 KHz CLOCK: MPU clock 925 MHz CLOCK: DDR clock 400 MHz CLOCK: UART clock 100000 KHz CLOCK: MMC clock 50000 KHz CLOCK: QSPI clock 370000 KHz RESET: COLD SDRAM: Initializing MMR registers SDRAM: Calibrating PHY SEQ.C: Preparing to start memory calibration SEQ.C: CALIBRATION PASSED SDRAM: 1024 MiB ALTERA DWMMC: 0 Card did not respond to voltage select! spl: mmc init failed: err - -17 <span class="hljs-comment"><span class="hljs-comment">### ERROR ### Please RESET the board ###</span></span></code> </pre><br><br>  ููุฐุง ูุนูู ุฃู ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู ูุฏ ุจุฏุฃ ุจูุฌุงุญ. <br><br>  4.9.6.  ุจุนุฏ ุชุตุญูุญ ุฃุฎุทุงุก ุงูุฌูุณุฉ ุ ุงุถุบุท ุนูู "ูุทุน ุงูุงุชุตุงู ุนู ุงููุฏู" ู "ุฅุฒุงูุฉ ุงูุงุชุตุงู". <br><br>  5. ุงูุชุจ Hello World ููุถุน ุงูุนุงุฑูุฉ. <br><br>  5.1.  ูู ุจุชูุฒูู ุงููุดุฑูุน ArrowSocKit_BareMetal_GNU.zip.  ุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุง ูู 2.1. ุ ูู ุจุชุดุบูู DS-5 ุ ูู ุจุงุณุชูุฑุงุฏ ุงููุดุฑูุน ูู ุงูุฃุฑุดูู ( <i>ููู / ุงุณุชูุฑุงุฏ / ูุดุฑูุน ููุฌูุฏ ูู ูุณุงุญุฉ ุงูุนูู</i> ุ <i>ุญุฏุฏ ููู ุฃุฑุดููู</i> ).  ูุธูุฑ ุงููุดุฑูุน ุงูุฐู ุชู ูู ุญุฒูู ูู ุงูุฏููู / home / user / DS-5-Workspace / BareMetalBoot-GNU. <br><br>  5.2.  ููููู ูุญุงููุฉ ุจูุงุก ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู ุ ูููู ูุง ูููู ุจูุงุกู ุจุนุฏ.  ูุจูุงุก ุงููุดุฑูุน ุ ูู ุจูุง ููู. <br><br>  5.3.  ุงูุณุฎ ุงูุฏููู <i>/ home/user/</i> <i>intelFPGA</i> <i>/</i> <i>16.1</i> <i>/</i> <i>embedded</i> <i>/</i> <i>ip</i> <i>/</i> <i>altera</i> <i>/</i> <i>hps</i> <i>/</i> <i>altera_hps</i> <i>/</i> <i>hwlib</i> ุฅูู <i>/ home / user / DS-5-Workspace /</i> .  ูููุง ููู ูุฌูุฏุงุช <i>src</i> <i>ูุชุถููููุง</i> ุ ููู ูู ูููุง ุชูุฌุฏ <i>ุฃุฏูุฉ soc_cv_av</i> ู <i>soc_a10</i> .  ููููู ุฅุฒุงูุฉ ุงูุฏูุงุฆู ุงููุณูุงุฉ <i>soc_a10</i> .  ุซู ุงูุณุฎ ุงููููุงุช libcs3.a ู libcs3arm.a ู libcs3unhosted.a ูู <i>/home/user/intelFPGA/16.1/embedded/host_tools/mentor/gnu/arm/baremetal/arm-altera-eabi/lib.</i>  ุฅูู ุฏููู ุงููุดุฑูุน (/ home / user / DS-5-Workspace / BareMetalBoot-GNU).  ุงูุณุฎ ููู arm-names.inc ูู <i>/ home/user/</i> <i>intelFPGA</i> <i>/</i> <i>16.1</i> <i>/</i> <i>embedded</i> <i>/</i> <i>host_tools</i> <i>/</i> <i>mentor</i> <i>/</i> <i>gnu</i> <i>/</i> <i>arm</i> <i>/</i> <i>baremetal</i> <i>/</i> <i>arm-altera-eabi</i> <i>/</i> <i>lib</i> <i>/</i> <i>cortex-a9</i> <i>/</i> ุฅูู <i>/ home / user / DS- 5 ูุณุงุญุฉ ุงูุนูู / BareMetalBoot-GNU /</i> . <br><br>  5.4.  ูู Makefile ุชุบููุฑ "CROSS_COMPILE: = arm-none-eabi-" ุฅูู "CROSS_COMPILE: = arm-altera-eabi-".  ูู ุฃูุถูุง ุจุชุบููุฑ ุงููุณุงุฑ ุฅูู <code>hlib</code> : HWLIBS_ROOT: = / home / user / DS-5-Workspace / hwlib <br><br>  5.5.  ุงูุขู ุชุดุบูู <code>make</code> .  ููุฑุงุกุฉ ุฌููุน ุฑุณุงุฆู ุงูุฎุทุฃ.  ุฅุฐุง ุชุนุฐุฑ ุนูู <code>make</code> ุงูุนุซูุฑ ุนูู ุจุนุถ ุงูุฑููุฒ ุ ููุฌุจ ุฃู ุชุฌุฏูุง ูู ุงูุฏูุงุฆู hwlib / src / soc_cv_av ู hwlib / include / soc_cv_av ุ ูุนูู ูุณุฎุฉ ูู hwlib / src ู hwlib / include ูู ุงูููุงุจู.  ุจุนุฏ ุฃู ุชุฌุฏ ูู ุงููุณูุฑ ุ ูุตุจุญ ุงูุฎุทุฃ "mkimage: not found" ูุน ุงูุฎุทุฃ ุ ูููู ูุฐุง ููุณ ููููุง ุ ูุฃููุง ูุญุชุงุฌ ุฅูู ููู <i>test.axf</i> ููุท. <br><br>  5.6.  ุชุดุบูู ุชุทุจูู <br><br>  5.6.1.  ูุชุดุบูู ุฃุญุฏ ุงูุชุทุจููุงุช ุ ูู ุงูุถุฑูุฑู ุชุญููู ุตูุฑุฉ FPGA (ููู .sof) ุ ูุงูุชู ุชู ุฅูุดุงุคูุง ุนูุฏูุง ุฃูุดุฃูุง ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู.  ุชุดุบูู ุงููุจุฑูุฌ ููุง ูุนููุง ูู 2.1.  ูุฌุจ ุฃู ูููู ููุงู ูุต "CV SoCit [1-1]" ุนูู ูููู ุฃุณูู "ุฅุนุฏุงุฏ ุงูุฃุฌูุฒุฉ".  ุฅุฐุง ูู ููู ููุงู ุ ููุฌุจ ุนููู ุชุนููู ุฅุฐู ุงููุชุงุจุฉ ููููุฐ JTAG (ุงูุธุฑ ุฃุนูุงู) ูุงูููุฑ ููู ุงูุฒุฑ "ุฅุนุฏุงุฏ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ". <br><br>  5.6.2.  ุงููุฑ ููู "ุงููุดู ุงูุชููุงุฆู" ูุญุฏุฏ ุฎูุงุฑูุง ุงุนุชุจุงุทููุง ูู ุงููุงุฆูุฉ.  ุชุดุงูุฏ ุชูููู ุฌูุงุฒูู: ุงูุฃูู ูู ูุง ุญุฏุฏุชู (ุนูู ุณุจูู ุงููุซุงู ุ 5CSEBA6) ูุงูุซุงูู ูู SOCVHPS.  ุฃุฒู ุงูุฌูุงุฒ ุงูุฃูู: ุญุฏุฏู ูุงุถุบุท ุนูู ุญุฐู.  ุงุถุบุท ุนูู "ุฅุถุงูุฉ ููู" ูุงูุชุญ ููู ุงูุตูุฑุฉ (/home/user/ghrd-16/sockit_ghrd/output_files/soc_system.sof).  ุธูุฑ ุฌูุงุฒ ุฌุฏูุฏ ุนูู ูููู SOCVHPS.  ุญุฑูู ุจุงููุงูุณ ุฅูู ุงูููุงู ุงูุฃูู ูู ุงูุณูุณูุฉ.  ุจุนุฏ ุฐูู ุ ุงุถุบุท ุนูู "ุงุจุฏุฃ" ูุญูููู ุงูุตูุฑุฉ. <br><br>  5.6.3.  ูู DS-5 ุงูุชุญ "ุชูููู ุงูุชุตุญูุญ" ูู ุนูุงูุฉ ุงูุชุจููุจ "ุงููููุงุช".  ูู ุจุชุนููู ุงูููู <i>u-boot-spl</i> ุนูู ุงูุณุทุฑ "ุงูุชุทุจูู ุนูู ุงููุถูู ููุชูุฒูู".  ุฃุฒู ุนูุงูุฉ ูู "ุชุญููู ุงูุฑููุฒ".  ูู ุจุชุนููู ุงูููู "test.axf" ูู ุงูุณุทุฑ "ุงููููุงุช".  ูู ุนูุงูุฉ ุงูุชุจููุจ "ูุตุญุญ ุงูุฃุฎุทุงุก" ุชุญูู ูู "ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ููุตุญุญ ุชููุฆุฉ ุงูุชููุฆุฉ ุงููุฏู" ููู ุจุชุนููู ููู ุงูุจุฑูุงูุฌ ุงููุตู "debug-unhosted.ds" ุ ุงูููุฌูุฏ ูู ุฏููู ุงููุดุฑูุน th.  ูู ุงูููู ุ ูู ุจุชุญุฑูุฑ ุงููุณุงุฑ ุฅูู ุฃุฏุงุฉ ุงูุชุญููู ุงููุณุจู: <br> <code># Load the SPL preloader into memory. <br> # <br> loadfile "/home/user/ghrd-16/sockit_ghrd/software/spl_bsp/uboot-socfpga/spl/u-boot-spl" 0x0 <br></code> <br><br>  ูู ุจุชุดุบูู <i>ุดุงุดุฉ</i> ูุญุทุฉ TTY ูุงุถุบุท ุนูู Debug.  ุจุนุฏ ุฐูู ุณูุจุฏุฃ ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู ุ ูุณูุชู ุชุญููู ุงูุชุทุจูู ุ ูุณูุชู ุชุนููู ูุตุญุญ ุงูุฃุฎุทุงุก ูู ููุทุฉ ุจุฏุงูุฉ ุงูุจุฑูุงูุฌ.  ุงุถุบุท ุนูู ุฒุฑ "ูุชุงุจุนุฉ".  ูู ูุงูุฐุฉ ูู ุงููุญุทุฉ ุงูุทุฑููุฉ ุ ุณุชุฑู ูุฎุฑุฌ ุจุฑูุงูุฌ ุงูุชุญููู ุงููุณุจู ุ ููุง ูู ููุถุญ ุฃุนูุงู ุ ุซู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Disabled interrupts because preloader enabled ECC interrupts. Global Timer value at startup = 0x000000005A10B609 CPU frequency is 925000000 hertz. DDR frequency is 400000000 hertz. MPU peripheral frequency is 231250000 hertz. MB ZERO remapped to SDRAM. L3 interconnect remapped as inaccessible and SDRAM. Interrupt controller system API initialized. MMU initialized and enabled. L1 and L2 cache system initialized and enabled. GIC interrupts enabled. PIT started. PIT interrupt registered and enabled. GPIOs initialized. UART0 initialized. L3 interconnect remapped as accessible and SDRAM. Bridges initialized. Boot completed. Boot milestones: New buffer !ESTONE : GT TICKCOUNT : INCREMENTAL : CUMULATIVE initial GT : 0x000000005A10B609 : 0.000us : 0.000us frequency capture : 0x000000005A119D58 : 256.065us : 256.065us initial remapping : 0x000000005A11C936 : 48.562us : 304.627us interrupt sys init : 0x000000005A139FED : 521.094us : 825.721us mmu init : 0x000000005A62D774 : 22449.985us : 23275.706us cache init : 0x000000005A65CF96 : 841.488us : 24117.194us interrupts enabled : 0x000000005A65D0D7 : 1.388us : 24118.582us pit start : 0x000000005A65DD2E : 13.661us : 24132.242us pit enabled : 0x000000005A65DF67 : 2.461us : 24134.703us gpio init : 0x000000005A65FC12 : 31.736us : 24166.439us uart0 init : 0x000000005A66084D : 13.539us : 24179.978us fpga config : 0x0000000000000000 : 79769704095969360.000us : 79769704095993552.000us last remapping : 0x000000005A660981 : 6558428.303us : 24181.310us bridge init : 0x000000005A6611B6 : 9.085us : 24190.396us complete : 0x000000005A661222 : 0.467us : 24190.863us Hello world, 32bit-me!</code> </pre> <br><br>  ุชูุงูููุง!  ููุฏ ููุช ููุชู ุจุชุดุบูู ุฃูู ุชุทุจูู ูุนุฏูู ูู ุนูู ูุธุงู Cortex-A9. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar463717/">https://habr.com/ru/post/ar463717/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar463701/index.html">ุงูุขุซุงุฑ: ููููุง N900 - ูุงุชู ูุฎุชูู</a></li>
<li><a href="../ar463703/index.html">7 ูุคุดุฑุงุช ููุฎุงุทุฑ Active Directory ุงูุฑุฆูุณูุฉ ูู ููุญุฉ ุงูููุงุฏุฉ Varonis</a></li>
<li><a href="../ar463707/index.html">ุญูุซ ุชุบูุฑูุง ุงูุชูููููุฌูุง ุงูุบุงูุฑุฉ</a></li>
<li><a href="../ar463709/index.html">ุฃูุถู 12 ุงุจุชูุงุฑุงุช DJI Osmo Mobile 3</a></li>
<li><a href="../ar463711/index.html">ููููุฉ ุฌุนู ุงูููุธููู ูุชุนูููู ุงูุนูู ูู ุฃูุธูุฉ ุฌุฏูุฏุฉ ุจุฃููุณูู</a></li>
<li><a href="../ar463719/index.html">ุฃุฏูุงุช ุฃุณุงููุจ ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน (ุงูุฌุฒุก 2)</a></li>
<li><a href="../ar463725/index.html">ุชุงููุฉ ููููุง ุงููุฑุญ # 9: ุชุทุจููุงุช ูุญุฏุฉ ุงูุชุญูู ูุน ุงููุฌู ุงูุฅูุณุงูู</a></li>
<li><a href="../ar463727/index.html">ููููุฉ ุงููุตูู ุฅูู ุฃุนูู Google ูู ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจู / ุงูููุงูุงุช ุงููุชุญุฏุฉ ูู ูุฌุงู ุงูุชุทููุฑ ูุงูุจุญุซ ุนู ุนููุงุก ูุฏููู ููุฒุงููุงุช ูุจูุฑุฉ</a></li>
<li><a href="../ar463729/index.html">ููุงุก ูุน ูุคุณุณ NSTR ูููุชูุฑ ุชุดุฑููููู</a></li>
<li><a href="../ar463733/index.html">ุดุจูุฉ VS WiFi: ูุงุฐุง ุชุฎุชุงุฑ ููุดุจูุงุช ุงููุงุณูููุฉุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>