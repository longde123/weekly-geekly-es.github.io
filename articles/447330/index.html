<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🎤 🍴 🤶🏿 Era de noche, no había nada que hacer o cómo instalar Gentoo sin un teclado 🐮 👸🏾 🤾🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una historia humorística basada en hechos reales. 





 Fue una tarde aburrida. Mi esposa no está en casa, se acabó el alcohol, DotA no está conectad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Era de noche, no había nada que hacer o cómo instalar Gentoo sin un teclado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447330/"><p>  <i>Una historia humorística basada en hechos reales.</i> </p><br><p><img src="https://habrastorage.org/webt/3w/qm/rs/3wqmrsuo0rbna6-uptn-ps4suqa.jpeg" alt="Instalar gentoo"></p><br><p>  Fue una tarde aburrida.  Mi esposa no está en casa, se acabó el alcohol, DotA no está conectado.  ¿Qué hacer en esta situación?  Por supuesto, colecciona Gentoo !!! </p><br><p>  ¡Entonces comencemos! </p><a name="habracut"></a><br><p>  <b>Dado: un</b> servidor antiguo con 2 Gb de RAM, AMD Athlon Dual, dos discos duros de 250 Gb, uno de ellos tiene un sistema y una batería BIOS que no funciona.  También Sony Bravia TV con entrada VGA y mouse.  Además de un enrutador Wi-Fi y una computadora portátil que funcione con Manjaro Arch Linux y el entorno i3. </p><br><p>  <b>Requiere:</b> instalar Gentoo. </p><br><p>  <b>Día 1</b> </p><br><p>  <b>21:00</b> Salgo del armario un viejo servachek polvoriento.  A partir de ahí, recibo una caja con cables y otros trastos y una vieja tele (un armario en el pasillo es grande, todo encaja exactamente allí).  Revuelvo en una caja, desenredo los cables, obtengo un cable de conexión, un cable VGA, un mouse, un cable de alimentación y un juego de destornilladores (de repente lo necesito). </p><br><p>  <b>21:15</b> Comienzo a mirar todo esto y reflexionar sobre la pregunta: "¿Cómo hacer esto?"  Después de todo, el atributo principal para instalar Gentoo: el teclado, ¡no lo tenía! </p><br><p>  <b>21:20</b> Creo, “¿Pero qué pasa si quitas el tornillo del servidor, lo enchufas al puerto usb y despliegas el sistema en él?  No kosher, es necesario recopilar el núcleo en el mismo hardware ... ".  Mientras pensaba en esta opción, logré sacar el tornillo y colocarlo en el soporte, pero cuando giré el último tornillo en la caja, ¡decidí que no funcionaría! </p><br><p>  <b>21:30</b> Desenrosque los tornillos, coloque el tornillo en su lugar en el servidor.  Reflexiono más: “Solo hay una opción: acceso SSH.  ¿Quizás hay tal LiveUSB con sshd ya ejecutándose? </p><br><p>  <b>21:35 Voy</b> al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio web oficial de Gentoo</a> .  Estoy descargando el hábito "CD de instalación mínima".  Lo cancelo  Sin un teclado, ¡es un número muerto!  A continuación se muestra un enlace a la ISO híbrida (LiveDVD).  Sí, creo, ¡ahí está todo!  Lo descargo y lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">implemento en una unidad flash USB</a> . </p><br><p>  <b>21:50</b> Llevo el servidor, la tele, los cables y el mouse de la cocina, donde se desarrollaron mis pensamientos y preparativos, a una habitación lejana en la esquina.  El servidor es ruidoso como una aspiradora industrial, ¡así que el policía definitivamente vendría a visitarnos!  Todos se conectaron y arrancaron el auto. </p><br><p>  <b>22:00 ¡</b> El sistema operativo anterior se está cargando!  Apago el servidor y empiezo a pensar: "La batería está agotada, no es necesario que acceda al BIOS (no hay teclado), ¡pero debe arrancar desde la unidad flash a toda costa!"  Desarmo el servidor, apago un tornillo.  Estoy empezando  ¡El sistema operativo anterior se está cargando!  Vuelva a encender el tornillo, apague el otro!  Funciona! </p><br><p>  <b>22:10 ¡</b> Y aquí está la pantalla tan esperada para elegir la opción de arranque desde LiveUSB!  El tiempo restante hasta que se ejecute la selección automática de la primera opción de arranque, "Ahora todo será, solo tienes que esperar un poco", ¡me alegro!  Pasan los atesorados 30 segundos, la pantalla se queda en blanco y no pasa nada.  "Está bien, mientras estoy cargando, voy a fumar ...", decidió tomar un descanso y tomar un descanso de este ruido. </p><br><p>  <b>22:15 Estoy</b> volviendo a la "sala de ruido".  ¡La pantalla es negra y tampoco pasa nada!  "Extraño ...", pensé, "¡En cualquier caso, ya se habría cargado!".  Por cierto, todo se ve agravado por el hecho de que mi televisión no siempre muestra lo que está sucediendo en la pantalla, no percibe algunos modos y se niega a transmitir una imagen de lo que está sucediendo ... Reinicio el servidor.  Estoy sentado, mirando ... De nuevo, una pantalla negra, de todos modos.  Bueno, me asusté y comencé a presionar los botones del mouse ... Y, oh Dios, se encendió y la descarga se fue.  Más tarde, descubrí que la descarga continúa solo después de hacer clic en el pequeño botón de este mouse milagroso.  No seas este botón, ¡Dios sabe cómo terminaría esta noche!  Después de todo, el objetivo está establecido, ¡y debemos lograrlo de cualquier manera! <br><br></p><div class="spoiler">  <b class="spoiler_title">Foto del ratón</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/a_/7s/ip/a_7sip3elz7_mefafsfyviemfdo.jpeg" alt="el raton"></div></div><br><p>  <b>22:20</b> Suena en mis oídos, ¡pero sigo avanzando hacia mi meta!  Gentoo ha arrancado!  ¡Los colores son agradables a la vista!  ¡Un ratón camina por la pantalla!  Y debajo dice "No se necesita contraseña para iniciar sesión", ¡esto es bueno, porque no tengo un teclado!  Hay dos campos en la pantalla: la elección del entorno de trabajo y la contraseña, bueno, y el botón de inicio de sesión.  LiveDVD de Gentoo ofrece una selección bastante amplia de entornos, incluidos Fluxbox, Openbox, rata (xfce), plasma, etc.  Opción con la opción de "rata", me pareció, una gran elección!  Entro en el ambiente de trabajo de la "rata".  Genial  Hay un terminal, pero ¿por qué lo necesito? ¡No tengo teclado! <br><br></p><div class="spoiler">  <b class="spoiler_title">Pantalla de inicio de sesión</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/37/f2/-z/37f2-ztfk37073tz0wjxidonmv8.jpeg" alt="Pantalla de inicio de sesión"><img src="https://habrastorage.org/webt/n4/7b/tq/n47btq6mm-fwpqhzlxgfhlr7fus.jpeg" alt="Elección del entorno"></div></div><br><p>  <b>22:25</b> Estoy empezando a buscar algún tipo de teclado en pantalla o algo así.  Encontrado solo "Mapa de caracteres".  "Bueno, genial, ¡aquí está mi salida!", Pensé.  Pero ahí estaba!  Puede pegar el texto, copiar, pegar, pero ¿cómo presionar <b>Entrar</b> ?  Permítame recordarle que la tarea es iniciar sshd, que se reduce a escribir en el terminal " <i>sudo /etc/init.d/sshd start</i> " y presionar el botón <b>Enter</b> , que no tengo.  Que hacer  Pero hay un camino! </p><br><p>  <b>22:30 Tiempo de</b> descanso del ruido.  Voy a la cocina y me siento en la computadora portátil.  Cualquier terminal, si pega el texto copiado con un avance de línea, ejecutará el comando, porque  percibir el avance de línea como <b>Enter</b> .  Entonces, la solución se encuentra!  Debe cargar la página HTML con el comando y el avance de línea a Internet.  Es HTML, porque, un simple archivo de texto que el navegador abrirá en una línea, "devorando" todas las transiciones a una nueva línea.  Entonces mi página se ve así: <br><br></p><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span>sudo /etc/init.d/sshd start<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Se necesita "1" para que pueda copiar la transición a una nueva línea, de lo contrario solo se copia una línea, cuántos "br" no se configuran.  Subo el archivo a un sitio determinado utilizando el enlace " <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mydomen.ru/1.htm</a></i> ". <br><p>  <b>22:40 Estoy</b> volviendo a la "sala de ruido".  ¡Lo principal es tener tiempo para volver antes de encender el protector de pantalla, que cuando salga dice que no permitirá que la versión anterior vuelva al sistema con una contraseña vacía!  ¡Abro con anticipación de éxito el navegador y la tabla de símbolos!  Estoy escribiendo " <i>mydomain</i> ".  Buscando un punto ... </p><br><p>  <b>22:50 ¡</b> Encontró un punto!  Debe seleccionar el modo de visualización "Por bloque Unicode".  Marqué más la dirección, ¡el beneficio de "/" y los números se encontraron con un punto!  Copio el texto, lo pego en la barra de direcciones y hago clic en Ir.  Debido a la batería agotada del BIOS, el tiempo en el sistema se establece en "01.01.2002", ¡y en estas condiciones los certificados SSL no funcionan! <br><br></p><div class="spoiler">  <b class="spoiler_title">Tabla de personajes</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/rr/7v/53/rr7v53bmdkemyj5ysl2e9zi5zla.jpeg" alt="Menú del modo de visualización"><img src="https://habrastorage.org/webt/tz/id/mn/tzidmnqlvvmxwv-zvl5xvkh5fzi.jpeg" alt="Tabla de personajes"></div></div><br><p>  <b>23:00</b> Estoy en la cocina, descansando del ruido.  ¡Lo principal es no descansar por mucho tiempo, de lo contrario el protector de pantalla se encenderá!  Configuro NGINX para cargar mi archivo sin HTTPS a la dirección " <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mydomain.ru/2.htm</a></i> ", porque  la dirección anterior fue redirigida y almacenada en caché por el navegador. </p><br><p>  <b>23:05</b> Descansando un poco del ruido y anticipando el éxito, vuelvo a llenar el enlace porque el botón <b>Retroceso</b> no se puede emular.  Bueno, esto es para reír, pero de hecho solo presiono la tabla de símbolos "2", selecciono, copio y reemplazo en la barra de direcciones.  Ir!  "¡En serio!", Pensé.  Con orgullo, copié dos líneas de la página y la puse en la terminal.  El servidor SSH se está ejecutando, ¡es hora de intentar conectarse mirando la dirección IP en la interfaz de administración basada en web en un enrutador Wi-Fi!  En realidad, no, ¡es muy temprano!  Es una pena, no entendí esto de inmediato ... </p><br><p>  <b>23:15</b> Regreso al "mouse", agregando una línea a esto <br><br></p><pre> <code class="xml hljs">sudo passwd<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>123<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1</code> </pre> <br>  y actualizar el archivo HTML en el servidor.  Afortunadamente, nada más para entrar!  Estoy actualizando la página.  Bueno, de acuerdo con el esquema anterior, copio las líneas al terminal para ejecutar " <i>sudo passwd</i> " y por separado dos veces para ingresar y repetir la contraseña. <br><p>  <b>23:17</b> Conectado!  ¡Ahora no tengo miedo al salvapantallas y al ruido! </p><br><p>  <b>01:00</b> Sobre el proceso por el que pasé desde el momento en que se estableció la conexión ssh y hasta ahora hay una descripción detallada en muchas fuentes, la más completa se presenta en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Manual de Gentoo</a> .  Compilé el núcleo, instalé grub y el núcleo ensamblado en él.  Configure la red y SSH en el nuevo sistema.  Listo, <i>reiniciar</i> ! </p><br><p>  <b>Día 2 - día libre</b> </p><br><p>  <b>10:00</b> Regresé a mi tarea.  Encendido el servidor.  ¡No sucede nada en la pantalla, no hay servidor en la red!  Pensamiento en problemas de red.  Después de arrancar desde LiveDVD, configuré la red, pero no ayudó ... </p><div class="spoiler">  <b class="spoiler_title">Al iniciar el servidor, en mi viejo televisor</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bv/m-/0i/bvm-0iobgk9n1q3tpvrmkhryaw0.jpeg" alt="imagen"></div></div><br><p>  <b>10:30</b> Decidí que sería bueno estudiar los registros de descarga.  ¡No hay registros!  "Sí, ¡entonces no llegó a cargar el sistema!  Pero, ¿qué está escrito en la pantalla? Pensé.  Habiendo pensado un poco sobre las razones por las cuales la televisión no muestra nada, presenta la hipótesis de que no puede mostrar la resolución en la que se encuentra la salida de la consola.  En la pantalla, de hecho, está escrito ... </p><br><p>  <b>11:00</b> Cambié la configuración de GRUB a la salida de 640x480.  Ayudó  Dice "Cargando Linux 4.19.27-gentoo-r1 ...".  Resultó que se equivocó al armar el núcleo. </p><br><p>  <b>11:30</b> Puse genkernel, con el ajuste manual del kernel que experimentaré más tarde.  No establecido!  Resulta una jamba con una cita.  Es mejor actualizarlo en cada inicio, mucho depende de esta fecha.  Lo pondría en el BIOS, pero para esto necesito un teclado ... cambio la fecha a la actual. </p><br><p>  <b>14:00</b> ¡Hurra!  ¡El núcleo se ha compilado!  Rellenó el núcleo en el gestor de arranque, reinició.  Finalmente funcionó! </p><br><p>  ¡Se alcanza el primer objetivo! </p><br><p>  Además, voy a poner el segundo disco duro CentOS también sin el teclado, ¡pero ya desde un caballero!  Pero escribiré sobre esto en la segunda parte.  En la tercera parte, realizaré pruebas de carga de un servidor web con una aplicación simple en ambos sistemas y compararé RPS. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/447330/">https://habr.com/ru/post/447330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447318/index.html">Gadgets de un mercado de pulgas: por qué comprar una laptop Packard Bell de 20 años por 10 euros</a></li>
<li><a href="../447322/index.html">Principios para construir una API REST JSON</a></li>
<li><a href="../447324/index.html">Cómo funciona la computadora dentro de Hayabusa-2, que arrojó una bomba sobre Ryuga. Y fotos de sus desarrolladores.</a></li>
<li><a href="../447326/index.html">Fractales en números irracionales. Parte 2</a></li>
<li><a href="../447328/index.html">Habro suicidio. El dolor de planificar en 1C</a></li>
<li><a href="../447334/index.html">Un ejemplo de una estrategia de contenido para promocionar una tienda de piezas de armas en línea</a></li>
<li><a href="../447336/index.html">Monitoreo de los recursos del clúster de Kubernetes</a></li>
<li><a href="../447338/index.html">Intel 0x7E3 Prácticas de verano en espera de estudiantes</a></li>
<li><a href="../447342/index.html">Pirámides que no son de Marte: estudio de la forma de racimos nanocristalinos bajo una capa de grafeno</a></li>
<li><a href="../447344/index.html">Nuevas funciones en Webmaster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>