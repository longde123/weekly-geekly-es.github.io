<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏼 🤜 💹 Algorithmen zur Optimierung eines Handelsroboters: eine effektive Möglichkeit, eine Million rückwirkend zu handeln 👩🏿‍🎓 👨🏽‍🎓 🈁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich las ein maßgebliches Buch über Handelsstrategien und schrieb meinen Handelsroboter. Zu meiner Überraschung bringt der Roboter nicht Millionen, auc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algorithmen zur Optimierung eines Handelsroboters: eine effektive Möglichkeit, eine Million rückwirkend zu handeln</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430134/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/0v/vh/ii/0vvhii4smuivfp0aktpuibdzmwc.png" alt="Teaser"></a> <br><br>  Ich las ein maßgebliches Buch über Handelsstrategien und schrieb meinen Handelsroboter.  Zu meiner Überraschung bringt der Roboter nicht Millionen, auch wenn er virtuell handelt.  Der Grund liegt auf der Hand: Ein Roboter muss wie ein Rennwagen „abgestimmt“ werden, um Parameter auszuwählen, die an einen bestimmten Markt und einen bestimmten Zeitraum angepasst sind. <br><br>  Da der Roboter über genügend Einstellungen verfügt, werden alle möglichen Kombinationen auf der Suche nach der besten, zu zeitaufwändigen Aufgabe durchlaufen.  Zu einer Zeit, als ich das Optimierungsproblem löste, fand ich keine vernünftige Wahl des Suchalgorithmus für den quasi-optimalen Vektor der Parameter des Handelsroboters.  Daher habe ich beschlossen, mehrere Algorithmen unabhängig voneinander zu vergleichen ... <br><a name="habracut"></a><br><h1>  Kurze Darstellung des Optimierungsproblems </h1><br>  Wir haben einen Handelsalgorithmus.  Eingabedaten - Preisverlauf des Stundenintervalls für 1 Beobachtungsjahr.  Ausgabedaten - P - Gewinn oder Verlust, Skalarwert. <br><br>  Der Handelsalgorithmus hat 4 konfigurierbare Parameter: <br><br><ol><li>  Mf ist die Periode des "schnellen" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gleitenden Durchschnitts</a> , </li><li>  Frau Periode des „langsamen“ gleitenden Durchschnitts </li><li>  T - TakeProfit, das Zielgewinnniveau für jede einzelne Transaktion, </li><li>  S - StopLoss, das Zielverlustniveau für jede einzelne Transaktion. </li></ol><br>  Wir weisen jedem Parameter einen Bereich und einen festen Änderungsschritt zu, insgesamt <b>20</b> Werte für jeden der Parameter. <br><br>  Somit können wir nach dem maximalen Gewinn (P) für einen Parameter in einem Array von Eingabedaten suchen: <br><br><ol><li>  Variieren eines Parameters, zum Beispiel P = f (Ms), Erzeugen von bis zu 20 <abbr title="Inkrementierende Modellzeit, Testroboterhandel anhand der Preisbeobachtungshistorie">Backtests</abbr> , </li><li>  Variieren von zwei Parametern, zum Beispiel P = f (Ms, T), was bis zu 20 * 20 = 400 Backtests ergibt, </li><li>  Variieren von drei Parametern, zum Beispiel P = f (Mf, Ms, T), was bis zu 20 * 20 * 20 = 8.000 Backtests ergibt, </li><li>  Variieren jedes der Parameter, P = f (Mf, Ms, T, S) und Erzeugen von bis zu 20 ^ 4 = 160.000 Backtests. </li></ol><br>  Bei den meisten Handelsalgorithmen dauert es jedoch mehrere Größenordnungen länger, einen einzelnen Test durchzuführen.  Dies führt uns zu der Aufgabe, einen quasi optimalen Parametervektor zu finden, ohne den gesamten Satz möglicher Kombinationen durchlaufen zu müssen. <br><br><div class="spoiler">  <b class="spoiler_title">Details zum Handel und zu Handelsrobotern</b> <div class="spoiler_text">  Handel an der Börse, Wetten im Forex-Handelszentrum, verrückte Wetten auf „binäre Optionen“, Spekulationen mit Kryptowährungen - eine Art „Diagnose“ mit mehreren möglichen Optionen für die Entwicklung der „Krankheit“.  Ein sehr häufiges Szenario ist, wenn ein Spieler nach dem Spielen von „Intuition“ zum automatischen Handel kommt.  Versteh mich nicht falsch, ich möchte den Schwerpunkt nicht so legen, dass "technologisch und mathematisch" rigorose Handelsroboter dem naiven und hilflosen "manuellen" Handel entgegenstehen.  Zum Beispiel bin ich selbst davon überzeugt, dass jeder meiner Versuche, durch Spekulationen, ob diskretionär oder vollautomatisch, Gewinn aus einem effizienten Markt (gelesen aus einem transparenten und liquiden Markt) zu ziehen, a priori zum Scheitern verurteilt ist.  Wenn man vielleicht den Faktor des zufälligen Glücks nicht zulässt. <br><br>  Der Handel und insbesondere der algo (rhythmische) Handel ist jedoch für viele ein beliebtes Hobby.  Einige programmieren Handelsroboter unabhängig voneinander, andere gehen sogar noch weiter und erstellen ihre eigenen Plattformen zum Schreiben, Debuggen und Backtesting von Handelsstrategien, während andere einen vorgefertigten elektronischen „Experten“ herunterladen / kaufen.  Aber auch diejenigen, die keine eigenen Handelsalgorithmen schreiben, sollten eine Vorstellung davon haben, wie sie mit dieser „Black Box“ umgehen sollen, um gemäß der Idee des Autors davon zu profitieren.  Um nicht unbegründet zu sein, gebe ich meine weiteren Beobachtungen am Beispiel einer einfachen Handelsstrategie: <br><br><h2>  Einfacher Handelsroboter </h2><br>  Ein Handelsroboter analysiert die Dynamik des Goldwerts in Dollar pro Feinunze und beschließt, eine bestimmte Menge Gold zu „kaufen“ oder zu „verkaufen“.  Der Einfachheit halber nehmen wir an, dass der Roboter immer mit einer Feinunze handelt. <br><br>  Zum Zeitpunkt des Kaufs betrugen die Kosten für eine Feinunze Gold beispielsweise 1075,00 <abbr title="US-Dollar">USD</abbr> .  Zum Zeitpunkt des anschließenden Verkaufs (Abschluss der Transaktion) stieg der Preis auf 1079,00 USD.  Der Gewinn aus dieser Transaktion betrug 4 USD. <br><br>  Wenn der Roboter Gold zu 1075,00 USD „verkauft“ und anschließend die Transaktion durch „Rückkauf“ von Gold zu einem Preis von 1079 USD abgeschlossen (abgeschlossen) hat, ist der Gewinn aus der Transaktion negativ - minus 4 USD.  Eigentlich spielt es für uns keine Rolle, wie der Roboter Gold verkauft, das er nicht hat, um es später „zurückzukaufen“.  Ein Broker / Handelszentrum ermöglicht es einem Händler, einen Vermögenswert auf die eine oder andere Weise zu „kaufen“ und zu „verkaufen“, wobei er aufgrund der unterschiedlichen Zinssätze verdient (oder häufiger verliert). <br><br>  Wir haben uns für die <b>Eingabedaten</b> für den Roboter entschieden - dies ist in der Tat die Zeitreihe der Goldpreise (Notierungen).  Wenn Sie sagen, dass mein Beispiel zu einfach und nicht wichtig ist, kann ich Ihnen versichern: Die meisten Roboter, die auf dem Markt (und auch die Händler) in ihrem Handel zirkulieren, werden nur von der Preisstatistik der Waren geleitet, mit denen sie handeln.  In jedem Fall gibt es beim Problem der parametrischen Optimierung einer Handelsstrategie keinen grundlegenden Unterschied zwischen einem Roboterhandel auf der Grundlage des Preisvektors und einem Roboter, der auf ein Terabyte-Array von mehrsortierten Marktanalysen zugreift.  Die Hauptsache ist, dass beide Roboter anhand historischer Daten getestet werden können (sollten) können.  Algorithmen müssen bestimmt werden: Das heißt, bei denselben Eingabedaten (Modellzeit, falls erforderlich, können wir sie auch als Parameter verwenden) sollte der Handelsroboter dasselbe Ergebnis anzeigen. </div></div><br>  Weitere Details zum Handelsroboter finden Sie im folgenden Spoiler: <br><br><div class="spoiler">  <b class="spoiler_title">Roboter-Handelsalgorithmus</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/cj/xq/jj/cjxqjjp24rzbsigtgl6qquhfzow.png"><br><br>  Die schwarze (dicke) Kurve auf dem Chart ist die stündliche <abbr title="Feinunze Gold pro US-Dollar">XAUUSD-</abbr> Preismessung.  Zwei dünne gestrichelte Linien, rot und blau - Durchschnittspreiswerte mit Durchschnittsperioden von 5 bzw. 10.  Mit anderen Worten, gleitender Durchschnitt (Moving Average, MA) mit Perioden von 5, 10. Um beispielsweise die Ordinate des letzten (rechten) Punkts der roten Kurve zu berechnen, habe ich den Durchschnitt der letzten 5 Preiswerte genommen.  Somit wird jeder gleitende Durchschnitt nicht nur relativ zur Preiskurve „geglättet“, sondern bleibt auch um die Hälfte seiner Periode relativ dazu zurück. <br><br><h3>  Regel zum Öffnen von Transaktionen </h3><br>  Der Roboter hat eine einfache Regel für eine Kauf- / Verkaufsentscheidung: <br>  - Sobald ein gleitender Durchschnitt mit einer kurzen Periode („schnelle“ <abbr title="Gleitender Durchschnitt">MA</abbr> ) einen gleitenden Durchschnitt mit einer langen Periode („langsame“ MA) von unten nach oben überschreitet, kauft der Roboter einen Vermögenswert (Gold). <br><br>  Sobald der „schnelle“ MA den „langsamen“ MA von oben nach unten kreuzt, verkauft der Roboter den Vermögenswert.  In der obigen Abbildung führt der Roboter 5 Transaktionen durch: 3 Verkäufe zu den Zeitstempeln 7, 31 und 50 und zwei Käufe (Markierungen 16 und 36). <br><br>  Der Roboter darf eine unbegrenzte Anzahl von Transaktionen öffnen.  Zum Beispiel kann der Roboter irgendwann mehrere ausstehende Käufe und Verkäufe gleichzeitig haben. <br><br><h3>  Deal Closing Regel </h3><br>  Der Roboter schließt den Deal ab, sobald: <br><br><ul><li>  Der Gewinn aus der Transaktion überschreitet den in Prozent angegebenen Schwellenwert - TakeProfit, </li><li>  oder der Verlust der Transaktion in Prozent übersteigt den entsprechenden Wert - StopLoss. </li></ul><br>  Angenommen, StopLoss beträgt 0,2%. <br>  Der Deal ist ein "Verkauf" von Gold zu einem Preis von 1061,50. <br>  Sobald der Goldpreis auf 1061,50 + 1061,50 * 0,2% / 100% = 1063,12% steigt, beträgt der Verlust aus dem Geschäft offensichtlich 0,2% und der Roboter schließt das Geschäft automatisch ab. <br><br>  Der Roboter trifft alle Entscheidungen über das Öffnen / Schließen einer Transaktion zu diskreten Zeitpunkten - am Ende jeder Stunde nach Veröffentlichung des nächsten XAUUSD-Angebots. <br><br>  Ja, der Roboter ist extrem einfach.  Gleichzeitig erfüllt es zu 100% die Anforderungen dafür: <br><br><ol><li>  Der Algorithmus ist deterministisch: Jedes Mal, wenn wir die Arbeit des Roboters mit denselben Preisdaten simulieren, erhalten wir dasselbe Ergebnis. </li><li>  hat eine ausreichende Anzahl einstellbarer Parameter, nämlich: die Periode des "schnellen" und die Periode des "langsamen" gleitenden Durchschnitts (natürliche Zahlen), TakeProfit und StopLoss - positive reelle Zahlen, </li><li>  Eine Änderung jedes der 4 Parameter wirkt sich im allgemeinen Fall nichtlinear auf die Handelseigenschaften des Roboters aus, insbesondere auf seine Rentabilität. </li><li>  Die Rentabilität eines Roboters in Bezug auf die Preisentwicklung wird als elementarer Programmcode betrachtet, und die Berechnung selbst dauert für einen Vektor von Tausenden von Anführungszeichen einen Sekundenbruchteil. </li><li>  Schließlich, was jedoch irrelevant ist, wird sich der Roboter mit all seiner Einfachheit in Wirklichkeit als nicht schlechter (wenn auch wahrscheinlich nicht besser) erweisen als der Gral, den der Autor im Internet für eine unbescheidene Menge verkauft. </li></ol><br><h3>  Schnelle Suche nach einem quasi optimalen Satz von Eingabeparametern </h3><br>  Am Beispiel unseres einfachen Roboters ist ersichtlich, dass eine vollständige Aufzählung aller möglichen Vektoren der Robotereinstellungen selbst für 4 variable Parameter zu teuer ist.  Eine offensichtliche Alternative zur umfassenden Suche ist die Auswahl von Parametervektoren für eine bestimmte Strategie.  Wir betrachten nur einen Teil aller möglichen Kombinationen auf der Suche nach der besten, bei der sich die <abbr title="Zielfunktion (Gewinn)">CF</abbr> der höchsten nähert (oder der kleinsten, je nachdem, welche CF wir wählen und welches Ergebnis wir erzielen). <br></div></div><br>  Wir werden drei Suchalgorithmen für den quasi- <abbr title="Zielfunktion (Gewinn)">optimalen</abbr> Wert des <abbr title="Zielfunktion (Gewinn)">digitalen Filters betrachten</abbr> .  Für jeden Algorithmus legen wir ein Limit von 40 Tests fest (von 400 möglichen Kombinationen). <br><br><h1>  Monte-Carlo-Methode </h1><br>  oder eine zufällige Auswahl von M unkorrelierten Vektoren aus der möglichen Anzahl von Sätzen gleich N. Das Verfahren ist wahrscheinlich das einfachste, das möglich ist.  Wir werden es als Ausgangspunkt für den anschließenden Vergleich mit anderen Optimierungsmethoden verwenden. <br><br><h2>  <font color="#3030cc">Beispiel 1</font> </h2><br>  Die Grafik zeigt die Abhängigkeit des Gewinns (P) unseres Handelsroboters <abbr title="Euro in US-Dollar">EURUSD</abbr> , der vom jährlichen Segment der Geschichte der stündlichen Preismessungen erhalten wird, vom Parameterwert - der Periode des „langsamen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gleitenden Durchschnitts</a> (M).  Alle anderen Parameter sind fest und nicht optimiert. <br><br><img src="https://habrastorage.org/webt/s4/_p/ea/s4_pea0s9vubgihpcivklt629lq.png"><br><br>  CF (Gewinn) erreicht am Punkt M = 12 ein Maximum von 0,27. Um den maximalen Wert des Gewinns zu gewährleisten, müssen wir 20 Testiterationen durchführen.  Eine Alternative besteht darin, eine geringere Anzahl von Tests eines Handelsroboters mit einem zufällig ausgewählten Wert des Parameters M im Intervall durchzuführen [9, 20].  Zum Beispiel fanden wir nach 5 Iterationen (20% der Gesamtzahl der Tests einen quasi optimalen Vektor (Vektor offensichtlich eindimensional) von Parametern: M = 18 mit einem Wert von CF (M) gleich 0,18: <br><br><img src="https://habrastorage.org/webt/9d/ay/hs/9dayhsjljr41s0axuw6_lr3x1k0.png"><br><br>  Die verbleibenden Werte in der Grafik unseres Optimierungsalgorithmus wurden vom „Nebel des Krieges“ verdeckt. <br><br>  Durch die Optimierung eines der vier Parameter unseres Handelsroboters mit festen Werten der verbleibenden Parameter können wir nicht das gesamte Bild sehen.  Vielleicht ist ein Maximum von 0,27 CF nicht der beste Wert des Indikators, wenn Sie den Wert anderer Parameter variieren? <br><br><img src="https://habrastorage.org/webt/iv/ki/nc/ivkinclgs2od7vhbohy2m5rirjm.gif"><br><br>  Auf diese Weise ändert sich die Abhängigkeit des Gewinns von der Periode des gleitenden Durchschnitts für verschiedene Werte des TakeProfit-Parameters im Intervall [0,2 ... 0,8]. <br><br><h2>  <font color="#3030cc">Monte-Carlo-Methode: Optimierung zweier Parameter</font> </h2><br>  Die Abhängigkeit des Gewinns eines Handelsroboters von zwei Parametern kann grafisch als Oberfläche dargestellt werden: <br><br><img src="https://habrastorage.org/webt/kc/q8/uv/kcq8uv20cxk-e4dlqcum6el0w94.png"><br><br>  Die beiden Achsen sind die Werte der Parameter T (TakeProfit) und M (Periode des gleitenden Durchschnitts), die dritte Achse ist der Gewinnwert. <br><br>  Für unseren Handelsroboter erhalten wir nach 400 Tests in einem Datenintervall von einem Jahr (~ 6000 stündliche Notierungen des Euro gegenüber dem US-Dollar) eine Oberfläche des Formulars: <br><br><img src="https://habrastorage.org/webt/uq/rv/w9/uqrvw9pl0y_7b1ranw7_qhf68es.png"><br><br>  oder in der Ebene, in der die Werte der finanziellen Vermögenswerte (Gewinn, P) in Farbe dargestellt sind: <br><br><img src="https://habrastorage.org/webt/i_/qi/nq/i_qinq5rmv_xdaxltjvnmolrtvm.png"><br><br>  Bei der Auswahl beliebiger Punkte in der Ebene hat der Algorithmus in diesem Beispiel nicht den optimalen Wert gefunden, sondern ist ihm ziemlich nahe gekommen: <br><br><img src="https://habrastorage.org/webt/sf/so/zm/sfsozmqylxio59s8jc6pfsiiu-g.gif"><br><br>  Wie effektiv ist die Monte-Carlo-Methode bei der Ermittlung der maximalen <abbr title="Zielfunktion">CF</abbr> ?  Nachdem ich 1.000 Iterationen der Suche nach dem Maximum der CF für die Quelldaten aus dem obigen Beispiel durchgeführt hatte, erhielt ich die folgenden Statistiken: <br><br><ul><li>  Der Durchschnittswert des Maximums des DF, der während 1.000 Optimierungsiterationen gefunden wurde (40 zufällige Vektoren von Parametern [M, T] aus 400 möglichen Kombinationen), betrug 0,231 oder <abbr title="(P '- Pmax) / (Pmax - Pmin) * 100%"><b>95,7%</b></abbr> des globalen Maximums des DF (0,279). </li></ul><br>  Beim Vergleich der Methoden zur parametrischen Optimierung von Handelsrobotern ist eine Stichprobe offensichtlich kein Indikator.  Diese Einschätzung reicht jedoch vorerst aus.  Wir fahren mit der nächsten Methode fort - der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gradientenabstiegsmethode</a> . <br><br><h1>  Gradientenabstiegsmethode </h1><br>  Wie der Name schon sagt, wird die Methode formal verwendet, um nach dem Minimum des DF zu suchen. <br>  Entsprechend der Methode wählen wir den Startpunkt mit den Koordinaten [x0, y0, z0, ...].  Am Beispiel der Optimierung eines Parameters kann dies ein zufällig ausgewählter Punkt sein: <br><br><img src="https://habrastorage.org/webt/2p/m_/gc/2pm_gckzmtakdjqszg-saifww_s.png"><br><br>  mit Koordinaten [5] und einem DF-Wert von 148. Es folgen drei einfache Schritte: <br><br><ol><li>  Überprüfen Sie die CF-Werte in der Nähe der aktuellen Position (149 und 144). </li><li>  Bewegen Sie sich zu dem Punkt mit dem kleinsten CF-Wert </li><li>  Fehlt dies, wird ein lokales Extremum gefunden, der Algorithmus ist abgeschlossen </li></ol><br><img src="https://habrastorage.org/webt/rb/ha/ar/rbhaar1igcqeqw2a0hcrpjpr9me.gif"><br><br>  Um den DF in Abhängigkeit von zwei Parametern zu optimieren, verwenden wir denselben Algorithmus.  Wenn früher, haben wir die CF an zwei benachbarten Punkten berechnet <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.081ex" height="2.66ex" viewBox="0 -832 5201.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="2099" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="2378" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="2823" y="0"></use><g transform="translate(3101,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="4923" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><mo>,</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> [x_ {i-1}], [x_ {i + 1}] </script>  Jetzt überprüfen wir 4 Punkte: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=&quot;false&quot;>]</mo><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="37.734ex" height="2.66ex" viewBox="0 -832 16246.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="2099" y="0"></use><g transform="translate(2544,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="3379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="3658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="4103" y="0"></use><g transform="translate(4381,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="6203" y="0"></use><g transform="translate(6648,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="7483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="7761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="8206" y="0"></use><g transform="translate(8485,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="9401" y="0"></use><g transform="translate(9847,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="11586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="11864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5B" x="12310" y="0"></use><g transform="translate(12588,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="13505" y="0"></use><g transform="translate(13950,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-5D" x="15689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="15968" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">[</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo>,</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo>,</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><mo>,</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> [x_ {i-1}, y_i], [x_ {i + 1}, y_i], [x_i, y_ {i-1}], [x_i, y_ {i + 1}]. </script></p><br><img src="https://habrastorage.org/webt/iw/6f/el/iw6felpdmzxesd_-dni-lrbnjh0.gif"><br><br>  Die Methode ist definitiv gut, wenn es in einem DF in einem Testraum nur ein Extremum gibt.  Wenn es mehrere Extrema gibt, muss die Suche mehrmals wiederholt werden, um die Wahrscheinlichkeit zu erhöhen, ein globales Extremum zu finden: <br><br><img src="https://habrastorage.org/webt/bb/qs/nn/bbqsnn45pckbhbkbnfeal_irrrc.png"><br><br>  In unserem Beispiel suchen wir nach dem <b>maximalen</b> DF.  Um innerhalb der Definition des Algorithmus zu bleiben, können wir davon ausgehen, dass wir nach einem Minimum von „minus DF“ suchen.  Trotzdem ist der Gewinn eines Handelsroboters in Abhängigkeit von der Periode des gleitenden Durchschnitts und dem TakeProfit-Wert eine Iteration: <br><br><img src="https://habrastorage.org/webt/6f/eb/rc/6febrcyqjc-j-ag2l8z49jbbsx8.gif"><br><br>  In diesem Fall wurde ein lokales Extremum gefunden, das weit vom globalen Maximum der CF entfernt ist.  Als Beispiel für mehrere Iterationen der Suche nach dem Extremum des FS nach der Gradientenabstiegsmethode wird der Wert des FS 40-mal berechnet (40 von 400 möglichen Punkten): <br><br><img src="https://habrastorage.org/webt/cm/ig/gw/cmiggwypd0lrdn5wlti_7lyv_q0.png"><br><br>  Jetzt vergleichen wir die Effizienz der Suche nach dem globalen Maximum der CF (Gewinn) anhand unserer Anfangsdaten mithilfe von Monte-Carlo- und Gradientenabstiegsalgorithmen.  Es werden jeweils 40 Tests durchgeführt (CF-Berechnungen).  Mit jeder der Methoden wurden 1.000 Optimierungsiterationen durchgeführt: <br><table><tbody><tr><th></th><th>  Monte Carlo </th><th>  Gefälle Abstieg </th></tr><tr><td>  der Durchschnitt des erhaltenen quasi-optimalen Wertes von CF. </td><td>  <abbr title="Das globale Maximum beträgt 0,279">0,231</abbr> </td><td>  0,200 </td></tr><tr><td>  der erhaltene Wert aus dem Maximum der CF. </td><td>  95,7% </td><td>  92,1% </td></tr></tbody></table><br>  Wie Sie der Tabelle entnehmen können, ist in diesem Beispiel die Gradientenabstiegsmethode bei ihrer Aufgabe, das globale Extrem des digitalen Assets zu suchen, schlechter - der maximale Gewinn.  Aber wir haben es nicht eilig, es wegzuwerfen. <br><br><h2>  <font color="3030cc">Parametrische Stabilität des Handelsalgorithmus</font> </h2><br>  Das Finden der Koordinaten des globalen Maximums / Minimums eines digitalen Filters ist oft kein Optimierungsziel.  Angenommen, in der Grafik gibt es einen „scharfen“ Peak - ein globales Maximum, dessen Wert der CF in der Nähe viel niedriger ist als der Peakwert: <br><br><img src="https://habrastorage.org/webt/w-/bs/pr/w-bsprebdya-b9gd3ldfpx5tak8.png"><br><br>  Angenommen, wir haben die Einstellungen des Handelsroboters ausgewählt, die dem gefundenen Maximum des digitalen Assets entsprechen.  Sollten wir den Wert mindestens eines der Parameter - die Periode des gleitenden Durchschnitts und / oder TakeProfit - geringfügig ändern, sinkt die Rentabilität des Roboters stark (wird negativ).  In Bezug auf den realen Handel kann man zumindest erwarten, dass sich der Markt, auf dem unser Roboter handeln soll, deutlich von dem Zeitraum unterscheidet, in dem wir den Handelsalgorithmus optimiert haben. <br><br>  Wenn Sie die „optimalen“ Einstellungen eines Handelsroboters auswählen, sollten Sie sich daher ein Bild davon machen, wie empfindlich der Roboter auf Änderungen der Einstellungen in der Nähe des gefundenen Extrempunkts des DF reagiert. <br><br>  Offensichtlich liefert die Gradientenabstiegsmethode in der Regel die Werte von TF in der Nähe des Extremums.  Die Monte-Carlo-Methode trifft eher Quadrate. <br><br>  In mehreren Anweisungen zum Testen automatisierter Handelsstrategien wird empfohlen, nach Abschluss der Optimierung die Zielindikatoren des Roboters in der Nähe des gefundenen Parametervektors zu überprüfen.  Dies sind jedoch zusätzliche Tests.  Was ist außerdem, wenn die Rentabilität der Strategie mit einer geringfügigen Änderung der Einstellungen sinkt?  Natürlich müssen Sie den Testvorgang wiederholen. <br><br>  Ein Algorithmus wäre für uns nützlich, der es uns gleichzeitig mit der Suche nach dem Extremum der CF ermöglichen würde, die Stabilität der Handelsstrategie zu bewerten, um Einstellungen in einem engen Bereich in Bezug auf die gefundenen Peaks zu ändern.  Suchen Sie beispielsweise nicht direkt nach der maximalen CF. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo>=</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>m</mi><mi>i</mi></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.092ex" height="2.66ex" viewBox="0 -832 6067.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-66" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="2636" y="0"></use><g transform="translate(3025,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="4248" y="0"></use><g transform="translate(4693,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="511" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="5399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="5788" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>m</mi><mi>i</mi></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>,</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> P = f (m_i, t_i), </script></p><br>  und den gewichteten Durchschnittswert, der die Nachbarwerte der Zielfunktion berücksichtigt, wobei das Gewicht umgekehrt proportional zum Abstand zum Nachbarwert ist (um zwei Parameter x, y und die Zielfunktion P zu optimieren): <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msup><mi>P</mi><mo>&amp;#x2032;</mo></msup><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>w</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo>,</mo><msub><mi>y</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>,</mo><msub><mi>y</mi><mi>k</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="94.05ex" height="2.901ex" viewBox="0 -883.9 40493.8 1249" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2032" x="1109" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="1079" y="0"></use><g transform="translate(1468,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="2385" y="0"></use><g transform="translate(2830,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="3665" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-3D" x="4332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-66" x="5638" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-72" x="6189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-61" x="6640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-63" x="7170" y="0"></use><g transform="translate(7603,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="1013" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6D" x="1310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-61" x="2189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6C" x="2718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-50" x="3017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="3768" y="0"></use><g transform="translate(4158,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="5075" y="0"></use><g transform="translate(5520,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="6355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="6966" y="0"></use><g transform="translate(7967,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6D" x="9325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-61" x="10204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6C" x="10733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-50" x="11032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="11783" y="0"></use><g transform="translate(12173,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="13137" y="0"></use><g transform="translate(13582,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="14464" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="15076" y="0"></use><g transform="translate(16077,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6B" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6D" x="17512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-61" x="18390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6C" x="18920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-50" x="19218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="19970" y="0"></use><g transform="translate(20359,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6B" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2C" x="21401" y="0"></use><g transform="translate(21846,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6B" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="22805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="23195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="23973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="24418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="24863" y="0"></use></g><g transform="translate(32746,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="1013" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="1283" y="0"></use><g transform="translate(2283,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="3614" y="0"></use><g transform="translate(4614,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6B" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="5800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="6578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="7023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="7468" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>P</mi><mo>′</mo></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>w</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo>,</mo><msub><mi>y</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>l</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>,</mo><msub><mi>y</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> P '(x_i, y_i) = \ frac {w_i \ mal P (x_i, y_i) + w_j \ mal P (x_j, y_j) + w_k \ mal P (x_k, y_k) + ...} {w_i + w_j + w_k + ...} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>w</mi><mi>j</mi></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo>&amp;#x2212;</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mi>j</mi></msub><mo>&amp;#x2212;</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.906ex" height="3.142ex" viewBox="0 -987.6 14167.9 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="1013" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-3D" x="1385" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-73" x="2692" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-71" x="3161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-72" x="3622" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-74" x="4073" y="0"></use><g transform="translate(4435,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2212" x="1575" y="0"></use><g transform="translate(2576,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="809" y="-213"></use></g><g transform="translate(3493,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="4559" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-28" x="5559" y="0"></use><g transform="translate(5949,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2212" x="7053" y="0"></use><g transform="translate(8054,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="693" y="-213"></use></g><g transform="translate(8889,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-32" x="550" y="583"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>w</mi><mi>j</mi></msub><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>j</mi></msub><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> w_j = \ sqrt {(x_j-x_i) ^ 2 + (y_j-y_i) ^ 2} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.997ex" height="2.539ex" viewBox="0 -728.2 9470.9 1093.4" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-69" x="1013" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="1283" y="0"></use><g transform="translate(2283,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6A" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="3614" y="0"></use><g transform="translate(4614,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMATHI-6B" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2B" x="5800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="6578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="7023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-2E" x="7468" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-3D" x="7914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhiLAJYUVJhNQfKlpU2dqzOQrqUjEg#MJMAIN-31" x="8970" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mi>k</mi></msub><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>=</mo><mn>1</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> w_i + w_j + w_k + ... = 1 </script></p><br>  Mit anderen Worten, wenn ein quasi-optimaler Parametervektor ausgewählt wird, bewertet der Algorithmus die "geglättete" Zielfunktion: <br><br>  <b>war</b> <br><br><img src="https://habrastorage.org/webt/w-/bs/pr/w-bsprebdya-b9gd3ldfpx5tak8.png"><br><br>  <b>ist geworden</b> <br><br><img src="https://habrastorage.org/webt/cf/cm/lh/cfcmlhsedhc6wjszqdv8f0rcwse.png"><br><br><h1>  Die Methode der "Seeschlacht" </h1><br>  Um die Vorteile beider Methoden (Monte Carlo und Gradientenabstiegsmethode) zu kombinieren, habe ich einen Algorithmus ausprobiert, der dem Algorithmus des Spiels in der „Seeschlacht“ ähnelt: <br><br><ul><li>  Zuerst schlage ich ein paar "Schläge" über den gesamten Bereich </li><li>  dann eröffne ich an Stellen mit „Treffern“ massives Feuer. </li></ul><br>  Mit anderen Worten werden die ersten N Tests an zufälligen unkorrelierten Vektoren von Eingabeparametern durchgeführt.  Von diesen werden die M besten Ergebnisse ausgewählt.  In der Nähe dieser Tests (plus - Minuten 0..L zu jeder der Koordinaten) werden weitere K-Tests durchgeführt. <br><br>  Für unser Beispiel (400 Punkte, insgesamt 40 Versuche) haben wir: <br><br><img src="https://habrastorage.org/webt/fp/vk/5_/fpvk5_vst_76cmpuw53eskoyod0.png"><br><br>  Und wieder vergleichen wir die Effektivität von jetzt 3 Optimierungsalgorithmen: <br><table><tbody><tr><th></th><th>  Monte Carlo </th><th>  Gefälle Abstieg </th><th>  "Seeschlacht" </th></tr><tr><td>  Der Durchschnittswert des gefundenen Extremums der CF als Prozentsatz des globalen Werts. <br>  40 Tests, 1.000 Optimierungsiterationen <br></td><td>  95,7% </td><td>  92,1% </td><td>  97,0% </td></tr></tbody></table><br><br>  Das Ergebnis ist ermutigend.  Natürlich wurde der Vergleich an einer bestimmten Datenstichprobe durchgeführt: einem Handelsalgorithmus für eine Zeitreihe des Wertes des Euro gegenüber dem US-Dollar.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bevor ich jedoch die Algorithmen für weitere Stichproben der Quelldaten vergleiche, werde ich auf einen anderen, unerwartet (ungerechtfertigt?) Beliebten Algorithmus zur Optimierung von Handelsstrategien eingehen - die Optimierung des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genetischen Algorithmus</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (GA). </font><font style="vertical-align: inherit;">Der Artikel erschien jedoch zu umfangreich, und die GA muss </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf die nächste Veröffentlichung verschoben werden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430134/">https://habr.com/ru/post/de430134/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430120/index.html">Zähme das Biest. Was wir bei der Entwicklung einer persönlichen Tagebuchanwendung für React Native gesehen haben</a></li>
<li><a href="../de430122/index.html">Workaholism ist eine schmerzhafte Erkrankung, über die nicht üblich gesprochen wird.</a></li>
<li><a href="../de430126/index.html">Eine weitere Liste von Projekten zum Üben</a></li>
<li><a href="../de430128/index.html">Entwicklung durch Testen: Verbesserung der Fähigkeiten</a></li>
<li><a href="../de430132/index.html">Was wir in den letzten Jahren über die Sicherheit von Intel ME gelernt haben: 7 Fakten über das mysteriöse Subsystem</a></li>
<li><a href="../de430136/index.html">Wie sie Starlink - Satelliten-Internet von Ilona Mask starten</a></li>
<li><a href="../de430138/index.html">Optimierung eines Handelsroboters: ein genetischer Algorithmus</a></li>
<li><a href="../de430140/index.html">Fünf Gründe für das Scheitern von SEO. Analyse erfolgloser Werbeerfahrungen anhand von Beispielen</a></li>
<li><a href="../de430142/index.html">Ist dein Windows so alt?</a></li>
<li><a href="../de430144/index.html">Wir simulieren einen realistischen Fluss in Houdini und Unreal Engine 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>