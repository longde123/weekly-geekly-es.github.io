<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍⚖️ 💚 👩🏽‍🤝‍👨🏻 Tunnels et VPN résistants au DPI 💷 ➿ 🎣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous vivons à une époque intéressante. Je dirais même de façon étonnante. D'un côté, nous voyons des gens qui veulent vraiment savoir ce que les autre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tunnels et VPN résistants au DPI</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415977/"> Nous vivons à une époque intéressante.  Je dirais même de façon étonnante.  D'un côté, nous voyons des gens qui veulent vraiment savoir ce que les autres se parlent et veulent vraiment leur dire ce qui peut être lu et ce qui ne peut pas être lu.  D'autre part, les citoyens qui veulent faire valoir leurs droits aux secrets de la correspondance personnelle et des informations gratuites, et ne veulent pas que les faits de cette correspondance et la réception de ces informations soient utilisés contre eux.  Un grand nombre de sites, services et entreprises tiers touchés par des «serrures de tapis» souffrent en prime. <br><br>  Mais non, cet article n'est pas sur la société, mais sur la technologie. <br><br><img src="https://habrastorage.org/webt/ai/x5/4v/aix54v5uoghgxq1dmmisvj-brke.jpeg" alt="image"><br><a name="habracut"></a><br>  La culture technique des gens, grâce à tout ce qui se passe, se développe également.  Si auparavant les mots «VPN» et «mandataires» n'étaient familiers qu'aux informaticiens, maintenant même les femmes au foyer les connaissent, et en plus, elles utilisent ce que ces mots signifient. <br><br>  En général, les nouvelles sont récemment devenues assez divertissantes.  Par exemple, la fourniture de services VPN et similaires pour crypter le trafic et contourner les verrous est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">désormais punissable</a> , et en Chine, ils les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">emprisonnent</a> généralement pour cela.  Et il n'y a pas si longtemps, ILV a commencé à utiliser l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">analyse de paquets pour bloquer</a> le protocole MTProxy.  Vous pouvez également vous référer à l'expérience des autres pays qui réussissent le mieux dans ces domaines: Chine, Iran, Kazakhstan, Venezuela.  Au Venezuela, par exemple, ils <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bloquent</a> directement les connexions directes à Tor et le trafic obscurci vers les ponts.  Sur la base de tout cela, nous pouvons supposer que l'avenir nous attend est également très intéressant, surtout si les "personnes responsables" cessent de faire de la fakapy stupide encore et encore, et agissent plus intelligemment et plus sophistiquées. <br><br>  Sur Habré, à plusieurs reprises dans les commentaires, des prévisions ont été exprimées sur la façon dont la lutte avec les technologies de cryptage pour les citoyens ordinaires peut se poursuivre.  En analysant les pensées exprimées et en examinant les témoignages d'autres pays, j'ai essayé de suggérer dans quelle direction les mesures visant à limiter la communication pourraient aller plus loin.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">DistortNeo</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">shifttstas</a> ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">proposé</a> des idées plus intéressantes et j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">finalement</a> promis à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">el777 d'</a> ajouter cet article. <br><br>  Avec les filtres ACL, tout est clair.  Ils agissent maintenant, et avec plus ou moins de succès, ils réussissent et échouent à se battre (bien qu'il y ait des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prévisions</a> assez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pessimistes</a> ).  DPI est plus intéressant. <br><br>  Les méthodes de "détermination" du type de trafic pour DPI peuvent être divisées en deux groupes: <br><br><ul><li>  Analyse de signature.  À savoir, démonter l'emballage "par les os", comparer les en-têtes et la structure avec les échantillons, et ainsi déterminer son objectif.  Ainsi, de nombreux tunnels sont détectés, par exemple, OpenVPN, L2TP / IPSec, SOCKS, etc. </li><li>  Une analyse préliminaire des modèles d'échange de trafic, par exemple, le rapport du flux entrant / sortant, la fréquence de la demande-réponse et d'autres critères nous permettra de séparer le «trafic réel» d'un protocole et le tunnel qui se fait uniquement passer pour un protocole. </li></ul><br><img src="https://habrastorage.org/webt/xj/a3/ny/xja3nye4iqnsser5zm2gxgbcjbq.jpeg" alt="image"><br><br>  Vous pouvez répartir le trafic en plusieurs groupes et supposer ce qu'ils feront avec chacun d'eux. <br><br><ol><li>  <b>VPN, tunnels et mandataires «explicites» (OpenVPN, L2TP / IPSec, SOCKS, etc.)</b> Les VPN et tunnels ordinaires peuvent très bien être bloqués automatiquement, comme cela se produit par exemple en Chine et au Venezuela.  Si certaines organisations ou entreprises en ont besoin pour travailler, laissez-les s'inscrire et certifier, comme le dit tout particulièrement la loi russe mentionnée ci-dessus.  Avec un proxy, il est encore plus facile - que HTTP, que SOCKS transmette les adresses et les contenus en texte clair, ce qui ne pose généralement pas de problème pour la «coupe» sélective des demandes et l'écoute électronique des informations transmises. </li><li>  <b>Technologies à double usage telles que SSH</b> .  Peu de temps après l'établissement de la session, la vitesse est réduite à une tortue, de sorte que vous pouvez toujours travailler au moins d'une manière ou d'une autre dans la console, mais il n'y a plus de navigation et de téléchargement.  Le fait que cela crée des problèmes pendant le travail normal ne dérange personne (ce qui nous a été montré plus d'une fois par ILV ces derniers temps). </li><li>  <b>Protocoles très spécifiques, tels que messagers, clients de jeux, etc.</b> </li><li>  <b>Composés dont le type ne peut être déterminé</b> . </li></ol><br>  Pour les éléments 3 et 4, des «listes blanches» sont tout à fait possibles (dans lesquelles, par exemple, des sous-réseaux de serveurs de jeu officiels ou des messagers «corrects» sont entrés, et tout ce que les propriétaires de serveurs veulent déclarer et organiser selon les besoins afin qu'ils ne soient pas touchés, par analogie avec celles que ILV possède déjà pour les domaines et les adresses IP).  Et ceux qui ne figurent pas dans ces listes seront confrontés au même sort que le paragraphe 1 ou le paragraphe 2, bien qu'il soit tout à fait possible de ne pas bloquer ou couper carrément la vitesse, mais d'analyser les modèles d'échange précédemment mentionnés afin de déterminer si le trafic est «pur» "Ou" suspect. " <br><br>  Autrement dit, si vous voulez vous déguiser en protocoles spéciaux, ou pour obscurcir les connexions afin qu'il soit impossible de déterminer leur type, vous devrez également prendre soin de créer du "bruit" qui empêche la détection de véritables modèles d'échange.  Jusqu'à présent, de tels développements ne m'ont pas traversé les yeux. <br><br>  Vous ne vous souvenez même pas des différents tunnels ICMP et DNS - une grande quantité de trafic «là où ils n’en sont pas nécessaires» soulève automatiquement des soupçons. <br><br>  5. <b>TLS et SSL, HTTPS</b> .  Il est impossible de couper net, car cela signifie automatiquement bloquer tout Internet.  L'analyse de modèle n'a pas de sens, car la navigation sur le Web n'est que l'objectif principal de l'utilisation de HTTPS.  De tout ce qui précède, SSL / TLS sur le port 443 ressemble à l'option la plus «sans méfiance» et la plus fiable.  Par conséquent, essayons de nous déguiser en lui. <br><br><img src="https://habrastorage.org/webt/sj/3u/2z/sj3u2zoggi2ofngemk1maytasyw.jpeg" alt="image"><br><br><h3>  Se déguiser </h3><br>  Pour examen, il a été décidé de choisir les solutions Streisand et SoftEther. <br><br>  <a href="" rel="nofollow">Streisand</a> - un ensemble complet de services différents: OpenConnect / AnyConnect, OpenVPN, stunnel, Shadowsocks, WireGuard.  Tout cela est défini en mode «clé en main» automatique ou semi-automatique, et à la sortie, l'utilisateur reçoit un serveur configuré, ainsi que des fichiers et une documentation détaillée pour la configuration des clients. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">SoftEther</a> est un serveur VPN qui peut lever L2TP / IPsec, OpenVPN, SSTP et d'autres protocoles, et possède également son propre protocole SSL-VPN, qui, selon les auteurs, ne se distingue pas du trafic HTTPS normal. <br><br>  Alors ... <br><br>  <b>OpenConnect / AnyConnect.</b>  Implémentation open source du protocole SSL Cisco AnyConnect.  Lorsqu'une connexion est établie, non seulement les paquets TLS (TCP), mais aussi les paquets DTLS (UDP) sont visibles.  DTLS, en principe, est également beaucoup utilisé "à des fins pacifiques", mais ce n'est pas du tout comme "HTTPS normal".  Cependant, si vous coupez le trafic UDP sur le pare-feu, AnyConnect bascule immédiatement vers TCP et de l'extérieur ressemble, encore une fois, complètement et complètement au TLS normal, et même l'authentification à l'intérieur du tunnel crypté est presque comme dans HTTP. <br><br>  <b>Shadowsocks</b> .  Proxy SOCKS crypté.  Apparemment, si vous le souhaitez, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">peut être détecté</a> , cependant, il existe des plugins qui le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">déguisent en «HTTPS pur»</a> .  Il existe également un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">plugin</a> pour travailler via les websockets, mais plus à ce sujet plus tard. <br><br>  <b>Wireguard</b>  À en juger par la description, il dispose d'un cryptage bien tordu et d'un mécanisme de configuration de session, mais toutes les communications se font via UDP.  Wireshark définit le type de packages comme quelque chose de complètement inaudible, et quelle opinion de ce qui se passe avec un DPI tiers est une très, très grande question.  <b>Mise à jour: les</b> versions plus récentes définissent Wireguard uniquement comme Wireguard, donc la réponse à la question est évidente. <br><br>  <b>obfs3, obfs4</b> .  Les paquets seront obscurcis de sorte que de l'extérieur, ils ressemblent à un ensemble de valeurs complètement aléatoire.  Autrement dit, ils relèvent du point 4 de la liste ci-dessus. <br><br>  <b>SoftEther</b>  Il ressemble à HTTPS, mais avec une prise.  En plus de TLS directement sur TCP, il envoie activement des paquets de paquets UDP.  Comme cela a été découvert dans la documentation, UDP peut être utilisé pour accélérer le transfert de données dans le cas où il n'est pas tué sur le pare-feu.  Cette fonctionnalité est désactivée dans la configuration et une fois désactivée, tout devient comme il se doit. <br><br>  <b>SSTP</b> .  VPN prokotol de Microsoft.  Prise en charge native sur Windows, prise en charge des logiciels sur GNU / Linux.  De l'extérieur, cela ressemble à HTTPS, et Wireshark le confirme pleinement. <br><br><h3>  Mais ce n'est pas tout </h3><br>  Supposons que vous ayez installé un serveur VPN ou l'extrémité d'un tunnel sur un hôte et que vous l'ayez configuré pour écouter sur le port 443.  Il semblerait que tout va bien, mais il y en a un MAIS: si nous nous déguisons en HTTPS, vous pouvez vérifier qu'en fait il se bloque sur le port 443 simplement en essayant de vous enterrer dans ce port avec un simple navigateur ou CURL, ou de toute autre manière.  Dans certains articles, une telle méthode est appelée "connexion de plomb" et, comme mentionné, est déjà assez utilisée en Chine. <br><br>  Par conséquent, nous avons besoin que sur le 443e port, nous ayons le serveur Web le plus ordinaire et le plus décent.  Et ici se pose un problème intéressant. <br><br>  Aucun des services ci-dessus dans la documentation principale n'a trouvé de description du mécanisme de fonctionnement du partage de port.  L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">option SSLH</a> ne convient pas, ne serait-ce que parce que sslh n'est pas en mesure de partager le trafic entre HTTPS et les services ci-dessus.  Au moins, parce que si le type de trafic sans décryptage complet pouvait distinguer sslh, alors DPI serait en mesure de le faire. <br><br>  La plupart des hommes, comme <a href="" rel="nofollow">celui-ci</a> , suggèrent d'utiliser l'indication de nom de serveur (SNI) - une extension TLS qui vous permet de spécifier un nom d'hôte, puis d'utiliser HAProxy, sniproxy et d'autres outils pour disperser les connexions pour les services.  Le problème est que dans les implémentations TLS modernes, le nom d'hôte spécifié lors de l'utilisation de SNI est transmis en texte brut, c'est-à-dire sous forme non chiffrée, et, par conséquent, peut également être espionné et utilisé à l'avenir. <br><br>  Par conséquent, nous allons improviser, puis deux options me sont venues à l'esprit. <br><br><h4>  Coup de port </h4><br><img src="https://habrastorage.org/webt/54/_n/v7/54_nv7qxgj4idvoek-ooxn6r6ju.jpeg" alt="image"><br><br>  Le détournement de port est juste conçu pour activer des "services cachés" sur le serveur.  Par exemple, d'une manière similaire, le port sur lequel le démon SSH se bloque est souvent fermé "pour" afin d'éviter la force brute et l'utilisation de vulnérabilités 0-day.  Dans la version classique (voir, par exemple, l'implémentation du démon knockd), le knocking est généralement compris comme des tentatives d'établir une connexion ou d'envoyer des paquets à certains ports hôtes dans une certaine séquence, à la suite de quoi le démon vous «reconnaît» comme lui-même et active une règle de pare-feu qui permet d'accéder à un port spécifique uniquement à partir de votre IP. <br><br>  Dans notre cas, cette option n'est pas entièrement acceptable.  Premièrement, les ports «non standard» eux-mêmes peuvent être bloqués quelque part en cours de route, et deuxièmement, la procédure elle-même, lorsqu'elle est analysée de l'extérieur, peut sembler suspecte.  Puisque nous nous faisons passer pour HTTPS, nous devons «frapper» sur HTTPS. <br><br>  Étonnamment, il n'y avait pas de heurteurs HTTP / HTTPS avec la fonctionnalité requise, et donc un nocker est né avec le nom romantique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Labean</a> (hussards, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">tais-toi</a> !). <br><br>  Éléments fournis: notre serveur, sur lequel Nginx s'exécute sur le port 443 avec des certificats correctement configurés et affiche du contenu complètement inoffensif, par exemple, des GIF avec des chats, des images ISO de distributions GNU / Linux ou un miroir Wikipedia et une bibliothèque Moshkov. <br><br>  En même temps, les lignes du formulaire se cachaient dans la configuration Nginx <br><br><pre><code class="nginx hljs"> <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> <span class="hljs-regexp"><span class="hljs-regexp">~ ^/somesecret/(.*)</span></span> {
    <span class="hljs-attribute"><span class="hljs-attribute">auth_basic</span></span>      <span class="hljs-string"><span class="hljs-string">"Administrator Login"</span></span>;
    <span class="hljs-attribute"><span class="hljs-attribute">auth_basic_user_file</span></span>  /var/www/.htpasswd;
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span>  X-Real-IP  <span class="hljs-variable"><span class="hljs-variable">$remote_addr</span></span>;
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://127.0.0.1:8080/<span class="hljs-variable"><span class="hljs-variable">$1</span></span>;
  }
</code></pre><br>
      ,       CURL'   <br>
<code>https://ourserver.org/somesecret/vpn/on</code><br>
  ,   ,     ,           IP-,  - <br>
<code>iptables -t nat -A PREROUTING -p tcp -s {clientIP} --dport 443 -j REDIRECT --to-port 4443</code><br>
    .<br>
<br>
  N  (,   )  ,    ,        ,         IP       .<br>
<br>
     ,    ,  URL   ,   /off  .<br>
<br>
       ,     IPv6 (v6-    X-Real-IP  ).<br>
<br>
   Go,    ,   ,    . ,      nginx  init-    Gihub:<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">https://github.com/uprt/labean</a><br>
<br>
<h4>Websockets</h4><br>
<img src="https://habrastorage.org/webt/as/nw/yn/asnwynceu_p8gghmcgf13e3ryiq.jpeg" alt="image"><br>
<br>
     :      HTTPS —    .  Web-         TCP    ,    Websocket (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">RFC 6455</a>).    HTTP-,      ,             TCP-.  , ,       HTTPS       .<br>
<br>
      WS  ,  - —    ,     CDN, , Cloudflare    .  ,        :    IP  CDN/proxy          CDN,          VPN/proxy   CDN,       .<br>
<br>
 WS-   (    Haskell),     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">wstunnel</a>,   nodejs   ,       .<br>
<br>
       .       wss://-, <br>
<br>
<pre><code class="bash hljs">wstunnel -t 33 wss://server:443</code></pre><br>
   ,  «» ws-      «» .   wstunnel,    ,      URI    -  :<br>
<br>
<pre><code class="bash hljs">wstunnel -t 33 wss://ourserver.org:443/hiddenws/</code></pre><br>
  :     <br>
<br>
   ,    443   Nginx c -  . <br>
<br>
    proxy-   Websockets-:<br>
<br>
<pre><code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /hiddenws {
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://127.0.0.1:8081;
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_http_version</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>;
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Upgrade <span class="hljs-variable"><span class="hljs-variable">$http_upgrade</span></span>;
    <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Connection <span class="hljs-string"><span class="hljs-string">"Upgrade"</span></span>;
  }</code></pre><br>
        websockets-.        SOCKS- (, Dante),  OpenVPN, ,   ,    .<br>
<br>
<div class="spoiler"><b class="spoiler_title"> selinux</b><div class="spoiler_text">   RHEL  ,   SELinux,    nginx   <br>
<code>2018/07/05 13:28:03 [crit] 7724#0: *11 connect() to 127.0.0.1:8081 failed (13: Permission denied) while connecting to upstream, client: IP_ADDRES, server: _, request: «GET /hiddenws/?dst=localhost:22 HTTP/1.1», upstream: «127.0.0.1:8081/hiddenws/?dst=localhost:22»,</code><br>
<br>
        :<br>
<br>
<pre><code class="bash hljs">semanage port -a -t http_port_t -p tcp 22
semanage port -m -t http_port_t -p tcp 22
semanage port -a -t http_port_t -p tcp 8081</code></pre><br>
<br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Renatk</a>        .<br>
</div></div><br>
<br>
    —   SOCKS-  VPN-       wstunnel,           «» .<br>
<br>
 ,   v2ray  shadowcocks,   websockets    shadowsocks.    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">https://github.com/shadowsocks/v2ray-plugin</a><br>
<br>
<h3> </h3><br>
 —   VPN- -   MTU,  1400;<br>
 —   VPN- 2 IP-.        VPN/,       ;<br>
 —  «» IP-   ,    ICMP ping;<br>
 —     -  reverse DNS ,     -, , gateway-001.somehomeisp.net;<br>
 —      VPN/  DNS- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> OpenNIC</a>;<br>
         (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> </a>).<br>
<br>
<h3> </h3><br>
<img src="https://habrastorage.org/webt/dz/mp/tf/dzmptf35twb-e_wzib77grk3ksq.jpeg" alt="image"><br>
<br>
      - ,     —  .     ,   ,   —   ,    ,   . ,   HTTPS      — ,     ,    -    «   »/   /etc.,  ,      « »,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   </a>. <br>
<br>
 ,  ,   ,            ,     —  ,   ,    ,   . <br>
 .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr415977/">https://habr.com/ru/post/fr415977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr415965/index.html">À lire en juillet: 19 nouveaux livres pour les professionnels du numérique</a></li>
<li><a href="../fr415967/index.html">SolidFire - Stockage pour ces ** cking hate stockage</a></li>
<li><a href="../fr415969/index.html">HyperX Pulsefire Surge RGB - un tueur né naturel</a></li>
<li><a href="../fr415973/index.html">Comment ne pas casser le cluster Apache Ignite dès le début</a></li>
<li><a href="../fr415975/index.html">Les Chinois ont présenté un pistolet laser d'une portée de près d'un kilomètre</a></li>
<li><a href="../fr415979/index.html">Security Week 24: Rowhammer sur Android et la complexité des vulnérabilités matérielles</a></li>
<li><a href="../fr415981/index.html">Google et HTTP</a></li>
<li><a href="../fr415983/index.html">Premier univers 5. Décalage cosmologique et dynamique d'un univers en expansion uniforme, partie 1</a></li>
<li><a href="../fr415987/index.html">SuperJob de rencontre QA</a></li>
<li><a href="../fr415989/index.html">Analyse de l'utilisation des signatures numériques: 10 des 15 principales crypto-monnaies ne signent pas de logiciel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>