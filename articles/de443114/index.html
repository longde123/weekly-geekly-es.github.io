<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐶 🥃 💂🏼 DevProject Award: Meine Rede auf der DeveloperWeek 2019 🚧 🐫 😵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle 


 Ich heiße Dmitry Golev. Ich bin der Gründer und technische Direktor der Veliov Group. Heute werde ich über den Service sprechen, der...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DevProject Award: Meine Rede auf der DeveloperWeek 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443114/"><h3 id="vsem-privet">  Hallo an alle </h3><br><p>  <em>Ich heiße Dmitry Golev.</em>  <em>Ich bin der Gründer und technische Direktor der Veliov Group.</em>  <em>Heute werde ich über den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Service</a> sprechen, der von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeveloperWeek</a> mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Dev Project" Award ausgezeichnet wurde</a> .</em>  <em>Bei dieser Gelegenheit wurden wir eingeladen, über das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projekt</a> aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DevExec World-</a> Szene zu sprechen. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachfolgend finden Sie</a> eine Textversion meiner Rede.</em> </p><br><p><img src="https://habrastorage.org/webt/03/1d/p1/031dp1csgyds9ibioutfyecwn8q.png" alt="ostr.io Logo"></p><a name="habracut"></a><br><p>  Wie Sie dem Logo entnehmen können, konzentrieren wir uns auf Webentwicklung und JavaScript.  Ziel des Dienstes ist es, die Kosten für die Wartung von APIs, Websites, progressiven Webanwendungen (PWA) und Weblösungen auf Linux-Servern zu senken. </p><br><p>  Die meisten Webprojekte beginnen mit einem Domainnamen.  Der Domänenname enthält Whois- und DNS-Einträge. Seit der Ära von HTTP / 2 muss die Kommunikation zwischen dem Server und dem Browser des Benutzers verschlüsselt werden. Für dieses oder genauer gesagt ein TLS-Zertifikat ist SSL erforderlich. </p><br><p>  Wir überwachen kontinuierlich die Integrität der Domainnamendaten (Whois, DNS, SSL / TLS) und das Ablaufdatum des Zertifikats und der Domain.  Benachrichtigungen über alle Datenänderungen und die bevorstehenden Ablaufdaten von Domains und Zertifikaten können per SMS oder E-Mail übermittelt werden. </p><br><p>  Wir glauben, dass dieser Service eine großartige Möglichkeit ist: </p><br><ol><li>  unbefugten Zugriff und Änderungen schnell erkennen; </li><li>  Beseitigen Sie Fehler beim Einrichten eines Domänennamens, beim Ersetzen eines Zertifikats und beim Aktualisieren von DNS-Einträgen. </li></ol><br><p><img src="https://habrastorage.org/webt/cx/7u/ek/cx7uekixy2n1v1am8duxvfqujes.png" alt="Domain-Dashboard"></p><br><p>  Das Domain Name Control Panel ( <em>oben</em> ), ein Beispiel für Benachrichtigungen über Änderungen an DNS, SSL / TLS-Zertifikat und Whois ( <em>unten</em> ): </p><br><p><img src="https://habrastorage.org/webt/j4/i9/fo/j4i9fozy398a-hjksbkdpzqi9ms.png" alt="Beispiel für Benachrichtigungen über Änderungen in DNS, SSL / TLS-Zertifikat und Whois"></p><br><p>  Benachrichtigungen können von den Mitgliedern Ihres Teams entsprechend ihrem Verantwortungsbereich personalisiert werden: </p><br><p><img src="https://habrastorage.org/webt/xh/t0/0h/xht00hn2ntivsrefepvyonv1hei.png" alt="Personalisierte Benachrichtigungen"></p><br><p>  Wir haben diesen Dienst als " <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">grundlegenden Schutz von Domainnamen</a></em> " bezeichnet und ihn für alle Benutzer aller Tarifpläne für immer kostenlos gemacht.  Wir glauben, dass dies viele Benutzer vor Situationen bewahren wird wie: </p><br><ol><li>  Verkehrsumleitung; </li><li>  MitM; </li><li>  Zertifikatsersetzung; </li><li>  DNS-Hijacking; </li><li>  Diebstahl eines Domainnamens und andere sehr unangenehme Situationen. </li></ol><br><p>  Wir lösen das Problem des Inhabers eines Domainnamens, wenn es nicht möglich ist, die Datensätze zu kontrollieren, da dies sehr oft durchgeführt werden muss, auch nachts - dies ist einfach eine unmögliche Aufgabe für eine Person. </p><br><p>  Kann ich den Diensten vertrauen, bei denen der Domainname gekauft wurde?  In den meisten Fällen erhalten DNS-Dienste keine Benachrichtigungen über Änderungen an den Datensätzen, und die einzige Benachrichtigung von Registraren über das Ablaufen eines Domainnamens kann einfach in Spam fallen und unbemerkt bleiben.  Ein seltener Herausgeber und Vertreiber von SSL / TLS-Zertifikaten sendet Benachrichtigungen über die Notwendigkeit, das Zertifikat erneut auszustellen. Daher kamen wir zu dem Schluss, dass die Datensätze und das Zertifikat häufig und automatisch überprüft werden müssen.  Ursprünglich war es ein interner Dienst, der jetzt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">allen zur Verfügung steht</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/pm/nc/w6/pmncw6h1q4elhjzcphvymzrrlga.png" alt="Pre-Rendering"></p><br><h3 id="pre-rendering-pre-rendering">  Pre-Rendering (Pre-Rendering) </h3><br><p>  Das beliebteste Serviceprodukt ist das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pre-Rendering</a> .  Wenn Sie jemals das Glück hatten, Webanwendungen in Angular, React, Vue, Blaze oder einer anderen "Client" -Bibliothek zu schreiben, werden Sie möglicherweise feststellen, wie unterschiedlich die Antwort des Servers von den Seiten ist, deren HTML-Code auf dem Server generiert wird.  Webanwendungen, die auf "Client" -Bibliotheken basieren, verfügen über das minimal erforderliche HTML-Markup ohne Daten und Vorlagen. </p><br><p><img src="https://habrastorage.org/webt/lk/i0/hh/lki0hhtlkm3jn-uuauyan3hzau4.png" alt="Client-Bundle"></p><br><p>  Moderne Webanwendungen rufen dynamisch oder " <em>progressiv</em> " Code, Vorlagen und deren Daten in Teilen vom Server ab.  Was vom Server geladen wird, entscheidet der "Client" selbst ( <em>Browser, Gerät</em> ) in Abhängigkeit von den Aktionen des Benutzers, der geöffneten Seite ( <em>"Route", Route</em> ) und den Funktionsanforderungen.  Heute nennen wir solche Anwendungen die Progressive Web App (PWA). </p><br><p><img src="https://habrastorage.org/webt/-5/tl/9i/-5tl9i7pufyerd7cnbymikfgdei.png" alt="Vor- und Nachteile von PWA"></p><br><p>  Wie Sie auf dieser Folie sehen können, haben PWAs viele Vorteile und ein großes Minus - den absoluten Mangel an SEO-Optimierung. </p><br><p>  Während die Bildung von HTML-Seiten auf dem Server keine Voraussetzung für die Arbeit im Browser des Benutzers ist, führen die sogenannten Spinnen und Bots (Crawler, Spinnen und Bots) das JavaScript der besuchten Seite nicht aus.  Damit Ihre Website in Suchergebnissen (Google, Bing, Yandex usw.), Instant Messenger, sozialen Netzwerken (Skype, Facebook, Twitter, iMessage, vk.com usw.) und in den meisten Anwendungen und Diensten angezeigt wird Sie können einen Link senden oder veröffentlichen - Sie müssen einen Weg finden, um den generierten HTML-Code zu übertragen, der sich aus der Ausführung von "Client" -JavaScript ergibt. </p><br><p><img src="https://habrastorage.org/webt/br/rw/cy/brrwcyiaglyt_e5aq-h7jwcwewo.png" alt="Integrieren Sie das Pre-Rendering in weniger als einer Stunde"></p><br><p>  Wenn Sie nun vor der Frage stehen, wie Sie SEO für eine Anwendung basierend auf einer clientseitigen JavaScript-Lösung bereitstellen können, haben Sie zwei Möglichkeiten: Implementieren / Integrieren von " <em>Server Side Rendering / SSR</em> ", indem Sie mehr Zeit und Ressourcen in die Entwicklung investieren oder verwenden Sie einen Pre-Rendering-Service eines Drittanbieters. </p><br><p><img src="https://habrastorage.org/webt/eq/vx/ut/eqvxutkqpot-d2e_fmqa6mvlgmg.png" alt="Pre-Rendering ist wie eine SSR, ohne Code zu schreiben"></p><br><p>  <em>Wie funktioniert es</em>  Als Proxy filtern wir Anforderungen von Robotern heraus und leiten sie an die Pre-Rendering-Engine weiter, wo die Seite angefordert und ihr JavaScript so ausgeführt wird, wie es im Browser des Benutzers ausgeführt worden wäre. </p><br><p><img src="https://habrastorage.org/webt/dg/jo/km/dgjokmpe-c-itlyr7bwxt-bn6tq.png" alt="Wie funktioniert das Pre-Rendering?"></p><br><p>  Ergebnisse der Webanwendung mit Pre-Rendering: </p><br><p><img src="https://habrastorage.org/webt/gx/0k/un/gx0kun_maxewc0ytozexq9ctf1c.png" alt="Pre-Rendering im Messenger"><br>  Vorschau-Links im Messenger </p><br><p><img src="https://habrastorage.org/webt/st/mn/vj/stmnvjucyi_pcsaadewxaunk1jq.png" alt="Pre-Rendering in sozialen Netzwerken"><br>  Vorschau von Links in sozialen Netzwerken </p><br><p><img src="https://habrastorage.org/webt/em/vm/zv/emvmzvhgjsjxewnt2ln7q3mvn1e.png" alt="Suchmaschinen-Pre-Rendering"><br>  Vorschau, Beschreibung, Metadaten und Sitelinks in Suchmaschinenergebnissen </p><br><p><img src="https://habrastorage.org/webt/5c/do/x3/5cdox3cxxjgl9zhh7ya2tta8fve.png" alt="ES6 / 7-Unterstützung"><br>  Wir sind die ersten, die die ECMAScript 6/7-Unterstützung einführen. </p><br><p>  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen zum</a> Pre-Rendering finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">prerendering.com</a> </p><br><hr><br><p><img src="https://habrastorage.org/webt/sb/2b/wf/sb2bwfsqybw0uimex3qq5soet9g.png" alt="Überwachung auf APIs, Sites und Server"></p><br><h3 id="monitoring">  Überwachung </h3><br><p>  Das zweitbeliebteste Produkt des Dienstes ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Überwachung</a> von Webanwendungen, APIs und Linux-Servern über das SNMP-Protokoll. <br>  Ein Überwachungsdienst von Drittanbietern ist eine hervorragende Lösung, da Sie und Ihr Team keine Ressourcen und Zeit für die Entwicklung und "Fertigstellung" der Überwachung installieren, aktualisieren, warten, investieren müssen. </p><br><p><img src="https://habrastorage.org/webt/g_/xo/bp/g_xobpppox4g2ifx5llkrjxe1qi.png" alt="Server-Antwortzeitleiste"></p><br><p>  Um sicherzustellen, dass Ihre Webanwendung funktioniert und für Benutzer zugänglich ist, überprüfen wir den Antwortcode, die Header, den Antworttext und wie schnell die Antwort empfangen wurde. </p><br><p><img src="https://habrastorage.org/webt/pv/br/rw/pvbrrwr3wi0bf6nnm3cc-ruoiwy.png" alt="Überwachung auf Nginx"></p><br><p>  Das Obige ist ein Beispiel für die Überwachung eines Endpunkts mit dynamisch generierten Daten. Sie müssen lediglich XML, JSON oder nur Number zurückgeben. Sie können auch Benachrichtigungen konfigurieren, selbst wenn die Werte zu hoch oder niedrig sind oder Ihre Kriterien nicht erfüllen. </p><br><p><img src="https://habrastorage.org/webt/5s/uy/pf/5suypf3vylv32ksdrqbiaf1w4q0.png" alt="SNMP-Panel"></p><br><p>  Oben sehen Sie ein Beispiel für die Überwachung eines Linux-Servers über das SNMP-Protokoll.  SNMP ist ein Industriestandard zum Lesen von Daten von verschiedenen Hardwaresensoren und dem Betriebssystem, einschließlich Linux-Servern, die zur Bereitstellung moderner Webanwendungen verwendet werden.  Um den unbefugten Zugriff auf Ihre Server zu verhindern, benachrichtigt Sie der Dienst über jede neu hergestellte SSH-Verbindung. </p><br><p><img src="https://habrastorage.org/webt/l_/1c/yt/l_1cytktj2qvi6jll7ux12pbway.png" alt="SSH-Verbindungsbenachrichtigungen"></p><br><p>  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> zum Überwachungsdienst finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">snmp-monitoring.com</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/lx/8l/a-/lx8la-jz4l20bj_qrpraegfut4a.png" alt="Web Analytics"></p><br><h3 id="veb-analitika">  Web Analytics </h3><br><p>  Das drittbeliebteste Serviceprodukt ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Web Analytics</a> .  Nachdem wir an einer Anwendung mit vielen Animationen gearbeitet hatten, nahmen sich unsere Designer viel Zeit, um die Animation reibungslos zu gestalten.  Alles war in Ordnung und wir haben die Aufgabe abgeschlossen und auf allen gängigen Geräten und Browsern akzeptable Animationen bereitgestellt.  Später stellte der Client eine kleine Aufgabe ein - das Hinzufügen des Analysecodes.  Dies war eine der beliebtesten Lösungen, mit der viele Daten über den Benutzer gesammelt wurden, einschließlich der Position des Cursors und des Bildlaufs, um eine Heatmap der Seite zu erstellen.  Da JavaScript über eine Single-Threaded-Laufzeit verfügt (Web Worker und Service Worker zählen nicht) und die Analyse einen erheblichen Teil der CPU-Ressourcen für die Verfolgung aller Benutzeraktionen benötigte, wurden alle unsere Arbeiten zur reibungslosen Animation auf Budget- und Mobilgeräten zerstört.  Daher kamen wir auf die Idee und die erste Implementierung einer leicht verständlichen, vertraulichen und GDPR-konformen Webanalyse in Echtzeit mit 100% Open Source und einem einfachen Nicht-Tracking-Verfahren für den Endbenutzer. </p><br><p><img src="https://habrastorage.org/webt/w9/rp/0o/w9rp0ogt58tnzn0jf9c8gyjpagq.png" alt="Sammeln und melden Sie alle JavaScript-Fehler"></p><br><p>  Eines der Hauptmerkmale der Webanalyse ist die automatische Erfassung und Organisation eines Berichts über alle Fehler der JavaScript- <em>Laufzeit</em> ( <em>Laufzeitfehler und Ausnahmen</em> ) in Echtzeit.  Wenn Sie sich mit Webentwicklung beschäftigen, wissen Sie, wie wichtig es ist, verschiedene Kombinationen von Geräten und Browsern in verschiedenen Versionen zu testen, aber alle 100% der Kombinationen abzudecken, ist physikalisch einfach unmöglich.  In diesem Moment sind Ihre Benutzer Eigentümer der Geräte, auf denen Tests durchgeführt werden müssen.  Web Analytics sammelt automatisch alle Fehler und Ausnahmen ( <em>Fehler, Laufzeitausnahmen</em> ) der JavaScript-Laufzeit.  Jeder Fehlerbericht enthält eine Beschreibung, eine Datei, eine Zeile und ein Symbol in der Datei, eine Stapelverfolgung (falls vorhanden), ein Gerät, einen Browser, ein Betriebssystem und deren Versionen. </p><br><p><img src="https://habrastorage.org/webt/j3/2m/p7/j32mp71blomylertopj72cotsdk.png" alt="Webanalyse kompatibel mit vue.js react.js meteor.js angle.js und anderen Javascript-Front-End-Lösungen"></p><br><p>  Eine vollständige Liste der verfügbaren Produkte und detailliertere Informationen finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ostr.io.</a>  Alle neuen Konten erhalten eine einmalige Lieferung von „Darlehen“ ( <em>kostenlos</em> ). Dies ermöglicht die kostenlose Implementierung von Integrations- und Testdiensten. </p><br><hr><br><p><img src="https://habrastorage.org/webt/2k/xx/qx/2kxxqxe0vbsprubsgqzssbsetq8.png" alt="Die Infrastruktur"></p><br><h3 id="infrastruktura">  Die Infrastruktur </h3><br><p>  Der interessanteste Teil ist die Service-Infrastruktur.  Derzeit werden 17 Server benötigt, um die Anforderungen des Dienstes zu erfüllen.  Alle Produkte und ihre Einheiten werden als Microservices implementiert und jeder Microservice wird auf einem physischen Server gehostet.  Alle Server sind identische Kopien voneinander.  Vor jeder Bereitstellung und Änderung auf dem Testserver wird die gesamte Prozedur in Schritten sortiert und in einem Bash-Skript ausgeführt. Anschließend wird das Skript an GitHub gesendet, von wo es von anderen Servern empfangen und gestartet wird.  Jeder Server enthält eine Kopie des Anwendungscodes, der Microservices, von Nginx und MongoDB ( <em>dank der Replikate</em> ). Dieses Schema ermöglicht es uns, Angriffen standzuhalten, erfolglose Tests zu überstehen und Zeit zur Lösung des Problems zu geben.  Der Dienst steht den Benutzern auch dann zur Verfügung, wenn 93% der Infrastruktur ausfallen. Dies kann natürlich die Antwortgeschwindigkeit beeinflussen, ermöglicht es jedoch, dass er im Rahmen des SLA erfolgt. </p><br><p>  Für eine gleichmäßige Lastverteilung zwischen allen Servern verwenden wir zwei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Round-Robin-DNS-</a> Ausgleichsebenen ( <em>in unserem Fall CloudFlare</em> ) und unsere eigenen Server, auf denen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HAProxy installiert ist</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/67/2l/e6/672le6hjb58olsqhe95vgtzpuuu.png" alt="Josk NPM-Paket"></p><br><h3 id="josk">  Josk </h3><br><p>  Wie Sie der obigen Beschreibung entnehmen können, gibt es viele wiederkehrende Ereignisse. Um beispielsweise Server, APIs, Whois, DNS und andere Endpunkte zu überwachen, müssen wir regelmäßig und ohne Unterbrechungen eine Anfrage an diese senden.  Um die Kontinuität periodischer Aufgaben zu gewährleisten, haben wir unser dezentrales Netzwerk aus vielen Servern aufgebaut, sodass wir immer wissen, dass es einen freien Server für die Ausführung von Aufgaben gibt.  Sobald die Anforderungen die aktuellen Funktionen überschreiten, können wir dank des oben beschriebenen Schemas problemlos die erforderliche Anzahl neuer Server hinzufügen, um die horizontale Skalierung zu vereinfachen. </p><br><p>  In der Anfangsphase übertrafen die Funktionen unserer Server die aktuellen Anforderungen erheblich. Infolgedessen befanden wir uns in einer Situation, in der zwei oder mehr freie Server dieselbe Aufgabe parallel ausführten.  Dies bedrohte die weitere Entwicklung erheblich, da der Dienst viele identische Briefe an einen Benutzer senden oder Dutzende von DNS-Anfragen von unseren IP-Adressen senden konnte, was mit einem Verbot drohte. </p><br><p> Um dieses Problem schnell zu lösen, haben wir einen Task-Desynchronisierer entwickelt, der zu 95% garantiert, dass die Task in der Warteschlange einmal und in einer Zeiteinheit ausgeführt wird.  Später veröffentlichten wir den Desynchronizer-Code als NPM-Paket und nannten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>josk</code></a> .  Wenn Sie unter die Haube schauen möchten, finden Sie hier einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zu GitHub</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/9r/e9/d_/9re9d_zowqj18urp7e9gytvtwpi.jpeg" alt="Postzeit-NPM-Paket"></p><br><h3 id="mail-time">  Postzeit </h3><br><p>  Aus dem gleichen Grund haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code> mail-time</code></a> , mit dem Sie Briefe von einer Multiserver-Infrastruktur senden können.  Das Paket wird auf der Basis von <code>josk</code> , organisiert Nachrichten in einer Warteschlange und sendet sie von einer Multiserver-Infrastruktur.  Zusätzlich zum Mailing können Sie mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>mail-time</code></a> Microservices in folgende Bereiche unterteilen: </p><br><ol><li>  "clients" ( <code>client</code> ), die nur Buchstaben zur Warteschlange hinzufügen; </li><li>  "Server" ( <code>server</code> ), der einen unabhängigen Mikrodienst erstellt, der nur zwei Aufgaben ausführt - die Verwaltung der Buchstabenwarteschlange und deren Verteilung. </li></ol><br><p>  Dies ist nicht die einzige einzigartige Funktion der Bibliothek. Einzelheiten und eine detailliertere Beschreibung aller Funktionen finden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie in der Dokumentation</a> . </p><br><p>  Leider benötigen derzeit beide Pakete ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>josk</code></a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>mail-time</code></a> ) MongoDB als Datenbank (DB) für die Warteschlange und die De-Synchronisation.  Wir sind bereit, beide Bibliotheken zu entwickeln, und werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PR</a> gerne diskutieren und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">übernehmen</a> , um Unterstützung für andere Datenbanken hinzuzufügen.  Für unseren Teil scheint Redis ein großartiger Kandidat für die Integration zu sein. </p><br><p>  Vielen Dank an alle, die bis zum Ende gelesen haben.  Wenn Sie interessiert waren, Fragen stellen und im LAN schreiben und das Interesse der Leser besteht, bin ich bereit, über die Erfahrungen bei der Teilnahme und beim Sprechen an anderen Veranstaltungen zu Webentwicklung, node.js und JavaScript zu sprechen. </p><br><p>  <em>Alle, die sich für ostr.io interessieren, den Service nutzen, einen Aktionscode, einen Rabatt oder Antworten auf Fragen erhalten möchten, schreiben Sie mir im PM oder in den sozialen Netzwerken.</em>  <em>Support ostr.io spricht nur Englisch, reagiert aber sehr schnell, zum Beispiel über den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FB Messenger</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443114/">https://habr.com/ru/post/de443114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443102/index.html">Verhaltensänderung als Produkt: Warum sammelt Marie Kondo mit Sequoia Capital eine 40-Millionen-Dollar-Runde?</a></li>
<li><a href="../de443104/index.html">Berechnen Sie symbolische Ausdrücke mit unscharfen Dreieckszahlen in Python</a></li>
<li><a href="../de443106/index.html">Angekündigt USB4: Was ist über den Standard bekannt</a></li>
<li><a href="../de443110/index.html">Konfigurieren Sie den Kubernetes HA-Cluster auf Bare Metal mit GlusterFS & MetalLB. Teil 2/3</a></li>
<li><a href="../de443112/index.html">Sind Sie sicher, dass Sie Ihrem VPN vertrauen können?</a></li>
<li><a href="../de443120/index.html">Die Staatsduma wird den Kampf gegen den illegalen Verkauf von SIM-Karten fortsetzen</a></li>
<li><a href="../de443122/index.html">Verlust von 809 Millionen E-Mail-Adressen des Verifications.io-Dienstes aufgrund öffentlich geöffneter MongoDB</a></li>
<li><a href="../de443124/index.html">React.lazy? Aber was ist, wenn Sie keine Komponente haben?</a></li>
<li><a href="../de443126/index.html">D = Vertrauen: Warum Google, Amazon, Apple und Facebook es verlieren und wie man es wiederherstellt</a></li>
<li><a href="../de443128/index.html">kW, kW * h und kW / h</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>