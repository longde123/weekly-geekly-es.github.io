<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî± üë®üèΩ‚Äçü§ù‚Äçüë®üèª üë®üèº‚Äçüé§ Entfernen von hochfrequenten Ger√§uschen aus den Signalen von Schwingungssensoren w√§hrend der Schwingungsdiagnose von Lagern üëµüèæ üë©üèΩ‚ÄçüöÄ üëèüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto aus der Ver√∂ffentlichung genommen 

 Einf√ºhrung 
 Eine der dringendsten Aufgaben der digitalen Signalverarbeitung ist die Reinigung des Signals v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entfernen von hochfrequenten Ger√§uschen aus den Signalen von Schwingungssensoren w√§hrend der Schwingungsdiagnose von Lagern</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459922/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/zj/kb/59zjkb8gnd_phkp1allrzocs6by.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Foto aus der Ver√∂ffentlichung genommen</a> <br><br><h3>  Einf√ºhrung </h3><br>  Eine der dringendsten Aufgaben der digitalen Signalverarbeitung ist die Reinigung des Signals von Rauschen.  Jedes praktische Signal enth√§lt nicht nur n√ºtzliche Informationen, sondern auch Spuren einiger Nebeneffekte von Interferenzen oder Rauschen.  Zus√§tzlich haben w√§hrend der Schwingungsdiagnose Signale von Schwingungssensoren ein instation√§res Frequenzspektrum, was die Filteraufgabe erschwert. <br><br>  Es gibt viele verschiedene M√∂glichkeiten, um hochfrequentes Rauschen aus einem Signal zu entfernen.  Beispielsweise enth√§lt die Scipy-Bibliothek Filter, die auf verschiedenen Filtermethoden basieren: Kalman;  Gl√§tten des Signals durch Mitteln entlang der Zeitachse und anderer. <br><br>  Der Vorteil des DWT-Verfahrens (Discrete Wavelet Transform) ist jedoch die Vielzahl der Wavelet-Formen.  Sie k√∂nnen ein Wavelet ausw√§hlen, das eine f√ºr die erwarteten Ph√§nomene charakteristische Form aufweist.  Sie k√∂nnen beispielsweise ein Signal in einem bestimmten Frequenzbereich ausw√§hlen, dessen Form f√ºr das Auftreten eines Defekts verantwortlich ist. <br><br>  <b>Der Zweck dieser Ver√∂ffentlichung</b> ist die Analyse der Methoden zum Filtern der Signale von Schwingungssensoren unter Verwendung der DWT-Signalumwandlung, des Kalman-Filters und der Methode des gleitenden Durchschnitts. <br><br><h3>  Quelldaten zur Analyse </h3><br>  In der Ver√∂ffentlichung wird der Betrieb von Filtern basierend auf verschiedenen Filtermethoden anhand <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eines NASA-Datensatzes</a> analysiert.  Auf der Versuchsplattform PRONOSTIA erhaltene Daten: <br><br><img src="https://habrastorage.org/webt/yt/bz/9l/ytbz9lrxw2h8roaaokvclm7qqgc.png"><br><br>  Das Kit enth√§lt Daten zu Vibrationssensorsignalen f√ºr den Verschlei√ü verschiedener Lagertypen.  Der Zweck der Ordner mit den Signaldateien ist in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tabelle angegeben</a> : <br><br><img src="https://habrastorage.org/webt/2w/ap/wr/2wapwr4x6xe5r-a2y2_nwc_oski.png"><br><br>  Die √úberwachung des Lagerzustands erfolgt durch die Signale von Schwingungssensoren (horizontale und vertikale Beschleunigungsmesser), Kraft und Temperatur. <br><br><img src="https://habrastorage.org/webt/wl/o1/a0/wlo1a0i6430fko-l5lijoa5tu4c.png"><br><br>  Empfangene Signale f√ºr drei verschiedene Lasten: <br><br><ul><li>  Erste Arbeitsbedingungen: 1800 U / min und 4000 N; </li><li>  Zweite Arbeitsbedingungen: 1650 U / min und 4200 N; </li><li>  Dritte Betriebsbedingungen: 1500 U / min und 5000 N. </li></ul><br><a name="habracut"></a><br>  F√ºr diese Bedingungen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erstellen</a> wir unter Verwendung einer kontinuierlichen Wavelet-Signalumwandlung die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spektroleistungsskalogramme</a> f√ºr die Daten aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Testsatz</a> - eine Datei (f√ºr einen Lagertyp) aus den Ordnern: ['Test_set / Bearing1_3 / acc_00001.csv', 'Test_set / Bearing2_3 / acc_00001. csv ',' Test_set / Bearing3_3 / acc_00001.csv '] (siehe Tabelle 1). <br><br><div class="spoiler">  <b class="spoiler_title">Skalogrammliste</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename_n = [<span class="hljs-string"><span class="hljs-string">'Test_set/Bearing1_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00001.csv'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> filename <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filename_n: df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, cbar=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'-  %s \n( )'</span></span>%filename) show()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/zb/k4/v7/zbk4v74jffmfkopfqkhecmjjelu.png"><br><img src="https://habrastorage.org/webt/hz/nh/nh/hznhnhcpyg3thjqs4deu4dleq0s.png"><br><img src="https://habrastorage.org/webt/n2/ii/jv/n2iijvml8h0tq-bq38rcabkz8ny.png"><br><br>  Aus den gegebenen Skalogrammen folgt, dass die Momente der Erh√∂hung der Leistung des Spektrums fr√ºher auftreten und eine Periodizit√§t f√ºr die Betriebsbedingungen zeigen: 1650 U / min und 4200 N, was auf eine beschleunigte Verschlechterung der Lager in diesem Frequenzband f√ºr die verringerte Kraft hinweist.  Wir werden dieses Signal ('Test_set / Bearing2_3 / acc_00001.csv') verwenden, um Rauschunterdr√ºckungsmethoden zu analysieren. <br><br><h3>  Signaldekonstruktion mit DWT </h3><br>  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ver√∂ffentlichung haben</a> wir gesehen, wie eine Filterbank auf dem DWT implementiert ist, die ein Signal in seine Frequenzteilb√§nder zerlegen kann.  Die Approximationskoeffizienten (cA) repr√§sentieren den niederfrequenten Teil des Signals (Mittelungsfilter).  Detailkoeffizienten (cD) repr√§sentieren den Hochfrequenzanteil des Signals.  Als n√§chstes werden wir untersuchen, wie DWT verwendet werden kann, um ein Signal in seine Frequenzteilb√§nder zu zerlegen und das urspr√ºngliche Signal wiederherzustellen. <br><br>  Es gibt zwei M√∂glichkeiten, um das Problem der Signaldekonstruktion mit PyWavelets-Tools zu l√∂sen: <br><br>  Der erste Weg besteht darin, pywt.dwt () auf das Signal anzuwenden, um die Approximations- und Detailkoeffizienten (cA1, cD1) zu extrahieren.  Um das Signal wiederherzustellen, verwenden wir dann pywt.idwt (): <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values (cA1, cD1) = pywt .dwt (signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) r_signal = pywt.idwt (cA1, cD1, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) fig, ax =subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'   ( pywt.dwt()) \n   ( pywt.idwt()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/iv/fm/pi/ivfmpiij21temoybrrrdqkflkxw.png"><br><br>  Die zweite M√∂glichkeit, die Funktion pywt.wavedec () auf das Signal anzuwenden, besteht darin, alle Approximations- und Detailkoeffizienten auf ein bestimmtes Niveau zur√ºckzusetzen.  Diese Funktion nimmt das Eingangssignal und den Pegel als Eingang und gibt einen Satz von Approximationskoeffizienten (n-ten Pegel) und n S√§tze von Detailkoeffizienten (von 1 bis n-ten Pegel) zur√ºck.  Wenden Sie f√ºr die Dekonstruktion pywt.waverec () an: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00026.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values coeffs = pywt.wavedec(signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, level=<span class="hljs-number"><span class="hljs-number">8</span></span>) r_signal = pywt.waverec(coeffs, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>) fig, ax = plt.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r '</span></span>,label= <span class="hljs-string"><span class="hljs-string">' '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'    - level.\n   ( pywt.wavedec()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/qq/ao/bn/qqaobnxdnlkrjllymvd3aqxti44.png"><br>  Die zweite M√∂glichkeit, das Signal zu dekonstruieren und wiederherzustellen, ist bequemer. Sie k√∂nnen sofort den gew√ºnschten Dekonstruktionsgrad einstellen. <br><br><h3>  Entfernen von hochfrequentem Rauschen durch Eliminieren einiger Detailkoeffizienten w√§hrend der Signaldekonstruktion </h3><br>  Wir werden das Signal wiederherstellen, indem wir einige der Detailkoeffizienten l√∂schen.  Da die Detailkoeffizienten den hochfrequenten Teil des Signals darstellen, filtern wir diesen Teil des Frequenzspektrums einfach.  Wenn das Signal hochfrequentes Rauschen enth√§lt, k√∂nnen Sie es auf diese Weise filtern. <br><br>  In der PyWavelets-Bibliothek kann dies mit der Schwellenwertverarbeitungsfunktion pywt.threshol () erfolgen: <br><br>  pywt.threshold (Daten, Wert, Modus = 'weich', Ersatz = 0) ¬∂ <br>  <b>Daten:</b> array_like <br>  <i>Numerische Daten.</i> <br>  <b>Wert:</b> Skalar <br>  <i>Schwellenwert.</i> <br>  <b>Modus:</b> {'weich', 'hart', 'garrote', 'gr√∂√üer', 'kleiner'} <br>  <i>Definiert den Typ des Schwellenwerts, der auf die Eingabe angewendet wird.</i>  <i>Der Standardwert ist "weich".</i> <br>  <b>Ersatz:</b> float, optional <br>  <i>Substitutionswert (Standard: 0).</i> <br>  <b>Ausgabe:</b> Array <br>  <i>Schwellenwertarray.</i> <br><br>  Die Anwendung der Schwellenwertverarbeitungsfunktion f√ºr einen bestimmten Schwellenwert wird am besten anhand des folgenden Beispiels betrachtet: <br><br><pre> <code class="python hljs">&gt;&gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; data =linspace(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>) &gt;&gt;&gt; data array([<span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.9</span></span>,<span class="hljs-number"><span class="hljs-number">1.66666667</span></span>, <span class="hljs-number"><span class="hljs-number">2.35714286</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>])</code> </pre><br>  Wir zeichnen den Schwellenwertfunktionsgraphen anhand der folgenden Auflistung: <br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt s = linspace(<span class="hljs-number"><span class="hljs-number">-4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>) s_soft = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span>) s_hard = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'hard'</span></span>) s_garrote = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) plot(s, s_soft) plot(s, s_hard) plot(s, s_garrote) legend([<span class="hljs-string"><span class="hljs-string">'soft (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'hard (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'non-neg. garrote (0.5)'</span></span>]) xlabel(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ylabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/gd/lp/oo/gdlpoowyfgb1iv0kd-wm1vpb8vg.png"><br><br>  Die Grafik zeigt, dass die nicht negative Garott-Schwelle zwischen der weichen und der harten Schwelle liegt.  Es sind zwei Schwellenwerte erforderlich, die die Breite des √úbergangsbereichs definieren. <br><br><h3>  Der Einfluss der Schwellenwertfunktion auf die Filtereigenschaften </h3><br>  Wie aus der obigen Grafik hervorgeht, sind f√ºr uns nur zwei Schwellenwertfunktionen "weich" und "Garrote" geeignet. Um ihren Einfluss auf die Filtereigenschaften zu untersuchen, schreiben wir die Liste auf: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ,<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=w ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n   :%s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/yx/th/g8/yxthg8ew_lkh-koeq6bnfvw6tla.png"><br><img src="https://habrastorage.org/webt/8q/nn/35/8qnn353spuea5_mtc6jb_t1tmty.png"><br><br>  Wie aus den Diagrammen hervorgeht, bietet die Soft-Funktion eine bessere Gl√§ttung als die Garrote-Funktion, daher werden wir die Soft-Funktion in Zukunft verwenden. <br><br><h3>  Der Einfluss der Detailschwelle auf die Filtereigenschaften </h3><br>  F√ºr den betrachteten Filtertyp ist der Schwellenwert f√ºr die √Ñnderung der Detailkoeffizienten ein wichtiges Merkmal. Daher untersuchen wir seine Wirkung anhand der folgenden Auflistung: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-number"><span class="hljs-number">0.1</span></span>,<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.6</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal,w) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n    %s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/nu/vp/te/nuvptehfyqvcheixzbsqac506ci.png"><br><img src="https://habrastorage.org/webt/2o/vg/nn/2ovgnnncwq4b4yc0odhhj_bteae.png"><br><img src="https://habrastorage.org/webt/sk/ep/_r/skep_rwbarrrdfhmnxbobzlxiyc.png"><br><br>  Wie aus den erhaltenen Diagrammen hervorgeht, beeinflusst der Detaillierungsgradschwellenwert den Ma√üstab der gesiebten Teile.  Mit einer Erh√∂hung des Schwellenwerts subtrahiert das Wavelet das Rauschen eines immer h√∂heren Pegels, bis eine √ºberm√§√üige Vergr√∂√üerung der Detailskala auftritt und die Transformation beginnt, die Form des urspr√ºnglichen Signals zu verzerren. F√ºr unser Signal sollte der Schwellenwert nicht h√∂her als 0,63 sein. <br><br><h3>  Die Wirkung von Wavelet auf die Filtereigenschaften </h3><br>  Die PyWavelets-Bibliothek verf√ºgt √ºber eine ausreichende Anzahl von Wavelets f√ºr die DWT-Konvertierung, die wie folgt abgerufen werden k√∂nnen: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; print(pywt.wavelist(kind= <span class="hljs-string"><span class="hljs-string">'discrete'</span></span>)) [<span class="hljs-string"><span class="hljs-string">'bior1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif1'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif2'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif3'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif4'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif5'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif6'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif7'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif9'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif10'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif11'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif12'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif13'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif14'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif15'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif16'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'db3'</span></span>, <span class="hljs-string"><span class="hljs-string">'db4'</span></span>, <span class="hljs-string"><span class="hljs-string">'db5'</span></span>, <span class="hljs-string"><span class="hljs-string">'db6'</span></span>, <span class="hljs-string"><span class="hljs-string">'db7'</span></span>, <span class="hljs-string"><span class="hljs-string">'db8'</span></span>, <span class="hljs-string"><span class="hljs-string">'db9'</span></span>, <span class="hljs-string"><span class="hljs-string">'db10'</span></span>, <span class="hljs-string"><span class="hljs-string">'db11'</span></span>, <span class="hljs-string"><span class="hljs-string">'db12'</span></span>, <span class="hljs-string"><span class="hljs-string">'db13'</span></span>, <span class="hljs-string"><span class="hljs-string">'db14'</span></span>, <span class="hljs-string"><span class="hljs-string">'db15'</span></span>, <span class="hljs-string"><span class="hljs-string">'db16'</span></span>, <span class="hljs-string"><span class="hljs-string">'db17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db18'</span></span>, <span class="hljs-string"><span class="hljs-string">'db19'</span></span>, <span class="hljs-string"><span class="hljs-string">'db20'</span></span>, <span class="hljs-string"><span class="hljs-string">'db21'</span></span>, <span class="hljs-string"><span class="hljs-string">'db22'</span></span>, <span class="hljs-string"><span class="hljs-string">'db23'</span></span>, <span class="hljs-string"><span class="hljs-string">'db24'</span></span>, <span class="hljs-string"><span class="hljs-string">'db25'</span></span>, <span class="hljs-string"><span class="hljs-string">'db26'</span></span>, <span class="hljs-string"><span class="hljs-string">'db27'</span></span>, <span class="hljs-string"><span class="hljs-string">'db28'</span></span>, <span class="hljs-string"><span class="hljs-string">'db29'</span></span>, <span class="hljs-string"><span class="hljs-string">'db30'</span></span>, <span class="hljs-string"><span class="hljs-string">'db31'</span></span>, <span class="hljs-string"><span class="hljs-string">'db32'</span></span>, <span class="hljs-string"><span class="hljs-string">'db33'</span></span>, <span class="hljs-string"><span class="hljs-string">'db34'</span></span>, <span class="hljs-string"><span class="hljs-string">'db35'</span></span>, <span class="hljs-string"><span class="hljs-string">'db36'</span></span>, <span class="hljs-string"><span class="hljs-string">'db37'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-string"><span class="hljs-string">'dmey'</span></span>, <span class="hljs-string"><span class="hljs-string">'haar'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym2'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym3'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym4'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym5'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym6'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym7'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym9'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym10'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym11'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym12'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym13'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym14'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym15'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym16'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym17'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym18'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym19'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym20'</span></span>]</code> </pre> <br>  Der Einfluss des Wavelets auf die Filtercharakteristik h√§ngt von seiner primitiven Funktion ab.  Um diese Abh√§ngigkeit zu demonstrieren, w√§hlen wir zwei Wavelets aus der Dobeshi-Familie aus - db1 und db38 - und betrachten diese Familien: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* db_wavelets = [<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] fig, axarr = subplots(ncols=<span class="hljs-number"><span class="hljs-number">2</span></span>, nrows=<span class="hljs-number"><span class="hljs-number">5</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) fig.suptitle(<span class="hljs-string"><span class="hljs-string">'  : db1,db38'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> col_no, waveletname <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(db_wavelets): wavelet = pywt.Wavelet(waveletname) no_moments = wavelet.vanishing_moments_psi family_name = wavelet.family_name <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> row_no, level <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)): wavelet_function, scaling_function, x_values = wavelet.wavefun(level = level) axarr[row_no, col_no].set_title(<span class="hljs-string"><span class="hljs-string">"{} : {}.   : {}. :: {} "</span></span>.format( waveletname, level, no_moments, len(x_values)), loc=<span class="hljs-string"><span class="hljs-string">'left'</span></span>) axarr[row_no, col_no].plot(x_values, wavelet_function, <span class="hljs-string"><span class="hljs-string">'b--'</span></span>) axarr[row_no, col_no].set_yticks([]) axarr[row_no, col_no].set_yticklabels([]) tight_layout() subplots_adjust(top=<span class="hljs-number"><span class="hljs-number">0.9</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/fs/0m/sq/fs0msqniw-dcixmdhfbrxrwpwfg.png"><br><br>  In der ersten Spalte sehen wir Daubeshi-Wavelets erster Ordnung (db1), in der zweiten Spalte achtunddrei√üigster Ordnung (db38).  Somit hat db1 einen Moment des Aussterbens und db38 hat 38 Momente des Aussterbens.  Die Anzahl der Momente des Verschwindens h√§ngt mit der Reihenfolge der Approximation und der Gl√§tte des Wavelets zusammen.  Wenn ein Wavelet P Verschwindungspunkte hat, kann es Polynome vom Grad P - 1 approximieren. <br><br>  Glattere Wavelets erzeugen eine glattere Signalann√§herung, und umgekehrt - ‚Äûkurze‚Äú Wavelets verfolgen die Spitzen der angen√§herten Funktion besser.  Bei der Auswahl eines Wavelets k√∂nnen wir auch den Zersetzungsgrad angeben.  Standardm√§√üig w√§hlt PyWavelets den maximal m√∂glichen Zerlegungspegel f√ºr das Eingangssignal aus.  Der maximale Zerlegungspegel h√§ngt von der L√§nge des Eingangssignals und des Wavelets ab: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) data = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values w=[<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> w: n_level=pywt.dwt_max_level(len(data),v) print(<span class="hljs-string"><span class="hljs-string">'  %s   : %s '</span></span> %(v,n_level))</code> </pre> <br></div></div><br>  F√ºr db1 Wavelet maximales Zerlegungsniveau: 11 <br>  F√ºr db38 Wavelet maximales Zerlegungsniveau: 5 <br><br>  F√ºr die erhaltenen Werte der maximalen Wavelet-Zerlegungspegel betrachten wir den Betrieb des Filters, um hochfrequentes Rauschen zu entfernen: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values discrete_wavelets =[(<span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>),(<span class="hljs-string"><span class="hljs-string">'db1'</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> discrete_wavelets: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.63</span></span></span></span><span class="hljs-function"><span class="hljs-params">, wavelet=v[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal wavelet = pywt.DiscreteContinuousWavelet(v[<span class="hljs-number"><span class="hljs-number">0</span></span>]) phi, psi, x = wavelet.wavefun(level=v[<span class="hljs-number"><span class="hljs-number">1</span></span>]) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.set_title(<span class="hljs-string"><span class="hljs-string">"   : %s,level=%s"</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.plot(x,phi,linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">'   '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'   \n   :%s,level=%s'</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]),fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(rec, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span>), wavelet=wavelet,figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  \n(   DWT  )'</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/ox/ye/ly/oxyelyqw4xi75vxu8sgn57jy2ek.png"><br><img src="https://habrastorage.org/webt/iv/-s/sy/iv-ssyb2yau4ym95tk7ks37hddo.png"><br><img src="https://habrastorage.org/webt/1f/vm/4t/1fvm4trkcng-igaafvxppvadkvo.png"><br><img src="https://habrastorage.org/webt/w1/zm/ls/w1zmlsmgqnlnbj2ww5v6nijdmyo.png"><br><img src="https://habrastorage.org/webt/js/wc/l3/jswcl3-b_tcy_cth70tlktwc6ka.png"><br><img src="https://habrastorage.org/webt/z8/c-/83/z8c-83mpmq8p5ewenjbkudpjh5s.png"><br><br>  Aus den zitierten Wellenformen der Signale am Filterausgang folgt, dass f√ºr das db38-Wavelet auf die Spitzenleistung des Spektrums lokalisierte Bereiche folgen, f√ºr das db1-Wavelet verschwinden diese Bereiche.  Es ist anzumerken, dass beispielsweise das db38-Wavelet ein Signal mit einem Polynom vom Grad 37 approximieren kann.  Dies erweitert die Klassifizierung von Signalen, um beispielsweise Fehlfunktionen von Ger√§ten anhand der Signale von Vibrationssensoren zu identifizieren. <br><br>  <b>Da das Signal nach dem Filter mit dem Daubechies-Wavelet eine Zeitreihe unter Verwendung von Approximations- und Zerlegungskoeffizienten als Eigenschaften der Reihe bildet, kann man den Grad der N√§he solcher Reihen bestimmen, was ihre Suche und Klassifizierung stark vereinfacht</b> <br><br><h3>  Kalman-Filter zur Entfernung von hochfrequentem Rauschen </h3><br>  Das Kalman-Filter wird h√§ufig zum Filtern von Rauschen in verschiedenen dynamischen Systemen verwendet.  Betrachten Sie ein dynamisches System mit einem Zustandsvektor x. <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi><mo>+</mo><mi>w</mi><mo stretchy=&quot;false&quot;>(</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.421ex" height="2.66ex" viewBox="0 -832 8792.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="4710" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2B" x="5504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-77" x="6505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-28" x="7222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-51" x="7611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-29" x="8403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> x = F \ cdot x + w (Q) </script><br><br>  wobei F die √úbergangsmatrix ist <br>  w (Q) ist ein zuf√§lliger Prozess (Rauschen) mit einer mathematischen Erwartung von Null und einer Kovarianzmatrix Q. <br><br>  Wir werden zu jedem Zeitpunkt Zustands√ºberg√§nge des Systems mit einem bekannten Messfehler beobachten.  Das Entfernen von Rauschen mit der Kalman-Methode besteht aus zwei Schritten: Extrapolation und Korrektur. <br><br>  Stellen Sie die Systemparameter ein: <br><br>  Q-Matrix der Rauschkovarianz (Prozessrauschkovarianz). <br>  H ist die Beobachtungsmatrix (Messung). <br>  R - Kovarianz des Beobachtungsrauschens (Messrauschkovarianz). <br>  P = Q ist der Anfangswert der Kovarianzmatrix f√ºr den Zustandsvektor. <br>  z (t) ist der beobachtete Zustand des Systems. <br>  x = z (0) ist der Anfangswert der Bewertung des Zustands des Systems. <br><br>  F√ºr jede Beobachtung z berechnen wir den gefilterten Zustand x <br>  und dazu f√ºhren wir die folgenden schritte aus. <br><br>  ‚Ä¢ Schritt 1: Extrapolation <br>  1. Extrapolation (Vorhersage) des Zustands des Systems <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.269ex" height="2.057ex" viewBox="0 -780.1 5282.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="4710" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> x = F \ cdot x </script><br>  2. Berechnen Sie die Kovarianzmatrix f√ºr den extrapolierten Zustandsvektor <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mo>+</mo><mi>Q</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.749ex" height="2.78ex" viewBox="0 -935.7 11086.5 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="1027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-46" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="3083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="4040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="4525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-50" x="4887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="5888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="6322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="6845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="7331" y="0"></use><g transform="translate(7692,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-54" x="1104" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2B" x="9294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-51" x="10295" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>F</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mo>+</mo><mi>Q</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> F = F \ cdot P \ cdot F ^ {T} + Q </script><br><br>  ‚Ä¢ Schritt 2: Korrektur <br>  1. Berechnen Sie den Fehlervektor, die Abweichung der Beobachtung vom erwarteten Zustand <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>=</mo><mi>z</mi><mo>&amp;#x2212;</mo><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.346ex" height="2.419ex" viewBox="0 -780.1 7038 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-7A" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2212" x="2522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="3523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="4661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="5095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="5618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="6104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="6465" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>=</mo><mi>z</mi><mo>‚àí</mo><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> y = z-H \ cdot x </script><br>  2. Berechnen Sie die Kovarianzmatrix f√ºr den Abweichungsvektor (Fehlervektor) <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi><mo>=</mo><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mo>+</mo><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.045ex" height="2.539ex" viewBox="0 -935.7 11213.8 1093.4" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="1979" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="3118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="3551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="4075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-50" x="4922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="5923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="6880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="7366" y="0"></use><g transform="translate(7727,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2B" x="9453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-52" x="10454" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mo>=</mo><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mo>+</mo><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> S = H \ cdot P \ cdot H ^ {T} + R </script><br>  3. Berechnen Sie die Kalman-Gewinne <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>K</mi><mo>=</mo><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.632ex" height="2.419ex" viewBox="0 -935.7 13188.9 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-4B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="1167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-50" x="2223" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="3225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="3658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="4667" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="5029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="6167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="6601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="7124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="7610" y="0"></use><g transform="translate(7971,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="9725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="10158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="10682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="11167" y="0"></use><g transform="translate(11529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-53" x="0" y="0"></use><g transform="translate(655,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-31" x="778" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>K</mi><mo>=</mo><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>1</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-6"> K = P \ cdot H \ cdot H ^ {T} \ cdot S ^ {- 1} </script><br>  4. Korrektur der Zustandsvektorsch√§tzung <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>K</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.59ex" height="2.419ex" viewBox="0 -780.1 7143 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-78" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2B" x="2701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-4B" x="3702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="4841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="5275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="5798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="6284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-79" x="6645" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>K</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> x = x + K \ cdot y </script><br>  5. Wir korrigieren die Kovarianzmatrix zur Sch√§tzung des Systemzustandsvektors <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>I</mi><mo>&amp;#x2212;</mo><mi>K</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.082ex" height="2.66ex" viewBox="0 -832 11229.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-28" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-49" x="2475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2212" x="3201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-4B" x="4202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="5342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="5775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="6299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="6784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-48" x="7146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-29" x="8034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="8674" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="9107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="9631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="10116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-50" x="10478" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mo>‚àí</mo><mi>K</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> P = (I-K \ cdot H) \ cdot P </script><br><br><div class="spoiler">  <b class="spoiler_title">Auflistung f√ºr die Implementierung des Algorithmus</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kalman_filter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( z, F = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #     </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(transitionMatrix)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Q = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(processNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> H = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurement)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> #    </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurementNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function">:</span></span> n = z.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">#   #m = z.shape[1] #   x = z[0,:].transpose() #      P = Q #       r = [ x ] #  for i in range(1,n): # : x = F.dot( x ) #  ()   P = F.dot(P).dot( F.transpose() ) + Q #       # : y = z[i] - H.dot(x) #  ,      ()  S = H.dot(P).dot(H.transpose()) + R #      ( ) K = P.dot(H.transpose()).dot(linalg.inv(S)) #     x = x + K.dot(y) #     P = ( eye(z.shape[1]) - K.dot(H) ).dot(P) #       r.append( x.transpose()) return array(r) filename = 'Test_set/Bearing2_3/acc_00001.csv' df = pd.read_csv(filename, header=None) signal = df[4].values N= signal .shape[0] #   # 2 dimensions y0 =linspace(0.0,2500.0,N) y1 =signal d = array(list(zip(y0,y1))) dn = dr = kalman_filter(dn) fig, ax = subplots(figsize=(8,4)) ax.plot( d[:,0], d[:,1],'b', label=' ' ) ax.plot( r[:,0], r[:,1],'r', label='kalman' ) ax.legend(loc='upper left') ax.set_title('       \n (  )', fontsize=12) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/zp/ql/ln/zpqllnxdxf-fgpt2gyhxg4xekwm.png"><br><br>  F√ºr das angegebene dynamische Modell k√∂nnen Sie die pyKalman-Bibliothek verwenden: <br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pykalman <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KalmanFilter <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values measurements =signal kf = KalmanFilter(transition_matrices=[<span class="hljs-number"><span class="hljs-number">1</span></span>] ,<span class="hljs-comment"><span class="hljs-comment"># A      t  t+1 observation_matrices=[1],# C   initial_state_mean=measurements[0],#   initial_state_covariance=[1],#    observation_covariance=[1],# R    transition_covariance= 0.01) # Q     state_means, state_covariances = kf.filter(measurements)# ,   state_means=[w[0] for w in state_means] state_std = sqrt(state_covariances[:,0]) fig, ax = subplots(figsize=(8,4)) ax.plot(measurements ,'b', label=' ') ax.plot(state_means ,'r', label='kalman- ') ax.legend() ax.set_title('      \n ( pyKalman)', fontsize=14) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) wavelet = 'cmor1-0.5' ax = ax = scg.cws(signal, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4),cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT    \n( )') ax = ax = scg.cws(state_means, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4), cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT     \n(  )') show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/z8/uh/p-/z8uhp-7gzngp1uzvix5bxhjadd0.png"><br><img src="https://habrastorage.org/webt/ti/qd/gy/tiqdgyoia3_ilxnbcqq8pmwoyi8.png"><br><img src="https://habrastorage.org/webt/ws/ws/il/wswsilmi0tqwgrtwp-ezkdkdvy4.png"><br><br>  Das Kalman-Filter entfernt hochfrequentes Rauschen, erlaubt jedoch keine √Ñnderung der Form des Ausgangssignals. <br><br><h3>  Methode des gleitenden Durchschnitts </h3><br>  Bei der Bestimmung der Hauptrichtung von √Ñnderungen in einer stark oszillierenden Sequenz tritt das Problem auf, sie unter Verwendung der Methode des gleitenden Durchschnitts zu gl√§tten.  Dies k√∂nnen die Messwerte des Kraftstoffstandsensors im Auto oder, wie in unserem Fall, die Daten von Hochfrequenzsensoren bez√ºglich des beschleunigten Abbaus von Lagern sein.  Das Problem kann als Wiederherstellung einer Sequenz r betrachtet werden, der Rauschen √ºberlagert wurde. <br><br>  Kurzer einfacher gleitender Durchschnitt - SMA (Simple Moving Average).  Berechnung des aktuellen Filterwerts <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.848ex" height="1.817ex" viewBox="0 -520.7 795.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-69" x="638" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-9"> r_ {i} </script>  Wir mitteln nur die vorherigen n Elemente der Sequenz, sodass der Filter mit dem Element der Sequenz n arbeitet. <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></msubsup><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo>&amp;#x2212;</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msub><mo>;</mo><mi>i</mi><mo>&amp;gt;</mo><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.974ex" height="3.021ex" viewBox="0 -780.1 15919.5 1300.8" role="img" focusable="false" style="vertical-align: -1.209ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-69" x="638" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="1073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-66" x="2379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-72" x="2930" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-61" x="3381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="3911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-31" x="4344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6E" x="4845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-63" x="5695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-64" x="6129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6F" x="6652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-74" x="7138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-73" x="7749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-75" x="8219" y="0"></use><g transform="translate(8791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3D" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-31" x="1191" y="0"></use></g></g><g transform="translate(10966,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-69" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-2212" x="734" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6A" x="1513" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-29" x="1926" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3B" x="13194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-69" x="13639" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMAIN-3E" x="14262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhiVFRCk3bMFX0oD7FU7S1jDCQ71JA#MJMATHI-6E" x="15318" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></msubsup><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>i</mi><mo>‚àí</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msub><mo>;</mo><mi>i</mi><mo>&gt;</mo><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {i} = \ frac {1} {n} \ cdot \ sum_ {j = 1} ^ {n} y _ {(i-j)}; i> n </script><br><br><div class="spoiler">  <b class="spoiler_title">Auflistung</b> <div class="spoiler_text"><pre> <code class="python hljs">&lt;source lang=<span class="hljs-string"><span class="hljs-string">"python"</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ave_values</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xvalues, yvalues, n = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">6</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> signal_length = len(xvalues) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> signal_length % n == <span class="hljs-number"><span class="hljs-number">0</span></span>: padding_length = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: padding_length = n - signal_length//n % n xarr = array(xvalues) yarr = array(yvalues) xarr.resize(signal_length//n, n) yarr.resize(signal_length//n, n) xarr_reshaped = xarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) yarr_reshaped = yarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) x_ave = xarr_reshaped[:,<span class="hljs-number"><span class="hljs-number">0</span></span>] y_ave = nanmean(yarr_reshaped, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x_ave, y_ave <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plot_signal_plus_average</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(time, signal, average_over = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) time_ave, signal_ave = get_ave_values(time, signal, average_over) ax.plot(time_ave, signal_ave,<span class="hljs-string"><span class="hljs-string">"b"</span></span>, label = <span class="hljs-string"><span class="hljs-string">'   (n={})'</span></span>.format(<span class="hljs-number"><span class="hljs-number">5</span></span>)) ax.set_xlim([time[<span class="hljs-number"><span class="hljs-number">0</span></span>], time[<span class="hljs-number"><span class="hljs-number">-1</span></span>]]) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'     SMA'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.legend() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> signal_ave filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) df_nino = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values N = df_nino.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] time = arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) signal = df_nino signal_ave=plot_signal_plus_average(time, signal) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>),cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(     )'</span></span>%filename) ax = ax = scg.cws(signal_ave, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(    )'</span></span>%filename) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/dj/r1/jy/djr1jyeyltohdhpij257vpmsk0u.png"><br><img src="https://habrastorage.org/webt/hd/4n/dy/hd4ndykwienlrz68dnh4ijw7l-8.png"><br><img src="https://habrastorage.org/webt/0n/xd/d4/0nxdd44imz5dmgwlvpfmbpf8o2i.png"><br><br>  Wie aus dem Skalogramm folgt, reinigt das SMA-Verfahren das Signal schlecht von hochfrequentem Rauschen und <br>  wie oben erw√§hnt wird zum Gl√§tten verwendet. <br><br><h3>  Schlussfolgerungen: </h3><br><ol><li>  Unter Verwendung des Skalogrammmoduls wurden CWT-Wavelet-Skalogramme von drei Testvibrationssensorsignalen f√ºr verschiedene Testbedingungen f√ºr Lager des gleichen Typs erhalten.  Gem√§√ü den Skalogrammdaten wurde ein Signal mit deutlich zum Ausdruck gebrachten Anzeichen einer sp√§ten Verschlechterung ausgew√§hlt.  Dieses Signal wurde verwendet, um die Funktionsweise von Filtern in allen angegebenen Beispielen zu demonstrieren. </li><li>  Die Methoden der PyWavelets-Bibliothek zur DWT-Dekonstruktion und Wiederherstellung des Schwingungssensorsignals unter Verwendung der Module pywt.dwt (), pywt.idwt () und des Moduls pywt.wavedec () f√ºr einen bestimmten Wavelet-Pegel werden ber√ºcksichtigt. </li><li>  Die Beispiele veranschaulichen die Anwendungsmerkmale des Moduls pywt.threshol () zum Filtern von DWT-Detailkoeffizienten, die f√ºr den hochfrequenten Teil des Spektrums unter Verwendung von Schwellenwertfunktionen f√ºr einen bestimmten Schwellenwert verantwortlich sind. </li><li>  Die Auswirkungen des antiderivativen DWT-Wavelets auf die Form eines vom Rauschen befreiten Signals werden ber√ºcksichtigt. </li><li>  Man erh√§lt ein Kalman-Filtermodell f√ºr ein dynamisches Medium, das Modell wird am Testsignal des Schwingungssensors getestet.  Das Rauschunterdr√ºckungsdiagramm ist das gleiche wie das, das mit dem pyKalman-Modul erhalten wurde.  Die Art des Diagramms stimmt mit dem Skalogramm √ºberein. </li><li>          . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459922/">https://habr.com/ru/post/de459922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459902/index.html">Interaktive Karte der russischen Regionen f√ºr Anf√§nger. Fehler, die ich gemacht habe und die du nicht machen darfst</a></li>
<li><a href="../de459906/index.html">Tic Tac Toe, Teil 3: R√ºckg√§ngig / Wiederherstellen mit Befehlsspeicher</a></li>
<li><a href="../de459910/index.html">Situation: Unternehmen haben es nicht eilig, Dienste f√ºr Sprachassistenten zu entwickeln - was sind die Risiken?</a></li>
<li><a href="../de459914/index.html">SQL Index Manager - ein kostenloses Tool zum Defragmentieren und Verwalten von Indizes</a></li>
<li><a href="../de459918/index.html">Probleml√∂sung mit pwnable.kr 03 - bof. Puffer√ºberlauf auf Stapel</a></li>
<li><a href="../de459924/index.html">Vollst√§ndiger Reaktionstestzyklus. Auto.ru-Bericht</a></li>
<li><a href="../de459928/index.html">Der Weg des Sch√ºlers zur Entwicklung mobiler Apps</a></li>
<li><a href="../de459930/index.html">Python-Importautomatisierung</a></li>
<li><a href="../de459934/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 306 (vom 8. bis 14. Juli)</a></li>
<li><a href="../de459936/index.html">9 weitere Tricks f√ºr die Arbeit mit Visual Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>