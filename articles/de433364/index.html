<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤ ü•É ‚ÜïÔ∏è LDraw + Unity. Wie ich Lego generiert habe üëÜüèæ üöÉ üëèüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alles mit dem Kommen! Mein Name ist Grisha und ich bin der Gr√ºnder von CGDevs. Die Ferien stehen vor der T√ºr, jemand hat bereits einen Weihnachtsbaum ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>LDraw + Unity. Wie ich Lego generiert habe</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433364/"> Alles mit dem Kommen!  Mein Name ist Grisha und ich bin der Gr√ºnder von CGDevs.  Die Ferien stehen vor der T√ºr, jemand hat bereits einen Weihnachtsbaum verkleidet, Mandarinen gegessen und ist voll auf die Neujahrsstimmung eingestellt.  Aber heute geht es nicht darum.  Heute werden wir √ºber ein wunderbares Format namens LDraw und √ºber das Plugin f√ºr Unity sprechen, das ich implementiert und auf OpenSource hochgeladen habe.  Der Link zum Projekt und der Quellcode f√ºr den Artikel sind wie immer beigef√ºgt.  Wenn Sie Lego genauso lieben wie ich - willkommen bei Cat. <br><br><img src="https://habrastorage.org/webt/ok/bq/ss/okbqssjungymuljqjo7przp66ig.png"><br><a name="habracut"></a><br>  <b>LDraw-Format</b> <br><br>  Beginnen wir mit LDraw?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">LDraw</a> ist ein offener Standard f√ºr LEGO CAD-Programme, mit dem Benutzer LEGO Modelle und Szenen erstellen k√∂nnen.  Im Allgemeinen gibt es verschiedene Programme und Plugins, mit denen Sie LDraw visualisieren k√∂nnen (zum Beispiel gibt es ein Plugin f√ºr Blender). <br><br>  Das Format selbst ist gut dokumentiert und wir werden √ºber die neueste Version bzw. √ºber 1.0.2 sprechen. <br><br>  LDraw ist ein Textformat, dessen Dateien mit UTF-8-Codierung erstellt werden m√ºssen.  Vom Format unterst√ºtzte Dateien m√ºssen die Erweiterung ldr, dat oder mdp haben.  Jede Zeile der Datei ist ein separater Befehl, der f√ºr eine bestimmte Funktion verantwortlich ist. <br><br>  Ein wichtiges Detail des Formats ist das rechtsh√§ndige Koordinatensystem (Y ist nach oben gerichtet) - wir werden sp√§ter im Kontext der Einheit ausf√ºhrlicher darauf eingehen sowie auf die Tatsache, dass das Format rekursiv ist (die meisten Dateien enthalten Hinweise auf andere Dateien). <br><br><img src="https://habrastorage.org/webt/ru/yv/nk/ruyvnky8u4cxrfzqp5perilpuwc.png"><br><br>  <b>LDraw-Befehle</b> <br><br>  Im Allgemeinen finden Sie diese Informationen in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Dokumentation</a> , aber lassen Sie uns einen kleinen Blick auf den Kontext von Unity werfen.  Insgesamt unterst√ºtzt das LDraw-Format 6 Arten von Befehlen. <br><br>  0. Ein <i>Kommentar oder ein Meta-Befehl</i> sind spezielle Befehle, die wir im Plugin kaum ber√ºhren werden.  Beispiel: <code>0 !META command additional parameters</code> <br><br>  1. <i>Link zur Datei</i> .  In der Tat das am schwierigsten zu integrierende und interessanteste Team.  Es sieht aus wie - <code>1 colour xyzabcdefghi file</code> , in der die Parameter die TRS-Matrix sind (mehr √ºber TRS finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Artikel</a> ).  Im Kontext der Einheit in der Form <br><br><pre> <code class="plaintext hljs">/ adg 0 \ | beh 0 | | cfi 0 | \ xyz 1 /</code> </pre> <br>  2. <i>Linie</i> - wird bei Unity nicht verwendet. In CAD-Systemen m√ºssen die Kanten mit einer bestimmten Farbe hervorgehoben werden. <br><br>  3.4.  <i>Dreieck und Quadrat</i> .  Die Befehle sind recht einfach, aber es gibt eine wichtige Nuance, da das LDraw-Format nicht f√ºr die 3D-Modellierung ausgelegt ist und die Umgehung von Dreiecken und Quadraten darin nicht standardisiert ist.  Dies ist wichtig, da die Einheit in Abh√§ngigkeit von der Durchquerung des Dreiecks die Richtung der berechneten Normalen sowie die Seite des Dreiecks die R√ºckseite und die Vorderseite bestimmt (was auch f√ºr das Zeichnen und Keulen wichtig ist). <br><br>  Befehlsbeispiel: <br>  Dreieck - <code>3 colour x1 y1 z1 x2 y2 z2 x3 y3 z3</code> <br>  Quadrat - <code>4 colour x1 y1 z1 x2 y2 z2 x3 y3 z3 x4 y4 z4</code> <br><br>  5. <i>Optionale Leitung</i> - auch nicht verwendet. <br><br><img src="https://habrastorage.org/webt/n9/l4/c7/n9l4c7gswhtafqylmnb-a2n91fo.png"><br><br>  <b>Farben in LDraw</b> <br><br>  Wie Sie in den meisten Teams sehen k√∂nnen, die f√ºr das Rendern verantwortlich sind, kommt die Farbe unmittelbar nach der Art des Befehls.  Die Farben sind in diesen beiden Artikeln <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.ldraw.org/article/299.html</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.ldraw.org/article/547.html</a> gut dokumentiert, aber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lassen Sie uns</a> √ºber die Funktionen sprechen, auf die ich w√§hrend der Implementierung gesto√üen bin.  Hier lohnt es sich, etwas mehr √ºber die Formate und das sogenannte "Scope" -Format zu sprechen.  Es gibt 3 Arten von Dateien im Format. <br><br>  <b>DAT</b> - in der Tat sind dies die Grundelemente, aus denen die Teile bereits zusammengesetzt sind, oder einige Grundteile.  Wenn Sie keine einzelnen Details rendern, ist die darin angegebene Farbe nicht wichtig.  Meistens gibt es Standardfarben des offiziellen Standards. <br><br>  <b>LDR</b> ist das Interessanteste in Bezug auf Farben und wo Scope eine Rolle spielt.  Die Regel ist recht einfach, obwohl die Site komplexe Sprachen beschreibt.  Wenn Sie von einem ldr auf einen anderen verweisen, ignorieren Sie die im Stamm angegebene Farbe. <br><br>  Beispiel: Teil der Datei 30051-1 - X-Wing Fighter - Mini.mpd (X-Wing im obigen Bild): <br><br><div class="spoiler">  <b class="spoiler_title">Beispiel</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">1 71 -10 0 50 0 0 1 0 1 0 -1 0 0 60470a.dat 1 71 10 0 50 0 0 -1 0 1 0 1 0 0 60470a.dat 0 STEP 1 19 0 8 50 0 0 -1 0 1 0 1 0 0 4032b.dat 0 STEP 0 ROTSTEP 35 55 0 ABS 1 19 0 -16 0 0 0 -1 0 1 0 1 0 0 3623.dat 1 72 0 -16 50 0 0 -1 0 1 0 1 0 0 3022.dat 0 STEP 1 72 0 -8 -70 1 0 0 0 1 0 0 0 1 30051 - Nose.ldr</code> </pre> <br></div></div><br>  In allen Datendateien ber√ºcksichtigen wir die angegebene Farbe und im Befehl <i>1 72 0 -8 -70 1 0 0 0 1 0 0 0 1 30051 - Nose.ldr</i> - ignorieren 72 und verwenden die Werte aus der Datei <i>30051 - Nose.ldr</i> . <br><br>  <b>MDP</b> ist eine Modelldatei, die meistens eine Beschreibung mehrerer ldr-Dateien enth√§lt.  In Bezug auf die Farbe ist es auch nicht sehr wichtig.  Das einzige, was wir beim Parsen ber√ºcksichtigen, ist der Meta-Befehl <i>FILE</i> . <br><br><img src="https://habrastorage.org/webt/dr/hb/78/drhb78vtu2nn63gqmvtvo9ecgdc.png"><br><br>  <b>Modelle in LDraw</b> <br><br>  Das Beste am LDraw-Format ist, dass er viele Fans unter den Lego-Fans hat.  Viele interessante Kits finden Sie auf der offiziellen Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">omr.ldraw.org</a> , aber dar√ºber hinaus finden Sie viele in separaten Foren. <br><br>  Wir haben √ºber das Format gesprochen, jetzt ist es Zeit, ein wenig √ºber das Plugin f√ºr Unity zu sprechen. <br><br><img src="https://habrastorage.org/webt/26/s3/o_/26s3o_slknlem7mpvgvpqhxacig.png"><br><br>  <b>Plugin f√ºr Unity</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Plugin</a> bietet die M√∂glichkeit, 3D-Modelle basierend auf LDraw-Dateien zu generieren.  Sie k√∂nnen die Ergebnisse in den Bildern aus dem Artikel sehen.  Wichtig: Wenn Sie ein schwaches Ger√§t haben, ist es besser, nur Miniszenen im Demo-Ordner zu √∂ffnen.  Modelle sind nicht optimiert und erzeugen immer eine Hintergrundfl√§che. <br><br>  Lassen Sie uns nun ein wenig √ºber die Implementierung sprechen.  Im Moment wird das meiste davon unterst√ºtzt. <br><br>  Eines der vielleicht wichtigsten Merkmale sind die verschiedenen Koordinatensysteme.  Das Problem ist, dass das Format ein rechtsh√§ndiges Koordinatensystem ist, w√§hrend Unity ein linksh√§ndiges Koordinatensystem ist.  Dies bedeutet im Wesentlichen, dass alle Windungen und die TRS-Matrix nicht richtig funktionieren.  Negatives Y ist leicht zu schlagen - wir reflektieren alle Koordinaten relativ zu Vector3.up und erhalten die erforderlichen (multiplizieren mit -1).  Bei der TRS-Matrix ist jedoch alles komplizierter.  Da das Format rekursiv ist, ist es einfach unm√∂glich, die Matrix wiederzugeben, da Matrix.Identity √ºberall in eine Reflexionsmatrix umgewandelt wird und jede Verschachtelung unser Modell entlang der Y-Achse widerspiegelt, was zu einer falschen Anzeige f√ºhrt (wenn Sie eine positive Skala beibehalten).  Bisher bin ich zu einer falschen Entscheidung in Form einer negativen Skala gekommen, die in zuk√ºnftigen Versionen √ºberarbeitet werden muss. <br><br>  Das zweite Merkmal ist die Ausrichtung der Dreiecke.  Bei Quads wird erkannt, dass die Dreiecke in eine Richtung aussehen: <br><br><div class="spoiler">  <b class="spoiler_title">Vorbereitungscode f√ºr Quadrate</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareMeshData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; triangles, List&lt;Vector3&gt; verts</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = _Verts; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nA = Vector3.Cross(v[<span class="hljs-number"><span class="hljs-number">1</span></span>] - v[<span class="hljs-number"><span class="hljs-number">0</span></span>], v[<span class="hljs-number"><span class="hljs-number">2</span></span>] - v[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nB = Vector3.Cross(v[<span class="hljs-number"><span class="hljs-number">1</span></span>] - v[<span class="hljs-number"><span class="hljs-number">0</span></span>], v[<span class="hljs-number"><span class="hljs-number">2</span></span>] - v[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vertLen = verts.Count; triangles.AddRange(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] { vertLen + <span class="hljs-number"><span class="hljs-number">1</span></span>, vertLen + <span class="hljs-number"><span class="hljs-number">2</span></span>, vertLen, vertLen + <span class="hljs-number"><span class="hljs-number">1</span></span>, vertLen + <span class="hljs-number"><span class="hljs-number">3</span></span>, vertLen + <span class="hljs-number"><span class="hljs-number">2</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> indexes = Vector3.Dot(nA, nB) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>} : <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; indexes.Length; i++) { verts.Add(v[indexes[i]]); } }</code> </pre> <br></div></div><br>  Hier ist es jedoch eindeutig zu bestimmen, in welche Richtung die Dreiecke im Prinzip gerichtet werden sollen - eine nicht triviale Aufgabe.  Aus diesem Grund werden jetzt immer beide Seiten generiert. <br><br>  Aufgrund der Tatsache, dass das Format rekursiv ist, hat sich das hierarchische System von Unity als n√ºtzlich erwiesen wie nie zuvor. <br><br>  Mithilfe der Rekursion in zwei Methoden generieren wir die ben√∂tigten Netze und wenden TRS an (die Implementierung finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im vorherigen Artikel</a> ). Auf diese Weise erhalten wir alle erforderlichen Offsets in einem praktischen Format: <br><br><div class="spoiler">  <b class="spoiler_title">Methoden zur Erstellung eines Modells auf der B√ºhne</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LDrawModel</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameObject </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateMeshGameObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Matrix4x4 trs, Material mat = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Transform parent = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_Commands.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; GameObject go = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject(_Name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> triangles = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> verts = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Vector3&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _Commands.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sfCommand = _Commands[i] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> LDrawSubFile; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sfCommand == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _Commands[i].PrepareMeshData(triangles, verts); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { sfCommand.GetModelGameObject(go.transform); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mat != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> childMrs = go.transform.GetComponentsInChildren&lt;MeshRenderer&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> meshRenderer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> childMrs) { meshRenderer.material = mat; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (verts.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> visualGO = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GameObject(<span class="hljs-string"><span class="hljs-string">"mesh"</span></span>); visualGO.transform.SetParent(go.transform); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mf = visualGO.AddComponent&lt;MeshFilter&gt;(); mf.sharedMesh = PrepareMesh(verts, triangles); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mr = visualGO.AddComponent&lt;MeshRenderer&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mat != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { mr.sharedMaterial = mat; } } go.transform.ApplyLocalTRS(trs); go.transform.SetParent(parent); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> go; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LDrawSubFile</span></span> : <span class="hljs-title"><span class="hljs-title">LDrawCommand</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetModelGameObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Transform parent</span></span></span><span class="hljs-function">)</span></span> { _Model.CreateMeshGameObject(_Matrix, GetMaterial(), parent); } }</code> </pre><br></div></div><br>  Als Ergebnis erhalten wir so sch√∂ne Visualisierungen: <br><br><img src="https://habrastorage.org/webt/hw/7w/bj/hw7wbjwt3ipjb5lxyuc5-1off5w.png"><br><br><img src="https://habrastorage.org/webt/3p/dc/j3/3pdcj3f6f1fnbp-gjinr_relvb0.png"><br><br>  Weitere Informationen finden Sie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository auf Github</a> . <br><br>  Im Allgemeinen gibt es viele Ideen zur Entwicklung des Plugins. Ich m√∂chte folgende Funktionen vorstellen: <br><br><ol><li>  Einige Formen gl√§tten </li><li>  Nur Erzeugung der Vorderseite </li><li>  Konstruieren und Hochladen von Modellen zur√ºck in das LDraw-Format </li><li>  Der Cooler Shader f√ºr Kunststoff mit Streuung unter der Oberfl√§che (und der richtige Materialsatz im Allgemeinen) </li><li>  Packen Sie UV f√ºr Lightmaps aus </li><li>  Optimierung von Modellen (jetzt bestehen die meisten von ihnen aus √ºber 500.000, und das Modell des Eiffelturms besteht beispielsweise aus 2,8 Millionen Polygonen) </li></ol><br>  Im Moment k√∂nnen Sie mit dem Plugin Modelle von Lego in Unity3d verwenden, was ziemlich cool ist.  (Alle Bilder f√ºr den Artikel wurden mit dem Plugin erstellt.) Der gesamte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projektcode wird</a> unter der MIT-Lizenz ver√∂ffentlicht. Ich empfehle Ihnen jedoch, die Lizenz f√ºr bestimmte Modelle in LDraw-Ressourcen zu √ºberpr√ºfen. <br><br>  Vielen Dank f√ºr Ihre Aufmerksamkeit, ich hoffe, Sie haben etwas Neues f√ºr sich gelernt und Sie interessieren sich f√ºr das Format und das Plugin!  Wenn es Zeit gibt, werde ich sie weiterentwickeln und gerne in dieser schwierigen Angelegenheit helfen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433364/">https://habr.com/ru/post/de433364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433354/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 438 (12/04/2018 - 12/10/2018)</a></li>
<li><a href="../de433356/index.html">Angreifer haben gelernt, die Zwei-Faktor-Authentifizierung Yahoo Mail und Gmail zu umgehen</a></li>
<li><a href="../de433358/index.html">Vertrautheit mit dem Testen in Python. Teil 1</a></li>
<li><a href="../de433360/index.html">Wissenschaftler haben versucht vorherzusagen, wann elektrische Flugzeuge Realit√§t werden</a></li>
<li><a href="../de433362/index.html">9 Prinzipien von Sch√∂nheit, Einfachheit und Pflege in UX</a></li>
<li><a href="../de433366/index.html">Arbeiten mit externen Ressourcen in Unity3D</a></li>
<li><a href="../de433368/index.html">Wie man das Denken von Lebensmitteln auf die Welt anwendet: ein Beispiel f√ºr ein Sweatshirt</a></li>
<li><a href="../de433370/index.html">Sharding-Theorie</a></li>
<li><a href="../de433372/index.html">Auto Fahrrad</a></li>
<li><a href="../de433374/index.html">Die ganze Wahrheit √ºber RTOS. Artikel Nr. 26. Kan√§le: Nebendienstleistungen und Datenstrukturen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>