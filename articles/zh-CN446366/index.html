<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏻 👧🏾 👈🏿 ZX Spectrum 128k可以自己完成。 第二部分 🐯 🙏🏻 🏢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="第一部分 

 所有图像都是可单击的。 

 自从我写了一篇有关ZX Spectrum克隆“ Leningrad”的装配的文章以来已经过去了一年多。 在此期间，其功能已大大扩展。 我不认为我会为此写续集，但是关于复古计算机的文章仍然很少，所以我决定。 

 扩充端口 
 无法连接任何计算机的功能非常...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ZX Spectrum 128k可以自己完成。 第二部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446366/"><img src="https://habrastorage.org/webt/kc/wq/-j/kcwq-jvvuygc9r-dtrztad_7yyo.jpeg" alt="图片"><br>  <b>第一部分</b> <br><br> 所有图像都是可单击的。 <br><br> 自从我写了一篇有关ZX Spectrum克隆“ Leningrad”的装配的文章以来已经过去了一年多。 在此期间，其功能已大大扩展。 我不认为我会为此写续集，但是关于复古计算机的文章仍然很少，所以我决定。 <br><br><h4> 扩充端口 </h4><br> 无法连接任何计算机的功能非常有限，我决定将扩展端口焊接到该计算机上。 除了40针IDE外，板上没有其他东西，但是在计算完我需要的触点数量之后，事实证明这已经足够了。 每个按键减去一个触点，2个触点+ 5V，2个接地触点。 <br><a name="habracut"></a><br> <a href=""><img src="https://habrastorage.org/webt/qu/tk/-g/qutk-g-uv0q8dsjkuk_9bm41ajo.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/tw/lx/rt/twlxrtx6s4rkrbbvsog1jai1-lg.jpeg"></a> <br><br><h4> 键盘情况 </h4><br> 以前，我使用外部键盘，但是我想要更真实的外形。 在组装时，他们带着贴纸将90年代的Spectrum谱带给我。 操纵杆Sinclair的端口和RESET按钮固定在其上。 一个简单的事情，我们在外壳上切一个矩形，然后将其固定在板上的机架上。 背部也必须剪一点。 <br><br> <a href=""><img src="https://habrastorage.org/webt/ny/nh/dj/nynhdjjpjue_avdd_qpepewrtuc.jpeg"></a> <br><br><h4> 没有下载的游戏 </h4><br> 除了游戏机ALF外，Spectrum的弹药筒在我们这里并不受欢迎。 并不是说它们也将在欧洲流行，因为他们需要昂贵的设备ZX Interface2。官方仅发布了10款游戏。 盒式磁带只是一个ROM，板上预先录制了带有一组触点的游戏，因此使该设备变得轻而易举。 我一直想尝试蚀刻电路板，现在就是这种情况。 但是首先，您还需要将其分开，为此，我使用了sprint布局程序。 <br><br> <a href=""><img src="https://habrastorage.org/webt/a_/bt/06/a_bt06lorwtzq5wdnn4ylp5pgu0.png"></a> <br><br> 在列宁格勒板上，我只是将一个上拉电阻器焊接到ROM的第20个触点，该触点本身带到了扩展端口。 连接盒带时，将为其提供+ 5V的电压并关闭计算机的ROM。 好了，contact / RDROM也带到了扩展端口。 好吧，董事会已经离婚了，我们正在从一块苏联纺织品上切一个正方形。 <br><br> <a href=""><img src="https://habrastorage.org/webt/ie/fo/f9/iefof926tixw9mib9n_lwokvjf4.jpeg"></a> <br><br> 我们将页面从光面杂志盒中放入打印机，进行打印并打开熨斗。 <br><br> <a href=""><img src="https://habrastorage.org/webt/p-/jo/dh/p-jodheeqywabfekwz60d-c4vvu.jpeg"></a> <br><br> 木板是双面的；我们使用订书机在信封外面做成信封。 <br><br> <a href=""><img src="https://habrastorage.org/webt/m6/5l/bg/m65lbgi6pz1kg3rbzjhobhgnggy.jpeg"></a> <br><br> 结果是这样的，当然有必要用记号笔在一些区域上更好地绘画。 <br><br> <a href=""><img src="https://habrastorage.org/webt/i7/nn/lm/i7nnlmw_epjwtpoudx-risobgem.jpeg"></a> <br><br> 我选择氯化铁进行蚀刻，尽管我知道它充满了其他新型方法。 <br><br> <a href=""><img src="https://habrastorage.org/webt/3u/z5/no/3uz5nozg2igriv3t-b4-p-owd2y.jpeg"></a> <br><br> 原来马马虎虎。 <br><br> <a href=""><img src="https://habrastorage.org/webt/du/d_/xj/dud_xjjv-u3yvayjwd0z4elzxns.jpeg"></a> <br><br> 然后剧烈地弄乱，打印时将各层混合在一起，只有在蚀刻板之后才注意到。 切一块新的PCB是懒惰的，无奈之下我做了通孔。 我徒劳地开始修整轨道，因为有时没有MGTF，烙铁头上会有几片锡纸，而这是行不通的。 盒式ROM和列宁格勒本身的ROM选择了EEPROM W27C512。 为了选择游戏（每块4个，每个16 kb），我使用了74HC393计数器，因此，当我按下RESET按钮时，它们将在收藏集中切换为DANDY。 但这不是一个好主意，结果，我掏出计数器，在两个拨码开关之间切换。 填充热熔粘合剂以增强40针触点的焊接位置的刚性。 <br><br> <a href=""><img src="https://habrastorage.org/webt/0z/0o/i4/0z0oi4b_x4192qhz0awos4_9qya.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/i4/zm/v6/i4zmv6ulq3-mtg8jieibvanavmg.jpeg"></a> <br><br> 那时的程序员我已经买了我自己的。 填补Ultimate Play The Game的所有热门歌曲，包括Jetpac。 当然，我后来尝试了其他产品，包括从未问世的游戏，例如Gyruss和《星球大战》。 <br><br> <a href=""><img src="https://habrastorage.org/webt/ge/vq/7s/gevq7s4alvhikj6v3mmjjht7xes.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/ct/-c/ex/ct-cex6gr8xklawfs4asf75_kdo.jpeg"></a> <br><br><h4> 我们连接驱动器 </h4><br> 尽管我已经有磁带和盒式磁带作为存储介质，但是最柔软的当然是使用软盘驱动器了。 最好的游戏就是在这种媒介下编写的，例如《黑乌鸦》，《不明飞行物》：敌人是未知的，不久的将来，《强力杀手》将出现，此外，几乎所有录音带上的玩具都将移植到其中。 下载速度是从磁带录像机下载速度的15-20倍，即640kb格式化的TR-DOS软盘的容量，利润是显而易见的。 但是驱动器本身无法连接到Spectrum，您仍然必须收集半频谱-软盘驱动器的控制器，也称为KNGMD。 我决定从zxbyte.ru网站采用该设备的方案，就像对列宁格勒的许多其他改进一样。 <br><br> <a href=""><img src="https://habrastorage.org/webt/--/m8/-d/--m8-d_nmspbzxdfxifky7elw9m.png"></a> <br><br> 我决定要现实一些，可能要到下个世纪才设计出15个微芯片的电路，所以我开始将它组装在面包板上。 好吧，我真的很想把电路板放在一个紧凑的盒子里。 家用驱动器控制器的核心是KR1818VG93芯片。 她的缺点非常明显，她需要12伏特，可靠性没有差异。 因此，我订购了一个芯片模拟MB8877，可以正常工作，并且工作5个。 我不知道，中国人寄给我的是原件或伪造品，但效果很好，很棒。 选择了为连接列宁格勒和波罗的海国家而创建的KNGMD S-48电路后，我遇到了一个令人不愉快的细节；在读取节点上，PLL逻辑在K556RT4 EPROM芯片上实现，而我的中国程序员对此并不了解。 我试图改用以前使用的W27C512，但是要么弄乱了东西，要么EEPROM本身有问题，但是软盘无法工作，尽管我已经能够进入TR-DOS。 然后，我根据五角大楼128方案在没有PLL的情况下重建了读取单元，因此驱动器能够格式化软盘了。 顺便说一下，标准的高密度软盘需要在角落打孔，以使其在驱动器中显示为双密度磁盘。 <br><br> <a href=""><img src="https://habrastorage.org/webt/g-/cy/9m/g-cy9mjvutbjzl-sh9xydzk_q5e.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/4f/sc/hh/4fschhmiyin4t93m34gopiqtijq.jpeg"></a> <br><br> 下载后甚至从磁带/电话上使用软盘，都可以放心使用。  KNMD方案对我来说是简化的，并且只能用两个驱动器（在同一五角大楼和最多4个其他克隆）中使用，尽管这对于眼睛来说已经足够了。 用3.5英寸驱动器玩了足够的游戏后，我想得到5.25英寸，并且没有问题，顺便说一句，我首先接触了5英寸的软盘，它们是如此灵活，灵活，通常很高。 为了方便起见，我要求使用快速指挥器代替BASIC-128，它可以播放音乐，观看图像和进行各种文件操作。 <br><br> <a href=""><img src="https://habrastorage.org/webt/m9/sq/ie/m9sqiemh41bedgei-eiinov5u3k.jpeg"></a> <br><br> 我使用ZX Studio程序将TR-DOS磁盘映像刻录到PC，并构建自己的ZX Spectrum Navigator映像。 <br><br> <a href=""><img src="https://habrastorage.org/webt/zu/-w/ks/zu-wks4rwamxg93jntictpd5j0c.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/cz/sb/h3/czsbh3hqp5s_nx2lpwmrpe8zt_s.jpeg"></a> <br><br><h4> 我们观看演示 </h4><br> 我们的演示场景主要针对五角大楼128频谱克隆而开发，由于电路的特殊性，它具有71,680个时钟周期用于绘制一帧图像，而公司zx频谱具有69,888个时钟周期，而列宁格勒则只有65,184个时钟周期，这归因于内存的延迟响应。 对于大多数游戏和其他程序而言，这并不重要，但对于演示程序而言并不重要。 切断信号/等待，并将其置于+ 5V。 在9D5腿上，我们为地球供电，而不是信号/ BC。 但是Spectrum多色可能不适用于五角大楼计时，因此我们将制作Spectrum /五角大楼跳线。 对于处理器的CMOS版本（Z84），此选项不起作用，但是U880没有任何问题。 该计算机未获得与五边形的100％兼容性，但是为五边形编写的演示现在不会变慢。 我真的很喜欢1998年开发的REFRESH。 <br><br> <a href=""><img src="https://habrastorage.org/webt/7n/fj/s3/7nfjs38140c13rpimje7pefwcvm.jpeg"></a> <br><br><h4> 我们在SR / M-80中工作 </h4><br> 很少有克隆可以运行此操作系统，您可以记得BYTE-01，Quorum-64，ZS Scorpion 256，Pros。 要使用SR / M，计算机必须支持影子RAM。 而且由于ZS Scorpion 256确实是列宁格勒，所以对其进行一些改进不会有很大的困难。 下载<a href="">方案</a>并研究。 端口1FFD以及频谱+3上已禁用的ROM位0，即开即用，具有运行SR / M的能力。 第4位切换128kb页面。 但是对于我来说，端口＃7FFD开关的第6位，在某些情况下与程序冲突，尽管我只有一个演示有问题。 我不得不重新绘制<a href="">扩展方案</a>以支持端口1FFD。 用油漆涂了，结果是这样的。 <br><br> <a href=""><img src="https://habrastorage.org/webt/bp/oh/wi/bpohwivj_i1rpkid_ufynzewxwm.png"></a> <br><br> 我的主板上没有多余的空间，对于100英寸的ATX机箱没有装20 * 30的主板，我感到非常遗憾。 由于我们不再使用端口＃7FFD的6位，因此现在不再使用1533TM2芯片了，我们改用1533TM9，将端口1FFD的0和4位设置为1533TM9。 在扩展方案中，我们最多使用1533KP12，从而为我们释放了必要的OR元素。 我们通过从蝎子套件中预写入CP / M软盘进行检查。 有效！ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/2r/qj/hn/2rqjhnb6o8mbpncu2dduclmf2ug.jpeg"></a> <br><br> 看到带有灰色背景和黑色字母的CP / M有点不寻常，但是移植它的人显然希望与他们的本机BASIC-48相似。 默认情况下，该操作系统具有48kb的RAM和160kb的RAM磁盘，它以每行64个字符（3像素宽+空格）开头，虽然不是很可读，但是可以接受。 模式实用程序可以更改为大多数程序所需的32、40.48和80（3像素宽，无空格，不可读的混乱）字符。 一些克隆具有更高分辨率的模式，例如Byte-01和512x192模式，这使其非常适合使用CP / M。 但是品牌光谱+3，蝎子256和其他大多数克隆都没有这样的幸福感，这可能导致操作系统在光谱上不受欢迎。 在CP / M-80本身，或者更确切地说是1979年的2.2版本上，您可以写一篇单独的文章，我只是研究软件。 <br><br>  <b>办公室</b> <br><br> 文本编辑器WORDSTAR，对编辑文本（MS WORD的前身之一）非常有用。 <br><br> <a href=""><img src="https://habrastorage.org/webt/08/wn/xw/08wnxwlfzoow8v03l3b2ppaaycs.jpeg"></a> <br><br>  Spreadsheets Varitab是苏联-保加利亚的一项发展，非常让人联想到SuperCalc，无论它是被翻译成强大的西方程序，还是形象和相似的东西，或者是某种形式的许可，我都希望在评论中发表。 还有用于MS-DOS的Varibt-86，许多人可能已经使用过它。  MicroSoft的另一个Multiplan电子表格，它无法正常启动，可能需要25行而不是24行。 <br><br> <a href=""><img src="https://habrastorage.org/webt/g6/qy/kx/g6qykxzqgycpqnupcjxztruy2h4.jpeg"></a> <br><br>  <b>程式设计</b> <br><br> 在CP / M上，它只是程序员的天堂，这里是Turbo Pascal和C编译器，Fortran编译器，ADA编译器，FORT-83语言，汇编器，MS BASIC，PL / 1转换器等。 <br><br>  <b>游戏</b> <br><br> 是的，CP / M上有很多游戏，大多数都是文字任务，例如ZORK三部曲，但我的英语水平让我无法欣赏它们。 <br><br> <a href=""><img src="https://habrastorage.org/webt/yq/do/6j/yqdo6jysfj_qjimpxnc1bgyqflw.jpeg"></a> <br><br> 象SARGON这样的象棋也很受欢迎。 <br><br> <a href=""><img src="https://habrastorage.org/webt/yh/pf/kf/yhpfkfcu_a4e4dh2a39ty4eozvi.jpeg"></a> <br><br> 但是也有动作游戏，例如Ladder，一个完全可玩的平台游戏。 <br><br> <a href=""><img src="https://habrastorage.org/webt/fw/js/3p/fwjs3panewhm83uixvhhpirldw4.jpeg"></a> <br><br> 克隆PAC MAN。 <br><br> <a href=""><img src="https://habrastorage.org/webt/mb/cv/2v/mbcv2viprfp4wid1xiwr707bfaa.jpeg"></a> <br><br> 没有泰特里斯Ma下怎么办。 <br><br> <a href=""><img src="https://habrastorage.org/webt/vc/lu/ev/vcluev6iiv5l__zd7dirlaqs9qu.jpeg"></a> <br><br><h4> 结语 </h4><br> 结果，它被证明是一台功能相当强大的机器，用于复古而不是非常游戏，观看演示，听Chiptune和其他娱乐节目。 食欲高涨，组装鼠标控制器，硬盘控制器COVOX的想法浮出水面，终于根据zx频谱的下一个标准推出了Campston游戏杆，将计算机分散到7 MHz……但这值得吗？ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446366/">https://habr.com/ru/post/zh-CN446366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446352/index.html">保护无防护</a></li>
<li><a href="../zh-CN446354/index.html">安全周14：ShadowHammer和供应链</a></li>
<li><a href="../zh-CN446360/index.html">展览“ Subsoil-2019。 研究。 情报。 挖矿</a></li>
<li><a href="../zh-CN446362/index.html">成功的产品经理的三项关键素质：高级产品经理Dmitry Orlov</a></li>
<li><a href="../zh-CN446364/index.html">笑话和《辛普森一家》的英文参考</a></li>
<li><a href="../zh-CN446370/index.html">“好吧，气象站”？ 不是真的</a></li>
<li><a href="../zh-CN446372/index.html">热爱任务，热爱并在公共场合找到您的个人数据</a></li>
<li><a href="../zh-CN446378/index.html">单一Skype学校切换到冬季和夏季时间的问题</a></li>
<li><a href="../zh-CN446380/index.html">H2演进-嵌入式数据库中的窗口函数，CTE，JSON / XML</a></li>
<li><a href="../zh-CN446384/index.html">在Revit中开发大型项目的提示</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>