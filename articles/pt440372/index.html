<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèª‚Äçü§ù‚Äçüßëüèª üôãüèº ü§ò Meu compilador Pascal e arte contempor√¢nea polonesa üë®üèº‚ÄçüöÄ üë©‚Äç‚úàÔ∏è üë®üèª‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Origens 
 V√°rios anos atr√°s eu escrevi um compilador Pascal. A motiva√ß√£o era simples: quando adolescente, aprendi com meus primeiros livros did√°ticos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meu compilador Pascal e arte contempor√¢nea polonesa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440372/"><h2>  Origens </h2><br>  V√°rios anos atr√°s eu escrevi um compilador Pascal.  A motiva√ß√£o era simples: quando adolescente, aprendi com meus primeiros livros did√°ticos de programa√ß√£o que um compilador √© uma coisa muito sofisticada.  Essa alega√ß√£o acabou se tornando um desafio e exigida para ser testada pela experi√™ncia. <br><br><img src="https://habrastorage.org/webt/b2/ki/kn/b2kiknbgwl4rcqwjgtbex6ucfn8.jpeg" alt="imagem"><br>  <i>ha.art.pl</i> <br><br>  Primeiro, surgiu um compilador simplista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PL / 0</a> e, posteriormente, um compilador Pascal quase totalmente funcional para MS-DOS.  Minha fonte de inspira√ß√£o foi o livro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Compiler Construction</a> , de Niklaus Wirth, o inventor da linguagem Pascal.  N√£o me importo se as vis√µes de Wirth agora s√£o consideradas obsoletas e n√£o t√™m conex√µes diretas com o mainstream da TI, ou se a moda do design do compilador mudou.  √â suficiente saber que suas t√©cnicas ainda s√£o simples, elegantes e - por √∫ltimo mas n√£o menos importante - <i>trazem muita divers√£o</i> , pois √© mais atraente analisar uma fonte de programa com um analisador de descida recursivo manuscrito e gerar o c√≥digo da m√°quina, em vez de chamar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">yaccs</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bisontes</a> e todos os seus descendentes. <br><br>  O destino do meu compilador n√£o foi t√£o trivial.  Ele viveu duas vidas: a primeira em minhas pr√≥prias m√£os e a segunda nas m√£os de antiqu√°rios de computadores da Pol√¥nia. <br><a name="habracut"></a><br><h2>  Xd pascal </h2><br>  Meu compilador rec√©m-nascido foi nomeado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">XD Pascal</a> .  Ele suportava todas as instru√ß√µes Pascal, exceto <code>goto</code> e <code>with</code> .  O primeiro parecia ser dif√≠cil de implementar, pois destruiria a estrutura perfeitamente hier√°rquica do programa.  Este √∫ltimo poderia tornar as regras de escopo simples amb√≠guas. <br><br>  Todos os principais tipos de dados tamb√©m foram suportados.  Al√©m do escopo, estavam apenas os n√∫meros inteiros, os conjuntos, as enumera√ß√µes e os registros de variantes n√£o assinados - mas, obviamente, todos esses itens n√£o s√£o as necessidades di√°rias.  No entanto, n√£o pude negar a mim mesmo o prazer de introduzir n√∫meros de ponto flutuante e a aritm√©tica do FP87 8087 - esse foi o impacto do meu v√≠cio profissional em c√°lculos de engenharia. <br><br>  Ao implementar procedimentos e fun√ß√µes, tive medo de que a recurs√£o e o armazenamento de vari√°veis ‚Äã‚Äãlocais na pilha fossem um grande problema.  No entanto, uma dificuldade real espec√≠fica de Pascal estava nas sub-rotinas aninhadas.  Pode-se ter um desejo inocente de acessar a vari√°vel local de uma sub-rotina externa a partir da interna.  No entanto, a sub-rotina interna n√£o possui o endere√ßo do quadro da pilha para o externo, ou seja, n√£o sabe qual origem usar com o deslocamento vari√°vel.  Este endere√ßo deve ser passado para a sub-rotina interna como um argumento oculto adicional.  Suponho que foi essa dificuldade que for√ßou os projetistas de C a abandonar completamente o agrupamento de sub-rotinas.  Mas Pascal ainda os possui, e esse recurso n√£o pode ser ignorado. <br><br>  O gerador de c√≥digo criou os execut√°veis ‚Äã‚ÄãCOM mais simples para o MS-DOS em modo real.  As instru√ß√µes da m√°quina foram geradas diretamente, sem nenhum montador ou vinculador externo.  Usei registradores de 32 bits para dados, mas o endere√ßamento permaneceu em 16 bits (um par segmento / deslocamento). <br><br>  O modelo de mem√≥ria era semelhante ao modelo 'pequeno' (se algu√©m ainda se lembra dessa terminologia da era de 16 bits): o c√≥digo, os dados e a pilha ocupavam um segmento de 64 kbytes cada. <br><br><img src="https://habrastorage.org/webt/do/fp/gt/dofpgtptjrx_eyw_b-pp81ig7dq.png" alt="imagem"><br>  <i>Uso de mem√≥ria</i> <br><br>  Gerar EXEs e alternar os segmentos em tempo real parecia muito dif√≠cil, e as r√≠gidas limita√ß√µes do modelo "pequeno" me obrigaram a dizer adeus √† autocompila√ß√£o.  Certamente vi alguns compiladores de autocompila√ß√£o cujo c√≥digo se encaixava bem em apenas um segmento (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Context</a> ).  No entanto, eles raramente poderiam fazer algo √∫til al√©m dessa capacidade de se compilar.  Em vez disso, desejei tornar meu compilador adequado para c√°lculos e gr√°ficos num√©ricos.  √â por isso que inclu√≠, entre outros exemplos, os fractais, o m√©todo de Gauss para resolver equa√ß√µes lineares, a r√°pida transforma√ß√£o de Fourier e at√© o filtro Kalman para estimar os erros do sistema de navega√ß√£o inercial. <br><br><img src="https://habrastorage.org/webt/jc/ok/xi/jcokximzi3cwbsolsh3wtbomo20.png" alt="imagem"><br>  <i>Fragmento de conjunto de Mandelbrot</i> <br><br><img src="https://habrastorage.org/webt/ih/c9/a6/ihc9a64xrqc_alfhse2fwe4jrwo.png" alt="imagem"><br>  <i>Transforma√ß√£o r√°pida de Fourier</i> <br><br><img src="https://habrastorage.org/webt/hc/xy/f0/hcxyf0udd1gbkzkwtukw2-gkwis.png" alt="imagem"><br>  <i>Estimativa de erro do sistema de navega√ß√£o inercial</i> <br><br>  O que acabei conseguindo foi muito semelhante ao antigo Turbo Pascal 3.0 (sem OOP) e ao amador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BeRo Tiny Pascal</a> .  O autor deste √∫ltimo conseguiu compil√°-lo automaticamente no Windows, mas sacrificou a aritm√©tica de ponto flutuante e muitas sutilezas da gram√°tica, que eu desejava preservar.  Entre os recursos mais modernos, meu XD Pascal recebeu os coment√°rios de linha √∫nica no estilo Delphi ( <code>//</code> ) e a vari√°vel <code>Result</code> . <br><br>  No entanto, desde o seu nascimento, meu compilador foi marcado para morrer.  Pascal estava irreversivelmente fora de moda, e o MS-DOS havia se tornado arcaico muito antes.  Em um dia em que mudei de um Windows XP de 32 bits para um Windows 7 de 64 bits sem m√°quina virtual DOS, considerei meu projeto morto. <br><br><h2>  Revival </h2><br>  Ent√£o, algo estranho aconteceu.  Ap√≥s tr√™s anos de esquecimento, uma equipe de entusiastas da retocomputa√ß√£o polonesa e f√£s da Atari encontrou meu compilador.  Parece que eles n√£o se preocupavam muito com problemas abstratos, como autocompila√ß√£o ou rigidez gramatical.  Eles simplesmente precisavam de uma ferramenta de programa√ß√£o conveniente para sua m√°quina favorita.  Usando meu projeto, eles constru√≠ram seu pr√≥prio compilador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mad Pascal</a> para a arquitetura 6502.  A gram√°tica do idioma foi expandida, o suporte foi adicionado para unidades separadas com as se√ß√µes de interface e implementa√ß√£o, a instru√ß√£o <code>goto</code> , n√∫meros inteiros n√£o assinados, conjuntos e enumera√ß√µes, c√≥digo de montagem em linha.  Em vez do c√≥digo da m√°quina, o c√≥digo da montagem foi gerado.  Foi ent√£o traduzido por um montador de cervejas caseiras. <br><br>  A apar√™ncia externa da linguagem tornou-se significativamente mais pr√≥xima do padr√£o de fato Pascal.  Os internos do compilador parecem um tanto horr√≠veis, as palavras reservadas s√£o misturadas com os nomes das sub-rotinas padr√£o, mas isso n√£o incomoda os desenvolvedores.  Seja como for, o esfor√ßo √© surpreendentemente vi√°vel: por tr√™s anos, Mad Pascal √© atualizado regularmente, muitos jogos s√£o escritos nele, os autores participam anualmente da confer√™ncia de retrocomputa√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Silly Venture</a> (o link pode exigir VPN).  Parece que as tradi√ß√µes da Atari s√£o muito fortes na Pol√¥nia. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bFOVFtPFi_I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Um evento not√°vel para os f√£s poloneses do Atari aconteceu na primavera de 2018: o livro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Robbo.</i></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Solucja</i></a> ( <i>Robbo. Walkthrough</i> ), um exemplo de literatura experimental, foi publicado.  Eu preciso enfatizar aqui que o jogo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Robbo</i></a> para Atari, publicado h√° 30 anos, ainda excita os f√£s poloneses mais velhos e os enche de uma esp√©cie de deleite patri√≥tico.  De um modo geral, n√£o surpreende que tenha aparecido um livro inspirado no jogo.  Mas o engra√ßado √© que 60% do livro, como dizem os autores, √© o tutorial passo a passo gerado pelo pr√≥prio computador da Atari.  O programa de gera√ß√£o de texto est√° escrito em Mad Pascal. <br><br><img src="https://habrastorage.org/webt/sr/oj/qf/srojqfmkyrz87h8mnqvjoehm5ui.jpeg" alt="imagem"><br>  <i>graczpospolita.pl</i> <br><br>  Parece que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algumas pessoas</a> consideram o livro um √≥timo exemplo de arte contempor√¢nea: <br><blockquote>  Seria enganador tratar este livro apenas como um item de colecionador para os f√£s de <i>Robbo</i> , ou, de maneira mais geral, para os f√£s da Atari.  Lidamos com um exemplo raro da intera√ß√£o entre a cultura de videogame e a literatura (neste caso, a literatura eletr√¥nica), onde o ponto de partida √© o 'jogo', n√£o a 'literatura'.  Para alguns, √© sem sentido "arte por arte".  Para outros, esse cruzamento oferece oportunidades e experi√™ncias absolutamente novas.  Nada impede voc√™ de criar uma vers√£o do <i>Robbo</i> que voc√™ pode concluir usando o 'passo a passo' do livro.  O livro se encaixa bem com minha vis√£o dos videogames como arte.  Arte, na qual o jogador pode ser o destinat√°rio e o criador - se durante o 'jogo' houver uma 'audi√™ncia' assistindo o jogador criando seu pr√≥prio hist√≥rico de 'jogo'.  O conte√∫do do livro pode ser adaptado a um espet√°culo de performance com um ator que interpreta <i>Robbo</i> usando os elementos da explica√ß√£o passo a passo do livro.  Para n√£o permanecer infundado: o desempenho baseado no <i>Robbo.</i>  <i>Solucja</i> ocorreu em 11 de maio de 2018 na galeria de arte contempor√¢nea <i>Bunker</i> em Crac√≥via, durante a apresenta√ß√£o do livro que acompanha a exposi√ß√£o <i>Inexaustibilidade</i> . </blockquote>  Um show de performance em Crac√≥via.  Vale a pena ter escrito um compilador. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440372/">https://habr.com/ru/post/pt440372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440360/index.html">Tapa e produ√ß√£o? Porque n√£o</a></li>
<li><a href="../pt440362/index.html">A scooter el√©trica Xiaomi m365 √© suscet√≠vel a hackers com a capacidade de controlar remotamente</a></li>
<li><a href="../pt440364/index.html">Voc√™ sabe quilo, mega e show. Que tal ronne e cuecca?</a></li>
<li><a href="../pt440366/index.html">Ciclo de vida de um artigo sobre Habr√©: escrevemos um habraparser</a></li>
<li><a href="../pt440370/index.html">Termos de servi√ßo: 99% dos usu√°rios simplesmente n√£o os entendem</a></li>
<li><a href="../pt440374/index.html">Fun√ß√µes Yandex enviam email</a></li>
<li><a href="../pt440376/index.html">20 jogos para ensinar a programa√ß√£o do seu filho</a></li>
<li><a href="../pt440378/index.html">Voltar aos microsservi√ßos com Istio. Parte 2</a></li>
<li><a href="../pt440382/index.html">200 √© bom ou ruim?</a></li>
<li><a href="../pt440386/index.html">Liberando a manipula√ß√£o de erros eliminando erros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>