<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📌 🏠 👨‍🚒 Menggunakan UTF-8 di HTTP Header 🥫 🌳 💀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seperti yang Anda ketahui, HTTP 1.1 adalah protokol transfer data berbasis teks. Pesan HTTP dikodekan menggunakan ISO-8859-1 (yang secara kondisional ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menggunakan UTF-8 di HTTP Header</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/429302/"><img src="https://habrastorage.org/webt/hp/z_/bf/hpz_bf9tjnhftjoxvpacahso_ng.jpeg"><br><br>  Seperti yang Anda ketahui, HTTP 1.1 adalah protokol transfer data berbasis teks.  Pesan HTTP dikodekan menggunakan ISO-8859-1 (yang secara kondisional dapat dianggap sebagai versi ASCII yang diperluas yang berisi umlaut, diakritik, dan karakter lain yang digunakan dalam bahasa Eropa Barat).  Pada saat yang sama, penyandian lain dapat digunakan di badan pesan, yang harus ditunjukkan di header "Tipe Konten".  Tetapi bagaimana jika kita perlu menentukan karakter non-ASCII bukan di badan pesan, tetapi di header itu sendiri?  Mungkin kasus yang paling umum adalah meletakkan nama file di header "Content-Disposition".  Ini tampaknya menjadi tugas yang cukup umum, tetapi implementasinya tidak begitu jelas. <br><br>  TL; DR: Gunakan pengkodean yang dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 6266</a> untuk "Content-Disposition" dan ubah teks menjadi Latin (transliterasi) dalam kasus lain. <br><a name="habracut"></a><br><h3>  Intro kecil untuk pengkodean </h3><br>  Artikel tersebut menyebutkan dan menggunakan pengkodean US-ASCII (sering disebut sebagai ASCII), ISO-8859-1, dan UTF-8.  Ini adalah pengantar kecil untuk pengkodean ini.  Bagian ini ditujukan untuk pengembang yang jarang atau sepenuhnya tidak bekerja dengan penyandian dan berhasil melupakannya.  Jika Anda bukan milik mereka, silakan lewati bagian ini. <br><br>  <b>ASCII</b> adalah penyandian sederhana yang berisi 128 karakter dan termasuk seluruh alfabet, angka, tanda baca dan karakter layanan bahasa Inggris. <br><br><img src="https://habrastorage.org/webt/as/0s/ao/as0saoyn9xha8zn_tbnc-xfr0mo.png"><br><br>  7 bit sudah cukup untuk mewakili karakter ASCII.  Kata "test" akan direpresentasikan dalam representasi HEX sebagai 0x74 0x65 0x73 0x74.  Bit pertama untuk semua karakter selalu 0, karena karakter dikodekan dalam 128, dan byte menyediakan 2 ^ 8 = 256 opsi. <br><br>  <b>ISO-8859-1</b> adalah penyandian yang ditujukan untuk bahasa Eropa Barat.  Berisi diakritik Prancis, umlaut Jerman, dll. <br><br><img src="https://habrastorage.org/webt/rj/0d/0n/rj0d0n42-tdyjhhuu5zsr4mith0.png"><br><br>  Pengkodean berisi 256 karakter dan, dengan demikian, dapat diwakili oleh satu byte.  Paruh pertama (128 karakter) persis sama dengan ASCII.  Jadi, jika bit pertama = 0, maka ini adalah karakter ASCII biasa.  Jika 1, maka ini adalah karakter khusus untuk ISO-8859-1. <br><br>  <b>UTF-8</b> adalah salah satu pengkodean paling terkenal bersama dengan ASCII.  Mampu meng-encode 1.112.064 karakter.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ukuran setiap karakter bervariasi</a> dari 1 hingga 4 byte ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> diizinkan hingga 6 byte). <br><br><img src="https://habrastorage.org/webt/3u/h_/cu/3uh_cut1zl6vfutk2lg0db2imio.png"><br><br>  Program yang bekerja dengan pengkodean ini ditentukan oleh bit pertama berapa banyak byte yang termasuk dalam karakter.  Jika oktet dimulai pada 0, maka karakter diwakili oleh satu byte.  110 - dua byte, 1110 - tiga byte, 11110 - 4 byte. <br><br>  Seperti dengan ISO-8859-1, 128 karakter pertama sepenuhnya sesuai ASCII.  Oleh karena itu, teks yang hanya menggunakan karakter ASCII akan benar-benar identik dalam representasi biner, terlepas dari apakah US-ASCII, ISO-8859-1 atau UTF-8 digunakan untuk penyandian. <br><br><h3>  Menggunakan UTF-8 di isi pesan </h3><br>  Sebelum beralih ke tajuk, mari kita lihat sekilas bagaimana menggunakan UTF-8 dalam isi pesan.  Untuk melakukan ini, gunakan tajuk <b>"Tipe Konten"</b> . <br><br><img src="https://habrastorage.org/webt/ji/h_/be/jih_beowiy02xqbvmrjlgiit-8g.png"><br><br>  Jika "Tipe Konten" tidak ditentukan, maka browser harus memproses pesan seolah-olah ditulis dalam ISO-8859-1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peramban seharusnya tidak</a> mencoba menebak penyandian dan, terlebih lagi, abaikan "Jenis Konten".  Tetapi apa yang sebenarnya muncul dalam situasi di mana "Tipe-Konten" tidak dikirim tergantung pada implementasi browser.  Sebagai contoh, Firefox akan melakukan sesuai spesifikasi dan membaca pesan seolah-olah itu dikodekan dalam ISO-8859-1.  Google Chrome, sebaliknya, akan menggunakan penyandian sistem operasi, yang bagi banyak pengguna Rusia sama dengan Windows-1251.  Bagaimanapun, jika pesan itu di UTF-8, maka itu tidak akan ditampilkan dengan benar. <br><br><img src="https://habrastorage.org/webt/wt/t6/yd/wtt6yd6vgnvu3b8akanox7yj3ic.png"><br><br><h3>  Kami menempatkan pesan UTF-8 dalam nilai header </h3><br>  Dengan isi pesan, semuanya cukup sederhana.  Isi pesan selalu mengikuti tajuk, sehingga tidak ada masalah teknis.  Tapi bagaimana dengan tajuk berita utama?  Spesifikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">secara eksplisit menyatakan</a> bahwa urutan header dalam pesan tidak masalah.  Yaitu  tidak mungkin untuk menentukan pengkodean dalam satu header melalui header lainnya. <br><br>  Apa yang terjadi jika Anda hanya mengambil dan menulis nilai UTF-8 ke nilai header?  Kita telah melihat bahwa tipuan dengan isi pesan akan menghasilkan nilai yang cukup dibaca di ISO-8859-1.  Adalah logis untuk berasumsi bahwa hal yang sama akan terjadi dengan tajuk utama.  Tapi ini tidak benar.  Bahkan, dalam banyak kasus, jika tidak sebagian besar, solusi ini akan berhasil.  Ini termasuk iPhone lama, IE11, Firefox, Google Chrome.  Satu-satunya browser di ujung jari saya ketika saya menulis artikel ini yang tidak ingin bekerja dengan judul itu adalah Edge. <br><br><img src="https://habrastorage.org/webt/-w/jt/h7/-wjth7oxa2u3zdbb7g_cjk_zcva.png"><br><br>  Perilaku ini tidak dicatat dalam spesifikasi.  Mungkin pengembang browser memutuskan untuk membuat hidup lebih mudah bagi para pengembang dan secara otomatis mendeteksi bahwa header pesan dikodekan dalam UTF-8.  Secara umum, ini bukan tugas yang sulit.  Kita melihat bit pertama: jika 0, lalu ASCII, jika 1 - lalu, mungkin, UTF-8. <br><br>  Apakah ada persimpangan dengan ISO-8859-1 dalam kasus ini?  Bahkan hampir tidak ada.  Ambil contoh UTF-8 karakter 2 oktet (huruf Rusia diwakili oleh dua oktet).  Simbol dalam biner yang disajikan akan terlihat seperti: <i>110xxxxx 10xxxxxx</i> .  Dalam representasi HEX: <i>[0xC0-0x6F] [0x80-0xBF]</i> .  Dalam ISO-8859-1, karakter-karakter ini hampir tidak dapat menyandikan sesuatu yang membawa beban semantik.  Oleh karena itu, risiko yang salah peramban mendekripsi pesan adalah sangat kecil. <br><br>  Namun, ketika Anda mencoba menggunakan metode ini, Anda mungkin mengalami masalah teknis: server web atau kerangka kerja Anda mungkin tidak mengizinkan penulisan karakter UTF-8 ke nilai header.  Misalnya, Apache Tomcat menempatkan 0x3F (tanda tanya) alih-alih semua karakter UTF-8.  Tentu saja, pembatasan ini dapat dielakkan, tetapi jika aplikasi itu sendiri berjabat tangan dan tidak memungkinkan sesuatu dilakukan, maka mungkin Anda tidak perlu melakukan ini. <br><br>  Tapi, terlepas dari apakah kerangka kerja atau server Anda memungkinkan Anda untuk menulis pesan UTF-8 ke header atau tidak, saya tidak merekomendasikan melakukan ini.  Ini bukan solusi yang terdokumentasi yang mungkin berhenti bekerja di browser pada waktu tertentu. <br><br><h3>  Translit </h3><br>  Saya pikir translit digunakan - eto bolee horoshee reshenie.  Banyak sumber daya Rusia besar yang populer tidak menghina untuk menggunakan transliterasi dalam nama file.  Ini adalah solusi yang dijamin yang tidak akan putus dengan rilis browser baru dan yang tidak perlu diuji secara terpisah pada setiap platform.  Meskipun, tentu saja, Anda perlu memikirkan cara mengubah seluruh spektrum karakter yang mungkin, yang mungkin tidak sepenuhnya sepele.  Misalnya, jika aplikasi dirancang untuk audiens Rusia, maka huruf Tatar ә dan ң dapat muncul dalam nama file, yang harus diproses entah bagaimana, dan tidak hanya diganti dengan "?". <br><br><h3>  RFC 2047 </h3><br>  Seperti yang sudah saya sebutkan, tomkat tidak mengizinkan saya untuk memasukkan UTF-8 di header pesan.  Apakah fitur perilaku ini tercermin dalam Java docs for servlets?  Ya, tercermin: <br><br><img src="https://habrastorage.org/webt/oj/yi/2e/ojyi2e2b9fvcjatf9zrpda_njha.png"><br><br>  Disebutkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 2047</a> .  Saya mencoba menyandikan pesan menggunakan format ini - browser tidak mengerti saya.  Metode pengkodean ini tidak berfungsi dalam HTTP.  Meskipun dia bekerja sebelumnya.  Misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tiket untuk menghapus</a> dukungan untuk pengodean ini dari Firefox. <br><br><h3>  RFC 6266 </h3><br>  Dalam tiket, tautan yang ada di bagian sebelumnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ada referensi</a> bahwa bahkan setelah penghentian dukungan untuk RFC 2047, masih ada cara untuk mentransfer nilai UTF-8 atas nama file yang diunduh: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 6266</a> .  Menurut pendapat saya, ini adalah keputusan yang paling tepat saat ini.  Banyak sumber daya online populer menggunakannya.  Kami di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Platform CUBA</a> juga menggunakan RFC khusus ini untuk menghasilkan "Content-Disposition". <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 6266</a> adalah spesifikasi yang menjelaskan penggunaan header "Content-Disposition".  Metode pengkodean itu sendiri dijelaskan secara rinci dalam spesifikasi lain, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RFC 8187</a> . <br><br><img src="https://habrastorage.org/webt/ex/rr/j6/exrrj6nvpp-fi5wpdkfm0f4dkzk.png"><br><br>  Parameter "nama file" berisi nama file di ASCII, "nama file *" - dalam setiap pengkodean yang diperlukan.  Dengan kedua atribut, "nama file" diabaikan di semua browser modern (termasuk IE11 dan versi Safari yang lebih lama).  Sebaliknya, sebagian besar browser lama mengabaikan "nama file *". <br><br>  Saat menggunakan metode pengkodean ini, parameter pertama menunjukkan pengkodean, diikuti oleh nilai yang dikodekan.  Karakter yang terlihat dari pengkodean ASCII tidak perlu.  Karakter yang tersisa hanya ditulis dalam representasi hex, dengan "%" sebelum setiap oktet. <br><br><h3>  Apa yang harus dilakukan dengan header lain? </h3><br>  Pengkodean yang dijelaskan dalam RFC 8187 tidak universal.  Ya, Anda bisa meletakkan parameter dengan awalan * di header, dan ini bahkan bisa berfungsi untuk beberapa browser, tetapi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasinya memberitahu Anda</a> untuk tidak melakukannya. <br><br>  Dalam setiap kasus di mana UTF-8 didukung dalam tajuk, saat ini ada penyebutan eksplisit dalam RFC yang relevan.  Selain Disposisi Konten, pengkodean ini digunakan, misalnya, dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Web Linking</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Digest Access Authentication</a> . <br><br>  Perlu dicatat bahwa standar di bidang ini terus berubah.  Menggunakan pengkodean yang dijelaskan di atas dalam HTTP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diusulkan hanya pada tahun 2010</a> .  Penggunaan pengkodean ini di "Content-Disposition" telah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diperbaiki dalam standar pada 2011</a> .  Terlepas dari kenyataan bahwa standar-standar ini hanya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pada tahap "Usulan Standar"</a> , mereka didukung di mana-mana.  Pilihan bahwa di masa depan kami mengharapkan standar baru yang akan memungkinkan lebih banyak pekerjaan seragam dengan pengkodean berbeda di header tidak dikesampingkan.  Oleh karena itu, tetap mengikuti berita di dunia standar HTTP dan tingkat dukungannya di sisi browser. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429302/">https://habr.com/ru/post/id429302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429288/index.html">Pengembang! Berhentilah menganggap diri Anda bukan spesialis yang cukup baik, itu tidak benar</a></li>
<li><a href="../id429290/index.html">Tesla akan membangun baterai raksasa lain di Australia</a></li>
<li><a href="../id429292/index.html">3CX menjawab dukungan teknis: peningkatan cepat dan gratis ke versi 3CX terbaru</a></li>
<li><a href="../id429296/index.html">Sepeda listrik sial dan rekat</a></li>
<li><a href="../id429298/index.html">Pembaruan pada VPS.today</a></li>
<li><a href="../id429306/index.html">Jumat Omong kosong 4.3</a></li>
<li><a href="../id429308/index.html">Bagaimana saya meninggalkan startup di sebuah perusahaan besar</a></li>
<li><a href="../id429310/index.html">Mempekerjakan, berburu, melatih, dan mengembangkan rubi. Pojok SDM di konferensi RubyRussia-2018</a></li>
<li><a href="../id429312/index.html">Logika permainan umum pada klien dan server</a></li>
<li><a href="../id429314/index.html">Tinjauan umum tentang platform airdrop crypto yang populer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>