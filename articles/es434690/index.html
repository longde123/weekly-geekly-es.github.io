<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÅ ü¶ñ ‚úä Sistema operativo Haiku: portar aplicaciones y crear paquetes üë®üèª‚Äçüè≠ ü§ù üë©üèΩ‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el oto√±o de este a√±o, despu√©s de 6 a√±os de desarrollo, se lanz√≥ la primera versi√≥n beta de "R1 / beta1" del sistema operativo Haiku . He estado sig...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistema operativo Haiku: portar aplicaciones y crear paquetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434690/">  En el oto√±o de este a√±o, despu√©s de 6 a√±os de desarrollo, se lanz√≥ la primera versi√≥n beta de "R1 / beta1" del sistema operativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Haiku, sistema operativo, p√°gina de Wikipedia.">Haiku</a> .  He estado siguiendo este interesante proyecto durante mucho tiempo, cuyo objetivo es recrear y desarrollar a√∫n m√°s el sistema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="BeOS, p√°gina de Wikipedia.">BeOS</a> que existi√≥ en 1994-2000.  Por lo tanto, tan pronto como vi noticias sobre el lanzamiento de la versi√≥n beta de Haiku en los sitios de noticias de TI, inmediatamente decid√≠ ver qu√© se agregaba a este lanzamiento tan esperado.  Despu√©s de instalar el sistema en la m√°quina virtual <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="VirtualBox, sitio oficial.">VirtualBox</a> y un poco de familiarizaci√≥n con su funcionalidad b√°sica, pens√© que ser√≠a bueno ayudar a la comunidad OpenSource, que est√° desarrollando este sistema operativo, un poco hoy.  Decid√≠ comenzar con lo que he adquirido un poco de experiencia: portar algunos proyectos de juegos. <br><br><div style="text-align:center;"><img title="El escritorio del sistema operativo Haiku." src="https://habrastorage.org/webt/aw/eo/qy/aweoqyqziwcmq_qcwirvpf6drno.png"></div><br>  <i>El escritorio del sistema operativo Haiku.</i> <br><br>  M√°s tarde, intent√© refinar algunas aplicaciones y bibliotecas existentes.  Esta es mi peque√±a actividad en varios repositorios de c√≥digo abierto a los que se dedicar√° este art√≠culo.  En √©l, describir√© constantemente los problemas que encontr√© y hablar√© sobre los m√©todos para resolverlos.  Trat√© de enviar la mayor√≠a de los parches que se hicieron durante este trabajo para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Upstream, desarrollo de software, p√°gina de Wikipedia.">mejorar</a> los proyectos existentes con el fin de proporcionarles soporte a Haiku e interesar a sus desarrolladores en la existencia de sistemas operativos alternativos. <br><a name="habracut"></a><br>  El sistema operativo Haiku utiliza un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Kernel h√≠brido, p√°gina de Wikipedia.">n√∫cleo h√≠brido</a> , que es una implementaci√≥n de arquitectura de microkernel con la capacidad de cargar din√°micamente los m√≥dulos necesarios.  Se basa en la bifurcaci√≥n del n√∫cleo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="NewOS, sitio oficial.">NewOS</a> , que fue desarrollado por un ex ingeniero de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Be Inc., p√°gina de Wikipedia.">Be Inc.</a>  , Por Travis Geiselbrecht.  Hoy, este desarrollador est√° trabajando en Google en un n√∫cleo llamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Circ√≥n, espejo de fuentes de solo lectura, repositorio de GitHub.">Zircon</a> para el nuevo sistema operativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Google Fuchsia, p√°gina de Wikipedia.">Google Fuchsia</a> , pero esa es otra historia.  Entonces, dado que los desarrolladores de Haiku declaran compatibilidad binaria con BeOS, se ven obligados a soportar no dos ramas arquitect√≥nicas familiares, sino tres: x86_64, x86 y x86_gcc2.  La √∫ltima arquitectura es una carga de compatibilidad con el compilador de la versi√≥n anterior de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="GNU Compiler Collection, p√°gina de Wikipedia.">GCC</a> 2.95.  Es gracias a ella que es posible ejecutar aplicaciones escritas para el sistema operativo original de BeOS.  Desafortunadamente, debido a esta carga de compatibilidad, los desarrolladores de Haiku no pueden usar las caracter√≠sticas modernas del lenguaje de programaci√≥n C ++ en las API del sistema.  Sin embargo, preparan im√°genes de instalaci√≥n para solo dos arquitecturas: x86_64 y x86.  El caso es que la distribuci√≥n Haiku para x86 es h√≠brida: a pesar del hecho de que todos los componentes del sistema est√°n construidos bajo x86_gcc2 para compatibilidad binaria, el usuario tiene la oportunidad de instalar o construir cualquier aplicaci√≥n moderna que haya sido dise√±ada para compiladores modernos y arquitectura x86 .  La distribuci√≥n Haiku para la arquitectura x86_64 es totalmente de 64 bits y no tiene la capacidad de ejecutar aplicaciones BeOS y Haiku de 32 bits.  Sin embargo, hay compatibilidad a nivel API, por lo que si tiene el c√≥digo fuente de la aplicaci√≥n en BeOS o Haiku x86, puede compilarlo f√°cilmente en Haiku x86_64 y todo deber√≠a funcionar.  Se recomienda una imagen del sistema operativo para la arquitectura x86_64 para la instalaci√≥n en hardware real si no necesita soporte para ninguna aplicaci√≥n BeOS espec√≠fica o aplicaciones Haiku de 32 bits. <br><br>  Vale la pena decir que en este sistema operativo hay soporte parcial para el est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="POSIX, p√°gina de Wikipedia.">POSIX</a> .  Esta base lo hace similar a los sistemas tipo UNIX y facilita la transferencia de su software.  El lenguaje de programaci√≥n principal es C ++, se usa activamente, ya que las API p√∫blicas de Haiku persiguen principalmente un paradigma de programaci√≥n orientado a objetos.  Sin embargo, nadie proh√≠be el uso del lenguaje de programaci√≥n C, solo en la mayor√≠a de los casos es necesario escribir las capas de compatibilidad correspondientes.  La interfaz de software del sistema operativo se agrupa en marcos de sistema separados que son responsables de una oportunidad particular, por ejemplo, de una interfaz o soporte de red.  Esto es un poco como lo que est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Documentaci√≥n del desarrollador de Apple.">macOS</a> o en el marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Todos los m√≥dulos Qt, documentaci√≥n oficial.">Qt</a> .  Cabe se√±alar que este sistema operativo es de usuario √∫nico, aunque existen algunos desarrollos en la direcci√≥n de proporcionar un modo de trabajo multiusuario para los desarrolladores de Haiku. <br><br>  No puedo dejar de compartir con los lectores de este art√≠culo la experiencia positiva de usar el sistema avanzado de administraci√≥n de ventanas de aplicaciones que est√° disponible en Haiku.  En mi opini√≥n, es uno de los m√°s convenientes y, a su manera, es el sello distintivo de este sistema operativo. <br><br><div style="text-align:center;"><img title="Gesti√≥n avanzada de ventanas en el sistema operativo Haiku: soporte para mosaico y pesta√±as." src="https://habrastorage.org/webt/tw/cm/qe/twcmqedw1ofbempjx2ktaxjesmi.png"></div><br>  <i>Gesti√≥n avanzada de ventanas en el sistema operativo Haiku: soporte para mosaico y pesta√±as.</i> <br><br>  Las ventanas se pueden sujetar juntas en pesta√±as, como se hace en los navegadores modernos, unidos entre s√≠ y redimensionados convenientemente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Administrador de ventanas de mosaico, p√°gina de Wikipedia.">Mosaico simple</a> , que transfiere los contextos de algunas aplicaciones de una ventana a otra, y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Replicante, BeOS, sitio de Wikipedia.">se</a> admiten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Replicante, BeOS, sitio de Wikipedia.">replicantes</a> .  Puede leer m√°s sobre todas las caracter√≠sticas del sistema de ventanas local en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="GUI de Haiku, documentaci√≥n oficial de Haiku.">documentaci√≥n oficial</a> , all√≠ se describen todas las teclas de acceso directo necesarias. <br><br>  No escribir√© en este art√≠culo una descripci√≥n completa de todas las caracter√≠sticas y capacidades de Haiku, ya que aquellos que est√©n interesados ‚Äã‚Äãen √©l podr√°n encontrar f√°cilmente la informaci√≥n necesaria en Internet. <br><br><a name="article-content"></a><h2>  Contenido: </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1. Paquetes y repositorios en Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2. Primeros pasos: Portar la aventura de afecto de armadura adamantina</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3. Modificaci√≥n del puerto NXEngine existente (Cave Story)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">4. Portar el juego Gish</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">5. El proyecto BeGameLauncher, que le permite crear r√°pidamente lanzadores para juegos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">6. Portar Xash3D: juego legendario Half-Life y complementos oficiales</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">7. Portar las dos partes del juego Serious Sam: The First Encounter y The Second Encounter</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">8. Portar el juego de los Vangers</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">9. Implementaci√≥n de di√°logos en la biblioteca SDL2 para Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">10. Portar mi tenedor de Cool Reader</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">11. Finalizaci√≥n del programa KeymapSwitcher</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">12. Conclusi√≥n</a> <br><br><a name="packages"></a><h2>  1. Paquetes y repositorios en Haiku </h2><br>  En comparaci√≥n con el BeOS original, ha aparecido una innovaci√≥n significativa en Haiku: un sistema de gesti√≥n de paquetes que incluye varias herramientas para obtener e instalar software de varias fuentes.  Dichas fuentes pueden ser los repositorios oficiales de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Repositorios, documentaci√≥n oficial de Haiku.">Haiku</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="HaikuPorts, repositorio de GitHub.">HaikuPorts</a> , repositorios no oficiales y simplemente paquetes de HPKG separados y especialmente preparados.  Tales capacidades para instalar y actualizar software se conocen desde hace mucho tiempo en el mundo de los sistemas operativos tipo Unix, pero ahora toda su potencia y conveniencia han llegado con √©xito a Haiku, que no puede sino complacer a los usuarios comunes de este sistema operativo.  Gracias a la infraestructura construida alrededor del administrador de paquetes, ahora cualquier desarrollador puede portar f√°cilmente una aplicaci√≥n de c√≥digo abierto nueva o modificar una existente, luego agregar los resultados de su trabajo al repositorio de puertos del software HaikuPorts, despu√©s de lo cual estar√°n disponibles para todos los usuarios de Haiku.  Como resultado, el ecosistema resultante se parece al de los sistemas operativos macOS con su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Homebrew, el administrador de paquetes que falta para macOS.">Homebrew</a> , FreeBSD con sus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Acerca de los puertos de FreeBSD, sitio oficial de FreeBSD.">puertos</a> , Windows con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="MSYS2 es una distribuci√≥n de software y plataforma de construcci√≥n para Windows.">MSYS2</a> o Arch Linux con su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Repositorio de usuarios de Arch Linux.">AUR</a> . <br><br>  Una herramienta para crear paquetes y portar software, llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="HaikuPorter, repositorio de GitHub.">HaikuPorter</a> , se suministra por separado del sistema operativo y se instala utilizando un peque√±o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Documentaci√≥n de HaikuPorts, p√°gina wiki de GitHub.">manual</a> ubicado en el repositorio en GitHub.  Despu√©s de instalar esta utilidad desde el mismo GitHub, se descarga todo el √°rbol de recetas, en el que el desarrollador est√° trabajando.  La receta es un script de Shell normal con instrucciones en las que HaikuPorter recopilar√° el paquete HPKG requerido.  Es de destacar que la herramienta en s√≠ est√° escrita en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Python, lenguaje de programaci√≥n, p√°gina de Wikipedia.">lenguaje</a> de programaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Python, lenguaje de programaci√≥n, p√°gina de Wikipedia.">Python</a> 2, interact√∫a estrechamente con el sistema de administraci√≥n de paquetes existente y utiliza la herramienta est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Git, p√°gina de Wikipedia.">Git</a> internamente para corregir los cambios en el c√≥digo fuente del software y generar un conjunto de parches.  Gracias a esta pila de tecnolog√≠a, hacer recetas para construir paquetes de HPKG y parches de software en forma de archivos de parches es muy conveniente y simple.  En la mayor√≠a de los casos, tuve que usar solo tres comandos al trabajar con HaikuPorter: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> hp=<span class="hljs-string"><span class="hljs-string">"haikuporter -S -j4 --get-dependencies --no-source-packages"</span></span> hp libsdl2 hp libsdl2 -c hp libsdl2 -e</code> </pre> <br>  El primer comando simplemente recopila el paquete seleccionado, el segundo comando borra el directorio de compilaci√≥n y el tercero crea o actualiza un conjunto de parches de acuerdo con los cambios que se registraron en el repositorio Git del directorio de trabajo a trav√©s de commits. <br><br>  Por lo tanto, para publicar un paquete en el repositorio de HaikuPorts y ponerlo a disposici√≥n de todos los usuarios de Haiku, el desarrollador debe instalar HaikuPorter, expandir el √°rbol de recetas, recolectar el paquete HPKG localmente y probarlo, luego comprometerse a su tenedor del √°rbol de recetas. luego haga una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Control de versiones distribuido, solicitudes de extracci√≥n, p√°gina de Wikipedia.">solicitud</a> de extracci√≥n en GitHub.  Los desarrolladores de Haiku deben considerar el trabajo publicado, despu√©s de lo cual deciden fusionar sus cambios en el repositorio o enviarlos para su revisi√≥n.  Si se aceptan los cambios, el mismo HaikuPorter instalado en el servidor de compilaci√≥n recopilar√° de forma remota el paquete y lo publicar√° autom√°ticamente en el repositorio. <br><br>  Se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="HaikuDepot, documentaci√≥n oficial de Haiku.">agreg√≥ un</a> programa especial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="HaikuDepot, documentaci√≥n oficial de Haiku.">HaikuDepot</a> a la versi√≥n beta de "R1 / beta1" del sistema operativo Haiku, que permite trabajar con paquetes y repositorios a trav√©s de una interfaz gr√°fica de usuario, en lugar de a trav√©s de comandos de consola en el terminal. <br><br><div style="text-align:center;"><img title="El programa HaikuDepot que se ejecuta en el sistema operativo Haiku." src="https://habrastorage.org/webt/bv/7d/bt/bv7dbtkhvrdz4nunutpahn4kate.png"></div><br>  <i>El programa HaikuDepot que se ejecuta en el sistema operativo Haiku.</i> <br><br>  Gracias a esta herramienta, los usuarios inexpertos y novatos de Haiku pueden administrar convenientemente su base de paquetes.  Vale la pena se√±alar que esta aplicaci√≥n no es solo un shell de GUI sobre el administrador de paquetes existente, sino que tambi√©n implementa funcionalidades adicionales.  Por ejemplo, los usuarios autorizados pueden calificar y escribir comentarios sobre los paquetes disponibles para la instalaci√≥n.  Adem√°s, HaikuDepot tiene un sitio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Sitio web de Haiku Depot.">web</a> especial de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Sitio web de Haiku Depot.">Haiku Depot</a> que le permite ver los cambios de paquetes en Internet o descargar paquetes individuales de HPKG. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt; Saltar al contenido</em></a> <br><br><a name="aaaa"></a><h2>  2. Primeros pasos: Portar la aventura de afecto de armadura adamantina </h2><br>  Despu√©s de conocer la funcionalidad del sistema operativo en la m√°quina virtual VirtualBox, decid√≠ evaluar la biblioteca SDL2 y portar el juego <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Portar Adamant Armor Affection Adventure en el sistema operativo Android.">Adamant Armor Affection Adventure</a> a Haiku, que escrib√≠ sobre la transferencia a la plataforma Android anteriormente.  La construcci√≥n del programa no requiri√≥ ning√∫n cambio en el c√≥digo fuente, simplemente instal√© todas las herramientas necesarias, bibliotecas, sus archivos de encabezado desde el repositorio y realic√© lo siguiente: <br><br><pre> <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> = apagado -DCMAKE_C_FLAGS = "- D__linux__" -DSDL2_INCLUDE_DIR = `finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR =` finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> </pre><br>  Como Haiku tiene POSIX, las definiciones -D__linux__ o <strong>-D__unix__</strong> resuelven muchos de los problemas asociados con la definici√≥n de una plataforma.  Sin embargo, vale la pena se√±alar que es mejor abandonar su uso e implementar el soporte Haiku en el c√≥digo fuente del proyecto si hay problemas de compilaci√≥n similares.  Llamar a la utilidad del sistema <strong>finddir</strong> con un argumento espec√≠fico le permite obtener la ruta correcta a los archivos de encabezado para varias arquitecturas. <br><br>  Entonces, al ejecutar los comandos anteriores, compil√© un archivo ejecutable que funcionaba perfectamente, y el juego funcion√≥ perfectamente.  Pens√© que ser√≠a genial preparar un paquete de HPKG autosuficiente con el juego y para esto me adentr√© en Internet en busca de la informaci√≥n que necesitaba.  Entonces no conoc√≠a ninguna herramienta conveniente para portar software, como HaikuPorter, sobre la que escrib√≠ en la secci√≥n anterior, as√≠ que para lograr mi objetivo decid√≠ hacer trampa y desarmar alg√∫n paquete del sistema para ver c√≥mo se organiza dentro y hacer por analog√≠a <br><br>  En Internet, encontr√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Creaci√≥n de un paquete HPKG, HaikuOS - Wiki en ruso.">informaci√≥n</a> deseada, luego desempaqu√© un paquete de sistema aleatorio usando el archivador <strong>Expander</strong> integrado en el administrador de archivos local, encontr√© el archivo <strong>.PackageInfo</strong> , lo <strong>edit√©</strong> y, de acuerdo con la estructura de mi aplicaci√≥n, reemplac√© los archivos.  Luego simplemente ejecut√© los comandos para construir el paquete HPKG e instalarlo en el sistema: <br><br><pre> <code class="bash hljs">package create -C AAAA/ aaaa.pkg pkgman install aaaa.pkg</code> </pre><br>  Desafortunadamente, el lanzamiento del juego desde el men√∫ "Aplicaciones" no tuvo √©xito.  Al ejecutar el ejecutable en la terminal, recib√≠ un error que dec√≠a que era imposible encontrar los archivos de datos necesarios para ejecutar y ejecutar la aplicaci√≥n.  En este caso, si en la terminal va al directorio del paquete de la aplicaci√≥n, entonces todo comenz√≥ bien.  Esto me llev√≥ a la idea de que al iniciar el juego desde el men√∫, debe realizar un cambio forzado en el directorio de la aplicaci√≥n.  Esto se puede hacer con un script de Shell o cambiando la fuente del juego.  Eleg√≠ la segunda opci√≥n y agregu√© algo similar a este c√≥digo: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __HAIKU__ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// To make it able to start from Deskbar chdir(dirname(argv[0])); #endif</span></span></span></span></code> </pre><br>  Al principio de la funci√≥n de inicio <strong>main ()</strong> , que resolvi√≥ completamente este problema y el paquete result√≥ ser viable.  En los comentarios sobre las noticias sobre el lanzamiento de la versi√≥n beta de Haiku en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Haiku R1 / beta1 lanzado - C√≥digo abierto - Noticias.">Linux.org.ru,</a> solt√© el enlace a mi paquete ensamblado y le ped√≠ a alguien que me enviara a algunas comunidades de usuarios activos de este sistema operativo, y luego me fui a la cama. <br><br><div style="text-align:center;"><img title="Puerto de juego Adamant Armor Affection Adventure en Haiku." src="https://habrastorage.org/webt/fw/v-/lg/fwv-lgs1iqaf-bm-gdsoft2dwww.png"></div><br>  <i>Puerto de juego Adamant Armor Affection Adventure en Haiku.</i> <br><br>  En la ma√±ana, una persona que usaba el apodo de <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">3dEyes me escribi√≥ un correo electr√≥nico</a></strong> .  Como result√≥ m√°s tarde, <strong>Gerasim Troeglazov</strong> , uno de los desarrolladores activos de Haiku y autor del puerto de marco Qt para este sistema operativo, se escond√≠a detr√°s de este nombre.  Me mostr√≥ el repositorio HaikuPorts y me dijo c√≥mo usar la utilidad HaikuPorter.  Adem√°s, escribi√≥ una receta para construir el paquete HPKG para Adamant Armor Affection Adventure y lo agreg√≥ a HaikuDepot. <br><br>  Despu√©s de analizar todos los cambios realizados por este desarrollador, not√© que hab√≠a algunos inconvenientes en mi paquete ensamblado manualmente, por ejemplo, la configuraci√≥n no se guard√≥, ya que los directorios montados de los paquetes instalados no ten√≠an capacidades de escritura.  Este problema con la configuraci√≥n de escritura o guardado en su paquete se resolvi√≥ elegantemente con la ayuda de enlaces simb√≥licos en un directorio especial accesible para grabaci√≥n y destinado a guardar datos de usuario.  Mi paquete tampoco ten√≠a su propio √≠cono original. <br><br>  Adem√°s, aprend√≠ que Haiku no tiene aceleraci√≥n de hardware de gr√°ficos 3D, y que el mismo OpenGL se representa mediante programaci√≥n utilizando la potencia de la CPU.  Para aplicaciones de gr√°ficos pesados ‚Äã‚Äãesto, por supuesto, no es bueno, pero para juegos m√°s antiguos es m√°s que suficiente.  Incluso decid√≠ verificar espec√≠ficamente el paquete del juego e instal√© Haiku en mi vieja computadora port√°til, es decir, en hardware real.  Para mi sorpresa, la imagen de Adamant Armor Affection Adventure se renderiz√≥ tan r√°pido que si no me hubieran contado sobre la falta de aceleraci√≥n de hardware, no me habr√≠a dado cuenta de que el procesador realiza el renderizado. <br><br>  <strong>Fuente del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Adamant Armor Affection Adventure, repositorio de GitHub.">https://github.com/EXL/AdamantArmorAffectionAdventure</a></strong> <br><br>  Dej√© la creaci√≥n manual de paquetes HPKG hasta tiempos mejores y cambi√© completamente a usar la herramienta HaikuPorter y escribir recetas.  Pero a veces hay situaciones en las que se requiere la reconstrucci√≥n manual del paquete.  Por ejemplo, si HaikuPorter establece la versi√≥n nocturna de Haiku en el archivo <strong>.PackageInfo</strong> demasiado alta, y el paquete debe probarse en la versi√≥n de lanzamiento del sistema operativo.  Vale la pena se√±alar que fue gracias a la capacidad de respuesta y la experiencia de Gerasim que pude entender las muchas sutilezas de crear paquetes para el sistema operativo Haiku y continu√© mi trabajo. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt; Saltar al contenido</em></a> <br><br><a name="nxengine"></a><h2>  3. Modificaci√≥n del puerto NXEngine existente (Cave Story) </h2><br>  Me sorprendi√≥ incre√≠blemente encontrar una receta en el repositorio de HaikuPorts que hac√≠a referencia a mi bifurcaci√≥n del motor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Cave Story (Doukutsu Monogatari) a trav√©s de NXEngine para varias plataformas.">NXEngine para el juego Cave Story</a> , que hab√≠a estado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Cave Story (Doukutsu Monogatari) a trav√©s de NXEngine para varias plataformas.">analizando</a> en mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Cave Story (Doukutsu Monogatari) a trav√©s de NXEngine para varias plataformas.">blog durante</a> mucho tiempo.  La receta y los parches fueron preparados por un desarrollador llamado <strong>Zolt√°n Mizsei</strong> , utilizando el apodo <strong>extrowerk</strong> y un mantenedor activo de muchos paquetes para Haiku. <br><br>  Un an√°lisis superficial, la instalaci√≥n del paquete y el inicio de la aplicaci√≥n revelaron los mismos problemas que describ√≠ en la secci√≥n anterior de este art√≠culo: el guardado del juego no funcion√≥, la configuraci√≥n tampoco se guard√≥ y el paquete no ten√≠a el √≠cono original.  Decid√≠ corregir estas deficiencias y comenc√© a trabajar en el parche, primero integrando todas las ideas de extrowerk.  Escrib√≠ el <strong>Makefile</strong> original para el sistema operativo Haiku y correg√≠ la escritura y el almacenamiento de varios datos de usuario. <br><br><div style="text-align:center;"><img title="El juego Port of the Cave Story basado en el motor NXEngine, lanzado en el sistema operativo Haiku." src="https://habrastorage.org/webt/cu/fy/xs/cufyxskkttfmgcra7wcq9blp88g.png"></div><br>  <i>El juego Port of the Cave Story basado en el motor NXEngine, lanzado en el sistema operativo Haiku.</i> <br><br>  Como el juego asumi√≥ las versiones en ruso e ingl√©s con un conjunto diferente de archivos ejecutables y archivos de datos, decid√≠ hacer un paquete com√∫n que combine dos versiones a la vez y seleccione autom√°ticamente la correcta en funci√≥n del idioma del sistema elegido por el usuario.  Esto fue implementado por el script de Shell m√°s simple: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [[ `locale -l` == ru* ]] ; then EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/RUS/Cave Story" else EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/ENG/Cave Story" fi "$EXE" $@</span></span></code> </pre><br>  Este script se inicia cuando se selecciona un elemento del juego en el men√∫ "Aplicaciones" y determina la configuraci√≥n regional actual del sistema.  En caso de que el usuario elija el ruso como idioma del sistema, se iniciar√° la versi√≥n rusa del juego y, en todos los dem√°s casos, la versi√≥n en ingl√©s. <br><br>  Pero con la creaci√≥n del √≠cono original para la aplicaci√≥n tuve que jugar bastante.  El hecho es que en el sistema operativo Haiku solo se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Im√°genes de 500 bytes: el formato del icono del vector Haiku.">permiten</a> iconos vectoriales del formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Im√°genes de 500 bytes: el formato del icono del vector Haiku.">HVIF</a> especial, que se establecen como atributos del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Be File System, p√°gina de Wikipedia.">sistema de</a> archivos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Be File System, p√°gina de Wikipedia.">Be File System</a> .  En la documentaci√≥n oficial, hay dos grandes manuales sobre c√≥mo crear sus propios iconos para aplicaciones: el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Pautas de iconos, desarrollo, sitio oficial de Haiku.">primer manual</a> describe el estilo de dibujo y dise√±o, y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Icon-O-Matic, documentaci√≥n oficial de Haiku.">segundo manual</a> explica en detalle c√≥mo usar el programa del sistema <strong>Icon-O-Matic</strong> dise√±ado para crear iconos. <br><br>  Icon-O-Matic le permite importar los archivos SVG m√°s simples y exportar el icono resultante al formato necesario para HaikuPorter, llamado HVIF RDef y que representa el mismo HVIF, pero convertido a una vista de texto.  Los archivos RDef pueden contener no solo im√°genes, sino tambi√©n informaci√≥n adicional, por ejemplo, la versi√≥n de la aplicaci√≥n y su descripci√≥n.  De alguna manera, estos archivos se parecen a los archivos RES utilizados en Windows.  Los siguientes comandos en la receta compilan los archivos RDef y establecen el resultado en atributos especiales: <br><br><pre> <code class="bash hljs">rc nxengine-launcher.rdef resattr -o <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/Cave Story"</span></span> nxengine-launcher.rsrc addResourcesToBinaries <span class="hljs-variable"><span class="hljs-variable">$sourceDir</span></span>/build/nxengine-rus.rdef <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/RUS/Cave Story"</span></span></code> </pre><br>  Adem√°s, la funci√≥n <strong>addResourcesToBinaries se</strong> define en las recetas, lo que permite automatizar este trabajo.  Hay un problema, pero muy serio, con Icon-O-Matic: los archivos SVG que guarda el popular editor de vectores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Inkscape, sitio oficial.">Inkscape</a> no se abren o se importan sin admitir algunas caracter√≠sticas necesarias, por ejemplo, degradados.  Por lo tanto, una aventura de aventura con la conversi√≥n de im√°genes de trama a vectores mediante el uso de varios convertidores en l√≠nea y sin conexi√≥n de pago y gratuitos, y luego abriendo los archivos SVG resultantes en Icon-O-Matic, fracas√© miserablemente.  M√°s tarde, resolv√≠ el problema de abrir archivos SVG y encontr√© una soluci√≥n, pero escribir√© sobre esto a continuaci√≥n.  Mientras tanto, decid√≠ aprovechar las caracter√≠sticas est√°ndar de Icon-O-Matic y dibujar el icono yo mismo.  Despu√©s de media hora de copia impresa de p√≠xeles, obtuve el siguiente arte: <br><br><div style="text-align:center;"><img title="El programa est√°ndar Icon-O-Matic en el sistema operativo Haiku." src="https://habrastorage.org/webt/3d/zw/pk/3dzwpkyex_ccbhffzoqovf9ioue.png"></div><br>  <i>El programa est√°ndar Icon-O-Matic en el sistema operativo Haiku.</i> <br><br>  S√≠, utilic√© un editor de vectores para crear una imagen en el g√©nero Pixel Art.  En mi opini√≥n aficionada de un hombre poco versado en arte, result√≥ bastante bien.  Guard√© este icono en el formato requerido, prepar√© todos los cambios, actualic√© la receta y envi√© todo al repositorio de HaikuPorts. <br><br>  <strong>C√≥digo fuente del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="NXEngine, repositorio de GitHub.">https://github.com/EXL/NXEngine</a></strong> <br><br>  Envi√© los paquetes resultantes por si acaso y al sitio de fan√°ticos del juego <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Descargar Cave Story, Cave Story (Doukutsu Monogatari), un sitio de tributo.">Cave Story (Doukutsu Monogatari)</a> , cuya administraci√≥n agreg√≥ el sistema operativo Haiku a la secci√≥n de descargas. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt; Saltar al contenido</em></a> <br><br><a name="gish"></a><h2>  4. Portar el juego Gish </h2><br>  El siguiente proyecto que decid√≠ transferir a Haiku fue el juego <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Porting Gish al sistema operativo Android: uso de las bibliotecas OpenAL y GL4ES.">Gish</a> , que anteriormente hab√≠a portado a Android.  El repositorio HaikuPorts ten√≠a una receta para una implementaci√≥n gratuita inacabada de un juego llamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Freegish, p√°gina de Wikipedia.">Freegish</a> , as√≠ que decid√≠ agregar el juego original all√≠ tambi√©n, pero sin archivos de datos, ya que, a diferencia del motor, se entregan por separado y no son gratuitos. <br><br><div style="text-align:center;"><img title="Puerto de juego Gish que se ejecuta en el sistema operativo Haiku." src="https://habrastorage.org/webt/yu/dm/r9/yudmr9o3bxzmrc5a6shyyxjvj_w.jpeg"></div><br>  <i>Puerto de juego Gish que se ejecuta en el sistema operativo Haiku.</i> <br><br>  No tuve ning√∫n problema especial con portar este juego.  El archivo ejecutable se compil√≥ inmediatamente despu√©s de ejecutar los siguientes comandos de compilaci√≥n: <br><br><pre> <code class="bash hljs">cmake gish/src/main/cpp/ \ -DGLES=0 \ -DANDROID=0 \ -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` \ -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"`sdl2-config --cflags` -D__linux__"</span></span> \ -DCMAKE_BUILD_TYPE=Release cmake --build .</code> </pre><br>  A continuaci√≥n, implement√© la capacidad de iniciar el juego desde el men√∫ "Aplicaciones" y proporcion√© soporte para guardar los datos del usuario en un directorio accesible para la grabaci√≥n y destinado a esto: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHaikuSettingsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[PATH_MAX]; find_directory(B_USER_SETTINGS_DIRECTORY, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path)); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(path, <span class="hljs-string"><span class="hljs-string">"/Gish/"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strdup(path); }</code> </pre><br>  La funci√≥n <strong>getHaikuSettingsPath ()</strong> que usa la funci√≥n <strong>find_directory ()</strong> de la API de Haiku forma la ruta completa al directorio que necesito. <br><br>  <strong>C√≥digo fuente del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Gish, repositorio de GitHub.">https://github.com/EXL/Gish</a></strong> <br><br>  Quedaba por resolver la siguiente pregunta: ¬øc√≥mo deber√≠a elegir el usuario el directorio con los archivos originales del juego Gish?  Podr√≠a intentar resolver el problema utilizando los scripts de Shell y la utilidad del sistema de <strong>alerta</strong> , pero decid√≠ abordar este problema m√°s a fondo e implementar un pr√°ctico iniciador de GUI usando la API Haiku y el marco del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Kit de interfaz, documentaci√≥n oficial de Haiku.">Kit de interfaz</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt; Saltar al contenido</em></a> <br><br><a name="launcher"></a><h2>  5. El proyecto BeGameLauncher, que le permite crear r√°pidamente lanzadores para juegos </h2><br>  Se decidi√≥ escribir mi proyecto BeGameLauncher en C ++ del antiguo est√°ndar de 1998, utilizando las herramientas nativas del sistema operativo para crear aplicaciones con una interfaz gr√°fica de usuario.  Como los nombres de muchos programas para Haiku y BeOS comienzan con el prefijo "Be", tambi√©n decid√≠ elegir un nombre para el proyecto.  Decid√≠ comenzar familiariz√°ndome con el marco del Kit de interfaz, que es parte de la API de Haiku.  Adem√°s de la documentaci√≥n bastante detallada en el sitio web oficial de Haiku, encontr√© dos <strong>cursos de</strong> lecciones <strong>DarkWyrm</strong> simplemente excelentes que permiten a un desarrollador novato comprender r√°pidamente c√≥mo funcionan ciertas clases de sistemas.  El primer curso se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Aprendiendo a programar con Haiku, sitio oficial de Haiku.">Aprender a programar con Haiku</a> y al principio cubre los conceptos b√°sicos del lenguaje de programaci√≥n C ++, que ser√° muy √∫til para los principiantes.  El segundo curso se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Programaci√≥n con Haiku, sitio oficial de Haiku.">Programaci√≥n con Haiku</a> y est√° destinado a aquellos que ya est√°n familiarizados con C ++ y tienen conocimientos b√°sicos de este lenguaje.  Ambos cursos hablan sobre los aspectos m√°s diversos de la API de Haiku y, por lo tanto, ser√°n muy √∫tiles para cualquiera que quiera comenzar a crear aplicaciones para este sistema operativo. <br><br>  Despu√©s de leer este excelente material en diagonal, hice una impresi√≥n general de la API de Haiku y comenc√© a pensar en mis pr√≥ximos pasos.  Ya ten√≠a algo de experiencia desarrollando aplicaciones de aplicaciones usando el marco Qt, que tambi√©n est√° escrito en el lenguaje de programaci√≥n C ++ y usa el paradigma de programaci√≥n orientado a objetos.  Entonces, la API de Haiku es muy similar, a excepci√≥n de la falta de un sistema de se√±al y ranuras, por lo que a menudo trazar√© algunos paralelos y comparaciones con Qt.  Adem√°s, vale la pena se√±alar el uso del principio de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Programaci√≥n basada en eventos, p√°gina de Wikipedia.">programaci√≥n basada en eventos</a> , que est√° muy extendida en la API de Haiku, que permite que varias entidades interact√∫en entre s√≠ a trav√©s de la transmisi√≥n de eventos o mensajes.  Un an√°logo de la clase <strong>QEvent</strong> aqu√≠ es la clase <strong>BMessage</strong> , alrededor de la cual se construye el sistema de interacci√≥n de objetos.  Una instancia de la clase <strong>BMessage</strong> generalmente obtiene un n√∫mero √∫nico que le permite identificar al remitente y su acci√≥n en un filtro de eventos com√∫n. <br><br>  Para mi proyecto, tuve que elegir las clases API de Haiku apropiadas que me permitieran implementar la funcionalidad deseada.  En primer lugar, para iniciar una aplicaci√≥n externa, era necesario encontrar un an√°logo de la clase <strong>QProcess</strong> o la funci√≥n <strong>execve ()</strong> POSIX, que, por cierto, tambi√©n funciona bien en el sistema operativo Haiku, sin embargo, decid√≠ que ser√≠a preferible usar herramientas nativas, pero por si acaso El caso dejaba la posibilidad de iniciar aplicaciones a trav√©s de la funci√≥n POSIX.  La clase de comunicaci√≥n entre procesos <strong>BRoster fue</strong> excelente para este prop√≥sito.  Encontr√≥ un m√©todo <strong>Launch ()</strong> adecuado que le permite especificar la ruta al archivo ejecutable y pasarle argumentos.  Como el lanzador deber√≠a poder guardar algunos par√°metros, por ejemplo, un directorio seleccionado por el usuario con archivos de datos del juego, necesitaba una clase que hiciera todo esto.  En Qt, dicha clase se llama <strong>QSettings</strong> , y en la API de Haiku, como Gerasim me <strong>indic√≥</strong> , hay una clase de <strong>BMessage que</strong> ya <strong>conozco</strong> , que tiene una caracter√≠stica muy √∫til.  La cuesti√≥n es que la informaci√≥n de esta clase se puede serializar f√°cilmente y, por ejemplo, guardar en el disco.  Esto es muy conveniente y a menudo se usa para registrar cualquier informaci√≥n de usuario en los programas, por eso eleg√≠ esta clase para guardar la configuraci√≥n en mi proyecto para implementar lanzadores.  ,  Haiku API     <strong>QDebug</strong> ,             <strong>stderr</strong> ,   <strong>fprintf()</strong>     C: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// .h #if __cplusplus &gt;= 201103L #define BeDebug(...) fprintf(stderr, __VA_ARGS__) #else extern void BeDebug(const char *format, ...); #endif // __cplusplus == 201103L // .cpp #if __cplusplus &lt; 201103L #include &lt;cstdarg&gt; void BeDebug(const char *format, ...) { va_list args; va_start(args, format); vfprintf(stderr, format, args); va_end(args); } #endif</span></span></code> </pre><br>         <strong>BeDebug()</strong> ,          ,   .    - ,  C++98       . <br><br>    Qt    <strong>QMessageBox</strong> ,        - ,      , ,    .  Haiku API      <strong>BAlert</strong> ,      ,    Qt. ,         ,    ,   -       .       ,                - . <br><br>        .       ,      ,        .     , <strong>BeLauncherBase</strong> ,      ,          GUI-.  , <strong>BeAboutWindow</strong> ,      ¬´ ...¬ª  ,     .  ,     , ,   Gish,     : <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishAboutWindow</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeAboutWindow { ... }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishLauncher</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeLauncherBase { ... }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ BeApp *beApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BeApp(SIGNATURE); GishLauncher *gishLauncher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GishLauncher(BeUtils::GetPathToHomeDir()); beApp-&gt;SetMainWindow(gishLauncher); beApp-&gt;Run(); <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> beApp; beApp = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br> -,     <strong>main()</strong> ,  -            .     C++-            Gish . <br><br><div style="text-align:center;"><img title=" ' ...'     Gish." src="https://habrastorage.org/webt/k1/hy/iw/k1hyiwbvnz6gnxaar4p7k2tnsso.png"></div><br> <i> ¬´ ...¬ª     Gish.</i> <br><br>     ,                .        .       .        ¬´Run¬ª           <strong>setenv()</strong> ,           <strong>getenv()</strong> ,    .  ,    ,    <strong>BRoster</strong>    <strong>Launch()</strong> :   ,            ,     .                .           .                 .          ,    . ,              ,         .    ,               .           . <br><br>    ,        .    : Makefile ¬´ ¬ª  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="CMake, Official site.">CMake</a> .   ,    Haiku    <strong>makefile-engine</strong> ,      ,     ,     Haiku API, ,       .     ,    ,    CMake         makefile-engine.            ,      . <br><br><div style="text-align:center;"><img title="    Gish  Haiku." src="https://habrastorage.org/webt/jy/fw/wh/jyfwwhdhgxzofr_3cczuxxvmsig.png"></div><br> <i>    Gish  Haiku.</i> <br><br>        .   Qt     - <strong>tr()</strong> ,    <strong>lrelease</strong>  <strong>lupdate</strong> ,     .         <strong>Qt Linguist</strong>     ,   .  Haiku API         . ,   ,      <strong>B_TRANSLATE()</strong> ,       <strong>B_TRANSLATION_CONTEXT</strong> ,        .       :      <strong>-DB_COLLECTING_CATKEYS</strong>      ,  -     <strong>grep</strong>     PRE-  .         <strong>collectcatkeys</strong> ,          CATKEYS-.       <strong>linkcatkeys</strong> ,       .  ,         . ,    Haiku API       . ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Localizing an application, Official Haiku site.">Localizing an application</a> ,            .   ,   BeOS    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Locale Kit, Official Haiku documentation.">Locale Kit</a>        Haiku. <br><br>             C++.  ,   Haiku    Qt,   HaikuPorts   IDE,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Qt Creator, Wikipedia page.">Qt Creator</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="KDevelop, Official site.">KDevelop</a> .  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Java virtual machine, Wikipedia page.">JVM</a> ,    IDE,     Java, , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="NetBeans, Official site.">NetBeans</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="IntelliJ IDEA, Official site.">IntelliJ IDEA</a> .        Qt Creator,              <strong>LibClang</strong> ,         . <br><br><div style="text-align:center;"><img title="   Qt Creator,     Haiku." src="https://habrastorage.org/webt/sk/jg/he/skjgheksjieuiyylk7uhe1_dk6e.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El entorno de desarrollo integrado Qt Creator que se ejecuta en el sistema operativo Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En t√©rminos de IDE conocidos y multiplataforma en Haiku, todo est√° bien. ¬øPero qu√© hay de las soluciones exclusivas? No puedo dejar de mencionar un proyecto muy interesante, patrocinado por </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkWyrm</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y que actualmente apoya a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Fowler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se llama </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Paladin, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este programa hace que el editor de texto </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√© disponible en la distribuci√≥n del sistema operativo </font><font style="vertical-align: inherit;">casi como un IDE real.</font></font><br><br><div style="text-align:center;"><img title="   Paladin  Haiku,    HaikuPorts." src="https://habrastorage.org/webt/xp/ad/jp/xpadjpfvl4sfridhlc4wob9s3a0.png"></div><br> <i>   Paladin  Haiku,    HaikuPorts.</i> <br><br>       Haiku     Paladin   Pe   .    HaikuPorts     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Koder, Official GitHub repository.">Koder</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Notepad++, Official site.">Notepad++</a>  Windows        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Scintilla, Wikipedia page.">Scintilla</a> .       PLD-    ,   Paladin IDE,         . <br><br>    Qt Creator      ,      .  ,    ,          .   BeOS    GUI-    .    ,      , ,               .  ,  Haiku         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Layout API, Official Haiku documentation.">Layout API</a> ,     Interface Kit. <br><br><div style="text-align:center;"><img title="  Layout API          Haiku." src="https://habrastorage.org/webt/qt/m1/te/qtm1tehjp2cilj-wfflmps8hi8m.png"></div><br> <i>  Layout API          Haiku.</i> <br><br>                Layout API,        .    Haiku      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Laying It All Out, Official Haiku site.">Laying It All Out</a> ,       ,           . <br><br>     ,          ,   .    ,           Haiku    .  ,    <strong>Launch()</strong>    <strong>BRoster</strong>    .    ,        ,   ,       .     Haiku   ,   ,        ,     <strong>Launch()</strong>    ,      . <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Error const char* args[] = { "/bin/open", fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 2, args); // Good const char* args[] = { fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 1, args); // See "src/kits/app/Roster.cpp", BRoster::ArgVector::Init() method: if (error == B_OK) { fArgs[0] = fAppPath.Path(); // &lt;= Here if (argc &gt; 0 &amp;&amp; args != NULL) { for (int i = 0; i &lt; argc; i++) fArgs[i + 1] = args[i]; if (hasDocArg) fArgs[fArgc - 1] = fDocPath.Path(); } // NULL terminate (eg required by load_image()) fArgs[fArgc] = NULL; }</span></span></code> </pre><br>     <strong>Launch()</strong>     ,      ,        .             .           Haiku?     .  ,      !     GitHub  Gerrit- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Haiku Code Review, Official site.">Haiku Code Review</a> ,    SSH-,    Haiku,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Code review, Wikipedia page.">Code review</a>  : <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ssh://EXL@git.haiku-os.org/haiku --depth=1 -b master &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> haiku git commit git push origin master:refs/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/master</code> </pre><br>      ,            commit-  ID,     Haiku Code Review.  ,   ,  Haiku   ,     .              .          ,        <strong>jam</strong> ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Perforce Jam and Haiku Jam, Wikipedia page.">Perforce Jam</a>          Haiku,   .       <strong>ReadMe.Compiling.md</strong> ,        . <br><br>   ,       Icon-O-Matic   SVG-,      Inkscape.    ,  Icon-O-Matic     <strong>viewBox</strong> , ,    SVG-   ,     Inkscape    <strong>Plain SVG file</strong> ,       Icon-O-Matic.          SVG-,         Icon-O-Matic  .     ReadMe-     ,         Inkscape. <br><br>          ,       .       ,     .   ,    <strong>GetBitmap()</strong>  <strong>BTranslationUtils</strong>   NULL: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Somewhere fBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, fIndex); void BeImageView::Draw(BRect rect) { // Fail const BRect bitmapRect = fBitmap-&gt;Bounds(); ... }</span></span></code> </pre><br>    <strong>Draw()</strong>        <strong>fBitmap</strong>  .    ,     ,          .      ,                C++    . <br><br>    BeGameLauncher          GitHub. ,    -              Haiku: <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="BeGameLauncher, GitHub repository.">https://github.com/EXL/BeGameLauncher</a></strong> <br><br>    ,           HaikuPorts.           Haiku,    ,     ,     : <br><br><pre> <code class="bash hljs">settype -t application/x-vnd.Be-elfexecutable <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish rc <span class="hljs-variable"><span class="hljs-variable">$portDir</span></span>/additional-files/gish.rdef -o gish.rsrc resattr -o <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish gish.rsrc</code> </pre><br>                <strong>QuickLaunch</strong> ,     .          . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="xash3d"></a><h2> 6.  Xash3D:   Half-Life    </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Xash3D Official site.">Xash3D</a>      GoldSrc,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Half-Life, Video Game, Wikipedia page.">Half-Life</a>     .   Xash3D    <strong> </strong> ,         .       ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="FWGS Xash3D, Official GitHub repository.">FWGS Xash3D</a> ,      ,   Windows.     FWGS Xash3D  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">mittorn</a></strong>  <strong>a1batross</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">libpony</a> ),         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="MotoFan.Ru -   .">MotoFan.Ru</a> ,          . <br><br>   :        Haiku,    Xash3D     ,   Haiku      Half-Life,     ?     ‚Äî              . <br><br>           ,      ,       Xash3D,       Haiku. -,    <strong>-D__linux__</strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e intent√© construir un ejecutable y un mont√≥n de bibliotecas. Sorprendentemente, las cosas fueron bastante r√°pido y al anochecer, despu√©s de haber enviado los archivos de datos para el juego, logr√© lanzar Half-Life y tomar el tren a la estaci√≥n principal en Black Mesa.</font></font><br><br><div style="text-align:center;"><img title="   Xash3D  Haiku     Qt Creator." src="https://habrastorage.org/webt/8t/rd/59/8trd59d_6xk6-5nvpyjjvnvl0q0.png"></div><br> <i>   Xash3D  Haiku     Qt Creator.</i> <br><br>  ,      SDL2,     ,      -  ,    , :  ,    OpenGL-,    .       SDL2    .      ,    Haiku   ,   , ,     . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El proyecto para crear lanzadores, sobre el cual escrib√≠ un poco m√°s arriba, fue muy √∫til para m√≠. Usando la herencia de las clases de C ++, ampli√© seriamente su funcionalidad e implement√© la capacidad de seleccionar varias adiciones al juego:</font></font><br><br><div style="text-align:center;"><img title="    Xash3D  Haiku." src="https://habrastorage.org/webt/fc/-5/ta/fc-5tazmkwvtk5e553ztbwipdoy.png"></div><br> <i>    Xash3D  Haiku.</i> <br><br>   :    ,           .                   ,          . ,    <strong>XASH3D_BASEDIR</strong>      ,     .   <strong>XASH3D_GAME</strong>   ,        .     <strong>XASH3D_MIRRORDIR</strong> ,    .      Xash3D         .  , ,     -   Xash3D  Haiku              : <br><br> ‚Ä¢ ./cl_dlls/libclient-haiku.so <br> ‚Ä¢ ./dlls/libserver-haiku.so <br> ‚Ä¢ ./cl_dlls/libclient-haiku64.so <br> ‚Ä¢ ./dlls/libserver-haiku64.so <br><br>         .    Xash3D         Half-Life,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Half-Life: Blue Shift, Wikipedia page.">Blue Shift</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Half-Life: Opposing Force, Wikipedia page.">Opposing Force</a> ,        ,       -  . <br><br>     Xash3D      . ,         ,      <strong>--help</strong> ,        <strong>MAX_SYSPATH</strong> ,      <strong>MAX_PATH</strong> ,      Haiku API.  ,     ,            .     ,  -        <strong>stderr</strong>        .  -   ,        <strong>MAX_PATH</strong>    Haiku.        1024 .     ,         4096 ,  .        :     <strong>MAX_PATH</strong>   ,       . <br><br><div style="text-align:center;"><img title="    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   )." src="https://habrastorage.org/webt/j-/9m/58/j-9m58kzb6pha8dsg5-_rlbbfvw.jpeg"></div><br> <i>    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   <a href=""></a> ).</i> <br><br>              . ,     <strong>XASH_INTERNAL_GAMELIBS</strong>     ,   .       .    <strong>a1batross</strong> ,     ,       <strong>OpenVGUI</strong>   .    Xash3D  Haiku     ,        <strong>XASH_INTERNAL_GAMELIBS</strong>      . <br><br>         Haiku  <strong>WebPositive</strong>        Xash3D .      ,         ,           .        <strong>execve()</strong> ,      <strong>system()</strong> ,       - . <br><br>  Xash3D        <strong>SDL_ShowSimpleMessageBox()</strong>  <strong>SDL_ShowMessageBox()</strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, solo el puerto de biblioteca SDL2 actual para Haiku no admite la creaci√≥n de estos cuadros de di√°logo. </font><font style="vertical-align: inherit;">Nuestra versi√≥n de la biblioteca simplemente no tiene esta funcionalidad. </font><font style="vertical-align: inherit;">Pero hablar√© sobre la soluci√≥n de este problema a continuaci√≥n.</font></font><br><br><div style="text-align:center;"><img title="  Xash3D,    Haiku Depot." src="https://habrastorage.org/webt/jo/fn/8q/jofn8q1crxkrfms-cr5c4mivrf8.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El puerto del motor Xash3D, publicado en el repositorio de Haiku Depot.</font></font></i> <br><br>   ,      Xash3D  Haiku,     SDL2   ;     3D-   .       ,        ,     . ,    ,              . ,            .      SDL2  Haiku      Half-Life      . ,  3D-       .           ,       FPS.                GPU,      Intel. <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Xash3D, GitHub repository.">https://github.com/FWGS/xash3d</a></strong> <br><br>         FWGS Xash3D,     ,          HaikuPorts    HaikuDepot    Haiku. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="serious"></a><h2> 7.     Serious Sam: The First Encounter  The Second Encounter </h2><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Croteam, Official site.">Croteam</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Serious Engine, Official GitHub repository.">Serious Engine</a> ,      Serious Sam: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Serious Sam: The First Encounter, Wikipedia page.">The First Encounter</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Serious Sam: The Second Encounter, Wikipedia page.">The Second Encounter</a> .         Haiku,      . <br><br><div style="text-align:center;"><img title="    Serious Engine  Haiku." src="https://habrastorage.org/webt/lk/3b/ep/lk3bep2lrqjisyvfokrzp3tnovi.png"></div><br> <i>    Serious Engine  Haiku.</i> <br><br>         - ,         - ,      SDL2,         Haiku.            <strong>stderr</strong>     ,          . <br><br><div style="text-align:center;"><img title="  Serious Sam: The Second Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/dt/us/dy/dtusdy2gusdfijgdvipexqfcb0o.jpeg"></div><br> <i>  Serious Sam: The Second Encounter,      Serious Engine    Haiku.</i> <br><br>                       .    3D-,     ,     ,     .   , ,    FPS,   Xash3D,     ,       .         ,          .  ,    ,       .    ,      ,      ,     Haiku   . <br><br><div style="text-align:center;"><img title="  Serious Sam: The First Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/lb/bw/uq/lbbwuq6ei6thjz8evtumifyuqso.jpeg"></div><br> <i>  Serious Sam: The First Encounter,      Serious Engine    Haiku.</i> <br><br>          ,             . ,          Serious Sam: The First Encounter,           .         Serious Sam: The Second Encounter,        ,      . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lamentablemente, no fue sin problemas. Un cambio repetido en la resoluci√≥n del modo de video en el juego condujo a la ca√≠da de todo el motor. En este caso, en mi distribuci√≥n de Linux, este bloqueo no fue as√≠. Pas√© mucho tiempo localizando el problema y solucion√°ndolo. Result√≥ que el punto era que con cada cambio en la resoluci√≥n, la ventana </font><strong><font style="vertical-align: inherit;">SDL_Window</font></strong><font style="vertical-align: inherit;"> se destru√≠a y se creaba de nuevo.</font></font><strong><font style="vertical-align: inherit;"></font></strong> ,   OpenGL-       -     .     SDL2  Haiku   .                    ,       ,     .    ,    : ,    ,   . <br><br>        .    Linux,  ,    .    ,         <strong>libvorbisfile</strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero el motor en s√≠ no se vincula con √©l, pero usa la funci√≥n del sistema </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dlopen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para alimentar la secuencia de archivos de audio OGG a esta biblioteca. El problema era que el motor no pod√≠a encontrar esta biblioteca en Haiku, ya que no hab√≠a un enlace simb√≥lico al archivo de la biblioteca sin una versi√≥n.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CUnixDynamicLoader::DoOpen(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *lib) { <span class="hljs-comment"><span class="hljs-comment">// Small HACK for Haiku OS (: #ifdef __HAIKU__ static int vorbis_cnt = 3; char path[PATH_MAX]; char libpath[PATH_MAX]; find_directory(B_SYSTEM_LIB_DIRECTORY, -1, false, libpath, PATH_MAX); if (strstr(lib, "vorbis")) { snprintf(path, sizeof(path), "%s/libvorbisfile.so.%c", libpath, char(vorbis_cnt + '0')); vorbis_cnt++; lib = path; } #endif // fprintf(stderr, "dlopen =&gt; %s\n", lib); module = ::dlopen(lib, RTLD_LAZY | RTLD_GLOBAL); SetError(); }</span></span></code> </pre><br>  ,         ,    .          ,         . ,      API. <br><br>  ,    ,         x86,   x86_64   .    x86        <strong>SERIOUS_MHZ</strong>      ,     .        ,  -   .     ,            ,    Haiku API          ,    : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;kernel/OS.h&gt; #include &lt;stdio.h&gt; ... uint64 cpuFreq = 0; uint32 count = 0; get_cpu_topology_info(NULL, &amp;count); if (count != 0) { cpu_topology_node_info *topology = new cpu_topology_node_info[count]; get_cpu_topology_info(topology, &amp;count); for (uint32 i = 0; i &lt; count; ++i) { if(topology[i].type == B_TOPOLOGY_CORE) { cpuFreq = topology[i].data.core.default_frequency; } } delete[] topology; } fprintf(stderr, "%llu\n", cpuFreq);</span></span></span></span></code> </pre><br>    .       x86_64  ,    CPU     1 MHz,    .    ,      <strong>__GNU_INLINE_X86_32__</strong> ,    ,      x86,    x86_64.         ,     SDL2,          inline-   <strong>rdtsc</strong>    <strong>/proc/cpuinfo</strong> ,    ,        x86,    . <br><br>       .      <strong>CMakeLists.txt</strong>   <strong>-march=native</strong> ,    :           ,      . <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> PANDORA <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">message</span></span>(<span class="hljs-string"><span class="hljs-string">"Warning: arch-native will be used!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add_compile_options</span></span>(-march=native) <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(CMAKE_SIZEOF_VOID_P <span class="hljs-keyword"><span class="hljs-keyword">EQUAL</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 32-bit message("Warning: Will building 32-bit executable with MMX, SSE, SSE2 support.") add_compile_options(-mmmx -msse -msse2) else() # 64-bit message("Warning: Will building 64-bit executable.") endif() endif()</span></span></code> </pre><br> -         build-        ,      .         MMX, SSE  SSE2     ,       inline-   ,    ,     . <br><br>    ,  Croteam   -    ,          : <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Serious Engine fork, GitHub repository.">https://github.com/EXLMOTODEV/Serious-Engine</a></strong> <br><br>    ,     Serious Sam,     HaikuPorts.       . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="vangers"></a><h2> 8.    (Vangers) </h2><br>  ,          ,    90-      KD Lab.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="OS Haiku - ,   Telegram.">  Telegram IM</a> ,      Haiku,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Vangers, Wikipedia page."></a>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Vangers, Official GitHub repository.">GitHub-</a> ,      . <br><br><div style="text-align:center;"><img title="      Haiku." src="https://habrastorage.org/webt/sd/k8/db/sdk8dbv4o-8hgoaohnzuk4xoo0w.png"></div><br> <i>      Haiku.</i> <br><br>    Haiku           -  .              <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="FFmpeg, Official site.">FFmpeg</a> ,     .        ,     <strong>VANGERS_DATA</strong>       ,   . <br><br><div style="text-align:center;"><img title="     Haiku     Qt Creator." src="https://habrastorage.org/webt/_i/_o/mi/_i_omiac7lqewaq6ml8p4ow4dwg.png"></div><br> <i>     Haiku     Qt Creator.</i> <br><br>              ,      KD Lab.        ¬´¬ª  ¬´¬ª  ¬´¬ª  ¬´¬ª,       ¬´¬ª .  ,           ,     . <br><br><div style="text-align:center;"><img title="  ,     Haiku." src="https://habrastorage.org/webt/cf/l6/yv/cfl6yvi5euj0sn29wrvgzdpzo2k.jpeg"></div><br> <i>  ,     Haiku.</i> <br><br>  ,    ,   ,    ,           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Vangers on GOG.com">GOG.com</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Vangers on Steam.">Steam</a> ,     .     ,    <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">stalkerg</a></strong>       Linux.        ,      .       ,   . <br><br>       NXEngine (Cave Story),     ,          ,         ,     .   <strong>stalkerg</strong>        <strong>-DBINARY_SCRIPT=Off</strong> ,         ,   ,        .      ,      .  :    ,       ,      ,          . <br><br><div style="text-align:center;"><img title="  ,    Haiku Depot." src="https://habrastorage.org/webt/zx/c3/ys/zxc3yseedkzeexk3yxb-3x08azs.png"></div><br> <i>  ,    Haiku Depot.</i> <br><br>        ,    ,     Haiku.       <strong>libclunk.so</strong> ,         .    Linux,    ,     <strong>LD_LIBRARY_PATH</strong>    ,  ,          ,   ,   Haiku   ,    Windows.            ,    ,     Haiku      <strong>./lib/</strong> ,          .         . <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Vangers, GitHub repository.">https://github.com/KranX/Vangers</a></strong> <br><br>         ,           HaikuPorts   HaikuDepot,       ,    Linux- Fedora   . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="sdl2"></a><h2> 9.     SDL2  Haiku </h2><br>    Xash3D  Serious Engine,     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site.">SDL2</a>     .     <strong>SDL_ShowSimpleMessageBox()</strong>  <strong>SDL_ShowMessageBox()</strong> ,      -  , ,  .          : Windows, macOS, iOS, X11  Android,  -   Haiku.             SDL2. <br><br>  Haiku API,     Interface Kit,    <strong>BAlert</strong> ,       .       . ,   ,  ,       ,   ,   <strong>BAlert</strong> ,     .          ,     :       ,     ,      <strong>Go()</strong>        .   ,     ,        . <br><br><div style="text-align:center;"><img title="    SDL2    Haiku." src="https://habrastorage.org/webt/wj/lu/an/wjluanrt_t4sy9sq7tjzzwtsfje.png"></div><br> <i>    SDL2    Haiku.</i> <br><br>  ,    ,   ,       <strong>BAlert</strong>   ,        <strong>BApplication</strong> ,      <strong>app_server</strong>     .     ,     <strong>BAlert</strong>           ,   ,         <strong>BApplication</strong> ,        .  Haiku API        <strong>BApplication</strong> ,   <strong>be_app</strong> ,     Qt    <strong>qApp</strong> ,       .  ,     <strong>be_app</strong>  NULL,    ,    ,   .       . <br><br>    ,   SDL2     C,   Haiku API,  ,    C++. -           <strong>extern "C"</strong> ,           .  ,  <strong>new</strong>    <strong>new(std::nothrow)</strong> ,        NULL,   ,   SDL2,  ,  . <br><br>      .   ,      SDL2  ,      Haiku API     .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="SDL2_messagebox_test.c, GitHubGist repository."> </a> ,        ,       .  -   ,     ,        .    API  SDL2,        . <br><br>        -  ,     <strong>BTextView</strong> ,      <strong>BAlert</strong> ,    <strong>SetWordWrap()</strong>   <strong>true</strong> ,         ,      .  ,   :       <strong>strlen()</strong>   .     ,  SDL2      UTF-8,   ,   <strong>strlen()</strong>    ,    .    Haiku API    <strong>BString</strong> ,     <strong>CountChars()</strong> ,      ,    : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckLongLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> final = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// This UTF-8 friendly. PS G_MAX_STRING_LENGTH = 120 BString message = aMessage; int32 length = message.CountChars(); for (int i = 0, c = 0; i &lt; length; ++i) { c++; if (*(message.CharAt(i)) == '\n') { c = 0; } if (c &gt; final) { final = c; } } return (final &gt; G_MAX_STRING_LENGTH); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta funci√≥n comprueba el texto del mensaje en busca de l√≠neas de m√°s de 120 caracteres y, si corresponde, devuelve verdadero. En cuanto a UTF-8, todav√≠a hubo un momento en que en algunas fuentes del sistema Haiku no hay soporte para caracteres chinos. Por lo tanto, por ejemplo, no puede establecer ninguna inscripci√≥n en chino en el t√≠tulo de la ventana. Pero el texto en ruso se instala sin problemas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mientras preparaba el paquete, encontr√© un error de compilaci√≥n para la arquitectura x86_gcc2, que se activa en la receta de la biblioteca SDL2. Result√≥ que el compilador GCC 2.95 m√°s antiguo no pod√≠a adivinar que el c√≥digo comentado es equivalente al siguiente:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">rgb_color </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertColorType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SDL_MessageBoxColor *aColor)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// return { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, 255 }; rgb_color color = { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, color.alpha = 255 }; return color; }</span></span></code> </pre><br>                     ,      . <br><br>      SDL2   HaikuPorts,     Xash3D  Serious Engine     - , ,  .     SDL2    ,          HaikuPorts  upstream  SDL2.         - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."> </a>    <strong>BE_*</strong>  <strong>HAIKU_*</strong> ,        . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="coolreader"></a><h2> 10.     Cool Reader </h2><br>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="   Cool Reader.">Cool Reader</a> ,   <strong> </strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Buggins</a> ),        .          ,     -          ,           . <br><br><div style="text-align:center;"><img title="   Cool Reader,     Haiku." src="https://habrastorage.org/webt/ug/ib/ys/ugibysukgq3yqipkk3w_ar8sn1y.png"></div><br> <i>   Cool Reader,     Haiku.</i> <br><br>   HaikuPorts        Cool Reader,  - -  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="SourceForge, Official site.">SourceForge</a> ,    ,        .         HaikuPorts,      Cool Reader.       ,            ,      Haiku.      Cool Reader      GitHub-: <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Cool Reader fork, GitHub repository.">https://github.com/EXLMOTODEV/coolreader</a></strong> <br><br>  ,    ,     .   <strong>__HAIKU__</strong> , -        <strong>_LINUX</strong> ,           ,    .      ,  Haiku     ,     <strong>_LINUX</strong> ,      .         ,       ,   .    ,      . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="keymap"></a><h2> 11.   KeymapSwitcher </h2><br>             <strong>Meta/Opt/Cmd/Win+Space</strong>    .      ,        .       macOS, Windows  Linux   GNOME 3          .      Android   .  ,             . <br><br>    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="KeymapSwitcher, GitHub repository.">KeymapSwitcher</a> ,    Haiku,          , -             .             . ,         Haiku,         .  ,     HaikuPorts      .   , KeymapSwitcher     Haiku,      API      -      . <br><br><div style="text-align:center;"><img title=" KeymapSwitcher    Haiku        ." src="https://habrastorage.org/webt/o1/cq/xn/o1cqxnduzeop30tx6zpzbq7c62i.png"></div><br> <i> KeymapSwitcher    Haiku        .</i> <br><br>   ,      KeymapSwitcher,               ,       -   Haiku.   ,       ,   ,   <strong>Opt</strong>     .  ,  <strong>Opt</strong>        .            ,             HaikuPorts,     KeymapSwitcher       Haiku. <br><br> <strong>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="KeymapSwitcher, GitHub repository.">https://github.com/HaikuArchives/KeymapSwitcher</a></strong> <br><br> ,           . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> <br><br><a name="theend"></a><h2> 12.  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estudiar la API de Haiku, as√≠ como resolver varios problemas ex√≥ticos que surgieron como resultado de portar nuevas y actualizar aplicaciones existentes para este sistema operativo, me trajo mucha experiencia valiosa y placer. Pude promover parches de soporte de Haiku en el repositorio de c√≥digo fuente de algunos proyectos grandes y conoc√≠ a nuevas personas interesantes que de alguna manera estaban relacionadas con este hermoso sistema operativo.</font></font><br><br><div style="text-align:center;"><img title=" ,     Haiku." src="https://habrastorage.org/webt/ew/rw/oy/ewrwoyfj--hee2fsb4xz0qrl5ck.png"></div><br> <i> ,     Haiku.</i> <br><br>   ,          3D-   ,      ,     Haiku       ,          .  ,                    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="What about bounty? 3D acceleration bounty?, Official Haiku forums.">3D-</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Ported GTK3 [Live], Official Haiku forums.">GTK+3</a> ,    HaikuPorts     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository.">QtWebEngine</a> .  GTK+3           Firefox  Chromium,  QtWebEngine    Blink   ,    Qt,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Otter Browser, Official site.">Otter Browser</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Falkon, Official site.">Falkon</a> . <br><br>         ,         , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Lubuntu, Official site.">Lubuntu</a>  Windows XP.    ,      . ,         -     ,    ,                 . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos mis puertos y mejoras ya se han publicado y est√°n disponibles para su instalaci√≥n para todos los usuarios de Haiku. Todos los cambios en el c√≥digo fuente est√°n disponibles en los respectivos repositorios bajo sus licencias originales. En este trabajo, utilic√© una gran cantidad de materiales, el principal de los cuales destacar√© en los enlaces √∫tiles a continuaci√≥n. Muchas gracias a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Google, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por estar all√≠. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. El sitio web oficial del sistema operativo Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. El foro oficial del sistema operativo Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Documentaci√≥n oficial para usuarios de Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Documentaci√≥n oficial para desarrolladores de Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Descripci√≥n de las caracter√≠sticas de la interfaz gr√°fica de usuario Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="      Haiku.">6.       Haiku</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="  Icon-O-Matic     .">7.   Icon-O-Matic     </a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    HVIF.">8.     HVIF</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Interface Kit.">9.     Interface Kit</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    Locale Kit.">10.     Locale Kit</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title=",      Haiku.">11. ,      Haiku</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="     Layout API.">12.      Layout API</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title=" ,     Haiku   Layout API.">13.  ,     Haiku   Layout API</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="GitHub-     Haiku.">14. GitHub-     Haiku</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="GitHub-   HaikuPorts.">15. GitHub-   HaikuPorts</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="    HPKG- Haiku Depot Web.">16.     HPKG- Haiku Depot Web</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="  'Haiku:  -'    INSTEAD,  .">17.   ¬´Haiku:  -¬ª    INSTEAD,  </a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title=" 'Haiku: '    INSTEAD,  .">18.  ¬´Haiku: ¬ª    INSTEAD,  </a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="   'Learning to Program' with Haiku  DarkWyrm.">19.    ¬´Learning to Program with Haiku¬ª  DarkWyrm</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="   'Programming With Haiku'  DarkWyrm.">20.    ¬´Programming With Haiku¬ª  DarkWyrm</a> . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title=" '    Haiku?'   Linux.org.ru,  .">21.  ¬´    Haiku?¬ª   Linux.org.ru,  </a> . <br> <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="  Telegram IM,     Haiku.">22.   Telegram IM,     Haiku</a> .</strong> <br><br>     <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="habr, Official site.">habr</a></strong>          !  , ,   2019 ! <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>&lt;&lt;   </em></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es434690/">https://habr.com/ru/post/es434690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es434680/index.html">Evoluci√≥n del programador de tareas</a></li>
<li><a href="../es434682/index.html">Teletransportador personal de la ciudad</a></li>
<li><a href="../es434684/index.html">Rust 2019 y m√°s all√°: restricciones de crecimiento</a></li>
<li><a href="../es434686/index.html">Conferencia sobre JavaScript y Node.js en KPI</a></li>
<li><a href="../es434688/index.html">FreeBSD planea cambiar a ZFSonLinux</a></li>
<li><a href="../es434692/index.html">Las 25 startups estadounidenses m√°s caras para morir en 2018</a></li>
<li><a href="../es434694/index.html">Descripci√≥n general de NeurIPS-2018 (ej. NIPS)</a></li>
<li><a href="../es434696/index.html">Los empleados de gigantes de TI descubrieron c√≥mo influir en las pol√≠ticas de sus empresas</a></li>
<li><a href="../es434698/index.html">Pesimismo sobre el multiproceso</a></li>
<li><a href="../es434700/index.html">Ventajas de seguir las gu√≠as de estilo al desarrollar aplicaciones angulares</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>