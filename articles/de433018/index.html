<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏾 🙇🏼 🕵🏽 UDB. Was ist das Teil 2. Datenpfad ⛩️ 🍂 🤶🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir betrachten UDB weiterhin basierend auf der Cypress-Dokumentation. Und dieses Mal werden wir Datapath, einen Betriebsautomaten, im Detail untersuch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Was ist das Teil 2. Datenpfad</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433018/"><img src="https://habrastorage.org/webt/g_/al/i6/g_ali6vm2tdujirqgof2slfxnmk.jpeg"><br><br>  Wir betrachten UDB weiterhin basierend auf der Cypress-Dokumentation.  Und dieses Mal werden wir Datapath, einen Betriebsautomaten, im Detail untersuchen. <br><a name="habracut"></a><br>  Der allgemeine Inhalt des Zyklus „UDB.  Was ist das? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1. Einführung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pld.</a> <br>  Teil 2. Datenpfad.  (Aktueller Artikel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3. Datenpfad-FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4. Datenpfad ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5. Datenpfad.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nützliche Kleinigkeiten.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 6. Management- und Statusmodul.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 7. Steuermodul für Timing und Reset</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 8. Adressierung von UDB</a> <br><br><h3>  21.3.2 Betriebsmaschine (Datenpfad) </h3><br>  Der in Abbildung 21-6 gezeigte Datenpfad enthält eine 8-Bit-Einzelzyklus-ALU und den zugehörigen Vergleich und die Generierung von Bedingungsflags.  Datenpfadblöcke benachbarter UDBs können miteinander verkettet werden, um die Bittiefe zu erhöhen.  Der Datenpfad enthält einen kleinen dynamischen Konfigurations-RAM, der die in einem bestimmten Zyklus auszuführende Operation dynamisch auswählen kann. <br><br>  Datapath ist optimiert, um typische eingebettete Funktionen wie Timer, Zähler, PWMs, PRS, CRC, Schieberegister und Totbandgeneratoren zu implementieren.  Das Hinzufügen von Additions- und Subtraktionsfunktionen bietet Unterstützung für digitale Delta-Sigma-Operationen. <br><br><img src="https://habrastorage.org/webt/p3/qf/tw/p3qftwvnkiyvec-lgkvod-2y7va.png"><br>  Abbildung 21-6.  Datenpfad der obersten Ebene. <br><br><h3>  21.3.2.1 Übersicht </h3><br>  Die folgenden Kapitel bieten einen Überblick über die Hauptfunktionen von Datapath. <br><br>  <b>Dynamische Konfiguration</b> <br><br>  Dynamische Konfiguration - Die Möglichkeit, die Arbeit und die interne Kommunikation von Datapath in jedem Zyklus unter der Kontrolle eines Sequenzers zu ändern.  Dies wird mithilfe des Konfigurationsspeichers (Konfigurations-RAM) implementiert, in dem acht eindeutige Konfigurationen gespeichert sind.  Die Eingangsadresse dieses Speichers kann von jedem Block weitergeleitet werden, der mit Ablaufverfolgungsressourcen verbunden ist, normalerweise von der PLD-Logik, den E / A-Pins oder von anderen Datenpfaden. <br><br>  <b>Alu</b> <br><br>  ALU kann acht Allzweckfunktionen ausführen: Inkrementieren, Dekrementieren, Addieren, Subtrahieren und Ausführen logischer Operationen AND, OR, XOR und PASS.  Die Auswahl der Funktionen wird durch den Konfigurationsspeicher für jeden Zyklus bestimmt.  Am ALU-Ausgang stehen unabhängige Verschiebungsoperationen (Links-, Rechts-, Halbbyte-Permutation) sowie Maskierungsoperationen zur Verfügung. <br><br>  <b>Bedingte Konstruktionen</b> <br><br>  Jeder Datenpfad verfügt über zwei bitweise maskierte Komparatoren, die so konfiguriert werden können, dass mehrere Datenpfad-Registereingaben als Argumente ausgewählt werden.  Andere identifizierbare Bedingungen können alle Nullen, alle Einsen und Überlauf sein.  Diese Bedingungen bilden die Hauptausgänge von Datapath und können an digitale Trace-Leitungen oder Eingänge anderer Funktionen weitergeleitet werden. <br><br>  <b>Eingebettetes CRC / PRS</b> <br><br>  Datapath bietet integrierte Unterstützung für CRC-Einzelzyklusberechnungen und die Erzeugung von Pseudozufallssequenzen (Eng. Pseudo Random Sequence, PRS) mit einer bestimmten Bittiefe und einem generierenden Polynom.  Um eine Bittiefe von mehr als 8 Bit zu erreichen, können Signale zwischen Datapath verkettet werden.  Diese Funktion wird dynamisch gesteuert, dh sie kann mit anderen Funktionen abwechseln. <br><br>  <b>Benutzerdefinierte hohe Bitnummer</b> <br><br>  Die Nummer des höchstwertigen Bits (English Most Significant Bit, MSB) der arithmetischen Funktion und der Verschiebungsfunktion kann programmgesteuert eingestellt werden.  Dies bietet Unterstützung für CRC / PRS-Funktionen variabler Länge und ermöglicht in Verbindung mit der Maskierung der ALU-Ausgabe die Implementierung von Timern beliebiger Länge, Zähler und Verschiebungsblöcke. <br><br>  <b>FIFO-Eingangs- / Ausgangspuffer</b> <br><br>  Jeder Datenpfad verfügt über zwei 4-Byte-FIFO-Puffer, von denen jeder als Eingangspuffer (CPU oder DMA schreibt Daten in FIFO, Datenpfad liest FIFO) oder als Ausgabepuffer (Datenpfad schreibt in FIFO und CPU oder DMA) konfiguriert werden kann liest daraus).  Diese FIFO-Puffer erzeugen einen Status, der zur Interaktion mit Sequenzern, Interrupts oder DMA-Anforderungen weitergeleitet werden kann. <br><br>  <b>Verkettung</b> <br><br>  Der Datenpfad kann so konfiguriert werden, dass Bedingungen und Signale in einer Kette mit benachbarten Datenpfaden verkettet werden.  Shift-, Transfer-, Capture- und andere bedingte Signale können zu Ketten kombiniert werden, um arithmetische Funktionen mit höherer Bittiefe sowie Shift-Funktionen und CRC / PRS-Funktionen zu erstellen. <br><br>  <b>Zeitmultiplex</b> <br><br>  In Oversampling-Anwendungen oder wenn keine hohen Taktraten erforderlich sind, kann eine ALU in Datapath effektiv zwischen zwei Registersätzen und Bedingungsgeneratoren aufgeteilt werden.  Die Ausgänge der ALU und des Schieberegisters sind zwischengespeichert und können in nachfolgenden Zyklen als Eingang verwendet werden.  Beispiele für die Verwendung sind die Unterstützung von 16-Bit-Funktionen in einem (8-Bit-) Datenpfad oder das Abwechseln von CRC-Generierungsoperationen mit Datenverschiebungsoperationen. <br><br>  <b>Datenpfadeingaben</b> <br><br>  Datapath verfügt über vier Arten von Eingängen: Konfiguration, Steuerung sowie Dateneingänge (seriell und parallel).  Die Konfigurationseingänge wählen die RAM-Adresse der dynamischen Konfiguration aus.  Die Steuereingänge laden die Datenregister vom FIFO und laden den Batterieausgang in den FIFO herunter.  Serielle Dateneingänge umfassen Shift- und Carry-Eingänge.  Über den parallelen Dateneingangsport können Sie bis zu 8 Datenbits von Trace-Ressourcen empfangen. <br><br>  <b>Datenpfadausgaben</b> <br><br>  Insgesamt werden in Datapath 16 Signale generiert.  Einige von ihnen sind bedingte Signale (zum Beispiel Vergleiche), andere sind Statussignale (zum Beispiel FIFO-Status) und der Rest sind Datensignale (zum Beispiel Schieberegisterausgang).  Diese 16 Signale werden in 6 Datenpfadausgänge gemultiplext und zur Trace-Matrix geleitet.  Standardmäßig sind die Ausgänge mit der Taktfrequenz synchronisiert, wodurch ein Pipelining mit einer Verzögerung von 1 Taktzyklus erstellt wird.  Außerdem können ihre (Ausgänge) in den asynchronen (kombinatorischen) Modus geschaltet werden (siehe Anmerkungen des Übersetzers). <br><br>  <b><i>Anmerkung des Übersetzers</i></b> <br><br>  <i>Ich habe lange nach dem Timing der Datapath-Ausgaben gesucht.</i>  <i>Meine Erfahrung hat gezeigt, dass alles asynchron da ist.</i>  <i>Es stellte sich heraus, dass dies nicht so sehr der Status der Ausgaben ist, sondern diese Editoreinstellung für darauf basierende Variablen.</i> <br><br><img src="https://habrastorage.org/webt/zy/il/bn/zyilbndbqdrrsga9y-i0nnry_kc.png"><br><br>  <i>Dadurch wird der Editor gezwungen, den folgenden Verilog-Code zu generieren:</i> <br><pre><code class="plaintext hljs">/* ==================== Assignment of Registered Variables ==================== */ always @ (posedge clock) begin : register_assignments var1 &lt;= (decr_finished); end</code> </pre> <br>  <i>Wenn Sie in den kombinatorischen Modus wechseln</i> <br><br><img src="https://habrastorage.org/webt/bs/ax/q_/bsaxq_yb5ui9zfsoojlqha7jtqc.png"><br><br>  <i>Der Code wird folgendermaßen aussehen:</i> <br><br><pre> <code class="plaintext hljs">assign var1 = (decr_finished);</code> </pre><br>  <i>All dies gilt jedoch für Variablen, die aus Datenpfadausgaben generiert werden.</i>  <i>Und die Ausgänge selbst sind immer asynchron.</i>  <i>Und ihre Namen (in diesem Beispiel <b>decr_finished</b> ) können ohne Eingabe zusätzlicher Variablen verwendet werden.</i> <br><br>  <b>Datenpfad-Arbeitsregister</b> <br><br>  Jedes Datenpfadmodul verfügt über sechs 8-Bit-Arbeitsregister.  Die CPU oder der DMA hat Lese- und Schreibzugriff auf alle Register. <br><br>  <i>Tabelle 21-1</i> <br><div class="scrollable-table"><table><tbody><tr><th>  Typ </th><th>  Vorname </th><th>  Beschreibung </th></tr><tr><td>  Batterie </td><td>  A0, A1 </td><td>  Batterien können entweder eine Quelle oder ein Empfänger sein <br>  für ALU.  Sie können auch aus dem Datenregister geladen werden. <br>  oder FIFO.  Batterien enthalten normalerweise den aktuellen Funktionswert. <br>  (z. B. Zähler, CRC oder Verschiebung).  Diese Register verlieren ihre <br>  Werte beim Aufrufen des Ruhemodus und beim Zurücksetzen nehmen <br>  Wert 0x00. </td></tr><tr><td>  Daten </td><td>  D0, D1 </td><td>  Datenregister enthalten normalerweise Funktionskonstanten, <br>  Zum Beispiel ein PWM-Vergleichswert, eine Zeitgeberperiode oder ein CRC-Polynom. <br>  Diese Register behalten ihre Werte im Schlafmodus bei. <br>  Modus. </td></tr><tr><td>  FIFO </td><td>  F0, F1 </td><td>  Zwei 4-Byte-FIFO-Puffer dienen als Quelle: <br>  und einen Empfänger für gepufferte Daten.  FIFO kann sein <br>  konfiguriert als Eingabepuffer und Ausgabepuffer oder als einer <br>  Eingabepuffer und ein Ausgabepuffer.  Statussignale werden angezeigt <br>  Lese- und Schreibstatus dieser Puffer.  Zu Anwendungsbeispielen <br>  kann gepufferte TX- und RX-Daten in SPI oder UART enthalten, <br>  sowie gepufferte PWM-Daten und gepufferte Daten <br>  über die Timer-Zeit.  Diese Register speichern ihre Werte nicht. <br>  Im Ruhemodus und beim Zurücksetzen nehmen sie den Wert 0x00 an. </td></tr></tbody></table></div><br>  Im nächsten Artikel werden wir uns mit FIFO befassen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433018/">https://habr.com/ru/post/de433018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433008/index.html">USB-Geräte sind eine "plötzliche" Bedrohung</a></li>
<li><a href="../de433010/index.html">Haben Sie eine Idee: Berechtigungssystem für npm-Pakete</a></li>
<li><a href="../de433012/index.html">Vielleicht lebe ich nur wegen ihr: Warum verlassen sich Patienten mit Apnoe auf ein Programm, das von einem Hacker geschrieben wurde?</a></li>
<li><a href="../de433014/index.html">Witze über die jüngste Freilassung von Astronauten in den Weltraum</a></li>
<li><a href="../de433016/index.html">Schnittstellenänderungen, mehrschichtige Animationen und strukturiertes visuelles Chaos: Ein Überblick über Webtrends für 2019</a></li>
<li><a href="../de433030/index.html">Live: Front-End-Leistung</a></li>
<li><a href="../de433032/index.html">Wie medizinisches Routing funktioniert - das zeigen wir am Beispiel der DOC + -Anwendung</a></li>
<li><a href="../de433034/index.html">Spel-Injektion</a></li>
<li><a href="../de433036/index.html">Tipps zur Organisation der IT in einem kleinen Unternehmen</a></li>
<li><a href="../de433038/index.html">Warum lernen Vermarkter das Programmieren?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>