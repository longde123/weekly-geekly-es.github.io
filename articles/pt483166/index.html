<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöä üóÑÔ∏è üßìüèø Detectar automaticamente a codifica√ß√£o de texto üöÆ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø üèáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introdu√ß√£o 


 Eu gosto muito de programa√ß√£o, sou amador e a primeira e a √∫ltima vez que ganhei dinheiro com programa√ß√£o em 1996. Mas √†s vezes escr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Detectar automaticamente a codifica√ß√£o de texto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483166/"><img src="https://habrastorage.org/webt/qf/ve/vy/qfvevyr3zqvd2fwh89fkdc0btxg.jpeg" alt="imagem"><br><h2 id="vvedenie">  1. Introdu√ß√£o </h2><br><p>  Eu gosto muito de programa√ß√£o, sou amador e a primeira e a √∫ltima vez que ganhei dinheiro com programa√ß√£o em 1996.  Mas √†s vezes escrevo algo para automatizar tarefas di√°rias.  Cerca de um ano atr√°s, golang foi descoberto.  Como uma ferramenta para criar utilit√°rios, o golang se mostrou muito conveniente.  Ent√£o </p><br><p>  Havia uma necessidade de processar um grande n√∫mero (mais de mil, e vejo os sorrisos de um profissional) de arquivos com informa√ß√µes geof√≠sicas especiais.  O formato do arquivo √© texto, simples.  Se voc√™ est√° subitamente interessado, ent√£o este √© um <a href="http://www.cwls.org/las/" rel="nofollow">formato LAS</a> . <br>  O arquivo LAS cont√©m cabe√ßalho e dados. </p><br><p> Os dados s√£o praticamente CSV, apenas delimitador de tabula√ß√£o ou espa√ßos. </p><br><p>  E o cabe√ßalho cont√©m uma descri√ß√£o dos dados e aqui geralmente cont√©m texto em russo.  Pode ser o nome do campo, o nome dos estudos registrados em um arquivo, etc. </p><br><p>  Esses arquivos foram criados em momentos diferentes e em programas diferentes, no fato de que em um arquivo parte √© codificada no CP1251 e parte no CP866.  Eu preciso processar esses arquivos, o que significa entender.  Portanto, era necess√°rio determinar automaticamente a codifica√ß√£o do arquivo. </p><br><p>  Como resultado, ele inventou uma bicicleta no golang e, consequentemente, uma pequena biblioteca nasceu com a capacidade de detectar uma p√°gina de c√≥digo. </p><a name="habracut"></a><br><p>  <i>Sobre codifica√ß√µes.</i>  <i>H√° pouco tempo, no habr, havia um bom artigo sobre codifica√ß√µes</i> <a href="https://habr.com/ru/post/478636/">Como as codifica√ß√µes de texto funcionam.</a>  <a href="https://habr.com/ru/post/478636/">De onde v√™m os "crocodilos".</a>  <a href="https://habr.com/ru/post/478636/">Os princ√≠pios de codifica√ß√£o.</a>  <a href="https://habr.com/ru/post/478636/">Generaliza√ß√£o e an√°lise detalhada:</a> <i>se voc√™ quiser entender o que s√£o "ossos" ou "ossos", vale a pena ler.</i> </p><br><p>  No come√ßo, joguei minha decis√£o.  Ent√£o tentei encontrar uma solu√ß√£o de trabalho pronta para golang, mas falhei.  Havia duas solu√ß√µes, mas ambas n√£o funcionam. </p><br><ul><li>  A primeira "pronta para uso" - golang.org/x/net/html/charset fun√ß√£o DetermineEncoding () </li><li>  Segunda biblioteca - saintfish / chardet no github </li></ul><br><p>  Ambos certamente est√£o enganados em algumas codifica√ß√µes.  O padr√£o geralmente n√£o pode determinar quase nada de arquivos de texto, √© compreens√≠vel, foi feito para p√°ginas html. </p><br><p>  Ao pesquisar, encontrei frequentemente utilit√°rios prontos do mundo linux - <strong>enca</strong> .  Foi encontrada sua vers√£o compilada para WIN32, vers√£o 1.12.  Tamb√©m vou considerar, h√° coisas divertidas por l√°.  Pe√ßo desculpas imediatamente por minha completa ignor√¢ncia do linux, o que significa que provavelmente existem mais solu√ß√µes que voc√™ tamb√©m pode tentar alterar para o c√≥digo golang. Eu n√£o parecia mais. </p><br><h2 id="sravnenie-naydennyh-resheniy-na-avtoopredelenie-kodirovki">  Compara√ß√£o de solu√ß√µes encontradas para codifica√ß√£o de detec√ß√£o autom√°tica </h2><br><p>  Preparou um cat√°logo de <a href="" rel="nofollow">dados de teste de softlandia \ cpd</a> com arquivos em diferentes codifica√ß√µes.  O conte√∫do dos arquivos √© muito curto e igual.  Uma linha "russo na codifica√ß√£o CodePageName".  Adicionei arquivos com uma mistura de codifica√ß√µes e alguns casos complexos e tentei determinar. </p><br><p>  Eu acho que ficou engra√ßado. </p><br><div class="scrollable-table"><table><thead><tr><th>  # </th><th>  Codifica√ß√£o </th><th>  html / charset </th><th>  saintfish / chardet </th><th>  softlandia / cpd </th><th>  encaixar </th></tr></thead><tbody><tr><td>  1 </td><td>  CP1251 </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  CP1251 </td></tr><tr><td>  2 </td><td>  CP866 </td><td>  windows-1252 </td><td>  windows-1252 </td><td>  CP866 </td><td>  CP866 </td></tr><tr><td>  3 </td><td>  KOI8-R </td><td>  windows-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  KOI8-R </td></tr><tr><td>  4 </td><td>  ISO-8859-5 </td><td>  windows-1252 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td></tr><tr><td>  5 </td><td>  UTF-8 com BOM </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td></tr><tr><td>  6 </td><td>  UTF-8 sem BOM </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td><td>  utf-8 </td></tr><tr><td>  7 </td><td>  UTF-16LE com BOM </td><td>  utf-16le </td><td>  utf-16le </td><td>  utf-16le </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  8 </td><td>  UTF-16LE sem BOM </td><td>  windows-1252 </td><td>  ISO-8859-1 </td><td>  utf-16le </td><td>  <strong>desconhecido</strong> </td></tr><tr><td>  9 </td><td>  UTF-16BE com BOM </td><td>  utf-16le </td><td>  utf-16be </td><td>  utf-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  10 </td><td>  UTF-16BE sem BOM </td><td>  windows-1252 </td><td>  ISO-8859-1 </td><td>  utf-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  11 </td><td>  UTF-32LE com BOM </td><td>  utf-16le </td><td>  utf-32le </td><td>  utf-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  12 </td><td>  UTF-32LE sem BOM </td><td>  windows-1252 </td><td>  utf-32le </td><td>  utf-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  13 </td><td>  UTF-32BE com BOM </td><td>  windows-1252 </td><td>  utf-32be </td><td>  utf-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  14 </td><td>  UTF-32BE sem BOM </td><td>  windows-1252 </td><td>  utf-32be </td><td>  utf-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  15 </td><td>  KOI8-R (SUPERIOR) </td><td>  windows-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  <strong>CP1251</strong> </td></tr><tr><td>  16 </td><td>  CP1251 (SUPERIOR) </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  <strong>KOI8-R</strong> </td></tr><tr><td>  17 </td><td>  CP866 &amp; CP1251 </td><td>  windows-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  desconhecido </td></tr></tbody></table></div><br><h3 id="nablyudenie-1">  Observa√ß√£o 1 </h3><br><p>  <strong>enca</strong> n√£o determinou a codifica√ß√£o do arquivo UTF-16LE sem a BOM - isso √© estranho, tudo bem.  Tentei adicionar mais texto, mas n√£o obtive o resultado. </p><br><h3 id="nablyudenie-2-problemy-s-kodirovkami-cp1251-i-koi8-r">  Observa√ß√£o 2. Problemas com os c√≥digos CP1251 e KOI8-R </h3><br><p>  Linhas 15 e 16. O comando enca tem problemas. <br>  Aqui vou fazer uma explica√ß√£o, o fato √© que as codifica√ß√µes CP1251 (tamb√©m conhecido como Windows 1251) e KOI8-R s√£o muito pr√≥ximas se considerarmos apenas caracteres alfab√©ticos. </p><br><h4 id="tablica-cp-1251">  Quadro CP 1251 </h4><br><p><img src="https://habrastorage.org/webt/7g/fz/xw/7gfzxwkggre8ghkda0iwbddb2d0.png" alt="imagem"></p><br><h4 id="tablica-koi8-r">  Mesa KOI8-r </h4><br><p><img src="https://habrastorage.org/webt/_p/zy/9j/_pzy9joyqeddhtgjbqxahwg1cji.png" alt="imagem"></p><br><p>  Nas duas codifica√ß√µes, o alfabeto est√° localizado de <strong>0xC0</strong> a <strong>0xFF</strong> , mas onde uma codifica√ß√£o possui letras mai√∫sculas, a outra possui letras min√∫sculas.  Aparentemente, o <strong>enca</strong> funciona em letras min√∫sculas.  Acontece que, se voc√™ enviar a string "STP" codificada no <em>CP1251 para o</em> programa de <strong>encaixe</strong> , ele decidir√° que √© a string "veementemente" codificada no <em>KOI8-r</em> , que ser√° relatada.  Reverso tamb√©m funciona. </p><br><h3 id="nablyudenie-3">  Observa√ß√£o 3 </h3><br><p>  A biblioteca padr√£o <em>html / charset</em> s√≥ pode ser confi√°vel com uma defini√ß√£o <strong>UTF-8</strong> , mas tenha cuidado!  Ele deve ser usado exatamente <em>charset.DetermineEncoding ()</em> , pois o <em>m√©todo utf8.Valid (b [] byte)</em> nos <strong>arquivos codificados utf-16be</strong> retorna <em>true</em> . </p><br><h2 id="sobstvennyy-velosiped">  Pr√≥pria bicicleta </h2><br><p><img src="https://habrastorage.org/webt/r2/2k/di/r22kdit6akwh4zq5sf1mexbka3c.jpeg" alt="imagem"></p><br><p>  A detec√ß√£o autom√°tica de codifica√ß√£o √© poss√≠vel apenas por m√©todos heur√≠sticos imprecisos.  Se n√£o soubermos em que idioma e em que codifica√ß√£o o arquivo de texto est√° gravado, ser√° poss√≠vel determinar a codifica√ß√£o com alta precis√£o, mas ser√° dif√≠cil ... e voc√™ precisar√° de muito texto. </p><br><p>  Para mim, esse objetivo n√£o foi definido.  √â o suficiente para eu determinar as codifica√ß√µes sob o pressuposto de que existe russo.  E, em segundo lugar, voc√™ precisa determinar por um pequeno n√∫mero de caracteres - 10 caracteres devem ter uma defini√ß√£o bastante confiante e, de prefer√™ncia, 5-6 caracteres em geral. </p><br><h3 id="algoritm">  Algoritmo </h3><br><p>  Quando descobri a coincid√™ncia das codifica√ß√µes KOI8-re CP1251 pela localiza√ß√£o do alfabeto, fiquei triste por alguns dias ... ficou claro que tinha que pensar um pouco.  Acabou assim. </p><br><p>  Principais decis√µes: </p><br><ol><li>  Trabalharemos com uma fatia de bytes, para compatibilidade com charset.DetermineEncoding () </li><li>  Os casos de codifica√ß√£o UTF-8 e BOM s√£o verificados separadamente </li><li>  Os dados de entrada s√£o passados ‚Äã‚Äãpor vez para cada codifica√ß√£o.  Cada um calcula dois crit√©rios inteiros.  Cuja soma de dois crit√©rios √© maior, ele venceu. </li></ol><br><h3 id="kriterii-sootvetstviya">  Crit√©rios de conformidade </h3><br><h4 id="pervyy-kriteriy">  Primeiro crit√©rio </h4><br><p>  O primeiro crit√©rio √© o n√∫mero das letras mais populares do alfabeto russo. </p><br><p>  As letras mais comuns s√£o: <strong>o, e, a, e, n, t, s, p, b, l, k, m, d, p, y</strong> .  Essas cartas oferecem 82% de cobertura.  Para todas as codifica√ß√µes, exceto KOI8-re CP1251, usei apenas as 9 primeiras letras: o, e, a e, n, t, s, p, c.  Isso √© suficiente para uma determina√ß√£o confi√°vel. </p><br><p>  Mas para o KOI8-re CP1251 eu tive que modificar o arquivo.  Os c√≥digos de algumas dessas letras coincidem, por exemplo, a letra <strong>o</strong> tem o c√≥digo 0xEE no CP1251, enquanto no KOI8-r esse c√≥digo tem a letra <strong>n</strong> .  As seguintes cartas populares foram usadas para essas codifica√ß√µes.  Para CP1251, usei a, e, n, c, p, b, l, k, i.  Para KOI8-r - o, a, u, t, s, b, l, k, m. </p><br><h4 id="vtoroy-kriteriy">  Segundo crit√©rio </h4><br><p>  Infelizmente, para casos muito curtos (o comprimento total do texto em russo √© de 5 a 6 caracteres), a ocorr√™ncia de letras populares √© de 1 a 3 pe√ßas e h√° uma sobreposi√ß√£o das codifica√ß√µes KOI8-re CP1251.  Eu tive que introduzir um segundo crit√©rio.  <strong>Contagem consoante + vogal</strong> . <br>  Espera-se que essas combina√ß√µes ocorram com mais frequ√™ncia no idioma russo e, consequentemente, na codifica√ß√£o em que o n√∫mero desses pares √© maior, essa codifica√ß√£o tem um crit√©rio maior. </p><br><p>  Ambos os crit√©rios s√£o calculados, somados e o valor recebido √© o crit√©rio final. <br>  O resultado √© mostrado na tabela acima. </p><br><h2 id="osobennosti-s-kotorymi-ya-stolknulsya">  Recursos que encontrei </h2><br><p>  Um pequeno toque nos encantos e problemas associados ao golang.  A se√ß√£o pode ser interessante apenas para iniciantes, que escrevem em golang. </p><br><h3 id="problemy">  Os problemas </h3><br><p>  Pessoalmente andei por algumas das pedras subaqu√°ticas dos <a href="https://habr.com/ru/company/mailru/blog/314804/">50 tons de Go: armadilhas, armadilhas e erros comuns de iniciantes</a> . <br>  Excessivamente preocupante e tentando soprar na √°gua, ouvindo outras pessoas sobre as terr√≠veis queimaduras do leite, foi longe demais ao verificar o par√¢metro de entrada do tipo io.Reader.  Eu verifiquei uma vari√°vel como io.Reader com reflex√£o. </p><br><pre><code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//CodePageDetect - detect code page of ascii data from reader 'r' func CodePageDetect(r io.Reader, stopStr ...string) (IDCodePage, error) { if !reflect.ValueOf(r).IsValid() { return ASCII, fmt.Errorf("input reader is nil") } ...</span></span></code> </pre> <br><p>  Mas, como aconteceu no meu caso, √© suficiente verificar nada.  Agora tudo √© mais f√°cil </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CodePageDetect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r io.Reader, stopStr ...</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IDCodePage, error)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//test input interfase if r == nil { return ASCII, nil } //make slice of byte from input reader buf, err := bufio.NewReader(r).Peek(ReadBufSize) if (err != nil) &amp;&amp; (err != io.EOF) { return ASCII, err } ...</span></span></code> </pre> <br><p>  uma chamada para bufio.NewReader (r) .Peek (ReadBufSize) passa silenciosamente no seguinte teste: </p><br><pre> <code class="go hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data *os.File res, err := CodePageDetect(data)</code> </pre> <br><p>  Nesse caso, Peek () retorna um erro. </p><br><p>  Uma vez que entrou em um rake com a transfer√™ncia de matrizes por valor.  Um pouco est√∫pido ao tentar alterar os elementos armazenados no mapa, percorrendo-os ao alcance ... </p><br><h3 id="prelesti">  Del√≠cias </h3><br><p>  √â dif√≠cil dizer exatamente se as m√£os tr√™mulas constantes do linter e do compilador ou o uso ativo do intervalo, ou todos juntos, mas praticamente n√£o h√° incurs√µes para tirar o √≠ndice dos limites. </p><br><p>  Claro, √© muito bom viver com o coletor de lixo.  Suponho que ainda tenho que dominar o processo de automatizar a aloca√ß√£o / libera√ß√£o de mem√≥ria, mas at√© agora o sorriso idiota n√£o sai do meu rosto. <br>  Digita√ß√£o forte tamb√©m √© um peda√ßo de felicidade. </p><br><p>  Vari√°veis ‚Äã‚Äãcom um tipo de fun√ß√£o s√£o, portanto, uma f√°cil implementa√ß√£o de v√°rios comportamentos para objetos do mesmo tipo. </p><br><p>  Estranho pouco teve que sentar no depurador, relendo o c√≥digo geralmente d√° o resultado. </p><br><p>  Prazer dos filhotes por ter muitas ferramentas prontas para uso, √© uma sensa√ß√£o maravilhosa quando o compilador, a linguagem, a biblioteca e o c√≥digo do IDE Visual Studio trabalham juntos para voc√™ em harmonia. </p><br><p>  Obrigado <a href="https://habr.com/ru/users/falconandy/" class="user_link">falconandy</a> pelas dicas construtivas e √∫teis. <br>  Gra√ßas a ele </p><br><ol><li>  testes traduzidos no <a href="https://github.com/stretchr/testify" rel="nofollow">testify</a> e eles realmente se tornaram mais leg√≠veis </li><li>  testes fixos para caminhos de arquivo de dados para compatibilidade com Linux </li><li>  andou por um <a href="https://github.com/golangci/golangci-lint/releases" rel="nofollow">linter</a> - mas ele encontrou um erro real (c√≥pia maldita / passado) </li></ol><br><p>  Eu continuo adicionando testes, um caso de n√£o definir UTF16 foi revelado.  Atualizado.  Agora, UTF16 e LE e BE s√£o detectados mesmo na aus√™ncia de letras russas </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483166/">https://habr.com/ru/post/pt483166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483146/index.html">Confer√™ncia DEFCON 27. Kraken Wireless WiFi Hacking Tool</a></li>
<li><a href="../pt483148/index.html">Discutimos g√™meos digitais e simula√ß√£o com o fundador de uma empresa de consultoria</a></li>
<li><a href="../pt483154/index.html">Gastei US $ 40 mil e arruinei uma √≥tima id√©ia para uma startup</a></li>
<li><a href="../pt483156/index.html">Coloque o gato de p√©</a></li>
<li><a href="../pt483160/index.html">Espa√ßo 2020: Marte, constela√ß√µes de sat√©lites e novos foguetes</a></li>
<li><a href="../pt483168/index.html">Como fazer um bot que transforma uma foto em quadrinhos. Parte Dois Modelo de treinamento</a></li>
<li><a href="../pt483170/index.html">Banco de dados do Messenger (parte 2): dividimos "lucro"</a></li>
<li><a href="../pt483172/index.html">Como localizar um aplicativo ou jogo? Dez principais fontes gratuitas de e-learning</a></li>
<li><a href="../pt483174/index.html">Grave e transfira som de um dispositivo para outro usando a conectividade de v√°rios usu√°rios</a></li>
<li><a href="../pt483176/index.html">Banco de dados do Messenger (parte 1): projetamos o quadro base</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>