<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÄ üèÇüèº ü¶Ç RectTransformUtility oder wie man eine Komponente erstellt, die UI-Elemente hinter dem Bildschirm animiert üêÆ üôèüèΩ üåë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im letzten Artikel - In der Unity3d-Benutzeroberfl√§che verwendete Koordinatenvarianten habe ich versucht, kurz auf die Koordinatenvarianten in Unity U...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RectTransformUtility oder wie man eine Komponente erstellt, die UI-Elemente hinter dem Bildschirm animiert</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457142/">  Im letzten Artikel - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">In der Unity3d-Benutzeroberfl√§che verwendete Koordinatenvarianten habe</a> ich versucht, kurz auf die Koordinatenvarianten in Unity UI / RectTransform einzugehen.  Jetzt m√∂chte ich eine so n√ºtzliche Sache f√ºr die Benutzeroberfl√§che wie RectTransformUtility hervorheben.  Welches ist eines der Hauptwerkzeuge f√ºr die Berechnung von etwas in der Benutzeroberfl√§che in Bezug auf etwas anderes. <br><br><h3>  Einfache Herausforderung </h3><br>  Es gibt eine Aufgabe: Sie ben√∂tigen eine Komponente, die das UI-Element animiert √ºber den ausgew√§hlten Bildschirmrand hinaus entfernt.  Die Komponente sollte lila sein, wo sie sich hierarchisch befindet, an welchen Stellen sich die Anker befinden, welche Bildschirmgr√∂√üe und an welcher Stelle sich der Bildschirm befindet.  Die Komponente sollte in der Lage sein, das Objekt f√ºr eine bestimmte Zeit an 4 Seiten (oben, unten, links, rechts) zu reinigen. <br><a name="habracut"></a><br>  <b>Reflexionen</b> <br><br>  Wie kann das im Prinzip gemacht werden?  Finden Sie die Gr√∂√üe des Bildschirms in den Koordinaten des Objekts heraus, verschieben Sie das Objekt auf die Koordinate jenseits des Bildschirmrandes, und es scheint, dass die Angelegenheit im Hut ist.  Aber es gibt ein paar aber: <br><br>  <b>Wie finde ich Bildschirmkoordinaten in Bezug auf die Benutzeroberfl√§che heraus?</b> <br><br>  Wenn Sie auf der Stirn googeln, googeln Sie Unsinn oder nicht n√ºtzliche Dinge oder sogar unbeantwortete Fragen.  Das Beste, was zu Ihnen passt, ist, wenn ein UI-Element dem Cursor folgt, der nur in den Koordinaten des Bildschirms vorhanden ist. <br><br><pre><code class="java hljs">RectTransformUtility.ScreenPointToLocalPointInRectangle(canvas, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(Input.mousePosition), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out topRightLocalCoord);</code> </pre> <br>  Dies sind RectTransformUtility und ScreenPointToLocalPointInRectangle direkt.  Hier erhalten wir die lokalen Koordinaten innerhalb des Rect (RectTransform), basierend auf der Position des Punkts auf dem Bildschirm. <br>  Im aktuellen Beispiel finden wir die lokalen Koordinaten des Mauszeigers. Wir m√ºssen sie durch den Bildschirmrand ersetzen: <br><br><pre> <code class="java hljs">RectTransformUtility.ScreenPointToLocalPointInRectangle(canvas, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(Screen.width, Screen.height), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out topRightLocalCoord);</code> </pre> <br>  Und so haben wir die Koordinate des oberen rechten Punkts des Bildschirms erhalten, so dass das Objekt den Bildschirm nach rechts verl√§sst. Unser Objekt sollte weiter als dieser Punkt sein + sagen wir die Breite des Rechtecks ‚Äã‚Äãoder des angegebenen Einzugs. <br><br>  <b>Also die erste Einschr√§nkung</b> <br><br>  Wir haben lokale Koordinaten, die f√ºr Objekte direkt innerhalb der Leinwand geeignet sind. Wenn der zu verschiebende Fluss in einem anderen Rechteck liegt, werden seine lokalen Koordinaten relativ zum √ºbergeordneten Element und nicht zur Leinwand betrachtet.  Das hei√üt, diese Koordinaten selbst passen nicht zu uns. <br><br>  <b>Es gibt zwei M√∂glichkeiten</b> : Die erste besteht darin, globale Koordinaten zu verwenden, daf√ºr sind sie global.  Oder berechnen Sie die Koordinaten des Bildschirms in den lokalen Koordinaten jedes Rechtecks ‚Äã‚Äãseparat. <br><br>  <b>Betrachten Sie den ersten Fall</b> - wie lokale Koordinaten in globale konvertiert werden. <br><br>  Die meisten gegoogelten Methoden verwenden - TransformPoint. <br><br><pre> <code class="java hljs">transform.position = myCanvas.transform.TransformPoint(pos);</code> </pre> <br>  Daher konvertieren wir lokale Koordinaten in globale. <br><br>  Meiner Meinung nach ist dies im Allgemeinen ein zus√§tzlicher Schritt, da RectTransformUtility √ºber eine ScreenPointToWorldPointInRectangle-Methode verf√ºgt, die die globale Position sofort zur√ºckgibt. <br><br>  Wir m√ºssen das Rechteck √ºber den rechten Bildschirmrand hinaus verschieben. Dazu nehmen wir die X-Koordinate von der gefundenen Position und Y verl√§sst das Rechteck, das wir bewegen, so dass es sich einfach nach rechts bewegt. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(topRightCoord.x+offset, rectTransform.position.y, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Die resultierende Koordinate wird von DoTween gespeist. <br><br><pre> <code class="java hljs">rectTransform.DOMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(correctedTargetRight.x, rectTransform.position.y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding);</code> </pre> <br>  Und Hurra, das Objekt geht nach rechts.  Aber ... <br><br>  <b>Zweite Nuance</b> <br><br>  Hier stellen wir fest, dass die Positionierung des Rect tats√§chlich vom Rect-Pivot abh√§ngt. <br><br><img src="https://habrastorage.org/webt/bf/5p/6_/bf5p6_dcykozhdxi21bfc0y8lxi.png"><br><br>  Daher kann das Objekt je nach Drehpunkt mit Position tanzen. Au√üerdem kann das Objekt sehr gro√ü sein und durch den Versatz wird es nicht vollst√§ndig hinter den Bildschirm gedr√ºckt. Es besteht immer die M√∂glichkeit, dass das Teil hervorsteht. <br><br>  Das hei√üt, wir m√ºssen die Schraubenkompensation auf den Versatz einstellen, der die Gr√∂√üe von Rect + Pivot ber√ºcksichtigt. <br><br>  Die zweite Nuance besteht darin, das Objekt um die Gr√∂√üe des Rect zu verschieben. Sie m√ºssen die lokalen oder Ankerkoordinaten kennen und wir erhalten die globalen Koordinaten.  Ich muss sofort sagen, dass globale Koordinaten nicht genommen und in lokale UI-Koordinaten oder in Ankerkoordinaten konvertiert werden k√∂nnen. <br>  Ich habe mir die folgende Kr√ºcke ausgedacht: Wir erinnern uns an die Startposition des Rect, verschieben sie in die endg√ºltige globale Position, verschieben die Ankerposition um die Gr√∂√üe des Rect nach rechts, merken uns die globale Position, die den Versatz ber√ºcksichtigt, ber√ºcksichtigen die Gr√∂√üe des Objekts und f√ºttern sie mit einem Hohlraum, ohne zu vergessen, zum Original zur√ºckzukehren Position. <br><br><div class="spoiler">  <b class="spoiler_title">Codebeispiel</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> targetRight = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(topRightLocalCoord.x, rectTransform.position.y, <span class="hljs-number"><span class="hljs-number">0</span></span>); rectTransform.position = targetRight; rectTransform.anchoredPosition += rectTransform.sizeDelta; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> correctedTargetRight = rectTransform.position; rectTransform.localPosition = startPoint; rectTransform.DOMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(correctedTargetRight.x, rectTransform.position.y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding);</code> </pre> <br></div></div><br>  Es sieht aus wie eine riesige Kr√ºcke, aber mit dieser Kr√ºcke k√∂nnen Sie globale und andere Koordinaten synchronisieren.  Dies ist hilfreich, wenn sich Objekte in der Schnittstelle relativ zueinander bewegen und sich in unterschiedlichen Hierarchien befinden.  Nun, und bis jetzt ist dies der einzige Weg, den ich gefunden habe, um direkte Koordinaten von global zu erhalten. <br><br>  An dieser Stelle werden wir Nein zu Kr√ºcken sagen und zu der Idee zur√ºckkehren, die Bildschirmgr√∂√üe in lokalen Koordinaten zu erhalten. <br><br><h3>  Zweiter Weg </h3><br>  Die zweite M√∂glichkeit besteht darin, die Bildschirmgr√∂√üen f√ºr jedes Rechteck einzeln zu ermitteln, damit wir die lokalen Koordinaten der Bildschirmr√§nder unabh√§ngig von Leinwand und Hierarchie kennen. <br><br>  <b>Dritte Nuance</b> <br><br><pre> <code class="java hljs">RectTransformUtility.ScreenPointToLocalPointInRectangle(rectTransform, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(Screen.width, Screen.height), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out topRightCoord); RectTransformUtility.ScreenPointToLocalPointInRectangle(rectTransform, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out bottomScreenCoord);</code> </pre> <br>  Objekte k√∂nnen sich an einer beliebigen Stelle auf dem Bildschirm befinden, im Gegensatz zur Leinwand, die den gesamten Bildschirm abdeckt.  Daher k√∂nnen sich die Abst√§nde zum linken und rechten Bildschirmrand erheblich unterscheiden.  Bei Leinwand h√§tten wir nur den oberen rechten Rand gehabt, und abz√ºglich des oberen rechten w√§re es der obere linke.  In diesem Fall m√ºssen Sie den unteren linken und oberen rechten Punkt separat abrufen, wie im Codebeispiel gezeigt. <br><br>  <b>Vierte Nuance</b> <br><br>  Die lokale Koordinate ist der Versatz relativ zur Mitte des √ºbergeordneten Elements. Wenn das Rechteck in ein anderes Rechteck eingebettet ist, das einen kleinen Teil der Leinwand einnimmt, ben√∂tigen wir eine Koordinate, die beide Verschiebungen ber√ºcksichtigt. Nun, alles ist einfach. <br><br><pre> <code class="java hljs">((Vector3)bottomLeftCoord + rectTransform.localPosition)</code> </pre> <br>  Addiere die Vektoren und erhalte die Koordinate, die wir brauchen.  Es ist verwirrender als bei globalen Koordinaten, aber jetzt k√∂nnen wir alle Berechnungen durchf√ºhren, die sich auf die Gr√∂√üe des Rect beziehen.  Und ruhig endlich Ausgleich ohne Kr√ºcken hinzuf√ºgen. <br><br><pre> <code class="java hljs"> (Vector3)topRightCoord + rectTransform.localPosition + (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3((rectTransform.sizeDelta.x * rectTransform.pivot.x) + rectTransform.sizeDelta.x, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre> <br>  So sieht die Koordinate aus, wenn Sie nach rechts verschieben, um die Breite des Rechtecks ‚Äã‚Äãzu kompensieren und √ºber den Bildschirm hinaus zur Breite des Rechtecks ‚Äã‚Äãzu verschieben. Es gibt keine M√∂glichkeit, den Versatz festzulegen. Ich plane, ihn etwas sp√§ter hinzuzuf√ºgen, aber ich denke, jemand wird daran interessiert sein, dies selbst zu schreiben. <br><br><h2>  Schlussfolgerungen </h2><br><ol><li>  F√ºr UI-Elemente ist es besser, lokale oder Ankerkoordinaten zu verwenden, und Sie sollten versuchen, diese zu verstehen.  Globale Koordinaten k√∂nnen f√ºr spezielle F√§lle verwendet werden, erm√∂glichen jedoch nicht das bequeme Arbeiten, beispielsweise mit der Gr√∂√üe von Rekten und in vielen anderen Mikroepisoden. </li><li>  Sie m√ºssen sich RectTransformUtility ansehen, es verf√ºgt √ºber viele n√ºtzliche Funktionen f√ºr die Benutzeroberfl√§che. Alle Berechnungen, die sich auf die Position von etwas innerhalb und um das Rechteck beziehen, werden √ºber das RectTransformUtility ausgef√ºhrt. </li></ol><br>  Nun, die Komponente selbst, wenn jemand damit spielen m√∂chte, wird DoTween daf√ºr ben√∂tigt: <br><br><div class="spoiler">  <b class="spoiler_title">Komponente</b> <div class="spoiler_text"><pre> <code class="java hljs">using DG.Tweening; using UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Direction { DEFAULT, RIGHT, LEFT, TOP, BOTTOM } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> CanvasType {OVERLAY, CAMERATYPE} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HideBeyondScreenComponent</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Direction direction; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CanvasType canvasType; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> timeForHiding = <span class="hljs-number"><span class="hljs-number">1</span></span>; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> offset = <span class="hljs-number"><span class="hljs-number">50</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector3 startPoint; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RectTransform rectTransform; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 topRightCoord; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 bottomLeftCoord; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ rectTransform = transform as RectTransform; startPoint = rectTransform.localPosition; Camera camera = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canvasType == CanvasType.CAMERATYPE) camera = Camera.main; RectTransformUtility.ScreenPointToLocalPointInRectangle(rectTransform, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(Screen.width, Screen.height), camera, out topRightCoord); RectTransformUtility.ScreenPointToLocalPointInRectangle(rectTransform, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), camera, out bottomLeftCoord); Hide(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ rectTransform.DOLocalMove(startPoint, timeForHiding); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hide</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.LEFT: rectTransform.DOLocalMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(EndPosition(Direction.LEFT).x, rectTransform.localPosition.y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.RIGHT: rectTransform.DOLocalMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(EndPosition(Direction.RIGHT).x, rectTransform.localPosition.y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.TOP: rectTransform.DOLocalMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(rectTransform.localPosition.x, EndPosition(Direction.TOP).y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.BOTTOM: rectTransform.DOLocalMove(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(rectTransform.localPosition.x, EndPosition(Direction.BOTTOM).y, <span class="hljs-number"><span class="hljs-number">0</span></span>), timeForHiding); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NegativeCompensation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2((-rectTransform.sizeDelta.x - offset) + rectTransform.sizeDelta.x * rectTransform.pivot.x, (-rectTransform.sizeDelta.y - offset) + rectTransform.sizeDelta.y * rectTransform.pivot.y); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PositiveCompensation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2((rectTransform.sizeDelta.x * rectTransform.pivot.x) + offset, (rectTransform.sizeDelta.y * rectTransform.pivot.y) + offset); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Vector2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EndPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Direction direction)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.LEFT: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((Vector3)bottomLeftCoord + rectTransform.localPosition) + NegativeCompensation(); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.RIGHT: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Vector3)topRightCoord + rectTransform.localPosition + PositiveCompensation(); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.TOP: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((Vector3)topRightCoord + rectTransform.localPosition) + PositiveCompensation(); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Direction.BOTTOM: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((Vector3)bottomLeftCoord + rectTransform.localPosition) + NegativeCompensation(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> startPoint; } }</code> </pre> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457142/">https://habr.com/ru/post/de457142/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457132/index.html">Importsubstitution in der Praxis. Teil 3.1. "QP OS". Der erste seiner Art √úberpr√ºfung des Betriebssystems</a></li>
<li><a href="../de457134/index.html">Das Gehirn beschleunigt die Wahrnehmung und err√§t, was als n√§chstes passieren wird</a></li>
<li><a href="../de457136/index.html">Schl√ºsselfaktoren f√ºr eine erfolgreiche Teamaktivierung</a></li>
<li><a href="../de457138/index.html">Friday Post: Fragen, die M√§dchen lieben</a></li>
<li><a href="../de457140/index.html">Da habe ich versehentlich eine m√∂gliche endlose Auff√ºllung eines Kontos bei meinem amerikanischen Mobilfunkbetreiber entdeckt</a></li>
<li><a href="../de457144/index.html">Wir schreiben einen Emulator, der von niemandem ben√∂tigt wird</a></li>
<li><a href="../de457150/index.html">Neues Windows-Terminal jetzt im Microsoft Store verf√ºgbar</a></li>
<li><a href="../de457152/index.html">DEFCON 25 Konferenz. Garry Kasparov. "Die letzte Schlacht des Gehirns." Teil 1</a></li>
<li><a href="../de457154/index.html">Responsive App-Design f√ºr jeden Benutzer</a></li>
<li><a href="../de457156/index.html">Was k√∂nnen die Computersysteme der Zukunft sein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>