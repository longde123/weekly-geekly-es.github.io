<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฝ ๐ข ๐จ๐ฟโ๐ญ ุชุทููุฑ ูุธุงู ุชุดุบูู Unix-like - ุจุฑุงูุฌ ุชุดุบูู ุฃุฌูุฒุฉ ุงูุฃุญุฑู (8) โน๐ฟ ๐ธ ๐๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ูุฏููุง โโุชุนุฏุฏ ุงูููุงู. ุงูููู ุญุงู ุงูููุช ูููุธุฑ ูู ููุถูุน ุจุฑุงูุฌ ุชุดุบูู ุงูุฃุฌูุฒุฉ ุงูุดุฎุตูุฉ. 

 ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ุณูููู ุงูููู ุจูุชุงุจุฉ ุจุฑูุงูุฌ ุช...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทููุฑ ูุธุงู ุชุดุบูู Unix-like - ุจุฑุงูุฌ ุชุดุบูู ุฃุฌูุฒุฉ ุงูุฃุญุฑู (8)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468509/" style=";text-align:right;direction:rtl">  ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ูุฏููุง โโุชุนุฏุฏ ุงูููุงู.  ุงูููู ุญุงู ุงูููุช ูููุธุฑ ูู ููุถูุน ุจุฑุงูุฌ ุชุดุบูู ุงูุฃุฌูุฒุฉ ุงูุดุฎุตูุฉ. <br><br>  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ุณูููู ุงูููู ุจูุชุงุจุฉ ุจุฑูุงูุฌ ุชุดุบูู ุทุฑูู ุ ููู ุขููุฉ ูููุนุงูุฌุฉ ุงููุคุฌูุฉ ููููุงุทุนุงุช ุ ูููุธุฑ ูู ููุถูุน ูุนุงูุฌุงุช ูุตูู ุงูููุงุทุนุงุช ุงูุนููุง ูุงูุณููู ูู ุงูููุงุทุนุงุช. <br><br>  ูุจุฏุฃ ุจุฅูุดุงุก ูููู ุงูุฌูุงุฒ ุ ุซู ุชูุฏูู ุฏุนู I / O ููููู ุงูุฃุณุงุณู ุ ูุงููุธุฑ ูู ูููู ููุธุงุฆู io_buf ููุนูู ูุน ุงููููุงุช ูู stdio.h. <br><a name="habracut"></a><br><h4 style=";text-align:right;direction:rtl">  ุฌุฏูู ุงููุญุชููุงุช </h4><br>  ุจูุงุก ูุธุงู (ุฌุนู ุ ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู ุ ุงูุบุงุฒ).  ุงูุชูููุฏ ุงูุฃููู (ูุชุนุฏุฏ ุงูุชูููุฏ).  ุฅุทูุงู (qemu).  ููุชุจุฉ C (strcpy ุ memcpy ุ strext).  ููุชุจุฉ C (sprintf ุ strcpy ุ strcmp ุ strtok ุ va_list ...).  ุจูุงุก ุงูููุชุจุฉ ูู ูุถุน kernel ููุถุน ุชุทุจูู ุงููุณุชุฎุฏู.  ุณุฌู ูุธุงู ุงูููุงุฉ.  ุฐุงูุฑุฉ ุงูููุฏูู  ุงูุฅุฎุฑุงุฌ ุฅูู ุงููุญุทุฉ (kprintf ุ kpanic ุ kassert).  ุงูุฐุงูุฑุฉ ุงูุฏููุงููููุฉ ุ ุงููููุฉ (kmalloc ุ kfree).  ุชูุธูู ุงูุฐุงูุฑุฉ ูุงูุชุนุงูู ูุน ุงูููุงุทุนุฉ (GDT ุ IDT ุ PIC ุ syscall).  ุงูุงุณุชุซูุงุกุงุช.  ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ (ุฏููู ุงูุตูุญุฉ ูุฌุฏูู ุงูุตูุญุฉ).  ุงูุนูููุฉ.  ุงููุฌุฏูู.  ุชุนุฏุฏ ุงูููุงู.  ููุงููุงุช ุงููุธุงู (ุงููุชู ุ ุงูุฎุฑูุฌ ุ ููุงุญุธุฉ). <br><br>  <b>ุจุฑุงูุฌ ุชุดุบูู ุงูุฃุฌูุฒุฉ ุงูุดุฎุตูุฉ.</b>  <b>ููุงููุงุช ุงููุธุงู (ioctl ุ fopen ุ fread ุ fwrite).</b>  <b>ููุชุจุฉ C (fopen ุ fclose ุ fprintf ุ fscanf).</b> <br><br>  ูุธุงู ูููุงุช kernel (initrd) ุ ูุฒู ุ ูุฏุงุฎูู.  ููุงููุงุช ุงููุธุงู (exec).  ุดู ูุจุฑูุงูุฌ ูุงูู ููููุงุฉ.  ูุถุน ุญูุงูุฉ ุงููุณุชุฎุฏู (ring3).  ูุณู ุญุงูุฉ ุงููููุฉ (tss). <br><br><h4 style=";text-align:right;direction:rtl">  ุดุฎุตูุฉ ุงูุณุงุฆููู </h4><br>  ูู ุดูุก ูุจุฏุฃ ูุน ุธููุฑ ุฌูุงุฒ ุฑูุฒู.  ููุง ุชุชุฐูุฑ ุ ูู Linux Device Drivers ุ ุจุฏุง ุชุนุฑูู ุงูุฌูุงุฒ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cdev</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_cdev</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cdev_alloc</span></span></span><span class="hljs-class">( );</span></span> my_cdev-&gt;ops = &amp;my_fops;</code> </pre> <br>  ุงูููุทุฉ ุงูุฃุณุงุณูุฉ ูู ุชุนููู ุงูุฌูุงุฒ ูุชูููุฐ ูุธุงุฆู ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ุงูููู. <br><br>  ุณูุชูุฏู ุจูููู ูุงุญุฏ ุ ููู ุงููุนูู ุณูููู ููุงุซู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list_head</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* should be at first */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> name[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/* device name */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* base_r; <span class="hljs-comment"><span class="hljs-comment">/* base read address */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* base_w; <span class="hljs-comment"><span class="hljs-comment">/* base write address */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dev_read_cb_t</span></span> read_cb; <span class="hljs-comment"><span class="hljs-comment">/* read handler */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dev_write_cb_t</span></span> write_cb; <span class="hljs-comment"><span class="hljs-comment">/* write handler */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dev_ioctl_cb_t</span></span> ioctl_cb; <span class="hljs-comment"><span class="hljs-comment">/* device specific command handler */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_definition_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ih_list</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* low half interrupt handlers */</span></span> };</code> </pre><br>  ูุชูุงูู ูู ุฌูุงุฒ ูุน ูุตู ูุงุฆูุฉ ุงูููุงุทุนุงุช ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ุนูุฏ ุฅูุดุงุก ุงูููุงุทุนุงุช. <br><br>  ูู ูุธุงู Linux ุ ุชุณูู ูุฐู ุงููุตูุงุช ุจุงูุนูููุฉ ุ ุนูู ุงูุนูุณ ุ ุฃูู (ุงููุณุชูู ุงูุฃุฏูู). <br><br>  ุดุฎุตูุง ุ ุจุฏุง ูู ุฃูุซุฑ ููุทููุฉ ูุชุฐูุฑุช ุจุงูุตุฏูุฉ ุงููุตุทูุญุงุช ูู ุงูุงุชุฌุงู ุงููุนุงูุณ.  ูุตููุง ูู ุนูุตุฑ ูู ุนูุงุตุฑ ูุงุฆูุฉ ุงููุตููู ุงูุณููู ูู ุงูุงููุทุงุนุงุช ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ih_low_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list_head</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* should be at first */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number; <span class="hljs-comment"><span class="hljs-comment">/* interrupt number */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ih_low_cb_t</span></span> handler; <span class="hljs-comment"><span class="hljs-comment">/* interrupt handler */</span></span> };</code> </pre><br>  ุนูุฏ ุงูุชููุฆุฉ ุ ุณูููู ุจุฑูุงูุฌ ุงูุชุดุบูู ุจุชุณุฌูู ุฌูุงุฒู ูู ุฎูุงู ูุธููุฉ dev_register ุ ุจูุนูู ุขุฎุฑ ุฅุถุงูุฉ ุฌูุงุฒ ุฌุฏูุฏ ุฅูู ูุงุฆูุฉ ุงูุฑููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev_register</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">dev_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* dev)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entry</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">device</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* create list entry */</span></span> entry = clist_insert_entry_after(&amp;dev_list, dev_list.head); device = (struct <span class="hljs-keyword"><span class="hljs-keyword">dev_t</span></span>*)entry-&gt;data; <span class="hljs-comment"><span class="hljs-comment">/* fill data */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">strncpy</span></span>(device-&gt;name, dev-&gt;name, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(dev-&gt;name)); device-&gt;base_r = dev-&gt;base_r; device-&gt;base_w = dev-&gt;base_w; device-&gt;read_cb = dev-&gt;read_cb; device-&gt;write_cb = dev-&gt;write_cb; device-&gt;ioctl_cb = dev-&gt;ioctl_cb; device-&gt;ih_list.head = dev-&gt;ih_list.head; device-&gt;ih_list.slot_size = dev-&gt;ih_list.slot_size; }</code> </pre><br>  ููู ูุนูู ูู ูุฐุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูุญุชุงุฌ ุฅูู ูุธุงู rudiment ููุธุงู ุงููููุงุช.  ูู ุงูุจุฏุงูุฉ ุ ุณูููู ูุฏููุง ููุท ูููุงุช ูุฃุฌูุฒุฉ ุงูุดุฎุตูุงุช. <br><br>  ุฃู  ุณูููู ูุชุญ ุงูููู ูุณุงููุงู ูุฅูุดุงุก ุจููุฉ FILE ูู stdio ูููู ุจุฑูุงูุฌ ุงูุชุดุบูู ุงูููุงุจู. <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูู ุชุทุงุจู ุฃุณูุงุก ุงููููุงุช ุงุณู ุงูุฌูุงุฒ.  ูุญุฏุฏ ููููู ูุงุตู ุงูููู ูู ููุชุจุฉ C ุงูุฎุงุตุฉ ุจูุง (stdio.h). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io_buf_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd; <span class="hljs-comment"><span class="hljs-comment">/* file descriptor */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* base; <span class="hljs-comment"><span class="hljs-comment">/* buffer beginning */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* ptr; <span class="hljs-comment"><span class="hljs-comment">/* position in buffer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> is_eof; <span class="hljs-comment"><span class="hljs-comment">/* whether end of file */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* file; <span class="hljs-comment"><span class="hljs-comment">/* file definition */</span></span> }; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FILE struct io_buf_t</span></span></code> </pre><br>  ููุจุณุงุทุฉ ุ ุงุณูุญ ูุฌููุน ุงููููุงุช ุงูููุชูุญุฉ ุจุชุฎุฒูููุง ูู ูุงุฆูุฉ ุญููุงุช ูู ุงูููุช ุงูุญุงูู.  ูุชู ูุตู ุนูุตุฑ ุงููุงุฆูุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">list_head</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* should be at first */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io_buf_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">io_buf</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* file handler */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> name[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/* file name */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mod_rw; <span class="hljs-comment"><span class="hljs-comment">/* whether read or write */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* whether device driver */</span></span> };</code> </pre><br>  ููู ููู ููุชูุญ ุ ุณูููู ุจุชุฎุฒูู ุฑุงุจุท ููุฌูุงุฒ.  ูููุฐ ูุงุฆูุฉ ุญููุงุช ูู ุงููููุงุช ุงูููุชูุญุฉ ููููุฐ ููุงููุงุช ูุธุงู ุงููุฑุงุกุฉ / ุงููุชุงุจุฉ / ioctl. <br><br>  ุนูุฏ ูุชุญ ุฃุญุฏ ุงููููุงุช ุ ูุญุชุงุฌ ููุท ุฅูู ุชุนููู ุงูููุงุถุน ุงูุฃูููุฉ ูููุงุนุฏ ุงูุชุฎุฒูู ุงููุคูุช ูููุฑุงุกุฉ ูุงููุชุงุจุฉ ูู ุจุฑูุงูุฌ ุงูุชุดุบูู ุฅูู ุจููุฉ io_buf_t ุ ูุจุงูุชุงูู ุ ุฑุจุท ุนูููุงุช ุงููููุงุช ูุน ุจุฑูุงูุฌ ุชุดุบูู ุงูุฌูุงุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> struct io_buf_t* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file_open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* path, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mod_rw)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entry</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* try to find already opened file */</span></span> entry = clist_find(&amp;file_list, file_list_by_name_detector, path, mod_rw); file = (struct <span class="hljs-keyword"><span class="hljs-keyword">file_t</span></span>*)entry-&gt;data; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entry != null) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;file-&gt;io_buf; } <span class="hljs-comment"><span class="hljs-comment">/* create list entry */</span></span> entry = clist_insert_entry_after(&amp;file_list, file_list.head); file = (struct <span class="hljs-keyword"><span class="hljs-keyword">file_t</span></span>*)entry-&gt;data; <span class="hljs-comment"><span class="hljs-comment">/* whether file is device */</span></span> dev = dev_find_by_name(path); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dev != null) { <span class="hljs-comment"><span class="hljs-comment">/* device */</span></span> file-&gt;dev = dev; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mod_rw == MOD_R) { file-&gt;io_buf.base = dev-&gt;base_r; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mod_rw == MOD_W) { file-&gt;io_buf.base = dev-&gt;base_w; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* fs node */</span></span> file-&gt;dev = null; unreachable(); <span class="hljs-comment"><span class="hljs-comment">/* fs in not implemented yet */</span></span> } <span class="hljs-comment"><span class="hljs-comment">/* fill data */</span></span> file-&gt;mod_rw = mod_rw; file-&gt;io_buf.fd = next_fd++; file-&gt;io_buf.ptr = file-&gt;io_buf.base; file-&gt;io_buf.is_eof = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; file-&gt;io_buf.file = file; <span class="hljs-built_in"><span class="hljs-built_in">strncpy</span></span>(file-&gt;name, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(file-&gt;name)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;file-&gt;io_buf; }</code> </pre><br>  ูุชู ุชุนุฑูู ุนูููุงุช ุงููุฑุงุกุฉ / ุงููุชุงุจุฉ / ioctl ูู ุงูููู ุจููุท ูุงุญุฏ ุจุงุณุชุฎุฏุงู ุงุณุชุฏุนุงุก ูุธุงู ุงููุฑุงุกุฉ ููุซุงู. <br><br>  ุณูู ูุณุชุฏุนู ุงููุธุงู ููุณู ุงูุฐู ุชุนูููุงู ุงููุชุงุจุฉ ูู ุงูุฏุฑุณ ุงูุฃุฎูุฑ ุจุจุณุงุทุฉ ูุฐู ุงููุธุงุฆู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> size_t </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file_read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* buff, u_int size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class">;</span></span> file = (struct <span class="hljs-keyword"><span class="hljs-keyword">file_t</span></span>*)io_buf-&gt;file; <span class="hljs-comment"><span class="hljs-comment">/* whether file is device */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (file-&gt;dev != null) { <span class="hljs-comment"><span class="hljs-comment">/* device */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> file-&gt;dev-&gt;read_cb(&amp;file-&gt;io_buf, buff, size); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* fs node */</span></span> unreachable(); <span class="hljs-comment"><span class="hljs-comment">/* fs in not implemented yet */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  ุจุงุฎุชุตุงุฑ ุ ุณูููููู ุจุณุญุจ ุนูููุงุช ุงูุงุณุชุฑุฌุงุนุงุช ูู ุชุนุฑูู ุงูุฌูุงุฒ.  ุงูุขู ุณูู ููุชุจ ุณุงุฆู ุงููุญุทุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุณุงุฆู ุงููุญุทุฉ </h4><br>  ูุญุชุงุฌ ุฅูู ูุฎุฒู ูุคูุช ูุฅุฎุฑุงุฌ ุงูุดุงุดุฉ ููุฎุฒู ูุคูุช ูุฅุฏุฎุงู ููุญุฉ ุงูููุงุชูุญ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุนุฏุฉ ุฅุดุงุฑุงุช ูุฃูุถุงุน ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* tty_dev_name = TTY_DEV_NAME; <span class="hljs-comment"><span class="hljs-comment">/* teletype device name */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> tty_output_buff[VIDEO_SCREEN_SIZE]; <span class="hljs-comment"><span class="hljs-comment">/* teletype output buffer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> tty_input_buff[VIDEO_SCREEN_WIDTH]; <span class="hljs-comment"><span class="hljs-comment">/* teletype input buffer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* tty_output_buff_ptr = tty_output_buff; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* tty_input_buff_ptr = tty_input_buff; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> read_line_mode = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* whether read only whole line */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> is_echo = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* whether to put readed symbol to stdout */</span></span></code> </pre><br>  ููุชุจ ูุธููุฉ ุฅูุดุงุก ุฌูุงุฒ.  ุฅูู ุจุจุณุงุทุฉ ูุนูุฏ ุนูููุงุช ุงูุงุณุชุฏุนุงุก ูุนูููุงุช ุงููููุงุช ููุนุงูุฌุงุช ุงููุตููู ุงูุฃุฏูู ูู ุงูุงููุทุงุนุงุช ุ ูุจุนุฏ ุฐูู ูุณุฌู ุงูุฌูุงุฒ ูู ูุงุฆูุฉ ุงููุบูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clist_head_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entry</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ih_low_t</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ih_low</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">memset</span></span>(tty_output_buff, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(VIDEO_SCREEN_SIZE)); <span class="hljs-built_in"><span class="hljs-built_in">memset</span></span>(tty_input_buff, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(VIDEO_SCREEN_WIDTH)); <span class="hljs-comment"><span class="hljs-comment">/* register teletype device */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">strcpy</span></span>(dev.name, tty_dev_name); dev.base_r = tty_input_buff; dev.base_w = tty_output_buff; dev.read_cb = tty_read; dev.write_cb = tty_write; dev.ioctl_cb = tty_ioctl; dev.ih_list.head = null; <span class="hljs-comment"><span class="hljs-comment">/* add interrupt handlers */</span></span> dev.ih_list.slot_size = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(struct <span class="hljs-keyword"><span class="hljs-keyword">ih_low_t</span></span>); entry = clist_insert_entry_after(&amp;dev.ih_list, dev.ih_list.head); ih_low = (struct <span class="hljs-keyword"><span class="hljs-keyword">ih_low_t</span></span>*)entry-&gt;data; ih_low-&gt;number = INT_KEYBOARD; ih_low-&gt;handler = tty_keyboard_ih_low; dev_register(&amp;dev); }</code> </pre><br>  ูุชู ุชุนุฑูู ูุนุงูุฌ ุงูููุงุทุนุฉ ุงูุณููู ูููุญุฉ ุงูููุงุชูุญ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Key press low half handler */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_keyboard_ih_low</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number, struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ih_low_data_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* write character to input buffer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* keycode = data-&gt;data; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = *keycode; assert(index &lt; <span class="hljs-number"><span class="hljs-number">128</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch = keyboard_map[index]; *tty_input_buff_ptr++ = ch; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_echo &amp;&amp; ch != <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* echo character to screen */</span></span> *tty_output_buff_ptr++ = ch; } <span class="hljs-comment"><span class="hljs-comment">/* register deffered execution */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">message_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">msg</span></span></span><span class="hljs-class">;</span></span> msg.type = IPC_MSG_TYPE_DQ_SCHED; msg.len = <span class="hljs-number"><span class="hljs-number">4</span></span>; *((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> *)msg.data) = (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_keyboard_ih_high; ksend(TID_DQ, &amp;msg); }</code> </pre><br>  ูุญู ููุง ุจุจุณุงุทุฉ ูุถุน ุงูุญุฑู ุงูุฐู ุชู ุฅุฏุฎุงูู ูู ุงููุฎุฒู ุงููุคูุช ููุญุฉ ุงูููุงุชูุญ.  ูู ุงูููุงูุฉ ุ ูุณุฌู ุงูุฏุนูุฉ ุงููุคุฌูุฉ ููุนุงูุฌ ุงููุตููู ุงูุนููููู ูู ููุงุทุนุฉ ููุญุฉ ุงูููุงุชูุญ.  ูุชู ุฐูู ุนู ุทุฑูู ุฅุฑุณุงู ุฑุณุงูุฉ (IPC) ุฅูู ูุคุดุฑ ุชุฑุงุจุท kernel. <br><br>  ุฎูุท ุงูููุงุฉ ููุณู ุจุณูุท ููุบุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Deferred queue execution scheduler * This task running in kernel mode */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dq_task</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">message_t</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">msg</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { kreceive(TID_DQ, &amp;msg); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (msg.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IPC_MSG_TYPE_DQ_SCHED: <span class="hljs-comment"><span class="hljs-comment">/* do deffered callback execution */</span></span> assert(msg.len == <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">dq_handler_t</span></span> handler = (<span class="hljs-keyword"><span class="hljs-keyword">dq_handler_t</span></span>)*((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>*)msg.data); assert((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)handler &lt; KERNEL_CODE_END_ADDR); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(MSG_DQ_SCHED, handler); handler(msg); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre><br>  ุนูุฏ ุงุณุชุฎุฏุงูู ุ ุณูุชู ุงุณุชุฏุนุงุก ูุนุงูุฌ ุงููุตููู ุงูุนููููู ูู ููุงุทุนุฉ ููุญุฉ ุงูููุงุชูุญ.  ูุงูุบุฑุถ ููู ูู ุชูุฑุงุฑ ุดุฎุตูุฉ ุนูู ุงูุดุงุดุฉ ุนู ุทุฑูู ูุณุฎ ุงููุฎุฒู ุงููุคูุช ุงูุฅุฎุฑุงุฌ ุฅูู ุฐุงูุฑุฉ ุงูููุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Key press high half handler */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_keyboard_ih_high</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">message_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *msg)</span></span></span><span class="hljs-function"> </span></span>{ video_flush(tty_output_buff); }</code> </pre><br>  ุงูุขู ูุจูู ููุชุงุจุฉ ูุธุงุฆู I / O ุฃููุณูู ุ ูุฏุนุง ูู ุนูููุงุช ุงููููุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Read line from tty to string */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> u_int </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">* buffer, u_int size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* ptr = buffer; assert((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)io_buf-&gt;ptr &lt;= (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_input_buff_ptr); assert((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_input_buff_ptr &gt;= (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_input_buff); assert(size &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); io_buf-&gt;is_eof = (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)io_buf-&gt;ptr == (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_input_buff_ptr; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (read_line_mode) { io_buf-&gt;is_eof = !<span class="hljs-built_in"><span class="hljs-built_in">strchr</span></span>(io_buf-&gt;ptr, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; size - <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; !io_buf-&gt;is_eof; ++i) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch = tty_read_ch(io_buf); *ptr++ = ch; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (read_line_mode &amp;&amp; ch == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)ptr - (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)buffer; } <span class="hljs-comment"><span class="hljs-comment">/* * Write to tty */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">* data, u_int size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* ptr = data; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; size &amp;&amp; !io_buf-&gt;is_eof; ++i) { tty_write_ch(io_buf, *ptr++); } }</code> </pre><br>  ุนูููุงุช ุงูุญุฑู - ุงูุญุฑู ููุณุช ุฃูุซุฑ ุชุนููุฏูุง ููุง ุฃุนุชูุฏ ุฃููุง ุชุญุชุงุฌ ุฅูู ุชุนููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Write single character to tty */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_write_ch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ch)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_output_buff_ptr - (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_output_buff + <span class="hljs-number"><span class="hljs-number">1</span></span> &lt; VIDEO_SCREEN_SIZE) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch != <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* regular character */</span></span> *tty_output_buff_ptr++ = ch; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* new line character */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> line_pos = ((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_output_buff_ptr - (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_output_buff) % VIDEO_SCREEN_WIDTH; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; VIDEO_SCREEN_WIDTH - line_pos; ++j) { *tty_output_buff_ptr++ = <span class="hljs-string"><span class="hljs-string">' '</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { tty_output_buff_ptr = video_scroll(tty_output_buff, tty_output_buff_ptr); tty_write_ch(io_buf, ch); } io_buf-&gt;ptr = tty_output_buff_ptr; } <span class="hljs-comment"><span class="hljs-comment">/* * Read single character from tty */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_read_ch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)io_buf-&gt;ptr &lt; (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span>)tty_input_buff_ptr) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *io_buf-&gt;ptr++; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { io_buf-&gt;is_eof = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; } }</code> </pre><br>  ูุจูู ููุท ููุณูุทุฑุฉ ุนูู ุฃูุถุงุน ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ูุชูููุฐ ioctl. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Teletype specific command */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tty_ioctl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">io_buf_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* io_buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> command)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* hello_msg = MSG_KERNEL_NAME; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (command) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IOCTL_INIT: <span class="hljs-comment"><span class="hljs-comment">/* prepare video device */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_output_buff) { kmode(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-comment"><span class="hljs-comment">/* detach syslog from screen */</span></span> tty_output_buff_ptr = video_clear(io_buf-&gt;base); io_buf-&gt;ptr = tty_output_buff_ptr; tty_write(io_buf, hello_msg, <span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(hello_msg)); video_flush(io_buf-&gt;base); io_buf-&gt;ptr = tty_output_buff_ptr; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_input_buff) { unreachable(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IOCTL_CLEAR: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_output_buff) { <span class="hljs-comment"><span class="hljs-comment">/* fill output buffer with spaces */</span></span> tty_output_buff_ptr = video_clear(io_buf-&gt;base); video_flush(io_buf-&gt;base); io_buf-&gt;ptr = tty_output_buff_ptr; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_input_buff) { <span class="hljs-comment"><span class="hljs-comment">/* clear input buffer */</span></span> tty_input_buff_ptr = tty_input_buff; io_buf-&gt;ptr = io_buf-&gt;base; io_buf-&gt;is_eof = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IOCTL_FLUSH: <span class="hljs-comment"><span class="hljs-comment">/* flush buffer to screen */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_output_buff) { video_flush(io_buf-&gt;base); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_input_buff) { unreachable(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IOCTL_READ_MODE_LINE: <span class="hljs-comment"><span class="hljs-comment">/* read only whole line */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_input_buff) { read_line_mode = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_output_buff) { unreachable(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IOCTL_READ_MODE_ECHO: <span class="hljs-comment"><span class="hljs-comment">/* put readed symbol to stdout */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_input_buff) { is_echo = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (io_buf-&gt;base == tty_output_buff) { unreachable(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: unreachable(); } }</code> </pre><br>  ูููุฐ ุงูุขู ุฅุฎุฑุงุฌ ุฅุฏุฎุงู ุงูููู ุนูู ูุณุชูู ููุชุจุชูุง C. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Api - Open file */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> FILE* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fopen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* file, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mod_rw)</span></span></span><span class="hljs-function"> </span></span>{ FILE* result = null; asm_syscall(SYSCALL_OPEN, file, mod_rw, &amp;result); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-comment"><span class="hljs-comment">/* * Api - Close file */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fclose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FILE* file)</span></span></span><span class="hljs-function"> </span></span>{ asm_syscall(SYSCALL_CLOSE, file); } <span class="hljs-comment"><span class="hljs-comment">/* * Api - Read from file to buffer */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> u_int </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fread</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FILE* file, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* buff, u_int size)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asm_syscall(SYSCALL_READ, file, buff, size); } <span class="hljs-comment"><span class="hljs-comment">/* * Api - Write data to file */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fwrite</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FILE* file, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* data, u_int size)</span></span></span><span class="hljs-function"> </span></span>{ asm_syscall(SYSCALL_WRITE, file, data, size); }</code> </pre><br>  ุญุณููุง ุ ุฅููู ุจุนุถ ุงููุธุงุฆู ุงูุฑููุนุฉ ุงููุณุชูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* * Api - Print user message */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uvnprintf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* format, u_int n, va_list </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">list</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buff[VIDEO_SCREEN_WIDTH]; vsnprintf(buff, n, format, <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>); uputs(buff); } <span class="hljs-comment"><span class="hljs-comment">/* * Api - Read from file to string */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uscanf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* buff, ...)</span></span></span><span class="hljs-function"> </span></span>{ u_int readed = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { readed = fread(<span class="hljs-built_in"><span class="hljs-built_in">stdin</span></span>, buff, <span class="hljs-number"><span class="hljs-number">255</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (readed == <span class="hljs-number"><span class="hljs-number">0</span></span>); buff[readed - <span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* erase new line character */</span></span> uprintf(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); uflush(); }</code> </pre><br>  ุญุชู ูุง ูุฎุฏุน ุจูุฑุงุกุฉ ุงูุชูุณูู ุญุชู ุงูุขู ุ ุณููุฑุฃ ุฏุงุฆููุง ููุท ูู ุงูุณุทุฑ ููุง ูู ุฃู ุนูุงูุฉูช s ูุฏ ุฃุนุทูุช.  ููุช ูุณูููุง ุฌุฏูุง ูู ุชูุฏูู ุญุงูุฉ ูููุฉ ุฌุฏูุฏุฉ ูุงูุชุธุงุฑ ูุงุตูุงุช ุงููููุงุช ุ ูุฐูู ูุญุงูู ููุท ูุฑุงุกุฉ ุดูุก ูุง ูู ุญููุฉ ูุง ููุงุฆูุฉ ุญุชู ููุฌุญ. <br><br>  ูุฐุง ูู ุดูุก.  ุงูุขู ููููู ุฑุจุท ุงูุณุงุฆููู ุจุฃูุงู ุฅูู ููุงุฉูู! <br><br><h4 style=";text-align:right;direction:rtl">  ูุฑุงุฌุน </h4><br>  ุดุงูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฏูู ุงูุชุนูููู</a> ููุฒูุฏ ูู ุงููุนูููุงุช. <br><br>  โ ุดูุฑุฉ ุงููุตุฏุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ูุณุชูุฏุน ุจูุงุจุฉ</a> (ุชุญุชุงุฌ ูุฑุน ุงูุฏุฑุณ 8) <br><br><h4 style=";text-align:right;direction:rtl">  ูุฑุงุฌุน </h4><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌููุณ ููููู.  ููุฉ ูุธุงู ุงูุชุดุบูู ุงูุฎุงุต ุจู UNIX ุงุณุชูุณุงุฎ. </li><li style=";text-align:right;direction:rtl">  ุฒูุจููู.  ูุฌูุน ู DOS ุ ูููุฏูุฒ ุ ูููููุณ </li><li style=";text-align:right;direction:rtl">  ููุงุดููููู.  ุงููุฌูุน ุณูู! </li><li style=";text-align:right;direction:rtl">  ุชุงูููุจุงูู.  ุฃูุธูุฉ ุงูุชุดุบูู.  ุงูุชูููุฐ ูุงูุชุทููุฑ. </li><li style=";text-align:right;direction:rtl">  ุฑูุจุฑุช ููู.  ููุงุฉ ููููุณ  ูุตู ุนูููุฉ ุงูุชุทููุฑ. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar468509/">https://habr.com/ru/post/ar468509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar468491/index.html">ูุนูุฉ ุงููุฑูุฉ ูุจุฑุง</a></li>
<li><a href="../ar468493/index.html">ูููู ุงูุนุฑุถ ุงูุฌูู ููุดุฑูุน ุนููู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar468497/index.html">3 ุฏูุงุฆู ุชูููุช ุงููููุช ุจุงููุฑุดุงุฉ</a></li>
<li><a href="../ar468501/index.html">ููู ุฃูุดุฃุช ุนุงูู ุชุตููุฉ ูุง ููุณุฏ ุงูุตูุฑุฉ ุญุชู ุจุนุฏ ุชุดุบูู ููููู</a></li>
<li><a href="../ar468503/index.html">ุงูุจุฑูุฏ ูุง ูุฐูุจ ุฃุจุนุฏ 500 ููู - ุฃุณุฆูุฉ ูุฃุฌูุจุฉ</a></li>
<li><a href="../ar468511/index.html">ูุดุฑ ุฎุงุฏู ูู ุฎูุงู ุจูุงุจุฉ ุฏู ูููู DFL</a></li>
<li><a href="../ar468515/index.html">ูุตุงุฆุญ ูููุฏุฉ ููุงูุฏูุงุฌ ูู ุงููุดุงุฑูุน ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar468517/index.html">2. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุฏุนู ุงูููู ูุงูุถูุงู ูุดุจูุงุช Extreme Networks</a></li>
<li><a href="../ar468519/index.html">ุฅูุดุงุก ูุงุนุฏุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุดุงุฆุนุฉ</a></li>
<li><a href="../ar468521/index.html">ููู ูููุง ุจุชุนููู ุฃูู ุงููุนูููุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>