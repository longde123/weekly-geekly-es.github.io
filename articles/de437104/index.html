<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üà≤ üë©‚Äçüíª üëë Introskop: Nun, sehr fauler Unit-Test üîé üõ≥Ô∏è ü•ï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Arbeit schreiben wir viele h√§ufig wechselnde Gesch√§ftslogiken in JS (Startup). Sogar zu viel. Und ich m√∂chte das alles aus der alten Gewohnhei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introskop: Nun, sehr fauler Unit-Test</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437104/"><p> Bei der Arbeit schreiben wir viele h√§ufig wechselnde Gesch√§ftslogiken in JS (Startup).  Sogar zu viel.  Und ich m√∂chte das alles aus der alten Gewohnheit heraus testen, aber irgendwie schneller, damit die Tests den Govnokod nicht st√∂ren, wenn er ben√∂tigt wird, und die Struktur der Module nicht speziell f√ºr die Tests angepasst ist.  Irgendwann kam der Gedanke, dass es auch irgendwie mit Hilfe eines einfachen Babel-Plug-Ins automatisiert werden k√∂nnte, so dass zun√§chst alle privaten Variablen und Methoden in einer Testumgebung herauskommen, aber in der Produktion nicht ber√ºhrt w√ºrden.  Es stellte sich als recht einfach und unterhaltsam heraus.  So entstand <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Introscope</a> , mit dem wir jetzt alles mehr oder weniger kompliziert testen. </p><a name="habracut"></a><br><p>  Nachdem ich das Projekt √ºbergeben hatte, war ich einige Monate lang abgelenkt, um den Einsatz und die √úberwachung zu verbessern. Ich war ausgeruht, sch√§tzte Habr, und als ich etwas erneut testen musste, war ich sofort begeistert von meinem eigenen Tool!  Das passiert mir nicht oft.  Genauer gesagt war es nie.  Also, ich denke das Ding funktioniert.  Ich hoffe, Sie sind auch n√ºtzlich. </p><br><h2 id="korotko-chto-ono-umeet">  Kurz gesagt, was kann es tun? </h2><br><ol><li>  Wickelt das gesamte Modul in eine Factory-Funktion ein, sodass Sie beim Testen so viele neue Module erstellen k√∂nnen, wie Sie ben√∂tigen.  Dadurch entf√§llt die Notwendigkeit, das Entsperren durchzuf√ºhren. </li><li>  Da das Modul verpackt ist, wei√ü Tulza genau, welche Variablen das Modul importiert, und kann Moki nach Typ generieren.  Dies funktioniert sehr gut f√ºr einen mehr oder weniger funktionalen Stil. </li><li>  Es ist in der Lage, Aufrufe und Argumente f√ºr Funktionen von externen Modulen zu protokollieren und alles in ein Protokoll zu schreiben, das dann f√ºr Snapshots wundersch√∂n serialisiert wird (wenn Sie Jest verwenden, beginnt alles sofort). </li><li>  Killer-Funktion: Kann das Ergebnis des Aufrufs einer externen Funktion speichern und f√ºr weitere Tests verwenden.  Dies ist sehr praktisch, wenn Sie Anfragen nach externen Diensten testen, mit denen wir mit unseren H√§nden in Moki gefahren sind. </li><li>  In Kombination mit Jest werden Tests durch Dr√ºcken einer U-Taste (ich mache keine Witze) aktualisiert, mit der Snapshots aktualisiert werden.  Goldener Testansatz in seiner ganzen Pracht. </li><li>  Arbeitet seit fast einem Jahr in der Produktion. </li></ol><br><h2 id="v-rezultate">  Ergebend </h2><br><p>  Tests wurden von Personen geschrieben, die zuvor noch nicht einmal davon erfahren wollten, da Sie nur die Funktion mit den erforderlichen Parametern aufrufen und das Protokoll der Ereignisse in dieser Funktion mit einer Taste speichern m√ºssen.  Ich wollte nur etwas anderes testen ... </p><br><p>  Link: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Introscope</a> (es gibt auch GIF-Screencasts!).  Ich w√ºrde mich sehr √ºber konstruktive Kritik und Links dazu freuen, aber viel besser gemacht: D. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/822/3c0/4ad/8223c04ad14711ad2af235ea9715b831.gif" alt="Bild"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de437104/">https://habr.com/ru/post/de437104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de437094/index.html">Wir haben den Atlassian Service Desk gepumpt - die Ank√ºndigung des Mitaps und der Live-√úbertragung</a></li>
<li><a href="../de437096/index.html">UDB. Was ist das Teil 4. Datenpfad ALU</a></li>
<li><a href="../de437098/index.html">6. Februar, Moskau, DI Telegraph - Gro√üe QIWI-K√ºche zum Thema Produktdesign</a></li>
<li><a href="../de437100/index.html">Das Reverse Engineering des Renderings von The Witcher 3</a></li>
<li><a href="../de437102/index.html">Neues Lego-Champion-Treffen: Lego Boost</a></li>
<li><a href="../de437106/index.html">IT in der Zone .it</a></li>
<li><a href="../de437108/index.html">Die meisten Texte im Internet werden von Verr√ºckten geschrieben.</a></li>
<li><a href="../de437110/index.html">Nanomaterialien ver√§ndern unsere Welt, und wir haben immer noch keine Verfahren zur √úberpr√ºfung ihrer Sicherheit</a></li>
<li><a href="../de437112/index.html">DMA: Mythen und Realit√§t</a></li>
<li><a href="../de437114/index.html">Offenes Webinar: ‚ÄûSSH / NC / Socat: Tipps und Tricks‚Äú</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>