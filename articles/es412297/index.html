<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∑ üé∂ ‚öìÔ∏è Decodificaci√≥n de se√±ales LCD multiplexadas üë®üèæ‚Äçüåæ üçâ ü§∞üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo hablar√© sobre c√≥mo funciona la pantalla de cristal l√≠quido (LCD) en t√©rminos de se√±ales, c√≥mo decodificar y usar estas se√±ales para s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Decodificaci√≥n de se√±ales LCD multiplexadas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412297/"><img src="https://habrastorage.org/webt/u_/nk/n6/u_nkn6n68u0jh0epgpnnh4moype.jpeg"><br><br>  En este art√≠culo hablar√© sobre c√≥mo funciona la pantalla de cristal l√≠quido (LCD) en t√©rminos de se√±ales, c√≥mo decodificar y usar estas se√±ales para sus propios fines. <br><a name="habracut"></a><br>  A veces surgen preguntas sobre el funcionamiento de la pantalla LCD.  Por ejemplo, la pantalla del dispositivo ha fluido y no hay nada que reemplazar: <br><br><img src="https://habrastorage.org/webt/zr/qe/zi/zrqezi27kz7bsxdjalerlt7zznm.jpeg"><br><br>  O la pantalla LCD es muy peque√±a, no es visible en la oscuridad y la tarea es convertir la salida en lugar de la pantalla LCD a un LED u otra pantalla. <br><br>  Tambi√©n me encontr√© con ese problema: hay un aire acondicionado, y para mejorar sus caracter√≠sticas operativas es necesario encender un ventilador adicional cuando aparece el s√≠mbolo de "copo de nieve" en la pantalla. <br><br><img src="https://habrastorage.org/webt/i4/yz/my/i4yzmymkjbnqtcd1orm7ibh9ce0.jpeg"><br><br>  Creo que puede llegar a muchos de estos problemas, y la tarea general es aprender c√≥mo decodificar la informaci√≥n que se muestra en la pantalla LCD y usarla para el prop√≥sito previsto. <br><br>  Los indicadores de cristal l√≠quido, debido a sus caracter√≠sticas f√≠sicas, requieren el cumplimiento de dos requisitos principales: <br><br><ol><li>  El voltaje entre los electrodos debe ser de al menos tres voltios. </li><li>  Es necesario aplicar voltaje alterno a los electrodos sin ning√∫n componente de CC. </li></ol><br>  Si no cumple con el primer requisito y aplica un voltaje de menos de 3 voltios entre los electrodos comunes y de segmento, entonces el segmento simplemente no ser√° visible. <br><br>  Si no se cumple el segundo requisito, el indicador puede degradarse bastante r√°pido (los cristales l√≠quidos se deteriorar√°n).  Los indicadores de los primeros problemas sufrieron especialmente por el incumplimiento del segundo requisito, y bien podr√≠a haber una situaci√≥n en la que el usuario siempre tuviera tiempo en el indicador cuando la bater√≠a se agotara en el reloj. <br><br><img src="https://habrastorage.org/webt/ta/no/i3/tanoi3eg5n9ps_ffjqcfixxodki.jpeg"><br><br>  La pantalla LCD utiliza electrodos comunes y de segmento.  Los electrodos de segmento est√°n ubicados en un lado de la pantalla LCD, comunes, en el lado opuesto.  Entre ellos hay cristales l√≠quidos.  Si se aplica una tensi√≥n alterna, los cristales l√≠quidos cambiar√°n su plano de polarizaci√≥n y, teniendo en cuenta los filtros de polarizaci√≥n a los lados del indicador, no pasar√°n luz a trav√©s de ellos mismos, y el segmento se mostrar√° en negro. <br><br><img src="https://habrastorage.org/webt/xq/pu/3v/xqpu3vlr_mtlfyqzdim9zmsgjc4.png"><br><br>  Aqu√≠ hay una fotograf√≠a de un indicador de calculadora donde los electrodos son visibles. <br><br><img src="https://habrastorage.org/webt/jx/3c/pw/jx3cpwsaty40mpgkuhgv8pmcl6e.jpeg"><br><br>  Como dije, se debe aplicar un voltaje alterno entre el segmento y los electrodos comunes.  Su frecuencia debe ser m√°s de 30 hertzios.  En lugar de una sinusoide, se dan se√±ales de una forma especial o un meandro (un meandro es una se√±al peri√≥dica de una forma rectangular en la que las duraciones y pausas del pulso son iguales), que tambi√©n se puede considerar, con cierta suposici√≥n, una sinusoide simplificada. <br><br>  Las pantallas LCD m√°s simples tienen un electrodo com√∫n.  El n√∫mero de conclusiones en el indicador es igual al n√∫mero de segmentos m√°s la producci√≥n total. <br><br>  Un meandro se alimenta a la conclusi√≥n general.  Pero en los segmentados, tambi√©n un meandro.  La diferencia es que si se va a mostrar el segmento, el pulso y el intervalo (fase, en relaci√≥n con la se√±al del electrodo com√∫n) se intercambian.  Si el segmento no debe mostrarse, entonces las fases coinciden. <br><br><img src="https://habrastorage.org/webt/fy/nu/ui/fynuuiy9wgvulfn1sgaji4etmvw.gif"><br><br>  Desde el punto de vista del indicador, cuando las fases coinciden, el voltaje entre los electrodos es siempre de 0 voltios.  Y si las fases no coinciden, entonces, entre los electrodos, el voltaje siempre alterna y es igual a 3 voltios. <br><br>  La salida al indicador con un electrodo com√∫n es bastante simple, pero si el n√∫mero de segmentos es grande, entonces los costos tanto del cableado del indicador como de la reserva del n√∫mero correspondiente de puertos de salida en el controlador aumentan en consecuencia. <br><br>  Para reducir el n√∫mero de segmentos, se usan dos o m√°s electrodos comunes.  Por un lado, esto reduce significativamente el n√∫mero de salidas de segmento, pero por otro lado, complica la salida en t√©rminos de generaci√≥n de se√±al.  La idea en la multiplexaci√≥n de se√±ales es que la salida de un segmento es responsable de mostrar dos o m√°s segmentos. <br><br>  Si en un indicador con una se√±al com√∫n, un segmento se controla constantemente, entonces durante la multiplexaci√≥n, el n√∫mero de intervalos de tiempo cuando se controla un segmento se divide por el n√∫mero de se√±ales comunes.  Es decir, los segmentos con la se√±al com√∫n COM1 se controlan primero (se muestran o apagan), en el siguiente intervalo de tiempo los segmentos conectados con la se√±al com√∫n COM2, etc., se controlan por el n√∫mero de se√±ales comunes. <br><br>  Dado que se reducen los intervalos de tiempo cuando se controla un segmento, el tiempo de visualizaci√≥n se reduce en consecuencia, y las se√±ales m√°s comunes, menor es el contraste de la imagen en su conjunto. <br><br>  En lugar de un simple meandro con varias se√±ales comunes, es necesario aplicar se√±ales de una forma especial con voltajes intermedios.  Se necesitan voltajes intermedios para cumplir con los dos requisitos que describ√≠ anteriormente. <br><br>  Grab√© un video corto donde se puede ver en un oscilograma de osciloscopio desde un reloj real con un electrodo com√∫n y una calculadora con tres comunes. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9HztipEZnw8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><img src="https://habrastorage.org/webt/4n/bw/z8/4nbwz8kdlpzjvaqg2isx8hms5d4.jpeg"><br><br>  Esto es parte del circuito de la calculadora electr√≥nica MK-62.  El indicador utiliza tres electrodos comunes.  El diagrama muestra el cableado de los electrodos comunes y de segmento. <br><br>  El esquema completo est√° disponible <a href="">aqu√≠</a> . <br><br><img src="https://habrastorage.org/webt/8u/nm/ah/8unmahpothc_o-ozyu_2acve4rs.png"><br><br>  Por conveniencia, he florecido el √°rea de responsabilidad de los electrodos comunes.  En el diagrama, los electrodos comunes se designan como O1, O2 y O3. <br><br>  Tambi√©n colore√© los segmentos, por lo que fue conveniente ver qu√© segmentos son responsables de las conclusiones del segmento. <br><br><img src="https://habrastorage.org/webt/la/tv/p1/latvp12kszoyhpsix3cwpkoi7r8.jpeg"><br><br>  Los diagramas de la forma del pulso de las se√±ales aplicadas al segmento y las conclusiones generales parecen espeluznantes a primera vista.  Pero si miras, puedes entender c√≥mo funciona esto: <br><br><img src="https://habrastorage.org/webt/pl/rd/ql/plrdqlrfzobvmk9t_aamvlhh9ls.png"><br><br>  Los primeros tres gr√°ficos corresponden a electrodos comunes.  Los florec√≠ de acuerdo con la figura del indicador en el diagrama. <br><br><img src="https://habrastorage.org/webt/jr/44/8m/jr448mccwcpsynohkz0jlgqizl8.png"><br><br>  Solo nos interesar√°n los "estantes" coloreados de se√±ales cuyos niveles est√°n en la parte superior de las formas de onda.  Estos son los momentos en que las salidas segmentadas son controladas (mostradas o apagadas). <br><br>  En estos diagramas se ve que primero, en la parte inferior, "O2" funciona, luego O1, luego O3.  Despu√©s de esto, los estantes de la misma manera (solo en la parte superior), primero en O2, luego en O1 y luego en O3.  Entonces se alternan, observando la condici√≥n de voltaje alterno. <br><br><img src="https://habrastorage.org/webt/x3/i6/ht/x3i6htkapa7omcxuuuyiijbbpq8.png"><br><br>  Ahora que los diagramas de se√±ales comunes est√°n "descifrados", puede ver los diagramas de se√±ales de segmento, que tambi√©n pint√©.  Estas gr√°ficas son de la visualizaci√≥n real en el indicador del d√≠gito 0. (con un punto) en la primera familiaridad. <br><br>  La forma de los pulsos del segmento y las se√±ales comunes se selecciona con el c√°lculo del cumplimiento del primer requisito: el voltaje entre los electrodos debe ser igual a tres voltios.  Los cristales l√≠quidos y los filtros polarizadores est√°n dise√±ados para mostrarse solo a tres voltios, y si el voltaje es m√°s bajo, los segmentos no ser√°n visibles. <br><br>  Puede determinar de forma independiente qu√© segmentos espec√≠ficos se mostrar√°n o se apagar√°n cuando lleguen las se√±ales comunes correspondientes. <br><br>  Ahora, despu√©s de descubrir el principio de los segmentos de mapeo, puede hacer un decodificador bastante simple. <br><br>  Cuando escrib√≠ que se debe aplicar una tensi√≥n alterna entre los electrodos, esto es cierto y correcto, pero solo desde el punto de vista de los electrodos.  Aprovechamos el descubrimiento del gran Einstein, que dice: "todo es relativo", y nos unimos a uno de los polos de se√±al (negativo).  Todos los dem√°s niveles se volver√°n positivos autom√°ticamente. <br><br>  En el diagrama anterior, los desarrolladores ya se han alejado de un voltaje multipolar y han emitido se√±ales con niveles de 0 y -3 voltios. <br><br>  Dado que la l√≥gica de nuestro dispositivo es positiva, asumiremos que el voltaje que se muestra en el circuito como -3 voltios en nuestro circuito ser√° cero, y el voltaje de 0 voltios es m√°s tres voltios. <br><br>  En nuestro esquema, cuando llegue el estante inferior, ser√° de 0 voltios (la se√±al GND es tierra).  Cuando llega el estante superior, es de +3 voltios.  Y los voltajes restantes est√°n hechos para formar una sinusoide, y los ignoraremos. <br><br><img src="https://habrastorage.org/webt/9l/4w/kg/9l4wkgpqnh2kkr0-7hexhzpgisq.png"><br><br>  Necesitamos aplicar dos comparadores.  El comparador funciona de manera simple: tiene dos entradas (positiva y negativa) y una salida.  Cuando el voltaje en la entrada positiva es mayor que en el negativo, aparece uno en la salida y viceversa: cuando el voltaje en la salida positiva es menor que el negativo, entonces la salida es cero. <br><br>  El primer comparador (l√≠nea verde) rastrear√° la llegada del estante superior de la se√±al general.  El segundo comparador (l√≠nea roja) rastrear√° la llegada de la se√±al del segmento.  El nivel de l√≠nea verde se alimenta a la entrada negativa del primer comparador, y el nivel de l√≠nea roja se alimenta a la entrada negativa del segundo comparador.  En las entradas positivas de los comparadores, respectivamente, se suministra una se√±al com√∫n y una se√±al de segmento.  El nivel de la se√±al general se selecciona en la parte superior y el nivel del segmento en la parte inferior, para "captar" el momento en que se muestra el segmento (los mismos 3 voltios).  En otros casos, no se muestra.  Preste atenci√≥n al diagrama m√°s bajo en el esquema de la calculadora, esos momentos en que los otros segmentos no est√°n iluminados, all√≠ las se√±ales no alcanzan ni el nivel superior ni el inferior. <br><br>  Como resultado, en el momento de la l√≠nea vertical amarilla en las salidas de los comparadores, detectaremos tres voltios de la diferencia entre las se√±ales cuando el segmento est√° activado y 0 voltios cuando no est√° activado. <br><br>  Entonces, captamos el momento en que se muestra el segmento deseado (o se extingue).  Ahora este momento necesita ser arreglado.  Para arreglar este momento, utilizaremos un registro con un tipo de cierre 74HC374.  A la entrada del registro, le damos una se√±al del comparador No. 2, donde se rastre√≥ la se√±al del segmento, y a la entrada del reloj del pestillo, salida del comparador No. 1, donde la unidad l√≥gica comenzar√° en el momento de la llegada de la se√±al com√∫n que necesitamos. <br><br>  Despu√©s de que el registro hace clic en el salto positivo de la entrada CLK, la se√±al no cambiar√° en su salida hasta la nueva llegada del estante positivo de la se√±al com√∫n que necesitamos. <br><br>  Para rastrear un segmento (que sea un s√≠mbolo de copo de nieve), el diagrama se ver√° as√≠: <br><br><img src="https://habrastorage.org/webt/yk/rz/uv/ykrzuvkpqmusqgk0lbdeq1l34ec.gif"><br><br>  Aqu√≠, en el diagrama, el comparador U1 monitorea el estante inferior de la se√±al del segmento, cuyo nivel ser√° m√°s bajo que el establecido en la resistencia variable RP1, y establece cero en su salida.  El segundo comparador monitorea la llegada del estante superior de la se√±al com√∫n y bloquea el registro con un borde positivo. <br><br>  El condensador C1 es necesario para retrasar un poco la detecci√≥n del nivel general y para cambiar el momento de fijaci√≥n no al principio del nivel general (en este momento el segmento uno puede llegar tarde o habr√° algunos transitorios), pero un poco m√°s tarde (en la figura hay una l√≠nea amarilla en el medio del estante).  La salida del registro ser√° un cero l√≥gico cuando se muestre el segmento y una unidad l√≥gica cuando no se muestre el segmento. <br><br>  Tal esquema es necesario para detectar cada segmento.  La principal complejidad de tal esquema es que se requiere un comparador separado para cada segmento y se√±al com√∫n, y el n√∫mero de salidas de registro es igual al n√∫mero de segmentos.  Pero, por otro lado, todos estos comparadores y registros ahora valen un centavo. <br><br>  Para simplificar el trabajo y comprobar la operatividad de todo lo que escrib√≠, hice una peque√±a bufanda en la que extend√≠ varios comparadores y registros. <br><br><img src="https://habrastorage.org/webt/uk/cj/ph/ukcjphxv71j90r77jjt7rqa9uve.jpeg"><br><br><img src="https://habrastorage.org/webt/zy/tx/84/zytx84c9alzfjvde3rtmhcgpx8c.jpeg"><br><br>  Esquema: <a href="">habrastorage.org/webt/wk/1i/kg/wk1ikgqdavyjnxcqsqlr2174jke.jpeg</a> <br><br>  La descripci√≥n del circuito es la misma que para un segmento, solo multiplicado por 16 segmentos y una o dos se√±ales comunes (el n√∫mero se selecciona mediante un puente). <br><br>  La placa proporciona entradas y salidas de tr√°nsito de potencia y niveles de comparaci√≥n para ahorrar en detalles y configuraci√≥n. <br><br>  Aqu√≠ hay otro video que describe el funcionamiento de esta placa y muestra c√≥mo funciona la detecci√≥n: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NMhjmRUTAuk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La detecci√≥n de una calculadora es interesante solo para fines acad√©micos, y para m√≠, sobre la base de estas placas, hice un dispositivo real: un reloj LED basado en el reloj 55 de la electr√≥nica sovi√©tica. <br><br><img src="https://habrastorage.org/webt/17/xc/i6/17xci63clk-p3yge_dtlqntdbr8.jpeg"><br><br><img src="https://habrastorage.org/webt/ed/4j/6q/ed4j6q6el4s48byybjvzcu3oqxs.jpeg"><br><br><img src="https://habrastorage.org/webt/o9/vy/uz/o9vyuzvnrv7lzrhgto67f7qxgp4.jpeg"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XmbOqLSRlRk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Hay bastantes segmentos en el reloj, y tuve que usar cuatro tableros. <br><br>  Estas placas tambi√©n permiten multiplexar las salidas de los registros.  Es decir, las salidas de cada registro se pueden combinar en un bus de 8 bits.  Las tarjetas proporcionan salidas de desactivaci√≥n (tramo 1 en cada registro).  Para deshabilitar, se suministra una unidad l√≥gica a cada registro (por ejemplo, desde un chip multiplexor de tipo 74HC137), y se env√≠a un cero l√≥gico al registro del que se deben eliminar los datos.  Luego, al elegir alternativamente el registro deseado, puede leer los datos del bus LCD, por ejemplo, con otro microcontrolador, y luego procesarlos a su propia discreci√≥n.  Adem√°s, la selecci√≥n se puede hacer de forma as√≠ncrona desde el circuito de decodificaci√≥n a cualquier velocidad. <br><br>  As√≠ es como puede leer la informaci√≥n de la pantalla LCD y usarla para sus propios fines.  Gracias por su atencion </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412297/">https://habr.com/ru/post/es412297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412285/index.html">C√≥mo traducir un archivo de audio de voz a texto usando el traductor de Google</a></li>
<li><a href="../es412287/index.html">Espect√°culo de luces Drone</a></li>
<li><a href="../es412289/index.html">Pritunl: servidor VPN para usted y sus amigos en 10 minutos</a></li>
<li><a href="../es412293/index.html">Intel Core i3-8121U: hay 10 nm</a></li>
<li><a href="../es412295/index.html">Gire el sonido en todas las direcciones: la lente ac√∫stica brit√°nica: un comienzo invisible de la revoluci√≥n</a></li>
<li><a href="../es412299/index.html">Elon Musk mostr√≥ el primer t√∫nel tendido por la Compa√±√≠a Boring</a></li>
<li><a href="../es412301/index.html">Extensi√≥n de la serie ImagePROGRAF: Serie TX</a></li>
<li><a href="../es412305/index.html">China lanz√≥ el sat√©lite Queqiao para comunicarse con la pr√≥xima misi√≥n lunar</a></li>
<li><a href="../es412307/index.html">La frase "No seas malvado" se elimin√≥ del prefacio del C√≥digo de Google.</a></li>
<li><a href="../es412309/index.html">La fuerza reduce los s√≠ntomas de depresi√≥n, no peor que el ejercicio aer√≥bico.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>