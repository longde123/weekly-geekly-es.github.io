<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòπ üóúÔ∏è ‚úãüèº Testando projetos Node.js. Parte 2. Avalia√ß√£o do desempenho do teste, integra√ß√£o cont√≠nua e an√°lise da qualidade do c√≥digo üë©üèº‚Äç‚úàÔ∏è üö¥üèø üõèÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚Üí Testando projetos Node.js. Parte 1. Anatomia e tipos de teste 

 Hoje, na segunda parte da tradu√ß√£o do material dedicado aos testes dos projetos Nod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Testando projetos Node.js. Parte 2. Avalia√ß√£o do desempenho do teste, integra√ß√£o cont√≠nua e an√°lise da qualidade do c√≥digo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/435464/">  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Testando projetos Node.js.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1. Anatomia e tipos de teste</a> <br><br>  Hoje, na segunda parte da tradu√ß√£o do material dedicado aos testes dos projetos Node.js., falaremos sobre avaliar a efic√°cia dos testes e analisar a qualidade do c√≥digo. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/f16/1a0/3e2/f161a03e2b08ae35b31f718a083a39a0.jpg" alt="imagem"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Se√ß√£o 3. Avalia√ß√£o da efic√°cia dos testes</font> </h2><br><h3>  <font color="#3AC1EF">19.</font>  <font color="#3AC1EF">Alcance um n√≠vel suficientemente alto de cobertura de c√≥digo com testes para ganhar confian√ßa em sua opera√ß√£o correta.</font>  <font color="#3AC1EF">Geralmente, aproximadamente 80% de cobertura fornece bons resultados.</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  O objetivo do teste √© garantir que o programador possa continuar trabalhando produtivamente no projeto, garantindo que o que j√° foi feito esteja correto.  Obviamente, quanto maior o volume do c√≥digo testado, mais forte a confian√ßa de que tudo funciona como deveria.  O indicador de cobertura de c√≥digo por testes indica quantas linhas (ramifica√ß√µes, comandos) foram verificadas por testes.  Qual deve ser esse indicador?  √â claro que 10 a 30% √© muito pouco para dar confian√ßa de que o projeto funcionar√° sem erros.  Por outro lado, o desejo de 100% de cobertura do c√≥digo com testes pode ser um prazer muito caro e pode distrair o desenvolvedor dos fragmentos mais importantes do programa, for√ßando-o a procurar no c√≥digo aqueles lugares que os testes existentes n√£o alcan√ßam.  Se voc√™ der uma resposta mais completa √† pergunta sobre qual deve ser a cobertura do c√≥digo com testes, podemos dizer que o indicador pelo qual devemos nos esfor√ßar depende do aplicativo que est√° sendo desenvolvido.  Por exemplo, se voc√™ estiver escrevendo um software para a pr√≥xima gera√ß√£o do Airbus A380, 100% √© um indicador que nem √© discutido.  Mas se voc√™ criar um site no qual as galerias de caricaturas ser√£o exibidas, provavelmente 50% j√° √© demais.  Embora os especialistas em testes digam que o n√≠vel de cobertura do c√≥digo com os testes que voc√™ deve buscar depende do projeto, muitos deles mencionam os 80%, o que provavelmente √© adequado para a maioria dos aplicativos.  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> estamos falando de algo na regi√£o de 80 a 90% e, de acordo com o autor deste material, 100% de cobertura do c√≥digo com testes o deixa desconfiado, pois pode indicar que o programador escreve testes apenas para obter n√∫mero bonito no relat√≥rio. <br><br>  Para usar os indicadores dos testes de cobertura de c√≥digo, voc√™ precisar√° configurar corretamente seu sistema para integra√ß√£o cont√≠nua (IC, integra√ß√£o cont√≠nua).  Isso permitir√°, se o indicador correspondente n√£o atingir um determinado limite, interromper a montagem do projeto.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Veja como</a> configurar o Jest para coletar informa√ß√µes de cobertura de teste.  Al√©m disso, voc√™ pode configurar os limites de cobertura n√£o para todo o c√≥digo, mas focando em componentes individuais.  Al√©m disso, considere detectar uma diminui√ß√£o na cobertura do teste.  Isso acontece, por exemplo, ao adicionar novo c√≥digo a um projeto.  O controle desse indicador incentivar√° os desenvolvedores a aumentar o volume do c√≥digo testado ou, pelo menos, manter esse volume no n√≠vel existente.  Em vista do exposto, a cobertura do c√≥digo com testes √© apenas um indicador quantificado, o que n√£o √© suficiente para avaliar completamente a confiabilidade dos testes.  Al√©m disso, como ser√° mostrado abaixo, seus altos n√≠veis ainda n√£o significam que o c√≥digo ‚Äúcoberto com testes‚Äù esteja realmente verificado. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  A confian√ßa do programador na alta qualidade do c√≥digo e indicadores relacionados relacionados ao teste andam de m√£os dadas.  Um programador n√£o pode deixar de ter medo de erros se n√£o souber que a maior parte do c√≥digo de seu projeto √© coberta por testes.  Essas preocupa√ß√µes podem retardar o seu projeto. <br><br><h4>  Exemplo </h4><br>  Veja como √© um relat√≥rio t√≠pico de cobertura de teste. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/96b/951/4fc/96b9514fc0e5d96553a4fc8551793d27.png"></div><br>  <i><font color="#999999">Relat√≥rio de cobertura de teste gerado por Istambul</font></i> <br><br><h4>  Abordagem correta </h4><br>  Aqui est√° um exemplo de configura√ß√£o do n√≠vel desejado de cobertura de teste do c√≥digo do componente e o n√≠vel geral deste indicador no Jest. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e23/feb/473/e23feb47399296324bb96b2109d4b360.jpg"></div><br>  <i><font color="#999999">Definindo o n√≠vel desejado de cobertura de c√≥digo com testes para todo o projeto e para um componente espec√≠fico</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç20.</font>  <font color="#3AC1EF">Examine os relat√≥rios sobre a cobertura do c√≥digo com testes para identificar partes desprotegidas do c√≥digo e outras anomalias</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  Alguns problemas tendem a passar por uma variedade de sistemas de detec√ß√£o de erros.  Pode ser dif√≠cil detectar essas coisas usando ferramentas tradicionais.  Talvez isso n√£o se aplique a erros reais.  Em vez disso, estamos falando sobre um comportamento inesperado do aplicativo, que pode ter consequ√™ncias devastadoras.  Por exemplo, muitas vezes acontece que alguns fragmentos de c√≥digo nunca s√£o usados ‚Äã‚Äãou raramente s√£o chamados.  Por exemplo, voc√™ acha que os mecanismos da classe <code>PricingCalculator</code> sempre <code>PricingCalculator</code> usados ‚Äã‚Äãpara definir o pre√ßo de um produto, mas, na verdade, essa classe n√£o √© usada, e h√° registros de 10.000 produtos no banco de dados e na loja online em que o sistema √© usado, muitas vendas ... Relat√≥rios sobre cobertura de c√≥digo com testes ajudam o desenvolvedor a entender se o aplicativo funciona da maneira que deve funcionar.  Al√©m disso, nos relat√≥rios, voc√™ pode descobrir qual c√≥digo de projeto n√£o foi testado.  Se voc√™ se concentrar em um indicador geral que indique que os testes cobrem 80% do c√≥digo, n√£o poder√° descobrir se partes cr√≠ticas do aplicativo est√£o sendo testadas.  Para gerar esse relat√≥rio, basta configurar corretamente a ferramenta usada para executar os testes.  Esses relat√≥rios geralmente parecem bastante bonitos e sua an√°lise, que n√£o leva muito tempo, permite detectar todo tipo de surpresa. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Se voc√™ n√£o sabe quais partes do seu c√≥digo n√£o foram testadas, n√£o sabe onde pode esperar problemas. <br><br><h4>  Abordagem incorreta </h4><br>  Veja o pr√≥ximo relat√≥rio e pense no que lhe parece incomum. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ce/883/889/1ce88388923499c997c6fdc4606d3c10.png"></div><br>  <i><font color="#999999">Relat√≥rio indicando comportamento incomum do sistema</font></i> <br><br>  O relat√≥rio √© baseado em um cen√°rio real de uso de aplicativos e permite que voc√™ veja um comportamento incomum do programa associado aos usu√°rios que efetuam logon no sistema.  Ou seja, um n√∫mero inesperadamente grande de tentativas malsucedidas de entrar no sistema chama sua aten√ß√£o em compara√ß√£o com as bem-sucedidas.  Ap√≥s analisar o projeto, verificou-se que o motivo era um erro no frontend, devido ao qual a parte da interface do projeto enviava constantemente solicita√ß√µes correspondentes √† API do servidor para a entrada no sistema. <br><br><h3>  <font color="#3AC1EF">21.</font>  <font color="#3AC1EF">Avalie a cobertura do c√≥digo l√≥gico com testes usando teste de muta√ß√£o</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  As m√©tricas tradicionais de benchmarking podem n√£o ser confi√°veis.  Portanto, no relat√≥rio, pode haver um valor de 100%, mas, ao mesmo tempo, absolutamente todas as fun√ß√µes do projeto retornar√£o valores incorretos.  Como explicar isso?  O fato √© que o indicador de cobertura de c√≥digo pelos testes indica apenas quais linhas de c√≥digo foram executadas sob o controle do sistema de teste, mas n√£o depende se algo foi realmente verificado, ou seja, se as instru√ß√µes do teste foram visando verificar a exatid√£o dos resultados do c√≥digo.  √â semelhante a uma pessoa que, retornando de uma viagem de neg√≥cios ao exterior, mostra carimbos no passaporte.  Os selos provam que ele foi a algum lugar, mas eles n√£o dizem nada sobre se ele fez o que fez em viagem de neg√≥cios. <br><br>  Aqui, os testes de muta√ß√£o podem nos ajudar, o que nos permite descobrir quanto c√≥digo foi realmente testado, e n√£o apenas visitado pelo sistema de teste.  Para teste mutacional, voc√™ pode usar a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Stryker</a> JS.  Aqui est√£o os princ√≠pios pelos quais ele funciona: <br><br><ol><li>  Ela intencionalmente altera o c√≥digo, criando erros nele.  Por exemplo, o c√≥digo <code>newOrder.price===0</code> transforma em <code>newOrder.price!=0</code> .  Esses "erros" s√£o chamados de muta√ß√µes. </li><li>  Ela faz testes.  Se eles acabam sendo aprovados, ent√£o temos problemas, porque os testes n√£o cumprem sua tarefa de detectar erros e os "mutantes", como dizem, "sobrevivem".  Se os testes indicarem erros no c√≥digo, tudo estar√° em ordem - os "mutantes" "morrem". </li></ol><br>  Se acontecer que todos os "mutantes" foram "mortos" (ou, pelo menos, a maioria deles n√£o sobreviveu), isso proporciona um n√≠vel mais alto de confian√ßa na alta qualidade do c√≥digo e nos testes que o testam do que as m√©tricas tradicionais para cobrir o c√≥digo com testes.  Ao mesmo tempo, o tempo necess√°rio para configurar e realizar testes mutacionais √© compar√°vel ao necess√°rio ao usar testes convencionais. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Se o indicador tradicional de cobertura de c√≥digo por testes indicar que 85% do c√≥digo √© coberto por testes, isso n√£o significa que os testes possam detectar erros nesse c√≥digo. <br><br><h4>  Abordagem incorreta </h4><br>  Aqui est√° um exemplo de 100% de cobertura do c√≥digo com testes, nos quais o c√≥digo n√£o foi completamente testado. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewOrder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newOrder</span></span></span><span class="hljs-function">) </span></span>{   logger.log(<span class="hljs-string"><span class="hljs-string">`Adding new order </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>);   DB.save(newOrder);   Mailer.sendMail(newOrder.assignee, <span class="hljs-string"><span class="hljs-string">`A new order was places </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">approved</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}; } it(<span class="hljs-string"><span class="hljs-string">"Test addNewOrder, don't use such test names"</span></span>, () =&gt; {   addNewOrder({<span class="hljs-attr"><span class="hljs-attr">asignee</span></span>: <span class="hljs-string"><span class="hljs-string">"John@mailer.com"</span></span>,<span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">120</span></span>}); });<span class="hljs-comment"><span class="hljs-comment">//    100%, ,   ,    </span></span></code> </pre> <br><h4>  Abordagem correta </h4><br>  Aqui est√° o relat√≥rio de teste de muta√ß√£o gerado pela biblioteca Stryker.  Ele permite que voc√™ descubra quanto c√≥digo n√£o foi testado (isso √© indicado pelo n√∫mero de "mutantes" "sobreviventes"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/037/f6c/9c0/037f6c9c038e09d219c1d06a1b255e4c.jpg"></div><br>  <i><font color="#999999">Relat√≥rio Stryker</font></i> <br><br>  Os resultados deste relat√≥rio permitem, com mais confian√ßa do que os indicadores usuais de cobertura de c√≥digo com testes, dizer que os testes funcionam conforme o esperado. <br><br><ul><li>  Uma muta√ß√£o √© um c√≥digo que foi deliberadamente modificado pela biblioteca Stryker para testar a efic√°cia de um teste. </li><li>  O n√∫mero de "mutantes" "mortos" (mortos) mostra o n√∫mero de defeitos de c√≥digo criados intencionalmente ("mutantes") que foram identificados durante o teste. </li><li>  O n√∫mero de "sobreviventes" "mutantes" (sobreviventes) permite descobrir quantos testes de defeitos de c√≥digo n√£o foram encontrados. </li></ul><br><h2>  <font color="#3AC1EF">Se√ß√£o 4. Integra√ß√£o Cont√≠nua, Outros Indicadores de Qualidade de C√≥digo</font> </h2><br><h3>  <font color="#3AC1EF">22.</font>  <font color="#3AC1EF">Aproveite os recursos do linter e interrompa o processo de constru√ß√£o do projeto quando ele detectar problemas que eles relatam</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  Hoje, os linters s√£o ferramentas poderosas que podem identificar problemas s√©rios de c√≥digo.  √â recomend√°vel, al√©m de algumas regras b√°sicas de linting (como as implementadas pelos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plugins eslint-plugin-standard</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eslint-config-airbnb</a> ), usar regras especializadas.  Por exemplo, estas s√£o as regras implementadas por meio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plugin eslint-plugin-chai-expect</a> para verificar a corre√ß√£o do c√≥digo de teste, essas s√£o as regras do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plugin eslint-plugin-promessa</a> que controlam o trabalho com promessas, essas s√£o as regras do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eslint-plugin-security</a> que verificam o c√≥digo quanto √† disponibilidade cont√©m express√µes regulares perigosas.  Aqui tamb√©m √© poss√≠vel mencionar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plug-in eslint-plugin-you-not-need-lodash-underscore</a> , que permite encontrar no c√≥digo o uso de m√©todos de bibliotecas externas que possuem an√°logos em JavaScript puro. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Chegou um dia chuvoso, o projeto apresenta falhas cont√≠nuas na produ√ß√£o e n√£o h√° informa√ß√µes sobre pilhas de erros nos logs.  O que aconteceu  Como se viu, o que o c√≥digo lan√ßa como exce√ß√£o n√£o √© realmente um objeto de erro.  Como resultado, informa√ß√µes sobre a pilha n√£o entram nos logs.  De fato, em tal situa√ß√£o, o programador pode matar contra a parede ou, o que √© muito melhor, passar 5 minutos configurando o linter, o que detectar√° facilmente o problema e garantir√° ao projeto problemas semelhantes que possam surgir no futuro. <br><br><h4>  Abordagem incorreta </h4><br>  Aqui est√° o c√≥digo que, inadvertidamente, lan√ßa um objeto comum como uma exce√ß√£o, enquanto aqui voc√™ precisa de um objeto do tipo <code>Error</code> .  Caso contr√°rio, os dados sobre a pilha n√£o entrar√£o no log.  O ESLint encontra o que poderia causar problemas de produ√ß√£o, ajudando a evitar esses problemas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6a/d40/bc0/d6ad40bc0f5e0c09840e3b52e2b878a6.jpg"></div><br>  <i><font color="#999999">ESLint ajuda a encontrar um bug no seu c√≥digo</font></i> <br><br><h3>  <font color="#3AC1EF">23.</font>  <font color="#3AC1EF">Feedback mais r√°pido para desenvolvedores que usam integra√ß√£o cont√≠nua local</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  Usando um sistema centralizado de integra√ß√£o cont√≠nua, que ajuda a controlar a qualidade do c√≥digo, testando-o, usando o linter, verificando se h√° vulnerabilidades?  Nesse caso, verifique se os desenvolvedores podem executar este sistema localmente.  Isso permitir√° que eles verifiquem instantaneamente seu c√≥digo, o que acelera o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">feedback</a> e reduz o tempo de desenvolvimento do projeto.  Por que isso √© assim?  Um processo eficaz de desenvolvimento e teste envolve muitas opera√ß√µes repetidas ciclicamente.  O c√≥digo √© testado, o desenvolvedor recebe um relat√≥rio e, se necess√°rio, o c√≥digo √© refatorado, ap√≥s o que tudo √© repetido.  Quanto mais r√°pido o ciclo de feedback funciona, mais rapidamente os desenvolvedores recebem relat√≥rios sobre o teste de c√≥digo, mais itera√ß√µes de aprimoramento desse c√≥digo podem ser executadas.  Se demorar muito tempo para obter um relat√≥rio de teste, isso pode levar √† baixa qualidade do c√≥digo.  Digamos que algu√©m estava trabalhando em algum m√≥dulo, depois come√ßou a trabalhar em outra coisa e, em seguida, recebeu um relat√≥rio sobre o m√≥dulo, indicando que o m√≥dulo precisa ser aprimorado.  No entanto, j√° ocupado com assuntos completamente diferentes, o desenvolvedor n√£o prestar√° aten√ß√£o suficiente ao m√≥dulo do problema. <br><br>  Alguns provedores de solu√ß√µes de IC (digamos que isso se aplica ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CircleCI</a> ) permitem executar o pipeline de CI localmente.  Algumas ferramentas pagas, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wallaby.js</a> (o autor observa que ele n√£o est√° conectado a este projeto), podem obter rapidamente informa√ß√µes valiosas sobre a qualidade do c√≥digo.  Al√©m disso, o desenvolvedor pode simplesmente adicionar o script npm apropriado ao <code>package.json</code> , que executa verifica√ß√µes de qualidade de c√≥digo (testa, analisa com um linter, procura por vulnerabilidades) e at√© usa o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">simult√¢neo</a> para acelerar as verifica√ß√µes.  Agora, para verificar o c√≥digo de forma abrangente, ser√° suficiente executar um √∫nico comando, como <code>npm run quality</code> , e obter imediatamente um relat√≥rio.  Al√©m disso, se os testes de c√≥digo indicarem que h√° problemas, voc√™ poder√° cancelar as confirma√ß√µes usando git hooks (a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">husky</a> pode ser √∫til para resolver esse problema). <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Se um desenvolvedor receber um relat√≥rio sobre a qualidade do c√≥digo um dia ap√≥s escrever esse c√≥digo, √© prov√°vel que esse relat√≥rio se transforme em um documento formal, e os testes de c√≥digo ser√£o separados do trabalho, n√£o se tornando sua parte natural. <br><br><h4>  Abordagem correta </h4><br>  Aqui est√° um script npm que verifica a qualidade do c√≥digo.  A realiza√ß√£o de verifica√ß√µes √© paralelizada.  O script √© executado ao tentar enviar novo c√≥digo para o reposit√≥rio.  Al√©m disso, o desenvolvedor pode inici√°-lo por sua pr√≥pria iniciativa. <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"inspect:sanity-testing"</span></span>: <span class="hljs-string"><span class="hljs-string">"mocha **/**--test.js --grep \"sanity\""</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint ."</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:vulnerabilities"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm audit"</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:license"</span></span>: <span class="hljs-string"><span class="hljs-string">"license-checker --failOn GPLv2"</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:complexity"</span></span>: <span class="hljs-string"><span class="hljs-string">"plato ."</span></span>,     <span class="hljs-string"><span class="hljs-string">"inspect:all"</span></span>: <span class="hljs-string"><span class="hljs-string">"concurrently -c \"bgBlue.bold,bgMagenta.bold,yellow\" \"npm:inspect:quick-testing\" \"npm:inspect:lint\" \"npm:inspect:vulnerabilities\" \"npm:inspect:license\""</span></span> }, <span class="hljs-string"><span class="hljs-string">"husky"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"precommit"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span>,     <span class="hljs-string"><span class="hljs-string">"prepush"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span>   } }</code> </pre> <br><h3>  <font color="#3AC1EF">¬ß24.</font>  <font color="#3AC1EF">Realize testes de ponta a ponta em um espelho realista do ambiente de produ√ß√£o</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  No vasto ecossistema de Kubernetes, ainda existe um consenso em usar ferramentas adequadas para implantar ambientes locais, embora essas ferramentas apare√ßam com bastante frequ√™ncia.  Uma abordagem poss√≠vel aqui √© executar um Kubernetes ‚Äúminimizado‚Äù usando ferramentas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Minikube</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MicroK8s</a> , que permitem criar ambientes leves que se assemelham aos reais.  Outra abordagem √© testar projetos em um ambiente Kubernetes "real" remoto.  Alguns provedores de IC (como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Codefresh</a> ) possibilitam a intera√ß√£o com os ambientes internos do Kubernetes, o que simplifica o trabalho dos pipelines de CI ao testar projetos do mundo real.  Outros permitem que voc√™ trabalhe com ambientes remotos do Kubernetes. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  O uso de v√°rias tecnologias na produ√ß√£o e teste requer o suporte de dois modelos de desenvolvimento e leva √† separa√ß√£o de equipes de programadores e especialistas em DevOps. <br><br><h4>  Abordagem correta </h4><br>  Aqui est√° um exemplo de uma cadeia de ICs, que, como dizem, em tempo real cria um cluster Kubernetes (isso √© obtido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ). <br><br><pre> <code class="javascript hljs">deploy: stage: deploy image: registry.gitlab.com/gitlab-examples/kubernetes-deploy script: - ./configureCluster.sh $KUBE_CA_PEM_FILE $KUBE_URL $KUBE_TOKEN - kubectl create ns $NAMESPACE - kubectl create secret -n $NAMESPACE docker-registry gitlab-registry --docker-server=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY"</span></span> --docker-username=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_USER"</span></span> --docker-password=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_PASSWORD"</span></span> --docker-email=<span class="hljs-string"><span class="hljs-string">"$GITLAB_USER_EMAIL"</span></span> - mkdir .generated - echo <span class="hljs-string"><span class="hljs-string">"$CI_BUILD_REF_NAME-$CI_BUILD_REF"</span></span> - sed -e <span class="hljs-string"><span class="hljs-string">"s/TAG/$CI_BUILD_REF_NAME-$CI_BUILD_REF/g"</span></span> templates/deals.yaml | tee <span class="hljs-string"><span class="hljs-string">".generated/deals.yaml"</span></span> - kubectl apply --namespace $NAMESPACE -f .generated/deals.yaml - kubectl apply --namespace $NAMESPACE -f templates/my-sock-shop.yaml environment: name: test-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-ci</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç25.</font>  <font color="#3AC1EF">Esforce-se para paralelizar a execu√ß√£o do teste</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  Se o sistema de teste estiver bem organizado, ele se tornar√° seu amigo fiel, 24 horas por dia, pronto para relatar problemas com o c√≥digo.  Para fazer isso, os testes devem ser realizados muito rapidamente.  Na pr√°tica, verifica-se que executar 500 testes de unidade no modo de thread √∫nico que usam o processador intensivamente leva muito tempo.  E esses testes precisam ser realizados com bastante frequ√™ncia.  Felizmente, ferramentas modernas para executar testes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AVA</a> , uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">extens√£o para Mocha</a> ) e plataformas de CI podem executar testes em paralelo usando v√°rios processos, o que pode melhorar significativamente a velocidade de recebimento de relat√≥rios de teste.  Algumas plataformas de IC sabem paralelizar testes entre cont√™ineres, o que melhora ainda mais o ciclo de feedback.  Para paralelizar com √™xito a execu√ß√£o de testes, local ou remoto, os testes n√£o devem depender um do outro.  Testes independentes podem ser executados em diferentes processos sem problemas. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Obter resultados do teste uma hora depois de enviar o c√≥digo ao reposit√≥rio enquanto trabalha nos novos recursos do projeto √© uma √≥tima maneira de reduzir a utilidade dos resultados do teste. <br><br><h4>  Abordagem correta </h4><br>  Gra√ßas √† execu√ß√£o paralela de testes, a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mocha-parallel-test</a> e a estrutura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jest</a> ignoram facilmente o Mocha ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">essa √© a</a> fonte dessa informa√ß√£o). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c5f/aa2/e8e/c5faa2e8ee900ae5d3447d510bc1bf8f.png"></div><br>  <i><font color="#999999">Ferramentas de teste de desempenho de teste</font></i> <br><br><h3>  <font color="#3AC1EF">¬ß26.</font>  <font color="#3AC1EF">Proteja-se de quest√µes legais usando a verifica√ß√£o de licen√ßa e verifica√ß√£o de c√≥digo de pl√°gio</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  Talvez agora voc√™ n√£o esteja particularmente preocupado com problemas com a lei e pl√°gio.  No entanto, por que n√£o verificar seu projeto quanto a problemas semelhantes?  Existem muitas ferramentas dispon√≠veis para organizar essas inspe√ß√µes.  Por exemplo, s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">verificadores de licen√ßa e verificadores de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pl√°gio</a> (este √© um pacote comercial, mas existe a possibilidade de seu uso gratuito).  √â f√°cil integrar essas verifica√ß√µes ao pipeline do IC e verificar o projeto, por exemplo, a presen√ßa de depend√™ncias com licen√ßas limitadas ou a presen√ßa de c√≥digo copiado do StackOverflow e provavelmente infringindo os direitos autorais de outra pessoa. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  O desenvolvedor, inadvertidamente, pode usar o pacote com uma licen√ßa que n√£o √© adequada ao seu projeto ou copiar o c√≥digo comercial, o que pode levar a problemas legais. <br><br><h4>  Abordagem correta </h4><br>  Instale o pacote do verificador de licen√ßa localmente ou em um ambiente de IC: <br><br><pre> <code class="javascript hljs">npm install -g license-checker</code> </pre> <br>  Verificaremos as licen√ßas com ele e, se ele encontrar algo que n√£o nos conv√©m, reconheceremos a verifica√ß√£o como malsucedida.  O sistema de CI, ao detectar que algo deu errado durante a verifica√ß√£o das licen√ßas, interromper√° a montagem do projeto. <br><br><pre> <code class="javascript hljs">license-checker --summary --failOn BSD</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/791/cde/326/791cde326f7185df4c78479ef4ab5757.png"></div><br>  <i><font color="#999999">Verifica√ß√£o de licen√ßa</font></i> <br><br><h3>  <font color="#3AC1EF">27.</font>  <font color="#3AC1EF">Verifique constantemente o projeto em busca de depend√™ncias vulner√°veis</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  At√© pacotes altamente respeitados e confi√°veis, como o Express, t√™m vulnerabilidades.  Para identificar essas vulnerabilidades, voc√™ pode usar ferramentas especiais - como a ferramenta padr√£o para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">auditar pacotes npm</a> ou o projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">snyk</a> comercial, que possui uma vers√£o gratuita.  Essas verifica√ß√µes, juntamente com outras, podem fazer parte do pipeline do IC. <br><br><h4>  Consequ√™ncias do desvio das recomenda√ß√µes </h4><br>  Para proteger seu projeto contra vulnerabilidades de suas depend√™ncias sem usar ferramentas especiais, voc√™ precisar√° monitorar constantemente as publica√ß√µes sobre essas vulnerabilidades.  Esta √© uma tarefa que consome muito tempo. <br><br><h4>  Abordagem correta </h4><br>  Aqui est√£o os resultados da verifica√ß√£o do projeto usando o NPM Audit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/da1/3a9/9d5da13a900a066fbc6c15aba2cc0a0d.png"></div><br>  <i><font color="#999999">Relat√≥rio de pacote de verifica√ß√£o de vulnerabilidade</font></i> <br><br><h3>  <font color="#3AC1EF">28.</font>  <font color="#3AC1EF">Automatize atualiza√ß√µes de depend√™ncia</font> </h3><br><h4>  Recomenda√ß√µes </h4><br>  O caminho para o inferno √© pavimentado com boas inten√ß√µes.  Essa ideia √© totalmente aplic√°vel ao <code>package-lock.json</code> , cuja utiliza√ß√£o, por padr√£o, bloqueia as atualiza√ß√µes do pacote.  Isso acontece mesmo nos casos em que os projetos s√£o trazidos a um estado <code>npm install</code> <code>npm update</code> comandos <code>npm install</code> e <code>npm update</code> .  Isso leva, na melhor das hip√≥teses, ao uso de pacotes desatualizados ou, na pior, √† apar√™ncia de c√≥digo vulner√°vel no projeto.  As equipes de desenvolvimento, como resultado, dependem da atualiza√ß√£o manual de informa√ß√µes sobre vers√µes adequadas de pacotes ou de utilit√°rios como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ncu</a> , que, novamente, s√£o iniciados manualmente.  O processo de atualiza√ß√£o de depend√™ncias √© melhor automatizado, concentrando-se no uso das vers√µes mais confi√°veis ‚Äã‚Äãdos pacotes usados ‚Äã‚Äãno projeto.  Essa n√£o √© a √∫nica solu√ß√£o correta, no entanto, ao automatizar as atualiza√ß√µes de pacotes, existem algumas abordagens dignas de nota.  O primeiro √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">injetar</a> algo como verificar pacotes usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm-outdated</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm-check-updates</a> (ncu) no pipeline do IC.  Isso ajudar√° a identificar pacotes obsoletos e incentivar√° os desenvolvedores a atualiz√°-los.  A segunda abordagem √© usar ferramentas comerciais que verificam o c√≥digo e fazem automaticamente solicita√ß√µes pull destinadas a atualizar depend√™ncias.  No campo da atualiza√ß√£o autom√°tica de depend√™ncias, somos confrontados com outra quest√£o interessante sobre a pol√≠tica de atualiza√ß√£o.  Se atualizada com cada novo patch, a atualiza√ß√£o pode colocar muito estresse no sistema.  Se voc√™ atualizar imediatamente ap√≥s o lan√ßamento da pr√≥xima vers√£o principal do pacote, isso poder√° levar ao uso de solu√ß√µes inst√°veis ‚Äã‚Äãno projeto (vulnerabilidades em muitos pacotes s√£o encontradas exatamente nos primeiros dias ap√≥s o lan√ßamento, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">leia</a> sobre o incidente com o escopo do eslint).         ¬´ ¬ª,             ,    . ,      1.3.1,             1.3.2,      1.3.8. <br><br><h4>     </h4><br>       ,    ,        ,     . <br><br><h4>   </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ncu</a>     ,   ,   ,       . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6e/b2a/dcf/e6eb2adcf8720657a4e5c09c34691704.png"></div><br> <i><font color="#999999">   ncu</font></i> <br><br><h3> <font color="#3AC1EF">‚ñç29.        ,     Node.js</font> </h3><br><h4>  </h4><br>       ,     Node.js-,     ,   Node.js  . <br><br><ol><li>   .     ‚Äî   , , ,    Jenkins      . </li><li>  ,  Docker. </li><li>       . ,    ,      .    (,    ),       , ,  ,     . </li><li>   ,    ,      ,    .  ‚Äî   ,    ,   ,      . </li><li>     ,     . ,          feature,    ‚Äî   master, ,                 (   ). </li><li>        .        ,    . </li><li>     . </li><li>         (,     Docker)  . </li><li>     , ,  ,  . ,        <code>node_modules</code> . </li></ol><br><h4>     </h4><br>      ,     ,     . <br><br><h3> <font color="#3AC1EF">‚ñç30.    </font> </h3><br><h4>  </h4><br>      ,      .     ,      , ,    Node.js    ,            .  CI-,    ,    ¬´ ¬ª. ,      ,    ,   . , ,      mySQL,   ‚Äî Postgres.   ,        Node.js,  ‚Äî 8, 9  10.          ,     .     CI-. <br><br><h4>     </h4><br>         ,     ,    ,      . ,  ,     . <br><br><h4>   </h4><br>    CI- Travis        Node.js. <br><br><pre> <code class="javascript hljs">language: node_js node_js: - <span class="hljs-string"><span class="hljs-string">"7"</span></span> - <span class="hljs-string"><span class="hljs-string">"6"</span></span> - <span class="hljs-string"><span class="hljs-string">"5"</span></span> - <span class="hljs-string"><span class="hljs-string">"4"</span></span> install: - npm install script: - npm run test</code> </pre> <br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>      ,    ,       . ,   ,     . <br><br>  <b>Caros leitores!</b>      ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435464/">https://habr.com/ru/post/pt435464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435452/index.html">Teste de ponta a ponta de microsservi√ßos com o Catcher</a></li>
<li><a href="../pt435454/index.html">AOP vs Recursos</a></li>
<li><a href="../pt435456/index.html">√â prejudicial deixar um smartphone ao seu lado √† noite?</a></li>
<li><a href="../pt435460/index.html">Excurs√£o fotogr√°fica Coworkidea Coworking (Barcelona)</a></li>
<li><a href="../pt435462/index.html">Testando projetos Node.js. Parte 1. Anatomia e tipos de teste</a></li>
<li><a href="../pt435466/index.html">Tutorial Reagir Parte 6: Alguns recursos do curso, JSX e JavaScript</a></li>
<li><a href="../pt435468/index.html">Tutorial Reagir Parte 7: Estilos embutidos</a></li>
<li><a href="../pt435470/index.html">Tutorial React, Parte 8: Continuando o trabalho em um aplicativo TODO, apresentando propriedades de componentes</a></li>
<li><a href="../pt435476/index.html">Mkcert: certificados HTTPS v√°lidos para localhost</a></li>
<li><a href="../pt435480/index.html">Microsoft e Kroger v√£o dar √† Amazon uma briga no campo ... com√©rcio de alimentos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>