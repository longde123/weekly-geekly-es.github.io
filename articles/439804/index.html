<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèª üè© üßë Zen de pruebas unitarias üë®üèº‚Äçüîß üçÅ üòõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La capacidad de escribir buenas pruebas unitarias es una caracter√≠stica importante de cualquier desarrollador. ¬øPero c√≥mo entender que las pruebas uni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen de pruebas unitarias</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439804/"><p><img src="https://habrastorage.org/webt/ih/ya/u6/ihyau61ji5s6cgg7f91-grwhr84.png"></p><br><p> La capacidad de escribir buenas pruebas unitarias es una caracter√≠stica importante de cualquier desarrollador.  ¬øPero c√≥mo entender que las pruebas unitarias son correctas?  Una buena prueba de unidad es como un buen juego de ajedrez.  En nuestro caso, los ajedrecistas son los enfoques que vamos a discutir en esta publicaci√≥n.  No hay mejor <em>jugador de</em> ajedrez en un juego de ajedrez porque todo depende de las posiciones <em>(y un jugador)</em> .  Del mismo modo, en las pruebas unitarias no tiene que distinguir un solo enfoque.  En otras palabras, debe usar todos los enfoques juntos para obtener el mejor resultado.  Entonces, si quieres ganar este juego, entonces bienvenido debajo del corte. </p><a name="habracut"></a><br><h2 id="dbut">  Debut </h2><br><h3 id="why-should-i-write-unit-tests">  ¬øPor qu√© debo escribir pruebas unitarias? </h3><br><p>  No tiene que escribir pruebas unitarias a menos que sea una persona con percepci√≥n extrasensorial que pueda escribir c√≥digo sin errores, tenga s√∫per memoria, pueda compilar su c√≥digo en su cabeza o simplemente le guste el dolor.  De lo contrario, definitivamente tiene que escribir pruebas unitarias, ya que disminuyen el recuento de errores en las caracter√≠sticas nuevas y existentes, reducen el costo y el miedo a cambiar sus caracter√≠sticas y permiten refactorizar su c√≥digo.  Adem√°s, siempre debe ejecutar las pruebas existentes y le recomiendo que preste atenci√≥n a las herramientas de prueba continua. </p><br><h3 id="what-to-test">  ¬øQu√© probar? </h3><br><p>  Obviamente, en la prueba de unidad est√° probando el comportamiento de alguna unidad separada <em>(no invocaciones, porque pueden cambiarse m√°s adelante)</em> .  Adem√°s, establezca como norma cubrir con pruebas unitarias todos los errores que haya encontrado para probar que est√°n solucionados.  ¬øQu√© pasa con la cobertura del c√≥digo?  La cobertura del c√≥digo no es un objetivo, es solo una medida que lo ayuda a comprender qu√© parte de la l√≥gica olvid√≥ cubrir con las pruebas unitarias.  Ser√≠a un gran error cuando decide cubrir cada l√≠nea de c√≥digo con pruebas unitarias. </p><br><h2 id="mittelspiel">  Mittelspiel </h2><br><h3 id="test-only-one-thing">  Prueba solo una cosa </h3><br><p>  No confunda las pruebas unitarias con las pruebas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">integraci√≥n</a> en las que probar m√°s de una cosa es normal.  La idea de las pruebas unitarias es demostrar que un m√≥dulo de aplicaci√≥n separado funciona o no.  Debe comprender f√°cilmente y con certeza qu√© comportamiento en su c√≥digo falla y c√≥mo solucionarlo.  <strong>¬øCu√°ntas afirmaciones debes usar?</strong>  <strong>Uno!</strong>  El uso de muchas afirmaciones puede ser el olor del c√≥digo que est√° probando en m√°s de una cosa.  Adem√°s, existe la posibilidad de que alguien pueda agregar una nueva afirmaci√≥n a su prueba en lugar de escribir otra.  ¬øY c√≥mo puedes entender c√≥mo se completaron tus otras afirmaciones cuando fall√≥ la primera? </p><br><h3 id="avoid-logic">  Evitar la l√≥gica </h3><br><p> Los errores en las pruebas son las cosas m√°s dif√≠ciles de encontrar para los desarrolladores.  La posibilidad de obtener un error en su c√≥digo de prueba aumenta a medida que decide agregar l√≥gica a su prueba.  Se hace m√°s dif√≠cil de leer, comprender y mantener.  Usar <code>for</code> , <code>foreach</code> , <code>if</code> , <code>switch</code> y otros operadores en una prueba tambi√©n puede ser un olor a c√≥digo que est√° probando m√°s de una cosa. </p><br><h3 id="aaa">  AAA </h3><br><p>  <strong>Arrange, Act, Assert</strong> es un patr√≥n de uso com√∫n que ayuda a organizar su c√≥digo de prueba en tres fases en consecuencia.  Claramente separa lo que se est√° probando de los pasos de configuraci√≥n y verificaci√≥n.  Esta es una de las mejores pr√°cticas y hace que su c√≥digo de prueba sea m√°s f√°cil de leer y mantener.  Dicho esto, no use <strong>comentarios</strong> AAA en sus pruebas si desea mantener su c√≥digo limpio y legible.  La prueba creada de manera competente expresa la idea AAA incluso sin comentarios. </p><br><h3 id="stick-to-the-naming-convention">  Seguir con la convenci√≥n de nomenclatura </h3><br><p>  Los nombres de las pruebas deben ser descriptivos y comprensibles, no solo para su autor.  Hay muchas estrategias de nombres de prueba, pero me gusta la de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Roy Osherove</a> : <code>[MethodName_StateUnderTest_ExpectedBehavior]</code> .  Tiene toda la informaci√≥n necesaria sobre la prueba en forma formateada.  Es f√°cil seguir esta estrategia para cualquier desarrollador. </p><br><p>  Ejemplos: </p><br><pre> <code class="plaintext hljs">public void Sum_NegativeNumberAs2ndParam_ExceptionThrown () public void Sum_simpleValues_Calculated () public void Parse_OnEmptyString_ExceptionThrown() public void Parse_SingleToken_ReturnsEqualTokenValue ()</code> </pre> <br><p>  Pero tenga en cuenta que puede tener una convenci√≥n de nomenclatura que debe seguir en su proyecto actual.  No los mezcles. </p><br><h3 id="test-data-preparation">  Preparaci√≥n de datos de prueba </h3><br><p>  La construcci√≥n de datos de prueba puede generar desorden y sufrimiento en su c√≥digo de prueba.  Puede enfrentar esta situaci√≥n cuando: </p><br><ul><li>  tiene que cambiar el constructor de su modelo en cada parte del c√≥digo donde se crea este modelo <em>(esto generalmente ocurre cuando su modelo es inmutable)</em> ; </li><li>  tiene muchos duplicados de c√≥digo al construir sus datos de prueba; </li><li>  debe pasar una gran cantidad de "datos m√°gicos" en el constructor de su modelo <em>(por ejemplo, <code>new Device("Stub", 10, true, "http");</code> )</em> ; </li><li>  tiene la sensaci√≥n de que necesita crear una especie de generador de datos aleatorio; </li><li>  es dif√≠cil para usted crear colecciones de datos de pruebas. </li></ul><br><p>  Con esto en mente, debe considerar algunas alternativas comunes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Madre de objeto</a> y [Patr√≥n de construcci√≥n fluido].  Estos enfoques tambi√©n son buenos jugadores de equipo, por lo que pueden usarlos juntos. </p><br><p>  No use datos aleatorios, porque su prueba puede ser sensible a alg√∫n tipo de valores.  Como resultado, puede obtener un mal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">heisenbug</a> en su prueba que es dif√≠cil de encontrar y reproducir. </p><br><h3 id="learn-your-testing-framework">  Aprenda su marco de prueba </h3><br><p>  Aprenda todos los atributos, aserciones y otras caracter√≠sticas de su marco de prueba.  Le ayuda a hacer que sus pruebas sean m√°s legibles y elegantes.  Por ejemplo, en el marco de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NUnit</a> puede usar dos modelos de aserciones y puede elegir el que m√°s le guste: </p><br><pre> <code class="plaintext hljs">Assert.AreEqual(StatusCode.OK, response.StatusCode);</code> </pre> <br><p>  o </p><br><pre> <code class="plaintext hljs">Assert.That(StatusCode.OK, Is.EqualTo(response.StatusCode));</code> </pre> <br><p>  No se olvide de los m√©todos de configuraci√≥n y desmontaje, los atributos de TestCase y Category, las afirmaciones de colecci√≥n.  No confunda los par√°metros de resultados esperados y reales en las aserciones. </p><br><h2 id="endspiel">  Endspiel </h2><br><p>  Su c√≥digo de prueba tiene el mismo privilegio que su c√≥digo de producci√≥n que debe escribir y mantener, no se olvide de los principios SOLID.  Adem√°s, sus pruebas unitarias deben ser legibles y hay varias razones por las cuales.  En primer lugar, la intenci√≥n de sus pruebas debe ser comprensible y clara.  Significa que no tiene que perder el tiempo mientras lee sus ex√°menes.  En segundo lugar, deber√≠a ser f√°cil mantener sus pruebas, detectar y eliminar problemas sin depurar. </p><br><p>  Las pruebas unitarias son una filosof√≠a enorme que no se puede discutir solo en una publicaci√≥n.  Aqu√≠ expliqu√© enfoques comunes y preguntas frecuentes relacionadas con las pruebas unitarias.  Si desea profundizar m√°s, puede encontrar interesantes estos enlaces: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Blog de Roy Osherove</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Libro de Roy Osherove, "El arte de las pruebas unitarias"</a> </p><br><blockquote>  Mant√©n la calma y prueba unitaria </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439804/">https://habr.com/ru/post/439804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439788/index.html">Otras rarezas en los algoritmos GOST Grasshopper y Stribog</a></li>
<li><a href="../439790/index.html">Prueba de JaCarta WebClient o almacenar tokens en una caja fuerte</a></li>
<li><a href="../439792/index.html">La NASA est√° buscando socios en la industria estadounidense para crear un aterrizaje tripulado parcialmente reutilizable</a></li>
<li><a href="../439794/index.html">Dolor de espalda: comprensi√≥n desde la perspectiva de la medicina moderna</a></li>
<li><a href="../439796/index.html">Spring Boot 2: lo que no escriben en las notas de la versi√≥n</a></li>
<li><a href="../439806/index.html">Nombres de dominio SSL v√°lidos para contenedores Docker locales</a></li>
<li><a href="../439808/index.html">Los telescopios m√°s grandes. Desde notebook y ojos hasta c√°maras de 340 megap√≠xeles y centros de datos. Parte 1</a></li>
<li><a href="../439810/index.html">Conozca el marco de microservicios de Moleculer</a></li>
<li><a href="../439812/index.html">Enfoques de Kaggle para CV en prod: no puede implementar para cortar</a></li>
<li><a href="../439818/index.html">Caracter√≠sticas de los enfoques de dise√±o en el sector de fabricaci√≥n real.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>