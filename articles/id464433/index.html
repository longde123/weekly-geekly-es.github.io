<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨 👰🏼 ♏️ Platform Pengujian Cloud Mobile ㊗️ ⚾️ 💾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dan sekarang saatnya telah tiba ketika kebutuhan pengujian kami telah menjadi penuh sesak di desktop penguji. Jiwa bertanya ke awan. Tidak juga. Tidak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Platform Pengujian Cloud Mobile</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464433/"><p>  Dan sekarang saatnya telah tiba ketika kebutuhan pengujian kami telah menjadi penuh sesak di desktop penguji.  Jiwa bertanya ke awan.  Tidak juga.  Tidak juga. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/2o/7s/ww/2o7swwlml3ipcdpgc8qzmkyfdja.jpeg"></div><a name="habracut"></a><br><h1>  Tujuan dan sasaran kami </h1><br><p>  <i>(Bergegas pembaca, Anda dapat berakhir pada bagian berikutnya)</i> </p><br><p>  Kami sedang mengembangkan aplikasi keuangan untuk pasar luar negeri, yang tersedia dalam berbagai format: untuk browser desktop (situs web dan ekstensi untuk Google Chrome), untuk browser seluler, serta aplikasi hybrid untuk ponsel.  Karena kekhasan aplikasi, kami memberikan perhatian khusus untuk menguji aplikasi pada berbagai konfigurasi dan perangkat.  Bagi kami, operasi aplikasi yang stabil dan aman itu penting baik pada browser desktop klien kami maupun pada perangkat apa pun mereka. </p><br><p>  Alasan untuk menemukan ladang perangkat berbasis cloud untuk pengujian bagi kami adalah perubahan dalam format pekerjaan dari kantor menjadi sepenuhnya jauh dan didistribusikan (antara kota dan negara).  Artinya, jika sebelumnya untuk pengujian kita bisa merakit berbagai perangkat dalam banyak (secara harfiah) dan secara manual menguji perakitan berikutnya dalam satu tabel pada saat yang sama, sekarang menjadi mustahil untuk melakukan ini.  Selain itu, dengan pertumbuhan fungsionalitas, untuk mengurangi pekerjaan manual, kami mengotomatiskan set regresi dari tes penting, yang berarti bahwa setelah perakitan kita harus dapat memanggil tes pada konfigurasi dan perangkat yang diinginkan, dan lebih baik untuk melakukan ini segera setelah perakitan berguling ke pementasan. </p><br><p>  Dalam hal ini, solusi paling sederhana dan paling jelas adalah menggunakan emulator untuk Android dan simulator untuk perangkat iOS dalam pipa DevOps kami.  Namun, yang relatif mudah diimplementasikan pada komputer yang berfungsi pengembang, itu menjadi tugas yang sulit dan mahal untuk digunakan di cloud.  Agar emulator Android yang sama berfungsi cepat, server x86 dengan dukungan HAXVM diperlukan, dan untuk simulator iOS, hanya perangkat MacOS dengan xcode yang diperlukan.  Tapi, sayangnya, bahkan setelah menyelesaikan masalah ini, pertanyaannya tetap dengan kesenjangan antara perilaku perangkat lunak pada emulator dan perangkat nyata.  Sebagai contoh, setiap rilis kedua kami menangkap bug aneh pada perangkat Samsung yang tidak dapat diputar pada emulator.  Yah, dan, tentu saja, "kesenangan" Cina langka yang eksotis dengan keunikan dan bug yang ingin saya tangkap pada tahap pengembangan. </p><br><p>  Sebagai hasilnya, kami memiliki pemahaman tentang perlunya menggunakan cloud farm perangkat mobile, di mana kami dapat dengan cepat menjalankan pengujian kami dan, jika perlu, melakukan debug secara manual.  Dan yang seluruh tim kami akan memiliki akses dari mana saja di dunia (kami senang bekerja bahkan ketika bepergian). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tk/mv/-3/tkmv-3efjgaskkz1tbveeo0rh-4.jpeg"></div><br><p>  Pengujian kami ditulis dalam Python 3.7 (ini akan menjadi penting nanti), karena tumpukan kami menggunakan tox + pytest + Selenium + Appium, well, satu set kecil perpustakaan python yang berguna.  Kami pasti akan menguji mesin pada Windows dan MacOS dengan Edge, Firefox, Chrome, browser Safari, serta perangkat Android dan iOS dengan browser dan aplikasi.  Kami tidak memiliki banyak tes untuk setiap perangkat (kurang dari seribu), tetapi saat menguji dalam satu utas pada perangkat, set lengkap membutuhkan beberapa jam.  Oleh karena itu, kriteria untuk memilih layanan bagi kami adalah: </p><br><ul><li>  Pengujian API (Selenium / Appium) </li><li>  IOS, perangkat Android </li><li>  Mendukung pengujian peramban seluler </li><li>  Dukungan untuk mengunduh dan menguji aplikasi </li><li>  Perangkat referensi (GooglePixel (Android 9) dan iPhone X (iOS 12+)) </li><li>  Debugging manual </li><li>  Logging (plus tangkapan layar, merekam video berjalan) </li><li>  Device Park dan Ketersediaan </li><li>  Waktu tunggu pengujian rata-rata </li><li>  Harga </li></ul><br><p>  Diinginkan, tetapi tidak perlu: </p><br><ul><li>  Dukungan python tingkat layanan (apa pun artinya) </li><li>  Dukungan untuk perangkat desktop \ browser </li></ul><br><h1>  Hasil riset pasar </h1><br><p>  Selama seminggu saya menjelajahi Internet dan mencoba berbagai layanan.  Sebagian besar dari mereka menyediakan waktu luang untuk menguji peluang.  Hasil penelitian saya, semakin banyak kesimpulan bersifat subyektif.  Pendapat dan hasil Anda mungkin berbeda dari saya. </p><br><p>  Di Habré saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel untuk 2017 yang</a> didedikasikan untuk topik yang sama, tetapi sejak itu layanan baru telah muncul, dan tugas kami sedikit lebih ketat.  Jadi, misalnya, layanan "enak" seperti Samsung Remote Test Lab, Firebase Test Lab, Xamarin Test Cloud, sayangnya, tidak cocok untuk kita. </p><br><h2>  Keluar dari game </h2><br><h3>  Samsung Remote Test Lab </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hd/jg/ky/hdjgkycr6wiajxi8ucwp6spgasa.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Layanan ini memberikan peluang gratis untuk mencoba bekerja dengan berbagai perangkat Samsung, termasuk yang terbaru, termasuk TV atau jam tangan pintar di Tizen (batasan maksimum 10 jam per hari, per hari layanan ini memberikan 10 kredit gratis, yang setara dengan 2,5 jam per hari , sesi minimum adalah setengah jam (2 sks)).  Ini sangat baik untuk debugging dan menemukan akar penyebab kesalahan pada perangkat tertentu, layanan ini bahkan menyediakan akses ke debugging jarak jauh (jembatan debug jarak jauh, akses ke konsol dan log sistem), tetapi, sayangnya, layanan ini tidak menyediakan akses API ke perangkat.  Satu-satunya cara untuk "mengotomatisasi" adalah merekam tindakan pengguna dan kemudian memutarnya kembali di alat otomatisasi lokal Anda. </p><br><h3>  Laboratorium uji Firebase </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/4r/t0/ix4rt0ohclapstllgnbyl5726qm.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Layanan dari Google memungkinkan Anda untuk menguji aplikasi Anda di perangkat yang menjalankan Android dan iOS secara gratis (tidak cukup).  Tetapi ada satu peringatan - layanan ini membutuhkan penggunaan alat otomasi asli (UIAtomator2 dan Espresso untuk Android dan XCTest untuk iOS), atau menggunakan spider otomatis (perayap) untuk Android - Robo Test dan Game Loop Test.  Artinya, menggunakan UIAutomator dan Selenium sayangnya, tidak akan berfungsi.  Adapun gratis - paket gratis dibatasi hingga 10 tes pada emulator dan lima pada perangkat nyata per hari.  Jika Anda membutuhkan lebih banyak, maka untuk setiap jam tambahan Anda harus membayar $ 1 dan $ 5 masing-masing.  Secara umum, untuk tugas-tugas kami, ini akan menjadi pilihan yang baik jika kami menulis tes dari awal, tetapi saya tidak merasa ingin mengerjakan ulang beberapa ratus tes sama sekali - ini hanya mahal.  Dan ternyata kami harus sangat berbeda dalam pengujian antara versi desktop dan seluler, yang akan sangat menyulitkan dukungan. </p><br><h3>  Pusat aplikasi Visual Studio </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3g/_o/pr/3g_oprmudubtaulwkgqjahqot74.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Mantan Cloud Tes Xamarin.  Layanan ini akhirnya mendukung Appium dan memungkinkan pengujian pada ribuan perangkat yang berbeda.  Tetapi, seperti dalam kasus dengan produk Microsoft lainnya, itu dipaku dengan kuat ke tumpukan asli, yang berarti bahwa untuk menggunakan layanan ini Anda akan memerlukan kehadiran VisualStudio dan persyaratan untuk menulis proyek dan tes secara eksklusif di Jawa.  Tetapi jika Anda tiba-tiba memiliki tumpukan Java (dengan MS VS), maka harganya adalah $ 99 per slot perangkat per bulan, yang relatif liberal. </p><br><h2>  Layanan untuk dipilih </h2><br><h3>  Farm Perangkat AWS </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/pb/r9/znpbr9hu4dkgiqjcwoudrviaid8.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Mungkin peternakan paling kuat untuk pengujian pada perangkat virtual dan nyata saat ini (lebih dari 2500 perangkat).  Bagi kami, ini adalah layanan prioritas, karena layanan kami hanya dikerahkan di cloud AWS, di samping itu, harga per menit perangkat mulai dari 17 sen.  AWS memungkinkan Anda untuk bekerja dengan kerangka kerja asli serta dengan Appium, Calabash, dan kerangka kerja pengujian otomatis lainnya.  Selain pengujian otomatis, layanan ini menyediakan kemampuan untuk debug secara manual.  Ya, 1000 menit "untuk mencoba" sangat menggoda.  Namun, iblis, seperti biasa, ada dalam perinciannya.  Dalam hal pengujian, AWS memiliki beberapa fitur. </p><br><p>  Kami, seperti yang telah saya sebutkan, menggunakan Python 3.7, namun AWS Device Farm masih bekerja dengan Python 2.7.6 (lihat manual di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ).  Dan di luar kotak tidak tahu apa-apa tentang racun.  Bagi kami, ini berarti tidak adanya sejumlah kemampuan dan kebutuhan untuk memproses bagian dari pengujian untuk memastikan kompatibilitas ke belakang, dan menciptakan lingkungan yang memintas racun.  Selain itu, mekanisme yang agak aneh untuk mengunduh paket pengujian (arsip) juga menyiratkan mengunduh aplikasi untuk pengujian.  Dalam kasus kami, jika kami menguji layanan kami melalui browser seluler, maka mengunduh aplikasi adalah langkah tambahan.  Namun, Anda dapat mengganti aplikasi dengan "rintisan", dan membuat venv dengan Python 3.7 di lingkungan Python 2.7, dan kemudian membuat lingkungan dengan racun di dalamnya, yang ... </p><br><div style="text-align:center;"><img src="https://i.gifer.com/embedded/download/S5u.gif"></div><br><p>  Amazon tidak akan menjadi Amazon jika semuanya bertumpu pada versi lama.  Sebagai alternatif (dan tidak ada layanan yang memiliki kesempatan di bawah ini) AWS menyarankan menggunakan AWS Device Farm melalui AWS CLI (antarmuka baris perintah) (lihat manual di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ).  Artinya, kita dapat menghubungkan perangkat dari cloud sebagai perangkat nyata ke komputer kita dalam mode debug jarak jauh, namun, setelah sebelumnya mengganti adb dengan yang ditambal (tidak ada biner untuk linux dalam daftar binari, tapi saya yakin itu ada di alam).  Yaitu, menyiapkan AWS CLI, untuk pengujian kami perlu menjalankan hanya beberapa perintah (karena kami tidak akan menggunakan GUI sebagai AWS Device Farm App). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ka/ln/tv/kalntvkkefpkcemawikixglisfq.jpeg"></div><br><div class="spoiler">  <b class="spoiler_title">Contoh kode</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> boto3 <span class="hljs-comment"><span class="hljs-comment">#  AWS SDK https://pypi.org/project/boto3/ aws_client = boto3.client('devicefarm') response = aws_client.list_devices() #     device_arn = '' for phone in response["devices"]: if phone['name'] == "Google Pixel XL": #      (  ) device_arn = phone['arn'] #   Amazon Resource Name break project_arn = aws_client.list_projects()['projects'][0]['arn'] #        #      ,    SSH    response = aws_client.create_remote_access_session(projectArn=project_arn, deviceArn=device_arn, remoteDebugEnabled=True, ssh-public-key=SSH_KEY) #     adb devices     uuid Google Pixel XL  AWS Device Farm,   iOS #     ... RUN_TESTS() ... #    ( )    aws_client.stop-remote-access-session(arn=response['remoteAccessSession']['arn']) aws_client.delete_remote_access_session(arn=response['remoteAccessSession']['arn'])</span></span></code> </pre> </div></div><br><p>  Jika kita ingin menguji aplikasi, itu juga dapat diunduh melalui AWS SDK. </p><br><p>  Tapi saya tidak memberi nuansa kunci di sini.  Kami menemukan iblis lagi secara detail.  Faktanya adalah bahwa opsi debugging jarak jauh hanya tersedia jika kita menggunakan paket Perangkat Pribadi untuk AWS.  Pertama, fitur ini hanya tersedia atas permintaan (Anda perlu menulis surat ke Amazon), kedua, opsi tersedia untuk wilayah us-west-2, dan ketiga, pada kenyataannya, opsi ini mengembalikan kami ke skenario ketika kami memiliki server untuk menguji dengan satu set (atau setidaknya satu) perangkat yang terhubung dengannya.  Keuntungannya jelas - kita dapat menggunakan perangkat ini secara eksklusif, yang jelas lebih aman dan lebih cepat, di sisi lain, kita kehilangan keunggulan utama - pilihan dan beragam perangkat. </p><br><p>  Saya menyukai layanan ini secara keseluruhan, tetapi untuk tim kami, sayangnya, ada terlalu banyak "tapi" di dalamnya. </p><br><h3>  Bitbar </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/gg/lp/5agglpijttxv29qnnlrgr12ksgu.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Farm mobile berbasis cloud ini adalah yang pertama jatuh di mesin pencari.  Dan tidak sia-sia.  Ke depan, saya akan mengatakan bahwa layanan ini memiliki pilihan perangkat terbaik (hanya perangkat nyata) dan kinerja terbaik dalam satu tes dibandingkan dengan yang lain.  Bitbar menawarkan layanan pengujian manual dan otomatis jarak jauh (menggunakan Appium dan kerangka kerja lainnya), dan juga, jika diinginkan, memungkinkan Anda untuk menggunakan sesuatu yang mirip dengan perayap dari Firebase Test Lab (Robot Test) - AI TestBot.  Keuntungan utama BitBar adalah jumlah utas pengujian yang tidak terbatas (yaitu, Anda dapat segera menguji aplikasi Anda pada ratusan perangkat) dengan memilih kumpulan perangkat yang diperlukan terlebih dahulu.  Jika perangkat sibuk, yang lain akan dipilih sama, atau sesi akan antri.  Pada akhir uji coba, log dihasilkan, catatan uji, hasilnya disimpan, dan pemberitahuan dikirim ke pos.  Meskipun ada peluang untuk mengkonfigurasi interaksi dengan alat CI / CD yang berbeda.  Layanan ini juga menyediakan kemampuan untuk menguji browser desktop dalam resolusi yang berbeda, dan jika diinginkan, buat, seperti pada AWS, perangkat pribadi Anda.  Benar, Anda perlu membayar untuk semua chip ini - setiap menit pengujian akan dikenakan biaya $ 0,29. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oq/te/_v/oqte_v0jovfktqprbfpjzyt6kbw.jpeg"></div><br><p>  Proses pengaturannya sederhana, seperti interaksi dua jari dengan aspal: </p><br><div class="spoiler">  <b class="spoiler_title">Contoh kode</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://appium.bitbar.com/wd/hub'</span></span> desired_capabilities = { <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Motorola Google Nexus 6'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceId'</span></span>: <span class="hljs-string"><span class="hljs-string">'FA7AN1A00253'</span></span>, <span class="hljs-string"><span class="hljs-string">'newCommandTimeout'</span></span>: <span class="hljs-number"><span class="hljs-number">12000</span></span>, <span class="hljs-string"><span class="hljs-string">'browserName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Chrome'</span></span>, <span class="hljs-comment"><span class="hljs-comment">#     Chrome,    app 'bitbar_apiKey': 'BITBAR_API_KEY', 'bitbar_project': 'Software Testing', 'bitbar_testrun': 'Test run #N', 'bitbar_device': 'Motorola Google Nexus 6', 'bitbar_app': '23425235' } driver = webdriver.Remote(com_executor, desired_capabilities) """ ... """</span></span></code> </pre></div></div><br><h3>  Kobiton </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pm/jx/7z/pmjx7zlxb9om476zsp_qd24tqb0.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Layanan lain yang menyediakan layanan pengujian pada perangkat nyata.  Pilihan perangkat lebih sederhana daripada Bitbar (350+), ketersediaan perangkat juga lebih sedikit.  Secara umum, ini sangat mirip dalam fungsi dasarnya dengan BitBar, memungkinkan pengujian manual dan otomatis (menggunakan Appium - di sini tanpa memilih kerangka kerja).  Tidak ada cara untuk menguji pada browser desktop.  Layanan ini juga memungkinkan Anda untuk mengatur pengujian dengan jumlah sesi dan perangkat yang tidak terbatas, tetapi Anda tidak dapat membuat kumpulan perangkat di sini.  Harga layanan ini sangat liberal - dari $ 0,10 per menit pengujian tambahan, tetapi selama masa percobaan saya perhatikan beberapa ketidakstabilan layanan - Internet sering jatuh pada perangkat, setelah perangkat digantung.  Juga, jika perangkat sibuk atau dicadangkan, maka semua tes Anda yang berjalan akan gagal.  Artinya, tidak seperti Bitbar, tidak ada antrian dari sesi.  Benar, ini dapat diatur dengan biaya rendah.  Kobiton memiliki API kecilnya sendiri. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/8n/p9/0b8np9ceky_s0e2schcgitmgi4w.jpeg"></div><br><p>  Pengaturannya juga sangat sederhana, tidak seperti bitbar, hampir Appium asli. </p><br><div class="spoiler">  <b class="spoiler_title">Contoh kode</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sleep <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> <span class="hljs-comment"><span class="hljs-comment">#  base64EncodedBasicAuth = base64.b64encode(bytes(f'{USERNAME}:{API_KEY}', 'utf-8')) headers = { 'Authorization': f'Basic {base64EncodedBasicAuth}' } reply = requests.get(f'https://api.kobiton.com/v1/apps', params={ }, headers = headers) #     deviceId headers = { 'Authorization': base64EncodedBasicAuth, 'Accept': 'application/json' } reply = requests.get(f'https://api.kobiton.com/v1/devices/{deviceId}/status', params={ }, headers = headers) #   ,      while (reply['isOnline'] == False or reply['isBooked'] == True): sleep(60) #   com_executor = f'https://{USERNAME}:{API_KEY}@api.kobiton.com/wd/hub' desired_capabilities = { 'browserName': 'Chrome', # The generated session will be visible to you only. 'sessionName': 'Automation test session', 'sessionDescription': '', 'deviceOrientation': 'portrait', 'captureScreenshots': True, 'deviceGroup': 'KOBITON', # For deviceName, platformVersion Kobiton supports wildcard # character *, with 3 formats: *text, text* and *text* # If there is no *, Kobiton will match the exact text provided 'deviceName': 'Pixel 2', 'platformName': 'Android', 'platformVersion': '9' } driver = webdriver.Remote(com_executor, desired_capabilities) """ ... """ #   RUN_TESTS() """ ... """ #       ,     (   ) headers = { 'Authorization': {base64EncodedBasicAuth} } requests.delete(f'https://api.kobiton.com/v1/sessions/{sessionId}/terminate', params={ }) """ ... """</span></span></code> </pre></div></div><br><h3>  Browserstack </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ug/zt/ed/ugztedawkg6ed9okmi1htaactgc.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  BrowserStack tua yang bagus.  Banyak hal yang ditulis tentang dia dan banyak yang menggunakannya.  Ya, ini memungkinkan pengujian tidak hanya pada browser yang berbeda, tetapi juga pada perangkat yang berbeda.  Baik dalam mode manual dan menggunakan Selenium / Appium.  Bergantung pada kebutuhan Anda - pada browser seluler atau menggunakan aplikasi Anda.  Dalam hal kemampuan, semuanya sama dengan dua layanan di atas, tetapi tidak seperti mereka, sudah ada batasan jumlah sesi simultan.  Benar, sebaliknya, bayar $ 199 per bulan dan uji waktu tidak terbatas.  Ada plugin untuk Jenkins, Travis CI, TeamCity, API yang kaya, log yang sangat baik, dan banyak pilihan perangkat dan browser desktop pada konfigurasi yang berbeda.  Benar, tergantung pada apa yang Anda uji, pengaturan akan bervariasi - untuk browser pengujian (bahkan yang mobile) hub Selenium digunakan, dan untuk aplikasi - hub Appium.  Selain itu, untuk menguji aplikasi Anda harus membayar secara terpisah.  Untuk menguji kedua browser dan aplikasi seluler, Anda harus membayar $ 199 dan $ 159 (harga untuk satu perangkat untuk pengujian pada saat yang bersamaan). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xi/xv/zz/xixvzzad9ae94ktoao0yzkodra8.png"></div><br><div class="spoiler">  <b class="spoiler_title">Kode Sampel untuk Aplikasi</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://USERNAME:API_KEY@hub-cloud.browserstack.com/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">'device'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'app'</span></span>: app_name, <span class="hljs-string"><span class="hljs-string">'realMobile'</span></span>: <span class="hljs-string"><span class="hljs-string">'true'</span></span>, <span class="hljs-string"><span class="hljs-string">'os_version'</span></span>: <span class="hljs-string"><span class="hljs-string">'8.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Bstack-[Python] Sample Test'</span></span> } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Kode sampel untuk peramban seluler</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'http://USERNAME:API_KEY@hub.browserstack.com:80/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">'device'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'browserName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Chrome'</span></span>, <span class="hljs-string"><span class="hljs-string">'realMobile'</span></span>: <span class="hljs-string"><span class="hljs-string">'true'</span></span>, <span class="hljs-string"><span class="hljs-string">'os_version'</span></span>: <span class="hljs-string"><span class="hljs-string">'8.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Bstack-[Python] Sample Test'</span></span> } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><h3>  Eksperimental </h3><br><img src="https://habrastorage.org/webt/do/7d/uv/do7duvaiufyiok6muyz_zuerya4.png"><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Layanan lain yang menyediakan kemampuan untuk menguji secara manual dan otomatis perangkat seluler dan browser desktop menggunakan Appium, Selenium dan kerangka kerja lainnya.  Seperti dalam kasus BrowserStack, jumlah sesi simultan terbatas, tetapi harganya sedikit berbeda - untuk pengujian aplikasi seluler, layanan meminta $ 199 per bulan, dan untuk pengujian lintas-browser hanya $ 39 (untuk satu sesi simultan).  Selain itu, seperti Bitbar dengan AWS, Anda dapat membangun laboratorium pribadi Anda sendiri dengan perangkat yang, bagaimanapun, dapat dicampur dengan cloud publik dari ribuan perangkat, emulator dan browser dari berbagai versi dan platform (MacOS, Windows), jika diinginkan.  Dari fitur-fitur menarik - ketersediaan ekstensi untuk IntelliJ dan Eclipse, alat Appium Studio sendiri, yang memungkinkan Anda untuk menggunakan fungsi canggih perangkat seperti berinteraksi dengan FaceID, kontrol suara, pemindaian barcode, pengaturan kualitas komunikasi, lokasi geografis dan banyak lagi.  Dari minus, saya dapat menyebutkan satu set perangkat aneh untuk masa percobaan, tarif draconian untuk periode percobaan, serta persyaratan untuk menggunakan surat perusahaan (gmail tidak akan bekerja). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/z3/wy/fiz3wy8hud0aa5zd28-86zluljg.jpeg"></div><br><div class="spoiler">  <b class="spoiler_title">Contoh kode</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://Uhttps://cloud.seetest.io/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">"deviceName"</span></span>: <span class="hljs-string"><span class="hljs-string">"iPhone X"</span></span>, <span class="hljs-string"><span class="hljs-string">"accessKey"</span></span>: API_KEY, <span class="hljs-string"><span class="hljs-string">"platformName"</span></span>: <span class="hljs-string"><span class="hljs-string">"ios"</span></span>, <span class="hljs-string"><span class="hljs-string">"deviceQuery"</span></span>: <span class="hljs-string"><span class="hljs-string">"'@os='ios' and @version='12.1.3' and @category='PHONE'"</span></span>, } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><h3>  Saucelab </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jo/vz/sy/jovzsyon88bmkdxcknin36wro8k.jpeg"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Salah satu layanan pengujian cloud tertua.  Hampir 400 perangkat nyata yang berbeda, berbagai pilihan simulator dan emulator, termasuk emulator atipikal dari perangkat Samsung, ada browser desktop untuk berbagai OS, termasuk Linux.  Otomasi pada Appium / Selenium dan kerangka kerja asli.  Keuntungan utama dari layanan ini adalah adanya koleksi konfigurasi yang luas, termasuk OS lama, browser, perangkat.  SauceLabs juga memiliki batasan jumlah sesi simultan, tetapi di sini opsi termurah termasuk bukan hanya satu, tetapi dua sesi simultan.  Apa yang tidak biasa: rencana tarif pada perangkat nyata dan pada emulator berbeda.  Jadi, opsi termurah, yang mencakup dua sesi dengan 2000 menit pengujian per bulan pada emulator, akan menelan biaya $ 149, dan pada perangkat nyata sudah $ 349.  Ada integrasi dengan CI / CD, Slack. Sayangnya, saya tidak dapat mencoba SauceLabs langsung, karena sayangnya, pendaftaran gagal, mungkin karena wilayah, tetapi saya tidak bisa mengatakannya dengan pasti. </p><br><h3>  Perfecto </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/bj/h2/plbjh2r1jax9nmtdxkq08sxzfvs.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> </p><br><p>  Penyedia pengujian cloud terbaru secara visual mirip dengan Experitest, tetapi tanpa fungsionalitas tingkat lanjut.  Ada bahasa scripting yang sederhana.  Ini sangat aneh, tetapi dalam layanan untuk tarif non-perusahaan (Perusahaan) tidak ada proposal untuk pengujian pada browser desktop, juga tidak mungkin untuk memantau pelaksanaan tes secara real time (hanya jika ini bukan pengujian manual).  Sekitar seratus perangkat berbeda tersedia untuk pengujian.  Ada integrasi dengan Jenkins, dan juga, yang menarik, dengan alat manajemen pengujian seperti HP ALM, IBM Rational, TFS.  Paket tarif yang sangat aneh juga tersedia, seperti pengujian 5 jam per bulan (dalam hitungan menit sebanyak $ 0,33 (ini adalah layanan yang paling mahal)), meskipun dengan kemampuan untuk membeli paket dengan jam tambahan, tetapi sekali lagi, aneh bahwa tidak ada per menit atau setidaknya penagihan per jam setelah fakta.  Adapun kemudahan penggunaan, selama periode percobaan hanya pengujian manual yang tersedia, serta laboratorium umum, sehingga semua peluncuran dari pengguna yang berbeda jatuh ke dalam satu tumpukan.  Jadi tidak mungkin untuk menilai dengan tepat kenyamanan dan kecepatan layanan.  Dapat dilihat bahwa layanan ini terutama berfokus pada klien perusahaan besar, sementara, setidaknya menurut informasi yang tersedia, kemampuan penyedia ini adalah yang paling sederhana dari semua yang telah saya uji. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4x/l_/so/4xl_so-pdliodrvlt7huphfnybe.jpeg"></div><br><br><h2>  Ringkasan Hasil </h2><br><p>  Dengan semua kriteria pemilihan, layanan sangat mirip, perbedaan antara layanan dalam kinerja dan harga mereka (jika tidak ada fitur, misalnya, seperti dalam kasus AWS).  Oleh karena itu, kami akan meringkas data penelitian dalam sebuah tabel, melihat kecepatan layanan (memperhitungkan koneksi melalui US VPN), serta harga, untuk kenyamanan, membandingkan waktu pengujian bulanan rata-rata pada perangkat (5 rilis per bulan, 2 jam pengujian pada perangkat Android dan iOS = 20 jam).  Sebagai nilai referensi, saya menggunakan data dari komputer lokal saya dengan emulator, lagi menghubungkannya untuk kemurnian percobaan melalui VPN di AS). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m9/1k/ym/m91kymmminidgp5q_ivtq110dqs.png"></div><br><h1>  Kesimpulan </h1><br><p>  Sangat menarik bagi saya untuk meneliti dan memilih layanan yang tepat untuk tim kami.  Secara umum, ada solusi untuk setiap selera dan untuk setiap tugas, dan layanan ternyata sangat mirip dalam hal karakteristik dan implementasi.  Akibatnya, tergantung pada tugas Anda, saya akan merekomendasikan pilihan berikut: </p><br><p>  <b>Opsi A</b> : Jika kecepatan verifikasi penting bagi Anda, dan Anda perlu memeriksa lusinan perangkat yang berbeda sekaligus, pilihan Anda adalah <b>Bitbar</b> . </p><br><p>  <b>Opsi B</b> : Jika Anda memiliki prioritas pada hasil dari perangkat referensi, dan pengujian konfigurasi adalah sekunder (tetapi perlu) - pilihan Anda adalah <b>BrowserStack</b> .  Ini hanya kasus kami, karena secara statistik - 90% dari semua kesalahan adalah kesalahan dari platform referensi dan perangkat (paling sering bug adalah umum untuk semua platform referensi sekaligus).  8% sisanya adalah kesalahan MS IE, dengan penolakan dukungan IE - 2% kesalahan MS Edge, dan 0,5% kesalahan pada konfigurasi tertentu. </p><br><p>  <b>Opsi B</b> : Jika Anda tertarik untuk memeriksa kondisi khusus, seperti komunikasi berkualitas rendah, geolokasi atau Touch / FaceID, maka pilihan Anda adalah <b>Experitest</b> . </p><br><p>  Tetapi dalam jangka panjang, jika perusahaan Anda menempati kantor besar, pekerjaan Anda adalah Penuh Waktu, maka, sebagai aturan, mengatur laboratorium Anda sendiri, bahkan mini-laboratorium dengan server untuk emulator dengan perangkat 2-3 yang terhubung, akan lebih murah dan lebih nyaman daripada menggunakan spesialis layanan. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464433/">https://habr.com/ru/post/id464433/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464415/index.html">Layanan petunjuk baru untuk mencari hh.ru</a></li>
<li><a href="../id464417/index.html">10 kerangka kerja PHP Populer pada tahun 2019</a></li>
<li><a href="../id464421/index.html">Radio Viber - semua stasiun radio di messenger online</a></li>
<li><a href="../id464423/index.html">Bagaimana cara mengatur waktu? Tanggapan Freelancer</a></li>
<li><a href="../id464429/index.html">10 kesalahan paling umum saat bekerja dengan platform Spring. Bagian 1</a></li>
<li><a href="../id464435/index.html">Bagaimana tidak tenggelam dalam lautan teknologi dan pendekatan: pengalaman 50 ahli</a></li>
<li><a href="../id464437/index.html">Bagaimana tim pengembangan dapat menghasilkan lebih banyak dengan membuat situs lalu lintas [Panduan Penerapan]</a></li>
<li><a href="../id464443/index.html">Natas Web. Passage dari platform KKP bertujuan untuk mengeksploitasi kerentanan Web. Bagian 2</a></li>
<li><a href="../id464445/index.html">Mengapa benar-benar mustahil menjadi vegetarian</a></li>
<li><a href="../id464447/index.html">Hitung Scoring de la Fer atau studi tentang penilaian kredit sebagai bagian dari memperluas wawasan seseorang. Bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>