<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ปโ๐พ ๐ฅ ๐ ุญุฒู ุงูุชุทุจููุงุช ASP.NET ASP.NET ุจุงุณุชุฎุฏุงู ุนุงูู ุงููููุงุก ๐ก ๐จ๐ฟโ๐จ ๐ฉ๐ฟโโ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุทุจููุงุช ASP.NET Core ูู ุจุงููุนู ููุตุงุช ูุดุชุฑูุฉ ููููู ุชุดุบูููุง ูู ูุธุงุฆู ูุง ุชุดูุจูุง ุดุงุฆุจุฉ ุ ูุจุงูุชุงูู ูู Docker. ุฏุนููุง ูุฑู ููู ูููู ุชุนุจุฆุชูุง ููุชู ูุดุฑูุง ุนูู ููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุญุฒู ุงูุชุทุจููุงุช ASP.NET ASP.NET ุจุงุณุชุฎุฏุงู ุนุงูู ุงููููุงุก</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/435914/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุทุจููุงุช ASP.NET Core ูู ุจุงููุนู ููุตุงุช ูุดุชุฑูุฉ ููููู ุชุดุบูููุง ูู ูุธุงุฆู ูุง ุชุดูุจูุง ุดุงุฆุจุฉ ุ ูุจุงูุชุงูู ูู Docker.  ุฏุนููุง ูุฑู ููู ูููู ุชุนุจุฆุชูุง ููุชู ูุดุฑูุง ุนูู ููููุณ ูุงุณุชุฎุฏุงููุง ุฌูุจุง ุฅูู ุฌูุจ ูุน Nginx.  ุงูุชูุงุตูู ุชุญุช ุฎูุถ! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/rv/zy/xx/rvzyxxq8mg8yreoka2rkkukpr3i.jpeg"><a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl">  <em>ููุงุญุธุฉ: ููุงุตู ุณูุณูุฉ ููุดูุฑุงุช ุงูุฅุตุฏุงุฑุงุช ุงููุงููุฉ ูู ุงูููุงูุงุช ูู ูุฌูุฉ ูุงูุฑ.</em>  <em>ูุฌุงุก ูุนูุงูุงุช ุงูุชุฑููู ูููุคูู ุงููุญููุธุฉ.</em> </p><br><h2 style=";text-align:right;direction:rtl">  ุญูู ุนุงูู ุงููููุงุก </h2><br><p style=";text-align:right;direction:rtl">  ููุฏ ุณูุน ุงูุฌููุน ุชูุฑูุจูุง ุนู ููุฏุณุฉ ุงูุฎุฏูุงุช ุงููููุฑููุฉ.  ูุง ูุนูู ููููู ุชูุณูู ุงูุชุทุจูู ุฅูู ุฃุฌุฒุงุก ุฃูู ุฌุฏูุฏ.  ูููู ุงูุฌุฏูุฏ ูู ุงููุณูุงู ูุงููุนุงุฏ ุชุฏููุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุญุงููุช ุงูุชุญุฏุซ ุนู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ุจูููุงุช ููููุฉ ุ ูุณูุชู ุชูุณูู ุชุทุจูู ุงูููุจ ุฅูู ุฃุฌุฒุงุก ูุญุฏููุฉ ูููุตูุฉ - ุฎุฏูุงุช.  ุงูุฎุฏูุงุช ูุง ุชุชูุงุนู ูุจุงุดุฑุฉ ูุน ุจุนุถูุง ุงูุจุนุถ ูููุณ ูุฏููุง ููุงุนุฏ ุจูุงูุงุช ูุดุชุฑูุฉ.  ูุชู ุฐูู ูุชููู ูุงุฏุฑุฉ ุนูู ุชุบููุฑ ูู ุฎุฏูุฉ ุฏูู ุนูุงูุจ ุจุงููุณุจุฉ ููุขุฎุฑูู.  ูุชู ุญุฒู ุงูุฎุฏูุงุช ูู ุญุงููุงุช.  ูู ุจูู ุงูุญุงููุงุช ุ ูุญูู ุฏููุฑ ุงููุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ูุตู ูุง ูุชู ุชุจุณูุทู Docker ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุงุณุชุฎุฏุงู ูุตุทูุญ "ุงูุฌูุงุฒ ุงูุธุงูุฑู".  ููุงู ุจุงูุชุฃููุฏ ุชุดุงุจู ุ ููู ูู ุงูุฎุทุฃ ููู ุฐูู.  ุชุชูุซู ุฃุณูู ุทุฑููุฉ ูููู ูุฐุง ุงูุงุฎุชูุงู ูู ุงููุธุฑ ุฅูู ุงูุตูุฑ ุงูุชุงููุฉ ูู ูุซุงุฆู ุนุงูู ุงูููู ุงูุฑุณูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xf/os/nu/xfosnujlxyttzdhimiuzf8tmcd8.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/w4/y4/6e/w4y46e4boi3u-l8pwo70rs-7xmm.png"></p><br><p style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ุงูุญุงููุงุช ุฌููุฑ ูุธุงู ุงูุชุดุบูู ุงูุญุงูู ูุชูุณููู ูููุง ุจูููุง.  ุจูููุง ุชุณุชุฎุฏู ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ ุจุฑูุงูุฌ hypervisor ููุงุฑุฏ ุงูุฃุฌูุฒุฉ. <br>  Docker Image ูู ูุงุฆู ูููุฑุงุกุฉ ููุท ูููู ุจุดูู ุฃุณุงุณู ุจุชุฎุฒูู ูุงูุจ ูุฅูุดุงุก ุญุงููุฉ.  ุงูุญุงููุฉ ูู ุจูุฆุฉ ูุชู ูููุง ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูุชู ุชุฎุฒูู ุงูุตูุฑ ูู ุงููุณุชูุฏุนุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุณูุญ ูู ูุณุชูุฏุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Docker Hub</a> ุงูุฑุณูู ุจุชุฎุฒูู ุตูุฑุฉ ูุงุญุฏุฉ ููุท ุจุดูู ุฎุงุต.  ููุน ุฐูู ุ ููู ูุฌุงูู ุ ูุฐุง ุญุชู ูู ูุฐุง ุ ูุฌุจ ุฃู ุชุดูุฑูู. </p><br><h1 style=";text-align:right;direction:rtl">  ูุนูููุงุช </h1><br><p style=";text-align:right;direction:rtl">  ุนุงูู ุงููููุงุก ููุณ ุงูููุซู ุงููุญูุฏ ููุญุงููุงุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ุชูููุงุช ุฃุฎุฑู.  ุนูู ุณุจูู ุงููุซุงู: </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">rkt</a> (ูุถูุญุง 'ุตุงุฑูุฎ') ูู ูุจู CoreOS </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LXD</a> (ูุถูุญุง "lexdi") ูู ูุจู ุฃูุจููุชู </p><br><p style=";text-align:right;direction:rtl">  ุญุงููุงุช ูููุฏูุฒ - ูู ุชุฎูู ุฃุจุฏุง ูู ุฃู ุดุฎุต. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ููุฏ ุชุนุฑููุง ุนูู ุงููุธุฑูุฉ ุ ุฏุนูุง ููุชูู ุฅูู ุงูููุงุฑุณุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ ุฃู ูุนูู ูุชูููู ุชุซุจูุช ุนุงูู ุงููููุงุก ุ ูุฃูู ูููู ุชุซุจูุชู ุนูู ุงูุนุฏูุฏ ูู ุฃูุธูุฉ ุงูุชุดุบูู.  ุณุฃุดูุฑ ููุท ุฅูู ุฃูู ููููู ุชูุฒููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุธุงูู</a> ุงูุฃุณุงุณู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Docker Store</a> .  ุฅุฐุง ููุช ุชููู ุจุชุซุจูุช Docker ุชุญุช Windows ุ ููุฌุจ ุชูููู ุงููุถุน ุงูุงูุชุฑุงุถู ูู BIOS ููุธุงู ุงูุชุดุบูู.  ููููู ุฃู ุชูุฑุฃ ุนู ููููุฉ ุชููููู ูู 10 ูู ูู ุงูููุงูุฉ ุงูุชุงููุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุซุจูุช Hyper-V ูู Windows10</a> </p><br><h2 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุดุฑูุน ุชูููู ุนุงูู ูููุงุก </h2><br><p style=";text-align:right;direction:rtl"> Docker ูู ุ ุจุงูุทุจุน ุ ููุชุฌ Linux ุ ูููู ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุงุณุชุฎุฏุงูู ุนูุฏ ุงูุชุทููุฑ ููุธุงู ุงูุชุดุบูู Mac ุฃู Windows.  ุนูุฏ ุฅูุดุงุก ูุดุฑูุน ูู Visual Studio ุ ูุฅุถุงูุฉ ุฏุนู ุนุงูู ูููุงุก ุ ูุง ุนููู ุณูู ุชุญุฏูุฏ ุฎุงูุฉ ุงูุงุฎุชูุงุฑ ุชูููู ุฏุนู Docker. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฅุถุงูุฉ ุฏุนู ุนุงูู ุงููููุงุก ุฅูู ูุดุฑูุน ููุฌูุฏ.  ูุชู ุฅุถุงูุชู ุฅูู ุงููุดุฑูุน ุจููุณ ุทุฑููุฉ ุฅุถุงูุฉ ููููุงุช ุฌุฏูุฏุฉ ูุชููุนุฉ.  ูุงุฆูุฉ ุงูุณูุงู ุฅุถุงูุฉ - ุฏุนู ุนุงูู ุงููููุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชุซุจูุช ุนุงูู ุงูุชุดุบูู ูุชุดุบููู ุนูู ุฌูุงุฒู ุ ูุณูุชู ูุชุญ ูุญุฏุฉ ุงูุชุญูู ุชููุงุฆููุง ูุณูุชู ุชูููุฐ ุงูุฃูุฑ </p><br><pre style=";text-align:right;direction:rtl"><code class="lua hljs">docker pull microsoft/aspnetcore:<span class="hljs-number"><span class="hljs-number">2.0</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุฐู ูุจุฏุฃ ุนูููุฉ ุชูุฒูู ุงูุตูุฑุฉ.  ูุฐู ุงูุตูุฑุฉ ูู ุงููุงูุน ูุงุฑุบุฉ ุนูู ุฃุณุงุณูุง ุณูุชู ุฅูุดุงุก ุตูุฑุชู.  ูุณุชุฎุฏู ASP.NET Core 2.1 ุตูุฑุฉ ูุฎุชููุฉ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">microsoft / dotnet: sdk</a> </p><br><p style=";text-align:right;direction:rtl">  ุณูุชู ุฅูุดุงุก ุงููููุงุช ุงูุชุงููุฉ ุชููุงุฆููุง ูู ุงูุฏููู ูุน ุชูููุฑ ุงูุญู ูู: <br>  .dockerignore (ุจุงุณุชุซูุงุก ุงููููุงุช ูุงูุฏูุงุฆู ูู ุตูุฑุฉ docker) ุ docker-compose.yml (ุจุงุณุชุฎุฏุงู ูุฐุง ุงูููู ููููู ุชูููู ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช) ุ docker-compose.override.yml (ุงูุชูููู ุงูุฅุถุงูู docker-compose) ุ docker-compose.dcproj ( ููู ูุดุฑูุน ูุจุฑูุงูุฌ Visual Studio). </p><br><p style=";text-align:right;direction:rtl">  ุณูุชู ุฅูุดุงุก ููู Dockerfile ูู ุฏููู ุงููุดุฑูุน.  ูู ุงููุงูุน ุ ุจูุณุงุนุฏุฉ ูุฐุง ุงูููู ุ ูููู ุจุฅูุดุงุก ุตูุฑุชูุง.  ุจุดูู ุงูุชุฑุงุถู (ูู ุญุงูุฉ ูุง ูุณูู ุงููุดุฑูุน DockerServiceDemo) ุ ููุฏ ูุจุฏู ุงูุฃูุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">FROM microsoft/aspnetcore:<span class="hljs-number"><span class="hljs-number">2.0</span></span> AS base WORKDIR /app EXPOSE <span class="hljs-number"><span class="hljs-number">80</span></span> FROM microsoft/aspnetcore-build:<span class="hljs-number"><span class="hljs-number">2.0</span></span> AS build WORKDIR /src COPY DockerServiceDemo/DockerServiceDemo.csproj DockerServiceDemo/ RUN dotnet restore DockerServiceDemo/DockerServiceDemo.csproj COPY . . WORKDIR /src/DockerServiceDemo RUN dotnet build DockerServiceDemo.csproj -c Release -o /app FROM build AS publish RUN dotnet publish DockerServiceDemo.csproj -c Release -o /app FROM base AS <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> WORKDIR /app COPY --from=publish /app . ENTRYPOINT [<span class="hljs-string"><span class="hljs-string">"dotnet"</span></span>, <span class="hljs-string"><span class="hljs-string">"DockerServiceDemo.dll"</span></span>]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุณูุญ ูู ุงูุชูููู ุงูุฃููู ูู .NET Core 2.0 ุจุจูุงุก ุงูุตูุฑุฉ ุนูู ุงูููุฑ ุจุงุณุชุฎุฏุงู ุฃูุฑ ุจูุงุก ุงูุฑุตูู.  ุชู ุชููููู ูุชุดุบูู ููู ุฅูุดุงุก ุนุงูู ูููุงุก ูู ุฏููู ูุณุชูู ูุงุญุฏ ูุฃุนูู.  ูู ุฃุฌู ูุชุงุจุนุฉ ุงูุจูุงุก ุจูุฌุงุญ ุ ูููู ุฅุญุถุงุฑ ููู Dockerfile ุฅูู ุดูู ููุงุซู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">FROM microsoft/aspnetcore:<span class="hljs-number"><span class="hljs-number">2.0</span></span> AS base WORKDIR /app EXPOSE <span class="hljs-number"><span class="hljs-number">80</span></span> FROM microsoft/aspnetcore-build:<span class="hljs-number"><span class="hljs-number">2.0</span></span> AS build WORKDIR /src COPY DockerServiceDemo.csproj DockerServiceDemo.csproj RUN dotnet restore DockerServiceDemo.csproj COPY . . WORKDIR /src RUN dotnet build DockerServiceDemo.csproj -c Release -o /app FROM build AS publish RUN dotnet publish DockerServiceDemo.csproj -c Release -o /app FROM base AS <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> WORKDIR /app COPY --from=publish /app . ENTRYPOINT [<span class="hljs-string"><span class="hljs-string">"dotnet"</span></span>, <span class="hljs-string"><span class="hljs-string">"DockerServiceDemo.dll"</span></span>]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุง ูุนูุชู ูู ุฅุฒุงูุฉ ุฏููู DockerServiceDemo ุงูุฅุถุงูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุณุชุฎุฏู Visual Studio Code ุ ูุณูุชุนูู ุนููู ุฅูุดุงุก ุงููููุงุช ูุฏูููุง.  ุนูู ุงูุฑุบู ูู ุฃู VS Code ูุฏูู ูุธููุฉ ูุณุงุนุฏุฉ ูู ุดูู ููุญู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Docker</a> ุ ุฅูุง ุฃููู ุณุฃุถูู ุฑุงุจุทูุง ุฅูู ุงูุฏููู ุญูู ููููุฉ ุงูุชุนุงูู ูุน ุนุงูู ุงูููู ูู VS Code - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูู ูุน Docker</a> .  ูุนู ุ ุงูููุงูุฉ ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุ ููููุง ูุน ุงูุตูุฑ </p><br><h2 style=";text-align:right;direction:rtl">  ุซูุงุซุฉ ุงูุญุจุงู ุนุงูู ุงููููุงุก </h2><br><p style=";text-align:right;direction:rtl">  ููุนูู ุงููููู ูุน ุนุงูู ุงููููุงุก ุ ููุท ุนุฏุฏ ูููู ูู ุงูุฃูุงูุฑ ูุงููุฉ ููุชุฐูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑูู ุงูุฃูุซุฑ ุฃูููุฉ ูู ุ ุจุงูุทุจุน ุ ุจูุงุก ุตูุฑุฉ.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู bash / CMD / PowerShell ููุงูุชูุงู ุฅูู ุงูุฏููู ุญูุซ ููุฌุฏ Dockerfile ูุชูููุฐ ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker build -t your_image_name .</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ุจุนุฏ ุงูุฎูุงุฑ -t ุ ูุชู ุชุนููู ุงุณู ุตูุฑุชู.  ุงูุชุจุงู - ูู ููุงูุฉ ุงูุฃูุฑ ุ ูุณุงูุฉ ุจุนุฏ ุงููุถุงุก.  ุชุนูู ูุฐู ุงูููุทุฉ ุฃู ุงูุฏููู ุงูุญุงูู ููุฏ ุงูุงุณุชุฎุฏุงู.  ูููู ูุถุน ุนูุงูุฉ ุนูู ุตูุฑุฉ ุจุงุณุชุฎุฏุงู ุนูุงูุฉ (ุฑูู ุฃู ุงุณู).  ููููุงู ุจุฐูู ุ ุถุน ุนูุงูุฉ ุงูููุทุชูู ุจุนุฏ ุงูุงุณู ูุญุฏุฏ ุนูุงูุฉ.  ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุงูุนูุงูุฉ ุ ูุณูุชู ุชุนููููุง ุงูุชุฑุงุถููุง ุจุงูุงุณู ุงูุฃุญุฏุซ.  ูุฅุฑุณุงู ุตูุฑุฉ ุฅูู ุงููุณุชูุฏุน ุ ูู ุงูุถุฑูุฑู ุฃู ูุชุถูู ุงุณู ุงูุตูุฑุฉ ุงุณู ุงููุณุชูุฏุน.  ุดูุก ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker build -t docker_account_name/image_name:your_tag .</code> </pre> <br><p style=";text-align:right;direction:rtl">  your_docker_account_name ููุง ูู ุงุณู ุญุณุงุจ ููุญุฉ ุงููุตู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุฅูุดุงุก ุงูุตูุฑุฉ ููุท ุจุงุณู ูุญูู ูุง ูุชุถูู ุงููุณุชูุฏุน ุ ูููููู ูุถุน ุนูุงูุฉ ุนูู ุงูุตูุฑุฉ ุจุงุณู ูุฎุชูู ุจุนุฏ ุงูุฅูุดุงุก ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker tag image_name docker_account_name/image_name:your_tag</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฅุฑุณุงู ุงูุชุบููุฑุงุช ุฅูู ููุญุฉ ุงููุตู ุ ุชุญุชุงุฌ ุงูุขู ุฅูู ุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker push docker_account_name/image_name:your_tag</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจู ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุญุณุงุจ ุนุงูู ูููุงุก ุงูุฎุงุต ุจู.  ูู ูุธุงู Windows ุ ูุชู ุฐูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ ุจุงูุชุทุจูู ุ ูููู ูู * nix ูุชู ุฐูู ุจูุงุณุทุฉ ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker login</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ุซูุงุซุฉ ูุฑู ููุณุช ูุงููุฉ.  ูุฌุจ ุฃู ุชููู ุฃูุถูุง ูุงุฏุฑูุง ุนูู ุงูุชุญูู ูู ุชุดุบูู ุงูุญุงููุฉ.  ูุจุฏู ุงูุฃูุฑ ุงูุฐู ููููู ูู ุฎูุงูู ุจุฏุก ุชุดุบูู ุงูุญุงููุฉ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker run -it -p <span class="hljs-number"><span class="hljs-number">5000</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span> image_name</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุคุฏู ุงูุฎูุงุฑ -it ุฅูู ุฅูุดุงุก ุฑูุฒ ุฒุงุฆู ูุณูุณุชุฌูุจ ุงูุญุงููุฉ ุงูุฎุงุตุฉ ุจู ููุทูุจุงุช.  ุจุนุฏ ุชุดุบูู ุงูุฃูุฑ ุ ุณุชููู ุงูุฎุฏูุฉ ูุชุงุญุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 5000 /</a> </p><br><p style=";text-align:right;direction:rtl">  -p 5000: 80 ููุชุฑู ุงููููุฐ 5000 ูู ุงูุญุงููุฉ ูุน ุงููููุฐ 80 ูู ุงููุถูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ูุซู ูุฐู ุงูุฃูุงูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker ps โa</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุธูุฑ ูู ูุงุฆูุฉ ุงูุญุงููุงุช.  ููุฐ ุฃู ุชู ุฅุถุงูุฉ ุฑูุฒ ุงูุชุจุฏูู - a ุ ุณูุชู ุนุฑุถ ุฌููุน ุงูุญุงููุงุช ุ ูููุณ ููุท ุชูู ุงูุชู ุชุนูู ุญุงูููุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker rm container_name</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุคุฏู ูุฐุง ุงูุฃูุฑ ุฅูู ุฅุฒุงูุฉ ุงูุญุงููุฉ ุงููุณูุงุฉ container_name.  rm - ุงุฎุชุตุงุฑ ููุฅุฒุงูุฉ </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker logs container_name</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนุฑุถ ุณุฌูุงุช ุงูุญุงููุฉ </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">docker rmi image_name</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุฐู ุตูุฑุฉ ุจุงุณู image_name </p><br><h2 style=";text-align:right;direction:rtl">  ุฅุทูุงู ุญุงููุฉ ุนุจุฑ ุฎุงุฏู ูููู ุนูุณู </h2><br><p style=";text-align:right;direction:rtl">  ุงูุญูููุฉ ูู ุฃู ุชุทุจููุงุช .NET Core ููุณูุง ุชุณุชุฎุฏู ุฎุงุฏู ุงูููุจ Kestrel.  ูุง ููุตุญ ุจูุฐุง ุงูุฎุงุฏู ููุฅูุชุงุฌ.  ููุงุฐุงุ  ููุงู ุนุฏุฉ ุชูุณูุฑุงุช. <br>  ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุงูุชู ุชุดุงุฑู IP ูุงููููุฐ ุ ููู ุชุชููู Kestrel ูู ุชูุฒูุน ุญุฑูุฉ ุงููุฑูุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููุฑ ุงูุฎุงุฏู ุงููููู ุงูุนูุณู ุทุจูุฉ ุฅุถุงููุฉ ูู ุงูุฃูุงู ุ ููุจุณุท ููุงุฒูุฉ ุงูุชุญููู ูุฅุนุฏุงุฏุงุช ุทุจูุฉ ุงูููุงุจุณ ุงูุขููุฉ ุ ููุง ูุฏูุฌ ุจุดูู ุฃูุถู ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุญุงููุฉ.  ุจุงููุณุจุฉ ููุนุธู ุงููุทูุฑูู ุ ูุฅู ุงูุณุจุจ ุงูุฃูุซุฑ ุฃูููุฉ ููุญุงุฌุฉ ุฅูู ูููุงุก ุนูุณููู ูู ุงูุฃูุงู ุงูุฅุถุงูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุงุณุชุนุงุฏุฉ ุงูุชูููู Dockerfile ุงูุฃุตูู.  ุจุนุฏ ุฐูู ุ ุณูุชุนุงูู ูุน ููู docker-compose.yml ููุญุงูู ุชุดุบูู ุฎุฏูุชูุง ุจููุฑุฏูุง.  ุชุชู ูุฑุงุกุฉ ุชูุณูู ููู yml ูู "yaml" ููู ุงุฎุชุตุงุฑ ุฅูุง ูู "ูุบุฉ ุชุฑููุฒ ุฃุฎุฑู" ุฃู ูู "YAML Ain't Markup Language".  ุฅูุง ูุบุฉ ุชุฑููุฒ ุฃุฎุฑู ุ ุฃู ููุณุช ูุบุฉ ุชุฑููุฒ ุนูู ุงูุฅุทูุงู.  ุจุทุฑููุฉ ูุง ุ ูู ุดูุก ุบูุฑ ูุคูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ูููู ุงูุงูุชุฑุงุถู ูุฑุณู ุงูุณูู ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">version: <span class="hljs-string"><span class="hljs-string">'3.4'</span></span> services: dockerservicedemo: image: ${DOCKER_REGISTRY}dockerservicedemo build: context: . dockerfile: DockerServiceDemo/Dockerfile</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุถูู ููู docker-compose.override.yml ุงูุนุฏูุฏ ูู ุงูุฅุนุฏุงุฏุงุช ุฅูู ุงูุชูููู: <br>  ุงูุฅุตุฏุงุฑ: "3.4" </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">services: dockerservicedemo: environment: - ASPNETCORE_ENVIRONMENT=Development ports: - <span class="hljs-string"><span class="hljs-string">"80"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููููุง ุจูุงุก ุงูุญู ุงูุฐู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู build-compose build ุ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃูุฑ docker-compose ุ ุณูููู ุจุฅุทูุงู ุญุงููุฉ ูุฏููุง  ูู ูู ุดูุก ูุนููุ  ุซู ุงูุชูู ุฅูู ุงูุฎุทูุฉ ุงูุชุงููุฉ.  ูู ุจุฅูุดุงุก ููู nginx.info.  ุณูููู ุงูุชูููู ุชูุฑูุจูุง ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">worker_processes <span class="hljs-number"><span class="hljs-number">4</span></span>; events { worker_connections <span class="hljs-number"><span class="hljs-number">1024</span></span>; } http { sendfile on; upstream app_servers { server dockerservicedemo:<span class="hljs-number"><span class="hljs-number">80</span></span>; } server { listen <span class="hljs-number"><span class="hljs-number">80</span></span>; location / { proxy_pass http://app_servers; proxy_http_version <span class="hljs-number"><span class="hljs-number">1.1</span></span>; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection keep-alive; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุถุญ ููุง ุฃู nginx ุณูุณุชูุน ุนูู ุงููููุฐ 80 (ุงุณุชูุน 80ุ).  ูุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุงููุณุชููุฉ ุฅูู ุงููููุฐ 80 ูููุถูู ูู ุญุงููุฉ dockerservicedemo.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฎุจุฑ nginx ุนู ุงูุฑุคูุณ ุงูุชู ูุฌุจ ููููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุงุณุชุฎุฏุงู http ูู nginx ุ ูุงููุตูู ุฅูู ูููุน ุงูููุจ ูู ุฎูุงู https.  ุนูุฏูุง ููุฑ ุทูุจ https ุนุจุฑ ูููู http ุ ูุง ูุชู ุชูุฑูุฑ ุงููุซูุฑ ูู ุงููุนูููุงุช ูู https ุฅูู http.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏ ุงุณุชุฎุฏุงู ูููู ุ ูุชู ููุฏ ุนููุงู IP ุงูุฎุงุฑุฌู.  ููู ูุชู ููู ูุฐู ุงููุนูููุงุช ูู ุงูุฑุคูุณ ุ ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุฑูุฒ ูุดุฑูุน ASP.NET ุงูุฎุงุต ุจูุง ูุฅุถุงูุฉ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุฅูู ุจุฏุงูุฉ ุทุฑููุฉ ุชูููู ููู Startup.cs: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> app.UseForwardedHeaders(new ForwardedHeadersOptions { ForwardedHeaders = ForwardedHeaders.XForwardedFor | ForwardedHeaders.XForwardedProto });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ูุนุธู ุงูุฎูุงุฏู ุงูููููุฉ ุฑุฃุณ X-Forwarded-For ู X-Forwarded-Proto.  ูุฐู ูู ุงูุฑุคูุณ ุงููุญุฏุฏุฉ ุงูุขู ูู ุชูููู nginx. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุจุชุถููู ุตูุฑุฉ nginx ูููู nginx.conf ูู ุชูููู ุชูููู doker.  ุงูุญุฐุฑ ูู ุงููุณุงุญุงุช YAML ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">version: <span class="hljs-string"><span class="hljs-string">'3.4'</span></span> services: dockerservicedemo: image: ${DOCKER_REGISTRY}dockerservicedemo build: context: . dockerfile: DockerServiceDemo/Dockerfile ports: - <span class="hljs-number"><span class="hljs-number">5000</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span> proxy: image: nginx:latest volumes: - ./DockerServiceDemo/nginx.conf:/etc/nginx/nginx.conf ports: - <span class="hljs-number"><span class="hljs-number">80</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูุถูู ุงููููุงุก ุฅูู ุงูุชูููู ูุฏููุง ูุตูุฑุฉ nginx.  ูุนูู ุนูู ูุฐู ุงูุตูุฑุฉ ููู ุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุฑุฌูุฉ.  ูุญู ููุน ูู ุชุฑููุจู ูู ูุธุงู ุงููููุงุช ุงูุญุงููุฉ ุจุงุณุชุฎุฏุงู ุขููุฉ ุชุณูู ูุญุฏุฉ ุงูุชุฎุฒูู.  ุฅุฐุง ููุช ุจุงูุฅุถุงูุฉ ูู ุงูููุงูุฉ: ro ุ ูุณูุชู ุชุซุจูุช ุงููุงุฆู ูููุฑุงุกุฉ ููุท. </p><br><p style=";text-align:right;direction:rtl">  ูุณุชูุน ุงููููู ุฅูู ุงููููุฐ 80 ุงูุฎุงุฑุฌู ููุฌูุงุฒ ุงูุฐู ูุชู ุชุดุบูู ุงูุญุงููุฉ ุนููู ููุฑุณู ุทูุจูุง ุฅูู ุงููููุฐ 80 ุงูุฏุงุฎูู ููุญุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนู ุทุฑูู ุชุดุบูู ุงูุฃูุฑ doker-compose up ุ ุณูููู ุจุชุนุจุฆุฉ ุฃู ุตูุฑุฉ nginx ูู ุงููุณุชูุฏุน ูุจุฏุก ุชุดุบูู ุงูุญุงููุฉ ุงูุฎุงุตุฉ ุจูุง ูุน ุญุงููุฉ ุงูุจุฑููุณู.  ุงูุขู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 80 /</a> ุณูููู ุงููุตูู ุฅูููุง ุนุจุฑ nginx.  ุนูู ุงููููุฐ ุฑูู 5000 ุ "ูุฏูุฑ" ุงูุชุทุจูู ุฃูุถูุง ุชุญุช Kestrel. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุงูุชุญูู ูู ุฃู ุงูุทูุจ ุฅูู ุชุทุจูู ุงูููุจ ููุฑ ุนุจุฑ ุงููููู ุงูุนูุณู.  ุงูุชุญ ุฃุฏูุงุช ุงููุทูุฑ ูู ูุชุตูุญ Chrome ูุงูุชูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ ุงูุดุจูุฉ.  ุงููุฑ ุนูู ุงููุถูู ุงููุญูู ููุง ูุญุฏุฏ ุนูุงูุฉ ุงูุชุจููุจ ุงูุฑุคูุณ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zx/xi/sp/zxxisp6hjwtbza8u5wlmgu54jqq.png"></p><br><h2 style=";text-align:right;direction:rtl">  ูุทูู ุงูุญุงููุฉ ูู ุฎูุงู ุงููููุงุก ู HTTPS </h2><br><p style=";text-align:right;direction:rtl">  ุฃุญุถุฑ ASP.NET Core 2.1 ูุนู ุชุญุณููุงุช ูู ุฏุนู HTTPS. <br>  ูููุชุฑุถ ุฃู ุงูุจุฑุงูุฌ ุงููุณูุทุฉ ุงูุชุงููุฉ ุชุณูุญ ูู ุจุฅุนุงุฏุฉ ุงูุชูุฌูู ูู ุงุชุตุงู ุบูุฑ ุขูู ุฅูู ุงุชุตุงู ุขูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">app.UseHttpsRedirection();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุชูุญ ูู ุงูุชุงูู ุงุณุชุฎุฏุงู ุจุฑูุชูููู ุฃูุงู ุงูููู HTTP Strict - HSTS. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">app.UseHsts();</code> </pre> <br><p style=";text-align:right;direction:rtl">  HSTS ูู ููุฒุฉ ูู ุจุฑูุชูููู HTTP / 2 ุ ุชู ุฅุตุฏุงุฑ ููุงุตูุงุชูุง ูู ุนุงู 2015.  ูุฐู ุงููุธููุฉ ูุฏุนููุฉ ุจูุงุณุทุฉ ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ ูุชุจูุบ ุฃู ูููุน ุงูููุจ ูุณุชุฎุฏู https ููุท.  ูุจุงูุชุงูู ุ ุชุญุฏุซ ุงูุญูุงูุฉ ุถุฏ ุฃู ูุฌูู ุชู ุชููููู ุฎูุงูู ูููู ููููุงุฌู ุงูุงุณุชูุงุฏุฉ ูู ุงููููู ุจุงุณุชุฎุฏุงู ุงูุงูุชูุงู ุฅูู ุจุฑูุชูููู http ุบูุฑ ุขูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุฎูุถ TLS ุฃู ุญุชู ุงุณุชุจุฏุงู ุงูุดูุงุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนุงุฏุฉู ูุง ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูููุน ูู ุงููุฌูู ุจุงูุชุฒุงูู ูุน ูุฌูุงุช ุงูุฑุฌู ูู ุงููุณุท.  ูุฌุจ ุฃู ุชุนูู ูุชุฐูุฑ ุฃู HSTS ูุง ูููุฐู ูู ูููู ุนูุฏูุง ูุฒูุฑ ุงููุณุชุฎุฏู ุงููููุน ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู http ุซู ูุนูุฏ ุงูุชูุฌูู ุฅูู https.  ููุงู ูุง ูุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฆูุฉ ุงูุชุญููู ุงููุณุจู ููุชุตูุญ Chrome</a> ุ ูุงูุชู ุชุญุชูู ุนูู ุฑูุงุจุท ูููุงูุน ุชุฏุนู https.  ุชุฏุนู ุงููุชุตูุญุงุช ุงูุฃุฎุฑู (Firefox ู Opera ู Safari ู Edge) ููุงุฆู ุจููุงูุน https ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุกู ุนูู ูุงุฆูุฉ Chrome.  ููู ูู ูุฐู ุงูููุงุฆู ุจุนูุฏุฉ ุนู ูู ุงูููุงูุน. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ุชููู ูููุง ุจุชุดุบูู ุฃู ุชุทุจูู Core ุนูู Windows ุ ุณุชุชููู ุฑุณุงูุฉ ุชููุฏ ุจุฃูู ุชู ุฅูุดุงุก ุดูุงุฏุฉ ูุทูุฑ ูุชุซุจูุชูุง.  ุจุงูููุฑ ููู ุงูุฒุฑ ูุชุซุจูุช ุงูุดูุงุฏุฉ ุ ุณุชุฌุนููุง ููุซููุฉ.  ูู ุณุทุฑ ุงูุฃูุงูุฑ ุนูู macOS ุ ููููู ุฅุถุงูุฉ ุซูุฉ ุฅูู ุงูุดูุงุฏุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: <br>  dotnet dev-certs https โtrust </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุชุซุจูุช ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ dev-certs ุ ูููููู ุชุซุจูุชูุง ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">dotnet tool install --<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> dotnet-dev-certs</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุนุชูุฏ ููููุฉ ุฅุถุงูุฉ ุดูุงุฏุฉ ุฅูู ููุซูู ุจูุง ุนูู Linux ุนูู ุงูุชูุฒูุน. <br>  ูุฃุบุฑุงุถ ุงูุงุฎุชุจุงุฑ ุ ูุณุชุฎุฏู ุดูุงุฏุฉ ุงููุทูุฑ.  ุงูุฅุฌุฑุงุกุงุช ูุน ุดูุงุฏุฉ ูููุนุฉ ูู CA ูุชุดุงุจูุฉ.  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุงุณุชุฎุฏุงู ุดูุงุฏุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LetsEncrypt</a> ุงููุฌุงููุฉ </p><br><p style=";text-align:right;direction:rtl">  ููููู ุชุตุฏูุฑ ุดูุงุฏุฉ ุงููุทูุฑ ุฅูู ููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">dotnet dev-certs https -ep ___.pfx</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ูุณุฎ ุงูููู ุฅูู ุงูุฏููููช APPDATAูช / ASP.NET / Https / ุถูู Windows ุฃู ุฅูู /root/.aspnet/https/ ุถูู ูุธุงู ุงูุชุดุบูู macOS / Linux. </p><br><p style=";text-align:right;direction:rtl">  ููู ุชูุชูุท ุงูุญุงููุฉ ูุณุงุฑ ุงูุดูุงุฏุฉ ููููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจูุง ุ ูู ุจุฅูุดุงุก ุฃุณุฑุงุฑ ุงููุณุชุฎุฏู ุจุงููุญุชููุงุช ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">"Kestrel"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"Certificates"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"Default"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"Path"</span></span>: <span class="hljs-string"><span class="hljs-string">"/root/.aspnet/https/__.pfx"</span></span>, <span class="hljs-string"><span class="hljs-string">"Password"</span></span>: <span class="hljs-string"><span class="hljs-string">"___"</span></span> } } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฎุฒู ูุฐุง ุงูููู ุงูุจูุงูุงุช ุบูุฑ ุงููุดูุฑุฉ ุ ูุจุงูุชุงูู ูุชู ุงุณุชุฎุฏุงูู ููุท ุฃุซูุงุก ุงูุชุทููุฑ.  ูุชู ุฅูุดุงุก ููู ูู Visual Studio ุนู ุทุฑูู ุงุณุชุฏุนุงุก ูุงุฆูุฉ ุงูุณูุงู ุนูู ุฃููููุฉ ุงููุดุฑูุน ุฃู ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุฃุณุฑุงุฑ ุงููุณุชุฎุฏู ุนูู Linux. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุธุงู Windows ุ ุณูุชู ุญูุธ ุงูููู ูู ุฏููููช APPDATAูช \ Microsoft \ UserSecrets \ &lt;user_secrets_id&gt; \ secrets.json ุ ูุณูุชู ุญูุธู ุนูู ูุธุงูู MacOS ู Linux ูู ~ / .microsoft / usersecrets / &lt;user_secrets_id&gt; /secrets.json </p><br><p style=";text-align:right;direction:rtl">  ูุญูุธ ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ ุ ูุฏ ุชุณุชุฎุฏู ุจุนุถ ุชูุฒูุนุงุช Linux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">systemd ุ</a> ููุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุชุญุช ุณูุฉ ุงูุฎุฏูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">[Service] Environment=<span class="hljs-string"><span class="hljs-string">"Kestrel _ Certificates _ Default _Path=/root/.aspnet/https/__.pfx"</span></span> Environment=<span class="hljs-string"><span class="hljs-string">"Kestrel _ Certificates _ Default _Password=___"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุฃูุฏู ููุญูู ููุฑูุง ุฅุตุฏุงุฑ ุงูุนูู ูู ุชูููู ุนุงูู ูููุงุก ุงููููู ูุงูุญุงููุฉ ุนุจุฑ https. </p><br><p style=";text-align:right;direction:rtl">  ููู ุฅูุดุงุก ุนุงูู ุงููููุงุก: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">version: <span class="hljs-string"><span class="hljs-string">'3.4'</span></span> services: dockerservicedemo21: image: ${DOCKER_REGISTRY}dockerservicedemo build: context: . dockerfile: DockerServiceDemo/Dockerfile  override: version: <span class="hljs-string"><span class="hljs-string">'3.4'</span></span> services: dockerservicedemo: environment: - ASPNETCORE_ENVIRONMENT=Development - ASPNETCORE_URLS=https://+:<span class="hljs-number"><span class="hljs-number">44392</span></span>;http://+:<span class="hljs-number"><span class="hljs-number">80</span></span> - ASPNETCORE_HTTPS_PORT=<span class="hljs-number"><span class="hljs-number">44392</span></span> ports: - <span class="hljs-string"><span class="hljs-string">"59404:80"</span></span> - <span class="hljs-string"><span class="hljs-string">"44392:44392"</span></span> volumes: - ${APPDATA}/ASP.NET/Https:/root/.aspnet/https:ro - ${APPDATA}/Microsoft/UserSecrets:/root/.microsoft/usersecrets:ro proxy: image: nginx:latest volumes: - ./DockerServiceDemo/nginx.conf:/etc/nginx/nginx.conf - ./DockerServiceDemo/cert.crt:/etc/nginx/cert.crt - ./DockerServiceDemo/cert.rsa:/etc/nginx/cert.rsa ports: - <span class="hljs-string"><span class="hljs-string">"5001:44392"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุณูู ุฃุตู ูุญุธุงุช ุบูุฑ ูููููุฉ.  ูุณูุญ ููุง ASPNETCORE_URLS ุจุนุฏู ุงูุฅุดุงุฑุฉ ูู ุฑูุฒ ุงูุชุทุจูู ุจุงุณุชุฎุฏุงู ุงูุชุทุจูู. ุงุณุชุฎุฏู ุงููููุฐ ุงูุฐู ูุณุชูุน ุฅููู ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ASPNETCORE_HTTPS_PORT ุจุฅุนุงุฏุฉ ุชูุฌูู ูุดุงุจูุฉ ููุง ุชูุนูู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ: <br>  services.AddHttpsRedirection (options =&gt; options.HttpsPort = 44392) </p><br><p style=";text-align:right;direction:rtl">  ุฃู ุฃูู ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ูู ุทูุจุงุช http ุฅูู ูููุฐ ูุนูู ูุทูุจุงุช https. <br>  ุจุงุณุชุฎุฏุงู ุงูููุงูุฐ ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจ ูู ุงููููุฐ 59404 ุงูุฎุงุฑุฌู ุฅูู ุงูุญุงููุฉ 80 ููู ุงููููุฐ ุงูุฎุงุฑุฌู 44392 ุฅูู 44392.  ูุธุฑููุง ุ ูุธุฑูุง ูุฃููุง ูููุง ุจุชูููู ุฎุงุฏู ูููู ุนูุณู ุ ูููููุง ุฅุฒุงูุฉ ุงูููุงูุฐ ุจุงุณุชุฎุฏุงู ุนูููุงุช ุฅุนุงุฏุฉ ุงูุชูุฌูู ูุฐู. <br>  ุจุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุชุฎุฒูู ุ ูุชู ุชุซุจูุช ุฏููู ุจุดูุงุฏุฉ pfx ูุชุทุจูู UserSecrets ุจูููุฉ ูุฑูุฑ ูุฑุงุจุท ุฅูู ุงูุดูุงุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุดูุฑ ุงููุณู ุงููููู ุฅูู ุฃูู ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ูู ุงููููุฐ ุงูุฎุงุฑุฌู 5001st ุฅูู ูููุฐ nginx 44392.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุชุซุจูุช ููู ุชูููู nginx ุ ุจุงูุฅุถุงูุฉ ุฅูู ุดูุงุฏุฉ ูููุชุงุญ ุดูุงุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุชููููุง ูู ุฅูุดุงุก ุดูุงุฏุฉ pfx ูุงุญุฏุฉ (ุงูุชู ูุฏููุง ุจุงููุนู) ูุฅูุดุงุก ูููุงุช crt ู rsa ุ ููููู ุงุณุชุฎุฏุงู OpenSSL.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุงุณุชุฎุฑุงุฌ ุงูุดูุงุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">openssl pkcs12 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ./_.pfx -clcerts -nokeys -out domain.crt</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซู ุงูููุชุงุญ ุงูุฎุงุต: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">openssl pkcs12 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ./_.pfx -nocerts -nodes -out domain.rsa</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชูููู nginx ูุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">worker_processes <span class="hljs-number"><span class="hljs-number">4</span></span>; events { worker_connections <span class="hljs-number"><span class="hljs-number">1024</span></span>; } http { sendfile on; upstream app_servers { server dockerservicedemo:<span class="hljs-number"><span class="hljs-number">44392</span></span>; } server { listen <span class="hljs-number"><span class="hljs-number">44392</span></span> ssl; ssl_certificate /etc/nginx/cert.crt; ssl_certificate_key /etc/nginx/cert.rsa; location / { proxy_pass https://app_servers; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection keep-alive; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณุชูุน ุงูุฎุงุฏู ุงููููู ุฅูู ุงููููุฐ 44392.  ูุณุชูุจู ูุฐุง ุงููููุฐ ุทูุจุงุช ูู ูููุฐ ุงููุถูู 5001st.  ุจุนุฏ ุฐูู ุ ูุนูุฏ ุงููููู ุชูุฌูู ุงูุทูุจุงุช ุฅูู ุงููููุฐ 44392 ุงูุฎุงุต ุจุญุงููุฉ dockerdemoservice. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ูููู ููุฐู ุงูุฃูุซูุฉ ุ ุณุชุญุตู ุนูู ุฎูููุฉ ุฌูุฏุฉ ููุนูู ูุน ุนุงูู ุงูุฅุฑุณุงุก ูุฎุฏูุงุช micros ู nginx. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูุฑู ุฃู ูุฐู ูู ุงููุณุฎุฉ ุงููุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงู ูู ูุฌูุฉ ูุงูุฑ</a> .  ูุคูููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃูููุณู ุณููุฑ</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar435914/">https://habr.com/ru/post/ar435914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar435904/index.html">ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ุชุฑุฌู ูุดุงุท ุงูุฏูุงุบ ุฅูู ุฎุทุงุจ</a></li>
<li><a href="../ar435906/index.html">ููุธู ุถุฑุจุงุช ุงูููุจ ููุชุฎุฒูู ุงูุนูููุฏู + DRBD (ุซูุงุฆู ุฃุณุงุณู) + ctdb</a></li>
<li><a href="../ar435908/index.html">ุงูุฒุงูุฏ ุงูููุจ: ุฃุณูุงู ุงูุณูุน ุงูุฃูููุฉ ุงููููุฐุฌูุฉ ุนูู ุงูุฐูุงุจ ู ุดุจูุจุฉ</a></li>
<li><a href="../ar435910/index.html">ููุงุฐุง ุฎุณุฑ BSD ุงููุนุฑูุฉ ูุน ุฌูู / ููููุณุ</a></li>
<li><a href="../ar435912/index.html">ุงููุดุงูู ุงูุฑุฆูุณูุฉ ูุชุทููุฑ ูุงุฌูุงุช ุญุฏูุซุฉ</a></li>
<li><a href="../ar435916/index.html">ุงููุฑุตูุฉ VK ุ ุงููุตุงุฏูุฉ ุซูุงุฆูุฉ ูู ูุญูุธ</a></li>
<li><a href="../ar435920/index.html">ูุชุงุจ ุงูุทุจุฎ ูููุทูุฑูู: ูุตูุงุช DDD (ุงูุฌุฒุก 4 ุ ุงูููุงูู)</a></li>
<li><a href="../ar435922/index.html">ุฎุฏูุงุช Java ู Spring ู Kurento ูุงูุฅุนูุงู. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar435924/index.html">ุชููู ุงูุดุจูุฉ ุงูุนุตุจูุฉ ุจุฅูุดุงุก ุตูุฑ ููุฃุทุจุงู ููููุง ููุตูุงุช ูุฅุนุฏุงุฏูุง</a></li>
<li><a href="../ar435926/index.html">ุชุฌูุน ุงูุดุจูุฉ ุงูุนุตุจูุฉ ุดุธุงูุง ุงูุงูุชุดุงูุงุช ุงูุฃุซุฑูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>