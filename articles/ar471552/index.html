<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฟโ๐ ๐ง๐ป ๐ ูุชุงุจุฉ ุงุณุชูุณุงุฎ ูุญุฑู Doom: ูุฑุงุกุฉ ูุนูููุงุช ุงูุฎุฑูุทุฉ ๐ฉ๐พโ๐ญ ๐ค ๐๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 ุงููุฏู ูู ูุฐุง ุงููุดุฑูุน ูู ุฅูุดุงุก ุงุณุชูุณุงุฎ ููุญุฑู DOOM ุจุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ุงูุชู ุชู ุฅุตุฏุงุฑูุง ุจุงุณุชุฎุฏุงู Ultimate DOOM ( ุฅุตุฏุงุฑ ูู Steam ). 

 ุณูุชู ุชูุฏููู ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุชุงุจุฉ ุงุณุชูุณุงุฎ ูุญุฑู Doom: ูุฑุงุกุฉ ูุนูููุงุช ุงูุฎุฑูุทุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471552/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c2f/423/35b/c2f42335b751d3bd9acec03251204977.png" alt="ุตูุฑุฉ"></div><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br>  ุงููุฏู ูู ูุฐุง ุงููุดุฑูุน ูู ุฅูุดุงุก ุงุณุชูุณุงุฎ ููุญุฑู DOOM ุจุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ุงูุชู ุชู ุฅุตุฏุงุฑูุง ุจุงุณุชุฎุฏุงู Ultimate DOOM ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฅุตุฏุงุฑ ูู Steam</a> ). <br><br>  ุณูุชู ุชูุฏููู ูู ุดูู ุจุฑูุงูุฌ ุชุนูููู - ูุง ุฃุฑุบุจ ูู ุชุญููู ุฃูุตู ุฃุฏุงุก ูู ุงูุดูุฑุฉ ุ ูููู ููุท ูู ุจุฅูุดุงุก ุฅุตุฏุงุฑ ูุนุงู ุ ูุจุนุฏ ุฐูู ุณุฃุจุฏุฃ ูู ุชุญุณููู ูุชุญุณููู. <br><br>  ููุณ ูุฏู ุฃู ุฎุจุฑุฉ ูู ุฅูุดุงุก ุฃูุนุงุจ ุฃู ูุญุฑูุงุช ุฃูุนุงุจ ุ ููุฏู ุฎุจุฑุฉ ููููุฉ ูู ูุชุงุจุฉ ุงูููุงูุงุช ุ ูุฐูู ููููู ุงูุชุฑุงุญ ุชุบููุฑุงุชู ุงูุฎุงุตุฉ ุฃู ุญุชู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุงููุงูู. <br><br>  ูููุง ููู ูุงุฆูุฉ ุจุงูููุงุฑุฏ ูุงูุฑูุงุจุท. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ูุชุงุจ ูุนุจุฉ ูุญุฑู ุงููุชุงุจ ุงูุฃุณูุฏ: DOOM ูุงุจูุงู Sanglar</a> .  ูุงุญุฏุฉ ูู ุฃูุถู ุงููุชุจ ุนูู DOOM ุงูุฏุงุฎููุฉ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูููุช ููู</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DOOM ุดูุฑุฉ ุงููุตุฏุฑ</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดูุฑุฉ ุงููุตุฏุฑ</a> <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ูุชุทูุจุงุช </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Visual Studio: ุฃู IDE ุณููุนู ุ  ุณุฃุนูู ูู Visual Studio 2017. </li><li style=";text-align:right;direction:rtl">  SDL2: ุงูููุชุจุงุช. </li><li style=";text-align:right;direction:rtl">  DOOM: ูุณุฎุฉ ูู ุฅุตุฏุงุฑ Steam ูู Ultimate DOOM ุ ูุญุชุงุฌ ููุท ุฅูู ููู WAD ููู. </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุงุฎุชูุงุฑู </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Slade3: ุฃุฏุงุฉ ุฌูุฏุฉ ูุงุฎุชุจุงุฑ ุนูููุง. </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุฃููุงุฑ </h3><br>  ูุง ุฃุนุฑู ุ ูููููู ุฅููุงู ูุฐุง ุงููุดุฑูุน ุ ููููู ุณุฃุจุฐู ูุตุงุฑู ุฌูุฏู ููุฐุง ุงูุบุฑุถ. <br><br>  ุณูููู Windows ูู ุงููุธุงู ุงูุฃุณุงุณู ุงูุฎุงุต ุจู ุ ููู ุจูุง ุฃููู ุฃุณุชุฎุฏู SDL ุ ูุณุชุฌุนู ุงููุญุฑู ูุนูู ุชุญุช ุฃู ูุธุงู ุฃุณุงุณู ุขุฎุฑ. <br><br>  ูู ุบุถูู ุฐูู ุ ูู ุจุชุซุจูุช Visual Studio! <br><br>  ุชูุช ุฅุนุงุฏุฉ ุชุณููุฉ ุงููุดุฑูุน ูู Handmade DOOM ุฅูู Do It Yourself Doom ุจุงุณุชุฎุฏุงู SLD (DIY Doom) ุจุญูุซ ูุง ูุชู ุงูุฎูุท ุจููู ูุจูู ุงููุดุฑูุนุงุช ุงูุฃุฎุฑู ุงููุณูุงุฉ "Handmade".  ููุงู ุจุนุถ ููุทุงุช ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุญูุซ ูุง ูุฒุงู ูุทูู ุนููู "DOOM ุงููุฏููุฉ". <br><br><h2 style=";text-align:right;direction:rtl">  ูููุงุช ูุงุฏ </h2><br>  ูุจู ุงูุดุฑูุน ูู ุงูุชุฑููุฒ ุ ุฏุนููุง ูุถุน ุงูุฃูุฏุงู ููููุฑ ูููุง ูุฑูุฏ ุชุญูููู. <br><br>  ุฃููุงู ุ ุฏุนููุง ูุชุญูู ููุง ุฅุฐุง ูุงู ุจุฅููุงููุง ูุฑุงุกุฉ ูููุงุช ููุงุฑุฏ DOOM.  ุฌููุน ููุงุฑุฏ DOOM ููุฌูุฏุฉ ูู ููู WAD. <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ููู WADุ </h2><br>  "ุฃูู ูู ูู ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู"ุ  ("ุฃูู ุชูุฌุฏ ุฌููุน ุจูุงูุงุชูุ") ุฅููู ูู WAD!  WAD ูู ุฃุฑุดูู ูุฌููุน ููุงุฑุฏ DOOM (ูุงูุฃูุนุงุจ ุงููุณุชูุฏุฉ ุฅูู DOOM) ุงูููุฌูุฏุฉ ูู ููู ูุงุญุฏ. <br><br>  ุชูุตู ูุทูุฑู Doom ุฅูู ูุฐุง ุงูุชูุณูู ูุชุจุณูุท ุฅูุดุงุก ุชุนุฏููุงุช ุงููุนุจุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฏ ููู ุชุดุฑูุญ </h2><br>  ูุชููู ููู WAD ูู ุซูุงุซุฉ ุฃุฌุฒุงุก ุฑุฆูุณูุฉ: ุฑุฃุณ ุ ูุชู ุ ูุฃุฏูุฉ. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑุฃุณ - ูุญุชูู ุนูู ูุนูููุงุช ุฃุณุงุณูุฉ ุญูู ููู WAD ูุฅุฒุงุญุฉ ุงูุฏููู. </li><li style=";text-align:right;direction:rtl">  ูุชู - ููุง ูู ููุงุฑุฏ ุงููุนุจุฉ ุงููุฎุฒูุฉ ุ ุจูุงูุงุช ุงูุฎุฑุงุฆุท ุ ุงูุนูุงุฑูุช ุ ุงูููุณููู ุ ุฅูุฎ. </li><li style=";text-align:right;direction:rtl">  ุงูุฏูุงุฆู - ุงููููู ุงูุชูุธููู ููุจุญุซ ุนู ุงูุจูุงูุงุช ูู ุงููุณู ุงูููุทูุน. </li></ol><br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs erlang-repl"> &lt;---- <span class="hljs-number"><span class="hljs-number">32</span></span> bits ----&gt; /------------------\ ---&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>x00 | ASCII WAD Type | <span class="hljs-number"><span class="hljs-number">0</span></span>X03 | |------------------| Header -| <span class="hljs-number"><span class="hljs-number">0</span></span>x04 | # of directories | <span class="hljs-number"><span class="hljs-number">0</span></span>x07 | |------------------| ---&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>x08 | directory offset | <span class="hljs-number"><span class="hljs-number">0</span></span>x0B -- ---&gt; |------------------| &lt;-- | | <span class="hljs-number"><span class="hljs-number">0</span></span>x0C | Lump Data | | | | |------------------| | | Lumps - | | . | | | | | . | | | | | . | | | ---&gt; | . | | | ---&gt; |------------------| &lt;--|--- | | Lump offset | | | |------------------| | Directory -| | directory offset | --- List | |------------------| | | Lump Name | | |------------------| | | . | | | . | | | . | ---&gt; \------------------/</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฑุฃุณ </h3><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุญุฌู ุงูุญูู </th><th>  ููุน ุงูุจูุงูุงุช </th><th>  ูุญุชููุงุช </th></tr></thead><tbody><tr><td>  0x00-0x03 </td><td>  4 ุฃุญุฑู ASCII </td><td>  ุณูุณูุฉ ASCII (ูุน ุงูููู "IWAD" ุฃู "PWAD"). </td></tr><tr><td>  0x04-0x07 </td><td>  ูุซุงูุฉ ุงูุนูููุงุช ุบูุฑ ุงููููุนุฉ </td><td>  ุฑูู ุนูุตุฑ ุงูุฏููู. </td></tr><tr><td>  0x08-0x0b </td><td>  ูุซุงูุฉ ุงูุนูููุงุช ุบูุฑ ุงููููุนุฉ </td><td>  ุฏููู ูููุฉ ุงูุฅุฒุงุญุฉ ูู ููู WAD. </td></tr></tbody></table></div><br><h3 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฏููู </h3><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุญุฌู ุงูุญูู </th><th>  ููุน ุงูุจูุงูุงุช </th><th>  ูุญุชููุงุช </th></tr></thead><tbody><tr><td>  0x00-0x03 </td><td>  ูุซุงูุฉ ุงูุนูููุงุช ุบูุฑ ุงููููุนุฉ </td><td>  ูููุฉ ุงูุฅุฒุงุญุฉ ูู ุจุฏุงูุฉ ุงูุจูุงูุงุช ุงูููุทูุนุฉ ูู ููู WAD. </td></tr><tr><td>  0x04-0x07 </td><td>  ูุซุงูุฉ ุงูุนูููุงุช ุบูุฑ ุงููููุนุฉ </td><td>  ุญุฌู "ูุทุนุฉ" (ููุทูุน) ุจุงูุจุงูุช. </td></tr><tr><td>  0x08-0x0f </td><td>  8 ุฃุญุฑู ASCII </td><td>  ASCII ูุญุชูู ุนูู ุงุณู "ูุทุนุฉ". </td></tr></tbody></table></div><br><h2 style=";text-align:right;direction:rtl">  ุฃูุฏุงู </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุดุฑูุน. </li><li style=";text-align:right;direction:rtl">  ุงูุชุญ ููู WAD. </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุนููุงู. </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุฌููุน ุงูุฏูุงุฆู ูุนุฑุถูุง. </li></ol><br><h2 style=";text-align:right;direction:rtl">  ููุฏุณุฉ ูุนูุงุฑูุฉ </h2><br>  ุฏุนููุง ูุง ุชุนููุฏ ุฃู ุดูุก ุญุชู ุงูุขู.  ูู ุจุฅูุดุงุก ูุตู ููุชุญ ููุท ููููู ุจุชุญููู WAD ุ ูุงุณูู WADLoader.  ุซู ููุชุจ ูุตูุงู ูุณุคููุงู ุนู ูุฑุงุกุฉ ุงูุจูุงูุงุช ููููุง ูุชูุณูููุง ุ ููุทูู ุนูููุง ุงุณู WADReader.  ูุญุชุงุฌ ุฃูุถูุง ุฅูู ูุธููุฉ <code>main</code> ุจุณูุทุฉ ุชุณุชุฏุนู ูุฐู ุงููุฆุงุช. <br><br>  ููุงุญุธุฉ: ูุฏ ูุง ุชููู ูุฐู ุงูุจููุฉ ูุซุงููุฉ ุ ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุณูููู ุจุชุบููุฑูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุตูู ุฅูู ุงูุฑูุฒ </h2><br>  ููุจุฏุฃ ุจุฅูุดุงุก ูุดุฑูุน C ++ ูุงุฑุบ.  ูู Visual Studio ุ ุงููุฑ ููู ููู&gt; ุฌุฏูุฏ -&gt; ูุดุฑูุน.  ุฏุนูุง ูุณูููุง DIYDoom. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/bdc/753/755/bdc7537557888a7ece9738204ecb457d.png"></div><br>  ูููู ุจุฅุถุงูุฉ ูุฆุชูู ุฌุฏูุฏุชูู: WADLoader ู WADReader.  ููุจุฏุฃ ุจุชูููุฐ WADLoader. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WADLoader</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: WADLoader(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sWADFilePath); <span class="hljs-comment"><span class="hljs-comment">// We always want to make sure a WAD file is passed bool LoadWAD(); // Will call other helper functions to open and load the WAD file ~WADLoader(); // Clean up! protected: bool OpenAndLoad(); // Open the file and load it to memory bool ReadDirectories(); // A function what will iterate though the directory section std::string m_sWADFilePath; // Sore the file name passed to the constructor std::ifstream m_WADFile; // The file stream that will pint to the WAD file. uint8_t *m_WADData; // let's load the file and keep it in memory! It is just a few MBs! std::vector&lt;Directory&gt; m_WADDirectories; //let's store all the directories in this vector. };</span></span></code> </pre> <br>  ุณูููู ุชูููุฐ ุงูููุดุฆ ุจุณูุทูุง: ูู ุจุชููุฆุฉ ูุคุดุฑ ุงูุจูุงูุงุช ูุชุฎุฒูู ูุณุฎุฉ ูู ุงููุณุงุฑ ุงูุฐู ุชู ูููู ุฅูู ููู WAD. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">WADLoader::WADLoader(<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sWADFilePath) : m_WADData(<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>), m_sWADFilePath(sWADFilePath) { }</code> </pre> <br>  ุงูุขู ุฏุนูุง <code>OpenAndLoad</code> ุฅูู ุชูููุฐ ุงููุธููุฉ ุงูุฅุถุงููุฉ ูุชุญููู <code>OpenAndLoad</code> : ูุญู ูุญุงูู ููุท ูุชุญ ุงูููู ุนูู ุฃูู ุซูุงุฆู ุ ููู ุญุงูุฉ ุงููุดู ุ ูุนุฑุถ ุฎุทุฃ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">m_WADFile.open(m_sWADFilePath, ifstream::binary); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!m_WADFile.is_open()) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error: Failed to open WAD file"</span></span> &lt;&lt; m_sWADFilePath &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  ุฅุฐุง ุณุงุฑุช ุงูุฃููุฑ ุนูู ูุง ูุฑุงู ุ ููููููุง ุงูุนุซูุฑ ุนูู ุงูููู ููุชุญู ุ ูุณูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุญุฌู ุงูููู ูู ุฃุฌู ุชุฎุตูุต ุฐุงูุฑุฉ ููุณุฎ ุงูููู ุฅููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">m_WADFile.seekg(<span class="hljs-number"><span class="hljs-number">0</span></span>, m_WADFile.end); <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> length = m_WADFile.tellg();</code> </pre> <br>  ุงูุขู ูุญู ูุนุฑู ููุฏุงุฑ ุงููุณุงุญุฉ ุงูุชู ูุณุชุบุฑููุง WAD ุงููุงูู ุ ูุณูู ูููู ุจุชุฎุตูุต ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงูุถุฑูุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">m_WADData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span>[length];</code> </pre> <br>  ุงูุณุฎ ูุญุชููุงุช ุงูููู ุฅูู ูุฐู ุงูุฐุงูุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// remember to know the file size we had to move the file pointer all the way to the end! We need to move it back to the beginning. m_WADFile.seekg(ifstream::beg); m_WADFile.read((char *)m_WADData, length); // read the file and place it in m_WADData m_WADFile.close();</span></span></code> </pre> <br>  ุฑุจูุง ูุงุญุธุช ุฃููู ุงุณุชุฎุฏูุช ููุน <code>m_WADData</code> ูููุน ุจูุงูุงุช ูู <code>unint8_t</code> .  ูุฐุง ูุนูู ุฃููู ุจุญุงุฌุฉ ุฅูู ูุฌููุนุฉ ูุญุฏุฏุฉ ูู 1 ุจุงูุช (1 ุจุงูุช * ุทูู).  ูุถูู ุงุณุชุฎุฏุงู unint8_t ุฃู ุงูุญุฌู ูุณุงูู ููุจุงูุชุฉ (8 ุจุชุงุช ุ ูุงูุชู ูููู ููููุง ูู ุงุณู ุงูููุน).  ุฅุฐุง ุฃุฑุฏูุง ุชุฎุตูุต 2 ุจุงูุช (16 ุจุช) ุ ูุณูุณุชุฎุฏู unint16_t ุ ูุงูุฐู ุณูุชุญุฏุซ ุนูู ูุงุญููุง.  ุจุงุณุชุฎุฏุงู ูุฐู ุงูุฃููุงุน ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุตุจุญ ุงูููุฏ ูุณุชูููุง ุนู ุงููุธุงู ุงูุฃุณุงุณู.  ุณุฃุดุฑุญ ูู: ุฅุฐุง ุงุณุชุฎุฏููุง ูููุฉ "int" ุ ูุฅู ุงูุญุฌู ุงูุฏููู ููุฅุฏุฎุงู ูู ุงูุฐุงูุฑุฉ ูุนุชูุฏ ุนูู ุงููุธุงู.  ุฅุฐุง ูููุง ุจุชุฑุฌูุฉ "int" ูู ุชูููู 32 ุจุช ุ ูุญุตู ุนูู ุญุฌู ุฐุงูุฑุฉ 4 ุจุงูุช (32 ุจุช) ุ ูุนูุฏ ุชุฌููุน ููุณ ุงูุฑูุฒ ูู ุชูููู 64 ุจุช ุ ูุญุตู ุนูู ุญุฌู ุฐุงูุฑุฉ 8 ุจุงูุช (64 ุจุช)!  ูุงูุฃุณูุฃ ูู ุฐูู ุ ุฃู ุชุฌููุน ุงูููุฏ ุนูู ููุตุฉ 16 ุจุช (ูุฏ ุชููู ูู ูุญุจู DOS) ุณูููุญูุง 2 ุจุงูุช (16 ุจุช)! <br><br>  ุฏุนููุง ุงูุชุญูู ูู ุฑูุฒ ููุชุฑุฉ ูุฌูุฒุฉ ูุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู.  ููู ุฃููุงู ูุญุชุงุฌ ุฅูู ุชุทุจูู LoadWAD.  ุฃุซูุงุก ุงุณุชุฏุนุงุก LoadWAD "OpenAndLoad" <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> WADLoader::LoadWAD() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!OpenAndLoad()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูุฏุนููุง ูุถูู ุฅูู ุฑูุฒ ุงููุธููุฉ ุงูุฑุฆูุณู ุงูุฐู ููุดุฆ ูุซูููุง ูููุฆุฉ ููุญุงูู ุชุญููู WAD <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">WADLoader </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wadloader</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"D:\\SDKs\\Assets\\Doom\\DOOM.WAD"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; wadloader.LoadWAD(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  <strong>ุณูู ุชุญุชุงุฌ ุฅูู ุฅุฏุฎุงู ุงููุณุงุฑ ุงูุตุญูุญ ูููู WAD ุงูุฎุงุต ุจู.</strong>  ูููู ุจุชุดุบููู! <br><br>  ุฃูุชุด!  ุญุตููุง ุนูู ูุงูุฐุฉ ูุญุฏุฉ ุงูุชุญูู ุงูุชู ุชูุชุญ ููุท ูุจุถุน ุซูุงู!  ูุง ุดูุก ูููุฏ ุจุดูู ุฎุงุต ... ูู ูุนูู ุงูุจุฑูุงูุฌุ  ุงูููุฑุฉ!  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูุฐุงูุฑุฉ ููุฑู ูุง ูููุง!  ุฑุจูุง ููุงู ุณูู ูุฌุฏ ุดูุฆุง ุฎุงุตุง!  ุฃููุงู ุ ุถุน ููุทุฉ ุชููู ุจุงูููุฑ ุงููุฒุฏูุฌ ุนูู ูุณุงุฑ ุฑูู ุงูุณุทุฑ.  ูุฌุจ ุฃู ุชุฑู ุดูุก ูุซู ูุฐุง: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/44b/c5c/760/44bc5c7609610c9f8f1efd2c2e2046ef.png"></div><br>  ููุฏ ูุถุนุช ููุทุฉ ุชููู ุนูู ุงูููุฑ ุจุนุฏ ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุช ูู ุงูููู ูููุธุฑ ูู ุตููู ุงูุฐุงูุฑุฉ ููุนุฑูุฉ ูุง ุชู ุชุญูููู ููู.  ุงูุขู ูู ุจุชุดุบูู ุงูููุฏ ูุฑุฉ ุฃุฎุฑู!  ูู ุงููุงูุฐุฉ ุงูุชููุงุฆูุฉ ุ ุฃุฑู ุงูุจุงูุชุงุช ุงูููููุฉ ุงูุฃููู.  ุฃูู 4 ุจุงูุช ูููู "IWAD"!  ุนุธูู ุ ุฅูู ูุนูู!  ูู ุงุนุชูุฏ ุงุจุฏุง ุงู ูุฐุง ุงูููู ุณูุฃุชู!  ุญุณููุง ุ ุชุญุชุงุฌ ุฅูู ุชูุฏุฆุฉ ุ ูุง ูุฒุงู ููุงู ุงููุซูุฑ ูู ุงูุนูู ุงูุฐู ููุชุธุฑูุง! <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4c4/1a3/ddb/4c41a3ddb26bfa88f350435ca4792c31.png" alt="ุงูุชุตุญูุญ"></div><br><h2 style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุฑุฃุณ </h2><br>  ุงูุญุฌู ุงูููู ููุฑุฃุณ ูู 12 ุจุงูุช (ูู 0x00 ุฅูู 0x0b) ุ ูุชููุณู ูุฐู ุงูุจุงูุชุงุช 12 ุฅูู 3 ูุฌููุนุงุช.  ุฃูู 4 ุจุงูุช ูู ููุน ูู WAD ุ ุนุงุฏุฉู "IWAD" ุฃู "PWAD".  ูุฌุจ ุฃู ูููู IWAD ูู WAD ุงูุฑุณูู ุงูุตุงุฏุฑ ุนู ุจุฑูุงูุฌ ID ุ ููุฌุจ ุงุณุชุฎุฏุงู "PWAD" ูู ุงูุชุนุฏููุงุช.  ุจูุนูู ุขุฎุฑ ุ ูุฐู ูุฌุฑุฏ ุทุฑููุฉ ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ููู WAD ูู ุฅุตุฏุงุฑ ุฑุณูู ุ ุฃู ุชู ุฅุตุฏุงุฑู ุจูุงุณุทุฉ ุงูููุฏุนูู.  ูุงุญุธ ุฃู ุงูุณูุณูุฉ ููุณุช ุฎุงููุฉ NULL ุ ูุฐูู ูู ุญุฐุฑุง!  4 ุจุงูุช ุงูุชุงููุฉ ุบูุฑ ูููุนุฉ int ุ ูุงูุฐู ูุญุชูู ุนูู ุฅุฌูุงูู ุนุฏุฏ ุงูุฏูุงุฆู ูู ููุงูุฉ ุงูููู.  ุชุดูุฑ ูุญุฏุงุช ุงูุจุงูุช ุงูุฃุฑุจุน ุงูุชุงููุฉ ุฅูู ุฅุฒุงุญุฉ ุงูุฏููู ุงูุฃูู. <br><br>  ุฏุนูุง ูุถูู ุงููููู ุงูุฐู ุณูุฎุฒู ุงููุนูููุงุช.  ุณุฃุถูู ููู ุฑุฃุณ ุฌุฏูุฏ ูุฃุทูู ุนููู ุงุณู "DataTypes.h".  ูู ุฐูู ุณูุตู ุฌููุน ุงูููุงูู ุงูุชู ูุญุชุงุฌูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Header</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> WADType[<span class="hljs-number"><span class="hljs-number">5</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// I added an extra character to add the NULL uint32_t DirectoryCount; //uint32_t is 4 bytes (32 bits) uint32_t DirectoryOffset; // The offset where the first directory is located. };</span></span></code> </pre> <br>  ูุญุชุงุฌ ุงูุขู ุฅูู ุชุทุจูู ูุฆุฉ WADReader ุ ูุงูุชู ุณุชููู ุจูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุตููู ุจุงูุช WAD ุงููุญููู.  ุฃูุชุด!  ููุงู ุฎุฏุนุฉ ููุง - ูููุงุช WAD ุจุชูุณูู endian ุงููุจูุฑ ุ ุฃู ุฃููุง ุณูุญุชุงุฌ ุฅูู ุชุญููู ุงูุจุงูุชุงุช ูุฌุนููุง ุตุบูุฑุฉ ุงูููุงูุฉ (ุงูููู ุ ุชุณุชุฎุฏู ูุนุธู ุงูุฃูุธูุฉ endian ููููุงู).  ููููุงู ุจุฐูู ุ ุณูุถูู ูุธููุชูู ุ ูุงุญุฏุฉ ููุนุงูุฌุฉ 2 ุจุงูุช (16 ุจุช) ุ ูุงูุขุฎุฑ ููุนุงูุฌุฉ 4 ุจุงูุช (32 ุจุช) ุ  ุฅุฐุง ููุง ุจุญุงุฌุฉ ุฅูู ูุฑุงุกุฉ ุจุงูุช ูุงุญุฏ ููุท ุ ููุง ูุฌุจ ูุนู ุดูุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> WADReader::bytesToShort(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *pWADData, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (pWADData[offset + <span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | pWADData[offset]; } <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> WADReader::bytesToInteger(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *pWADData, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (pWADData[offset + <span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">24</span></span>) | (pWADData[offset + <span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>) | (pWADData[offset + <span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | pWADData[offset]; }</code> </pre> <br>  ูุญู ุงูุขู ุนูู ุงุณุชุนุฏุงุฏ ููุฑุงุกุฉ ุงูุนููุงู: ุนุฏ ุงูุจุงูุชุงุช ุงูุฃุฑุจุนุฉ ุงูุฃููู ูู char ุ ุซู ุฃุถู NULL ุฅูููุง ูุชุจุณูุท ุนูููุง.  ูู ุญุงูุฉ ุนุฏุฏ ุงูุฏูุงุฆู ูุงูุฅุฒุงุญุฉ ุงูุฎุงุตุฉ ุจูู ุ ููููู ุจุจุณุงุทุฉ ุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุณุงุนุฏุฉ ูุชุญููููุง ุฅูู ุงูุชูุณูู ุงูุตุญูุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> WADReader::ReadHeaderData(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *pWADData, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset, Header &amp;header) { <span class="hljs-comment"><span class="hljs-comment">//0x00 to 0x03 header.WADType[0] = pWADData[offset]; header.WADType[1] = pWADData[offset + 1]; header.WADType[2] = pWADData[offset + 2]; header.WADType[3] = pWADData[offset + 3]; header.WADType[4] = '\0'; //0x04 to 0x07 header.DirectoryCount = bytesToInteger(pWADData, offset + 4); //0x08 to 0x0b header.DirectoryOffset = bytesToInteger(pWADData, offset + 8); }</span></span></code> </pre> <br>  ุฏุนูุง ูุฌูุน ูู ุฐูู ูุนูุง ุ ููุฏุนู ูุฐู ุงููุธุงุฆู ูุทุจุงุนุฉ ุงููุชุงุฆุฌ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> WADLoader::ReadDirectories() { WADReader reader; Header header; reader.ReadHeaderData(m_WADData, <span class="hljs-number"><span class="hljs-number">0</span></span>, header); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; header.WADType &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; header.DirectoryCount &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; header.DirectoryOffset &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูู ุจุชุดุบูู ุงูุจุฑูุงูุฌ ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูู ุดูุก ูุนูู! <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dfa/693/d03/dfa693d039ab66df047768c209561ac2.png"></div><br>  ! ููุชุงุฒ  ุฎุท IWAD ูุฑุฆู ุจูุถูุญ ุ ููู ูู ุงูุฑููุงู ุงูุขุฎุฑุงู ุตุญูุญุงูุ  ุฏุนููุง ูุญุงูู ูุฑุงุกุฉ ุงูุฏูุงุฆู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุฅุฒุงุญุฉ ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูุนูู! <br><br>  ูุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุจููุฉ ุฌุฏูุฏุฉ ููุชุนุงูู ูุน ุงูุฏููู ุงููุทุงุจู ููุฎูุงุฑุงุช ุงููุฐููุฑุฉ ุฃุนูุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Directory</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> LumpOffset; <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> LumpSize; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> LumpName[<span class="hljs-number"><span class="hljs-number">9</span></span>]; };</code> </pre> <br>  ุงูุขู ุฏุนููุง ูุถูู ูุธููุฉ ReadDirectories: ุนุฏ ุงูุฅุฒุงุญุฉ ูุฅุฎุฑุงุฌูุง! <br><br>  ูู ูู ุชูุฑุงุฑ ุ ูููู ุจุถุฑุจ i * 16 ููุงูุชูุงู ุฅูู ุฒูุงุฏุฉ ุงูุฅุฒุงุญุฉ ูู ุงูุฏููู ุงูุชุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Directory directory; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; header.DirectoryCount; ++i) { reader.ReadDirectoryData(m_WADData, header.DirectoryOffset + i * <span class="hljs-number"><span class="hljs-number">16</span></span>, directory); m_WADDirectories.push_back(directory); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; directory.LumpOffset &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; directory.LumpSize &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; directory.LumpName &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }</code> </pre> <br>  ุดุบูู ุงูููุฏ ูุดุงูุฏ ูุง ูุญุฏุซ.  ูุฌุงุญ ุจุงูุฑ!  ูุงุฆูุฉ ูุจูุฑุฉ ูู ุงูุฏูุงุฆู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8fb/7b5/af6/8fb7b5af6df0d44303c11d5bd005e93d.png" alt="ุชุดุบูู 2"></div><br>  ุงุฐุง ุญูููุง ูู ุฎูุงู ุงูุงุณู ููุทูุน ุ ูููููุง ุฃู ููุชุฑุถ ุฃููุง ุชูููุง ูู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ ุ ูููู ุฑุจูุง ููุงู ุทุฑููุฉ ุฃูุถู ููุชุญูู ูู ุฐูู.  ุณูู ูููู ูุธุฑุฉ ุนูู ุฅุฏุฎุงูุงุช ุฏููู WAD ุจุงุณุชุฎุฏุงู Slade3. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/6b7/21c/d1c6b721c04575fe71785efe1f2bdbd3.png"></div><br>  ูุจุฏู ุฃู ุงุณู ูุญุฌู ุงููุชูุฉ ูุชูุงูู ูุน ุงูุจูุงูุงุช ุงูุชู ุชู ุงูุญุตูู ุนูููุง ุจุงุณุชุฎุฏุงู ุงูุฑูุฒ ุงูุฎุงุต ุจูุง.  ุงูููู ูููุง ุจุนูู ุฑุงุฆุน! <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุญุธุงุช ุฃุฎุฑู </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ ูุง ุ ุงุนุชูุฏุช ุฃูู ุณูููู ูู ุงูุฌูุฏ ุงุณุชุฎุฏุงู ุงููุชุฌู ูุชุฎุฒูู ุงูุฃุฏูุฉ.  ููุงุฐุง ูุง ุชุณุชุฎุฏู ุงูุฎุฑูุทุฉุ  ุณูููู ูุฐุง ุฃุณุฑุน ูู ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุนู ุทุฑูู ุงูุจุญุซ ุงููุชุฌู ุงูุฎุทู.  ูุฐู ููุฑุฉ ุณูุฆุฉ.  ุนูุฏ ุงุณุชุฎุฏุงู ุงูุฎุฑูุทุฉ ุ ูู ูุชู ุชุชุจุน ุชุฑุชูุจ ุฅุฏุฎุงูุงุช ุงูุฏููู ุ ููููุง ูุญุชุงุฌ ุฅูู ูุฐู ุงููุนูููุงุช ููุญุตูู ุนูู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ. <br><br>  ูููุฑุฉ ุฎุงุทุฆุฉ ุฃุฎุฑู: ูุชู ุชุทุจูู Map ูู C ++ ูุฃุดุฌุงุฑ ุญูุฑุงุก ุณูุฏุงุก ูุน ููุช ุงูุจุญุซ O (log N) ุ ูุงูุชูุฑุงุฑุงุช ุนูู ุงูุฎุฑูุทุฉ ุฏุงุฆููุง ุชุนุทู ุชุฑุชูุจูุง ูุชุฒุงูุฏูุง ููููุงุชูุญ.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุจููุฉ ุจูุงูุงุช ุชุนุทู ูุชูุณุท โโุงูููุช O (1) ูุฃุณูุฃ ููุช O (N) ุ ูุนููู ุงุณุชุฎุฏุงู ุฎุฑูุทุฉ ุบูุฑ ูุฑุชุจุฉ. </li><li style=";text-align:right;direction:rtl">  <s>ููุณ ุชุญููู ุฌููุน ูููุงุช WAD ูู ุงูุฐุงูุฑุฉ ุทุฑููุฉ ุชูููุฐ ูุซุงููุฉ.</s>  <s>ุณูููู ุฃูุซุฑ ููุทููุฉ ุจุจุณุงุทุฉ ูุฑุงุกุฉ ุงูุฏูุงุฆู ูู ุฑุฃุณ ุงูุฐุงูุฑุฉ ุ ููู ุซู ุงูุนูุฏุฉ ุฅูู ููู WAD ูุชุญููู ุงูููุงุฑุฏ ูู ุงููุฑุต.</s>  <s>ูุฃูู ูู ููู ูู ุงูุฃูุงู ุฃู ูุชุนูู ุงููุฒูุฏ ุนู ุงูุชุฎุฒูู ุงููุคูุช.</s> <br><br>  <strong>DOOMReboot</strong> : <em>ูุง ุฃูุงูู ุชูุงููุง.</em>  <em>ุชุนุฏ 15 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุฐู ุชุงูููุง ุชุงููุง ุ ูุณุชููู ุงููุฑุงุกุฉ ูู ุงูุฐุงูุฑุฉ ุฃุณุฑุน ูุซูุฑูุง ูู fseek ุงูุถุฎู ุ ุงูุฐู ุณูุชุนูู ุงุณุชุฎุฏุงูู ุจุนุฏ ุชูุฒูู ูู ูุง ูู ุถุฑูุฑู ูููุณุชูู.</em>  <em>ุณูุคุฏู ุฐูู ุฅูู ุฒูุงุฏุฉ ููุช ุงูุชูุฒูู ุจูุง ูุง ููู ุนู ุซุงููุฉ ุฅูู ุซุงููุชูู (ูุณุชุบุฑู ุงูุฃูุฑ ุฃูู ูู 20 ูููู ุซุงููุฉ ููุชูุฒูู ุทูุงู ุงูููุช).</em>  <em>fseek ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุดุบูู.</em>  <em>ูุง ุงูููู ุงูุฃูุซุฑ ุงุญุชูุงูุงู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช RAM ุ ูููู ูุฏ ูุง.</em>  <em>ูููู ุญุชู ูู ูุงู ููุงู ุ ูุฅูู ูุนุฏ ูุถูุนุฉ ูุจูุฑุฉ ููููุงุฑุฏ ููุฐู ุงูุนูููุงุช ุณูู ุชุฑุจู ุงูุนุฏูุฏ ูู ูุฑุงุกุงุช WAD ูู ุญูุซ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ.</em>  <em>ุฃูุถู ุดูุก ูู ุฃูู ููููู ุฅูุดุงุก ุทุฑู ุชูููุฏ ูุฎุชูุทุฉ ูุชุฎุฒูู ุจูุงูุงุช WAD ููุณุชูู ููุงุณุจ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช L3 ูููุนุงูุฌุงุช ุงูุญุฏูุซุฉ ุ ุญูุซ ุณุชููู ุงููุฏุฎุฑุงุช ูุฐููุฉ.</em> </li></ul><br><h2 style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดูุฑุฉ ุงููุตุฏุฑ</a> <br><br><h2 style=";text-align:right;direction:rtl">  ุจูุงูุงุช ุงูุจุทุงูุฉ ุงูุฃุณุงุณูุฉ </h2><br>  ุจุนุฏ ุฃู ุชุนููุช ูุฑุงุกุฉ ููู WAD ุ ุฏุนููุง ูุญุงูู ุงุณุชุฎุฏุงู ุจูุงูุงุช ุงููุฑุงุกุฉ.  ุณูููู ูู ุงูุฑุงุฆุน ุชุนูู ููููุฉ ูุฑุงุกุฉ ุจูุงูุงุช ุงููููุฉ (ุงููุณุชูู / ุงูุนุงูู) ูุชุทุจูููุง.  ูุฌุจ ุฃู ุชููู "ุงููุทุน" ููุฐู ุงูููุงู (Mission Lumps) ูุนูุฏุฉ ูุตุนุจุฉ.  ูุฐูู ุ ุณูู ูุญุชุงุฌ ุฅูู ุงูุชุญุฑู ูุชุทููุฑ ุงููุนุฑูุฉ ุชุฏุฑูุฌูุงู.  ูุฎุทูุฉ ุฃููู ุตุบูุฑุฉ ุ ุฏุนููุง ููุดุฆ ุดูุฆูุง ูุดุจู ููุฒุฉ Automap: ุฎุทุฉ ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ ูุฎุฑูุทุฉ ุฐุงุช ููุธุฑ ุนููู.  ุฃููุงู ุ ุฏุนูุง ูุฑู ูุง ูู ุฏุงุฎู "ูููุฉ ุงูุจุนุซุฉ". <br><br><h2 style=";text-align:right;direction:rtl">  ุชุดุฑูุญ ุงูุจุทุงูุฉ </h2><br>  ููุจุฏุฃ ูู ุฌุฏูุฏ: ูุตู ูุณุชููุงุช DOOM ูุดุจู ุฅูู ุญุฏ ูุจูุฑ ุงูุฑุณู ุซูุงุฆู ุงูุฃุจุนุงุฏ ุ ุงูุฐู ุชููุฒุช ุนููู ุงูุฌุฏุฑุงู ุจุฎุทูุท.  ููุน ุฐูู ุ ููุญุตูู ุนูู ุฅุญุฏุงุซูุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ูุฃุฎุฐ ูู ุฌุฏุงุฑ ุงุฑุชูุงุน ุงูุฃุฑุถ ูุงูุณูู (XY ูู ุงูุทุงุฆุฑุฉ ุงูุชู ูุชุญุฑู ุจูุง ุฃููููุง ุ ู Z ูู ุงูุงุฑุชูุงุน ุงูุฐู ูุณูุญ ููุง ุจุงูุชุญุฑู ูุฃุนูู ููุฃุณูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนู ุทุฑูู ุฑูุน ุงููุตุนุฏ ุฃู ุงูููุฒ ุฅูู ุฃุณูู ูู ููุตุฉ. ูุชู ุงุณุชุฎุฏุงู ููููุงุช ุงูุฅุญุฏุงุซูุงุช ูุชูุฏูู ุงููููุฉ ูุนุงูู ุซูุงุซู ุงูุฃุจุนุงุฏ ุ ููุน ุฐูู ุ ูุถูุงู ุงูุฃุฏุงุก ุงูุฌูุฏ ุ ูุฅู ุงููุญุฑู ูุฏูู ูููุฏ ูุนููุฉ: ูุง ุชูุฌุฏ ุบุฑู ุชูุน ูุงุญุฏุฉ ููู ุงูุฃุฎุฑู ุนูู ุงููุณุชููุงุช ููุง ูููู ูููุดุบู ุงูุจุญุซ ููุฃุนูู ูููุฃุณูู.  ุงูุตุฎูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุตูุงุฑูุฎ ุ ุชุตุนุฏ ุนููุฏููุง ูุชุตู ุฅูู ูุฏู ููุฌูุฏ ุนูู ููุตุฉ ุฃุนูู. <br><br>  ุชุณุจุจุช ูุฐู ุงูููุฒุงุช ุงูุบุฑูุจุฉ ูู holivars ูุง ููุงูุฉ ููุง ุญูู ูุง ุฅุฐุง ูุงู DOOM ูู ูุญุฑู ุซูุงุฆู ุงูุฃุจุนุงุฏ ุฃู ุซูุงุซู ุงูุฃุจุนุงุฏ.  ุชุฏุฑูุฌูุง ุ ุชู ุงูุชูุตู ุฅูู ุญู ูุณุท ุฏุจูููุงุณู ุ ููุง ุฃููุฐ ุงูุนุฏูุฏ ูู ุงูุฃุฑูุงุญ: ุงุชูู ุงูุทุฑูุงู ุนูู ุชุณููุฉ "2.5D" ููุจููุฉ ููููููุง. <br><br>  ูุชุจุณูุท ุงููููุฉ ูุงูุนูุฏุฉ ุฅูู ุงูููุถูุน ุ ุฏุนููุง ูุญุงูู ููุท ูุฑุงุกุฉ ูุฐู ุงูุจูุงูุงุช ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูููู ุงุณุชุฎุฏุงููุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ุจุนุฏ ุฐูู ุ ุณูุญุงูู ุชูุฏูููุง ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ููููุง ุจุญุงุฌุฉ ุงูุขู ุฅูู ููู ููููุฉ ุนูู ุงูุฃุฌุฒุงุก ุงููุฑุฏูุฉ ูู ุงููุญุฑู ูุนูุง. <br><br>  ุจุนุฏ ุฅุฌุฑุงุก ุงูุจุญูุซ ุ ุงูุชุดูุช ุฃู ูู ูููุฉ ุชุชููู ูู ูุฌููุนุฉ ูู "ุงููุทุน".  ูุชู ุชูุซูู "ูุชู" ูุฐู ุฏุงุฆููุง ูู ููู WAD ุงูุฎุงุต ุจูุนุจุฉ DOOM ุจููุณ ุงูุชุฑุชูุจ. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุงูุฑุคูุณ:</strong> ููุงุท ุงูููุงูุฉ ููุฌุฏุฑุงู ูู 2D.  ุดููุงู VERTEX ูุชุตูุงู ูู LINEDEF.  ุซูุงุซุฉ VERTEX ูุชุตูุฉ ุชุดูู ุฌุฏุงุฑูู / LINEDEF ุ ูููู ุฌุฑุง.  ูููู ุงุนุชุจุงุฑูุง ุจุจุณุงุทุฉ ููุงุท ุงุชุตุงู ูุฌุฏุงุฑูู ุฃู ุฃูุซุฑ.  (ูุนู ุ ูุนุธู ุงููุงุณ ููุถููู ุงูุฌูุน "Vertices" ุ ููู John Carmack ูู ูุนุฌุจูู. ููููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">merriam-webster</a> ุ ููุทุจู ููุง ุงูุฎูุงุฑูู. </li><li style=";text-align:right;direction:rtl">  <strong>LINEDEFS:</strong> ุฎุทูุท ุชุดููู ุงูููุงุตู ุจูู ุงูููู ูุชุดููู ุงูุฌุฏุฑุงู.  ูุง ุชุชุตุฑู ุฌููุน ุงูุฎุทูุท (ุงูุฌุฏุฑุงู) ููุง ูู ุ ูููุงู ุฃุนูุงู ุชุญุฏุฏ ุณููู ูุฐู ุงูุฎุทูุท. </li><li style=";text-align:right;direction:rtl">  <strong>ุฌูุงูุจ ุฌุงูุจูุฉ:</strong> ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ ุ ุงูุฌุฏุฑุงู ููุง ูุฌูุงู - ููุธุฑ ุฅูู ุฌุงูุจ ุ ูุงูุซุงูู ุนูู ุงูุฌุงูุจ ุงูุขุฎุฑ.  ูููู ุฃู ูููู ููุฌุงูุจูู ููุงู ูุฎุชูู ุ ู SIDEDEFS ูู ุงูููุทูุน ุงูุฐู ูุญุชูู ุนูู ูุนูููุงุช ุงููุณูุฌ ููุฌุฏุงุฑ (LINEDEF). </li><li style=";text-align:right;direction:rtl">  <strong>ุงููุทุงุนุงุช:</strong> ุงููุทุงุนุงุช ูู "ุบุฑู" ุญุตูุช ุนูููุง LINEDEF.  ูุญุชูู ูู ูุทุงุน ุนูู ูุนูููุงุช ูุซู ุงุฑุชูุงุน ุงูุฃุฑุถ ูุงูุณูู ุ ูุงูููุงู ุ ูููู ุงูุฅุถุงุกุฉ ุ ูุงูุฅุฌุฑุงุกุงุช ุงูุฎุงุตุฉ ุ ูุซู ููู ุงูุฃุฑุถูุงุช / ุงูููุตุงุช / ุงููุตุงุนุฏ.  ุชุคุซุฑ ุจุนุถ ูุฐู ุงููุนููุงุช ุฃูุถูุง ุนูู ุงูุทุฑููุฉ ุงูุชู ูุชู ุจูุง ุชูุฏูู ุงูุฌุฏุฑุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชูู ุงูุฅุถุงุกุฉ ูุญุณุงุจ ุฅุญุฏุงุซูุงุช ุชุนููู ุงููุณูุฌ. </li><li style=";text-align:right;direction:rtl">  <strong>SSECTORS:</strong> (ุงููุทุงุนุงุช ุงููุฑุนูุฉ) ุชุดูู ููุงุทู ูุญุฏุจุฉ ุฏุงุฎู ูุทุงุน ูุชู ุงุณุชุฎุฏุงููุง ูู ุงูุชูุฏูู ุฌูุจูุง ุฅูู ุฌูุจ ูุน BSP ุงูุงูุชูุงููุฉ ุ ูุชุณุงุนุฏ ุฃูุถูุง ูู ุชุญุฏูุฏ ููุงู ูุฌูุฏ ุงููุงุนุจ ูู ูุณุชูู ูุนูู.  ุฅููุง ูููุฏุฉ ุชูุงููุง ูุบุงูุจูุง ูุง ุชุณุชุฎุฏู ูุชุญุฏูุฏ ุงููุถุน ุงูุฑุฃุณู ููุงุนุจ.  ูุชููู ูู SSECTOR ูู ุฃุฌุฒุงุก ูุชุตูุฉ ุจูุทุงุน ูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุฌุฏุฑุงู ุงูุชู ุชุดูู ุฒุงููุฉ.  ูุชู ุชุฎุฒูู ูุฐู ุงูุฃุฌุฒุงุก ูู ุงูุฌุฏุฑุงู ุ ุฃู "ุดุฑุงุฆุญ" ุ ูู ููุทูุน ุงูุฎุงุตุฉ ุจูู ุชุณูู ... </li><li style=";text-align:right;direction:rtl">  <strong>SEGS:</strong> ุฃุฌุฒุงุก ุงูุฌุฏุงุฑ / LINEDEF.  ูุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูุฐู ูู "ุดุฑุงุฆุญ" ุงูุฌุฏุงุฑ / LINEDEF.  ูุชู ุชูุฏูู ุงูุนุงูู ูุชุฌุงูุฒ ุดุฌุฑุฉ BSP ูุชุญุฏูุฏ ุงูุฌุฏุฑุงู ุงูุชู ุณูุชู ุฑุณููุง ุฃููุงู (ุงูุฃูู ูู ุงูุฃูุฑุจ).  ุนูู ุงูุฑุบู ูู ุฃู ุงููุธุงู ูุนูู ุจุดูู ุฌูุฏ ููุบุงูุฉ ุ ุฅูุง ุฃูู ูุชุณุจุจ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูู ุงููุณุงู ุงูุฃุณุทุฑ ุฅูู ูุณููู ุฃู ุฃูุซุฑ ูู ูุฌููุนุงุช ุงูุชุฎุทูุท ุงูุงุณุชุฑุงุชูุฌู.  ุซู ูุชู ุงุณุชุฎุฏุงู ูุฐู SEG ูุชูุฏูู ุงูุฌุฏุฑุงู ุจุฏูุง ูู LINEDEF.  ูุชู ุชุญุฏูุฏ ููุฏุณุฉ ูู SSECTOR ุจูุงุณุทุฉ ุงูุฃุฌุฒุงุก ุงูููุฌูุฏุฉ ุจู. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุนูุฏ:</strong> ุนูุฏุฉ BSP ูู ุนูุฏุฉ ูุจููุฉ ุดุฌุฑุฉ ุซูุงุฆูุฉ ุชููู ุจุชุฎุฒูู ุจูุงูุงุช ุงููุทุงุน ุงููุฑุนู.  ูุชู ุงุณุชุฎุฏุงูู ูุชุญุฏูุฏ ุจุณุฑุนุฉ SSECTOR (ู SEG) ุฃูุงู ุงููุงุนุจ.  ูุณูุญ ุงูุชุฎูุต ูู SEG ุงูููุฌูุฏุฉ ุฎูู ุงููุดุบู ุ ูุจุงูุชุงูู ุบูุฑ ุงููุฑุฆู ุ ูููุญุฑู ุจุงูุชุฑููุฒ ุนูู SEGs ุงูุชู ูุญุชูู ุฃู ุชููู ูุฑุฆูุฉ ุ ููุง ูููู ุจุดูู ูุจูุฑ ูู ููุช ุงูุนุฑุถ. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุฃุดูุงุก:</strong> ููุทูุนุฉ ุชุณูู ุงูุฃุดูุงุก ุนุจุงุฑุฉ ุนู ูุงุฆูุฉ ูู ุงูุฌูุงุช ุงููุงุนูุฉ ูู ูุฌุงู ุงูููุงุธุฑ ุงูุทุจูุนูุฉ ูุงูููุงู (ุงูุฃุนุฏุงุก ูุงูุฃุณูุญุฉ ููุง ุฅูู ุฐูู).  ูุญุชูู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ูุฐุง ุงูููุทุน ุนูู ูุนูููุงุช ุญูู ูุซูู ูุงุญุฏ ููููุซู / ุงููุฌููุนุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุน ุงููุงุฆู ูููุทุฉ ุงูุฅูุดุงุก ูุงูุงุชุฌุงู ููุง ุฅูู ุฐูู. </li><li style=";text-align:right;direction:rtl">  <strong>ุฑูุถ:</strong> ูุญุชูู ูุฐุง ุงูููุทูุน ุนูู ุจูุงูุงุช ุญูู ุงููุทุงุนุงุช ุงูุชู ุชููู ูุฑุฆูุฉ ูู ุงููุทุงุนุงุช ุงูุฃุฎุฑู.  ูุชู ุงุณุชุฎุฏุงูู ูุชุญุฏูุฏ ูุชู ูุชุนูู ุงููุญุด ูุฌูุฏ ุงููุงุนุจ.  ูุชู ุงุณุชุฎุฏุงูู ุฃูุถูุง ูุชุญุฏูุฏ ูุทุงู ุชูุฒูุน ุงูุฃุตูุงุช ุงูุชู ุฃูุดุฃูุง ุงููุงุนุจ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุทุงุช.  ุนูุฏูุง ูููู ูุซู ูุฐุง ุงูุตูุช ูุงุฏุฑุงู ุนูู ูููู ุฅูู ูุทุงุน ุงููุญุด ุ ููููู ูุนุฑูุฉ ุงููุงุนุจ.  ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุทุงููุฉ REJECT ูุชุณุฑูุน ุงูุชุนุฑู ุนูู ุชุตุงุฏู ูุฐุงุฆู ุงูุฃุณูุญุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>BLOCKMAP:</strong> ูุนูููุงุช ุงูุชุนุฑู ุนูู ุชุตุงุฏู ุงููุงุนุจ ูุญุฑูุฉ THING.  ูุชููู ูู ุดุจูุฉ ุชุบุทู ููุฏุณุฉ ุงููููุฉ ุจุฃููููุง.  ุชุญุชูู ูู ุฎููุฉ ุดุจูุฉ ุนูู ูุงุฆูุฉ LINEDEFs ุงูููุฌูุฏุฉ ุฏุงุฎููุง ุฃู ุชุชูุงุทุน ูุนูุง.  ูุชู ุงุณุชุฎุฏุงูู ูุชุณุฑูุน ุงูุชุนุฑู ุนูู ุงูุชุตุงุฏูุงุช ุจุดูู ูุจูุฑ: ูุง ููุฒู ุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ุงูุชุตุงุฏู ุฅูุง ูุนุฏุฏ ูููู ูู LINEDEF ููู ูุงุนุจ / ุดูุก ุ ููุง ูููุฑ ููุฉ ุงูุญูุณุจุฉ ุจุดูู ูุจูุฑ. </li></ol><br>  ุนูุฏ ุฅูุดุงุก ุฎุฑูุทุฉ ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ ุ ุณูุฑูุฒ ุนูู VERTEXES ู LINEDEFS.  ุฅุฐุง ุงุณุชุทุนูุง ุฑุณู ุงูููู ูุฑุจุทูุง ุจุงูุฎุทูุท ุงูุชู ุชูุฏููุง linedef ุ ูุนูุฏุฆุฐ ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ูููุฐุฌ ุซูุงุฆู ุงูุฃุจุนุงุฏ ููุฎุฑูุทุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3f4/dd4/a3b/3f4dd4a3b79fab0d47e7f1212a73df83.png" alt="ุฎุฑูุทุฉ ุชุฌุฑูุจูุฉ"></div><br>  ุชุญุชูู ุจุทุงูุฉ ุงูุนุฑุถ ุงูุชูุถูุญู ุงูููุถุญุฉ ุฃุนูุงู ุนูู ุงูุฎุตุงุฆุต ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  4 ููู <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุฉ ุงูุฑุฃุณ 1 ูู (10.10) </li><li style=";text-align:right;direction:rtl">  ุฃุนูู 2 ูู (10ุ100) </li><li style=";text-align:right;direction:rtl">  ุฃุนูู 3 ูู (100 ุ 10) </li><li style=";text-align:right;direction:rtl">  ุงูุฐุฑูุฉ 4 ูู (100ุ100) </li></ul></li><li style=";text-align:right;direction:rtl">  4 ุฎุทูุท <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุท ูู ุฃุนูู 1 ุฅูู 2 </li><li style=";text-align:right;direction:rtl">  ุฎุท ูู ุฃุนูู 1 ุฅูู 3 </li><li style=";text-align:right;direction:rtl">  ุฎุท ูู ุฃุนูู 2 ุฅูู 4 </li><li style=";text-align:right;direction:rtl">  ุฎุท ูู ุฃุนูู 3 ุฅูู 4 </li></ul></li></ul><br><h3 style=";text-align:right;direction:rtl">  ุดูู ููุฉ ุงูุฑุฃุณ </h3><br>  ููุง ูุฏ ุชุชููุน ุ ูุฅู ุจูุงูุงุช ููุฉ ุงูุฑุฃุณ ุจุณูุทุฉ ููุบุงูุฉ - ููุท x ู y (ููุทุฉ) ูุจุนุถ ุงูุฅุญุฏุงุซูุงุช. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุญุฌู ุงูุญูู </th><th>  ููุน ุงูุจูุงูุงุช </th><th>  ูุญุชููุงุช </th></tr></thead><tbody><tr><td>  0x00-0x01 </td><td>  ููุนุช ูุตูุฑุฉ </td><td>  ุงููููู ุงูุนุงุดุฑ </td></tr><tr><td>  0x02-0x03 </td><td>  ููุนุช ูุตูุฑุฉ </td><td>  ูููู Y </td></tr></tbody></table></div><br><h3 style=";text-align:right;direction:rtl">  ุชูุณูู Linedef </h3><br>  ูุญุชูู Linedef ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุ ููู ูุตู ุงูุฎุท ุงูุฐู ูุฑุจุท ุจูู ุงูููุชูู ูุฎุตุงุฆุต ูุฐุง ุงูุฎุท (ูุงูุชู ุณุชุตุจุญ ูููุง ุจุนุฏ ุฌุฏุงุฑูุง). <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุญุฌู ุงูุญูู </th><th>  ููุน ุงูุจูุงูุงุช </th><th>  ูุญุชููุงุช </th></tr></thead><tbody><tr><td>  0x00-0x01 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุจุฏุก ุงูุฐุฑูุฉ </td></tr><tr><td>  0x02-0x03 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุฐุฑูุฉ ุงูููุงุฆู </td></tr><tr><td>  0x04-0x05 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุงูุฃุนูุงู (ุงูุธุฑ ุฃุฏูุงู ููุฒูุฏ ูู ุงูุชูุงุตูู) </td></tr><tr><td>  0x06-0x07 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ููุน ุงูุฎุท / ุงูุนูู </td></tr><tr><td>  0x08-0x09 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุชุณููุฉ ุงููุทุงุน </td></tr><tr><td>  0x10-0x11 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุงูุฌุงูุจ ุงูุฃูุงูู (0xFFFF - ูุง ุฌุงูุจ) </td></tr><tr><td>  0x12-0x13 </td><td>  ูุตูุฑุฉ ุบูุฑ ูููุนุฉ </td><td>  ุงูุฌุงูุจ ุงูุฎููู (0xFFFF - ุจุฏูู ุฌุงูุจ) </td></tr></tbody></table></div><br><h3 style=";text-align:right;direction:rtl">  ููู ุนูู Linedef </h3><br>  ูุง ูุชู ุฑุณู ุฌููุน ุงูุฎุทูุท (ุงูุฌุฏุฑุงู).  ุงูุจุนุถ ูููู ูุฏูู ุณููู ุฎุงุต. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ูุทุนุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  0 </td><td>  ูููุน ุงูุทุฑูู ููุงุนุจูู ูุงููุญูุด </td></tr><tr><td>  1 </td><td>  ูุญูุด ูุชูุฉ </td></tr><tr><td>  2 </td><td>  ูุฒุฏูุฌุฉ ูู ุฌุงูุจ </td></tr><tr><td>  3 </td><td>  ุชู ุชุนุทูู ุงููุณูุฌ ุงูุนููู (ุณูุชุญุฏุซ ุนู ูุฐุง ูุงุญููุง) </td></tr><tr><td>  4 </td><td>  ูุชู ุชุนุทูู ุงููููุณ ุงูุณููู (ุณูุชุญุฏุซ ุนู ูุฐุง ูุงุญููุง) </td></tr><tr><td>  5 </td><td>  ุณุฑ (ูุธูุฑ ุนูู ุงูุฎุฑูุทุฉ ูุฌุงูุจ ุฃุญุงุฏู ุงูุฌุงูุจ) </td></tr><tr><td>  6 </td><td>  ูุนูู ุงูุตูุช </td></tr><tr><td>  7 </td><td>  ูู ูุธูุฑ ุนูู autocard </td></tr><tr><td>  8 </td><td>  ูุธูุฑ ุฏุงุฆูุง ุนูู autocard </td></tr></tbody></table></div><br><h2 style=";text-align:right;direction:rtl">  ุฃูุฏุงู </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฆุฉ ุฎุฑูุทุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุจูุงูุงุช ููุฉ ุงูุฑุฃุณ. </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุจูุงูุงุช linedef. </li></ol><br><h2 style=";text-align:right;direction:rtl">  ููุฏุณุฉ ูุนูุงุฑูุฉ </h2><br>  ุฃููุงู ุ ุฏุนูุง ููุดุฆ ุตููุง ููุทูู ุนููู ุงูุฎุฑูุทุฉ.  ููู ุณูู ูููู ุจุชุฎุฒูู ุฌููุน ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ ุจุงูุจุทุงูุฉ. <br><br>  ูู ุงูููุช ุงูุญุงูู ุ ุฃุฎุทุท ููุท ูุชุฎุฒูู ุงูุฑุคูุณ ูุงูุจุทุงูุงุช ูุฃุญุฏ ุงููุชุฌูุงุช ุ ุจุญูุซ ูููููู ุชุทุจูููุง ูุงุญููุง. <br><br>  ุฃูุถูุง ุ ููููู WADLoader ู WADReader ุญุชู ูุชููู ูู ูุฑุงุกุฉ ูุงุชูู ุงููุนููุชูู ุงูุฌุฏูุฏุชูู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุฑููุฒ </h2><br>  ุณูููู ุงูุฑูุฒ ูุดุงุจููุง ูุฑูุฒ ูุฑุงุกุฉ WAD ุ ูุณูุถูู ุนุฏุฏูุง ูููููุง ูู ุงูููุงูู ุ ุซู ูููุฃูุง ุจุจูุงูุงุช ูู WAD.  ููุจุฏุฃ ุจุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ ูุชูุฑูุฑ ุงุณู ุงูุฎุฑูุทุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Map(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sName); ~Map(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// Incase someone need to know the map name void AddVertex(Vertex &amp;v); // Wrapper class to append to the vertexes vector void AddLinedef(Linedef &amp;l); // Wrapper class to append to the linedef vector protected: std::string m_sName; std::vector&lt;Vertex&gt; m_Vertexes; std::vector&lt;Linedef&gt; m_Linedef; };</span></span></code> </pre> <br>  ุงูุขู ุฅุถุงูุฉ ููุงูู ููุฑุงุกุฉ ูุฐู ุงูุญููู ุงูุฌุฏูุฏุฉ.  ูุธุฑูุง ูุฃููุง ูููุง ุจุฐูู ุจุงููุนู ุนุฏุฉ ูุฑุงุช ุ ูุง ุนููู ุณูู ุฅุถุงูุชูุง ุฌููุนูุง ูุฑุฉ ูุงุญุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vertex</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> XPosition; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> YPosition; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Linedef</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> StartVertex; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> EndVertex; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> Flags; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> LineType; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> SectorTag; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> FrontSidedef; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> BackSidedef; };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ุฐูู ุ ูุญุชุงุฌ ุฅูู ูุธููุฉ ููุฑุงุกุชูุง ูู WADReader ุ ุณุชููู ูุฑูุจุฉ ูู ูุง ูุนููุงู ุณุงุจููุง. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> WADReader::ReadVertexData(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *pWADData, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset, Vertex &amp;vertex) { vertex.XPosition = Read2Bytes(pWADData, offset); vertex.YPosition = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> WADReader::ReadLinedefData(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *pWADData, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> offset, Linedef &amp;linedef) { linedef.StartVertex = Read2Bytes(pWADData, offset); linedef.EndVertex = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">2</span></span>); linedef.Flags = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">4</span></span>); linedef.LineType = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">6</span></span>); linedef.SectorTag = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">8</span></span>); linedef.FrontSidedef = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">10</span></span>); linedef.BackSidedef = Read2Bytes(pWADData, offset + <span class="hljs-number"><span class="hljs-number">12</span></span>); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุชูุฏ ุฃูู ูุง ููุฌุฏ ุดูุก ุฌุฏูุฏ ูู ููุง. </font><font style="vertical-align: inherit;">ูุงูุขู ูุญู ุจุญุงุฌุฉ ุฅูู ุงุณุชุฏุนุงุก ูุฐู ุงููุธุงุฆู ูู ูุฆุฉ WADLoader. </font><font style="vertical-align: inherit;">ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑ ุงูุญูุงุฆู: ุชุณูุณู ุงููุชู ููู ููุง ุ ุณูุฌุฏ ุงุณู ุงูุฎุฑูุทุฉ ูู ุฏููู ุงูููุทูุน ุ ูุชุจูุนูุง ุจุฌููุน ุงููุชู ุงููุฑุชุจุทุฉ ุจุงูุฎุฑุงุฆุท ุจุงูุชุฑุชูุจ ุงููุญุฏุฏ. </font><font style="vertical-align: inherit;">ูุชุจุณูุท ูููุชูุง ูุนุฏู ุชุชุจุน ูุคุดุฑุงุช ุงููุชู ุจุดูู ูููุตู ุ ุณูุถูู ุชุนุฏุงุฏูุง ูุชูุญ ููุง ุงูุชุฎูุต ูู ุงูุฃุฑูุงู ุงูุณุญุฑูุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> EMAPLUMPSINDEX { eTHINGS = <span class="hljs-number"><span class="hljs-number">1</span></span>, eLINEDEFS, eSIDEDDEFS, eVERTEXES, eSEAGS, eSSECTORS, eNODES, eSECTORS, eREJECT, eBLOCKMAP, eCOUNT };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุฃุถูู ุฃูุถูุง ูุธููุฉ ููุจุญุซ ุนู ุฎุฑูุทุฉ ุจุงุณููุง ูู ูุงุฆูุฉ ุงูุฏููู. </font><font style="vertical-align: inherit;">ูู ููุช ูุงุญู ุ ูู ุงููุญุชูู ุฃู ูุฒูุฏ ูู ุฃุฏุงุก ูุฐู ุงูุฎุทูุฉ ุจุงุณุชุฎุฏุงู ุจููุฉ ุจูุงูุงุช ุงูุฎุฑูุทุฉ ุ ูุฃู ููุงู ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุณุฌูุงุช ููุง ุ ูุณูุชุนูู ุนูููุง ุงูุงุทูุงุน ุนูููุง ูุซูุฑูุง ุ ุฎุงุตุฉ ูู ุจุฏุงูุฉ ุชุญููู ุงูููุงุฑุฏ ูุซู ุงูููุงู ุ ุงูุนูุงุฑูุช ุ ุงูุฃุตูุงุช ุ ุฅูุฎ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> WADLoader::FindMapIndex(Map &amp;<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; m_WADDirectories.size(); ++i) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_WADDirectories[i].LumpName == <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.GetName()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงู ุ ููุฏ ุงูุชูููุง ุชูุฑูุจุง! </font><font style="vertical-align: inherit;">ุงูุขู ุ ุฏุนููุง ูุนูู ููุท VERTEXES! </font><font style="vertical-align: inherit;">ุฃูุฑุฑ ุ ููุฏ ูุนููุง ูุฐุง ุจุงููุนู ูู ูุจู ุ ูุงูุขู ูุฌุจ ุฃู ุชููู ูุฐุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> WADLoader::ReadMapVertex(Map &amp;<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iMapIndex = FindMapIndex(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iMapIndex == <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } iMapIndex += EMAPLUMPSINDEX::eVERTEXES; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(m_WADDirectories[iMapIndex].LumpName, <span class="hljs-string"><span class="hljs-string">"VERTEXES"</span></span>) != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iVertexSizeInBytes = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(Vertex); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iVertexesCount = m_WADDirectories[iMapIndex].LumpSize / iVertexSizeInBytes; Vertex vertex; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; iVertexesCount; ++i) { m_Reader.ReadVertexData(m_WADData, m_WADDirectories[iMapIndex].LumpOffset + i * iVertexSizeInBytes, vertex); <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.AddVertex(vertex); <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; vertex.XPosition &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; vertex.YPosition &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ูุจุฏู ุฃููุง ูููู ุจูุณุฎ ููุณ ุงูุฑูุฒ ุจุงุณุชูุฑุงุฑ ุ </font><font style="vertical-align: inherit;">ูุฏ ุชุถุทุฑ ุฅูู ุชุญุณููู ูู ุงููุณุชูุจู ุ ูููู ูู ุงูููุช ุงูุญุงูู ุ ุณุชููู ุจุชุทุจูู ReadMapLinedef ุจููุณู (ุฃู ุงูุธุฑ ุงูููุฏ ุงููุตุฏุฑู ูู ุงูุฑุงุจุท). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุณุงุช ุงูุฃุฎูุฑุฉ - ูุญุชุงุฌ ุฅูู ุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ ูุชูุฑูุฑ ูุงุฆู ุงูุฎุฑูุทุฉ ุฅูููุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> WADLoader::LoadMapData(Map &amp;<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ReadMapVertex(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error: Failed to load map vertex data MAP: "</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.GetName() &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ReadMapLinedef(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error: Failed to load map linedef data MAP: "</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.GetName() &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุฏุนููุง ูุบูุฑ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ููุฑู ูุง ุฅุฐุง ูุงู ูู ุดูุก ูุนูู. </font><font style="vertical-align: inherit;">ุฃุฑุบุจ ูู ุชุญููู ุฎุฑูุทุฉ "E1M1" ุ ูุงูุชู ุณุฃููู ุจููููุง ุฅูู ูุงุฆู ุงูุฎุฑูุทุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-function">Map </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">map</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"E1M1"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; wadloader.LoadMapData(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุฏุนููุง ูุฏูุฑ ูู ุดูุก. </font><font style="vertical-align: inherit;">ูุงู ุ ุญููุฉ ูู ุงูุฃุฑูุงู ุงููุซูุฑุฉ ููุงูุชูุงู ุ ููู ูู ูู ุญููููุฉุ </font><font style="vertical-align: inherit;">ุฏุนููุง ุงูุชุญูู ูู ุฐูู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนููุง ูุฑู ูุง ุฅุฐุง ูุงู ูููู ุฃู ุชุณุงุนุฏูุง ุณููุฏ ูู ูุฐุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุง ุงูุนุซูุฑ ุนูู ุงูุฎุฑูุทุฉ ูู ูุงุฆูุฉ slade ูุฅููุงุก ูุธุฑุฉ ุนูู ุชูุงุตูู ุงููุชู. </font><font style="vertical-align: inherit;">ุฏุนูุง ููุงุฑู ุงูุฃุฑูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/48b/3ec/439/48b3ec43988e25260d45a4abd1999c91.png" alt="ููุฉ ุงูุฑุฃุณ"></div><br>  ! ููุชุงุฒ <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฐุง ุนู Linedefุ </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/96f/93d/ecd/96f93decd409dad0b8b6836726345a08.png" alt="Linedef"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฏ ุฃุถูุช ูุฐุง ุงูุชุนุฏุงุฏ ุฃูุถูุง ุ ูุงูุฐู ุณูุญุงูู ุงุณุชุฎุฏุงูู ุนูุฏ ุชูุฏูู ุงูุฎุฑูุทุฉ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> ELINEDEFFLAGS { eBLOCKING = <span class="hljs-number"><span class="hljs-number">0</span></span>, eBLOCKMONSTERS = <span class="hljs-number"><span class="hljs-number">1</span></span>, eTWOSIDED = <span class="hljs-number"><span class="hljs-number">2</span></span>, eDONTPEGTOP = <span class="hljs-number"><span class="hljs-number">4</span></span>, eDONTPEGBOTTOM = <span class="hljs-number"><span class="hljs-number">8</span></span>, eSECRET = <span class="hljs-number"><span class="hljs-number">16</span></span>, eSOUNDBLOCK = <span class="hljs-number"><span class="hljs-number">32</span></span>, eDONTDRAW = <span class="hljs-number"><span class="hljs-number">64</span></span>, eDRAW = <span class="hljs-number"><span class="hljs-number">128</span></span> };</code> </pre> <br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุญุธุงุช ุฃุฎุฑู </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุนูููุฉ ูุชุงุจุฉ ุงูููุฏ ุ ูุฑุฃุช ุนู ุทุฑูู ุงูุฎุทุฃ ุนุฏุฏูุง ุฃูุจุฑ ูู ุงูุจุงูุชุงุช ุฃูุซุฑ ูู ุงููุงุฒู ุ ูุชูููุช ููููุง ุบูุฑ ุตุญูุญุฉ. </font><font style="vertical-align: inherit;">ูู ุฃุฌู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ุจุฏุฃุช ุฃุจุญุซ ูู ุฅุฒุงุญุฉ WAD ูู ุงูุฐุงูุฑุฉ ููุนุฑูุฉ ูุง ุฅุฐุง ููุช ูู ุงูุฅุฒุงุญุฉ ุงูุตุญูุญุฉ. </font><font style="vertical-align: inherit;">ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ูุงูุฐุฉ ุฐุงูุฑุฉ Visual Studio ุ ูุงูุชู ุชุนุฏ ุฃุฏุงุฉ ูููุฏุฉ ููุบุงูุฉ ูุชุชุจุน ุงูุจุงูุชุงุช ุฃู ุงูุฐุงูุฑุฉ (ููููู ุฃูุถูุง ุชุนููู ููุงุท ุชููู ูู ูุฐู ุงููุงูุฐุฉ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูู ุชุฑ ูุงูุฐุฉ ุงูุฐุงูุฑุฉ ุ ูุงูุชูู ุฅูู Debug&gt; Memory&gt; Memory.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/27d/cba/0d3/27dcba0d33094493822f4444a4c0d8c8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูุฑู ุงูููู ูู ุงูุฐุงูุฑุฉ ุจุงูุณุฏุงุณู ุนุดุฑู. </font><font style="vertical-align: inherit;">ูููู ููุงุฑูุฉ ูุฐู ุงูููู ูุน ุดุงุดุฉ ุณุฏุงุณู ุนุดุฑูุฉ ูู slade ุจุงูููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ุฃู ูุชูุฉ ูุนุฑุถูุง ุนูู ุดูู ุณุฏุงุณู ุนุดุฑู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1cc/159/757/1cc15975726f8a1204bf674aa0824fc6.png" alt="ุณููุฏ"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฑููู ุจุนููุงู WAD ุงูุฐู ุชู ุชุญูููู ูู ุงูุฐุงูุฑุฉ. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/970/2af/c96/9702afc96be99794e7d9f01e4d6d89bb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุดูุก ุงูุฃุฎูุฑ ููุฐุง ุงูููู: ููุฏ ุฑุฃููุง ูู ููู ููุฉ ุงูุฑุฃุณ ุ ูููู ูู ููุงู ุทุฑููุฉ ุณููุฉ ูุชุตูุฑูุง ุฏูู ูุชุงุจุฉ ุฑูุฒุ </font><font style="vertical-align: inherit;">ูุง ุฃุฑูุฏ ุชุถููุน ุงูููุช ูู ูุฐุง ุงูุฃูุฑ ุ ููุท ููุนุฑูุฉ ุฃููุง ูุณูุฑ ูู ุงูุงุชุฌุงู ุงูุฎุงุทุฆ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุชุฃููุฏ ุดุฎุต ูุง ุฎูู ุจุงููุนู ุงูุฑุงุณูุฉ. </font><font style="vertical-align: inherit;">ููุฏ ููุช ุจู "ุฑุณู ููุงุท ุนูู ุฑุณู ุจูุงูู" ููุงูุช ุงููุชูุฌุฉ ุงูุฃููู ูู ูููุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plot Points - Desmos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุนูู ุฐูู ุ ููููู ูุตู ุงูุฃุฑูุงู ูู ุงูุญุงูุธุฉ ุ ูุณูู ูุฑุณููุง. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃู ุชููู ุจุงูุชูุณูู "(xุ y)". </font><font style="vertical-align: inherit;">ููุญุตูู ุนููู ุ ููุท ูู ุจุชุบููุฑ ูุธููุฉ ุงูุฅุฎุฑุงุฌ ุฅูู ุงูุดุงุดุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"("</span></span> &lt;&lt; vertex.XPosition &lt;&lt; <span class="hljs-string"><span class="hljs-string">","</span></span> &lt;&lt; vertex.YPosition &lt;&lt; <span class="hljs-string"><span class="hljs-string">")"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุงุญ ุจุงูุฑ! </font><font style="vertical-align: inherit;">ูุจุฏู ุจุงููุนู ูุซู E1M1! </font><font style="vertical-align: inherit;">ููุฏ ุญูููุง ุดูุฆุง!</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/499/ce6/36b/499ce636b2dbd6bd3e158bff07304b37.png" alt="E1M1 ููุงุท ุงูุฃุฑุถ"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ููุช ูุณูููุง ููููุงู ุจุฐูู ุ ูุฅููู ุฑุงุจุทูุง ุฅูู ูุฎุทุท ูููุท: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plot Vertex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ููุฃุฎุฐ ุฎุทูุฉ ุฃุฎุฑู: ุจุนุฏ ูููู ูู ุงูุนูู ุ ูููููุง ุชูุตูู ูุฐู ุงูููุงุท ุนูู ุฃุณุงุณ ุงูุฎุทูุท.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c2f/423/35b/c2f42335b751d3bd9acec03251204977.png" alt="E1M1 ูุคุงูุฑุฉ ููุฑุชูุณ"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ุงูุฑุงุจุท: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E1M1 Plot Vertex</font></font></a> <br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดูุฑุฉ ุงููุตุฏุฑ </font></font></h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดูุฑุฉ ุงููุตุฏุฑ</font></font></a> <br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุงุฏ ุงููุฑุฌุนูุฉ </font></font></h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฐุงุจ ูููู </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZDoom ูููู</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471552/">https://habr.com/ru/post/ar471552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471538/index.html">ูู ููุฑุฉ ุชุทุจูู ุงููุงุชู ุงููุญููู ุฅูู MVP ุงูุชู ุณูุณุชุซูุฑ ูููุง ุงููุณุชุซูุฑูู</a></li>
<li><a href="../ar471542/index.html">ุงูุชุนุฑู ุนูู ุงููุต ุงูุชุนุฑู ุงูุถูุฆู ุนูู ุงูุญุฑูู</a></li>
<li><a href="../ar471544/index.html">ุนู ุงูุญุจ ุ ุฃู ููุงุฐุง ูุงู ูุงุฆุฏ ุงูููุฒุงู ุจุชุบููุฑ ุฒูู ุฅูู ุฑุฏุงุก ุฃูุฒุจูู</a></li>
<li><a href="../ar471548/index.html">ุฃูุถู 5 ูุชุจ ููุฑุฃูุง ููุงู</a></li>
<li><a href="../ar471550/index.html">ุฃูู ูููู ุงูุญุตูู ุนูู ุงูุตูุช ูุชุทููุฑ ุงููุนุจุฉ ูุงููุดุงุฑูุน ุงูุชุฌุงุฑูุฉ ุงูุฃุฎุฑูุ ุงูููุชุจุงุช ูุน ุฃุตูุงุช ุงูุทุจูุนุฉ</a></li>
<li><a href="../ar471554/index.html">ููููุฉ ุงูุญุฏ ูู ูุฎุงุทุฑ ุงููุทุงูุจุงุช ุงูุถุฑูุจูุฉ ูู ุจูุน ุงูุชุทุจููุงุช ูุงููุญุชููุ</a></li>
<li><a href="../ar471556/index.html">ุฌููุฉ ููุฌูุชุณู ุงูุนุงูููุฉ 2019. ููู ูุงู ุฃูุจุฑ ูุคุชูุฑ ูุฏููุง</a></li>
<li><a href="../ar471558/index.html">ุฃูู ุ ุฃูุง ุนูู ุดุงุดุฉ ุงูุชููุฒููู: ููู ูุงูุช ููุงูุฉ ูุณุงุจูุฉ ุงูุงุฎุชุฑุงู ุงูุฑููู</a></li>
<li><a href="../ar471562/index.html">Superinfection 2: ุฑูุจูููู ูู ุงููุดุงูู ุ ูุดู ุงูุชูููููุฌูุง ูุฃูู ุฌุฏูุฏ</a></li>
<li><a href="../ar471564/index.html">ุฃุตุฏูุงุก RaspberryPi ูุน TP-Link TL-WN727N</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>