<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>уКЧя╕П ЁЯд┤ЁЯП╗ ЁЯзС GObject: рдПрдирдХреИрдкреНрд╕реБрд▓реЗрд╢рди, рдЗрдВрд╕реНрдЯреЗрдВрдЯреЗрд╢рди, рдЖрддреНрдордирд┐рд░реАрдХреНрд╖рдг ЁЯПЪя╕П ЁЯП│я╕П тЪкя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... рд╕рд╛рде рд╣реА рд╕рд╛рде рдЕрдиреНрдп рдбрд░рд╛рд╡рдиреЗ рд╢рдмреНрдж! (рд╕реА) 

 рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо GLib рдкреНрд░рдХрд╛рд░ рдХреЗ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХреБрдЫ рдЙрдиреНрдирдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдВ, рд╣рдореЗрдВ рдХрдИ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмрд╛рд░реЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GObject: рдПрдирдХреИрдкреНрд╕реБрд▓реЗрд╢рди, рдЗрдВрд╕реНрдЯреЗрдВрдЯреЗрд╢рди, рдЖрддреНрдордирд┐рд░реАрдХреНрд╖рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418443/"> ... рд╕рд╛рде рд╣реА рд╕рд╛рде рдЕрдиреНрдп рдбрд░рд╛рд╡рдиреЗ рд╢рдмреНрдж!  (рд╕реА) <br><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо GLib рдкреНрд░рдХрд╛рд░ рдХреЗ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХреБрдЫ рдЙрдиреНрдирдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдВ, рд╣рдореЗрдВ рдХрдИ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдордиреЗ рдкрд┐рдЫрд▓реЗ рджреЛ рд▓реЗрдЦреЛрдВ рдореЗрдВ рдирд╣реАрдВ рдЫреБрдЖ рдерд╛ред  рдЗрд╕ рдмрд╛рд░ рд╣рдо рдмреБрдирд┐рдпрд╛рджреА рдкреНрд░рдХрд╛рд░ рдХреЗ GObject рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдВрдЧреЗ, рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдмреБрдирд┐рдпрд╛рджреА GObject рдХрд╛ рдХреЛрдИ рд╡рдВрд╢рдЬ рдЕрд▓рдЧ рд╕рдВрд░рдЪрдирд╛ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреА рджреЛрд╣рд░реА рдПрдХрддрд╛ (рдФрд░ рдЕрдХреНрд╕рд░ рддреНрд░рд┐рдЧреБрдг) рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рд╕рд╛рде рд░рд╣рд╕реНрдпрдордп рдореИрдХреНрд░реЛрдЬрд╝ рдЦреЛрд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВред рдХрдареЛрд░ рд╕реНрдерд╛рдиреАрдп RTTI рдХреЗ рд▓рд┐рдП рдХреМрди рд╕реЗ рдЙрдкрдХрд░рдг рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, GObject рдФрд░ рдЙрд╕рдХреЗ рд╡рдВрд╢рдЬ рдХреЗ рдкрд╛рд╕ рджреЛ рд╡рд┐рдзреНрд╡рдВрд╕рдХ (рдФрд░ рддреАрди рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛) рдХреНрдпреЛрдВ рд╣реИрдВ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдХрдИ рдЕрдиреНрдп рджрд┐рд▓рдЪрд╕реНрдк рдЫреЛрдЯреА рдЪреАрдЬреЗрдВ рднреА рд╣реИрдВред <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c4/64a/fa7/0c464afa7f125eab8aa94a3dfe8666a4.jpg" alt="рдЫрд╡рд┐"><br><a name="habracut"></a><br><h4>  GObject рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░рд╛ рдЪрдХреНрд░: </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Gobject: рдореВрд▓ рдмрд╛рддреЗрдВ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GObject: рд╡рд┐рд░рд╛рд╕рдд рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕</a> <br>  GObject: рдПрдирдХреИрдкреНрд╕реБрд▓реЗрд╢рди, рдЗрдВрд╕реНрдЯреЗрдВрдЯреЗрд╢рди, рдЖрддреНрдордирд┐рд░реАрдХреНрд╖рдг <br><br><h3>  рд╕рдВрд░рдЪрдирд╛ред  рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рдмрд╣реБрдд рд╕рд╛рд░реЗред </h3><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ, GObject рдХреЗ рд╡рдВрд╢рдЬреЛрдВ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓рд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рд╡реНрдпреБрддреНрдкрдиреНрди рдФрд░ рдЧреИрд░-рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ - рдЕрдВрддрд┐рдоред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдПрдХ рд╡реНрдпреБрддреНрдкрдиреНрди GObject рдореЗрдВ рддреАрди рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХрд╛ рдПрдХ рд╕рдВрдпреЛрдЬрди рд╣реЛрддрд╛ рд╣реИ: рдПрдХ рдХреНрд▓рд╛рд╕ рд╕реНрдЯреНрд░рдХреНрдЪрд░, рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдФрд░ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд╕реНрдЯреНрд░рдХреНрдЪрд░ред <br><br>  рдПрдХ рд╡рд░реНрдЧ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рдХрдо рдпрд╛ рдЬреНрдпрд╛рджрд╛ рд╕рд░рд▓ рд╣реИ - рдЗрд╕реЗ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреА рдХрдХреНрд╖рд╛ рд╕рдВрд░рдЪрдирд╛ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдкреЙрдЗрдВрдЯрд░реНрд╕ - "рдЖрднрд╛рд╕реА рддрд░реАрдХреЗ" рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИред  ABI рдЕрдиреБрдХреВрд▓рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдЕрдВрддрд┐рдо рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╢реВрдиреНрдп рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рд╕рд░рдгреА рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдкрд╣рд▓рд╛ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╕рдордп рдПрдХ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* animalcat.h */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   ,      :) */</span></span> typedef <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalCat AnimalCat; typedef <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalCatClass AnimalCatClass; typedef <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalCatPrivate AnimalCatPrivate; <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalCatClass { GObjectClass parent_class; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> (*say_meow) (AnimalCat*); <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> gpointer padding[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/*  ; gpointer -  void* */</span></span> };</code> </pre> <br>  рдЕрдВрддрд┐рдо рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд░реНрдЧ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рд╡реНрдпреБрддреНрдкрдиреНрди рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдирд┐рдЬреА рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рдВрд░рдЪрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЗрд╕реЗ рд╕реНрд░реЛрдд рдХреЛрдб рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдлреЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ animal_cat_get_instance_private ()ред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, .s-file рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдореИрдХреНрд░реЛ G_DEFINE_TYPE_WITH_PRIVATE (NamespaceObject, namespace_object, PARENT_TYPE) рдХреА рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдк рдореИрдХреНрд░реЛ G_DEFINE_TYPE_WITH_CODE (рдореИрдХреНрд░реЛ G_ADD_PRIVATE рд╢рд╛рдорд┐рд▓) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* animalcat.c */</span></span> <span class="hljs-meta"><span class="hljs-meta">#include "animalcat.h" G_DEFINE_TYPE_WITH_PRIVATE(AnimalCat, animal_cat, G_TYPE_OBJECT) /* G_DEFINE_TYPE_WITH_CODE(AnimalCat, animal_cat, G_TYPE_OBJECT, G_ADD_PRIVATE (AnimalCat)) */ struct _AnimalCatPrivate { char* name; double weight; int age; }; static void animal_cat_init(AnimalCat* self) { AnimalCatPrivate* priv = animal_cat_get_instance_private(self); priv-&gt;age = 0; priv-&gt;name = "Barsik"; /*    */ }</span></span></code> </pre> <br>  рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдПрдирдХреИрдкреНрд╕реБрд▓реЗрдЯреЗрдб рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕рд╛рдорд╛рдиреНрдп рд░реИрдкрд░ - рдЧреЗрдЯрд░реНрд╕ рдФрд░ рд╕реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдмрд╛рдж рдореЗрдВ рджреЗрдЦреЗрдВрдЧреЗ, GObject рдЗрд╕рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрдкрдХрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рд╕рдВрд░рдЪрдирд╛, рд╕рд╛рде рд╣реА рдирд┐рдЬреА рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрд░рдЪрдирд╛, рд╡рд╕реНрддреБ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЧрдИ рд╣реИред  рдпрд╣, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╡рд╕реНрддреБ рд╣реА рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдореИрдХреНрд░реЛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡реНрдпреБрддреНрдкрдиреНрди рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрд░рдЪрдирд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЛ рд╕реНрд╡рдпрдВ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдЕрдВрддрд┐рдо рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рд╕реНрд░реЛрдд рдХреЛрдб рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЪреВрдВрдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕рдВрд░рдЪрдирд╛ рд╡рд╕реНрддреБ рдХреЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рдореЗрдВ рдирд┐рдЬреА рдбреЗрдЯрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рдирд┐рдЬреА рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* animaltiger.c */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalTiger { AnimalCat parent; <span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> speed; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> };</code> </pre> <br>  рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рдЙрдирдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдмрд╣реБрдд рд╕рд╛рдорд╛рдиреНрдп рд╡рд░реНрдЧ рдХреЗ рд╕рдорд╛рдиред  _AnimalPredator рд╡реНрдпреВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рд╕рдВрд░рдЪрдирд╛ рд╕реНрд╡рдпрдВ рд╣реА рдЙрддреНрдкрдиреНрди рд╣реЛ рдЬрд╛рдПрдЧреАред <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* animalpredator.h */</span></span> typedef <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalPredatorInterface AnimalPredatorInterface; <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> _AnimalPredatorInterface { GTypeInterface parent; <span class="hljs-comment"><span class="hljs-comment">/*     GTypeInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> (*hunt) (AnimalPredator* self); <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> };</code> </pre> <br><br>  рджреГрд╢реНрдп рдкрд╛рд▓рдирд╛ рддрд╛рд▓рд┐рдХрд╛: <br><img src="https://habrastorage.org/webt/v7/gn/hb/v7gnhbcdwy5zyaieczyaujqinve.png" alt="рдЫрд╡рд┐"><br><h3>  рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рдЧрддрд┐рд╢реАрд▓ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ </h3><br>  рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ, рд╣рдордиреЗ рджреЛ рдореИрдХреНрд░реЛрдЬрд╝ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рд╛рде рдирдП рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╡рд░реНрдгрди рд╢реБрд░реВ рдХрд┐рдпрд╛, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ, рдореИрдХреНрд░реЛ рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рдХреЗ рдПрдХ рдкреВрд░реЗ рд╕реЗрдЯ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВред  GLib рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ, рдЗрд╕ рдЯреВрд▓рдХрд┐рдЯ рдХреЗ рд╕рднреА рдХрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╡рд░реНрдгрди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛ред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╣рдо рдЗрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  ANIMAL_TYPE_CAT: рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рдкреВрд░реНрдгрд╛рдВрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рджреЗрддрд╛ рд╣реИ GTypeред  рдпрд╣ рдореИрдХреНрд░реЛ GObject рдХреЗ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд GType рдкреНрд░рдХрд╛рд░ рдкреНрд░рдгрд╛рд▓реА рд╕реЗ рдирд┐рдХрдЯрддрд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред  рдЖрдк рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрдирд╕реЗ рдорд┐рд▓реЗрдВрдЧреЗ, рдореИрдВрдиреЗ рдЙрдирд╕реЗ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдХрд┐ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдерд╛ рдХрд┐ рд╡рд╣ рдХрд╣рд╛рдБ рд╕реЗ рдЖрддреЗ рд╣реИрдВред  G_DEFINE_TYPE рдкрд░рд┐рд╡рд╛рд░ рдХреЗ рдореИрдХреНрд░реЛрдЬрд╝ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддреЗ рд╕рдордп рдЗрд╕ рдореИрдХреНрд░реЛ рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝реЙрд░реНрдо рдПрдирд┐рдорд▓_рдХреИрдЯ_рдЧреЗрдЯ_рдЯрд╛рдЗрдк () рдХреЗ рдлрд╝рдВрдХреНрд╢рдВрд╕ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЙрддреНрдкрдиреНрди рд╣реЛрддреЗ рд╣реИрдВред <br><br>  ANIMAL_CAT (obj): рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдХрд╛рд╕реНрдЯ рдХрд░реЗрдВред  рд╕реБрд░рдХреНрд╖рд┐рдд рдЬрд╛рддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд░рдирдЯрд╛рдЗрдо рдЪреЗрдХ рднреА рдХрд░рддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, GObject рдореЗрдВ рд╡рд┐рд░рд╛рд╕рдд рдкреНрд░рдгрд╛рд▓реА рдЖрдо рддреМрд░ рдкрд░ рдЗрд╕ рддрдереНрдп рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ рдХрд┐ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдореЗрдВ рдореВрд▓ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╣рд▓рд╛ рдлрд╝реАрд▓реНрдб рд╢рд╛рдорд┐рд▓ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рд╕реА рдХреЙрд▓рд┐рдВрдЧ рд╕рдореНрдореЗрд▓рдиреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рд╕реВрдЪрдХ рд╕рднреА рдкреВрд░реНрд╡рдЬреЛрдВ рдХреЛ рд╕реВрдЪрдХ рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдпрд╣ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рд╣реИред  рдЗрд╕рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд╕рд╛рдорд╛рдиреНрдп рд╕реА-рдХрд╛рд╕реНрдЯ рдХреЗ рдмрдЬрд╛рдп рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдореИрдХреНрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдПрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд╕реНрдЯрд┐рдВрдЧ), рд╕реА-рд╕реНрдЯрд╛рдЗрд▓ рдХрд╛рд╕реНрдЯ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред <br><br>  ANIMAL_CAT_CLASS (klass): рд╡рд░реНрдЧ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдорд╛рди рдореИрдХреНрд░реЛред  рд╕рдореНрдореЗрд▓рди C ++ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП рд╢рдмреНрдж рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  ANIMAL_IS_CAT (obj): рдЬреИрд╕рд╛ рдХрд┐ рдирд╛рдо рд╕реЗ рд╣реА рд╕реНрдкрд╖реНрдЯ рд╣реИ, рдпрд╣ рд╕реНрдереВрд▓ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ obj рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╕реВрдЪрдХ рд╣реИ (рдФрд░ рдХреНрдпрд╛ рдпрд╣ NULL рд╕реВрдЪрдХ рд╣реИ)ред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдЪреЗрдХ рдХреЗ рд╕рд╛рде рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рддрд░реАрдХреЛрдВ рдХреЛ рд╢реБрд░реВ рдХрд░рдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реИред <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animal_cat_run</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AnimalCat *self</span></span></span><span class="hljs-function">)</span></span> { assert(ANIMAL_IS_CAT (self)); g_return_if_fail (ANIMAL_IS_CAT (self)); <span class="hljs-comment"><span class="hljs-comment">/*   GLib */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> }</code> </pre> <br>  ANIMAL_IS_CAT_CLASS (klass): рд╡рд░реНрдЧ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реИред <br><br>  ANIMAL_CAT_GET_CLASS (obj): рд╕рдВрдмрдВрдзрд┐рдд рд╡рд░реНрдЧ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрдХреЗрддрдХ рд▓реМрдЯрд╛рддрд╛ рд╣реИред <br><br>  рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд▓рд┐рдП рдореИрдХреНрд░реЛ рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рдХрд╛ рдПрдХ рд╕рдорд╛рди рд╕реЗрдЯ рднреА рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред <br><br>  ANIMAL_PREDATOR (obj): рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд╕реНрдЯред <br>  ANIMAL_IS_PREDATOR (obj): рдкреНрд░рдХрд╛рд░ рдХреА рдЬрд╛рдБрдЪред <br>  ANIMAL_PREDATOR_GET_IFACE (obj): рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ред <br><br>  рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╛рдо рдореИрдХреНрд░реЛ G_OBJECT_TYPE_NAME (obj) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдЯрд╛рдЗрдк рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рд╕реА-рд╕реНрдЯреНрд░рд┐рдВрдЧ рд▓реМрдЯрд╛рддрд╛ рд╣реИред <br><br>  рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓ G_DEFINE_TYPE рдФрд░ рдЙрд╕рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдореИрдХреНрд░реЛрдЬрд╝ рдлреЙрд░реНрдо рдПрдирд┐рдорд▓_рдХреИрдЯ_рдкрд░реЗрдВрдЯ_рдХреНрд▓рд╛рд╕ рдХрд╛ рдПрдХ рдкреЙрдЗрдВрдЯрд░ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдкреИрд░реЗрдВрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдХреНрд▓рд╛рд╕ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдлреЙрд░реНрдо рдПрдирд┐рдорд▓_рдХреИрдЯ_рдЧреЗрдЯ_рдЗрдВрд╕реНрдЯреАрди_рдкреИрд░реЗрдВрдЯ () рдХреЗ рдлрдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЕрдЧрд░ рд╣рдо рд╕рдВрдмрдВрдзрд┐рдд рдореИрдХреНрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рд╡рд┐рдзреНрд╡рдВрд╕рдХ рдФрд░ рдЕрдиреНрдп рдЖрднрд╛рд╕реА рдХрд╛рд░реНрдп </h3><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдХрд┐рд╕реА рднреА рдЧреЛрдмрд┐рдЬ рд╡рдВрд╢рдЬ рдХреЛ рдмрдирд╛рддреЗ рд╕рдордп, рдлрд╛рд░реНрдо Animal_cat_init () рдХреЗ рдХрд╛рд░реНрдп рд▓реЙрдиреНрдЪ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рд╡реЗ рд╕реА ++ рдФрд░ рдЬрд╛рд╡рд╛ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╣реА рднреВрдорд┐рдХрд╛ рдХрд░рддреЗ рд╣реИрдВред  рд╡рд┐рдирд╛рд╢рдХрд╛рд░рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рд╕реНрдерд┐рддрд┐ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред <br><br>  GObject рдореЗрдВ рдореЗрдореЛрд░реА рдкреНрд░рдмрдВрдзрди рдХреЛ рд╕рдВрджрд░реНрдн рдЧрдгрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрдм g_object_new () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд▓рд┐рдВрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рдПрдХ рдкрд░ рд╕реЗрдЯ рд╣реЛрддреА рд╣реИред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рд╣рдо g_object_ref () рдХреЗ рд╕рд╛рде рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ g_object_unref () рдХреЗ рд╕рд╛рде рдШрдЯ рд╕рдХрддреЗ рд╣реИрдВред  рдЬрдм рд▓рд┐рдВрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рджреЛ рдЪрд░рдгреЛрдВ рд╕реЗ рдорд┐рд▓рдХрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╡рд┐рдирд╛рд╢ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХреА рдЬрд╛рдПрдЧреАред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдбрд┐рд╕реНрдкреЛрдЬ () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдХрдИ рдмрд╛рд░ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдкрд░рд┐рдкрддреНрд░ рд╕рдВрджрд░реНрднреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕рдХреЗ рдмрд╛рдж, рдЕрдВрддрд┐рдо рд░реВрдк () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдПрдХ рдмрд╛рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рд╕рднреА рдЪреАрдЬреЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдореЗрдореЛрд░реА рдХреЛ рдореБрдХреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЦреБрд▓реЗ рдлрд╝рд╛рдЗрд▓ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдВрдж рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕реА рддрд░рд╣ред <br><br>  рдЗрд╕ рддрд░рд╣ рдХреА рдПрдХ рдЬрдЯрд┐рд▓ рдкреНрд░рдгрд╛рд▓реА рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рдЗрдВрдбрд░реЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рдереА, рдЬрд┐рд╕рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдореЗрдореЛрд░реА рдкреНрд░рдмрдВрдзрди рд╡рд╛рд▓реЗ рд▓реЛрдЧ рд╢рд╛рдорд┐рд▓ рдереЗред  рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рд╕реА рдХреЛрдб рдореЗрдВ, рдХреЗрд╡рд▓ рдЕрдВрддрд┐рдо рд░реВрдк () рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдорддреМрд░ рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрджрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рд╡рд┐рдзреНрд╡рдВрд╕рдХ рдХреЗ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреЛ рдорд╛рдирддрд╛ рд╣реИред <br><br>  рдлрд╝рдВрдХреНрд╢рдВрд╕ рдирд┐рдкрдЯрд╛рдирд╛ () рдФрд░ рдЕрдВрддрд┐рдо рд░реВрдк рджреЗрдирд╛ (), рд╕рд╛рде рд╣реА рдХрдИ рдЕрдиреНрдп, рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣рдо рдмрд╛рдж рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ, рдЖрднрд╛рд╕реА рд╣реИрдВ рдФрд░ GObjectClass рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИрдВред <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animal_cat_finalize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GObject* obj</span></span></span><span class="hljs-function">)</span></span> { g_print(<span class="hljs-string"><span class="hljs-string">"Buy!\n"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*  printf()  GLib */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*    . . */</span></span> G_OBJECT_CLASS (animal_cat_parent_class)-&gt;finalize(obj); <span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animal_cat_class_init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AnimalCatClass* klass</span></span></span><span class="hljs-function">)</span></span> { GObjectClass* obj_class = G_OBJECT_CLASS (klass); obj_class-&gt;finalize = animal_cat_finalize; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> }</code> </pre><br>  Animal_cat_finalize () рдлрд╝рдВрдХреНрд╢рди рдХреА рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ рдХреЛ рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдЬрдм рдореИрдХреНрд░реЛ G_DEFINE_TYPE рдФрд░ рдЙрд╕рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреИрд░реЗрдВрдЯ рдХреНрд▓рд╛рд╕ рдХреЛ рдкрд╢реБ_рдХреИрдЯ_рдкрд░реЗрдВрдЯ_рдХреНрд▓рд╛рд╕ рдкреЙрдЗрдВрдЯрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдореВрд▓ рд╡рд░реНрдЧ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕реАрдзреЗ рдПрдХ GObjectClass рд╕рдВрд░рдЪрдирд╛ рд╣реИ, рдФрд░ рдпрд╣, рдмрджрд▓реЗ рдореЗрдВ, рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдкрд┐рдЫрд▓реЗ рд╡рд░реНрдЧ рдХреЗ рдЕрдВрддрд┐рдо () рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдореВрд▓ рд╡рд░реНрдЧ рдореЗрдВ рдЕрдВрддрд┐рдо рд░реВрдк () рдУрд╡рд░рд░рд╛рдЗрдб рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ; GObject рдЗрд╕рдХрд╛ рдзреНрдпрд╛рди рд░рдЦреЗрдЧрд╛ред <br><br>  рдпрд╣ рдХреЗрд╡рд▓ рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рд╣реИ рдХрд┐ рд╡рд┐рдзреНрд╡рдВрд╕рдХ рдХреЛ рдХреЗрд╡рд▓ рддрднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рд╕рдВрджрд░реНрдн рдХрд╛рдЙрдВрдЯрд░ рдХреЛ рд╢реВрдиреНрдп рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">** argv</span></span></span><span class="hljs-function">)</span></span> { AnimalCat* cat = animal_cat_new(); g_object_unref(cat); <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> }</code> </pre><br>  рджреЛ рд╡рд┐рдзреНрд╡рдВрд╕рдХ рдХреЗ рдЕрд▓рд╛рд╡рд╛, GObjectClass рдореЗрдВ рджреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд░реНрдЪреБрдЕрд▓ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ () рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдЬреНрдЮрд╛рдд рдкрд╢реБ_рдХреИрдЯ_рдЗрдирд┐рдЯ () рд╕реЗ рдкрд╣рд▓реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕реАрдзреЗ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдирд┐рд░реНрдорд╛рдг () рдХреЗ рдмрд╛рдж рд╣реЛрддрд╛ рд╣реИред  рдРрд╕реА рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рдЖрдирд╛ рдЖрд╕рд╛рди рдирд╣реАрдВ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдкрдХреЛ рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрдм рддрдХ рдХрд┐ рдЖрдк рдЦреБрдж рдХреЛ GLib рдкреИрдЪ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рдирд╣реАрдВ рд▓реЗрддреЗред  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдореЗрдВ, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдПрдХ рд╕рд┐рдВрдЧрд▓рдЯрди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕рд╛рде рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреЛрдб рдореЗрдВ рдореИрдВрдиреЗ рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдХреЛ рдХрднреА рдирд╣реАрдВ рджреЗрдЦрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдЬреАрд╡рди рдЪрдХреНрд░ рдХреЗ рд╕рднреА рдЪрд░рдгреЛрдВ рдореЗрдВ рдЕрдзрд┐рдХрддрдо рд▓рдЪреАрд▓рд╛рдкрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЖрднрд╛рд╕реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдорд╛рдирд╛ред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, GObjectClass рдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓ рдлрд╝рдВрдХреНрд╢рдВрд╕ get_property () рдФрд░ set_property () рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ GObject рдмреЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдРрд╕реА рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдФрд░ рдЗрд╕рдХреЗ рд╡рдВрд╢рдЬреЛрдВ рдХреЛ рдЕрдкрдиреА рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рдЧреБрдгреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреБрдирд░реНрдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣рдо рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi418443/">https://habr.com/ru/post/hi418443/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi418431/index.html">рдХрд╛рд▓реНрдкрдирд┐рдХ рд╕рдорд╕реНрдпрд╛рдПрдВ - рдЦрд░рд╛рдм рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХреА рдЬрдбрд╝</a></li>
<li><a href="../hi418433/index.html">4 рдЕрдЧрд╕реНрдд рдкреАрдЯрд░ред рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реА рдмрд╛рдЗрдХ рдЦреЛрдЬ</a></li>
<li><a href="../hi418437/index.html">рдмрдЪрд╛рд╡ рдХреЗ рд▓рд┐рдП Oc рдЯреАрдо</a></li>
<li><a href="../hi418439/index.html">рдкреНрд░рдЧрддрд┐рд╢реАрд▓ рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореВрд▓ рдмрд╛рддреЗрдВ</a></li>
<li><a href="../hi418441/index.html">рд╡рд┐рдВрдбреЛрдЬ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдореВрд▓ рдмрд╛рддреЗрдВ</a></li>
<li><a href="../hi418445/index.html">Django рдЪреИрдирд▓ - рдЖрдзреБрдирд┐рдХ рд╡реЗрдм рдХрд╛ рдЬрд╡рд╛рдм</a></li>
<li><a href="../hi418447/index.html">рдХреНрдпреЛрдВ рдореЙрд╕реНрдХреЛ рдкрд╛рдпрдерди рдХреЙрдиреНрдлрд┐рдбреЗрдВрдЯ рдЕрдм ++ рд╣реИ</a></li>
<li><a href="../hi418449/index.html">рдкрд╛рдпрдерди рдХреЗ рд▓рд┐рдП рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдореЙрдбреНрдпреВрд▓</a></li>
<li><a href="../hi418451/index.html">3 рдбреА рдкреНрд░рд┐рдВрдЯрд┐рдВрдЧ рд╕рдмрдХред рдкреНрд░рднрд╛рд╡реА рд╕рдорд░реНрдерди рдФрд░ рдкрд░рдд рдКрдВрдЪрд╛рдИ 3Dtool рд╕реЗ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рдмрджрд▓рддреА рд╣реИ</a></li>
<li><a href="../hi418453/index.html">рдЧреБрд░реБрддреНрд╡рд╛рдХрд░реНрд╖рдг рдЕрд╡рд▓реЛрдХрди рд╕рд╛рдорд╛рдиреНрдп рд╕рд╛рдкреЗрдХреНрд╖рддрд╛ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рдорд╛рдиреНрдп рдХрд░рддреЗ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>