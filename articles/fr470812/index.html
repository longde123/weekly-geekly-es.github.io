<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥ üêõ üçì Cartouche Tarantool: Sharding Lua Backend en trois lignes üë¥üèø üé§ ‚ôâÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans Mail.ru Group, nous avons Tarantool, un serveur d'applications bas√© sur Lua et une base de donn√©es unie. C'est rapide et √©l√©gant, mais les ressou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cartouche Tarantool: Sharding Lua Backend en trois lignes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/470812/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/tg/6f/71/tg6f71dbjoo5m5qm5ebndfjxjdu.jpeg"></div><br>  Dans Mail.ru Group, nous avons Tarantool, un serveur d'applications bas√© sur Lua et une base de donn√©es unie.  C'est rapide et √©l√©gant, mais les ressources d'un seul serveur sont toujours limit√©es.  La mise √† l'√©chelle verticale n'est pas non plus la panac√©e.  C'est pourquoi Tarantool a quelques outils pour la mise √† l'√©chelle horizontale, ou le module vshard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">[1]</a> .  Il vous permet de r√©partir les donn√©es sur plusieurs serveurs, mais vous devrez les bricoler pendant un certain temps pour les configurer et renforcer la logique m√©tier. <br><br>  Bonne nouvelle: nous avons obtenu notre part de bosses (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">[2]</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">[3]</a> ) et avons cr√©√© un autre framework, ce qui simplifie consid√©rablement la solution √† ce probl√®me. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tarantool Cartridge</a> est le nouveau cadre de d√©veloppement de syst√®mes distribu√©s complexes.  Il vous permet de vous concentrer sur l'√©criture de la logique m√©tier au lieu de r√©soudre les probl√®mes d'infrastructure.  Sous la coupe, je vais vous dire comment ce cadre fonctionne et comment il pourrait aider √† √©crire des services distribu√©s. <br><a name="habracut"></a><br><h2>  Alors quel est exactement le probl√®me? </h2><br>  Nous avons Tarantool et vshard - que voulons-nous de plus? <br><br>  Premi√®rement, c'est une question de commodit√©.  Vshard est configur√© dans les tables Lua.  Mais pour qu'un syst√®me distribu√© de plusieurs processus Tarantool fonctionne correctement, la configuration doit √™tre la m√™me partout.  Personne ne voudrait le faire manuellement, donc toutes sortes de scripts, d'Ansible et de syst√®mes de d√©ploiement sont utilis√©s. <br><br>  La cartouche elle-m√™me g√®re la configuration vshard sur la base de <i>sa propre configuration distribu√©e</i> .  En fait, il s'agit d'un simple fichier YAML, et sa copie est stock√©e sur chaque instance de Tarantool.  En d'autres termes, le framework surveille sa configuration pour qu'il en soit de m√™me partout. <br><br>  Deuxi√®mement, c'est encore une question de commodit√©.  La configuration Vshard n'est pas li√©e au d√©veloppement de la logique m√©tier et ne distrait qu'un d√©veloppeur de son travail.  Lorsque nous discutons de l'architecture d'un projet, la question concerne tr√®s probablement des composants s√©par√©s et leur interaction.  Il est encore trop t√¥t pour penser √† d√©ployer un cluster pour 3 centres de donn√©es. <br><br>  Nous avons r√©solu ces probl√®mes √† maintes reprises, et √† un moment donn√©, nous avons r√©ussi √† d√©velopper une approche afin de simplifier le travail avec l'application tout au long de son cycle de vie: cr√©ation, d√©veloppement, test, CI / CD, maintenance. <br><br>  La cartouche introduit le concept de r√¥les pour chaque processus Tarantool.  Les r√¥les permettent au d√©veloppeur de se concentrer sur l'√©criture de code.  Tous les r√¥les disponibles dans le projet peuvent √™tre ex√©cut√©s sur la seule instance de Tarantool, ce qui serait suffisant pour les tests. <br><br>  Caract√©ristiques principales de la cartouche Tarantool: <br><br><ul><li>  orchestration automatis√©e des clusters; <br></li><li>  fonctionnalit√© d'application √©tendue avec de nouveaux r√¥les; <br></li><li>  mod√®le d'application pour le d√©veloppement et le d√©ploiement; <br></li><li>  sharding automatique int√©gr√©; <br></li><li>  int√©gration avec le framework Luatest; <br></li><li>  gestion de cluster √† l'aide de WebUI et API; <br></li><li>  outils de packaging et de d√©ploiement. <br></li></ul><br><h2>  Bonjour tout le monde! </h2><br>  J'ai h√¢te de vous montrer le cadre lui-m√™me, alors sauvegardons l'histoire de l'architecture pour plus tard et commen√ßons par une t√¢che facile.  En supposant que Tarantool est d√©j√† install√©, tout ce que nous avons √† faire est <br><br><pre><code class="plaintext hljs">$ tarantoolctl rocks install cartridge-cli $ export PATH=$PWD/.rocks/bin/:$PATH</code> </pre> <br>  En cons√©quence, les utilitaires de ligne de commande sont install√©s, ce qui vous permet de cr√©er votre premi√®re application √† partir du mod√®le: <br><br><pre> <code class="plaintext hljs">$ cartridge create --name myapp</code> </pre> <br>  Et voici ce que nous obtenons: <br><br><pre> <code class="plaintext hljs">myapp/ ‚îú‚îÄ‚îÄ .git/ ‚îú‚îÄ‚îÄ .gitignore ‚îú‚îÄ‚îÄ app/roles/custom.lua ‚îú‚îÄ‚îÄ deps.sh ‚îú‚îÄ‚îÄ init.lua ‚îú‚îÄ‚îÄ myapp-scm-1.rockspec ‚îú‚îÄ‚îÄ test ‚îÇ ‚îú‚îÄ‚îÄ helper ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ integration.lua ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ unit.lua ‚îÇ ‚îú‚îÄ‚îÄ helper.lua ‚îÇ ‚îú‚îÄ‚îÄ integration/api_test.lua ‚îÇ ‚îî‚îÄ‚îÄ unit/sample_test.lua ‚îî‚îÄ‚îÄ tmp/</code> </pre> <br>  Ceci est un r√©f√©rentiel git avec un "Hello, World!" Pr√™t √† l'emploi  application.  Essayons de l'ex√©cuter apr√®s avoir install√© les d√©pendances (y compris le framework lui-m√™me): <br><br><pre> <code class="plaintext hljs">$ tarantoolctl rocks make $ ./init.lua --http-port 8080</code> </pre> <br>  Nous avons lanc√© un n≈ìud de notre future application fragment√©e.  Si vous √™tes curieux, vous pouvez imm√©diatement ouvrir l'interface Web, qui fonctionne sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">localhost</a> : 8080, utiliser une souris pour configurer un cluster √† un n≈ìud et profiter du r√©sultat, mais ne vous excitez pas trop t√¥t.  L'application ne sait pas comment faire quoi que ce soit d'utile pour l'instant, je vais donc vous parler du d√©ploiement plus tard, et maintenant il est temps d'√©crire du code. <br><br><h2>  D√©velopper des applications </h2><br>  Imaginez que nous concevions un syst√®me qui devrait recevoir des donn√©es, les enregistrer et cr√©er un rapport une fois par jour. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc6/dba/8a2/dc6dba8a2a2ff31693cff9a825c44b7f.png"></div><br>  Nous dessinons donc un diagramme avec trois composants: passerelle, stockage et ordonnanceur.  Continuons √† travailler sur l'architecture.  Puisque nous utilisons vshard comme stockage, ajoutons vshard-router et vshard-storage au diagramme.  Ni la passerelle ni le planificateur n'acc√©deront directement au stockage - un routeur est explicitement cr√©√© pour cette t√¢che. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/151/eb0/ac5/151eb0ac5b9d8a1a6217e0992b502089.png"></div><br>  Ce diagramme semble abstrait car les composants ne refl√®tent toujours pas ce que nous allons cr√©er dans le projet.  Nous devrons voir comment ce projet correspond au vrai Tarantool, nous regroupons donc nos composants par processus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fdc/781/a46/fdc781a46e819a67232bfcd308605b5d.png"></div><br>  Il n'est pas tr√®s judicieux de conserver vshard-router et gateway sur des instances distinctes.  Pourquoi irions-nous √† nouveau sur le r√©seau, si cela est d√©j√† la responsabilit√© du routeur?  Ils doivent s'ex√©cuter dans le m√™me processus, c'est-√†-dire que la passerelle et vshard.router.cfg doivent √™tre initialis√©s dans le m√™me processus et interagir localement. <br><br>  Pendant la phase de conception, il √©tait pratique de travailler avec trois composants, mais en tant que d√©veloppeur, je ne veux pas penser √† lancer trois instances de Tarantool lors de l'√©criture de code.  J'ai besoin d'ex√©cuter les tests et de v√©rifier que j'ai correctement √©crit le code de la passerelle.  Ou je veux peut-√™tre montrer une nouvelle fonctionnalit√© √† mes coll√®gues.  Pourquoi devrais-je prendre des probl√®mes avec le d√©ploiement de trois instances?  Ainsi, le concept de r√¥les est n√©.  Un r√¥le est un module Lua r√©gulier, et la cartouche g√®re son cycle de vie.  Dans cet exemple, il y en a quatre: passerelle, routeur, stockage et planificateur.  Un autre projet peut avoir plus de r√¥les.  Tous les r√¥les peuvent √™tre lanc√©s en un seul processus, et ce serait suffisant. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e1/49c/95a/1e149c95aed1d5dc7cf73e298198c719.png"></div><br>  Et lorsque le probl√®me concerne le d√©ploiement vers la mise en production ou la production, nous attribuons un ensemble de r√¥les distinct √† chaque processus Tarantool en fonction des capacit√©s mat√©rielles sous-jacentes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1f9/b59/1d7/1f9b591d794e4b459b863f0da01f042b.png"></div><br><h2>  Gestion de la topologie </h2><br>  Nous devons √©galement stocker des informations sur les r√¥les en cours d'ex√©cution quelque part.  Et "quelque part" signifie la configuration distribu√©e susmentionn√©e.  La chose la plus importante ici est la topologie de cluster.  Vous pouvez voir ici 3 groupes de r√©plication de 5 processus Tarantool: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb6/118/a0f/eb6118a0f7c2381ce82491bd65272ec5.png"></div><br>  Nous ne voulons pas perdre les donn√©es, nous traitons donc les informations sur les processus en cours avec soin.  La cartouche surveille la configuration √† l'aide d'une validation en deux phases.  D√®s que nous voulons mettre √† jour la configuration, il v√©rifie d'abord si les instances sont disponibles et pr√™tes √† accepter la nouvelle configuration.  Apr√®s cela, la configuration est appliqu√©e dans la deuxi√®me phase.  Ainsi, m√™me si une instance est temporairement indisponible, alors rien ne peut mal tourner.  La configuration ne sera tout simplement pas appliqu√©e et vous verrez une erreur √† l'avance. <br><br>  La section topologie a √©galement un param√®tre aussi important que le leader de chaque groupe de r√©plication.  Il s'agit g√©n√©ralement de l'instance qui accepte les √©critures.  Les autres sont le plus souvent en lecture seule, bien qu'il puisse y avoir des exceptions.  Parfois, les d√©veloppeurs courageux n'ont pas peur des conflits et peuvent √©crire des donn√©es sur plusieurs r√©pliques en m√™me temps.  N√©anmoins, certaines op√©rations ne doivent pas √™tre effectu√©es deux fois.  C'est pourquoi nous avons un leader. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f96/b85/7f3/f96b857f346a756f27c05651b85a9886.png"></div><br><h2>  Cycle de vie des r√¥les </h2><br>  Pour qu'une architecture de projet contienne des r√¥les abstraits, le cadre doit en quelque sorte √™tre capable de les g√©rer.  Naturellement, les r√¥les sont g√©r√©s sans red√©marrer le processus Tarantool.  Il existe quatre rappels con√ßus pour la gestion des r√¥les.  La cartouche elle-m√™me les appelle en fonction des informations de la configuration distribu√©e, appliquant ainsi la configuration aux r√¥les sp√©cifiques. <br><br><pre> <code class="plaintext hljs">function init() function validate_config() function apply_config() function stop()</code> </pre> <br>  Chaque r√¥le a une fonction <code>init</code> .  Il est appel√© une fois: soit lorsque le r√¥le est activ√©, soit lorsque Tarantool red√©marre.  Ici, il est pratique, par exemple, d'initialiser box.space.create, ou le planificateur peut ex√©cuter une fibre d'arri√®re-plan qui terminerait la t√¢che √† intervalles r√©guliers. <br><br>  La fonction <code>init</code> seule peut ne pas suffire.  La cartouche permet aux r√¥les d'acc√©der √† la configuration distribu√©e utilis√©e pour stocker la topologie.  Dans la m√™me configuration, nous pouvons d√©clarer une nouvelle section et y stocker une partie de la configuration m√©tier.  Dans mon exemple, cela pourrait √™tre un sch√©ma de donn√©es ou des param√®tres de planification pour le r√¥le de planificateur. <br><br>  Le cluster appelle <code>validate_config</code> et <code>apply_config</code> chaque fois que la configuration distribu√©e change.  Lorsqu'une configuration est appliqu√©e dans une validation en deux phases, le cluster v√©rifie que chaque r√¥le sur chaque serveur est pr√™t √† accepter cette nouvelle configuration et, si n√©cessaire, signale une erreur √† l'utilisateur.  Lorsque tout le monde est d'accord avec la configuration, <code>apply_config</code> est appel√©. <br><br>  Les r√¥les prennent √©galement en charge une m√©thode d' <code>stop</code> pour nettoyer les ordures.  Si nous disons que l'ordonnanceur n'est pas n√©cessaire sur ce serveur, il peut arr√™ter les fibres qu'il a commenc√© √† utiliser <code>init</code> . <br><br>  Les r√¥les peuvent interagir les uns avec les autres.  Nous sommes habitu√©s √† √©crire des appels de fonction Lua, mais le processus peut ne pas avoir le r√¥le n√©cessaire.  Pour faciliter l'acc√®s au r√©seau, nous utilisons un module auxiliaire appel√© rpc (appel de proc√©dure distante), qui est construit sur la base du module standard Tarantool net.box.  Cela peut √™tre utile, par exemple, si votre passerelle souhaite demander directement au planificateur d'effectuer la t√¢che maintenant, plut√¥t qu'en une journ√©e. <br><br>  Un autre point important est d'assurer la tol√©rance aux pannes.  La cartouche utilise le protocole SWIM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">[4]</a> pour surveiller la sant√©.  En bref, les processus √©changent des ¬´rumeurs¬ª via UDP, c'est-√†-dire que chaque processus informe ses voisins des derni√®res nouvelles, et ils r√©pondent.  S'il n'y a soudainement pas de r√©ponse, Tarantool soup√ßonne que quelque chose ne va pas, et apr√®s un certain temps, il d√©clare la mort et envoie ce message √† tout le monde. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/748/1ff/6f2/7481ff6f235c9833ac93d4aa310e2911.png"></div><br>  Sur la base de ce protocole, Cartridge organise le basculement automatique.  Chaque processus surveille son environnement et si le leader cesse soudainement de r√©pondre, la r√©plique pourrait revendiquer son r√¥le et Cartridge configurerait les r√¥les en cours d'ex√©cution en cons√©quence. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/49a/925/53b/49a92553be1edd2834c373b14cf17431.png"></div><br>  Vous devez √™tre prudent ici car des allers-retours fr√©quents peuvent entra√Æner des conflits de donn√©es lors de la r√©plication.  Le basculement automatique ne doit certainement pas √™tre activ√© de mani√®re al√©atoire.  Vous devez avoir une id√©e claire de ce qui se passe et √™tre s√ªr que la r√©plication ne plantera pas lorsque le leader r√©cup√®re et retrouve sa couronne. <br><br>  D'apr√®s tout ce qui a √©t√© dit, les r√¥les peuvent sembler similaires aux microservices.  Dans un sens, ils ne sont que des modules dans les processus Tarantool, et il existe plusieurs diff√©rences fondamentales.  Tout d'abord, tous les r√¥les de projet doivent vivre dans la m√™me base de code.  Et tous les processus Tarantool devraient s'ex√©cuter √† partir de la m√™me base de code, afin qu'il n'y ait pas de surprise, comme lorsque nous essayons d'initialiser le planificateur, mais qu'il n'y a tout simplement pas de planificateur.  De plus, nous ne devons pas autoriser de diff√©rences dans les versions de code car le comportement du syst√®me est compliqu√© √† pr√©voir et √† d√©boguer dans une telle situation. <br><br>  Contrairement √† Docker, nous ne pouvons pas simplement prendre une "image" d'un r√¥le, le transf√©rer sur une autre machine et l'ex√©cuter l√†-bas.  Nos r√¥les ne sont pas aussi isol√©s que les conteneurs Docker.  De plus, nous ne pouvons pas ex√©cuter deux r√¥les identiques sur la m√™me instance.  Le r√¥le est l√† ou non;  dans un sens, c'est un singleton.  Et troisi√®mement, les r√¥les devraient √™tre les m√™mes au sein de l'ensemble du groupe de r√©plication, car sinon, cela aurait l'air ridicule: les donn√©es sont les m√™mes, mais le comportement est diff√©rent. <br><br><h2>  Outils de d√©ploiement </h2><br>  J'ai promis de vous montrer comment la cartouche pourrait aider √† d√©ployer des applications.  Pour vous faciliter la vie, le framework cr√©e des packages RPM: <br><br><pre> <code class="plaintext hljs">$ cartridge pack rpm myapp # will create ./myapp-0.1.0-1.rpm $ sudo yum install ./myapp-0.1.0-1.rpm</code> </pre> <br>  Le package install√© contient presque tout ce dont vous avez besoin: √† la fois l'application et les d√©pendances Lua install√©es.  Tarantool arrive √©galement sur le serveur en tant que d√©pendance de package RPM, et notre service est pr√™t √† √™tre lanc√©.  Tout cela se fait en utilisant systemd, mais d'abord, nous devons faire une configuration, au moins sp√©cifier l'URI de chaque processus.  Trois suffiraient pour notre exemple. <br><br><pre> <code class="plaintext hljs">$ sudo tee /etc/tarantool/conf.d/demo.yml &lt;&lt;CONFIG myapp.router: {"advertise_uri": "localhost:3301", "http_port": 8080} myapp.storage_A: {"advertise_uri": "localhost:3302", "http_enabled": False} myapp.storage_B: {"advertise_uri": "localhost:3303", "http_enabled": False} CONFIG</code> </pre> <br>  Il y a un aspect int√©ressant √† prendre en compte: au lieu de ne sp√©cifier que le port du protocole binaire, nous sp√©cifions l'adresse publique de l'ensemble du processus, y compris le nom d'h√¥te.  Nous le faisons parce que les n≈ìuds de cluster doivent savoir comment se connecter les uns aux autres.  Ce serait une mauvaise id√©e d'utiliser l'adresse 0.0.0.0 comme advertise_uri, car ce devrait √™tre une adresse IP externe, plut√¥t qu'une liaison de socket.  Rien ne fonctionne sans cela, donc Cartridge ne laisserait tout simplement pas le n≈ìud avec le mauvais advertise_uri d√©marrer. <br><br>  Maintenant que la configuration est pr√™te, nous pouvons d√©marrer les processus.  √âtant donn√© qu'une unit√© systemd r√©guli√®re ne permet pas de d√©marrer plusieurs processus, les unit√©s dites instanci√©es installent les applications sur la cartouche: <br><br><pre> <code class="plaintext hljs">$ sudo systemctl start myapp@router $ sudo systemctl start myapp@storage_A $ sudo systemctl start myapp@storage_B</code> </pre> <br>  Nous avons sp√©cifi√© le port HTTP pour l'interface Web de la cartouche dans la configuration: 8080. Allons l√†-bas et jetons un ≈ìil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4d/c41/8fc/c4dc418fca8a18c3f3dd2c4430bd1eaa.png"></div><br>  Nous pouvons voir que les processus ne sont pas encore configur√©s, bien qu'ils soient d√©j√† en cours d'ex√©cution.  La cartouche ne sait pas encore comment la r√©plication doit √™tre effectu√©e et ne peut pas d√©cider seule, elle attend donc nos actions.  Nous n'avons pas beaucoup de choix: la vie d'un nouveau cluster commence par la configuration du premier n≈ìud.  Ensuite, nous ajoutons d'autres n≈ìuds au cluster, nous leur attribuons des r√¥les et le d√©ploiement peut √™tre consid√©r√© comme termin√© avec succ√®s. <br><br>  Versons-nous un verre et relaxons apr√®s une longue semaine de travail.  L'application est pr√™te √† l'emploi. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95e/78c/fc5/95e78cfc50600fc8b3acf86d3f553242.png"></div><br><h2>  R√©sultats </h2><br>  Et les r√©sultats?  Veuillez tester, utiliser, laisser des commentaires et cr√©er des tickets sur Github. <br><br><h2>  Les r√©f√©rences </h2><br>  [1] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tarantool ¬ª2.2¬ª R√©f√©rence ¬ªR√©f√©rence Rocks¬ª Module vshard</a> <br>  [2] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment nous avons mis en ≈ìuvre le c≈ìur de m√©tier d'investissement d'Alfa-Bank bas√© sur Tarantool</a> <br>  [3] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Architecture de facturation de nouvelle g√©n√©ration: transition vers Tarantool</a> <br>  [4] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SWIM - Cluster Building Protocol</a> <br>  [5] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub - tarantool / cartouche-cli</a> <br>  [6] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub - tarantool / cartouche</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470812/">https://habr.com/ru/post/fr470812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470800/index.html">P - anticipation, ainsi que le programme pr√©liminaire DUMP de Kazan. Voir les rapports qui ont pass√© la s√©lection du hachoir √† viande</a></li>
<li><a href="../fr470802/index.html">Sauvegarde, partie 6: comparaison des outils de sauvegarde</a></li>
<li><a href="../fr470804/index.html">Alice Award: 5 id√©es du gagnant</a></li>
<li><a href="../fr470806/index.html">Probl√®me de test fondamental</a></li>
<li><a href="../fr470808/index.html">Astra Linux "Eagle" Common Edition: existe-t-il la vie apr√®s Windows</a></li>
<li><a href="../fr470814/index.html">Mat√©riaux d'Android-Mitap: outils d'autotests | Yandex Mapkit 3 | conception d'applications | Interface utilisateur pilot√©e par le serveur</a></li>
<li><a href="../fr470816/index.html">Russie - TPA - Bi√©lorussie: ici le troisi√®me n'est pas du tout superflu</a></li>
<li><a href="../fr470818/index.html">Bug Hunt, Blind-XSS et Fox Tricks</a></li>
<li><a href="../fr470820/index.html">Un test rapide de dizaines d'hypoth√®ses: comment sortir de la routine et discuter dans une autre ville</a></li>
<li><a href="../fr470822/index.html">Surveillance de la temp√©rature dans l'entreprise</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>