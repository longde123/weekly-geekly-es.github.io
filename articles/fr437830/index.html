<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéà üíÉüèø üë©üèø‚Äçü§ù‚Äçüë®üèΩ Programmation fiable par langage - revue noob. Partie 1 ‚è™ ‚òÄÔ∏è üê¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Encore une fois, j'ai pris deux jours pour √©crire et d√©boguer seulement quatre cents lignes de code de biblioth√®que syst√®me, l'id√©e est n√©e - ¬´comme s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programmation fiable par langage - revue noob. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437830/">  Encore une fois, j'ai pris deux jours pour √©crire et d√©boguer seulement quatre cents lignes de code de biblioth√®que syst√®me, l'id√©e est n√©e - ¬´comme si c'√©tait bien si les programmes √©taient √©crits d'une mani√®re moins p√©nible¬ª. <br><br>  Et tout d'abord, puisque le d√©bogage prend beaucoup plus de temps que l'√©criture de code - vous avez besoin d'une protection contre le fou (vous y compris) au stade de l'√©criture.  Et je voudrais le recevoir du langage de programmation utilis√© (YP). <br><br>  <s>Bien s√ªr, nous devons inventer un nouveau, le meilleur YaP!</s> <br>  Non, nous allons d'abord essayer d'exprimer nos souhaits et de regarder ce que nous avons d√©j√† invent√©. <br><a name="habracut"></a><br>  Alors, ce que j'aimerais recevoir: <br><br><ul><li>  R√©sistance aux erreurs humaines, √©limination des ambigu√Øt√©s lors de la compilation </li><li>  R√©sistance d'entr√©e </li><li>  R√©sistance √† l'endommagement du programme ou des donn√©es - d√©faillance du support, piratage </li><li>  En m√™me temps, tout le monde a une syntaxe et des fonctionnalit√©s plus ou moins tol√©rables </li></ul><br>  Les domaines d'application sont les machines, le transport, les syst√®mes de contr√¥le industriels, l'IoT, l'int√©gration, y compris les t√©l√©phones. <br><br>  Il n'est gu√®re n√©cessaire pour le Web, il est construit (pour l'instant) sur le principe de ¬´quitter et red√©marrer¬ª (tirer et oublier). <br><br>  Assez rapidement, vous pouvez arriver √† la conclusion que le langage doit √™tre compil√© (au moins Pi-compil√©) afin que toutes les v√©rifications soient ex√©cut√©es au maximum au stade de la compilation sans VS (Versus, ci-apr√®s l'opposition n√©gative) "oh, cet objet n'a pas une telle propri√©t√©" en ex√©cution.  M√™me le scriptage des descriptions d'interface rend d√©j√† obligatoire de couvrir compl√®tement ces scripts avec des tests. <br><br>  Personnellement, je ne veux pas payer avec mes ressources (y compris de l'argent pour du mat√©riel plus rapide et plus cher) pour l'interpr√©tation, il est donc conseill√© d'avoir une compilation JIT minimum. <br><br>  Donc, les exigences. <br><br><h4>  Tol√©rance aux erreurs humaines </h4><br>  Apr√®s avoir parcouru avec diligence les Talmuds de PVS-Studio, j'ai d√©couvert que les erreurs les plus courantes sont les fautes de frappe et le copier-coller incomplet. <br><br>  J'ajouterai √©galement quelques incidents de mon exp√©rience et rencontr√©s dans divers ouvrages, √† titre d'exemples n√©gatifs.  De plus, les r√®gles MISRA C ont √©t√© mises √† jour en m√©moire. <br><br>  Apr√®s y avoir r√©fl√©chi un peu, je suis parvenu √† la conclusion que les linters appliqu√©s ex-facto souffrent d'une "erreur de survivant", car dans les anciens projets de graves erreurs ont d√©j√† √©t√© corrig√©es. <br><br>  a) D√©barrassez-vous des noms similaires <br><br>  - Un contr√¥le strict doit √™tre effectu√© sur la visibilit√© des variables et des fonctions.  Une fois scell√©, vous pouvez utiliser un identifiant d'une port√©e plus g√©n√©rale, au lieu de celui souhait√© <br>  - Utilisez des noms insensibles √† la casse.  (VS) "Appelons la fonction en tant que variable, uniquement dans Camelcase", puis comparons avec quelque chose - en C, cela peut √™tre fait (nous obtenons l'adresse de la fonction, qui est un certain nombre) <br>  - Les noms avec une diff√©rence de 1 lettre devraient provoquer un avertissement (sans doute, vous pouvez le mettre en surbrillance dans l'EDI) mais une erreur de copier-coller tr√®s courante .x, .y, .w, .h. <br>  - nous n'autorisons pas le m√™me nom pour diff√©rentes entit√©s - s'il existe une constante avec ce nom, il ne devrait pas y avoir de variable du m√™me nom ou du m√™me nom de type <br>  - il est hautement souhaitable de v√©rifier la d√©nomination de tous les modules du projet - il est facile de confondre, surtout si diff√©rentes personnes √©crivent des modules diff√©rents <br><br>  b) Une fois mentionn√© - il doit y avoir modularit√© et de pr√©f√©rence hi√©rarchique - un projet VS de 12 000 fichiers dans un r√©pertoire est un enfer de recherche. <br>  La modularit√© reste n√©cessaire pour d√©crire les structures d'√©change de donn√©es entre les diff√©rentes parties (modules, programmes) d'un projet.  VS J'ai rencontr√© une erreur due √† un alignement diff√©rent des nombres dans la structure d'√©change du r√©cepteur et de l'√©metteur. <br><br>  - Pour exclure la possibilit√© de doublon de liaison (mise en page). <br><br>  c) Ambigu√Øt√©s <br>  - Il doit y avoir un ordre sp√©cifique d'appels de fonction.  Lorsque vous √©crivez X = funcA () + fB () ou Fn (funcA (), fB (), callC ()) - vous devez comprendre que la personne s'attend √† recevoir les calculs dans l'ordre √©crit, (VS) et non pas comme l'optimiseur l'a pens√©. <br>  - Exclure les op√©rateurs similaires.  Et pas comme en C: + ++, &lt;&lt;&lt;, |  ||, &amp; &amp;&amp;, = == <br>  - Il est conseill√© d'avoir quelques op√©rateurs compr√©hensibles et avec une priorit√© √©vidente.  Bonjour de l'op√©rateur ternaire. <br>  - Le d√©passement des op√©rateurs est plut√¥t pr√©judiciable.  Vous √©crivez i: = 2, mais (VS) cela provoque en fait une cr√©ation implicite d'un objet pour lequel il n'y a pas assez de m√©moire, et le disque se bloque lors de l'√©change et votre satellite se bloque sur Mars :-( <br><br>  En fait, par exp√©rience personnelle, j'ai observ√© un crash sur la ligne ConnectionString = ¬´DSN¬ª, il s'est av√©r√© √™tre un setter qui a ouvert la base de donn√©es (et le serveur n'√©tait pas visible sur le r√©seau). <br><br>  - Nous devons initialiser toutes les variables avec des valeurs par d√©faut. <br>  - De plus, l'approche POO sauve de l'oubli la r√©affectation de tous les champs de l'objet dans une nouvelle centi√®me fonction. <br>  - Le syst√®me de type doit √™tre s√ªr - vous devez contr√¥ler les dimensions des objets affect√©s - protection contre l'√©crasement de la m√©moire, d√©bordement arithm√©tique de type 65535 + 1, perte de pr√©cision et de signification lors de la conversion, √† l'exclusion des comparaisons incomparables - car l'entier 2 n'est pas √©gal √† 2.0 dans le cas g√©n√©ral. <br><br>  Et m√™me une division typique par 0 peut donner un + INF tr√®s d√©fini, au lieu d'une erreur, une d√©finition exacte du r√©sultat est n√©cessaire. <br><br><h4>  R√©sistance d'entr√©e </h4><br>  - Le programme doit fonctionner sur toutes les donn√©es d'entr√©e et de pr√©f√©rence, approximativement en m√™me temps.  (VS) Bonjour √† Android avec une r√©action au bouton du combin√© de 0,2 s √† 5 s;  c'est bien qu'Android ne conduise pas l'ABS automobile. <br><br>  Par exemple, un programme doit traiter correctement √† la fois 1 Ko de donn√©es et 1 To sans avoir √©puis√© les ressources du syst√®me. <br><br>  - Il est tr√®s souhaitable d'avoir une gestion des erreurs fiable et sans ambigu√Øt√© dans RAII qui n'entra√Æne pas d'effets secondaires (fuites de ressources, par exemple).  (VS) Une chose tr√®s dr√¥le est la fuite des poign√©es, qui peut se manifester apr√®s plusieurs mois. <br>  - Ce serait bien de se prot√©ger du d√©bordement de pile - d√©sactiver la r√©cursivit√©. <br>  - Le probl√®me du d√©passement du volume disponible avec la m√©moire requise, une croissance incontr√¥l√©e de la consommation due √† la fragmentation lors de l'allocation / d√©sallocation dynamique.  Si la langue a un runtime d√©pendant du tas, la chose est probablement mauvaise - bonjour STL et Phobos.  (VS) Il y avait une histoire avec un ancien temps C de Microsoft, qui n'a pas restitu√© la m√©moire au syst√®me de mani√®re ad√©quate, en raison de laquelle msbackup s'est √©cras√© sur de gros volumes (pour cette p√©riode). <br>  - Nous avons besoin d'un bon travail en toute s√©curit√© avec des cha√Ænes - pas limit√© par les ressources.  Il d√©pend fortement de l'impl√©mentation (immuable, COW, tableaux R / W) <br>  - D√©passement du temps de r√©action du syst√®me, ind√©pendant du programmateur.  Il s'agit d'un probl√®me typique de garbage collector.  Bien qu'ils √©conomisent de certaines erreurs de programmation - d'autres apportent - mal diagnostiqu√©s. <br>  - Dans une certaine classe de t√¢ches, il s'av√®re que vous pouvez vous passer de m√©moire dynamique ou en la s√©lectionnant une fois au d√©marrage. <br>  - Pour contr√¥ler la sortie au-del√† des limites de la baie, et il est parfaitement acceptable d'√©crire un avertissement d'ex√©cution et de l'ignorer.  Il s'agit tr√®s souvent d'erreurs non critiques. <br>  - Avoir une protection contre les acc√®s √† une section m√©moire qui n'a pas √©t√© initialis√©e par le programme, y compris √† la r√©gion nulle, et √† l'espace d'adressage de quelqu'un d'autre. <br>  - Interpr√®tes, JIT - les couches suppl√©mentaires r√©duisent la fiabilit√©, il y a des probl√®mes avec la collecte des ordures (un sous-syst√®me tr√®s complexe - il fera ses erreurs), et avec un temps de r√©ponse garanti.  Nous l'excluons, mais il y a en principe la Java Micro Edition (o√π tant de choses sont coup√©es de Java que moi seul reste, il y avait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> int√©ressant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">dernasherbrezon</a> (d√©sol√©, tourn√©) et le .NET Micro Framework avec C #. <br><br>  Cependant, par consid√©ration, ces options ont disparu: <br><br><ul><li>  .NET Micro s'est av√©r√© √™tre un interpr√®te ordinaire (barr√© par la vitesse); </li><li>  Java Micro ne convient qu'aux applications int√©gr√©es, car il est trop castr√© par l'API, et vous devrez passer au moins √† SE Embedded pour le d√©veloppement, qui a d√©j√† √©t√© ferm√© ou Java normal, qui est trop monstrueux et impr√©visible en r√©ponse. <br>  Cependant, il existe encore des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">options</a> , et bien que cela ne ressemble pas √† un blanc pour une fondation viable, il peut √™tre compar√© √† d'autres langues, m√™me obsol√®tes ou avec certains inconv√©nients. </li></ul><br><br>  - R√©sistance au travail multi-thread - protection des donn√©es priv√©es d'un flux, et m√©canismes garantissant l'√©change entre les flux.  Un programme avec 200 threads peut ne pas fonctionner du tout comme dans deux. <br>  - La programmation contractuelle et les tests unitaires int√©gr√©s aident √©galement √† dormir paisiblement. <br><br><h4>  R√©sistance √† l'endommagement du programme ou des donn√©es - d√©faillance du support, piratage </h4><br>  - Le programme doit √™tre enti√®rement charg√© en m√©moire - sans charger les modules, surtout √† distance. <br>  - Effacer la m√©moire √† la sortie (et pas seulement l'allocation) <br>  - Surveillance du d√©bordement de pile, des zones variables, en particulier des cha√Ænes. <br>  - Red√©marrez apr√®s un √©chec. <br><br>  Soit dit en passant, l'approche lorsque le runtime a sa propre journalisation, et ne montre pas seulement que le renard du nord et stackrace, je suis tr√®s impressionn√©. <br><br><h4>  Langues - et tableau de conformit√© </h4><br>  √Ä premi√®re vue, pour l'analyse, nous prenons des PL s√ªrs sp√©cialement con√ßus: <br><br><ol><li>  Oberon actif </li><li>  Ada </li><li>  BetterC (sous-ensemble dlang) </li><li>  IEC 61131-3 ST </li><li>  Safe-c </li></ol><br>  Et passez-les en revue en fonction des crit√®res ci-dessus. <br><br>  Mais c'est d√©j√† le volume de l'article de suite, si le karma le permet. <br><br>  Avec les facteurs susmentionn√©s mis en √©vidence dans le tableau, eh bien, peut-√™tre que quelque chose d'autre sensible sera glan√© des commentaires. <br><br>  Quant aux autres langages int√©ressants - C ++, Crystal, Go, Delphi, Nim, Red, Rust, Zig (ajouter au go√ªt) alors je le laisserai √† ceux qui souhaitent remplir le tableau de correspondance. <br><br>  Avertissements: <br><br><ul><li>  En principe, si un programme, disons en Python, consomme 30 Mo et que les exigences de r√©action sont de quelques secondes, et que le micro-ordinateur a 600 Mo de m√©moire libre et 600 MHz pour cent, alors pourquoi pas?  Seul un tel programme sera fiable avec une certaine probabilit√© (bien que 96%), pas plus. </li><li>  De plus, le langage devrait essayer d'√™tre pratique pour le programmeur - sinon personne ne l'utilisera.  De tels articles "Je suis venu avec le langage de programmation id√©al pour qu'il ne me soit plus pratique que d'√©crire" ne sont pas rares non plus dans Habr√©, mais il s'agit d'autre chose. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437830/">https://habr.com/ru/post/fr437830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437818/index.html">Nous enseignons √† un ordinateur √† distinguer les sons: se familiariser avec le concours DCASE et assembler votre classificateur audio en 30 minutes</a></li>
<li><a href="../fr437820/index.html">50 nuances de s√©curit√© Drupal</a></li>
<li><a href="../fr437824/index.html">Extension universelle 1C pour Google Sheets et Docs - prendre et utiliser</a></li>
<li><a href="../fr437826/index.html">Comment nous avons migr√© la base de donn√©es de Redis et Riak KV vers PostgreSQL. Partie 1: le processus</a></li>
<li><a href="../fr437828/index.html">Webinaire ouvert "SELECT ordre d'ex√©cution des requ√™tes et plan de requ√™te dans MS SQL Server"</a></li>
<li><a href="../fr437832/index.html">Open source: humour de code, astuces de code, PAS de code</a></li>
<li><a href="../fr437834/index.html">Deux histoires sur la fa√ßon dont les √©v√©nements de programmation ont eu lieu √† Iekaterinbourg</a></li>
<li><a href="../fr437836/index.html">Under the hood Screeps - virtualisation dans le sandbox MMO pour les programmeurs</a></li>
<li><a href="../fr437838/index.html">Les technologies d'apprentissage automatique acc√©l√®rent parfois le processus d'adaptation des patients aux proth√®ses bioniques</a></li>
<li><a href="../fr437842/index.html">L'histoire secr√®te de Donkey Kong: des machines d'arcade √† NES</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>