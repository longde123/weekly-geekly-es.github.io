<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ ğŸ‘ŒğŸ¾ ğŸ‘©ğŸ¼â€âš–ï¸ Tambahkan fungsionalitas Razor Pages ke .NET standar ğŸ“° ğŸ—¼ ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Razor Pages adalah fitur baru yang diperkenalkan di Core.Net 2.0. Halaman Razor adalah halaman yang terdiri dari tata letak standar (Tampilan) dan kel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tambahkan fungsionalitas Razor Pages ke .NET standar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464831/"> Razor Pages adalah fitur baru yang diperkenalkan di Core.Net 2.0.  Halaman Razor adalah halaman yang terdiri dari tata letak standar (Tampilan) dan kelas backend.  Dalam arti, itu menyerupai Formulir Web hanya tanpa dukungan negara.  Keuntungan dari solusi semacam itu sangat jelas - kita menyingkirkan lapisan yang tidak perlu - model halaman (model data dalam bentuk, misalnya, Entitas dengan sendirinya).  Backend halaman merupakan pengontrol dan model - OOP classic - mengenkapsulasi data dan metode untuk bekerja dengannya dalam satu objek.  Pada akhirnya, model halaman hanya kelas, tidak ada alasan mengapa controller tidak dapat kelas ini. <br><br>  Dengan kata lain, Razor Pages adalah solusi web yang lebih waras daripada MVC, sekarang kita berurusan dengan konsep "halaman" tradisional dan logis dan tidak dengan pengontrol dan model yang tersebar di seluruh proyek.  Tetapi karena .NET akan berkembang ke arah Core.Net, tidak mungkin Razor Page akan muncul dalam kerangka kerja standar, meskipun pada kenyataan di tahun-tahun mendatang sebagian besar proyek akan tetap pada standar .NET.  Namun demikian, dimungkinkan untuk menggambarkan fungsionalitas Halaman Razor pada kerangka kerja standar. <br><a name="habracut"></a><br>  Solusinya sebenarnya terlihat cukup sepele - Anda perlu menambahkan desain berikut ke controller: <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnActionExecuting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ActionExecutingContext Context</span></span></span><span class="hljs-function">)</span></span> { UpdateModel(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre> <br>  Metode OnActionExecuting adalah peristiwa siklus hidup yang dipanggil sebelum metode pengontrol dijalankan (artinya penangan permintaan - Aksi). <br><br>  UpdateModel secara langsung mengikat parameter permintaan ke properti model - dalam hal ini, properti dari kelas pengontrol. <br><br>  Kenyamanan tambahan - sekarang tidak perlu sama sekali untuk secara eksplisit menerima parameter dari kedua jenis Model atau lainnya.  Meskipun tidak ada yang mencegah hal ini, jika parameternya adalah id sederhana yang akan digunakan murni sebagai variabel lokal, parameter yang mengikat sebagai properti dari pengontrol diperlukan, misalnya, jika Anda ingin memastikan kegigihan halaman, yang akan dibahas nanti. <br><br>  Contoh sederhana: <br><br>  Kami memiliki formulir login biasa dengan dua bidang. <br><br>  Tidak ada gunanya menandai, saya hanya akan memberikan kode controller <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AccountController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> username{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> userpass{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [HttpPost] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnLogin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//     checklogin(username,userpass); return View("Index",this); } protected override void OnActionExecuting(ActionExecutingContext Context) { UpdateModel(this); } }</span></span></code> </pre><br>  Seperti yang Anda lihat, pada saat acara dipicu, data input sudah terikat dan siap digunakan. <br><br>  Tentu saja, kita harus ingat bahwa sekarang kita harus kembali sebagai ActionResult controller juga, dan dalam template mendaftarkan nama kelas controller - seperti @Model AccountController. <br><br>  Sebagai konsekuensi dari solusi ini, tugas mempertahankan keadaan halaman di antara permintaan juga disederhanakan.  Katakanlah Anda memiliki halaman dengan tabel tertentu, filter yang disortir berdasarkan kolom dan pagination. <br><br>  Anda mengklik filter, model kembali ke tampilan dan semuanya baik-baik saja, tetapi ketika Anda mengklik penyortiran, filter akan secara alami diatur ulang.  Paginator akan mengatur ulang penyortiran dan filter.  Di WebForms, keadaan halaman disimpan secara otomatis, di MVC Anda harus menerapkan berbagai keputusan rumit, misalnya, merekatkan semua parameter dan mengarahkannya untuk setiap permintaan, yaitu, Anda perlu menggantung semua parameter yang datang sebelum ini dari filter pada tautan sortir. <br><br>  Kesulitan seperti itu adalah salah satu alasan SPA dan kegilaan javascript lainnya dengan menyeret logika dan data ke browser dengan rem browser yang dihasilkan (terutama perangkat seluler), halaman melompat dan menyentak untuk setiap gerakan mouse dan meningkatkan kompleksitas dan biaya pekerjaan - karena backend sama saja menulis dalam satu atau lain bentuk, kemas membongkar data yang dikirim melalui ajax, ditambah panggilan neraka, komplikasi debugging dan sebagainya, dan semua ini tanpa manfaat praktis bagi pengunjung situs yang tidak peduli bagaimana  Halaman Isana. <br><br>  Solusi paling logis adalah menyimpan status halaman dalam sesi.  Karena kita memiliki semua parameter yang diperlukan dalam bentuk properti controller, semua yang diperlukan adalah mendefinisikan kembali metode OnActionExecuted, yang dipanggil setelah memproses permintaan, dan kemas properti yang diperlukan ke dalam sesi (kunci sesi jelas harus menunjuk ke nama controller). <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnActionExecuted</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ActionExecutedContext Context</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  }</span></span></code> </pre><br>  Parameter dipulihkan dari sesi di konstruktor controller atau sebelum memanggil UpdateModel (ini).  Ketika permintaan tiba, misalnya, penyortiran, parameter baru akan berubah dan sisanya akan tetap tak tersentuh dan tampilan akan ditampilkan dalam bentuk yang sama seperti yang dikirim. <br><br>  Solusi semacam itu memiliki satu lagi kemudahan - misalnya, pengguna mengurutkan tabel, dan memutuskan untuk mengedit beberapa elemen dengan membuka halaman lain untuk ini.  Secara alami, ia ingin kembali ke keadaan daftar yang ia tinggalkan, dan karena keadaan halaman ada di sesi kami, halaman akan dipulihkan secara otomatis.  Tidak perlu, seperti yang sering dilakukan, untuk mentransfer seluruh "pangsit" parameter ke halaman edit dan sebaliknya.  Jika tidak perlu menyimpan status antar halaman, maka status halaman tidak dapat disimpan dalam satu sesi, tetapi dalam TempData. <br><br>  Saya berharap "peretasan kehidupan" ini, meskipun terlihat sepele, akan berguna bagi pemula sampai mereka memata-matai internet untuk solusi yang lebih tidak nyaman dan rumit dan memutuskan bahwa tidak ada yang lain. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464831/">https://habr.com/ru/post/id464831/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464809/index.html">Bagaimana kami menguji teknologi pengenalan wajah dan apa yang terjadi</a></li>
<li><a href="../id464811/index.html">Apple Music untuk pengembang</a></li>
<li><a href="../id464813/index.html">Mengganti Punto Switcher, tata letak Birman dengan skrip autohotkey</a></li>
<li><a href="../id464819/index.html">Hari keenam saya dengan Haiku: di bawah tenda sumber daya, ikon dan paket</a></li>
<li><a href="../id464823/index.html">Kami mempertimbangkan gaji rata-rata seorang "ahli data data." Parsim hh.ru menggunakan panda / python</a></li>
<li><a href="../id464833/index.html">Hitung Scoring de la Fer atau studi tentang penilaian kredit sebagai bagian dari memperluas wawasan seseorang. Bagian 2</a></li>
<li><a href="../id464837/index.html">Dari Gangga ke Volga: bagaimana cara menyelamatkan sungai dari polusi?</a></li>
<li><a href="../id464839/index.html">Tentang satu paten Tesla Motors</a></li>
<li><a href="../id464841/index.html">Habr Weekly # 15 / Tentang kekuatan cerita yang bagus (dan sedikit tentang ayam goreng)</a></li>
<li><a href="../id464843/index.html">Menyenangkan dengan pengembangan atau manfaat untuk ASIO di C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>