<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèª üï≥Ô∏è üïµüèª Vorteile der folgenden Styleguides bei der Entwicklung von Angular-Anwendungen üë©üèΩ‚Äç‚öñÔ∏è üíÜüèΩ üíß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ende 2018 fand in Samara das Panda-Meetup # 9 Frontend statt. Bei dieser Veranstaltung habe ich mich in einer neuen Rolle versucht und eine Pr√§sentati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vorteile der folgenden Styleguides bei der Entwicklung von Angular-Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/434700/">  Ende 2018 fand in Samara das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Panda-Meetup # 9 Frontend</a> statt.  Bei dieser Veranstaltung habe ich mich in einer neuen Rolle versucht und eine Pr√§sentation gemacht.  Ich hei√üe Evgeny Kholmov.  Ich bin vor mehr als 10 Jahren als Student zum Programmieren gekommen.  In den letzten 5 Jahren habe ich Remote-Service-Systeme bei gro√üen russischen Banken entwickelt, davon zwei Jahre als Manager.  W√§hrend dieser Zeit war ich an der Erstellung mehrerer f√ºhrender russischer Unternehmensanwendungen beteiligt, die sich mit den Schwerpunkten schwerer Architektur-, Integrations- und Prozessl√∂sungen befassten.  Aufgrund meiner Erfahrung bei der Entwicklung mehrerer gro√üer Internetbanken sagte ich den G√§sten des Mitap, welchen Nutzen es h√§tte, wenn Sie die Regeln eines guten Entwicklungsstils befolgen w√ºrden.  Die stimmhaften Figuren beeindruckten das Publikum.  Die Besprechungsteilnehmer haben mich buchst√§blich mit Fragen √ºberw√§ltigt.  Es ist m√∂glich, dass dieses Thema unter den Lesern von Habr√© eine lebhafte Antwort findet. <br><br><img src="https://habrastorage.org/webt/dg/oy/ou/dgoyou_yhvh6nzo65shrybtvlgw.jpeg"><br><a name="habracut"></a><br>  Sie k√∂nnen das Video meiner Pr√§sentation auf Youtube sehen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0WHW37Wif54" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Und f√ºr die B√ºrger von Chabrowsk habe ich eine Textversion meines Berichts vorbereitet. <br><br>  Als ich Probleme mit der Lesbarkeit von Code studierte, stie√ü ich auf StackOverflow zu einem merkw√ºrdigen Thema.  Es wurde diskutiert, wie wichtig gesch√§ftslesbarer Code ist und ob er wichtiger ist als Leistung und Korrektheit.  Infolgedessen war laut Community-Mitgliedern das wichtigste Kriterium die Lesbarkeit des Codes. <br><br>  Zu dieser Zeit war ich nicht an Problemen mit der Lesbarkeit von Code interessiert - ich entwickelte die n√§chste Internetbank.  Das Frontend verwendete HTML5, AngularJS, LESS.  Das Projekt wurde f√ºr eine der gr√∂√üten Banken in Russland entwickelt.  Ich bin von der Promsvyazbank zu diesem Projekt gewechselt, wo ich eine sehr √§hnliche Internetbank entwickelt habe: dasselbe Kundensegment, dieselbe Anzahl von Benutzern, fast denselben Technologie-Stack (HTML5, AngularJS, SCSS).  Trotz der starken √Ñhnlichkeit der Projekte war der √úbergang f√ºr mich sehr schwierig.  Es geht nur um Stil.  Der Code f√ºr diese Projekte war in Design und allgemeiner Lesbarkeit auffallend unterschiedlich.  Wenn die Entwickler in der Promsvyazbank die Richtlinien strikt befolgten, gab es im neuen Projekt keine klaren Stilregeln. <br><br>  Damals konnte ich verstehen (und sogar berechnen), welche Vorteile ein gro√ües Projekt f√ºr strenge Styleguides bringt.  Nach der Analyse der Entwicklungskosten meines neuen Projekts kam ich zu dem gleichen Ergebnis wie bei den StackOverflow-Lesern: Lesbarkeit ist das wichtigste Kriterium. <br><br><img src="https://habrastorage.org/webt/1u/o1/t3/1uo1t3d4w8n2qhm-61tyob1cn0c.png"><br><br><h3>  Gute Stilregeln </h3><br>  F√ºr AngularJS und Angular 2+ hat John Papa, ein bekannter Experte in der Welt der Frontend-Entwicklung, Styleguides erstellt, die die Regeln f√ºr einen guten Stil bei der Entwicklung von Angular-Anwendungen beschreiben.  Als ich bei der Promsvyazbank arbeitete, lernte ich diese Styleguides kennen.  Das Team hat sie bei allen Projekten klar verfolgt.  Bei dem neuen Projekt stammte der Code jedoch von Auftragnehmern, die nicht so ernsthaft √ºber den Programmierstil nachdachten.  Mit meinem neuen Team stie√ü ich auf t√§gliche Aufgaben, die ich zuvor gel√∂st hatte.  Dies brachte mir jedoch keine Vorteile, sondern nur Schmerzen und Leiden. <br><br>
<h3>  Eine Geschichte von verlorener Zeit oder warum brauchen wir all diese Regeln </h3><br>  John Papas Styleguide listet viele Regeln auf.  Das wiederholte Auflisten macht keinen Sinn, sie sind in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Originalquelle</a> perfekt dargestellt.  Ich werde mich auf einige Beispiele beschr√§nken, die die Vorteile von Expertenempfehlungen farbenfroh demonstrieren. <br><br><h3>  Beginnen wir mit einem einfachen </h3><br>  Fallstudie.  Benutzer der Internetbank zeigten irrelevante Wechselkurse an.  Ich hatte zum Zeitpunkt der Operation die Aufgabe, aktuelle Kurse zu laden.  Ich habe erwartet, dass der Code f√ºr das Laden von Wechselkursen in Services und Komponenten angezeigt wird.  Aber nat√ºrlich war er nicht da (sonst h√§tte ich nichts zu schreiben).  Es stellte sich heraus, dass Wechselkurse auf der Ebene des Anwendungsstarts in der Datei app.run extrahiert und gefiltert wurden, wonach sie in den Sitzungsspeicher gestellt wurden.  Dies ist eindeutig nicht der beste Ansatz.  Um das Problem zu l√∂sen, musste der Code von dort entfernt werden.  Es dauerte einen ganzen Tag, um eine einfache Aufgabe zu erledigen. <br><br>  Schauen Sie sich nun die Bootstrapping-Regel (Style 02-05) im Styleguide an. <br><br>  Platzieren Sie den Code, der zum Starten der Anwendung dient, in einer separaten Datei und platzieren Sie die Anwendungslogik nicht in dieser Datei.  Logik sollte in Services und Komponenten platziert werden. <br><br><h3>  Millionen Beispiel </h3><br>  Wie Sie oben sehen k√∂nnen, kann das Vernachl√§ssigen nur einer Regel zu Problemen f√ºhren.  Aber wir werden wirklich schwerwiegende Konsequenzen haben, wenn wir nicht mehrere Empfehlungen gleichzeitig anh√∂ren. <br><br>  Fallstudie.  Unser Team erhielt die Aufgabe: F√ºgen Sie f√ºr Zahlungen f√ºr Wohnraum und kommunale Dienstleistungen die M√∂glichkeit hinzu, freiwillige Versicherungsbetr√§ge in die Zahlung einzubeziehen.  Im Frontend-Teil lief dies auf eine einfache Aufgabe hinaus: ein Kontrollk√§stchen auf dem Formular zu platzieren, dessen Einbeziehung die Versicherungskosten zum Zahlungsbetrag hinzuf√ºgen w√ºrde.  Bei der Promsvyazbank haben wir eine √§hnliche Aufgabe sehr schnell erledigt.  Aber bei dem neuen Projekt ist alles schief gelaufen. <br><br>  Aufgrund der Tatsache, dass der Code des Zahlungsmoduls √§u√üerst erfolglos organisiert war, dauerte die Entscheidung Monate.  Auf der Suche nach der am besten geeigneten Option haben wir diese Aufgabe mehrmals verschoben und erneut √ºbernommen.  Und die Bank hatte unterdessen Schwierigkeiten mit Zahlungen zugunsten von Wohnraum und kommunalen Dienstleistungen.  Letztendlich haben wir uns nat√ºrlich mit dem Problem befasst.  Aber ich habe mich gefragt, wie viel schlechter Code eine Organisation am Beispiel einer so einfachen Aufgabe kosten kann.  Ich habe berechnet, wie viel Zeit alle Spezialisten f√ºr die L√∂sung des Problems aufgewendet haben.  Bewaffnet mit Statistiken √ºber Durchschnittsgeh√§lter.  Ich habe die damit verbundenen Verluste berechnet und aufgerundet.  Als Ergebnis kam ich zu dem Schluss, dass wir mindestens 5 Millionen Rubel sparen w√ºrden, wenn wir einen anf√§nglich guten Code im Zahlungsmodul h√§tten. <br><br>  Als ich John Papas Styleguide √ºberpr√ºfte, stellte ich fest, dass unser Modul mehrere Regeln f√ºr guten Code gleichzeitig verletzte.  Nachdem ich den Grad des Einflusses jeder dieser Regeln gesch√§tzt hatte, identifizierte ich drei, deren Verletzung vor allem unsere Arbeit verlangsamte: <br><br><ul><li>  Eins-Regel - Ich habe 25% der verlorenen Zeit f√ºr Verst√∂√üe gegen diese Regel abgeschrieben. </li><li>  Einzelverantwortung - Abweichung von diesem Prinzip trug zum Gesamtverlust von 35% bei; </li><li>  LIFT - Verletzung dieser Gruppe von Ans√§tzen, ich denke, 40% von uns waren diejenigen, die am meisten langsamer wurden. </li></ul><br><img src="https://habrastorage.org/webt/pg/_t/fs/pg_tfsk-jr0igllmipxnj-3ss5o.png"><br><br><h3>  Regel von einem </h3><br>  Unsere Online-Bank unterst√ºtzte viele Zahlungen, von denen einige in ihrem Modell v√∂llig unterschiedlich waren.  Trotzdem haben die Programmierer versucht, ein ‚Äûuniverselles‚Äú Zahlungsformular zu erstellen, das mit allen Zahlungsoptionen funktioniert. <br>  Auf dem Formular selbst wurden viele verschiedene Bl√∂cke gebildet, die unter bestimmten Bedingungen gezeigt wurden und unter anderen nie gezeigt wurden.  Gleichzeitig wurden sie von einer gemeinsamen Logik bedient, die ViewModel'i stark aufbl√§hte. <br><br>  Dies alles f√ºhrte dazu, dass etwas, das an einer Stelle hinzugef√ºgt wurde, an einer anderen Stelle unweigerlich abfiel.  Zun√§chst stellte sich heraus, dass die Auswahl des Kontrollk√§stchens den Betrag nicht ver√§nderte.  Wir haben versucht, das Betragsfeld zu korrigieren.  Bei allen anderen Zahlungsarten wurde es jedoch nicht mehr bearbeitet.  Wir haben versucht, das Betragsfeld durch ein neues zu ersetzen.  Die allgemeine Validierungslogik fiel jedoch aus: Das Kontrollk√§stchen funktioniert, aber die Zahlungsschaltfl√§che ist nicht verf√ºgbar.  In eine √§hnliche Situation geraten? <br><br>  Nun wollen wir sehen, was die Regel von einer Regel sagt. <br><br>  Jedes einzelne Element, z. B. eine Komponente oder ein Dienst, sollte in einer separaten Datei abgelegt werden.  Sie m√ºssen sicherstellen, dass die Datei nicht w√§chst.  Wenn die Anzahl der Codezeilen eine magische Zahl von 400 √ºberschreitet, ist dies ein sicheres Zeichen daf√ºr, dass es sich lohnt, die Komponente zu besch√§digen. <br><br><h3>  Einzelverantwortung </h3><br>  Als wir mit dem Formular selbst fertig waren, stellte sich heraus, dass die Funktionen au√üerhalb des Formulars nicht mehr funktionierten.  Beispielsweise wurde die Arbeit mit Zahlungsentw√ºrfen besch√§digt.  In der Betriebsgeschichte traten Fehler auf.  Dies geschah, weil neben dem Zahlungsformular selbst noch andere Komponenten an das Modell und den Zahlungscontroller des Formulars gebunden waren.  Noch schlimmer war die Tatsache, dass ein Versuch, diese Funktionalit√§t zu reparieren, uns zu einem defekten Zahlungsformular zur√ºckf√ºhrte. <br>  Wir haben uns mit dem klassischen Fall der Verletzung der Einzelverantwortung befasst.  Dieses Prinzip ist seit langem in der Gruppe der erfahrenen Programmierer des Gentleman enthalten.  In seinem Styleguide wird ausdr√ºcklich empfohlen, ihn bei der Entwicklung von Angular-Anwendungen zu verwenden. <br><br>  Wenden Sie das Single Responsibility-Prinzip (SRP) an. <br><br><h3>  LIFT </h3><br>  Das Unbequemste, mit dem ich mich befassen musste, war das Navigieren im Projekt selbst.  Die Logik war auf mehrere Dateien verteilt und zu einer unverst√§ndlichen Hierarchie von Vererbung und Delegierung zusammengefasst.  Aus den Namen dieser Dateien folgte ihr Zweck √ºberhaupt nicht.  Dateien lagen in verschiedenen Ordnern.  In einigen Ordnern, zum Beispiel Controllern, musste ich neben Dutzenden anderer Dateien st√§ndig nach denjenigen suchen, die gerade ben√∂tigt werden.  Die Anzahl der ge√∂ffneten Registerkarten in der Entwicklungsumgebung passte nicht auf den Computerbildschirm und in meinen Kopf.  W√§hrend des Debuggens, als ich die N-te Komponente des Kontos erreichte, verga√ü ich bereits, welchen Pfad und warum ich hierher gekommen bin.  Von Zeit zu Zeit musste ein vollst√§ndiges Reverse Engineering mit eingeschaltetem Debugger durchgef√ºhrt werden, um herauszufinden, in welchem ‚Äã‚ÄãProjektordner sich die Datei mit einer bestimmten Funktionalit√§t befand.  Das akkumulierte Gef√ºhl des Hasses auf den Code verwischte seine Augen und lenkte ihn von der Arbeit ab. <br><br>  Der weise Styleguide kennt dieses Problem ebenfalls.  Um dies zu l√∂sen, wurde eine LIFT-Regelgruppe erstellt.  LIFT steht f√ºr Locate, Identify, Flat und Try to be DRY.  Nach den Grunds√§tzen von LIFT ist es notwendig, die Projektstruktur so zu organisieren, dass: <br><br><ul><li>  Es war klar, wo neue Komponenten platziert und wo nach vorhandenen gesucht werden sollte (Suchen). </li><li>  Der Zweck der Komponente wurde durch den Namen der Datei (Identifizieren) deutlich. </li><li>  Es war einfach, in den Ordnern zu navigieren und die flachste Struktur f√ºr sie zu verwenden (flach). </li><li>  Versuchen Sie, Ihren Code nicht zu wiederholen, aber nicht auf Kosten anderer Regeln (Versuchen Sie, trocken zu sein). </li></ul><br><h3>  Der LIFT-Ansatz wird durch zwei weitere Regeln erg√§nzt. </h3><br>  Allgemeine strukturelle Richtlinien bieten die M√∂glichkeit, f√ºr jede einzelne Komponente einen Ordner zu erstellen und alle mit dieser Komponente verbundenen Dateien darin zu gruppieren.  Dies ist beispielsweise praktischer, wenn sich die Datei "payment-form.controller.js" nicht im Ordner "Controllers" befindet, sondern im Ordner "pay-form" zusammen mit "pay-form.html" und "payment-form.css". <br><br>  Die Ordner-f√ºr-Feature-Struktur empfiehlt, separate Ordner mit den entsprechenden Namen f√ºr Features und Themenbereiche des Projekts zu erstellen.  Nach dieser Regel sollte sich der oben erw√§hnte Zahlungsformularordner zusammen mit anderen Komponenten, die f√ºr die Arbeit mit Zahlungen erforderlich sind, im Zahlungsordner befinden. <br><br>  Wenn die Autoren des Codes die LIFT-Regeln befolgen w√ºrden, w√ºrde die Struktur des Projekts folgenderma√üen aussehen: <br><br><img src="https://habrastorage.org/webt/s5/ls/mr/s5lsmrcnizyozt0c2t15o2i5pby.png"><br><br>  Stimmen Sie zu, diese Option zum Organisieren des Codes ist f√ºr den Leser viel bequemer.  Und er w√ºrde unserem gesamten Team viel Zeit sparen. <br><br><h3>  Gute Programmierer gehen an die Bar </h3><br>  Ich hoffe, dass die obigen Beispiele √ºberzeugend genug klangen, so dass der Leser, der zuvor nicht √ºber den Programmierstil nachgedacht hatte, den Wunsch haben w√ºrde, in die Richtlinie zu schauen.  Im Allgemeinen kommt gut gelesener und gepflegter Code nicht nur dem Projektbudget, sondern auch dem Programmierer selbst zugute.  Lesbarer Code ist einfacher zu √ºberpr√ºfen.  Wenn Sie die Hilfe von Kollegen ben√∂tigen, werden diese den lesbaren Code schnell verstehen.  Wenn Sie nur ein Anf√§nger sind, ist die Lesbarkeit des Codes das erste, woran Sie arbeiten m√ºssen.  Selbst wenn Sie superkorrekten und perfekt optimierten Code schreiben, der jedoch absolut unlesbar und nicht unterst√ºtzt ist, werden Sie im Team sicherlich respektiert, aber Sie werden nach der Arbeit nicht in die Bar eingeladen. <br><br>  Wenn dieser Text Sie dazu gebracht hat, √ºber etwas nachzudenken oder an etwas schmerzlich Vertrautes zu erinnern, werde ich es gerne in den Kommentaren zum Beitrag sehen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434700/">https://habr.com/ru/post/de434700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434690/index.html">Haiku-Betriebssystem: Portieren von Anwendungen und Erstellen von Paketen</a></li>
<li><a href="../de434692/index.html">Die 25 teuersten US-Startups, die 2018 starben</a></li>
<li><a href="../de434694/index.html">√úbersicht √ºber NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../de434696/index.html">Mitarbeiter von IT-Giganten haben herausgefunden, wie sie die Richtlinien ihrer Unternehmen beeinflussen k√∂nnen</a></li>
<li><a href="../de434698/index.html">Pessimismus √ºber Multithreading</a></li>
<li><a href="../de434702/index.html">Warum moderne SSD mich zum Absturz bringt</a></li>
<li><a href="../de434704/index.html">Gr√ºnde f√ºr den R√ºckgang der Kosten des Mobilfunkverkehrs in Russland und die Prognose f√ºr 2019</a></li>
<li><a href="../de434706/index.html">UDB. Was ist das Teil 3. Datenpfad-FIFO</a></li>
<li><a href="../de434708/index.html">HL 2018. Zusammenfassung des Berichts ‚ÄûMachen Sie Passw√∂rter wieder gro√üartig! Wie man rohe Gewalt besiegt und Hackern nichts hinterl√§sst ‚Äú</a></li>
<li><a href="../de434710/index.html">RUVDS-Blog √ºber Habr: Jahr in drei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>