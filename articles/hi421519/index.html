<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЫФя╕П ЁЯТЖЁЯП╝ ЁЯМ╣ "рдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛" рдкреБрд╕реНрддрдХред рд╕реНрдЯреНрд░реАрдо рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг тАЭ ЁЯСиЁЯП╛тАНЁЯН│ ЁЯПВЁЯП╝ ЁЯСиЁЯП┐тАНЁЯМ╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрд┐рд╕реА рднреА рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдХрд╛рдо рдХреЗ рджреМрд░рд╛рди, рдбреЗрдЯрд╛ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ: рдпреЗ рд▓реЙрдЧ рдлрд╛рдЗрд▓реЗрдВ, рдореИрдЯреНрд░рд┐рдХреНрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА, рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рд╕рдВрджреЗрд╢ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"рдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛" рдкреБрд╕реНрддрдХред рд╕реНрдЯреНрд░реАрдо рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг тАЭ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/421519/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><img src="https://habrastorage.org/webt/t6/ej/tx/t6ejtxboknf_ha_u7radv1gzrls.jpeg" align="left" alt="рдЫрд╡рд┐"></a>  рдХрд┐рд╕реА рднреА рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдХрд╛рдо рдХреЗ рджреМрд░рд╛рди, рдбреЗрдЯрд╛ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ: рдпреЗ рд▓реЙрдЧ рдлрд╛рдЗрд▓реЗрдВ, рдореИрдЯреНрд░рд┐рдХреНрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА, рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рд╕рдВрджреЗрд╢ рдЖрджрд┐ рд╣реИрдВред рдЗрд╕ рд╕рднреА рдбреЗрдЯрд╛ рдХрд╛ рдЙрдЪрд┐рдд рд╣реЗрд░рдлреЗрд░ рдХрд░рдирд╛ рдбреЗрдЯрд╛ рд╕реЗ рдХрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рдЖрдк рдПрдХ рд╡рд╛рд╕реНрддреБрдХрд╛рд░, рдбреЗрд╡рд▓рдкрд░, рдпрд╛ рд╕реНрдирд╛рддрдХ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди Apache Kafka рд╕реЗ рдЕрднреА рддрдХ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЗрд╕ рдЕрджреНрднреБрдд рдкреБрд╕реНрддрдХ рд╕реЗ рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ рдЗрд╕ рдореБрдлреНрдд рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд░реЗрдВ рдЬреЛ рдЖрдкрдХреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдбреЗрдЯрд╛ рдХрддрд╛рд░реЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br><h3>  рдпрд╣ рдкреБрд╕реНрддрдХ рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рд╣реИ? </h3><br>  тАЬрдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛ред  рд╕реНрдЯреНрд░реАрдо рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг тАЭрдЙрди рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдерд╛ рдЬреЛ рдЕрдкрдиреЗ рдХрд╛рдо рдореЗрдВ рдХрдлрд╝реНрдХрд╛ рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ (рдЬрд┐рдиреНрд╣реЗрдВ рдПрд╕рдЖрд░рдИ, рджреЗрд╡рдУрдкреАрдПрд╕ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдПрдбрдорд┐рдирд┐рд╕реНрдЯреНрд░реЗрдЯрд░ рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдЬреЛ рдФрджреНрдпреЛрдЧрд┐рдХ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдирд┐рдЧрд░рд╛рдиреА рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рд╣рдо рдбреЗрдЯрд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЯ рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдгрд╛рддреНрдордХ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдирд╣реАрдВ рднреВрд▓реЗ - рдЬреЛ рдХрдВрдкрдиреА рдХреЗ рд╕рдВрдкреВрд░реНрдг рдбреЗрдЯрд╛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рдбрд┐рдЬрд╛рдЗрди рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВред  рдХреБрдЫ рдЕрдзреНрдпрд╛рдп, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ 3, 4 рдФрд░ 11, рдЬрд╛рд╡рд╛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рд╕реЗ рд╣реИрдВред  рдЙрдиреНрд╣реЗрдВ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдкрд╛рдардХ рдЬрд╛рд╡рд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдХреА рдореВрд▓ рдмрд╛рддреЛрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛ, рдЬрд┐рд╕рдореЗрдВ рдЕрдкрд╡рд╛рдж рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдФрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдЬреИрд╕реЗ рдореБрджреНрджреЗ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br><a name="habracut"></a><br>  рдЕрдиреНрдп рдЕрдзреНрдпрд╛рдп, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ 2, 8, 9, рдФрд░ 10, рдорд╛рди рд▓реЗрддреЗ рд╣реИрдВ рдХрд┐ рдкрд╛рдардХ рдХреЗ рдкрд╛рд╕ рд▓рд┐рдирдХреНрд╕ рдХреЗ рд╕рд╛рде рдЕрдиреБрднрд╡ рд╣реИ рдФрд░ рд▓рд┐рдирдХреНрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИред  рдХрд╛рдлреНрдХрд╛ рдХреА рдкреБрд╕реНрддрдХ рдФрд░ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд╢реЗрд╖ рд╣рд┐рд╕реНрд╕реЛрдВ рдкрд░ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рд╢рдмреНрджреЛрдВ рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкрд╛рдардХреЛрдВ рд╕реЗ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдЬреНрдЮрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрдиреЗ рд╡рд╛рд▓реЗ рд▓реЛрдЧреЛрдВ рдХреА рдПрдХ рдЕрдиреНрдп рд╢реНрд░реЗрдгреА рдкреНрд░рдмрдВрдзрдХ рдФрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЯ рд╣реИрдВ рдЬреЛ рд╕реАрдзреЗ рдХрд╛рдлреНрдХрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд╕рд╛рде рдЬреЛ рдЗрд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдХрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡реЗ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреА рдЧрд╛рд░рдВрдЯреА рдХреНрдпрд╛ рд╣реИ рдФрд░ рдХрдлрд╝реНрдХрд╛-рдЖрдзрд╛рд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рддреЗ рд╕рдордп рдЕрдкрдиреЗ рдЕрдзреАрдирд╕реНрдереЛрдВ рдФрд░ рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рд╕реЗ рдХреНрдпрд╛ рд╕рдордЭреМрддрд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рдкреБрд╕реНрддрдХ рдЙрди рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧреА рдЬреЛ рдЕрдкрдиреЗ рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХреЛ рдХрд╛рдлреНрдХрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдпрд╛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ рдХрд┐ рд╡рд┐рдХрд╛рд╕ рдЯреАрдо рдХреЗ рдкрд╛рд╕ рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛред <br><br><h3>  рдЕрдзреНрдпрд╛рдп 2. рдХрд╛рдлреНрдХрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h3><br>  рдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛ рдПрдХ рдЬрд╛рд╡рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реИ рдЬреЛ рд╡рд┐рдВрдбреЛрдЬ, рдореИрдХрдУрдПрд╕, рд▓рд┐рдирдХреНрд╕, рдФрд░ рдЕрдиреНрдп рд╕рд╣рд┐рдд рдХрдИ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рдЕрдзреНрдпрд╛рдп рдореЗрдВ, рд╣рдо рд▓рд┐рдирдХреНрд╕ рдкрд░ рдХрд╛рдлреНрдХрд╛ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд╣ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИ рдЬреЛ рдЗрд╕ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрддрд╛ рд╣реИред  рд▓рд┐рдирдХреНрд╕ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдпреЛрдЬрди рдХреЗ рдХрдлрдХрд╛ рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╢рдВрд╕рд┐рдд рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рднреА рд╣реИред  рд╡рд┐рдВрдбреЛрдЬ рдФрд░ рдореИрдХрдУрдПрд╕ рдкрд░ рдХрд╛рдлреНрдХрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкрд░рд┐рд╢рд┐рд╖реНрдЯ рдП рджреЗрдЦреЗрдВред <br><br>  <b>рдЬрд╛рд╡рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ</b> <br><br>  рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рдпрд╛ рдХрд╛рдлреНрдХрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдЬрд╛рд╡рд╛ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдЖрдк рдЬрд╛рд╡рд╛ 8 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдФрд░ рдпрд╣ рдПрдХ рд╕рдВрд╕реНрдХрд░рдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ рддреЛ рдЖрдкрдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИ рдпрд╛ рд╕реАрдзреЗ java.com рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рдФрд░ рдХрд╛рдлреНрдХрд╛ рдЬрд╛рд╡рд╛ рд░рдирдЯрд╛рдЗрдо рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рддреЗ рд╕рдордп рдкреВрд░реНрдг рдЬрд╛рд╡рд╛ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдХрд┐рдЯ (рдЬреЗрдбрдбреАрдХреЗ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред  рдпреЗ рд╕реНрдерд╛рдкрдирд╛ рдЪрд░рдг рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ JDK рд╕рдВрд╕реНрдХрд░рдг 8.0.51 /usr/java/jdk1.8.0.151 рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рд╣реИред <br><br>  <b>рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░ рдХреАрдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ</b> <br><br>  рдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛ рдЬрд╝реВрдХрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╝реВрдХреЗрдкрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЙрдкрднреЛрдХреНрддрд╛ рдЧреНрд░рд╛рд╣рдХреЛрдВ (рдЫрд╡рд┐ 2.1) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рд╡рд┐рд╡рд░рдг рджреЗрддрд╛ рд╣реИред  рдпрджреНрдпрдкрд┐ рдЬрд╝реВрдХреЗрдкрд░ рдХреЛ рдХрд╛рдлреНрдХрд╛ рд╡рд┐рддрд░рдг рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд▓рд┐рдкрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд┐рддрд░рдг рд╕реЗ рдЬрд╝реБрдХреАрдкрд░ рднрдВрдбрд╛рд░ рдХрд╛ рдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/a-/ye/ed/a-yeeda4ysojxtp4kcwlnmufwlc.png" alt="рдЫрд╡рд┐"></div><br>  рдХрд╛рдлреНрдХрд╛ рдХреЛ рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рд╕реНрдерд┐рд░ рд╕рдВрд╕реНрдХрд░рдг 3.4.6 рдХреЗ рд╕рд╛рде рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ apache.org рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  <b>рд╕реНрдЯреИрдВрдбрдЕрд▓реЛрди рд╕рд░реНрд╡рд░</b> <br><br>  рдирд┐рдореНрди рдЙрджрд╛рд╣рд░рдг / usr / рд╕реНрдерд╛рдиреАрдп / рдЬрд╝реБрдХреЗрд░ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдмреБрдирд┐рдпрд╛рджреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде ZooKeeper рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ / var / lib / zookeeper рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрдиреЗ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br><pre><code class="hljs delphi"># tar -zxf zookeeper-<span class="hljs-number"><span class="hljs-number">3.4</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.tar.gz # mv zookeeper-<span class="hljs-number"><span class="hljs-number">3.4</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper # mkdir -p /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/lib/zookeeper # cat &gt; /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper/conf/zoo.cfg &lt;&lt; EOF &gt; tickTime=<span class="hljs-number"><span class="hljs-number">2000</span></span> &gt; dataDir=/<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/lib/zookeeper &gt; clientPort=<span class="hljs-number"><span class="hljs-number">2181</span></span> &gt; EOF # /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper/bin/zkServer.sh start JMX enabled by <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Using config: /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper/bin/../conf/zoo.cfg Starting zookeeper ... STARTED # <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> JAVA_HOME=/usr/java/jdk1.<span class="hljs-number"><span class="hljs-number">8.0</span></span>_51 # /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper/bin/zkServer.sh start JMX enabled by <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Using config: /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/zookeeper/bin/../conf/zoo.cfg Starting zookeeper ... STARTED #</code> </pre> <br>  рдЕрдм рдЖрдк рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ ZooKeeper рдХреНрд▓рд╛рдЗрдВрдЯ рдкреЛрд░реНрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ рдФрд░ рдЪрд╛рд░-рдЕрдХреНрд╖рд░ srvr рдХрдорд╛рдВрдб рднреЗрдЬрдХрд░ рдСрдлрд╝рд▓рд╛рдЗрди рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рд╣реИ: <br><br><pre> <code class="hljs pgsql"># telnet localhost <span class="hljs-number"><span class="hljs-number">2181</span></span> Trying ::<span class="hljs-number"><span class="hljs-number">1.</span></span>.. Connected <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> localhost. <span class="hljs-keyword"><span class="hljs-keyword">Escape</span></span> <span class="hljs-type"><span class="hljs-type">character</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'^]'</span></span>. srvr Zookeeper <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>: <span class="hljs-number"><span class="hljs-number">3.4</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">-1569965</span></span>, built <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span>/<span class="hljs-number"><span class="hljs-number">20</span></span>/<span class="hljs-number"><span class="hljs-number">2014</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span> GMT Latency min/avg/max: <span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> Received: <span class="hljs-number"><span class="hljs-number">1</span></span> Sent: <span class="hljs-number"><span class="hljs-number">0</span></span> Connections: <span class="hljs-number"><span class="hljs-number">1</span></span> Outstanding: <span class="hljs-number"><span class="hljs-number">0</span></span> Zxid: <span class="hljs-number"><span class="hljs-number">0x0</span></span> Mode: standalone Node count: <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span> closed <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> host. #</code> </pre> <br>  <b>рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░ рдХреА рдЪреМрдХреА</b> <br><br>  рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░ рдХреАрдкрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдПрдХ рдкрд╣рдирд╛рд╡рд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреА рдкреНрд░рдХреГрддрд┐ рдХреЗ рдХрд╛рд░рдг, рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдореЗрдВ рд╡рд┐рд╖рдо рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╕рд░реНрд╡рд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 3, 5, рдЖрджрд┐, рдХреНрдпреЛрдВрдХрд┐ рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдХреЗ рдмрд╣реБрдордд рдХреЛ рдХрд╛рд░реНрдп рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП (рдХреЛрд░рдо)ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рддреАрди рдиреЛрдбреНрд╕ рдХрд╛ рдПрдХ рдкрд╣рдирд╛рд╡рд╛ рдПрдХ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдиреЛрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдпрджрд┐ рдкрд╣рдирд╛рд╡рд╛ рдореЗрдВ рддреАрди рдиреЛрдб рд╣реИрдВ, рддреЛ рджреЛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдореЗрдВ ZooKeeper рд╕рд░реНрд╡рд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдирдХреЗ рдкрд╛рд╕ рд╕рднреА рд╕рд░реНрд╡рд░реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рдПрдХ рдПрдХрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕рд░реНрд╡рд░ рдХреЗ рдкрд╛рд╕ рдЗрд╕ рд╕рд░реНрд╡рд░ рдХреЗ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде рдПрдХ myid рдлрд╝рд╛рдЗрд▓ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдЕрдЧрд░ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдореЗрдВ zoo1.example.com, zoo2.example.com рдФрд░ zoo3.example.com рдирд╛рдо рджрд┐рдП рдЧрдП рд╣реИрдВ, рддреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦ рд╕рдХрддреА рд╣реИ: <br><br><pre> <code class="hljs pgsql">tickTime=<span class="hljs-number"><span class="hljs-number">2000</span></span> dataDir=/var/lib/zookeeper clientPort=<span class="hljs-number"><span class="hljs-number">2181</span></span> initLimit=<span class="hljs-number"><span class="hljs-number">20</span></span> syncLimit=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>=zoo1.example.com:<span class="hljs-number"><span class="hljs-number">2888</span></span>:<span class="hljs-number"><span class="hljs-number">3888</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>=zoo2.example.com:<span class="hljs-number"><span class="hljs-number">2888</span></span>:<span class="hljs-number"><span class="hljs-number">3888</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span>=zoo3.example.com:<span class="hljs-number"><span class="hljs-number">2888</span></span>:<span class="hljs-number"><span class="hljs-number">3888</span></span></code> </pre> <br>  рдЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ, initLimit рд╕рдордп рдХреА рдорд╛рддреНрд░рд╛ рд╣реИ рдЬреЛ рджрд╛рд╕ рдиреЛрдбреНрд╕ рдорд╛рд╕реНрдЯрд░ рд╕реЗ рдЬреБрдбрд╝ рд╕рдХрддрд╛ рд╣реИред  SyncLimit рдорд╛рди рдорд╛рд╕реНрдЯрд░ рд╕реЗ рджрд╛рд╕ рдиреЛрдбреНрд╕ рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИред  рджреЛрдиреЛрдВ рдорд╛рди рдЯрд┐рдХрдЯрд╛рдЗрдо рдЗрдХрд╛рдЗрдпреЛрдВ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН initLimit = 20 ┬╖ 2000 рдПрдордПрд╕ = 40 рдПрд╕ред  рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕рднреА рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рдХреЛ рднреА рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИред  рд╡реЗ рдкреНрд░рд╛рд░реВрдк server.X = hostname: peerPort: рд▓реАрдбрд░рдкреЛрд░реНрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╣реИрдВ: <br><br><ul><li>  X рд╕рд░реНрд╡рд░ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╣реИред  рдпрд╣ рдкреВрд░реНрдгрд╛рдВрдХ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдЧрдгрдирд╛ рд╢реВрдиреНрдп рд╕реЗ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИ рдФрд░ рдЕрдиреБрдХреНрд░рдорд┐рдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИ; </li><li>  hostname - рд╣реЛрд╕реНрдЯ рдирд╛рдо рдпрд╛ рд╕рд░реНрд╡рд░ рдЖрдИрдкреА рдкрддрд╛; </li><li>  рдкреАрдпрд░рдкреЛрд░реНрдЯ - рдЯреАрд╕реАрдкреА рдкреЛрд░реНрдЯ рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд░реНрд╡рд░ рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ; </li><li>  рд▓реАрдбрд░рдкреЛрд░реНрдЯ - рдЯреАрд╕реАрдкреА рдкреЛрд░реНрдЯ рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрд╕реНрдЯ рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br>  рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдХрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рдкреЛрд░реНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рд╕реЗ рдЬреБрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА рд╕рднреА рддреАрди рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдкрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдПрдХрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдбреЗрдЯрд╛рдбрд╛рдпрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕рд░реНрд╡рд░ рдХреЗ рдкрд╛рд╕ рдПрдХ myid рдлрд╝рд╛рдЗрд▓ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдЗрд╕рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рджрд┐рдП рдЧрдП рд╕рд░реНрд╡рд░ рдХреЗ рдЕрдиреБрд░реВрдк рд╕рд░реНрд╡рд░ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрди рдЪрд░рдгреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡реЗ рдкрд╣рдирд╛рд╡рд╛ рдореЗрдВ рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░реЗрдВрдЧреЗред <br><br><h3>  рдХрд╛рдлреНрдХрд╛ рдмреНрд░реЛрдХрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h3><br>  рдЬрд╛рд╡рд╛ рдФрд░ рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЕрдкрд╛рдЪреЗ рдХрд╛рдлреНрдХрд╛ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд╕рд╛рде рдЖрдЧреЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред  Apache Kafka рдХреА рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬрд╝ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">kafka.apache.org/downloads.html</a> рдкрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, / usr / рд╕реНрдерд╛рдиреАрдп / рдХрдлрдХрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдХрдлрдХрд╛ рдордВрдЪ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ, рдЗрд╕реЗ рдкрд╣рд▓реЗ рд▓реЙрдиреНрдЪ рдХрд┐рдП рдЧрдП рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ рд╕рдВрджреЗрд╢ рд▓реЙрдЧ рдЦрдВрдбреЛрдВ рдХреЛ / tmp / kafka- рд▓реЙрдЧ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ: <br><br><pre> <code class="hljs pgsql"># tar -zxf kafka_2<span class="hljs-number"><span class="hljs-number">.11</span></span><span class="hljs-number"><span class="hljs-number">-0.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>.tgz # mv kafka_2<span class="hljs-number"><span class="hljs-number">.11</span></span><span class="hljs-number"><span class="hljs-number">-0.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka # mkdir /tmp/kafka-logs # export JAVA_HOME=/usr/java/jdk1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_51 # /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/bin/kafka-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>.sh -daemon /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/config/<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>.properties #</code> </pre> <br>  рдХрд╛рдлреНрдХрд╛ рджрд▓рд╛рд▓ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╕рд╛рде рдХреЛрдИ рднреА рд╕рд░рд▓ рдСрдкрд░реЗрд╢рди рдХрд░рдХреЗ, рдкрд░реАрдХреНрд╖рдг рд╡рд┐рд╖рдп рдмрдирд╛рдиреЗ, рд╕рдВрджреЗрд╢ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдФрд░ рдЙрдирдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░рдиреЗ рд╕рд╣рд┐рдд рдЗрд╕рдХреЗ рдХрд╛рдордХрд╛рдЬ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдзрд╛рдЧреЗ рдмрдирд╛рдирд╛ рдФрд░ рдЬрд╛рдВрдЪрдирд╛: <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># /usr/local/kafka/bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test Created topic </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"test"</span></span></span><span class="hljs-meta">. # /usr/local/kafka/bin/kafka-topics.sh --zookeeper localhost:2181 --describe --topic test Topic:test PartitionCount:1 ReplicationFactor:1 Configs: Topic: test Partition: 0 Leader: 0 Replicas: 0 Isr: 0 #</span></span></code> </pre> <br>  рдкрд░реАрдХреНрд╖рдг рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рд╕рдВрджреЗрд╢ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛: <br><br><pre> <code class="hljs delphi"># /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/bin/kafka-console-producer.sh --broker-list localhost:<span class="hljs-number"><span class="hljs-number">9092</span></span> --topic test Test <span class="hljs-keyword"><span class="hljs-keyword">Message</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">Message</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ^D #</code> </pre> <br>  рдкрд░реАрдХреНрд╖рдг рд╡рд┐рд╖рдп рд╕реЗ рд╕рдВрджреЗрд╢ рднреЗрдЬрдирд╛: <br><br><pre> <code class="hljs delphi"># /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/bin/kafka-console-consumer.sh --zookeeper localhost:<span class="hljs-number"><span class="hljs-number">2181</span></span> --topic test --from-beginning Test <span class="hljs-keyword"><span class="hljs-keyword">Message</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">Message</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ^C Consumed <span class="hljs-number"><span class="hljs-number">2</span></span> messages #</code> </pre> <br><h3>  рдмреНрд░реЛрдХрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди </h3><br>  рдХрд╛рдлреНрдХрд╛ рд╡рд┐рддрд░рдг рдХреЗ рд╕рд╛рде рдЖрдкреВрд░реНрддрд┐ рдХреА рдЧрдИ рдмреНрд░реЛрдХрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЙрджрд╛рд╣рд░рдг рд╕реНрдЯреИрдВрдб-рдЕрд▓реЛрди рд╕рд░реНрд╡рд░ рдХреЗ рдЯреНрд░рд╛рдпрд▓ рд░рди рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рдЙрдкрдпреБрдХреНрдд рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХрд╛рдВрд╢ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рд▓рд┐рдП рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдХрдИ рдХрд╛рдлреНрдХрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ рдЬреЛ рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╕рднреА рдкрд╣рд▓реБрдУрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдЖрдк рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдХрд╛рдлреНрдХрд╛ рдмреНрд░реЛрдХрд░ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ рдЬреЛ рддрдм рддрдХ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдХрд┐ рдЖрдк рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдХрд┐ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛред <br><br><h3>  рдмреБрдирд┐рдпрд╛рджреА рдмреНрд░реЛрдХрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ </h3><br>  рдХрдлрдХрд╛ рдмреНрд░реЛрдХрд░ рдХреА рдХрдИ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░ рддреИрдирд╛рдд рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдПрдХ рдЕрд▓рдЧ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдЯреИрдВрдб-рдЕрд▓реЛрди рдмреНрд░реЛрдХрд░ рдХреЛ рдЫреЛрдбрд╝рдХрд░ред  рдпреЗ рдкреИрд░рд╛рдореАрдЯрд░ рдмреНрд░реЛрдХрд░ рдХреА рдореБрдЦреНрдп рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ рддрд╛рдХрд┐ рдмреНрд░реЛрдХрд░ рдЕрдиреНрдп рджрд▓рд╛рд▓реЛрдВ рдХреЗ рд╕рд╛рде рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХреЗред <br><br>  <b>broker.id</b> <br><br>  рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рдлреНрдХрд╛ рдмреНрд░реЛрдХрд░ рдХреЗ рдкрд╛рд╕ рдмреНрд░реЛрдХрд░ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдПрдХ рдкреВрд░реНрдгрд╛рдВрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдкреИрд░рд╛рдореАрдЯрд░ред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдорд╛рди 0 рд╣реИ, рд▓реЗрдХрд┐рди рдХреЛрдИ рднреА рд╕рдВрдЦреНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдореБрдЦреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рд╣реА рдХрд╛рдлреНрдХрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рднреАрддрд░ рдирд╣реАрдВ рджреЛрд╣рд░рд╛рддрд╛ рд╣реИред  рд╕рдВрдЦреНрдпрд╛ рдХреА рдкрд╕рдВрдж рдордирдорд╛рдиреА рд╣реЛ рд╕рдХрддреА рд╣реИ, рдФрд░ рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рд░рдЦрд░рдЦрд╛рд╡ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдПрдХ рджрд▓рд╛рд▓ рд╕реЗ рджреВрд╕рд░реЗ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╡рд╛рдВрдЫрдиреАрдп рд╣реИ рдХрд┐ рдпрд╣ рд╕рдВрдЦреНрдпрд╛ рдХрд┐рд╕реА рддрд░рд╣ рдореЗрдЬрдмрд╛рди рд╕реЗ рдЬреБрдбрд╝реА рд╣реЛ, рдлрд┐рд░ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рджрд▓рд╛рд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдкрддреНрд░рд╛рдЪрд╛рд░ рдЕрдзрд┐рдХ рдкрд╛рд░рджрд░реНрд╢реА рд╣реЛрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ рд╣реЛрд╕реНрдЯрдирд╛рдо рдореЗрдВ рдЕрджреНрд╡рд┐рддреАрдп рд╕рдВрдЦреНрдпрд╛рдПрдБ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, host1.example.com, host2.example.com, рдЖрджрд┐), рддреЛ рдпреЗ рдирдВрдмрд░ рдмреНрд░реЛрдХрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реЛрдЧрд╛ред рдорд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдПред <br><br>  <b>рдмрдВрджрд░рдЧрд╛рд╣</b> <br><br>  рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ Kafka рдХреЛ TCP рдкреЛрд░реНрдЯ 9092 рдкрд░ рдПрдХ рд╢реНрд░реЛрддрд╛ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреА рд╣реИред рдпрд╣ рдкреЛрд░реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рдкреЛрд░реНрдЯ рдХреЛ рдмрджрд▓рдХрд░ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдЙрдкрд▓рдмреНрдз рдХреЗ рд▓рд┐рдП рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ 1024 рд╕реЗ рдХрдо рд╕рдВрдЦреНрдпрд╛ рд╡рд╛рд▓реЗ рдкреЛрд░реНрдЯ рдХреЛ рдЪреБрдирддреЗ рд╕рдордп, рдХрд╛рдлреНрдХрд╛ рдХреЛ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЬрдбрд╝ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдлреНрдХрд╛ рдЪрд▓рд╛рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИред <br><br>  <b>zookeeper.connect</b> <br><br>  рдмреНрд░реЛрдХрд░ рдХреЗ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░рдХреАрдкрд░ рдЬрд┐рд╕ рдкрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рд╡рд╣ zookeeper.connect рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдирдореВрдирд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ, рдЬрд╝реВрдХреЗрдкрд░ рд╕реНрдерд╛рдиреАрдп рд╣реЛрд╕реНрдЯ рдкрд░ 2181 рдкреЛрд░реНрдЯ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╕реНрдерд╛рдиреАрдпрд╣реЛрд╕реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: 2181ред  рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдкреНрд░рд╛рд░реВрдк рдкреНрд░рдкрддреНрд░ рд╣реЛрд╕реНрдЯрдирд╛рдо рдХреА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рдЕрд░реНрдзрд╡рд┐рд░рд╛рдо рд╕реЗ рдЕрд▓рдЧ рд╕реВрдЪреА рд╣реИ: рдкреЛрд░реНрдЯ / рдкрде, рд╕рд╣рд┐рдд: <br><br><ul><li>  hostname - ZooKeeper рд╕рд░реНрд╡рд░ рдХрд╛ рд╣реЛрд╕реНрдЯрдирд╛рдо рдпрд╛ IP рдкрддрд╛; </li><li>  рдкреЛрд░реНрдЯ - рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдкреЛрд░реНрдЯ рдирдВрдмрд░; </li><li>  / рдкрде - рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдЪрд┐рдбрд╝рд┐рдпрд╛рдШрд░ рдХреАрдкрд░ рдкрде рдХрд╛рдлреНрдХрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдирдИ рдЬрдбрд╝ (рдЪреБрд░реЛрдЯ) рдкрде рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рддреЛ рд░реВрдЯ рдкрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br>  рдпрджрд┐ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЪреЗрд░реЛрдЯ рдкрде рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ рдмреНрд░реЛрдХрд░ рдХреЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рдкрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  <b>log.dirs</b> <br><br>  Kafka рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдХреЗ рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рд╣реЗрдЬрддрд╛ рд╣реИ, рдФрд░ рд▓реЙрдЧ рдХреЗ рдпреЗ рд╕реЗрдЧрдореЗрдВрдЯ log.dirs рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдпрд╣ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдкрдереЛрдВ рдХреА рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо рд╕реЗ рдЕрд▓рдЧ рдХреА рдЧрдИ рд╕реВрдЪреА рд╣реИред  рдпрджрд┐ рдХрдИ рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдмреНрд░реЛрдХрд░ рдПрдХ рдкрде рдХреЗ рд╕рд╛рде рдПрдХ рдЦрдВрдб рдХреЗ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд╕рдВрд░рдХреНрд╖рдг рдХреЗ рд╕рд╛рде, рдХрдо рд╕реЗ рдХрдо рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЙрди рдореЗрдВ рдЕрдиреБрднрд╛рдЧреЛрдВ рдХреЛ рдмрдЪрд╛рдПрдЧрд╛ред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рджрд▓рд╛рд▓ рдЙрд╕ рдирдП рдЦрдВрдб рдХреЛ рдЙрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд░рдЦреЗрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ рдЗрд╕ рд╕рдордп рдХрдо рд╕реЗ рдХрдо рд╡рд┐рднрд╛рдЬрди рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВ, рдФрд░ рдХрдо рд╕реЗ рдХрдо рд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддрд╛рдХрд┐ рдЦрдВрдбреЛрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдХреЗ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рдХреА рдЧрд╛рд░рдВрдЯреА рди рд╣реЛред <br><br>  <b>num.recovery.threads.per.data.dir</b> <br><br>  рдХрд╛рдлреНрдХрд╛ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╕реНрдЯрдо рдереНрд░реЗрдб рдкреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдпрд╣ рд▓рд╛рдЧреВ рд╣реИ: <br><br><ul><li>  рд╕рд╛рдорд╛рдиреНрдп рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреЗ рджреМрд░рд╛рди - рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрднрд╛рдЧ рдХреЗ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП; </li><li>  рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд╛рдж рд╢реБрд░реВ - рдкреНрд░рддреНрдпреЗрдХ рдЦрдВрдб рдХреЗ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдФрд░ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП; </li><li>  рдмрдВрдж рдХрд░реЛ - рдзреАрд░реЗ рд▓реЙрдЧ рдЦрдВрдбреЛрдВ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред </li></ul><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдкреНрд░рддрд┐ рд▓реЙрдЧ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдереНрд░реЗрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рд░реЛрдХрдиреЗ рдХреЗ рджреМрд░рд╛рди рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдСрдкрд░реЗрд╢рдиреЛрдВ рдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдПрдХ рдЧрд▓рдд рд╢рдЯрдбрд╛рдЙрди рд╕реЗ рдЙрдмрд░рдиреЗ рдкрд░, рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд╛рдн рдХрдИ рдШрдВрдЯреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╕рд╛рде рджрд▓рд╛рд▓ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛рдП!  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдорд╛рди log.dirs рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдПрдХ рд▓реЙрдЧ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣реА рд╣реИ, рдпрджрд┐ num.recovery.threads.per.data.dir рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдорд╛рди 8 рд╣реИ, рдФрд░ log.dirs рдореЗрдВ рддреАрди рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИрдВ, рддреЛ рдереНрд░реЗрдбреНрд╕ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ 24 рд╣реИред <br><br>  <b>auto.create.topics.enable</b> <br><br>  рдХрд╛рдлреНрдХрд╛ рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдмреНрд░реЛрдХрд░ рдХреЛ рд╕реНрд╡рддрдГ рд╣реА рдПрдХ рд╡рд┐рд╖рдп рдмрдирд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм: <br><br><ul><li>  рдирд┐рд░реНрдорд╛рддрд╛ рд╡рд┐рд╖рдп рдкрдВрдХреНрддрд┐ рдореЗрдВ рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ; </li><li>  рдЙрдкрднреЛрдХреНрддрд╛ рд╡рд┐рд╖рдп рдкрдВрдХреНрддрд┐ рд╕реЗ рдкрдврд╝рдирд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ; </li><li>  рдХреЛрдИ рднреА рдЧреНрд░рд╛рд╣рдХ рд╡рд┐рд╖рдп рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддрд╛ рд╣реИред </li></ul><br>  рдХрдИ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рдЕрд╡рд╛рдВрдЫрдиреАрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рдХрдлрдХрд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╡рд┐рд╖рдп рдХреЗ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЗрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдпрджрд┐ рдЖрдк рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдпрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрд╕ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк auto.create.topics.enable рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдЧрд▓рдд рдкрд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдереАрдо рд╕реЗрдЯрд┐рдВрдЧреНрд╕ </h3><br>  рдХрдлрдХрд╛ рд╕рд░реНрд╡рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдирд┐рд░реНрдорд┐рдд рдереАрдо рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд╕рд╛рд░реА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдЗрди рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ рд╕реЗ рдХреБрдЫ, рдЬрд┐рд╕рдореЗрдВ рдЕрдиреБрднрд╛рдЧреЛрдВ рдФрд░ рд╕рдВрджреЗрд╢ рдмрдЪрдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд╕реЗ рдкреНрд░рд╢рд╛рд╕рдХ рдЯреВрд▓ (рдЕрдзреНрдпрд╛рдп 9 рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕рд░реНрд╡рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреЛ рд╕рдВрджрд░реНрдн рдорд╛рдиреЛрдВ рдХреЗ рдмрд░рд╛рдмрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХреНрд▓рд╕реНрдЯрд░ рд╡рд┐рд╖рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред <br><br>  <b>num.partitions</b> <br><br>  Num.partitions рдкреИрд░рд╛рдореАрдЯрд░ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдирдП рд╡рд┐рд╖рдп рдХреЗ рдХрд┐рддрдиреЗ рдЦрдВрдб рдмрдирд╛рдП рдЧрдП рд╣реИрдВ, рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдЬрдм рд╡рд┐рд╖рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдирд┐рд░реНрдорд╛рдг рд╕рдХреНрд╖рдо рд╣реЛрддрд╛ рд╣реИ (рдЬреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╣реИ)ред  рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рд╣реИ 1. рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рд╡рд░реНрдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗрд╡рд▓ рдмрдврд╝рд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХрдо рдирд╣реАрдВред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдпрджрд┐ рдЗрд╕реЗ рдЕрдВрдХрди рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рд╡рд┐рднрд╛рдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ (рдЕрдзреНрдпрд╛рдп 4 рдореЗрдВ рдЗрд╕ рдкрд░ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИ)ред <br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЕрдзреНрдпрд╛рдп 1 рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИ, рдЕрдиреБрднрд╛рдЧ рдПрдХ рдХрд╛рдлреНрдХрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд┐рд╖рдпреЛрдВ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкреВрд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рдкрд░ рд▓реЛрдб рдХреЛ рд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рджрд▓рд╛рд▓реЛрдВ рдХреЛ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд╡рд┐рднрд╛рдЬрди рдХреА рд╕рдВрдЦреНрдпрд╛ рдпрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рджрд▓рд╛рд▓реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛред  рдпрд╣ рджрд▓рд╛рд▓реЛрдВ рдХреЗ рдмреАрдЪ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╡рд░реНрдЧреЛрдВ рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рд▓реЛрдб рдХрд╛ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рд╣реЛрдЧрд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдПрдХ рдЕрдирд┐рд╡рд╛рд░реНрдп рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХрдИ рд╡рд┐рд╖рдпреЛрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдЖрдкрдХреЛ рд▓реЛрдб рдХреЛ рд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред <br><br>  <b>log.retention.ms</b> <br><br>  рдЕрдзрд┐рдХ рдмрд╛рд░ рдирд╣реАрдВ, рдХрд╛рдлреНрдХрд╛ рдореЗрдВ рд╕рдВрджреЗрд╢ рднрдВрдбрд╛рд░рдг рд╕рдордп рдореЗрдВ рд╕реАрдорд┐рдд рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди log.retention.hours рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ 168 рдШрдВрдЯреЗ, рдпрд╛ 1 рд╕рдкреНрддрд╛рд╣ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдк рджреЛ рдЕрдиреНрдп рдорд╛рдкрджрдВрдбреЛрдВ - log.retention.minutes рдФрд░ log.retention.ms рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрди рддреАрдиреЛрдВ рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ рдПрдХ рд╣реА рдмрд╛рдд рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддреА рд╣реИ - рдЙрд╕ рд╕рдордп рдХреА рдЕрд╡рдзрд┐ рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╕рдВрджреЗрд╢ рд╣рдЯрд╛ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдпрд╣ log.retention.ms рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрджрд┐ рдХрдИ рдкреИрд░рд╛рдореАрдЯрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИрдВ, рддреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдорд╛рдк рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЗрдХрд╛рдИ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдЗрд╕рд▓рд┐рдП log.retention.ms рдХрд╛ рдорд╛рди рд╣рдореЗрд╢рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  <b>log.retention.bytes</b> <br><br>  рд╕рдВрджреЗрд╢реЛрдВ рдХреА рд╡реИрдзрддрд╛ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХрд╛ рджреВрд╕рд░рд╛ рддрд░реАрдХрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдХреБрд▓ рдЖрдХрд╛рд░ (рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ) рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред  рдорд╛рди log.retention.bytes рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЕрд▓рдЧ рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЖрда рд╡рд░реНрдЧреЛрдВ рдХреЗ рдПрдХ рд╡рд┐рд╖рдп рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдФрд░ log.retention.bytes рдХреЗ рдореВрд▓реНрдп рдХреЗ 1 рдЬреАрдмреА рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рдЗрд╕ рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рдХреА рдЕрдзрд┐рдХрддрдо рдорд╛рддреНрд░рд╛ 8 рдЬреАрдмреА рд╣реЛрдЧреАред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рднрдВрдбрд╛рд░рдг рдХреА рдорд╛рддреНрд░рд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд░реНрдЧреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИ, рди рдХрд┐ рд╡рд┐рд╖рдп рдкрд░ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдпрджрд┐ рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рд╡рд░реНрдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИ, рддреЛ log.retention.bytes рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдЕрдзрд┐рдХрддрдо рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  <b>log.segment.bytes</b> <br><br>  рд▓реЙрдЧрд┐рдВрдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдиреЗ рдЪрд┐рдВрддрд╛ рд╕рдВрджреЗрд╢ рдЦрдВрдбреЛрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛, рди рдХрд┐ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ред  рдЬреИрд╕реЗ рд╣реА рд╕рдВрджреЗрд╢ рдХрд╛рдлреНрдХрд╛ рджрд▓рд╛рд▓ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрднрд╛рдЧ рдХреЗ рд╡рд░реНрддрдорд╛рди рдЬрд░реНрдирд▓ рдЦрдВрдб рдХреЗ рдЕрдВрдд рдореЗрдВ рдЬреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрдм рд▓реЙрдЧ рдЦрдВрдб log.segment.bytes рдкреИрд░рд╛рдореАрдЯрд░ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЖрдХрд╛рд░ рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ рдФрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ 1 рдЬреАрдмреА рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЦрдВрдб рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдирдпрд╛ рдЦреБрд▓рддрд╛ рд╣реИред  рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЬрд░реНрдирд▓ рдЦрдВрдб рдХреЛ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рдЖрдХрд╛рд░ рдЬрд┐рддрдирд╛ рдЫреЛрдЯрд╛ рд╣реЛрддрд╛ рд╣реИ, рдЙрддрдиреА рд╣реА рдмрд╛рд░ рдЖрдкрдХреЛ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдмрдВрдж рдХрд░рдХреЗ рдирдП рдмрдирд╛рдиреЗ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреЛ рдбрд┐рд╕реНрдХ рд▓рд┐рдЦрдиреЗ рдХреА рд╕рдордЧреНрд░ рджрдХреНрд╖рддрд╛ рдХреЛ рдХрдо рдХрд░рддрд╛ рд╣реИред <br><br>  рд╕рдВрджреЗрд╢ рдЬрдирд░реЗрд╢рди рдХреА рдХрдо рдЖрд╡реГрддреНрддрд┐ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╡рд╛рд▓реЗ рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ рд╕рд╛рдЗрдЬрд╝ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдХреЛрдИ рд╡рд┐рд╖рдп рдкреНрд░рддрд┐ рджрд┐рди рдХреЗрд╡рд▓ 100 рдПрдордмреА рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдкрд░ log.segment.bytes рдкреИрд░рд╛рдореАрдЯрд░ рд╕реЗрдЯ рд╣реИ, рддреЛ рдПрдХ рдЦрдВрдб рдХреЛ рднрд░рдиреЗ рдореЗрдВ 10 рджрд┐рди рд▓рдЧрддреЗ рд╣реИрдВред  рдФрд░ рдЬрдм рд╕реЗ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рдмрдВрдж рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрдм рддрдХ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЕрдорд╛рдиреНрдп рдШреЛрд╖рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдлрд┐рд░ рд▓реЙрдЧ.retention.ms рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ 604.8 рдорд┐рд▓рд┐рдпрди (1 рд╕рдкреНрддрд╛рд╣) рдХреЗ рдорд╛рди рдХреЗ рд╕рд╛рде, рдмрдВрдж рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рд╕рдВрдЪрд▓рди рд╕реЗ рд╡рд╛рдкрд╕ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ 17 рджрд┐рдиреЛрдВ рдореЗрдВ рд╕рдВрджреЗрд╢ рдЬрдорд╛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рдЖрдк 10 рджрд┐рдиреЛрдВ рдореЗрдВ рдЬрдорд╛ рд╣реБрдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЦрдВрдб рдХреЛ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ 7 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдЕрдкрдирд╛рдП рдЧрдП рдЕрд╕реНрдерд╛рдпреА рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЗрд╕реЗ рд░рд┐рдЯрд╛рдпрд░ рдХрд░ рд╕рдХреЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдВрддрд┐рдо рд╕рдВрджреЗрд╢ рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЦрдВрдб рдХреЛ рд╣рдЯрд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред ред <br><br>  <b>log.segment.ms</b> <br><br>  рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд╕рдорд╛рдкрди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рд╣реИ log.segment.ms рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЬреЛ рдЙрд╕ рд╕рдордп рдХреА рд▓рдВрдмрд╛рдИ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  Log.retention.bytes рдФрд░ log.retention.ms рдорд╛рдкрджрдВрдбреЛрдВ рдХреА рддрд░рд╣, log.segment.bytes рдФрд░ log.segment.ms рдкреИрд░рд╛рдореАрдЯрд░ рдкрд╛рд░рд╕реНрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ рдЕрдирдиреНрдп рдирд╣реАрдВ рд╣реИрдВред  рдХрд╛рдлреНрдХрд╛ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ рдЬрдм рдпрд╛ рддреЛ рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЖрдХрд╛рд░ рд╕реАрдорд╛ рдкреВрд░реА рд╣реЛ рдЬрд╛рддреА рд╣реИ, рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЗрдирдореЗрдВ рд╕реЗ рдХреМрди рд╕реА рдШрдЯрдирд╛ рдкрд╣рд▓реЗ рд╣реЛрддреА рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, log.segment.ms рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдорд╛рди рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХрд╛ рд╕рдорд╛рдкрди рдЙрдирдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред <br><br>  <b>message.max.bytes</b> <br><br>  рдХрд╛рдлреНрдХрд╛ рдмреНрд░реЛрдХрд░ рдЙрддреНрдкрдиреНрди рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдЕрдзрд┐рдХрддрдо рдЖрдХрд╛рд░ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП message.max.bytes рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди 1,000,000 (1 рдПрдордмреА) рд╣реИред  рдПрдХ рдирд┐рд░реНрдорд╛рддрд╛ рдЬреЛ рдПрдХ рдмрдбрд╝рд╛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рдЙрд╕реЗ рдмреНрд░реЛрдХрд░ рд╕реЗ рдПрдХ рддреНрд░реБрдЯрд┐ рд╕реВрдЪрдирд╛ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рд╕рдВрджреЗрд╢ рд╕реНрд╡реАрдХрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдмреНрд░реЛрдХрд░ рдХреА рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдЕрдиреНрдп рд╕рднреА рдЖрдХрд╛рд░реЛрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рд╕рдВрдкреАрдбрд╝рд┐рдд рд╕рдВрджреЗрд╢ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдирд┐рд░реНрдорд╛рддрд╛ рд╕рдВрджреЗрд╢ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЖрдХрд╛рд░ рдЕрд╕рдореНрдкреАрдбрд┐рдд рдмрд╣реБрдд рдмрдбрд╝рд╛ рд╣реИ рдпрджрд┐ рдЙрдиреНрд╣реЗрдВ рд╕рдВрджреЗрд╢ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реАрдорд╛рдУрдВ рд╕реЗ рд╕рдВрдХреБрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред ред <br><br>  рд╕рдВрджреЗрд╢ рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рдиреЗ рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдПрдХ рдмрдбрд╝рд╛ рд╕рдВрджреЗрд╢ рдЖрдХрд╛рд░ рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдмреНрд░реЛрдХрд░ рдереНрд░реЗрдб рдЬреЛ рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдФрд░ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧреЗрдЧрд╛ред  рдмрдбрд╝реЗ рд╕рдВрджреЗрд╢ рднреА рдбрд┐рд╕реНрдХ рдкрд░ рд▓рд┐рдЦреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХреЛ рдмрдврд╝рд╛рддреЗ рд╣реИрдВ, рдЬреЛ I / O рдереНрд░реВрдкреБрдЯ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br><h3>  рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЪрдпрди </h3><br>  рдХрд╛рдлреНрдХрд╛ рджрд▓рд╛рд▓ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЪреБрдирдирд╛ рдПрдХ рд╡рд┐рдЬреНрдЮрд╛рди рд╕реЗ рдЕрдзрд┐рдХ рдПрдХ рдХрд▓рд╛ рд╣реИред  рдХрдлрд╝реНрдХрд╛ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ рд╕реНрд╡рдпрдВ рдХреЛрдИ рд╕рдЦреНрдд рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдХрд┐рд╕реА рднреА рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХрдИ рдХрд╛рд░рдХреЛрдВ рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛрддрд╛ рд╣реИ: рдбрд┐рд╕реНрдХ, рд░реИрдо, рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕реАрдкреАрдпреВ рдХреА рдХреНрд╖рдорддрд╛ рдФрд░ рдереНрд░реВрдкреБрдЯред <br><br>  рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдпрд╣ рддрдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдк рдмрдЬрдЯ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдЗрд╖реНрдЯрддрдо рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдбрд┐рд╕реНрдХ рдереНрд░реВрдкреБрдЯ </h3><br>  рдмреНрд░реЛрдХрд░ рдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдереНрд░реВрдкреБрдЯ, рдЬреЛ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реАрдзреЗ рдирд┐рд░реНрдорд╛рдг рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдХрд╛рдлреНрдХрд╛ рд╕рдВрджреЗрд╢ рд╕реНрдерд╛рдиреАрдп рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдмрджреНрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЙрдирдХреА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИред  рддрднреА рднреЗрдЬрдиреЗ рд╡рд╛рд▓реЗ рдСрдкрд░реЗрд╢рди рдХреЛ рд╕рдлрд▓ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдбрд┐рд╕реНрдХ рдкрд░ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдХрд╛рд░реНрдп рдЬрд┐рддрдиреА рддреЗрдЬрд╝реА рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕рдВрджреЗрд╢ рдХреА рдкреАрдврд╝реА рдореЗрдВ рджреЗрд░реА рдЙрддрдиреА рд╣реА рдХрдо рд╣реЛрдЧреАред <br><br>  рдбрд┐рд╕реНрдХ рдХреА рдмреИрдВрдбрд╡рд┐рдбреНрде рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрддрд╛рдИ рдкреНрд▓реЗрдЯ (рдПрдЪрдбреАрдбреА) рдпрд╛ рдареЛрд╕-рд░рд╛рдЬреНрдп рдбреНрд░рд╛рдЗрд╡ (рдПрд╕рдПрд╕рдбреА) рдХреЗ рд╕рд╛рде рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  SSD рдХреЗ рдкрд╛рд╕ рдкрд░рд┐рдорд╛рдг рдХрдо рдЦреЛрдЬ / рдкрд╣реБрдВрдЪ рд╕рдордп рдФрд░ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдЖрджреЗрд╢ рд╣реИрдВред  HDD рдЕрдзрд┐рдХ рдХрд┐рдлрд╛рдпрддреА рд╣реИрдВ рдФрд░ рдЙрдЪреНрдЪ рд╕рд╛рдкреЗрдХреНрд╖ рдХреНрд╖рдорддрд╛ рд░рдЦрддреЗ рд╣реИрдВред  рдмреНрд░реЛрдХрд░ рдореЗрдВ рдЙрдирдХреА рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдХрд╛рд░рдг, рдпрд╛ рдХрдИ рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдпрд╛ рдЕрддрд┐рд░реЗрдХ рдХреЗ рд╕рд╛рде рд╕реНрд╡рддрдВрддреНрд░ рдбрд┐рд╕реНрдХ рдХреА рдПрдХ рд╕рд░рдгреА рдореЗрдВ рдбрд┐рд╕реНрдХ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ (рд╕реНрд╡рддрдВрддреНрд░ рдбрд┐рд╕реНрдХ, рдЖрд░рдбреАрдпреВ рдХреЗ рдирд┐рд░рд░реНрдердХ рд╕рд░рдгреА) рдбрд┐рд╕реНрдХ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЕрдиреНрдп рдХрд╛рд░рдХ рдереНрд░реВрдкреБрдЯ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рддрдХрдиреАрдХ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрд╕рдПрдПрд╕ рдпрд╛ рдПрд╕рдПрдЯреАрдП), рд╕рд╛рде рд╣реА рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдирд┐рдпрдВрддреНрд░рдХ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВред <br><br><h3>  рдбрд┐рд╕реНрдХ рдХреА рдХреНрд╖рдорддрд╛ </h3><br>  рдХреНрд╖рдорддрд╛ рднрдВрдбрд╛рд░рдг рдХрд╛ рджреВрд╕рд░рд╛ рдкрд╣рд▓реВ рд╣реИред  рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХ рдорд╛рддреНрд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдХрд┐рддрдиреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрджрд┐ рдмреНрд░реЛрдХрд░ рдХреЛ рдкреНрд░рддрд┐ рджрд┐рди 1 рдЯреАрдмреА рдпрд╛рддрд╛рдпрд╛рдд рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИ, рддреЛ 7-рджрд┐рди рдХреЗ рднрдВрдбрд╛рд░рдг рдХреЗ рд╕рд╛рде, рдЙрд╕реЗ рдХрдо рд╕реЗ рдХрдо 7 рдЯреАрдмреА рдХреЗ рд▓реЙрдЧ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╕реНрдЯреЛрд░реЗрдЬ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдЖрдкрдХреЛ рдЕрдиреНрдп рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо 10% рдХреА рдУрд╡рд░рд░рди рдкрд░ рднреА рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рд╕рдВрднрд╛рд╡рд┐рдд рдЯреНрд░реИрдлрд╝рд┐рдХ рдореЗрдВ рдЙрддрд╛рд░-рдЪрдврд╝рд╛рд╡ рдпрд╛ рд╕рдордп рдХреЗ рд╕рд╛рде рдЗрд╕рдХреА рд╡реГрджреНрдзрд┐ рдХреЗ рд▓рд┐рдП рдмрдлрд░ рдХреА рдЧрд┐рдирддреА рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рднрдВрдбрд╛рд░рдг рдХреНрд╖рдорддрд╛ рдЙрди рдХрд╛рд░рдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рдЬрд┐рди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрдм рдЗрд╖реНрдЯрддрдо рдХрд╛рдлреНрдХрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдЖрдХрд╛рд░ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рдирд╛ рдФрд░ рдЗрд╕рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░ рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрдирд╛ред  рдХреБрд▓ рдХреНрд▓рд╕реНрдЯрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП рдХрдИ рдЦрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрддреБрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдЙрди рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рджрд▓рд╛рд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдкреНрд░рддрд┐ рдмреНрд░реЛрдХрд░ рдХрд╛ рдбреЗрдЯрд╛ рдШрдирддреНрд╡ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред  рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдЪреБрдиреА рдЧрдИ рдкреНрд░рддрд┐рдХреГрддрд┐ рд░рдгрдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рдХрд┐рддрдирд╛ рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЗрд╕ рдкрд░ рдирд┐рд░реНрдгрдп (рдЕрдзреНрдпрд╛рдп 6 рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИ)ред <br><br><h3>  рд╕реНрдореГрддрд┐ </h3><br>  рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдореЛрдб рдореЗрдВ, рдЙрдкрднреЛрдХреНрддрд╛ рдХрд╛рдлреНрдХрд╛ рдЕрдиреБрднрд╛рдЧ рдХреЗ рдЕрдВрдд рд╕реЗ рдкрдврд╝рддрд╛ рд╣реИ, рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛ рд▓рдЧрд╛рддрд╛рд░ рдЦреЛрдП рд╣реБрдП рд╕рдордп рдХреЗ рд▓рд┐рдП рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рдХреЗ рдкреАрдЫреЗ рдереЛрдбрд╝рд╛ рдкреАрдЫреЗ рд╣реЛрддрд╛ рд╣реИ, рдЕрдЧрд░ рдмрд┐рд▓реНрдХреБрд▓ред            ,      ,         . ,         ,    -. <br><br>   Kafka     JVM      .  ,   X        X   ,      5 .             Kafka        .      Kafka  ,      ,       ,     Kafka. <br><br><h3>     </h3><br>   ,    Kafka,     .    (    )    .     Kafka (   )       .    1       ,       ,      .       ,     (.  6)    (   8).          ,     . <br><br><h3>  рд╕реАрдкреАрдпреВ </h3><br>     ,      ,           .             .  Kafka, ,              .            .    Kafka  '   .            . <br><br><h3> Kafka    </h3><br> Kafka      , , Amazon Web Services (AWS). AWS     ,     CPU,     .              Kafka.       ,      .                /      SSD.         (, AWS Elastic Block Store).            CPU   . <br>    ,     AWS      m4  r3.    m4    ,        ,      .      r3      SSD-,        .            i2  d2. <br><br><h3>  Kafka </h3><br>   Kafka         ,             (. 2.2).     тАФ      .    тАФ            .         Kafka        .         Kafka.           6. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vo/c-/cc/voc-cc5ywmwoh4ttiidnzt1gdk4.png" alt="рдЫрд╡рд┐"></div><br><br><h3>    ? </h3><br>   Kafka   .    тАФ              .     10  ,      2 ,     тАФ  .  ,          100 % (    ) (.  6).  ,              . <br><br>   ,   , тАФ     . ,                        (         ).        80 %   ,    ,             .     ,      ,   .        ,     ,          . <br><br><h3>   </h3><br>               Kafka.  тАФ          zookeeper.connect.    ZooKeeper     .  тАФ           broker.id.       broker.id    ,            .      ,    ,      ,    . <br><br><h3>     </h3><br>     Linux      ,       ,           Kafka.          ,    ,        .       /etc/sysctl.conf,        Linux,       . <br><br><h3>   </h3><br>     Linux     .           ,    ┬л┬╗  ,        Kafka. <br>     ,  ,    ,    ()  . ,      ,       Kafka.  , Kafka     ,         ,       . <br><br>      тАФ        .  тАФ   ,      -   .            .      vm.swappiness  ,  1.      ( ) ,            .     ,   . <br><br>  ,      ┬л┬╗ ,      ,   .   Kafka       /.         :        (, SSD),       NVRAM   (, RAID).       ┬л┬╗ ,         .       vm.dirty_background_ratio ,     ( 10).       ( ),         5.       0,                           . <br><br>   ┬л┬╗ ,               ,      vm.dirty_ratio  ,     тАФ 20 (        ).       ,      60  80.               ,       /       .       vm.dirty_ratio       Kafka,     . <br><br>          ┬л┬╗      Kafka        .        /proc/vmstat: <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># cat /proc/vmstat | egrep </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"dirty|writeback"</span></span></span><span class="hljs-meta"> nr_dirty 3875 nr_writeback 29 nr_writeback_temp 0 #</span></span></code> </pre> <br><h3>  рдбрд┐рд╕реНрдХ </h3><br>         ,    RAID-    ,           .     ,        EXT4 (fourth extended file system тАФ    )  XFS (Extents File System тАФ     ). EXT4   ,       .       ,     (5),       .  EXT4     ,            .    XFS     ,   ,   EXT4.  XFS    Kafka  ,        ,    .         ,       /. <br><br>     ,        ,     noatime.      /:   (ctime),    (mtime)       (atime).     atime     .        .  atime    ,   ,      ,         (      realtime). Kafka     atime,      .   noatime       /,        ctime  mtime. <br><br><h3>     </h3><br>       Linux тАФ     ,    ,             .     Kafka     ,    -    .     (   ) ,         .          .              net.core.wmem_default  net.core.rmem_default ,      2 097 152 (2 ).   ,           ,       . <br><br>              TCP    net.ipv4.tcp_wmem  net.ipv4.tcp_rmem.        ,   ,       .    тАФ 4096 65536 2048000 тАФ ,     4 ,    тАФ 64 ,   тАФ 2 .      ,      net.core.wmem_max  net.core.rmem_max.        Kafka           . <br><br>      .     TCP    1  net.ipv4.tcp_window_scaling,               .   net.ipv4.tcp_max_syn_backlog ,     1024,     .   net.core.netdev_max_backlog,     1000,       ,       ,    ,       . <br><br><h3>   </h3><br>      Kafka      ,             . <br><br><h3>    </h3><br>     Java      ,           ,   .  ,     Java 7     Garbage First (G1). G1                    .         ,       ,           . <br><br>         G1   .       . <br><br><ul><li> MaxGCPauseMillis.         .     тАФ   G1    .      200 .  ,  G1       ,    ,    , ,      200 . </li><li> InitiatingHeapOccupancyPercent.        ,       .     45.  ,  G1       ,    45 % ,       (Eden),    . </li></ul><br>  Kafka         ,         .               64   ,  Kafka     5 .       20  MaxGCPauseMillis.    InitiatingHeapOccupancyPercent   35,       ,     . <br><br>   Kafka       G1,            .       .       : <br><br><pre> <code class="hljs pgsql"># export JAVA_HOME=/usr/java/jdk1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_51 # export KAFKA_JVM_PERFORMANCE_OPTS="-server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+DisableExplicitGC -Djava.awt.headless=true" # /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/bin/kafka-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>.sh -daemon /usr/<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/kafka/config/<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>.properties #</code> </pre> <br><h3>   </h3><br>          Kafka      ,                 .             -    ,     .         Kafka (.  6),         .        Kafka,       . <br><br>  Kafka             ,  ,                     (    , , AWS),           ,            .          .  ,   ┬л┬╗             (.    6). <br><br>  :    Kafka      ,   ,       ,     .             (     )                   .               , ,     . <br><br><h3>    ZooKeeper </h3><br> Kafka  ZooKeeper     ,   .   ZooKeeper              Kafka.     ,      ZooKeeper    Kafka  .      ZooKeeper      Kafka (     ZooKeeper   ,      ). <br><br>      ZooKeeper     .        ZooKeeper,  Kafka,      .    ZooKeeper  ,        ZooKeeper        .       тАФ 1 ,               .        ZooKeeper,      ,     .   ZooKeeper      ,     .  ,      Kafka   Kafka        ZooKeeper. <br><br>         Kafka,       ,    . Kafka         ZooKeeper,          .              ZooKeeper,     .        ,            , ,     .    ,            ,   . <br><br><h3>  рд╕рд╛рд░рд╛рдВрд╢ </h3><br>       ,     Apache Kafka. ,       ,         . ,   Kafka,         Kafka.             Kafka ( 3),       ( 4). <br><br>  ┬╗рдкреБрд╕реНрддрдХ рдХреА рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рдХрд╛рд╢рдХ рдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ</a> рдкрд░ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ <br>  ┬╗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рдордЧреНрд░реА</a> <br>  ┬╗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдВрд╢</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><br></a> <br>    20%   тАФ <b>Apache Kafka</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi421519/">https://habr.com/ru/post/hi421519/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi421501/index.html">рд╣реИрдХрд░ рдиреЗ рдЖрдЧрдВрддреБрдХреЛрдВ рдХреЛ рдкреНрд░рддрд┐рдпреЛрдЧреА рд╕рд╛рдЗрдЯреЛрдВ рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдвреВрдВрдврд╛ рд╣реИ</a></li>
<li><a href="../hi421503/index.html">рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢ рдХреИрд╕реЗ рд▓рд┐рдЦреЗрдВ</a></li>
<li><a href="../hi421505/index.html">Yandex.Direct рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд┐рдиреА рдЬреАрд╡рди рд╣реИрдХ</a></li>
<li><a href="../hi421507/index.html">рдкреНрд░рдХрд╛рд╢рд┐рдХреА рдХреЗ рд▓рд┐рдП рд╡реЗрд▓реНрдбрд░ рдХреНрдпрд╛ рдереЗ</a></li>
<li><a href="../hi421513/index.html">рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдпрдВ рд╕реНрдореВрде рд╕реНрдХреНрд░реВ рдкрд░рд┐рдЪрдп (рд╣рдо рд╡рд┐рд░реЛрдзрд╛рднрд╛рд╕реЛрдВ рдХреЛ рд╣рд▓ рдХрд░рддреЗ рд╣реИрдВ, рдЯреАрдо рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рд╕рдВрдШрд░реНрд╖ рд╕реЗ рдмрдЪрддреЗ рд╣реИрдВ)</a></li>
<li><a href="../hi421521/index.html">рдЫреБрдЯреНрдЯрд┐рдпреЛрдВ рдХреЗ рдмрд╛рдж рд░рд╛рдХреНрд╖рд╕: рдПрдПрдордбреА рдереНрд░реЗрдбрд┐рдкрд░ 2990WX 32-рдХреЛрд░ рдФрд░ 2950X 16-рдХреЛрд░ (рднрд╛рдЧ 3 - рдкрд░реАрдХреНрд╖рдг)</a></li>
<li><a href="../hi421523/index.html">рдПрдХрддрд╛: рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпреЛрдЧреНрдп рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЬрд╛рдирдирд╛</a></li>
<li><a href="../hi421525/index.html">рд░реВрд╕реА рдФрд░ рд╡рд┐рджреЗрд╢реА рд╣реЛрд╕реНрдЯрд░реЛрдВ рдХреЗ рдмреАрдЪ рдорддрднреЗрджреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛</a></li>
<li><a href="../hi421527/index.html">рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдмреНрд░реЙрдбрдХрд╛рд╕реНрдЯ рд▓реЙрдиреНрдЪ "рд╕рд░реНрд╡рд░ рдЗрди рдж рдХреНрд▓рд╛рдЙрдбреНрд╕"</a></li>
<li><a href="../hi421529/index.html">Netflix, Uber, Google рдФрд░ рдЖрдк MBLT DEV 2018 рдкрд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>