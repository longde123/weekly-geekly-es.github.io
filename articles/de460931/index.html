<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèª ü¶Ñ üéñÔ∏è √úber Dekorateure in Python ‚ö†Ô∏è üì≥ üëàüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 


 Die √úbersetzung des Artikels wurde f√ºr Studenten des Kurses "Webentwickler in Python" vorbereitet. Ist es interessant, sich in d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√úber Dekorateure in Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/460931/"><p>  Hallo allerseits! </p><br><p>  <em>Die √úbersetzung des Artikels wurde f√ºr Studenten des Kurses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Webentwickler in Python"</a> vorbereitet.</em>  <em>Ist es interessant, sich in diese Richtung zu entwickeln?</em>  <em>Melden Sie sich f√ºr den Open Doors Day-Kurs an und unterhalten Sie sich live mit dem Lehrer: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Online-√úbertragung</a> am 23. Juli um 20:00 Uhr Moskauer Zeit!</em> </p><br><p><img src="https://habrastorage.org/webt/x1/nu/oh/x1nuohrlyovyehryhkbaqf_wh1e.png"></p><br><p>  Wenn Sie das Programmieren in Python ge√ºbt haben, m√ºssen Sie auf ein Konzept wie Dekorateure gesto√üen sein.  Sie sind eines der elegantesten und am h√§ufigsten verwendeten Werkzeuge in modernen Bibliotheken und Frameworks.  Dekorateure sind eine gute M√∂glichkeit, viele Implementierungsdetails zusammenzufassen und eine einfache Oberfl√§che auf der Oberfl√§che zu belassen. </p><a name="habracut"></a><br><p>  Schauen wir uns ein Beispiel eines einfachen Login-Dekorateurs an, der √ºberpr√ºft, ob ein Benutzer angemeldet ist, bevor er die M√∂glichkeit erh√§lt, Beitr√§ge zu bearbeiten.  Anschlie√üend leitet der Dekorateur zur Anmelde- oder Registrierungsseite weiter und kehrt nach erfolgreicher Authentifizierung mithilfe korrekt eingestellter Parameter auf dieselbe Seite zur√ºck.  Um diese Funktion zu verwenden, m√ºssen Sie nur @login_required vor der Zielfunktion schreiben. </p><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@login_required def edit_post(post_id): ...</span></span></code> </pre> <br><p>  Dekoratoren sind sehr einfach zu bearbeiten, aber das Erstellen von Dekoratoren ist selbst f√ºr erfahrene Python-Programmierer keine leichte Aufgabe.  In diesem Artikel werden wir uns Schritt f√ºr Schritt mit der Funktionsweise von Dekoratoren in Python befassen. </p><br><h3 id="funkcii">  Funktionen </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen werden</a> in Python auch als erstklassige Objekte bezeichnet.  Funktionen sind dieselben Werte wie Zahlen, Listen und Zeichenfolgen, wie im folgenden Beispiel dargestellt. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ... &gt;&gt;&gt; &gt;&gt;&gt; foo() <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt;</code> </pre> <br><p>  Funktionen haben einen eigenen Namespace, in dem sie zuerst nach Variablennamen suchen, wenn sie im Hauptteil einer Funktion vorkommen.  Schreiben wir eine einfache Funktion, um den Unterschied zwischen globalem und lokalem Bereich zu verstehen. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; a_string = <span class="hljs-string"><span class="hljs-string">"This is a global variable"</span></span> &gt;&gt;&gt; &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(locals()) ... &gt;&gt;&gt; &gt;&gt;&gt; print(globals()) {..., <span class="hljs-string"><span class="hljs-string">'a_string'</span></span>: <span class="hljs-string"><span class="hljs-string">'This is a global variable'</span></span>} &gt;&gt;&gt; &gt;&gt;&gt; foo() <span class="hljs-comment"><span class="hljs-comment"># 2 {} &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="oblast-vidimosti-funkcii-kak-peremennaya">  Funktionsumfang als Variable </h3><br><p>  Die Bereichsregel in Python besagt, dass beim Erstellen einer Variablen immer eine neue lokale Variable erstellt wird, der Zugriff auf die Variable jedoch im lokalen Bereich festgelegt wird, wenn alle nahe gelegenen Bereiche nach √ºbereinstimmenden Variablennamen durchsucht werden.  Dies bedeutet nicht, dass wir von unserer Funktion aus nicht auf globale Variablen zugreifen k√∂nnen.  Um eine globale Variable auszugeben, √§ndern wir die Funktion foo wie folgt: </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; a_string = <span class="hljs-string"><span class="hljs-string">"This is a global variable"</span></span> &gt;&gt;&gt; &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(a_string) <span class="hljs-comment"><span class="hljs-comment">#1 ... &gt;&gt;&gt; &gt;&gt;&gt; foo() This is a global variable &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="vremya-zhizni-peremennoy">  Variable Lebensdauer </h3><br><p>  Im Namespace leben nicht nur Variablen, sondern sie haben auch eine Lebensdauer, an die Sie sich unbedingt erinnern sollten.  Stellen Sie sich ein Beispiel vor, das nicht nur die Bereichsregeln und die Probleme veranschaulicht, die sie verursachen k√∂nnen, sondern auch, wie sie mit Funktionsaufrufen interagieren und wie sie in Python und anderen Sprachen funktionieren. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... x = <span class="hljs-number"><span class="hljs-number">1</span></span> ... &gt;&gt;&gt; foo() &gt;&gt;&gt; &gt;&gt;&gt; print(x) <span class="hljs-comment"><span class="hljs-comment"># 1 Traceback (most recent call last): ... NameError: name 'x' is not defined &gt;&gt;&gt;</span></span></code> </pre><br><h3 id="vlozhennye-funkcii">  Verschachtelte Funktionen </h3><br><p>  In Python k√∂nnen Sie verschachtelte Funktionen erstellen. Dies bedeutet, dass wir Funktionen innerhalb von Funktionen deklarieren k√∂nnen und alle Regeln f√ºr Umfang und Lebensdauer weiterhin gelten. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... x = <span class="hljs-number"><span class="hljs-number">1</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(x) <span class="hljs-comment"><span class="hljs-comment"># 1 ... inner() # 2 ... &gt;&gt;&gt; outer() 1 &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="dekoratory">  Dekorateure </h3><br><p>  Ein Abschluss, der eine Funktion als Parameter verwendet und eine Funktion zur√ºckgibt, wird als Dekorator bezeichnet.  Betrachten Sie ein Beispiel f√ºr n√ºtzliche Dekorateure. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(some_func)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(<span class="hljs-string"><span class="hljs-string">"before some_func"</span></span>) ... ret = some_func() <span class="hljs-comment"><span class="hljs-comment"># 1 ... return ret + 1 ... return inner ... &gt;&gt;&gt; def foo(): ... return 1 ... &gt;&gt;&gt; decorated = outer(foo) # 2 &gt;&gt;&gt; &gt;&gt;&gt; decorated() before some_func 2 &gt;&gt;&gt;</span></span></code> </pre> <br><p>  Eine dekorierte Variable ist eine dekorierte Version von foo.  Tats√§chlich k√∂nnten wir foo durch seine dekorierte Version ersetzen und die neue Syntax nicht lernen, indem wir einfach die Variable neu zuweisen, die unsere Funktion enth√§lt: </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; foo = outer(foo) &gt;&gt;&gt; &gt;&gt;&gt; foo <span class="hljs-comment"><span class="hljs-comment"># doctest: +ELLIPSIS &lt;function outer.&lt;locals&gt;.inner at 0x...&gt; &gt;&gt;&gt;</span></span></code> </pre> <br><p>  Jetzt haben wir einen sch√∂nen Dekorator zum Verfolgen von Funktionsaufrufen.  Dekorateure k√∂nnen verwendet werden, um mit Python mit jeder Programmiersprache zu arbeiten.  Dies ist ein √§u√üerst n√ºtzliches Werkzeug, dessen Arbeitsmechanismus verstanden werden muss, um sie korrekt anzuwenden. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de460931/">https://habr.com/ru/post/de460931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460913/index.html">Fototour durch das Museum des Physik- und Energieinstituts in Obninsk</a></li>
<li><a href="../de460915/index.html">Praktisches Datenbankverwaltungssystem</a></li>
<li><a href="../de460923/index.html">Yandex-Testaufgabe</a></li>
<li><a href="../de460925/index.html">Online-Spiel mit echten RC-Robotern in Tschernobyl. Teil 2</a></li>
<li><a href="../de460929/index.html">Atlassian Confluence: erweiterbar in Python</a></li>
<li><a href="../de460933/index.html">Sicherheitswoche 30: Datenschutz, Technologie und Gesellschaft</a></li>
<li><a href="../de460935/index.html">Erste Schritte mit dem PVS-Studio Static Analyzer f√ºr Visual C #</a></li>
<li><a href="../de460939/index.html">Longrid √ºber die Geschichte des russischen Bergbaus und die Haltung der Regulierungsbeh√∂rden dazu</a></li>
<li><a href="../de460941/index.html">Gesch√§fts-E-Mail-Kompromiss: Keine Verteidigung gegen Angriffe</a></li>
<li><a href="../de460943/index.html">So w√§hlen Sie vielversprechende Schl√ºssel f√ºr SEO basierend auf Szenarioprognosen in Google Data Studio (+ Vorlage)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>