<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüé® üë®üèª ‚úä Pi-Sonos v2.0 oder die Entwicklung des Internetradios auf dem Raspberry Pi üòü ‚ú°Ô∏è üë©‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie Sie wissen, sind der Perfektion keine Grenzen gesetzt. Selbst f√ºr hausgemachte tragbare Akustik, deren Benutzerpublikum nur eine Person umfasst. E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pi-Sonos v2.0 oder die Entwicklung des Internetradios auf dem Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410227/"><img src="https://habrastorage.org/webt/gd/g9/zx/gdg9zxcp2lrffn69l2p0nfjlp5k.png" alt="Bild" align="left">  Wie Sie wissen, sind der Perfektion keine Grenzen gesetzt.  Selbst f√ºr hausgemachte tragbare Akustik, deren Benutzerpublikum nur eine Person umfasst.  Eine sehr anspruchsvolle und manchmal wahnsinnig st√∂rrische Person.  Nachdem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erste Beitrag</a> √ºber Pi-Sonos ver√∂ffentlicht wurde, vergingen fast 5 Monate.  W√§hrend dieser Zeit konnte sich die Software in dieser Akustik zweimal dramatisch √§ndern.  Der Grund f√ºr die √Ñnderungen waren sowohl n√ºtzliche Ratschl√§ge der Habrachianer als auch ihrer eigenen UX. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Ein bisschen Geschichte f√ºr diejenigen, die zu faul zum Lesen sind oder den ersten Artikel bereits vergessen haben</b> <div class="spoiler_text">  Pi-Sonos ist eine hausgemachte kompakte Akustik, deren Entwicklung von Sonos Play 1 inspiriert wurde. Ziel dieser Akustik war es zun√§chst, Musik von Internetradiosendern abzuspielen.  Bei der Erstellung habe ich Minimalismus und Komfort in den Vordergrund gestellt: Ich habe es an eine Steckdose angeschlossen und dann √ºberall im Haus Musik von Ihrem Smartphone / Computer / Tablet aus gesteuert. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Worum geht es in diesem Artikel?</b> <div class="spoiler_text">  Zun√§chst √ºber Ausdauer und Neugier auf dem Weg zum Ideal.  Unter dem Schnitt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Benutzername</a> gibt es weder eine L√∂sung f√ºr ein globales Problem noch eine Beschreibung einer neuen einzigartigen Technologie.  Der Artikel enth√§lt nur einen Vergleich der beliebten Medienzentren f√ºr den Raspberry Pi, zeigt deren Vor- und Nachteile sowie meine pers√∂nliche Vision des optimalen Rahmens f√ºr ein Internetradio auf.  W√§hrend ich meine eigene Software f√ºr die Kolumne entwickelte, wiederholte ich nur teilweise den Weg der Entwickler von Volumio und erkannte nur von Grund auf eine seiner Funktionen (sprich: ‚Äûein anderes Fahrrad erfunden‚Äú). <br>  Trotz der Tatsache, dass der Artikel das Thema Softwareentwicklung behandelt, enth√§lt er keinen Code, da der Zweck des Artikels darin besteht, die Idee und Funktionalit√§t und nicht den Prozess seiner Implementierung zu beschreiben.  Wenn das Thema des Codes f√ºr die Bewohner interessant ist, werde ich versuchen, einen separaten Artikel zu verfassen, der den Entwicklungsprozess beschreibt. <br></div></div><br>  Urspr√ºnglich war das Software-Stuffing f√ºr die Akustik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OSMC</a> , aber weise Leute in den Kommentaren machten darauf aufmerksam, dass Kodi (auch bekannt als OSMC) zu k√ºhn als "Gehirn" f√ºr einen Internetradiosender ist.  Er ist zu schlau und gro√ü, nur f√ºr Audioprojekte ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Volumio</a> besser.  Eigentlich ist es so gekommen.  Volumio ist leichter, wird durch die Weboberfl√§che gesch√§rft und verf√ºgt √ºber eine fortschrittlichere und einfach zu entwickelnde API.  Au√üerdem muss kein HDMI-Kabel von hinten herausragen, da Volumio in jedem Browser vollst√§ndig anpassbar ist. <br><br>  Volumio zeigte jedoch auch einige wichtige M√§ngel, die mich zu weiteren Forschungen veranlassten.  Dies ist zum einen die Downloadzeit und zum anderen das Fehlen der automatischen Wiedergabe.  Nachdem ich die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offizielle Dokumentation studiert hatte</a> (aus der hervorgeht, dass Volumio ein Add-On f√ºr mpd (Music Player Daemon) ist), entschied ich, dass es Zeit war, meinen eigenen Wrapper namens RPi-Radio auf js zu schreiben, der diese Probleme l√∂sen w√ºrde.  Der Serverteil wird auf Node.js ausgef√ºhrt, und der Clientteil (GUI), der React.js verwendet, ist seit OSMC bereit. Er musste nur optimiert werden.  So sieht es jetzt auf dem Smartphone-Bildschirm aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/nz/am/tenzamoyba4r-l2y4ypzu3zpt68.jpeg"></div><br>  Unten sehen Sie eine Tafel, die die Nachteile und Vorteile der einzelnen Frameworks deutlich zeigt. <br><table><tbody><tr><th>  Kriterium </th><th>  <nobr>OSMC</nobr> </th><th>  <nobr>Volumio</nobr> </th><th>  <nobr>RPi-Radio</nobr> </th></tr><tr><td>  Ladezeit </td><td>  <nobr>35 Sek</nobr> </td><td>  <nobr>45 Sek</nobr> </td><td>  <nobr>20 Sek</nobr> </td></tr><tr><td>  Auto Play starten </td><td>  <nobr>Nein*</nobr> </td><td>  <nobr>Nein*</nobr> </td><td>  <nobr>ja</nobr> </td></tr><tr><td>  Die Anzahl der B√§nder auf dem Hauptbildschirm der ‚Äûnativen‚Äú Benutzeroberfl√§che des Smartphones, um einen Radiosender aus der Favoritenliste auszuw√§hlen ** </td><td>  <nobr>5 + 1 Schriftrolle</nobr> </td><td>  <nobr>4</nobr> </td><td>  <nobr>1</nobr> </td></tr><tr><td>  Die Notwendigkeit f√ºr einen Monitor, eine Tastatur und eine Maus *** </td><td>  <nobr>ja</nobr> </td><td>  <nobr>Nein</nobr> </td><td>  <nobr>Nein</nobr> </td></tr><tr><td>  Web-Management </td><td>  <nobr>teilweise</nobr> </td><td>  <nobr>vollst√§ndig</nobr> </td><td>  <nobr>teilweise</nobr> </td></tr><tr><td>  Stationsliste bearbeiten </td><td>  <nobr>so la la</nobr> </td><td>  <nobr>die Normen</nobr> </td><td>  <nobr>so la la</nobr> </td></tr><tr><td>  Einfache Ersteinrichtung </td><td>  <nobr>so la la</nobr> </td><td>  <nobr>gro√üartig</nobr> </td><td>  <nobr>mittelm√§√üig</nobr> </td></tr><tr><td>  Integration mit meiner Smartphone-GUI </td><td>  <nobr>mit Kr√ºcken</nobr> </td><td>  <nobr>mit Kr√ºcken</nobr> </td><td>  <nobr>out of the box</nobr> </td></tr><tr><td>  Bequemlichkeit des t√§glichen Gebrauchs </td><td>  <nobr>‚òÜ</nobr> </td><td>  <nobr>‚òÜ‚òÜ</nobr> </td><td>  <nobr>‚òÜ‚òÜ‚òÜ</nobr> </td></tr></tbody></table>  <b>*</b> Eigentlich ja, aber Sie m√ºssen eine Kr√ºcke und eine Handfl√§che aus dem Raspbian-Startup machen.  Im Fall von OSMC ist die Kr√ºcke in Python und im Fall von Volumio in js oder bash geschrieben.  Aber in beiden F√§llen funktioniert es immer noch nicht so, wie wir es m√∂chten. <br>  <b>**</b> F√ºr OSMC und Volumio sind dies sehr wichtige Parameter, da alle diese Tap-Scrolls jedes Mal ausgef√ºhrt werden m√ºssen, wenn Sie die Spalte einschalten.  F√ºr RPi-Radio ist dieser Parameter zwar minimal, aber immer noch nicht so wichtig, da die Spalte beim Einschalten von selbst abgespielt wird. <br>  <b>*** Ich</b> meine die physische Verbindung von Monitor, Tastatur und Maus mit dem Raspberry Pi selbst, d. H.  F√§lle, in denen es keine M√∂glichkeit gibt, die integrierte Weboberfl√§che oder die SSH-Verbindung zu umgehen. <br><br><div class="spoiler">  <b class="spoiler_title">Unter diesem Spoiler finden Sie eine detaillierte Erl√§uterung der einzelnen Vergleichspunkte.</b> <div class="spoiler_text"> Eine Startzeit von 20 Sekunden ist meiner Meinung nach das Minimum, das erreicht werden kann, ohne in die Wildnis der Optimierung von Raspbian f√ºr dieses Projekt einzutauchen.  So lange braucht Malinka, um das Betriebssystem zu laden und den mpd-Dienst zu starten.  Wahrscheinlich kann dieses Ergebnis verbessert werden, wenn Sie microSDHC durch microSDXC mit einer h√∂heren Lese- / Schreibgeschwindigkeit ersetzen (ich werde dies nach M√∂glichkeit pr√ºfen).  √úberraschenderweise dauert das Laden von Volumio, der vorgibt, leicht und flink zu sein, l√§nger als der OSMC-Monster-Harvester.  45 Sekunden Wartezeit liegen jenseits der Schwelle f√ºr eine komfortable Bedienung, und dies war der Hauptgrund, Volumio zu verlassen. <br><br>  Autoplay ist in mpd out of the box vorhanden, ich musste nichts tun, um es zu aktivieren - bequem!  In Volumio wurde diese Funktion, obwohl es sich um einen MPD-Wrapper handelt, f√ºr einen sch√∂nen Begr√º√üungsklang erw√ºrgt.  Wie ich bereits geschrieben habe, k√∂nnen Sie ein Skript erstellen und es starten.  Bei OSMC ist die Situation √§hnlich. <br><br>  OSMC hat den gr√∂√üten Teil der Benutzerinteraktion √ºber den Monitor: Es gibt eine sch√∂ne Oberfl√§che, die M√∂glichkeit, Videos, Bilder, Nachrichten zu lesen und das Wetter zu sehen - es gibt viele Dinge, die meine Kolumne in meinem Leben niemals tun wird. <br><br>  Die Webverwaltung von OSMC ist jedoch sehr eingeschr√§nkt, und Sie k√∂nnen die Liste Ihrer Lieblingssender im Radio-Plugin nicht einmal remote konfigurieren - nur √ºber den Monitor.  Bei Volumio - im Gegenteil, alles geschieht nur √ºber das Webinterface.  Das Bearbeiten der Senderliste ist im Browser auf dem Desktop / Laptop am bequemsten, auf Wunsch jedoch auch auf dem Smartphone.  Mit RPi-Radio k√∂nnen Sie nur einen Sender ausw√§hlen und den Sound √ºber das Webinterface einstellen.  Die Liste der Stationen und in der Tat alles andere muss √ºber die Konsole √ºber ssh erfolgen.  Die Liste der Sender ist am schwierigsten: Wenn OSMC und Volumio √ºber eigene umfangreiche Bibliotheken mit Internetradiosendern verf√ºgen, musste ich in RPi-Radio die Adressen meiner Lieblingssender manuell im JSON-Format eingeben.  Unbequem, aber nur einmal (oder mehrmals) im Leben. <br><br>  Bei der Ersteinrichtung ist OSMC am schlechtesten.  Zuerst m√ºssen Sie einen Monitor an die "Himbeere" anschlie√üen und das Radio-Plugin konfigurieren, dann m√ºssen Sie die Tonausgabe an den externen IQAudio DAC (der gleiche wie der der Suptronics X400-Karte) √ºber die Konsole oder √ºber ssh konfigurieren.  RPi-Radio hat das gleiche DAC-Setup, aber zumindest alles andere wird auch √ºber ssh erledigt.  Der Marktf√ºhrer in dieser Kategorie ist nat√ºrlich Volumio. Um Sound √ºber einen externen DAC auszugeben, m√ºssen Sie nur das entsprechende Element aus der Dropdown-Liste im Einstellungsmen√º ausw√§hlen.  Es gibt sogar einen Vergleich auf der offiziellen Suptronics-Website (http://www.suptronics.com/xseries/x400.html). <br><br>  Die GUI in RPi-Radio ist eine einfache Webseite, die auf React.js implementiert ist.  Der Serverteil, der f√ºr die Interaktion zwischen der Client-GUI und mpd verantwortlich ist, l√§uft auf Node.js und ist ein einfacher HTTP- und WebSocket-Server, der auf der <code>express</code> Verbindung <code>Socket.io</code> + <code>http</code> + basiert.  Es wird auf Raspbian als Dienst ausgef√ºhrt, wenn das System unmittelbar nach dem Start des mpd-Dienstes eingeschaltet wird und das <code>mpc-js</code> Modul zur Steuerung von mpd verwendet.  Die Client-GUI ist f√ºr jeden Browser in meinem Heimnetzwerk einfach √ºber die IP-Adresse oder den Hostnamen "Himbeere" zug√§nglich.  Perfekt. <br></div></div><br>  RPi-Radio-Quellen werden auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github ver√∂ffentlicht</a> .  Im selben Repository, in den entsprechenden Brunchs, finden Sie beide GUI-Anpassungen f√ºr die Arbeit mit OSMC und Volumio. <br><br>  Das Ergebnis meiner √úbungen, RPi-Radio, geht √ºber den Rahmen einer einfachen Erg√§nzung einer einzelnen Spalte hinaus.  Dies ist eine Art vorgefertigte L√∂sung, die nicht nur den Raspberry Pi in einen Internetradioempf√§nger verwandelt, sondern auch jedes Ger√§t mit Audioausgang, Internetzugang und der M√∂glichkeit, mpd und Node.js auszuf√ºhren.  Der Hauptvorteil eines solchen Systems ist das Fehlen von allem √úberfl√ºssigen.  Eigentlich, wie es in Sonos gemacht wurde, in dem Ideal, das ich erreichen m√∂chte. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de410227/">https://habr.com/ru/post/de410227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de410213/index.html">Sicheres Android f√ºr Baby</a></li>
<li><a href="../de410219/index.html">Acht Beats: √úber Sounds in alten Spielen</a></li>
<li><a href="../de410221/index.html">Auswahl eines Heimkino-Projektors</a></li>
<li><a href="../de410223/index.html">Bergmann aus New York musste Ger√§te aufgrund einer St√∂rung des T-Mobile-Netzwerks trennen</a></li>
<li><a href="../de410225/index.html">Fragen Sie Ethan: Bewegt sich das Licht immer mit der gleichen Geschwindigkeit?</a></li>
<li><a href="../de410229/index.html">Eine schwache k√∂rperliche Aktivit√§t wurde mit einem geschw√§chten Nervengewebe und einem Demenzrisiko in Verbindung gebracht.</a></li>
<li><a href="../de410231/index.html">Schwaches Licht macht es d√ºmmer und Flimmern heilt Alzheimer mit der richtigen Frequenz</a></li>
<li><a href="../de410233/index.html">Valery Litvin, CTO Cyber ‚Äã‚Äã‚Ä¢ Fund, ‚ÄûBlockchain. Template Gap ist eine beliebte Einf√ºhrung in die Blockchain-Technologie und die Krypto√∂konomie. ‚Äú</a></li>
<li><a href="../de410235/index.html">Enthusiasten m√ºssen mit 15 Monaten Gef√§ngnis rechnen, weil sie kostenlose Dell Restore-CDs gerippt haben</a></li>
<li><a href="../de410237/index.html">Eltern sollten ihre Kinder nicht ausspionieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>