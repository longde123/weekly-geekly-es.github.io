<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîï üò∏ üòç Como lan√ßamos o 2GIS no CarPlay e ainda assim desembara√ßamos üëåüèø üéØ üõÄüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Meu nome √© Vanya, estou escrevendo um aplicativo m√≥vel 2GIS para iOS. Hoje haver√° uma hist√≥ria sobre como nosso navegador apareceu no CarPlay. Vou ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como lan√ßamos o 2GIS no CarPlay e ainda assim desembara√ßamos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/452638/"><p><img src="https://habrastorage.org/webt/tt/jg/a3/ttjga3qmefdwknrbj1i351exs3m.jpeg"></p><br><p>  Oi  Meu nome √© Vanya, estou escrevendo um aplicativo m√≥vel 2GIS para iOS.  Hoje haver√° uma hist√≥ria sobre como nosso navegador apareceu no CarPlay.  Vou contar como, com essa documenta√ß√£o e ferramentas inacabadas, criamos um produto funcional e o colocamos na AppStore. </p><a name="habracut"></a><br><h2 id="para-slov-o-carplay">  Algumas palavras sobre o CarPlay </h2><br><p><img src="https://habrastorage.org/webt/hq/vu/xw/hqvuxwo3ms1ivfppuaojrfscvh0.jpeg"></p><br><p>  Primeiro, um pouco de material para entender alguns aspectos do CarPlay e as raz√µes pelas quais tomamos certas decis√µes. </p><br><p>  O CarPlay n√£o √© um sistema operacional dentro de outro sistema operacional, pois muitos artigos escrevem sobre ele.  Se, aproximadamente, o CarPlay √© um protocolo para trabalhar com um monitor externo da tela da unidade principal;  som dos alto-falantes do carro;  telas de toque, pain√©is de toque, arruelas e outros dispositivos de entrada. </p><br><p>  Ou seja, todo o c√≥digo execut√°vel est√° localizado diretamente no aplicativo principal (nem mesmo em uma extens√£o separada!) Isso √© muito legal: para obter novos recursos, voc√™ n√£o precisa atualizar o r√°dio ou a m√°quina, basta atualizar o iOS. </p><br><p>  No WWDC 2018 Keynote, fomos presenteados com a oportunidade de criar aplicativos de navega√ß√£o para o CarPlay, o que nos deixou muito felizes.  Imediatamente ap√≥s a apresenta√ß√£o, enviamos uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicita√ß√£o</a> de permiss√£o para desenvolver o CarPlay.  Na solicita√ß√£o, foi necess√°rio mostrar que nosso aplicativo √© capaz de navega√ß√£o. </p><br><p>  Enquanto esper√°vamos uma resposta da Apple, houve uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">palestra</a> em que, usando o aplicativo de exemplo CountryRoads, conversamos sobre como trabalhar com o CarPlay.framework.  A palestra n√£o falou sobre as armadilhas e sutilezas ao trabalhar com o CarPlay, mas mencionou que, ap√≥s conectar-se ao r√°dio CarPlay, o aplicativo funcionar√° no modo de segundo plano. </p><br><h2 id="pervaya-palka-v-kolyosa">  Primeiro pau nas rodas </h2><br><p>  A aplica√ß√£o em segundo plano nos decepcionou.  Havia duas raz√µes para isso: </p><br><ol><li>  N√£o trabalhamos em segundo plano.  Uma vez deixada essa limita√ß√£o por raz√µes t√©cnicas e de conserva√ß√£o de energia. </li><li>  Nosso mapa est√° escrito em OpenGL (sim, descontinuado, sim, n√£o Metal, todos sabemos isso), e o OpenGL no estado de segundo plano n√£o funciona.  Na melhor das hip√≥teses, voc√™ obt√©m uma vis√£o em preto e, na pior das hip√≥teses, falha. </li></ol><br><p>  Ainda era poss√≠vel lidar com o trabalho em segundo plano, mas o cart√£o definitivamente precisava ser resolvido.  Ent√£o surgiu a id√©ia de passar pelo MKMapView padr√£o.  At√© voc√™ come√ßar a atirar pedras contra n√≥s pela ideia de usar cart√µes Apple padr√£o, vou explicar: n√≥s usar√≠amos o MKMapView, mas n√£o os cart√µes Apple. </p><br><p>  O fato √© que o MKMapView pode carregar blocos de terceiros.  As telhas s√£o recipientes retangulares especiais para texturas.  Acabamos por ser um servochka que sabe dar ladrilhos.  H√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo de</a> implementa√ß√£o no GitHub. </p><br><h2 id="otvet-ot-apple">  Resposta da Apple </h2><br><p> Recebemos uma resposta da Apple, na qual, al√©m da permiss√£o para desenvolver, tamb√©m recebemos a documenta√ß√£o "para a elite", o c√≥digo do aplicativo de exemplo CountryRoads (foi mostrado na palestra da WWDC) e, mais importante, a chave de recurso privado <code>com.apple.developer.carplay-maps</code> .  Essa chave √© gravada no arquivo de direitos com o valor YES, para que o sistema entenda que voc√™ pode processar eventos do CarPlay quando o aplicativo for iniciado. </p><br><p>  Sem esperar pelo sprint com as hist√≥rias selecionadas para desenvolvimento, subi para fazer o download do Xcode Beta.  A primeira tentativa de coletar 2GIS foi uma falha.  Mas o projeto de aplicativo de amostra CoutryRoads p√¥de ser montado no simulador. </p><br><p>  Antes de cada abertura da janela do simulador CarPlay, este √∫ltimo precisava ser personalizado atrav√©s dessa janela: </p><br><p><img src="https://habrastorage.org/webt/3p/xn/rf/3pxnrf5dlvtq7n8qkuovquqgbbi.png"></p><br><p>  Para fazer isso, era necess√°rio escrever uma linha no terminal: os <code>defaults write com.apple.iphonesimulator CarPlayExtraOptions -bool YES</code> </p><br><p>  Por alguma raz√£o, isso n√£o funcionou - eu tive que execut√°-lo quase no menor simulador, com uma resolu√ß√£o de 800 √ó 480 pontos e uma escala √ó 2.  No momento, essa configura√ß√£o funciona e ajuda muito. </p><br><p>  Tendo criado meu projeto de amostra e munido de documenta√ß√£o, comecei a entender o que estava acontecendo. <br>  A primeira coisa que percebi: os aplicativos de navega√ß√£o para o CarPlay consistem em camadas de visualiza√ß√£o base e modelos. </p><br><p><img src="https://habrastorage.org/webt/hf/t2/rw/hft2rwp8m2d71popp3tus4dif20.jpeg"></p><br><p>  A vista base √© o seu mapa.  Nesta camada, deve haver apenas um mapa, sem outras visualiza√ß√µes e controles. </p><br><p>  Modelos √© um conjunto obrigat√≥rio quase n√£o personaliz√°vel de elementos da interface do usu√°rio para exibir rotas, manobras, todos os tipos de listas e assim por diante. </p><br><h2 id="razrabotka-bety">  Desenvolvimento beta </h2><br><p>  Vamos passar a escrever c√≥digo.  A primeira coisa a fazer √© implementar alguns m√©todos CPApplicationDelegate necess√°rios no arquivo ApplicationDelegate. </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> application: UIApplication, didConnectCarInterfaceController controller: CPInterfaceController, to window: CPWindow )</span></span></span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> application: UIApplication, didDisconnectCarInterfaceController controller: CPInterfaceController, from window: CPWindow )</span></span></span></span> {}</code> </pre> <br><p>  Vejamos a assinatura: </p><br><p>  Com o UIApplication, tudo fica claro. <br>  O CPWindow √© o sucessor do UIWindow, uma janela para a exibi√ß√£o externa da unidade principal do r√°dio. <br>  CPInterfaceController - algo como um an√°logo do UINavigationController, apenas no CarPlay.framework. </p><br><p>  Agora, prosseguimos diretamente para a implementa√ß√£o do m√©todo. </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> application: UIApplication, didConnectCarInterfaceController controller: CPInterfaceController, to window: CPWindow )</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> carMapViewController = <span class="hljs-type"><span class="hljs-type">CarMapViewController</span></span>( interfaceController: controller ) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> navigationController = <span class="hljs-type"><span class="hljs-type">UINavigationController</span></span>( rootViewController: carMapViewController ) window.rootViewController = navigationController }</code> </pre> <br><p>  No didConnect, voc√™ precisa escrever um c√≥digo semelhante ao que costum√°vamos ver no didFinishLaunching.  CarMapViewController √© uma vis√£o b√°sica (o controlador est√° realmente, mas ok), conforme a documenta√ß√£o. </p><br><p>  Aqui est√° a foto que finalmente consegui: </p><br><p><img src="https://habrastorage.org/webt/vv/l1/xx/vvl1xxebjbdb9ahiuucw1db_rzg.png"></p><br><p>  Em algum momento, me ocorreu que o novo sistema de compila√ß√£o do Xcode est√° ativado por padr√£o e, provavelmente, por causa disso, o 2GIS n√£o est√° habilitado. </p><br><p>  Abri o Xcode, instalei um sistema legado (ou melhor, est√°vel, vamos chamar de spade a spade) e minha teoria foi confirmada: o 2GIS foi montado. </p><br><p>  Depois de definir a mesma chave de capacidade, iniciei o 2GIS no CarPlay e n√£o vi nenhum registro sobre o aplicativo mudar para o modo de segundo plano.  Isso se tornou ainda mais incompreens√≠vel, porque os engenheiros da Apple disseram sobre o modo de segundo plano, mas, por outro lado, eles nos prometeram um contentView do UIAlertView e, como resultado, o UIAlertView ficou obsoleto. </p><br><p>  Tendo decidido que deveria ser assim, eu n√£o me incomodei com o MKMapView.  Isso nos privaria offline e nos faria reescrever a renderiza√ß√£o das rotas. </p><br><h2 id="problema-odnoy-karty">  Problema com cart√£o √∫nico </h2><br><p>  N√£o tive tempo de me alegrar com a not√≠cia de que o CarPlay ter√° nosso mapa, pois o seguinte problema me enfrentou: por causa dos recursos t√©cnicos, s√≥ pode haver um mapa. <br>  Uma solu√ß√£o r√°pida para esse problema foi, embora n√£o muito elegante. </p><br><p>  Geralmente, ao usar 2GIS no CarPlay, o telefone est√° bloqueado e fica em algum lugar na prateleira.  Portanto, o mapa no momento no telefone n√£o √© realmente necess√°rio (n√£o ser√° dif√≠cil pesquisar, √© claro).  Portanto, quando conectamos o telefone ao CarPlay, decidimos pegar o cart√£o no aplicativo principal e exibi-lo na tela do r√°dio do CarPlay.  E quando desconectado, respectivamente, retorne ao aplicativo no telefone. </p><br><p>  Sim, √© uma solu√ß√£o para si mesmo, mas √© r√°pido, ainda funciona e n√£o precisava chutar alguns outros comandos para rebitar o MVP. </p><br><h2 id="kontroly-na-karte">  Controles no mapa </h2><br><p>  Ent√£o, colocamos nosso mapa na tela do r√°dio.  Agora era necess√°rio fazer as primeiras e √≥bvias coisas de qualquer mapa: controles de zoom, localiza√ß√£o atual e movimento do mapa. </p><br><p><img src="https://habrastorage.org/webt/c2/ql/u8/c2qlu8wi-sbkh5zizb7mjab-n7w.png"></p><br><p>  Vamos come√ßar com o zoom e a localiza√ß√£o atual, porque esses controles est√£o localizados no pr√≥prio mapa e n√£o s√£o UIControl comuns.  Como escrevi acima, apenas o mapa est√° na vista de base. </p><br><p>  Para colocar esses controles no cart√£o, tive que entrar na documenta√ß√£o e no aplicativo de amostra novamente.  L√° eu li sobre o primeiro modelo - CPMapTemplate. </p><br><p><img src="https://habrastorage.org/webt/5d/xn/26/5dxn263mlspdif8eqhxgc8wjgmc.png"></p><br><p>  CPMapTemplate - um modelo transparente para exibir alguns controles no mapa e no an√°logo da barra de navega√ß√£o.  Ele √© criado e configurado assim: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mapTemplate = <span class="hljs-type"><span class="hljs-type">CPMapTemplate</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.interfaceController.setRootTemplate(mapTemplate, animated: <span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre> <br><p>  Em seguida, voc√™ precisa criar esses controles e coloc√°-los no cart√£o. </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> zoomInButton = <span class="hljs-type"><span class="hljs-type">CPMapButton</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> zoomOutButton = <span class="hljs-type"><span class="hljs-type">CPMapButton</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> myLocationButton = <span class="hljs-type"><span class="hljs-type">CPMapButton</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.mapButtons = [ zoomInButton, zoomOutButton, myLocationButton ]</code> </pre> <br><p>  Mas a matriz mapButtons acabou sendo engra√ßada, porque n√£o importa quantos elementos voc√™ coloque nela, ela pegar√° apenas os tr√™s primeiros elementos e os exibir√° na tela.  Voc√™ n√£o receber√° nenhum erro no log ou nas asser√ß√µes. </p><br><p>  Ent√£o eu pude ver como posso fazer o mapa se mover e achei isso na documenta√ß√£o: </p><br><pre> <code class="plaintext hljs">Navigation apps are designed to work with a variety of car input devices, and CarPlay does not support direct user interaction in the base view (apps do not directly receive tap or drag events).</code> </pre> <br><p>  Estranho, pensei, e observei como isso √© feito no aplicativo de exemplo CountryRoads.  A resposta √© atrav√©s desta interface: </p><br><p><img src="https://habrastorage.org/webt/o0/wa/v6/o0wav6ogb8ofbx7-xqxsamjd6g4.png"></p><br><p>  N√£o √© muito conveniente, mas de uma maneira diferente, a documenta√ß√£o n√£o estar√°, certo? </p><br><p>  Como o local para os controles no mapa acabamos, era necess√°rio pressionar um bot√£o para colocar o mapa no modo "arrastar" neste an√°logo da barra de navega√ß√£o. </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> panButton = <span class="hljs-type"><span class="hljs-type">CPBarButton</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.leadingNavigationBarButtons = [panButton] <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.trailingNavigationBarButtons = []</code> </pre> <br><p>  Mas as matrizes de LeadNavigationBarButtons e trailingNavigationBarButtons tamb√©m n√£o ficaram sem uma piada: quantos elementos neles empurram, eles levar√£o apenas os dois primeiros.  Tamb√©m sem erros no log e asser√ß√µes. </p><br><p>  E para ativar e desativar o modo de arrastar e soltar cart√£o, voc√™ deve escrever: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.showPanningInterface(animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.dismissPanningInterface(animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre> <br><h2 id="postroenie-i-otobrazhenie-marshrutov-na-karte">  Construindo e exibindo rotas em um mapa </h2><br><p>  Em seguida, comecei a reutilizar nossa API existente para criar rotas. </p><br><p>  Apenas para uma demonstra√ß√£o e entender o que e como fazer, decidi pegar dois pontos e construir uma rota entre eles.  O ponto A era a localiza√ß√£o do usu√°rio e o ponto B era nosso escrit√≥rio principal em Novosibirsk. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> choice0 = <span class="hljs-type"><span class="hljs-type">CPRouteChoice</span></span>( summaryVariants: [<span class="hljs-string"><span class="hljs-string">"46 "</span></span>], additionalInformationVariants: [<span class="hljs-string"><span class="hljs-string">"  "</span></span>], selectionSummaryVariants: [<span class="hljs-string"><span class="hljs-string">"1  7 "</span></span>] ) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> choice1 = <span class="hljs-type"><span class="hljs-type">CPRouteChoice</span></span>( summaryVariants: [<span class="hljs-string"><span class="hljs-string">"46 "</span></span>], additionalInformationVariants: [<span class="hljs-string"><span class="hljs-string">"  "</span></span>], selectionSummaryVariants: [‚Äú<span class="hljs-number"><span class="hljs-number">1</span></span>  <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-string"><span class="hljs-string">"] ) let startItem = MKMapItem(‚Ä¶) let endItem = MKMapItem(‚Ä¶) endItem.name = "</span></span>,  ‚Äù <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> trip = <span class="hljs-type"><span class="hljs-type">CPTrip</span></span>( origin: startItem, destination: endItem, routeChoices: [choice0, choice1] ) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> tripPreviewTextConfiguration = <span class="hljs-type"><span class="hljs-type">CPTripPreviewTextConfiguration</span></span>( startButtonTitle: <span class="hljs-string"><span class="hljs-string">" ‚Äù, additionalRoutesButtonTitle: ‚Äú‚Äù, overviewButtonTitle: "</span></span><span class="hljs-string"><span class="hljs-string">" ) self.mapTemplate.showTripPreviews( [trip], textConfiguration: tripPreviewTextConfiguration )</span></span></code> </pre> </div></div><br><p>  Na tela, temos um controle com uma descri√ß√£o da rota: </p><br><p><img src="https://habrastorage.org/webt/wi/on/5r/wion5rbc8wx75tqwxzn-x72zsqw.png"></p><br><h2 id="rezhim-navigacii">  Modo de navega√ß√£o </h2><br><p>  As rotas s√£o boas, mas a principal caracter√≠stica do navegador √© a navega√ß√£o.  Para que apare√ßa, voc√™ deve escrever o seguinte: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mapTemplate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mapTemplate: CPMapTemplate, startedTrip trip: CPTrip, using routeChoice: CPRouteChoice )</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.navigationSession = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.mapTemplate.startNavigationSession(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: trip) }</code> </pre> <br><p>  CPNavigationSession - uma classe com a qual voc√™ pode exibir alguns elementos da interface do usu√°rio necess√°rios apenas no modo de navega√ß√£o. </p><br><p>  Para exibir a manobra, voc√™ deve: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> maneuver = <span class="hljs-type"><span class="hljs-type">CPManeuver</span></span>() maneuver.symbolSet = <span class="hljs-type"><span class="hljs-type">CPImageSet</span></span>( lightContentImage: icon, darkContentImage: darkIcon ) maneuver.instructionVariants = [<span class="hljs-string"><span class="hljs-string">". "</span></span>] maneuver.initialTravelEstimates = <span class="hljs-type"><span class="hljs-type">CPTravelEstimates</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.navigationSession?.upcomingManeuvers = [maneuver]</code> </pre> <br><p>  Ent√£o, na tela do r√°dio, temos o seguinte: </p><br><p><img src="https://habrastorage.org/webt/30/uj/tp/30ujtpqhaaqkgx1oon7mjxpxiq8.png"></p><br><p>  Para atualizar a grava√ß√£o para manobra, voc√™ deve: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> estimates = <span class="hljs-type"><span class="hljs-type">CPTravelEstimates</span></span>(‚Ä¶) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.navigationSession?.updateEstimates(estimates, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: maneuver)</code> </pre> <br><h2 id="it-just-works">  Isso simplesmente funciona! </h2><br><p>  Quando a funcionalidade b√°sica do navegador estava pronta, decidi mostrar esse of√≠cio em uma apresenta√ß√£o interna.  A apresenta√ß√£o foi um sucesso: todos tiveram a ideia de concluir, testar e iniciar o navegador o mais r√°pido poss√≠vel. </p><br><p>  Antes de tudo, pedimos uma unidade principal real com o suporte do CarPlay.  E ent√£o, como se costuma dizer, o calor come√ßou. </p><br><p><img src="https://habrastorage.org/webt/wz/2-/cj/wz2-cjj1rusmnd270gkr5h8tdj0.jpeg" alt="PIONEER AVH-Z500BT"></p><br><h3 id="provision-profiles">  Perfis de Provis√£o </h3><br><p>  Devido √† adi√ß√£o de uma nova chave de capacidade, os perfis precisam ser regenerados.  No desenvolvimento normal, n√£o pensamos nisso, porque o Xcode far√° tudo sozinho.  Mas n√£o no caso de uma chave privada. </p><br><pre> <code class="plaintext hljs">Code Signing Error: Automatic signing is unable to resolve an issue with the "v4ios" target's entitlements. Automatic signing can't add the com.apple.developer.carplay-maps entitlement to your provisioning profile. Switch to manual signing and resolve the issue by downloading a matching provisioning profile from the developer website.</code> </pre> <br><p>  Ele tamb√©m quebrou nosso IC, porque, para a distribui√ß√£o local de vers√µes de aplicativos, usamos uma conta corporativa, na qual n√£o solicitamos permiss√£o para desenvolver o aplicativo para o CarPlay.  Mas esta √© uma hist√≥ria completamente diferente. </p><br><h3 id="debugging">  Depura√ß√£o </h3><br><p>  Voc√™ pode se conectar ao CarPlay via Bluetooth ou Lightning.  A pr√°tica mostra que o segundo m√©todo √© muito mais popular.  Nosso r√°dio no Bluetooth n√£o sabia como, portanto, durante o desenvolvimento, tive que usar a depura√ß√£o de Wi-Fi.  Se voc√™ tentou em projetos mais dif√≠ceis do que o hello world, ent√£o voc√™ sabe o que diabos √©. </p><br><div class="spoiler">  <b class="spoiler_title">E para quem ainda n√£o tentou, digo:</b> <div class="spoiler_text"><p>  Eu coletei o aplicativo por fio no telefone e, somente ent√£o, conecte o telefone ao CarPlay, via Wi-Fi, carreguei no telefone e executei por v√°rios minutos. <br>  A c√≥pia do aplicativo para o telefone demorou cerca de 3 minutos, iniciando o aplicativo por cerca de um minuto e somente depois de iniciar a parada nos pontos de interrup√ß√£o, apenas 15 segundos depois. </p></div></div><br><p>  E ent√£o ficou muito interessante para mim o motivo pelo qual a Apple n√£o criou nenhum DevKit (para que a Apple funcione e √© tudo).  N√£o era muito conveniente montar um suporte de teste sem ele.  At√© agora, uma vez a cada duas semanas, algo cai - voc√™ precisa se lembrar pelas fotos em que colar.  √â bom que o administrador, ao montar esse estande, tenha dito o que e por qu√™. </p><br><h2 id="the-best-framework-we-ever-made">  A melhor estrutura que j√° criamos </h2><br><p>  No final, quando tudo foi montado em um dispositivo real, ficou claro que o recurso "2GIS for CarPlay" seria definitivamente.  √â hora de fazer beleza. </p><br><h3 id="problemy-s-vyuportom">  Problemas na janela de visualiza√ß√£o </h3><br><p>  Era necess√°rio configurar a viewport do mapa para desenhar rotas na √°rea sem controles desnecess√°rios, e n√£o apenas no meio.  Em resumo, para fazer com que pare√ßa diferente: </p><br><p><img src="https://habrastorage.org/webt/ns/-k/gw/ns-kgwhubcu9cdqybc4nierpkqe.png"></p><br><p>  E assim: </p><br><p><img src="https://habrastorage.org/webt/tl/sg/i3/tlsgi347mdeagljpg7i8ojxcjxc.png"></p><br><p>  Eu esperava obter algum tipo de layoutGuide com a √°rea vis√≠vel atual.  Para que ele leve em considera√ß√£o a barra de navega√ß√£o, a visualiza√ß√£o com a rota e os controles no mapa.  Na verdade, eu n√£o recebi nada.  Ainda n√£o est√° claro como configurar a viewport, portanto, temos um c√≥digo r√≠gido como: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> routeControlsWidth = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.width * <span class="hljs-number"><span class="hljs-number">0.48</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> zoomControlWidth = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.width * <span class="hljs-number"><span class="hljs-number">0.15</span></span></code> </pre> <br><h3 id="postroenie-proezda-ne-tolko-mezhdu-dvumya-tochkami">  Constru√ß√£o da passagem n√£o apenas entre dois pontos </h3><br><p>  Na primeira vers√£o, decidimos levar nosso rubricador feito atrav√©s do CPGridTemplate: </p><br><p><img src="https://habrastorage.org/webt/co/ri/ec/coriec6zvpz0pg5uy72kontsmc8.png"></p><br><p>  Favoritos e Casa / Trabalho atrav√©s do CPListTemplate. </p><br><p><img src="https://habrastorage.org/webt/mh/iu/le/mhiulexz-l0j4snzfhdx8pvx8pa.png"></p><br><p>  E pesquisa no teclado atrav√©s do CPSearchTemplate: </p><br><p><img src="https://habrastorage.org/webt/gj/jp/co/gjjpcobjxxf3q_u3gdcoscfclda.png"></p><br><p>  N√£o mostrarei o c√≥digo sobre modelos, pois √© simples e a documenta√ß√£o sobre ele est√° bem escrita (pelo menos sobre algo). </p><br><div class="spoiler">  <b class="spoiler_title">No entanto, vale mencionar quais problemas foram descobertos ao trabalhar com eles.</b> <div class="spoiler_text"><p>  CPInterfaceController pode na navega√ß√£o semelhante ao UIKit.  isto √© </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.interfaceController.pushTemplate(listTemplate, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.interfaceController.presentTemplate(alertTemplate, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre> <br><p>  Mas se voc√™ tentar executar, por exemplo, CPAlertTemplate, voc√™ receber√° nos logs que CPAlertTemplate s√≥ pode ser representado modalmente. </p><br><p>  N√£o est√° claro por que a Apple n√£o escondeu a l√≥gica das tranches sob o cap√¥ sem ter feito uma interface como: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.interfaceController.showTemplate(listTemplate, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre> <br><p>  Ele tamb√©m quebrou a capacidade de usar os herdeiros do CPTemplate, como controladores no UIKit. </p><br><p>  Ao tentar, por exemplo, colocar seu herdeiro na pilha de modelos, voc√™ obt√©m o seguinte: </p><br><pre> <code class="plaintext hljs">Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unsupported object &lt;YourAwesomeGridTemplate: 0x60000060dce0&gt; &lt;identifier: 6CAC7E3B-FE70-43FC-A8B1-8FC39334A61D, userInfo: (null)&gt; passed to pushTemplate:animated:. Allowed classes: {( CPListTemplate, CPGridTemplate, CPSearchTemplate, CPMapTemplate )}'</code> </pre> </div></div><br><h3 id="testirovanie-i-bagi">  Teste e bugs </h3><br><p>  Testado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">artemenko-aa</a> .  Um dos primeiros erros que ele encontrou, ainda n√£o conseguimos consertar. </p><br><p>  O fato √© que, quando voc√™ desconecta o telefone do r√°dio CarPlay, o Watchdog esporadicamente nos prega - sem explicar o motivo.  Mesmo os syslogs abertos, nada est√° claro.  Portanto, se voc√™ tem uma id√©ia de como corrigir ou entender o motivo, sinta-se √† vontade para comentar. </p><br><p>  O pr√≥ximo bug estava no mesmo lugar, mas com um comportamento especial.  Escrevi acima que o m√©todo didDisconnect de CPApplicationDelegate √© chamado quando o telefone √© desconectado do CarPlay.  E neste m√©todo, retornamos o cart√£o da tela do r√°dio de volta ao aplicativo principal.  Imagine quantos problemas ter√≠amos se esse m√©todo n√£o fosse chamado pelo menos uma vez em cada cinco. </p><br><p>  Ficou claro que este √© um problema do iOS, e n√£o especificamente do nosso aplicativo, pois todo o sistema acreditava estar conectado ao CarPlay. </p><br><p><img src="https://habrastorage.org/webt/nh/3v/tc/nh3vtc2h-zlu5jutajc6-oyoca4.jpeg"></p><br><p>  Eu at√© relatei como radar (como todos os outros bugs).  Me pediram para soltar logs com esse perfil, mas n√£o consegui responder ao suporte por um tempo, ent√£o eles fecharam o radar. </p><br><p>  Como a Apple n√£o planejava fazer nada, o problema tinha que ser contornado por conta pr√≥pria, pois era reproduzido com bastante frequ√™ncia. </p><br><p>  E ent√£o lembrei que a maior parte das conex√µes com o CarPlay passa pelo Lightning.  Isso significa que o telefone est√° carregando no momento da conex√£o e, no momento da desconex√£o, o carregamento cessa.  Nesse caso, voc√™ pode assinar o status da bateria e descobrir exatamente quando o telefone parou de carregar e desconectou o CarPlay. </p><br><p>  O esquema √© fr√°gil, mas n√£o tivemos escolha.  Fomos por aqui, e funcionou! </p><br><p><img src="https://habrastorage.org/webt/ql/1h/j0/ql1hj02fnqottbo5fstubt65pss.jpeg"></p><br><p>  Felizmente, essa muleta foi removida do c√≥digo h√° muito tempo: os desenvolvedores da Apple consertaram tudo em um dos lan√ßamentos do iOS. </p><br><h2 id="istoriya-dvuh-redzhektov">  A hist√≥ria de dois editores </h2><br><p>  <strong>O primeiro redirecionamento</strong> estava relacionado aos metadados.  O texto do editorial dizia que nossa descri√ß√£o (n√£o notas de vers√£o) n√£o diz que apoiamos o CarPlay.  Como voc√™ pode imaginar, nem a diretriz de revis√£o nem o mesmo Google Maps possu√≠am isso.  N√£o discutimos (porque geralmente √© mais longo do que editar os metadados), copiamos a linha das Notas da vers√£o para a Descri√ß√£o e come√ßamos a aguardar uma nova revis√£o. </p><br><p>  <strong>O segundo redirecionamento</strong> aconteceu por causa da lista de cidades.  O 2GIS possui um recurso muito interessante - modo offline completo de opera√ß√£o.  Esse recurso nos atingiu na perna. </p><br><p>  Ao conectar um aplicativo sem uma cidade estabelecida ao CarPlay, n√£o mostramos o mapa, porque n√£o h√° nada para mostrar.  E para isso est√°vamos programados.  A solu√ß√£o foi simples: um alerta sem bot√µes, que indica que voc√™ precisa fazer o download da cidade. </p><br><p><img src="https://habrastorage.org/webt/uf/t7/rx/uft7rxuuaqu7ape9ehifdi6r6ki.png"></p><br><h2 id="to-o-chyom-nelzya-govorit">  Sobre o que voc√™ n√£o pode falar </h2><br><h3 id="peremeschenie-karty-zhestami">  Movimento do mapa de gestos </h3><br><p>  Na mesma √©poca, saiu o navegador do Google Maps no CarPlay do Google Maps - e era poss√≠vel mover o mapa com gestos pela tela.  APIs privadas, pensei, isso √© √≥bvio!  Os caras do Google vieram de um pr√©dio pr√≥ximo e disseram o que precisavam.  Afinal, a documenta√ß√£o diz: </p><br><pre> <code class="plaintext hljs">Navigation apps are designed to work with a variety of car input devices, and CarPlay does not support direct user interaction in the base view (apps do not directly receive tap or drag events).</code> </pre> <br><p>  No entanto, ainda decidi me certificar e fui pesquisado no Google, embora fosse quase in√∫til, porque n√£o havia artigos t√©cnicos sobre o CarPlay Navigation Apps.  No entanto, consegui encontrar algo √∫til e, de repente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no site da Apple</a> . </p><br><p>  Nas diretrizes, encontrei um v√≠deo que diz que a documenta√ß√£o est√° mentindo descaradamente.  O v√≠deo mostra como voc√™ ainda pode arrastar o mapa com gestos.  Percebi que n√£o entendia nada, e a √∫nica coisa que me restava era abrir o CarPlay.framework e revisar todos os arquivos .h. </p><br><p>  E eis que eis!  Encontro no CPMapTemplate seu delegado CPMapTemplateDelegate, no qual existem tr√™s m√©todos que parecem gritar que, se voc√™ implement√°-los, poder√° obter o controle dos gestos do mapa. </p><br><div class="spoiler">  <b class="spoiler_title">3 m√©todos</b> <div class="spoiler_text"><p>  / * <em>Chamado quando um gesto de panor√¢mica √© iniciado.</em>  <em>N√£o pode ser chamado quando conectado a alguns sistemas CarPlay.</em> <em><br></em>  / <br>  fun√ß√£o p√∫blica opcional mapTemplateDidBeginPanGesture (_ mapTemplate: CPMapTemplate) </p><br><p>  / * <em>Chamado quando um gesto de panor√¢mica √© alterado.</em>  <em>N√£o pode ser chamado quando conectado a alguns sistemas CarPlay.</em> <em><br></em>  / <br>  fun√ß√£o p√∫blica opcional func mapTemplate (_ mapTemplate: CPMapTemplate, didUpdatePanGestureWith Translation translation: CGPoint, speed: CGPoint) </p><br><p>  / * <em>Chamado quando um gesto de pan termina.</em>  <em>N√£o pode ser chamado quando conectado a alguns sistemas CarPlay.</em> <em><br></em>  / <br>  fun√ß√£o p√∫blica opcional func mapTemplate (_ mapTemplate: CPMapTemplate, didEndPanGestureWithVelocity speed: CGPoint <br>  ) </p></div></div><br><p>  Eu os implementei e executei o aplicativo em um simulador - nada funcionou.  N√£o tendo tempo para ficar chateado, percebi que o simulador pode ser da mesma qualidade da documenta√ß√£o e o coloquei no dispositivo.  Tudo come√ßou, a felicidade n√£o tinha limites! </p><br><p>  Curiosidade: um r√°dio CarPlay precisa de um quarto da tela para entender que um gesto de panor√¢mica foi iniciado.  Quero observar que o UIPanGestureRecognizer precisa de apenas 10 pontos. </p><br><h3 id="neodinakovost-ui-na-raznyh-magnitolah">  Uniformidade da interface do usu√°rio em diferentes gravadores de r√°dio </h3><br><p>  Recebemos um apelo em apoio: o usu√°rio tem apenas um sajest rastejando na pesquisa, embora possa ter havido mais.  √â estranho, pensei, porque em todas as telas apenas uma linha se encaixa.  Solicitaram uma captura de tela: </p><br><p><img src="https://habrastorage.org/webt/_t/k7/u6/_tk7u6wbcv55zig2n-b1dlbm9hu.png"></p><br><p>  E isso √© completamente diferente da interface do usu√°rio do CPSearchTemplate que mostrei acima.  E isso deve ser levado em considera√ß√£o durante o desenvolvimento, embora ainda seja imposs√≠vel entender quantas c√©lulas na placa abaixo podem caber na tela. </p><br><h3 id="kontrol-ogranicheniya-skorosti">  Controle de limite de velocidade </h3><br><p>  Examinamos as estat√≠sticas e percebemos que elas usam o navegador para CarPlay e precisamos traz√™-las pelo menos para o n√≠vel do navegador no aplicativo principal.  Primeiro, decidimos adicionar o controle de limite de velocidade.  Claro, houve alguns problemas. </p><br><p>  Pergunta n√∫mero um: onde colocar? </p><br><p>  Vasculhando os arquivos .h no CPWindow novamente, encontrei um curioso layoutGuide: <br>  var mapButtonSafeAreaLayoutGuide: UILayoutGuide </p><br><p>  E isso acabou sendo o que precis√°vamos.  Nosso controle se encaixa perfeitamente: </p><br><p><img src="https://habrastorage.org/webt/vo/m7/qw/vom7qwpkpnxqf9a7wk6arc8-gtm.png"></p><br><p><img src="https://habrastorage.org/webt/q7/kq/fh/q7kqfhk7rrtwdzmergpd9yobbz0.png"></p><br><p>  Pergunta n√∫mero dois: isso √© geralmente legal? </p><br><p>  O fato √© que tecnicamente o controle est√° na vis√£o de base.  E a vista base de acordo com a documenta√ß√£o n√£o pode conter nada, exceto um mapa: </p><br><pre> <code class="plaintext hljs">The base view is where the map is drawn. The base view must be used exclusively to draw a map, and may not be used to display other UI elements. Instead, navigation apps overlay UI elements such as the navigation bar and map buttons using the provided templates.</code> </pre> <br><p>  Mas os revisores sentiram a nossa falta na AppStore, o que significa que os controles relacionados √† navega√ß√£o ainda podem ser incorporados. </p><br><h3 id="golosovoy-poisk">  Pesquisa por voz </h3><br><p><img src="https://habrastorage.org/webt/di/tt/ov/dittovwssqwrbku8rfd7fxpqlqo.png"></p><br><p><img src="https://habrastorage.org/webt/td/co/z-/tdcoz-1fk1-x880os0muqc_2iso.png"></p><br><p>  De uma maneira boa, esse recurso precisou ser executado antes de tudo, mas acumulamos v√°rias tarefas da d√≠vida t√©cnica que impediram a implementa√ß√£o da pesquisa por voz no CarPlay.  E essa tarefa n√£o era t√£o simples quanto parecia. </p><br><p>  <strong>O primeiro problema: anima√ß√µes.</strong>  O fato √© que no CPVoiceControlTemplate n√£o h√° como fazer anima√ß√µes padr√£o.  A anima√ß√£o para reconhecimento de voz e pesquisa teve que ser coletada quadro a quadro das imagens e indica quanto tempo elas passaram. </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>...<span class="hljs-number"><span class="hljs-number">12</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> image = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"carplay_searching_\(i)"</span></span>) { images.append(image) } } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> image = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>.animatedImage(with: images, duration: <span class="hljs-number"><span class="hljs-number">0.96</span></span>)</code> </pre> <br><p>  Parece, como voc√™ pode imaginar, n√£o realmente, mas n√£o quero aumentar o tamanho do aplicativo. </p><br><p>  <strong>O segundo problema: acessos.</strong>  Alertas para acesso ao microfone e reconhecimento de fala s√£o exibidos no visor do telefone.  Eu tive que escrever no visor do r√°dio que o usu√°rio precisa pegar o telefone, dar permiss√£o e s√≥ ent√£o usar o navegador no r√°dio.  Muito confort√°vel! </p><br><h3 id="pravorulnye-avtomobili">  Carros com volante √† direita. </h3><br><p>  Foi-nos enviada uma captura de tela na qual a interface do usu√°rio de todo o aplicativo foi virada de cabe√ßa para baixo! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e5c/b97/dc2/e5cb97dc248ebb9ffa0ff46147c290d7.jpg"></p><br><p>  E, √© claro, a janela de visualiza√ß√£o do mapa permaneceu da maneira que a codificamos, porque ningu√©m esperava que houvesse uma configura√ß√£o separada para os carros com volante √† direita.  N√£o encontrei como contornar isso ‚Äúcorretamente‚Äù, mas notei que, como nosso controle de limite de velocidade est√° no layoutGuide para controles de mapa, ele foi movido para o lado esquerdo. </p><br><p>  Ultrafix n√£o demorou a chegar.  Eles fizeram isso com grosseria, mas funciona. </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isLeftWheelCar = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.speedControlViewController.view.frame.origin.x &gt; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width / <span class="hljs-number"><span class="hljs-number">2.0</span></span></code> </pre> <br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eu realmente espero que exista uma solu√ß√£o certa e simplesmente n√£o a li. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso √© tudo para mim. </font><font style="vertical-align: inherit;">Se de repente voc√™ planeja tornar seu navegador no CarPlay, lembre-se de que a documenta√ß√£o e a estrutura s√£o imperfeitas. </font><font style="vertical-align: inherit;">A plataforma √© completamente nova, ningu√©m sabe de nada, e a Apple n√£o tem pressa em compartilhar conhecimento.</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt452638/">https://habr.com/ru/post/pt452638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt452620/index.html">Derivando um tipo de a√ß√£o usando o Typecript</a></li>
<li><a href="../pt452622/index.html">Introdu√ß√£o √† Gen√¥mica para Programadores</a></li>
<li><a href="../pt452624/index.html">Introdu√ß√£o ao Spring Boot Actuator</a></li>
<li><a href="../pt452628/index.html">Folha inferior personalizada: como deve funcionar</a></li>
<li><a href="../pt452630/index.html">Backup, Parte 2: Vis√£o geral e teste das ferramentas de backup baseadas em rsync</a></li>
<li><a href="../pt452642/index.html">A for√ßa da multid√£o. Como Chicago desenvolveu um rob√¥ de lixo - um limpador de rio</a></li>
<li><a href="../pt452644/index.html">Confer√™ncia DevConf X Web Developer - 21 de junho</a></li>
<li><a href="../pt452646/index.html">O que a rede neural viu na primeira fotografia de um buraco negro</a></li>
<li><a href="../pt452648/index.html">PHP: Como analisar um arquivo XML complexo e n√£o se afogar no c√≥digo nativo</a></li>
<li><a href="../pt452652/index.html">Semana da Seguran√ßa 21: um buraco no Whatsapp, uma nova vulnerabilidade nos processadores Intel, Zero-Day no Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>