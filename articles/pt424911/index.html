<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¨Ô∏è üë∞ ‚òùüèæ Brevemente sobre os tipos de arquiteturas de software e qual escolhemos para o provedor de IaaS üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø üë®‚Äçüîß üë©üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Existem muitos tipos de arquiteturas de software com seus pr√≥s e contras. Em seguida, falaremos sobre os recursos dos mais populares deles e sobre nos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Brevemente sobre os tipos de arquiteturas de software e qual escolhemos para o provedor de IaaS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/424911/">  Existem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">muitos tipos de arquiteturas de software</a> com seus pr√≥s e contras.  Em seguida, falaremos sobre os recursos dos mais populares deles e sobre nossa transi√ß√£o para microsservi√ßos. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/xy/c4/0n/xyc40n4lngvgriexbx9vviubxki.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libreshot</a> / PD</i></font> <br><br><h2>  Tipos de arquiteturas de software </h2><br><h5>  Arquitetura em camadas </h5><br>  Essa √© uma das arquiteturas mais comuns.  Basicamente, muitas estruturas grandes s√£o constru√≠das - Java EE, Drupal, Express.  Talvez o exemplo mais famoso dessa arquitetura seja o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo de</a> rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OSI</a> . <br><br>  O sistema √© dividido em n√≠veis, cada um dos quais interage com apenas dois vizinhos.  Portanto, as consultas ao banco de dados, que geralmente est√° localizado no final da cadeia de intera√ß√£o, passam sequencialmente por cada "camada". <br><br>  A arquitetura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o implica</a> nenhum n√∫mero obrigat√≥rio de n√≠veis - pode haver tr√™s, quatro, cinco ou mais.  Na maioria das vezes, sistemas de tr√™s camadas s√£o usados: com um n√≠vel de apresenta√ß√£o (cliente), um n√≠vel l√≥gico e um n√≠vel de dados. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/qa/b8/nnqab847wdvsg0sbvwph-yumd3e.png" width="300"></div><br>  In√∫meros livros e artigos foram escritos sobre arquitetura multin√≠vel.  E havia opini√µes diferentes sobre suas vantagens e desvantagens. <br><br>  <i>Pr√≥s:</i> <br><br>  Cada n√≠vel dessa arquitetura executa um conjunto estritamente limitado de fun√ß√µes (que n√£o s√£o repetidas de camada para camada) e n√£o sabe como os outros n√≠veis s√£o organizados.  Portanto, o "conte√∫do" dos n√≠veis pode ser alterado sem o risco de conflitos globais entre as camadas. <br><br>  Em geral, os aplicativos multin√≠veis s√£o t√£o difundidos que geradores de modelos especiais s√£o criados para seu desenvolvimento.  Por exemplo, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LASG para Visual Studio</a> oferece v√°rios m√©todos de gera√ß√£o de c√≥digo que automatizam tarefas de rotina e ajudam a criar camadas de aplicativos. <br><br>  <i>Desvantagens:</i> <br><br>  Na programa√ß√£o, h√° um ditado que diz que qualquer problema pode ser resolvido adicionando outro n√≠vel de abstra√ß√£o.  No entanto, essa abordagem pode levar a uma organiza√ß√£o ruim do c√≥digo e confundir os desenvolvedores. <br><br>  Outro problema surge disso - baixa velocidade.  Muitas informa√ß√µes come√ßam a passar inutilmente de uma camada para outra, sem usar a l√≥gica de neg√≥cios.  √Äs vezes, esse problema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√© chamado de</a> antipadr√£o de sumidouro, um padr√£o de design quando o n√∫mero de opera√ß√µes in√∫teis come√ßa a prevalecer sobre as √∫teis. <br><br>  Encontrar bugs em sistemas multicamadas tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode ser dif√≠cil</a> .  Antes de entrar no banco de dados, as informa√ß√µes passam por todos os n√≠veis (j√° que o banco de dados √© o componente final).  Se, por algum motivo, essas informa√ß√µes forem danificadas (ou perdidas), para encontrar um erro, √© necess√°rio analisar cada n√≠vel separadamente. <br><br>  <i>Bom ajuste:</i> <br><br><ul><li>  Para criar novos aplicativos que precisam ser implantados rapidamente.  Este √© um tipo de "modelo de uso geral". <br><br><blockquote>  Quando come√ßamos a trabalhar nos sistemas internos de nosso provedor de infraestrutura virtual no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1cloud</a> , usamos esse tipo espec√≠fico de arquitetura.  No come√ßo, n√£o tivemos a tarefa de criar um servi√ßo IaaS capaz de processar o tr√°fego de dezenas ou centenas de milhares de usu√°rios.  Decidimos lan√ßar rapidamente o produto no mercado e come√ßar a construir uma base de clientes e resolver os problemas de dimensionamento √† medida que estiverem dispon√≠veis (e agora estamos transferindo todos os sistemas para uma arquitetura de microsservi√ßo, que ser√° discutida mais adiante). </blockquote><br>  Entre os desenvolvedores, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">existe uma opini√£o de</a> que n√£o √© necess√°rio, desde os primeiros dias do projeto, prepar√°-lo para cargas colossais (escreva um software √† prova de futuro).  Os requisitos reais para o aplicativo ou servi√ßo podem diferir das expectativas e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">os objetivos de neg√≥cios podem mudar</a> .  Portanto, um c√≥digo escrito de olho no futuro distante arrisca se tornar uma d√≠vida t√©cnica. </li><li>  Segundo O'Reilly, a arquitetura em camadas √© uma escolha natural para muitos aplicativos corporativos.  Como as empresas (especialmente as grandes) geralmente compartilham compet√™ncias: existe uma equipe respons√°vel pelo front-end, h√° pessoas respons√°veis ‚Äã‚Äãpelo back-end e assim por diante.  Isso implica a divis√£o natural dos aplicativos em n√≠veis: alguns desenvolvedores trabalham no cliente, outros na l√≥gica. <br><br>  Uma rela√ß√£o semelhante entre a estrutura da organiza√ß√£o e as abordagens de desenvolvimento de aplicativos tamb√©m √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ditada pela lei de Conway</a> , formulada em 1967.  Diz: "Ao desenvolver um sistema, as organiza√ß√µes s√£o for√ßadas a aderir a um esquema que repete a estrutura das comunica√ß√µes dentro da empresa". </li></ul><br><h5>  Arquitetura Orientada a Eventos </h5><br>  Nesse caso, o desenvolvedor prescreve comportamento (rea√ß√µes) para o programa quando ocorrer algum evento.  Um evento no sistema √© considerado uma mudan√ßa significativa em seu estado. <br><br>  Voc√™ pode fazer uma analogia com a compra de um carro na cabine.  Quando um carro encontra um novo propriet√°rio, sua condi√ß√£o muda de "√† venda" para "vendido".  Este evento inicia o processo de prepara√ß√£o da pr√©-venda - instala√ß√£o de equipamentos adicionais, verifica√ß√£o das condi√ß√µes t√©cnicas, lavagem, etc. <br><br>  Um sistema orientado a eventos normalmente cont√©m dois componentes: fontes de eventos (agentes) e seus consumidores (coletores).  Geralmente, tamb√©m existem dois tipos de eventos: um evento inicial e um evento ao qual os consumidores respondem. <br><br>  Um exemplo da implementa√ß√£o dessa arquitetura √© a biblioteca Java Swing.  Se a classe precisar de um alerta sobre um evento, o desenvolvedor implementar√° o chamado ouvinte - ActionListener (ele "captura" o evento correspondente) e o anexa ao objeto que esse evento pode gerar. <br><br>  O c√≥digo de implementa√ß√£o a seguir para esse mecanismo √© fornecido no Wiki: <br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FooPanel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); JButton btn = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JButton(<span class="hljs-string"><span class="hljs-string">"Click Me!"</span></span>); btn.addActionListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.add(btn); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent ae)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Button has been clicked!"</span></span>); } }</code> </pre> <br>  <i>Vantagens da arquitetura:</i> <br><br>  Como os aplicativos consistem em um grande n√∫mero de m√≥dulos ass√≠ncronos (que n√£o t√™m informa√ß√µes sobre a implementa√ß√£o um do outro), eles s√£o f√°ceis de dimensionar.  Esses sistemas s√£o montados como construtores - voc√™ n√£o precisa registrar depend√™ncias, basta implementar um novo m√≥dulo.  Al√©m disso, o modelo ass√≠ncrono permite alto desempenho do aplicativo. <br><br>  <i>Desvantagens:</i> <br><br>  A natureza ass√≠ncrona desses aplicativos complica a depura√ß√£o.  Um evento pode acionar v√°rias cadeias de a√ß√µes ao mesmo tempo.  Se houver muitas dessas cadeias, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode ser dif√≠cil</a> entender o que exatamente causou a falha.  Para resolver o problema, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">precisamos</a> resolver as condi√ß√µes dif√≠ceis para o tratamento de erros.  A partir daqui, segue o problema com o registro - os logs s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dif√≠ceis de</a> estruturar. <br><br>  <i>Adequado para:</i> <br><br><ul><li>  Cria√ß√£o de sistemas ass√≠ncronos.  Isso √© √≥bvio porque a pr√≥pria arquitetura consiste em um grande n√∫mero de m√≥dulos ass√≠ncronos. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pode ser usado</a> para criar uma interface do usu√°rio.  Uma p√°gina da web atua como um cont√™iner no qual cada um de seus componentes √© isolado e responde a determinadas a√ß√µes do usu√°rio. </li><li>  Organizar mensagens entre v√°rios sistemas de informa√ß√£o. </li></ul><br><h5>  Arquitetura de microkernel </h5><br>  Esse tipo de arquitetura consiste em dois componentes: o n√∫cleo do sistema e plug-ins.  Os plugins s√£o respons√°veis ‚Äã‚Äãpela l√≥gica comercial, e o kernel gerencia seu carregamento e descarregamento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5t/fm/sy/5tfmsyjhqdngpuld3y-8feeurxs.png" width="400"></div><br>  Como um exemplo da arquitetura de microkernel, o livro O'Reilly <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fornece um</a> IDE Eclipse.  Este √© um editor simples que abre arquivos, permite que sejam editados e executa processos em segundo plano.  Mas com a adi√ß√£o de plugins (por exemplo, o compilador Java), sua funcionalidade se expande. <br><br>  A arquitetura do microkernel j√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usou</a> o sistema operacional Symbian para dispositivos m√≥veis (o desenvolvimento foi interrompido em 2012).  Em seu microkernel, havia um agendador de tarefas, sistemas e drivers de gerenciamento de mem√≥ria, e o sistema de arquivos e os componentes respons√°veis ‚Äã‚Äãpelas comunica√ß√µes telef√¥nicas atuavam como plug-ins. <br><br>  <i>Vantagens da arquitetura:</i> <br><br>  √â f√°cil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">portar um</a> aplicativo de um ambiente para outro, pois apenas o microkernel precisa ser modificado.  A separa√ß√£o de pol√≠ticas de alto n√≠vel e mecanismos de baixo n√≠vel simplifica o suporte ao sistema e garante sua extensibilidade. <br><br>  <i>Desvantagens:</i> <br><br>  O desempenho do aplicativo √© reduzido se voc√™ conectar muitos m√≥dulos.  No entanto, pode ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">problem√°tico encontrar um equil√≠brio</a> entre o n√∫mero de plug-ins e o n√∫mero de tarefas de micron√∫cleo (geralmente ele cont√©m apenas o c√≥digo usado com frequ√™ncia). <br><br>  Tamb√©m √© dif√≠cil determinar antecipadamente (antes do desenvolvimento do aplicativo) o grau ideal de fragmenta√ß√£o do c√≥digo dos micron√∫cleos.  E mudar a abordagem mais tarde √© quase imposs√≠vel. <br><br>  <i>Bom para:</i> <br><br><ul><li>  Crie aplicativos extens√≠veis usados ‚Äã‚Äãpor um grande n√∫mero de pessoas.  Por exemplo, o iPhone OS tem ra√≠zes de ‚Äúmicrokernel‚Äù - seus desenvolvedores se inspiraram em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mach</a> (este √© um dos primeiros exemplos de um microkernel). </li><li>  Cria√ß√£o de aplicativos com uma clara separa√ß√£o de m√©todos b√°sicos e regras de alto n√≠vel. </li><li>  Desenvolvimento de sistemas com um conjunto de regras que muda dinamicamente e que precisam ser atualizados com frequ√™ncia. </li></ul><br><h5>  Microsservi√ßos </h5><br>  Semelhante √† arquitetura orientada a eventos e ao microkernel.  Mas eles s√£o usados ‚Äã‚Äãquando tarefas de aplicativos individuais podem ser facilmente divididas em pequenas fun√ß√µes - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servi√ßos independentes</a> .  Esses servi√ßos podem ser escritos em diferentes linguagens de programa√ß√£o porque se comunicam usando a API REST (por exemplo, usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JSON</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Thrift</a> ). <br><br>  Em que propor√ß√µes o c√≥digo √© dividido, o desenvolvedor decide, mas Sam Newman, autor do livro " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Criando microsservi√ßos</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> recomenda que voc√™ aloque tantas linhas de c√≥digo no microsservi√ßo quanto a equipe puder reproduzir em duas semanas.  Segundo ele, isso permitir√° evitar o "incha√ßo" excessivo da arquitetura. <br><br>  Na maioria das vezes, os microsservi√ßos s√£o lan√ßados nos chamados cont√™ineres.  Esses cont√™ineres s√£o acess√≠veis pela rede a outros microsservi√ßos e aplicativos, e o sistema de orquestra√ß√£o gerencia todos eles: exemplos incluem Kubernetes, Docker Swarm, etc. <br><br>  <i>Vantagens:</i> <br><br>  A arquitetura de microsservi√ßo simplifica o dimensionamento de aplicativos.  Para implementar um novo recurso, basta escrever um novo servi√ßo.  Se a fun√ß√£o n√£o for mais necess√°ria, o microsservi√ßo poder√° ser desativado.  Cada microsservi√ßo √© um projeto separado, portanto, √© f√°cil distribuir o trabalho neles entre equipes de desenvolvimento. <br><br>  Leia mais sobre os mecanismos de dimensionamento de sistemas de microsservi√ßo no livro de Martin L. Abbott, The Art of Scalability. <br><br>  <i>Desvantagens:</i> <br><br>  √â dif√≠cil procurar erros.  Diferente dos sistemas monol√≠ticos (quando todas as fun√ß√µes est√£o no mesmo kernel), pode ser dif√≠cil determinar por que a solicita√ß√£o "caiu".  Para obter detalhes, voc√™ deve acessar os registros do processo de "culpado" (se houver v√°rios, o problema ser√° agravado). <br><br>  Isso cria uma sobrecarga adicional para a transmiss√£o de mensagens entre microsservi√ßos.  Segundo nossas estimativas, o crescimento dos custos da rede pode chegar a 25%. <br><br>  Outra desvantagem √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">necessidade de aturar</a> o conceito de consist√™ncia eventual ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">coer√™ncia a longo prazo</a> ).  Os microsservi√ßos possuem seus pr√≥prios data warehouses, que s√£o acessados ‚Äã‚Äãpor outros microsservi√ßos.  As informa√ß√µes sobre altera√ß√µes nesses dados n√£o s√£o distribu√≠das instantaneamente pelo sistema.  Portanto, surgem situa√ß√µes em que alguns microsservi√ßos (embora por um per√≠odo extremamente curto) tenham dados desatualizados. <br><br>  <i>Onde usar:</i> <br><br><ul><li>  Em grandes projetos com alta carga.  Por exemplo, microsservi√ßos s√£o usados ‚Äã‚Äãpor plataformas de streaming.  Os sistemas de entrega de conte√∫do e outros servi√ßos de suporte podem ser escalados independentemente um do outro, adaptando-se √†s mudan√ßas de carga. </li><li>  Em sistemas que usam recursos "mistos".  Se uma parte do aplicativo precisa de mais tempo do processador e a segunda - mem√≥ria, faz sentido dividi-las em microsservi√ßos.  Em seguida, eles podem ser hospedados em m√°quinas diferentes - com uma CPU poderosa ou uma grande quantidade de mem√≥ria, respectivamente. </li><li>  Quando a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seguran√ßa √© necess√°ria</a> .  Como os microsservi√ßos s√£o isolados e se comunicam pela API, pode-se garantir que apenas as informa√ß√µes necess√°rias para um servi√ßo espec√≠fico ser√£o transmitidas.  Isso √© importante ao trabalhar com senhas ou dados do cart√£o de pagamento. </li></ul><br><h2>  Por que estamos mudando para microsservi√ßos no 1cloud </h2><br>  Como j√° dissemos, a base dos servi√ßos que fornecemos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nuvem privada</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servidores virtuais</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">armazenamento em nuvem de objetos</a> etc.) se baseia em uma arquitetura de v√°rios n√≠veis.  Ela mostrou-se do lado bom, mas agora sua capacidade de escalar come√ßou a se esgotar. <br><br>  Estamos nos tornando cada vez mais parceiros que fornecem suas solu√ß√µes com base em nossa plataforma de franquia.  Existem sites e servi√ßos remotos que se tornam dif√≠ceis de gerenciar a partir de um √∫nico ponto (em particular, nosso equipamento est√° localizado em v√°rios data centers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na R√∫ssia, Cazaquist√£o e Bielorr√∫ssia</a> ). <br><br>  Para facilitar o dimensionamento das fun√ß√µes existentes e a introdu√ß√£o de novos recursos, transferimos toda a nossa infraestrutura para microsservi√ßos no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1cloud</a> . <br><br><img src="https://habrastorage.org/webt/qc/en/nv/qcennvcdxbriz_2it7sf3jhtpv8.png"><br><br>  Queremos separ√°-los em m√≥dulos separados e, em vez de um banco de dados complexo, obter N simples.  Assim, na nova arquitetura, cada recurso ter√° um banco de dados separado.  √â muito mais conveniente e eficiente em suporte e desenvolvimento. <br><br>  Poderemos dividir o trabalho em servi√ßos entre v√°rios desenvolvedores (destacar especializa√ß√µes na empresa) e escalar efetivamente horizontalmente - quando necess√°rio, basta conectar novos microsservi√ßos. <br><br>  Nossos clientes tamb√©m receber√£o uma s√©rie de vantagens.  Como os microsservi√ßos n√£o est√£o conectados entre si, quando um servi√ßo espec√≠fico falhar, apenas ele estar√° indispon√≠vel, todo o resto continuar√° funcionando normalmente.  Al√©m disso, mesmo que ocorra uma queda global em nosso servi√ßo, o painel de controle continuar√° funcionando. <br><br>  Os clientes do Cazaquist√£o e da Bielorr√∫ssia (e outros pa√≠ses onde abriremos escrit√≥rios de representa√ß√£o) perceber√£o um aumento significativo na velocidade e capacidade de resposta das interfaces, uma vez que os pain√©is de controle estar√£o localizados localmente. <br><br><h5>  O que j√° foi feito </h5><br>  At√© agora, implementamos apenas o primeiro piloto: "Servi√ßo de Monitoramento".  Os demais servi√ßos ser√£o transferidos para uma nova faixa no final de 2018 - in√≠cio de 2019. <br><br>  Ao mesmo tempo, a nova arquitetura estabelece as bases tecnol√≥gicas para o pr√≥ximo est√°gio - migra√ß√£o para cont√™ineres.  Agora usamos a infraestrutura do Windows e, para mudar para cont√™ineres, precisamos reescrever todo o c√≥digo acumulado no .NetCore e transferi-lo para o Linux. <br><br>  Planejamos iniciar uma nova transi√ß√£o no in√≠cio de 2019 e finaliz√°-la no final do pr√≥ximo ano. <br><br><div class="spoiler">  <b class="spoiler_title">Em palavras simples, sobre o que vale a pena lembrar sobre arquitetura</b> <div class="spoiler_text"><ul><li>  <b>Arquitetura multin√≠vel</b> - o aplicativo √© dividido em n√≠veis, cada um dos quais executa um conjunto estritamente definido de fun√ß√µes.  Cada n√≠vel pode ser modificado individualmente.  Entre as defici√™ncias est√£o a baixa velocidade do c√≥digo e a dificuldade de encontrar bugs. <br><br>  Adequado para o desenvolvimento de aplicativos que precisam ser rapidamente lan√ßados no mercado.  Geralmente usado para criar servi√ßos corporativos. </li><li>  <b>Arquitetura orientada a eventos</b> - aqui o desenvolvedor prescreve a rea√ß√£o do sistema a qualquer evento.  Por exemplo, se os dados forem recebidos, grave-os em um arquivo.  Os aplicativos baseados em uma arquitetura orientada a eventos s√£o f√°ceis de escalar, pois todos os manipuladores de eventos n√£o sabem nada sobre a implementa√ß√£o um do outro.  No entanto, a depura√ß√£o desses sistemas √© dif√≠cil - uma √∫nica a√ß√£o pode causar v√°rias cadeias de a√ß√µes ao mesmo tempo (√© dif√≠cil entender qual causou a falha). <br><br>  Usado para criar sistemas ass√≠ncronos, organiza√ß√£o de interfaces gr√°ficas e sistemas de mensagens. </li><li>  <b>Arquitetura de microkernel</b> - consiste em dois componentes principais: plugins e o kernel.  Os plug-ins s√£o respons√°veis ‚Äã‚Äãpela l√≥gica de neg√≥cios e o kernel √© respons√°vel por carreg√°-los e descarreg√°-los.  Essa separa√ß√£o de tarefas simplifica o suporte ao sistema.  No entanto, isso pode afetar o desempenho - depende diretamente do n√∫mero de m√≥dulos conectados e ativos. <br><br>  √â adequado para o desenvolvimento de aplicativos extens√≠veis usados ‚Äã‚Äãpor um grande n√∫mero de pessoas e sistemas com um conjunto de regras que geralmente precisam ser atualizadas (os plugins garantem facilidade de atualiza√ß√£o). </li><li>  <b>Arquitetura de</b> microsservi√ßo - os aplicativos s√£o divididos em fun√ß√µes - microsservi√ßos.  Cada microsservi√ßo √© um componente independente com sua pr√≥pria l√≥gica de neg√≥cios.  Esses componentes se comunicam usando a API.  Tais aplicativos s√£o f√°ceis de desenvolver (√© poss√≠vel distribuir o trabalho entre equipes de desenvolvimento), mas √© dif√≠cil depurar. <br><br>  Utilizado em grandes projetos com alta carga, que exigem maior seguran√ßa. </li></ul><br><br></div></div><br><h5>  O que mais estamos escrevendo no 1cloud Blog: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1cloud Cloud Architecture Evolution: Desafios da modula√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como o IaaS ajuda os franqueados da 1C: experi√™ncia 1cloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Por que o monitoramento √© necess√°rio?</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt424911/">https://habr.com/ru/post/pt424911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt424897/index.html">Uma reuni√£o inesperada. Cap√≠tulo 18</a></li>
<li><a href="../pt424899/index.html">O que ouvir sobre o √°udio: 15 podcasts</a></li>
<li><a href="../pt424901/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel # 272 (24 a 30 de setembro)</a></li>
<li><a href="../pt424905/index.html">Desenvolvendo hexapod a partir do zero (parte 2) - build</a></li>
<li><a href="../pt424907/index.html">Confer√™ncia DEFCON 22. GTVHacker Group. Hackeie tudo: 20 dispositivos em 45 minutos. Parte 1</a></li>
<li><a href="../pt424913/index.html">Ag√™ncia Internacional de Energia: a energia e√≥lica prevalecer√° na Europa at√© 2027</a></li>
<li><a href="../pt424915/index.html">Confer√™ncia DEFCON 22. GTVHacker Group. Hackeie tudo: 20 dispositivos em 45 minutos. Parte 2</a></li>
<li><a href="../pt424917/index.html">Como transformamos as previs√µes ruins em um pouco melhores</a></li>
<li><a href="../pt424919/index.html">P√©rola de um mercado de pulgas ou engenharia reversa da c√¢mera IP DCS-5220A1</a></li>
<li><a href="../pt424921/index.html">Como a matem√°tica da rede pode ajud√°-lo a fazer amigos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>