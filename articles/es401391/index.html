<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèø üôÜüèø üë™ C√≥mo aprendimos a procesar r√°pidamente los escaneos de cheques üë®üèº‚Äçüé§ üèæ üö£üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, le contar√© c√≥mo aprendimos a reconocer los cheques (o m√°s bien los resbalones), qu√© tipo de rastrillo pisaron y qu√© tipo de eficienc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo aprendimos a procesar r√°pidamente los escaneos de cheques</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401391/">  En este art√≠culo, le contar√© c√≥mo aprendimos a reconocer los cheques (o m√°s bien los resbalones), qu√© tipo de rastrillo pisaron y qu√© tipo de eficiencia obtuvimos. <br><br>  Comenzar√© con una breve introducci√≥n.  Ganamos realizando promociones para fabricantes y vendedores de una variedad de bienes de consumo.  Como regla, esto es algo de la categor√≠a de "comprar bienes - encontrar el c√≥digo - envi√°rnoslo - ganar un premio".  Nuestro producto principal es una plataforma que genera, acepta, procesa estos c√≥digos, ayuda a comunicarse con los participantes, paga bonos y hace mucho m√°s. <br><br>  Recientemente, comenzamos a ver cada vez m√°s promociones de colegas en la tienda, donde la confirmaci√≥n de compra no era un c√≥digo promocional, como en el ejemplo anterior, sino una foto de un cheque.  Y ahora el fen√≥meno se ha generalizado.  No estaba permitido mantenerse alejado. <br><br>  En primer lugar, me registr√© en todas las acciones con cheques que descubr√≠ (bueno, para ser honesto, no del todo, en alg√∫n lugar en el √°rea de los segundos diez me cans√©).  Supongo que no ten√≠a ning√∫n cheque, y decid√≠ usar la foto de un gato en un fondo abstracto en lugar de un cheque. <a name="habracut"></a>  Imagine mi sorpresa cuando en todas las acciones, excepto una, mi gato fue aceptado y admitido antes del sorteo.  Y en algunos lugares incluso emitieron un premio instant√°neo en forma de un c√≥digo promocional para la biblioteca en l√≠nea.  Honestamente, en esa √∫nica acci√≥n, el gato tambi√©n fue aceptado, pero prometi√≥ enviarlo con moderaci√≥n y dentro de las 8 (!) Horas para resolver el problema de mi participaci√≥n en la acci√≥n. <br><br>  Esta opci√≥n obviamente no nos conven√≠a.  En primer lugar, no es bueno permitir que una persona juegue en ninguna foto.  Siempre que la plataforma lo permita, una vez que pueda subir una foto del mismo cheque, aumentar√° repetidamente sus posibilidades de obtener una victoria.  Cuando una de estas solicitudes gana, se presenta el original de ese cheque √∫nico y se toma el premio.  Por supuesto, existe la posibilidad de ganar dos veces y traicionarse a s√≠ mismo, pero ya nos dejamos llevar por esto.  En segundo lugar, 8 horas de no dar retroalimentaci√≥n a las personas parece burl√≥n en un mundo donde un visitante que ha pasado m√°s de 15 segundos en un sitio se considera objetivo.  En tercer lugar, dar un premio por una foto de un gato significa no mostrarse como un organizador muy competente.  Por cierto, aqu√≠ est√°. <br><br><img src="http://habrastorage.org/files/733/ca0/0ae/733ca00aede540689082c344b033eaf6.jpg"><br><br>  La conclusi√≥n era obvia: necesitamos aprender a reconocer cheques.  La tarea es dif√≠cil, por lo que acudimos a los profesionales, una empresa conocida.  Afortunadamente, ten√≠an una soluci√≥n para reconocer cheques que, desafortunadamente, no estaba localizada en el mercado ruso.  En honor a esto, nos dieron 1000 intentos gratuitos para reconocer el cheque, una promesa de ayudar con consejos y les deseamos buena suerte. <br><br>  En ese momento, apareci√≥ una solicitud del cliente.  Nuestra tarea consist√≠a en llevar a cabo una acci√≥n para una gran red de tiendas minoristas.  Mirando hacia el futuro, dir√© que aceptaron hasta 1000 registros por d√≠a.  Para calificar para los premios en promociones, ten√≠a que comprar algo a un costo de N rub desde un cierto per√≠odo de tiempo.  y aseg√∫rese de pagar su compra con una tarjeta VISA.  La foto obtenida al comprar un recibo debe cargarse en nuestro sitio promocional.  Si fue reconocido como un ganador, ten√≠a que presentar un recibo y una tarjeta VISA en la taquilla y recoger el premio.  Una foto: una oportunidad de ganar.  El ganador se calcula entre todos los participantes que cargaron los resbalones correctos, de acuerdo con una f√≥rmula especial.  Nuestra tarea en esta etapa es aceptar el recibo y permitir / no permitir que una persona participe en el sorteo.  Al mismo tiempo, es deseable cortar los trucos m√°ximos que pueden tratar de deslizarnos un resbal√≥n dos veces, deslizar el resbal√≥n impreso antes del inicio de la acci√≥n y muchas cosas m√°s interesantes, incluidas, entre otras, la foto del gato. <br><br>  M√∫ltiples pruebas de un producto de una gran empresa mostraron que determina el monto de la compra, el tipo de tarjeta, el n√∫mero de tarjeta, la hora y la fecha de la impresi√≥n del recibo.  Y parece as√≠: lo duplicamos (para esto, calculando los valores hash de los par√°metros reconocidos y la imagen en s√≠), reconocemos la cantidad, la fecha, el sistema de pago y el n√∫mero de tarjeta.  Es cierto, se reconoce con errores ... y no todos. <br><br>  Perm√≠tame recordarle que al emitir un premio, el ganador verific√≥ el monto del boleto y la tarjeta, o m√°s bien los √∫ltimos 4 d√≠gitos del n√∫mero de tarjeta.  Los datos se verificaron con el registro que, de acuerdo con los resultados del sorteo, nuestro sistema envi√≥ autom√°ticamente a la tienda.  Es decir, estos datos simplemente deben ser correctos. <br><br>  Tuvimos que hacer el primer compromiso: le pedimos al participante que ingrese el monto de la compra y los √∫ltimos 4 d√≠gitos del n√∫mero de la tarjeta a mano.  Adem√°s, si lo que ingres√≥ la persona y lo que reconoci√≥ la m√°quina coincidi√≥, y el sistema de pago y la fecha de impresi√≥n de recibo son correctos, permitimos que el participante dibuje. <br>  Pensamos que result√≥ que solo permitimos el 71% de los resbalones.  El 29% restante son im√°genes incorrectas o de baja calidad y correctas, pero im√°genes incorrectamente reconocidas en una proporci√≥n aproximada de 50/50. <br><br>  ¬øQu√© pasa con este 14.5% de los cheques rechazados por error?  La soluci√≥n lleg√≥ bastante r√°pido, comenzaron a enviar una aplicaci√≥n manual a un centro de contacto amigable.  De los inconvenientes: caros y largos.  Si el 71% de los afortunados obtuvieron el resultado en un minuto, entonces estas personas tuvieron que reportar esperar hasta 8 horas.  Se decidi√≥ tratar de normalizar los resultados de reconocimiento en nuestro sistema. <br><br>  Activamos el an√°lisis: verificamos manualmente los datos en la foto y el resultado del reconocimiento.  El resultado del reconocimiento llega de la siguiente manera: por separado, los campos "fecha", "cantidad", etc.  y por separado el texto completo, es decir, en general todo lo que se encontr√≥ en la imagen.  A menudo, los datos que no figuran en uno de los primeros campos se pueden encontrar en el texto completo a trav√©s de los ojos.  Con base en el an√°lisis de varios cientos de resbalones, decidimos hacer lo siguiente: <br><br>  1) Distinguimos el cheque del recibo: entre todos los recibos aceptados, buscamos un recibo con el n√∫mero m√°ximo de l√≠neas.  Para cualquier documento rechazado (por cualquier motivo), consideramos el n√∫mero de l√≠neas, si excede el m√°ximo calculado previamente, le decimos a la persona ‚ÄúQuiz√°s est√© intentando descargar un cheque, no un resbal√≥n.  Tome una foto del recibo por separado del cheque e intente nuevamente ".  Por lo tanto, una persona entendi√≥ mejor lo que estaba mal con su foto. <br><br>  2) Si no se reconoce la fecha: tratamos de buscar en el texto completo el fragmento con la m√°scara "XX / XX / XU", donde X es cualquier n√∫mero e Y es cualquier car√°cter.  Cuando encuentre el fragmento Y, c√°mbielo a 6 (o 7, dependiendo del a√±o de verificaci√≥n), considere que el fragmento encontrado es la fecha en que se imprimi√≥ el recibo.  S√≠, s√≠, el sistema cort√≥ principalmente el √∫ltimo d√≠gito de la fecha.  Gan√≥ 2%. <br><br>  3) Si no se reconoce la cantidad: busque en el texto completo la m√°scara "ZXXXX.XX RU", donde X es cualquier n√∫mero y Z es cualquier car√°cter, incluido un espacio o la ausencia de un car√°cter.  El fragmento encontrado se compara con lo que ingres√≥ el participante.  Si hay una discrepancia, reemplace los 6 por 8 caracteres en el fragmento encontrado uno por uno y comp√°relos con lo que ingres√≥.  Por alguna raz√≥n, la m√°quina a menudo confund√≠a exactamente 6 y 8, y no 8 y 6, es decir, 6 y 8. La ganancia es aproximadamente del 3%. <br><br>  4) N√∫mero de tarjeta: busque en el texto completo la m√°scara "** XXXX", donde X es cualquier n√∫mero.  Entre los caracteres X puede haber espacios o signos de puntuaci√≥n, los descartamos.  El n√∫mero resultante se compara con el n√∫mero de tarjeta ingresado manualmente.  + 1%. <br><br>  5) Tarjeta de pago: busque en el texto completo uno de los fragmentos: ‚ÄúTarjeta: V‚Äù, ‚ÄúTarjeta: V‚Äù, ‚ÄúTarjeta'V‚Äù, ‚ÄúVISH‚Äù.  Si se encuentra, considere la tarjeta como una tarjeta VISA.  + 3%. <br><br>  Por lo tanto, hemos aumentado el n√∫mero de solicitudes aceptadas en un minuto al 80%.  Por desgracia, las posibilidades de normalizaci√≥n pr√°cticamente se agotaron en esto, y cambiamos a aumentar la eficiencia del reconocimiento manual (pero esta es otra historia). <br><br>  En general, hasta donde yo s√©, hemos resultado ser la primera campa√±a en el pa√≠s con reconocimiento real de cheques por m√°quina.  El resultado por primera vez no me parece malo, pero para el verano nuestro socio prometi√≥ mejorar significativamente la calidad del reconocimiento al presentar oficialmente la versi√≥n rusa de su servicio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es401391/">https://habr.com/ru/post/es401391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es401375/index.html">–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: —Å–æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ–≥–∞—Ç—å –∑–∞–±—ã–≤–∞—Ç—å</a></li>
<li><a href="../es401379/index.html">Simulaci√≥n virtual 3D de barcos para la Armada rusa: ¬øestamos en la cresta de la TI?</a></li>
<li><a href="../es401381/index.html">Pol√≠tico franc√©s us√≥ un holograma para actuar en dos ciudades simult√°neamente</a></li>
<li><a href="../es401383/index.html">Telegram Developer Ecosystem</a></li>
<li><a href="../es401387/index.html">Movimiento en la galaxia: GIF</a></li>
<li><a href="../es401393/index.html">"C√≥mo funciona": radio: el final de una era hermosa</a></li>
<li><a href="../es401395/index.html">Mejora fotogr√°fica probabil√≠stica de m√∫ltiples p√≠xeles: Google Brain</a></li>
<li><a href="../es401397/index.html">Paisajes astron√≥micos a 360 ¬∞</a></li>
<li><a href="../es401399/index.html">Plataforma Intel Aero: quiero volar</a></li>
<li><a href="../es401401/index.html">Fraude al comprar un MacBook usado: "¬°Pero el n√∫mero, dicen, no es real!"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>