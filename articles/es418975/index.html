<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜô üèä üêä C√≥mo medir el √©xito Estrategias de monitoreo y su relaci√≥n con los problemas del negocio. ü§∑üèº üè¶ üë®üèΩ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Antes de responder la pregunta ‚Äú¬øC√≥mo medir el √©xito?‚Äù, Debe comprender qu√© significa ‚Äú√©xito‚Äù para usted. Para Dev y Ops, la definici√≥n de √©xito es di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo medir el √©xito Estrategias de monitoreo y su relaci√≥n con los problemas del negocio.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/418975/"><p>  Antes de responder la pregunta ‚Äú¬øC√≥mo medir el √©xito?‚Äù, Debe comprender qu√© significa ‚Äú√©xito‚Äù para usted.  Para Dev y Ops, la definici√≥n de √©xito es diferente.  Para Dev, un proyecto exitoso est√° completamente probado.  Para operaci√≥n - monitoreo.  Las pruebas y el monitoreo son necesarios, pero las pruebas nunca brindan una cobertura del 100% del problema, y ‚Äã‚Äãuna respuesta 200 de HTTP no es suficiente para asegurarse de que el sistema funcione bien.  <strong>Leon Fayer</strong> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RIT ++</a> defendi√≥ el punto de vista de que DevOps no paga para garantizar que todas las m√©tricas en el monitoreo est√©n en la zona verde.  <strong>Pagan para hacer felices a los usuarios</strong> .  Si no est√° satisfecho, el negocio est√° perdiendo dinero y a nadie le importa que todo sea verde. </p><br><p>  Debajo de un gato hay muchos ejemplos de la pr√°ctica que prueban este punto de vista.  Veamos por qu√© entender el negocio, c√≥mo monitorear el √©xito desde un punto de vista comercial y por qu√© los desarrolladores comunes lo necesitan. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p> <strong>Sobre el orador:</strong> Leon Fayer naci√≥ en una rep√∫blica que alguna vez fue amigable, pero creci√≥ en los Estados Unidos.  Comenc√© a programar hace muchos a√±os, y durante ese tiempo trabaj√© como programador, gerente, a quien simplemente no trabajaba.  Particip√≥ en nuevas empresas: algunas tuvieron m√°s √©xito y otras no. </p><br><p>  Durante muchos a√±os, Leon ha estado trabajando en OmniTI.  Esta compa√±√≠a se especializa en el desarrollo de sistemas escalables, por lo que Leon tiene una oportunidad √∫nica de dise√±ar y construir sistemas para los sitios m√°s visitados del mundo: Wikipedia, National Geographic, Casa Blanca, MTV, etc. </p><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cu/57/rr/cu57rra5v81t8l-_zftdhh55jfc.jpeg"><br><br><p>  Antes de responder la pregunta ‚Äú¬øC√≥mo medir el √©xito?‚Äù, Debe comprender qu√© significa ‚Äú√©xito‚Äù para usted.  Para cada persona, la respuesta ser√° diferente. </p><br><p>  Si est√° leyendo este art√≠culo, lo m√°s probable es que est√© involucrado con DevOps.  ¬øEres m√°s Dev que Ops?  O, por el contrario, ¬øm√°s operaciones que Dev?  Para Dev y Ops, la definici√≥n de √©xito es un poco diferente: para Dev, por supuesto, est√° probando. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9zB1eytkgYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  <strong>Prueba</strong> <br></h2><br><p>  Para m√≠, como programador, las pruebas exitosas significan que todo est√° en orden, todo est√° bien, todo funciona, puede ejecutarlo en producci√≥n.  El problema es que tambi√©n soy c√≠nico y <strong>no soy fan√°tico de las pruebas</strong> como tal.  No porque sea dif√≠cil y no porque sea largo, sino porque las pruebas no me dan lo que quiero. </p><br><img src="https://habrastorage.org/webt/dx/l9/ss/dxl9ss8vyirqtcdsev6zhmmcvyq.jpeg"><br><br><p>  Enti√©ndeme correctamente, la <strong>prueba es un proceso obligatorio</strong> , debe incluirse en cualquier proyecto, pero claramente <strong>no es suficiente para garantizar el √©xito</strong> . </p><br><p>  Hay muchas opciones de prueba diferentes: </p><br><ul><li>  pruebas de rendimiento; <br></li><li>  pruebas de usuario; <br></li><li>  prueba autom√°tica ... <br></li></ul><br><img src="https://habrastorage.org/webt/0x/v-/nm/0xv-nmknmwzidotzt46aoriitkk.jpeg"><br><br><p>  ¬øCu√°ntos m√©todos de prueba usa: 1, 2, 3, 5?  ¬øY qu√©, no est√°s despierto por la noche alerta?  ¬øFunciona todo en producci√≥n? </p><br><p>  El problema es que las pruebas <strong>dan la ilusi√≥n de √©xito</strong> .  Est√° predeterminado: sabemos que el tren debe abandonar el punto A y llegar al punto B, para esto estamos probando.  Hay opciones que estamos considerando.  Si el tren se cae del volante o se queda sin madera, esto no ser√° una sorpresa.  Pero no probamos, por ejemplo, el robo de trenes.  No podemos probar esto porque no sabemos que tal opci√≥n sea posible. </p><br><p>  Hay un par de problemas debido a que las pruebas simplemente no son suficientes.  El primero, por supuesto, <strong>es un problema de datos</strong> .  El hecho de que la tarea funcione localmente, pero por alguna raz√≥n no funciona en producci√≥n, es un problema est√°ndar. </p><br><p>  No importa cu√°nto lo intentemos.  No importa cu√°ntas r√©plicas hagamos en vivo: el desarrollo y la producci√≥n nunca ser√°n iguales.  Habr√° otra fila en la base de datos, habr√° otra solicitud adicional; siempre habr√° algo en producci√≥n que no esper√°bamos. </p><br><blockquote>  Wolfe + 585 - el apellido m√°s largo del mundo: <br><br>  <em>Hubert blaine</em> <em><br></em>  <em>Wolfeschlegelsteinhausenbergerdorffwelchevoralternwaren-gewissenhaftschaferswessenschafewarenwohlgepflegeundsorgfaltigkeitbeschutzen-vorangreifendurchihrraubgierigfeindewelchevoralternzwolfhunderttausendjahres-vorandieerscheinenvonderersteerdemenschderraumschiffgenachtmittungsteinund-</em> siebeniridiumelektrischmotorsgebrauchlichtalsseinursprungvonkraftgestartsein-langefahrthinzwischensternartigraumaufdersuchennachbarschaftdersternwelchege-habtbewohnbarplanetenkreisedrehensichundwohinderneuerassevonverstandig-menschlichkeitkonntefortpflanzenundsicherfreuenanlebenslanglichfreudeundruhe-mitnichteinfurchtvorangreifenvorandererintelligentgeschopfsvonhinzwischensternartigraum, <em><br></em>  <em>Sr.</em> <br><br>  Pocos sistemas sobrevivir√°n si alguien ingresa ese apellido en el formulario.  S√© al menos 5 puntos diferentes donde todo el sistema puede volar. <br></blockquote><p>  Por lo tanto, el segundo problema es el <strong>problema con los usuarios</strong> . </p><br><img src="https://habrastorage.org/webt/ne/jx/cb/nejxcbjoleozn-jfohfpwcxkdng.jpeg"><br><br><p>  Estas son personas tan interesantes que romper√°n cualquier cosa.  <strong>Si no hubiera usuarios, todo ser√≠a mucho m√°s f√°cil, para ser honesto.</strong> </p><br><p>  Incluso si hay un bot√≥n en su interfaz de usuario, todav√≠a encontrar√°n un m√©todo para romper lo que estamos haciendo. </p><br><p>  El mejor ejemplo es <strong>World of Warcraft</strong> . </p><br><img src="https://habrastorage.org/webt/1s/9a/_2/1s9a_2mdxunmxk7leoywjrsucoa.jpeg"><br><br><p>  Para aquellos que no saben, este es un juego en l√≠nea jugado por 10 millones de personas.  Hubo un tiempo en que hubo errores bastante legendarios.  El error de sangre corrupto es un ejemplo perfecto de c√≥mo los usuarios estropean todo. </p><br><p>  Como con cualquier juguete, en World of Warcraft nuevos contenidos, nuevas ideas, nuevos jefes aparec√≠an constantemente.  Uno de los nuevos jefes maldijo a uno de los 40 jugadores del grupo.  El principio de la maldici√≥n era como una bomba de tiempo: lentamente le quit√≥ la vida a todos los que estaban a su alrededor.  Es decir, era necesario huir hacia un lado: hab√≠a toda una mec√°nica.  Y todo estuvo bien hasta que, en alg√∫n momento, uno de los jugadores decidi√≥ teletransportarse a la ciudad durante la batalla ... </p><br><img src="https://habrastorage.org/webt/ku/qd/yv/kuqdyvntv9lwx-ttgyshm4htr9a.jpeg"><br><br><p>  En la ciudad hab√≠a miles de personas de todos los niveles, los m√°s peque√±os tambi√©n.  No solo eso, todav√≠a hab√≠a personajes no jugadores que tambi√©n se infectaron con una maldici√≥n.  <strong>Durante el d√≠a, los servidores estaban vac√≠os.</strong>  Era imposible ir a cualquier parte, donde hab√≠a otros jugadores.  Se convirti√≥ en una plaga de juegos en el verdadero sentido de la palabra.  Tuve que reiniciar todos los servidores para eliminar la maldici√≥n y cambiar la mec√°nica.  Y todo por un probador: ni siquiera s√© c√≥mo llamarlo. </p><br><p>  El tercer problema principal es el <strong>problema con la dependencia externa</strong> .  Todos nos encontramos con esto: la API de la que depende de repente deja de funcionar;  o dejas de controlar la API. </p><br><p>  Pero hay un problema mayor con esto.  La dependencia externa puede ser no solo directa, sino tambi√©n indirecta.  Todos usamos OpenSource ahora.  Cada producto OpenSource depende de algunas bibliotecas, que tambi√©n son OpenSource y que son compatibles con otra persona.  Cuando algo se rompe, se rompe no solo en este peque√±o m√≥dulo, sino en todo lo que depende de √©l. </p><br><p>  Probablemente el ejemplo m√°s ideal fue recientemente, hace aproximadamente un a√±o, este es el <strong>panel</strong> <strong>izquierdo</strong> .  Este es un m√≥dulo npm en node.js que expone espacios antes de la cadena (al comienzo de una l√≠nea).  No discutiremos por qu√© se hizo este m√≥dulo.  Pero resulta que se incluy√≥ en muchos m√≥dulos populares.  En alg√∫n momento, el autor decidi√≥ que ten√≠a suficiente, elimin√≥ este m√≥dulo de npm y vol√≥ el <strong>70% del c√≥digo escrito en node.js.</strong> </p><br><p>  Si cree que este es un caso aislado, est√° equivocado. </p><br><p>  Tambi√©n est√° el m√≥dulo is-impar, que ahora est√° en npm.  Este m√≥dulo define un n√∫mero par o no. </p><br><img src="https://habrastorage.org/webt/yw/uk/kk/ywukkkmmz4jywmzqdxrewq0cyzq.jpeg"><br><br><p>  No discutiremos el hecho de que 3 millones de personas no saben c√≥mo verificar la paridad / rareza.  ¬°Pero hay 12 m√≥dulos m√°s que lo usan!  Y no se sabe cu√°ntos de estos m√≥dulos todav√≠a est√°n usando los m√≥dulos.  Si te parece que no hay nada que romper, ¬°hay 5 versiones! </p><br><p>  Volviendo a nuestras ovejas, hay muchas m√°s opciones: </p><br><ul><li>  <strong>Miop√≠a</strong> : no sabemos qu√© suceder√° en el futuro.  Y2K es un ejemplo perfecto.  Nadie pens√≥ que en 2000 todo lo escrito en Kobol volar√≠a. <br></li><li>  <strong>N√∫mero de opciones de prueba</strong> . <br></li></ul><br><p>  Hay un buen ejemplo de nuevo con World of Warcraft: tienen muchos buenos ejemplos sobre este tema. </p><br><p>  Seis meses despu√©s del lanzamiento del juego, comenzaron a llegar llamamientos en apoyo de que algunos jugadores no pod√≠an entrar en una cueva.  Result√≥ que solo una versi√≥n de raza y g√©nero no pod√≠a entrar en esta cueva: estos eran tauren femeninos. </p><br><p>  ¬øPor qu√© tard√≥ 6 meses en encontrar este error, despu√©s de todo, millones de personas est√°n jugando?  Porque tauren es una raza ficticia, una mezcla de hombre y toro.  La mujer Tauren es una vaca parlante.  Nadie quer√≠a jugar una vaca, por lo que durante 6 meses ni una sola persona alcanz√≥ el nivel m√°ximo para entrar en la cueva y encontrar este error.  En consecuencia, nadie lo prob√≥. </p><br><ul><li>  <strong>Cambio en la fuente de datos.</strong>  Realmente no sabemos qu√© pasar√° ma√±ana. <br></li></ul><br><p>  En cualquier caso, hay pocas pruebas.  Pero las pruebas no dan una cobertura del 100%.  Por lo tanto, las pruebas no garantizan el √©xito.  Esto nos lleva gradualmente a la segunda parte: operaciones.  <strong>Para la explotaci√≥n, el √©xito es el monitoreo</strong> . </p><br><h2>  <strong>Monitoreo</strong> <br></h2><br><p>  Hay muchas razones por las cuales se necesita monitoreo: </p><br><ul><li>  el c√≥digo perfecto no existe; </li><li>  los sistemas se est√°n volviendo m√°s complejos; </li><li>  creciente dependencia externa; </li><li>  anticipaci√≥n -&gt; respuesta; </li><li>  ... </li></ul><br><p>  Se necesita monitoreo porque todo est√° cambiando.  Esta es la raz√≥n principal.  Adem√°s, est√° en producci√≥n, todo cambia constantemente all√≠, y necesitamos detectar esto. </p><br><blockquote>  ¬øQu√© deber√≠a cubrir el monitoreo?  - Eso es!  Esta es una respuesta corta, pero deber√≠a cubrir todo. </blockquote><br><img src="https://habrastorage.org/webt/9z/li/nz/9zlinzjy4vot0ry_dth2sin5ir4.jpeg"><br><br><p>  Todo esto es un poco abstracto.  De hecho, todos tenemos una lista de verificaci√≥n que monitoreamos: </p><br><ul><li>  infraestructura <br></li><li>  Bases de datos <br></li><li>  Aplicaciones <br></li><li>  puntos de integraci√≥n; <br></li><li>  solicitar tiempo de procesamiento; <br></li><li>  carga <br></li><li>  ... <br></li></ul><br><p>  Puede haber un mill√≥n de cosas.  Muchos recopilan cientos, miles y decenas de miles de m√©tricas en sus sistemas. </p><br><p>  Recopilaremos muchas m√©tricas para esto: </p><br><img src="https://habrastorage.org/webt/42/j1/wg/42j1wgx-gxkzhg8f4ha-rbvhela.jpeg"><br><br><p>  Por supuesto, estoy exagerando, pero todo lo que necesitamos desde el punto de vista de Ops es <strong>que</strong> <strong>HTTP devuelva 200</strong> .  Esto significa que todo est√° bien con el sitio.  Una vez que un sitio funciona, significa que las bases de datos funcionan, las aplicaciones funcionan, todo est√° en orden.  Desde el punto de vista de Ops, el √©xito es exactamente eso: todos los gr√°ficos est√°n en la zona verde, todo funciona correctamente, ¬°todo est√° bien! </p><br><img src="https://habrastorage.org/webt/uk/60/7i/uk607ivm8gphbtih32t8vnxthxa.jpeg"><br><br><p>  Todos saben lo que es Twitter.  Procesan 500 millones de tweets por d√≠a, un n√∫mero loco. </p><br><img src="https://habrastorage.org/webt/n_/k-/sd/n_k-sdc0fpklltuu9nnnrkitf_m.jpeg"><br><br><p>  Pero tambi√©n son conocidos por sus errores.  Los errores son legendarios en su complejidad o facilidad: a qu√© lado mirar. </p><br><p>  Se equivocaron: el sitio funcionaba, el cliente pod√≠a escribir un tweet, hacer clic en un bot√≥n, dijeron gracias, el tweet fue enviado, ¬°y eso es todo!  No apareci√≥ en ning√∫n lado y simplemente desapareci√≥, y el monitoreo mostr√≥ que todo estaba en orden.  El sitio devuelve una solicitud 200: la API funciona.  ¬°Pero no hay tweets! </p><br><p>  Tengo una cita favorita de un cliente.  Repar√© problemas en tres pantallas durante una hora, y √©l grit√≥ por qu√© nada funciona.  Cuando trat√© de explicar qu√© problemas estaba solucionando, una persona que escribi√≥ con dos dedos y no entend√≠a c√≥mo usar una computadora me dijo: </p><br><blockquote>  <em>"Mientras siga ganando dinero, es una mierda para m√≠ que los servidores est√©n encendidos".</em> </blockquote><p>  De alguna manera, esto es muy correcto, y el ejemplo de Twitter lo confirma: todas las m√©tricas mostraron que todo estaba en orden desde el punto de vista de los desarrolladores, pero desde el punto de vista del trabajo del negocio, no estaba en absoluto en orden. </p><br><p>  Para ser sincero, todos tenemos la culpa.  Por supuesto, las compa√±√≠as que producen productos de monitoreo son las principales culpables.  Pero nosotros tambi√©n, porque tradicionalmente recopilamos m√©tricas del sistema.  Estamos acostumbrados a trabajar con sistemas peque√±os, uno, quiz√°s dos servidores.  Si funcionan, entonces todo est√° en orden. </p><br><p>  Ahora tenemos un poco m√°s de servidores que dos, o incluso 10, y solo medir la salud del sistema o la salud del programa no es suficiente.  Debemos rastrear el trabajo de otra cosa. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p>  Volviendo a la cotizaci√≥n, no me pagan por que todo sea verde.  Me pagan para que mis usuarios o mis gerentes est√©n satisfechos; <strong>alguien deber√≠a estar contento con el resultado</strong> .  Si todos los usuarios est√°n descontentos, a nadie le importa que todo sea verde. </p><br><h2>  <strong>Monitoreo de negocios</strong> <br></h2><br><p>  Dijimos que se necesita monitoreo porque todo est√° cambiando.  Pero cuando todo cambia, los cambios afectan al negocio: algo se ha roto, el dinero ha dejado de llegar, algo ha sido reparado, el dinero ha comenzado a fluir nuevamente, una correlaci√≥n directa.  O no influyen en ello, pero si no controlamos el negocio, no lo sabemos. </p><br><p>  Como ejemplo vivo, el gr√°fico de lectura de cach√© es familiar para todos. </p><br><img src="https://habrastorage.org/webt/yt/ou/qy/ytouqyev9gs9_icsgbr7r6iobdk.jpeg"><br><br><p>  El 90% del tiempo, todo est√° en orden, casi todas las solicitudes van al cach√©.  Y de repente algo sucedi√≥, y muy serio.  Este es un problema que deber√≠a despertarse a las 3 de la ma√±ana, alguien que lo resolver√°.  Pero, si la velocidad de descarga para los usuarios no cambia, ¬øes realmente un problema? </p><br><img src="https://habrastorage.org/webt/c4/0_/_c/c40__ceffwlzwrbbsarajjsuxae.jpeg"><br><br><p>  En ingl√©s existe el t√©rmino Observabilidad - observabilidad.  Estos son: monitoreo, registro, alertas.  Por lo tanto, el t√©rmino monitoreo es un poco.  Queremos observar todo: recopilar m√©tricas del sistema en cada nodo, si es necesario.  Pero queremos monitorear el negocio, porque emociona a todos.  Este es un indicador de √©xito. </p><br><p>  Para hacer esto, debemos: </p><br><p>  1. Comprenda el problema: qu√© es exactamente lo que necesitamos monitorear. </p><br><p>  2. Determine la l√≠nea de base, es decir, ¬øes suficiente que la velocidad de descarga del usuario no haya cambiado para que nadie se despierte en medio de la noche cuando la lectura del cach√© ha dejado de funcionar? </p><br><p>  3. La correlaci√≥n de datos es uno de los factores m√°s importantes.  Si el marketing recopila datos sobre ingresos, y usted recopila datos en servidores y no puede comparar estas dos observaciones, entonces tienen muy poco significado. </p><br><p>  Usualmente doy muchos ejemplos.  No importa cu√°n absurdos se vean, todos son de mi vida, y les dediqu√© muchos nervios. </p><br><p>  Ejemplo: tuve un cliente con 100 millones de usuarios.  Fue una empresa de marketing en Internet que envi√≥ muchos correos electr√≥nicos y utiliz√≥ pruebas A / B.  Para ellos, recolectamos 6 mil m√©tricas. </p><br><p>  Todo, como siempre, comenz√≥ con una llamada.  Suena el tel√©fono, significa que sucedi√≥ algo. </p><br><blockquote>  " <em>Tenemos un problema".</em>  <em>Algo no funciona.</em> <br><br>  - Bien, ¬øqu√© no funciona exactamente?  ¬øEn qu√© se expresa esto? <br><br>  <em>- Comenzamos a recibir menos ingresos.</em> <br><br>  - y? <br><br>  <em>- Algo no funciona en el sistema.</em> <br><br>  - No lo entiendo.  Si tiene menos ingresos, hable con su equipo de ventas.  ¬øPor qu√© me llamas? <br><br>  <em>- No, estoy seguro de que algo en el sistema no funciona.</em> <br><br>  - Muy bien, veamos. </blockquote><p>  Gracias a Dios ten√≠amos una m√©trica de ingresos, por lo que pudimos ver.  El gr√°fico realmente muestra que en alg√∫n momento sus ingresos cayeron un 15%.  Dado el n√∫mero de usuarios, esto es bastante significativo. </p><br><p>  Vale, tengo que mirar.  En primer lugar, compruebo la velocidad de descarga: normal. </p><br><img src="https://habrastorage.org/webt/gd/og/ea/gdogeadybayuvxe_bfnolgniyv0.jpeg"><br><br><p>  Observamos la carga en la base de datos: todo est√° dentro de l√≠mites razonables, parece que nada ha cambiado.  Luego comenzamos a mirar la carga de la CPU, los nodos individuales, los cach√©s. </p><br><img src="https://habrastorage.org/webt/al/rv/dl/alrvdlq8vs1m2phcwiqhz1ha-ni.jpeg"><br><br><p>  Todo estaba en orden. Hasta que llegamos a las m√©tricas del bolet√≠n electr√≥nico.  Uno de los grandes proveedores puso accidentalmente su dominio en la lista negra.  El porcentaje de su marketing por correo electr√≥nico ha dejado de llegar a los usuarios, lo que significa que menos personas: recibieron cartas, hicieron clic en el bot√≥n, fueron al sitio y compraron algo. </p><br><p>  ¬°Aqu√≠ hay tal correlaci√≥n! </p><br><p>  Somos afortunados de tener estas m√©tricas.  Si no los tuvi√©ramos, los agregar√≠amos; esta es una respuesta muy simple. </p><br><p>  El error m√°s grande que comete la gente es creer que el monitoreo se puede poner al final del proyecto.  Es como una caracter√≠stica: hacer su propio proyecto, poner en marcha el monitoreo, y eso es todo, ¬°estamos listos! </p><br><p>  La instrumentaci√≥n nunca puede ser terminada.  Siempre hay problemas que se desconocen desde el principio.  Al igual que con las pruebas, no puede escribir pruebas y cubrir todo, porque no sabe qu√© es "todo".  No sabemos c√≥mo predecir el futuro y no sabemos c√≥mo predecir un negocio, por lo que no sabemos qu√© es "todo". </p><br><p>  Un ejemplo absolutamente id√©ntico a lo que estoy hablando.  Fue el CEO, que se despert√≥ en una conferencia en Par√≠s por la ma√±ana, bebi√≥ caf√©, mir√≥ su correo y su estado de resultados, y me llam√≥ con el mismo problema: los ingresos cayeron. </p><br><p>  Lo recuerdo bien, porque ten√≠a 9 de la ma√±ana y yo ten√≠a 6 horas antes, tambi√©n el s√°bado.  Acabo de ser transportado a casa desde una fiesta de cumplea√±os, pero eso no importa.  Entonces, a las 3 de la ma√±ana, me siento en la computadora y comenzamos a seguir los mismos pasos.  Es decir, observamos la carga en el sistema, el n√∫mero de registro, en absoluto. </p><br><p>  La √∫nica desviaci√≥n de la norma que encontramos es un porcentaje menor de autorizaciones exitosas.  Es decir, la cantidad es la misma, pero el porcentaje es ligeramente menor.  S√© que esto podr√≠a ser spam, etc.  Pero todas las dem√°s m√©tricas t√©cnicas son absolutamente normales.  Y llegamos al punto en el que casi est√°bamos caminando a lo largo de las l√≠neas en la base de datos y tratando de verificar si hab√≠a algo que pudiera ser atrapado por el ojo.  Absolutamente nada! </p><br><p>  Nos sentamos medio domingo, continuamos el lunes tambi√©n, pero ya est√°bamos seguros de que el problema no era t√©cnico.  D√©jelos decidirlo ellos mismos.  Y aqu√≠ el lunes me siento en el trabajo y un empleado de su departamento de contabilidad me llama: </p><br><blockquote>  <em>- Escucha, ¬øpuedes ayudarme r√°pido?</em> <br><br>  - ¬øQu√© necesitas? <br><br>  <em>- ¬øPuedes quitar la insignia de American Express del sitio?</em> <br><br>  - Por supuesto que puedo!  ¬øPor qu√© de repente? <br><br>  <em>- Sabes, discutimos con ellos aqu√≠, y hasta que aceptemos a los estadounidenses.</em> <em><br></em>  <em>Expresar en general.</em> <br><br>  "Pido disculpas por preguntar, ¬øcu√°ndo dejaste de tomarlos?" <br><br>  <em>- Antes del fin de semana, en mi opini√≥n, el viernes o el s√°bado</em> . <br></blockquote><p>  ¬°Nadie en su sano juicio jam√°s pondr√≠a una colecci√≥n m√©trica en el porcentaje de autorizaciones de un determinado tipo de tarjeta de cr√©dito!  Despu√©s de este incidente, por supuesto, nos pusimos en marcha. </p><br><p>  ¬øPor qu√© te estoy diciendo esto?  Primero debe mirar el negocio, porque todos estos problemas sist√©micos eran simplemente invisibles.  No despertaron a nadie en medio de la noche, no vimos que estos fueran problemas.  Es f√°cil notar una ca√≠da en los ingresos, y todo lo dem√°s debe ser rastreado para que pueda correlacionar estos datos con los datos comerciales. </p><br><img src="https://habrastorage.org/webt/es/ra/16/esra161fb2rmul7io-kerjiteqw.jpeg"><br><br><h2>  <strong>√âxito para los negocios</strong> <br></h2><br><p>  Para una empresa, el √©xito puede ser diferente; depende de los objetivos.  Lo m√°s importante, ¬øc√≥mo se puede medir esto?  Tradicionalmente, medimos el rendimiento del sistema, a veces como ingenieros, olvidando que puede medir cualquier cosa. </p><br><p>  Por ejemplo, puedes medir tu propio alcoholismo.  Por cierto, no estoy bromeando.  En nuestra oficina hay una cerveza de barril con cuatro grifos.  Como todos somos ingenieros, mi colega decidi√≥ ponerse los sensores Raspberry Pi para ver cu√°nta cerveza bebemos y cu√°l. </p><br><img src="https://habrastorage.org/webt/m-/wl/rx/m-wlrxgmno-iuvpti99yfolzcto.jpeg"><br><br><p>  Parece una broma simple, pero en realidad es conveniente, porque vemos cuando la cerveza llega a su fin y necesitamos reemplazar el barril.  En general, podemos ver cu√°ndo las personas beben, qu√© cerveza les gusta m√°s: oscura, clara, etc.  Por cierto, el pico es mi cumplea√±os. </p><br><img src="https://habrastorage.org/webt/vq/p6/e5/vqp6e5zfksaadwu840k7pgomvtg.jpeg"><br><br><p>  Absolutamente por casualidad, encontramos otra aplicaci√≥n para esto. </p><br><img src="https://habrastorage.org/webt/xz/x2/qu/xzx2quf2ztopidlzsdeqtgt4i9m.jpeg"><br><br><p>  El gr√°fico muestra el consumo de cerveza durante varios d√≠as y fines de semana.  Para el fin de semana, el consumo de alcohol generalmente disminuye, casi desaparece.  Un d√≠a llegamos el lunes, miramos el horario y vemos que alguien el s√°bado bebi√≥ un cuarto de barril de cerveza.  El gr√°fico muestra el tiempo exacto dentro de media hora.  Result√≥ que los limpiadores que vinieron el s√°bado ten√≠an resaca, por lo que ten√≠an resaca. </p><br><p>  Una broma, pero al final tuvieron serios problemas, porque generalmente es malo beber en el trabajo, ¬°e incluso la cerveza de otra persona! </p><br><p>  Al final, cualquier m√©trica puede ser √∫til.  Incluso esta m√©trica, que recopilamos exclusivamente para nuestro propio fan√°tico, result√≥ ser importante en otra cosa.  Pero b√°sicamente, las m√©tricas realmente necesarias se reducen al dinero.  El dinero es lo m√°s importante para los negocios. </p><br><p>  Por lo general, el criterio para el √©xito de un negocio es algo que finalmente involucra dinero: </p><br><ul><li>  ganancia <br></li><li>  ingreso <br></li><li>  costos <br></li><li>  efectividad. <br></li></ul><br><p>  M√©tricas comerciales: </p><br><ul><li>  Registro <br></li><li>  compras; <br></li><li>  vistas de anuncios </li><li>  conversiones </li><li>  porcentaje de retorno; </li><li>  cantidad de cerveza borracha </li></ul><br><p>  Todo esto tiene un equivalente monetario. ,  ,         ‚Äî  ,  .      ,         . </p><br><p> <strong>     .</strong>       . ,   ,      . </p><br><img src="https://habrastorage.org/webt/gd/5l/wp/gd5lwpvgesv-wtaknruovqaecu8.jpeg"><br><br><p> ,   ‚Äî  .    ,   ‚Äî ,  ‚Äî ,    .  ,       ‚Äî 99-   , SLA  . </p><br><p>          ,   ,    -. </p><br><img src="https://habrastorage.org/webt/wd/ig/lr/wdiglrk_vevyzxl383uetn8vld8.jpeg"><br><br><p>     ,    .  ,       ,    ,   .     ,     . </p><br><p> <strong>  .</strong>   ,          .      .      . ,       3 ,    . </p><br><p> <strong>  ‚Äî  .</strong>      ,    ,   ,     ,     . </p><br><p>     . </p><br><img src="https://habrastorage.org/webt/re/4g/ta/re4gta60e3fdofuhjyowvaljq2i.jpeg"><br><br><p>   :    ,   ,    ,  - . </p><br><img src="https://habrastorage.org/webt/b-/sx/8f/b-sx8fv_0zig_36337nv_f1yh6g.jpeg"><br><br><p>   ,       . ,      ,    , 50 %      ¬´  ¬ª,      ,    . </p><br><p> <strong>  1 ?</strong> </p><br><p>     1-2   .         .   10 000  ,     .  ,  10 000  ,    - . </p><br><img src="https://habrastorage.org/webt/bn/oj/rs/bnojrsrjayz5wnxjl48djlajqrm.jpeg"><br><br><p>      1 .         600-700 . , 600  ‚Äî     ,      .    ,   ,      .   800   ,    ,       ‚Äî   . </p><br><p> ,      ,      .     0 ,  -   ,   !       . </p><br><p> <strong>  </strong> ,   - .     ‚Äî      ,            . </p><br><img src="https://habrastorage.org/webt/x9/ex/dj/x9exdjlbjtksu92-b_g-lyyanoy.jpeg"><br><br><p>     99-  50- ,     .  ,      . </p><br><p>   ,      ‚Äî  ,     DevOps    ‚Äî    . </p><br><h2> <strong> </strong> <br></h2><br><p>       ,      ,        . </p><br><p> Value stream mapping ‚Äî         .     ,    . ,    ,    ,   ,    ,   .   ,      ,   . </p><br><p>    : </p><br><ol><li> MTTD (mean time to discovery) ‚Äî     ,   . </li><li> MTTR (mean time to recovery) ‚Äî     ,   . </li><li>      ,      . </li><li> /  . </li></ol><br><blockquote>    ,  ,      ,     ,     .    : ¬´       ‚Äî     .    ,     ,     ¬ª. </blockquote><p>    ,    ,  .       ,    . </p><br><p>   <strong>     </strong> .      ,    ‚Äî  ,    ,    .        ,   . <strong>  </strong> . </p><br><p>    ‚Äî   ,      ,         .  ,    ,   ,      .      ‚Äî    . </p><br><blockquote> <strong>1  2   </strong>       ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DevOpsConf Russia</a> . <br><br>        DevOps,               ,    ,    .   ,          ,   . <br><br>   ,  <strong>,      </strong> . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418975/">https://habr.com/ru/post/es418975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418961/index.html">Solicite un monitor en lugar de una impresora t√©rmica de cocina</a></li>
<li><a href="../es418963/index.html">Revisi√≥n del robot de escritorio DoBot Magician</a></li>
<li><a href="../es418969/index.html">¬øC√≥mo son los √∫ltimos d√≠as de la carrera a $ 1 bill√≥n? (UPD.: Apple gan√≥)</a></li>
<li><a href="../es418971/index.html">Los mapas de radiaci√≥n de J√∫piter son la clave para una nueva exploraci√≥n en Europa</a></li>
<li><a href="../es418973/index.html">Conozca DevOpsConf Rusia</a></li>
<li><a href="../es418977/index.html">Servidor de World of Tanks de fiabilidad</a></li>
<li><a href="../es418979/index.html">Mientras volaba por todo el pa√≠s, implementando un proyecto para varios miles de empleos</a></li>
<li><a href="../es418981/index.html">M√©todos num√©ricos para resolver ecuaciones el√≠pticas.</a></li>
<li><a href="../es418985/index.html">An√°lisis y dise√±o en su conjunto.</a></li>
<li><a href="../es418987/index.html">Firefox evita f√°cilmente la protecci√≥n en la nueva interfaz de Gmail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>