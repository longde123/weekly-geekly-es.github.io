<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ñ´Ô∏è üé° üåæ IDE einer normalen Person oder warum wir uns f√ºr Monaco entschieden haben ü•å ‚õ±Ô∏è üèûÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anmerkung des Herausgebers 
 Im letzten Artikel haben wir √ºber die Ver√∂ffentlichung des Voximplant-Kontrollfelds gesprochen, nicht zu vergessen die ak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IDE einer normalen Person oder warum wir uns f√ºr Monaco entschieden haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/445390/"><h2>  Anmerkung des Herausgebers </h2><br>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Artikel haben</a> wir √ºber die Ver√∂ffentlichung des Voximplant-Kontrollfelds gesprochen, nicht zu vergessen die aktualisierte IDE.  Heute widmen wir diesem Tool einen eigenen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Longride</a> - unser Kollege <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Geloosa</a> hat sowohl den Prozess der Auswahl einer Technologie als auch die Implementierung mit Registerkarten, automatischer Vervollst√§ndigung und benutzerdefinierten Stilen sorgf√§ltig beschrieben.  Setzen Sie sich bequemer hin, legen Sie den Rest Ihrer Angelegenheiten beiseite und gehen Sie zum Ger√§t, wo die Eingeweide von Monaco auf die Neugierigen warten - rutschen Sie nicht aus, es gibt viele davon :) Viel Spa√ü beim Lesen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t1/vr/8x/t1vr8xlaaladvtlhhi47hm4ihsg.png" width="700"></div><a name="habracut"></a><br><h2>  Welche Bibliothek soll f√ºr den Code-Editor ausgew√§hlt werden? </h2><br>  Npm erzeugt mehr als 400 Ergebnisse f√ºr den Code-Editor.  Zum gr√∂√üten Teil sind dies UI-Wrapper einiger der beliebtesten Bibliotheken, die f√ºr ein bestimmtes Framework oder Projekt erstellt wurden, Plugins f√ºr dieselben Bibliotheken oder deren Gabeln mit √Ñnderungen f√ºr sich selbst und auch nicht zum Bearbeiten von Code im Browser, der einfach √ºber Schl√ºsselw√∂rter in die Suchergebnisse gelangt ist.  Zum Gl√ºck ist die Auswahl also viel enger.  Noch ein paar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bibliotheken</a> - a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CodeFlask</a> , leichtgewichtig, aber nicht sehr funktional, entwickelt f√ºr kleine Schnipsel und interaktive Beispiele, aber nicht f√ºr eine vollwertige Web-IDE mit der Funktionalit√§t, die wir in Desktop-Editoren gewohnt sind. <br><br>  Am Ende haben wir 3 Bibliotheken zur Auswahl: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ace</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CodeMirror</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Monaco Editor</a> .  Das fr√ºheste davon, CodeMirror, war eine private Initiative des Berliner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Marijn Haverbeke</a> , der in seinem Online-Tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eloquent JavaScript</a> einen √úbungscode-Editor ben√∂tigte.  Die erste Version des Editors wurde 2007 ver√∂ffentlicht.  2010 wurde die erste Version von Ace auf der JSConf.eu im selben Berlin vorgestellt, die Ajax.org dann f√ºr seine Cloud-IDE Cloud9 entwickelte (tats√§chlich steht Ace f√ºr Ajax.org Cloud9 Editor).  Im Jahr 2016 wurde Cloud9 von Amazon gekauft und ist jetzt Teil von AWS.  Der neueste Monaco Editor ist Bestandteil von VS Code und wurde Ende 2015 von Microsoft ver√∂ffentlicht. <br><br>  Jeder Editor hat seine eigenen St√§rken und Schw√§chen, jeder wird in mehr als einem gro√üen Projekt verwendet.  Beispielsweise wird CodeMirror in den Chrome- und Firefox-Entwicklertools, einer IDE in Bitbucket, in RunKit in npm verwendet.  Ass - an der Codecademy, Khan Academy, MODX;  Monaco - in der GitLab IDE und CodeSandbox.  Das folgende Vergleichsdiagramm kann Ihnen bei der Auswahl der f√ºr Ihr Projekt am besten geeigneten Bibliothek helfen. <br><br><table><tbody><tr><td></td><td colspan="3" align="center">  Bibliotheken </td></tr><tr><td></td><td>  Ass </td><td>  CodeMirror </td><td>  Monaco </td></tr><tr><td>  Entwickler </td><td>  Cloud9 IDE (Ajax.org), <br>  jetzt Teil von AmazonMozilla </td><td>  Marijn Haverbeke </td><td>  Microsoft </td></tr><tr><td>  Browser-Unterst√ºtzung </td><td>  Firefox ^ 3.5 <br>  Chrome <br>  Safari ^ 4.0 <br>  IE ^ 8.0 <br>  Oper ^ 11.5 </td><td>  Firefox ^ 3.0 <br>  Chrome <br>  Safari ^ 5.2 <br>  IE ^ 8.0 <br>  Opera ^ 9.2 </td><td>  Firefox ^ 4.0 <br>  Chrome <br>  Safari (v -?) <br>  IE ^ 11.0 <br>  Opera ^ 15.0 </td></tr><tr><td>  Sprachunterst√ºtzung <br>  (Syntaxhervorhebung) </td><td>  &gt; 120 </td><td>  &gt; 100 </td><td>  &gt; 20 </td></tr><tr><td>  Anzahl der Zeichen in <br>  neueste Versionen auf <br>  cndjs.com </td><td>  366 608 (v1.4.3) </td><td>  394,269 (v5.44.0) </td><td>  2,064,949 (v0,16,2) </td></tr><tr><td>  Das Gewicht der neuesten Versionen, <br>  gzip </td><td>  2,147 KB </td><td>  1,411 KB </td><td>  10.898 KB </td></tr><tr><td>  Rendern </td><td>  Dom </td><td>  Dom </td><td>  DOM und teilweise &lt;canvas&gt; <br>  (zum Scrollen und Minikarten) </td></tr><tr><td>  Die Dokumentation </td><td>  7 von 10: keine Suche, nicht immer klar <br>  dass Methoden zur√ºckkehren, gibt es Zweifel <br>  in Vollst√§ndigkeit und Relevanz <br>  (Nicht alle Links funktionieren im Dock) </td><td>  6 von 10: zusammengef√ºhrt mit Benutzerhandbuch, <br>  Suche mit Strg + F, <br>  Es bestehen Zweifel an der Vollst√§ndigkeit </td><td>  9 von 10: sch√∂n, mit Suche und <br>  Querverweis <br>  -1 Punkt mangels Erkl√§rung <br>  zu einigen Flags, deren Anwendung <br>  nicht ganz offensichtlich aus dem Namen </td></tr><tr><td>  Schnellstart-Demos </td><td>  How-to - Textdokumente mit Codebeispielen, <br>  separat gibt es demos mit codebeispielen <br>  (wahr, sie sind auf verschiedenen Seiten verstreut, <br>  nicht jeder arbeitet und sie werden am einfachsten √ºber Google gesucht), <br>  Es gibt eine Demo, in der Sie verschiedene Funktionen ber√ºhren k√∂nnen. <br>  Es wird jedoch vorgeschlagen, sie √ºber UI-Steuerelemente zu verwalten. <br>  das hei√üt, dann m√ºssen wir immer noch separat nach Methoden suchen <br>  um sie zu verbinden </td><td>  How-to sind wirklich arm <br>  Im Grunde ist alles auf Github verstreut <br>  und Stackoverflow, aber es gibt Demos von Funktionen mit Beispielen <br>  Code f√ºr ihre Implementierung </td><td>  Kombiniert im Format eines Spielplatzes: <br>  Code mit Kommentaren und einer Reihe von Demos k√∂nnen Sie <br>  sofort versuchen und bewerten <br>  viele M√∂glichkeiten </td></tr><tr><td>  Gemeinschaftsaktivit√§t </td><td>  Durchschnitt </td><td>  Hoch </td><td>  Durchschnitt </td></tr><tr><td>  Entwickleraktivit√§t </td><td>  Durchschnitt </td><td>  Durchschnitt </td><td>  Hoch </td></tr></tbody></table><br>  Es macht keinen Sinn, Bibliotheken nach Gr√∂√üe zu vergleichen, da alles davon abh√§ngt, was und wie eine Verbindung f√ºr ein bestimmtes Projekt hergestellt werden soll: Laden Sie die fertige Datei mit einem der Builds (die ebenfalls variieren) oder f√ºhren Sie das npm-Paket √ºber eine Art Kollektor aus.  Und das Wichtigste ist, wie oft der Editor verwendet wird: ob alle Stile und Themen geladen sind, wie viele und welche Add-Ons und Plug-Ins verwendet werden.  In CodeMirror sind beispielsweise die meisten Funktionen, die in Monaco und Ace sofort verf√ºgbar sind, nur mit Add-Ons verf√ºgbar.  Die Tabelle zeigt die Anzahl der Zeichen in den letzten Versionen auf dem CDN und das Gewicht ihrer komprimierten Dateien, um eine allgemeine Vorstellung davon zu erhalten, um welche Bestellungen es sich handelt. <br><br>  Alle Bibliotheken verf√ºgen √ºber ungef√§hr die gleichen Grundfunktionen: automatische Formatierung von Code, Falten von Linien, Ausschneiden / Kopieren / Einf√ºgen, Hotkeys, die M√∂glichkeit, neue Syntaxen zum Hervorheben und Ordnen hinzuzuf√ºgen, Syntaxpr√ºfung (in CodeMirror nur √ºber Add-Ons, in Ace bisher nur f√ºr JavaScript / CoffeeScript / CSS / XQuery), QuickInfos und automatische Vervollst√§ndigung (in CodeMirror - √ºber Add-Ons), erweiterte Suche nach Code (in CodeMirror - √ºber Add-Ons), Methoden zum Implementieren von Registerkarten und Split-Modus, Diff-Modus und ein Zusammenf√ºhrungs-Tool (in CodeMirror) - entweder mit Vor- und Nachteilen in einem Fenster oder mit zwei Feldern durch ein Addon,  Ace - Separate Lieb).  Aufgrund seines Alters wurden viele Add-Ons f√ºr CodeMirror geschrieben, deren Anzahl sich jedoch sowohl auf das Gewicht als auch auf die Geschwindigkeit des Editors auswirkt.  Monaco kann viele Dinge sofort erledigen und meiner Meinung nach besser und in gr√∂√üerem Umfang als Ace und CodeMirror. <br><br>  Wir waren aus mehreren Gr√ºnden in Monaco: <br><br><ol><li>  Die am weitesten entwickelten Tools, die wir f√ºr unser Projekt als kritisch erachtet haben: <br><ul><li>  IntelliSense - Tipps und automatische Vervollst√§ndigung; </li><li>  Smart Code Navigation im Kontextmen√º und durch Minikarte; </li><li>  Zwei-Panel-Diff-Modus sofort einsatzbereit. </li></ul><br></li><li>  Geschrieben in TypeScript.  Unser Control Panel ist in Vue + Typescript geschrieben, daher war die TS-Unterst√ºtzung wichtig.  √úbrigens unterst√ºtzt Ace k√ºrzlich auch TS, aber es wurde urspr√ºnglich in JS geschrieben.  F√ºr CodeMirror gibt es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typen</a> in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DefinitelyTyped</a> . </li><li>  Es wird am aktivsten darin entwickelt (m√∂glicherweise weil es vor nicht allzu langer Zeit ver√∂ffentlicht wurde), Fehler werden schneller behoben und Pool-Anfragen werden bek√§mpft.  Zum Vergleich hatten wir mit CodeMirror eine traurige Erfahrung, als Fehler jahrelang nicht behoben wurden und wir eine Kr√ºcke auf eine Kr√ºcke legten und eine Kr√ºcke fuhren. </li><li>  Praktische automatisch generierte Dokumentation (die Hoffnung auf Vollst√§ndigkeit gibt) mit Querverweisen zwischen Schnittstellen und Methoden. </li><li>  Nach unserem Geschmack die sch√∂nste Benutzeroberfl√§che (wahrscheinlich auch im Zusammenhang mit der Erstellungszeit) und eine √ºbersichtliche API. </li><li>  Nachdem Ace und CodeMirror Freunde der Entwickler gefragt hatten, welcher der Editoren die meisten Kopfschmerzen verursachte, waren sie f√ºhrend. </li></ol><br>  Separat sollte √ºber die Geschwindigkeit der Arbeit gesagt werden.  Das kostspielige Parsen findet in einem parallelen Worker-Thread statt.  Au√üerdem sind alle Berechnungen durch die Gr√∂√üe des Ansichtsfensters begrenzt (alle Typen, Farben und Renderings werden nur f√ºr die sichtbaren Linien berechnet).  Es beginnt erst zu bremsen, wenn der Code 100.000 Zeilen enth√§lt - Eingabeaufforderungen k√∂nnen f√ºr einige Sekunden berechnet werden.  Ace, das auch Worker f√ºr Heavy Computing einsetzt, erwies sich als schneller: Bei Code gleicher L√§nge werden Eingabeaufforderungen fast sofort angezeigt und es werden schnell 200.000 Zeilen verarbeitet (auf der offiziellen Website wird angegeben, dass selbst 4 Millionen Zeilen kein Problem darstellen sollten Die Schrauben wurden beschleunigt, die Eingabe wurde langsamer und die Eingabeaufforderungen verschwanden nach der ersten Million.  CodeMirror, bei dem es keine parallelen Berechnungen gibt, kann solche Volumes kaum abrufen: Es kann sowohl Text- als auch Syntaxhervorhebungen flackern.  Da 100.000 Zeilen in einer Datei in der realen Welt selten sind, haben wir dies ignoriert.  Selbst mit 40-50 Tausend Zeilen leistet Monaco hervorragende Arbeit. <br><br><h2>  Anschlie√üen von Monaco und Verwenden grundlegender Funktionen (z. B. Integration in Vue) </h2><br><h3>  Verbindung </h3><br>  Hier werde ich Codebeispiele aus vue-Komponenten geben und die entsprechende Terminologie verwenden.  All dies l√§sst sich jedoch problemlos auf jedes andere Framework oder reine JS portieren. <br><br>  Der Quellcode von Monaco kann von der offiziellen Website heruntergeladen und in Ihr Projekt eingef√ºgt werden. Sie k√∂nnen ihn von CDN abholen und √ºber npm eine Verbindung zum Projekt herstellen.  Ich werde √ºber die dritte Option sprechen und mit Webpack bauen. <br><br>  Wir haben einen Monaco-Editor und ein Plug-In f√ºr die Montage bereitgestellt: <br><br><pre><code class="bash hljs">npm i -S monaco-editor npm i -D monaco-editor-webpack-plugin</code> </pre> <br>  F√ºgen Sie in der Webpack-Konfiguration Folgendes hinzu: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... plugins: [ // ... new MonacoWebpackPlugin() ] };</span></span></code> </pre> <br>  Wenn Sie zum Erstellen Vue und vue-cli-service verwenden, f√ºgen Sie vue.config.js hinzu: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... configureWebpack: (config) =&gt; { // ... config.plugins.push(new MonacoWebpackPlugin()); } };</span></span></code> </pre> <br>  Wenn Sie nicht alle Sprachen und Funktionen von Monaco ben√∂tigen, um die Gr√∂√üe des Bundles zu verringern, k√∂nnen Sie <code>MonacoWebpackPlugin</code> Objekt mit den Einstellungen an <code>MonacoWebpackPlugin</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MonacoWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">output</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,     languages: ['markdown'], //     ,     features: ['format', 'contextmenu'] //      })</span></span></code> </pre> <br>  Eine vollst√§ndige Liste der Funktionen und Sprachen f√ºr das Plugin finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h3>  Erstellen und Anpassen eines Editors </h3><br>  Wir importieren den <code>editor</code> und rufen <code>editor.create(el: HTMLElement, config?: IEditorConstructionOptions)</code> , wobei wir das DOM-Element √ºbergeben, in dem wir den Editor als erstes Argument erstellen m√∂chten. <br><br>  In der Editor-Komponente: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.editor</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: auto; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">60vw</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Der Container f√ºr den Editor muss unbedingt die H√∂he so einstellen, dass er nicht Null wird.  Wenn Sie den Editor in einem leeren Div (mit einer H√∂he von Null - Ihrem K.O.) erstellen, schreibt Monaco dieselbe H√∂he in einem Inline-Stil im Editorfenster. <br><br>  Das zweite optionale Argument f√ºr <code>editor.create</code> ist die Editor-Konfiguration.  Es gibt mehr als hundert Optionen. Eine vollst√§ndige Beschreibung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IEditorConstructionOptions-</a> Schnittstelle finden Sie in der Dokumentation. <br><br>  In einem Beispiel legen wir die Sprache, das Thema und den Anfangstext fest und aktivieren den Zeilenumbruch (standardm√§√üig werden sie nicht umbrochen): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">`function hello() { alert('Hello world!'); }`</span></span>, <span class="hljs-attr"><span class="hljs-attr">language</span></span>: <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>, <span class="hljs-attr"><span class="hljs-attr">theme</span></span>: <span class="hljs-string"><span class="hljs-string">'vs-dark'</span></span>, <span class="hljs-attr"><span class="hljs-attr">wordWrap</span></span>: <span class="hljs-string"><span class="hljs-string">'on'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor = editor.create(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$refs.editor, config);</code> </pre> <br>  Die Funktion <code>editor.create</code> gibt ein Objekt mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IStandaloneCodeEditor-</a> Schnittstelle zur√ºck.  √úber diese Funktion k√∂nnen Sie jetzt alles steuern, was im Editor geschieht, einschlie√ülich der √Ñnderung der Anfangseinstellungen: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//        read-only  this.editor.updateOptions({wordWrap: 'off', readOnly: true});</span></span></code> </pre> <br>  Nun zum Schmerz: <code>updateOptions</code> akzeptiert ein Objekt mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IEditorOptions-</a> Schnittstelle, nicht IEditorConstructionOptions.  Sie unterscheiden sich geringf√ºgig: IEditorConstructionOptions ist breiter und enth√§lt die Eigenschaften dieser Editorinstanz sowie einige globale.  <code>updateOptions</code> werden √ºber <code>updateOptions</code> global ge√§ndert - √ºber die Methoden des globalen <code>editor</code> .  Dementsprechend √§ndern sich diejenigen, die sich global √§ndern, f√ºr alle Instanzen.  Unter diesen Optionen ist <code>theme</code> .  Erstellen Sie 2 Instanzen mit unterschiedlichen Themen.  y von beiden wird das letzte sein (hier dunkel).  Die globale Methode <code>editor.setTheme('vs')</code> √§ndert auch das Thema f√ºr beide.  Dies wirkt sich auch auf die Fenster aus, die sich auf einer anderen Seite Ihres SPA befinden.  Es gibt nur wenige solcher Orte, aber Sie m√ºssen ihnen folgen. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// ... this.editor1 = editor.create(this.$refs.editor1, {theme: 'vs'}); this.editor2 = editor.create(this.$refs.editor2, {theme: 'vs-dark'}); // ... </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h3>  Editor l√∂schen </h3><br>  Wenn Sie ein Monaco-Fenster zerst√∂ren, m√ºssen Sie die <code>dispose</code> Methode aufrufen. Andernfalls werden nicht alle Listener gel√∂scht und die danach erstellten Fenster funktionieren m√∂glicherweise nicht richtig und reagieren mehrmals auf einige Ereignisse: <br><br><pre> <code class="javascript hljs">beforeDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor.dispose(); }</code> </pre> <br><h3>  Tabs </h3><br>  Die im Datei-Editor ge√∂ffneten Registerkarten verwenden dasselbe Monaco-Fenster.  Um zwischen ihnen zu wechseln, werden IStandaloneCodeEditor-Methoden verwendet: <code>getModel</code> zum Speichern und <code>setModel</code> zum Aktualisieren des Editor-Modells.  Das Modell speichert Text, Cursorposition und Aktionsverlauf zum R√ºckg√§ngigmachen.  Um ein Modell einer neuen Datei zu erstellen, wird die globale Methode <code>editor.createModel(text: string, language: string)</code> verwendet.  Wenn die Datei leer ist, k√∂nnen Sie kein Modell erstellen und <code>null</code> an <code>setModel</code> : <br><br><div class="spoiler">  <b class="spoiler_title">Code anzeigen</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tabs'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tab'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tab in tabs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">'</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tab.id</span></span></span><span class="hljs-tag">' @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'() =&gt; switchTab(tab.id)'</span></span></span><span class="hljs-tag">&gt;</span></span> {{tab.name}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; private tabs: [ {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 1'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 1;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">}, {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 2'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 2;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">} ]; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } private switchTab(id) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> activeTab = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.tabs.find(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">tab</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> tab.id === id); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (!activeTab.active) { </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    (     )    const model = !activeTab.model &amp;&amp; activeTab.text ? editor.createModel(activeTab.text, 'javascript') : activeTab.model; //          this.tabs = this.tabs.map(tab =&gt; ({ ...tab, model: tab.active ? this.editor.getModel() : tab.model, active: tab.id === id })); //    this.editor.setModel(model); } } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><h3>  Diff-Modus </h3><br>  F√ºr den Diff-Modus m√ºssen Sie beim Erstellen des Editorfensters eine andere <code>editor</code> Methode verwenden - <code>createDiffEditor</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'diffEditor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> // ... mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor, config); } // ...</code> </pre> <br>  Es werden dieselben Parameter wie <code>editor.create</code> , aber die Konfiguration sollte √ºber eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IDiffEditorConstructionOptions-</a> Schnittstelle verf√ºgen, die sich geringf√ºgig von der regul√§ren Editor-Konfiguration unterscheidet. Insbesondere hat sie keinen <code>value</code> .  Vergleichstexte werden nach dem Erstellen des zur√ºckgegebenen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IStandaloneDiffEditor</a> √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">setModel festgelegt</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.diffEditor.setModel({ <span class="hljs-attr"><span class="hljs-attr">original</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 1;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>), <span class="hljs-attr"><span class="hljs-attr">modified</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 2;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>) });</code> </pre> <br><br><h3>  Kontextmen√º, Befehlspalette und Tastenkombinationen </h3><br>  Monaco verwendet sein Nicht-Browser-Kontextmen√º, in dem es eine intelligente Navigation, einen Multi-Cursor zum √Ñndern aller Vorkommen und eine Befehlspalette wie in VS Code (Befehlspalette) mit einer Reihe n√ºtzlicher Befehle und Verkn√ºpfungen gibt, die das Schreiben von Code beschleunigen: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ka/ob/fa/kaobfagb3sdmtmikvocuai96die.png"></div><br><pre>  Monaco Kontextmen√º </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/2s/_c/eg2s_c1kzyqi0eo4yhxo2o-sde4.png"></div><br><pre>  Monaco Befehlspalette </pre><br><br>  Das Kontextmen√º wird durch die <code>addAction</code> Methode erweitert (sie ist sowohl in <code>IStandaloneCodeEditor</code> als auch in <code>IStandaloneCodeEditor</code> <code>IStandaloneDiffEditor</code> ), die ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IActionDescriptor-</a> Objekt akzeptiert: <br><br><div class="spoiler">  <b class="spoiler_title">Code anzeigen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... &lt;div ref='diffEditor' :style='{display: isDiffOpened ? "block" : "none"}'&gt;&lt;/div&gt; // ... //  KeyCode  KeyMod     import {editor, KeyCode, KeyMod} from "monaco-editor"; // ... private editor = null; private diffEditor = null; private isDiffOpened = false; private get activeTab() { return this.tabs.find(tab =&gt; tab.active); } mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor); this.editor = editor.create(this.$refs.editor); this.editor.addAction({ //  ,     . contextMenuGroupId: '1_modification', //   : 1 - 'navigation', 2 - '1_modification', 3 - '9_cutcopypaste'; //    contextMenuOrder: 3, //       label: 'Show diff', id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], //   // ,     //    run: this.showDiffEditor }); } //      private showDiffEditor() { this.diffEditor.setModel({ original: this.activeTab.initialText, modified: this.activeTab.editedText }); this.isDiffOpened = true; }</span></span></code> </pre> <br></div></div><br>  Um eine Verkn√ºpfung nur an eine Aktion zu binden, ohne sie im Kontextmen√º anzuzeigen, wird dieselbe Methode verwendet, nur die <code>contextMenuGroupId</code> der Aktion wird nicht angegeben: <br><br><div class="spoiler">  <b class="spoiler_title">Code anzeigen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //   private myActions = [ { contextMenuGroupId: '1_modification', contextMenuOrder: 3, label: &lt;string&gt;this.$t('scenarios.showDiff'), id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], run: this.showDiffEditor }, // ,   Ctrl + C + L      { label: 'Get content length', id: 'getContentLength', keybindings: [KeyMod.CtrlCmd + KeyCode.Key_C + KeyCode.Key_L], run: () =&gt; this.editor &amp;&amp; alert(this.editor.getValue().length) } ]; mounted() { this.editor = editor.create(this.$refs.editor); this.myActions.forEach(this.editor.addAction); //     }</span></span></code> </pre> <br></div></div><br>  Die Befehlspalette enth√§lt alle hinzugef√ºgten Aktionen. <br><br><h3>  Tipps und automatische Vervollst√§ndigung </h3><br>  F√ºr diese Zwecke verwendet Monaco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IntelliSense</a> , was cool ist.  Sie k√∂nnen auf den Screenshots den Link lesen und sehen, wie viele n√ºtzliche Informationen er anzeigen kann.  Wenn Ihre Sprache noch keine automatische Vervollst√§ndigung hat, k√∂nnen Sie diese √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">registerCompletionItemProvider</a> hinzuf√ºgen.  Und f√ºr JS und TS gibt es bereits eine <code>addExtraLib</code> Methode, mit der Sie TypeScript-Definitionen f√ºr <code>addExtraLib</code> laden und automatisch vervollst√§ndigen k√∂nnen: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... import {languages} from "monaco-editor"; // ... // ,          private myAddedLib = null; mounted() { // languages     Monaco this.myAddedLib = languages.typescript.javascriptDefaults.addExtraLib('interface MyType {prop: string}', 'myLib'); } beforeDestroy() { //  ,   this.myAddedLib &amp;&amp; this.myAddedLib.dispose(); }</span></span></code> </pre> <br>  Im ersten Parameter √ºbergibt die Zeile die Definitionen, im zweiten optional den Namen der Bibliothek. <br><br><h3>  Benutzerdefinierte Sprachen und Themen </h3><br>  Monaco verf√ºgt √ºber ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Monarch-</a> Modul zur Bestimmung der Syntax seiner Sprachen.  Die Syntax wird ganz normal beschrieben: Die Entsprechung zwischen den f√ºr diese Sprache charakteristischen Stammg√§sten und Token wird festgelegt. <br><br><div class="spoiler">  <b class="spoiler_title">Code anzeigen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //  ,    : private myLanguage = { defaultToken: 'text', //  , brackets: [{ open: '(', close: ')', token: 'bracket.parenthesis' }], // ,   , keywords: [ 'autumn', 'winter', 'spring', 'summer' ], //     tokenizer: { root: [{ regex: /\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/, action: { token: 'date' } }, { regex: /(boy|girl|man|woman|person)(\s[A-Za-z]+)/, action: ['text', 'variable'] } ] } }; mounted() { //     languages.register({ id: 'myLanguage' }); //      languages.setMonarchTokensProvider('myLanguage', this.myLanguage); // ... }</span></span></code> </pre> <br></div></div><br>  Sie k√∂nnen auch ein Thema f√ºr Ihre Token erstellen - ein Objekt mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IStandaloneThemeData-</a> Oberfl√§che - und es im globalen <code>editor</code> installieren: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... private myTheme = { base: 'vs', // ,      inherit: true, //       rules: [ {token: 'date', foreground: '22aacc'}, {token: 'variable', foreground: 'ff6600'}, {token: 'text', foreground: 'd4d4d4'}, {token: 'bracket', foreground: 'd4d4d4'} ] }; mounted() { editor.defineTheme('myTheme', this.myTheme); // ... }</span></span></code> </pre> <br>  Nun sieht der Text in der beschriebenen Sprache folgenderma√üen aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gv/b-/3-/gvb-3-3by31loig9rdgmjoy0kb8.png"></div><br>  Sie k√∂nnen diese Funktion so weit anwenden, wie Sie es sich vorstellen.  Zum Beispiel haben wir in unserem Panel einen Anrufprotokoll-Viewer f√ºr Entwickler erstellt.  Protokolle sind oft lang und unverst√§ndlich. Wenn sie jedoch mit Syntaxhervorhebung, intelligenter Suche, Falten / Erweitern von Zeilen, den erforderlichen Befehlen (z. B. Prettify-Parameter) angezeigt werden, alle Anrufleitungen anhand ihrer ID hervorgehoben werden oder die Zeit im Protokoll in eine andere Zeitzone √ºbersetzt wird, graben Sie dann es wird in ihnen viel einfacher (der Screenshot ist anklickbar): <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/4i/5v/rk/4i5vrkhe7g__s_mecfpytcf1gra.png"></a> </div><br><h3>  Fazit </h3><br>  Zusammenfassend werde ich sagen, dass Monaco Feuer ist.  Nach monatelanger Arbeit mit ihm habe ich au√üergew√∂hnlich angenehme Erinnerungen.  Wenn Sie einen Editor f√ºr den Code ausw√§hlen, gehen Sie auf dessen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spielplatz</a> und spielen Sie mit dem Code herum. Sehen Sie, was er sonst noch tun kann.  Vielleicht ist das genau das, wonach Sie suchen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445390/">https://habr.com/ru/post/de445390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445370/index.html">TSDB-Analyse in Prometheus 2</a></li>
<li><a href="../de445372/index.html">Bildverarbeitung vs. menschliche Intuition: Algorithmen zur Unterbrechung des Betriebs von Objekterkennungsprogrammen</a></li>
<li><a href="../de445378/index.html">Labyrinthe: Klassifizierung, Erzeugung, Suche nach L√∂sungen</a></li>
<li><a href="../de445380/index.html">Modernes PHP ist sch√∂n und produktiv</a></li>
<li><a href="../de445384/index.html">Chang'e-4 Mission - wissenschaftliche Ausr√ºstung auf dem Landemodul und dem Repeater-Satelliten</a></li>
<li><a href="../de445392/index.html">Dynamisches Remarketing von MyTarget: nicht pers√∂nliche Produktempfehlungen</a></li>
<li><a href="../de445394/index.html">√Ñnderungen des sicheren 3D-Protokolls: Erf√ºllen Sie 3-D Secure 2.0</a></li>
<li><a href="../de445398/index.html">Gugologie (dies ist kein Tippfehler) f√ºr Programmierer</a></li>
<li><a href="../de445402/index.html">Nachts schie√üen oder warum das Produkt laden - nicht be√§ngstigend</a></li>
<li><a href="../de445406/index.html">√úberblick √ºber das Programm C ++ Russia 2019: Was ist der kommende Tag f√ºr uns?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>