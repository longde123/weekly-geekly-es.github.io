<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏪ 👨🏽‍💼 🎃 Abaisser le niveau de connectivité à l'aide de DI pour améliorer la testabilité du code, exemple d'implémentation 💆 👐🏾 🙎🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au début de l'article, je tiens à noter immédiatement que je ne prétends pas être nouveau, mais seulement partager / rappeler une opportunité comme Io...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Abaisser le niveau de connectivité à l'aide de DI pour améliorer la testabilité du code, exemple d'implémentation</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422161/"><p>  Au début de l'article, je tiens à noter immédiatement que je ne prétends pas être nouveau, mais seulement partager / rappeler une opportunité comme IoC DI. </p><br><p>  De plus, je n'ai pratiquement aucune expérience dans la rédaction d'articles, c'est ma première.  J'ai fait de mon mieux, si vous ne jugez pas strictement. </p><br><h2 id="o-chem-voobsche-rech">  De quoi parle-t-on </h2><br><p>  La plupart des projets Rails que j'ai rencontrés ont un gros problème.  Soit ils n'ont pas du tout de tests, soit leurs tests vérifient une partie insignifiante, tandis que la qualité de ces tests laisse beaucoup à désirer. </p><br><p>  La raison principale en est que le développeur ne sait tout simplement pas comment écrire le code de sorte que dans les tests unitaires, testez uniquement le code écrit par lui, et non pas le code, qui, par exemple, est contenu dans un autre objet de service ou bibliothèque. </p><br><p>  De plus, une chaîne logique est formée dans la tête du programmeur, mais pourquoi dois-je transférer le code logique métier vers une autre couche, j'ajouterai juste quelques lignes ici et tout répondra aux exigences du client. </p><br><p>  Et c'est très mauvais, car les tests unitaires perdent leur résistance au refactoring, et la gestion des changements dans un tel code devient difficile.  L'entropie augmente progressivement.  Et si vous avez déjà peur de refactoriser votre code, les choses vont très mal. </p><br><p>  Pour résoudre de tels problèmes dans le monde Java, un certain nombre de bibliothèques existent depuis longtemps et il n'y a pas de raison particulière de réinventer la roue, même s'il convient de noter que ces solutions sont très lourdes et qu'il n'y a pas toujours de raison de les utiliser.  Les rubististes semblent en quelque sorte résoudre ces problèmes d'une manière différente, mais honnêtement, je ne comprenais toujours pas comment.  Par conséquent, j'ai décidé de partager comment j'ai décidé de le faire. </p><a name="habracut"></a><br><h2 id="obschaya-ideya-kak-reshat-eto-v-ruby-proektah">  L'idée générale de la façon de résoudre ce problème dans les projets rubis </h2><br><p>  L'idée de base est que pour les objets qui ont des dépendances, nous devrions pouvoir les gérer. </p><br><p>  Prenons un exemple: </p><br><pre><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">() @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationService</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">block_user</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">block!</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">send</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">you</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">have</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">been</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blocked</span></span></span><span class="hljs-class">') </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Pour tester la méthode block_user, nous nous trouvons à un moment désagréable, car la notification de NotificationService fonctionnera pour nous et nous sommes obligés de traiter une partie minimale que cette méthode effectue. <br>  L'inversion nous permet de simplement sortir de cette situation si nous implémentons un UserService, par exemple, comme ceci: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationService</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">block_user</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">block!</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">send</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">you</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">have</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">been</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blocked</span></span></span><span class="hljs-class">') </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Maintenant, lors des tests, nous passons un objet en tant que maquette NotificationService et vérifions que block_user extrait les méthodes notification_service dans le bon ordre et avec les bons arguments. </p><br><pre> <code class="ruby hljs">RSpec.describe UserService, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> let (<span class="hljs-symbol"><span class="hljs-symbol">:notification_service</span></span>) { instance_double(NotificationService) } let (<span class="hljs-symbol"><span class="hljs-symbol">:service</span></span>) { UserService.new(notification_service) } describe <span class="hljs-string"><span class="hljs-string">".block_user"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> let (<span class="hljs-symbol"><span class="hljs-symbol">:user</span></span>) { instance_double(User) } it <span class="hljs-string"><span class="hljs-string">"should block user and send notification"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> expect(user).to receive <span class="hljs-symbol"><span class="hljs-symbol">:block!</span></span> expect(notification_service).to receive(<span class="hljs-symbol"><span class="hljs-symbol">:send</span></span>).with(user, <span class="hljs-string"><span class="hljs-string">"you have been blocked"</span></span>) service.block_user(user) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><h2 id="konkretnyy-primer-dlya-rails">  Étude de cas pour les rails </h2><br><p>  Lorsqu'il y a beaucoup d'objets de service dans le système, il devient difficile de construire toutes les dépendances vous-même, le code commence à croître avec des lignes de code supplémentaires qui réduisent la lisibilité. </p><br><p>  À cet égard, il m'est venu à l'esprit d'écrire un petit module qui automatise la gestion des dépendances. </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Services</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Injector</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">included</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">base</span></span></span><span class="hljs-class">) </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> check base, should be controller or service base.extend ClassMethods end module ClassMethods def inject_service(name) service = Services::Helpers::Service.new(name) attr_writer service.to_s define_method service.to_s do instance_variable_get("@#{service.to_s}").tap { |s| return s if s } instance_variable_set("@#{service.to_s}", service.instance) end end end end module Helpers class Service def initialize(name) raise ArgumentError, 'name of service should be a Symbol' unless name.is_a? Symbol </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@name</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = name.to_s.downcase </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@class</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@name</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.camelcase}Service".constantize unless </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@class</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.respond_to? :instance raise ArgumentError, "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@name</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.to_s} should be singleton (respond to instance method)" end end def to_s "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@name</span></span></span></span><span class="hljs-class"><span class="hljs-comment">}_service" end def instance if Rails.env.test? if defined? RSpec::Mocks::ExampleMethods extend RSpec::Mocks::ExampleMethods instance_double </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@class</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> else nil end else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@class</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.instance end end end end end</span></span></span></span></code> </pre> <br><p>  Il y a une mise en garde, le service devrait être Singleton, c'est-à-dire  avoir une méthode d'instance.  Pour ce faire, la méthode la plus simple consiste à écrire <code>include Singleton</code> dans la classe de service. </p><br><p>  Maintenant, dans ApplicationController, ajoutez </p><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'services'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationController</span></span></span><span class="hljs-class"> &lt; ActionController::Base </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Services::Injector</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Et maintenant, dans les contrôleurs, nous pouvons le faire </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WelcomeController</span></span></span><span class="hljs-class"> &lt; ApplicationController </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inject_service</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">welcome</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">render</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plain</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">welcome_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">text</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Dans la spécification de ce contrôleur, nous obtenons automatiquement instance_double (WelcomeService) en tant que dépendance. </p><br><pre> <code class="ruby hljs">RSpec.describe WelcomeController, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:controller</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> describe <span class="hljs-string"><span class="hljs-string">"index"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> it <span class="hljs-string"><span class="hljs-string">"should render text from test service"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> allow(controller.welcome_service).to receive(<span class="hljs-symbol"><span class="hljs-symbol">:text</span></span>).and_return <span class="hljs-string"><span class="hljs-string">"OK"</span></span> get <span class="hljs-symbol"><span class="hljs-symbol">:index</span></span> expect(response).to have_attributes <span class="hljs-symbol"><span class="hljs-symbol">body:</span></span> <span class="hljs-string"><span class="hljs-string">"OK"</span></span> expect(response).to have_http_status <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><h2 id="chto-mozhno-uluchshit">  Ce qui peut être amélioré </h2><br><p>  Imaginez, par exemple, que dans notre système, il existe plusieurs options pour envoyer des notifications, par exemple, la nuit, ce sera un fournisseur et un autre pendant la journée.  Dans le même temps, les fournisseurs ont des protocoles d'envoi complètement différents. </p><br><p>  En général, l'interface NotificationService reste la même, mais il existe deux implémentations spécifiques. </p><br><pre> <code class="hljs ruby"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NightlyNotificationService</span></span></span><span class="hljs-class"> &lt; NotificationService </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DailyNotificationService</span></span></span><span class="hljs-class"> &lt; NotificationService </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Maintenant, nous pouvons écrire une classe qui effectuera un mappage conditionnel des services </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationServiceMapper</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Singleton</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">take</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Time</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class"> ((</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hour</span></span></span><span class="hljs-class"> &gt;= 00) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">and</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hour</span></span></span><span class="hljs-class"> &lt;= 8)) ? </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NightlyNotificationService</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DailyNotificationService</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  Maintenant, lorsque nous prenons l'instance de service dans Services :: Helpers :: Service.instance, nous devons vérifier s'il existe un objet * Mapper, et si c'est le cas, puis prendre la constante de classe via take. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422161/">https://habr.com/ru/post/fr422161/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422147/index.html">Relevez votre nœud Speedtest</a></li>
<li><a href="../fr422149/index.html">Comment est-ce - d'être un agent de bord</a></li>
<li><a href="../fr422151/index.html">Vérifications en ligne sur le réseau fédéral via RabbitMQ, 1C et magie noire</a></li>
<li><a href="../fr422155/index.html">Phrase secrète de l'auditeur</a></li>
<li><a href="../fr422157/index.html">CPE - modèle de paiement pour l'utilisateur impliqué dans le reciblage mobile</a></li>
<li><a href="../fr422163/index.html">Développement d'un convertisseur vidéo 264 vers AVI pour dashcam QCM-08DL</a></li>
<li><a href="../fr422165/index.html">Quel client Microsoft dois-je mettre à niveau vers Dynamics 365?</a></li>
<li><a href="../fr422167/index.html">Événements numériques à Moscou du 3 au 9 septembre</a></li>
<li><a href="../fr422169/index.html">Qu'est-ce que le programme Ada Lovelace a réellement fait?</a></li>
<li><a href="../fr422171/index.html">Comme je l'ai fait avec un onduleur interactif en ligne. 3e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>