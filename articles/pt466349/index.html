<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé® üîå ‚òùüèª Como realizar testes A / B em 15.000 lojas offline üë®üèª‚ÄçüöÄ ‚úÇÔ∏è ü•Ä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Equipe de an√°lise ad-hoc de Big Data conectada do X5 Retail Group. 

 Neste artigo, falaremos sobre nossa metodologia de teste A / B e os desafios ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como realizar testes A / B em 15.000 lojas offline</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/466349/">  Oi  Equipe de an√°lise ad-hoc de Big Data conectada do X5 Retail Group. <br><br>  Neste artigo, falaremos sobre nossa metodologia de teste A / B e os desafios que enfrentamos diariamente. <br><br>  O Big Data X5 emprega cerca de 200 pessoas, incluindo 70 a data dos cientistas e a data dos analistas.  Nossa parte principal est√° envolvida em produtos espec√≠ficos - demanda, sortimento, campanhas de promo√ß√£o etc.  Al√©m deles, h√° nossa equipe de an√°lise Ad-hoc separada. <br><br><img src="https://habrastorage.org/webt/fc/ab/by/fcabbyvlt69yxmfimt4iidjbsze.png"><br><a name="habracut"></a><br>  N√≥s somos: <br><br><ul><li>  ajudamos as unidades de neg√≥cios com solicita√ß√µes de an√°lise de dados que n√£o se encaixam nos produtos existentes; </li><li>  ajudamos as equipes de produtos se precisarem de m√£os extras; </li><li>  Estamos envolvidos nos testes A / B - e essa √© a principal fun√ß√£o da equipe. </li></ul><br>  A situa√ß√£o em que trabalhamos √© muito diferente dos testes A / B t√≠picos.  Normalmente, a t√©cnica est√° associada a m√©tricas online e online: como as altera√ß√µes afetam a convers√£o, reten√ß√£o, CTR, etc.  A maioria das experi√™ncias est√° relacionada a altera√ß√µes na interface: reorganizou o banner, repintou o bot√£o, substituiu o texto etc. <br><br>  Os neg√≥cios X5 s√£o diferentes - s√£o ao vivo 15.000 lojas offline de v√°rios formatos, distribu√≠dos por todo o pa√≠s.  Esse recurso imp√µe certas limita√ß√µes.  Em primeiro lugar, o conjunto de m√©tricas que podem ser testadas varia muito e, em segundo lugar, a restri√ß√£o de experimentos √© imposta.  A tarefa de alterar o design de uma fachada de uma loja online n√£o √© compar√°vel em termos de m√£o-de-obra √† tarefa de alterar a ordem dos departamentos nas lojas offline. <br><br>  A empresa possui uma equipe envolvida em um programa de fidelidade e seus pilotos est√£o mais pr√≥ximos da id√©ia cl√°ssica dos testes A / B.  As perguntas que surgem s√£o muito at√≠picas para os testes A / B "comuns".  Por exemplo: <br><br><ul><li>  Como o desempenho financeiro da loja mudar√° se eu alterar a ordem dos departamentos de Lingui√ßa e Bolos? </li><li>  Como o modelo de rotatividade de clientes afetar√° o resultado financeiro? </li><li>  Como a configura√ß√£o de postamates afetar√° o desempenho da loja? </li></ul><br>  Os clientes acreditam que uma certa mudan√ßa afetar√° positivamente um dos indicadores (falaremos sobre eles mais tarde).  Nosso trabalho √© ajud√°-los a validar suas hip√≥teses com base em dados. <br><br><h3>  M√©tricas </h3><br>  Quais indicadores estamos testando?  <b>RTO</b> , <b>verifica√ß√£o m√©dia</b> e <b>tr√°fego</b> s√£o as palavras mais usadas em nossa ala de espa√ßo aberto. <br><br><ul><li>  <b>RTO</b> (rotatividade de varejo) - a quantidade de dinheiro ganho pela loja. </li></ul><br>  Uma das principais m√©tricas para os neg√≥cios e a mais dif√≠cil de testar. <br><br>  O volume de neg√≥cios di√°rio da loja √© medido em milh√µes de rublos.  Por conseguinte, a propaga√ß√£o do indicador √© medida em pelo menos milhares de rublos.  A f√≥rmula complexa e longa para determinar o tamanho da amostra diz que, quanto maior a varia√ß√£o, mais dados s√£o necess√°rios para quaisquer conclus√µes significativas.  Para captar o efeito mesmo no d√©cimo por cento com uma dispers√£o t√£o grande da TDF, os pilotos nas lojas precisam passar seis meses. <br><br>  Imagine a rea√ß√£o do conselho, se em uma reuni√£o com eles disser que o piloto precisa passar seis meses ou at√© um ano em todas as lojas?  =) <br><br>  Temos duas abordagens padr√£o. <br><br>  A primeira abordagem: n√£o estamos considerando o RTO de toda a loja, mas algum tipo de categoria de produto.  Por exemplo, como resultado do rearranjo de duas se√ß√µes na loja (‚ÄúBolos‚Äù e ‚ÄúEnchidos‚Äù), √© esperado um aumento na TDF em ambas as categorias.  O RTO de uma categoria √© muito menor que o RTO de toda a loja, portanto, a dispers√£o √© menor.  Nesse caso, esperamos que o piloto nessas categorias seja isolado das demais categorias. <br><br>  Segunda abordagem: amostramos o tempo.  A unidade de observa√ß√£o n√£o √© a TDF da loja para todo o piloto, mas a TDF por semana ou dia.  Assim, aumentamos o n√∫mero de observa√ß√µes, mantendo a varia√ß√£o dos dados brutos. <br><br><img src="https://habrastorage.org/webt/kw/b_/w1/kwb_w1jmlkx4rynvidf5cfqvkny.jpeg"><br><br><ul><li>  <b>Cheque m√©dio</b> ou <b>RTO / n√∫mero de cheques</b> - a quantidade m√©dia de dinheiro em um cheque. </li></ul><br>  Parte das mudan√ßas visa fazer as pessoas comprarem mais, por isso testamos o RTO / n√∫mero de cheques, ou o cheque m√©dio, se fizermos analogias com as m√©tricas usuais. <br><br>  A dificuldade em testar essa m√©trica est√° relacionada √†s especificidades do varejo.  Por exemplo, com o lan√ßamento piloto da promo√ß√£o ‚Äú3 pelo pre√ßo de 2‚Äù, uma pessoa que planejava comprar um produto compraria tr√™s, e o valor do cheque aumentar√°.  Mas e se ele mais tarde se tornar menos prov√°vel de ir √† loja e o piloto n√£o ter tanto sucesso? <br><br><ul><li>  <b>Tr√°fego</b> - o n√∫mero de verifica√ß√µes na loja por um determinado per√≠odo de tempo. </li></ul><br>  Para evitar conclus√µes err√¥neas ao testar hip√≥teses que afetam a verifica√ß√£o m√©dia, analisamos simultaneamente as altera√ß√µes de tr√°fego.  N√£o podemos rastrear diretamente quantas pessoas foram √† loja, pois  nem todos os visitantes s√£o clientes do programa de fidelidade; portanto, para os testes A / B, cada verifica√ß√£o √© uma "visita √∫nica" ao cliente.  Por analogia com a PTO, consideramos o tr√°fego em v√°rios intervalos de tempo: tr√°fego por dia, tr√°fego por hora. <br><br>  A inter-rela√ß√£o da verifica√ß√£o e do tr√°fego m√©dios √© muito importante: o piloto poderia aumentar a verifica√ß√£o m√©dia, mas reduzir o tr√°fego e, por fim, levar n√£o a um aumento na TDF, mas a sua diminui√ß√£o?  O piloto poderia ajudar a aumentar o tr√°fego sem alterar a fatura m√©dia? <br><br><ul><li>  <b>Margem</b> - a diferen√ßa entre o pre√ßo de um produto e seu custo </li></ul><br>  Existem pilotos nos quais alteramos os pre√ßos dos produtos - para alguns, o pre√ßo aumentou, para outros, pelo contr√°rio.  Como n√£o afetamos os custos de produ√ß√£o, alterando os pre√ßos, alteramos a margem das mercadorias.  Esse piloto pode levar ao aumento do tr√°fego e ao aumento da verifica√ß√£o m√©dia.  Mas isso significa que o piloto √© bem-sucedido e vale a pena alterar os pre√ßos em todas as lojas da rede?  N√£o, poderia muito bem acontecer que as pessoas come√ßassem a comprar mercadorias com uma margem negativa ou pequena com mais frequ√™ncia e abandonassem as mercadorias com uma margem alta.  Portanto, nem sempre um aumento no RTO √© seguido por um aumento na margem total; portanto, vale a pena testar esses indicadores separadamente. <br><br>  Bem, digamos que decidimos sobre as m√©tricas de destino.  As seguintes perguntas: <br><br><ul><li>  Que efeito de tamanho o cliente planeja receber? </li><li>  Que efeito pode realmente ser detectado no experimento? </li><li>  Quanto tempo leva o experimento? </li><li>  Quais grupos? </li></ul><br><h3>  Resumo da experi√™ncia </h3><br>  Os testes A / B realizados em usu√°rios on-line t√™m uma vantagem significativa - eles t√™m uma capacidade generalizada alta.  Em outras palavras, as conclus√µes obtidas durante o experimento podem ser dimensionadas para todos os usu√°rios.  A capacidade de generaliza√ß√£o √© garantida pela configura√ß√£o do experimento: os grupos de controle e teste s√£o formados aleatoriamente, quase exatamente os dois grupos da mesma distribui√ß√£o, voc√™ pode capturar muito tr√°fego nos dois grupos - haveria um or√ßamento. <br><br>  No caso do varejo offline, nenhuma dessas configura√ß√µes funciona.  Em primeiro lugar, h√° um limite no n√∫mero de lojas.  Em segundo lugar, as lojas s√£o muito diferentes umas das outras.  A loja Perekrestok na √°rea residencial e a Perekrestok perto do centro de neg√≥cios s√£o, de fato, objetos muito diferentes de diferentes distribui√ß√µes. <br><br><img src="https://habrastorage.org/webt/-8/o_/so/-8o_sonaxffqinwcofkoegbxw58.jpeg"><br><br>  No gr√°fico, vemos que as lojas do grupo de teste s√£o diferentes das lojas de toda a rede.  Esta √© uma situa√ß√£o bastante t√≠pica: nas cadeias de lojas de Pyaterochka est√£o localizadas n√£o apenas nas cidades, mas tamb√©m em pequenos assentamentos.  Os grandes pilotos costumam ser realizados nas cidades.  Seja qual for o efeito que capturamos, escal√°-lo em toda a rede est√° errado. <br><br>  O efeito total <b>–Ñ do</b> piloto avaliamos pela f√≥rmula: <br><br><img src="https://habrastorage.org/webt/0p/t7/-w/0pt7-w_eyalkcs_fafhwwgqzjx0.png"><br><br>  a √© a √°rea de interse√ß√£o das distribui√ß√µes do grupo piloto e de todas as lojas da rede. <br><br>  Observe que isso n√£o √© uma conseq√º√™ncia das leis estat√≠sticas, mas nossa suposi√ß√£o sobre como √© l√≥gico considerar o efeito cumulativo. <br><br>  A op√ß√£o ideal √© recrutar uma amostra representativa para o grupo de teste, ou seja, aquelas lojas que realmente refletem todo o estado da rede.  Mas a representatividade leva √† heterogeneidade da amostra, porque  lojas com baixa ou alta TDF ser√£o amostradas. <br><br><h3>  Tamanhos de grupos, dura√ß√£o do piloto e efeito detect√°vel m√≠nimo </h3><br>  E agora a coisa mais importante - o tamanho do efeito e a dura√ß√£o do piloto.  Como regra, somos confrontados com uma das tr√™s situa√ß√µes: <br><br><ol><li>  o cliente tem um limite de tempo para o piloto e o n√∫mero de lojas com as quais voc√™ pode trabalhar; </li><li>  o cliente sabe qual o tamanho do efeito que ele espera receber e pede para indicar o n√∫mero de lojas que o piloto precisa (e depois as pr√≥prias lojas); </li><li>  o cliente est√° aberto para nossas ofertas. </li></ol><br>  N√£o se pode dizer que qualquer um dos cen√°rios seja mais simples, porque, de qualquer forma, estamos preparando uma tabela do erro de efeito. <br><br><img src="https://habrastorage.org/webt/tl/rb/dc/tlrbdcloe-j79-o-2rygs4aqira.png"><br><br>  Importante para ela: <br><br><ol><li>  um erro do primeiro tipo - a probabilidade de ver o efeito quando n√£o existe; </li><li>  um erro do segundo tipo - a probabilidade de pular o efeito quando √©; </li><li>  o tamanho do efeito esperado para um piloto bem-sucedido. </li></ol><br>  A combina√ß√£o desses tr√™s par√¢metros permite calcular a dura√ß√£o necess√°ria do piloto.  O valor na tabela √© o tamanho da amostra - nesse caso, o n√∫mero de recebimentos ou a m√©trica m√©dia na loja por dia, necess√°rios para conduzir o piloto.  Se falamos sobre o mundo real, geralmente a probabilidade de erros do primeiro e do segundo tipo √© de 5 a 10%.  Como pode ser visto na tabela, com esses erros corrigidos, precisamos de 421 Pyaterochka-day para capturar o efeito de um por cento.  Parece que o n√∫mero √© muito bom - afinal, 421 dias em Pyaterochka √© piloto em 40 lojas por 10 dias.  No entanto, existe um "mas" - existem muito poucos pilotos que realmente esperam um efeito de um por cento.  Normalmente estamos falando de d√©cimos de um por cento.  Dado que a RTO √© medida em bilh√µes, um d√©cimo de por cento do efeito de um piloto bem-sucedido pode gerar um grande aumento na receita.  Por isso, quero medir at√© o menor efeito.  Por√©m, quanto menor o tamanho do efeito, maior o erro do segundo tipo.  Isso √© compreens√≠vel: o pequeno efeito √© semelhante ao ru√≠do aleat√≥rio e raramente ser√° considerado um desvio real da norma.  Isso √© claramente visto no gr√°fico abaixo, onde queremos capturar um pequeno efeito nos dados com grande varia√ß√£o. <br><br><img src="https://habrastorage.org/webt/vr/na/lw/vrnalwenskdfrb2xpenvbhgq23o.jpeg"><br><br><h3>  Teste A / A </h3><br>  Antes do in√≠cio do piloto, voc√™ precisa decidir sobre o grupo de teste e controle.  O cliente pode ou n√£o ter um grupo piloto.  Estamos prontos para ajud√°-lo nos dois casos, solicitando restri√ß√µes - por exemplo, as lojas devem ser estritamente de tr√™s regi√µes espec√≠ficas. <br><br>  Suponha que tenhamos escolhido de alguma forma um grupo de teste e controle.  Como ter certeza de que os grupos selecionados s√£o bons e voc√™ pode realmente realizar testes A / B neles?  Parece que tudo parece harmonioso: pontuamos o n√∫mero necess√°rio de observa√ß√µes, de acordo com a f√≥rmula, podemos pegar o efeito de 0,7%, encontramos lojas semelhantes.  O que agora n√£o nos conv√©m? <br><br>  Infelizmente, muitos fatos s√©rios: <br><br><ul><li>  elementos da amostra n√£o s√£o da mesma distribui√ß√£o - nossa amostra √© uma mistura de observa√ß√µes de lojas diferentes e cada loja tem sua pr√≥pria distribui√ß√£o. </li><li>  os elementos da amostra n√£o s√£o independentes - na amostra h√° muitas observa√ß√µes de uma loja, respectivamente, h√° uma conex√£o entre elas; </li><li>  a igualdade de meios n√£o √© garantida na aus√™ncia de um piloto - ou seja,  n√£o temos certeza de que, se n√£o houvesse um piloto, as estat√≠sticas da loja n√£o seriam diferentes. </li></ul><br>  Todos esses problemas n√£o s√£o levados em considera√ß√£o no c√°lculo da f√≥rmula para selecionar o n√∫mero de observa√ß√µes, dependendo de erros e efeitos.  Para entender a extens√£o do impacto dos problemas acima, realizamos testes A / A.  De fato, √© uma simula√ß√£o de todo o piloto nas lojas, no momento em que n√£o h√° piloto nas lojas.  Esse per√≠odo √© chamado de pr√©-piloto. <br><img src="https://habrastorage.org/webt/rf/zd/vz/rfzdvzpvmqlff2x6ed2bzeqtuxy.png"><br>  Durante o per√≠odo pr√©-piloto, repetimos tr√™s etapas v√°rias vezes: <br><br><ol><li>  sele√ß√£o de grupos semelhantes; </li><li>  teste de igualdade em dois grupos; </li><li>  adicionando efeito ao grupo de teste e testando os meios para igualdade. </li></ol><br><img src="https://habrastorage.org/webt/ri/ti/eg/ritieghfygj6kgxfyedloba-irk.png"><br><br><h3>  Correspond√™ncia de grupos semelhantes </h3><br>  Como n√£o inventamos uma bicicleta, procuramos grupos semelhantes com o bom e velho m√©todo dos vizinhos mais pr√≥ximos.  A estrat√©gia de gerar recursos para a loja √© uma arte separada.  Encontramos tr√™s m√©todos de trabalho: <br><br><ul><li>  Cada loja √© descrita por um vetor de recurso de acordo com a m√©trica que estamos testando.  Por exemplo, ao examinar a verifica√ß√£o m√©dia, descrevemos as verifica√ß√µes m√©dias di√°rias por 8 semanas - recebemos 56 sinais para a loja.  Ent√£o tomamos a dist√¢ncia euclidiana entre os sinais de um par de lojas. </li></ul><br><img src="https://habrastorage.org/webt/ra/nq/sy/ranqsy12gvkgu2tgk1lsocvbwcu.jpeg"><br><br><ul><li>  Encontre lojas semelhantes em din√¢mica.  As lojas podem diferir em valores absolutos das m√©tricas, mas coincidem em tend√™ncias - e com certas manipula√ß√µes matem√°ticas, essas lojas podem ser consideradas iguais. </li></ul><br><img src="https://habrastorage.org/webt/gw/pz/99/gwpz99ikylr7lyv7nyteclwdk8y.jpeg"><br><br><ul><li>  Preveja o desempenho da loja no per√≠odo do piloto (no futuro) e selecione similares com base neles - mas aqui precisamos de um or√°culo que possa prever o desempenho do piloto com bastante precis√£o. </li></ul><br>  Aderimos a uma hip√≥tese muito simples: se as lojas fossem semelhantes antes do piloto, se n√£o houvesse uma mudan√ßa de piloto, elas teriam permanecido semelhantes. <br><br>  Voc√™ pode notar que, mesmo nesses tr√™s m√©todos de trabalho, h√° muitos aspectos que podem ser variados: o n√∫mero de dias / semanas em que um recurso √© considerado, um m√©todo para avaliar a din√¢mica de um indicador etc. <br><br>  N√£o existe p√≠lula universal; em cada experimento, passamos por diferentes op√ß√µes com base em nosso objetivo.  Mas √© muito simples: encontre um m√©todo para selecionar os vizinhos mais pr√≥ximos que d√™ erros razo√°veis ‚Äã‚Äãdo primeiro e do segundo tipo.  De onde eles v√™m, contamos mais. <br><br><h3>  Teste de igualdade de m√©dias ou erro do primeiro tipo de m√©todo </h3><br>  Lembre-se de que, neste ponto, n√≥s: <br><br><ol><li>  determinado com o cliente o tamanho do efeito e a dura√ß√£o do piloto </li><li>  explicou a ess√™ncia dos erros do primeiro e do segundo tipo </li><li>  construiu um m√©todo para selecionar grupos semelhantes </li></ol><br>  O objetivo desse est√°gio √© garantir que o m√©todo que selecionamos na Se√ß√£o 3 encontre grupos que antes do piloto iniciar o indicador (RTO, verifica√ß√£o m√©dia, tr√°fego) nessas lojas n√£o sejam estatisticamente diferentes. <br><br>  No ciclo, selecionamos os grupos selecionados repetidamente para igualdade por algum tipo de teste estat√≠stico e autoinicializa√ß√£o.  Se a propor√ß√£o de erros (ou seja, os grupos n√£o forem iguais) for maior que o limite, o m√©todo ser√° rejeitado e um novo ser√° selecionado.  Ent√£o, at√© atingirmos o limite desejado de erro. <br><br><img src="https://habrastorage.org/webt/-r/wn/sg/-rwnsgtq1jyngzxrsdm446piem0.png"><br><br>  √â importante descobrir com que frequ√™ncia captamos o efeito quando ele n√£o est√° presente, ou seja,  se nosso m√©todo de sele√ß√£o responde a diferen√ßas aleat√≥rias entre lojas ou n√£o. <br><br><h3>  Adicionando um efeito ou um erro do segundo tipo de m√©todo </h3><br>  Uma pergunta razo√°vel, mas n√£o estamos nos treinando de tal maneira que tamb√©m perceberemos os efeitos reais como ru√≠do e os ignoraremos?  Em outras palavras, somos capazes de detectar um efeito quando √©? <br><br>  Depois de garantir na √∫ltima etapa que os grupos coincidem, adicionamos um efeito artificial a um dos grupos, ou seja,  Garantimos que o piloto tenha sucesso e que o efeito deva ser. <br><br>  Desta vez, o objetivo √© descobrir com que frequ√™ncia a hip√≥tese de igualdade √© rejeitada, ou seja,  o teste foi capaz de distinguir entre dois grupos.  O erro neste caso √© assumir que os grupos s√£o iguais.  Chamamos esse erro de um segundo tipo. <br><br>  Novamente no ciclo, testamos a igualdade no grupo de controle e no grupo de teste "barulhento".  Se cometermos erros raramente, acreditamos que o m√©todo de sele√ß√£o de grupos passou na valida√ß√£o.  Ele pode ser usado para selecionar grupos no per√≠odo piloto e ter certeza de que, se o piloto der um efeito, seremos capazes de detect√°-lo. <br><br><img src="https://habrastorage.org/webt/bw/gh/vw/bwghvwsqzs2uaxq81gf06e1z2zo.png"><br><br><h3>  Sobre heterogeneidade </h3><br>  J√° mencionamos que a heterogeneidade dos dados √© um dos piores inimigos que estamos lutando.  As heterogeneidades surgem de v√°rias causas principais: <br><br><ul><li>  heterogeneidade de compras - cada loja tem seu pr√≥prio valor m√©trico m√©dio (nas lojas RTO de Moscou e o tr√°fego √© muito maior do que nas lojas das aldeias) </li><li>  heterogeneidade por dia da semana - distribui√ß√£o diferente do tr√°fego e verifica√ß√£o m√©dia diferente em diferentes dias da semana: o tr√°fego na ter√ßa-feira n√£o se parece com o tr√°fego na sexta-feira </li><li>  heterogeneidade no clima - as pessoas v√£o √†s compras de maneira diferente em diferentes condi√ß√µes clim√°ticas </li><li>  heterogeneidade na √©poca do ano - o tr√°fego nos meses de inverno difere do tr√°fego no ver√£o - isso deve ser levado em considera√ß√£o se o piloto durar v√°rias semanas. </li></ul><br>  A falta de homogeneidade aumenta a vari√¢ncia, que, como mencionado acima, na avalia√ß√£o das lojas de tomada de for√ßa j√° tem um significado enorme.  O tamanho do efeito capturado √© diretamente dependente da varia√ß√£o.  Por exemplo, reduzir a dispers√£o por um fator de quatro permite detectar um meio efeito. <br><br>  No caso mais simples, estamos lutando com a heterogeneidade da lineariza√ß√£o. <br>  Suponha que tenhamos um piloto em duas lojas por tr√™s dias (sim, isso contradiz todas as f√≥rmulas prescritas sobre o tamanho do efeito, mas este √© um exemplo).  As <b>RTOs</b> m√©dias nas lojas s√£o respectivamente 200 mil e 500 mil, enquanto a varia√ß√£o nos dois grupos √© de 10.000 e, de acordo com todas as observa√ß√µes - 35.000 <br>  Ap√≥s o piloto, as m√©dias est√£o nos grupos 300 e 600 e as varia√ß√µes s√£o 10.000 e 22.500, respectivamente, e o grupo inteiro √© 40.000. <br><br><img src="https://habrastorage.org/webt/om/yn/pb/omynpbpgftr7lsoa7bl6rubjos0.png"><br><br>  Uma a√ß√£o simples e elegante √© linearizar os dados, ou seja,  subtrair de cada per√≠odo o valor da m√©dia do anterior. <br><br><img src="https://habrastorage.org/webt/3t/xf/9t/3txf9tustucss6vaj6ydnkxnct8.png"><br><br>  Na sa√≠da, a amostra: 100, 0, 200, -50, 100, 250. A dispers√£o no per√≠odo piloto foi reduzida em 3 vezes para 13000. <br><br>  Isso significa que podemos ver um efeito muito mais sutil do que com os valores absolutos originais. <br><br>  Esta n√£o √© a √∫nica maneira de lidar com a heterogeneidade.  Falaremos sobre outros no pr√≥ximo artigo. <br><br><h3>  Abordagem geral ao teste A / B </h3><br>  A prepara√ß√£o para grandes pilotos e sua avalia√ß√£o passam por nossa equipe e s√£o exaustivamente testados. <br><br>  Nosso protocolo: <br><br><ol><li>  receber informa√ß√µes do cliente sobre a m√©trica e o efeito esperado; </li><li>  determinar o tamanho dos grupos e a dura√ß√£o do piloto; </li><li>  desenvolver um algoritmo para a distribui√ß√£o de lojas por grupos; </li><li>  realizar um teste A / A entre grupos e validar esse algoritmo; </li><li>  aguarde o piloto terminar e calcular o efeito. </li></ol><br>  Nenhuma dessas etapas passa sem dificuldades, cada uma delas possui caracter√≠sticas.  Como lidamos com alguns deles, descrevemos neste artigo.  No pr√≥ximo, falaremos sobre .... <br><br><h3>  A equipe </h3><br>  No final, gostaria de mencionar todos os atores: <br><br><ul><li>  Valery Babushkin </li><li>  Alexander Sakhnov </li><li>  Denis Ivanov </li><li>  Sergey Demchenko </li><li>  Nikolay Nazarov </li><li>  Sergey Kabanov </li><li>  Yuri Galimullin </li><li>  Helen Tevanyan </li><li>  Vladislav Ladenkov </li><li>  Sergey Zakharov </li><li>  Vasily Stories </li><li>  Alexander Belyaev </li><li>  Kismat Magomedov </li><li>  Egor Krashennikov </li><li>  Egor Karnaukh </li><li>  Svyatoslav Oreshin </li><li>  Yuri Trubitsyn </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466349/">https://habr.com/ru/post/pt466349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466333/index.html">Como organizar um local de trabalho para si mesmo</a></li>
<li><a href="../pt466335/index.html">Criando um aplicativo Slack usando os recursos do 8base</a></li>
<li><a href="../pt466337/index.html">Qual a cor da sua fun√ß√£o?</a></li>
<li><a href="../pt466339/index.html">Como no Microsoft SQL Server para obter dados do Google Analytics usando R</a></li>
<li><a href="../pt466341/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 33. Prepara√ß√£o para o exame ICND1</a></li>
<li><a href="../pt466355/index.html">Os crocodilos voam, mas baixo-baixo (sobre ekranoplanes sem emo√ß√µes, mas com digress√µes)</a></li>
<li><a href="../pt466359/index.html">Por que o Dia Mundial da D√≠vida Ecol√≥gica e a pegada ambiental s√£o um absurdo pseudocient√≠fico</a></li>
<li><a href="../pt466361/index.html">Como o certificado Cossacks GICSP recebeu</a></li>
<li><a href="../pt466363/index.html">Slurm DevOps. Primeiro dia Git, CI / CD, IaC e o dinossauro verde</a></li>
<li><a href="../pt466365/index.html">Desenvolvendo um sistema operacional monol√≠tico semelhante a Unix - Introdu√ß√£o (1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>