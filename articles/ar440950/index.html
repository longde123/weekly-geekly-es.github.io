<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦌 🎠 🎅🏾 تدقيق Chrome 500: الجزء 1. الهبوط 🔗 🎴 👨🏼‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="أدوات المطور في Chrome تحتوي على علامة التبويب Audit. إنها أداة تسمى Lighthouse ، والتي تعمل على تحليل مدى جودة تطبيق الويب. 


 قررت مؤخرًا اختبار تط...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تدقيق Chrome 500: الجزء 1. الهبوط</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440950/" style=";text-align:right;direction:rtl">  أدوات المطور في Chrome تحتوي على علامة التبويب Audit.  إنها أداة تسمى Lighthouse ، والتي تعمل على تحليل مدى جودة تطبيق الويب. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ce/cc/oa/ceccoatvjkhcvrm65wqqjxbp2ag.png" alt="الصورة"></div><br>  قررت مؤخرًا اختبار تطبيق واحد وشعرت بالرعب من النتائج.  مباشرة في عدة أقسام ، كان التقييم في المنطقة الحمراء.  بدأت بدراسة الخطأ في طلبي.  لقد وجدت قائمة كبيرة من التوصيات المفيدة للغاية في نتائج التحليل ، حققتها وحصلت على 500 نقطة.  نتيجة لذلك ، بدأ التطبيق يعمل بشكل أسرع بكثير ، وقمت بمراجعة العديد من المفاهيم المتعلقة بطريقة إنشاء التطبيقات.  وفي هذه المقالة أريد أن أشارك أكثر الحلول إثارة للاهتمام التي توصلت إليها. <br><a name="habracut"></a><br>  إذا لم يكن لديك القدرة على تثبيت chrome ، فيمكنك تثبيت المنارة من npm والعمل معها من وحدة التحكم. <br><br>  في المقالة ، لم أبدأ بمقارنة كل توصية بقسم معين ؛ وبدلاً من ذلك ، قسمت الأقسام إلى حلول تقدمت بها والتي أحبتها Ligthouse.  هذا ليس كل ما يوصي به ، إنه الأكثر إثارة للاهتمام فقط.  التوصيات المتبقية بسيطة للغاية ، ومثل SEO منذ فترة طويلة مألوفة للجميع. <br><br><h2 style=";text-align:right;direction:rtl">  الأداء </h2><br><h3 style=";text-align:right;direction:rtl">  اختيار الخادم </h3><br>  هذه هي النصيحة الأكثر شيوعًا ، ولكن هذا هو الأساس لجميع الإنتاجية.  لحسن الحظ ، يعد إيجاد حل جيد أمرًا بسيطًا ، فهو أي مركز بيانات من المستوى 3 أو المستوى 4. ولا تشير هذه الحالة بحد ذاتها إلى السرعة ، فهي تقول إن المالكين اعتنوا بالجودة. <br><br><h3 style=";text-align:right;direction:rtl">  تهيئة التطبيق </h3><br>  مرة واحدة كان هناك فقط أتش تي أم أل في المتصفحات.  ثم جاء جافا سكريبت والمنطق العمل.  يوجد اليوم الكثير من المنطق على العميل بحيث يتعذر على html التعامل معه ولم تعد هناك حاجة إليه.  لكن لأن  لا يمكن للمتصفح بدء التحميل من ملف JavaScript ، وسيتعين علينا وضع جزء صغير من html لتشغيل تطبيقنا. <br><br>  من الناحية المثالية ، يجب أن يبدو مثل هذا: <br><br><pre style=";text-align:right;direction:rtl"><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"manifest"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./manifest.webmanifest"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content/images/favicon.ico"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/x-icon"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=utf-8"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"X-UA-Compatible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IE=edge,chrome=1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"theme-color"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#425566"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Description"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"loader"</span></span></span><span class="hljs-tag">&gt;</span></span> loading <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// todo:     </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  لا ينبغي أن يكون هناك أي محتوى فيه ، بل فقط الكود الضروري لتهيئة التطبيق ، والذي سيتم تحميل التطبيق نفسه والمحتوى. <br><br>  لا تتناول هذه المقالة عملية التحسين للروبوتات ، لكنني أقول أنه من الأسهل التقاط روبوت معين وإعطاء ما يحتاج إليه روبوت معين.  سوف يفهم Google bot نفسه كل شيء من المحتوى الذي سيتم تحميله لاحقًا. <br><br><h3 style=";text-align:right;direction:rtl">  استخدام شاشة البداية </h3><br>  لقد اعتدنا جميعًا على رش الشاشات عند التحميل في تطبيقات الهاتف المحمول ، وحتى عند تحميل نظام التشغيل ، ولكن قلة من الناس يستخدمون شاشات البداية في تطبيق ويب.  هذا هو ما سنضعه في كتلة أداة التحميل بحيث لا يشعر المستخدم بالملل أثناء تحميل التطبيق نفسه. <br><br>  كشاشة البداية ، كخيار ، يمكنك استخدام الرسوم المتحركة المغلق أو مجرد صورة ، كما هو الحال في الهواتف المحمولة.  الشرط الوحيد هو أنه ينبغي أن يكون خفيف جدا. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/73/qr/hf/73qrhfy7z3rrngzugo6b0-m4qiq.png" alt="الصورة"></div><br>  ماذا نحصل؟  سيتلقى المستخدمون ذوو الإنترنت البطيء على الفور رد فعل من الموقع ، ولن يعجبوا بالشاشة البيضاء ويتساءلون ما إذا كان الموقع يعمل على الإطلاق أم لا.  على الأرجح لن يرى المستخدمون الذين لديهم إنترنت سريع ذلك ، لكن حتى لديهم تأخيرات في الإنترنت. <br><br>  وكمثال مثير للاهتمام على استخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">شاشات</a> البداية ، سأعطيك موقع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">محطة الإرساء</a> ، حيث تزين موجة لطيفة عملية تحميل طويلة جدًا للموقع.  في الواقع ، هذه هي الطريقة التي سيرى بها الأشخاص الذين لديهم إنترنت بطيء طلبك. <br><br>  وسرعان ما أسارع إلى إزعاج أولئك الذين يعتقدون أن رش الشاشة يمكن أن يخدع المنارة ويضع تطبيقًا كبيرًا خلفه.  يرى كل شيء ، ولن يمنحك علامة جيدة لتطبيق ثقيل. <br><br><h3 style=";text-align:right;direction:rtl">  تهيئة التطبيق </h3><br>  الآن وقد صرفنا انتباه المستخدم عن الصور ، فقد حان الوقت لتنزيل التطبيق.  للقيام بذلك ، نقوم بإدراج البرنامج النصي التالي داخل كتلة البرنامج النصي. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// 1.  ServiceWorker,     PWA if (navigator.serviceWorker &amp;&amp; !navigator.serviceWorker.controller) { navigator.serviceWorker.register('pwabuider-sw.js', { scope: './' }); } // 2.    [ "./content/font.css", "./content/grid.css" ].forEach(function(url){ var style = document.createElement("link"); style.href = url; style.rel = "stylesheet"; document.head.appendChild(style); }); // 3.    [ "./scripts/polyfills.min.js", //  vendors.min.js "./scripts/main.min.js" // spa  ].forEach(function(url){ const script = document.createElement("script"); script.src = url; script.async = false; document.head.appendChild(script); });</span></span></code> </pre><br>  ماذا تتكون من: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>اتصال PWA</b> - سننظر في القسم المقابل أدناه.  تحتاج إلى توصيله في أقرب وقت ممكن ، لأنه من الممكن أن يكون pwa بالفعل لديه كل ما يلزم للموقع للعمل ولن تكون هناك طلبات أخرى للخادم. </li><li style=";text-align:right;direction:rtl">  <b>ربط الأنماط</b> - توصيل الأنماط حسب الحاجة.  من الناحية المثالية ، يجب ألا يكون هذا الرمز موجودًا على الإطلاق وأن الأنماط يجب أن تربط مكوناتك حسب الحاجة. </li><li style=";text-align:right;direction:rtl">  <b>توصيل البرامج النصية</b> - توصيل البرنامج.  يجب أن يتكون من اثنين فقط من هذه النصوص.  يتم تحميل جميع البرامج النصية الأخرى (الخرائط والتحليلات والمكتبات) التي لا تؤثر على عرض الشاشة الأولى (وليس الصفحة بأكملها) بعد رسم الشاشة الأولى للتطبيق.  يجب أن يقوم مكون التحليلات بالفعل بتحميل التحليلات بعد تحميل البرنامج.  لن تتأثر جودة التحليلات بهذا ، وستدعم أنظمة التحليل التحميل بعد تنزيل البرنامج.  يجب أن يتم غمر البطاقات فقط بعد قيام المستخدم بمسحها ضوئيًا وضغطها على الشاشة.  مع مكتبات الطرف الثالث المطلوبة لمكونات محددة للعمل ، على نحو مماثل. </li></ol><br>  نتيجة لذلك ، مع تغيير الأولويات قليلاً ، نحصل على عرض سريع للتطبيق.  وبالتالي ، فإن المستخدمين وروبوتات البحث راضون عن السرعة ، وفي الوقت نفسه لا ينتهكون التحليلات. <br><br><h3 style=";text-align:right;direction:rtl">  كسول التحميل وتقديم </h3><br>  المعلمة الهامة للغاية هي مدى سرعة رسم الشاشة الأولى ويمكن للمستخدم بدء التفاعل مع هذه الصفحة.  وهنا يجدر استخدام التحسينات التالية: <br><br>  1. تقديم كسول.  من الضروري رسم هذا الجزء فقط من الصفحة التي يبحث فيها المستخدم ، ويجب بالفعل عرض المكونات الثقيلة أو الصور عندما ينتقل إليها المستخدم. <br><br>  الحل الجيد هنا هو مكونات الكسل البطيئة والكسل img: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">&lt;div&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;lazy-img src=<span class="hljs-string"><span class="hljs-string">"..."</span></span>/&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;lazy-block&gt;   &lt;<span class="hljs-regexp"><span class="hljs-regexp">/lazy-block&gt; &lt;lazy-block&gt;   &lt;/</span></span>lazy-block&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">lazy-block</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">lazy-block</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  النقطة المهمة هي أنهم سيراقبون تمرير المستخدم وإذا وقع المكون في منطقة الشاشة فسيتم رسمه.  يمكن مقارنة ذلك بتقنية التمرير الظاهري ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مثال</a> ) المألوفة للجميع على جدران الشبكات الاجتماعية.  يمكننا التمرير إلى الأبد ، لكنهم لن يتباطأوا أبدًا. <br><br>  لكن لا تنسى Google bot ، التي ترى سبا ، ولكن لا تقوم بالتمرير في الصفحة بأكملها.  لذلك ، إذا لم تهتم ، فلن يرى المحتوى الخاص بك. <br><br>  2. إذا كان أي من المكونات يستخدم تبعية خارجية ، فسيتعين عليه تحميلها بنفسه حسب الضرورة.  على سبيل المثال ، يمكن أن يكون كتلة تحتوي على خرائط أو مخططات أو رسومات ثلاثية الأبعاد.  ومؤخراً ، كانت طريقة القيام بذلك في JS بسيطة للغاية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Demo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init(); } private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> init() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./external.mjs'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   module.default(); module.doStuff(); } }</span></span></code> </pre><br>  نتيجة لذلك ، يقوم المستخدم بتحميل ما يحتاج إليه فقط ، مما يوفر موارد المستخدم والخادم بشكل كبير. <br><br><h3 style=";text-align:right;direction:rtl">  حزمة التقليل </h3><br>  و ... نعم ، لم تفكر في الأمر ، إنه لا يتعلق بالتصغير في Terser (UglifyJS) ، بل يتعلق فقط بإعطاء ما يحتاجه لمتصفح معين. <br><br>  والحقيقة هي أن المتصفحات تتطور باستمرار ، ولديها واجهة برمجة تطبيقات جديدة ، وبدأ مطورو البرامج في استخدامها ، وللتوافق مع المتصفحات القديمة ، يقومون بتوصيل ملفات polyfills و transpilers.  نتيجةً لذلك ، تكمن المشكلة في أن يحصل المستخدمون الذين لديهم أحدث المتصفحات ، والتي تبلغ حوالي 80٪ ، على رمز مصمم لمستخدمي IE11 ، ويتم نقلهم باستخدام ملفات متعددة. <br><br>  المشكلة في هذا الكود هي أنه يحتوي على الكثير من النص الإضافي ، وأدائه أقل بثلاث مرات (حسب تقديراتي الشخصية) من الأصل.  من المنطقي إنشاء حزم متعددة لإصدارات مختلفة من المتصفحات.  حزمة برمز ES2017 لـ Chrome 73 مع حد أدنى من الملفات المتعددة ، حزمة مع ES5 لـ IE11 بحد أدنى من الملفات المتعددة ، إلخ. <br><br>  كتبت عن كيفية جمع حزم من إصدارات مختلفة في وقت واحد في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مقال سابق</a> .  ولتحديد الإصدار الصحيح في المستعرض ، نقوم بتعديل البرنامج النصي لاتصال البرنامج قليلاً: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> esVersion = <span class="hljs-string"><span class="hljs-string">".es2017"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">'"use strict"; class foo {}'</span></span>); }<span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e){ esVersion = <span class="hljs-string"><span class="hljs-string">".es5"</span></span>; } [ <span class="hljs-string"><span class="hljs-string">"./scripts/polyfills"</span></span> + esVersion + <span class="hljs-string"><span class="hljs-string">".min.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"./scripts/main"</span></span> + esVersion + <span class="hljs-string"><span class="hljs-string">".min.js"</span></span> ].forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> script = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"script"</span></span>); script.src = url; script.async = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.head.appendChild(script); });</code> </pre><br>  نتيجة لذلك ، سيتلقى مستخدمو المتصفحات الحديثة أكثر البرامج إنتاجية وخفيفة الوزن ، وسيحصل مستخدمو IE11 على ما يستحقونه. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">طريقة أخرى مثيرة للاهتمام لتقليل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مكتبة</a> مثيرة للاهتمام للغاية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">لتخفيض الحزم بنسبة 50 ٪</a> ، لسوء الحظ مع نتائج غير متوقعة. <br></div></div><br><h3 style=";text-align:right;direction:rtl">  تقليل الرمز </h3><br>  هناك مشكلة شائعة للغاية عندما يبدأ المطورون في ربط كل ما تراه أعينهم.  نتيجة لذلك ، في بعض الأحيان يمكنك مشاهدة البرامج التي يتراوح وزنها بين 5-15 ميغابايت أو أكثر.  لذلك ، يجب التعامل مع اختيار المكتبات بحكمة. <br><br>  بدلاً من الأطر الثقيلة مثل Angular أو React ، من الأفضل اختيار نظيراتها الأكثر خفيفة الوزن: vue ، preact ، mithril ، إلخ.  فهي ليست بأي حال من الأحوال أدنى من نظرائهم البارزين ، ولكن يمكن أن يكون التوفير في حجم الحزمة عدة مرات. <br><br>  تجنب استخدام المكتبات الثقيلة.  بدلاً من استخدام المكتبات ، مثل jquery و lodash و moment و rxjs وأي مكتبة أخرى بحجم أصغر من 100 كيلو بايت ، حاول دراسة الخوارزميات بشكل أعمق وابحث عن حل في JS الأصلي.  كقاعدة عامة ، يمكنك الكتابة بطريقة أبسط على نص أصلي ، ويمكنك التخلص من التبعية الثقيلة غير الضرورية. <br><br><h3 style=";text-align:right;direction:rtl">  تصغير الصورة </h3><br>  ربما يعرف جميع مطوري الواجهة الأمامية عن تنسيق صورة الويب ، ويعرفون أيضًا الحاجة إلى تصغير الصور إلى حجم العرض المطلوب.  ولكن لسبب ما ، تجاهل كل المطورين تقريبًا هذا.  والسبب في ذلك ، في رأيي ، بسيط للغاية ، والناس لا يفهمون كيفية القيام بذلك وتطبيقه في متصفحات مختلفة. <br><br>  لذلك ، سأقدم هنا وصفة بسيطة للغاية لحل جميع المشكلات المتعلقة بالصور.  تعتمد هذه الوصفة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">على أداة معالجة وتحويل الصور Sharp</a> .  إنها تتميز بخط أنابيب مدروس للغاية ، حيث تزيد سرعة معالجة الصور من 30 إلى 40 مرة عن نظائرها.  ووقت التجميع نفسه لمئات الصور من مصادر ضخمة بأحجام وأشكال مختلفة يمكن مقارنته بسرعة التجميع للواجهة الأمامية الحديثة. <br><br>  لاستخدام Sharp ، يجب عليك كتابة برنامج نصي ، وأنا أستخدمه مع glob للبحث بشكل متكرر عن الصور في الدليل مع الصور المصدر ، وإخفاء البرنامج النصي نفسه من الأداة المساعدة لتشغيل مهام gulp.  مثال على التجميع الخاص بي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'core-min-images'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> glob = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'glob'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sharp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'sharp'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 1.          glob const files = await new Promise((resolve, reject) =&gt; { glob('src/content/**/*.{jpeg,jpg,png}', {}, async (er, files) =&gt; { !er ? resolve(files) : reject(er); }); }); // 2.      let completed = 1; await Promise.all(files.map(async (file) =&gt; { const outFile = file.replace(/^src/, 'www'); const outDir = path.dirname(outFile); // 2.1.       if (!fs.existsSync(outDir)) { fs.mkdirSync(outDir, { recursive: true }); } // 2.2.    const origin = sharp(file); // 2.3.     1920     //       jpg/png  webp    (80%) const size1920 = origin.resize({ width: 1920 }); await size1920.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-1920w.$1')); await size1920.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-1920w.webp')); // 2.4.    480   const size480 = origin.resize({ width: 480 }); await size480.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-480w.$1')); await size480.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-480w.webp')); // 2.5.    120   const size120 = origin.resize({ width: 120 }); await size120.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-120w.$1')); await size120.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-120w.webp')); // 2.6.      console.log(`Complete image ${completed++} of ${files.length}:`, file); })); });</span></span></code> </pre><br>  نتيجة لذلك ، نحصل على صور محسنة لأحجام مختلفة للشاشة ومتصفحات مختلفة من كل صورة مصدر بحجم كبير.  الآن نحن بحاجة إلى معرفة كيفية استخدامها.  هنا أيضًا ، كل شيء بسيط ، إذا كتبنا في وقت سابق مثل هذا: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sample.jpg"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  الآن نحن بحاجة إلى كتابة مثل هذا: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jpeg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" !"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  وبعد ذلك سيختار المتصفح نفسه التنسيق الأكثر ملاءمة لذلك.  يمكنك أيضًا إضافة هذا الخيار بصور سريعة الاستجابة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.webp, img/sample-960w.webp 2x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg, img/sample-960w.webp 2x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jpeg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" !"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  ومع الأخذ في الاعتبار حقيقة أنه من الممكن الآن إنشاء صور في مرحلة تجميع التطبيق ، اتضح أن جميع الصور سيكون لها نفس مجموعة التنسيقات والدقة ، مما يعني أنه يمكننا توحيد هذا المنطق وإخفائه خلف بعض المكونات ، على سبيل المثال <code>&lt;lazy-img src="img/sample.jpg"&gt;</code> . <br><br><h3 style=";text-align:right;direction:rtl">  تصغير النمط </h3><br>  قم فقط بتنزيل الأنماط التي تستخدم مكوناتك.  من الناحية المثالية ، عندما يتم ربط الأنماط بالمكونات ، وتكون مضمنة في المنزل فقط عندما يتم رسم المكون نفسه. <br><br>  تقليل أسماء الفصول.  يكون للطول الهائل من محددات المتداخلة أو BEM في الأنماط تأثير سيء على حجم التطبيق الخاص بك.  حاليًا ، مليء بالأدوات التي لا تنشئ أنماطًا مع محددات فريدة: JSS ، و Styled Components ، و CSS Modules. <br><br><h3 style=";text-align:right;direction:rtl">  التقليل في المنزل </h3><br>  نحن جميعًا على دراية بلغة html ، لكن قلة منهم اعتقدت أن هذا مجرد تجريد بسيط على شجرة من الكائنات شديدة التعقيد.  سلسلة الميراث لعنصر div هي كما يلي: <br><br> <code>HTMLDivElement -&gt; HTMLElement -&gt; Element -&gt; Node -&gt; EventTarget <br></code> <br>  ولكل كائن في هذه السلسلة 10 إلى 100 خاصية وطرق تستهلك الكثير من الذاكرة.  ويجب أخذ كل هذه الثروة في الاعتبار بواسطة محرك DOM لبناء الصورة التي نراها.  لذلك ، حاول ألا تستخدم العناصر الزائدة في المنزل. <br><br>  تصغير HTML.  احذف كل ما تستخدمه لتنسيق HTML في وقت الكتابة.  الحقيقة هي أن المساحات المستخدمة عند كتابة التعليمات البرمجية في المتصفح تتحول أيضًا إلى كائنات في المنزل: <br><br> <code>TextNode -&gt; Node -&gt; EventTarget <br></code> <br>  حذف التعليقات.  كما أنها عنصر من عناصر المنزل وتستهلك الكثير من الموارد: <br><br> <code>Comment -&gt; CharacterData -&gt; Node -&gt; EventTarget <br></code> <br>  استخدام محركات القوالب jsx يمكن أن يكون ممارسة جيدة.  والحقيقة هي أنه عند تجميعه ، يتحول إلى رمز js أصلي لا يولد مسافات وتعليقات ولا يخطئ أبدًا في فتح وإغلاق العلامات. <br><br>  الممارسة السيئة ، حتى أنني أقول كابوساً ، هو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">facebook.com</a> .  فيما يلي أجزاء HTML: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مقتطف صفحة Html</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!--  1 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_42ef"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_25-w"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_17pg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1rwk"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" _129h"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" _3d2q _65tb _7c_r _4w79"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rp7"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1t"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1v"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-77m1n"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white-space: pre-wrap;"</span></span></span><span class="hljs-tag">&gt;</span></span>  ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1obb"</span></span></span><span class="hljs-tag">&gt;</span></span> ...li... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  2 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_3nd0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1mwp navigationFocus _395 _4c_p _5bu_ _34nd _21mu _5yk1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"presentation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js_u"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5yk2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tabindex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rp7"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1t"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1v"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white-space: pre-wrap;"</span></span></span><span class="hljs-tag">&gt;</span></span>    ? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rpb"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"list"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-controls</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-describedby</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-multiline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"notranslate _5rpu"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">contenteditable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-testid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"status-attachment-mentions-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">spellcheck</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-contents</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-block</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-editor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1mf _1mj"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  كما ترون ، يتم استخدام تداخل مكون من عشرة عناصر ، لكن هذا التداخل لا يقوم بأي عمل.  الجزء الأول يعرض فقط النص "اكتب تعليق ..." والرموز ، والثاني "ما الجديد؟".  نتيجة لهذا الاستخدام غير الرشيد لنظام DOM ، فإن أداء محرك React templating بالكامل يتم إلغاؤه ، ويصبح الموقع أحد أبطأ ما أعرفه. <br><br><h2 style=";text-align:right;direction:rtl">  تطبيق الويب التدريجي </h2><br><h3 style=";text-align:right;direction:rtl">  ملف البيان </h3><br>  يسمح لك PWA باستخدام تطبيق الويب الخاص بك كتطبيق أصلي.  عندما تقوم بتمكين الدعم على الموقع ، يظهر زر تثبيت موقعك على الجهاز (Windows ، Android ، iOS) في قائمة المتصفح ، وبعد ذلك يبدأ في التصرف كآخر أصلي ويعمل في وضع عدم الاتصال ، وكل هذا يتجاوز متاجر التطبيقات. <br><br>  تمكين دعم PWA على الموقع في الواقع بسيط للغاية.  يكفي تضمين ارتباط إلى ملف البيان في صفحة html.  يمكن إنشاء ملف البيان في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pwabuilder.com</a> . <br><br>  لن أتوقف بالتفصيل عن عملية الاتصال ، لأنه  يستحق هذا القسم مقالة كبيرة منفصلة ، وهناك بالفعل مقالات جيدة على المحور. <br><br><h3 style=";text-align:right;direction:rtl">  عامل الخدمة </h3><br>  لا ينتهي تكوين PWA عند توصيل ملف البيان ، فمن الضروري أيضًا توصيل ServiceWorker ، والتي ستكون مسؤولة عن العمل دون اتصال بالإنترنت. <br><br>  يمكن العثور على رمز مثال هناك على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pwabuilder.com</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// This is the service worker with the Cache-first network const CACHE = "pwabuilder-precache"; const precacheFiles = [ /* Add an array of files to precache for your app */ ]; self.addEventListener("install", function (event) { console.log("[PWA Builder] Install Event processing"); console.log("[PWA Builder] Skip waiting on install"); self.skipWaiting(); event.waitUntil( caches.open(CACHE).then(function (cache) { console.log("[PWA Builder] Caching pages during install"); return cache.addAll(precacheFiles); }) ); }); // Allow sw to control of current page self.addEventListener("activate", function (event) { console.log("[PWA Builder] Claiming clients for current page"); event.waitUntil(self.clients.claim()); }); // If any fetch fails, it will look for the request in the cache and serve it from there first self.addEventListener("fetch", function (event) { if (event.request.method !== "GET") return; event.respondWith( fromCache(event.request).then( function (response) { // The response was found in the cache so we responde with it and update the entry // This is where we call the server to get the newest version of the // file to use the next time we show view event.waitUntil( fetch(event.request).then(function (response) { return updateCache(event.request, response); }) ); return response; }, function () { // The response was not found in the cache so we look for it on the server return fetch(event.request) .then(function (response) { // If request was success, add or update it in the cache event.waitUntil(updateCache(event.request, response.clone())); return response; }) .catch(function (error) { console.log("[PWA Builder] Network request failed and no cache." + error); }); } ) ); }); function fromCache(request) { // Check to see if you have it in the cache // Return response // If not in the cache, then return return caches.open(CACHE).then(function (cache) { return cache.match(request).then(function (matching) { if (!matching || matching.status === 404) { return Promise.reject("no-match"); } return matching; }); }); } function updateCache(request, response) { return caches.open(CACHE).then(function (cache) { return cache.put(request, response); }); }</span></span></code> </pre><br>  كما ترى من الكود ، يتم تخزين جميع استجابات الخادم مؤقتًا ، لكن لا يتم استخدام ذاكرة التخزين المؤقت عبر الإنترنت.  ويبدأ استخدامها عند اختفاء الاتصال بالخادم.  وبالتالي ، قد لا يلاحظ المستخدم الذي يتصفح الموقع الاختفاء القصير الأجل للإنترنت ، وحتى إذا اختفى الإنترنت لفترة طويلة ، فإن المستخدم لا يزال لديه فرصة للتنقل حول البيانات المخزنة مؤقتًا بالفعل. <br><br>  البرنامج النصي أعلاه بسيط ، ولكنه مناسب فقط للصفحات المقصودة وهو مجرد نقطة بداية لكتابة عامل لتطبيق ويب أكثر خطورة.  ولكن المزيد عن ذلك في الجزء الثاني من هذه المقالة.  أيضا ، التكنولوجيا مريحة لأنها لا تنقطع عن العمل في المتصفحات القديمة ، أي  في متصفحات مستوى IE11 ، لا تحتاج إلى إعادة كتابة المنطق ، ببساطة لن يعمل وضع عدم الاتصال فيه. <br><br><h2 style=";text-align:right;direction:rtl">  إمكانية الوصول </h2><br><h3 style=";text-align:right;direction:rtl">  السمة الصحيحة لذوي الاحتياجات الخاصة </h3><br>  يوجد عدد قليل جدًا من الأشخاص الذين يتمتعون بصحة مثالية ، لكن لسوء الحظ ، هناك الكثير من الأشخاص الذين يعانون من ضعف الصحة ، بما في ذلك الرؤية.  ولتسهيل الأمر على هؤلاء الأشخاص لاستخدام تطبيق الويب الخاص بك ، يكفي اتباع قواعد بسيطة إلى حد ما: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>استخدام ما يكفي من الألوان المتناقضة.</b>  وفقا لإحصاءات وزارة الصحة ، 20 ٪ من الناس يعانون من مشاكل في الرؤية.  مواقع التباين الضعيفة تعقد حياتهم فقط ، والأشخاص الأصحاء يزيدون من التعب. </li><li style=";text-align:right;direction:rtl">  <b>ترتيب tabindex.</b>  اسمح لك باستخدام الموقع دون الماوس والأجهزة التي تعمل باللمس.  الترتيب السليم للتحولات باستخدام لوحة المفاتيح يبسط إلى حد كبير عملية ملء النماذج. </li><li style=";text-align:right;direction:rtl">  <b>سمة الأغنية على الروابط.</b>  يسمح لقارئات الشاشة بقراءة النص داخل السمة. </li><li style=";text-align:right;direction:rtl">  <b>السمة alt في الصور.</b>  على غرار السابق.  بالإضافة إلى ذلك ، سيعرض النص إذا تعذر تنزيل الصورة. </li><li style=";text-align:right;direction:rtl">  <b>لغة المستند.</b>  قم بتمييز علامة html بالسمة باستخدام language lang = "code language".  سيساعد ذلك الأدوات المساعدة في الإعداد الصحيح للعمل. </li></ul><br>  كما ترون ، المتطلبات في الواقع قليلة وبسيطة للامتثال لها.  لكن لسبب ما ، يتجاهل معظم المطورين هذه القواعد ، حتى عندما يتعلق الأمر بالمواقع المتخصصة للأشخاص ذوي الاحتياجات الخاصة. <br><br><h2 style=";text-align:right;direction:rtl">  أفضل الممارسات </h2><br><h3 style=";text-align:right;direction:rtl">  افصل تطبيق الواجهة الأمامية عن تطبيق الخادم </h3><br>  أولاً ، إذا كنت لا تزال تقوم بتقديم html على الخادم ، فتوقف عن القيام بذلك بالفعل.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يؤدي نقل عملية التقديم إلى العميل بأمرين من الحجم إلى تقليل الحمل على الخادم ، ونتيجة لذلك ، فإن تكلفة دعم تطبيق الخادم. </font><font style="vertical-align: inherit;">والعملاء الحصول على تطبيق مع رد فعل فوري لأفعالهم.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ثانياً ، افصل تطبيق SPA الخاص بالعميل عن تطبيق الواجهة الخلفية. </font><font style="vertical-align: inherit;">لا تضبط تطبيق الخادم وتطبيقات windows مع تطبيق android وتطبيقات iOS. </font><font style="vertical-align: inherit;">لذلك كان تطبيق الويب منذ فترة طويلة تطبيقًا قائمًا بذاته يمكنه العمل بدون خادم وحتى دون اتصال بالإنترنت. </font><font style="vertical-align: inherit;">الخطأ الأكثر شيوعًا الذي أراه هو عندما يعمل إطار خلفي مثل Spring أو Asp.Net في توزيع الإحصائيات ، بما في ذلك تطبيق SPA المجمّع. </font><font style="vertical-align: inherit;">لقد حان الوقت للتوقف عن القيام بذلك ووضع الإحصائيات و SPA في خدمة ميكروية منفصلة وإخفائها خلف خادم ويب متخصص لتوزيع الإحصائيات ، على سبيل المثال nginx.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7j/oc/uf/7jocufzclwsldlrr7jnybguxs18.png" alt="الصورة"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">نتيجة لذلك ، ستعمل كل تقنية على ما يجب أن تفعله وتفعله على نحو أفضل. </font><font style="vertical-align: inherit;">سيقوم Nginx بتوزيع الإحصائيات باستخدام الرؤوس الصحيحة والسرعة القصوى ، سيقوم تطبيق الخادم بإعداد البيانات للعميل ، وسيقوم جهاز العميل بجمع كل شيء معًا وعرضه على المستخدم.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> تكوين الخادم الوكيل ، HTTP / 2 ، gzip ، ذاكرة التخزين المؤقت </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يجب ألا يتصل تطبيق الواجهة الخلفية مباشرة مع العميل ، فمن الأفضل أن تخفيه وراء بوابات متخصصة ، على سبيل المثال ، خادم وكيل Nginx. </font><font style="vertical-align: inherit;">وعلى ذلك يمكنك بالفعل تكوين كل ما هو ضروري للاتصال المريح بين جهاز العميل والخادم.</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <b>  SSL.</b>     SSL    ,  ,           ,  Nginx.   Nginx  Asp.Net Core      ,    . </li><li style=";text-align:right;direction:rtl"> <b>GZIP</b>      .            . </li><li style=";text-align:right;direction:rtl"> <b>Cache</b>    .     Get, Head   ,       . </li><li style=";text-align:right;direction:rtl"> <b>   </b>      . </li></ul><br>  -        ,      ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  nginx nginxconfig.io</a> . <br><br><h2 style=";text-align:right;direction:rtl"> SEO </h2><br><h3 style=";text-align:right;direction:rtl">     html     </h3><br>     ,    .         Lighthouse  . <br><br><h2 style=";text-align:right;direction:rtl">  </h2><br>              ,       .        ,         . <br><br>         ,    ,      . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar440950/">https://habr.com/ru/post/ar440950/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar440940/index.html">استرجاع - مراجعة منطق المخفض والإجراءات</a></li>
<li><a href="../ar440942/index.html">BYD تعلن عن نمو مبيعات السيارات الكهربائية</a></li>
<li><a href="../ar440944/index.html">كيف تكتب بسرعة موقع ويب أو تطبيق ويب ولا تنشغل بهواة الجمع</a></li>
<li><a href="../ar440946/index.html">مجموعة التحديثات: يمكنك بالفعل إنشاء تطبيقات</a></li>
<li><a href="../ar440948/index.html">لا تحصل على ذكاء مع نماذج تسجيل الدخول</a></li>
<li><a href="../ar440954/index.html">دورة حياة مقالة عن هابري: نكتب هاباربراسر. الجزء الثاني</a></li>
<li><a href="../ar440956/index.html">أوركسترا بدوي بديل على سطح المكتب</a></li>
<li><a href="../ar440958/index.html">كيف حاولت إصلاح خريطة البحث عن السائقين. الجزء 2</a></li>
<li><a href="../ar440960/index.html">Orange Pi 2G-IOT: خريطة حقل الألغام</a></li>
<li><a href="../ar440962/index.html">سيضطر مقدمو الاتصالات إلى إبرام عقود لتوصيل المباني السكنية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>