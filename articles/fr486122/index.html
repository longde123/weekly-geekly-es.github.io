<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♻️ 🤚 👨🏿‍🏫 Child ReactJS avec 135 lignes de code 🃏 🍷 ✍🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a déjà beaucoup d'articles sur ReactJS. Mais pour commencer à étudier un programmeur novice, vous devez trouver le tout début où se trouvent les ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Child ReactJS avec 135 lignes de code</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486122/">  Il y a déjà beaucoup d'articles sur ReactJS.  Mais pour commencer à étudier un programmeur novice, vous devez trouver le tout début où se trouvent les fondements de sa création.  Je voulais montrer qu'il n'y a rien de compliqué à comprendre les principes de développement d'un frontend sur ce cadre. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/0bc/623/36f0bc62395c00f1675250ce19584361.jpg" alt="JavaScript pour les bébés"></div><br>  Une méthode d'étude m'a permis de comprendre la structure de nombreux systèmes logiciels complexes et cela revient au fait que vous devez réécrire le projet que vous étudiez afin d'obtenir une sorte de bête inconnue qui au moins bouge un peu et est quelque peu similaire à son prototype. <br><a name="habracut"></a><br>  Je dois admettre que je suis un back-end et je ne sais même pas ce qui m'a motivé à écrire un microframework en JavaScript.  Mais franchement, c'est un désir d'apprendre JS. <br><br>  En fait, il existe une bonne motivation pour créer des projets sous forme de modules / composants.  De l'avis des programmeurs principaux, les données ressemblent au mieux à des objets JSON, elles doivent être formées dans la structure souhaitée et envoyées si nécessaire, puis faire ce que vous voulez avec elles.  À l'avant, dans la version la plus primitive, vous devez sélectionner les éléments HTML nécessaires par ID et mettre à jour leurs attributs, ainsi que modifier les nœuds de texte.  Simplifiez-vous la vie aux frameworks JavaScript. <br><br>  Une fois que j'ai écrit mon framework PHP-Slim, qui est loin de l'original, mais cela m'aide vraiment dans les projets PHP.  Aujourd'hui, je veux parler de la façon dont j'ai présenté les origines du développement de ReactJS.  J'ai écrit un fichier dans 135 lignes de code appelé bots.js et si vous le connectez et écrivez un composant comme dans React, vous pouvez même voir quelque chose dans le navigateur.  Je l'ai appelé ReactKids. <br><br>  L'idée est de décomposer le projet en composants, d'ajouter des composants à l'aide de javascript et de s'assurer qu'il n'y a pas de dépendances entre les composants. <br><br>  Structure standard HTML: <br><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>HelloReactKids<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"root"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/bots.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/pict.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/navbar.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/label.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/button.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js/app.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Pour l'application, spécifiez id = root et connectez bots.js, puis connectez les composants (ou écrivez-les vous-même) et exécutez-le dans app.js. <br><br>  Le composant dans ReactKids ressemble à ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">attr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// attribute components default values if(!attr.labelButton) attr.labelButton = "Click Me" return elem( "button", { padding: "0.65rem", marginTop: "0.4rem", color: "gray", border: "1px solid gray", borderRadius: "0.5rem", background: "#fff", fontSize: "large", cursor: "pointer", }, { id: "btn1", click: btn1Click, }, attr.labelButton ) } function btn1Click(e) { console.log("Clicked!") setAttr(Label({labelContent: "iii!!!"}), 0.6) }</span></span></code> </pre> <br>  Le composant dans notre cas ne peut être qu'une fonction dans laquelle params est appelé attr. <br>  Ici, vous devez prêter attention à la raison pour laquelle cette attr peut être utile.  Eh bien, tout d'abord, ceux qui connaissent la réaction savent qu'il est possible de "réduire" les données à leurs composants filles.  Autrement dit, un composant renvoie un composant qui renvoie un composant, et ainsi de suite jusqu'à ce qu'un composant qui n'a pas d'enfants.  Cependant, ils sont également utilisés comme packages pour les données provenant du serveur.  Les demandes pour le backend sont pour la plupart envoyées à partir de fonctions qui gèrent les événements liés à l'interaction avec l'interface utilisateur. <br><br>  Lorsque le serveur renvoie JSON (généralement sous forme de texte), il doit être transformé en objet JS et effectué quelque part.  C'est à cela que servent les paramètres de React et attr dans notre implémentation enfant. <br>  Dans attr, vous pouvez entasser l'intégralité de l'objet JSON reçu du serveur, ou vous ne pouvez obtenir que les <s>meilleures</s> données dont vous avez besoin et, éventuellement, complétées par d'autres données nécessaires. <br><br>  Ensuite, nous suivons la logique de l'adulte React - au début de la fonction, nous traitons l'objet attr et effectuons d'autres affaires.  Ensuite, vous devez renvoyer le résultat de l'appel de la fonction elem (), dont l'implémentation se trouve dans bots.js.  Les paramètres d'appel sont passés: <br><br><ol><li>  Le nom de la balise. </li><li>  Objet avec styles (au format JS) </li><li>  Attributs de la balise. </li><li>  Du texte, une autre balise ou un autre composant (enfant) ou rien n'est transmis. </li></ol><br>  Jetez un œil à app.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> attr = { <span class="hljs-attr"><span class="hljs-attr">labelContent</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello React Kids"</span></span>, <span class="hljs-attr"><span class="hljs-attr">labelButton</span></span>: <span class="hljs-string"><span class="hljs-string">"This button"</span></span>, } rend(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"root"</span></span>), App(attr)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">attr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> elem( <span class="hljs-string"><span class="hljs-string">"div"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fontFamily</span></span>: <span class="hljs-string"><span class="hljs-string">"segoe ui"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"gray"</span></span>, <span class="hljs-attr"><span class="hljs-attr">textAlign</span></span>: <span class="hljs-string"><span class="hljs-string">"center"</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span>, }, [ Navbar(attr), Pict(attr), Label(attr), Button(attr), ] ) }</code> </pre><br>  Rien d'inhabituel ici non plus.  Voici la même chose plus compliquée: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">attr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cpic1 = CirclePict({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"img1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">"./img/img1.jpg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-string"><span class="hljs-string">"200px"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cpic2 = CirclePict({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"img1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">"./img/img2.jpg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-string"><span class="hljs-string">"200px"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cpic3 = CirclePict({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"img1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">"./img/img3.jpg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-string"><span class="hljs-string">"200px"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> txt1 = <span class="hljs-string"><span class="hljs-string">"   .          ."</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> txt2 = <span class="hljs-string"><span class="hljs-string">"   ,          ."</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> elem( <span class="hljs-string"><span class="hljs-string">"div"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fontFamily</span></span>: <span class="hljs-string"><span class="hljs-string">"segoe ui"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"gray"</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span>, }, [ Pict({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"logo"</span></span>, <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">"./img/logo.png"</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-string"><span class="hljs-string">"90%"</span></span>}), Text({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"info"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">"you number"</span></span>, <span class="hljs-attr"><span class="hljs-attr">direction</span></span>: <span class="hljs-string"><span class="hljs-string">"right"</span></span>}), Label(attr), Outer({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"outer1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">content</span></span>: [cpic1, cpic2, cpic3]}), Text({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"txt1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: txt1, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-string"><span class="hljs-string">"450px"</span></span>}), Button(attr), Label({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"lbl2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">labelContent</span></span>: <span class="hljs-string"><span class="hljs-string">"   "</span></span>}), Text({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"txt2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: txt2, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-string"><span class="hljs-string">"650px"</span></span>, <span class="hljs-attr"><span class="hljs-attr">direction</span></span>: <span class="hljs-string"><span class="hljs-string">"center"</span></span>}), RoundPict({<span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">"well"</span></span>, <span class="hljs-attr"><span class="hljs-attr">src</span></span>: <span class="hljs-string"><span class="hljs-string">"./img/well.jpg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-string"><span class="hljs-string">"280px"</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-string"><span class="hljs-string">"550"</span></span>}) ] ) }</code> </pre> <br>  Comme vous pouvez le voir, nous avons intégré le composant CirclePict dans le composant Outer 3. <br><br>  Les enfants ont bien sûr remarqué le manque de JSX.  En fait, il a été inventé par des programmeurs paresseux et facilite simplement ce que nous écrivons.  En conséquence, les balises JSX se transforment toujours en JavaScript. <br><br>  Vous devez maintenant voir comment cela est désormais implémenté dans bots.js.  Le framework se compose de 3 fonctions entières, en fait elem () et setAttr (), la première à créer, la seconde à mettre à jour l'état du composant et rend () à afficher dans app.js. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">elem</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elt, style, attr, item</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*element */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(elt) { <span class="hljs-comment"><span class="hljs-comment">//  ,      var el = document.createElement(elt); } else { console.log("elt fail") return } /* style */ if(style) { if(typeof(style) == "object") { for(var itm in style) { el.style[itm] = style[itm] } } else { console.log("style is not object type") } } else { console.log("style fail") } /* attr */ if(attr) { if(typeof(attr) == "object") { for(var itm in attr) { if(typeof(attr[itm]) == "function") { el.addEventListener(itm, attr[itm]) } else { // standart el[itm] = attr[itm] } } } else { console.log("attr is not object type") } } else { console.log("attr fail (add ID for element)") } /* item */ if(item) { if(typeof(item) == "string") { var text = document.createTextNode(item) el.appendChild(text) } else if(typeof(item) == "object") { if(Array.isArray(item)) { if(item.length &lt; 1) { console.log("not items in array") return } item.map(function(itm) { el.appendChild(itm) }) } else { el.appendChild(item) } } else { console.log("text is not string or object type") } } else { console.log("text fail") } return el }</span></span></code> </pre> <br>  La fonction traite les paramètres qui lui sont passés dans la même séquence: <br><br><ol><li>  Créez un composant dans l'arborescence du document. </li><li>  Ajout de styles à elle. </li><li>  Attributs. </li><li>  Ajout d'un élément enfant en tant que texte ou autre élément. </li></ol><br>  Lors du traitement des attributs, nous vérifions également leur type, si une fonction est reçue en tant que valeur, il est supposé qu'il s'agit d'un événement et nous y accrochons une écoute électronique.  Il ne reste donc qu'à déclarer et implémenter la fonction indiquée comme événement. <br><br>  C'est dans cette fonction de gestion d'événements que nous appelons setAttr (), en lui passant l'objet lui-même avec l'attr mis à jour.  Il y a une chose mais - pour chaque élément à créer dans attr, vous devez spécifier id; sinon, il ne sera pas mis à jour via setAttr.  Elle par id le trouve dans le DOM. <br><br>  Quant à setAttr (), tout est pire que dans React, bien que pour comprendre les principes c'est suffisant (enfin, ou presque). <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setAttr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">update, slow</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(slow) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> replace = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(update.id) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> opamax = <span class="hljs-number"><span class="hljs-number">0.99</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> opaint = <span class="hljs-number"><span class="hljs-number">0.01</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> outslow = setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ opamax = opamax - opaint <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(opamax &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { clearInterval(outslow) update.style.opacity = opamax replace.parentNode.replaceChild(update, replace) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> inslow = setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ opamax = opamax + opaint update.style.opacity = opamax <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(opamax &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>) { clearInterval(inslow) } }, slow) } replace.style.opacity = opamax }, slow) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> replace = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(update.id) replace.parentNode.replaceChild(update, replace) } }</code> </pre> <br>  Comme vous pouvez le voir ici, seules les manipulations avec l'arborescence du document et un autre effet de fondu, de sorte qu'au moins il ressemble et le code ressemble à une fonction, pas helloworld. <br><br>  La chose la plus cool dans le cadre de nos enfants est la fonction de rendu: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rend</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">root, elem</span></span></span><span class="hljs-function">) </span></span>{ root.appendChild(elem) }</code> </pre> <br>  J'ai remarqué qu'il est difficile pour les programmeurs débutants de commencer à apprendre des choses comme React purement psychologiquement.  Après avoir vu des centaines de mégaoctets de bibliothèques et des millions de lignes de code, vous devez être déprimé et chercher autre chose.  En particulier, ils passent à Vue.  Bien sûr, c'est aussi un bon cadre, mais il est encore mieux de comprendre les deux approches du développement frontal. <br><br>  Il s'avère que les environnements logiciels complexes résultent de solutions petites mais efficaces.  Par conséquent, je souhaite bonne chance à tous ceux qui cherchent à connaître React.  Que la force vienne avec nous! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr486122/">https://habr.com/ru/post/fr486122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486104/index.html">MVCC dans PostgreSQL-7. Autovacuum</a></li>
<li><a href="../fr486106/index.html">Rétroéclairage adaptatif pour téléviseur Raspberry Pi - Ambilight Analog</a></li>
<li><a href="../fr486114/index.html">Des scientifiques de premier plan dans le domaine des neurosciences se réuniront lors du congrès annuel du Neuronet Industry Union</a></li>
<li><a href="../fr486116/index.html">Tests de simplicité de Fermat et Miller-Rabin</a></li>
<li><a href="../fr486120/index.html">Normalisation de la déviance. Comment les mauvaises pratiques deviennent la norme dans notre industrie</a></li>
<li><a href="../fr486128/index.html">Architecte de solution de test: qui est-ce et quand est-il nécessaire</a></li>
<li><a href="../fr486150/index.html">Développement de la sphère informatique en Slovaquie. Prestations de travail pour les jeunes professionnels</a></li>
<li><a href="../fr486156/index.html">Comme j'ai enseigné, puis écrit un manuel de formation en Python</a></li>
<li><a href="../fr486158/index.html">Visualisation de la traduction automatique neuronale (modèles seq2seq avec mécanisme d'attention)</a></li>
<li><a href="../fr486164/index.html">Coronavirus 2019-nCoV. FAQ sur la protection respiratoire et la désinfection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>