<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ûüèΩ ü§∏üèæ üíá Armazenamento de objetos na sala dos fundos ou Como se tornar seu pr√≥prio provedor de servi√ßos üòî üòØ ‚òÅÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O mundo viu o primeiro prot√≥tipo de armazenamento de objetos em 1996. Ap√≥s 10 anos, o Amazon Web Services lan√ßar√° o Amazon S3 e o mundo come√ßar√° a enl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Armazenamento de objetos na sala dos fundos ou Como se tornar seu pr√≥prio provedor de servi√ßos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/474746/"><p>  O mundo viu o primeiro prot√≥tipo de armazenamento de objetos em 1996.  Ap√≥s 10 anos, o Amazon Web Services lan√ßar√° o Amazon S3 e o mundo come√ßar√° a enlouquecer sistematicamente com um espa√ßo de endere√ßo plano.  Devido ao trabalho com metadados e sua capacidade de escalar sem ceder sob carga, o armazenamento de objetos rapidamente se tornou o padr√£o para a maioria dos servi√ßos de armazenamento em nuvem e muito mais.  Outro recurso importante √© a boa capacidade de armazenar arquivos e arquivos similares raramente usados.  Todos os envolvidos no armazenamento de dados se alegraram e carregaram a nova tecnologia na m√£o. </p><br><p><img src="https://habrastorage.org/webt/qy/bh/on/qybhon6eznwjioedof1nfoqb55s.png"></p><br><p>  Mas o boato das pessoas era cheio de rumores de que o armazenamento de objetos √© apenas sobre nuvens grandes, e se voc√™ n√£o precisar de solu√ß√µes dos capitalistas condenados, ser√° muito dif√≠cil criar o seu.  Muito j√° foi escrito sobre a implanta√ß√£o de sua nuvem, mas n√£o h√° muita informa√ß√£o sobre a cria√ß√£o das chamadas solu√ß√µes compat√≠veis com S3. </p><br><p>  Portanto, hoje descobriremos quais s√£o as op√ß√µes "Para torn√°-lo mais parecido com adultos, n√£o com CEPH e com arquivos maiores", expandiremos um deles e verificaremos com o Veeam Backup &amp; Replication para verificar se tudo funciona.  Ele alega suporte ao trabalho com reposit√≥rios compat√≠veis com S3 e verificaremos esta declara√ß√£o. </p><a name="habracut"></a><br><p>  <strong>E os outros?</strong> </p><br><p>  Sugiro come√ßar com uma breve vis√£o geral do mercado e op√ß√µes para armazenamento de objetos.  Um l√≠der e padr√£o reconhecidos √© o Amazon S3.  Os dois perseguidores mais pr√≥ximos s√£o o Microsoft Azure Blob Storage e o IBM Cloud Object Storage. </p><br><p> Isso √© tudo?  Realmente n√£o existem outros concorrentes?  Obviamente, existem concorrentes, mas algu√©m segue seu pr√≥prio caminho, como Google Cloud ou Oracle Cloud Object Storage, com suporte incompleto √† API S3.  Algu√©m est√° usando vers√µes mais antigas da API, como o Baidu Cloud.  E alguns, como a Hitachi Cloud, exigem o uso de l√≥gica especial, o que certamente causar√° suas dificuldades.  De qualquer forma, todos s√£o comparados com a Amazon, que pode ser considerada um padr√£o industrial. </p><br><p>  Mas as solu√ß√µes locais t√™m muito mais op√ß√µes, ent√£o vamos identificar crit√©rios que s√£o importantes para n√≥s.  Em princ√≠pio, apenas dois s√£o suficientes: suporte para a API S3 e o uso da assinatura v4.  De cora√ß√£o, n√≥s, como futuros clientes, estamos interessados ‚Äã‚Äãapenas em interfaces para intera√ß√£o, e a cozinha interna do armazenamento em si n√£o √© t√£o interessante para n√≥s. </p><br><p>  Bem, muitas solu√ß√µes s√£o adequadas para essas condi√ß√µes simples.  Por exemplo, pesos pesados ‚Äã‚Äãcorporativos cl√°ssicos: </p><br><ul><li>  DellEMC ECS </li><li>  NetApp S3 StorageGrid </li><li>  Ca√ßambas Nutanix </li><li>  Pure Storage FlashBlade e StorReduce </li><li>  Huawei FusionStorage </li></ul><br><p>  H√° um nicho de solu√ß√µes de software puro que funcionam imediatamente: </p><br><ul><li>  Ceph de chap√©u vermelho </li><li>  SUSE Enterprise Storage </li><li>  Cloudian </li></ul><br><p>  E mesmo aqueles que gostam de processar cuidadosamente o arquivo ap√≥s a montagem n√£o se ofendem: </p><br><ul><li>  Ceph puro </li><li>  Minio (vers√£o Linux, para a vers√£o Windows, h√° muitas perguntas) </li></ul><br><p>  A lista est√° longe de estar completa, pode ser discutida nos coment√°rios.  Lembre-se de verificar o desempenho do sistema, al√©m da API de compatibilidade antes da implementa√ß√£o.  A √∫ltima coisa que voc√™ precisa √© a perda de terabytes de dados devido a solicita√ß√µes suspensas.  Portanto, sinta-se livre para fazer testes de estresse.  Em geral, todo software adulto que trabalha com grandes quantidades de dados possui pelo menos relat√≥rios de compatibilidade.  No caso da <em>Veeam,</em> existe um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programa completo</a> para testes m√∫tuos, que permite declarar com seguran√ßa a compatibilidade total de nossos produtos com equipamentos espec√≠ficos.  J√° √© um trabalho de m√£o dupla, nem sempre r√°pido, mas estamos constantemente expandindo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de</a> solu√ß√µes testadas. </p><br><p>  <strong>Juntando nossa posi√ß√£o</strong> </p><br><p>  Eu gostaria de falar um pouco sobre como escolher um assunto de teste. </p><br><p>  Em primeiro lugar, eu queria encontrar uma op√ß√£o que funcionasse imediatamente imediatamente.  Bem, ou pelo menos com a probabilidade m√°xima que ele ganhar√° sem ter que fazer gestos extras.  Dan√ßar com um pandeiro e escolher o console √† noite √© muito emocionante, mas √†s vezes eu quero que ele funcione imediatamente.  E a confiabilidade geral de tais solu√ß√µes √© geralmente mais alta.  E sim, o esp√≠rito aventureiro desapareceu em n√≥s, paramos de subir pelas janelas de nossas amadas mulheres, etc. (c). </p><br><p>  Em segundo lugar, para ser sincero, surge a necessidade de trabalhar com armazenamento de objetos para empresas muito grandes; portanto, esse √© o caso quando se olha para solu√ß√µes de n√≠vel corporativo n√£o apenas n√£o √© embara√ßoso, mas at√© incentivado.  De qualquer forma, ainda n√£o conhe√ßo exemplos de algu√©m demitido por comprar essas solu√ß√µes. </p><br><p>  Com base no exposto, minha escolha recaiu sobre o <em>Dell EMC ECS Community Edition</em> .  Este √© um projeto muito interessante, e considero necess√°rio falar sobre isso. </p><br><p>  A primeira coisa que vem √† mente quando se olha para o complemento <em>Community Edition</em> √© que ele √© apenas um papel vegetal de um ECS completo com algumas restri√ß√µes removidas pela compra de uma licen√ßa.  Ent√£o n√£o! </p><br><p>  Lembre-se: </p><br><p>  <strong>!!! Community Edition √© um projeto separado, projetado para teste e sem o suporte t√©cnico da Dell !!</strong> <br>  E n√£o pode ser transformado em um ECS completo, mesmo que voc√™ realmente queira. </p><br><p>  <strong>Vamos entender</strong> </p><br><p>  Muitas pessoas pensam que o Dell EMC ECS √© quase a melhor solu√ß√£o se voc√™ precisar de armazenamento de objetos.  Todos os projetos da marca ECS, incluindo comerciais e corporativos, est√£o no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> .  Um tipo de gesto de boa vontade da Dell.  Al√©m do software executado em seu hardware de marca, existe uma vers√£o de c√≥digo aberto que pode ser implantada mesmo na nuvem, pelo menos em uma m√°quina virtual, pelo menos no cont√™iner, pelo menos em qualquer hardware.  Olhando para o futuro - existe at√© uma vers√£o OVA, que usaremos. <br>  O pr√≥prio DELL ECS Community Edition √© uma mini-vers√£o do software completo em execu√ß√£o nos servidores da marca Dell EMC ECS. </p><br><p>  Eu destaquei quatro diferen√ßas principais: </p><br><ul><li>  Sem suporte de criptografia.  √â uma pena, mas n√£o cr√≠tico. </li><li>  Camada de tecido ausente.  Isso √© respons√°vel pela cria√ß√£o do cluster, gerenciamento de recursos, atualiza√ß√µes, monitoramento e armazenamento de imagens do Docker.  Aqui j√° √© muito decepcionante, mas a Dell tamb√©m pode ser entendida. </li><li>  A consequ√™ncia mais desagrad√°vel do par√°grafo anterior: o tamanho do n√≥ n√£o pode ser expandido ap√≥s a conclus√£o da instala√ß√£o. </li><li>  Sem suporte t√©cnico.  Este √© um produto para teste, que n√£o √© proibido para uso em pequenas instala√ß√µes, mas pessoalmente n√£o me atreveria a carregar petabytes de dados importantes l√°.  Mas tecnicamente ningu√©m pode impedi-lo de fazer isso. </li></ul><br><p><img src="https://habrastorage.org/webt/xu/za/mx/xuzamxqlzd-n5xqrf1ysuwcdwv0.png"></p><br><p>  <strong>E o que h√° na vers√£o grande?</strong> </p><br><p>  Galopamos pela Europa em busca de solu√ß√µes de ferro para ter uma vis√£o mais completa do ecossistema. </p><br><p>  N√£o vou confirmar ou negar a afirma√ß√£o de que o DELL ECS √© o melhor armazenamento de objetos no local, mas se voc√™ tiver algo a dizer sobre esse assunto, vou ler nos coment√°rios com prazer.  De qualquer forma, de acordo com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IDC MarketScape 2018, a</a> Dell EMC √© um dos cinco l√≠deres no mercado de OBS.  Embora as solu√ß√µes baseadas na nuvem n√£o sejam levadas em considera√ß√£o, esse √© um problema separado. </p><br><p>  Do ponto de vista t√©cnico, o ECS √© um armazenamento de objeto que fornece acesso aos dados por meio de protocolos de armazenamento em nuvem.  Suporta AWS S3 e OpenStack Swift.  Para o balde ativado por arquivo, o ECS suporta o NFSv3 para recursos de exporta√ß√£o de arquivos. </p><br><p>  O processo de grava√ß√£o de informa√ß√µes √© bastante incomum, especialmente ap√≥s os sistemas cl√°ssicos de armazenamento em bloco. </p><br><ul><li>  Quando novos dados chegam, √© criado um novo objeto com um nome, os pr√≥prios dados e metadados. </li><li>  Os objetos vencem em blocos de 128 MB e cada bloco √© gravado imediatamente em tr√™s n√≥s. </li><li>  O arquivo de √≠ndice √© atualizado, onde s√£o identificados os identificadores e os locais de armazenamento. </li><li>  O arquivo de log (registro de log) √© atualizado e tamb√©m √© gravado em tr√™s n√≥s. </li><li>  Uma mensagem sobre a grava√ß√£o bem-sucedida √© enviada ao cliente <br>  Todas as tr√™s c√≥pias dos dados s√£o gravadas em paralelo.  A grava√ß√£o √© considerada bem-sucedida apenas se todas as tr√™s c√≥pias tiverem sido gravadas com sucesso. </li></ul><br><p><img src="https://habrastorage.org/webt/ja/za/la/jazalacrokroce26vjjl7rbggyw.png"></p><br><p>  A leitura √© mais simples: </p><br><ul><li>  O cliente solicita dados. </li><li>  O √≠ndice procura um local para armazenar dados. </li><li>  Os dados s√£o lidos em um n√≥ e enviados ao cliente. </li></ul><br><p><img src="https://habrastorage.org/webt/k9/j2/ib/k9j2ibyuhdfbtvuuze61rb5mt8i.png"></p><br><p>  Existem alguns servidores, por isso, vejamos o menor Dell EMC ECS EX300.  Come√ßa em 60Tb, com a capacidade de crescer para 1.5Pb.  E seu irm√£o mais velho, Dell EMC ECS EX3000, j√° pode armazenar at√© 8.6Pb por rack. </p><br><p>  <strong>Implantar</strong> </p><br><p>  Tecnicamente, o Dell ECS CE pode ser implantado arbitrariamente grande.  De qualquer forma, n√£o encontrei nenhuma restri√ß√£o expl√≠cita.  No entanto, todo o dimensionamento √© feito convenientemente, clonando o primeiro n√≥, para o qual precisamos: </p><br><ul><li>  8 vCPU </li><li>  64GB RAM </li><li>  16 GB para sistemas operacionais </li><li>  1 TB diretamente para armazenamento </li><li>  √öltima vers√£o m√≠nima do CentOS </li></ul><br><p>  Esta √© uma op√ß√£o para o caso em que voc√™ deseja instalar tudo sozinho desde o in√≠cio.  Para n√≥s, essa op√ß√£o n√£o √© relevante, porque  Vou usar a imagem OVA para implanta√ß√£o. </p><br><p>  Mas, em qualquer caso, os requisitos s√£o muito ruins, mesmo para um n√≥, e se voc√™ seguir rigorosamente a letra da lei, existem quatro n√≥s. </p><br><p>  No entanto, os desenvolvedores do ECS CE vivem no mundo real, e a instala√ß√£o √© bem-sucedida, mesmo com um √∫nico n√≥, e os requisitos m√≠nimos s√£o os seguintes: </p><br><ul><li>  4 vCPU </li><li>  16 GB de RAM </li><li>  16 GB para sistemas operacionais </li><li>  104 GB de armazenamento pr√≥prio </li></ul><br><p>  S√£o esses recursos que s√£o necess√°rios para implantar uma imagem OVA.  J√° √© muito mais humano e realista. </p><br><p>  O pr√≥prio n√≥ de instala√ß√£o pode ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acessado</a> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> oficial.  Tamb√©m h√° documenta√ß√£o detalhada sobre a implanta√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">multifuncional</a> , mas voc√™ ainda pode ler nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">readthedocs</a> oficiais.  Portanto, n√£o vamos nos concentrar na implanta√ß√£o do OVA em detalhes, n√£o h√° truques.  A principal coisa - n√£o se esque√ßa antes de inici√°-lo, expanda o disco para o volume desejado ou anexe os necess√°rios. <br>  Iniciamos o carro, abrimos o console e usamos os melhores cr√©ditos padr√£o: </p><br><ul><li>  login: admin </li><li>  senha: ChangeMe </li></ul><br><p>  Ent√£o come√ßamos o sudo nmtui e configuramos a interface de rede - IP / m√°scara, DNS e gate.  Tendo em mente que o CentOS minimal n√£o possui ferramentas de rede, verificamos as configura√ß√µes via endere√ßo IP. </p><br><p><img src="https://habrastorage.org/webt/kn/q-/ha/knq-haxvfdp9awyooe8oejtiqco.png"></p><br><p>  E como os mares apenas se submetem com ousadia, atualizamos yum, ap√≥s o qual reinicializamos.  De fato, √© bastante seguro, porque  toda a implanta√ß√£o √© feita por meio de playbooks e todos os pacotes importantes do docker est√£o bloqueados na vers√£o atual. </p><br><p>  Agora √© hora de editar o script de instala√ß√£o.  N√£o h√° janelas bonitas ou pseudo interface do usu√°rio para voc√™ - tudo atrav√©s do seu editor de texto favorito.  Tecnicamente, existem duas maneiras: voc√™ pode iniciar cada comando com al√ßas ou iniciar imediatamente o configurador videploy.  Ele simplesmente abrir√° a configura√ß√£o no vim e, ao sair, execute sua verifica√ß√£o.  Mas simplificar deliberadamente sua vida n√£o √© interessante, por isso, faremos mais duas equipes.  Embora n√£o fa√ßa sentido, eu te avisei =) </p><br><p>  Portanto, vim o ECS-CommunityEdition / deploy.xml e fazemos as altera√ß√µes m√≠nimas ideais para que o ECS seja ativado e funcione.  A lista de par√¢metros pode ser reduzida, mas fiz o seguinte: </p><br><ul><li>  license_accepted: true Voc√™ n√£o pode alter√°-lo, ao implantar voc√™ ser√° solicitado explicitamente a aceit√°-lo e exibir√° uma boa frase.  Talvez seja at√© um ovo de p√°scoa. <br><img src="https://habrastorage.org/webt/pp/09/uj/pp09ujwekpze79i1nchvg_pf0ru.png"></li><li>  Remova o coment√°rio das linhas de nomes autom√°ticos: e personalizado: digite pelo menos um nome desejado para o n√≥ - o nome do host ser√° substitu√≠do por ele durante o processo de instala√ß√£o. </li><li>  install_node: 192.168.1.1 Especifique os n√≥s IP reais.  No nosso caso, indicamos o mesmo que em nmtui </li><li>  dns_domain: insira seu dom√≠nio. </li><li>  dns_servers: insira seu dns. </li><li>  ntp_servers: voc√™ pode especificar qualquer.  Peguei o primeiro do pool 0.pool.ntp.org (tornou-se 91.216.168.42) </li><li>  autonaming: custom Se voc√™ n√£o remover o coment√°rio, a lua ser√° chamada Luna. </li><li>  ecs_block_devices: <br>  / dev / sdb <br>  Por alguma raz√£o desconhecida, pode haver um dispositivo de armazenamento em bloco inexistente / dev / vda </li><li>  storage_pools: <br>  membros: <br>  192.168.1.1 Aqui, novamente, indicamos os n√≥s IP reais </li><li>  ecs_block_devices: <br>  / dev / sdb Repita a opera√ß√£o de corte de dispositivos inexistentes. </li></ul><br><p>  Em geral, o arquivo inteiro √© descrito em detalhes na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> , mas quem o ler√° em um per√≠odo t√£o agitado.  Tamb√©m diz que o m√≠nimo √© suficiente para especificar o IP e a m√°scara, mas no meu laborat√≥rio essa configura√ß√£o n√£o foi boa e tive que expandir para o acima. </p><br><p><img src="https://habrastorage.org/webt/3h/gq/qh/3hgqqh73fuxttgqzjleit46fyse.png"></p><br><p>  Ap√≥s sair do editor, execute update_deploy /home/admin/ECS-CommunityEdition/deploy.yml e, se tudo for feito corretamente, isso ser√° relatado explicitamente. </p><br><p><img src="https://habrastorage.org/webt/s-/hs/xh/s-hsxhpbz_mbyqbmqmcwzjj7tce.png"></p><br><p>  Ainda √© necess√°rio iniciar o videploy, aguardar a atualiza√ß√£o do ambiente e iniciar a instala√ß√£o com o comando ova-step1 e, ap√≥s sua execu√ß√£o bem-sucedida, o comando ova-step2.  Importante: n√£o pare de criar scripts com as m√£os!  Algumas etapas podem levar um tempo consider√°vel, n√£o realizado na primeira tentativa, e parecem que tudo est√° quebrado.  De qualquer forma, voc√™ deve aguardar a conclus√£o do script de maneira natural.  No final, voc√™ deve ver algo assim. </p><br><p><img src="https://habrastorage.org/webt/nq/qi/ry/nqqiryv7ke9iyt7crqvob-_fhzi.png"></p><br><p>  Agora, finalmente, podemos abrir o painel de controle da WebUI pelo IP que conhecemos.  Se voc√™ n√£o alterou o est√°gio de configura√ß√£o, a conta padr√£o ser√° root / ChangeMe.  Voc√™ pode at√© usar imediatamente nosso armazenamento compat√≠vel com S3.  Est√° dispon√≠vel nas portas 9020 para HTTP e 9021 para HTTPS.  Novamente, se voc√™ n√£o alterou nada, acesse_key: object_admin1 e secret_key: ChangeMeChangeMeChangeMeChangeMeChangeMe. </p><br><p>  Mas n√£o vamos nos antecipar e come√ßar em ordem. </p><br><p><img src="https://habrastorage.org/webt/h8/z0/nv/h8z0nv8zmutp4fuaaljuxph-9pe.png"></p><br><p>  No primeiro login, voc√™ ser√° for√ßado a alterar a senha para uma senha adequada, o que √© absolutamente correto.  O painel principal √© extremamente compreens√≠vel, ent√£o vamos fazer algo mais interessante do que explicar as m√©tricas √≥bvias.  Por exemplo, crie um usu√°rio que usaremos para acessar o reposit√≥rio.  No mundo dos provedores de servi√ßos, eles s√£o chamados de inquilino.  Isso √© feito em Gerenciar&gt; Usu√°rios&gt; Novo Usu√°rio de Objeto. </p><br><p><img src="https://habrastorage.org/webt/ly/tq/_i/lytq_inxpqyy1shfzioiyzqxbcc.png"></p><br><p>  Ao criar um usu√°rio, somos solicitados a especificar um espa√ßo para nome.  Tecnicamente, nada nos impede de obter o maior n√∫mero poss√≠vel de usu√°rios.  E vice-versa.  Isso permite gerenciar recursos de forma independente para cada inquilino. </p><br><p>  Assim, selecionamos as fun√ß√µes que precisamos e geramos as chaves do usu√°rio.  S3 / Atmos ser√° suficiente para mim.  E n√£o se esque√ßa de salvar a chave;) </p><br><p><img src="https://habrastorage.org/webt/kc/4g/4h/kc4g4hb2w6ya7wbkqlhuaowmhko.png"></p><br><p>  O usu√°rio foi criado, agora √© hora de selecionar o balde.  V√° para Gerenciar&gt; Balde e preencha os campos obrigat√≥rios.  Tudo √© simples aqui. </p><br><p><img src="https://habrastorage.org/webt/zl/pa/vh/zlpavhyndrctg7s6y2t44rs-tgw.png"></p><br><p>  Agora, estamos prontos para um uso total do nosso armazenamento S3 em combate. </p><br><p>  <strong>Personalizar Veeam</strong> </p><br><p>  Portanto, como lembramos, um dos principais usos do armazenamento de objetos √© o armazenamento a longo prazo de informa√ß√µes que raramente s√£o acessadas.  Um exemplo ideal √© a necessidade de armazenar backups em um site remoto.  No Veeam Backup &amp; Replication, esse recurso √© chamado de N√≠vel de capacidade. </p><br><p>  Vamos come√ßar a instala√ß√£o adicionando nosso Dell ECS CE √† interface Veeam.  Na guia Infraestrutura de backup, inicie o Assistente para Adicionar Novo Reposit√≥rio e selecione o item Armazenamento de Objeto. </p><br><p><img src="https://habrastorage.org/webt/4a/il/nj/4ailnjz2rhq34njcndqp6fun2vc.png"></p><br><p>  Escolhemos do que se tratava - Compat√≠vel com S3. </p><br><p><img src="https://habrastorage.org/webt/o0/ph/xy/o0phxyprkvi_oscktizel7huwj8.png"></p><br><p>  Na janela exibida, escreva o nome desejado e v√° para a etapa Conta.  Aqui voc√™ precisa especificar o ponto de servi√ßo no formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https: // your_IP: 9021</a> , pode deixar a regi√£o como est√° e adicionar o usu√°rio criado.  Um servidor de porta √© necess√°rio se o seu armazenamento estiver localizado em um site remoto, mas este j√° √© um t√≥pico de otimiza√ß√£o da infraestrutura e um artigo separado, para que voc√™ possa pular com seguran√ßa aqui. </p><br><p><img src="https://habrastorage.org/webt/6v/ub/vy/6vubvylw5cxuyiz_4vtti6dhviu.png"></p><br><p>  Se tudo estiver especificado e configurado corretamente, um aviso de certificado ser√° exibido e, em seguida, uma janela com um balde onde voc√™ poder√° criar uma pasta para nossos arquivos. </p><br><p><img src="https://habrastorage.org/webt/ux/by/uv/uxbyuv_dqcew5zin2v_nvozfmh4.png"></p><br><p>  Passamos pelo assistente at√© o final e aproveitamos o resultado. </p><br><p><img src="https://habrastorage.org/webt/v0/ud/cx/v0udcxh2stuvolvqbl8fyplnrdy.png"></p><br><p>  Na pr√≥xima etapa, √© necess√°rio criar um novo reposit√≥rio de backup em expans√£o ou adicionar nosso S3 ao existente - ele ser√° usado como camada de capacidade para armazenamento de arquivo morto.  As fun√ß√µes para usar reposit√≥rios compat√≠veis com S3 diretamente, como um reposit√≥rio regular, n√£o est√£o no release atual.  Muitos problemas bastante √≥bvios devem ser resolvidos para isso, mas tudo pode ser. <br>  Entramos nas configura√ß√µes do reposit√≥rio e ativamos o Capacity Tier.  Tudo √© transparente l√°, mas h√° uma nuance interessante: se voc√™ deseja que todos os dados sejam enviados para o armazenamento de objetos o mais r√°pido poss√≠vel, basta definir 0 dias. </p><br><p><img src="https://habrastorage.org/webt/lu/9c/bw/lu9cbwqq3asnqszw2vh4c6qzx3y.png"></p><br><p>  Depois de passar no assistente, se voc√™ n√£o quiser esperar, pressione ctrl + RMB no reposit√≥rio, force o trabalho de Camada em camadas a iniciar e assista o rastreamento dos gr√°ficos. </p><br><p><img src="https://habrastorage.org/webt/_9/pa/zo/_9pazooynmywt14iqjdwleocbem.png"></p><br><p>  Por enquanto √© tudo.  Considero a tarefa de mostrar que o armazenamento em bloco n√£o √© t√£o assustador quanto √© habitual pensar, eu consegui.  Sim, existem solu√ß√µes e op√ß√µes para uma carro√ßa e um carrinho pequeno, mas voc√™ n√£o pode cobrir tudo em um artigo.  Ent√£o, vamos compartilhar a experi√™ncia nos coment√°rios. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474746/">https://habr.com/ru/post/pt474746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474726/index.html">At√© as crian√ßas entender√£o: uma explica√ß√£o simples de ass√≠ncrono / espera e promessas em JavaScript</a></li>
<li><a href="../pt474732/index.html">Trabalhe com a lista de pinos, em C ++ para microcontroladores (usando o CortexM como exemplo)</a></li>
<li><a href="../pt474738/index.html">Modelagem geom√©trica de superf√≠cies de filete</a></li>
<li><a href="../pt474740/index.html">Melhor do Museu de Hist√≥ria da Computa√ß√£o em Mountain View</a></li>
<li><a href="../pt474744/index.html">Uber entra no mercado de servi√ßos financeiros e lan√ßa a divis√£o Uber Money</a></li>
<li><a href="../pt474748/index.html">Sistemas de Service Desk e sua integra√ß√£o. Como automatizar o processo de trabalho com contratados e fabricantes?</a></li>
<li><a href="../pt474754/index.html">Seguran√ßa do PHP: onde e como armazenar senhas. Parte 1</a></li>
<li><a href="../pt474756/index.html">VMworld Europe 2019: principais an√∫ncios e desembalagem da lend√°ria mochila</a></li>
<li><a href="../pt474760/index.html">Prendemos o ngx-translate no aplicativo Angular. Passo a passo pr√°tico</a></li>
<li><a href="../pt474762/index.html">Semin√°rio: Solu√ß√µes de TI h√≠bridas para neg√≥cios. 14 de novembro, Moscou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>