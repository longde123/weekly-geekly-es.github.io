<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå®Ô∏è üîä üíÉ Deklaratives Schema und was daran in Magento 2 falsch ist ‚òÄÔ∏è ‚ôÇÔ∏è ü•å</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle. Diese Ver√∂ffentlichung gibt in erster Linie nicht vor, der Titel der Wahrheit zu sein, sondern ist nur meine pers√∂nliche Meinung, wenn ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deklaratives Schema und was daran in Magento 2 falsch ist</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462795/">  Hallo an alle.  Diese Ver√∂ffentlichung gibt in erster Linie nicht vor, der Titel der Wahrheit zu sein, sondern ist nur meine pers√∂nliche Meinung, wenn Sie sie perfekt teilen, wenn nicht, bitte ich in den Kommentaren um Diskussion. <br><br>  Also n√§her am Punkt.  In Version Magento 2.3 und h√∂her gab es ein solches ‚ÄûBr√∂tchen‚Äú als deklaratives Schema.  Was ist dieses deklarative Schema?  Wenn wir uns der Magento-Dokumentation zuwenden, wird sie in Schwarzwei√ü geschrieben: ‚ÄûEin deklaratives Schema soll die Installation und Aktualisierung von Magento vereinfachen.‚Äú <br><a name="habracut"></a><br>  Alles scheint gro√üartig zu sein, denn bevor die Entwickler viele Installations- und Upgrade-Skripte schreiben mussten (in M1 gab es im Allgemeinen einen kleinen Albtraum), war es bis Version 2.3 erforderlich, eine bestimmte Anzahl von Skripten abh√§ngig von den Aufgaben beizubehalten, n√§mlich: <br><br>  <b>InstallSchema</b> - Diese Klasse wird gestartet, wenn das Modul zum Konfigurieren der Datenbankstruktur installiert wird. <br>  <b>InstallData</b> - Diese Klasse wird gestartet, wenn das Modul zum Initialisieren von Datenbanktabellendaten installiert wird. <br>  <b>UpgradeSchema</b> - Diese Klasse wird gestartet, wenn das Modul aktualisiert wird, um die Datenbankstruktur zu konfigurieren. <br>  <b>UpgradeData</b> - Diese Klasse wird gestartet, wenn das Modul aktualisiert wird, um Daten zur Tabelle hinzuzuf√ºgen / daraus zu entfernen. <br>  <b>Deinstallieren</b> - Diese Klasse wird gestartet, um Daten und Tabellen aus der Datenbank zu entfernen. <br><br>  Stimmen Sie zu, dies ist besser, als f√ºr jedes Niesen ein separates Skript zu schreiben.  Dies stellte sich jedoch als nicht sehr praktisch heraus, da ich der Versionierung folgen, verfolgen und verstehen musste, was Sie in diesen Skripten haben, und au√üerdem wuchsen sie zu riesigen "Fu√üt√ºchern" mit mehr als 4000 Zeilen.  Infolgedessen erwies sich dieser Ansatz als ziemlich fehlgeschlagen.  Die Anzahl der Dateien hat abgenommen, aber die Anzahl der Codezeilen hat zugenommen. <br><br>  Dann kam das deklarative Schema zur Rettung.  Tats√§chlich <b>kam</b> es auf eine einzelne Datei an - <b>db_schema.xml</b> .  In dem Sie den Endzustand der Datenbank speichern.  Wenn Sie also eine benutzerdefinierte Tabelle f√ºr das Modul ben√∂tigen, beschreiben Sie die erforderlichen Felder in dieser Datei und fertig.  Als n√§chstes erstellt das Magenta eine Tabelle f√ºr Sie.  Falls Sie eine bereits zuvor erstellte Tabelle aktualisieren m√ºssen, nehmen Sie einfach √Ñnderungen an der Datei <b>db_schema.xml vor</b> und das ist alles (die Magie geschieht von selbst).  Sie m√ºssen die Versionsverwaltung nicht √ºberwachen, Sie m√ºssen keine Skripts zum Aktualisieren der Datenbank f√ºr jede neue Version des Moduls schreiben, und Sie m√ºssen keine unn√∂tigen Vorg√§nge ausf√ºhren.  Stimme zu - es ist cool. <br><br>  Aber es gibt keine Fliege in der Salbe ohne eine Fliege in der Salbe.  (Dies ist kein Tippfehler, wer mit Magento arbeitet, wird mich verstehen :)). <br><br>  Das deklarative Schema ist nur dann gut, wenn Sie mit benutzerdefinierten Tabellen arbeiten.  Wenn Sie einem Produkt oder einer Kategorie programmgesteuert ein Attribut hinzuf√ºgen, ein INSERT oder UPDATE erstellen oder schlie√ülich etwas im Schema √§ndern m√ºssen, schreiben Sie bitte Patches.  Wir werden unten dar√ºber sprechen. <br><br>  Ziehen Sie beispielsweise in Betracht, ein benutzerdefiniertes Attribut f√ºr ein Produkt hinzuzuf√ºgen. <br><br>  1. Beginnen wir mit der Erstellung der folgenden Klasse im Modul: <br>  <b>Setup \ Patch \ Data \ AddAlternativeNameAttribute.php</b> <br><br>  Welche f√ºr den Anfang wird den folgenden Inhalt enthalten <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">Patch</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Eav</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">EavSetupFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">ModuleDataSetupInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">Patch</span></span>\<span class="hljs-title"><span class="hljs-title">DataPatchInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddAlternativeNameAttribute</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataPatchInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> ModuleDataSetupInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $moduleDataSetup; <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> EavSetupFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $eavSetupFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ModuleDataSetupInterface $moduleDataSetup * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> EavSetupFactory $eavSetupFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ModuleDataSetupInterface $moduleDataSetup, EavSetupFactory $eavSetupFactory )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;moduleDataSetup = $moduleDataSetup; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;eavSetupFactory = $eavSetupFactory; } }</code> </pre> <br>  Das DataPatchInterface erwartet die Implementierung von drei Funktionen: <b>apply</b> , <b>getDependencies</b> und <b>getAliases</b> . <br><br>  2. Die <b>Apply-</b> Funktion ist der Ort, an dem Attributelemente erstellt werden.  Jetzt m√ºssen die Funktionen startSetup und endSetup hier nicht mehr aufgerufen werden, da nur Attribute erstellt werden.  Erstellen Sie dazu eine Instanz von EavSetupFactory, √ºbergeben Sie unser moduleDataSetup-Objekt und f√ºgen Sie unser Attribut hinzu: <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> EavSetup $eavSetup */</span></span> $eavSetup = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;eavSetupFactory-&gt;create([<span class="hljs-string"><span class="hljs-string">'setup'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;moduleDataSetup]); $eavSetup-&gt;addAttribute(<span class="hljs-string"><span class="hljs-string">'catalog_product'</span></span>, <span class="hljs-string"><span class="hljs-string">'alternative_name'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'varchar'</span></span>, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Alternative Name'</span></span>, <span class="hljs-string"><span class="hljs-string">'input'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-string"><span class="hljs-string">'used_in_product_listing'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'user_defined'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ]); }</code> </pre><br>  3. Die Funktion <b>getDependencies</b> erwartet ein Array von Zeichenfolgen, das die Namen der Abh√§ngigkeitsklassen enth√§lt.  Dies ist eine neue Funktionalit√§t, die speziell f√ºr deklarative Schemaskripte angezeigt wurde und Magento mitteilt, dass die hier definierten ‚ÄûPatches‚Äú vor unserem Installationsskript ausgef√ºhrt werden m√ºssen.  Auf diese Weise steuert Magento die Ausf√ºhrungsreihenfolge von Patch-Skripten. <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDependencies</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre><br>  4. Die letzte Funktion <b>getAliases</b> , die die Aliase f√ºr diesen Patch definiert.  Da wir keine Versionsnummern mehr angeben, kann sich der Name unserer Klasse √§ndern. In diesem Fall m√ºssen wir hier den alten Klassennamen angeben, damit er nicht ein zweites Mal ausgef√ºhrt wird (Patches werden nur einmal ausgef√ºhrt). <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAliases</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre><br>  Die letzte Klasse wird so aussehen: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Foo</span></span>\<span class="hljs-title"><span class="hljs-title">Bar</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">Patch</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Eav</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">EavSetup</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Eav</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">EavSetupFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">ModuleDataSetupInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">Patch</span></span>\<span class="hljs-title"><span class="hljs-title">DataPatchInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddAlternativeNameAttribute</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataPatchInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> ModuleDataSetupInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $moduleDataSetup; <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> EavSetupFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $eavSetupFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ModuleDataSetupInterface $moduleDataSetup * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> EavSetupFactory $eavSetupFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ModuleDataSetupInterface $moduleDataSetup, EavSetupFactory $eavSetupFactory )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;moduleDataSetup = $moduleDataSetup; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;eavSetupFactory = $eavSetupFactory; } <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> EavSetup $eavSetup */</span></span> $eavSetup = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;eavSetupFactory-&gt;create([<span class="hljs-string"><span class="hljs-string">'setup'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;moduleDataSetup]); $eavSetup-&gt;addAttribute(<span class="hljs-string"><span class="hljs-string">'catalog_product'</span></span>, <span class="hljs-string"><span class="hljs-string">'alternative_name'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'varchar'</span></span>, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Alternative Name'</span></span>, <span class="hljs-string"><span class="hljs-string">'input'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'text'</span></span>, <span class="hljs-string"><span class="hljs-string">'used_in_product_listing'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'user_defined'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ]); } <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDependencies</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAliases</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } }</code> </pre><br>  5. F√ºhren Sie nun das <b>bin / magento-Setup aus: Aktualisieren Sie,</b> damit unser Patch <b>angewendet wird</b> .  F√ºr alle Patches, die erfolgreich ausgef√ºhrt wurden, f√ºgt Magento einen Eintrag in die <b>Patch-List-</b> Datenbanktabelle ein, dessen <b>Feldwert patch_name</b> dem Wert unserer Klasse entspricht (Foo \ Bar \ Setup \ Patch \ Data \ AddAlternativeNameAttribute). <br><br>  6. <b>Wenn Sie</b> den Wert aus der Tabelle <b>patch_list entfernen</b> , wird der Patch erneut ausgef√ºhrt, wenn die Installation von <b>bin / magento setup: upgrade gestartet wird</b> .  Diese Funktionalit√§t ist beim Debuggen von Patches hilfreich. <br><br>  Das Ergebnis: <br><br>  + Das deklarative Schema vereinfacht die Arbeit mit benutzerdefinierten Tabellen <br>  + Keine Notwendigkeit, die Versionierung zu √ºberwachen <br>  + Einfache Datenaktualisierung in Tabellen und Anpassung von Tabellenfeldern <br><br>  - Die Unf√§higkeit, der Produktkategorie √ºber ein deklaratives Schema Attribute hinzuzuf√ºgen <br>  - Wenn das Modul f√ºr die Versionen 2.1, 2.2, 2.3 universell ist, m√ºssen Sie sowohl ein deklaratives Schema als auch Installationsskripte schreiben. <br>  - Die Notwendigkeit, Patches f√ºr die Arbeit mit Kerntabellen zu schreiben. <br><br>  Vielleicht ist es in absehbarer Zeit sehr praktisch, wenn M2 vollst√§ndig auf ein deklaratives Schema umstellt und keine Patches geschrieben werden m√ºssen.  Aber ob dies passieren wird und wann, wird die Frage offen bleiben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462795/">https://habr.com/ru/post/de462795/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462781/index.html">Professionelle lexikalische Analyse mit regul√§ren Ausdr√ºcken</a></li>
<li><a href="../de462783/index.html">Matrix: 20 Jahre sp√§ter</a></li>
<li><a href="../de462787/index.html">Wie z√§hme ich einen Junior?</a></li>
<li><a href="../de462789/index.html">Von einem Entwickler ohne Gymnasium nach Deutschland</a></li>
<li><a href="../de462793/index.html">Matte mit einem Elefanten und einem Pferd. Die zyklische Methode "Gefangener des Kaukasus"</a></li>
<li><a href="../de462797/index.html">Und wieder √ºber die Wolken, nicht nur die Profis</a></li>
<li><a href="../de462799/index.html">RAVIS und DAB bei einem niedrigen Start. DRM beleidigt. Die seltsame Zukunft des Digitalradios der Russischen F√∂deration</a></li>
<li><a href="../de462801/index.html">15 unverzichtbare Tools f√ºr Produktmanager im Jahr 2019</a></li>
<li><a href="../de462803/index.html">Migration von einem ERP-System zu einem anderen</a></li>
<li><a href="../de462805/index.html">Analyse: Wie Geld beim Handel an der B√∂rse tats√§chlich gesch√ºtzt ist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>