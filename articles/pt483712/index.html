<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéé üë®üèΩ‚Äçüè´ üåø HighLoad ++, Yuri Nasretdinov (VK): como o VK insere dados no ClickHouse de dezenas de milhares de servidores ü¶Ç üßëüèæ‚Äçü§ù‚ÄçüßëüèΩ üëèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HighLoad ++ Moscow 2018, sala de congressos. 9 de novembro, 15:00 

 Resumos e apresenta√ß√£o: http://www.highload.ru/moscow/2018/abstracts/4066 

 Yuri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HighLoad ++, Yuri Nasretdinov (VK): como o VK insere dados no ClickHouse de dezenas de milhares de servidores</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/483712/">  HighLoad ++ Moscow 2018, sala de congressos.  9 de novembro, 15:00 <br><br>  Resumos e apresenta√ß√£o: <a href="http://www.highload.ru/moscow/2018/abstracts/4066">http://www.highload.ru/moscow/2018/abstracts/4066</a> <br><br>  Yuri Nasretdinov (VKontakte): o relat√≥rio abordar√° a experi√™ncia de implementa√ß√£o do ClickHouse em nossa empresa - por que precisamos disso, quantos dados armazenamos, como escrevemos e assim por diante. <br><br><img src="https://habrastorage.org/webt/82/hn/hb/82hnhbxzvzseq8_viregjypt_ms.jpeg"><br><br>  Recursos adicionais: <a href="https://habr.com/ru/company/ua-hosting/blog/483112/">Usando o Clickhouse como um substituto para ELK, Big Query e TimescaleDB</a> <a name="habracut"></a><br><br>  <b>Yuri Nasretdinov:</b> - Ol√° pessoal!  Meu nome √© Yuri Nasretdinov, como eles j√° me apresentaram.  Eu trabalho na VKontakte.  Vou falar sobre como inserimos dados no ‚ÄúClickHouse‚Äù da nossa frota de servidores (dezenas de milhares). <br><br><h3>  O que s√£o logs e por que colet√°-los? </h3><br>  Sobre o que falaremos: o que fizemos, por que precis√°vamos do ‚ÄúClickHouse‚Äù, respectivamente - por que o escolhemos, que tipo de desempenho voc√™ pode obter aproximadamente sem configurar nada especificamente.  Vou falar mais sobre tabelas de buffer, sobre os problemas que tivemos com elas e sobre nossas solu√ß√µes que desenvolvemos de c√≥digo aberto - KittenHouse e Lighthouse. <br><br><img src="https://habrastorage.org/webt/j8/gj/qv/j8gjqvhcihgkbedpsmonpxznjto.jpeg"><br><br>  Por que precisamos fazer alguma coisa (no VKontakte tudo est√° sempre bem, certo?).  Quer√≠amos coletar logs de depura√ß√£o (e havia centenas de terabytes de dados l√°), talvez, de alguma forma, seja mais conveniente ler as estat√≠sticas;  e temos dezenas de milhares de servidores a partir dos quais tudo isso precisa ser feito. <br><br><img src="https://habrastorage.org/webt/pc/og/3w/pcog3wkh42pnfsdpwshhnu-1xqa.jpeg"><br><br>  Por que decidimos?  Provavelmente t√≠nhamos solu√ß√µes para armazenar logs.  Aqui - existe um p√∫blico "Backend VK".  Eu recomendo assinar. <br><br><img src="https://habrastorage.org/webt/15/xd/b3/15xdb3ma4wv43trpduxyujyo1w0.jpeg"><br><br>  O que s√£o logs?  Este √© um mecanismo que retorna matrizes vazias.  Motores em "VK" s√£o o que outros chamam de microsservi√ßos.  E esse adesivo est√° sorrindo (muitas curtidas).  Como assim?  Bem, ou√ßa! <br><br><img src="https://habrastorage.org/webt/xm/xr/rf/xmxrrfccutg7p6ylcy9-zoyi8ba.jpeg"><br><br>  O que pode ser usado para armazenar logs em geral?  √â imposs√≠vel n√£o mencionar o Khadup.  Em seguida, por exemplo, Rsyslog (armazenamento nos arquivos desses logs).  LSD  Quem sabe o que √© LSD?  N√£o, esse LSD n√£o.  Os arquivos tamb√©m s√£o armazenados, respectivamente.  Bem, ClickHouse √© uma vers√£o estranha de algum tipo. <br><br><h3>  Clickhouse e concorrentes: requisitos e oportunidades </h3><br>  O que n√≥s queremos?  Queremos que n√£o precisemos tomar um banho de vapor especial com a opera√ß√£o, para que ele funcione imediatamente da caixa, com configura√ß√£o m√≠nima.  Queremos escrever muito e escrever r√°pido.  E queremos mant√™-lo todos os meses, anos, ou seja, por um longo tempo.  Podemos querer resolver algum tipo de problema que eles vieram at√© n√≥s, eles disseram: "Algo n√£o funciona aqui para n√≥s", mas isso foi h√° 3 meses) e queremos ser capazes de v√™-lo h√° tr√™s meses "  Compacta√ß√£o de dados - √© compreens√≠vel por que ser√° uma vantagem - porque a quantidade de espa√ßo ocupado √© reduzida. <br><br><img src="https://habrastorage.org/webt/ho/f7/bs/hof7bsmyf40jzgxireygut6jpks.jpeg"><br><br>  E temos um requisito t√£o interessante: √†s vezes escrevemos a sa√≠da de alguns comandos (por exemplo, logs), que podem ter mais de 4 kilobytes com bastante calma.  E se isso funcionar no UDP, n√£o ser√° necess√°rio gastar ... n√£o haver√° "sobrecarga" para a conex√£o e, para um grande n√∫mero de servidores, isso ser√° uma vantagem. <br><br><img src="https://habrastorage.org/webt/jh/pj/3i/jhpj3iedzogld0galjmia2npwe4.jpeg"><br><br>  Vamos ver o que o c√≥digo aberto oferece para n√≥s.  Em primeiro lugar, temos um mecanismo de logs - este √© o nosso mecanismo;  ele basicamente sabe tudo, at√© longas filas podem escrever.  Bem, ele n√£o comprime os dados de forma transparente - podemos comprimir grandes colunas se quisermos ... √© claro que n√£o queremos (se poss√≠vel).  O √∫nico problema √© que ele s√≥ pode doar o que √© colocado em sua mem√≥ria;  o resto, para ler, voc√™ precisa obter o binlog desse mecanismo e, consequentemente, leva um bom tempo. <br><br><img src="https://habrastorage.org/webt/ps/uk/f5/psukf5cng6yokwi5cbtvvrfry30.jpeg"><br><br>  Quais s√£o as outras op√ß√µes?  Por exemplo, Khadup.  Facilidade de uso ... Quem acredita que o Hadoup √© f√°cil de configurar?  Com a grava√ß√£o, √© claro, n√£o h√° problemas.  Com a leitura, √†s vezes surgem perguntas.  Em princ√≠pio, eu diria que provavelmente n√£o, especialmente para os logs.  Armazenamento de longo prazo - √© claro, sim, compacta√ß√£o de dados - sim, longas filas - √© claro que voc√™ pode escrever.  Mas para gravar de um grande n√∫mero de servidores ... De qualquer forma, precisamos fazer algo sozinhos! <br><br>  Rsyslog.  Na verdade, n√≥s o usamos como um substituto, para que fosse poss√≠vel ler um binlog sem despejo, mas n√£o conseguia gravar em linhas longas; em princ√≠pio, n√£o conseguia escrever mais de 4 kilobytes.  A compacta√ß√£o de dados deve ser feita da mesma maneira.  A leitura ir√° dos arquivos. <br><br><img src="https://habrastorage.org/webt/nt/xo/k3/ntxok3kz6sqyggmdlctpxrokprs.jpeg"><br><br>  Depois, h√° o desenvolvimento "ruim" do LSD.  O mesmo √© essencialmente o mesmo que o ‚ÄúRsyslog‚Äù: ele suporta linhas longas, mas n√£o sabe como usar o UDP e, de fato, por causa disso, infelizmente, h√° muitas coisas para reescrever l√°.  O LSD precisa ser refeito para que voc√™ possa gravar a partir de dezenas de milhares de servidores. <br><br><img src="https://habrastorage.org/webt/2s/xr/fw/2sxrfwyzgj72wfqblvhlu8fphf0.jpeg"><br><br>  Ah aqui!  Uma op√ß√£o divertida √© o ElasticSearch.  Bem, como dizer?  Est√° tudo bem com a leitura, ou seja, ele l√™ rapidamente, mas n√£o muito bem com a escrita.  Em primeiro lugar, se comprimir os dados, √© muito fraco.  Provavelmente, uma pesquisa completa requer mais estruturas de dados volumosas que o volume original.  √â dif√≠cil de explorar, muitas vezes surgem problemas com ela.  E, novamente, uma entrada no "El√°stico" - todos n√≥s devemos fazer isso sozinhos. <br><br><img src="https://habrastorage.org/webt/wb/uv/ik/wbuvikg6tm42r0pjhkrtdrcye08.jpeg"><br><br>  Aqui ClickHouse - a op√ß√£o ideal, √© claro.  A √∫nica coisa √© que gravar de dezenas de milhares de servidores √© um problema.  Mas ela √© pelo menos uma, podemos tentar resolver de alguma forma.  E o restante do relat√≥rio √© sobre esse problema.  Qual o desempenho geral do ClickHouse que voc√™ pode esperar? <br><br><h3>  Como vamos incorporar?  MergeTree </h3><br>  Quantos de voc√™s n√£o ouviram falar do ClickHouse, n√£o sabem?  Precisa dizer, n√£o √© necess√°rio?  Muito rapido  A inser√ß√£o de 1-2 gigabits por segundo, rajadas de at√© 10 gigabits por segundo podem realmente suportar essa configura√ß√£o - existem dois Xeons de 6 n√∫cleos (isto √©, nem os mais poderosos), 256 gigabytes de RAM, 20 terabytes por RAID (ningu√©m configurado, configura√ß√µes padr√£o).  Alexey Milovidov, desenvolvedor do ClickHouse, provavelmente chorando, que n√£o configuramos nada (tudo funcionou assim para n√≥s).  Consequentemente, uma velocidade de varredura de, por exemplo, cerca de 6 bilh√µes de linhas por segundo pode ser obtida se os dados estiverem bem compactados.  Se voc√™ gosta de% em uma linha de texto, 100 milh√µes de linhas por segundo, isto √©, parece muito rapidamente. <br><br><img src="https://habrastorage.org/webt/mu/m0/ih/mum0ihdgejlxldsd9id8ijjytx8.jpeg"><br><br>  Como vamos incorporar?  Bem, voc√™ sabe disso em "VK" - em PHP.  N√≥s, de cada trabalhador PHP, colaremos o HTTP no "ClickHouse", na placa MergeTree para cada entrada.  Quem v√™ o problema neste circuito?  Por alguma raz√£o, nem todos levantaram as m√£os.  Vamos te contar. <br><br>  Em primeiro lugar, existem muitos servidores - consequentemente, haver√° muitas conex√µes (ruins).  Ent√£o, no MergeTree, √© melhor inserir dados n√£o mais que uma vez por segundo.  E quem sabe o porqu√™?  Ok, bom.  Vou falar um pouco mais sobre isso.  Outra quest√£o interessante √© que n√≥s, por assim dizer, n√£o estamos fazendo an√°lises, n√£o precisamos enriquecer os dados, n√£o precisamos de servidores intermedi√°rios, queremos incorporar diretamente no "ClickHouse" (de prefer√™ncia - quanto mais reto, melhor). <br><br><img src="https://habrastorage.org/webt/2r/im/hz/2rimhzqo0cxkonc8paf7pi2qae0.jpeg"><br><br>  Assim, como a inser√ß√£o √© implementada no MergeTree?  Por que √© melhor inseri-lo n√£o mais que uma vez por segundo ou menos?  O fato √© que "ClickHouse" √© um banco de dados colunar e classifica os dados em ordem crescente da chave prim√°ria e, quando voc√™ insere, o n√∫mero de arquivos √© criado por pelo menos o n√∫mero de colunas nas quais os dados s√£o classificados em ordem crescente da chave prim√°ria (um diret√≥rio separado √© criado, um conjunto de arquivos em disco para cada inser√ß√£o).  Em seguida, a pr√≥xima inser√ß√£o ser√° inserida e, em segundo plano, eles se fundir√£o em uma "parti√ß√£o" maior.  Como os dados s√£o classificados, voc√™ pode "manipular" dois arquivos classificados sem consumir muito mem√≥ria. <br><br>  Mas, como voc√™ pode imaginar, se voc√™ escrever 10 arquivos para cada inser√ß√£o, o ‚ÄúClickHouse‚Äù terminar√° rapidamente (ou seu servidor); portanto, √© recomend√°vel inserir em pacotes grandes.  Consequentemente, nunca lan√ßamos o primeiro esquema em produ√ß√£o.  Lan√ßamos imediatamente um n√∫mero 2 aqui: <br><br><img src="https://habrastorage.org/webt/7z/0d/yt/7z0dytuytercg92yrt1nu3tpczw.jpeg"><br><br>  Imagine aqui que existem cerca de mil servidores nos quais lan√ßamos, h√° apenas PHP.  E em cada servidor existe o nosso agente local, que chamamos de ‚ÄúKittenhouse‚Äù, que mant√©m uma conex√£o com o ‚ÄúClickHouse‚Äù e insere dados a cada poucos segundos.  Ele n√£o insere dados no MergeTree, mas na tabela de spooler, que serve para n√£o inserir diretamente no MergeTree imediatamente. <br><br><img src="https://habrastorage.org/webt/zu/ok/g1/zuokg1unbbwdege3mpsckf8npme.jpeg"><br><br><h3>  Trabalhar com tabelas de buffer </h3><br>  O que √© isso  As tabelas de buffer s√£o uma parte da mem√≥ria embaralhada (ou seja, √© poss√≠vel inseri-las frequentemente).  Eles consistem em v√°rias partes, e cada uma delas funciona como um buffer independente e liberadas independentemente (se voc√™ tiver muitas partes no buffer, haver√° muitas inser√ß√µes por segundo).  Voc√™ pode ler nessas tabelas - depois voc√™ l√™ a uni√£o do conte√∫do do buffer e da tabela pai, mas nesse momento o registro √© bloqueado, portanto, √© melhor n√£o ler a partir da√≠.  E um QPS muito bom √© mostrado pelas tabelas de buffer, ou seja, at√© 3 mil QPS, voc√™ n√£o ter√° nenhum problema com a inser√ß√£o.  √â claro que, se a energia foi perdida no servidor, os dados podem ser perdidos, porque eles foram armazenados apenas na mem√≥ria. <br><br><img src="https://habrastorage.org/webt/4p/rg/l1/4prgl1wcijnrxs6zcgz2gmybvec.jpeg"><br><br>  Ao mesmo tempo, o esquema com o buffer √© complicado por ALTER, porque voc√™ primeiro precisa descartar a tabela de buffer antiga com o esquema antigo (os dados n√£o ser√£o perdidos ao mesmo tempo, porque ser√£o liberados antes da exclus√£o da tabela).  Em seguida, voc√™ "altera" a tabela necess√°ria e cria a tabela de buffer novamente.  Assim, enquanto n√£o h√° tabela de buffer, seus dados n√£o fluem em lugar algum, mas voc√™ pode at√© localmente no disco. <br><br><img src="https://habrastorage.org/webt/nv/vx/ek/nvvxekkpy2bcezjpuylifhcworq.jpeg"><br><br><h3>  O que √© o Kittenhouse e como ele funciona? </h3><br>  O que √© o KittenHouse?  Este √© um proxy.  Adivinha qual idioma?  Eu coletei os t√≥picos com mais hype no meu relat√≥rio - este √© "Clickhouse", V√°, talvez eu me lembre de outra coisa.  Sim, est√° escrito em Go, porque eu realmente n√£o sei escrever em C, n√£o quero. <br><br><img src="https://habrastorage.org/webt/6r/1w/th/6r1wthqhe4flw_7t7ww01s5arug.jpeg"><br><br>  Por conseguinte, mant√©m uma conex√£o com cada servidor, pode gravar na mem√≥ria.  Por exemplo, se escrevermos logs de erro em ‚ÄúClickhouse‚Äù, se ‚ÄúClickhouse‚Äù n√£o tiver tempo para inserir dados (afinal, se muitos forem gravados), n√£o incharemos de mem√≥ria - simplesmente jogamos fora o resto.  Porque, se escrevermos v√°rios gigabits por segundo de erros, provavelmente poderemos lan√ßar alguns.  Kittenhouse sabe como.  Al√©m disso, ele sabe como entregar de maneira confi√°vel, ou seja, grava em um disco na m√°quina local e de vez em quando (l√°, uma vez em alguns segundos) tenta entregar dados desse arquivo.  E, a princ√≠pio, usamos o formato normal de valores - n√£o algum formato bin√°rio, formato de texto (como no SQL regular). <br><br><img src="https://habrastorage.org/webt/rj/2q/z3/rj2qz3hcwcur_lvha_tc2mxjpwq.jpeg"><br><br>  Mas ent√£o isso aconteceu.  Usamos entrega confi√°vel, escrevemos logs e decidimos (era um cluster de teste condicional) ... Por v√°rias horas, eles a lan√ßaram e levantaram de volta, e houve uma inser√ß√£o de milhares de servidores - descobriu-se que o Clickhouse ainda tinha um ‚ÄúThread on conex√£o ‚Äù- consequentemente, em mil conex√µes, a inser√ß√£o ativa leva a uma carga m√©dia no servidor de cerca de mil e meia.  Surpreendentemente, o servidor aceitou solicita√ß√µes, mas esses dados foram inseridos ap√≥s algum tempo;  mas foi muito dif√≠cil para o servidor atend√™-lo ... <br><br><h3>  Adicionar nginx </h3><br>  Essa solu√ß√£o para o modelo Thread por conex√£o √© nginx.  Colocamos o nginx na frente da Clickhouse, ao mesmo tempo, definimos o balanceamento para duas r√©plicas (aumentamos a velocidade de inser√ß√£o em 2 vezes, embora n√£o seja o fato de que deveria ser assim) e limitamos o n√∫mero de conex√µes √† Clickhouse, √† montante e, consequentemente, mais do que em 50 compostos, parece n√£o fazer sentido inserir. <br><br><img src="https://habrastorage.org/webt/7i/ib/9b/7iib9bduvmhr6taouopwj20zzsu.jpeg"><br><br>  Ent√£o percebemos que, em geral, esse esquema tem desvantagens, porque temos um nginx aqui.  Portanto, se esse nginx estabelecer, apesar da presen√ßa de r√©plicas, perdemos dados ou, pelo menos, n√£o escrevemos em lugar algum.  Portanto, fizemos nosso balanceamento de carga.  Tamb√©m entendemos que o ‚ÄúClickhouse‚Äù ainda √© adequado para logs, e o ‚Äúdem√¥nio‚Äù tamb√©m come√ßou a escrever seus pr√≥prios logs no ‚ÄúClickhouse‚Äù tamb√©m - muito conveniente, para ser honesto.  Ainda o usamos para outros "dem√¥nios". <br><br><img src="https://habrastorage.org/webt/px/o4/v3/pxo4v3tnrrxwye_tjavgb2p3kgu.jpeg"><br><br>  Eles descobriram um problema t√£o interessante: se voc√™ usar uma maneira n√£o muito padr√£o de inserir no modo SQL, um analisador completo baseado em SQL AST ser√° for√ßado, o que √© bastante lento.  Assim, adicionamos configura√ß√µes para que isso nunca aconte√ßa.  Fizemos balanceamento de carga, verifica√ß√µes de integridade, para que, se algu√©m morrer, ainda deixemos os dados.  Temos tabelas suficientes para que possamos ter diferentes clusters de "Clickhouse".  E come√ßamos a pensar em outros usos - por exemplo, quer√≠amos gravar logs dos m√≥dulos nginx e eles n√£o podem se comunicar usando nosso RPC.  Bem, eu gostaria de ensin√°-los de alguma forma a enviar - por exemplo, via UDP para receber eventos no host local e envi√°-los para o ‚ÄúClickhouse‚Äù. <br><br><h3>  Um passo da decis√£o </h3><br>  O esquema final come√ßou a ter esta apar√™ncia (a quarta vers√£o deste esquema): em cada servidor na frente da Clickhouse, h√° nginx (no mesmo servidor, al√©m disso) e simplesmente proxies solicita√ß√µes ao host local com um limite no n√∫mero de conex√µes de 50 pe√ßas.  E agora esse esquema j√° estava funcionando, era muito bom com ele. <br><br><img src="https://habrastorage.org/webt/co/ea/sw/coeaswk1ttzg--hk_nz-exq19l0.jpeg"><br><br>  Vivemos assim por cerca de um m√™s.  Todo mundo estava feliz, adicionando tabelas, adicionando, adicionando ... Em geral, descobriu-se que a maneira como adicionamos tabelas de buffer n√£o era muito √≥tima (digamos assim).  Fizemos 16 pe√ßas em cada mesa e um intervalo de flash por alguns segundos;  t√≠nhamos 20 tabelas e 8 inser√ß√µes por segundo foram para cada tabela - e nesse momento o ‚ÄúClickhouse‚Äù come√ßou ... os registros come√ßaram a ficar em branco.  Eles nem foram aprovados ... O Nginx tinha uma coisa t√£o interessante por padr√£o que, se as conex√µes terminassem no upstream, isso forneceria "502" para todas as novas solicita√ß√µes. <br><br><img src="https://habrastorage.org/webt/wd/b-/ih/wdb-ihhsype-ykkjymstxzlq27q.jpeg"><br><br>  E aqui em n√≥s (eu apenas olhei para os logs na pr√≥pria "Clickhouse" que eu olhei) em algum lugar em torno de meio por cento das solicita√ß√µes falha.  Consequentemente, a utiliza√ß√£o do disco foi alta, houve muitas mesclagens.  Bem, o que eu fiz?  Naturalmente, n√£o comecei a entender por que a conex√£o e a montante est√£o terminando. <br><br><h3>  Substituindo nginx por proxy reverso </h3><br>  Decidi que precisamos gerenciar isso sozinhos, n√£o o damos ao nginx - o nginx n√£o sabe quais s√£o as tabelas no "Clickhouse" e substitu√≠ o nginx por um proxy reverso, que tamb√©m escrevi. <br><br><img src="https://habrastorage.org/webt/7u/pv/ve/7upvvezqfizgs73uazcnuqz8edm.jpeg"><br><br>  O que ele esta fazendo?  Ele funciona com base na biblioteca fasthttp "goosh", ou seja, r√°pido, quase t√£o r√°pido quanto o nginx.  Desculpe, Igor, se voc√™ est√° aqui (nota: Igor Sysoev √© um programador russo que criou o servidor da web nginx).  Ele pode entender que tipo de consultas s√£o - INSERT ou SELECT - respectivamente, ele mant√©m diferentes pools de conex√µes para diferentes tipos de consultas. <br><br><img src="https://habrastorage.org/webt/ub/q1/43/ubq143ugu8fsrxicwobmwn8veni.jpeg"><br><br>  Assim, mesmo se n√£o tivermos tempo para concluir as solicita√ß√µes, os "selecionadores" ser√£o aprovados e vice-versa.  E agrupa os dados em tabelas de buffer - com um buffer pequeno: se houver erros, erros de sintaxe etc. - para que eles influenciem levemente o restante dos dados, porque quando inserimos simplesmente nas tabelas de buffer, tivemos pequenos " bachi ‚Äùe todos os erros de sintaxe afetaram apenas este pequeno peda√ßo;  e aqui eles j√° afetar√£o o buffer grande.  Pequeno √© 1 megabyte, ou seja, n√£o √© t√£o pequeno. <br><br><img src="https://habrastorage.org/webt/16/zx/hh/16zxhh_8qun8kzdyjd3i3ysnxzs.jpeg"><br><br>  Inserir um s√≠ncrono e essencialmente substituir o nginx faz essencialmente o mesmo que o nginx antes - o Kittenhouse n√£o precisa ser alterado localmente para isso.  E como usa fasthttp, √© muito r√°pido - voc√™ pode fazer mais de 100 mil solicita√ß√µes por segundo de inser√ß√µes √∫nicas por meio de proxies reversos.  Teoricamente, voc√™ pode inserir uma linha em um proxy reverso kittenhouse, mas certamente n√£o o fazemos. <br><br><img src="https://habrastorage.org/webt/dv/u5/w8/dvu5w8totg6sa3wexahrky4xcsu.jpeg"><br><br>  O esquema come√ßou a ter a seguinte apar√™ncia: o Kittenhouse, um proxy reverso agrupa muitas solicita√ß√µes em tabelas e, por sua vez, as tabelas de buffer as inserem nas principais. <br><br><h3>  Killer - solu√ß√£o tempor√°ria, Kitten - permanente </h3><br>  Houve um problema t√£o interessante ... Algum de voc√™s j√° usou o fasthttp?  Quem usou fasthttp com solicita√ß√µes POST?  Provavelmente, n√£o valia a pena fazer isso de fato, porque ele armazena em buffer o corpo da solicita√ß√£o por padr√£o e definimos o tamanho do buffer de 16 megabytes.  A inser√ß√£o deixou de chegar a tempo em algum momento e, de todas as dezenas de milhares de servidores, come√ßaram a aparecer blocos de 16 megabytes, e todos estavam armazenados em buffer na mem√≥ria antes de serem entregues ao Clickhouse.  Assim, a mem√≥ria acabou, o Killer Out-Of-Memory Killer veio, matou o proxy reverso (ou "Clickhouse", que teoricamente poderia "comer" mais do que o proxy reverso).  O ciclo foi repetido.  N√£o √© um problema muito agrad√°vel.  Embora tenhamos descoberto isso apenas ap√≥s alguns meses de opera√ß√£o. <br><br>  O que eu fiz?  Novamente, eu realmente n√£o gosto de entender o que exatamente aconteceu.  Parece-me bastante √≥bvio que n√£o h√° necessidade de armazenar em buffer a mem√≥ria.  N√£o consegui corrigir o fasthttp, embora tenha tentado.  Mas eu encontrei uma maneira de faz√™-lo para que n√£o houvesse necessidade de consertar nada, e criei meu pr√≥prio m√©todo no HTTP - chamado KITTEN.  Bem, √© l√≥gico - "VK", "Kitten" ... Como mais? <br><br><img src="https://habrastorage.org/webt/o9/r5/cu/o9r5cugeck0dm4gc_macqqzymgg.jpeg"><br><br>  Se uma solicita√ß√£o chegar ao servidor com o m√©todo Kitten, o servidor dever√° responder "miar" - logicamente.  Se ele responder, acredita-se que ele entenda esse protocolo, e ent√£o eu intercepto a conex√£o (existe um m√©todo desse tipo no fasthttp), e a conex√£o entra no modo "bruto".  Por que eu preciso disso?  Quero controlar como ocorre a leitura das conex√µes TCP.  O TCP possui uma propriedade maravilhosa: se ningu√©m l√™ desse lado, o registro come√ßa a esperar e a mem√≥ria n√£o √© especialmente gasta nisso. <br><br>  E ent√£o eu li em algum lugar entre 50 clientes por vez (de cinquenta porque cinquenta certamente deve ser suficiente, mesmo se vier de outro controlador de dom√≠nio) ... O consumo diminuiu com essa abordagem pelo menos 20 vezes, mas sinceramente , N√£o pude medir quanto exatamente, porque j√° n√£o faz sentido (j√° se tornou no n√≠vel do erro).  O protocolo √© bin√°rio, ou seja, existe um nome de tabela e dados;  n√£o h√° cabe√ßalhos http, ent√£o n√£o usei um soquete da web (n√£o preciso me comunicar com os navegadores - criei um protocolo que atenda √†s nossas necessidades).  E com ele estava tudo bem. <br><br><h3>  A tabela de buffer est√° triste </h3><br>  Recentemente, encontramos outro recurso interessante das tabelas de buffer.  E esse problema j√° √© muito mais doloroso que o resto.    :      ¬´¬ª,     ¬´¬ª,      ,     (,  60 );       Alter   ‚Ä¶   ¬´¬ª,    ¬´¬ª,     , ¬´¬ª   ‚Äì , -  ,   ¬´¬ª   .     ?  ? <br><br><img src="https://habrastorage.org/webt/8w/zp/su/8wzpsufzkqmzafrt9vom83joq2i.jpeg"><br><br>  , ,          ,       .  , , ,   ¬´¬ª  (      ‚Äì   ,   , ), ‚Ä¶     ,    ¬´¬ª ( -  ¬´¬ª ) ‚Äì  ,  -   :      (   ,     ),  ¬´¬ª , - ,         .    ,    ¬´¬ª,          ‚Äì   . <br><br><img src="https://habrastorage.org/webt/po/om/z0/poomz0as89k3aqxh3pa9xpvrr-4.jpeg"><br><br>     (,   ) ‚Äì     ¬´¬ª query_thread_log.  ,  -   .    840      (100 ).    ,    (, , ,   ) ¬´¬ª (inserts).    ,   ¬´¬ª  ‚Äì     ¬´¬ª    . ,    ‚Äì     ,       .  Porque      ,    !   . <br><br><img src="https://habrastorage.org/webt/vg/gm/fl/vggmfl00f3pku7iix3k7dfj_-am.jpeg"><br><br>   ,     ?    ¬´¬ª.  . <br><br><h3>   ¬´KitttenHouse¬ª </h3><br>    , ?               .   !    :  ,   ,  -      .          ,       . <br><br><img src="https://habrastorage.org/webt/pd/e0/rd/pde0rdcd8h4mquk684qhfkvmpvq.jpeg"><br><br> ,   ¬´¬ª,      ‚Äì       ,      (, - )     ,   ,  ‚Äì . <br><br><img src="https://habrastorage.org/webt/k_/f3/ev/k_f3ev78dpgabrqjogevuzmykvw.jpeg"><br><br>     ?    .   , ,    10  ,    ‚Äì         -,      ,  .  ,    , ,    ,        ‚Äì ,     ¬´¬ª,    100         - ‚Äì        ,   ,          ,     .          ,   .     ,    . <br><br>  ,       ,    .    :    ,    - ,  , ,    read only    .   ?   .         ‚Äì  -  , -      ‚Ä¶ (   , ¬´¬ª,  ClickHouse)  ? ?   ,    .       .   :      ,        .        ,      .  . <br><br><h3>    </h3><br>      .      .  ,   -   ?..    ¬´¬ª? -    ‚Ä¶     ¬´¬ª?  ,   ,        .     ,        .    ,  . <br><br><img src="https://habrastorage.org/webt/qy/ko/ud/qykoudjbl76cbexrko1zcmr_wmy.jpeg"><br><br>    ‚Äì     .     ,   .    ,   : ,     ,     (   ),      ‚Äì ,   . <br><br><img src="https://habrastorage.org/webt/gp/xa/1f/gpxa1fqutqdl4zr_ngqko2yjpom.jpeg"><br><br>       Sequel Pro,      ¬´¬ª,   .  : ¬´,     -?¬ª  ? 2018-?  ,       ¬´¬ª (MySQL)        ,      ¬´¬ª,    !       ¬´¬ª,     ‚Äì  ,  . <br><br><img src="https://habrastorage.org/webt/bj/ei/vf/bjeivfj1rem72hvgi50jemwlwkc.jpeg"><br><br> ,    ,   ,  ,  ,   ,  ,    , affected rows (  ),       .  . <br><br><img src="https://habrastorage.org/webt/gu/qb/d7/guqbd74jb1bppis3vv_nbokkiaq.jpeg"><br><br>   .        ¬´¬ª,   .  - -  .     . <br><br><h3> ¬´¬ª    </h3><br>    ,  ¬´¬ª,     ,     . ,  ,    ‚Äì         .          ,      ‚Ä¶ ,    ,     . <br><br><img src="https://habrastorage.org/webt/ty/tn/97/tytn97odgbvky_khyj7abanlhqg.jpeg"><br><br> TCP? ,  ¬´¬ª   UDP.     TCP‚Ä¶ , ,   : ¬´,   ! ,  UDP¬ª. ,  TCP     . ,       ,     ‚Äì  -   ;  ,   . <br><br> ¬´¬ª  ¬´¬ª     HighLoad Siberia,       ¬´ ¬ª‚Ä¶  ,   ‚Ä¶    , ,       .  -  , -   ,    ‚Äì ,  (     ,   , ).   <a href="https://vk.com/vkbackend">   </a> .  Muito obrigado!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nosso github </font></font><a href="https://github.com/VKCOM/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Com "Clickhouse", seu cabelo ficar√° macio e sedoso. </font></font><br><br><img src="https://habrastorage.org/webt/ai/nd/eu/aindeupigrlmumartzyvealbyj4.jpeg"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apresentador:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Amigos, e agora perguntas. </font><font style="vertical-align: inherit;">Imediatamente ap√≥s apresentarmos uma carta de agradecimento e seu relat√≥rio sobre VHS. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yuri Nasretdinov (a seguir denominada ONU):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - E como voc√™ poderia registrar meu relat√≥rio sobre o VHS, se este acabou? </font></font><br><br><img src="https://habrastorage.org/webt/w0/b6/zx/w0b6zxe9lcu_9gtaoimopvg8eyy.jpeg"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anfitri√£o:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚ÄúVoc√™ tamb√©m n√£o pode determinar completamente como o‚Äú Clickhouse ‚Äùfuncionar√° ou n√£o! </font><font style="vertical-align: inherit;">Amigos, 5 minutos para perguntas!</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perguntas </font></font></h3><br>  <b>Pergunta da plat√©ia (a seguir - H):</b> - Boa tarde.  Muito obrigado pelo relat√≥rio.  Eu tenho duas perguntas  Vou come√ßar com um fr√≠volo: o n√∫mero de letras t no nome ‚ÄúKittenhouse‚Äù nos esquemas (3, 4, 7 ...) afeta a satisfa√ß√£o dos gatos? <br><br>  <b>ONU:</b> - A quantidade de qu√™? <br><br>  <b>Z:</b> - As letras t.  Existem tr√™s t, em algum lugar tr√™s t. <br><br>  <b>ONU:</b> - Eu realmente corrigi isso?  Bem, √© claro que sim!  Estes s√£o produtos diferentes - eu menti para voc√™ esse tempo todo.  Ok, estou brincando - n√£o.  Ah aqui!  N√£o, √© a mesma coisa, estou selado. <br><br><img src="https://habrastorage.org/webt/fm/4c/ju/fm4cju6vnwwqvpm2o0exqllhsra.jpeg"><br><br>  <b>Z:</b> - obrigado.  A segunda pergunta √© s√©ria.  Tanto quanto eu entendo, em "Clickhouse", as tabelas de buffer vivem exclusivamente na mem√≥ria, n√£o s√£o armazenadas em buffer no disco e, portanto, n√£o s√£o persistentes. <br><br>  <b>ONU:</b> - Sim. <br><br>  <b>Z:</b> - E, ao mesmo tempo, no seu cliente √© realizado o buffer no disco, o que implica alguma garantia de entrega desses mesmos logs.  Mas na Clickhouse, isso n√£o √© garantido.  Explique como √© realizada a garantia, devido a qu√™? .. Esse mecanismo √© mais detalhado <br><br>  <b>ONU:</b> - Sim, teoricamente n√£o h√° contradi√ß√µes, porque voc√™ pode detectar um milh√£o de maneiras diferentes quando o "Clickhouse" cai.  Se o ‚ÄúClickhouse‚Äù travar (se n√£o for conclu√≠do corretamente), voc√™ poder√°, grosso modo, rebobinar o seu registro que anotou um pouco e come√ßar a partir do momento em que tudo estava bem.  Vamos retroceder um minuto atr√°s, ou seja, acredita-se que exibiu tudo em um minuto. <br><br>  <b>Z:</b> - Ou seja, o Kittenhouse mant√©m a janela mais longa e, em caso de queda, pode reconhec√™-la e desenrol√°-la? <br><br>  <b>ONU:</b> - Mas isso √© em teoria.  Na pr√°tica, n√£o fazemos isso, e a entrega confi√°vel √© de zero a infinito.  Mas em m√©dia um.  Estamos satisfeitos que, se o "Clickhouse" travar por algum motivo ou os servidores "reiniciarem", perderemos um pouco.  Em todos os outros casos, nada acontecer√°. <br><br>  <b>Z:</b> - Ol√°.  Desde o in√≠cio, pareceu-me que voc√™ realmente usaria o UDP desde o in√≠cio do relat√≥rio.  Voc√™ tem http, tudo isso ... E a maioria dos problemas que voc√™ descreveu, pelo que entendi, foram causados ‚Äã‚Äãpor essa solu√ß√£o espec√≠fica ... <br><br>  <b>ONU:</b> - O que usamos TCP? <br><br>  <b>Z:</b> - De fato, sim. <br><br>  <b>ONU:</b> - N√£o. <br><br>  <b>Z:</b> - Foi com o fasthttp que voc√™ teve problemas, com a conex√£o voc√™ teve problemas.  Se voc√™ apenas usasse o UDP, economizaria tempo.  Bem, haveria problemas com mensagens longas ou outra coisa ... <br><br>  <b>ONU:</b> - Com o qu√™? <br><br><img src="https://habrastorage.org/webt/zl/pe/qj/zlpeqjirfmjnmnfkz-tmzmpnbia.jpeg"><br><br>  <b>Z:</b> - Com mensagens longas, uma vez que pode n√£o caber no MTU, outra coisa ... Bem, a√≠ podem surgir seus problemas.  A quest√£o √©: por que n√£o √© UDP? <br><br>  <b>ONU:</b> - Acredito que os autores que desenvolveram o TCP / IP s√£o muito mais espertos do que eu e sabem como serializar pacotes melhor (assim v√£o), ao mesmo tempo, ajustam a janela de envio, n√£o sobrecarregam a rede e d√£o feedback sobre o que l√™, sem contar do outro lado ... Todos esses problemas, na minha opini√£o, tamb√©m estariam no UDP, apenas eu teria que escrever ainda mais c√≥digo do que j√° escrevi para implementar a mesma coisa e provavelmente seria ruim.  Eu nem gosto de escrever em C, n√£o gosto daqui ... <br><br>  <b>Z:</b> - Apenas conveniente!  Enviado ok e n√£o espere nada - voc√™ tem absolutamente de forma ass√≠ncrona.  Voltou um aviso de que est√° tudo bem - isso significa que chegou;  n√£o veio - isso significa ruim. <br><br>  <b>ONU:</b> - Preciso disso e de outro - Preciso poder enviar ambos com garantia de entrega e sem garantia de entrega.  Esses s√£o dois cen√°rios diferentes.  Alguns logs eu n√£o preciso perder ou n√£o perder dentro do razo√°vel. <br><br>  <b>Z:</b> - N√£o vou demorar.  Isso deve ser discutido por mais tempo.  Obrigada <br><br>  <b>Apresentador:</b> - Quem tem perguntas - canetas no c√©u! <br><br><img src="https://habrastorage.org/webt/ip/mz/l7/ipmzl72i77pluuukxeyuxpqeob0.jpeg"><br><br>  <b>Z:</b> - Oi, eu sou Sasha.  Em algum lugar no meio do relat√≥rio, havia a sensa√ß√£o de que era poss√≠vel, al√©m do TCP, usar uma solu√ß√£o pronta - algum tipo de "Kafka". <br><br>  <b>ONU:</b> ‚ÄúBem ... eu disse que n√£o quero usar servidores intermedi√°rios, porque ... para Kafka - acontece que temos dez mil hosts;  de fato, temos mais - dezenas de milhares de hosts.  Com Kafka, sem proxies, tamb√©m pode doer.  Al√©m disso, o mais importante √© que ainda fornece "lat√™ncia", fornece os hosts extras que voc√™ precisa ter.  E eu n√£o quero t√™-los - eu quero ... <br><br>  <b>Z:</b> - Mas no final acabou assim mesmo. <br><br>  <b>ONU:</b> - N√£o, n√£o h√° anfitri√µes!  Tudo funciona nos hosts Clickhouse. <br><br>  <b>Z:</b> - Mas e o Kittenhouse, cujo reverso √© - onde ele mora? <br><br><img src="https://habrastorage.org/webt/bn/ew/lk/bnewlk0ozew0rhhlgtdwhkhjfcu.jpeg"><br><br>  <b>ONU:</b> - No host de Klickhouse, ele n√£o escreve nada no disco. <br><br>  <b>Z:</b> - Bem, digamos. <br><br>  <b>Apresentador:</b> - Satisfaz voc√™?  Podemos dar um sal√°rio? <br><br>  <b>Z:</b> - Sim sim.  De fato, existem muitas muletas para obter a mesma coisa e agora - a resposta anterior sobre o t√≥pico do TCP contradiz, na minha opini√£o, essa situa√ß√£o.  Parece que voc√™ pode fazer tudo em seu joelho em muito menos tempo. <br><br>  <b>ONU:</b> - E por que eu n√£o quis usar o "Kafka", porque houve muitas reclama√ß√µes no telegrama "Clickhouse" no Telegram de que, por exemplo, as mensagens de "Kafka" foram perdidas.  N√£o da pr√≥pria Kafka, mas na integra√ß√£o da Kafka e Klikhaus;  ou algo n√£o se conectou l√°.  Grosso modo, seria necess√°rio que o cliente Kafka escrevesse ent√£o.  Eu n√£o acho que uma solu√ß√£o mais simples e confi√°vel seria obtida. <br><br>  <b>Z:</b> - Diga-me, por que voc√™ n√£o experimentou algumas linhas ou um √¥nibus t√£o comum?  Como voc√™ diz que foi poss√≠vel com voc√™ assincronamente dirigir pela fila os pr√≥prios logs e tamb√©m obter assincronamente pela fila em resposta? <br><br><img src="https://habrastorage.org/webt/pn/4q/sz/pn4qszihp9ejs5aoua8swthjrqk.jpeg"><br><br>  <b>ONU:</b> - Por favor, sugira quais filas podem ser usadas? <br><br>  <b>Z:</b> - Qualquer, mesmo sem garantia de que eles est√£o indo em ordem.  Qualquer Redis, RMQ ... <br><br>  <b>ONU:</b> - Sinto que o Redis provavelmente n√£o conseguir√° extrair esse volume de inser√ß√£o nem em um host (no sentido de v√°rios servidores) que retire o Clickhouse.  N√£o posso confirmar isso com nenhuma evid√™ncia (n√£o a fiz como refer√™ncia), mas me parece que o Redis n√£o √© a melhor solu√ß√£o aqui.  Em princ√≠pio, voc√™ pode considerar esse sistema como uma fila de mensagens improvisadas, mas que √© apenas para "Clickhouse" <br><br>  <b>Apresentador:</b> - Yuri, muito obrigado.  Proponho terminar as perguntas e respostas sobre isso e dizer qual das pessoas que fizeram a pergunta nos dar√° um livro. <br><br>  <b>ONU:</b> - Gostaria de dar um livro para a primeira pessoa que fez uma pergunta. <br><br>  <b>Apresentador:</b> - √ìtimo!  √ìtimo!  √ìtimo!  Muito obrigado! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/pbbcMcrQoXw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Um pouco de publicidade :) </h3><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando aos seus amigos o <a href="https://ua-hosting.company/cloudvps/nl">VPS baseado em nuvem para desenvolvedores a partir de US $ 4,99</a> , um <b>anal√≥gico exclusivo de servidores</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">b√°sicos</a> <b>que foi inventado por n√≥s para voc√™:</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">Toda a verdade sobre o VPS (KVM) E5-2697 v3 (6 n√∫cleos) 10 GB DDR4 480 GB SSD 1 Gbps de US $ 19 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato no data center Equinix Tier IV em Amsterd√£?</b>  Somente temos <b><a href="https://ua-hosting.company/serversnl">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</a> na Holanda!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99!</b></b>  Leia sobre <a href="https://habr.com/company/ua-hosting/blog/329618/">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://habr.com/company/ua-hosting/blog/329618/">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483712/">https://habr.com/ru/post/pt483712/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483688/index.html">Sobre o aumento de simultaneidade 30x no Node.js</a></li>
<li><a href="../pt483700/index.html">Resultados F√≠sicos do Ano - 2019</a></li>
<li><a href="../pt483704/index.html">Eventos digitais em Moscou de 13 a 19 de janeiro</a></li>
<li><a href="../pt483706/index.html">Ideias de aplicativos para gerar receita para startups em 2019 e al√©m</a></li>
<li><a href="../pt483708/index.html">Efeito Doppler, ou a quest√£o da precis√£o da determina√ß√£o da velocidade pelos radares da pol√≠cia de tr√¢nsito</a></li>
<li><a href="../pt483714/index.html">Pr√™mios e concursos para projetos inovadores. Experi√™ncia de fornecedores mundiais</a></li>
<li><a href="../pt483716/index.html">Usando o scanner de vulnerabilidades nas bibliotecas de verifica√ß√£o de depend√™ncia usadas no GitlabCI</a></li>
<li><a href="../pt483718/index.html">Como a VDI est√° transformando o ambiente do escrit√≥rio</a></li>
<li><a href="../pt483722/index.html">Geoanal√≠tica de varejo, parte 1: automatizamos o processo de escolha de um local para uma empresa. 2GIS + MS Azure + ML</a></li>
<li><a href="../pt483724/index.html">Trabalhar com o complexo de pneus personalizados Redd</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>