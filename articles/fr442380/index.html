<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÉ üíÉ üë∑ Sort Chaos üö£üèª üíì ü•®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comme le montre la pratique, une grande partie des probl√®mes ne se posent pas √† cause des solutions elles-m√™mes, mais √† cause de la fa√ßon dont la comm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sort Chaos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442380/"><p> Comme le montre la pratique, une grande partie des probl√®mes ne se posent pas √† cause des solutions elles-m√™mes, mais √† cause de la fa√ßon dont la communication entre les composants du syst√®me se produit.  S'il y a un g√¢chis dans la communication entre les composants du syst√®me, alors, comme vous n'essayez pas de bien √©crire les composants individuels, le syst√®me dans son ensemble √©chouera. </p><br><p>  Attention  √Ä l'int√©rieur du v√©lo. </p><a name="habracut"></a><br><h1 id="problematika-ili-postanovka-zadachi">  Probl√®me ou √©nonc√© du probl√®me </h1><br><p>  Il y a quelque temps, il est arriv√© de travailler sur un projet pour une entreprise qui apporte aux masses des d√©lices tels que le CRM, les syst√®mes ERM et les d√©riv√©s.  En outre, la soci√©t√© a publi√© un produit assez complet, du logiciel pour les caisses enregistreuses au centre d'appels, avec la possibilit√© de louer des op√©rateurs jusqu'√† 200 √¢mes. </p><br><p>  J'ai moi-m√™me travaill√© sur une application front-end de call-center. </p><br><p>  Il est facile d‚Äôimaginer que ce sont les informations de tous les composants du syst√®me qui circulent dans l‚Äôapplication de l‚Äôop√©rateur.  Et si nous prenons en compte le fait qu'il ne s'agit pas d'un seul op√©rateur, mais √©galement d'un gestionnaire et d'un administrateur, alors vous pouvez imaginer la quantit√© de communication et d'informations que l'application doit ¬´dig√©rer¬ª et relier les unes aux autres. </p><br><p>  Lorsque le projet √©tait d√©j√† lanc√© et fonctionnait m√™me de mani√®re assez stable pour lui-m√™me, le probl√®me de la transparence du syst√®me se posait dans toute sa croissance. </p><br><p>  Voil√† le point.  Il existe de nombreux composants et ils fonctionnent tous avec leurs sources de donn√©es.  Mais presque tous ces composants ont d√©j√† √©t√© √©crits en tant que produits autonomes.  Ce n'est pas en tant qu'√©l√©ment du syst√®me global, mais en tant que d√©cisions distinctes √† vendre.  En cons√©quence, il n'y a pas d'API (syst√®me) unique et pas de normes de communication communes entre elles. </p><br><p>  Je vais vous expliquer.  Certains composants envoient du JSON, ¬´quelqu'un¬ª envoie des lignes avec la cl√©: value inside, ¬´quelqu'un¬ª envoie le binaire en g√©n√©ral et faites ce que vous voulez avec.  Mais, et la demande finale pour le centre d'appels devait obtenir tout cela et le traiter d'une mani√®re ou d'une autre.  Eh bien et surtout, il n'y avait aucun lien dans le syst√®me qui pouvait reconna√Ætre que le format / la structure des donn√©es avait chang√©.  Si un composant a envoy√© JSON hier et a d√©cid√© aujourd'hui d'envoyer du binaire - personne ne le verra.  Seule l'application finale commencera √† planter comme pr√©vu. </p><br><p>  Il est vite devenu √©vident (pour ceux qui m'entouraient, pas pour moi, car j'avais parl√© du probl√®me au stade de la conception) que l'absence d'un ¬´langage de communication unifi√©¬ª entre les composants entra√Ænait de graves probl√®mes. </p><br><p>  Le cas le plus simple est lorsque le client a demand√© de modifier un ensemble de donn√©es.  Ils annulent la t√¢che au jeune homme qui ¬´d√©tient¬ª le composant pour travailler avec des bases de donn√©es de biens / services, par exemple.  Il fait son travail, impl√©mente un nouvel ensemble de donn√©es, et pour lui, connard, tout fonctionne.  Mais, le lendemain de la mise √† jour ... oh ... l'application du centre d'appels commence soudainement √† ne pas fonctionner comme pr√©vu. </p><br><p>  Vous l'avez probablement d√©j√† devin√©.  Notre h√©ros a chang√© non seulement l'ensemble de donn√©es, mais aussi la structure de donn√©es que son composant envoie au syst√®me.  En cons√©quence, l'application de centre d'appels n'est tout simplement plus en mesure de travailler avec ce composant, et d'autres d√©pendances volent le long de la cha√Æne. </p><br><p>  Ils ont commenc√© √† r√©fl√©chir √† ce que nous voulons en fait sortir.  En cons√©quence, nous avons formul√© les exigences suivantes pour une solution potentielle: </p><br><p>  <strong>D'abord</strong> et avant tout: tout changement dans la structure des donn√©es doit √™tre imm√©diatement ¬´mis en √©vidence¬ª dans le syst√®me.  Si quelqu'un a apport√© des modifications quelque part et que ces modifications sont incompatibles avec les attentes du syst√®me, une erreur doit se produire lors de la phase de test des composants, qui a √©t√© modifi√©e. </p><br><p>  <strong>Le deuxi√®me</strong> .  Les types de donn√©es doivent √™tre v√©rifi√©s non seulement lors de la compilation, mais √©galement lors de l'ex√©cution. </p><br><p>  <strong>Le troisi√®me</strong> .  √âtant donn√© qu'un grand nombre de personnes ayant des niveaux de comp√©tence compl√®tement diff√©rents travaillent sur des composants, le langage de description devrait √™tre plus simple. </p><br><p>  <strong>Quatri√®mement</strong> .  Quelle que soit la solution, il devrait √™tre aussi pratique que possible de travailler avec elle.  Si possible, l'IDE doit mettre en √©vidence autant que possible. </p><br><p>  La premi√®re pens√©e a √©t√© d'impl√©menter protobuf.  Simple, lisible et facile.  Saisie stricte des donn√©es.  Il semble que ce soit ce que le m√©decin a ordonn√©.  Mais h√©las, toute la syntaxe du protobuf ne semblait pas simple.  De plus, m√™me le protocole compil√© n√©cessitait une biblioth√®que suppl√©mentaire, mais Javascript n'√©tait pas pris en charge par protobuf et √©tait le r√©sultat d'un travail communautaire.  En g√©n√©ral, ils ont refus√©. </p><br><p>  Puis l'id√©e est venue de d√©crire le protocole en JSON.  Eh bien, combien plus facile? </p><br><p>  Eh bien, je quitte.  Et √† ce sujet, ce poste aurait pu √™tre achev√©, car apr√®s mon d√©part, personne d'autre n'a commenc√© √† traiter le probl√®me de mani√®re particuli√®rement √©troite. </p><br><p>  Cependant, √©tant donn√© quelques projets personnels o√π la question de la communication entre les composants a de nouveau atteint son plein potentiel, j'ai d√©cid√© de commencer √† mettre en ≈ìuvre l'id√©e par moi-m√™me.  Ce qui sera discut√© ci-dessous. </p><br><p>  Je pr√©sente donc √† votre attention le projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres</a> , qui comprend: </p><br><ul><li>  g√©n√©rateur de protocole </li><li>  fournisseur </li><li>  le client </li><li>  mise en place de transports </li></ul><br><h1 id="protokol">  Protocole </h1><br><p>  La t√¢che √©tait de faire en sorte que: </p><br><ul><li>  il √©tait facile de d√©finir la structure des messages dans le syst√®me. </li><li>  il √©tait facile de d√©terminer le type de donn√©es de tous les champs de message. </li><li>  il a √©t√© possible de d√©finir des entit√©s auxiliaires et de s'y r√©f√©rer. </li><li>  et bien s√ªr, pour que tout cela soit mis en √©vidence par l'IDE </li></ul><br><p>  Je pense que d'une mani√®re tout √† fait naturelle, en tant que langue dans laquelle le protocole est converti, Typescript a √©t√© choisi non pas en pur Javascript.  Autrement dit, tout ce que fait le g√©n√©rateur de protocole est de transformer JSON en Typescript. </p><br><p>  Pour d√©crire les messages disponibles dans le syst√®me, il vous suffit de savoir ce qu'est JSON.  Avec qui, je suis s√ªr que personne n'a de probl√®me. </p><br><p>  Au lieu de Hello World, je vous propose un exemple non moins galvaud√© - le chat. </p><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"Events"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"NewMessage"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"ChatMessage"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"UsersListUpdated"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"users"</span></span>: <span class="hljs-string"><span class="hljs-string">"Array&lt;User&gt;"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"Requests"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"GetUsers"</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">"AddUser"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"Responses"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"UsersList"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"users"</span></span>: <span class="hljs-string"><span class="hljs-string">"Array&lt;User&gt;"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"AddUserResult"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"error?"</span></span>: <span class="hljs-string"><span class="hljs-string">"asciiString"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"ChatMessage"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"nickname"</span></span>: <span class="hljs-string"><span class="hljs-string">"asciiString"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"utf8String"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"created"</span></span>: <span class="hljs-string"><span class="hljs-string">"datetime"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"User"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"nickname"</span></span>: <span class="hljs-string"><span class="hljs-string">"asciiString"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.1"</span></span> }</code> </pre> <br><p>  Tout est incroyablement simple.  Nous avons quelques √©v√©nements NewMessage et UsersListUpdated;  ainsi que quelques requ√™tes UsersList et AddUserResult.  Il existe deux autres entit√©s: ChatMessage et User. </p><br><p>  Comme vous pouvez le voir, la description est assez transparente et compr√©hensible.  Un peu sur les r√®gles. </p><br><ul><li>  Un objet en JSON deviendra une classe dans le protocole g√©n√©r√© </li><li>  La valeur de la propri√©t√© est une d√©finition de type de donn√©es ou une r√©f√©rence √† une classe (entit√©) </li><li>  Du point de vue du protocole g√©n√©r√©, les objets imbriqu√©s deviendront des classes "imbriqu√©es", c'est-√†-dire que les objets imbriqu√©s h√©riteront de toutes les propri√©t√©s de leurs parents. </li></ul><br><p>  Il ne vous reste plus qu'√† g√©n√©rer un protocole pour commencer √† l'utiliser. </p><br><pre> <code class="bash hljs">npm install ceres.protocol -g ceres.protocol -s chat.protocol.json -o chat.protocol.ts -r</code> </pre> <br><p>  En cons√©quence, nous obtenons un protocole g√©n√©r√© par Typescript.  Nous connectons et utilisons: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/826/96a/c1b82696aecdf2ccc5b5ededd9e7818b.gif" alt="image"><br><p>  Ainsi, le protocole donne d√©j√† quelque chose au d√©veloppeur: </p><br><ul><li>  L'IDE met en √©vidence ce que nous avons dans le protocole.  L'IDE met √©galement en √©vidence toutes les propri√©t√©s attendues. </li><li>  Type de script, qui nous dira certainement si quelque chose ne va pas avec les types de donn√©es.  Bien s√ªr, cela se fait au stade du d√©veloppement, mais le protocole lui-m√™me v√©rifiera d√©j√† les types de donn√©es au moment de l'ex√©cution et l√®vera une exception si une violation est d√©tect√©e </li><li>  En g√©n√©ral, vous pouvez oublier la validation.  Le protocole fera toutes les v√©rifications n√©cessaires. </li><li>  Le protocole g√©n√©r√© ne n√©cessite aucune biblioth√®que suppl√©mentaire.  Tout ce dont il a besoin pour travailler, il le contient d√©j√†.  Et c'est tr√®s pratique. </li></ul><br><blockquote>  Oui, la taille du protocole g√©n√©r√© peut vous surprendre, c'est le moins qu'on puisse dire.  Mais n'oubliez pas la minification √† laquelle le fichier de protocole g√©n√©r√© se pr√™te bien. </blockquote><p>  Maintenant, nous pouvons "emballer" le message et l'envoyer </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Protocol <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../protocol/protocol.chat'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> message: Protocol.ChatMessage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.ChatMessage({ <span class="hljs-attr"><span class="hljs-attr">nickname</span></span>: <span class="hljs-string"><span class="hljs-string">'noname'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>() }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> packet: <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span> = message.stringify(); <span class="hljs-comment"><span class="hljs-comment">// Send packet somewhere</span></span></code> </pre> <br><p>  Il est important de faire une r√©servation ici, le paquet sera un tableau d'octets, ce qui est tr√®s bon et correct du point de vue de la charge de trafic, car envoyer les m√™mes "co√ªts" JSON, bien s√ªr, plus chers.  Cependant, le protocole a une fonctionnalit√© - en mode d√©bogage, il g√©n√©rera un JSON lisible afin que le d√©veloppeur puisse ¬´regarder¬ª le trafic et voir ce qui se passe. </p><br><p>  Cela se fait directement au moment de l'ex√©cution. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Protocol <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../protocol/protocol.chat'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> message: Protocol.ChatMessage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.ChatMessage({ <span class="hljs-attr"><span class="hljs-attr">nickname</span></span>: <span class="hljs-string"><span class="hljs-string">'noname'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>() }); <span class="hljs-comment"><span class="hljs-comment">// Switch to debug mode Protocol.Protocol.state.debug(true); // Now packet will be present as JSON string const packet: string = message.stringify(); // Send packet somewhere</span></span></code> </pre> <br><p>  Sur le serveur (ou tout autre destinataire), nous pouvons facilement d√©compresser le message: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Protocol <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../protocol/protocol.chat'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> smth = Protocol.parse(packet); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smth <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// Oops. Something wrong with this packet. } if (Protocol.ChatMessage.instanceOf(smth) === true) { // This is chat message }</span></span></code> </pre> <br><p>  Le protocole prend en charge tous les principaux types de donn√©es: </p><br><table><thead><tr><th>  Tapez </th><th>  Les valeurs </th><th>  La description </th><th>  Taille, octets </th></tr></thead><tbody><tr><td>  utf8String </td><td></td><td>  Cha√Æne cod√©e UTF8 </td><td>  x </td></tr><tr><td>  asciiString </td><td></td><td>  cha√Æne ascii </td><td>  1 caract√®re - 1 octet </td></tr><tr><td>  int8 </td><td>  -128 √† 127 </td><td></td><td>  1 </td></tr><tr><td>  int16 </td><td>  -32768 √† 32767 </td><td></td><td>  2 </td></tr><tr><td>  int32 </td><td>  -2147483648 √† 2147483647 </td><td></td><td>  4 </td></tr><tr><td>  uint8 </td><td>  0 √† 255 </td><td></td><td>  1 </td></tr><tr><td>  uint16 </td><td>  0 √† 65535 </td><td></td><td>  2 </td></tr><tr><td>  uint32 </td><td>  0 √† 4294967295 </td><td></td><td>  4 </td></tr><tr><td>  float32 </td><td>  1,2x10 <sup>-38</sup> √† 3,4x10 <sup>38</sup> </td><td></td><td>  4 </td></tr><tr><td>  float64 </td><td>  5,0x10 <sup>-324</sup> √† 1,8x10 <sup>308</sup> </td><td></td><td>  8 </td></tr><tr><td>  bool√©en </td><td></td><td></td><td>  1 </td></tr></tbody></table><br><p>  Dans le protocole, ces types de donn√©es sont appel√©s primitifs.  Cependant, une autre caract√©ristique du protocole est qu'il vous permet d'ajouter vos propres types de donn√©es (appel√©s "types de donn√©es suppl√©mentaires"). </p><br><p>  Par exemple, vous avez probablement d√©j√† remarqu√© que <strong>ChatMessage</strong> a un champ <strong>cr√©√©</strong> avec un type de donn√©es <strong>datetime</strong> .  Au niveau de l'application - ce type correspond √† <strong>Date</strong> , et √† l'int√©rieur du protocole est stock√© (et envoy√©) en tant que <strong>uint32</strong> . </p><br><p>  Ajouter votre type au protocole est assez simple.  Par exemple, si nous voulons avoir un type de donn√©es <strong>e-mail</strong> , disons pour le message suivant dans le protocole: </p><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"User"</span></span>: { <span class="hljs-string"><span class="hljs-string">"nickname"</span></span>: <span class="hljs-string"><span class="hljs-string">"asciiString"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"email"</span></span> }, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.1"</span></span> }</code> </pre> <br><p>  Tout ce que vous avez √† faire est d'√©crire une d√©finition du type d'e-mail. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AdvancedTypes: { [key:string]: any} = { <span class="hljs-attr"><span class="hljs-attr">email</span></span>: { <span class="hljs-comment"><span class="hljs-comment">// Binary type or primitive type binaryType : 'asciiString', // Initialization value. This value is used as default value init : '""', // Parse value. We should not do any extra decode operations with it parse : (value: string) =&gt; { return value; }, // Also we should not do any encoding operations with it serialize : (value: string) =&gt; { return value; }, // Typescript type tsType : 'string', // Validation function to valid value validate : (value: string) =&gt; { if (typeof value !== 'string'){ return false; } if (value.trim() === '') { // Initialization value is "''", so we allow use empty string. return true; } const validationRegExp = /^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/gi; return validationRegExp.test(value); }, } };</span></span></code> </pre> <br><p>  C‚Äôest tout.  En g√©n√©rant le protocole, nous obtenons la prise en charge du nouveau type de donn√©es de <strong>messagerie</strong> .  Lorsque nous essayons de cr√©er une entit√© avec la mauvaise adresse, nous obtenons une erreur </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> user: Protocol.User = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.User({ <span class="hljs-attr"><span class="hljs-attr">nickname</span></span>: <span class="hljs-string"><span class="hljs-string">'Brad'</span></span>, <span class="hljs-attr"><span class="hljs-attr">email</span></span>: <span class="hljs-string"><span class="hljs-string">'not_valid_email'</span></span> }); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(user);</code> </pre> <br><p>  Oh ... </p><br><pre> <code class="bash hljs">Error: Cannot create class of <span class="hljs-string"><span class="hljs-string">"User"</span></span> due error(s): - Property <span class="hljs-string"><span class="hljs-string">"email"</span></span> has wrong value; validation was failed with value <span class="hljs-string"><span class="hljs-string">"not_valid_email"</span></span>.</code> </pre> <br><p>  Ainsi, le protocole n'autorise tout simplement pas les ¬´mauvaises¬ª donn√©es dans le syst√®me. </p><br><p>  Notez que lors de la d√©finition d'un nouveau type de donn√©es, nous avons sp√©cifi√© quelques propri√©t√©s cl√©s: </p><br><ul><li>  <strong>binaryType</strong> - une r√©f√©rence √† un type de donn√©es primitif qui doit √™tre utilis√© pour stocker, encoder / d√©coder des donn√©es.  Dans ce cas, nous indiquons que l'adresse est une cha√Æne ascii. </li><li>  <strong>tsType</strong> est une r√©f√©rence au type Javascript, c'est-√†-dire comment le type de donn√©es doit √™tre repr√©sent√© dans l'environnement Javascript.  Dans ce cas, nous parlons de <strong>cha√Æne</strong> </li><li>  Il convient √©galement de noter que nous devons d√©finir un nouveau type de donn√©es uniquement au moment de la g√©n√©ration du protocole.  En sortie, nous obtenons un protocole g√©n√©r√© qui contient d√©j√† un nouveau type de donn√©es. </li></ul><br><blockquote>  Vous pouvez voir des informations d√©taill√©es sur toutes les fonctionnalit√©s du protocole ici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.protocol</a> . </blockquote><br><h1 id="provayder-i-klient">  Fournisseur et client </h1><br><p>  Dans l'ensemble, le protocole lui-m√™me peut √™tre utilis√© pour organiser la communication.  Cependant, si nous parlons du navigateur et de nodejs, le fournisseur et le client sont disponibles. </p><br><h2 id="klient">  Client </h2><br><h3 id="sozdanie">  La cr√©ation </h3><br><p>  Pour cr√©er un client, vous avez besoin du client et du transport. </p><br><p>  L'installation </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Install consumer (client) npm install ceres.consumer --save # Install transport npm install ceres.consumer.browser.ws --save</span></span></code> </pre> <br><p>  La cr√©ation </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Transport, { ConnectionParameters } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.consumer.browser.ws'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Consumer <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.consumer'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Create transport const transport:Transport = new Transport(new ConnectionParameters({ host: 'http://localhost', port: 3005, wsHost: 'ws://localhost', wsPort: 3005, })); // Create consumer const consumer: Consumer = new Consumer(transport);</span></span></code> </pre> <br><blockquote>  Le client, ainsi que le fournisseur, sont con√ßus sp√©cifiquement pour le protocole.  Autrement dit, ils ne fonctionneront qu'avec le protocole (ceres.protocol). </blockquote><br><h3 id="sobytiya">  Les √©v√©nements </h3><br><p>  Une fois le client cr√©√©, le d√©veloppeur peut s'abonner aux √©v√©nements </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Protocol <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../protocol/protocol.chat'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Transport, { ConnectionParameters } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.consumer.browser.ws'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Consumer <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.consumer'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Create transport const transport:Transport = new Transport(new ConnectionParameters({ host: 'http://localhost', port: 3005, wsHost: 'ws://localhost', wsPort: 3005, })); // Create consumer const consumer: Consumer = new Consumer(transport); // Subscribe to event consumer.subscribe(Protocol.Events.NewMessage, (message: Protocol.Events.NewMessage) =&gt; { console.log(`New message came: ${message.message}`); }).then(() =&gt; { console.log('Subscription to "NewMessage" is done'); }).catch((error: Error) =&gt; { console.log(`Fail to subscribe to "NewMessage" due error: ${error.message}`); });</span></span></code> </pre> <br><p>  Veuillez noter que le client n'appellera le gestionnaire d'√©v√©nements que si les donn√©es du message sont compl√®tement correctes.  En d'autres termes, notre application est prot√©g√©e contre les donn√©es incorrectes et le <strong>gestionnaire d'</strong> √©v√©nements <strong>NewMessage</strong> sera toujours appel√© avec une instance de <strong>Protocol.Events.NewMessage</strong> comme argument. </p><br><p>  Naturellement, le client peut g√©n√©rer des √©v√©nements. </p><br><pre> <code class="javascript hljs">consumer.emit(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.Events.NewMessage({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'This is new message'</span></span> })).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`New message was sent`</span></span>); }).catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error: </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">Error</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Fail to send message due error: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${error.message}</span></span></span><span class="hljs-string">`</span></span>); });</code> </pre> <br><p>  Notez que nous ne sp√©cifions aucun nom d'√©v√©nement nulle part, nous utilisons simplement un lien vers la classe √† partir du protocole, ou passons une instance de celui-ci. </p><br><p>  Nous pouvons √©galement envoyer un message √† un groupe limit√© de destinataires en sp√©cifiant un simple objet de type <code>{ [key: string]: string }</code> comme deuxi√®me argument.  Dans ceres, cet objet est appel√© <strong>requ√™te</strong> . </p><br><pre> <code class="javascript hljs">consumer.emit( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.Events.NewMessage({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'This is new message'</span></span> }), { <span class="hljs-attr"><span class="hljs-attr">location</span></span>: <span class="hljs-string"><span class="hljs-string">"UK"</span></span> } ).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`New message was sent`</span></span>); }).catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error: </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">Error</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Fail to send message due error: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${error.message}</span></span></span><span class="hljs-string">`</span></span>); });</code> </pre> <br><p>  Ainsi, en indiquant en plus <code>{ location: "UK" }</code> , nous pouvons √™tre s√ªrs que seuls les clients qui ont identifi√© leur position comme UK recevront ce message. </p><br><p>  Pour associer le client lui-m√™me √† une <strong>requ√™te</strong> sp√©cifique, il suffit d'appeler la m√©thode <strong>ref</strong> : </p><br><pre> <code class="javascript hljs">consumer.ref({ <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'12345678'</span></span>, <span class="hljs-attr"><span class="hljs-attr">location</span></span>: <span class="hljs-string"><span class="hljs-string">'UK'</span></span> }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Client successfully bound with query`</span></span>); });</code> </pre> <br><p>  Apr√®s avoir connect√© le client √† la <strong>requ√™te</strong> , il a la possibilit√© de recevoir des messages "personnels" ou "de groupe". </p><br><h3 id="zaprosy">  Demandes </h3><br><p>  Nous pouvons √©galement faire des demandes </p><br><pre> <code class="javascript hljs">consumer.request( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.Requests.GetUsers(), <span class="hljs-comment"><span class="hljs-comment">// Request Protocol.Responses.UsersList // Expected response ).then((response: Protocol.Responses.UsersList) =&gt; { console.log(`Available users: ${response.users}`); }).catch((error: Error) =&gt; { console.log(`Fail to get users list due error: ${error.message}`); });</span></span></code> </pre> <br><p>  Il convient de noter qu'en tant que deuxi√®me argument, nous sp√©cifions le r√©sultat attendu ( <strong>Protocol.Responses.UsersList</strong> ), ce qui signifie que notre demande ne sera men√©e √† bien que si la r√©ponse est une instance de <strong>UsersList</strong> , dans tous les autres cas, nous ¬´tomberons¬ª sur attraper  Encore une fois, cela nous emp√™che de traiter des donn√©es incorrectes. </p><br><p>  Le client lui-m√™me peut √©galement parler √† ceux qui peuvent traiter les demandes.  Pour ce faire, il vous suffit de vous "identifier" comme "responsable" de la demande. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRequestGetUsers</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request: Protocol.Requests.GetUsers, callback: (error: Error | null, results : any </span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Get user list somehow const users: Protocol.User[] = []; // Prepare response const response = new Protocol.Responses.UsersList({ users: users }); // Send response callback(null, response); // Or send error // callback(new Error(`Something is wrong`)) }; consumer.listenRequest(Protocol.Requests.GetUsers, processRequestGetUsers, { location: "UK" }).then(() =&gt; { console.log(`Consumer starts listen request "GetUsers"`); });</span></span></code> </pre> <br><p>  Notez, facultativement, que le troisi√®me argument, nous pouvons sp√©cifier un objet de <strong>requ√™te</strong> qui peut √™tre utilis√© pour identifier le client.  Ainsi, si quelqu'un envoie une requ√™te avec une <strong>requ√™te</strong> , disons <code>{ location: "RU" }</code> , alors notre client ne recevra pas une telle requ√™te, car sa requ√™te <code>{ location: "UK" }</code> . </p><br><p>  Une <strong>requ√™te</strong> peut inclure un nombre illimit√© de propri√©t√©s.  Par exemple, vous pouvez sp√©cifier les √©l√©ments suivants </p><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">location</span></span>: <span class="hljs-string"><span class="hljs-string">"UK"</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"managers"</span></span> }</code> </pre> <br><p>  Ensuite, en plus d'une correspondance de <strong>requ√™te</strong> compl√®te, nous traiterons √©galement avec succ√®s les requ√™tes suivantes: </p><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">location</span></span>: <span class="hljs-string"><span class="hljs-string">"UK"</span></span> }</code> </pre> <br><p>  ou </p><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"managers"</span></span> }</code> </pre> <br><h2 id="provayder">  Fournisseur </h2><br><h3 id="sozdanie-1">  La cr√©ation </h3><br><p>  Pour cr√©er un fournisseur (ainsi que pour cr√©er un client), vous avez besoin du fournisseur et du transport. </p><br><p>  L'installation </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Install provider npm install ceres.provider --save # Install transport npm install ceres.provider.node.ws --save</span></span></code> </pre> <br><p>  La cr√©ation </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Transport, { ConnectionParameters } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.provider.node.ws'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Provider <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'ceres.provider'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Create transport const transport:Transport = new Transport(new ConnectionParameters({ port: 3005 })); // Create provider const provider: Provider = new Provider(transport);</span></span></code> </pre> <br><p>  √Ä partir du moment o√π le fournisseur est cr√©√©, il peut accepter les connexions des clients. </p><br><h3 id="sobytiya-1">  Les √©v√©nements </h3><br><p>  En plus du client, le fournisseur peut "√©couter" les messages et les g√©n√©rer. </p><br><p>  √âcoute </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Subscribe to event provider.subscribe(Protocol.Events.NewMessage, (message: Protocol.Events.NewMessage) =&gt; { console.log(`New message came: ${message.message}`); });</span></span></code> </pre> <br><p>  G√©n√©rer </p><br><pre> <code class="javascript hljs">provider.emit(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Protocol.Events.NewMessage({ <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'This message from provider'</span></span> }));</code> </pre> <br><h3 id="zaprosy-1">  Demandes </h3><br><p>  Naturellement, le fournisseur peut (et devrait) ¬´√©couter¬ª les demandes </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processRequestGetUsers</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request: Protocol.Requests.GetUsers, clientID: string, callback: (error: Error | null, results : any </span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Request from client </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${clientId}</span></span></span><span class="hljs-string"> was gotten.`</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Get user list somehow const users: Protocol.User[] = []; // Prepare response const response = new Protocol.Responses.UsersList({ users: users }); // Send response callback(null, response); // Or send error // callback(new Error(`Something is wrong`)) }; provider.listenRequest(Protocol.Requests.GetUsers, processRequestGetUsers).then(() =&gt; { console.log(`Consumer starts listen request "GetUsers"`); });</span></span></code> </pre> <br><p>  Il n'y a qu'une seule diff√©rence par rapport au client, le fournisseur en plus du corps de la demande recevra un <strong>clientId</strong> unique, qui est attribu√© automatiquement √† tous les clients connect√©s. </p><br><h1 id="primer">  Exemple </h1><br><p>  En fait, je ne veux vraiment pas vous ennuyer avec des extraits de la documentation, je suis s√ªr qu'il sera plus facile et plus int√©ressant pour vous de simplement voir un court morceau de code. </p><br><p>  Vous pouvez facilement installer l'exemple de discussion en t√©l√©chargeant les <a href="">sources</a> et en effectuant quelques actions simples </p><br><p>  Installation et lancement du client </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> chat/client npm install npm start</code> </pre> <br><p>  Le client sera disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http: // localhost: 3000</a> .  Ouvrez imm√©diatement quelques onglets avec le client pour voir la "communication". </p><br><p>  Installation et lancement du fournisseur (serveur) </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> chat/server npm install ts-node ./server.ts</code> </pre> <br><p>  Je suis s√ªr que vous connaissez le paquet <strong>ts-node</strong> , mais sinon, il vous permet d'ex√©cuter des fichiers TS.  Si vous ne souhaitez pas installer, compilez simplement le serveur, puis ex√©cutez le fichier JS. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> chat/server npm run build node ./build/server/server.js</code> </pre> <br><h1 id="sho-opyat">  Quoi?  Encore?! </h1><br><p>  Anticipant les questions sur pourquoi diable inventer une autre moto, car il y a tellement de solutions √©prouv√©es autour, √† partir de protobuf et se terminant par le joynr hardcore de BMW, je peux seulement dire que c'√©tait int√©ressant pour moi.  L'ensemble du projet a √©t√© r√©alis√© uniquement sur une initiative personnelle sans aucun soutien, dans mon temps libre du travail. </p><br><p>  C'est pourquoi vos commentaires sont <strong>particuli√®rement pr√©cieux</strong> pour moi.  Dans une tentative de vous motiver d'une mani√®re ou d'une autre, je peux vous promettre que pour chaque √©toile sur github, je vais caresser le hamster (ce qui, pour le dire doucement, je n'aime pas).  Pour la fourchette, euhhh, je vais gratter son pussiko ... brrrr. </p><br><p>  <em>Le hamster n'est pas le mien, le hamster du fils</em> . </p><br><p>  De plus, dans quelques semaines, le projet sera test√© pour mes anciens coll√®gues (que j'ai mentionn√©s au d√©but de l'article et qui √©taient int√©ress√©s par la version alfa).  L'objectif est le d√©bogage et l'ex√©cution sur plusieurs composants.  J'esp√®re vraiment que √ßa marche. </p><br><h1 id="ssylki-i-pakety">  Liens et packages </h1><br><p>  Le projet est h√©berg√© par deux r√©f√©rentiels </p><br><ul><li>  sources de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres</a> : ceres.provider, ceres.consumer et tous les transports disponibles aujourd'hui. </li><li>  sources du g√©n√©rateur de protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.protocol</a> </li></ul><br><p>  NPM packages suivants disponibles </p><br><ul><li>  g√©n√©rateur de protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.protocol</a> </li><li>  fournisseur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.provider</a> </li><li>  client <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.consumer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.provider.node.longpoll</a> transport pour un fournisseur bas√© sur une longue interrogation </li><li>  transport <a href="">ceres.provider.node.ws</a> pour un fournisseur bas√© sur Web Socket </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceres.consumer.browser.longpoll</a> transport pour le client bas√© sur une longue interrogation </li><li>  <a href="">ceres.consumer.browser.ws</a> transport pour un client bas√© sur Web Socket </li></ul><br><p>  Bon et l√©ger. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442380/">https://habr.com/ru/post/fr442380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442370/index.html">Chargement paresseux du module de fonctions depuis le dossier "node_modules"</a></li>
<li><a href="../fr442372/index.html">Programmation fiable dans le contexte des langages. Partie 2 - Challengers</a></li>
<li><a href="../fr442374/index.html">D√©veloppement de boost boost sur DSP: principe de fonctionnement, calculs, prototypage</a></li>
<li><a href="../fr442376/index.html">Densit√© de parcelle au d√©tail</a></li>
<li><a href="../fr442378/index.html">Un clic dans l'interface de Booking com peut g√¢cher des vacances ou pourquoi un syst√®me de notation fonctionnel est important</a></li>
<li><a href="../fr442384/index.html">Extension des fonctionnalit√©s du syst√®me audio standard</a></li>
<li><a href="../fr442386/index.html">Thymeleaf: Disposition des dialectes + Spring Boot 2</a></li>
<li><a href="../fr442392/index.html">La journalisation NodeJS est bien faite</a></li>
<li><a href="../fr442396/index.html">√âv√©nements num√©riques √† Moscou du 04 mars au 10 mars</a></li>
<li><a href="../fr442402/index.html">Le plus important. Int√©gration avec des services externes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>