<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСиЁЯП╛тАНЁЯдЭтАНЁЯСиЁЯП╜ ЁЯТЕЁЯП╛ ЁЯджЁЯП╝ рдЗрд╕реНрдЯрд┐рдпреЛ рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рдорд╛рдЗрдХреНрд░реЛрд╕реЛрд░реНрд╡рд┐рд╕ рдХреЗ рд▓рд┐рдПред рднрд╛рдЧ 1 ЁЯСЛЁЯП╜ ЁЯдЬЁЯП┐ тП╕я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓рдЧрднрдЧред рдЯреНрд░рд╛рдВрд╕ред : рд╕реЗрд╡рд╛ рдЬрд╛рд▓ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдзреБрдирд┐рдХ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдБрдЪреЗ рдореЗрдВ рдПрдХ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдорд╛рдзрд╛рди рдмрди рдЧрдпрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрд╕реИрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХрд╛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЗрд╕реНрдЯрд┐рдпреЛ рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рдорд╛рдЗрдХреНрд░реЛрд╕реЛрд░реНрд╡рд┐рд╕ рдХреЗ рд▓рд┐рдПред рднрд╛рдЧ 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/438426/"><img src="https://habrastorage.org/webt/bj/j4/oy/bjj4oyjxqshrbjf5eks9sgsvbeg.png"><br><br>  <i><b>рд▓рдЧрднрдЧред</b></i>  <i><b>рдЯреНрд░рд╛рдВрд╕ред</b></i>  <i>: рд╕реЗрд╡рд╛ рдЬрд╛рд▓ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдзреБрдирд┐рдХ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдБрдЪреЗ рдореЗрдВ рдПрдХ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдорд╛рдзрд╛рди рдмрди рдЧрдпрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрд╕реИрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░рддреЗ рд╣реИрдВред</i>  <i>рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕реНрддрд┐рдпреЛ рдХреЛ рдХрдИ DevOps рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕реБрдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╣ рдПрдХ рдХрд╛рдлреА рдирдпрд╛ рдЙрддреНрдкрд╛рдж рд╣реИ, рдЬреЛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╡реНрдпрд╛рдкрдХ рд╣реИ, рдПрдХ рджреВрд╕рд░реЗ рдХреЛ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рд╕рдордп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред</i>  <i>рдЬрд░реНрдорди рдЗрдВрдЬреАрдирд┐рдпрд░ рд░рд┐рдиреЛрд░ рдорд▓реЛрдХреВ, рдЬреЛ рджреВрд░рд╕рдВрдЪрд╛рд░ рдХрдВрдкрдиреА рдСрд░реЗрдВрдЬ рдиреЗрдЯрд╡рд░реНрдХреНрд╕ рдореЗрдВ рдмрдбрд╝реЗ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ, рдиреЗ рд╕рд╛рдордЧреНрд░реА рдХреА рдПрдХ рдЕрджреНрднреБрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рд▓рд┐рдЦреА рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдЗрд╕реНрддрд┐рдпреЛ рдореЗрдВ рдЬрд▓реНрджреА рдФрд░ рдЧрд╣рд░рд╛рдИ рд╕реЗ рдЧреЛрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред</i>  <i>рд╡рд╣ рдЕрдкрдиреА рдХрд╣рд╛рдиреА рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕реНрддрд┐рдпреЛ рдХреНрдпрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреА рдЖрдБрдЦреЛрдВ рд╕реЗ рдХреИрд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред</i> <br><br>  <b>рдЗрд╕реНрддрд┐рдпреЛ</b> рдПрдХ рдУрдкрди рд╕реЛрд░реНрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╣реИ рдЬрд┐рд╕реЗ Google, IBM рдФрд░ Lyft рдХреА рдЯреАрдореЛрдВ рдХреЗ рд╕рд╣рдпреЛрдЧ рд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рдЙрди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬреИрд╕реЗ: <a name="habracut"></a><br><br><ul><li>  <b>рдЯреНрд░реИрдлрд╝рд┐рдХ рдкреНрд░рдмрдВрдзрди</b> : рдЯрд╛рдЗрдордЖрдЙрдЯ, рд░рд┐рдЯреНрд░реАрдЯ, рд▓реЛрдб рд╕рдВрддреБрд▓рди; </li><li>  <b>рд╕реБрд░рдХреНрд╖рд╛</b> : рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдФрд░ рдкреНрд░рд╛рдзрд┐рдХрд░рдг; </li><li>  <b>рдЕрд╡рд▓реЛрдХрди</b> : рдЯреНрд░реЗрд╕, рдирд┐рдЧрд░рд╛рдиреА, тАЛтАЛрд▓реЙрдЧрд┐рдВрдЧред </li></ul><br>  рдЙрди рд╕рднреА рдХреЛ рдЖрд╡реЗрджрди рд╕реНрддрд░ рдкрд░ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреА рд╕реЗрд╡рд╛рдПрдВ "рд╕реВрдХреНрд╖реНрдо" рд╣реЛрдирд╛ рдмрдВрдж рд╣реЛ рдЬрд╛рдПрдВрдЧреАред  рдЗрди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд╕рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рдпрд╛рд╕ рдХрдВрдкрдиреА рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрдкрд╢рд┐рд╖реНрдЯ рд╣реИ рдЬреЛ рд╕реАрдзреЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдореВрд▓реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <br><blockquote> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореИрдиреЗрдЬрд░: рдлреАрдбрдмреИрдХ рдХрдм рддрдХ рдЬреЛрдбрд╝реЗрдВ? <br>  рдбреЗрд╡рд▓рдкрд░: рджреЛ рд╕реНрдкреНрд░рд┐рдВрдЯред <br><br>  рд╕рд╛рдВрд╕рдж: рдХреНрдпрд╛ .. рдпрд╣ рд╕рд┐рд░реНрдл CRUD рд╣реИ! <br>  рдЖрд░: рд╕реАрдЖрд░рдпреВрдбреА рдмрдирд╛рдирд╛ рдХрд╛рд░реНрдп рдХрд╛ рдПрдХ рд╕рд░рд▓ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЕрднреА рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдФрд░ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдмрд╛рд░-рдмрд╛рд░ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рд╕рд╛рде рд╣реА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░ рдкреИрдЯрд░реНрди рднреА</a> ред  рдлрд┐рд░ рднреА, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдкреВрд░реЗ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЧрд┐рд░рд╛рд╡рдЯ рдирд╣реАрдВ рд╣реБрдИ рд╣реИ, рдЖрдкрдХреЛ рдЯрд╛рдЗрдордЖрдЙрдЯ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреБрд▓реНрдХреЗрд╣реЗрдбреНрд╕ рдХреА</a> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА <i>(рджреЛрдиреЛрдВ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдкреИрдЯрд░реНрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рд▓реЗрдЦ рдореЗрдВ рдЖрдЧреЗ рджреЗрдЦреЗрдВ - рд▓рдЧрднрдЧ рдЕрдиреБрд╡рд╛рджред)</i> , рдФрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдЧрд░рд╛рдиреА, тАЛтАЛрдЕрдиреБрд░реЗрдЦрдг, [...] <br><br>  рд╕рд╛рдВрд╕рдж: рдУрд╣, рддреЛ рдЪрд▓реЛ рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЛ рдЙрддреНрдкрд╛рдж рд╕реЗрд╡рд╛ рдореЗрдВ рдбрд╛рд▓реЗрдВред </blockquote>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рдЪрд╛рд░ рд╕реНрдкрд╖реНрдЯ рд╣реИ: рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЪрд░рдгреЛрдВ рдФрд░ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреА рдорд╛рддреНрд░рд╛ рдмрд╣реБрдд рдмрдбрд╝реА рд╣реИред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдХреИрд╕реЗ рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХрдард┐рдирд╛рдЗрдпреЛрдВ (рдЬреЛ рдХрд┐ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рд▓рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИрдВ) рдХреЛ Istio рд╕рдорд╛рдкреНрдд рдХрд░ рджреЗрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/l4/js/7o/l4js7omne2rslxitn0zr_lgusee.png"><br><br>  <b>рдиреЛрдЯ</b> : рдпрд╣ рд▓реЗрдЦ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХрд╛ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЬреНрдЮрд╛рди рд╣реИред  рдЕрдиреНрдпрдерд╛, рдореИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рд╕реЗ рдЕрдкрдирд╛ рдкрд░рд┐рдЪрдп</a> рдкрдврд╝рдиреЗ рдХреА рд╕рд▓рд╛рд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЗрддрд╛ рд╣реВрдВ</a> рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рд╣реА рдЗрд╕ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдкрдврд╝рдирд╛ рдЬрд╛рд░реА рд░рдЦрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реВрдВ</a> ред <br><br><h2>  рдЖрдЗрдбрд┐рдпрд╛ рдЗрд╕реНрддрд┐рдпреЛ </h2><br>  рдЗрд╕реНрддрд┐рдпреЛ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдПрдХ рд╕реЗрд╡рд╛ рджреВрд╕рд░реЗ рдХреЗ рд▓рд┐рдП рд╕реАрдзреЗ рдЕрдиреБрд░реЛрдз рдХрд░рддреА рд╣реИ, рдФрд░ рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╕реЗрд╡рд╛ рдХреЛ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: рдПрдХ рдирдпрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ, рдПрдХ рдЯрд╛рдЗрдордЖрдЙрдЯ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ, рдПрдХ рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░ рдЦреЛрд▓реЗрдВ, рдЖрджрд┐ред <br><br><img src="https://habrastorage.org/webt/ov/uv/g5/ovuvg5sepxqvj7wduhnl3uiixyi.png"><br>  <i>Kubernetes рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ</i> <br><br>  рдЗрд╕реНрддрд┐рдпреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╕рдорд╛рдзрд╛рди рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдореЗрдВ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд░рдХреЗ рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдХрд╛рдордХрд╛рдЬ рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рд╣реИред  рдФрд░ рдЗрд╕рд▓рд┐рдП рдпрд╣ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ: <br><br><ul><li>  <b>рджреЛрд╖ рд╕рд╣рд┐рд╖реНрдгреБрддрд╛</b> : рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╕реНрдерд┐рддрд┐ рдХреЛрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдпрд╣ рд╕рдордЭрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЕрдиреБрд░реЛрдз рд╡рд┐рдлрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рддрд╛ рд╣реИред </li><li>  <b>рдХреИрдирд░реА рд░реЛрд▓рдЖрдЙрдЯ</b> : рд╕реЗрд╡рд╛ рдХреЗ рдирдП рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢ рдХреЗрд╡рд▓ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкреНрд░рддрд┐рд╢рдд рд╣реИред </li><li>  <b>рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рдореИрдЯреНрд░рд┐рдХреНрд╕</b> : рд╕реЗрд╡рд╛ рдиреЗ рдХрд┐рддрдиреА рджреЗрд░ рддрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджреА? </li><li>  <b>рдЯреНрд░реЗрд╕рд┐рдВрдЧ рдФрд░ рдСрдмреНрдЬрд░реНрд╡реЗрдмрд┐рд▓рд┐рдЯреА</b> : рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд╣реЗрдбрд░ рдЬреЛрдбрд╝рддрд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЯреНрд░реЗрд╕ рдХрд░рддрд╛ рд╣реИред </li><li>  <b>рд╕реБрд░рдХреНрд╖рд╛</b> : JWT рдЯреЛрдХрди, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЕрдзрд┐рдХреГрдд рдФрд░ рдЕрдзрд┐рдХреГрдд рдХрд░рддрд╛ рд╣реИред </li></ul><br>  рдпреЗ рдХреЗрд╡рд▓ рдХреБрдЫ рд╕рдВрднрд╛рд╡рдирд╛рдПрдВ рд╣реИрдВ (рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЗрд╡рд▓ рдХреБрдЫ!) рдЖрдкрдХреЛ рд╕рд╛рдЬрд╝рд┐рд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЕрдм рддрдХрдиреАрдХреА рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЧреЛрддрд╛ рд▓рдЧрд╛рдПрдБ! <br><br><h2>  рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ Istio </h2><br>  рдЗрд╕реНрддрд┐рдпреЛ рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдирд┐рдпрдореЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдкреЙрдб рдореЗрдВ рдПрдХ рд╕рд╛рдЗрдб-рдХрдВрдЯреЗрдирд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╕реНрдорд╛рд░реНрдЯ рдкреНрд░реЙрдХреНрд╕реА рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдкреНрд░реЙрдХреНрд╕реА рдЬреЛ рд╕рднреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рддреА рд╣реИрдВ, рдПрдХ <b>рдбреЗрдЯрд╛ рдкреНрд▓реЗрди рдмрдирд╛рддреА рд╣реИрдВ</b> , рдФрд░ рдЙрдиреНрд╣реЗрдВ <b>рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди</b> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><h2>  рдбрд╛рдЯрд╛ рдкреНрд▓реЗрди </h2><br>  рдлрд▓реА рдореЗрдВ рдбрд╛рд▓реЗ рдЧрдП рдкрд░рджреЗ рдЗрд╕реНрддрд┐рдпреЛ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд╣рдорд╛рд░реА рдЬрд░реВрд░рдд рдХреА рдЬрд░реВрд░рддреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд░рд┐рдЯреНрд░реА рдФрд░ рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░ рдлрд╝рдВрдХреНрд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/webt/8t/7x/xn/8t7xxntkiuakkk5sbn41b4rualg.gif"><br>  <i>рдПрдиреНрд╡реЙрдп рдореЗрдВ рд░рд┐рдЯреНрд░реАрдЯ рдФрд░ рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд┐рдВрдЧ рдХреЛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</i> <br><br>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ: <br><br><ol><li>  рджреВрдд <i>(рдПрдХ рд╕рд╛рдЗрдбрдХрд╛рд░ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╕реНрдерд┐рдд рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реИ рдЬреЛ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд▓рдЧ рдЙрддреНрдкрд╛рдж рдХреЗ</a> рд░реВрдк рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рд▓рдЧрднрдЧ рдЕрдиреБрд╡рд╛рджред)</i> рд╕реЗрд╡рд╛ рдмреА рдХреЗ рдкрд╣рд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИ рдФрд░ рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рд╣реЛрддреА рд╣реИред </li><li>  рджреВрдд рд╕рд┐рджреЗрдХрд░ <i>рд░рд┐рдЯрд╛рдпрд░ рд╣реБрдП</i> ред  <i>(1)</i> </li><li>  рд╡рд┐рдлрд▓ рдЕрдиреБрд░реЛрдз рдХреЛ рдЙрд╕ рдкреНрд░реЙрдХреНрд╕реА рдкрд░ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдиреЗ рдЗрд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдерд╛ред </li><li>  рдпрд╣ рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░ рдЦреЛрд▓рддрд╛ рд╣реИ рдФрд░ рдмрд╛рдж рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдЧрд▓реА рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  <i>(2)</i> </li></ol><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЕрдЧрд▓реА рд░рд┐рдЯреНрд░реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИ, рдЖрдкрдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ X, Y рдпрд╛ Z рдореЗрдВ рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд┐рдВрдЧ рдФрд░ рд╕рд░реНрд╡рд┐рд╕ рдбрд┐рд╕реНрдХрд╡рд░реА рдХрд╛ рдЕрдкрдирд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИред рдпрд╣ рд╕рдм рдФрд░ рдмрд╣реБрдд рдХреБрдЫ Istio рдореЗрдВ рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдЙрдкрд▓рдмреНрдз рд╣реИ рдФрд░ рдХреЛрдб рдореЗрдВ <b>рдХрд┐рд╕реА рднреА</b> рдмрджрд▓рд╛рд╡ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛!  рдЕрдм рдЖрдк рдЗрд╕реНрддрд┐рдпреЛ рдХреЗ рд╕рд╛рде рдПрдХ рдпрд╛рддреНрд░рд╛ рдкрд░ рдЬрд╛рдирд╛ рдЪрд╛рд╣ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрднреА рднреА рдХреБрдЫ рд╕рдВрджреЗрд╣ рд╣реИрдВ, рдЦреБрд▓реЗ рд╣реБрдП рд╕рд╡рд╛рд▓ред  рдпрджрд┐ рдпрд╣ рдЬреАрд╡рди рдореЗрдВ рд╕рднреА рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдорд╛рдзрд╛рди рд╣реИ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╡реИрдз рд╕рдВрджреЗрд╣ рд╣реИ: рдЖрдЦрд┐рд░рдХрд╛рд░, рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛ рдореЗрдВ рдРрд╕реЗ рд╕рднреА рдирд┐рд░реНрдгрдп рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдкрдпреБрдХреНрдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдЖрдк рдкреВрдЫрддреЗ рд╣реИрдВ: "рдХреНрдпрд╛ рдпрд╣ рдЕрдиреБрдХреВрд▓рди рд╣реИ?" <br><br>  рдЕрдм рдЖрдк рд╕рдореБрджреНрд░реА рдпрд╛рддреНрд░рд╛ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ - рдФрд░ рдЖрдЗрдП рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдВред <br><br><h2>  рдирд┐рдпрдВрддреНрд░рдг рд╡рд┐рдорд╛рди </h2><br>  рдЗрд╕рдореЗрдВ рддреАрди рдШрдЯрдХ рд╣реЛрддреЗ рд╣реИрдВ: <b>рдкрд╛рдпрд▓рдЯ</b> , <b>рдорд┐рдХреНрд╕рд░</b> рдФрд░ <b>рдЧрдврд╝</b> , рдЬреЛ рдПрдирд╡реЙрдпрд╕ рдХреЛ рд░реВрдЯ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ, рдиреАрддрд┐рдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдФрд░ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдбреЗрдЯрд╛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдпреЛрдЬрдирд╛рдмрджреНрдз рд░реВрдк рд╕реЗ, рдпрд╣ рд╕рдм рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/dw/p6/hh/dwp6hh6y5g41oinfxccixuutkyo.png"><br>  <i>рдбрд╛рдЯрд╛ рдкреНрд▓реЗрди рдХреЗ рд╕рд╛рде рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рдЗрдВрдЯрд░реЗрдХреНрд╢рди</i> <br><br>  рдПрдиреНрд╡реЙрдпрд╕ (рдпрд╛рдиреА, рдбреЗрдЯрд╛ рдкреНрд▓реЗрди) рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рд╕реАрдЖрд░рдбреА</a> (рдХрд╕реНрдЯрдо рд░рд┐рд╕реЛрд░реНрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЗрдлрд┐рд╢рд┐рдПрдВрд╕реАрдЬрд╝</a> ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЗрд╕реНрддрд┐рдпреЛ рджреНрд╡рд╛рд░рд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЗрд╕ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЖрдкрдХреЗ рд▓рд┐рдП, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╡реЗ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдЕрдЧрд▓реЗ рд╕рд┐рдВрдЯреЗрдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВред  рдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд╛рдж, рдЗрд╕ рд╕рдВрд╕рд╛рдзрди рдХреЛ рдирд┐рдпрдВрддреНрд░рдг рд╡рд┐рдорд╛рди рджреНрд╡рд╛рд░рд╛ рдЙрдард╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдПрдиреНрд╡реЙрдпрд╕ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><h2>  рдЗрд╕реНрддрд┐рдпреЛ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдЕрдиреБрдкрд╛рдд </h2><br>  рд╣рдордиреЗ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП Istio рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд рдирд╣реАрдВ: рд╕реЗрд╡рд╛рдПрдБ Istio рд╕реЗ рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ? <br><br>  рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ, рдЗрд╕реНрддрд┐рдпреЛ рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдордЫрд▓рд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдЬрд╛рдирддрд╛ рд╣реИ - рдкрд╛рдиреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдЬрдм рд╡реЗ рдЦреБрдж рд╕реЗ рдкреВрдЫрддреЗ рд╣реИрдВ: "рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдкрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?"ред <br><br><img src="https://habrastorage.org/webt/re/oi/ff/reoiffespub6tknffwssilkgu7c.jpeg"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рдХреНрдЯреЛрд░рд┐рдпрд╛ рджрд┐рдорд┐рддреНрд░рдХреЛрдкреМрд▓реЛрд╕</a> рджреНрд╡рд╛рд░рд╛ рдЪрд┐рддреНрд░рдг: - рдЖрдк рдкрд╛рдиреА рдХреЛ рдХреИрд╕реЗ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ?</i>  <i>- рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдкрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?</i> <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдк рдХрд╛рдордХрд╛рдЬреА рдХреНрд▓рд╕реНрдЯрд░ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реНрддрд┐рдпреЛ рдШрдЯрдХреЛрдВ рдХреА рддреИрдирд╛рддреА рдХреЗ рдмрд╛рдж, рдЗрд╕рдореЗрдВ рд╕реНрдерд┐рдд рд╕реЗрд╡рд╛рдПрдВ рдХрд╛рдо рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВрдЧреА, рдФрд░ рдЗрди рдШрдЯрдХреЛрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╕рдм рдХреБрдЫ рдлрд┐рд░ рд╕реЗ рдареАрдХ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдРрд╕рд╛ рдХрд░рдиреЗ рдореЗрдВ рдЖрдк рдЗрд╕реНрддрд┐рдпреЛ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЕрд╡рд╕рд░реЛрдВ рдХреЛ рдЦреЛ рджреЗрдВрдЧреЗред <br><br>  рдкрд░реНрдпрд╛рдкреНрдд рд╕рд┐рджреНрдзрд╛рдВрдд - рдЖрдЗрдП рдЗрд╕ рдЬреНрдЮрд╛рди рдХреЛ рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рд▓рд╛рдПрдВ! <br><br><h2>  рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рдЗрд╕реНрддрд┐рдпреЛ </h2><br>  рдЗрд╕реНрддрд┐рдпреЛ рдореЗрдВ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХрдо рд╕реЗ рдХрдо 4 vCPUs рдФрд░ 8 GB RAM рдЙрдкрд▓рдмреНрдз рд╣реЛред  рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдмрдврд╝рд╛рдиреЗ рдФрд░ рд▓реЗрдЦ рд╕реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ Google рдХреНрд▓рд╛рдЙрдб рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рдЬреЛ рдирдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">$ 300 рдореБрдлреНрдд</a> рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br>  рдЬрдм рдЖрдк рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдХрдВрд╕реЛрд▓ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╣реЗрд▓реНрдо рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реНрддрд┐рдпреЛ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h2>  рд╣реЗрд▓реНрдо рдЗрдВрд╕реНрдЯрд╛рд▓реЗрд╢рди </h2><br>  рдЕрдкрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рд╣реЗрд▓реНрдо рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ, рдЬреИрд╕рд╛ рдХрд┐ рд╡реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ</a> рдореЗрдВ рдХрд╣рддреЗ рд╣реИрдВред  рд╣рдо рдЕрдЧрд▓реЗ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдЗрд╕реНрддрд┐рдпреЛ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЗрдореНрдкрд▓реЗрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br><br><h2>  рдЗрд╕реНрдЯрд┐рдпреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h2><br>  <a href="">рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬрд╝</a> рд╕реЗ Istio рд╕рдВрд╕рд╛рдзрди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ <i>(рдореВрд▓ рд▓реЗрдЦрдХ рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг 1.0.5 рдХрд╛ рд▓рд┐рдВрдХ рд╡рд░реНрддрдорд╛рди рдПрдХ рдореЗрдВ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд 1.0 - рд▓рдЧрднрдЧ рдЕрдиреБрд╡рд╛рджред)</i> , рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдирд┐рдХрд╛рд▓реЗрдВ, рдЬрд┐рд╕реЗ рдореИрдВ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдХреЙрд▓ <code>[istio-resources]</code> ред <br><br>  Istio рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдореЗрдВ рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП, K8s рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ istio- <code>istio-system</code> рдиреЗрдорд╕реНрдкреЗрд╕ рдмрдирд╛рдПрдВ: <br><br><pre> <code class="bash hljs">$ kubectl create namespace istio-system</code> </pre> <br>  <code>[istio-resources]</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкрд░ рдЬрд╛рдХрд░ рдФрд░ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдХрд░ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">$ helm template install/kubernetes/helm/istio \ --<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> global.mtls.enabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span> \ --<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> tracing.enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> \ --<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> kiali.enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> \ --<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> grafana.enabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> \ --namespace istio-system &gt; istio.yaml</code> </pre> <br>  рдпрд╣ рдХрдорд╛рдВрдб Istio рдХреЗ рдкреНрд░рдореБрдЦ рдШрдЯрдХреЛрдВ рдХреЛ <code>istio.yaml</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХрд░реЗрдЧрд╛ред  рд╣рдордиреЗ рдирд┐рдореНрди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реБрдП, рдЕрдкрдиреЗ рд▓рд┐рдП рдорд╛рдирдХ рдЦрд╛рдХрд╛ рдмрджрд▓ рджрд┐рдпрд╛: <br><br><ul><li>  <i>Global.mtls.enabled</i> рд╣рдорд╛рд░реА рдбреЗрдЯрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>false</code> <i>(рдпрд╛рдиреА mTLS рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЕрдХреНрд╖рдо рд╣реИ - рд▓рдЧрднрдЧ рдЕрдиреБрд╡рд╛рджред)</i> рдкрд░ рд╕реЗрдЯ рд╣реИ; </li><li>  <code>tracing.enabled</code> Jaeger рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдХреНрд╡реЗрд░реА рдЯреНрд░реЗрд╕рд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ; </li><li>  <code>kiali.enabled</code> рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ <code>kiali.enabled</code> рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ; </li><li>  <code>grafana.enabled</code> рдПрдХрддреНрд░рд┐рдд рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>grafana.enabled</code> рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред </li></ul><br>  рд╣рдо рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЙрддреНрдкрдиреНрди рд╕рдВрд╕рд╛рдзрди рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ kubectl apply -f istio.yaml</code> </pre> <br>  рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ Istio рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИ!  рддрдм рддрдХ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдЬрдм рддрдХ рдХрд┐ <code>istio-system</code> рдиреЗрдорд╕реНрдкреЗрд╕ рдореЗрдВ рд╕рднреА рдкреЙрдбреНрд╕ рдиреАрдЪреЗ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдХрд░ <code>Running</code> рдпрд╛ <code>Completed</code> рдЬрд╛рддреЗ: <br><br><pre> <code class="bash hljs">$ kubectl get pods -n istio-system</code> </pre> <br>  рдЕрдм рд╣рдо рдЕрдЧрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ, рдЬрд╣рд╛рдБ рд╣рдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдмрдврд╝рд╛рдПрдБрдЧреЗ рдФрд░ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВрдЧреЗред <br><br><h2>  рд╕реЗрдВрдЯреАрдореЗрдВрдЯ рдПрдирд╛рд▓рд┐рд╕рд┐рд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ </h2><br>  рдЖрдЗрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ</a> рдкрд╣рд▓реЗ рд╕реЗ рдЙрд▓реНрд▓реЗрдЦ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд┐рдП</a> рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░рд┐рдЪрдп рд▓реЗрдЦ рдореЗрдВ</a> рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдорд╛рдЗрдХреНрд░реЛрд╕реИрд╕рд╡рд░реНрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗрдВрдЯреАрдореЗрдВрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрддреЗ рд╣реИрдВ</a> ред  рдпрд╣ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рдЗрд╕реНрддрд┐рдпреЛ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдкрд░рд┐рд╖реНрдХреГрдд рд╣реИред <br><br>  рдЖрд╡реЗрджрди рдЪрд╛рд░ microservices рдХреЗ рд╣реЛрддреЗ рд╣реИрдВ: <br><br><ol><li>  рд╕реЗрд╡рд╛ <b>рдПрд╕рдП-</b> рдлреНрд░рдВрдЯреЗрдВрдб, рдЬреЛ рд░рд┐рдПрдХреНрдЯрдЬ рдкрд░ рдлреНрд░рдВрдЯ-рдПрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкрд░реЛрд╕рддрд╛ рд╣реИ; </li><li>  рдПрдХ <b>SA-WebApp</b> рд╕реЗрд╡рд╛ рдЬреЛ рд╕реЗрдВрдЯрд┐рдореЗрдВрдЯ рдПрдирд╛рд▓рд┐рд╕рд┐рд╕ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕реЗрд╡рд╛ рджреЗрддреА рд╣реИ; </li><li>  рд╕реЗрд╡рд╛ <b>рдПрд╕рдП-рд▓реЙрдЬрд┐рдХ</b> , рдЬреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рд╡реБрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a> рдХрд░рддрд╛ рд╣реИ; </li><li>  рд╕реЗрд╡рд╛ <b>рдПрд╕рдП-рдлреАрдбрдмреИрдХ</b> , рдЬреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рд╕рдЯреАрдХрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред </li></ol><br><img src="https://habrastorage.org/webt/hi/jv/oc/hijvoc4y7ercttsbopo4jzbo4w4.png"><br><br>  рдЗрд╕ рдЖрд░реЗрдЦ рдореЗрдВ, рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рд╣рдо рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рднреА рджреЗрдЦрддреЗ рд╣реИрдВ, рдЬреЛ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд░реВрдЯ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕реНрддрд┐рдпреЛ рдиреЗ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдХреЗ рднреАрддрд░ рдПрдХ рд╕рдорд╛рди рдЕрд╡рдзрд╛рд░рдгрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╡рд┐рд╡рд░рдг рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><h2>  Istio рд╕реЗ рдПрдХ рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рд╕рд╛рде рдПрдХ рдЖрд╡реЗрджрди рд╢реБрд░реВ рдХрд░рдирд╛ </h2><br>  рд▓реЗрдЦ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдЖрдЧреЗ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕реНрддрд┐рдУ-рдорд╣рд╛рд░рдд</a> рднрдВрдбрд╛рд░ рдХрд╛ рдХреНрд▓реЛрди рддреИрдпрд╛рд░ рдХрд░реЗрдВред  рдЗрд╕рдореЗрдВ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдФрд░ рдЗрд╕реНрддрд┐рдпреЛ рдХреЗ рд▓рд┐рдП рдРрдк рдФрд░ рдореИрдирд┐рдлреЗрд╕реНрдЯреЛ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br><br><h3>  рд╕рд┐рдбрдХрд░ рдбрд╛рд▓реЗрдВ </h3><br>  рд╕рдореНрдорд┐рд▓рди <b>рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ</b> рдпрд╛ <b>рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ</b> рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рд╛рдЗрдбрдХрд╛рд░ рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>istio-injection=enabled</code> рд▓реЗрдмрд▓ рд╕реЗрдЯ рдХрд░рдирд╛ <code>istio-injection=enabled</code> , рдЬреЛ рдирд┐рдореНрди рдХрдорд╛рдВрдб рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">$ kubectl label namespace default istio-injection=enabled namespace/default labeled</code> </pre> <br>  рдЕрдм рдкреНрд░рддреНрдпреЗрдХ рдкреЙрдб рдЬреЛ рдбрд┐рдлреЙрд▓реНрдЯ рдиреЗрдорд╕реНрдкреЗрд╕ рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд╡рд╣ рдЕрдкрдиреЗ рд╕рд╛рдЗрдбрдХрд╛рд░ рдХрдВрдЯреЗрдирд░ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдЧрд╛ред  рдЗрд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>[istio-mastery]</code> рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рд░реВрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдХрд░ рдФрд░ рдирд┐рдореНрди рдХрдорд╛рдВрдб рдХреЛ рдЪрд▓рд╛рдХрд░ рдЯреЗрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">$ kubectl apply -f resource-manifests/kube persistentvolumeclaim/sqlite-pvc created deployment.extensions/sa-feedback created service/sa-feedback created deployment.extensions/sa-frontend created service/sa-frontend created deployment.extensions/sa-logic created service/sa-logic created deployment.extensions/sa-web-app created service/sa-web-app created</code> </pre> <br>  рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдкреЙрдбреНрд╕ рдореЗрдВ рджреЛ рдХрдВрдЯреЗрдирд░ рд╣реИрдВ (рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рдЗрдбрдХрд╛рд░ рдХреЗ рд╕рд╛рде), <code>kubectl get pods</code> рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ <code>kubectl get pods</code> рдХрдорд╛рдВрдб <code>kubectl get pods</code> рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдорд╛рди <code>2/2</code> <code>READY</code> рдХреЙрд▓рдо рдХреЗ рддрд╣рдд рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рджреЛрдиреЛрдВ рдХрдВрдЯреЗрдирд░ рдЪрд▓ рд░рд╣реЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ kubectl get pods NAME READY STATUS RESTARTS AGE sa-feedback-55f5dc4d9c-c9wfv 2/2 Running 0 12m sa-frontend-558f8986-hhkj9 2/2 Running 0 12m sa-logic-568498cb4d-2sjwj 2/2 Running 0 12m sa-logic-568498cb4d-p4f8c 2/2 Running 0 12m sa-web-app-599cf47c7c-s7cvd 2/2 Running 0 12m</code> </pre> <br>  рдиреЗрддреНрд░рд╣реАрди рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/x9/kt/lu/x9ktluxxjopen7rn9tchuyvvioi.png"><br>  <i>рдлрд▓реА рдореЗрдВ рд╕реЗ рдПрдХ рдореЗрдВ рджреВрдд рд╕рдореАрдкрд╕реНрде</i> <br><br>  рдЕрдм рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЪрд▓ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдЖрдиреЗ рджреЗрдирд╛ рд╣реЛрдЧрд╛ред <br><br><h2>  рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ </h2><br>  рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ (рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП) рдЗрд╕реНрддрд┐рдпреЛ рдореЗрдВ рдЗрдирдЧреНрд░реЗрдб <b>рдЧреЗрдЯрд╡реЗ рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ "рдмреЙрд░реНрдбрд░" рдкрд░ рд╕реНрдерд┐рдд рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рд▓рд┐рдП рд░реВрдЯрд┐рдВрдЧ, рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ, рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдирд┐рдЧрд░рд╛рдиреА рдЬреИрд╕реА рдЗрд╕реНрддрд┐рдпреЛ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рдЗрдирдЧреНрд░реЗрдб рдЧреЗрдЯрд╡реЗ рдШрдЯрдХ рдФрд░ рдЗрд╕рдХреЗ рдЖрдЧреЗ рдХреА рд╕реЗрд╡рд╛ рдХреЛ рдЗрд╕реНрддрд┐рдпреЛ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рджреМрд░рд╛рди рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдХрд┐рд╕реА рд╕реЗрд╡рд╛ рдХрд╛ рдмрд╛рд╣рд░реА IP рдкрддрд╛ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">$ kubectl get svc -n istio-system -l istio=ingressgateway NAME TYPE CLUSTER-IP EXTERNAL-IP istio-ingressgateway LoadBalancer 10.0.132.127 13.93.30.120</code> </pre> <br>  рд╣рдо рдЗрд╕ рдЖрдИрдкреА рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВрдЧреЗ (рдореИрдВ рдЗрд╕реЗ рдмрд╛рд╣рд░реА-рдЖрдИрдкреА рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░реВрдВрдЧрд╛), рдЗрд╕рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдорд╛рди рдХреЛ рдПрдХ рдЪрд░ рдореЗрдВ рд▓рд┐рдЦреЗрдВрдЧреЗ: <br><br><pre> <code class="bash hljs">$ EXTERNAL_IP=$(kubectl get svc -n istio-system \ -l app=istio-ingressgateway \ -o jsonpath=<span class="hljs-string"><span class="hljs-string">'{.items[0].status.loadBalancer.ingress[0].ip}'</span></span>)</code> </pre> <br>  рдпрджрд┐ рдЖрдк рдЕрдм рдЗрд╕ рдЖрдИрдкреА рдХреЛ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдПрдХ рд╕реЗрд╡рд╛ рдЕрдиреБрдкрд▓рдмреНрдз рддреНрд░реБрдЯрд┐ рдорд┐рд▓реЗрдЧреА, рдХреНрдпреЛрдВрдХрд┐  <b>рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, Istio</b> рдЧреЗрдЯрд╡реЗ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рддрдХ <b>рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд░реЛрдХ рджреЗрддрд╛</b> рд╣реИред <br><br><h2>  рдЧреЗрдЯрд╡реЗ рд╕рдВрд╕рд╛рдзрди </h2><br>  рдЧреЗрдЯрд╡реЗ Kubernetes рдореЗрдВ рдПрдХ CRD (рдХрд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрди рдкрд░рд┐рднрд╛рд╖рд╛) рд╣реИ, рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЗрд╕реНрддрд┐рдпреЛ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ, рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рд╣рдо рдЖрдиреЗ рд╡рд╛рд▓реЗ рдпрд╛рддрд╛рдпрд╛рдд рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рд╕рднреА рд╣реЛрд╕реНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП HTTP рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ 80 рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдХрд╛рд░реНрдп рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░рд┐рднрд╛рд╖рд╛ <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://gist.github.com/rinormaloku/577d0e23590f7a8dfbe56fe2a1f853d7&amp;usg=ALkJrhiOWAbzJD8gObNduxJjUbzE7cnU3g#file-">http-Gateway.yaml</a> )</i> рджреНрд╡рд╛рд░рд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><pre> <code class="plaintext hljs">apiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: http-gateway spec: selector: istio: ingressgateway servers: - port: number: 80 name: http protocol: HTTP hosts: - "*"</code> </pre> <br>  рдЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ <code>istio: ingressgateway</code> рдЕрд▓рд╛рд╡рд╛ рдХреЛрдИ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ <code>istio: ingressgateway</code> ред  рдЗрд╕ рдЪрдпрдирдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде, рд╣рдо рдпрд╣ рд╕рдВрдХреЗрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдЗрдирдЧреНрд░реЗрдб рдЧреЗрдЯрд╡реЗ рдХрдВрдЯреНрд░реЛрд▓рд░ рд╣реИ, рдЬрд┐рд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЗрд╕реНрддрд┐рдпреЛ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  рдирд┐рдореНрди рдЖрджреЗрд╢ рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">$ kubectl apply -f resource-manifests/istio/http-gateway.yaml gateway.networking.istio.io/http-gateway created</code> </pre> <br>  рдЕрдм рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдкреЛрд░реНрдЯ 80 рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП <b>рд╡рд░реНрдЪреБрдЕрд▓ рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдХреА</b> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br><br><h2>  VirtualService рд╕рдВрд╕рд╛рдзрди </h2><br>  VirtualService рдЗрдирдЧреНрд░реЗрдб рдЧреЗрдЯрд╡реЗ рдХреЛ рдмрддрд╛рддреА рд╣реИ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рднреАрддрд░ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдХреИрд╕реЗ рд░реВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПред <br><br>  Http-рдЧреЗрдЯрд╡реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╣рдорд╛рд░реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ sa-frontend, sa-web-app рдФрд░ sa-the-feedback рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/zi/il/7_/ziil7_-9gfy5ejkhkzzn1wpxkxe.png"><br>  <i>VirtualServices рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧ</i> <br><br>  SA-Frontend рдХреЛ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <br><br><ul><li>  Index.html рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SA-Frontend рдкрд░ <code>/</code> рдкрде рдкрд░ рдПрдХ рд╕рдЯреАрдХ рдорд┐рд▓рд╛рди рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рд╕рд╛рдордиреЗ / рд╕реАрдПрд╕рдПрд╕, рдЬреИрд╕реЗ рд╕реАрдПрд╕рдПрд╕ рдФрд░ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕реНрдерд┐рд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>/static/*</code> рд╕рд╛рде рдЙрдкрд╕рд░реНрдЧ рдХрд┐рдП рдЧрдП рд░рд╛рд╕реНрддреЛрдВ рдХреЛ SA-Frontend рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рдкрде рдЬреЛ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЖрддреЗ рд╣реИрдВ <code>'^.*\.(ico|png|jpg)$'</code> рдХреЛ SA-Frontend рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдХреНрдпреЛрдВрдХрд┐  рдпреЗ рдкреГрд╖реНрда рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдЪрд┐рддреНрд░ рд╣реИрдВред </li></ul><br>  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдирд┐рдореНрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">sa-virtualservice-external.yaml</a> )</i> рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ <i>:</i> <br><br><pre> <code class="plaintext hljs">kind: VirtualService metadata: name: sa-external-services spec: hosts: - "*" gateways: - http-gateway # 1 http: - match: - uri: exact: / - uri: exact: /callback - uri: prefix: /static - uri: regex: '^.*\.(ico|png|jpg)$' route: - destination: host: sa-frontend # 2 port: number: 80</code> </pre> <br>  рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ: <br><br><ol><li>  рдпрд╣ VirtualService <b>http-рдЧреЗрдЯрд╡реЗ рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИ; </li><li>  <code>destination</code> рдЙрд╕ рд╕реЗрд╡рд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдЕрдиреБрд░реЛрдз рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВред </li></ol><br>  <b>рдиреЛрдЯ</b> : рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди <code>sa-virtualservice-external.yaml</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ, рдЬрд┐рд╕рдореЗрдВ SA-WebApp рдФрд░ SA-Feedback рдореЗрдВ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рднреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕рдВрдХреНрд╖рд┐рдкреНрддрддрд╛ рдХреЗ рд▓рд┐рдП рд▓реЗрдЦ рдореЗрдВ рдпрд╣рд╛рдВ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  VirtualService рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рд▓рд╛рдЧреВ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">$ kubectl apply -f resource-manifests/istio/sa-virtualservice-external.yaml virtualservice.networking.istio.io/sa-external-services created</code> </pre> <br>  <b>рдиреЛрдЯ</b> : рдЬрдм рд╣рдо Istio рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ Kubernetes API рд╕рд░реНрд╡рд░ рдПрдХ рдШрдЯрдирд╛ рдЙрдард╛рддрд╛ рд╣реИ, рдЬреЛ Istio Control Plane рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдкреНрд░рддреНрдпреЗрдХ рдкреЙрдб рдХреЗ Envoy рдкрд░рджреЗ рдХреЗ рдкреАрдЫреЗ рдирдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред  рдФрд░ рдЗрдирдЧреНрд░реЗрдб рдЧреЗрдЯрд╡реЗ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЕрдЧрд▓рд╛ рдПрдиреНрд╡реЙрдп рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИред  рдЖрд░реЗрдЦ рдкрд░ рдпрд╣ рд╕рдм рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/dz/nz/4b/dznz4bh_wpzcv7tx8jkykkiad9q.png"><br>  <i>рдХреНрд╡реЗрд░реА рд░реВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП Istio-IngressGateway рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</i> <br><br>  рд╡рд╛рдХреНрдп рд╡рд┐рд╢реНрд▓реЗрд╖рдг <code>http://{EXTERNAL-IP}/</code> рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЧрдпрд╛ рд╣реИред  рдЕрдЧрд░ рдЖрдкрдХреЛ рд╕реНрдЯреЗрдЯрд╕ рдирд╣реАрдВ рдорд┐рд▓рд╛ рддреЛ рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВ: <i>рдХрднреА-рдХрднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдкреНрд░рднрд╛рд╡реА рд╣реЛрдиреЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ рдФрд░ рдПрдирд╡реЙрдп рдХреИрд╢ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реИ</i> ред <br><br>  рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЯреНрд░реИрдлрд╝рд┐рдХ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рд╛рде рдереЛрдбрд╝рд╛ рдХрд╛рдо рдХрд░реЗрдВ <i>(рдЕрдЧрд▓реЗ рдЪрд░рдгреЛрдВ рдореЗрдВ рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реИ - рд▓рдЧрднрдЧ рдЕрдиреБрд╡рд╛рджред)</i> ред <br><br><h2>  рдХрд╛рдЗрд▓реА: рдЕрд╡рд▓реЛрдХрди </h2><br>  рдХрд┐рдпрд▓реА рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрди рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ: <br><br><pre> <code class="bash hljs">$ kubectl port-forward \ $(kubectl get pod -n istio-system -l app=kiali \ -o jsonpath=<span class="hljs-string"><span class="hljs-string">'{.items[0].metadata.name}'</span></span>) \ -n istio-system 20001</code> </pre> <br>  ... рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http: // localhost: 20001 /</a> рдЦреЛрд▓реЗрдВ, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ / рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВред  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдХрдИ рдЙрдкрдпреЛрдЧреА рд╕реБрд╡рд┐рдзрд╛рдПрдВ рдорд┐рд▓реЗрдВрдЧреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реНрддрд┐рдпреЛ рдШрдЯрдХреЛрдВ рдХреЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдиреЗрдЯрд╡рд░реНрдХ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддреЗ рд╕рдордп рдПрдХрддреНрд░ рдХреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ, рдФрд░ рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ "рдХреМрди рдХрд┐рд╕рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░ рд░рд╣рд╛ рд╣реИ?", "рд╕реЗрд╡рд╛ рдХрд╛ рдХреМрди рд╕рд╛ рд╕рдВрд╕реНрдХрд░рдг рдХреНрд░реИрд╢ рд╣реИ?"  рдЖрджрд┐  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЧреНрд░рд╛рдлрд╛рдирд╛ рдХреЗ рд╕рд╛рде рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐рд▓реА рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред <br><br><img src="https://habrastorage.org/webt/ix/pd/wr/ixpdwrppiekv0dbk3xcbceasft8.png"><br><br><h2>  рдЧреНрд░рд╛рдлрд╛рдирд╛: рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рджреГрд╢реНрдп </h2><br>  рдЗрд╕реНрддрд┐рдпреЛ рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдП рдЧрдП рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ рдФрд░ рдЧреНрд░рд╛рдлрд╛рдирд╛ рдХреЗ рд╕рд╛рде рдХрд▓реНрдкрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред  Grafana рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдЖрдиреЗ рдХреЗ рд▓рд┐рдП, рдиреАрдЪреЗ рджреА рдЧрдИ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ, рдлрд┐рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http: // localhost: 3000 /</a> : рдЦреЛрд▓реЗрдВред <br><br><pre> <code class="bash hljs">$ kubectl -n istio-system port-forward \ $(kubectl -n istio-system get pod -l app=grafana \ -o jsonpath={.items[0].metadata.name}) 3000</code> </pre> <br>  рдКрдкрд░реА рдмрд╛рдПрдБ рдХреЛрдиреЗ рдореЗрдВ <b>рд╣реЛрдо</b> рдореЗрдиреВ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдФрд░ рдКрдкрд░реА рдмрд╛рдПрдБ рдХреЛрдиреЗ рдореЗрдВ <b>Istio Service Dashboard рдХрд╛</b> рдЪрдпрди рдХрд░рдХреЗ, рдПрдХрддреНрд░рд┐рдд рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП <b>sa-web-app рд╕реЗрд╡рд╛</b> рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/wb/vz/4t/wbvz4tkgi3qgoitxhhwhppk9pu8.png"><br><br>  рдпрд╣рд╛рдВ рд╣рдо рдПрдХ рдЦрд╛рд▓реА рдФрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЙрдмрд╛рдК рдкреНрд░рджрд░реНрд╢рди рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ - рдкреНрд░рдмрдВрдзрди рдЗрд╕реЗ рдХрднреА рднреА рдордВрдЬреВрд░реА рдирд╣реАрдВ рджреЗрдЧрд╛ред  рдЪрд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рд▓реЛрдб рдмрдирд╛рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> \ curl -i http://<span class="hljs-variable"><span class="hljs-variable">$EXTERNAL_IP</span></span>/sentiment \ -H <span class="hljs-string"><span class="hljs-string">"Content-type: application/json"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">'{"sentence": "I love yogobella"}'</span></span>; \ sleep .8; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмрд╣реБрдд рд╕реЗ рдЕрдЪреНрдЫреЗ рдЪрд╛рд░реНрдЯ рд╣реИрдВ, рдФрд░ рдЙрдирдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рдЧреНрд░рд╛рдлрд╛рдирд╛ рдХреЗ рд▓рд┐рдП рдЕрджреНрднреБрдд рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдЙрдкрдХрд░рдг, рдЬреЛ рд╣рдореЗрдВ рд╕рдордп рдХреЗ рд╕рд╛рде рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди, рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реНрдерд┐рддрд┐, рд╕реБрдзрд╛рд░ / рдЧрд┐рд░рд╛рд╡рдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред <br><br>  рдЕрдВрдд рдореЗрдВ, рдЖрдЗрдП рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред <br><br><h2>  Jaeger: рдЯреНрд░реЗрд╕ </h2><br>  рд╣рдореЗрдВ рдЯреНрд░реЗрд╕рд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЬрд┐рддрдиреА рдЕрдзрд┐рдХ рд╕реЗрд╡рд╛рдПрдВ рд╣реИрдВ, рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдХрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдЙрддрдирд╛ рд╣реА рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реИред  рдЖрдЗрдП рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЪрд┐рддреНрд░ рд╕реЗ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдорд╛рдорд▓реЗ рдХреЛ рджреЗрдЦреЗрдВ: <br><br><img src="https://habrastorage.org/webt/dv/8w/iv/dv8wivmvfn20fvmaebzk8wl6h68.png"><br>  <i>рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдЕрд╕рдлрд▓ рдЕрдиреБрд░реЛрдз рдХрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрджрд╛рд╣рд░рдг</i> <br><br>  рдирд┐рд╡реЗрджрди рдЖрддрд╛ рд╣реИ, рдЧрд┐рд░ рдЬрд╛рддрд╛ рд╣реИ - <i>рдХреНрдпрд╛ рдХрд╛рд░рдг рд╣реИ?</i>  <i>рдкрд╣рд▓реА рд╕реЗрд╡рд╛?</i>  <i>рдпрд╛ рджреВрд╕рд░рд╛?</i>  рджреЛрдиреЛрдВ рдореЗрдВ рдХреБрдЫ рдЕрдкрд╡рд╛рдж рд╣реИрдВ - рдЖрдЗрдП рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓реЙрдЧ рдХреЛ рджреЗрдЦреЗрдВред  рдЖрдк рдЦреБрдж рдХреЛ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реБрдП рдХрд┐рддрдиреА рдмрд╛рд░ рдкрд╛рддреЗ рд╣реИрдВ?  рд╣рдорд╛рд░рд╛ рдХрд╛рдо рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдЬрд╛рд╕реВрд╕реЛрдВ рдХреА рддрд░рд╣ рдЕрдзрд┐рдХ рд╣реИ ... <br><br>  рдпрд╣ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдореЗрдВ рдПрдХ рд╡реНрдпрд╛рдкрдХ рд╕рдорд╕реНрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд╡рд┐рддрд░рд┐рдд рдЯреНрд░реЗрд╕ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реЗрд╡рд╛рдПрдВ рдПрдХ рджреВрд╕рд░реЗ рдХреЛ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рд╣реЗрдбрд░ рджреЗрддреА рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЯреНрд░реЗрд╕ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдпрд╣ рдЕрдиреБрд░реЛрдз рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдореИрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ: <br><br><img src="https://habrastorage.org/webt/an/_h/tz/an_htzqnc3b4xxhgkzdqi5my-ki.png"><br>  <i>TraceId рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреБрд░реЛрдз рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</i> <br><br>  Istio Jaeger Tracer рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рд╡рд┐рдХреНрд░реЗрддрд╛-рд╕реНрд╡рддрдВрддреНрд░ OpenTracing API рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред  рдЖрдк рдирд┐рдореНрди рдЖрджреЗрд╢ рдХреЗ рд╕рд╛рде Jaeger рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ kubectl port-forward -n istio-system \ $(kubectl get pod -n istio-system -l app=jaeger \ -o jsonpath=<span class="hljs-string"><span class="hljs-string">'{.items[0].metadata.name}'</span></span>) 16686</code> </pre> <br>  рдЕрдм <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http: // localhost: 16686 / рдкрд░ рдЬрд╛рдПрдВ</a> рдФрд░ <b>sa-web-app рд╕реЗрд╡рд╛ рдЪреБрдиреЗрдВ</b> ред  рдпрджрд┐ рд╕реЗрд╡рд╛ рдбреНрд░реЙрдк-рдбрд╛рдЙрди рдореЗрдиреВ рдореЗрдВ рдирд╣реАрдВ рджрд┐рдЦрд╛рдИ рдЧрдИ рд╣реИ, рддреЛ рдкреГрд╖реНрда рдкрд░ рдЧрддрд┐рд╡рд┐рдзрд┐ рджрд┐рдЦрд╛рдПрдВ / рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ рдФрд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред  рдЙрд╕рдХреЗ рдмрд╛рдж, <b>Find Traces</b> рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдЬреЛ рдирд╡реАрдирддрдо рдирд┐рд╢рд╛рди рджрд┐рдЦрд╛рдПрдЧрд╛ - рдХрд┐рд╕реА рднреА рдЪрдпрди рдХрд░реЗрдВ - рд╕рднреА рдирд┐рд╢рд╛рди рдкрд░ рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: <br><br><img src="https://habrastorage.org/webt/r8/zx/1q/r8zx1qjxc2a316-4a803l4vmzv4.png"><br><br>  рдпрд╣ рдЯреНрд░реЗрд╕ рджрд┐рдЦрд╛рддрд╛ рд╣реИ: <br><br><ol><li>  рдЕрдиреБрд░реЛрдз <b>istio-ingressgateway рдХреЗ</b> рд▓рд┐рдП рдЖрддрд╛ рд╣реИ (рдпрд╣ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд╕рд╛рде рдкрд╣рд▓реА рдмрд╛рддрдЪреАрдд рд╣реИ, рдФрд░ рдЯреНрд░реЗрд╕ рдЖрдИрдбреА рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИ), рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдЧреЗрдЯрд╡реЗ <b>рд╕рд╛-рд╡реЗрдм-рдРрдк рд╕реЗрд╡рд╛</b> рдХреЛ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИред </li><li>  <b>Sa-web-app рд╕реЗрд╡рд╛ рдореЗрдВ,</b> рдЕрдиреБрд░реЛрдз Envoy рд╕рд╛рдЗрдбрд╕реЗрдХрд░ рджреНрд╡рд╛рд░рд╛ рдЙрдард╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реНрдкрд╛рди рдореЗрдВ рдПрдХ "рдмрдЪреНрдЪрд╛" рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕реЗ рдирд┐рд╢рд╛рди рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВ) рдФрд░ <b>sa-web-app</b> рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреИрди</a> рдЬреИрдЧрд░ рдореЗрдВ рдХрд╛рдо рдХреА рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдЗрдХрд╛рдИ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдПрдХ рдирд╛рдо рд╣реИ, рдЬрд┐рд╕ рд╕рдордп рдСрдкрд░реЗрд╢рди рд╢реБрд░реВ рд╣реБрдЖ рдерд╛, рдФрд░ рдЗрд╕рдХреА рдЕрд╡рдзрд┐ред рд╕реНрдкреИрди рдХреЛ рдиреЗрд╕реНрдЯ рдФрд░ рдСрд░реНрдбрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕реНрдкреИрди рд╕реЗ рдПрдХ рдЙрдиреНрдореБрдЦ рдПрд╕рд╛рдЗрдХреНрд▓рд┐рдХ рдЧреНрд░рд╛рдл рдПрдХ рдЯреНрд░реЗрд╕ рдмрдирд╛рддрд╛ рд╣реИред - рд▓рдЧрднрдЧред рдЕрдиреБрд╡рд╛рдж</i> </li><li>  рдпрд╣рд╛рдВ, рдЕрдиреБрд░реЛрдз <b>рднрд╛рд╡рдирд╛ рдПрдирд▓рд┐рд╕рд┐рд╕</b> рд╡рд┐рдзрд┐ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпреЗ рдирд┐рд╢рд╛рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд╣реЛрддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреНред  рдЙрдиреНрд╣реЗрдВ рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереАред </li><li>  рдЗрд╕ рдХреНрд╖рдг рд╕реЗ, <b>рд╕рд╛ рддрд░реНрдХ рдХреЗ</b> рд▓рд┐рдП рдПрдХ POST рдЕрдиреБрд░реЛрдз рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЯреНрд░реЗрд╕ рдЖрдИрдбреА рдХреЛ <b>sa-web-app</b> рд╕реЗ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  ... </li></ol><br>  <b>рдиреЛрдЯ</b> : рдЪрд░рдг 4 рдореЗрдВ, рдЖрд╡реЗрджрди рдХреЛ рдЗрд╕реНрддрд┐рдпреЛ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд╣реЗрдбрд░ рдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдмрд╛рдж рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдкрд░ рдЙрдиреНрд╣реЗрдВ рдкрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреИрд╕рд╛ рдХрд┐ рдиреАрдЪреЗ рджреА рдЧрдИ рдЫрд╡рд┐ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/qg/a9/ai/qga9aibwkynfogbcxfo2cnwqxfm.png"><br>  <i>(рдП) рд╣реЗрдбрд┐рдпреЛ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддрд┐рдпреЛ рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ;</i>  <i><b>(рдмреА) рд╣реЗрдбрд░ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛рдПрдВ рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВред</b></i> <br><br>  рдЗрд╕реНрддрд┐рдпреЛ рдХрд╛рдо рдХреЗ рдереЛрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд░рддрд╛ рд╣реИ  рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реЗрдбрд░ рдмрдирд╛рддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдлреБрдЯрдкрд╛рде рдореЗрдВ рдирдП рд╕реНрдкреИрди рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЖрдЧреЗ рдмрдврд╝рд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдЕрдВрджрд░ рд╣реЗрдбрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдП рдмрд┐рдирд╛, рдЕрдиреБрд░реЛрдз рдХрд╛ рдкреВрд░рд╛ рдЯреНрд░реЗрд╕ рдкрде рдЦреЛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╢реАрд░реНрд╖рдХреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЕрдЧреНрд░реЗрд╖рд┐рдд): <br><br><pre> <code class="plaintext hljs">x-request-id x-b3-traceid x-b3-spanid x-b3-parentspanid x-b3-sampled x-b3-flags x-ot-span-context</code> </pre> <br>  рдпрд╣ рдПрдХ рд╕рд░рд▓ рдХрд╛рд░реНрдп рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрдИ рдкреБрд╕реНрддрдХрд╛рд▓рдп</a> рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдореМрдЬреВрдж рд╣реИрдВ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рд╛-рд╡реЗрдм-рдРрдк рд╕реЗрд╡рд╛ рдореЗрдВ, рд░реЗрд╕реНрдЯреЗрдордкреНрд▓реЗрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рдЗрди рд╣реЗрдбрд░ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рддрд╛ рд╣реИ рдпрджрд┐ рдЖрдк рдмрд╕ <a href="">рдЗрд╕рдХреЗ</a> рдЖрдзрд╛рд░ рдкрд░ рдЬреИрдЧрд░ рдФрд░ рдУрдкрдирдЯреНрд░реИрдбрд┐рдВрдЧ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред <br><br>  <i>рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реЗрдВрдЯреЗрдВрд╕ рдПрдирд╛рд▓рд┐рд╕рд┐рд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдлреНрд▓рд╛рд╕реНрдХ, рд╕реНрдкреНрд░рд┐рдВрдЧ рдФрд░ ASP.NET рдХреЛрд░ рдкрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред</i> <br><br>  рдЕрдм рдЬрдм рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рд╣рдо рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ (рдпрд╛ рд▓рдЧрднрдЧ "рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░"), рдмрд╛рд░реАрдХ рдЯреНрдпреВрди рд░реВрдЯрд┐рдВрдЧ, рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдореИрдиреЗрдЬрдореЗрдВрдЯ, рд╕реБрд░рдХреНрд╖рд╛, рдЖрджрд┐ рдХреЗ рдореБрджреНрджреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ! <br><br>  <i><b>рд▓рдЧрднрдЧред</b></i>  <i><b>рдЯреНрд░рд╛рдВрд╕ред</b></i>  <i>: рд░рд┐рдиреЛрд░ рдорд▓реЛрдХреВ рдХреЗ рдЗрд╕реНрдЯрд┐рдпреЛ рдХреА рдЕрдЧрд▓реА рдХрд┐рд╕реНрдд рдореЗрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрдврд╝реЗрдВ, рдЬреЛ рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╣рдорд╛рд░реЗ рдмреНрд▓реЙрдЧ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред</i>  <i><b>рдЕрджреНрдпрддрди</b> (14 рдорд╛рд░реНрдЪ): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреВрд╕рд░рд╛ рднрд╛рдЧ</a> рдкрд╣рд▓реЗ рд╣реА рдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реЛ рдЪреБрдХрд╛ рд╣реИред</i> <br><br><h2>  рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗ рдкреА.рдПрд╕. </h2><br>  рд╣рдорд╛рд░реЗ рдмреНрд▓реЙрдЧ рдореЗрдВ рднреА рдкрдврд╝реЗрдВ: <br><br><ul><li>  "рдЗрд╕реНрдЯрд┐рдпреЛ рдХреЗ рд╕рд╛рде рдорд╛рдЗрдХреНрд░реЛрд╕реНрдХреНрд░рд╛рдЗрдмрд░ рдкрд░ рд╡рд╛рдкрд╕": <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 2 (рдорд╛рд░реНрдЧ, рдпрд╛рддрд╛рдпрд╛рдд рдирд┐рдпрдВрддреНрд░рдг)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 3 (рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдФрд░ рдкреНрд░рд╛рдзрд┐рдХрд░рдг)</a> ; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд╛рд▓реА - рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣рд▓реНрдХрд╛ рд╕реЗрд╡рд╛ рдЬрд╛рд▓</a> "; </li><li>  тАЬ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рд╕реЗрд╡рд╛ рдЬрд╛рд▓ рдХреНрдпрд╛ рд╣реИ рдФрд░ рдореБрдЭреЗ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ [microservices рдХреЗ рд╕рд╛рде рдХреНрд▓рд╛рдЙрдб рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП]?</a>  "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкрд░ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрд▓рд╕реНрдЯреНрд░реЗрдЯреЗрдб рдЧрд╛рдЗрдбред"</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 1 рдФрд░ 2</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣ рдлреБрдЯрдкрд╛рде рдХрдВрдЯреЗрдирд░ рдпрд╣рд╛рдВ [рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкрд░] рдХреИрд╕реЗ рдорд┐рд▓рд╛?"</a>  "ред </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi438426/">https://habr.com/ru/post/hi438426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi438412/index.html">2019 рдореЗрдВ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░реЛрдВ рдХреЗ рд╢реНрд░рдо рдмрд╛рдЬрд╛рд░ рдореЗрдВ 112654 рдкрд░реАрдХреНрд╖рдг рдХрд╛рд░реНрдпреЛрдВ рдФрд░ рд░реБрдЭрд╛рдиреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi438414/index.html">рд╡рд╕рдВрдд рд╕рднреНрдпрддрд╛, 3/5</a></li>
<li><a href="../hi438416/index.html">рд╣рд╛рд░реНрдореЛрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi438420/index.html">2019 рдореЗрдВ рдПрдЖрдИ: рдЪреАрдЬреЛрдВ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐</a></li>
<li><a href="../hi438422/index.html">рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдЪреЛрдЯ рдХрд╛рд░реНрдпрдХреНрд░рдо (рднрд╛рдЧ рджреЛ): рдкреНрд░рд╛рдердорд┐рдХ рдЪрд┐рдХрд┐рддреНрд╕рд╛ рдФрд░ рдкреБрдирд░реНрдЬреАрд╡рди рдкрд░ рджреАрд░реНрдШрдХрд╛рд▓рд┐рдХ</a></li>
<li><a href="../hi438428/index.html">рд╕рд░рдХрд╛рд░реА рдПрдЬреЗрдВрд╕рд┐рдпреЛрдВ рдиреЗ рдШрд░реЗрд▓реВ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдореЗрдВ рддреЛрдбрд╝рдлреЛрдбрд╝ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдЦреЛрдЬрд╛</a></li>
<li><a href="../hi438430/index.html">рдореИрдВ рдлрдВрд╕ рдЧрдпрд╛ рд╣реВрдБ! рдпрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реАрдЦрдиреЗ рдореЗрдВ рдкрдард╛рд░реА рдкреНрд░рднрд╛рд╡ рдХреЛ рдХреИрд╕реЗ рджреВрд░ рдХрд┐рдпрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi438434/index.html">рд╣реИрдХрд░ рд▓реИрдм: рдкреА 1ред рд▓рд┐рдмреНрд╢ рдСрд╕реНрдЯреНрд░рд▓ рдмрд╛рдИрдкрд╛рд╕</a></li>
<li><a href="../hi438436/index.html">рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрдордХрд╛рдП рдмрд┐рдирд╛ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдЕрд╕реНрдерд╛рдпреА рдкрд╣реБрдВрдЪ рдХреЗ рд╕рд╛рде рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХреЛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░</a></li>
<li><a href="../hi438438/index.html">рдмрд┐рдЯреНрд░рд┐рдХреНрд╕ рддреЛрддреЗ рдХреЗ рд▓рд┐рдП рднреЛрдЬрдиред рд╣рдо рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╣реИрдВ, рд▓реЛрд╣реЗ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>