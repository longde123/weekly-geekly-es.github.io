<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๏ธ ๐๏ธ ูุณุฎ ุงูุฏูุงูุงุช ูุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ูู C ++ ๐๏ธ ๐ง๐ผ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู C ++ ุ ูุฌุจ ุฃู ููุฑุฑ ุงููุจุฑูุฌ ููู ุณูุชู ุชุญุฑูุฑ ุงูููุงุฑุฏ ุงููุณุชุฎุฏูุฉ ุ ูุง ุชูุฌุฏ ุฃุฏูุงุช ุชููุงุฆูุฉ ูุซู ุฌุงูุน ุงูููุงูุฉ. ุชูุงูุด ุงูููุงูุฉ ุงูุญููู ุงูููููุฉ ููุฐู ุงููุดููุฉ ุ ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุณุฎ ุงูุฏูุงูุงุช ูุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ูู C ++</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425837/" style=";text-align:right;direction:rtl"><hr><p style=";text-align:right;direction:rtl">  <i>ูู C ++ ุ ูุฌุจ ุฃู ููุฑุฑ ุงููุจุฑูุฌ ููู ุณูุชู ุชุญุฑูุฑ ุงูููุงุฑุฏ ุงููุณุชุฎุฏูุฉ ุ ูุง ุชูุฌุฏ ุฃุฏูุงุช ุชููุงุฆูุฉ ูุซู ุฌุงูุน ุงูููุงูุฉ.</i>  <i>ุชูุงูุด ุงูููุงูุฉ ุงูุญููู ุงูููููุฉ ููุฐู ุงููุดููุฉ ุ ูุชุฏุฑุณ ุจุงูุชูุตูู ุงููุดุงูู ุงููุญุชููุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุนุฏุฏ ูู ุงููุถุงูุง ุฐุงุช ุงูุตูุฉ.</i> <i><br></i> </p><hr><br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ุฌุฏูู ุงููุญุชููุงุช </h1><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฌุฏูู ุงููุญุชููุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1. ุงุณุชุฑุงุชูุฌูุงุช ููููุฉ ุงููุณุฎ ุงูุฃุณุงุณูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงูุญุตุฑูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1.4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงููุดุชุฑูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2. ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู - ุงููุดุงูู ูุงูุญููู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุฎ ูู ุงูุณุฌู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญุฏูุฏ ูุธููุฉ ุชุจุงุฏู ุงูุฏููุฉ ููุฆุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฒุงูุฉ ุงููุณุฎ ุงููุณูุทุฉ ุจูุงุณุทุฉ ุงููุชุฑุฌู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููุฐ ุฏูุงูุงุช ุงููุฒูุญ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅูุงูุฉ ููุงุจู</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุฏุฑุงุฌ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2.6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฎุต</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">3. ุฎูุงุฑุงุช ูุชูููุฐ ุงุณุชุฑุงุชูุฌูุฉ ููููุฉ ูุดุชุฑูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">4. ุฅุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงูุญุตุฑูุฉ ูุฏูุงูุงุช ุงูุญุฑูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">5. ุฅุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ - ุงูุจุฏุก ุงูุณุฑูุน</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6. ุฏูุฑุฉ ุญูุงุฉ ุงููุตุฏุฑ ูุนูุตุฑ ูุงูู ุงูููุฑุฏ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชูุงุท ุงูููุงุฑุฏ ุนูุฏ ุงูุชููุฆุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎูุงุฑุงุช ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงูููุงุฑุฏ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.2.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูุฑุฉ ุญูุงุฉ ุงูููุงุฑุฏ ุงูููุชุฏุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.2.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุจุถ ุนูู ููุฑุฏ ูุงุญุฏ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.2.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฒูุงุฏุฉ ุงูุงูุญุฑุงู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">6.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุฉ ูุดุชุฑูุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">7. ุงูููุฎุต</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุทุจููุงุช</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุญู ุฃ. ุฑูุงุจุท Rvalue</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุญู ุจ. ุฏูุงูุงุช ุงููุฒูุญ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุงุฌุน</a> <br></p><br></div></div><br><a name="id-introdaction"></a><br><h1 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br><p style=";text-align:right;direction:rtl"> ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ูู ุดูุก ูุฌุจ ุนูู ูุจุฑูุฌ C ++ ุงูููุงู ุจู ุทูุงู ุงูููุช.  ุชุชุถูู ุงูููุงุฑุฏ ูุชู ุงูุฐุงูุฑุฉ ููุงุฆูุงุช OS kernel ูุฃููุงู ูุชุนุฏุฏุฉ ุงูุฎููุท ูุงุชุตุงูุงุช ุงูุดุจูุฉ ูุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฃู ูุงุฆู ุชู ุฅูุดุงุคู ูู ุงูุฐุงูุฑุฉ ุงูุฏููุงููููุฉ ููุท.  ูุชู ุงููุตูู ุฅูู ุงูููุฑุฏ ูู ุฎูุงู ูุงุตู ุ ูุนุงุฏุฉ ูุง ูููู ููุน ุงููุงุตู ูุคุดุฑูุง ุฃู ุฃุญุฏ ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ุงูุฎุงุตุฉ ุจู ( <code>HANDLE</code> ุ ุฅูุฎ) ุ ูุฃุญูุงููุง ููู (ูุงุตูุงุช ููู UNIX).  ุจุนุฏ ุงุณุชุฎุฏุงู ุงูููุฑุฏ ุ ูุฌุจ ุนููู ุชุญุฑูุฑู ุ ูุฅูุง ุณุชููุฏ ุงูููุงุฑุฏ ุนุงุฌูุงู ุฃู ุขุฌูุงู ูู ุชุทุจูู ูุง ูุทูู ุงูููุงุฑุฏ (ูุฑุจูุง ุชุทุจููุงุช ุฃุฎุฑู).  ูุฐู ุงููุดููุฉ ุญุงุฏุฉ ุฌุฏูุง ุ ูููููุง ุงูููู ุฃู ุฅุญุฏู ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ูู .NET ู Java ูุงูุนุฏูุฏ ูู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ ุงูุฃุฎุฑู ูู ูุธุงู ุฅุฏุงุฑุฉ ููุงุฑุฏ ููุญุฏ ูุนุชูุฏ ุนูู ุฌูุน ุงูููุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุคุฏู ุงูููุฒุงุช ุงูููุฌูุฉ ูููุงุฆูุงุช ูู C ++ ุจุดูู ุทุจูุนู ุฅูู ุงูุญู ุงูุชุงูู: ุชุญุชูู ุงููุฆุฉ ุงูุชู ุชุฏูุฑ ุงูููุฑุฏ ุนูู ูุงุตู ุงูููุฑุฏ ูุนุถู ุ ูุชููุฆ ุงููุงุตู ุนูุฏ ุงูุชูุงุท ุงูููุฑุฏ ุ ูุชุญุฑุฑ ุงูููุฑุฏ ูู ุงููุฏูุฑ.  ูููู ุจุนุฏ ุจุนุถ ุงูุชูููุฑ (ุฃู ุงูุฎุจุฑุฉ) ูุฃุชู ุงูููู ุจุฃูู ููุณ ุจูุฐู ุงูุจุณุงุทุฉ.  ูุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ุฏูุงูุงุช ุงููุณุฎ.  ุฅุฐุง ูุงูุช ุงููุฆุฉ ุงูุชู ุชุฏูุฑ ุงูููุฑุฏ ุชุณุชุฎุฏู ูููุดุฆ ุงููุณุฎ ุงูุฐู ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ ุงููุชุฑุฌู ุงูุงูุชุฑุงุถู ุ ูุนูุฏ ูุณุฎ ุงููุงุฆู ุณูุญุตู ุนูู ูุณุฎุชูู ูู ููุจุถ ููุณ ุงูููุฑุฏ.  ุฅุฐุง ูุงู ุฃุญุฏ ุงููุงุฆูุงุช ุจุชุญุฑูุฑ ุฃุญุฏ ุงูููุงุฑุฏ ุ ูุณูุชููู ุงููุงุฆู ุงูุซุงูู ุจุนุฏ ุฐูู ูู ูุญุงููุฉ ุงุณุชุฎุฏุงู ุฃู ุชุญุฑูุฑ ุงูููุฑุฏ ุงูุฐู ุชู ุชุญุฑูุฑู ุจุงููุนู ุ ููู ุนูู ุฃู ุญุงู ุบูุฑ ุตุญูุญ ููููู ุฃู ูุคุฏู ุฅูู ูุง ูุณูู ุจุงูุณููู ุบูุฑ ุงููุญุฏุฏ ุ ุฃู ุฃูู ูููู ุฃู ูุญุฏุซ ุฃู ุดูุก ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅููุงุก ุบูุฑ ุทุจูุนู ููุจุฑูุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูุญุณู ุงูุญุธ ุ ูู C ++ ุ ูููู ูููุจุฑูุฌ ุงูุชุญูู ุจุดูู ูุงูู ูู ุนูููุฉ ุงููุณุฎ ูู ุฎูุงู ุชุญุฏูุฏ ูููุดุฆ ุงููุณุฎ ูุนุงูู ุชุนููู ุงููุณุฎ ุจููุณู ุ ููุง ูุณูุญ ููุง ุจุญู ุงููุดููุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูููุณ ุนุงุฏุฉู ุจุทุฑููุฉ ูุงุญุฏุฉ.  ูุฌุจ ุฃู ูููู ุชูููุฐ ุงููุณุฎ ูุฑุชุจุทูุง ุงุฑุชุจุงุทูุง ูุซูููุง ุจุขููุฉ ุชุญุฑูุฑ ุงูููุฑุฏ ุ ูุณูู ูุณูููุง ุจุดูู ุฌูุงุนู ุงุณุชุฑุงุชูุฌูุฉ ููููุฉ ุงููุณุฎ.  ุฅู ูุง ูุณูู ุจู "ูุงุนุฏุฉ ุงูุซูุงุซุฉ ุงููุจุงุฑ" ูุนุฑููุฉ ุฌูุฏูุง ุ ูุงูุชู ุชูุต ุนูู ุฃูู ุฅุฐุง ูุงู ุงููุจุฑูุฌ ุจุชุนุฑูู ูุงุญุฏุฉ ุนูู ุงูุฃูู ูู ุงูุนูููุงุช ุงูุซูุงุซ - ููุดุฆ ุงููุณุฎ ุฃู ุนุงูู ุชุนููู ุงููุณุฎ ุฃู ุงููุฏูุฑ - ููุฌุจ ุนููู ุชุญุฏูุฏ ุฌููุน ุงูุนูููุงุช ุงูุซูุงุซ.  ุชุญุฏุฏ ุฅุณุชุฑุงุชูุฌูุงุช ููููุฉ ุงููุณุฎ ููุท ููููุฉ ุงูููุงู ุจุฐูู.  ููุงู ุฃุฑุจุน ุงุณุชุฑุงุชูุฌูุงุช ุฃุณุงุณูุฉ ูููููุฉ ุงููุณุฎ. </p><br><a name="id-1"></a><br><h1 style=";text-align:right;direction:rtl">  1. ุงุณุชุฑุงุชูุฌูุงุช ููููุฉ ุงููุณุฎ ุงูุฃุณุงุณูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุจู ุงูุชูุงุท ุงูููุฑุฏ ุฃู ุจุนุฏ ุฅุตุฏุงุฑู ุ ูุฌุจ ุฃู ูุฃุฎุฐ ุงููุงุตู ูููุฉ ุฎุงุตุฉ ุชุดูุฑ ุฅูู ุฃูู ุบูุฑ ูุฑุชุจุท ุจุงูููุฑุฏ.  ุนุงุฏุฉ ูุง ูููู ูุฐุง ุตูุฑูุง ุ ูุฃุญูุงููุง -1 ุ ูููู ุฅูู ููุน ูุงุตู.  ุนูู ุฃู ุญุงู ุ ุณูุทูู ุนูู ูุฐุง ุงููุตู ุตูุฑุงู.  ูุฌุจ ุฃู ูุชุนุฑู ุงููุตู ุงูุฏุฑุงุณู ุงูุฐู ูุฏูุฑ ุงูููุฑุฏ ุนูู ูุงุตู ูุงุฑุบ ููุง ูุญุงูู ุงุณุชุฎุฏุงู ุงูููุฑุฏ ุฃู ุชุญุฑูุฑู ูู ูุฐู ุงูุญุงูุฉ. </p><br><a name="id-1-1"></a><br><h2 style=";text-align:right;direction:rtl">  1.1.  ุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ </h2><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุฃุจุณุท ุงุณุชุฑุงุชูุฌูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ููููุน ุจุจุณุงุทุฉ ูุณุฎ ูุชุนููู ูุณุฎ ุงูุตู.  ุงููุฏูุฑ ูุญุฑุฑ ุงูููุฑุฏ ุงูููุชูุท.  ูู C ++ ุ ูุญุธุฑ ุงููุณุฎ ููุณ ุตุนุจูุง ุ ูุฌุจ ุนูู ุงููุตู ุฃู ูุนูู ุ ููู ูุง ูุญุฏุฏ ุ ูููุดุฆ ุงููุณุฎุฉ ุงููุบููุฉ ูุนุงูู ุชุนููู ุงููุณุฎ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>:    X(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;);    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;); <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชู ุฅุญุจุงุท ูุญุงููุงุช ุงููุณุฎ ูู ูุจู ุงููุชุฑุฌู ูุงูุฑุงุจุท. </p><br><p style=";text-align:right;direction:rtl">  ูููุฑ ูุนูุงุฑ C ++ 11 ุจููุฉ ุฎุงุตุฉ ููุฐู ุงูุญุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>;    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจูุงุก ุงูุฌููุฉ ูุฐุง ูู ุฃูุซุฑ ุจุตุฑูุฉ ููุนุทู ุฑุณุงุฆู ูููููุฉ ุฃูุซุฑ ูููุชุฑุฌู ุนูุฏ ูุญุงููุฉ ุงููุณุฎ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ (C ++ 98) ุ ุงุณุชุฎุฏูุช ูุฆุงุช ุชุฏููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ( <code>std::fstream</code> ุ ููุง ุฅูู ุฐูู) ุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ ุ ููู Windows ุ ุงูุนุฏูุฏ ูู ุงููุฆุงุช ูู MFC ( <code>CFile</code> ุ <code>CEvent</code> ุ <code>CMutex</code> ุ ููุง ุฅูู ุฐูู).  ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ C ++ 11 ุ ุชุณุชุฎุฏู ุจุนุถ ุงููุฆุงุช ูุฐู ุงูุฅุณุชุฑุงุชูุฌูุฉ ูุฏุนู ุงูุชุฒุงูู ูุชุนุฏุฏ ุงูุฎููุท. </p><br><a name="id-1-2"></a><br><h2 style=";text-align:right;direction:rtl">  1.2.  ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงูุญุตุฑูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ุนูุฏ ุชูููุฐ ุงููุณุฎ ูุงูุชุนููู ุ ููุชูู ูุงุตู ุงูููุฑุฏ ูู ุงููุงุฆู ุงููุตุฏุฑ ุฅูู ุงููุงุฆู ุงููุฏู ุ ุฃู ุฃูู ูุจูู ูู ูุณุฎุฉ ูุงุญุฏุฉ.  ุจุนุฏ ุงููุณุฎ ุฃู ุงูุชุนููู ุ ูุญุชูู ุงููุงุฆู ุงููุตุฏุฑ ุนูู ูุงุตู ูุงุฑุบ ููุง ููููู ุงุณุชุฎุฏุงู ุงูููุฑุฏ.  ุงููุฏูุฑ ูุญุฑุฑ ุงูููุฑุฏ ุงูููุชูุท.  ุชูุณุชุฎุฏู ุฃูุถูุง ูุตุทูุญุงุช ุงูููููุฉ ุงูุญุตุฑูุฉ ุฃู ุงูุตุงุฑูุฉ [Josuttis] ููุฐู ุงูุงุณุชุฑุงุชูุฌูุฉ ุ ููุณุชุฎุฏู Andrei Alexandrescu ูุตุทูุญ ุงููุณุฎ ุงููุฏูุฑ.  ูู C ++ 11 ุ ูุชู ุฐูู ุนูู ุงููุญู ุงูุชุงูู: ูุญุธุฑ ุงููุณุฎ ุงูููุชุธู ูุชุนููู ุงููุณุฎ ููุง ูู ููุถุญ ุฃุนูุงู ุ ููุชู ุชูููุฐ ุฏูุงูุงุช ุงูุญุฑูุฉ ุ ุฃู ูุชู ุชุญุฏูุฏ ูููุดุฆ ุงูููู ูุนุงูู ุชุนููู ุงูููู.  (ุงููุฒูุฏ ุนู ุฏูุงูุงุช ุงูุญุฑูุฉ ูุงุญููุง.) </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>;    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>;    X(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span>;    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูููู ุงุนุชุจุงุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงูุญุตุฑูุฉ ุงูุชุฏุงุฏูุง ูุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ C ++ 11 ุ ุชุณุชุฎุฏู ูุฐู ุงูุฅุณุชุฑุงุชูุฌูุฉ ุงููุคุดุฑ ุงูุฐูู <code>std::unique_ptr&lt;&gt;</code> ูุจุนุถ ุงููุฆุงุช ุงูุฃุฎุฑู ุ ุนูู ุณุจูู ุงููุซุงู: <code>std::thread</code> ู <code>std::unique_lock&lt;&gt;</code> ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููุฆุงุช ุงูุชู ุงุณุชุฎุฏูุช ุณุงุจููุง ุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ ( <code>std::fstream</code> ุ ููุง ุฅูู ุฐูู).  ูู ูุธุงู ุงูุชุดุบูู Windows ุ ุจุฏุฃุช ูุฆุงุช MFC ุงูุชู ุงุณุชุฎุฏูุช ุณุงุจููุง ุงุณุชุฑุงุชูุฌูุฉ ุญุธุฑ ุงููุณุฎ ูู ุงุณุชุฎุฏุงู ุฅุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงูุญุตุฑูุฉ ( <code>CFile</code> ู <code>CEvent</code> ู <code>CMutex</code> ููุง ุฅูู ุฐูู). </p><br><a name="id-1-3"></a><br><h2 style=";text-align:right;direction:rtl">  1.3.  ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ููููู ูุณุฎ ูุชุนููู ูุซููุงุช ุงูุตู.  ูู ุงูุถุฑูุฑู ุชุนุฑูู ูููุดุฆ ุงููุณุฎ ูุนุงูู ุชุนููู ุงููุณุฎ ุ ุจุญูุซ ูููู ุงููุงุฆู ุงููุฏู ุจูุณุฎ ุงูููุฑุฏ ุฅูู ููุณู ูู ุงููุงุฆู ุงููุตุฏุฑ.  ุจุนุฏ ุฐูู ุ ููุชูู ูู ูุงุฆู ูุณุฎุชู ูู ุงูููุฑุฏ ุ ูููููู ุงุณุชุฎุฏุงู ุงูููุฑุฏ ูุชุนุฏููู ูุฅุทูุงูู ุจุดูู ูุณุชูู.  ุงููุฏูุฑ ูุญุฑุฑ ุงูููุฑุฏ ุงูููุชูุท.  ูู ุจุนุถ ุงูุฃุญูุงู ุจุงููุณุจุฉ ูููุงุฆูุงุช ุงูุชู ุชุณุชุฎุฏู ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู ุ ูุชู ุงุณุชุฎุฏุงู ูุตุทูุญ ูุงุฆูุงุช ุงููููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชูุทุจู ูุฐู ุงูุงุณุชุฑุงุชูุฌูุฉ ุนูู ุฌููุน ุงูููุงุฑุฏ.  ูููู ุชุทุจููู ุนูู ุงูููุงุฑุฏ ุงููุฑุชุจุทุฉ ุจูุฎุฒู ุงูุฐุงูุฑุฉ ุงููุคูุช ุ ูุซู ุงูุณูุงุณู ุ ูููู ููุณ ูู ุงููุงุถุญ ุฌุฏูุง ููููุฉ ุชุทุจููู ุนูู ูุงุฆูุงุช ููุงุฉ ูุธุงู ุงูุชุดุบูู ูุซู ุงููููุงุช ุ ููุงุฆูุงุช ุงููุฒุงููุฉ ุ ููุง ุฅูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู ูู ุฌููุน ุฃููุงุน ุณูุงุณู ุงููุงุฆู ุ <code>std::vector&lt;&gt;</code> ูุงูุญุงููุงุช ุงูุฃุฎุฑู ููููุชุจุฉ ุงูููุงุณูุฉ. </p><br><a name="id-1-4"></a><br><h2 style=";text-align:right;direction:rtl">  1.4.  ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงููุดุชุฑูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ููููู ูุณุฎ ูุชุนููู ูุซููุงุช ุงูุตู.  ูุฌุจ ุชุญุฏูุฏ ูููุดุฆ ุงููุณุฎ ูุนุงูู ุชุนููู ุงููุณุฎ ุงูุฐู ูุชู ููู ูุณุฎ ูุงุตู ุงูููุฑุฏ (ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจูุงูุงุช ุงูุฃุฎุฑู) ุ ูููู ููุณ ุงูููุฑุฏ ููุณู.  ุจุนุฏ ุฐูู ุ ูููู ููู ูุงุฆู ูุณุฎุชู ุงูุฎุงุตุฉ ูู ุงููุงุตู ุ ููููู ุงุณุชุฎุฏุงูู ูุชุนุฏููู ูููู ูุง ููููู ุชุญุฑูุฑ ุงูููุฑุฏ ุ ุทุงููุง ุฃู ููุงู ูุงุฆู ูุงุญุฏ ุขุฎุฑ ุนูู ุงูุฃูู ููุชูู ูุณุฎุฉ ูู ุงููุงุตู.  ูุชู ุชุญุฑูุฑ ุงูููุฑุฏ ุจุนุฏ ุฎุฑูุฌ ุงููุงุฆู ุงูุฃุฎูุฑ ุงูุฐู ููุชูู ูุณุฎุฉ ูู ุงูููุจุถ ุนู ุงููุทุงู.  ููุฑุฏ ุฃุฏูุงู ูุตู ูููููุฉ ุชูููุฐ ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชุณุชุฎุฏู ุงููุคุดุฑุงุช ุงูุฐููุฉ ุงุณุชุฑุงุชูุฌูุงุช ุงูููููุฉ ุงููุดุชุฑูุฉ ุ ููู ุงูุทุจูุนู ุฃูุถูุง ุงุณุชุฎุฏุงููุง ูู ุงูููุงุฑุฏ ุงูุซุงุจุชุฉ.  ูุทุจู ุงููุคุดุฑ ุงูุฐูู <code>std::shared_ptr&lt;&gt;</code> ูุฐู ุงูุฅุณุชุฑุงุชูุฌูุฉ ูู ููุชุจุฉ C ++ 11 ุงูููุงุณูุฉ. </p><br><a name="id-2"></a><br><h1 style=";text-align:right;direction:rtl">  2. ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู - ุงููุดุงูู ูุงูุญููู </h1><br><p style=";text-align:right;direction:rtl">  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุงูุจูุง ููุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ูููุงุฆูุงุช ูู ุงูููุน <code>T</code> ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ C ++ 98. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T&amp; a, T&amp; b)</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tmp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a)</span></span></span></span>;    a = b;    b = tmp; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงูููุน <code>T</code> ููุชูู ููุฑุฏูุง ููุณุชุฎุฏู ุฅุณุชุฑุงุชูุฌูุฉ ูุณุฎ ุนููู ุ ููุฏููุง ุซูุงุซ ุนูููุงุช ูุชุฎุตูุต ููุฑุฏ ุฌุฏูุฏ ูุซูุงุซ ุนูููุงุช ูุณุฎ ูุซูุงุซ ุนูููุงุช ูุชุญุฑูุฑ ุงูููุงุฑุฏ.  ุจูููุง ูููู ุชูููุฐ ูุฐู ุงูุนูููุฉ ูู ูุนุธู ุงูุญุงูุงุช ุฏูู ุชุฎุตูุต ููุงุฑุฏ ุฌุฏูุฏุฉ ููุณุฎูุง ุนูู ุงูุฅุทูุงู ุ ูููู ุฃู ุชููู ุงููุงุฆูุงุช ุจุชุจุงุฏู ุงูุจูุงูุงุช ุงูุฏุงุฎููุฉ ุ ุจูุง ูู ุฐูู ูุงุตู ุงูููุงุฑุฏ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ุงููุชุดุงุจูุฉ ุนูุฏูุง ูุชุนูู ุนููู ุฅูุดุงุก ูุณุฎ ูุคูุชุฉ ูู ููุฑุฏ ูุฅุตุฏุงุฑูุง ุนูู ุงูููุฑ.  ุญูุฒ ูุฐุง ุงูุชูููุฐ ุบูุฑ ุงููุนุงู ููุนูููุงุช ุงูููููุฉ ุงูุจุญุซ ุนู ุญููู ูุชุญุณูููุง.  ุฏุนููุง ููุธุฑ ูู ุงูุฎูุงุฑุงุช ุงูุฑุฆูุณูุฉ. </p><br><a name="id-2-1"></a><br><h2 style=";text-align:right;direction:rtl">  2.1.  ูุณุฎ ูู ุงูุณุฌู </h2><br><p style=";text-align:right;direction:rtl">  ูููู ุงุนุชุจุงุฑ ุงููุณุฎุฉ ุนูุฏ ุงููุชุงุจุฉ (COW) ุ ูุงูุชู ุชุณูู ุฃูุถูุง ุงููุณุฎุฉ ุงููุคุฌูุฉ ุ ุนูู ุฃููุง ูุญุงููุฉ ููุฌูุน ุจูู ุฅุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุนููู ูุฅุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงููุดุชุฑูุฉ.  ูู ุงูุจุฏุงูุฉ ุ ุนูุฏ ูุณุฎ ูุงุฆู ุ ูุชู ูุณุฎ ูุงุตู ุงูููุฑุฏ ุ ุจุฏูู ุงูููุฑุฏ ููุณู ุ ูุจุงููุณุจุฉ ูููุงูููู ุ ูุตุจุญ ุงูููุฑุฏ ูุดุชุฑููุง ููุฑุงุกุฉ ููุท ุ ูููู ุจูุฌุฑุฏ ุฃู ูุญุชุงุฌ ุจุนุถ ุงููุงูู ุฅูู ุชุนุฏูู ุงูููุฑุฏ ุงููุดุชุฑู ุ ูุชู ูุณุฎ ุงูููุฑุฏ ุซู ูุนูู ูุฐุง ุงููุงูู ูุน ูุณุฎุฉ.  ุชูููุฐ COW ูุญู ูุดููุฉ ุชุจุงุฏู ุงูุฏููุฉ: ูุง ูุชู ุชุฎุตูุต ููุงุฑุฏ ุฅุถุงููุฉ ููุณุฎ.  ูุนุฏ ุงุณุชุฎุฏุงู COW ุฃูุฑูุง ุดุงุฆุนูุง ุนูุฏ ุชูููุฐ ุงูุณูุงุณู ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>CString</code> (MFC ุ ATL).  ูููู ุงูุนุซูุฑ ุนูู ููุงูุดุฉ ุญูู ุงูุทุฑู ุงูููููุฉ ูุชูููุฐ COW ูุงููุถุงูุง ุงููุงุดุฆุฉ ูู [Meyers1] ุ [Sutter].  ุงูุชุฑุญ [Guntheroth] ุชูููุฐ COW ุจุงุณุชุฎุฏุงู <code>std::shared_ptr&lt;&gt;</code> .  ุชูุฌุฏ ูุดุงูู ุนูุฏ ุชูููุฐ COW ูู ุจูุฆุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท ุ ูููุฐุง ุงูุณุจุจ ููุญุธุฑ ุงุณุชุฎุฏุงู COW ููุณูุงุณู ูู ููุชุจุฉ C ++ 11 ุงูููุงุณูุฉ ุ ุงูุธุฑ [Josuttis] ุ [Guntheroth]. </p><br><p style=";text-align:right;direction:rtl">  ูุคุฏู ุชุทููุฑ ููุฑุฉ COW ุฅูู ูุฎุทุท ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุชุงูู: ุงูููุฑุฏ ุบูุฑ ูุงุจู ููุชุบููุฑ ูุฅุฏุงุฑุชู ุจูุงุณุทุฉ ุงููุงุฆูุงุช ุจุงุณุชุฎุฏุงู ุงุณุชุฑุงุชูุฌูุฉ ุงูููููุฉ ุงููุดุชุฑูุฉ ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูุชุบููุฑ ุงูููุฑุฏ ุ ูุชู ุฅูุดุงุก ููุฑุฏ ุฌุฏูุฏ ูุนุฏูู ุจุดูู ููุงุณุจ ุ ููุชู ุฅุฑุฌุงุน ูุงุฆู ูุงูู ุฌุฏูุฏ.  ูุณุชุฎุฏู ูุฐุง ุงููุฎุทุท ููุณูุงุณู ูุงููุงุฆูุงุช ุบูุฑ ุงููุงุจูุฉ ููุชุบููุฑ ุนูู ููุตุงุช .NET ู Java.  ูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุ ูุชู ุงุณุชุฎุฏุงูู ูููุงูู ุงูุจูุงูุงุช ุงูุฃูุซุฑ ุชุนููุฏูุง. </p><br><a name="id-2-2"></a><br><h2 style=";text-align:right;direction:rtl">  2.2.  ุชุญุฏูุฏ ูุธููุฉ ุชุจุงุฏู ุงูุฏููุฉ ููุฆุฉ </h2><br><p style=";text-align:right;direction:rtl">  ููุฏ ุชุจูู ุฃุนูุงู ูุฏู ุนุฏู ูุนุงููุฉ ูุธููุฉ ุชุจุงุฏู ุงูุฏููุฉ ุ ูุชูููุฐูุง ุจุทุฑููุฉ ูุจุงุดุฑุฉ ุ ูู ุฎูุงู ุงููุณุฎ ูุงูุชุฎุตูุต.  ููุณุชุฎุฏู ุนูู ูุทุงู ูุงุณุน ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุงุณุชุฎุฏุงูู ูู ูุจู ุงูุนุฏูุฏ ูู ุฎูุงุฑุฒููุงุช ุงูููุชุจุฉ ุงูููุงุณูุฉ.  ููู ูุง ุชุณุชุฎุฏู ุงูุฎูุงุฑุฒููุงุช <code>std::swap()</code> ุฃุฎุฑู ุ ูููู ูุธููุฉ ุฃุฎุฑู ูุญุฏุฏุฉ ุฎุตูุตูุง ูููุฆุฉ ุ ูุฌุจ ุชูููุฐ ุฎุทูุชูู. </p><br><p style=";text-align:right;direction:rtl">  1. ุญุฏุฏ ูู ุงููุตู ูุธููุฉ ุงูุนุถู <code>Swap()</code> (ุงูุงุณู ุบูุฑ ููู) ุงูุชู ุชููุฐ ุชุจุงุฏู ุงูุฏูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X&amp; other)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู ูุฐู ุงููุธููุฉ ูุง ุชุฑูู ุงูุงุณุชุซูุงุกุงุช ุ ูู C ++ 11 ุ ูุฌุจ ุงูุฅุนูุงู ุนู ูุฐู ุงููุธุงุฆู ุนูู ุฃููุง ูุง <code>noexcept</code> . </p><br><p style=";text-align:right;direction:rtl">  2. ูู ููุณ ูุณุงุญุฉ ุงูุงุณู ูุซู ุงููุฆุฉ <code>X</code> (ุนุงุฏุฉ ูู ููุณ ููู ุงูุฑุฃุณ) ุ ูู ุจุชุนุฑูู ูุธููุฉ <code>swap()</code> ุบูุฑ ุงูุนุถู) ุงููุฌุงููุฉ ุนูู ุงููุญู ุงูุชุงูู (ุงูุงุณู ูุงูุชูููุน ุฃุณุงุณูุงู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X&amp; a, X&amp; b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{ a.Swap(b); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุชุณุชุฎุฏูู ุฎูุงุฑุฒููุงุช ุงูููุชุจุฉ ุงูููุงุณูุฉ ุ ูููุณ <code>std::swap()</code> .  ูููุฑ ูุฐุง ุขููุฉ ุชุณูู ุงูุจุญุซ ุงููุนุชูุฏ ุนูู ุงููุณูุทุฉ (ADL).  ููุนุฑูุฉ ุงููุฒูุฏ ุนู ADL ุ ุงูุธุฑ [Dewhurst1]. </p><br><p style=";text-align:right;direction:rtl">  ูู ููุชุจุฉ C ++ ุงูููุงุณูุฉ ุ ุชููู ุฌููุน ุงูุญุงููุงุช ูุงููุคุดุฑุงุช ุงูุฐููุฉ ููุฐูู ุงููุฆุงุช ุงูุฃุฎุฑู ุจุชูููุฐ ูุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ููุง ูู ููุถุญ ุฃุนูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุนุงุฏุฉ ูุง ูุชู ุชุนุฑูู ูุธููุฉ ุนุถู <code>Swap()</code> ุจุณูููุฉ: ูู ุงูุถุฑูุฑู ุชุทุจูู ุนูููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ุจุดูู ุชุณูุณูู ุนูู ููุงุนุฏ ุงูุจูุงูุงุช ูุงูุฃุนุถุงุก ุฅุฐุง ูุงููุง ูุฏุนููููุง ุ ู <code>std::swap()</code> ุฎูุงู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุตู ุฃุนูุงู ูุจุณุท ุฅูู ุญุฏ ูุง ุ ููููู ุงูุนุซูุฑ ุนูู ูุตู ุฃูุซุฑ ุชูุตููุงู ูู [Meyers2].  ูููู ุฃูุถูุง ุงูุนุซูุฑ ุนูู ููุงูุดุฉ ูููุถุงูุง ุงููุชุนููุฉ ุจูุธููุฉ ุชุจุงุฏู ุงูุฏููุฉ ูู [Sutter / Alexandrescu]. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุนุฒู ูุธููุฉ ุชุจุงุฏู ุงูุฏููุฉ ุฅูู ูุงุญุฏุฉ ูู ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ ูููุฆุฉ.  ุจุงุณุชุฎุฏุงูู ุ ููููู ุชุญุฏูุฏ ุงูุนูููุงุช ุงูุฃุฎุฑู ุจุฃูุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุชุนุฑูู ุนุงูู ุชุนููู ุงููุณุฎ ูู ุฎูุงู ุงููุณุฎ ู <code>Swap()</code> ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">X&amp; X::<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> X&amp; src) {    X tmp(src);    Swap(tmp);    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงููุงูุจ ูุณูู ูุบุฉ ุงููุณุฎ ูุงูุชุจุงุฏู ุฃู ูุบุฉ Herb Sutter ุ ููุฒูุฏ ูู ุงูุชูุงุตูู ุงูุธุฑ [Sutter]ุ [Sutter / Alexandrescu]ุ [Meyers2].  ูููู ุชุทุจูู ุชุนุฏููู ูุชุทุจูู ุฏูุงูุงุช ุงููุฒูุญ ุ ุงูุธุฑ ุงูุฃูุณุงู 2.4 ุ 2.6.1. </p><br><a name="id-2-3"></a><br><h2 style=";text-align:right;direction:rtl">  2.3.  ุฅุฒุงูุฉ ุงููุณุฎ ุงููุณูุทุฉ ุจูุงุณุทุฉ ุงููุชุฑุฌู </h2><br><p style=";text-align:right;direction:rtl">  ููุฑ ูู ุงููุตู </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X(<span class="hljs-comment"><span class="hljs-comment">/*  */</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงููุธููุฉ </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">X </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ...    return X(/*  */); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุน ููุฌ ูุจุงุดุฑ ุ ูุชู ุชุญููู ุงูุนุงุฆุฏ ูู ุงูุฏุงูุฉ <code>Foo()</code> ุนู ุทุฑูู ูุณุฎ ูุซูู <code>X</code>  ููู ุงููุชุฑุฌููู ูุงุฏุฑูู ุนูู ุฅุฒุงูุฉ ุนูููุฉ ุงููุณุฎ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุชู ุฅูุดุงุก ุงููุงุฆู ูุจุงุดุฑุฉ ุนูุฏ ููุทุฉ ุงูุงุชุตุงู.  ููุฐุง ูุง ูุณูู ุชุญุณูู ุงููููุฉ ุงููุฑุฌุนุฉ (RVO).  ุชู ุงุณุชุฎุฏุงู RVO ูู ูุจู ูุทูุฑู ุงููุชุฑุฌู ูุจุนุถ ุงูููุช ููุชู ุฅุตูุงุญู ุญุงูููุง ูู ูุนูุงุฑ C ++ 11.  ุนูู ุงูุฑุบู ูู ุฃู ุงููุชุฑุฌู ูุชุฎุฐ ุงููุฑุงุฑ ุจุดุฃู RVO ุ ูููู ูููุจุฑูุฌ ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจูุงุกู ุนูู ุงุณุชุฎุฏุงูู.  ููููุงู ุจุฐูู ุ ูู ุงููุณุชุญุณู ุฃู ูููู ููุฏุงูุฉ ููุทุฉ ุฅุฑุฌุงุน ูุงุญุฏุฉ ูุฃู ููุน ุงูุชุนุจูุฑ ุงูุฐู ุชู ุฅุฑุฌุงุนู ูุทุงุจู ููุน ุงููููุฉ ุงููุฑุฌุนุฉ ููุฏุงูุฉ.  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูููุตุญ ุจุชุนุฑูู ูููุดุฆ ูุบูู ุฎุงุต ูุณูู "ูููุดุฆ ุญุณุงุจู" ุ ููุฒูุฏ ูู ุงูุชูุงุตูู ุงูุธุฑ [Dewhurst2].  ุชูุช ููุงูุดุฉ RVO ุฃูุถูุง ูู [Meyers3] ู [Guntheroth]. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูููุฌูุนูู ุญุฐู ุงููุณุฎ ุงููุณูุทุฉ ูู ุญุงูุงุช ุฃุฎุฑู. </p><br><a name="id-2-4"></a><br><h2 style=";text-align:right;direction:rtl">  2.4.  ุชูููุฐ ุฏูุงูุงุช ุงููุฒูุญ </h2><br><p style=";text-align:right;direction:rtl">  ูุชุฃูู ุชุทุจูู ุฏูุงูุงุช ุงูุญุฑูุฉ ูู ุชุนุฑูู ูููุดุฆ ุชุญุฑูู ูุญุชูู ุนูู ูุนููุฉ ูู ุงูููุน rvalue-reference ุฅูู ุงููุตุฏุฑ ูุนุงูู ุชุนููู ุงูููู ุจููุณ ุงููุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ููุชุจุฉ C ++ 11 ุงูููุงุณูุฉ ุ ูุชู ุชุนุฑูู ูุงูุจ ูุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T&amp; a, T&amp; b)</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tmp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::move(a))</span></span></span></span>;    a = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(b);    b = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(tmp); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููุง ูููุงุนุฏ ุญู ุงูุญูู ุงูุฒุงุฆุฏ ูููุธุงุฆู ุงูุชู ุชุญุชูู ุนูู ูุนููุงุช ูู ููุน ูุฑุฌุน rvalue (ุงูุธุฑ ุงูููุญู ุฃ) ุ ูู ุญุงูุฉ ุนูุฏูุง ูููู ููููุน <code>T</code> ูููุดุฆ ูุชุญุฑู ูุนุงูู ุชุนููู ูุชุญุฑู ุ ุณูุชู ุงุณุชุฎุฏุงููุง ุ ููู ูููู ููุงู ุชุฎุตูุต ููููุงุฑุฏ ุงููุคูุชุฉ ูุงููุณุฎ.  ุฎูุงู ุฐูู ุ ุณูุชู ุงุณุชุฎุฏุงู ููุดุฆ ุงููุณุฎ ูุนุงูู ุชุนููู ุงููุณุฎ. </p><br><p style=";text-align:right;direction:rtl">  ูุคุฏู ุงุณุชุฎุฏุงู ุฏูุงูุงุช ุงูุงูุชูุงู ุฅูู ุชุฌูุจ ุฅูุดุงุก ูุณุฎ ูุคูุชุฉ ูู ุณูุงู ุฃูุณุน ุจูุซูุฑ ูู ูุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ุงูููุถุญุฉ ุฃุนูุงู.  ุชูุทุจู ุฏูุงูุงุช ุงูุญุฑูุฉ ุนูู ุฃู ูููุฉ rvalue ุ ุฃู ูููุฉ ูุคูุชุฉ ุบูุฑ ูุณูุงุฉ ุ ููุฐูู ุนูู ุงููููุฉ ุงููุฑุฌุนุฉ ููุฏุงูุฉ ุฅุฐุง ุชู ุฅูุดุงุคูุง ูุญูููุง (ุจูุง ูู ุฐูู lvalue) ุ ููู ูุชู ุชุทุจูู RVO.  ูู ุฌููุน ูุฐู ุงูุญุงูุงุช ุ ูู ุงููุถููู ุฃูู ูุง ูููู ุงุณุชุฎุฏุงู ุงููุงุฆู ุงููุตุฏุฑ ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุจุนุฏ ุงูููู.  ุชูุทุจู ุฏูุงูุงุช ุงูููู ุฃูุถูุง ุนูู ูููุฉ lvalue ุงูุชู ูุชู ุชุทุจูู ุชุญููู <code>std::move()</code> ุนูููุง.  ูููู ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุงููุจุฑูุฌ ูุณุคููุงู ุนู ููููุฉ ุงุณุชุฎุฏุงู ุงููุงุฆูุงุช ุงููุตุฏุฑ ุจุนุฏ ุงูููู (ูุซุงู <code>std::swap()</code> ). </p><br><p style=";text-align:right;direction:rtl">  ุชูุช ุฅุนุงุฏุฉ ุชุตููู ููุชุจุฉ C ++ 11 ุงูููุงุณูุฉ ูุน ูุฑุงุนุงุฉ ุฏูุงูุงุช ุงูุญุฑูุฉ.  ุฃุถุงูุช ุงูุนุฏูุฏ ูู ุงููุฆุงุช ูููุดุฆ ุชุญุฑูู ูุนุงูู ุชุนููู ููู ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุธุงุฆู ุงูุฃุนุถุงุก ุงูุฃุฎุฑู ุ ูุน ูุนููุงุช ูู ุงูููุน rvalue ุงููุฑุฌุนู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชูู <code>std::vector&lt;T&gt;</code> ุนูู ูุณุฎุฉ ูู ุงูุชุญููู ุงูุฒุงุฆุฏ <code>void push_back(T&amp;&amp; src)</code> .  ูู ูุฐุง ูุณูุญ ูู ูุซูุฑ ูู ุงูุญุงูุงุช ุจุชุฌูุจ ุฅูุดุงุก ูุณุฎ ูุคูุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุคุฏู ุชุทุจูู ุฏูุงูุงุช ุงูุญุฑูุฉ ุฅูู ุฅูุบุงุก ุชุนุฑููุงุช ูุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ููุฆุฉ.  ูููู ุฃู ุชููู ูุธููุฉ ุชุจุงุฏู ุงูุญุงูุฉ ุงููุญุฏุฏุฉ ุจุดูู ุฎุงุต ุฃูุซุฑ ููุงุกุฉ ูู ุงููุนูุงุฑ <code>std::swap()</code> .  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุชุนุฑูู ูููุดุฆ ุงูุญุฑูุฉ ูุนุงูู ุชุนููู ุงูููู ุจุณูููุฉ ุจุงูุบุฉ ุจุงุณุชุฎุฏุงู ูุธููุฉ ุงูุนุถู ูุชุจุงุฏู ุงูุฏูู ุนูู ุงููุญู ุงูุชุงูู (ุงุฎุชูุงู ูุบุฉ ุงููุณุฎ ูุงูุตุฑู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X() <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span> {<span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>}    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Swap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X&amp; other)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>}    X(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span> : X()    {        Swap(src);    }    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span>    {        X tmp(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(src)); <span class="hljs-comment"><span class="hljs-comment">//         Swap(tmp);        return *this;    } // ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุดุฆ ุงูุญุฑูุฉ ูุนุงูู ุชุนููู ุงูููู ูู ูุธุงุฆู ุงูุฃุนุถุงุก ุงูุชู ูููู ูู ุงููุฑุบูุจ ูููุง ููุบุงูุฉ ุงูุชุฃูุฏ ูู ุฃููุง ูุง ุชุฑูู ุงูุงุณุชุซูุงุกุงุช ูุจุงูุชุงูู ูุชู ุงูุฅุนูุงู ุนููุง ุนูู ุฃููุง ูุง <code>noexcept</code> .  ูุชูุญ ูู ูุฐุง ุชุญุณูู ุจุนุถ ุนูููุงุช ุญุงููุงุช ุงูููุชุจุฉ ุงูููุงุณูุฉ ุฏูู ุงูุชูุงู ุงูุถูุงูุฉ ุงูุตุงุฑูุฉ ูุณูุงูุฉ ุงูุงุณุชุซูุงุกุงุช ุ ููุฒูุฏ ูู ุงูุชูุงุตูู ุงูุธุฑ [Meyers3] ู [Guntheroth].  ูููุฑ ุงููููุฐุฌ ุงูููุชุฑุญ ูุซู ูุฐุง ุงูุถูุงู ุ ุดุฑูุทุฉ ุฃูุง ูููู ุงููููุดุฆ ุงูุงูุชุฑุงุถู ููุธููุฉ ุงูุนุถู ูู ุชุจุงุฏู ุงูุฏูู ุจุฅููุงุก ุงุณุชุซูุงุกุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูููุฑ ูุนูุงุฑ C ++ 11 ูููุชุฑุฌู ุงูุฐู ูููู ุชููุงุฆููุง ุจุฅูุดุงุก ูููุดุฆ ูุชุญุฑู ูุนุงูู ุชุนููู ูุชุญุฑู. ููููุงู ุจุฐูู ุ ูุฌุจ ุงูุชุตุฑูุญ ุจุงุณุชุฎุฏุงู ุงูุจูุงุก <code>"=default"</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X(X&amp;&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;    X&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(X&amp;&amp;) = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููุฐ ุงูุนูููุงุช ูู ุฎูุงู ุชุทุจูู ุนูููุฉ ุงูููู ุจุงูุชุณูุณู ุนูู ููุงุนุฏ ูุฃุนุถุงุก ุงููุตู ุ ุฅุฐุง ูุงููุง ูุฏุนููู ุงูููู ุ ููุณุฎ ุงูุนูููุงุช ุจุทุฑููุฉ ุฃุฎุฑู.  ูู ุงููุงุถุญ ุฃู ูุฐุง ุงูุฎูุงุฑ ููุณ ููุจูููุง ุฏุงุฆููุง.  ูุง ุชุชุญุฑู ุงููุงุตูุงุช ุงูุฃูููุฉ ุ ูููู ูุง ููููู ูุณุฎูุง ุนุงุฏุฉู.  ูู ุธู ุธุฑูู ูุนููุฉ ุ ูููู ูููุชุฑุฌู ุฃู ูููุฏ ุจุดูู ูุณุชูู ููุดุฆ ูุชุญุฑู ููุงุซู ูุนุงูู ุชุนููู ูุชุญุฑู ุ ูููู ูู ุงูุฃูุถู ุนุฏู ุงุณุชุฎุฏุงู ูุฐู ุงููุฑุตุฉ ุ ููุฐู ุงูุดุฑูุท ูุฑุจูุฉ ุฅูู ุญุฏ ูุง ููููู ุฃู ุชุชุบูุฑ ุจุณูููุฉ ุนูุฏูุง ูุชู ุชุญุณูู ุงูุตู.  ุฑุงุฌุน [Meyers3] ููุญุตูู ุนูู ุงูุชูุงุตูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุฅู ุชูููุฐ ูุงุณุชุฎุฏุงู ุฏูุงูุงุช ุงููุฒูุญ ูู "ุดูุก ุฎูู".  ูููู ูููุชุฑุฌู ุชุทุจูู ุงููุณุฎ ุญูุซ ูุชููุน ุงููุจุฑูุฌ ุงูุงูุชูุงู.  ูููุง ููู ุจุนุถ ุงูููุงุนุฏ ูููุถุงุก ุนูู ุฃู ุนูู ุงูุฃูู ุชูููู ุงุญุชูุงููุฉ ุญุฏูุซ ูุซู ูุฐุง ุงููููู. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุญุธุฑ ุงููุณุฎ ุฅู ุฃููู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุนุฑูู ูููุดุฆ ุงูุชุญุฑูู ูุนุงูู ุชุนููู ุงูููู <code>noexcept</code> . </li><li style=";text-align:right;direction:rtl">  ุชุทุจูู ุฏูุงูุงุช ุงูุญุฑูุฉ ูููุฆุงุช ุงูุฃุณุงุณูุฉ ูุงูุฃุนุถุงุก. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุทุจูู ุงูุชุญููู <code>std::move()</code> ุนูู ูุนููุงุช ุฏุงูุงุช ูุฑุฌุน ุงูููุน rvalue. </li></ol><br><p style=";text-align:right;direction:rtl">  ุงููุงุนุฏุฉ 2 ูููุดุช ุฃุนูุงู.  4   ,   rvalue-  lvalue (.   ).        . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">// ...    B(B&amp;&amp; src) noexcept; }; class D : public B { // ...    D(D&amp;&amp; src) noexcept; }; D::D(D&amp;&amp; src) noexcept    : B(std::move(src)) //  {/* ... */}</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">      ,     .        6.2.1. </p><br><a name="id-2-5"></a><br><h2 style=";text-align:right;direction:rtl">  2.5.  vs.  </h2><br><p style=";text-align:right;direction:rtl">     ,    RVO (.  2.3),        ,    .          ( ),       ,     .        ,    .    C++11  - <code>emplace()</code> , <code>emplace_front()</code> , <code>emplace_back()</code> ,   . ,    -      โ   (variadic templates),         .  ,      C++11 โ     . </p><br><p style=";text-align:right;direction:rtl">    : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ,   ,   . </li><li style=";text-align:right;direction:rtl">  ,  ,     . </li></ol><br><p style=";text-align:right;direction:rtl">  ,         . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; vs; vs.push_back(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'X'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">//  vs.emplace_back(3, '7');           // </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">       <code>std::string</code> ,           .        .     ,  ,  .      ,       [Meyers3]. </p><br><a name="id-2-6"></a><br><h2 style=";text-align:right;direction:rtl">  2.6.  ุงูููุฎุต </h2><br><p style=";text-align:right;direction:rtl">     ,    ,     .               -  .                   .   โ     :    ,    .     ,       ,     ,  .      :     ,     ,  ยซยป   . </p><br><p style=";text-align:right;direction:rtl">      :       ,        ,       .NET  Java.             ,      <code>Clone()</code>  <code>Duplicate()</code> . </p><br><p style=";text-align:right;direction:rtl">  -   -       ,         : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    . </li><li style=";text-align:right;direction:rtl">       . </li><li style=";text-align:right;direction:rtl">   -       rvalue-. </li></ol><br><p style=";text-align:right;direction:rtl">   .NET  Java   -    ,         ,   .NET      <code>IClonable</code> .    ,      . </p><br><a name="id-3"></a><br><h1 style=";text-align:right;direction:rtl"> 3.       </h1><br><p style=";text-align:right;direction:rtl">        ,    .      -    ,    .     ,    .        Windows:   ,   <code>HANDLE</code> ,  COM-.          <code>DuplicateHandle()</code> ,      <code>CloseHandle()</code> .  COM-  - <code>IUnknown::AddRef()</code>  <code>IUnknown::Release()</code> .   ATL    <code>ComPtr&lt;&gt;</code> ,  COM-  .    UNIX,       C,     <code>_dup()</code> ,      . </p><br><p style=";text-align:right;direction:rtl">    C++11   <code>std::shared_ptr&lt;&gt;</code>    .  ,    ,      ,     ,   ,    . ,      .   <code>std::shared_ptr&lt;&gt;</code>    [Josuttis], [Meyers3]. </p><br><p style=";text-align:right;direction:rtl">      :  -       ,          (  ).          (   )      ,              .   <code>std::shared_ptr&lt;&gt;</code>         <code>std::weak_ptr&lt;&gt;</code> .  . [Josuttis], [Meyers3]. </p><br><p style=";text-align:right;direction:rtl">            - [Alexandrescu].    (   ) ,         [Schildt].          ,   . </p><br><p style=";text-align:right;direction:rtl">        ( )    [Alger]. </p><br><p style=";text-align:right;direction:rtl">            -.     [Josuttis]  [Alexandrescu]. </p><br><p style=";text-align:right;direction:rtl">       -   .NET  Java.   ,    ,   ,         . </p><br><a name="id-4"></a><br><h1 style=";text-align:right;direction:rtl"> 4.       </h1><br><p style=";text-align:right;direction:rtl">          ,  C++   rvalue-   .    C++98    <code>std::auto_ptr&lt;&gt;</code> ,     ,     ,        .   ,       ,       (  ).  C++11   rvalue- ,         ,    .     C++11 <code>std::auto_ptr&gt;&lt;&gt;</code>        <code>std::unique_ptr&lt;&gt;</code> .           ,     [Josuttis], [Meyers3]. </p><br><p style=";text-align:right;direction:rtl">        :   - ( <code>std::fstream</code> , etc.),       ( <code>std::thread</code> , <code>std::unique_lock&lt;&gt;</code> , etc.).  MFC     ,      ( <code>CFile</code> , <code>CEvent</code> , <code>CMutex</code> , etc.). </p><br><a name="id-5"></a><br><h1 style=";text-align:right;direction:rtl"> 5.    โ   </h1><br><p style=";text-align:right;direction:rtl">         .    ,        . ,   ,  ,          .     ,     ,    ,     (    )    .   , ,     ,   .            ( )  ,    .           ,       .    โ   .     6. </p><br><p style=";text-align:right;direction:rtl">   ,     -  -,  ยซ  ยป,   -     .         -    . ,   ,     ,     ,    -       .      ยซยป. </p><br><a name="id-6"></a><br><h1 style=";text-align:right;direction:rtl"> 6.     -  </h1><br><p style=";text-align:right;direction:rtl">     ,       - . ,       -.   . </p><br><a name="id-6-1"></a><br><h2 style=";text-align:right;direction:rtl"> 6.1.     </h2><br><p style=";text-align:right;direction:rtl">        -  .    ,  ,  : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       .     ,    . </li><li style=";text-align:right;direction:rtl">      . </li><li style=";text-align:right;direction:rtl">    . </li></ol><br><p style=";text-align:right;direction:rtl">      ,     , ,    .    C++11         . </p><br><p style=";text-align:right;direction:rtl">          ยซ   ยป (resource acquisition is initialization, RAII).  RAII         (          ), .,  [Dewhurst1].      ยซยป RAII.         , , ,     (immutable) RAII. </p><br><a name="id-6-2"></a><br><h2 style=";text-align:right;direction:rtl"> 6.2.       </h2><br><p style=";text-align:right;direction:rtl"> ,      RAII,    ,  ,    .              - ,    ,    -      .  ,       ,       ,        .      . </p><br><a name="id-6-2-1"></a><br><h3 style=";text-align:right;direction:rtl"> 6.2.1.     </h3><br><p style=";text-align:right;direction:rtl">  ,  ,  ,     ,      : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    ,   . </li><li style=";text-align:right;direction:rtl">       . </li><li style=";text-align:right;direction:rtl">       . </li><li style=";text-align:right;direction:rtl">    . </li></ol><br><p style=";text-align:right;direction:rtl">    C++11      , ,  ,     .     ,  - <code>clear()</code> ,     ,    ,      .         . ,   <code>shrink_to_fit()</code> ,    ,     (. ). </p><br><p style=";text-align:right;direction:rtl"> ,      RAII,     , ,        .        ,      . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-comment"><span class="hljs-comment">// RAII    X(const X&amp;) = delete;            //      X&amp; operator=(const X&amp;) = delete; //      X(/*  */);              //      ~X();                            //   //     X() noexcept;                    //       X(X&amp;&amp; src) noexcept              //      X&amp; operator=(X&amp;&amp; src) noexcept;  //    // ... };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">         . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">X x;                    <span class="hljs-comment"><span class="hljs-comment">//  ""  x = X(/*  */); //   x = X(/*  */); //   ,   x = X();                //  </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">     <code>std::thread</code> . </p><br><p style=";text-align:right;direction:rtl">      2.4,           -  .  , -        -    .    . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">// RAII // ... public: // ,         X() noexcept;    X(X&amp;&amp; src) noexcept;    X&amp; operator=(X&amp;&amp; src) noexcept;    void Swap(X&amp; other) noexcept; //      void Create(/*  */); //      void Close() noexcept;        //   // ... }; X::X() noexcept {/*    */}</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">X::X(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span> : X() {    Swap(src); } X&amp; X::<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(X&amp;&amp; src) <span class="hljs-keyword"><span class="hljs-keyword">noexcept</span></span> {    X tmp(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(src)); <span class="hljs-comment"><span class="hljs-comment">//     Swap(tmp);    return *this; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">   -    : </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> X::Create(<span class="hljs-comment"><span class="hljs-comment">/*  */</span></span>) {    <span class="hljs-function"><span class="hljs-function">X </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tmp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-params"><span class="hljs-comment">/*  */</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//      Swap(tmp); } void X::Close() noexcept {    X tmp;    Swap(tmp); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">   ,          ,    , -      .           ,  ,       ,   .               ,         . </p><br><p style=";text-align:right;direction:rtl">          -     ยซ  ยป,        ,   .         :      ,       ,      ( ).         :    ,   .        ,  :      ,          ,     .  ,            .       [Sutter], [Sutter/Alexandrescu], [Meyers2]. </p><br><p style=";text-align:right;direction:rtl"> ,   RAII                 . </p><br><a name="id-6-2-2"></a><br><h3 style=";text-align:right;direction:rtl"> 6.2.2.    </h3><br><p style=";text-align:right;direction:rtl">        RAII     .  ,  ,  ,    ,      : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    ,   . </li><li style=";text-align:right;direction:rtl">       . </li><li style=";text-align:right;direction:rtl">    .    ,  . </li><li style=";text-align:right;direction:rtl">      . </li><li style=";text-align:right;direction:rtl">  . </li></ol><br><p style=";text-align:right;direction:rtl">  ยซยป RAII,   โ          .      ,     ,    . 3.       .    ยซยป,    . </p><br><a name="id-6-2-3"></a><br><h3 style=";text-align:right;direction:rtl"> 6.2.3.    </h3><br><p style=";text-align:right;direction:rtl">        โ    .      RAII   ,       .         ,     .   ,   ,              (   -).  -       ( -).        6.2.1,         . </p><br><a name="id-6-3"></a><br><h2 style=";text-align:right;direction:rtl"> 6.3.   </h2><br><p style=";text-align:right;direction:rtl">     , -          RAII,     :            .      ,     ,   . </p><br><a name="id-conclusion"></a><br><h1 style=";text-align:right;direction:rtl"> 7.  </h1><br><p style=";text-align:right;direction:rtl"> ,  ,     ,     ,    .  -        -. </p><br><p style=";text-align:right;direction:rtl">  4   -: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   . </li><li style=";text-align:right;direction:rtl">   . </li><li style=";text-align:right;direction:rtl">   . </li><li style=";text-align:right;direction:rtl">   . </li></ol><br><p style=";text-align:right;direction:rtl">         .      ,      - :   ,      , -    . </p><br><p style=";text-align:right;direction:rtl">            ,    .  ,    ,     -,        ,     . </p><br><p style=";text-align:right;direction:rtl">   -      .     .            ,                  (.  6.2.3).     ,      (.  6.2.1).         ,           .    ,       ,      .        ,       <code>std::shared_ptr&lt;&gt;</code> . </p><br><a name="id-apps"></a><br><h1 style=";text-align:right;direction:rtl">  ุงูุชุทุจููุงุช </h1><br><a name="id-app-1"></a><br><h2 style=";text-align:right;direction:rtl">  . Rvalue- </h2><br><p style=";text-align:right;direction:rtl"> Rvalue-    C++ ,          ,    rvalue-.  rvalue-   <code>T</code>   <code>T&amp;&amp;</code> . </p><br><p style=";text-align:right;direction:rtl">     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Int</span></span></span><span class="hljs-class"> {</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m_Value; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    Int(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val) : m_Value(val) {}    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_Value; }    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ m_Value = val; } };</code> </pre> <br><p style=";text-align:right;direction:rtl">    , rvalue-  . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r0; <span class="hljs-comment"><span class="hljs-comment">// error C2530: 'r0' : references must be initialized</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">   rvalue-   ++    ,       lvalue.  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Int </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; Int&amp;&amp; r1 = i; <span class="hljs-comment"><span class="hljs-comment">// error C2440: 'initializing' : cannot convert from 'Int' to 'Int &amp;&amp;'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">      rvalue: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r2 = Int(<span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-comment"><span class="hljs-comment">// OK Int&amp;&amp; r3 = 5;       // OK</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  lvalue       rvalue-: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r4 = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Int&amp;&amp;&gt;(i); <span class="hljs-comment"><span class="hljs-comment">// OK</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">      rvalue-    (  ) <code>std::move()</code> ,     (  <code>&lt;utility&gt;</code> ). </p><br><p style=";text-align:right;direction:rtl"> Rvalue      rvalue  ,     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp;&amp; r5 = <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// OK int&amp; r6 = 2 * 2;  // error</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">   rvalue-     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; r.Get() &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// : 7 r.Set(19); std::cout &lt;&lt; r.Get() &lt;&lt; '\n'; // : 19</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> Rvalue-     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r = <span class="hljs-number"><span class="hljs-number">5</span></span>; Int&amp; x = r;           <span class="hljs-comment"><span class="hljs-comment">// OK const Int&amp; cx = r;    // OK</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> Rvalue-     ,      .     ,      rvalue-,       rvalue . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Int&amp;&amp;)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Int </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; Foo(i);            <span class="hljs-comment"><span class="hljs-comment">// error, lvalue  Foo(std::move(i)); // OK Foo(Int(4));       // OK Foo(5);            // OK</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">     ,      rvalue      rvalue-              ,       .        rvalue-. </p><br><p style=";text-align:right;direction:rtl">   ,   ,   ,    rvalue-,   (ambiguous)  rvalue . </p><br><p style=";text-align:right;direction:rtl">      </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Int&amp;&amp;)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Int&amp;)</span></span></span></span>;</code> </pre> <br><p style=";text-align:right;direction:rtl">      </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Int </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; Foo(i);            <span class="hljs-comment"><span class="hljs-comment">// Foo(const Int&amp;) Foo(std::move(i)); // Foo(Int&amp;&amp;) Foo(Int(6));       // Foo(Int&amp;&amp;) Foo(9);            // Foo(Int&amp;&amp;)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">       :  rvalue-     lvalue. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Int&amp;&amp; r = <span class="hljs-number"><span class="hljs-number">7</span></span>; Foo(r);            <span class="hljs-comment"><span class="hljs-comment">// Foo(const Int&amp;) Foo(std::move(r)); // Foo(Int&amp;&amp;)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">      ,    rvalue-,    lvalue     <code>std::move()</code> . .          2.4. </p><br><p style=";text-align:right;direction:rtl">    ++11,   rvalue- โ      -.      (lvalue/rvalue)   <code>this</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:    X();    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoIt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> &amp;</span></span>;  <span class="hljs-comment"><span class="hljs-comment">// this   lvalue    void DoIt() &amp;&amp;; // this   rvalue // ... }; X x; x.DoIt();   // DoIt() &amp; X().DoIt(); // DoIt() &amp;&amp;</span></span></code> </pre> <br><a name="id-app-2"></a><br><h2 style=";text-align:right;direction:rtl">  .   </h2><br><p style=";text-align:right;direction:rtl">  ,            ( <code>std::string</code> , <code>std::vector&lt;&gt;</code> , etc.)       .         โ    .     ,    rvalue-          .    ,   ,   -   ,    - ,    .       ,  ,       ,         rvalue,       lvalue.      ,        rvalue.    .         ,   (    lvalue),       RVO. </p><br><a name="id-refs"></a><br><h1 style=";text-align:right;direction:rtl">  ุงููุฑุงุฌุน </h1><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> [Alexandrescu] <br> , .    C++.: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ  - ู: LLC "I.D. ยป, 2002. </p><br><p style=";text-align:right;direction:rtl"> [Guntheroth] <br> , .    C++.     .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .:  ยซ-ยป, 2017. </p><br><p style=";text-align:right;direction:rtl"> [Josuttis] <br> ,  .   C++:  , 2- .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ  - ู: LLC "I.D. ยป, 2014. </p><br><p style=";text-align:right;direction:rtl"> [Dewhurst1] <br> ,  . C++.  , 2- .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .: -, 2013. </p><br><p style=";text-align:right;direction:rtl"> [Dewhurst2] <br> ,  .   C++.         .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .:  , 2012. </p><br><p style=";text-align:right;direction:rtl"> [Meyers1] <br> , .    C++. 35        .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .:  , 2000. </p><br><p style=";text-align:right;direction:rtl"> [Meyers2] <br> , .   C++. 55        .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .:  , 2014. </p><br><p style=";text-align:right;direction:rtl"> [Meyers3] <br> , .    C++: 42    C++11  C ++14.: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ  - ู: LLC "I.D. ยป, 2016. </p><br><p style=";text-align:right;direction:rtl"> [Sutter] <br> , .     C++.: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ :  ยซ.. ยป, 2015. </p><br><p style=";text-align:right;direction:rtl"> [Sutter/Alexandrescu] <br> , . , .    ++.: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ  - ู: LLC "I.D. ยป, 2015. </p><br><p style=";text-align:right;direction:rtl"> [Schildt] <br> , .    C++.: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .: -, 2005. </p><br><p style=";text-align:right;direction:rtl"> [Alger] <br> , . C++:  .: .  ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ .:  ยซ ยซยป, 1999. </p><br></div></div><br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar425837/">https://habr.com/ru/post/ar425837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar425827/index.html">ุฏุฑุณ + Google: ุชุญุชุงุฌ ุงููุดุงุฑูุน ุฅูู ุถูุงู ุงุญุชุฑุงู ุงูุญุฏูุฏ ุจูู ูุตุงูุญ ุงููุณุชุฎุฏููู ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar425829/index.html">ููู ูุงุชููุง ูุน Roskomnadzor ููุง ุฌุงุก ููู</a></li>
<li><a href="../ar425831/index.html">RKN Alert - ูุงุนุฏุฉ ุจูุงูุงุช Roskomnadzor ูู ูุชุตูุญู</a></li>
<li><a href="../ar425833/index.html">ุฃุฏุงุฉ ููุณุงุนุฏุชู ุนูู ุงุฎุชูุงุฑ ุฃูุถู ุงูุฃููุงุฑ ูููุชุฌู.</a></li>
<li><a href="../ar425835/index.html">"Breaking Bugs" ูู Sberbank: ููููุฉ ุฅุตูุงุญ ูุนุฏู ุงูุฃุฎุทุงุก ููุฏุฉ ุณุจุนุฉ ุฃูุงู ูู ุงูููู</a></li>
<li><a href="../ar425839/index.html">ูุฑุงุฌุนุฉ ูุคุชูุฑ Atlassian</a></li>
<li><a href="../ar425843/index.html">ุจุงูุซูู ููุทูู: ุงุฎุชูุงุฑ ุงูุจุฑูุงูุฌ ุงูุชุนูููู</a></li>
<li><a href="../ar425845/index.html">ุชุทุจููุงุช ุงูููู ุงูุชููุงุฆู ุนูู Google Play</a></li>
<li><a href="../ar425847/index.html">ูุซุงู ุนูู ุงุณุชุฎุฏุงู Microsoft Flow ุฃู ููููุฉ ุฅุนุทุงุก ุฒูุฌุชู ุงูุฒููุฑ</a></li>
<li><a href="../ar425849/index.html">ุชุฑุงุฌุนุช ุฃูุงุฒูู ูุฑูุนุช ุฑูุงุชุจ ุงูููุธููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>