<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👨‍👧‍👦 🐰 📮 Nous utilisons 54 lois fédérales au profit de la comptabilité à domicile 🥋 🚵🏼 🍖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lorsque la prochaine édition de la loi fédérale n ° 54 "sur l'utilisation des caisses enregistreuses" est entrée en vigueur, la plupart de la populati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous utilisons 54 lois fédérales au profit de la comptabilité à domicile</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423633/">  Lorsque la prochaine édition de la loi fédérale n ° 54 "sur l'utilisation des caisses enregistreuses" est entrée en vigueur, la plupart de la population l'a rencontrée négativement. <br><br><div class="spoiler">  <b class="spoiler_title">Quelque chose comme ça (18+, contient un langage obscène)</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/dglMh5er36U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  J'étais l'un des rares à sauter, à applaudir et à se réjouir généralement comme un enfant. <br>  Pour la comptabilité d'un travail domestique séparé est devenu une activité élémentaire. <br><a name="habracut"></a><br><h2>  Pourquoi? </h2><br>  Il n'y aura pas de réponse à la question "pourquoi ai-je besoin d'une comptabilité à domicile".  Si vous ne connaissez pas la réponse, vous n'en avez pas besoin. <br><br>  Oubliez également les économies basées sur l'analyse de la comptabilité.  L'exemple classique de «vous verrez qu'une tasse de café pour 130 roubles chaque jour en finit par manger 4000 par mois» est dissocié de la réalité.  Si une personne n'est pas idiote, elle le verra sans la comptabilité fastidieuse. <br><br><h2>  Base </h2><br>  Commençons par un simple.  Logiciel de comptabilité. <br><br>  Il existe un milliard de programmes de comptabilité à domicile. <br><br>  Je me suis superficiellement familiarisé avec les tendances générales et j'ai refusé les logiciels spécialisés. <br>  Seuil d'entrée élevé, prise en charge limitée, manque de capacité d'extension d'une part et fonctionnalité redondante - d'autre part, perspectives douteuses et durée de vie du logiciel ... <br>  En conséquence, ma femme et moi nous sommes installés sur Google Docs.  Nous tenons une comptabilité depuis 2014 et pendant ce temps ils n'ont pas cassé (bien que la naissance d'un enfant soit devenu une tentation sérieuse) et n'a pas regretté d'avoir choisi un outil. <br><br>  Tout a l'air très simple: <br>  Trois feuilles principales: <br>  Catégories - liste des catégories pour la validation des entrées <br>  Mois en cours - pour ne pas se perdre <br>  Année en cours - jetez le mois en cours ici <br><br>  Cela ressemble à ceci (je pense que tout est clair sur la capture d'écran): <br><br><img src="https://habrastorage.org/webt/3w/oa/uz/3woauz8lzez1fh33fdww7bs6s5e.png"><br><br>  Les catégories sont automatiquement remplacées à partir de la feuille correspondante.  Si vous entrez quelque chose qui ne figure pas dans la liste, le validateur jure. <br><br>  Je voulais créer des balises, mais j'ai finalement refusé cette idée - objectivement, le balisage n'est pas plus facile, et cela n'était pas nécessaire.  Un objectif approximatif de la catégorie suffit. <br><br>  Voici à quoi ressemble ma liste de catégories (ce n'est pas l'idéal, certaines catégories se chevauchent, certaines catégories sont des sous-catégories d'autres, mais c'est une telle liste qui a été formée sur 4 ans et couvre nos besoins familiaux pour l'analyse des coûts): <br><br><div class="spoiler">  <b class="spoiler_title">Fiche: Catégories</b> <div class="spoiler_text">  Le site <br>  Fruit <br>  Légumes <br>  Les épices <br>  Essence <br>  Repos culturel <br>  Dessert <br>  Les produits <br>  L'hygiène <br>  La santé <br>  La beauté <br>  Auto <br>  Travail <br>  La viande <br>  Chambre à coucher <br>  La cuisine <br>  Technique <br>  Cadeaux <br>  Couloir <br>  Vêtements_Chaussures <br>  Les jeux <br>  Communal <br>  Loisirs <br>  Doux <br>  Chat <br>  Poisson <br>  Taxi <br>  Travail <br>  Numéro de téléphone <br>  Technique <br>  Ustensiles de cuisine <br>  Produits chimiques ménagers <br>  Le sport <br>  Bureau <br>  Les taxes <br>  Moto <br>  Le jardin <br>  L'intérieur <br>  La sécurité <br>  Café <br>  Entretien et réparation de maison <br>  Meubles <br>  Le sexe <br>  Voyage <br>  Acheter une propriété <br>  Dérive <br>  Dessin <br>  La sculpture <br>  La formation <br>  Repas prêt <br>  Maison intelligente <br>  Velo <br>  Les enfants <br></div></div><br><h2>  Pratique </h2><br>  En théorie, la comptabilité semble très simple. <br><br>  Eh bien, combien cela nous coûte-t-il de rentrer à la maison après un achat et d'entrer rapidement la liste des biens achetés dans un document?  Quelques paquets de lait, une miche de pain, des biscuits ... <br><br>  La théorie ne prend pas les voyages dans les supermarchés quand un tas de produits sont achetés tout de suite ... <br><br>  Et la voici - «une poignée de clous»: <br><br><img src="https://habrastorage.org/webt/ck/uk/y9/ckuky9pgir58uush0mfucrshicq.jpeg"><br><br>  Un type de couvre-pieds démote énormément.  Et entrer avec la combinaison et le comptage des points par catégorie prend beaucoup de temps.  Ma femme et moi nous sommes assis le soir et avons conduit ensemble tous les chèques accumulés au cours de la semaine. <br><br>  De temps en temps, il y avait une volonté de faire reconnaître le texte du chèque, de simplifier la saisie. <br>  Mais les choses n'allaient pas au-delà des pensées. <br><br>  La raison est simple, comme 5 cents: l'écriture d'un logiciel prend du temps.  Et à ce moment, il était évident que le temps passé à écrire un logiciel capable de reconnaître plus ou moins qualitativement tous les chèques et de former au moins quelques données utiles à leur sujet - 10 ans bloqueront la conduite manuelle des chèques. <br><br>  C'était jusqu'au 1er juillet 2017.  Ce jour-là, la «même» édition de 54 lois fédérales est entrée en vigueur. <br>  «Le voici!», Pensai-je, «Vous pouvez prendre les données d'un chèque sans les conduire manuellement» ... Et puis nous avons continué à conduire les chèques avec nos mains.  Parce que l'inertie, la paresse et le conservatisme. <br><br>  En février 2018, mon fils est né ... Cela a grandement changé les priorités en affaires. <br><br>  En conséquence, nous n'avons pas trouvé le temps de tenir la comptabilité. <br><br>  Une énorme quantité de chèques s'est accumulée. <br><br><div class="spoiler">  <b class="spoiler_title">Seau de clous</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ji/79/mm/ji79mmkvdm0voeghcn8njsdn36a.jpeg"><br></div></div><br>  Et j'ai compris que soit je faisais de l'automatisation, soit tous les chèques devaient être levés, car il n'y avait tout simplement pas de force pour les enfoncer avec mes mains. <br><br><h2>  Automatisation </h2><br>  Il est temps de parler de 54 lois fédérales et de ce qu'il nous donne. <br><br>  Cette loi oblige les vendeurs à vérifier auprès de l'OFD (Fiscal Data Operator).  Si sans mots intelligents - tous les caisses enregistrent des chèques sur Internet. <br><br>  Et ils sont accessibles. <br><br>  Je ne sais pas comment maintenant, mais quand j'ai compris, je n'ai pas pu trouver d'informations sur le protocole sur Internet. <br><br>  Heureusement, le Federal Tax Service a publié son application de téléphonie mobile, qui peut télécharger des chèques. <br><br>  La chose est petite - nous prenons un renifleur, le mettons sur le téléphone et voyons ce que l'application envoie pour y télécharger des données. <br><br><div class="spoiler">  <b class="spoiler_title">Et ça envoie ça</b> <div class="spoiler_text">  OBTENIR la demande à: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proverkacheka.nalog.ru</a> : 9999 / v1 / inns / * / kkts / * / fss / {FN} / tickets / {FD}? fiscalSign = {FPD} &amp; sendToEmail = no <br>  L'en-tête contient les champs obligatoires suivants: <br>  "Autorisation": "Basique {BASE64 (téléphone: mot de passe)}" <br>  Device-Id ":" {Any ordures} " <br>  "Device-OS": "Android 5.1" - très probablement, vous pouvez également envoyer des ordures, je ne l'ai pas vérifié. <br>  "Version": "2" <br>  "ClientVersion": "1.4.4.1" <br><br>  La réponse est sous forme de json, je ne vois pas l'intérêt de citer la structure, elle est simple et en pratique elle sera facilement comprise par celui à qui elle sera pertinente. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sniffer Link</b> <div class="spoiler_text">  Il n'y aura aucun lien vers le renifleur.  J'ai pris le premier lecteur google play.  Tout a bien fonctionné, mais je ne peux pas le recommander.  Il convient de rappeler que pour intercepter le trafic https, l'application installe ses certificats et héberge généralement assez activement sur le téléphone.  Je n'ai aucune confiance que l'application ne contient pas de code malveillant.  Par conséquent, si nécessaire, utilisez Google et utilisez-le vous-même à vos risques et périls. <br></div></div><br>  Comme vous pouvez le voir, le protocole nécessite un téléphone et un mot de passe pour télécharger le chèque. <br>  Je n'ai pas fait d'inscription, car vous pouvez facilement vous inscrire via l'application officielle, puis utiliser le téléphone et le mot de passe pour recevoir les chèques. <br><br>  Comme je l'ai dit plus haut, l'écriture d'un logiciel d'automatisation n'a de sens que si les coûts d'écriture sont compensés par le gain de l'automatisation. <br><br>  Par conséquent, j’ai un <s>peu</s> honte du code de l’application. <br><br>  D'un autre côté, l'application est écrite en quelques heures et fonctionne très bien. <br><br>  À l'aide de QZXing et d'une caméra Web, nous scannons le code QR, obtenons les FP, PD, FPD et demandons le contenu du chèque. <br><br>  À propos, une webcam coûteuse fonctionnait très mal comme scanner de code QR. <br><br>  J'étais même un peu contrarié et je voulais déjà déclarer l'application inutilisable, car  Il a fallu plusieurs minutes pour scanner un code, ce qui est totalement inacceptable. <br>  Cependant, pour des raisons d'expérience, j'ai décidé d'essayer d'utiliser une webcam chinoise bon marché comme scanner ... Et, voilà, il scanne les codes QR des contrôles sans problème!  Je ne m'y attendais pas du tout ... Je pense que le fait est que la webcam chinoise a un rétro-éclairage inutile en utilisation normale, mais qui fonctionne bien lors de la visualisation rapprochée des reçus. <br><br><h2>  App </h2><br>  Si vous lisez soudainement ici, vous êtes probablement intéressé à essayer vous-même le logiciel de lecture des chèques. <br><br>  Les catégories sont stockées dans categories.txt <br><br><img src="https://habrastorage.org/webt/rm/fq/sx/rmfqsxejidth_xdt8okkti4znzm.png"><br><br>  Entrez le téléphone et le mot de passe que vous avez reçus lors de l'inscription dans l'application officielle. <br>  Nous le saisissons une fois, puis il est enregistré localement dans les paramètres de l'application. <br><br>  Cliquez sur Demander une facture, sélectionnez la source du flux vidéo pour numériser le chèque et numériser le chèque, ou entrez les données manuellement et cliquez sur Manuel pour utiliser les données saisies. <br><br>  Si le flux de données peut être reconnu sur le flux vidéo, la fenêtre se fermera automatiquement et une demande de vérification sera envoyée. <br><br>  Ce que nous avons déjà entré est remplacé automatiquement: <br><br><img src="https://habrastorage.org/webt/lp/ll/ci/lpllciywz9x6e5jx5l2miklivu0.png"><br><br>  Remplissez les champs: tout sauf la garantie est obligatoire. <br><br><img src="https://habrastorage.org/webt/z5/yo/mh/z5yomhsdxis7paricm5yqi9d4pu.png"><br><br>  Ensuite, nous appuyons sur Générer le résultat et nous obtenons les données sous une forme de texte appropriée pour le collage dans l'éditeur de tableau, ce texte est également placé dans le presse-papiers. <br><br><img src="https://habrastorage.org/webt/2w/m8/ft/2wm8ft2m_uvg5nrcqurvoqudsre.png"><br><br>  L'automatisation nécessite de minimiser la saisie de données.  Par conséquent, tout ce que nous avons déjà entré est enregistré. <br>  Achetez quelque chose une deuxième fois - tous les champs du produit seront déjà remplis. <br><br>  Tout entré est enregistré dans le fichier items.csv. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Les sources d'application se bloquent sur GitHub</b></a> <br><br>  Là, dans la section des versions, vous pouvez récupérer la version pour Linux et Windows.  Sous le coquelicot va aussi sans problème, mais ce n'est pas pour moi. <br><br>  UPD: <br>  Les auteurs de l'API ont légèrement modifié son comportement. <br>  1) Maintenant, vous devez d'abord demander à l'API si un chèque valide est disponible, puis seulement le demander.  Sinon, obtenez une utilisation publique non valide de l'API <br>  2) Introduction d'une limite sur le nombre de demandes gratuites d'un utilisateur par jour.  Je ne l'ai pas spécifiquement vérifié, mais cela ressemblait à une restriction dans le domaine des 20 contrôles.  En général, la restriction n'affecte pas la comptabilité à domicile, il est donc possible qu'elle ne soit pas remarquée. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423633/">https://habr.com/ru/post/fr423633/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423623/index.html">Gérer pour un geek: pourquoi les compter?</a></li>
<li><a href="../fr423625/index.html">Rencontrez le premier touriste de la lune</a></li>
<li><a href="../fr423627/index.html">Venez apprendre l'administration classique: réglementations, outils, scripts Southbridge</a></li>
<li><a href="../fr423629/index.html">Mars IT Infrastructure Change Management</a></li>
<li><a href="../fr423631/index.html">Deux compétences qui vous aideront à devenir un grand développeur</a></li>
<li><a href="../fr423635/index.html">Lecteur de livres audio de style rétro</a></li>
<li><a href="../fr423637/index.html">7 leçons pratiques sur UX</a></li>
<li><a href="../fr423639/index.html">Écriture plus efficace de tableaux dans la mémoire persistante d'un contrat intelligent dans Solidity</a></li>
<li><a href="../fr423641/index.html">Deep Learning et OpenVINO Toolkit. Réponses d'experts Intel</a></li>
<li><a href="../fr423643/index.html">Les banques surveillent de plus en plus la réputation de leurs clients: enquête Business Insider</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>