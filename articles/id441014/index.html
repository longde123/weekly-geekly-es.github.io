<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜¦ â„¢ï¸ ğŸ˜² Rendering stereo anggaran rendah dalam beberapa baris kode (stereogram, anaglyph, stereoscope) ğŸ‘¨ğŸ½â€ğŸ“ ğŸ¥˜ ğŸ”…</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Akhir pekan yang lain telah tiba, yang berarti saya sedang menulis beberapa lusin baris kode lagi dan membuat satu atau dua ilustrasi. Pada artikel se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rendering stereo anggaran rendah dalam beberapa baris kode (stereogram, anaglyph, stereoscope)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441014/">  Akhir pekan yang lain telah tiba, yang berarti saya sedang menulis beberapa lusin baris kode lagi dan membuat satu atau dua ilustrasi.  Pada artikel sebelumnya saya sudah menjelaskan cara <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">melakukan ray tracing</a> dan bahkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">meledakkan barang</a> .  Ini mungkin mengejutkan Anda, tetapi grafik komputer cukup mudah: bahkan beberapa ratus baris telanjang C ++ dapat menghasilkan beberapa citra yang sangat menarik. <br><br>  Topik hari ini adalah visi binokular, dan kami bahkan tidak akan melanggar 100 garis penghalang melakukannya.  Karena kita dapat menggambar adegan 3D, bodoh jika mengabaikan pasangan stereo, jadi hari ini kita akan membuat sesuatu seperti ini: <br><br><img src="https://habrastorage.org/webt/2-/8t/3n/2-8t3n-oonieil_v4f_lntjpvzk.jpeg"><br><a name="habracut"></a><br><br>  Kegilaan murni pencipta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Karpet Ajaib</a> masih menghantam pikiranku.  Bagi mereka yang tidak sadar, game ini memungkinkan Anda untuk melakukan render 3D dalam mode anaglyph dan stereogram <b>dari menu pengaturan utama</b> !  Itu liar bagi saya. <br><br><h1>  Paralaks </h1><br>  Jadi, mari kita mulai.  Sebagai permulaan, apa yang menyebabkan alat penglihatan kita merasakan kedalaman pada objek?  Ada istilah pintar â€œparalaksâ€.  Mari fokus pada layar.  Segala sesuatu yang ada di dalam bidang layar didaftarkan oleh otak kita sebagai satu objek.  Tetapi jika seekor lalat terbang di antara mata dan layar kita, maka otak melihatnya sebagai dua objek.  Laba-laba di belakang layar juga akan berlipat ganda. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a40/e9b/b9d/a40e9bb9d4a6e0cddcdce4bdfcc5095d.png"><br><br>  Otak kita sangat efisien dalam menganalisis gambar yang sedikit berbeda.  Ia menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perbedaan binokular</a> untuk mendapatkan informasi tentang kedalaman dari gambar 2D yang berasal dari retina menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stereopsis</a> .  Nah, abaikan kata-kata besar dan mari kita gambar saja! <br><br>  Mari kita bayangkan bahwa monitor kita adalah jendela ke dunia virtual :) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9a/645/594/c9a645594d957d52f5d4c3e067bd3cb7.png"><br><br>  Tugas kita adalah menggambar dua gambar dari apa yang kita lihat melalui "jendela" itu, satu untuk setiap mata.  Pada gambar di atasnya "sandwich" merah-biru.  Mari kita lupakan sekarang bagaimana mengirimkan gambar-gambar ini ke otak kita, pada tahap ini kita hanya perlu menyimpan dua file terpisah.  Secara khusus, saya ingin tahu cara mendapatkan gambar-gambar ini menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">raytracer kecil saya</a> . <br><br>  Mari kita asumsikan sudut tidak berubah dan itu adalah vektor (0,0, -1).  Mari kita asumsikan kita bisa memindahkan kamera ke area di antara mata, tapi lalu apa?  Satu detail kecil: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pandangan frustrasi</a> melalui "jendela" kita asimetris.  Tetapi pelacak sinar kami hanya dapat membuat frustum simetris: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e00/5c1/b99/e005c1b996cc7eb9978bc434f6773196.png"><br><br>  Dan apa yang kita lakukan sekarang?  Cheat :) <br><br>  Kita dapat membuat gambar yang sedikit lebih lebar dari yang kita butuhkan dan kemudian cukup memotong bagian tambahan: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb8/f49/3d1/cb8f493d14679c297d6510a1a79ef1a3.png"><br><br><h1>  Anaglyph </h1><br>  Saya pikir kami telah membahas mekanisme rendering dasar, dan sekarang kami menangani masalah pengiriman gambar ke otak kita.  Cara paling sederhana adalah kacamata jenis ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd4/7fb/815/cd47fb815c7a1e80e2d908049e8e4bf0.jpg"><br><br>  Kami membuat dua render skala abu-abu dan menetapkan gambar kiri dan kanan untuk masing-masing saluran merah dan biru.  Inilah yang kami dapatkan: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d7/8f6/4f3/9d78f64f371b5960b1d19f5deaff0d9e.jpg"><br><br>  Kaca merah memotong satu saluran, sedangkan kaca biru memotong yang lain.  Dikombinasikan, mata mendapatkan gambar yang berbeda dan kami melihatnya dalam 3D.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut ini modifikasi</a> pada komit utama dari tinyraytracer.  Perubahan tersebut termasuk posisi kamera untuk perakitan mata dan saluran. <br><br>  Anaglyph renders adalah salah satu cara tertua untuk menonton gambar stereo (yang dihasilkan komputer).  Ini memiliki banyak kelemahan, misalnya, transmisi warna yang buruk.  Tetapi di sisi lain, ini sangat mudah dibuat di rumah. <br><br>  Jika Anda tidak memiliki kompiler di komputer Anda, itu bukan masalah.  Jika Anda memiliki akun guithub, Anda dapat melihat, mengedit, dan menjalankan kode (sic!) Dalam satu klik di browser Anda. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://gitpod.io/&amp;usg=ALkJrhhjzvmjhRhcQi_wlLYkjBeQ8QunCw#"><img src="https://habrastorage.org/getpro/habr/post_images/212/d5a/2a2/212d5a2a20d3071af82393c33309f62c.svg" alt="Buka di gitpod"></a> <br><br>  Saat Anda membuka tautan ini, gitpod menciptakan mesin virtual untuk Anda, meluncurkan VS Code, dan membuka terminal pada mesin jarak jauh.  Dalam histori perintah (klik pada konsol dan tekan tombol atas) ada satu set lengkap perintah yang memungkinkan Anda untuk mengkompilasi kode, meluncurkannya dan membuka gambar yang dihasilkan. <br><br><h1>  Stereoskop </h1><br>  Dengan smartphone yang menjadi arus utama, kami ingat tentang penemuan abad ke-19 yang disebut stereoscope.  Beberapa tahun yang lalu Google menyarankan untuk menggunakan dua lensa (yang, sayangnya, sulit dibuat di rumah, Anda harus membelinya), sedikit kardus (tersedia di mana saja) dan smartphone (di saku Anda) untuk membuatnya agak dapat dipercaya Kacamata VR. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/328/5d8/98a/3285d898a99110b217a0fbdbc8ddb535.jpg"><br><br>  Mereka banyak di AliExpress dan biaya seperti $ 3 sepasang.  Dibandingkan dengan rendering anaglyph, kami bahkan tidak punya banyak hal untuk dilakukan: cukup ambil dua foto dan letakkan berdampingan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inilah komitnya</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82e/563/cfe/82e563cfe69db42b7f5f2f399261d12d.jpg"><br><br>  Sebenarnya, tergantung pada lensa kita mungkin perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memperbaiki distorsi lensa</a> , tapi aku tidak peduli dengan itu, karena itu terlihat baik-baik saja.  Tetapi jika kita benar-benar perlu menerapkan pra-distorsi barel yang mengkompensasi distorsi alami dari lensa, begitulah tampilannya untuk ponsel cerdas dan kacamata saya: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e2/583/9f5/9e25839f5ea28b1f4e092106f60bebfe.jpg"><br><br>  Inilah tautan gitpod: <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://gitpod.io/&amp;usg=ALkJrhhjzvmjhRhcQi_wlLYkjBeQ8QunCw#"><img src="https://habrastorage.org/getpro/habr/post_images/212/d5a/2a2/212d5a2a20d3071af82393c33309f62c.svg" alt="Buka di gitpod"></a> <br><br><h1>  Autostereogram </h1><br>  Dan apa yang kita lakukan jika kita tidak ingin menggunakan peralatan tambahan?  Maka hanya ada satu opsi - menyipitkan mata.  Gambar sebelumnya, sejujurnya, cukup untuk menonton stereo, cukup julingkan mata Anda (baik menyilangkan mata atau menempelkannya).  Berikut adalah skema yang memberi tahu kami cara menonton ilustrasi sebelumnya.  Dua garis merah menunjukkan gambar yang dipersepsikan oleh retina kiri, dua garis biru - retina kanan. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86e/14a/47b/86e14a47b4e2ae8aa9246becb7155827.png"><br><br>  Jika kita fokus pada layar, maka empat gambar bergabung menjadi dua.  Jika kita menyilangkan mata, atau fokus pada objek yang jauh, adalah mungkin untuk memberi makan otak "tiga" gambar.  Gambar pusat tumpang tindih, yang menciptakan efek stereo. <br><br>  Orang-orang yang berbeda menggunakan metode yang berbeda: misalnya, saya tidak bisa menyilangkan mata saya, tetapi membatasinya dengan mudah.  Sangat penting bahwa autostereogram yang dibangun untuk metode tertentu hanya boleh dilihat dengan metode itu, atau kita mendapatkan peta kedalaman terbalik (ingat paralaks positif dan negatif?).  Masalahnya adalah sulit untuk menyilangkan mata, sehingga hanya bekerja pada gambar kecil.  Tetapi bagaimana jika kita menginginkan yang lebih besar?  Mari kita mengorbankan warna sepenuhnya dan hanya fokus pada bagian persepsi kedalaman.  Inilah gambar yang kami harapkan pada akhir artikel: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7b/e7b/ab2/f7be7bab228dcd5133b2d1ff3a9032e1.jpg"><br><br>  Ini adalah autostereogram bermata tembok.  Bagi mereka yang lebih suka metode lain, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">inilah gambar untuk itu</a> .  Jika Anda tidak terbiasa dengan autostereogram, cobalah kondisi yang berbeda: layar penuh, gambar lebih kecil, kecerahan, kegelapan.  Tujuan kami adalah untuk membingkai mata kami sehingga dua strip vertikal di dekatnya tumpang tindih.  Cara termudah adalah fokus pada bagian kiri atas gambar, karena jelas.  Secara pribadi, saya membuka gambar di layar penuh.  Jangan lupa untuk menghapus kursor mouse juga! <br><br>  Jangan berhenti pada efek 3D yang tidak lengkap.  Jika Anda samar-samar melihat bentuk bulat, dan efek 3D lemah, ilusi itu tidak lengkap.  Bola seharusnya "melompat" keluar dari layar ke arah penonton, efeknya harus stabil dan berkelanjutan.  Stereopsis memiliki gisteresis: sekali Anda mendapatkan gambar yang stabil, itu akan semakin rinci semakin lama Anda mengamatinya.  Semakin jauh mata dari layar, semakin besar efek persepsi kedalaman. <br><br>  Stereogram ini dibuat menggunakan metode yang disarankan 25 tahun yang lalu dalam artikel ini: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menampilkan Gambar 3D: Algoritma untuk Gambar Tunggal Random Dot Stereogram</a> ." <br><br><h3>  Mari kita mulai </h3><br>  Titik awal untuk membuat autostereogram adalah peta kedalaman (karena kita mengabaikan warna).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Komit ini</a> menarik gambar berikut: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/53c/201/75f/53c20175f5fa2667a7dd7592fee343c4.jpg"><br><br>  Pesawat yang lebih dekat dan lebih jauh mengatur kedalaman kita: titik terjauh di peta saya memiliki kedalaman 0, sedangkan yang terdekat memiliki kedalaman 1. <br><br><h3>  Prinsip-prinsip inti </h3><br>  Katakanlah mata kita berada pada jarak dari layar.  Kami menempatkan pesawat jauh (imajiner) kami (z = 0) pada jarak yang sama "di belakang" layar.  Kami memilih variabel Î¼, yang menentukan lokasi pesawat dekat (z = 1), yang akan berada pada jarak Î¼d dari pesawat jauh.  Untuk kode saya, saya memilih Î¼ = â…“.  Secara keseluruhan, seluruh "dunia" kita hidup pada jarak dari d-Î¼d ke d di belakang layar.  Katakanlah kita tahu jarak antara mata (dalam piksel, saya memilih 400 piksel): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5c6/0eb/e87/5c60ebe872837aea90879fa0798ac7e7.png"><br><br>  Jika kita melihat titik merah, maka dua piksel yang ditandai dengan warna hijau harus memiliki warna yang sama dalam stereogram.  Bagaimana cara menghitung jarak di antara mereka?  Mudah  Jika titik yang diproyeksikan saat ini memiliki kedalaman z, maka paralaks dibagi dengan jarak antara mata sama dengan fraksi antara kedalaman yang sesuai: p / e = (d-dÎ¼z) / (2d-dÎ¼z).  Omong-omong, perhatikan bahwa d disederhanakan dan tidak muncul di tempat lain!  Kemudian p / e = (1-Î¼z) / (2-Î¼z), artinya parallax sama dengan p = e * (1-Î¼z) / (2-Î¼z) piksel. <br><br>  Gagasan utama di balik autostereogram adalah: kita pergi melalui seluruh peta kedalaman, untuk setiap nilai kedalaman kita menentukan piksel mana yang akan memiliki warna yang sama dan meletakkannya ke dalam sistem kendala kami.  Kemudian kita mulai dari gambar acak dan mencoba memenuhi semua kendala yang telah kita tentukan sebelumnya. <br><br><h3>  Mempersiapkan gambar sumber </h3><br>  Di sini kita menyiapkan gambar yang nantinya akan dibatasi oleh kendala paralaks.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inilah komit</a> , dan itu menarik ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/197/441/685/197441685bf85d56e5416e0af899ace1.jpg"><br><br>  Perhatikan bahwa sebagian besar warna acak, terlepas dari saluran merah tempat saya meletakkan rand () * sin untuk membuat pola periodik.  Garis-garis adalah 200 piksel terpisah, yang (diberi Î¼ = 1/3 dan e = 400) nilai paralaks maksimum di dunia kita (pesawat jauh).  Pola ini secara teknis tidak diperlukan, tetapi akan membantu memfokuskan mata. <br><br><h3>  Render autostereogram </h3><br>  Sebenarnya, kode lengkap yang menggambar autostereogram terlihat seperti ini: <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parallax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> eye_separation = <span class="hljs-number"><span class="hljs-number">400.</span></span>; <span class="hljs-comment"><span class="hljs-comment">// interpupillary distance in pixels const float mu = .33; // if the far plane is a distance D behind the screen, then the near plane is a distance mu*D in front of the far plane return static_cast&lt;int&gt;(eye_separation*((1.-z*mu)/(2.-z*mu))+.5); } size_t uf_find(std::vector&lt;size_t&gt; &amp;same, size_t x) { return same[x]==x ? x : uf_find(same, same[x]); } void uf_union(std::vector&lt;size_t&gt; &amp;same, size_t x, size_t y) { if ((x=uf_find(same, x)) != (y=uf_find(same, y))) same[x] = y; } int main() { [...] for (size_t j=0; j&lt;height; j++) { // autostereogram rendering loop std::vector&lt;size_t&gt; same(width); std::iota(same.begin(), same.end(), 0); // initialize the union-find data structure (same[i]=i) for (size_t i=0; i&lt;width; i++) { // put the constraints int par = parallax(zbuffer[i+j*width]); int left = i - par/2; int right = left + par; // works better than i+par/2 for odd values of par if (left&gt;=0 &amp;&amp; right&lt;(int)width) uf_union(same, left, right); // left and right pixels will have the same color } for (size_t i=0; i&lt;width; i++) { // resolve the constraints size_t root = uf_find(same, i); for (size_t c=0; c&lt;3; c++) framebuffer[(i+j*width)*3+c] = framebuffer[(root+j*width)*3+c]; } } [...]</span></span></code> </pre> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inilah komit</a> , fungsi parallax (const float z) memberi kita jarak antara piksel dengan warna yang sama untuk nilai kedalaman saat ini.  Kami merender stereogram baris demi baris, karena baris tidak tergantung satu sama lain (kami tidak memiliki paralaks vertikal).  Loop utama hanya berulang melalui setiap baris;  setiap kali dimulai dengan satu set piksel yang tidak terbatas, dan kemudian untuk setiap piksel itu menambah satu kendala kesetaraan.  Pada akhirnya, ini memberi kita sejumlah cluster dengan piksel berwarna yang sama.  Misalnya, piksel dengan indeks kiri dan kanan harus berakhir identik. <br><br>  Bagaimana cara menyimpan set kendala ini?  Cara paling sederhana adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">struktur data union-find</a> .  Saya tidak akan merinci, cukup buka Wikipedia, ini benar-benar tiga baris kode.  Poin utamanya adalah bahwa untuk setiap kluster ada piksel "root" tertentu yang bertanggung jawab atas kluster.  Pixel root mempertahankan warna awalnya, dan semua piksel lain dalam cluster harus diperbarui: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;width; i++) { <span class="hljs-comment"><span class="hljs-comment">// resolve the constraints size_t root = uf_find(same, i); for (size_t c=0; c&lt;3; c++) framebuffer[(i+j*width)*3+c] = framebuffer[(root+j*width)*3+c]; }</span></span></code> </pre><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://gitpod.io/&amp;usg=ALkJrhhjzvmjhRhcQi_wlLYkjBeQ8QunCw#"><img src="https://habrastorage.org/getpro/habr/post_images/212/d5a/2a2/212d5a2a20d3071af82393c33309f62c.svg" alt="Buka di gitpod"></a> <br><br><h1>  Kesimpulan </h1><br>  Itu dia, sungguh.  Dua puluh baris kode dan autostereogram kami siap untuk Anda lihat.  Ngomong-ngomong, jika kita berusaha cukup keras, dimungkinkan untuk mengirimkan informasi warna. <br><br>  Saya tidak membahas sistem stereoskopis lainnya seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sistem 3D terpolarisasi</a> , karena harganya jauh lebih mahal.  Jika saya melewatkan sesuatu, silakan koreksi saya! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id441014/">https://habr.com/ru/post/id441014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id441004/index.html">Splunk meninggalkan Rusia (sepenuhnya)</a></li>
<li><a href="../id441006/index.html">Ikhtisar metode segmentasi gambar di pustaka scikit-image</a></li>
<li><a href="../id441008/index.html">Kelinci MQ dalam sistem pemrosesan penghuni</a></li>
<li><a href="../id441010/index.html">Turun di bumi fana ...</a></li>
<li><a href="../id441012/index.html">Fakta menarik tentang sejarah program bulan China dan misi luar angkasa Chang'e-4</a></li>
<li><a href="../id441018/index.html">Pengembangan program dan spesifikasi alat Mekanika NanoCAD</a></li>
<li><a href="../id441020/index.html">Bagaimana VTB sampai pada satu pengetahuan</a></li>
<li><a href="../id441022/index.html">Kesalahan umum penumpang kereta api dan maskapai penerbangan</a></li>
<li><a href="../id441024/index.html">Kami menulis perayap untuk satu atau dua 1.0</a></li>
<li><a href="../id441026/index.html">VMware NSX untuk yang terkecil. Bagian 2. Mengkonfigurasi Firewall dan NAT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>