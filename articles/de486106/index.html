<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÉüèø üå± üå∞ Adaptive Hintergrundbeleuchtung f√ºr Raspberry Pi TV - Ambilight Analog üë®üèª‚Äçüé® üíÜüèª ‚úçüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dies ist ein 50-Zoll-Fernseher mit 37 RGB-Punkten adaptiver Hintergrundbeleuchtung oben und an den Seiten des Bildschirms. Wie man eine √§hnliche adapt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Adaptive Hintergrundbeleuchtung f√ºr Raspberry Pi TV - Ambilight Analog</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486106/"><img src="https://habrastorage.org/webt/4j/nf/9b/4jnf9b-q6d5nf1a1pf-0-svy-ss.jpeg" alt="Bild"><br><br>  Dies ist ein 50-Zoll-Fernseher mit 37 RGB-Punkten adaptiver Hintergrundbeleuchtung oben und an den Seiten des Bildschirms.  Wie man eine √§hnliche adaptive Hintergrundbeleuchtung f√ºr einen Bildschirm oder ein Fernsehger√§t herstellt, ist ein abgedroschenes Thema, das jedoch aus einer Reihe von Gr√ºnden von Bedeutung ist. <br><br>  Zun√§chst √§ndert sich alles.  Vor ein paar Jahren gab es kein Projekt ohne Software- oder Hardware-Kr√ºcken.  Auf jeden Fall habe ich solche Ver√∂ffentlichungen nicht gesehen.  Diejenigen, die im Internet beschrieben werden, verlieren entweder aufgrund des Veraltens von Software- oder Hardwareplattformen an Relevanz oder implementieren diese Technologie nur f√ºr Monitore, die an einen PC angeschlossen sind. <br><br>  Zweitens gibt es keine Samsung, Sony, Elge und andere Fernseher, die diese Technologie auf dem Markt unterst√ºtzen, da sie von Philips f√ºr viele Jahre patentiert wurde.  Und schlie√ülich - alle f√ºr Ali und andere wie ihn verf√ºgbaren "Out-of-the-Box" -L√∂sungen weisen eine Reihe von Einschr√§nkungen hinsichtlich der Flexibilit√§t der Einstellungen und der Anpassung an die Bildgr√∂√üe von Videoinhalten, Farbskalenanpassungen usw. auf, da es sich lediglich um eine Hardware-Kr√ºcke handelt, die ein externes Signal analysiert und arbeiten nur an der bildung der hintergrundbeleuchtung. <br><a name="habracut"></a><br><h4>  Frame-Capture-Option "Hardware" </h4><br>  Wenn Sie nicht √ºber theoretische M√∂glichkeiten zur Verbesserung und Modernisierung des Fernsehempf√§ngers selbst sprechen, m√ºssen Sie der Tatsache zustimmen, dass Sie in jedem Fall das HDMI-Signal verarbeiten m√ºssen - d. H.  Es wird f√ºr die Frame-Analyse und Hintergrundbeleuchtung verwendet.  Hier bieten sich nur zwei Implementierungsm√∂glichkeiten an: bei der Signalverarbeitung von jeder Quelle (wie Lightpacks mit Ali) und bei der Implementierung der Quelle selbst in Form einer TV-Set-Top-Box mit adaptiver Hintergrundbeleuchtung. <br><br>  Im ersten Fall erhalten wir eine gewisse Vielseitigkeit - Sie k√∂nnen eine Spielekonsole oder einen Player an das Ger√§t anschlie√üen.  In der zweiten - wir sammeln die gleiche "Art von Player" mit einer eingebauten Hintergrundbeleuchtung.  Beim Experimentieren habe ich beide Optionen implementiert, aber hier werde ich mich nur auf die zweite konzentrieren, und hier ist der Grund: <br><br><img src="https://habrastorage.org/webt/ke/9o/pk/ke9opk8wfmxy-breiickrsaoqsa.jpeg" alt="Bild"><br><br>  In dem angegebenen Blockdiagramm der ersten Variante gelangt das HDMI-Signal von einer beliebigen Quelle zum Splitter, wo es in zwei Ausg√§nge aufgeteilt wird.  Der Inhalt wird von Anfang an auf jedem TV-Receiver oder Monitor wiedergegeben.  Ab der zweiten Stufe gelangt das Signal gleichzeitig in den Hardware-Skalierer, wo es in ein analoges Signal mit Frames mit niedriger Aufl√∂sung (320 x 480) umgewandelt wird.  Das analoge Signal wird an einen Hardware-USB-Grabber gesendet, der ‚ÄûScreenshots‚Äú von jedem Frame erstellt und √ºber den USB-Anschluss an den Eingang eines Einplatinen-Mini-PCs - Raspberry Pi 3 B + - √ºbertr√§gt.  Die Software f√ºr Himbeeren analysiert Frames mit dem Hyperion-Programm und stellt √ºber einen der GPIO-Ausg√§nge Steuersequenzen f√ºr die Eingabe eines Adressbands wie WS2812B oder APA102 bereit.  All dies hat gut funktioniert, aber es hat ein paar Nachteile in Form eines Haufens Eisen mit Anschl√ºssen und eine kleine Verz√∂gerung bei der Ausgabe eines Hintergrundbeleuchtungssignals.  Die Verz√∂gerung machte sich nur bei Testvideos bemerkbar, bei denen sich die Farben im gr√∂√üten Teil des Frames stark √§nderten.  Ansonsten keine Beschwerden, au√üer den Kosten f√ºr das gesamte Eisen in dieser Implementierung: <br><br>  Raspberry Pi 3 B + - ungef√§hr 55 $. <br>  K√ºhlergeh√§use - $ 14. <br>  Aktiver HDMI 1080P-Splitter f√ºr 2 Ausg√§nge - 15 US-Dollar. <br>  HDMI 1080P zu AV Scaler - 15 $. <br>  EasyCap USB Grabber - $ 18. <br>  Stromversorgung - etwa 10 US-Dollar. <br>  32 GB microSD-Karte - 10 US-Dollar. <br>  Anschlie√üen von Kabeln und anderen kleinen Dingen - ca. 10 USD. <br>  Insgesamt, ohne das Adressband - fast 150 Dollar. <br><br>  Es ist nicht so, dass eine solche Option direkt in den Ofen gelangt - sie kann durchaus n√ºtzlich sein, um die Hintergrundbeleuchtung einiger gro√üer vorgefertigter Bildschirme in Anzeigen oder Pr√§sentationen zu organisieren, und der Preis ist nicht der schlechteste f√ºr das Ergebnis - aber f√ºr den Heimgebrauch habe ich mich f√ºr die zweite Option entschieden Meistens "Software".  Es wurde einfacher, billiger, kompakter und schneller.  F√ºr den kommerziellen Gebrauch kann es auch durchaus geeignet sein - der Raspberry Pi mit dem Player kann erfolgreich in Projekten eingesetzt werden, in denen Sie Inhalte automatisch zyklisch und nahtlos abspielen m√ºssen, sobald Sie ihn einschalten, und den Player automatisch wieder ausschalten - entsprechend dem Zeitplan am Ende des Tages.  Nachdem wir ein kleines Drehbuch geschrieben haben, erhalten wir ein Werbeger√§t mit der Funktion der adaptiven Hintergrundbeleuchtung von Bildschirmen, die mindestens zehn Meter hoch sind.  Aber zur√ºck zum Heimgebrauch ... <br><br><h4>  "Software" -Option erfasst Frames </h4><br>  Die Funktionen des Media Centers und der Steuerung der Hintergrundbeleuchtung bleiben hinter demselben Raspberry Pi 3 B +. Alle Verbindungen werden nun auf das Verbinden mehrerer Anschl√ºsse reduziert - Stromversorgung, Internet, Hintergrundbeleuchtung und HDMI mit dem Fernseher.  Nicht mehr als jede andere Set-Top-Box: <br><br><img src="https://habrastorage.org/webt/kv/oi/fn/kvoifnkm8v3zyluhrtwicjwi2dy.jpeg" alt="Bild"><br><br>  Mit Blick auf die Zukunft m√∂chte ich darauf hinweisen, dass sich das Raspberry Pi 3 B + als ein vollst√§ndig universelles TV-Set-Top-Box-Media-Center mit allen erforderlichen Funktionen eines solchen Ger√§ts sowie einer flexibel anpassbaren adaptiven Hintergrundbeleuchtung f√ºr jeden modernen (und nicht so) Fernseher mit HDMI-Eingang herausgestellt hat. <br><br>  Die Basis der Software ist das offene Libreelec-Betriebssystem, das speziell f√ºr den Kodi-Player entwickelt wurde.  <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9saWJyZWVsZWMudHYv">Die Projektseite</a> enth√§lt alle notwendigen Informationen. <br><br>  Informationen zu den Funktionen einer der leistungsst√§rksten und flexibelsten Plattformen f√ºr die Wiedergabe von Video-Audio-Inhalten, IPTV usw.  kann durch Scoring in jeder Suchmaschine "Kodi Beschreibung der M√∂glichkeiten" gelesen werden.  Zu diesem Thema gibt es viele Informationen in russischer Sprache.  Ich benutze vielleicht 1/10 aller Plattformfunktionen und das reicht mir.  Die Plattform wird aktiv unterst√ºtzt, hat eine responsive Community.  Deshalb lesen wir, wir studieren - im Wiki dieser Projekte und in den Foren gibt es fast alle notwendigen Informationen und Antworten auf Fragen.  Das Distributionskit sowie die Installations- und Konfigurationsanweisungen finden Sie auf der Libreelec-Projektwebsite.  Da das Betriebssystem plattform√ºbergreifend ist, vergessen Sie nicht, dass unser Projekt auf Raspberry basiert. <br><br>  Ich verletze die seltsame, aber gut eingef√ºhrte Tradition, solche Ver√∂ffentlichungen mit einer Beschreibung der Arten von Adressb√§ndern zu beginnen und wie man sie ungeschickt auf die R√ºckw√§nde von Heimfernsehern klebt. Zun√§chst installiere und konfiguriere ich Single-Board-Software.  Eine Schritt-f√ºr-Schritt-Anleitung zum Einrichten ist leider fast unm√∂glich - ohne Screenshots w√§ren es ein halbes Hundert Seiten Text.  Dar√ºber hinaus entwickelt sich die Plattform des Players aktiv weiter, Betriebssystem- und Kodi-Versionen √§ndern sich, aktuelle Informationen - das h√∂rt bald auf.  Daher finden Sie hier nur die wichtigsten Punkte sowie Links zu Quellen n√ºtzlicher Informationen. <br><br>  Um den Softwareteil der Hintergrundbeleuchtung zu konfigurieren, die IR-Fernbedienung und den Player selbst zu steuern, m√ºssen Sie zun√§chst eine Vorstellung davon haben, wie die Libreelec-Verzeichnisse angeordnet sind, wie das lokale Netzwerk funktioniert, wie die Konsole funktioniert, was mit der Befehlszeile geschehen soll usw. von Hand.  √úber die Installationsprogramme auf der microSD-Karte werden nur das Libreelec-Betriebssystem und das Add-In f√ºr die Hervorhebung - Hyperion - installiert. <br><br>  Da der Raspberry Pi nicht √ºber eine integrierte Echtzeituhr, BIOS und Backup-Stromversorgung verf√ºgt, befindet sich alles, was f√ºr die Arbeit ben√∂tigt wird, auf der microSD-Karte.  Um das Betriebssystem auf der Karte zu installieren, m√ºssen Sie entweder das <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly93d3cucmFzcGJlcnJ5cGkub3JnL2Rvd25sb2Fkcy9ub29icy8%3D">NOOBS-</a> Paket von der Raspberry-Projekt-Website herunterladen (zum Zeitpunkt der Installation habe ich Build-Version 3.2.1 verwendet) oder ein spezielles Tool - <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9saWJyZWVsZWMudHYvZG93bmxvYWRzX25ldy8%3D">‚ÄûLibreELEC USB-SD Creator‚Äú</a> . <br><br>  Die Speicherkarte sollte gute Lese- und Schreibgeschwindigkeiten aufweisen, dh mindestens die Note 10 aufweisen.  In Bezug auf das Volumen nimmt das Libreelec-Betriebssystem wenig Platz ein, 16-GB-Karten werden f√ºr die Arbeit ausreichen, wenn keine Lust besteht, eine gr√∂√üere Menge zu kaufen.  Es kann zum Speichern beliebiger Inhalte verwendet werden. <br><br>  Bei NOOBS wird der Inhalt des Zip-Archivs in das Stammverzeichnis der mit FAT32 formatierten microSD-Karte entpackt, die Karte in den Steckplatz f√ºr stromlose Himbeeren eingelegt, der Strom eingeschaltet und anschlie√üend das erforderliche Betriebssystem im Installationsprogramm ausgew√§hlt. Befolgen Sie die Anweisungen f√ºr die Bereitstellung von Libreelec.  Die Plattformentwickler empfehlen jedoch die Installation mit LibreELEC USB-SD Creator, der das Distributionspaket selbst herunterl√§dt und auf die Karte schreibt. Anschlie√üend wird die Karte in den Himbeerslot eingesetzt, in dem das Installationsprogramm das Betriebssystem nach dem Einschalten bereitstellt.  In diesem Fall werden Abschnitte der Karte neu formatiert. Danach wird unter Windows nicht mehr das gesamte tats√§chliche Volumen des Mediums angezeigt.  Wenn Sie aus irgendeinem Grund die Partitionen in den Ausgangszustand zur√ºckversetzen m√ºssen, m√ºssen Sie die Karte zun√§chst mit dem Standard-Windows-Dienstprogramm DiskPart bereinigen. Erstellen Sie dann im Abschnitt "Datentr√§gerverwaltung" eine neue Partition auf dem freien Speicherplatz des Mediums und formatieren Sie sie. <br><br>  Um die Installation und Konfiguration des Betriebssystems zu vereinfachen, habe ich vor√ºbergehend einen separaten Monitor und eine separate Tastatur mit einer Maus an Himbeeren angeschlossen. <br><br>  Um Himbeer-Software zu konfigurieren und zu konfigurieren, ben√∂tigen Sie au√üerdem eine Verbindung mit einem PC und Internetzugang, vorzugsweise √ºber Kabel.  Die auf dem PC installierte Software f√ºr die Verbindung √ºber SSH - PuTTY und WinSCP sowie die Java Virtual Machine (jre-8u231-windows-x64) und der Hyperion-Daemon-Konfigurator - HyperCon (HyperCon.jar).  Sie k√∂nnen einen anderen praktischen Dateimanager mit Bedienfeldern verwenden, z. B. Total Commander.  Wo herunterladen und konfigurieren - viele Informationen auf spezialisierten Sites, es reicht aus, mit der Suchanfrage "Mit PUttY und WinSCP arbeiten" nach Informationen zu suchen.  Das <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9oeXBlcmlvbi1wcm9qZWN0Lm9yZy8%3D">Hyperion-</a> Projekt hat auch ein eigenes Forum und Wiki. <br>  In diesem Screenshot gibt es drei M√∂glichkeiten, Himbeeren √ºber SSH mit einem PC unter Windows zu verbinden - √ºber die Putty-Konsole, den WinSCP-Dateimanager und Total Commander: <br><br><img src="https://habrastorage.org/webt/zf/1z/tr/zf1ztr1lhtkmv2zk7puaho32j70.jpeg" alt="Bild"><br><br>  Das Librelec-Administratorkonto verf√ºgt standardm√§√üig √ºber einen Benutzernamen und ein Kennwort root @ libreelec, die aus Sicherheitsgr√ºnden am besten ge√§ndert werden.  Nach einer erfolgreichen Installation in den Systemeinstellungen f√ºhren wir einfache Aktionen durch - aktivieren Sie SSH, SMB, weisen Sie eine statische IP zu, deaktivieren Sie Updates: <br><br><img src="https://habrastorage.org/webt/20/t4/mb/20t4mbajewvx41ryqyhpr0qbur0.jpeg" alt="Bild"><br><br>  Es wird davon ausgegangen, dass Himbeeren mit Ihrem Heimnetzwerk verbunden sind, und Sie k√∂nnen die IP-Adresse der daran angeschlossenen Ger√§te auf Ihrem Heim-PC herausfinden.  Ich habe Updates deaktiviert, damit das einmal eingestellte adaptive Hintergrundbeleuchtungssystem nicht abst√ºrzt, wenn der Entwickler Komponenten in Libreelec √§ndert, die damit zusammenh√§ngen. <br><br>  Stellen Sie in den Systemeinstellungen der Dienste, die Sie zum Aktivieren von SSH und zum Aktivieren der Kennwortauthentifizierung ben√∂tigen, auch die Mindestversion des SMB2-Protokolls und die H√∂chstversion SMB3 ein.  Sie ben√∂tigen SMB, um die Raspberry Pi-Verzeichnisse und die damit verbundenen Flash-Laufwerke vom PC aus zu sehen: <br><br><img src="https://habrastorage.org/webt/i_/pw/uv/i_pwuvdqiel5pcmrd0ghzegbwj8.jpeg" alt="Bild"><br><br>  Unter Windows 10 m√ºssen Sie in den Einstellungen auf dem PC die SMB-Unterst√ºtzung suchen und aktivieren, da diese standardm√§√üig deaktiviert ist: <br><br><img src="https://habrastorage.org/webt/1x/ag/ba/1xagbapzp3y9_sgc7pev46llrwi.jpeg" alt="Bild"><br><br>  Wir suchen auch nach dem russischen Tastaturlayout und f√ºgen es in den Einstellungen hinzu.  Mit der physischen Tastatur passiert nichts - sie wird nur in Englisch eingegeben, aber mit der virtuellen Bildschirmtastatur kann Text in Russisch eingegeben werden.  F√ºr einen bequemen Zugriff auf die Verzeichnisse auf der microSD-Karte und den mit Himbeeren verbundenen Flash-Laufwerken k√∂nnen Sie in Total Commander eine Verkn√ºpfung mit der Adresse des Remote-Verzeichnisses in der Symbolleiste erstellen und platzieren: <br><br><img src="https://habrastorage.org/webt/hb/9d/gi/hb9dgixgtpsa8ojxy7yo4wmfzno.jpeg" alt="Bild"><br><br>  Dateien im lokalen Netzwerk werden mit einer Geschwindigkeit √ºbertragen, die durch die Bandbreite Ihres Heimrouters begrenzt ist und viel schneller als beim Zugriff √ºber SSH.  In jedem Fall ist das Kopieren eines Films oder einer Musik auf diese Weise bequemer als das √úbertragen eines USB-Flash-Laufwerks von einer Set-Top-Box auf einen PC.  Sie sehen die interne Verzeichnisstruktur in / storage auf der Himbeerkarte und den Laufwerken, die an die USB-Ports angeschlossen sind.  Bei einer Kabelverbindung habe ich 100 Mbit / s.  √úber den Router betrug die maximale Download-Geschwindigkeit von Dateien von einem PC auf ein USB-Laufwerk in Himbeeren etwa 12 MB / s, was ungef√§hr der Bandbreite meiner Kabelverbindung entspricht. <br><br>  Falls erforderlich, k√∂nnen Sie in Zukunft einen beliebigen Home Media Server (UPnP, DLNA) auf Ihrem PC bereitstellen, um Inhalte direkt von Ihrem PC zu streamen. <br><br>  Nachdem Sie den Zugriff auf Himbeeren von einem PC √ºber SSH mit den Programmen PUttY und WinSCP installiert und konfiguriert haben, k√∂nnen Sie mit der Installation und Konfiguration des Hyperion-D√§mons fortfahren.  Auf dem PC muss sich eine Java Virtual Machine befinden. <br><br>  Alles wird in etwa so funktionieren - zu Beginn von Raspberry wird ein spezielles Programm, Hyperion, im Hintergrund mit Kodi im Hintergrund gestartet.  Sie analysiert alle Videoframes und verwaltet abh√§ngig von den in der Konfigurationsdatei aufgezeichneten Einstellungen das Adressband √ºber einen der GPIO-Ausg√§nge der Himbeere.  Das hei√üt, nach den Einstellungen funktioniert alles autonom, es ist keine Kommunikation oder Interaktion mit dem PC erforderlich.  Um jedoch schnell eine Konfigurationsdatei zu erstellen und Hyperion auf Himbeeren zu installieren, gibt es einen praktischen Konfigurator, der auf einem PC ausgef√ºhrt wird.  Mit diesem Programm k√∂nnen Sie schnell eine Konfigurationsdatei f√ºr den Daemon erstellen, diese in Raspberry herunterladen und installieren und die Systemfunktionalit√§t mithilfe einer praktischen grafischen Oberfl√§che √ºberpr√ºfen. <br><br><h4>  Hypercon </h4><br>  Der Konfigurator hei√üt HyperCon, es ist keine Installation erforderlich. F√ºhren Sie einfach die ausf√ºhrbare Datei HyperCon.jar auf dem PC aus und sehen Sie das folgende Fenster: <br><br><img src="https://habrastorage.org/webt/v0/qi/zx/v0qizxsds5ngp1pbclq8tf8waeq.jpeg" alt="Bild"><br><br>  Auf der rechten Seite befindet sich ein virtueller Bildschirm, f√ºr den die Hintergrundbeleuchtung konfiguriert wird - Farberfassungsbereiche, deren Nummerierung (ab 0), Richtung, Position, Einr√ºckung, √úberlappung und Tiefe.  Im linken Teil befinden sich f√ºnf Registerkarten mit Einstellungen. <br><br>  <b>Kurz auf den Registerkarten des Konfigurators:</b> <br><br>  <b>Hardware (Eisen)</b> <br><br><ul><li>  Ger√§t -&gt; Konfigurationsname - ein beliebiger Name f√ºr die aktuelle Konfiguration </li><li>  Ger√§t -&gt; Typ - Chip-Typ des Adressbands, Moduls oder etwas anderem </li><li>  Ger√§t -&gt; Anzahl LEDs - Anzahl der adressierbaren Pixel (wie viele LEDs befinden sich auf dem Band) </li><li>  Ger√§t -&gt; RGB-Byte-Reihenfolge - folgende Farben im verwendeten Protokoll </li></ul><br>  <b>Konstruktion (Anordnung der Lichtquellen)</b> <br><br><ul><li>  Kontrollk√§stchen -&gt; (LED oben links usw.) - Vorhandensein einer Lichtquelle in den Ecken der Struktur </li><li>  LEDs horizontal -&gt; Anzahl der Pixel am oberen Rand der Struktur </li><li>  LEDs Links-&gt; Linke Pixel </li><li>  LEDs rechts -&gt; Die Anzahl der Pixel am rechten Rand des Designs </li><li>  Bottom Gap -&gt; Die Anzahl der √ºbersprungenen Zonen am unteren Rand der Struktur (um das TV-Bein oder die gesamte untere Zone zu umgehen) </li><li>  1. LED-Offset -&gt; Korrektur f√ºr den Pixel-Offset, um den ersten Wert in einer praktischen Ecke festzulegen. </li></ul><br>  <b>Bildprozess</b> <br><br><ul><li>  Bildprozess -&gt; Horizontale Tiefe - Horizontale Zonentiefe,% </li><li>  Bildprozess -&gt; Vertikale Tiefe - Tiefe der vertikalen Zone,% </li><li>  Bildprozess -&gt; Horizontale L√ºcke - Bereiche horizontal vom Rand einr√ºcken,% </li><li>  Bildprozess -&gt; Vertikale L√ºcke - Bereiche vom Rand vertikal einr√ºcken,% </li><li>  Bildprozess -&gt; √úberlappung - √úberlappung benachbarter Zonen,% </li></ul><br>  Blackborder-Erkennung - Empfindlichkeit und Verarbeitungsmodus.  In der Theorie funktioniert das so: Der D√§mon analysiert die R√§nder des Bildschirms auf der angegebenen Ebene und berechnet die Breite der dunklen R√§nder, um sie von den verarbeiteten Zonen auszuschlie√üen.  Dies gilt f√ºr F√§lle, in denen ein Breitbild abgespielt wird. <br><br>  <b>Prozess (Frame-Verarbeitung)</b> <br><br><ul><li>  Gl√§tten -&gt; Aktiviert (Kontrollk√§stchen zum Aktivieren von Anti-Aliasing) </li><li>  Gl√§tten -&gt; Typ </li><li>  Gl√§tten -&gt; Zeit </li><li>  Gl√§ttung -&gt; Update Frequenz (Bildwiederholfrequenz) </li><li>  Gl√§tten -&gt; Aktualisierungsverz√∂gerung (Verz√∂gerung vor dem Aktualisieren des Frames) </li><li>  Farbkalibrierung - intuitive Elemente, mit denen Sie die minimale und maximale Glimmstufe, S√§ttigung, Temperatur und Hintergrundglimmstufe ohne Signal f√ºr jede der 3 Prim√§rfarben separat einstellen k√∂nnen. </li></ul><br>  Das markierte Kontrollk√§stchen Kontinuierlich senden erm√∂glicht es Ihnen, √Ñnderungen im Konfigurationsprozess zu sehen, die sich bereits auf der zusammengesetzten Struktur befinden. <br><br>  <b>Grabber (Grabber - Frame Grabber, die interessanteste Registerkarte)</b> <br><br><ul><li>  Interner Frame Grabber (Software Grabber) </li><li>  Interner Framegrabber-&gt; Aktiviert </li><li>  Interner Framegrabber-&gt; Breite </li><li>  Interner Framegrabber-&gt; H√∂he (Zonenh√∂he) </li><li>  Interner Framegrabber-&gt; Intervall </li><li>  Interner Framegrabber-&gt; Priorit√§tskanal (Priorit√§t dieses Kanals) </li></ul><br>  Hier sind einige Klarstellungen erforderlich.  Der Trick ist, dass wir einen Mediaplayer basierend auf dem Raspberry Pi entwickeln, der selbst Inhalte von einem lokalen Netzwerk, einem Flash-Laufwerk oder IP-TV auf der LibreElec-Plattform wiedergibt.  Da sich der Inhalt bereits mit dem Himbeer-Player dreht, erfolgt die Erfassung programmgesteuert ohne einen externen EasyCap-Grabber, und der D√§mon k√ºmmert sich selbst um die Frames, da in diesem Fall die Signalquelle der HDMI-Ausgang des Himbeer-Pi selbst ist.  Es ist m√∂glich, denselben externen Grabber f√ºr eine andere Quelle zu verwenden, ohne die internen Einkanal-Priorit√§ten zu trennen. Dies ist der letzte Punkt, der den Software-Grabber konfiguriert.  Je h√∂her die Nummer, desto niedriger die Priorit√§t des Kanals. <br><br>  Genau, es gibt keinen Fehler. <br><br><ul><li>  Grabber V4L2 (Hardware Grabber-Treibereinstellungen) </li><li>  Grabber V4L -&gt; Ger√§t (USB-Ger√§t, von dem das Capture erstellt wird - standardm√§√üig / dev / video0) </li><li>  Grabber V4L -&gt; Input (Der verwendete Input ist standardm√§√üig 0) </li><li>  Grabber V4L -&gt; Breite (Zonenbreite - -1 standardm√§√üig) </li><li>  Grabber V4L -&gt; H√∂he (Zonenh√∂he - -1 standardm√§√üig) </li><li>  Grabber V4L -&gt; Frame-Dezimierung </li><li>  Grabber V4L -&gt; Gr√∂√üen-Dezimierung (Kompressionsverh√§ltnis) </li><li>  Grabber V4L -&gt; Priority Channel (Priorit√§t dieses Kanals) </li><li>  Grabber V4L -&gt; 3D-Modus (2D / 3D-Modusauswahl) </li><li>  Grabber V4L -&gt; Nach links beschneiden (Nach links beschneiden) </li><li>  Grabber V4L -&gt; Rechts beschneiden (rechts beschneiden) </li><li>  Grabber V4L -&gt; Erntedach (Erntedach) </li><li>  Grabber V4L -&gt; Crop Bottom (den unteren Rahmen beschneiden) </li><li>  Grabber V4L -&gt; die letzten drei Punkte (Schwelle zum Einschalten von Kan√§len nach Farbe) </li></ul><br>  <b>Externe</b> <br><br><ul><li>  Extern -&gt; Kodi Checker (Einstellungen f√ºr den Kodi-Player, falls dieser als Player verwendet wird. Durch Auswahl der Kontrollk√§stchen wird die Hintergrundbeleuchtung ausgeschaltet, wenn die angegebenen Funktionen des Players ausgef√ºhrt werden. Sie k√∂nnen die Hintergrundbeleuchtung so konfigurieren, dass sie nur bei der Wiedergabe von Inhalten funktioniert. In allen anderen F√§llen wird sie ausgeschaltet ) </li><li>  Extern -&gt; Json / Proto / Boblight Server (Server-Port-Einstellungen, lassen Sie wie auf dem Bildschirm) </li><li>  Extern -&gt; Booteffekt / Statische Farbe (Demo-Effekt-Einstellungen beim Starten des Daemons) </li><li>  Extern -&gt; Json / Proto Forvard (Ausgangsport-Einstellungen, belassen Sie die Einstellungen auf dem Bildschirm) </li></ul><br>  <b>SSH (PC-Verbindungseinstellungen mit Raspberry Pi)</b> <br><ul><li>  SSH - Verbindung -&gt; System (Auswahl des auf dem Raspberry Pi installierten Betriebssystems) </li><li>  SSH - Verbindung -&gt; Ziel-IP (Raspberry Pi IP-Adresse) </li><li>  SSH - Verbindung -&gt; Port (wie im Screenshot - (22)) </li><li>  SSH - Verbindung -&gt; Benutzername / Passwort (Name - Passwort auf dem Raspberry Pi eingestellt) </li><li>  SSH - Verbindung -&gt; Verbinden / Trennen (Connect-Disconnect-Taste mit Raspberry Pi) </li><li>  SSH - Verbindung -&gt; Verkehr anzeigen (Schaltfl√§che zum Aufrufen der Konsole mit Informationsausgabe) </li><li>  SSH - Hyperion √ºber HyperCon verwalten -&gt; Inst / Upd.  Hyperion (Schaltfl√§che zum Installieren des Daemons auf dem Raspberry Pi oder zum Aktualisieren des Daemons √ºber das Netzwerk. Keine sudo get-Installation, Verbindung zum Raspberry Pi herstellen, St√∂bern und Warten auf die Ausgabe an der HyperCon-Konsole) </li><li>  SSH - Hyperion √ºber HyperCon verwalten -&gt; Hyperion entfernen (Schaltfl√§che "Daemon deinstallieren") </li><li>  SSH - Hyperion √ºber HyperCon verwalten -&gt; Start / Stop (Daemon Stop-Start-Schaltfl√§chen) </li><li>  SSH - Hyperion √ºber HyperCon verwalten -&gt; Protokoll abrufen (Ausgabe in die Konsolenprotokolle des Daemons, praktisch f√ºr </li><li>       ) </li><li> SSH ‚Äì Send Hyperion Configuration -&gt; Local Config Path (        ) </li><li> SSH ‚Äì Send Hyperion Configuration -&gt; Send Config (    SSH  Raspberry Pi) </li><li> SSH ‚Äì Colorpicker (    ‚Äì     . </li><li>    -  HyperCon- (    !!) </li><li> HELP ‚Äì ,  Create Hyperion Configuration         Raspberry Pi ‚Äî hyperion.config.json </li></ul><br>      ‚Äì     ,           . <br><br> <b> ,    :</b> <br><br><img src="https://habrastorage.org/webt/-z/qg/7g/-zqg7gpc15imlq10asidggqma9q.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/9a/xv/i6/9axvi6bpicrucblyzxu8b-qhntm.jpeg" alt="Bild"><br><br>      ,          .        ,  ,    .  ,    ‚Äì WS2812B,        WS281x.               .     ,         Raspberry Pi,    SSH    Hyperion  .    HyperCon,     Hyperion,     Raspberry Pi,     ColorPicker    .   ,    Kodi     .   GPIO ‚Äì 18 (   ‚Äì 12). <br><br>       ,     . <br>     ,       .   ,      .   ,      ¬´/storage/.config/ autostart.sh¬ª    ,     Raspberry Pi  .       <br><br> Raspberry Pi ‚Äì <br> ¬´/storage/.config/ hyperion.config.json¬ª. <br>      ,     SSH HyperCon,   ¬´Autoupdate¬ª    -   . <br>       Raspberry Pi,      <br><br><pre><code class="plaintext hljs">/storage/.config/autostart.sh //--------------------------------------------------------------------------------------------------------------- #!/bin/sh sleep 5 /storage/hyperion/bin/hyperiond.sh /storage/.config/hyperion.config.json &gt; /storage/logfiles/hyperion.log 2&gt;&amp;1 //---------------------------------------------------------------------------------------------------------------</code> </pre> <br>  Dadurch wird die Ausf√ºhrung des D√§mons verz√∂gert. <br><br><h4>  Fernbedienung mit jeder IR-Fernbedienung </h4><br>  Da das Pr√§fix neben der Hintergrundbeleuchtung ein vollwertiges Media Center ist, m√ºssen Sie die Fernbedienung daran befestigen und konfigurieren.  Wenn Ihr Fernsehger√§t die CEC-Technologie (Consumer Electronics Control, d. H. HDMI Control Protocol) unterst√ºtzt, kann Kodi die bereits mit dem Fernsehger√§t gelieferte Fernbedienung f√ºr die Steuerung der Set-Top-Box konfigurieren und verwenden B. LG - SimpLink, Samsung - Anynet, Sony - BRAVIA Sync), suchen Sie in Ihren TV-Einstellungen nach Unterst√ºtzung f√ºr diese Funktion.Ich habe keine sehr gute Fernbedienung f√ºr TV, also bin ich in die andere Richtung gegangen - ich habe die genommen, die mit der alten √ºbereinstimmt TV-Set-Top-Box auf Android (w√§hrend andere bestellte Fernbedienungen f√ºr dieses Projekt aus China kommen): <br><br><img src="https://habrastorage.org/webt/ss/ey/-r/ssey-rwucyrk5mpufui4mhnq4uo.jpeg" alt="Bild"><br><br>  Auf dem Himbeerkamm ben√∂tigen Sie +5 V-Pins, Masse und Signal auf GPIO23 (physischer Pin-16), da GPIO18 (physischer Pin-12), der standardm√§√üig f√ºr IR-Ger√§te konfiguriert ist, bereits damit besch√§ftigt ist, Pakete an die Hintergrundbeleuchtung auszugeben. <br><br>  <b>Prozess:</b> <br><br>  Um den Treiber des IR-Empf√§ngers anzuschlie√üen, bearbeiten Sie die Datei /flash/config.txt, an deren Ende wir die Zeile schreiben (hier und unten ohne Anf√ºhrungszeichen): <br>  Dtoverlay = gpio-ir, gpio_pin = 23 <br><br>  Nachdem Sie den IR-Empf√§nger an Himbeeren angeschlossen haben, m√ºssen Sie die Scan-Codes f√ºr die Tasten auf der Fernbedienung abrufen, die wir ben√∂tigen, und die Befehle an sie binden.  Nachdem Sie den Protokolltyp in der Konsole mit dem Befehl ir-keytable festgelegt haben, h√§ngen Sie die Scan-Codes an die in der Konsole empfangenen Befehle an <br>  ¬´Irrecord -l |  grep ^ KEY ", f√ºhren Sie die Zuordnungen manuell durch und erstellen Sie eine Tabelle dieser Art: <br>  tisch ireltex, typ: NEC <br><br><pre> <code class="plaintext hljs">0x8f64d KEY_0 0x8f642 KEY_1 0x8f641 KEY_2 0x8f640 KEY_3 0x8f646 KEY_4</code> </pre> <br>  Und so - alle Tasten und Befehle, die wir brauchen.  Ich habe 34 Zeilen Streichh√∂lzer.  Die erste Zeile ist der Name der Tabelle und des Fernsteuerungsprotokolls.  Die folgenden Zeilen sind der Tastenscancode auf der linken Seite.  Rechts, durch ein Leerzeichen getrennt, befindet sich der Kodi-Steuerbefehl.  Und so weiter, um. <br><br>  Der Tisch muss gehalten werden.  Dazu wird eine Datei erstellt (ich nenne sie ireltex), aus der diese Bindungen gelesen werden.  Die Datei muss im Ordner ‚Äû/storage/.config/rc_keymaps/ireltex‚Äú abgelegt werden und dann erstellt werden <br>  "/Storage/.config/rc_maps.cfg", schreiben wir die Zeile hinein: <br>  "* * Ireltex" (ess-aber alle ohne Anf√ºhrungszeichen). <br><br>  Laden Sie √ºber die Putty-Konsole die resultierende Tabelle in den Treiber: <br>  "Ir-keytable -c -w /storage/.config/rc_keymaps/ireltex", starte den Raspberry Pi neu und √§ndere die letzte Zeile in der Datei <br>  "/Flash/config.txt" <br>  Nun sieht es so aus: <br>  "Dtoverlay = gpio-ir, gpio_pin = 23, rc-map-name = ireltex" <br>  Zu archivieren <br>  "/Storage/.config/autostart.sh" Sie m√ºssen das Autoload-Protokoll f√ºr die Fernbedienung hinzuf√ºgen, damit der Datensatz wie folgt aussieht (f√ºr meine Fernbedienung und das zugeh√∂rige Protokoll): <br><br><pre> <code class="plaintext hljs">#!/bin/sh ( sleep 5 ir-keytable -p nec )&amp; sleep 5 /storage/hyperion/bin/hyperiond.sh /storage/.config/hyperion.config.json &gt; /storage/logfiles/hyperion.log 2&gt;&amp;1 &amp;</code> </pre> <br>  Ich starte den Raspberry Pi erneut neu und jetzt reagiert Kodi auf Befehle von der Fernbedienung. <br>  Der gesamte Einrichtungsprozess mit Beispielen im Original wird <a href="https://libreelec.wiki/infrared_remotes">hier</a> ausf√ºhrlicher beschrieben. <br><br>  Sie k√∂nnen auch die Suchanfrage "LibreElec + IR Remote" in die Suchmaschine eingeben und erhalten mehrere Artikel zu diesem Thema in russischer Sprache. <br><br>  Wenn Sie den Ausgang des IR-Empf√§ngers au√üer GPIO 23 ebenfalls an den GPIO3-Eingang h√§ngen, wird der Raspberry Pi auf Befehl der Fernbedienung eingeschaltet.  Der Nachteil dieser Steuermethode ist, dass das Einschaltsignal von jeder IR-Fernbedienung empfangen wird, aber ich habe keine andere M√∂glichkeit gefunden, Himbeeren aus der Ferne einzuschalten.  Sie m√ºssen also einen zus√§tzlichen Detektor erstellen, der einen Befehl entgegennimmt und nur dieses Signal an den GPIO3 Raspberry Pi-Eingang √ºbertr√§gt. <br><br>  Um Wunder mit spontanem zuf√§lligem Pixelflimmern zu vermeiden, muss die Masse des Bandes zus√§tzlich zum GND-GPIO-Pin direkt mit dem Minuspol der externen Stromquelle verbunden werden und der D-IN-Signaldraht muss eine Mindestl√§nge aufweisen. <br><br>  Es ist zu beachten, dass unterschiedliche IR-Empf√§nger unterschiedliche Versorgungsspannungen (3,3 oder 5 V) und Pinbelegungen haben k√∂nnen.  Um den Receiver oder die Raspberry Pi Ports nicht zu besch√§digen, muss der Anschluss gem√§√ü der Dokumentation des verwendeten Receivers erfolgen! <br>  <b>Daher sehen alle Verbindungen auf den GPIO Raspberry Pi-Pins bisher so aus:</b> <br><br><img src="https://habrastorage.org/webt/kp/za/pg/kpzapg9cddh4qk2uyl_eut2qiqe.jpeg" alt="Bild"><br><br><h4>  Korrekte Aufnahme des Raspberry Pi mit der IR-Fernbedienung </h4><br>  Jetzt m√ºssen Sie genau die "richtige" Aufnahme des Raspberry Pi von der zugewiesenen Taste auf der IR-Fernbedienung machen.  Jetzt f√§hrt das Ger√§t hoch, wenn ein Signal am GPIO3-Pin (f√ºnfter physischer Pin) ankommt. Da es dem Empf√§nger egal ist, was er in diesem IR-Bereich empf√§ngt, wird das Signal von einer Fernbedienung heruntergeladen, manchmal sogar, wenn die Lichter im Raum eingeschaltet sind, was nicht praktisch ist .  Um dieses Problem zu l√∂sen, ben√∂tigen Sie zwischen dem GPIO3 und dem Signal-Pin des IR-Empf√§ngers einen Intermedi√§r, der das Signal decodiert. Schalten Sie den Raspberry Pi nur ein, wenn der Befehl mit dem zuvor zugewiesenen √ºbereinstimmt.  Au√üerdem m√ºssen Sie in der Lage sein, verschiedene Fernbedienungen oder die Tasten einer Fernbedienung zu verwenden.  Nat√ºrlich k√∂nnen Sie die Firmware f√ºr jeden ATiny im Wert von einem halben Dollar schreiben und alles wird gut funktionieren, aber da es sich um einen wiederholbaren und einfachen Konstruktor handelt, ist es viel einfacher, den relativ kosteng√ºnstigen und kompakten Controller - Arduino Nano - zu verwenden.  Die Karte arbeitet st√§ndig im Standby-Modus und √ºberwacht alle eingehenden Signale von IR-Quellen.  Und nur wenn Sie eines der vordefinierten Signale dekodieren - geben Sie einen Befehl zum Einschalten des Raspberry Pi.  Der Controller bietet auch ein einfaches Blinken, wenn Sie die Fernbedienung f√ºr den Raspberry Pi √§ndern m√ºssen. <br><br>  Arduino Nano wird nicht ganz standardm√§√üig mit Strom versorgt - von Pin + 5V GPIO RPi bis Pin + 5V Arduino.  An einem solchen Einschalten ist nichts auszusetzen - auf der USB-Seite verf√ºgt das Arduino-Board √ºber einen internen Stabilisatoreingang, auf der Vin-Pin-Seite √ºber die Schottky-Diodenkathode.  Keine andere Last als der IR-Empf√§nger wird nicht an die Arduino-Nano-Pins angeschlossen. <br><br>  Die Arduino-Himbeer-Verbindungstabelle sieht folgenderma√üen aus: Raspberri Pi 3 B + physikalischer Ausgang / Arduino Nano physikalischer Ausgang <br>  4 (+ 5 V) / + 5 V <br>  6 (GND) / GND <br>  5 (GPIO3) / D8 <br>  Au√üerdem wird der IR-Empf√§nger mit den Stromanschl√ºssen auf der Arduino-Platine verbunden - (GND, +5 V oder 3,3 V) und das Ausgangssignal √ºber die 100R-Widerst√§nde an den D7-Arduino-Pin und √ºber 510R an Pin 16 (GPIO23) des Raspberry Pi.  Somit √ºbertr√§gt der IR-Empf√§nger alle Befehle direkt an den GPIO23-Eingang, und ein oder zwei kurze Impulse erscheinen auf dem GPIO3 nur nach Empfang der in der Skizze angegebenen Befehle. <br><br>  <b>Anschlussplan von IR-Empf√§nger, Arduino Nano und Adressband an Raspberry Pi:</b> <br><br><img src="https://habrastorage.org/webt/vp/5s/pw/vp5spwaetjtos-vxrzn3qjvxqhg.jpeg" alt="Bild"><br><br>  Mit dem oberen Jumper ‚Äû5V External‚Äú k√∂nnen Arduino und Raspberry zusammen mit der Hintergrundbeleuchtung √ºber den XS1-Anschluss ‚ÄûPower‚Äú von einer externen Stromquelle mit Strom versorgt werden, wenn beispielsweise die Anzahl der Pixel gering ist und keine gro√üe Last entsteht.  Mit dem unteren Jumper kann die Spannung des IR-Empf√§ngers nach Schema ausgew√§hlt werden - 3,3 oder 5V.  Das Ger√§t wird als externe Abschirmung ausgelegt, die mit dem GPIO-Anschluss verbunden ist, an den die Arduino Nano-Platine, der IR-Empf√§nger und alle Anschl√ºsse angeschlossen sind. <br><br>  Zur √úberpr√ºfung gen√ºgt es, die Codes aller Tasten, z. B. ‚ÄûOK‚Äú oder ‚ÄûENTER‚Äú, von jeder Fernbedienung aus zu lesen und in die Skizze einzugeben.  Sie k√∂nnen auch eine Reihe von Befehlen eingeben, um die Konsole zu starten, indem Sie eine bestimmte Tastengruppe oder eine Tastenfolge dr√ºcken.  Die Skizze verwendet die iarduino_IR-master-Bibliothek, deren Archiv leicht im Internet gefunden werden kann.  Es gibt Skizzenbeispiele im Bibliotheksarchiv. Mit einem davon, zum Beispiel receiver_GetProtokolAll, k√∂nnen Sie Befehlscodes f√ºr beliebige Tasten auf der Fernbedienung abrufen.  Anschlie√üend m√ºssen diese Codes in die auf den Arduino Nano gegossene Skizze geschrieben werden: <br><br><pre> <code class="plaintext hljs">//******************************************************************************* #include &lt;iarduino_IR_RX.h&gt; //      - iarduino_IR_RX IR(7); //   IR,       - const int Out_GPOI_3 = 8; //     GPIO RPi uint32_t Code_001 = 0xFF708F; // RX code    uint32_t Code_002 = 0x106FA857; void setup() { pinMode(Out_GPOI_3, OUTPUT); //        9600 / Serial.begin(9600); IR.begin(); //    - } void loop() { if(IR.check()) //         { //     ,   if(IR.data == Code_001 or IR.data == Code_002) { digitalWrite(Out_GPOI_3, HIGH); //    RPi delay(5); digitalWrite(Out_GPOI_3, LOW); //      delay(5); digitalWrite(Out_GPOI_3, HIGH); //    RPi delay(5); digitalWrite(Out_GPOI_3, LOW); //      delay(5); } } } //*******************************************************************************</code> </pre><br>  Da die iarduino_IR-master-Bibliothek denselben Timer wie einige Standardfunktionen der Arduino-Umgebung verwendet, k√∂nnen Sie in dieser Skizze nicht micros (), millis (), tone () und m√∂glicherweise einige andere verwenden, da andernfalls ein Kompilierungsversuch zu einem undeutlichen Fehler f√ºhrt.  Trotz dieses Ansatzes der Autoren, Code zu schreiben, f√ºhrt die Bibliothek regelm√§√üig ihre Funktionen aus und definiert klar die IR-Meldungen, ihre Zeitabl√§ufe, Struktur und verwendeten Protokolle. Die F√§higkeit, die Codes von Befehlen einer beliebigen Konsole schnell zu lesen, reduziert ihre Konfiguration auf ein einfaches Ersetzen von Variablen in der Skizze. <br><br>  Der gesamte Aufbau wurde als Schutzschild konzipiert, f√ºr den in China folgende Fabrikschilder gezeichnet und bestellt wurden: <br><br><img src="https://habrastorage.org/webt/14/t2/no/14t2noezfi1ifwtddtytirdv4_q.jpeg" alt="Bild"><br><br>  Diese Abschirmung verbindet eine Arduino Nano-Platine, einen Anschluss f√ºr eine 5-V-Stromversorgung, einen TV-Hintergrundbeleuchtungsanschluss und die Abschirmung selbst ist im GPIO Raspberry Pi-Kamm enthalten.  Nach der Installation aller Komponenten sieht es so aus: <br><br><img src="https://habrastorage.org/webt/ei/g_/jg/eig_jgo2k6pfzip-9zqljflkh4y.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/ot/xq/qm/otxqqmw_e6ldd9gfir1s-oua9go.jpeg" alt="Bild"><br><br>  Er plante, an den L√∂chern, die zur Befestigung der Gestelle vorgesehen waren, eine durchsichtige Acryl-Eckabdeckung anzubringen - aber seine H√§nde griffen irgendwie nicht, und die Set-Top-Box ist immer noch nicht sichtbar ... <br><br>  √úberall wurde viel √ºber die Auswahl und das Aufkleben des Adressbandes geschrieben, aber ich habe auch ein paar Kommentare zu diesem Thema und zur Installation. <br><br>  Zuerst √ºber Mythen. <br><br>  <i>"WS2812 ist nicht f√ºr adaptive Hintergrundbeleuchtung geeignet, Sie m√ºssen SK9822 oder sogar APA102 verwenden."</i> <br><br>  Sie rechtfertigen dies mit der Tatsache, dass die Daten√ºbertragungsfrequenz von APA102-Analoga aufgrund des Vorhandenseins einer Taktleitung viel h√∂her ist und die LEDs selbst einen breiteren Farbumfang haben und zuverl√§ssiger sind. <br><br>  All dies ist wahr, aber wenn wir die Betriebsfrequenz von WS2812B durch die Anzahl der Pixel und 32 Bit Information f√ºr jedes von ihnen teilen, erhalten wir eine Aktualisierungsfrequenz von fast 300 Hz f√ºr meine 91 LEDs.  Dies ist um ein Vielfaches h√∂her als der erforderliche Schwellenwert.  Und alle "Flicker" - und "Leerlauf" -F√§lle sind 146% aufgrund der Kr√ºmmung der Erdung und der Signalleitung. <br><br>  Das Farbschema ist √§hnlich - Hyperion generiert 8-Bit-Pakete f√ºr jede Farbe in jedem Pixel.  In jedem Fall sind dies nur 256 Helligkeitsstufen f√ºr jede der drei Farben auf einem Band.  Der Farbunterschied macht sich nur im Taschenrechner auf dem Bildschirm eines guten Monitors bemerkbar, aber der Unterschied im tats√§chlichen Leuchten um ¬± eine oder sogar mehrere Abstufungen wird unsere Augen auf keinen Fall sehen - dies ist die Anatomie unseres Sehverm√∂gens, und wir k√∂nnen nichts dagegen tun.  Dar√ºber hinaus verf√ºgt der Konfigurator √ºber Tools zum Anpassen des Farbumfangs. Wenn Sie m√∂chten, k√∂nnen Sie eine nahezu perfekte wei√üe Farbe bei nahezu maximaler Helligkeit erzielen.  Aber selbst diese Gesten werden h√∂chstwahrscheinlich nicht ben√∂tigt - die Hintergrundbeleuchtung erzeugt nur einen Hintergrund an der Wand hinter dem Fernseher und kein Bild auf dem Bildschirm ... Bei der Analyse der Aufnahmezonen nehmen Hyperion und Philips mehr als einen bestimmten Punkt auf, jedoch die durchschnittliche Farbe des gesamten angegebenen Bereichs Farbt√∂ne sind immer etwas anderes als diejenigen, die dynamisch an den R√§ndern des Bildschirms wiedergegeben werden.  Angesichts all dessen macht es keinen Sinn, mit einer Kanone auf Spatzen zu schie√üen, was das Design der Hintergrundbeleuchtung in den urspr√ºnglichen Phillips-Fernsehern best√§tigt, in denen nur 37 Punkte auf der 50-Zoll-Diagonale angezeigt werden und die Breite der Zonen 5 bis 6 cm betr√§gt. <br><br>  Ein weiterer Mythos: <i>"WS2812B ist kurzlebig, einen Monat sp√§ter versagten die Pixel."</i> <br><br>  Nat√ºrlich werden sie anfangen.  Und auf jedem Band.  Jede Farbe in jeder 2812B LED bei voller Helligkeit verbraucht 18-20 mA.  Zum Beispiel habe ich 91 LEDs.  91X3X20 = ‚Äã‚Äã5,5A.  Der Wirkungsgrad liegt bei 30-40%, was bedeutet, dass mehr als drei Ampere in die W√§rme gehen.  Der einzige wirksame Weg, um W√§rme von den Substraten der Kristalle abzuleiten, sind die Kupferspuren des Bandes, die auf eine Oberfl√§che geklebt sind.  An die Stromversorgung angeschlossen, aber das nicht leuchtende Band ist auch sp√ºrbar warm - die Chips selbst in statischer Form haben einen gewissen Stromverbrauch.  Die hintere Kunststoffabdeckung des Fernsehger√§ts ist nicht der beste K√ºhlk√∂rper f√ºr den Langzeitbetrieb des Bandes, daher ist es besser und korrekter, ein spezielles Metallprofil zu verwenden.  Dar√ºber hinaus ist ein Diffusor in verschiedenen Tiefen, Breiten und Formen erh√§ltlich.  Sie werden keine Reflexionen in Form von farbigen Punkten auf den gl√§nzenden Oberfl√§chen des Innenraums des Raums sehen, was manchmal auch wichtig ist. <br><br><img src="https://habrastorage.org/webt/qz/oi/yz/qzoiyz8dnluqtmxs1mluj3drfgs.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tj/yu/ah/tjyuahucfrbsijm6atc2v8nlroe.jpeg" alt="Bild"><br><br>  Wenn alles montiert, verbunden und √ºberpr√ºft ist - Sie m√ºssen den KODI-Player nur noch nach Ihrem Geschmack und Ihrer Farbe konfigurieren -, installieren Sie alle erforderlichen Add-Ons, IPTV mit Programmprogrammen und geben Sie Inhalte von Ihrem Heim-PC frei. <br><br>  Wenn wir die Hintergrundbeleuchtung mit der Hardware-Version vergleichen - die Reaktion auf die Verarbeitung von Frames erschien mir deutlicher -, ist keine leichte Verz√∂gerung im Bruchteil einer Sekunde zu sp√ºren.  Die Implementierung selbst scheint mir durchaus realisierbar zu sein - es stellte sich heraus, dass es sich um einen einfachen, wiederholbaren Konstruktor handelte, der auf der Basis des Plug-Ins erstellt wurde.  Wenn Sie sich um die Montage des Schaltschilds und das Speichern des konfigurierten Systems als Image k√ºmmern, dauert es nicht l√§nger, eine solche Set-Top-Box zu starten, als f√ºr eine "boxed" TV-Box auf Android.  Wenn Sie den IR-Empf√§nger fernsteuern, kann das Ger√§t hinter einem Fernseher mit Wandhalterung versteckt werden.  Wenn Sie ein konfiguriertes Betriebssystem oder ein Image haben, arbeitet das System beim ersten Einschalten im Vollmodus. <br><br>  F√ºr diejenigen, die TV-Kan√§le sehen, m√ºssen Sie an ihren kostenpflichtigen und hochwertigen oder kostenlosen und nicht funktionierenden IPTV-Wiedergabelisten, TV-Programmen f√ºr Kan√§le, Add-Ons und Player-Einstellungen basteln, die √ºbrigens die M√∂glichkeit haben, Skins zu √§ndern, von denen es im Moment sehr viele f√ºr jeden gibt der Geschmack.  Alles wird unterst√ºtzt - Wetter, Uhrzeit, Bildschirmschoner, Hunderte verschiedener Add-Ons und Anwendungen.  Zum Beispiel wollte ich das nicht einklappbare OSD-Men√º loswerden, das zum Zur√ºckspulen oder Anhalten aufgerufen wird.  Daf√ºr war das Addon - Hide Video OSD - gro√üartig.  Laden Sie das Zip-Archiv herunter, legen Sie es an einem f√ºr Himbeeren geeigneten Ort ab, w√§hlen Sie die Installation aus dem Archiv in der Addon-Oberfl√§che aus, legen Sie es fest, aktivieren Sie das Addon in den Einstellungen, legen Sie die Zeit in Sekunden fest, nach der das OSD automatisch vom Bildschirm entfernt wird. <br><br>  Neben anderen Chips verf√ºgt Kodi √ºber ein vollwertiges Webinterface, √ºber das Sie Einstellungen konfigurieren, den Player und die Medienbibliothek von Ihrem Heim-PC aus steuern k√∂nnen. <br><br>  Ver√∂ffentlichungen √ºber alle Funktionen des Players und dar√ºber, wie Sie beispielsweise einen Medienserver auf einem PC f√ºr Kodi einrichten k√∂nnen, finden Sie in RuNet.  Aus Bequemlichkeit, Allesfresser und anderen Gr√ºnden w√ºrde ich diesen Player mit Projekten wie WinAmp und MPC-HC gleichsetzen. <br><br>  <b>Eine kleine Demo mit Pantoffeln:</b> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/geosx4zqNRk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486106/">https://habr.com/ru/post/de486106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486070/index.html">ACL-Schalter im Detail</a></li>
<li><a href="../de486080/index.html">Lassen Sie mich vorstellen: Veeam Availability Suite v10</a></li>
<li><a href="../de486084/index.html">Ersetzen kleinerer Festplatten durch gr√∂√üere Festplatten unter Linux</a></li>
<li><a href="../de486100/index.html">Wie erstelle ich eine dezentrale Anwendung, die sich skalieren l√§sst? Verwenden Sie weniger Blockchain</a></li>
<li><a href="../de486104/index.html">MVCC in PostgreSQL-7. Autovakuum</a></li>
<li><a href="../de486114/index.html">F√ºhrende Wissenschaftler auf dem Gebiet der Neurowissenschaften treffen sich auf dem j√§hrlichen Kongress der Neuronet Industry Union</a></li>
<li><a href="../de486116/index.html">Fermat- und Miller-Rabin-Einfachheitstests</a></li>
<li><a href="../de486120/index.html">Normalisierung der Abweichung. Wie falsche Praktiken in unserer Branche zur Norm werden</a></li>
<li><a href="../de486122/index.html">Child ReactJS mit 135 Codezeilen</a></li>
<li><a href="../de486124/index.html">Impala vs Hive vs Spark SQL: Auswahl der richtigen SQL-Engine f√ºr die ordnungsgem√§√üe Funktion im Cloudera Data Warehouse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>