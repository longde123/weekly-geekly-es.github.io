<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÇ üè© ü¶ä Conflu√™ncia para uma base de conhecimento p√∫blica: altere o design e configure a separa√ß√£o de idiomas üï∫üèø üéº üíÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Temos seis produtos usados ‚Äã‚Äãna R√∫ssia e no exterior. Isso significa que a documenta√ß√£o para eles deve estar em um s√≥ lugar, mas dividida por produtos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conflu√™ncia para uma base de conhecimento p√∫blica: altere o design e configure a separa√ß√£o de idiomas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ispsystem/blog/438236/">  Temos seis produtos usados ‚Äã‚Äãna R√∫ssia e no exterior.  Isso significa que a documenta√ß√£o para eles deve estar em um s√≥ lugar, mas dividida por produtos e idiomas. <br><br>  Costum√°vamos usar o MediaWiki, mas com o tempo ele se tornou desatualizado.  Da plataforma, tamb√©m esper√°vamos um bom layout de artigos, pesquisa flex√≠vel e um editor de texto interno.  A conflu√™ncia foi escolhida como alternativa. <br><br>  No processo, ficou claro que os recursos dessa plataforma prontos para o uso tamb√©m n√£o s√£o suficientes para todas as nossas tarefas.  Eu tive que comprar o plug-in Scroll Viewport e gastar algum tempo configurando-o. <br><br>  Voc√™ pode ver o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">que aconteceu no final</a> e eu vou lhe contar como mudei o design, configurei a separa√ß√£o de idiomas, a pesquisa interna e a indexa√ß√£o. <br><br><img src="https://habrastorage.org/webt/az/dn/d3/azdnd3muoqlkshm_d-jppor95yw.jpeg"><br><a name="habracut"></a><br><h2>  Mude o design </h2><br>  A empresa come√ßou a transferir a documenta√ß√£o do mecanismo MediaWiki para o Confluence h√° um ano.  Mas quando iniciei o projeto, o Confluence parecia padr√£o, o desenvolvedor anterior adicionou nosso logotipo e ocultou elementos desnecess√°rios para um usu√°rio an√¥nimo.  O lan√ßamento precisava trazer a documenta√ß√£o para o nosso estilo.  Designers prepararam layouts, e eu tive que invent√°-los. <br><br>  Mas o fato √© que o Confluence em si oferece muito pouca flexibilidade em estilos e scripts, e as possibilidades prontas para uso n√£o s√£o triviais para entender e usar, e s√£o incomuns para um desenvolvedor web. <br><br>  Observo que o Confluence √© um aplicativo Java, e n√£o um site com o back-end e front-end comuns.  Na se√ß√£o Apar√™ncia, voc√™ pode adicionar uma folha de estilo ou HTML personalizado, mas isso n√£o √© suficiente para uma reformula√ß√£o completa.  Portanto, para o layout, compramos o plug-in Scroll Viewport.  E ent√£o a divers√£o come√ßou. <br><br><h3>  Scroll Viewport Plugin </h3><br>  Scroll Viewport √© um plug-in para o Confluence, que permite criar temas usando o editor de c√≥digo e o gerenciador de arquivos conhecidos.  Com ele, voc√™ pode escrever estilos, trabalhar com modelos de p√°gina, adicionar imagens e personalizar a pesquisa. <br><br>  Temas s√£o criados para espa√ßos.  Espa√ßos no Confluence s√£o entidades de conte√∫do que armazenam informa√ß√µes sobre um √∫nico projeto.  Temos espa√ßo para produtos: ISPmanager, BILLmanager, etc., bem como para a p√°gina principal.  O espa√ßo tem uma chave, um t√≠tulo, v√°rias configura√ß√µes e, de fato, um tema. <br><br><h3>  Editando temas no Scroll Viewport: layout, estilos e html </h3><br>  Vamos come√ßar a explorar a janela de exibi√ß√£o Scroll.  Quando o plug-in est√° instalado e ativado, voc√™ precisa clicar na engrenagem e, em seguida, - <b>Configura√ß√µes b√°sicas</b> - se√ß√£o <b>Rolar janela de exibi√ß√£o</b> - <b>Temas</b> . <br><br>  Selecione, copie ou crie um tema e clique em <b>Editar</b> .  O editor de temas Scroll Viewport √© aberto. <br><br>  Observe que o Scroll Viewport recomenda n√£o criar um tema do zero, mas usar o Scroll WebHelp Theme como base. <br><br><img src="https://habrastorage.org/webt/d-/cz/hl/d-czhlnbxkamowxin2rcflgywuq.png"><br>  <i>Editor de temas Scroll Viewport: √† esquerda est√° a estrutura do tema, na parte superior est√° o nome do arquivo, na parte principal os pr√≥prios arquivos</i> <br><br>  Quando o tema √© criado, voc√™ pode come√ßar a configur√°-lo.  Configuraremos o layout e a estrutura das p√°ginas, adicionaremos estilos e scripts e, em seguida, editaremos o layout HTML dos elementos de conte√∫do. <br><br><h3>  Marca√ß√£o: edite, adicione classes e exiba o mesmo tipo de elementos em um loop </h3><br>  <b>Estrutura da p√°gina por tipo</b> <br><br>  Na raiz do t√≥pico est√£o os principais modelos: page.vm, search.vm, error.vm e a imagem da capa do tema thumbnail.png. <br><br>  O modelo "page.vm" define a estrutura de todas as p√°ginas do tema.  Aqui voc√™ pode editar o html e usar as vari√°veis ‚Äã‚Äãde espa√ßos reservados para especificar onde o conte√∫do ser√° exibido.  Os marcadores de posi√ß√£o se referem ao conte√∫do do espa√ßo ou aos dados do usu√°rio (t√≠tulo do material, nome do espa√ßo, nome do autor); sua lista completa pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na central de ajuda do desenvolvedor Scroll Viewport</a> . <br><br>  "Page.vm" refere-se aos modelos que est√£o um n√≠vel abaixo na pasta "incluir" e os agrupa em tags e blocos.  Neste arquivo (page.vm), reunimos a p√°gina em partes e complementamos a marca√ß√£o com todos os atributos necess√°rios de um documento html.  √â aqui que especificamos doctype, prescrevemos head e body. <br><br>  <b>Elementos da p√°gina</b> <br><br>  Na pasta "incluir" existem partes da p√°gina.  Nos nomes dos arquivos, voc√™ pode adivinhar qual √© o respons√°vel por: <br><br><ul><li>  include-htmlhead.vm cont√©m tudo o que normalmente indica no cabe√ßalho de um documento html: acesso a folhas de estilo, arquivos de fonte, alguns scripts, incluindo os scripts padr√£o Confluence e Scroll Viewport; </li><li>  include-headerbar.vm define a estrutura do cabe√ßalho; </li><li>  include-footer.vm define a estrutura do rodap√©; </li><li>  include-content.vm descreve a estrutura do bloco de conte√∫do principal; </li><li>  include-sidebar.vm descreve o layout do menu lateral, que geralmente cont√©m uma lista de todos os artigos no espa√ßo. </li></ul><br>  A sintaxe do modelo Scroll Viewport √© f√°cil de entender.  As opera√ß√µes come√ßam com uma treli√ßa, por exemplo, "#if (condition)" ou "#foreach ($ language em $ languages.available)" e terminam com "#end", dentro do corpo do operador.  Tudo o resto s√£o tags html. <br><br><h3>  Estiliza√ß√£o: adicione estilos, imagens e scripts </h3><br>  Dentro da pasta "assets", os arquivos js e css s√£o armazenados.  Como n√£o criamos o tema do zero, ele j√° cont√©m arquivos dos desenvolvedores do Scroll Viewport. <br><br>  Para personalizar os estilos, √© melhor criar um novo arquivo css e inclu√≠-lo no cabe√ßalho do modelo da p√°gina.  Os arquivos iniciados em um tema cont√™m regras de tema Scroll Viewport.  Eles devem ser editados no caso em que novos estilos permanecem na base.  Tenha cuidado ao excluir e adicionar regras, lembre-se da hierarquia dos seletores, pois isso pode ajudar. <br><br>  Em "assets", tamb√©m adicionei uma pasta com imagens e uma pasta com arquivos de fonte.  O gerenciador de arquivos n√£o funciona perfeitamente, voc√™ n√£o pode adicionar uma pasta ao diret√≥rio desejado, ent√£o tive que trapacear.  Criei uma pasta no meu computador, adicionei um arquivo a ele e baixei-o no diret√≥rio desejado com arrastar e soltar.  Depois que a pasta √© criada, n√£o h√° problema em baixar arquivos. <br><br>  Ao criar um novo design, levamos em conta os recursos do plug-in e focamos nos t√≥picos existentes na Scroll Viewport; assim, dentro de assets / js, permaneci por um tempo.  Fez pequenas altera√ß√µes nos arquivos de script existentes e adicionou arquivos das bibliotecas necess√°rias.  Se as altera√ß√µes forem mais significativas, voc√™ ter√° que lidar com os scripts em mais detalhes. <br><br><h3>  Editor de conte√∫do HTML para o conte√∫do do artigo </h3><br>  No processo de trabalho com o Scroll Viewport, verificou-se que podemos escrever, mas n√£o todos.  As permiss√µes do modelo de plug-in terminam com a vari√°vel $ page.renderContent.  Como fazer o layout dos elementos com as principais classes e links?  N√£o est√° claro.  Onde est√° o HTML?  Por padr√£o, n√£o est√° l√°.  A vari√°vel nos diz que precisamos concluir parte do layout diretamente na p√°gina do artigo; no entanto, at√© agora, apenas o texto pode ser editado l√°, mas n√£o as tags. <br><br><img src="https://habrastorage.org/webt/qq/e2/89/qqe289edxae5x6nm8zelzi1mm9i.jpeg"><br><br>  Felizmente, voc√™ sempre pode procurar por plug-ins, e que sorte, o certo foi encontrado quase imediatamente.  Este √© o Editor de fontes do Confluence.  Ap√≥s a instala√ß√£o, voc√™ tamb√©m pode desenhar o bom e antigo hipertexto no modo de edi√ß√£o do artigo.  Finalmente! <br><br><img src="https://habrastorage.org/webt/jq/wf/cz/jqwfczvsgt68h7zdrcydqmvipqu.png"><br>  <i>Plug-in do Editor de c√≥digo-fonte</i> <br><br>  No Scroll Viewport, criamos o cabe√ßalho, a barra lateral, o rodap√© e definimos os estilos.  N√≥s impomos conte√∫do usando o Editor de c√≥digo-fonte.  No total, criei dois t√≥picos: para p√°ginas de artigos e para a p√°gina principal de documenta√ß√£o. <br><br><h2>  Configura√ß√µes de espa√ßo da janela de visualiza√ß√£o: aplique o tema </h2><br>  Quando um tema √© criado, ele deve estar associado ao espa√ßo.  Para fazer isso, voc√™ precisa criar uma Viewport nas configura√ß√µes de espa√ßo.  Viewport √© o que conecta espa√ßo e tema.  Somente criando essa entidade, voc√™ pode aplicar estilos de tema ao espa√ßo. <br><br>  Digite o espa√ßo do produto desejado, abra <b>Configura√ß√µes de espa√ßo - Complementos</b> .  Aqui voc√™ pode criar e gerenciar o Viewport: defina temas, tipos de conte√∫do, permiss√µes, dom√≠nio e caminho. <br><br><img src="https://habrastorage.org/webt/vo/jk/wb/vojkwbyn6kiqem-5ha0kxzyuh2w.png"><br>  <i>Um formul√°rio para conectar espa√ßo com um tema, criando uma Viewport</i> <br><br><h3>  Escolha um t√≥pico </h3><br>  <b>A</b> guia <b>Temas</b> mostra todos os temas criados e um tema padr√£o que aparece junto com o plug-in Scroll Viewport.  Selecione um tema e aplique ao espa√ßo. <br><br>  A guia <b>Conte√∫do</b> permite selecionar o tipo de conte√∫do ao qual o tema ser√° aplicado.  Isso nos interessa menos, pois a chave do espa√ßo √© automaticamente recolhida. <br><br><h3>  Definir endere√ßos </h3><br>  Na guia <b>URL</b> , voc√™ pode selecionar o dom√≠nio e o caminho ao longo do qual o espa√ßo ser√° aberto, al√©m de especificar a estrutura dos endere√ßos.  Tamb√©m ser√° necess√°rio dividir a documenta√ß√£o em dois idiomas por idioma. <br><br>  Existem dois tipos de estrutura de URL: <br><br><ul><li>  multin√≠vel - o caminho reflete a hierarquia de artigos de espa√ßo e nomes de p√°ginas, </li><li>  um n√≠vel - todos os artigos est√£o dispon√≠veis no mesmo n√≠vel com sufixos num√©ricos </li></ul><br>  Com endere√ßos de p√°gina, h√° uma nuance.  Para artigos em diferentes idiomas, o Confluence gera URLs de maneira diferente.  Em ingl√™s, exibe o nome e em russo - um conjunto incoerente de letras, caracteres e n√∫meros.  Scroll Viewport permite trazer endere√ßos para um formul√°rio.  Se voc√™ escolher uma estrutura de v√°rios n√≠veis, o endere√ßo dos artigos em russo exibir√° o nome do texto transliterado. <br><br>  Mas lembre-se de que, ao escolher URLs de v√°rios n√≠veis, o URL depender√° do t√≠tulo do artigo.  O nome mudar√° - o endere√ßo do artigo tamb√©m mudar√°.  Se voc√™ selecionar uma estrutura de n√≠vel √∫nico, o endere√ßo ser√° menos leg√≠vel e compreens√≠vel, mas n√£o depender√° mais do t√≠tulo da p√°gina. <br><br>  Escolhemos um tipo de estrutura multin√≠vel e endere√ßos leg√≠veis, mas teremos que monitorar a altera√ß√£o dos t√≠tulos dos artigos e configurar redirecionamentos a tempo.  E ainda estamos procurando a op√ß√£o perfeita.  Tamb√©m usamos links curtos que sempre levam ao artigo e n√£o mudam; esse link pode ser encontrado na se√ß√£o <b>Informa√ß√µes da p√°gina</b> . <br><br><h3>  Incluir t√≥pico </h3><br>  Na guia <b>Permiss√µes</b> , voc√™ pode especificar quais usu√°rios poder√£o visualizar o espa√ßo usando o Viewport. <br><br>  Para que usu√°rios an√¥nimos vejam a documenta√ß√£o apenas em um determinado design, √© necess√°rio colocar duas marcas de sele√ß√£o: <br><br><ul><li>  Restrinja o acesso √† interface do Confluence, </li><li>  Redirecione automaticamente os usu√°rios para a viewport. </li></ul><br><img src="https://habrastorage.org/webt/h0/x8/v1/h0x8v1womjmfi9zevwhqssyntko.png"><br>  <i>Configura√ß√µes de exibi√ß√£o de espa√ßo na guia Permiss√µes</i> <br><br><h2>  Configurar separa√ß√£o de idiomas </h2><br>  Como temos documenta√ß√£o em ingl√™s e russo, precisamos abrir espa√ßos em russo no dom√≠nio .ru e em ingl√™s no .com. <br><br>  A Scroll Viewport fornece essas configura√ß√µes, mas se voc√™ simplesmente inserir um dom√≠nio diferente do dom√≠nio principal na guia <b>URL</b> no campo <b>Nome de Dom√≠nio</b> , os dois dom√≠nios n√£o funcionar√£o.  Esse √© um recurso do plug-in Scroll Viewport. <br><br>  √â necess√°rio configurar o proxy reverso para que as solicita√ß√µes do usu√°rio sejam transmitidas pelo Confluence e resolvidas em dois dom√≠nios - consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a instru√ß√£o Scroll Viewport</a> (configura√ß√µes para Nginx e TOMCAT).  Depois disso, voc√™ deve desativar o modo de co-edi√ß√£o ou fazer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">altera√ß√µes adicionais</a> .  Agora voc√™ pode especificar um dos dois dom√≠nios nas configura√ß√µes do Viewport. <br><br><h3>  Temas para diferentes idiomas </h3><br>  N√£o funcionar√° para aplicar um tema a espa√ßos em um idioma diferente, porque o tema inclui n√£o apenas estilos, mas tamb√©m modelos de p√°gina.  Isso significa que o idioma dos elementos que n√£o s√£o exibidos como vari√°veis ‚Äã‚Äãn√£o muda.  Por exemplo, um espa√ßo reservado para texto na barra de pesquisa, contatos no rodap√© etc. Ent√£o tive que criar t√≥picos separados para espa√ßos em russo e ingl√™s. <br><br>  Na verdade, eu crio temas com estilo id√™ntico, mas os modelos para eles s√£o diferentes, principalmente em termos de texto.  Isso √© excesso e duplica√ß√£o, sim, mas ainda n√£o encontrei outra maneira.  Al√©m disso, o t√≥pico tamb√©m regula a pesquisa, e esse √© outro argumento a favor da separa√ß√£o por idioma. <br><br>  Como resultado, obtive quatro t√≥picos: dois para as p√°ginas principais em russo e ingl√™s e mais dois para p√°ginas de conte√∫do para cada idioma. <br><br><h2>  Personalizar pesquisa no site </h2><br>  Os par√¢metros de pesquisa s√£o configurados nos arquivos da pasta "incluir".  Dentro deles, definimos os par√¢metros de pesquisa: <br><br><ul><li>  include-quicksearch.vm √© respons√°vel pelo campo de pesquisa em todas as p√°ginas de conte√∫do, </li><li>  include-search.vm define a estrutura das p√°ginas de resultados de pesquisa. </li></ul><br><h3>  Onde procurar </h3><br>  Por padr√£o, a pesquisa funciona apenas no espa√ßo atual.  Por exemplo, no espa√ßo do ISPmanager - apenas em artigos sobre o ISPmanager.  Se voc√™ precisar pesquisar a lista de espa√ßos, precisar√° especificar suas chaves nas configura√ß√µes de include-quicksearch.vm. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ht-search"</span></span></span><span class="hljs-tag">&gt;</span></span> #set($search = "/search") #if ($stringUtils.equals(${viewport.link}, "/") == false) #set($search = "${viewport.link}/search") #end <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ht-search-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"q"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$!searchRequest.queryString"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  ?"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"max"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span><span class="hljs-tag">&gt;</span></span> ## --- START --- Scroll Versions and Scroll Translations Integration ------------------------------------------- #if ($versions || $variants || $languages) #if($versions) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"version"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-versions:version-name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$versions.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #if($variants) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"variant"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-versions:variant-name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$variants.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #if($languages) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"language"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-translations:language-key"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$languages.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #end ## --- END ----------------------------------------------------------------------------------------------------- <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <i>Formul√°rio de pesquisa para espa√ßo individual</i> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ht-search"</span></span></span><span class="hljs-tag">&gt;</span></span> #set($search = "/search") #if ($stringUtils.equals(${viewport.link}, "/") == false) #set($search = "${viewport.link}/search") #end <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ht-search-input"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  ?"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"q"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$!searchRequest.queryString"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BILLmgr"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VMKVM"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VMmgr5Cloud"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"VMmgr5OVZ"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DCImgr"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IPmgr5"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ISPmgr5BUSINESS"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ISPmgr5Lite"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" DNSmgr"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" COREmgr"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"max"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span><span class="hljs-tag">&gt;</span></span> ## --- START --- Scroll Versions and Scroll Translations Integration ------------------------------------------- #if ($versions || $variants || $languages) #if($versions) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"version"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-versions:version-name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$versions.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #if($variants) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"variant"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-versions:variant-name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$variants.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #if($languages) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"language"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scroll-translations:language-key"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$languages.current.value"</span></span></span><span class="hljs-tag">/&gt;</span></span> #end #end ## --- END ----------------------------------------------------------------------------------------------------- <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <i>Formul√°rio de Pesquisa da Lista de Espa√ßos</i> <br><br><h3>  Como exibir resultados </h3><br>  A lista de resultados da pesquisa ser√° semelhante aos conjuntos de modelos include-search.vm.  No meu caso, cada link encontrado possui um t√≠tulo, descri√ß√£o e nome do espa√ßo ao qual o artigo pertence.  Aqui voc√™ pode especificar o que o usu√°rio ver√° se a pesquisa n√£o encontrar nada. <br><br>  Pode ser visto no fragmento do modelo abaixo que os resultados da pesquisa s√£o exibidos em um loop usando vari√°veis ‚Äã‚Äãde espa√ßo reservado.  Os resultados da pesquisa podem ser bastante, portanto, na parte inferior da p√°gina, pagina√ß√£o.  Para obter um guia detalhado sobre modelos de p√°gina de pesquisa, consulte a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o de pesquisa Scroll Viewport</a> . <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ht-wrap-container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-results"</span></span></span><span class="hljs-tag">&gt;</span></span> #if ($searchResults.total &gt; 0) #foreach($result in $searchResults.items) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-result"</span></span></span><span class="hljs-tag">&gt;</span></span> #set( $space = '' ) #if( $result.type == 'page' ) #set( $space = $result.getObject().fromConfluence.getSpace().getName() ) #end <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$result.link"</span></span></span><span class="hljs-tag">&gt;</span></span>$result.displayTitle<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-result-content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-result-desc"</span></span></span><span class="hljs-tag">&gt;</span></span>$result.getDescription(280)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> #if( $space ) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-result-space"</span></span></span><span class="hljs-tag">&gt;</span></span>$space<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> #end <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> #end #else <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span>    :(<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h4</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>   ,     .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> #end <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search-results-pager"</span></span></span><span class="hljs-tag">&gt;</span></span> #if($pager.hasPrev) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"back"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$pager.prevLink"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> #end #foreach ($pagerPage in $pager.pages) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$pagerPage.link"</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag"> ($</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pagerPage.current</span></span></span><span class="hljs-tag">) </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"current"</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">end</span></span></span><span class="hljs-tag">&gt;</span></span>$velocityCount<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> #end #if($pager.hasNext) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"next"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$pager.nextLink"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> #end <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h3>  Como √© a p√°gina de pesquisa </h3><br>  O modelo "search.vm" define toda a estrutura das p√°ginas de pesquisa, come√ßando pela tag de abertura.  Neste modelo, voc√™ deve reunir o formul√°rio de pesquisa e seus resultados.  Como resultado, obtemos uma p√°gina do tipo "pesquisa", que inclui um formul√°rio de pesquisa e correspond√™ncias encontradas, divididas em v√°rias p√°ginas. <br><br>  Todos os modelos de primeiro n√≠vel localizados na estrutura ao lado de page.vm redefinem a estrutura da p√°gina, dependendo do seu tipo.  Portanto, search.vm define o layout das p√°ginas de pesquisa e error.vm define as p√°ginas de erro. <br><br>  Resta definir estilos para os elementos, √© poss√≠vel adicionar scripts e nosso tema se torna funcional, executa tarefas e apar√™ncia de acordo com o design. <br><br><h2>  Personalizar indexa√ß√£o </h2><br>  Para configurar a indexa√ß√£o, voc√™ precisa colocar o mapa do site na pasta raiz.  Mas n√£o temos uma pasta raiz, porque o Confluence √© um aplicativo Java, n√£o um site.  O que fazer <br><br>  A dica foi encontrada na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o Scroll Viewport</a> .  Dentro do espa√ßo das p√°ginas espalhadas onde a p√°gina principal est√° armazenada, voc√™ precisa criar um novo artigo, cham√°-lo sitemap.xml e coloc√°-lo um n√≠vel abaixo da p√°gina principal. <br><br>  A localiza√ß√£o √© importante porque, conforme observado na documenta√ß√£o, o arquivo de mapa n√£o estar√° dispon√≠vel para o Viewport com o prefixo do caminho ‚Äú/‚Äù.  Apenas esse prefixo para o espa√ßo da Viewport na p√°gina principal. <br><br><img src="https://habrastorage.org/webt/kd/0q/dk/kd0qdkmlbzk-nqz0w8nekmgelbs.png"><br>  <i>Artigo Sitemap.xml na estrutura de espa√ßo</i> <br><br>  Lembramos que no Confluence, o t√≠tulo do artigo e sua URL est√£o relacionados.  Quando a p√°gina √© criada e j√° √© aberta em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">docs.ispsystem.com/sitemap-xml</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cuidaremos de</a> sua exibi√ß√£o correta.  Este formato de URL n√£o √© muito t√≠pico, mas nos conv√©m. <br><br>  Um mapa do site deve estar sem tags e estilos desnecess√°rios, porque √© criado para os mecanismos de pesquisa.  Para que os estilos definidos anteriormente n√£o sejam aplicados ao mapa do site, voc√™ deve criar o modelo include-sitemap.vm e copiar o conte√∫do do mapa do site preparado - sitemap.xml nele.  Ficar√° assim: <br><br><img src="https://habrastorage.org/webt/it/eu/ud/iteuudh6ptkr0aj3nqlipbkjnhe.png"><br><br>  Agora, para a p√°gina sitemap.xml, crie uma condi√ß√£o separada no modelo page.vm para que os estilos e a estrutura dos modelos sejam aplicados a todas as p√°ginas, exceto o mapa do site. <br><br>  Um identificador √© necess√°rio para a condi√ß√£o.  Voc√™ pode reconhec√™-lo abrindo a p√°gina e, em seguida, clicando em <b>Retic√™ncias - Informa√ß√µes da p√°gina</b> , no final da barra de endere√ßo, haver√° um identificador.  Agora escrevemos a condi√ß√£o: <br><br><pre> <code class="xml hljs">#if ($page.id == 25370522) $include.template("/include/include-sitemap.vm") #else /   /</code> </pre><br>  Ap√≥s as manipula√ß√µes descritas, o caminho para o mapa do site pode ser especificado nos pain√©is dos webmasters Yandex e Google, e a indexa√ß√£o ser√° iniciada. <br><br>  Em geral, a quest√£o da indexa√ß√£o permanece aberta para mim.  N√£o est√° completamente claro como as p√°ginas de conte√∫do do Confluence s√£o indexadas.  Voc√™ precisa pensar em como automatizar o processo. <br><br><h2>  Essas coisas </h2><br>  √â assim que eu configuro o design, localiza√ß√£o, pesquisa e indexa√ß√£o da documenta√ß√£o no Confluence.  Levou tempo e suporte t√©cnico da Scroll Viewport para lidar com coisas n√£o √≥bvias.  Espero que minha experi√™ncia seja √∫til para aqueles que enfrentam uma tarefa semelhante. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438236/">https://habr.com/ru/post/pt438236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438224/index.html">Bairro do governo. Piloto</a></li>
<li><a href="../pt438226/index.html">Solucionar problemas de instala√ß√£o do .NET Framework 3.5 no Windows 8 em uma rede com o WSUS</a></li>
<li><a href="../pt438228/index.html">Voc√™ comprou √≥culos de v√≠deo transparentes com HDMI e USB-C? Conhe√ßa: Epson Moverio BT-35E</a></li>
<li><a href="../pt438230/index.html">Tradu√ß√£o "Prepare seus aplicativos para requisitos de 64 bits"</a></li>
<li><a href="../pt438234/index.html">Fevereiro IT Events Digest</a></li>
<li><a href="../pt438238/index.html">Como designer, eu me recuso a chamar as pessoas de "usu√°rios"</a></li>
<li><a href="../pt438240/index.html">Teste de carga de CPU e SSD de hosts da nuvem: compare Selectel, Servers, MCS e I. Cloud</a></li>
<li><a href="../pt438242/index.html">Comprima a lista de endere√ßos IP da melhor maneira</a></li>
<li><a href="../pt438244/index.html">Lidamos com os regulamentos criptogr√°ficos russos ... usando o exemplo da pris√£o de um traficante</a></li>
<li><a href="../pt438248/index.html">Vida de A√ß√£o do GitHub</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>