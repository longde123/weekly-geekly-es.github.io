<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàÇÔ∏è üêö üê± Einrichten der Umgebung in der CLI. WSL / Windows Terminal ü§æüèø üìÆ üöº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt Leute, die den gr√∂√üten Teil ihrer Arbeitszeit in der Konsole verbringen, es gibt Leute, die das Terminal bei Bedarf benutzen und etwas gem√§√ü d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einrichten der Umgebung in der CLI. WSL / Windows Terminal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481746/">  Es gibt Leute, die den gr√∂√üten Teil ihrer Arbeitszeit in der Konsole verbringen, es gibt Leute, die das Terminal bei Bedarf benutzen und etwas gem√§√ü den Anweisungen ausf√ºhren.  Aber ich denke, dass jeder IT-Spezialist, egal ob Entwickler, Systemadministrator, Netzwerktechniker oder auch Senior-Entwickler, die Befehlszeilenschnittstelle verwendet.  Nicht jeder denkt daran, die Arbeitsumgebung in der CLI zu verbessern und die Produktivit√§t im Terminal zu steigern.  Ich m√∂chte meine Erfahrungen mit der Einrichtung der Umgebung f√ºr die Arbeit mit Linux unter Windows teilen. <br><br><img src="https://habrastorage.org/webt/4n/ai/g0/4naig074wgv1yxzipkfvxsutlzo.png"><br><br>  In diesem Artikel erfahren Sie, welche Tools und welches Terminal derzeit zum Ausf√ºhren von Linux-Anwendungen unter Windows 10 verwendet werden. Wir werden uns mit <b>WSL 2</b> und <b>Windows Terminal</b> befassen, die bei Benutzern, die Linux zum Arbeiten ben√∂tigen, immer beliebter werden.  Da sich die meisten meiner Anwendungsf√§lle auf eine Remote-Verbindung √ºber SSH beziehen, sind die meisten Informationen f√ºr F√§lle von Remote-Verbindungen mit allen damit verbundenen Funktionen relevant (Weiterleiten von SSH-Schl√ºsseln √ºber den SSH-Agenten, Weiterleiten von X-Server, Verwalten von Verbindungen usw.) ) <br><br>  <i>Achtung!</i>  Unter dem Schnitt viele Bilder und geschrumpft, aber manchmal volumin√∂s, gif, empfiehlt es sich, den Artikel zu √∂ffnen, wenn Sie einen entsprechenden Zugang zum Internet haben.  Kommen Sie unter die Katze, wenn Sie Linux-Dienstprogramme unter Windows ausf√ºhren, Ihre Arbeit in der CLI-Umgebung optimieren oder nur technische Texte und Farbterminals m√∂gen.  Ich habe versucht, den Text mit Screencasts und Screenshots des Terminals aufzuhellen, damit es nicht langweilig wird. <br><a name="habracut"></a><br><h1>  Einleitung </h1><br>  Sowohl auf meinem Heim- als auch auf meinem Arbeits-Laptop ist Windows 10 mein einziges Betriebssystem, und in diesem Jahr habe ich endlich auf die Verwendung von WSL anstelle von VM / Dualboot / Cygwin / MinGW umgestellt.  Jetzt ist mein Standardterminal die lokale WSL-Shell, auf der ich fast jede Aufgabe ausf√ºhren kann, wie unter nativem Linux.  Dar√ºber hinaus wird der Intel NUC-Miniserver im Heimnetzwerk ausgef√ºhrt, auf dem Proxmox mit LXC-Containern und KVM bereitgestellt wird, in dem sich Docker dreht.  Ich gehe √ºber SSH mit Schl√ºsseln aus dem Windows-Verzeichnis zu allen VMs.  In der CLI findet viel Zeit f√ºr professionelle Aktivit√§ten mit demselben Server und Netzwerk statt.  Es besteht daher immer der Wunsch, mit Werkzeugen f√ºr ein komfortableres Arbeiten im Terminal umzugehen, und unter Windows gab es immer Probleme damit.  Aber jetzt √§ndert sich alles. <br><br><img src="https://habrastorage.org/webt/kh/tj/fc/khtjfclo949wmznn3as5cjwfdoq.png"><br><br>  Dieser und die folgenden Artikel richten sich eher an Enthusiasten, die nach frischen L√∂sungen suchen und ihre Muschel pumpen m√∂chten.  Aber f√ºr Anf√§nger sollte etwas interessant sein, obwohl der Artikel sich als ziemlich tief in das Thema vertieft herausstellte und suggeriert, dass der Leser einige Grundkenntnisse in Linux hat.  Alle Informationen werden auf der Grundlage pers√∂nlicher Erfahrungen mit der WSL, einem Terminal, sowie einer endlosen Suche nach Stack Overflow- und Github-Problemen gesammelt, um die Konfiguration st√§ndig zu verbessern und praktische Tools f√ºr die Arbeit zu finden. <br><br><h1>  Windows-Subsystem f√ºr Linux (WSL) 2 </h1><br>  Es gibt mehrere normale Artikel zu WSL im Internet und zu Habr ( <a href="https://habr.com/ru/post/412633/">einmal</a> ein Artikel √ºber die Installation / Konfiguration von WSL mit einem X-Server, <a href="https://habr.com/ru/post/451782/">zwei</a> Anmerkungen zu WSL 2, <a href="https://habr.com/ru/post/472202/">drei</a> Artikel √ºber die Python-Entwicklung in VSCode mit WSL), die die Installation und Konfiguration des Systems beschreiben.  Es sind jedoch nicht alle Installationsaktionen bereits relevant, und Einschr√§nkungen mit Fallstricken werden immer geringer.  Ich werde nicht im Detail auf die Installation eingehen. Die Anweisungen zur Installation der aktuellen (zweiten) Version von WSL <a href="https://docs.microsoft.com/ru-ru/windows/wsl/wsl2-install" rel="nofollow">finden Sie auf der Microsoft-Website</a> . Au√üerdem finden Sie kurze <a href="" rel="nofollow">Tutorials</a> im Internet. <br><br><img src="https://habrastorage.org/webt/ok/ml/o-/okmlo-allpo4qks8ekwplfsgges.png"><br><br>  Jetzt befindet sich die WSL noch in der aktiven Entwicklung und vor kurzem ( <a href="https://habr.com/ru/company/microsoft/blog/456204/"><i>Juni 2019</i></a> ) wurde eine neue Version von WSL 2 ver√∂ffentlicht, die derzeit nur f√ºr neue Versionen von Windows f√ºr Windows Insiders-Mitglieder verf√ºgbar ist.  Ich rate Ihnen, WSL nach M√∂glichkeit sofort auf Version 2 zu aktualisieren, da dies die Arbeit von Systemaufrufen, die Arbeit mit dem Netzwerk und dem FS verbessert und im Allgemeinen auf einer anderen Architektur aufbaut und nach einigen Berichten <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/" rel="nofollow">die Geschwindigkeit im</a> Vergleich zur ersten Version um das <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/" rel="nofollow">20-fache erh√∂ht</a> . <br><br>  Sie k√∂nnen die Version von Windows 10 und OS Build unter <i>Start -&gt; Einstellungen -&gt; System -&gt; Info sehen. Um</i> WSL 2 zu installieren, ben√∂tigen Sie <b>Windows 1903</b> und mindestens Build-Version <b>18917</b> .  Wenn Sie kein Mitglied des <a href="https://insider.windows.com/ru-ru/how-to-pc/" rel="nofollow">Windows Insider-Programms sind</a> , werden die Updates h√∂chstwahrscheinlich erst nach einer stabilen Version eintreffen.  Wenn Sie also auf den neuesten Build aktualisieren m√∂chten, k√∂nnen Sie den fr√ºhen Zugriff ( <i>Schnell</i> ) unter <i>Start -&gt; Einstellungen -&gt; Update &amp; Sicherheit -&gt; Windows Insider-Programm</i> aktivieren, weitere Updates aktualisieren und deaktivieren.  Es ist zu bedenken, dass noch nicht in gro√üen Mengen getestete Updates installiert werden, die die Stabilit√§t beeintr√§chtigen k√∂nnen. <br><br>  Es sollte beachtet werden, dass WSL vor der Erstellung von Version <a href="https://blogs.windows.com/windowsexperience/2019/10/03/announcing-windows-10-insider-preview-build-18995/" rel="nofollow">18995</a> einen <a href="https://github.com/microsoft/WSL/issues/4377" rel="nofollow">Fehler aufweist,</a> wenn mit Dateien auf <a href="https://blogs.windows.com/windowsexperience/2019/10/03/announcing-windows-10-insider-preview-build-18995/" rel="nofollow">bereitgestellten</a> Windows-Datentr√§gern gearbeitet wird, der als Eingabe- / Ausgabefehler ausgedr√ºckt wird. Nur ein Neustart von WSL ( <i>wsl --shutdown</i> in PowerShell) hilft.  Im Allgemeinen gibt es in WSL Version 1 (die standardm√§√üig festgelegt ist) und in Nicht-Vorschau-Distributionen von Windows noch viele behobene Fehler.  Wenn Ihre Betriebssystemaktualisierungen durch Unternehmensrichtlinien geregelt werden, werden h√∂chstwahrscheinlich die neuesten Aktualisierungen nicht ankommen, und Sie m√ºssen dies ber√ºcksichtigen.  Auf einem der Laptops habe ich 18956 gebaut und es gibt keine Updates, obwohl in den Insider-Programmeinstellungen die Option <i>Schnell</i> ausgew√§hlt ist.  Ein sauberes System wurde vor ein paar Monaten auf einem anderen Laptop installiert, und Updates kommen regelm√§√üig an und werden installiert. <br><br><h2>  Installieren Sie WSL 2 </h2><br>  F√ºr WSL muss Hyper-V aktiviert sein, da Linux-Distributionen auf einfachen VMs mit Hyper-V-Virtualisierung ausgef√ºhrt werden. <br><br><img src="https://habrastorage.org/webt/vd/im/7a/vdim7aihpbrv6ojfrf1uks51-q0.png"><br><br>  Als N√§chstes gebe ich eine kurze Installationsanleitung f√ºr die CLI PowerShell-Distribution von WSL (als Beispiel <a href="https://www.kali.org/news/wsl2-and-kali/" rel="nofollow">Kali Linux</a> ).  Wenn Sie <a href="https://aka.ms/wsl-ubuntu-1804" rel="nofollow">Ubuntu</a> oder eine <a href="https://docs.microsoft.com/ru-ru/windows/wsl/install-manual" rel="nofollow">andere</a> verf√ºgbare <a href="https://docs.microsoft.com/ru-ru/windows/wsl/install-manual" rel="nofollow">Linux-</a> Distribution bevorzugen, ersetzen Sie den Link und die Namen durch die entsprechenden. <br><br>  √úberpr√ºfen Sie die Windows Build-Version: <br><br> <code>Get-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows NT\CurrentVersion" | Select CurrentBuild</code> <br> <br>  Aktivieren Sie die <i>Komponenten VirtualMachinePlatform</i> und <i>Microsoft-Windows-Subsystem-Linux:</i> <br><br> <code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux <br> Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform</code> <br> <br>  Starten Sie neu <br>  Installieren Sie als N√§chstes entweder die Distribution aus dem Microsoft Store ( <a href="https://aka.ms/wslstore" rel="nofollow">https://aka.ms/wslstore</a> ) oder fahren Sie mit der Ausf√ºhrung in PowerShell fort: <br><br> <code>curl.exe -L -o kali.appx https://aka.ms/wsl-kali-linux-new <br> Add-AppxPackage .\kali.appx <br> rm .\kali.appx</code> <br> <br>  Starten Sie die WSL-Konsole (die Distribution sollte im Startmen√º erscheinen, suchen Sie nach dem Namen der Distribution), warten Sie auf die Aufforderung, einen neuen Benutzer zu installieren, und schlie√üen Sie die Konsole. <br><br>  Jetzt sollte die Distribution in der Liste angezeigt werden, wenn sie in PowerShell ausgef√ºhrt wird: <br><br> <code>wsl -l -v</code> <br> <br>  Falls erforderlich, konvertieren Sie die Distribution in das WSL-Format der Version 2: <br><br> <code>wsl --set-version kali-linux 2 <br> wsl --set-default-version 2</code> <br> <br>  Machen Sie root zum Standardbenutzer (optional): <br><br> <code>kali config --default-user root</code> <br> <br>  Wenn Sie die Fehlermeldung <i>"Ein Verbindungsversuch ist fehlgeschlagen, weil der verbundene Teilnehmer nach einiger Zeit nicht richtig geantwortet hat, oder eine hergestellte Verbindung ist fehlgeschlagen, weil der verbundene Host nicht geantwortet hat."</i> Erhalten, haben Sie einen Build, in dem der n√§chste (bereits behoben) in neueren Releases) Fehler.  Wie √ºblich gibt es eine <a href="https://expertonsomething.com/2019/08/25/fixing-kali-linux-on-windows-wsl2/" rel="nofollow">Problemumgehung</a> , oder benutze die Ubuntu-Distribution, ich hatte keine Probleme damit, auch nicht die neueste Version des Builds. <br><br>  Bei Bedarf k√∂nnen Sie die virtuelle WSL-Festplatte gem√§√ü den <a href="https://github.com/MicrosoftDocs/WSL/issues/412" rel="nofollow">Anweisungen</a> auf eine andere Partition (anders als C :) verschieben.  Es ist besser, dies sofort zu tun, da nicht alles reibungslos verlaufen kann. <br><br>  <i>Haftungsausschluss zur Sicherheit</i> .  In der WSL und auf anderen Linux-Servern im Heimnetzwerk f√ºhre ich keine kritischen Systeme aus, und es gibt keine anderen Benutzer (au√üer mir) im Netzwerk, so dass ich fast √ºberall mit SSH-Authentifizierung √ºber Schl√ºssel zum Root gehe.  Ich wei√ü, dass dies nicht die beste Vorgehensweise ist, aber ich spreche von einer pers√∂nlichen Entwicklungsumgebung und sehe keinen Sinn darin, einen Nicht-Root-Benutzer zu erstellen.  In diesem Artikel werden Sicherheitsprobleme nicht ber√ºcksichtigt. Ich werde eines Tages dar√ºber schreiben (wie die Interaktion von Diensten √ºber TLS mit einer zentralen Zertifikatserneuerung in einem Heimnetzwerk organisiert wird; <i>Informationen</i> zur Synchronisierung <i>~ / .ssh / config</i> zwischen Servern, Weiterleitung) Ports und Schl√ºssel usw.). <br><br><h2>  WSL-Konfiguration </h2><br>  Ab Build <b>17093</b> befindet sich die Haupt-WSL-Konfigurationsdatei auf dem Distributionssystem FS unter <a href="https://devblogs.microsoft.com/commandline/automatically-configuring-wsl/" rel="nofollow">/etc/wsl.conf</a> . Sie beschreibt die Einstellungen, die bei jedem <a href="https://devblogs.microsoft.com/commandline/automatically-configuring-wsl/" rel="nofollow">Start</a> der Distribution angewendet werden: <br><br><ul><li>  Automount - Automatische Bereitstellung von Windows-Laufwerken </li><li>  Netzwerk - Erzeugen Sie resolv.conf-Dateien, Hosts </li><li>  Interop - Windows-Prozesse starten und Windows $ PATH zu Linux $ PATH hinzuf√ºgen </li></ul><br>  Anf√§nglich geht die WSL ohne diese Konfiguration, sie muss manuell registriert werden: <br><br> <code>[automount] <br> enabled = true <br> root = /mnt <br> options = "metadata,umask=22,fmask=11" <br> mountFsTab = true <br> <br> [network] <br> generateHosts = true <br> generateResolvConf = true <br> <br> [interop] <br> enabled = true <br> appendWindowsPath = true</code> <br> <br>  Einige Einstellungen werden mit dem Standardwert und mit <i>/etc/wsl.conf</i> leer verwendet. F√ºr den korrekten Betrieb mit den Dateien m√ºssen Sie jedoch mindestens den Parameter <i>options</i> registrieren. Andernfalls sind die Windows-Dateien mit 777-Berechtigungen ausgestattet und k√∂nnen unter Linux nicht ge√§ndert werden. <br><br><img src="https://habrastorage.org/webt/rq/ph/vb/rqphvbavjejp_g8ukkdldxlqklw.png"><br><br>  Sie k√∂nnen die Distribution √ºber PowerShell mit dem folgenden Befehl neu starten: <br><br> <code>wsl -t kali-linux</code> <br> <br>  Danach k√∂nnen Sie die Pakete aktualisieren und das Betriebssystem f√ºr sich selbst optimieren.  Ich werde nicht auf die Shell-Einstellungen und die Umgebung unter Linux eingehen, ich werde dies f√ºr den n√§chsten Artikel belassen. <br><br> <code>apt -y update &amp;&amp; apt -y upgrade</code> <br> <br><h2>  WSL 2-Dateisystem und Leistung </h2><br>  Dateien in WSL Version 2 werden auf der virtuellen VHDX-Festplatte gespeichert, ext4 wird als Dateisystem verwendet.  Sie k√∂nnen auf rootfs WSL √ºber einen Pfad in folgendem Format zugreifen: <br><br> <code>\\wsl$\{DistroName}\</code> <br> <br>  Sie k√∂nnen auch <i>"explorer.exe" eingeben.</i> In der CLI wird ein Windows-Browser im aktuellen Verzeichnis ge√∂ffnet. <br><br>  WSL Version 1 verwendete kein VHDX und hatte einfachen Zugriff auf das Verzeichnis, in dem sich die Linux-Dateien befanden, und Microsoft <a href="https://devblogs.microsoft.com/commandline/do-not-change-linux-files-using-windows-apps-and-tools/" rel="nofollow">riet nachdr√ºcklich davon ab</a> , Linux-Dateien von Windows zu √§ndern.  In der neuen Version von WSL wird der Zugriff auf den FS auf einer virtuellen Festplatte √ºber den Dateiserver von <a href="https://en.wikipedia.org/wiki/9P_(protocol)" rel="nofollow">Plan 9 Filesystem Protocol</a> bereitgestellt. <br><br><img src="https://habrastorage.org/webt/mr/x8/yh/mrx8yhmxos1hciyocyjn9lz-ki4.png"><br><br>  In fr√ºheren Versionen von WSL gab es Leistungsprobleme mit dem Dateisystem, weil Systemaufrufe √ºber die Windows-API emuliert wurden, der Dateizugriff langsam und instabil war.  Ende 2019 √§nderte WSL 2 seine Architektur und verwendete den nativen Linux-Kernel.  Gemessen an der Youtube-Pr√§sentation des <a href="https://www.youtube.com/watch%3Fv%3DlwhMThePdIo" rel="nofollow">neuen Windows-Subsystems f√ºr Linux: Bei einem tiefen Eintauchen</a> konnte die Leistung von Festplattenoperationen um das 2- bis 5-fache gesteigert werden. <br><br>  Die maximale Festplattenkapazit√§t ist auf 256 GB begrenzt. Wenn dieses Volumen √ºberschritten wird, m√ºssen Sie die Gr√∂√üe √§ndern. Die Anweisungen finden Sie in der <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-ux-changes" rel="nofollow">Dokumentation</a> . <br><br>  Die WSL hatte anfangs Probleme, Ressourcen freizugeben, nachdem sie RAM verwendet hatte.  Build 19013 l√∂ste dieses Problem.  Wenn Sie anspruchsvolle Aufgaben ausf√ºhren (z. B. das Zusammenstellen einer <a href="https://devblogs.microsoft.com/oldnewthing/20180717-00/%3Fp%3D99265" rel="nofollow">Rostanwendung</a> ), werden Sie feststellen, dass sich der <a href="https://devblogs.microsoft.com/oldnewthing/20180717-00/%3Fp%3D99265" rel="nofollow">Vmmem-</a> Prozess im oberen Bereich des Task-Managers befindet, der Speicherverbrauch in den letzten Versionen von WSL jedoch erheblich gesunken ist. <br><br><img src="https://habrastorage.org/webt/5k/pk/w0/5kpkw0g2rhtlk1sbvagf4o2md7w.gif"><br><br><h2>  Netzwerk </h2><br>  Der Hostname (Hostname) in Linux wird vom PC-Namen in Windows abgeleitet, unabh√§ngig davon, was in <i>/ etc / hostname</i> oder mit dem Befehl <i>hostnamectl set-hostname geschrieben ist</i> . <br><br>  Im Gegensatz zur ersten Version arbeitet das Netzwerk in WSL 2 √ºber einen virtuellen Hyper-V-Switch: <br><br> <code>‚ùØ‚ùØ ipconfig.exe | grep IPv4 <br> IPv4 Address. . . . . . . . . . . : 192.168.88.200 <br> IPv4 Address. . . . . . . . . . . : 172.31.160.1 <br> IPv4 Address. . . . . . . . . . . : 172.27.144.1 <br> <br> ‚ùØ‚ùØ ip -br -4 ad show dev eth0 <br> eth0       UP 172.27.150.196/20 <br> ‚ùØ‚ùØ ip ro list default <br> default via 172.27.144.1 dev eth0</code> <br> <br><img src="https://habrastorage.org/webt/jq/9j/wy/jq9jwydv7ac3lacnnqmgxtzajes.png"><br><br>  In diesem Fall wird das Netzwerk <i>172.27.144.0/20</i> unter WSL verwendet. Die erste Adresse ( <i>172.27.144.1</i> ) ist das Windows-Hostsystem. <br><br>  Unter Linux k√∂nnen Sie √ºber das Netzwerk auf Host-Dienste (unter Windows) zugreifen. Beispiel: <br><br> <code>‚ùØ‚ùØ nmap -p 3389 $(cat /etc/resolv.conf | grep nameserver | awk '{print $2}')</code> <br> <br>  Die Windows-IP-Adresse stammt aus <i>/etc/resolv.conf</i> und wird dort automatisch gem√§√ü den Einstellungen von <i>wsl.conf</i> generiert. <br><br>  Wenn Sie umgekehrt von einer Windows-Anwendung aus eine Verbindung zu einem Linux-Socket ben√∂tigen, m√ºssen Sie auf die IP-Adresse der WSL zugreifen.  Es gibt eine Einschr√§nkung: Unter Linux darf der Dienst nicht auf <i>localhost (127.0.0.1)</i> , sondern auf der Adresse <i>0.0.0.0 ausgef√ºhrt werden</i> .  Um beispielsweise den SOCKS5-Proxy schnell auf Ihren VPS zu heben, m√ºssen Sie SSH mit dem Parameter f√ºr die <i>dynamische Portweiterleitung</i> starten: <br><br> <code>‚ùØ‚ùØ ssh -D 0.0.0.0:2299 -N -f proxy.example.com</code> <br> <br>  Anschlie√üend registrieren Sie in der Windows-Anwendung, z. B. Chrome, als SOCKS5-Adresse nicht den lokalen Host, sondern die WSL-Adresse, in diesem Fall <i>172.27.150.196</i> .  √úbrigens wird es auf solch einfache Weise m√∂glich, den Datenverkehr √ºber VPS in Chrome zu tunneln und den Zugriff auf Websites √ºber IPv6 zu nutzen. <br><br><img src="https://habrastorage.org/webt/2-/lk/r6/2-lkr6hzsppfvp6siqjjacjiszm.gif"><br><br>  Linux √§ndert seine IP-Adresse jedes Mal nach einem Neustart. In Szenarien, in denen eine Port-Weiterleitung st√§ndig funktioniert und automatisch gestartet werden muss, m√ºssen Sie nach einer Problemumgehung suchen.  Es gibt viele M√∂glichkeiten, um dieses Problem zu l√∂sen. Sie k√∂nnen mehr in dieser <a href="https://github.com/microsoft/WSL/issues/4150" rel="nofollow">Ausgabe</a> √ºber Github lesen.  Ich habe das Dienstprogramm <a href="https://github.com/shayne/go-wsl2-host" rel="nofollow">go-wsl2-host verwendet</a> , das den Windows-Dienst implementiert, der der Windows <a href="https://github.com/shayne/go-wsl2-host" rel="nofollow">-Hostdatei</a> automatisch die WSL-IP-Adresse hinzuf√ºgt, sodass Sie einen Hostnamen wie <i>ubuntu.wsl</i> auf dem Hostsystem registrieren und auf Linux zugreifen k√∂nnen.  All diese Kr√ºcken funktionieren jedoch nicht sehr gut, und es bleibt abzuwarten, bis Microsoft diese Probleme behoben hat. <br><br><img src="https://habrastorage.org/webt/zj/tx/ow/zjtxowxg6epu4u7vfgoxki16z6k.png"><br><br>  <i>UPD</i>  W√§hrend ich diesen Artikel schrieb, stellte ich fest, dass es Updates (Build <a href="https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/" rel="nofollow">18945</a> ) gab, mit denen es m√∂glich wurde, √ºber Services √ºber <i>localhost</i> auf Services <a href="https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/" rel="nofollow">zuzugreifen</a> , die in WSL ausgef√ºhrt werden.  Es stellte sich heraus, dass es einen <a href="https://github.com/microsoft/WSL/issues/4353" rel="nofollow">Fehler gab,</a> aufgrund dessen er immer noch nicht f√ºr alle <b>funktionierte</b> . Der <a href="https://github.com/MicrosoftDocs/WSL/releases/tag/18970" rel="nofollow">Fix</a> im August-Build ist <b>18970</b> .  Da nicht jeder Updates erh√§lt, auch wenn ich Mitglied des Windows Insiders-Programms war, habe ich die Informationen nicht angepasst. Vielleicht hilft es jemandem, die Netzwerkinteraktion einzurichten. <br><br><h2>  OpenSSH unter Windows und Autostart-Dienste </h2><br>  Windows 10 wird wie Windows Server 2019 mit einem <a href="https://github.com/PowerShell/openssh-portable" rel="nofollow">OpenSSH-Zweig ausgeliefert</a> , der alle bekannten Dienstprogramme ssh-keygen, ssh-add, scp und andere enth√§lt, einschlie√ülich ssh-agent und sshd-server.  Sowohl der Client als auch der Server k√∂nnen √ºber <i>Apps&gt; Apps und Funktionen&gt; Optionale Funktionen verwalten installiert werden.</i> Die ssh-Clientversion ist jedoch nicht die neueste.  Ich stie√ü auf einen Fehler, der es <i>mir</i> nicht erm√∂glichte <i>, √ºber</i> den <i>Sprunghost</i> mit der <i>ProxyJump-</i> Option eine <i>Verbindung</i> zum Host <i>herzustellen,</i> und es stellte sich heraus, dass dieses Problem behoben war, ich musste jedoch das Client-SSH manuell aktualisieren.  Sie k√∂nnen die aktuelle Version von Win32 OpenSSH installieren, indem Sie zip aus dem Abschnitt " <a href="https://github.com/PowerShell/Win32-OpenSSH/releases/" rel="nofollow">Releases</a> " auf den Github herunterladen und entpacken, z. B. in <i>C: \ Programme \ OpenSSH</i> .  Die Drittanbieter-Software ssh.exe (z. B. im Remote-Entwicklungsmodus in VSCode) wird von <i>$ PATH</i> ( <i>% SYSTEMROOT% \ System32 \ OpenSSH \</i> ) <i>aufgerufen.</i> Sie m√ºssen die Umgebungsvariable √§ndern.  Umgebungsvariablen werden √ºber die GUI in <i>Start&gt; Bearbeiten der Systemumgebungsvariablen</i> ( <i>Start&gt; √Ñndern der Systemumgebungsvariablen</i> ) ge√§ndert. Dort m√ºssen Sie einen neuen Weg √ºber die alte Version setzen. <br><br>  Da Systemd in WSL nicht funktioniert, liegt ein Problem beim Starten von Diensten mit dem Systemstart vor.  Es gibt verschiedene M√∂glichkeiten, den automatischen Start von ssh-Servern in WSL zu konfigurieren. Am einfachsten ist es, im Taskplaner eine Aufgabe zu erstellen, in der Sie den Serverstartbefehl angeben k√∂nnen.  Im Internet finden Sie verschiedene <i>Startanweisungen</i> √ºber die Skripte <i>vbs</i> , <i>ps1</i> oder <i>bat</i> .  Das Problem bei fast allen Methoden ist, dass der Ausl√∂ser das Starten des Windows-Hauptbetriebssystems ist. Wenn die WSL abst√ºrzt und Sie das System neu starten m√ºssen ( <i>wsl -t</i> ), wird Linux gestartet, ohne dass ein Dienst ausgef√ºhrt wird.  Beim Start von Windows wird die WSL-Verteilung erst beim ersten Zugriff gestartet. <br><br>  Ich verwende den SSH-Server auf einem Laptop in der WSL, damit ich remote von Maschine zu Maschine wechseln kann.  Aufgrund der Tatsache, dass ich SSH-Portweiterleitungstechniken und eine gut durchdachte zentrale Konfiguration von SSH-Clients verwende, kann ich transparent zu allen meinen Servern wechseln und anstelle von Adressen einen Hostnamen eingeben.  Das hei√üt, auch wenn Sie einen der Laptops mit dem Mobilfunknetz verbinden, stellt der autossh-Daemon eine Verbindung zum Jump-Host her und ich kann immer noch zum Computer gehen, ohne dass NAT ein Hindernis ist.  Deshalb ist es f√ºr mich wichtig, dass sshd immer aktiv ist. <br><br><img src="https://habrastorage.org/webt/jv/wp/sk/jvwpsk57_p-g780dj2nrk_geutw.png"><br><br>  Die einzige M√∂glichkeit, auf SSH in WSL zuzugreifen, besteht darin, den SSH-Port weiterzuleiten.  Dies kann von der WSL selbst mit <i>RemoteForward</i> oder von einem anderen Server im Heimnetzwerk aus erfolgen.  Nur wenige Leute brauchen es, und dies ist bereits eine fortgeschrittene Stufe. Daher gebe ich nur einen Arbeitsbefehl: <br><br> <code>‚ùØ‚ùØ ssh -R '*:2363:*:22' -N -f mt.example.com</code> <br> <br>  <i>Wenn</i> Sie sich jetzt mit der Adresse <i>mt.example.com:2263 verbinden,</i> k√∂nnen Sie direkt zur WSL gelangen. <br><br>  Wenn Sie den SSH-Server in WSL <i>ausl√∂sen m√∂chten</i> , m√ºssen Sie die erforderlichen Server- <i>Startparameter</i> in <i>/ etc / ssh / sshd_config konfigurieren</i> .  Um Konflikte mit der Dienstbindung an Port 22 zu vermeiden, sollte der OpenSSH-Server in Windows deaktiviert oder vollst√§ndig entfernt werden, wenn er installiert ist ( <i>Apps&gt; Apps und Funktionen&gt; Optionale Funktionen verwalten</i> ). <br><br><h2>  X Weiterleitung </h2><br>  Es stellte sich als angenehm heraus, dass es in Windows 10 ein Dienstprogramm <i>clip.exe gibt</i> , mit dem Sie stdout direkt in die Windows-Zwischenablage umleiten k√∂nnen.  Dies ist bequem in Programmen wie tmux zu verwenden, und dank der Weiterleitung des X-Servers kann Text auch von Remote-Hosts kopiert werden.  Damit alles funktioniert, muss immer ein X-Server unter Windows ausgef√ºhrt werden und die Variable <i>$ DISPLAY</i> richtig eingestellt sein. <br><br>  Eine etwas langweilige Theorie.  Auf * nix-Systemen, auf denen X ausgef√ºhrt wird, gibt es verschiedene Arten von Zwischenablagen ( <i>prim√§re, sekund√§re, Zwischenablage</i> ). Im Kontext dieses Artikels ist dies nicht so wichtig, aber wichtig f√ºr ein allgemeines Verst√§ndnis des Arbeitsmechanismus.  Es gibt zwei Dienstprogramme (xclip und xsel) f√ºr die Arbeit mit Zwischenablagen unter Linux.  Beide Dienstprogramme haben √§hnliche Funktionen, in xsel ist sie etwas gr√∂√üer, aber die grundlegenden Funktionen, die zum Weiterleiten des Inhalts des Puffers ben√∂tigt werden, sind dieselben.  In X-Anwendungen f√§llt der ausgew√§hlte Text in die prim√§re Auswahl, er wird mit der mittleren Maustaste eingef√ºgt, in xclip und xsel wird standardm√§√üig die prim√§re Auswahl verwendet. <br><br>  Um beispielsweise den Inhalt einer Variablen in den Standardpuffer zu kopieren, m√ºssen Sie stdout ohne zus√§tzliche Parameter an stdin des Dienstprogramms xclip √ºbergeben: <br><br> <code>‚ùØ‚ùØ echo -n $DISPLAY | xclip</code> <br> <br>  F√ºhren Sie xclip mit der Option <i>-o aus</i> , um den Inhalt des Standardpuffers anzuzeigen: <br><br> <code>‚ùØ‚ùØ xclip -o <br> 172.20.160.1:0</code> <br> <br>  Damit die Zwischenablage √ºber den X-Server umgeleitet wird und <i>Grafikanwendungen</i> auf dem lokalen X-Server ausgef√ºhrt werden, m√ºssen Sie die IP-Adresse, die das Standardgateway f√ºr WSL ist, in der Variablen <i>$ DISPLAY festlegen</i> .  Bisher wurde nichts Besseres erfunden, als es aus der <i>resolv.conf</i> (die von Windows automatisch generiert wird) zu √ºbernehmen.  Daher ist es am einfachsten, den Export der Variablen <i>$ DISPLAY</i> im Shell-Profil zu registrieren (z. B. <i>~ / .zshrc</i> f√ºr zsh). <br><br> <code>‚ùØ‚ùØ echo "export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0" &gt;&gt; ~/.zshrc</code> <br> <br><img src="https://habrastorage.org/webt/wi/gx/yr/wigxyrt3e5yazd256qflh2z6fbu.gif"><br><br>  Als X-Server habe ich den freien <a href="https://sourceforge.net/projects/vcxsrv/" rel="nofollow">VcXsrv gew√§hlt</a> , er kann mit dem Buffer arbeiten, hat verschiedene Fensteranzeigemodi und wird von der Kommandozeile aus mit den vorgegebenen Optionen gestartet.  <a href="https://gist.github.com/stowler/9921780" rel="nofollow">√úber den Link zum Hauptmen√º sehen</a> Sie alle Optionen. <br><br>  Sie k√∂nnen im Taskplaner eine Autorun-Task f√ºr den X-Server wie folgt erstellen: <br><br> <code>Triggers: At startup <br> Actions: Start a program <br> ____Program: "%ProgramFiles%\VcXsrv\vcxsrv.exe" <br> ____Arguments: -wgl -dpi auto -ac -multiwindow</code> <br> <br><h2>  SSH-Schl√ºssel </h2><br>  Damit Windows-Programme SSH-Schl√ºssel verwenden k√∂nnen (z. B. einen Editor bei der Arbeit mit einem entfernten GitHub-Repository) und gleichzeitig keine zweite Kopie von Schl√ºsseln in WSL vorhanden ist, ist es am besten, Schl√ºssel in Windows <i>% HOMEPATH% /</i> .Ssh zu generieren und Symlinks im Home-Bereich zu erstellen WSL-Verzeichnisse. <br><br> <code>ssh-keygen -f /mnt/c/Users/${WIN_USER}/.ssh/id_rsa -b 4096 <br> ln -sf /mnt/c/Users/${WIN_USER}/.ssh/id_rsa ${HOME}/.ssh/id_rsa <br> ln -sf /mnt/c/Users/${WIN_USER}/.ssh/id_rsa.pub ${HOME}/.ssh/id_rsa.pub</code> <br> <br>  Oder Sie k√∂nnen in <i>~ / .ssh / config</i> den Parameter <i>IdentityFile</i> angeben, indem Sie den Pfad zu den Schl√ºsseln auf der Windows-Festplatte angeben: <br><br> <code>Host * <br> IdentityFile /mnt/c/Users/${WIN_USER}/.ssh/id_rsa</code> <br> <br>  Wenn die Schl√ºssel von irgendwoher kopiert wurden und die Dateiberechtigungen nicht korrekt eingestellt sind, korrigieren Sie die Berechtigungen: <br><br> <code>chmod 600 /mnt/c/Users/${WIN_USER}/.ssh/id_rsa <br> chmod 644 /mnt/c/Users/${WIN_USER}/.ssh/id_rsa.pub <br> chmod 700 /mnt/c/Users/${WIN_USER}/.ssh</code> <br> <br><img src="https://habrastorage.org/webt/d0/lf/da/d0lfda3xlur_aq6pphygb_rcvoc.png"><br><br>  Wenn Sie also den <a href="https://habr.com/ru/post/122445/">Zugriff mit SSH-Schl√ºsseln</a> weiter einstellen <a href="https://habr.com/ru/post/122445/">, wird der</a> Benutzer sowohl bei Windows- als auch bei Linux-Anwendungen durch einen Schl√ºsselsatz an einer Stelle eindeutig identifiziert.  Jetzt k√∂nnen Sie den √∂ffentlichen Schl√ºssel zu den Servern / Diensten hinzuf√ºgen, auf denen Sie von diesem Computer gehen m√ºssen.  Wenn andere Ger√§te im Heimnetzwerk SSH-Zugriff ben√∂tigen, ist es korrekt, Ihren √∂ffentlichen Schl√ºssel auf diese Server zu kopieren ( <i>ssh-copy-id</i> ), Sie m√ºssen jedoch nicht die Schl√ºssel von einem Server auf einen anderen kopieren.  Da es m√∂glich (und erforderlich) ist, ssh-agent bei der Arbeit √ºber SSH zu verwenden, achtet der Agent bei der Verbindung von einem Server zu einem anderen darauf, dass die Autorisierung f√ºr den weitergeleiteten Schl√ºssel erfolgt.  Damit alles ordnungsgem√§√ü und wie erwartet funktioniert, m√ºssen Sie sich um die Datei <a href="https://www.ssh.com/ssh/config/" rel="nofollow"><i>~ / .ssh / config k√ºmmern</i> ,</a> in der Sie alle erforderlichen Optionen registrieren m√ºssen. <br><br> <code>Host * <br> TCPKeepAlive             yes <br> ServerAliveInterval         30 <br> ServerAliveCountMax         3 <br> ForwardAgent             yes <br> AddKeysToAgent            yes <br> ForwardX11              yes <br> ForwardX11Trusted          yes</code> <br> <br><h1>  Welches Terminal f√ºr Linux unter Windows ausgew√§hlt werden soll </h1><br>  Zun√§chst m√∂chte ich einen kleinen √úberblick √ºber vorhandene Terminal-Shells f√ºr Windows geben, auf denen WSL ausgef√ºhrt werden kann.  Unter Benutzern ist der funktionale <a href="https://mobaxterm.mobatek.net/" rel="nofollow">MobaXterm-</a> Prozessor <a href="https://mobaxterm.mobatek.net/" rel="nofollow">beliebt</a> , mit dem verschiedene Sitzungen erstellt werden k√∂nnen, einschlie√ülich grafischer Sitzungen (WSL, Bash / Zsh, Mosh, RDP, VNC usw.), mit denen Sie Makros erstellen und Skripte ausf√ºhren k√∂nnen. ssh agent, autorun ssh port forwarding und hat sogar einen eingebauten ftp / tftp / http server, aber das produkt ist closed source und dar√ºber hinaus bezahlt.  <a href="https://github.com/zeit/hyper" rel="nofollow">Hyper</a> ist ein weiterer, moderner Terminal-Emulator, mit dem Sie die WSL-Shell ausf√ºhren k√∂nnen. Das Terminal basiert auf HTML / JS / CSS und wird mithilfe von Plug-Ins in Form von node.js-Modulen erweitert ( <a href="https://github.com/bnb/awesome-hyper" rel="nofollow">fantastische Liste</a> ).  Es gibt andere Terminals, mit denen Sie WSL mit unterschiedlichem Ausma√ü an Kr√ºcken <a href="https://conemu.github.io/en/BashOnWindows.html" rel="nofollow">ausf√ºhren</a> k√∂nnen ( <a href="https://conemu.github.io/en/BashOnWindows.html" rel="nofollow">ConEmu</a> , sein Fork <a href="https://jackwarren.info/blog/cmder" rel="nofollow">Cmder</a> , <a href="https://github.com/mintty/wsltty" rel="nofollow">WSLtty</a> usw.), aber ich werde sie unbeaufsichtigt lassen. <br><br><img src="https://habrastorage.org/webt/ur/ih/v9/urihv91z1zuherlcqddg_fkl9q0.png"><br><br>  In diesem Artikel werden wir weiter auf das <b>Windows-Terminal eingehen</b> , auf das ich k√ºrzlich umgestiegen bin, und bis jetzt erlebe ich nur positive Emotionen.  <a href="https://github.com/microsoft/terminal" rel="nofollow">Terminal</a> befindet sich noch in der Beta, funktioniert aber recht stabil.  Von den derzeit implementierten Funktionen Multitab, Trennung von Panels (Aufteilen), benutzerdefinierten Profilen von Terminalverbindungen, Farbschemata gibt es nichts mehr aufzulisten.  Aber diese Funktionalit√§t reicht v√∂llig aus, mir gef√§llt auch, dass die Software nicht √ºberfl√ºssig wird - als ob sich die Entwickler an das <a href="https://en.wikipedia.org/wiki/KISS_principle" rel="nofollow">KISS-</a> Prinzip halten. <br><br>  Das Terminal wurde aus dem Windows Console-Projekt (ConPTY) entwickelt und lernte, wie ANSI / VT-Sequenzen, 24-Bit-RGB-True Color und UTF-8 unterst√ºtzt werden.  Folgen Sie den Links ( <a href="https://habr.com/ru/post/417679/">Anfang</a> , <a href="https://habr.com/ru/post/420853/">Fortsetzung</a> ) auf Habr√©, einer wundervollen √úbersetzung einer Reihe von <a href="https://devblogs.microsoft.com/commandline/windows-command-line-the-evolution-of-the-windows-command-line/" rel="nofollow">Windows-Befehlszeilen-</a> Blogposts <a href="https://devblogs.microsoft.com/commandline/windows-command-line-the-evolution-of-the-windows-command-line/" rel="nofollow">: In der Windows-Konsole</a> , die √ºber die Entstehungsgeschichte von Terminals, verwandte Standards f√ºr die √úbertragung von Escape-Sequenzen, Codepages, Unicode, die Entstehung von Terminalemulatoren und die Zukunft informiert schon eine evolution der windows befehlszeile.  Technologen k√∂nnten interessiert sein.  Das Entwicklerteam, das an diesem Open Source-Projekt arbeitet, verwaltet das <a href="https://devblogs.microsoft.com/commandline/" rel="nofollow">Windows-Befehlszeilen-</a> Devlog, das mehr als nur f√ºr WSL und Windows Terminal vorgesehen ist.  Ich h√§tte vorher nie geglaubt, dass ich die Entwicklung von MS-Produkten mit Interesse verfolgen w√ºrde, aber was sie als Teil der Entwicklung von WSL, Terminal und VSCode tun, verdient wirklich Respekt.  Wie die Entwicklung der WSL begann, wird in <a href="https://medium.com/microsoft-open-source-stories/when-linux-came-to-windows-204cf9abb3d6" rel="nofollow">Microsoft Open Source Stories</a> (es gibt eine <a href="https://habr.com/ru/company/ruvds/blog/461663/">√úbersetzung</a> auf Habr√©) beschrieben.  Microsoft ist √ºbrigens seit 2016 Platin-Mitglied der <a href="https://en.wikipedia.org/wiki/Linux_Foundation" rel="nofollow">Linux Foundation</a> . <br><br><h2>  Installieren und konfigurieren Sie Windows Terminal </h2><br>  Sie k√∂nnen Windows Terminal aus dem <a href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701" rel="nofollow">Windows Store</a> installieren oder die Bin√§rdatei aus dem Abschnitt " <a href="https://github.com/microsoft/terminal" rel="nofollow">Releases</a> " auf den Github des Projekts herunterladen. Dort finden Sie auch alle relevanten Informationen, Anweisungen und h√§ufig gestellten Fragen.  Das Terminal ben√∂tigt mindestens eine Version von Windows 1903 und Build <b>18362</b> .  Die Installation sollte vorzugsweise √ºber den Windows Store erfolgen, da in diesem Fall die Aktualisierung direkt √ºber den Store einfacher ist.  Updates werden regelm√§√üig ver√∂ffentlicht, eine <a href="" rel="nofollow">Roadmap der</a> ersten Version des Terminals ist auf dem Github hinterlegt.  Momentan sind alle Funktionen von Version 1 bereits implementiert (laut Plan, um alle Verbesserungen bis Ende 2019 umzusetzen), dann sind einige Monate Arbeit zur Behebung von Fehlern und im April 2020 die offizielle Ver√∂ffentlichung von Terminal v1.0 geplant.  Es ist sch√∂n, dass MS jetzt auf dem Github ist, ihre Software hat gelernt, Protokolle anzuzeigen, verst√§ndliche Fehler und Probleme sind leicht zu googeln. <br><br><img src="https://habrastorage.org/webt/7_/cq/fq/7_cqfq2i_s0nos7pbtekj6yfsam.png"><br><br>  Es gibt noch nicht viele Einstellungen im Terminal, aber sie reichen f√ºr ein komfortables Arbeiten aus. Das Produkt wird aktiv weiterentwickelt. Auf <a href="https://github.com/microsoft/terminal" rel="nofollow">Github</a> k√∂nnen Benutzer eine Funktionsanforderung oder einen Fehlerbericht erstellen.  Entwickler diskutieren Probleme mit Benutzern und bieten h√§ufig Umgehungsm√∂glichkeiten an, wenn ein Fehler entdeckt wird. <br><br><img src="https://habrastorage.org/webt/im/7g/wk/im7gwk7y4ow-_wt4heedfu6iovg.png"><br><br>  Die Konfiguration wird im json-Format gespeichert und nach dem Speichern sofort angewendet.  Dies ist nur deshalb praktisch, weil Sie bew√§hrte Methoden f√ºr die Verwaltung der Konfiguration der Arbeitsumgebung anwenden k√∂nnen. Ich speichere alle Linux-Konfigurationen im Git-Repository. Unter Windows verwende ich nur VSCode aus dem Arbeitstool, mit dem die Konfiguration √ºber github gist synchronisiert werden kann, und speichere die lokale Arbeitsbereichskonfiguration separat in Punktdateien .  Das Terminal bewegt sich also in dieselbe Richtung und verwendet dieselben Hotkeys und das Konfigurationsformat wie VSCode.  √úbrigens ist das Bearbeiten einer Konfiguration √ºber VSCode praktisch, insbesondere wenn Sie diesen hervorragenden Editor von MS bereits verwenden.  Die Terminalkonfigurationsdatei enth√§lt bereits viele Standardeinstellungen, und mit dem richtigen Editor k√∂nnen Sie alle Optionen mit einer Beschreibung der <i>Schl√ºssel-</i> und Wertoptionen aus dem <a href="" rel="nofollow">Schema anzeigen</a> (dies ist besonders praktisch, wenn das Projekt noch nicht vollst√§ndig dokumentiert ist).  Au√üerdem sind alle IDE-Chips in Form von Auto-Vervollst√§ndigung, Intellisense, Syntaxpr√ºfung, Formatierung usw. verf√ºgbar. <br><br><img src="https://habrastorage.org/webt/3v/sb/6t/3vsb6tsivv0vahxtqjr608db1pw.gif"><br><br>  Die Dokumentation f√ºr Entwickler ist <a href="https://github.com/microsoft/terminal/tree/master/doc" rel="nofollow">hier</a> verf√ºgbar, aber <a href="" rel="nofollow">hier</a> ist eine kleine Seite mit Dokumentation f√ºr Benutzer.  Eine separate <a href="" rel="nofollow">Seite ist</a> den Einstellungen gewidmet, die in die json-Konfigurationsdatei geschrieben sind.  Von dort k√∂nnen Sie feststellen, dass die Einstellungen strukturell unterteilt sind in: <br><br><ul><li>  Global (Standardprofil, Anfangsgr√∂√üe des Terminalfensters, Thema usw.) </li><li>  Schl√ºsselbindungen </li><li>  Profile (Einstellungen f√ºr jedes Terminal) </li><li>  Schemata (Farbschemata) </li></ul><br>  Es gibt so etwas wie dynamische Profile, sie erscheinen automatisch in der Konfiguration und haben die Eigenschaft <i>source</i> .  Dies gilt f√ºr Distributionen von WSL und Azure Cloud Shell.          WSL (, Ubuntu),  <a href="http://new-guid.com/" rel="nofollow"> GUID</a>     ,  <i>source</i> ,    <i>commandline</i>  <i>wsl -d {DistroName}</i> . <br><br><h2>  Schriften </h2><br>   -  ,          .   : <br><br><ul><li> <a href="https://github.com/tonsky/FiraCode" rel="nofollow">Fira Code</a> </li><li> <a href="https://github.com/source-foundry/Hack" rel="nofollow">Hack</a> </li><li> <a href="https://github.com/powerline/fonts" rel="nofollow"></a> <a href="https://github.com/ryanoasis/nerd-fonts" rel="nofollow"></a>   </li></ul><br>     Fira Code   ,    .    ,     CLI    , ,          . <br><br><img src="https://habrastorage.org/webt/rc/ol/7e/rcol7evvrk6zvv1bznu8v1e--is.png"><br><br>    Windows     .          github releases       . <br><br>    (  <i>fontFace</i> )        <i>Character Map</i> ( <i> </i> ).  ,  <i>Start -&gt; Settings -&gt; Personalization -&gt; Fonts</i>  ,      ,   ,   . <br><br><img src="https://habrastorage.org/webt/vs/qx/te/vsqxtekvqzfwcrrxstgn9wueycy.png"><br><br><h2>  Fazit </h2><br>    ,         ,    Windows Terminal   WSL.           ZSH  tmux,        VM   dotfiles  .      ,        /  /  .       <a href="https://docs.docker.com/docker-for-windows/wsl-tech-preview/" rel="nofollow">Docker  WSL 2</a> ,          ,       . <br><br>  ,    ,        -  .  - ,  ,     .   -   ,   ,      . <br><br><h2>  Referenzen </h2><br><ul><li> <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/" rel="nofollow">Announcing WSL 2</a> (devblogs.microsoft.com) </li><li> <a href="https://devblogs.microsoft.com/commandline/wsl-2-is-now-available-in-windows-insiders/" rel="nofollow">WSL 2 is now available in Windows Insiders</a> (devblogs.microsoft.com) </li><li> <a href="https://devblogs.microsoft.com/commandline/memory-reclaim-in-the-windows-subsystem-for-linux-2/" rel="nofollow">Memory Reclaim in the Windows Subsystem for Linux 2</a> (devblogs.microsoft.com) </li><li> <a href="https://devblogs.microsoft.com/commandline/automatically-configuring-wsl/" rel="nofollow">Automatically Configuring WSL</a> (devblogs.microsoft.com) </li><li> <a href="" rel="nofollow">wsl2-tutorial</a> (github.com) </li><li> <a href="" rel="nofollow">Terminal v1.0 Roadmap</a> (github.com) </li><li> <a href="" rel="nofollow">Editing Windows Terminal JSON Settings</a> (github.com) </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481746/">https://habr.com/ru/post/de481746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481734/index.html">Erfahrung mit Kartendruckern, Teil 1</a></li>
<li><a href="../de481736/index.html">Worauf kann die Wi-Fi 6-Infrastruktur aufgebaut werden?</a></li>
<li><a href="../de481738/index.html">Programmieraufgaben - Ein schlechter Weg, um die Qualifikationen von Senior-Entwicklern zu bewerten</a></li>
<li><a href="../de481740/index.html">Beeintr√§chtigt blaues Licht den menschlichen Biorhythmus?</a></li>
<li><a href="../de481742/index.html">Apple-Strategie. Betriebssystem an Hardware binden - Wettbewerbsvorteil oder -nachteil?</a></li>
<li><a href="../de481748/index.html">Vorteilspaket in Armenien: von der Versicherung √ºber den Empfehlungsbonus bis hin zu Massagen und Darlehen</a></li>
<li><a href="../de481750/index.html">Aufgabennummer 3. Datenkonvertierung und Upload zu Diensten Dritter</a></li>
<li><a href="../de481752/index.html">Ergebnisse der Sprachumfrage</a></li>
<li><a href="../de481754/index.html">Ich Bot und meine Ahle</a></li>
<li><a href="../de481756/index.html">Wie organisiere ich DDoS f√ºr gute Zwecke?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>