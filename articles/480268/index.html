<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤹🏽 👨🏿‍🚀 🥘 Biblioteca Java de código abierto con filtrado de seguimiento de pila, análisis de cadenas silenciosas y comparación de versiones 🚶🏾 💋 🗺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante algún tiempo en diferentes trabajos, me encontré con la necesidad de varias utilidades que no pude encontrar disponibles en ese momento. Y vi ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Biblioteca Java de código abierto con filtrado de seguimiento de pila, análisis de cadenas silenciosas y comparación de versiones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480268/"> Durante algún tiempo en diferentes trabajos, me encontré con la necesidad de varias utilidades que no pude encontrar disponibles en ese momento.  Y vi que los necesitaba varias veces una y otra vez.  Entonces escribí mi propia biblioteca pequeña que encontré muy útil.  Así que lo publiqué como una biblioteca Java de código abierto. <br><br>  <a href="https://github.com/michaelgantman/Mgnt/releases">Aquí está el enlace de Github</a> <br><br>  <a href="http://michaelgantman.github.io/Mgnt/docs">Javadoc en línea está disponible aquí</a> <br><br>  Además, esta biblioteca está disponible en Maven Central.  Estos son los artefactos de Maven (la versión 1.5.0.8 es la más reciente al momento de escribir este artículo, pero podría cambiar en el futuro. Para verificar la última versión, busque el artefacto "MgntUtils" en <a href="http://search.maven.org/">http: //search.maven. org /</a> ): <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>javadoc<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>sources<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  A continuación hay una breve explicación de lo que hay allí.  La biblioteca viene con un JavaDoc bien escrito (espero) con una descripción detallada.  Así que aquí está la lista de características: <br><a name="habracut"></a><br><h3>  Filtro de ruido Stacktrace </h3><br>  En mi experiencia, esta característica fue la más genérica y útil para mí.  Stacktrace es un salvavidas al depurar o tratar de averiguar qué salió mal en su aplicación.  Sin embargo, cuando trabaje con registros en el lado del servidor, puede encontrar un enorme stacktrace que contiene la cola inútil más larga de varios marcos y paquetes relacionados con Application Server.  Y en algún lugar de este montón, hay varias líneas de una traza relevante y pueden estar en diferentes segmentos separados por información inútil.  Se convierte en una pesadilla buscar cosas relevantes.  Aquí hay un enlace que describe el mismo problema con ejemplos de la vida real (no para los pusilánimes) <a href="https://dzone.com/articles/filtering-stack-trace-hell">https://dzone.com/articles/filtering-stack-trace-hell</a> .  Entonces, en mi biblioteca, hay una clase llamada <i>TextUtils</i> y tiene el método <i>getStacktrace ()</i> con varias firmas sobrecargadas.  Toma una instancia de Throwable y permite establecer un prefijo de paquete de los paquetes que son relevantes. <br><br>  Además, la misma utilidad (a partir de la versión 1.5.0.3) tiene el método <i>getStacktrace ()</i> que toma la interfaz CharSequence en lugar de Throwable y, por lo tanto, permite filtrar y acortar el stacktrace almacenado como una cadena de la misma manera que un stacktrace extraído de Throwable.  Por lo tanto, esencialmente los seguimientos de pila se pueden filtrar "sobre la marcha" en tiempo de ejecución o más tarde desde cualquier fuente de texto, como un registro.  (Solo para aclarar: la utilidad no admite el análisis y la modificación de todo el archivo de registro. Admite el filtrado de solo un stacktrace que se pasa como una Cadena. Por lo tanto, si alguien quiere filtrar excepciones en el archivo de registro, tendría que analizar el archivo de registro y extraer stacktrace (s) como cadenas separadas y luego puede usar esta utilidad para filtrar cada stacktrace individual). <br><br>  Aquí hay un ejemplo de uso.  Supongamos que el código de su empresa siempre reside en paquetes que comienzan con "com.plain. *". Así que establezca dicho prefijo y haga esto <br><br><pre> <code class="java hljs">logger.info(TextUtils.getStacktrace(e,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>));</code> </pre> <br>  esto filtrará de manera muy inteligente todas las partes inútiles de la traza, dejándolo con una traza de pila muy concisa.  Además, me pareció muy conveniente preestablecer el prefijo y luego usar el método de conveniencia <br><br><pre> <code class="java hljs">TextUtils.getStacktrace(e);</code> </pre> <br>  Hará lo mismo.  Para preestablecer el prefijo solo use el método <br><br><pre> <code class="java hljs">setRelevantPackage(<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>);</code> </pre> <br>  Si desea preestablecer este valor mediante la configuración, a partir de la versión de biblioteca 1.1.0.1, puede establecer la Variable de entorno " <b>MGNT_RELEVANT_PACKAGE</b> " o la Propiedad del sistema " <b>mgnt.relevant.package</b> " en el valor " <i>com.plain</i> " <i>.</i> Y la propiedad se establecerá en ese valor sin invocar el método <i>TextUtils.setRelevantPackage ("com.plain.");</i>  explícitamente en su código.  Tenga en cuenta que el valor de la propiedad del sistema tendría prioridad sobre la variable de entorno si ambos estuvieran establecidos.  Solo un recordatorio de que con la propiedad del sistema puede agregarlo en su línea de comando usando la bandera -D: <br><br>  "-Dmgnt.relevant.package = com.plain". <br><br>  Además, si utiliza una versión anterior a la 1.1.0.1 de esta biblioteca o no desea utilizar la variable de entorno o la propiedad del sistema mencionada anteriormente y está utilizando el entorno Spring, puede preestablecer el prefijo agregando el siguiente segmento a su configuración Spring: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.beans.factory.config.MethodInvokingFactoryBean"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetClass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.mgnt.utils.TextUtils"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetMethod"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setRelevantPackage"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arguments"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.plain."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Javadoc explica todo en detalle.  Pero aquí hay un pequeño adelanto: obtendrá un seguimiento de pila siguiente: <br><br><pre> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() ... at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() ... at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br>  en lugar de <br><br><pre> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed() at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() at sun.reflect.NativeMethodAccessorImpl.invoke() at sun.reflect.DelegatingMethodAccessorImpl.invoke() at java.lang.reflect.Method.invoke() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod() at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.AbstractTraceInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.transaction.interceptor.TransactionInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept() at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br><h3>  Análisis de cadena silenciosa en entero, largo, etc. </h3><br>  La misma clase <i>TextUtils</i> proporciona métodos para analizar String de forma silenciosa (sin excepción alguna), en tipos de Double, Long, Integer, Short y Byte.  Los métodos se llaman <i>parseStringToLong ()</i> <i>parseStringToInteger ()</i> etc.  Todos toman 4 argumentos: <br><br><ol><li>  Una cadena para ser analizada </li><li>  Una implementación de Número (Doble, Largo, Entero, Corto o Byte) para servir como valor predeterminado si ocurriera algún problema de análisis </li><li>  Una cadena que se imprimirá como mensaje de error en el registro si el primer argumento es nulo (puede ser nulo y luego no se imprime ningún error) </li><li>  Una cadena que se imprimirá como mensaje de error si se produjo NumberFormatException (puede ser nulo y no se imprime ningún error) </li></ol><br><h3>  Análisis de cadena a intervalo de tiempo </h3><br>  En la misma clase <i>TextUtils</i> , hay un método <i>parseStringToTimeInterval (valor de cadena)</i> .  Este método analiza una cadena que se espera que contenga algún valor de intervalo de tiempo, un valor numérico con sufijo de unidad de tiempo opcional.  Por ejemplo, la cadena "38s" se analizará como 38 segundos, "24m" - 24 minutos "4h" - 4 horas, "3d" - 3 días y "45" como 45 milisegundos.  Los sufijos admitidos son " <b>s</b> " por segundos, " <b>m</b> " por minutos, " <b>h</b> " por horas y " <b>d</b> " por días.  Se considera que una cadena sin sufijo contiene un valor en milisegundos.  Los sufijos no distinguen entre mayúsculas y minúsculas.  Si la cadena proporcionada contiene un sufijo no admitido o contiene un valor numérico negativo o cero o contiene un valor no numérico, se genera IllegalArgumentException.  Este método devuelve la clase TimeInterval, una clase también definida en esta biblioteca.  Esencialmente, posee dos propiedades con getters y setters relevantes: "value" largo y java.util.concurrent.TimeUnit.  Pero además de getters y setters, esta clase tiene métodos <i>toMillis ()</i> , <i>toSeconds ()</i> , <i>toMinutes ()</i> , <i>toHours ()</i> <i>toDays ()</i> .  Esos métodos devuelven un valor largo en la escala de tiempo especificada (de la misma manera que los métodos correspondientes en la clase <i>java.util.concurrent.TimeUnit</i> ) <br><br>  Este método puede ser muy útil para analizar las propiedades del intervalo de tiempo, como los tiempos de espera o los períodos de espera de los archivos de configuración.  Elimina cálculos innecesarios de diferentes escalas de tiempo a milisegundos de ida y vuelta.  Tenga en cuenta que tiene una propiedad <b>methodInvokingInterval</b> que debe establecer durante 5 días.  Por lo tanto, para establecer el valor de milisegundos, deberá calcular que 5 días son 432000000 milisegundos (obviamente no es una tarea imposible pero molesta y propensa a errores) y luego cualquier otra persona que vea el valor 432000000 tendrá que volver a calcularlo en 5 días que es frustrante.  Pero usando este método tendrá un valor de propiedad establecido en "5d" e invocando el código <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">long</span></span> milliseconds = TextUtils.parsingStringToTimeInterval(<span class="hljs-string"><span class="hljs-string">"5d"</span></span>).toMillis();</code> </pre> <br>  Resolverá su problema de conversión.  Obviamente, esta no es una característica demasiado compleja, pero podría agregar simplicidad y claridad en sus archivos de configuración y ahorrar algo de frustración y error de cálculo "estúpido" en errores de milisegundos. <br><br><h3>  Comparar versiones </h3><br>  Esta utilidad permite convertir String a versión y viceversa y comparar versiones y rangos de versión correctamente.  A menudo, si necesita comparar versiones, simplemente compara las cadenas.  Entonces, digamos que la versión "1.5.3" será mayor que la versión "1.3.1".  Sin embargo, si compara las cadenas "1.4.2" y "1.12.3", la cadena "1.4.2" será erróneamente mayor.  Por lo tanto, esta utilidad se ocupa de dicho problema y, además, presenta la clase VersionRange y permite operaciones en rangos de versiones.  (Vea los métodos <i>compareVersions</i> en la clase <i>TextUtils</i> y la clase <i>VersionRange</i> ) <br><br><h3>  Convertidor de cadenas Unicode </h3><br>  Class <i>StringUnicodeEncoderDecoder</i> tiene métodos que pueden convertir una cadena (en cualquier idioma) en una secuencia de caracteres Unicode y viceversa.  Por ejemplo, una cadena "Hello World" se convertirá en <br><br>  "\ u0048 \ u0065 \ u006c \ u006c \ u006f \ u0020 \ u0057 \ u006f \ u0072 \ u006c \ u0064" <br><br>  y puede ser restaurado de nuevo. <br><br><h3>  Gestión del ciclo de vida (fábricas auto-instanciadas) </h3><br>  Esta característica es un paquete que contiene una pequeña infraestructura que simplifica y automatiza el trabajo con fábricas que proporcionan implementaciones concretas de una interfaz.  El paquete contiene solo 2 clases: <i>BaseEntityFactory</i> y <i>BaseEntity</i> .  En resumen, lo que hace esta infraestructura es que si crea una fábrica que extiende <i>BaseEntityFactory</i> y alguna interfaz con todas sus implementaciones concretas que extienden <i>BaseEntity</i> , cada una de sus instancias de clase de implementación concretas se insertará automáticamente en su fábrica.  No tendrá que preocuparse por cómo y cuándo poblar su fábrica.  La infraestructura lo hará por usted cuando se invoque al constructor de su clase de implementación concreta.  Entonces, todo lo que tendrá que hacer es crear cualquier número de clases de implementación concretas y asegurarse de que se invoque para cada constructor.  Después de eso, puede usar su fábrica para obtener cualquiera de sus clases de implementación concretas en cualquier parte de su código.  Esta es una breve explicación.  Hay algunos detalles más pero no tantos.  Para obtener una descripción detallada de este paquete, consulte la API Javadoc del paquete <b>com.mgnt.lifecycle.management</b> description.  Además, el código fuente contiene el paquete com.mgnt.lifecycle.management.example que contiene ejemplos de código bien comentados y detallados sobre cómo usar esta función. <br><br>  En cuanto al uso práctico, lo encontré muy útil para el framework Spring.  Recuerde que Spring crea una instancia de todos los beans definidos durante su inicialización.  Entonces, dentro del contexto de Spring, si simplemente declaramos nuestras implementaciones concretas como Spring beans, Spring las instanciaría por nosotros, inicializando así su fábrica automáticamente.  Esto podría ser muy conveniente.  Imagine que tiene algún bean que tiene una propiedad del tipo de interfaz definida por el usuario que tiene varias implementaciones, pero qué implementación real sería necesaria se determina en tiempo de ejecución.  Entonces, en ese momento, puede usar el método <i>getInstance (java.lang.String)</i> de su Factory para acceder a la implementación necesaria.  Esto le permitirá no inyectar TODAS sus instancias concretas en su bean y no tendrá que usar Spring <i>Bean Factory</i> para acceder a un bean definido por Spring ya que eso violaría la no intrusión de Spring (lo que significa que puede escribir componentes que no dependen de Primavera).  Además, si en algún momento posterior necesita agregar implementaciones más concretas, todo lo que tendrá que hacer es agregar sus clases de implementación a su código y declararlas como beans Spring.  ¡El resto lo hará Spring y esta infraestructura! <br><br><h3>  Utilidades de archivo </h3><br>  Esta utilidad permite leer un archivo como una cadena con o sin especificar el conjunto de caracteres o simplemente leerlo como una matriz de bytes.  Esta utilidad utiliza nio package y Buffers para un rendimiento más rápido.  El tamaño máximo de archivo para esta utilidad es 2G. <br><br><h3>  Tiempo util </h3><br>  Este es solo un método de conveniencia único que proporciona la misma funcionalidad que Thread.sleep () pero es silencioso.  Es decir, "traga" IterruptedException.  Además, se necesitan 2 argumentos: tiempo para dormir y unidad de medida.  Entonces en lugar de <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Thread.sleep(<span class="hljs-number"><span class="hljs-number">2000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException ie) { }</code> </pre> <br>  Solo puedes escribir: <br><br><pre> <code class="java hljs">TimeUtils.sleepFor(<span class="hljs-number"><span class="hljs-number">2</span></span>, TimeUnit.SECONDS);</code> </pre> <br>  Pensé que era lindo <br><br>  Entonces esto es todo.  Siéntase libre de descargar esta biblioteca.  Viene con la licencia MIT, una de las licencias más permisivas que conozco.  El código fuente, Javadoc y la versión binaria están disponibles en el enlace de arriba.  El código fue compilado por JDK 8 pero no tiene características de la versión 8.  Definitivamente debería funcionar con Java 7, sospecho que funcionará con Java 6 e incluso 5, pero no lo he probado con esas versiones.  Siéntase libre de usarlo como mejor le parezca, cuénteles a los demás si lo desea y no dude en enviarme una nota a michael_gantman@yahoo.com si tiene algún comentario. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/480268/">https://habr.com/ru/post/480268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../480256/index.html">Sobrescritura de archivos Java</a></li>
<li><a href="../480258/index.html">Reaccionar init nativo vs Expo</a></li>
<li><a href="../480262/index.html">Java Digest para el 14 de diciembre</a></li>
<li><a href="../480264/index.html">Retorno de la solidaridad: TI y trabajadores independientes necesitan organizarse</a></li>
<li><a href="../480266/index.html">La historia de los juegos en la nube</a></li>
<li><a href="../480270/index.html">La disminución de la popularidad de PHP: ¿no es tan simple?</a></li>
<li><a href="../480272/index.html">Inteligencia artificial y la complejidad del cerebro humano.</a></li>
<li><a href="../480274/index.html">Contador de alcohol o Cómo sobrevivir a las recepciones de buffet</a></li>
<li><a href="../480276/index.html">Entrevista del juego: Estrategias de contratación. Parte 1</a></li>
<li><a href="../480280/index.html">Estudio de seguridad TurboConf</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>