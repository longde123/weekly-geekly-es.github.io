<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♎️ 🤙🏼 🏆 Kurz gesagt über Linux-Berechtigungen (Funktionen) ✏️ 🤱🏻 👼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine Übersetzung des Artikels wurde speziell für Studenten des Linux Administrator- Kurses erstellt. 

 Dank SystemD, Docker und Orchestratoren wie Ku...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kurz gesagt über Linux-Berechtigungen (Funktionen)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/471802/">  <i>Eine Übersetzung des Artikels wurde speziell für Studenten des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Linux Administrator-</a> Kurses erstellt.</i> <br><hr><br>  Dank SystemD, Docker und Orchestratoren wie Kubernetes werden Funktionen immer häufiger genutzt.  Wie mir scheint, ist die Dokumentation jedoch etwas schwer zu verstehen, und einige Teile der Implementierung von Berechtigungen erwiesen sich für mich als etwas verwirrend. Deshalb habe ich beschlossen, mein aktuelles Wissen in diesem kurzen Artikel zu teilen. <br><br><img src="https://habrastorage.org/webt/mn/gs/zm/mngszmci_2-ufeepev7nfzd3fo8.png"><br><br>  Der wichtigste Berechtigungslink ist die Manpage zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen (7)</a> .  Für eine erste Bekanntschaft ist sie jedoch nicht sehr geeignet. <a name="habracut"></a><br><br><h3>  Prozessfähigkeiten </h3><br>  Die Rechte gewöhnlicher Benutzer sind sehr begrenzt, während die Rechte des "Root" -Nutzers sehr umfangreich sind.  Obwohl Prozesse, die als "root" ausgeführt werden, häufig nicht alle Root-Berechtigungen erfordern. <br><br>  Um die Root-Benutzerrechte zu verringern, bieten POSIX-Berechtigungen (POSIX-Funktionen) eine Möglichkeit, die Gruppen privilegierter Systemvorgänge einzuschränken, die ein Prozess und seine Nachkommen ausführen dürfen.  Im Wesentlichen teilen sie alle "Root" -Rechte in eine Reihe separater Berechtigungen auf.  Die Idee der Fähigkeiten wurde 1997 in einem Entwurf von POSIX 1003.1e beschrieben. <br><br>  Unter Linux hat jeder Prozess (Aufgabe) <a href="">fünf 64-Bit-Nummern</a> (Sätze), die Berechtigungsbits enthalten (vor Linux 2.6.25 waren sie 32-Bit), die in angezeigt werden können <pre>  / proc / &lt;pid&gt; / status </pre>  . <br><br><pre><code class="bash hljs">CapInh: 00000000000004c0 CapPrm: 00000000000004c0 CapEff: 00000000000004c0 CapBnd: 00000000000004c0 CapAmb: 0000000000000000</code> </pre> <br>  Diese Zahlen (hier in hexadezimaler Schreibweise dargestellt) sind Bitmaps, in denen Berechtigungssätze dargestellt werden.  Hier sind ihre vollständigen Namen: <br><br><ul><li>  <b>Vererbbar</b> - Berechtigungen, die Nachkommen erben können </li><li>  <b>Zulässig</b> - Berechtigungen, die von der Aufgabe verwendet werden können. </li><li>  <b>Effektiv</b> - Aktuelle effektive Berechtigungen </li><li>  <b>Bounding</b> - Vor Linux 2.6.25 war der Bounding-Satz ein systemweites Attribut, das allen Threads gemeinsam war und einen Satz beschreibt, über den hinaus die Berechtigungen nicht erweitert werden konnten.  Dies ist derzeit ein Satz für jede Aufgabe und nur ein Teil der Ausführungslogik (Details unten). </li><li>  <b>Ambient</b> (extern seit Linux 4.3) - hinzugefügt, um es einfacher zu machen, dem Benutzer Nicht-Root-Berechtigungen bereitzustellen, ohne Setuid- oder Dateiberechtigungen zu verwenden (dazu später mehr). </li></ul><br>  Wenn eine Task eine privilegierte Operation <a href="">anfordert</a> (z. B. Bindung an Ports &lt;1024), überprüft der Kernel den aktuellen Begrenzungssatz für <a href="">CAP_NET_BIND_SERVICE</a> .  Wenn es installiert ist, wird der Vorgang fortgesetzt.  Andernfalls wird die Operation mit EPERM abgelehnt (Operation nicht zulässig).  Diese <code>CAP_</code> im Kernel-Quellcode definiert und fortlaufend nummeriert, sodass <code>CAP_NET_BIND_SERVICE</code> gleich 10 Bit 1 &lt;&lt; 10 = 0x400 bedeutet (dies ist die hexadezimale Ziffer „4“ in meinem vorherigen Beispiel). <br><br>  Eine vollständige, für Menschen lesbare Liste der derzeit definierten Berechtigungen finden Sie in der Manpage zu den aktuellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen (7)</a> (die Liste hier dient nur als Referenz). <br><br>  Darüber hinaus gibt es eine libcap-Bibliothek, um die Verwaltung und Autorisierungsprüfungen zu vereinfachen.  Neben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Bibliotheks-API enthält</a> das Paket das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">capsh</a> , mit dem Sie unter anderem Ihre Anmeldeinformationen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">anzeigen</a> können. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># capsh --print Current: = cap_setgid,cap_setuid,cap_net_bind_service+eip Bounding set = cap_setgid,cap_setuid,cap_net_bind_service Ambient set = Securebits: 00/0x0/1'b0 secure-noroot: no (unlocked) secure-no-suid-fixup: no (unlocked) secure-keep-caps: no (unlocked) secure-no-ambient-raise: no (unlocked) uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)</span></span></code> </pre> <br>  Hier gibt es einige verwirrende Punkte: <br><br><ul><li>  <b>Aktuell</b> - Zeigt die effektiven, geerbten und verfügbaren Berechtigungen des Capsh-Prozesses im Format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cap_to_text (3) an</a> .  In diesem Format werden Rechte als Berechtigungsgruppen <code>“capability[,capability…]+(e|i|p)”</code> , wobei <code>“e”</code> effektiv, <code>“i”</code> geerbt und <code>“p”</code> verfügbar bedeutet.  Die Liste wird nicht durch das Symbol <code>“,”</code> , wie Sie vielleicht vermutet haben <code>(cap_setgid+eip, cap_setuid+eip)</code> .  Ein Komma teilt die Berechtigungen in eine Aktionsgruppe auf.  Die tatsächliche Liste der Aktionsgruppen wird dann durch Leerzeichen getrennt.  Ein weiteres Beispiel mit zwei Aktionsgruppen wäre <code>“= cap_sys_chroot+ep cap_net_bind_service+eip”</code> .  Außerdem codieren die folgenden zwei Gruppen von Aktionen <code>“= cap_net_bind_service+e cap_net_bind_service+ip”</code> denselben Wert wie ein <code>“cap_net_bind_service+eip”</code> . </li><li>  <b>Begrenzungssatz / Umgebungssatz</b> .  Zur weiteren Verwirrung enthalten diese beiden Zeilen nur eine Liste von Berechtigungen, die in diesen Gruppen definiert sind und durch Leerzeichen getrennt sind.  Das Format cap_to_text wird hier nicht verwendet, da es keine Sätze verfügbarer, effektiver und geerbter Berechtigungen enthält, sondern nur einen Satz (Bounding / Ambient). </li><li>  <b>Securebits</b> : <b>Zeigt</b> die <a href="">Securebits-</a> Flags der Aufgabe im Dezimal- / Hexadezimal- / Verilog-Format an (ja, jeder erwartet dies hier, und dies ist völlig klar <a href="">,</a> wenn jeder Systemadministrator sein eigenes <code>FPGA</code> und <code>ASIC</code> programmiert).  Das Folgende ist der Status von Securebits.  Tatsächliche Flags werden in <a href="">Securebits.h</a> als <code>SECBIT_*</code> <a href="">definiert</a> und auch in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen (7) beschrieben</a> . </li><li>  Diesem Dienstprogramm fehlt die Anzeige der <b>"NoNewPrivs" -Informationen</b> , die in angezeigt werden können <pre>  / proc / &lt;pid&gt; / status </pre>  .  Es wird nur in prctl (2) erwähnt, obwohl es die Rechte direkt beeinflusst, wenn es zusammen mit Dateiberechtigungen verwendet wird (ausführlicher unten).  NoNewPrivs wird wie folgt beschrieben: <i><i>„ <code>no_new_privs</code> auf 1 gesetzt ist, verspricht execve (2), keine Berechtigungen für das zu erteilen, was ohne den Aufruf von execve (2) nicht möglich gewesen wäre (z. B. Verarbeitung der <code>set-user-ID</code> , <code>set-group-ID</code> Bits) <code>set-group-ID</code> und Deaktivieren der Dateiberechtigungsverarbeitung)</i> .</i>  <i>Nach der Installation kann das Attribut <code>no_new_privs</code> nicht zurückgesetzt werden.</i>  <i>Der Wert dieses Attributs wird von Nachkommen geerbt, die mit fork (2) und clone (2) erstellt und über execve (2) gespeichert wurden. “</i>  Kubernetes setzt dieses Flag auf 1, wenn allowPrivilegeEscalation im pod securityContext false ist. </li></ul><br><br>  Wenn Sie einen neuen Prozess über execve (2) starten, werden die Berechtigungen für den untergeordneten Prozess mithilfe der in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen (7)</a> angegebenen Formel konvertiert: <br><br><pre> <code class="bash hljs">P<span class="hljs-string"><span class="hljs-string">'(ambient) = (file is privileged) ? 0 : P(ambient) P'</span></span>(permitted) = (P(inheritable) &amp; F(inheritable)) | (F(permitted) &amp; P(bounding)) | P<span class="hljs-string"><span class="hljs-string">'(ambient) P'</span></span>(effective) = F(effective) ? P<span class="hljs-string"><span class="hljs-string">'(permitted) : P'</span></span>(ambient) P<span class="hljs-string"><span class="hljs-string">'(inheritable) = P(inheritable) [ie, unchanged] P'</span></span>(bounding) = P(bounding) [ie, unchanged] <span class="hljs-built_in"><span class="hljs-built_in">where</span></span>: P() denotes the value of a thread capability <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> before the execve(2) -      execve(2) P<span class="hljs-string"><span class="hljs-string">'() denotes the value of a thread capability set after the execve(2) -      execve(2) F() denotes a file capability set -  </span></span></code> </pre> <br><br>  Diese Regeln beschreiben die Aktionen, die für jedes Bit in allen Berechtigungssätzen ausgeführt werden (Umgebung / zulässig / effektiv / vererbbar / Begrenzung).  Die Standard-C-Syntax wird verwendet (&amp; - für logisches UND, | - für logisches ODER).  P 'ist ein untergeordneter Prozess.  P ist der aktuelle Prozess, der execve (2) aufruft.  F sind die sogenannten "Dateiberechtigungen" einer durch execve gestarteten Datei. <br><br>  Darüber hinaus kann ein Prozess seine geerbten, zugänglichen und effizienten Mengen mit libcap jederzeit programmgesteuert gemäß den folgenden Regeln ändern: <br><br><ul><li>  Wenn der Aufrufer nicht über <code>CAP_SETPCAP</code> , muss die neue <b>geerbte</b> Menge eine Teilmenge von P (geerbt) &amp; P (verfügbar) sein. </li><li>  (mit Linux 2.6.25) Die neue <b>geerbte</b> Menge sollte eine Teilmenge von P (geerbt) &amp; P (einschränkend) sein. </li><li>  Die neue <b>verfügbare</b> Menge sollte eine Teilmenge von P sein (verfügbar) </li><li>  Die neue <b>effiziente</b> Menge sollte eine Teilmenge von P sein (effektiv) </li></ul><br><br><h3>  Dateiberechtigungen </h3><br>  Manchmal muss ein Benutzer mit eingeschränkten Rechten eine Datei ausführen, für die mehr Berechtigungen erforderlich sind.  Früher wurde dies erreicht, indem das setuid-Bit ( <code>chmod + s ./executable</code> ) in einer Binärdatei gesetzt wurde.  Wenn eine solche Datei zu root gehört, hat sie die vollen Root-Rechte, wenn sie von einem Benutzer ausgeführt wird. <br><br>  Dieser Mechanismus verleiht einer Datei jedoch zu viele Berechtigungen, sodass POSIX-Berechtigungen ein Konzept namens "Dateiberechtigungen" implementiert haben.  Sie werden als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweitertes Dateiattribut mit dem</a> Namen "security.capability" gespeichert. Sie benötigen daher ein Dateisystem mit Unterstützung für erweiterte Attribute (ext *, XFS, Raiserfs, Brtfs, overlay2, ...).  Um dieses Attribut zu ändern, ist <code>CAP_SETFCAP</code> Berechtigung <code>CAP_SETFCAP</code> (in den verfügbaren Prozessberechtigungen). <br><br><pre> <code class="bash hljs">$ getfattr -m - -d `<span class="hljs-built_in"><span class="hljs-built_in">which</span></span> ping` <span class="hljs-comment"><span class="hljs-comment"># file: usr/bin/ping security.capability=0sAQAAAgAgAAAAAAAAAAAAAAAAAAA= $ getcap `which ping` /usr/bin/ping = cap_net_raw+ep</span></span></code> </pre> <br><br><h3>  Sonderfälle und Kommentare </h3><br>  In der Realität ist natürlich nicht alles so einfach, und in der Manpage zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktionen (7)</a> werden einige Sonderfälle beschrieben.  Die wahrscheinlich wichtigsten von ihnen sind: <br><br><ul><li>  <b>Das Setuid-Bit und die Dateiberechtigungen werden ignoriert, wenn NoNewPrivs installiert ist</b> oder das Dateisystem mit nosuid gemountet ist oder der Prozessaufruf execve von ptrace verfolgt wird.  Dateiberechtigungen werden auch ignoriert, wenn der Kernel mit der Option <code>no_file_caps</code> . </li><li>  <b>Eine "dumme" Datei (Capability-dumm)</b> ist eine Binärdatei, die von einer Setuid-Datei in eine Datei mit Dateiberechtigungen konvertiert wird, ohne jedoch den Quellcode zu ändern.  Solche Dateien werden häufig durch Festlegen von + ep-Berechtigungen für sie erhalten, z. B. <code>“setcap cap_net_bind_service+ep ./binary”</code> .  Der wichtige Teil ist "e" - effektiv.  Nach dem Ausführen werden diese Berechtigungen sowohl zu verfügbaren als auch zu vorhandenen Berechtigungen hinzugefügt, sodass die ausführbare Datei für die Verwendung des privilegierten Vorgangs bereit ist.  Im Gegensatz dazu kann eine <b>"Capability-Smart" -Datei</b> , die libcap oder eine ähnliche Funktionalität verwendet, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cap_set_proc (3)</a> (oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">capset</a> ) verwenden, um die "effektiven" oder "geerbten" Bits jederzeit zu setzen, wenn diese Berechtigung bereits vorhanden ist. " erschwingliches ”Kit.  Daher reicht " <code>setcap cap_net_bind_service+p ./binary”</code> für eine "intelligente" Datei aus, da die erforderlichen Berechtigungen in einem effektiven Satz selbst festgelegt werden können, bevor eine privilegierte Operation <code>setcap cap_net_bind_service+p ./binary”</code> wird.  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispielcode</a> . </li><li>  <b>Dateien mit setuid-root</b> funktionieren weiterhin und gewähren alle Root-Rechte, wenn der Benutzer als Nicht-Root startet.  Wenn für sie jedoch Dateiberechtigungen festgelegt sind, werden nur diese erteilt.  Sie können auch eine Setuid-Datei mit einem leeren Satz von Berechtigungen erstellen, wodurch sie als Benutzer mit UID 0 ohne Berechtigungen ausgeführt wird.  Es gibt spezielle Fälle für den Root-Benutzer, wenn eine Datei mit setuid-root ausgeführt und verschiedene Securebits-Flags gesetzt werden (siehe man). </li><li>  Ein Begrenzungssatz maskiert verfügbare Berechtigungen, jedoch keine geerbten.  Denken Sie daran, P '(verfügbar) = F (verfügbar) &amp; P (limitierend).  Wenn ein Stream eine <b>Berechtigung in seiner geerbten Menge hat</b> , die nicht in seiner Begrenzungsmenge enthalten ist, kann <b>er diese Berechtigung</b> dennoch <b>in seiner zugänglichen</b> Menge erhalten, indem er eine Datei ausführt, die eine Berechtigung in seiner geerbten Menge hat - P '(verfügbar) = P ( geerbt) &amp; F (geerbt). </li><li>  Durch Ausführen eines Programms, das die UID oder GID über die Bits set-user-ID, set-group-ID ändert, oder durch Ausführen eines Programms, für das Dateiberechtigungen festgelegt sind <b>, wird der Umgebungssatz gelöscht</b> .  Berechtigungen werden mit <code>PR_CAP_AMBIENT</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">prctl</a> zum <b>umgebenden Satz</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hinzugefügt</a> .  Diese Berechtigungen sollten bereits in <b>zugänglichen und geerbten</b> Prozessgruppen vorhanden sein. </li><li>  Wenn ein Prozess mit einer <b>anderen UID als 0 execve (2) ausführt</b> , werden alle Rechte an seinen verfügbaren und aktiven Sätzen gelöscht. </li><li>  Wenn <code>SECBIT_KEEP_CAPS</code> (oder das umfassendere <code>SECBIT_NO_SETUID_FIXUP</code> ) nicht festgelegt ist und durch <b>Ändern der UID von 0 auf ungleich Null alle Berechtigungen aus den geerbten, zugänglichen und effektiven</b> <code>SECBIT_NO_SETUID_FIXUP</code> <b>entfernt werden</b> . </li></ul><br><br><h3>  Also ... </h3><br>  Wenn der offizielle Nginx-Container, ingress-nginx oder Ihr eigener mit einem Fehler gestoppt oder neu gestartet wird: <br><br> <code>bind() to 0.0.0.0:80 failed (13: Permission denied)</code> <br> <br>  ... dies bedeutet, dass versucht wurde, Port 80 als nicht <code>CAP_NET_BIND_SERVICE</code> (nicht 0) Benutzer <code>CAP_NET_BIND_SERVICE</code> , und dass der aktuelle Berechtigungssatz kein <code>CAP_NET_BIND_SERVICE</code> .  Um diese Rechte zu erhalten, müssen Sie xattr und set (mit <code>setcap</code> ) für die Berechtigung der <code>cap_net_bind_service+ie</code> Datei mindestens <code>cap_net_bind_service+ie</code> .  Diese Dateiberechtigung wird mit dem Legacy-Satz kombiniert (angegeben mit dem Begrenzungssatz aus pod SecurityContext / Capability / Add / NET_BIND_SERVICE) und wird auch in den Satz der verfügbaren Berechtigungen aufgenommen.  Das Ergebnis ist <code>cap_net_bind_service+pie</code> . <br><br>  Dies alles funktioniert, solange securityContext / allowPrivilegeEscalation auf true gesetzt ist und der Docker / rkt-Speichertreiber (siehe Docker-Dokumentation) xattrs unterstützt. <br><br>  Wenn nginx in Bezug auf Berechtigungen <code>cap_net_bind_service+i</code> wäre, würde <code>cap_net_bind_service+i</code> ausreichen.  Dann könnte er libcap verwenden, um die Rechte vom verfügbaren Satz auf effektiv zu erweitern.  Als Ergebnis erhalten <code>cap_net_bind_service+pie</code> . <br><br>  Neben der Verwendung von xattr besteht die einzige Möglichkeit, <code>cap_net_bind_service</code> in einem Nicht-Root-Container abzurufen, darin, Docker seine externen Funktionen (Umgebungsfunktionen) festlegen zu lassen.  Bis April 2019 wurde dies jedoch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">noch</a> nicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">umgesetzt</a> . <br><br><h3>  Codebeispiele </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein Beispielcode</a> , der libcap verwendet, um <code>CAP_NET_BIND_SERVICE</code> zu einem effizienten Berechtigungssatz hinzuzufügen.  Für die Binärdatei ist die Berechtigung <code>CAP_BIND_SERVICE+p</code> erforderlich. <br><br>  Referenzen (dt.): <br><br><ul><li>  Manpage zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fähigkeiten (7)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Linux-Kernel-Quellcode</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellcode Libcap</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FAQ zu alten Funktionen</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471802/">https://habr.com/ru/post/de471802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471776/index.html">Laravel: Erklären Sie die Grundkonzepte. Zweiter Teil: Üben</a></li>
<li><a href="../de471778/index.html">Breaking Micosoft Lunix bei HackQuest 2019</a></li>
<li><a href="../de471792/index.html">Woher kam der Zauberer von "Ordinary Miracle"?</a></li>
<li><a href="../de471794/index.html">Die Ära der Flachdeckenmikrofone</a></li>
<li><a href="../de471796/index.html">Ein bisschen Erfahrung - viele Interviews: Wie man Teaminterviews durchführt</a></li>
<li><a href="../de471806/index.html">Wie sich die Beleuchtung auf das Spieldesign und das Spielerlebnis auswirkt</a></li>
<li><a href="../de471808/index.html">Standalone-GSM-Relais mit Wechselrichter aus vorgefertigten Komponenten</a></li>
<li><a href="../de471810/index.html">Vergleichen Sie die Tools zum Überwachen von Änderungen in Active Directory: Quest Change Auditor und Netwrix Auditor</a></li>
<li><a href="../de471812/index.html">Kostenlose Wolfram Engine Library für Softwareentwickler</a></li>
<li><a href="../de471814/index.html">WolframClientForPython | Neue Wolfram Language Client Library für Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>