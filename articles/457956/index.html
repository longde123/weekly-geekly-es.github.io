<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèº‚Äçü§ù‚Äçüßëüèº üïµüèª ‚öæÔ∏è C√≥mo elegir el almacenamiento sin dispararte en el pie üàµ üéôÔ∏è üìë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduccion  
 Es hora de comprar almacenamiento. ¬øCu√°l tomar, a qui√©n escuchar? El vendedor A habla sobre el vendedor B, y tambi√©n hay un integrador...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo elegir el almacenamiento sin dispararte en el pie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457956/"><h2>  Introduccion </h2> <br>  Es hora de comprar almacenamiento.  ¬øCu√°l tomar, a qui√©n escuchar?  El vendedor A habla sobre el vendedor B, y tambi√©n hay un integrador C que dice lo contrario y aconseja al vendedor D. En esta situaci√≥n, un arquitecto de almacenamiento experimentado tambi√©n dar√° la vuelta, especialmente con todos los nuevos proveedores y la SDS e hiperconvergencia de hoy. <br><br>  Entonces, ¬øc√≥mo puedes resolver esto y no ser est√∫pido?  Nosotros ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">AntonVirtual</a> Anton Zhbankov y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">korp</a> Evgeny Elizarov) intentaremos contarlo en ruso en blanco. <br>  El art√≠culo tiene mucho en com√∫n, y de hecho es una extensi√≥n del " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dise√±o de un centro de datos virtualizado</a> " en t√©rminos de la elecci√≥n de sistemas de almacenamiento de datos y una visi√≥n general de la tecnolog√≠a de almacenamiento.  Consideramos brevemente la teor√≠a general, pero le recomendamos que se familiarice con este art√≠culo. <br><br><h2>  Porque </h2><br>  A menudo puede observar la situaci√≥n cuando una nueva persona llega a un foro o en una sala de chat especializada, como Storage Discussions y hace la pregunta: "aqu√≠ se me ofrecen dos opciones de almacenamiento: ABC SuperStorage S600 y XYZ HyperOcean 666v4, ¬øqu√© me recomiendan?" <br><br>  Y alguien comienza a medir qu√© caracter√≠sticas de la implementaci√≥n de chips temibles e incomprensibles, que para una persona no preparada, es una letra china. <br><a name="habracut"></a><br>  Entonces, la clave y la primera pregunta que debe hacerse mucho antes de comparar las especificaciones en las ofertas comerciales es ¬øPOR QU√â?  ¬øPor qu√© es necesario este almacenamiento? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ba/190/43b/5ba19043bfccca088d91e628707b9dd8.jpg" alt="imagen"><br><br>  La respuesta ser√° inesperada y muy al estilo de Tony Robbins: almacenar datos.  ¬°Gracias capit√°n!  Sin embargo, a veces vamos tan lejos en la comparaci√≥n de detalles que olvidamos por qu√© hacemos todo esto. <br><br>  Por lo tanto, la tarea de un sistema de almacenamiento de datos es almacenar y proporcionar acceso a los DATOS con un rendimiento determinado.  Comenzaremos con los datos. <br><br><h2>  Datos </h2><br><h3>  Tipo de datos </h3><br>  ¬øQu√© tipo de datos planeamos almacenar?  Un problema muy importante que puede eliminar muchos sistemas de almacenamiento incluso de la consideraci√≥n.  Por ejemplo, se planea almacenar videos y fotos.  Puede eliminar inmediatamente sistemas dise√±ados para acceso aleatorio por un peque√±o bloque, o sistemas con chips propietarios en compresi√≥n / deduplicaci√≥n.  Pueden ser solo sistemas excelentes, no queremos decir nada malo.  Pero en este caso, sus puntos fuertes se debilitar√°n por el contrario (los videos y las fotos no est√°n comprimidos) o simplemente aumentar√°n significativamente el costo del sistema. <br><br>  Por el contrario, si el uso previsto es un DBMS transaccional cargado, entonces los excelentes sistemas de transmisi√≥n multimedia capaces de entregar gigabytes por segundo ser√≠an una mala elecci√≥n. <br><br><h3>  Volumen de datos </h3><br>  ¬øCu√°ntos datos planeamos almacenar?  La cantidad siempre se convierte en calidad; esto nunca debe olvidarse, especialmente en nuestro tiempo del crecimiento exponencial del volumen de datos.  Los sistemas de clase de petabytes ya no son infrecuentes, pero cuanto m√°s petabytes de volumen, m√°s espec√≠fico se vuelve el sistema, menos familiar es la funcionalidad de los sistemas con acceso aleatorio de vol√∫menes peque√±os y medianos.  Trivial porque solo las tablas de estad√≠sticas de acceso por bloques se hacen m√°s grandes que la RAM disponible en los controladores.  Sin mencionar la compresi√≥n / desgarro.  Supongamos que queremos cambiar el algoritmo de compresi√≥n a uno m√°s potente y extraer 20 petabytes de datos.  ¬øCu√°nto tiempo llevar√°: medio a√±o, un a√±o? <br><br>  Por otro lado, ¬øpor qu√© molestarse con un jard√≠n si necesita almacenar y procesar 500 GB de datos?  Solo 500. Los SSD para hogares (DWPD bajo) de este tama√±o no cuestan nada.  ¬øPor qu√© construir una f√°brica de Fibre Channel y comprar un sistema de almacenamiento externo de alta gama con el costo de un puente de hierro fundido? <br><br>  ¬øQu√© porcentaje del total de datos calientes?  ¬øQu√© tan desigual es la carga de datos?  Aqu√≠ es donde la tecnolog√≠a de almacenamiento en niveles o Flash Cache realmente puede ayudar si la cantidad de datos activos es escasa en comparaci√≥n con el total.  O viceversa, con una carga uniforme en todo el volumen, que a menudo se encuentra en los sistemas de transmisi√≥n (videovigilancia, algunos sistemas de an√°lisis), tales tecnolog√≠as no producir√°n nada y solo aumentar√°n el costo / complejidad del sistema. <br><br><h3>  IP </h3><br>  El reverso de los datos es un sistema de informaci√≥n que utiliza estos datos.  IP tiene un conjunto de requisitos que heredan datos.  Para obtener m√°s informaci√≥n sobre IP, consulte "Dise√±o de un centro de datos virtualizado". <br><br><h4>  Failover / Requisitos de disponibilidad </h4><br><br>  Los requisitos de tolerancia a fallos / disponibilidad de datos se heredan del IS que los usa y se expresan en tres n√∫meros: <b>RPO</b> , <b>RTO</b> , <b>disponibilidad</b> . <br><br>  <b>Disponibilidad</b> : un recurso compartido durante un per√≠odo de tiempo determinado durante el cual los datos est√°n disponibles para trabajar con ellos.  Por lo general, se expresa en la cantidad de 9. Por ejemplo, dos nueves por a√±o significa que la disponibilidad es del 99%, o de lo contrario se permiten 95 horas de inaccesibilidad por a√±o.  Tres nueves: 9.5 horas al a√±o. <br><br>  RPO / RTO: estos no son indicadores resumidos, sino para cada incidente (accidente), en oposici√≥n a la disponibilidad. <br><br>  <b>RPO</b> : la cantidad de datos perdidos durante el accidente (en horas).  Por ejemplo, si realiza una copia de seguridad una vez al d√≠a, RPO = 24 horas.  Es decir  En caso de accidente y p√©rdida completa de almacenamiento, se pueden perder datos de hasta 24 horas (desde el momento de la copia de seguridad).  Basado en el RPO especificado para el IS, por ejemplo, se escribe la programaci√≥n de respaldo.  Adem√°s, seg√∫n el RPO, puede comprender cu√°nta replicaci√≥n de datos s√≠ncrona / as√≠ncrona se necesita. <br><br>  <b>RTO</b> : tiempo de recuperaci√≥n del servicio (acceso a datos) despu√©s de un accidente.  Seg√∫n el valor RTO establecido, podemos entender si se necesita un cl√∫ster metropolitano o si la replicaci√≥n unidireccional es suficiente.  ¬øNecesito tambi√©n una clase de almacenamiento de alta gama con m√∫ltiples controladores? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/037/1ab/31b/0371ab31b6cd66fd77eeb5df5cecf3e8.png" alt="imagen"><br><br><h4>  Requisitos de rendimiento </h4><br>  A pesar de que esta es una pregunta muy obvia, la mayor√≠a de las dificultades surgen con ella.  Dependiendo de si ya tiene alg√∫n tipo de infraestructura o no, y se construir√°n formas de recopilar las estad√≠sticas necesarias. <br><br>  Ya tiene un sistema de almacenamiento y est√° buscando un reemplazo o desea comprar otro para la expansi√≥n.  Todo es simple aqu√≠.  Entiende qu√© servicios ya tiene y cu√°les planea implementar en el futuro cercano.  Seg√∫n los servicios actuales, tiene la oportunidad de recopilar estad√≠sticas de rendimiento.  Decida el n√∫mero actual de IOPS y los retrasos actuales: ¬øcu√°les son estos indicadores y hay suficientes para sus tareas?  Esto se puede hacer tanto en el sistema de almacenamiento de datos como por parte de los hosts que est√°n conectados a √©l. <br><br>  Adem√°s, debe mirar no solo la carga actual, sino tambi√©n durante un per√≠odo (un mes es mejor).  Vea cu√°les son los picos m√°ximos durante el d√≠a, qu√© tipo de carga crea la copia de seguridad, etc.  Si su almacenamiento o software no le proporciona un conjunto completo de estos datos, puede utilizar la herramienta RRD gratuita, que puede funcionar con la mayor√≠a de los conmutadores y almacenamiento m√°s populares y puede proporcionarle estad√≠sticas detalladas de rendimiento.  Tambi√©n vale la pena ver la carga en los hosts que funcionan con este sistema de almacenamiento, en m√°quinas virtuales espec√≠ficas o lo que funciona exactamente para usted en este host. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79a/498/69f/79a49869f2192ed576215a383fd7c9ad.png" alt="imagen"><br><br>  Debe notarse por separado que si las demoras en el volumen y el almac√©n de datos que se encuentran en este volumen difieren bastante: debe prestar atenci√≥n a su red SAN, es probable que haya problemas con ella y antes de adquirir un nuevo sistema, debe resolver este problema , porque la probabilidad de aumentar el rendimiento del sistema actual es muy alta. <br><br>  Usted construye la infraestructura desde cero o compra un sistema para alg√∫n tipo de servicio nuevo, del que no tiene conocimiento.  Hay varias opciones: comunicarse con colegas sobre recursos especializados para tratar de averiguar y predecir la carga, contactar a un integrador que tenga experiencia en la implementaci√≥n de dichos servicios y que pueda calcular la carga por usted.  Y la tercera opci√≥n (generalmente la m√°s dif√≠cil, especialmente cuando se trata de aplicaciones autoescritas o poco comunes) es tratar de averiguar los requisitos de rendimiento de los desarrolladores del sistema. <br><br>  Y, atenci√≥n, la opci√≥n m√°s correcta desde el punto de vista de la aplicaci√≥n pr√°ctica es un piloto en el equipo actual, o el equipo provisto para pruebas por un vendedor / integrador. <br><br><h4>  Requisitos especiales </h4><br>  Requisitos especiales: todo lo que no corresponde a los requisitos de rendimiento, tolerancia a fallas y funcionalidad para el procesamiento directo y el suministro de datos. <br><br>  Uno de los requisitos especiales m√°s simples para un sistema de almacenamiento de datos son los "medios de almacenamiento alienados".  E inmediatamente queda claro que este sistema de almacenamiento de datos debe incluir una biblioteca de cintas o simplemente una unidad de cinta, en la que se restablece la copia de seguridad.  Luego, una persona especialmente entrenada firma la cinta y la lleva con orgullo en una caja fuerte especial. <br>  Otro ejemplo de requisitos especiales es un rendimiento protegido a prueba de golpes. <br><br><h2>  Donde </h2><br>  El segundo componente principal en la elecci√≥n de uno u otro sistema de almacenamiento es la informaci√≥n sobre D√ìNDE estar√° este sistema de almacenamiento.  A partir de la geograf√≠a o las condiciones clim√°ticas, y terminando con el personal. <br><br><h3>  Cliente </h3><br>  ¬øPara qui√©n est√° previsto este almacenamiento?  La pregunta tiene las siguientes razones: <br><br>  <b>Cliente gubernamental / comercial.</b> <br>  Un cliente comercial no tiene restricciones y ni siquiera est√° obligado a realizar licitaciones, excepto de acuerdo con sus propias normas internas. <br><br>  El cliente estatal es un asunto diferente.  44 Ley Federal y otras delicias con licitaciones y conocimientos tradicionales, que pueden ser impugnadas. <br><br>  <b>Cliente sancionado</b> <br>  Bueno, aqu√≠ la pregunta es muy simple: la elecci√≥n est√° limitada solo por las ofertas disponibles para este cliente. <br><br>  <b>Regulaciones internas / vendedores aprobados / modelos</b> <br>  La pregunta tambi√©n es extremadamente simple, pero debemos recordarla. <br><br><h3>  Donde f√≠sicamente </h3><br>  En esta parte, consideramos todos los problemas con la geograf√≠a, los canales de comunicaci√≥n y el clima interior. <br><br><h4>  El personal </h4><br>  ¬øQui√©n trabajar√° con este almacenamiento?  Esto no es menos importante que lo que SHD puede hacer directamente. <br>  No importa cu√°n prometedor, genial y maravilloso sea el sistema de almacenamiento del proveedor A, probablemente no tenga sentido ponerlo si el personal solo puede trabajar con el proveedor B, y no hay planes para nuevas compras y cooperaci√≥n continua con A. <br><br>  Y, por supuesto, la otra cara de la pregunta es qu√© tan accesible es el personal capacitado directamente en la empresa y potencialmente en el mercado laboral en esta ubicaci√≥n geogr√°fica.  Para las regiones, la elecci√≥n de sistemas de almacenamiento con interfaces simples o la posibilidad de una administraci√≥n centralizada remota puede tener mucho sentido.  De lo contrario, en alg√∫n momento puede volverse dolorosamente doloroso.  Internet est√° lleno de historias cuando un nuevo empleado, el estudiante de ayer, ide√≥ una configuraci√≥n para que toda la oficina fuera asesinada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/53b/468/0c0/53b4680c004850ce9b87235483283074.jpg" alt="imagen"><br><br><h4>  El medio ambiente </h4><br>  Bueno, por supuesto, una pregunta importante es en qu√© entorno funcionar√° este almacenamiento. <br><br><ul><li>  ¬øQu√© pasa con el poder / enfriamiento? </li><li>  Que conexi√≥n </li><li>  Donde ser√° montado </li><li>  Y as√≠ sucesivamente. </li></ul><br>  A menudo, estos problemas se dan por sentados y no se abordan particularmente, pero a veces pueden cambiar todo exactamente al contrario. <br><br><h2>  Que </h2><br><h3>  Vendedor </h3><br>  Hoy (mediados de 2019), el mercado de almacenamiento ruso se puede dividir en 5 categor√≠as condicionales: <br><br><ol><li>  Divisi√≥n superior: compa√±√≠as bien merecidas con una amplia gama, desde los estantes de disco m√°s simples hasta los de gama alta (HPE, DellEMC, Hitachi, NetApp, IBM / Lenovo) </li><li>  La segunda divisi√≥n son las compa√±√≠as con una l√≠nea limitada, jugadores de nicho, proveedores serios de SDS o nuevos reci√©n llegados (Fujitsu, Datacore, Infinidat, Huawei, Pure, etc.) </li><li>  La tercera divisi√≥n: soluciones de nicho en el rango de SDS baratos y de baja gama, buenas pr√°cticas en ceph y otros proyectos abiertos (Infortrend, Starwind, etc.) </li><li>  Segmento SOHO: sistemas de almacenamiento peque√±os y ultra peque√±os a nivel de hogar / oficina peque√±a (Synology, QNAP, etc.) </li><li>  Sistemas de almacenamiento reemplazados por importaci√≥n: esto incluye tanto el hierro de la primera divisi√≥n con etiquetas pegadas como los representantes raros de la segunda (RAIDIX, demos un avance en la segunda), pero principalmente esta es la tercera divisi√≥n (Aerodisk, Baum, Depo, etc.) </li></ol><br>  La divisi√≥n es bastante arbitraria y no significa en absoluto que el tercer segmento o el segmento SOHO sea malo y no pueda usarse.  En proyectos espec√≠ficos con un conjunto de datos claramente definido y un perfil de carga, pueden funcionar muy bien, superando con creces la primera divisi√≥n en t√©rminos de relaci√≥n precio / calidad.  Es importante decidir primero las tareas, las perspectivas de crecimiento, la funcionalidad requerida, y luego Synology le servir√° fielmente, y su cabello se volver√° suave y sedoso. <br><br>  Uno de los factores importantes al elegir un proveedor es el entorno actual.  Cu√°ntos y qu√© sistemas de almacenamiento tiene, con qu√© sistemas de almacenamiento pueden trabajar los ingenieros.  ¬øNecesita otro proveedor, otro punto de contacto, migrar√° gradualmente toda la carga del proveedor A al proveedor B? <br><br>  No es necesario producir entidades m√°s all√° de lo necesario. <br><br><h3>  iSCSI / FC / File </h3><br>  Sobre el tema de los protocolos de acceso, no hay consenso entre los ingenieros, y las disputas se parecen m√°s a discusiones teol√≥gicas que a las de ingenier√≠a.  Pero en general, se pueden observar los siguientes puntos: <br><br>  <b>Es</b> m√°s probable que <b>FCoE est√©</b> muerto que vivo. <br><br>  <b>FC vs iSCSI</b> .  Una de las principales ventajas de FC en 2019 sobre el almacenamiento de IP, una f√°brica dedicada para el acceso a datos, es nivelada por una red de IP dedicada.  FC no tiene ventajas globales sobre las redes IP e IP se puede usar para construir sistemas de almacenamiento de cualquier nivel de carga, hasta sistemas para DBMS pesados ‚Äã‚Äãpara ABS de un banco grande.  Por otro lado, la muerte de FC no ha sido profetizada durante el primer a√±o, pero algo interfiere constantemente con esto.  Hoy, por ejemplo, algunos jugadores en el mercado de almacenamiento est√°n desarrollando activamente el est√°ndar NVMEoF.  Si comparte el destino de FCoE, el tiempo lo dir√°. <br><br>  <b>El acceso a los archivos</b> tampoco es digno de atenci√≥n.  NFS / CIFS funcionan bien en entornos productivos y, cuando se dise√±an adecuadamente, no tienen m√°s quejas que los protocolos de bloque. <br><br><h3>  H√≠brido / All Flash Array </h3><br>  Los sistemas de almacenamiento cl√°sicos vienen en 2 tipos: <br><br><ol><li>  AFA (All Flash Array): sistemas optimizados para usar SSD. </li><li>  H√≠brido: le permite usar HDD y SSD, o una combinaci√≥n de ambos. </li></ol><br>  Su principal diferencia son las tecnolog√≠as de eficiencia de almacenamiento compatibles y el nivel m√°ximo de rendimiento (IOPS altas y latencias bajas).  Tanto esos como otros sistemas (en la mayor√≠a de sus modelos, sin contar el segmento de gama baja) pueden operar tanto dispositivos de bloque como dispositivos de archivo.  La funcionalidad admitida y los modelos m√°s j√≥venes tambi√©n dependen del nivel del sistema; a menudo se reduce a un nivel m√≠nimo.  Debe prestar atenci√≥n a esto cuando estudie las caracter√≠sticas de un modelo en particular, y no solo las capacidades de toda la l√≠nea en su conjunto.  Adem√°s, por supuesto, sus caracter√≠sticas t√©cnicas dependen del nivel del sistema, como el procesador, la cantidad de memoria, la memoria cach√©, el n√∫mero y los tipos de puertos, etc.  Desde el punto de vista de la Administraci√≥n, AFA de los sistemas h√≠bridos (de disco) difieren solo en la implementaci√≥n de mecanismos para trabajar con unidades SSD, e incluso si usa SSD en un sistema h√≠brido, esto no significa que pueda obtener un nivel de rendimiento en el nivel AFA del sistema .  Adem√°s, en la mayor√≠a de los casos, los mecanismos en l√≠nea para el almacenamiento eficiente en sistemas h√≠bridos est√°n deshabilitados, y su inclusi√≥n conduce a una p√©rdida de rendimiento. <br><br><h3>  Almacenaje Especial </h3><br>  Adem√°s del almacenamiento de uso general, centrado principalmente en el procesamiento de datos operativos, existen sistemas de almacenamiento especiales con principios clave que son fundamentalmente diferentes de los habituales (baja latencia, muchos IOPS): <br><br>  <b>Medios de comunicaci√≥n</b> <br><br>  Estos sistemas est√°n dise√±ados para el almacenamiento y procesamiento de archivos multimedia de gran tama√±o.  Acc.  el retraso se vuelve pr√°cticamente sin importancia, y la capacidad de enviar y recibir datos en una banda ancha en muchos flujos paralelos se destaca. <br><br>  <b>Deduplicando el almacenamiento para copias de seguridad.</b> <br><br>  Dado que las copias de seguridad difieren en facilidad de uso, lo cual es raro en circunstancias normales (la copia de seguridad promedio difiere de ayer en un 1-2%), esta clase de sistemas empaqueta de manera extremadamente eficiente los datos grabados en ellos dentro de un n√∫mero bastante peque√±o de medios f√≠sicos.  Por ejemplo, en algunos casos, las relaciones de compresi√≥n de datos pueden alcanzar 200 a 1. <br><br>  <b>Almacenamiento de objetos</b> <br><br>  Estos sistemas de almacenamiento no tienen los vol√∫menes habituales con acceso de bloque y bola de archivos, y sobre todo se parecen a una gran base de datos.  El acceso a un objeto almacenado en dicho sistema se lleva a cabo mediante un identificador √∫nico o mediante metadatos (por ejemplo, todos los objetos en formato JPEG, con la fecha de creaci√≥n entre XX-XX-XXXX e AA-AA-AAAA). <br><br>  <b>Sistema de cumplimiento</b> . <br><br>  Hoy no se encuentra tan a menudo en Rusia, pero vale la pena mencionarlos.  El prop√≥sito de estos sistemas de almacenamiento es el almacenamiento garantizado de datos para cumplir con las pol√≠ticas de seguridad o los requisitos reglamentarios.  En algunos sistemas (por ejemplo, EMC Centera), se implement√≥ la funci√≥n de prohibir la eliminaci√≥n de datos: tan pronto como se gira la llave y el sistema entra en este modo, ni el administrador ni ninguna otra persona pueden eliminar f√≠sicamente los datos ya grabados. <br><br><h3>  Tecnolog√≠a patentada </h3><br><h4>  Cach√© flash </h4><br>  Flash Cache es el nombre com√∫n para todas las tecnolog√≠as patentadas para usar memoria flash como cach√© de segundo nivel.  Cuando se usa el cach√© flash, el almacenamiento generalmente se calcula para proporcionar una carga constante de los discos magn√©ticos, mientras que el cach√© m√°ximo sirve a la carga m√°xima. <br><br>  Es necesario comprender el perfil de carga y el grado de localizaci√≥n de las llamadas a los bloques de volumen de almacenamiento.  Flash cache es una tecnolog√≠a para cargas con alta localizaci√≥n de solicitudes, y pr√°cticamente no es aplicable para vol√∫menes cargados de manera uniforme (como para sistemas de an√°lisis). <br><br>  Hay dos implementaciones de memoria cach√© flash disponibles en el mercado: <br><br><ul><li>  Solo lectura  En este caso, solo los datos le√≠dos se almacenan en cach√© y la escritura va directamente a los discos.  Algunos fabricantes, como NetApp, creen que escribir en su sistema de almacenamiento es √≥ptimo, y la memoria cach√© no ayudar√°. </li><li>  Leer / Escribir    ,   ,        RAID Penalty,              . </li></ul><br><h4> Tiering </h4><br>   () ‚Äî          ,   SSD  HDD.               ,     ,  , ,   . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los sistemas h√≠bridos de las clases bajas y medias usan almacenamiento en niveles con datos m√≥viles entre niveles en un horario. </font><font style="vertical-align: inherit;">Al mismo tiempo, el tama√±o del bloque de almacenamiento en niveles de los mejores modelos es de 256 MB. </font><font style="vertical-align: inherit;">Estas caracter√≠sticas no nos permiten considerar la tecnolog√≠a de almacenamiento multinivel como una tecnolog√≠a para aumentar la productividad, ya que muchos lo consideran err√≥neamente. </font><font style="vertical-align: inherit;">El almacenamiento multinivel en sistemas de clase baja y media es una tecnolog√≠a para optimizar los costos de almacenamiento para sistemas con desigualdades de carga pronunciadas.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instant√°nea </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No importa cu√°nto hablemos de la confiabilidad del almacenamiento, hay muchas oportunidades para perder datos que no dependen de problemas de hardware. Puede ser como virus, piratas inform√°ticos o cualquier otro borrado / corrupci√≥n accidental de datos. Por esta raz√≥n, la copia de seguridad de los datos productivos es una parte integral del trabajo del ingeniero. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una instant√°nea es una instant√°nea de un volumen en alg√∫n momento. Cuando se trabaja con la mayor√≠a de los sistemas, como virtualizaci√≥n, bases de datos, etc. necesitamos tomar una instant√°nea de la cual copiaremos los datos a una copia de respaldo, mientras nuestras IP pueden continuar trabajando de manera segura con este volumen. Pero vale la pena recordarlo: no todas las instant√°neas son igualmente √∫tiles. Diferentes proveedores tienen diferentes enfoques para crear instant√°neas relacionadas con su arquitectura. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vaca (Copia en escritura)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cuando intenta escribir un bloque de datos, su contenido original se copia en un √°rea especial, despu√©s de lo cual la grabaci√≥n es normal. Esto evita la corrupci√≥n de datos dentro de la instant√°nea. Naturalmente, todas estas manipulaciones de datos "par√°sitos" causan una carga adicional en el sistema de almacenamiento y, por esta raz√≥n, los proveedores con una implementaci√≥n similar no recomiendan usar m√°s de una docena de instant√°neas, y no las utilizan en absoluto en vol√∫menes muy cargados. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoW (Redirigir en escritura)</font></font></b> .   ,    ,               ,       .      ,              . <br><br>         : <br><br> <b>Application consitent</b> .           ,              .          . <br><br> <b>Crash consistent</b> .            .                   ,          .            ,   . <br><br>       ? <br><br><ul><li>       </li><li>        </li><li>           VDI       </li><li>   RPO             </li></ul><br><h4> Cloning </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clonar un volumen: funciona seg√∫n un principio similar al de las instant√°neas, pero sirve no solo para leer datos, sino para trabajar completamente con ellos. </font><font style="vertical-align: inherit;">Podemos obtener una copia exacta de nuestro volumen, con todos los datos, sin hacer una copia f√≠sica, lo que ahorrar√° espacio. </font><font style="vertical-align: inherit;">Por lo general, la clonaci√≥n de volumen se usa en Test &amp; Dev o si desea verificar la funcionalidad de algunas actualizaciones en su IS. </font><font style="vertical-align: inherit;">La clonaci√≥n le permitir√° hacer esto de la manera m√°s r√°pida y econ√≥mica posible en t√©rminos de recursos de disco, como </font><font style="vertical-align: inherit;">solo se escribir√°n bloques de datos modificados.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Replicaci√≥n / Diario </font></font></h4><br>  ‚Äî        .       ,     .      ,       ,   VMware vSphere Replication. <br><br>           ,   ,       NetApp  HP MSA. <br><br>     : <br><br> <b></b> .                  ,     .      ,        .  Es decir<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPO = 0 para el caso de p√©rdida de almacenamiento primario. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As√≠ncrono</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Las operaciones de escritura se realizan solo en el sistema de almacenamiento principal y se confirman de inmediato, acumulando simult√°neamente en el b√∫fer para la transmisi√≥n de paquetes al sistema de almacenamiento remoto. Este tipo de replicaci√≥n es relevante para datos menos valiosos, ya sea para canales de bajo ancho de banda o con un alto retraso (t√≠pico para distancias de m√°s de 100 km). Respectivamente RPO = frecuencia de env√≠o de paquetes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A menudo hay un mecanismo de </font><b><font style="vertical-align: inherit;">registro</font></b><font style="vertical-align: inherit;"> con replicaci√≥n</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operaciones de disco. </font><font style="vertical-align: inherit;">En este caso, se asigna un √°rea especial para el registro y se almacenan las operaciones de grabaci√≥n de una cierta profundidad en el tiempo, o limitadas por el volumen del registro. </font><font style="vertical-align: inherit;">Para ciertas tecnolog√≠as patentadas, como EMC RecoverPoint, existe una integraci√≥n con el software del sistema que le permite vincular marcadores espec√≠ficos a una entrada de diario espec√≠fica. </font><font style="vertical-align: inherit;">Gracias a esto, es posible revertir el estado del volumen (o crear un clon) no solo el 23 de abril 11 horas 59 segundos 13 milisegundos, sino en el momento anterior a "DROP ALL TABLES; </font><font style="vertical-align: inherit;">COMPROMISO ".</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Metro cluster </font></font></h4><br>   ‚Äî ,          ,         .          -  ( 100 ). <br><br>             ,       .        ,       ,    .    : <br><br><ul><li>         .       ,    ,     . RTO =     (15   VMware) +       . </li><li> Disaster avoidance , -,  .        1,   ,   ,         2  . </li></ul><br><h4>  Virtualizaci√≥n </h4><br>   ‚Äî          . -         ,       ,    RAID   . <br>       ‚Äî  EMC VPLEX  IBM SVC.        ‚Äî NetApp, Hitachi, IBM / Lenovo Storwize. <br><br>   ? <br><br><ul><li>    .    ,       HP 3Par,    NetApp.    EMC. </li><li>         . ,       3Par,    ,   Dell.       3Par,    VPLEX     .       ,  .        Dell,       3Par . </li><li>  . </li></ul><br><h4>  /  </h4><br>    ‚Äî   ,         .   ,        /   ,         ,    ‚Äî . <br><br>     2 : <br><br> <b>Inline</b> ‚Äî            .               . -   ,     , -      . <br><br> <b>Post</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- cuando estas operaciones ya se llevan a cabo en los datos grabados que est√°n en los discos. En consecuencia, los datos se escriben primero en el disco, y solo entonces, se calcula el hash y se eliminan los bloques adicionales y se liberan los recursos del disco.</font></font><br><br>  ,      ,           .    ,    ,      .  ,     ,     ,       .    ,        ,         ( )  .      ,      ,      ,     .    ,      AFA ,      SSD,  HDD   ,     ,        ,      . <br><br><h3>  </h3><br>         . <br><br> ‚Äú      ‚Äî ABC SuperStorage S600  XYZ HyperOcean 666v4,  ‚Äù <br><br>   ‚Äú      ‚Äî ABC SuperStorage S600  XYZ HyperOcean 666v4,  ? <br><br>      VMware    /  / .  = . 150       80 000 IOPS 8kb  50%   80/20 -. 300   ,  50 000 IOPS , 80 , 80 . <br><br>     RPO = 15  RTO = 1 ,     RPO = 3 ,    . <br><br>  50 ,      . <br><br>     Dell,   Hitachi,  ,   50%     ‚Äù <br><br>  ,      80% . <br><br><h2>   </h2><br>         <br><br><h3>  </h3><br><ul><li>    ‚Äú ‚Äù.              IP / Ethernet   </li><li> ‚ÄúEMC Information Storage and Management‚Äù.     , ,   . </li></ul><br><h4>    </h4><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Storage Discussions</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nutanix / IT Russian Discussion Club</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VMware User Group Russia</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Russian Backup User Group</a> </li></ul><br><h3>   </h3><br><h4>  </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora, con respecto a los precios, en general, si se encuentran con precios de almacenamiento, generalmente es un precio de Lista, del cual cada cliente recibe un descuento individual. El monto del descuento se compone de una gran cantidad de par√°metros, por lo que es simplemente imposible predecir qu√© precio final recibir√° su empresa sin una solicitud al distribuidor. Pero al mismo tiempo, recientemente comenzaron a aparecer modelos de gama baja en tiendas de computadoras comunes, como, por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nix.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcom-shop.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En ellos, puede comprar inmediatamente el sistema que le interesa a un precio fijo, como cualquier componente de la computadora.</font></font><br><br>    ,     TB/$   .      ,       JBOD + ,      ,   ,   ,  .    ,  JBOD     ,   -    ‚Äî          .   ,   JBOD  ,    .       .     . <br><br><h4>  Total </h4><br>  La comparaci√≥n de sistemas entre s√≠ es necesaria no solo por precio, o no solo por productividad, sino por la totalidad de todos los indicadores. <br><br>  Compre HDD solo si est√° seguro de que necesita HDD.  Para cargas bajas y tipos de datos incompresibles, en el caso opuesto, vale la pena prestar atenci√≥n a los programas de garant√≠a de eficiencia de almacenamiento SSD que la mayor√≠a de los proveedores tienen ahora (y realmente funcionan, incluso en Rusia), pero todo depende de las aplicaciones y datos que ser√°n ubicado en este trastero. <br><br>  No persigas lo barato.  A veces se esconden muchos momentos desagradables debajo de ellos, uno de los cuales Yevgeny Elizarov describi√≥ en sus art√≠culos sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Infortrend</a> .  Y eso, al final, esta baratura puede venir a tu lado.  No lo olvides: "avaricioso paga dos veces". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457956/">https://habr.com/ru/post/457956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457942/index.html">Lo que aprend√≠ sobre la optimizaci√≥n en Python</a></li>
<li><a href="../457946/index.html">10 mejores bibliotecas de JavaScript para visualizar datos en gr√°ficos y tablas</a></li>
<li><a href="../457948/index.html">Juegos de mesa en los que tienes que aplastarte la cabeza</a></li>
<li><a href="../457952/index.html">C√≥mo se dise√±an y fabrican los procesadores: fabricaci√≥n de chips</a></li>
<li><a href="../457954/index.html">Por qu√© Swift puede convertirse en un gran evento en el aprendizaje profundo</a></li>
<li><a href="../457958/index.html">Vida cotidiana MT_FREE: varias historias sobre la influencia de los servicios de terceros en el trabajo de Wi-Fi p√∫blico</a></li>
<li><a href="../457960/index.html">Sala de reuniones LÃ∂iÃ∂tÃ∂tÃ∂lÃ∂eÃ∂ Helper v 2</a></li>
<li><a href="../457962/index.html">Al igual que en la arquitectura thrash y la falta de habilidades en Scrum, creamos equipos de componentes cruzados</a></li>
<li><a href="../457964/index.html">Virtualidad real: estaciones de trabajo ++</a></li>
<li><a href="../457966/index.html">"Abrir√≠a una zona de TI especial en el sur de Rusia" - 10 preguntas al programador # 11. Nueva temporada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>