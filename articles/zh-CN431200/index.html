<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏽 👨🏿‍🔬 👸🏾 戈多：关于定期使用静态代码分析器的问题 👩🏿‍💻 🧙 🚄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们的读者人数在增长，因此我们一遍又一遍地撰写文章，说明如何正确使用静态代码分析方法。 我们认为，解释静态分析工具不应偶尔使用，而应定期使用是非常重要的。 我们再次通过一个实际的例子来证明这一点，重新检查Godot项目。 

 定期使用分析仪 
 准备在游戏开发者大会上发言时，我决定获得PVS-St...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>戈多：关于定期使用静态代码分析器的问题</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/431200/"><img src="https://habrastorage.org/getpro/habr/post_images/f64/19d/5e9/f6419d5e9a19cc1f99e2400727bd81d9.png" alt="PVS-Studio和Godot" align="left"> 我们的读者人数在增长，因此我们一遍又一遍地撰写文章，说明如何正确使用静态代码分析方法。 我们认为，解释静态分析工具不应偶尔使用，而应定期使用是非常重要的。 我们再次通过一个实际的例子来证明这一点，重新检查Godot项目。 <br><a name="habracut"></a><br><h2> 定期使用分析仪 </h2><br> 准备在游戏开发者大会上发言时，我决定获得<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio</a>工具可以检测到的有趣错误的新示例。 为此，测试了多个游戏引擎，其中之一是Godot。 我没有发现报告中有任何特别有趣的错误，但是我想写一篇有关普通错误的文章。 这些错误很好地证明了定期使用静态代码分析工具的相关性。 <br><br> 应当指出的是，我们已经在2015年<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">检查了</a>这个项目，作者处理了我们写出的错误。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>您可以看到相应的提交。 <br><br>  3年过去了。 项目已更改。  PVS-Studio分析仪也进行了更改，并且出现了新的诊断方法。 因此，毫不奇怪的是，我能够轻松快速地写出足够的错误示例来撰写本文。 <br><br>  <b>但是，还有其他重要的事情。</b> 在开发Godot或任何其他项目时，新错误不断出现并得到修复。 未检测到的错误在代码中长期存在，因此在运行静态代码分析时可以检测到许多错误。 因此，有时会产生一种错误的感觉，即静态分析器在很少使用的代码段中仅发现一些有趣的错误。 当然，如果您不正确地使用分析仪而仅不时地运行它（例如，在发行版发行前不久），就会出现这种情况。 <br><br> 是的，在撰写文章时，我们自己对开放项目进行一次性检查。 但是我们有一个不同的目标。 我们想证明代码分析器检测缺陷的功能。 这项任务与提高整个项目代码的质量以及减少与纠错相关的成本无关。 <br><br> 再次谈到主要问题。 静态代码分析的重点不是发现旧错误。 这些旧错误通常很小，否则它们会干扰用户，并且已经找到并修复了。 静态分析的重点是快速修复新编写或修改的代码中的错误。 这减少了调试时间，减少了用户投诉的数量，并最终减少了开发项目的预算。 <br><br> 现在，让我们继续研究我们的出版物读者非常喜欢的错误。 <br><br><h2> 复制粘贴错误 </h2><br> 让我们看看我在研究PVS-Studio报告时注意到的内容。 我将从最喜欢的V501诊断程序开始，该诊断程序会<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在</a>我们检查的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">几乎每个项目</a>中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">都</a>发现<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">错误</a> ：)。 <br><br>  <b>错误N1</b> <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can_export</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!exists_export_template(<span class="hljs-string"><span class="hljs-string">"uwp_"</span></span> + platform_infix + <span class="hljs-string"><span class="hljs-string">"_debug.zip"</span></span>, &amp;err) || !exists_export_template(<span class="hljs-string"><span class="hljs-string">"uwp_"</span></span> + platform_infix + <span class="hljs-string"><span class="hljs-string">"_debug.zip"</span></span>, &amp;err)) { valid = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; r_missing_templates = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } .... }</code> </pre> <br>  PVS-Studio警告：V501 CWE-570'||'的左侧和右侧有相同的子表达式'！Exists_export_template（“ uwp_” + platform_infix +“ _debug.zip”＆err）'。 操作员。 出口.cpp 1135 <br><br> 经典复制粘贴错误。 该函数调用已被复制但尚未编辑。 要处理的第二个文件的名称必须以“ _release.zip”结尾。 <br><br>  <b>错误N2，N3</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dump_node_code</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SL::Node *p_node, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> p_level)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bnode-&gt;statements[i]-&gt;type == SL::Node::TYPE_CONTROL_FLOW || bnode-&gt;statements[i]-&gt;type == SL::Node::TYPE_CONTROL_FLOW) { code += scode; <span class="hljs-comment"><span class="hljs-comment">//use directly } else { code += _mktab(p_level) + scode + ";\n"; } .... }</span></span></code> </pre> <br>  PVS-Studio警告：V501 CWE-570'||'的左侧和右侧有相同的子表达式'bnode-&gt;语句[i]-&gt; type == SL :: Node :: TYPE_CONTROL_FLOW' 操作员。  test_shader_lang.cpp 183 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> EditorSpinSlider::_notification(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_what) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_what == MainLoop::NOTIFICATION_WM_FOCUS_OUT || p_what == MainLoop::NOTIFICATION_WM_FOCUS_OUT) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (grabbing_spinner) { Input::get_singleton()-&gt;set_mouse_mode(Input::MOUSE_MODE_VISIBLE); grabbing_spinner = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; grabbing_spinner_attempt = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } .... }</code> </pre> <br>  PVS-Studio警告：V501 CWE-570在'||'的左右两侧有相同的子表达式'p_what == MainLoop :: NOTIFICATION_WM_FOCUS_OUT' 操作员。  editor_spin_slider.cpp 157 <br><br> 我认为这些错误清晰可见，不需要任何解释。 与第一种情况完全相同的经典复制粘贴。 <br><br>  <b>错误N4</b> <br><br><pre> <code class="cpp hljs">String SoftBody::get_configuration_warning() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... Transform t = get_transform(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">0</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span> || ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">1</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span> || ABS(t.basis.get_axis(<span class="hljs-number"><span class="hljs-number">0</span></span>).length() - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0.05</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!warning.empty()) .... }</code> </pre> <br>  PVS-Studio警告：V501 CWE-570'||'的左侧和右侧有相同的子表达式 操作员。 第399章 <br><br> 在这里，第一行被复制了两次。 但是坐标轴号仅在第二行中更改。 他们忘了编辑第三行。 这就是“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最后一行效果</a> ”。 <br><br>  <b>注意事项</b> 目前，除了“最后一行效果”之外，我还做了以下有趣的观察：“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">C / C ++世界中最危险的功能</a> ”，“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">邪恶存在于比较功能中</a> ”。 现在，我将宣布一个新文章，我打算在不久的将来写这篇文章。 工作标题是“ 0、1、2”。 它应该是有趣且有启发性的。 我邀请您订阅一个频道，以免错过： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">twitter</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vk.com</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Instagram</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电报</a>和“ old school” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">rss</a> 。 <br><br>  <b>错误N5</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ScrollContainer::_notification(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_what) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h_scroll-&gt;is_visible_in_tree() &amp;&amp; h_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.y -= h_scroll-&gt;get_minimum_size().y; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v_scroll-&gt;is_visible_in_tree() &amp;&amp; v_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.x -= h_scroll-&gt;get_minimum_size().x; .... }</code> </pre> <br>  PVS-Studio警告：V778 CW​​E-682发现了两个相似的代码片段。 也许这是一个错字，应该使用“ v_scroll”变量而不是“ h_scroll”。  scroll_container.cpp 249 <br><br> 关于这段代码，我不能完全确定是否有错误。 但是，我同意分析器的观点，第二个块看起来非常可疑。 该代码很可能是使用Copy-Paste编写的，在第二段文本中，他们忘记了用<i>v_scroll</i>替换<i>h_scroll</i> 。 <br><br> 该代码可能应该是这样的： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h_scroll-&gt;is_visible_in_tree() &amp;&amp; h_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.y -= h_scroll-&gt;get_minimum_size().y; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v_scroll-&gt;is_visible_in_tree() &amp;&amp; v_scroll-&gt;get_parent() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) size.x -= v_scroll-&gt;get_minimum_size().x;</code> </pre> <br>  <b>错误N6</b> <br><br> 另一种情况是复制了足够大的代码片段，但未成功更改。 错误行由我的注释“ // &lt;=“标记。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ShaderGLES2::bind_uniforms() { .... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Map&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>, Variant&gt;::Element *E = uniform_defaults.front(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (E) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = E-&gt;key(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> location = version-&gt;uniform_location[idx]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (location &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { E = E-&gt;next(); <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } Variant v; v = E-&gt;value(); _set_uniform_variant(location, v); E = E-&gt;next(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Map&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>, CameraMatrix&gt;::Element *C = uniform_cameras.front(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (C) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = E-&gt;key(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= int location = version-&gt;uniform_location[idx]; if (location &lt; 0) { C = C-&gt;next(); continue; } glUniformMatrix4fv(location, 1, GL_FALSE, &amp;(C-&gt;get().matrix[0][0])); C = C-&gt;next(); } uniforms_dirty = false; }</span></span></code> </pre> <br>  PVS-Studio警告：V522 CWE-476可能会取消引用空指针“ E”。  shader_gles2.cpp 102 <br><br> 间接检测到错误。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">通过对数据流</a>的分析<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">，</a> PVS-Studio显示指针<i>E</i>在解引用时可能为零。 <br><br> 错误是，在复制的代码片段中，他们忘记了一次替换<i>C</i>中的<i>E。</i> 由于该错误，该函数以一种非常奇怪的方式工作并且做了奇怪的事情。 <br><br><h2> 错别字 </h2><br>  <b>错误N7</b> <br><br> 对于使用C或C ++以外的语言编写的程序员，很难想象可以通过写逗号而不是星号*来打错文字，并且代码将被编译。 但是，是这样。 <br><br><pre> <code class="cpp hljs">LRESULT OS_Windows::WndProc(....) { .... BITMAPINFO bmi; ZeroMemory(&amp;bmi, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(BITMAPINFO)); bmi.bmiHeader.biSize = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(BITMAPINFOHEADER); bmi.bmiHeader.biWidth = dib_size.x; bmi.bmiHeader.biHeight = dib_size.y; bmi.bmiHeader.biPlanes = <span class="hljs-number"><span class="hljs-number">1</span></span>; bmi.bmiHeader.biBitCount = <span class="hljs-number"><span class="hljs-number">32</span></span>; bmi.bmiHeader.biCompression = BI_RGB; bmi.bmiHeader.biSizeImage = dib_size.x, dib_size.y * <span class="hljs-number"><span class="hljs-number">4</span></span>; .... }</code> </pre> <br>  PVS-Studio警告：V521 CWE-480这种使用'，'运算符的表达式很危险。 确保表达式正确。  os_windows.cpp 776 <br><br> 变量<i>bmi.bmiHeader.biSizeImage被</i>分配了变量<i>dib_size.x</i>的值。 接下来，执行逗号运算符'，'，其<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">优先级</a>低于运算符'='的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">优先级</a> 。 绝不使用表达式<i>dib_size.y * 4</i>的结果。 <br><br> 应该使用乘法运算符'*'代替表达式中的逗号。 首先，这样的表达是有意义的。 其次，下面有一个相似但已经正确的选项用于初始化相同的变量： <br><br><pre> <code class="cpp hljs">bmi.bmiHeader.biSizeImage = dib_size.x * dib_size.y * <span class="hljs-number"><span class="hljs-number">4</span></span>;</code> </pre> <br>  <b>错误N8，N9</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Variant::<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = p_index; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) idx += <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> || idx &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) { Color *v = <span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;Color *&gt;(_data._mem); (*v)[idx] = p_value; valid = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } .... }</code> </pre> <br>  PVS-Studio警告：V547 CWE-571表达式'idx&gt; = 0 ||  idx &lt;4'始终为true。  variant_op.cpp 2152 <br><br> 任何索引都将被认为是正确的。 要解决该错误，您需要替换<i>||。</i> 在<i>&amp;&amp;上</i> ： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (idx &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; idx &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) {</code> </pre> <br> 这种逻辑错误很可能是由于粗心而引起的，因此我倾向于将其归因于错别字。 <br><br> 完全相同的错误可以在下面的同一文件中观察到。 繁殖错误的错误显然是复制粘贴。 <br><br> 多个错误：V547 CWE-571表达式'idx&gt; = 0 ||  idx &lt;4'始终为true。  variant_op.cpp 2527 <br><br>  <b>错误N10</b> <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c7/e0b/eec/1c7e0beec351fa7d221ddf08957964cd.png" alt="WTF？"></div><br> 一个错误的例子：WTF？！ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AnimationNodeBlendSpace1D::add_blend_point( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Ref&lt;AnimationRootNode&gt; &amp;p_node, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> p_position, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_at_index) { ERR_FAIL_COND(blend_points_used &gt;= MAX_BLEND_POINTS); ERR_FAIL_COND(p_node.is_null()); ERR_FAIL_COND(p_at_index &lt; <span class="hljs-number"><span class="hljs-number">-1</span></span> || p_at_index &gt; blend_points_used); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_at_index == <span class="hljs-number"><span class="hljs-number">-1</span></span> || p_at_index == blend_points_used) { p_at_index = blend_points_used; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = blend_points_used - <span class="hljs-number"><span class="hljs-number">1</span></span>; i &gt; p_at_index; i++) { blend_points[i] = blend_points[i - <span class="hljs-number"><span class="hljs-number">1</span></span>]; } } .... }</code> </pre> <br>  PVS-Studio警告：V621 CWE-835考虑检查“ for”操作员。 循环有可能执行不正确或根本不执行。  animation_blend_space_1d.cpp 113 <br><br> 注意循环停止条件： <i>i&gt; p_at_index</i> 。 始终如此，因为变量<i>i是</i>使用值<i>blend_points_used-1</i>初始化的。 此外，从之前的两次检查中可以得出<i>blend_points_used&gt; p_at_index</i> 。 <br><br> 仅当符号变量<i>i</i>发生溢出（这是未定义的行为）时，条件才能变为false。 此外，它不会达到溢出状态，因为阵列会更早地超出边界。 <br><br> 我认为摆在我们面前的是错字，他们写了'&gt;'而不是'&lt;'。 是的，我对错误之美的看法是错误的：)。 <br><br> 正确的周期： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = blend_points_used - <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; p_at_index; i++) {</code> </pre> <br>  <b>错误N11</b> <br><br> 在周期情况下，错字的另一个同样明亮的情况。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AnimationNodeStateMachineEditor::_state_machine_pos_draw() { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> idx = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; node_rects.size(); i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node_rects[i].node_name == playback-&gt;get_current_node()) { idx = i; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } .... }</code> </pre> <br>  PVS-Studio警告：V693 CWE-835考虑检查循环的条件表达式。 可能应该使用“ i &lt;X.size（）”代替“ X.size（）”。  animation_state_machine_editor.cpp 852 <br><br> 由于<i>i</i>的值不受控制地增加，因此可能会发生数组溢出。 安全代码： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; node_rects.size(); i++) {</code> </pre> <br>  <b>错误N12</b> <br><br><pre> <code class="cpp hljs">GDScriptDataType GDScriptCompiler::_gdtype_from_datatype( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GDScriptParser::DataType &amp;p_datatype) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (p_datatype.kind) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::NATIVE: { result.kind = GDScriptDataType::NATIVE; result.native_type = p_datatype.native_type; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::SCRIPT: { result.kind = GDScriptDataType::SCRIPT; result.script_type = p_datatype.script_type; result.native_type = result.script_type-&gt;get_instance_base_type(); } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GDScriptParser::DataType::GDSCRIPT: { result.kind = GDScriptDataType::GDSCRIPT; result.script_type = p_datatype.script_type; result.native_type = result.script_type-&gt;get_instance_base_type(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; .... }</code> </pre> <br>  PVS-Studio警告：V796 CWE-484 switch语句中可能缺少'break'语句。  gdscript_compiler.cpp 135 <br><br> 一不小心忘了写一个<i>break</i>语句。 因此，当<i>涉及</i>到<i>GDScriptParser :: DataType :: SCRIPT时，</i>将为变量分配值，就像<i>GDScriptParser :: DataType :: GDSCRIPT一样</i> 。 <br><br>  <b>错误N13</b> <br><br> 以下错误可以归类为“复制粘贴”。 但是，我不确定是否复制了这么短的一行。 因此，我们将在键入时将其视为简单的错字。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CPUParticles::_particles_process(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> p_delta) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flags[FLAG_DISABLE_Z]) { p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; } .... }</code> </pre> <br>  PVS-Studio警告：V519 CWE-563'p.velocity.z'变量已连续两次分配值。 也许这是一个错误。 检查行：664、665。cpu_particles.cpp 665 <br><br> 两次分配相同的变量。 在下面，您可以看到以下代码片段： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flags[FLAG_DISABLE_Z]) { p.velocity.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; p.transform.origin.z = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; }</code> </pre> <br> 对于第一种情况，很可能应该以相同的方式编写。 <br><br>  <b>错误N14</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AtlasTexture::is_pixel_opaque(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_x, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p_y) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (atlas.is_valid()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> atlas-&gt;is_pixel_opaque( p_x + region.position.x + margin.position.x, p_x + region.position.y + margin.position.y ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  PVS-Studio警告：V751参数“ p_y”未在功能体内使用。 第1085章 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V751</a>诊断说明的片段： <br><br>  <i>分析仪检测到可疑功能，从未使用过其中一个参数。</i>  <i>同时，其另一个参数被使用了几次，这可能表明存在错误。</i> <br><br> 如您所见，确实如此，而且非常可疑。 变量<i>p_x被</i>使用两次，而<i>p_y</i>不被使用。 很可能应该这样写： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> atlas-&gt;is_pixel_opaque( p_x + region.position.x + margin.position.x, p_y + region.position.y + margin.position.y );</code> </pre> <br> 顺便说一下，在源代码中，函数调用是一行编写的。 因此，错误更难以发现。 如果代码的编写者像我在文章中那样在列中编写了实际的参数，那么错误将立即引起我的注意。 请记住，表格式非常有用，可以避免很多错别字。 请参阅文章“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">编程，重构的主要问题以及所有这些</a> 。”一文中的“使用表”将相同类型的代码对齐。 <br><br>  <b>错误N15</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> SpriteFramesEditor::can_drop_data_fw(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... Vector&lt;String&gt; files = d[<span class="hljs-string"><span class="hljs-string">"files"</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (files.size() == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; files.size(); i++) { String file = files[<span class="hljs-number"><span class="hljs-number">0</span></span>]; String ftype = EditorFileSystem::get_singleton()-&gt;get_file_type(file); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ClassDB::is_parent_class(ftype, <span class="hljs-string"><span class="hljs-string">"Texture"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } .... }</code> </pre> <br>  PVS-Studio警告：V767通过循环内的常量索引可疑访问“文件”数组的元素。  sprite_frames_editor_plugin.cpp 602 <br><br> 循环在循环的所有迭代中处理相同的文件。 错字在这里： <br><br><pre> <code class="cpp hljs">String file = files[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br> 必须是： <br><br><pre> <code class="cpp hljs">String file = files[i];</code> </pre> <br><h2> 其他错误 </h2><br>  <b>错误N16</b> <br><br><pre> <code class="cpp hljs">CSGBrush *CSGBox::_build_brush() { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; i++) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) face_points[j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k] * (i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> face_points[<span class="hljs-number"><span class="hljs-number">3</span></span> - j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k] * (i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>); .... } .... }</code> </pre> <br>  PVS-Studio分析仪会立即对此代码产生两个响应： <br><br><ul><li>  V547 CWE-570表达式'i&gt; = 3'始终为假。  csg_shape.cpp 939 </li><li>  V547 CWE-571表达式'i&gt; = 3'始终为true。  csg_shape.cpp 941 </li></ul><br> 确实，这两个表达式中的这个三元运算符看起来都很奇怪： <br><br><pre> <code class="cpp hljs">i &gt;= <span class="hljs-number"><span class="hljs-number">3</span></span> ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br> 在一种情况下，条件始终为true，在另一种情况下为false。 很难说这段代码看起来应该如何。 也许这只是多余的，可以这样写： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; i++) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) face_points[j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = v[k]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> face_points[<span class="hljs-number"><span class="hljs-number">3</span></span> - j][(i + k) % <span class="hljs-number"><span class="hljs-number">3</span></span>] = -v[k]; .... }</code> </pre> <br> 我可能是错的，并且需要以完全不同的方式来修复代码。 <br><br>  <b>错误N17</b> <br><br> 尽管几乎<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在任何项目中</a>都经常<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发现</a> V595，但几乎没有像V595这样的错误。 显然，这些错误在之前的检查之后已得到修复，然后几乎没有出现这种类型的错误。 我只看到了一些误报和一个错误。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CanvasItemEditor::_get_bone_shape(....) { .... Node2D *from_node = Object::cast_to&lt;Node2D&gt;( ObjectDB::get_instance(bone-&gt;key().from)); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node-&gt;is_inside_tree()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//may have been removed if (!from_node) return false; .... }</span></span></code> </pre> <br>  PVS-Studio警告：V595 CWE-476在针对nullptr对其进行验证之前，已使用'from_node'指针。 检查行：565，567。canvas_item_editor_plugin.cpp 565 <br><br> 首先取消引用<i>from_node</i>指针以调用<i>is_inside_tree</i>函数<i>，</i>然后才检查其是否为<i>nullptr</i>相等性。 支票应互换： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!from_node-&gt;is_inside_tree()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//may have been removed</span></span></code> </pre> <br>  <b>错误N18</b> <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> JoystickList { .... JOY_AXIS_MAX = <span class="hljs-number"><span class="hljs-number">10</span></span>, .... }; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *_axes[] = { <span class="hljs-string"><span class="hljs-string">"Left Stick X"</span></span>, <span class="hljs-string"><span class="hljs-string">"Left Stick Y"</span></span>, <span class="hljs-string"><span class="hljs-string">"Right Stick X"</span></span>, <span class="hljs-string"><span class="hljs-string">"Right Stick Y"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"L2"</span></span>, <span class="hljs-string"><span class="hljs-string">"R2"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> InputDefault::get_joy_axis_index_from_string(String p_axis) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; JOY_AXIS_MAX; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p_axis == _axes[i]) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i; } } ERR_FAIL_V(<span class="hljs-number"><span class="hljs-number">-1</span></span>); }</code> </pre> <br>  PVS-Studio警告：V557 CWE-125阵列可能超限。  “ i”索引的值可能达到9。input_default.cpp 1119 <br><br>  <i>_axes</i>数组由八个元素组成。 在这种情况下，设置循环迭代次数的常量<i>JOY_AXIS_MAX</i>为10。事实证明，循环超出了数组边界。 <br><br>  <b>错误N19</b> <br><br> 最后一个很奇怪的功能，显然是为了测试某些东西而设计的。 该功能很长，因此我将其作为图片给出（单击图片放大）。 <br><br><p></p><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/1d4/500/b7b/1d4500b7bf3d44179bd8b81c91c7ba44.png" alt="很奇怪奇怪的功能"></a> </div><p></p><br><br>  PVS-Studio警告：V779 CWE-561检测不到代码。 可能存在错误。  test_math.cpp 457 <br><br> 函数中有几个无条件的<i>返回语句</i> 。 在图片中，我用红色椭圆形标记了它们。 似乎为此功能收集了几个不同的单元测试，但忘记删除多余的<i>return NULL</i> 。 结果，该功能不检查应检查的内容。 函数的几乎整个主体都包含无法访问的代码。 <br><br> 当然，也许这是一种狡猾的想法。 但是在我看来，这是偶然发生的，因此代码应该固定。 <br><br> 让我们就此结束。 当然，如果您仔细查看分析仪的报告，还会发现其他错误。 但是，即使写出来写一篇文章也绰绰有余。 然后，这对我和读者来说将变得无聊：)。 <br><br><h2> 结论 </h2><br> 本文介绍了如果使用PVS-Studio定期分析代码则不会出现的错误。 但是，更重要的是，使用常规分析，可以立即发现并消除许多其他错误。 我的同事在他的笔记中更详细地描述了这个想法：“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">静态代码分析的哲学：我们有100个程序员，分析器发现了很少的错误，这没用吗？</a>  ”。 我强烈建议您花10分钟阅读这篇简短但非常重要的文章。 <br><br> 谢谢您的关注。 我邀请所有人下载并尝试对PVS-Studio进行静态分析以测试您自己的项目。 <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br> 如果您想与说英语的读者分享这篇文章，请使用以下链接：Andrey Karpov。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Godot：关于静态分析仪的常规使用</a> 。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN431200/">https://habr.com/ru/post/zh-CN431200/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN431190/index.html">如何在不与SEO达成协议的情况下评估SEO公司的水平</a></li>
<li><a href="../zh-CN431192/index.html">AWC推出Firecracker-Linux的微虚拟化</a></li>
<li><a href="../zh-CN431194/index.html">温暖的管铁杆。 DotNext 2018莫斯科怎么样</a></li>
<li><a href="../zh-CN431196/index.html">Yandex.Taxi如何使用机器学习预测汽车交付时间</a></li>
<li><a href="../zh-CN431198/index.html">调度员如何工作</a></li>
<li><a href="../zh-CN431202/index.html">Debian和Devuan联手sysvinit</a></li>
<li><a href="../zh-CN431204/index.html">后门在EventStream库的依赖项之一中</a></li>
<li><a href="../zh-CN431208/index.html">通过新手眼中的Splunk：我们如何进行存储库存系统</a></li>
<li><a href="../zh-CN431210/index.html">第二个Mitap写文件莫斯科。 众议院技术撰稿人：不要忘记我们的存在</a></li>
<li><a href="../zh-CN431212/index.html">在Android中缓存分页</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>