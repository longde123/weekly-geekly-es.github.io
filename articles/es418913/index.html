<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑ üë®üèΩ‚Äçüíº üìº UE4 | Inventario para multijugador # 1 | Data Warehouse en DataAsset ü§ú üë®üèª‚Äçüî¨ üëÜüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lista de art√≠culos 

 UE4 | Inventario para multijugador # 1 | Data Warehouse en DataAsset 
 UE4 | Inventario para multijugador n. ¬∞ 2 | Conectar Blue...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UE4 | Inventario para multijugador # 1 | Data Warehouse en DataAsset</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418913/"><div class="spoiler">  <b class="spoiler_title">Lista de art√≠culos</b> <div class="spoiler_text"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UE4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inventario para multijugador # 1 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Data Warehouse en DataAsset</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UE4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inventario para multijugador n. ¬∞ 2 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conectar Blueprint a C ++</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UE4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inventario para Multijugador # 3 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Estructura de interacci√≥n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UE4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Equipo para Multijugador # 4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Crear y conectar un contenedor</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UE4 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Equipo para multijugador # 5 |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transferencia de informaci√≥n entre servidor y cliente</a> </p></div></div><br><hr><br><p><img src="https://habrastorage.org/webt/_s/la/0x/_sla0x2mr61e4wocmt62pmtstj0.png" alt="Conjunto de datos" align="left">  En este art√≠culo tratar√© de revelar el significado y la metodolog√≠a de crear <strong><em>DataAsset</em></strong> , como un repositorio para varios tipos de datos, y en nuestro caso es una biblioteca para <strong><em>Actores</em></strong> y sus par√°metros. </p><br><hr><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Una peque√±a introducci√≥n para saltar</b> <div class="spoiler_text"><p>  Para tomar la decisi√≥n de crear un juego hace aproximadamente 2 a√±os, me ayud√≥ a encontrar accidentalmente informaci√≥n sobre <strong>Unreal Engine 4</strong> y leer lo genial y simple que es.  De hecho, es muy dif√≠cil para una persona que no sabe c√≥mo escribir c√≥digo <em>(un lenguaje de programaci√≥n no importa en este contexto)</em> crear algo que sea m√°s complicado que una peque√±a modificaci√≥n de un conjunto est√°ndar de piezas de trabajo del motor.  Por lo tanto, el deseo inicial de hacer un s√∫per mega juego, con el crecimiento del conocimiento sobre la realidad de este proyecto, gradualmente se convirti√≥ en un hobby.  Elevar todas las capas del desarrollo del juego, desde el modelado y la animaci√≥n en 3D, hasta la escritura de c√≥digo, para una persona parece una empresa poco factible.  Sin embargo, este es un buen ejercicio para el cerebro. </p><br><p>  ¬øPor qu√© decidiste escribir algo? ... Probablemente por eso.  que los manuales presentados dan un conocimiento muy superficial (y hay la mayor√≠a de ellos), o incluso para un profesional muy y contienen solo instrucciones generales. </p></div></div><br><p>  Casi siempre es mejor comenzar desde el principio.  No puedo decir que siempre hago esto, pero intentar√© decir lo m√°s coherente posible. </p><br><p>  Por supuesto, es mejor comenzar con la estructura, pero, desafortunadamente, al tener una caja cerrada con herramientas, es muy dif√≠cil entender qu√© se puede construir exactamente con su ayuda.  As√≠ que abramos este cuadro y veamos qu√© hay dentro. </p><br><hr><br><p>  La primera pregunta a responder.  ¬øPor qu√© <strong><em>DataAsset</em></strong> ? </p><br><ol><li>  Muy a menudo en art√≠culos y tutoriales puede ver el uso de <strong><em>DataTable</em></strong> .  ¬øPor qu√© es esto malo?  Si almacena una direcci√≥n para un <strong><em>Blueprint</em></strong> espec√≠fico, al cambiarle el nombre o moverlo a otra carpeta, se ver√° obligado a cambiar esta direcci√≥n manualmente.  De acuerdo, ¬øinc√≥modo?  Con <strong><em>DataAsset</em></strong> , esto no suceder√°.  Todas las comunicaciones se actualizar√°n autom√°ticamente.  Si tiene absoluta confianza en la estructura de su proyecto en los a√±os venideros, entonces, por supuesto, puede usar tablas. </li><li>  La segunda ventaja innegable es la capacidad de almacenar tipos de datos complejos, como estructuras ( <strong><em>Struct</em></strong> ). </li></ol><br><p>  Ahora un poco sobre las desventajas relativas.  De hecho, solo veo uno.  Esta es la necesidad de escribir <em>c√≥digo C ++</em> . </p><br><p>  Si ya comprende que sin trabajar con el c√≥digo no har√° nada <em>√©pico</em> , entonces esto no es un inconveniente, sino una caracter√≠stica. </p><br><p>  Cabe se√±alar que hay una soluci√≥n alternativa: utilizar <strong><em>Actor</em></strong> como tal repositorio.  Pero esa aplicaci√≥n parece la √∫ltima excusa para no querer aprender C ++, y tiene el potencial de terminar en un callej√≥n sin salida en el futuro. <br>  Si est√° convencido de que todo lo que necesita para su proyecto se puede hacer en <strong><em>Blueprint</em></strong> , use las tablas. </p><br><hr><br><p>  Ahora que ya crey√≥ que <strong><em>DataAsset</em></strong> es bueno, considere c√≥mo puede crearlo para su proyecto. </p><br><div class="spoiler">  <b class="spoiler_title">Para aquellos que todav√≠a est√°n completamente 'no en el tanque'</b> <div class="spoiler_text"><blockquote>  Hay una descripci√≥n muy detallada de los pasos y con im√°genes en el foro en ruso dedicado a <strong>UE4</strong> .  Simplemente <em>busque en</em> <em>Google</em> <em>"UE4 DataAsset" para</em> .  √âl domin√≥ los conceptos b√°sicos de este manual hace aproximadamente un a√±o. </blockquote></div></div><br><p>  En primer lugar, cree una <em>clase C ++</em> , como <em>Child</em> de <strong><em>UDataAsset</em></strong> . <br>  (Todo el c√≥digo a continuaci√≥n est√° tomado de mi proyecto no nacido. Simplemente cambie el nombre de los nombres como desee). </p><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// Copyright 2018 Dreampax Games, Inc. All Rights Reserved. #pragma once /* Includes from Engine */ #include "Engine/DataAsset.h" #include "Engine/Texture2D.h" #include "GameplayTagContainer.h" /* Includes from Dreampax */ //no includes #include "DreampaxItemsDataAsset.generated.h" UCLASS(BlueprintType) class DREAMPAX_API UDreampaxItemsDataAsset : public UDataAsset { GENERATED_BODY() }</span></span></code> </pre> <br><p>  Ahora, sobre la base de esta clase, puede crear <strong><em>Blueprint de</em></strong> forma segura, pero es demasiado pronto para hacerlo ... hasta ahora es solo un mu√±eco.  Sin embargo, tenga en cuenta que ya se han hecho inclusiones para texturas y nombres. </p><br><hr><br><p>  A partir de este momento, comienza a crear la estructura de su repositorio.  Se volver√° a hacer muchas veces, por lo que le recomiendo no llenar inmediatamente su almacenamiento.  De tres a cinco elementos, en nuestro caso art√≠culos de inventario, son suficientes para las pruebas.  A veces, despu√©s de la compilaci√≥n, su <strong><em>Blueprint</em></strong> puede quedar vac√≠o, lo que es extremadamente desagradable si ya ha ocupado una docena o dos posiciones. </p><br><p>  Puede crear una estructura directamente en el archivo de encabezado, porque  en este caso, es poco probable que se aplique en otro lugar.  Por lo general, prefiero hacerlo como un archivo de encabezado separado <em>"SrtuctName.h"</em> y conectarlo cuando sea necesario seg√∫n sea necesario. </p><br><div class="spoiler">  <b class="spoiler_title">En mi caso, se ve as√≠</b> <div class="spoiler_text"><pre> <code class="cpp hljs">USTRUCT(BlueprintType) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FItemsDatabase</span></span></span><span class="hljs-class"> {</span></span> GENERATED_USTRUCT_BODY() <span class="hljs-comment"><span class="hljs-comment">/* Storage for any float constant data */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) TMap&lt;FGameplayTag, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; ItemData; <span class="hljs-comment"><span class="hljs-comment">/* Gameplay tag container to store the properties */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) FGameplayTagContainer ItemPropertyTags; <span class="hljs-comment"><span class="hljs-comment">/* Texture for showing in the inventory */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) UTexture2D* IconTexture; <span class="hljs-comment"><span class="hljs-comment">/* The class put on the Mesh on the character */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) TSubclassOf&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ADreampaxOutfitActor</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ItemOutfitClass</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* The class to spawn the Mesh in the level then it is dropped */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) TSubclassOf&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ADreampaxPickupActor</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ItemPickupClass</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">//TODO internal call functions };</span></span></code> </pre> <br><p>  <em>Ser cuentas con</em> <strong><em>TMap</em></strong> <em>.</em>  <em>¬°No replicado!</em>  <em>En este caso, no importa.</em> </p></div></div><br><p>  Tenga en cuenta que no uso <strong><em>FName</em></strong> .  Seg√∫n las tendencias modernas, el uso de <strong><em>FGameplayTag</em></strong> se considera m√°s correcto, porque  Reduce significativamente el riesgo de error y tiene varias ventajas que ser√°n √∫tiles m√°s adelante. </p><br><div class="spoiler">  <b class="spoiler_title">GameplayTag en el editor</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/1p/20/jl1p20bzjqgw5p3nowvlnrejc2m.png" alt="Gameplaytag"></div></div></div><br><div class="spoiler">  <b class="spoiler_title">DataTable para GameplayTag exportado desde Excel</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dw/pc/mr/dwpcmrmd11j4wba_uby_3eytaa8.png" alt="DataTable"></div></div></div><br><p>  Tambi√©n es una buena <strong>pr√°ctica definir</strong> funciones para llamar a variables en la estructura, como <strong>GetSomething ()</strong> .  Aparentemente, todav√≠a necesito trabajar en mi educaci√≥n, ya que est√° en esta base de datos, todav√≠a no he hecho esa llamada. </p><br><div class="spoiler">  <b class="spoiler_title">As√≠ es como se puede hacer usando otra base de datos como ejemplo.</b> <div class="spoiler_text"><pre> <code class="cpp hljs">USTRUCT(BlueprintType) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FBlocksDatabase</span></span></span><span class="hljs-class"> {</span></span> GENERATED_USTRUCT_BODY() <span class="hljs-comment"><span class="hljs-comment">/* The class put on the Mesh for the building block */</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"BlocksDatabase"</span></span>) TSubclassOf&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ADreampaxBuildingBlock</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BuildingBlockClass</span></span></span><span class="hljs-class">;</span></span> UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"BlocksDatabase"</span></span>) FVector DefaultSize; UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"BlocksDatabase"</span></span>) FVector SizeLimits; UPROPERTY(EditDefaultsOnly, Category = <span class="hljs-string"><span class="hljs-string">"BlocksDatabase"</span></span>) TArray&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UMaterialInterface</span></span></span><span class="hljs-class"> *&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlockMaterials</span></span></span><span class="hljs-class">;</span></span> FORCEINLINE TSubclassOf&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ADreampaxBuildingBlock</span></span></span><span class="hljs-class">&gt; * </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetBuildingBlockClass</span></span></span><span class="hljs-class">() {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;BuildingBlockClass; } <span class="hljs-function"><span class="hljs-function">FORCEINLINE FVector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDefaultSize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DefaultSize; } <span class="hljs-function"><span class="hljs-function">FORCEINLINE FVector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSizeLimits</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SizeLimits; } FORCEINLINE TArray&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UMaterialInterface</span></span></span><span class="hljs-class"> *&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetBlockMaterials</span></span></span><span class="hljs-class">() {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BlockMaterials; } };</code> </pre> </div></div><br><p>  Y el punto m√°s importante es la declaraci√≥n de la base de datos: </p><br><pre> <code class="cpp hljs">UPROPERTY(EditDefaultsOnly, BlueprintReadWrite, Category = <span class="hljs-string"><span class="hljs-string">"ItemsDatabase"</span></span>) TMap&lt;FGameplayTag, FItemsDatabase&gt; ItemsDataBase;</code> </pre> <br><p>  Ahora ya puede crear nuestro <strong><em>Blueprint</em></strong> y llenarlo. </p><br><div class="spoiler">  <b class="spoiler_title">Ejemplo de relleno de DataAsset</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/8q/fm/ke/8qfmkepu_ehz2ptdnbwbbwzdtoq.png" alt="Ejemplo de relleno de DataAsset"></div></div></div><br><p>  Pero antes de eso, escribiremos algunas funciones de llamada m√°s para poder recibir datos de la base de datos. </p><br><div class="spoiler">  <b class="spoiler_title">DreampaxItemsDataAsset.h</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// Copyright 2018 Dreampax Games, Inc. All Rights Reserved. #pragma once /* Includes from Engine */ #include "Engine/DataAsset.h" #include "Engine/Texture2D.h" #include "GameplayTagContainer.h" /* Includes from Dreampax */ //no includes #include "DreampaxItemsDataAsset.generated.h" USTRUCT(BlueprintType) struct FItemsDatabase { GENERATED_USTRUCT_BODY() /* Storage for any float constant data */ UPROPERTY(EditDefaultsOnly, Category = "ItemsDatabase") TMap&lt;FGameplayTag, float&gt; ItemData; /* Gameplay tag container to store the properties */ UPROPERTY(EditDefaultsOnly, Category = "ItemsDatabase") FGameplayTagContainer ItemPropertyTags; /* Texture for showing in the inventory */ UPROPERTY(EditDefaultsOnly, Category = "ItemsDatabase") UTexture2D* IconTexture; /* The class put on the Mesh on the character */ UPROPERTY(EditDefaultsOnly, Category = "ItemsDatabase") TSubclassOf&lt;class ADreampaxOutfitActor&gt; ItemOutfitClass; /* The class to spawn the Mesh in the level then it is dropped */ UPROPERTY(EditDefaultsOnly, Category = "ItemsDatabase") TSubclassOf&lt;class ADreampaxPickupActor&gt; ItemPickupClass; //TODO internal call functions }; UCLASS(BlueprintType) class DREAMPAX_API UDreampaxItemsDataAsset : public UDataAsset { GENERATED_BODY() protected: /* This GameplayTag is used to find a Max size of the stack for the Item. This tag can be missed in the ItemData */ UPROPERTY(EditDefaultsOnly, BlueprintReadWrite, Category = "ItemsDatabase") FGameplayTag DefaultGameplayTagForMaxSizeOfStack; /* This is the main Database for all Items. It contains constant common variables */ UPROPERTY(EditDefaultsOnly, BlueprintReadWrite, Category = "ItemsDatabase") TMap&lt;FGameplayTag, FItemsDatabase&gt; ItemsDataBase; public: FORCEINLINE TMap&lt;FGameplayTag, float&gt; * GetItemData(const FGameplayTag &amp;ItemNameTag); FORCEINLINE FGameplayTagContainer * GetItemPropertyTags(const FGameplayTag &amp;ItemNameTag); /* Used in the widget */ UFUNCTION(BlueprintCallable, Category = "ItemDatabase") FORCEINLINE UTexture2D * GetItemIconTexture(const FGameplayTag &amp; ItemNameTag) const; FORCEINLINE TSubclassOf&lt;class ADreampaxOutfitActor&gt; * GetItemOutfitClass(const FGameplayTag &amp; ItemNameTag); FORCEINLINE TSubclassOf&lt;class ADreampaxPickupActor&gt; * GetItemPickupClass(const FGameplayTag &amp; ItemNameTag); int GetItemMaxStackSize(const FGameplayTag &amp; ItemNameTag); FORCEINLINE bool ItemIsFound(const FGameplayTag &amp; ItemNameTag) const; };</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">DreampaxItemsDataAsset.pp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// Copyright 2018 Dreampax Games, Inc. All Rights Reserved. #include "DreampaxItemsDataAsset.h" /* Includes from Engine */ // no includes /* Includes from Dreampax */ // no includes TMap&lt;FGameplayTag, float&gt;* UDreampaxItemsDataAsset::GetItemData(const FGameplayTag &amp; ItemNameTag) { return &amp; ItemsDataBase.Find(ItemNameTag)-&gt;ItemData; } FGameplayTagContainer * UDreampaxItemsDataAsset::GetItemPropertyTags(const FGameplayTag &amp; ItemNameTag) { return &amp; ItemsDataBase.Find(ItemNameTag)-&gt;ItemPropertyTags; } UTexture2D* UDreampaxItemsDataAsset::GetItemIconTexture(const FGameplayTag &amp;ItemNameTag) const { if (ItemNameTag.IsValid()) { return ItemsDataBase.Find(ItemNameTag)-&gt;IconTexture; } return nullptr; } TSubclassOf&lt;class ADreampaxOutfitActor&gt;* UDreampaxItemsDataAsset::GetItemOutfitClass(const FGameplayTag &amp;ItemNameTag) { return &amp; ItemsDataBase.Find(ItemNameTag)-&gt;ItemOutfitClass; } TSubclassOf&lt;class ADreampaxPickupActor&gt;* UDreampaxItemsDataAsset::GetItemPickupClass(const FGameplayTag &amp;ItemNameTag) { return &amp; ItemsDataBase.Find(ItemNameTag)-&gt;ItemPickupClass; } int UDreampaxItemsDataAsset::GetItemMaxStackSize(const FGameplayTag &amp; ItemNameTag) { // if DefaultGameplayTagForMaxSizeOfStack is missed return 1 for all items if (!DefaultGameplayTagForMaxSizeOfStack.IsValid()) { return 1; } int MaxStackSize = floor(GetItemData(ItemNameTag)-&gt;FindRef(DefaultGameplayTagForMaxSizeOfStack)); if (MaxStackSize &gt; 0) { return MaxStackSize; } // if Tag for MaxStackSize is "0" return 1 return 1; } bool UDreampaxItemsDataAsset::ItemIsFound(const FGameplayTag &amp; ItemNameTag) const { if (ItemsDataBase.Find(ItemNameTag)) { return true; } return false; }</span></span></code> </pre> </div></div><br><p>  De multijugador todav√≠a no hay nada.  Pero este es el primer paso que se ha dado en la direcci√≥n correcta. </p><br><p>  En el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pr√≥ximo art√≠culo</a> hablar√© sobre los m√©todos para conectar <strong><em>DataAsset</em></strong> (s√≠, y cualquier <strong><em>Blueprint</em></strong> ) para leer datos en C ++, y mostrar√© cu√°l es el m√°s correcto. </p><br><p>  Si tiene preguntas o sugerencias para revelar alg√∫n aspecto con m√°s detalle, escriba los comentarios. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418913/">https://habr.com/ru/post/es418913/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418903/index.html">Cient√≠ficos: no hay suficiente CO‚ÇÇ en Marte para calentar la atm√≥sfera. La explosi√≥n del poste no ayudar√°</a></li>
<li><a href="../es418905/index.html">InlineKeyboard en Telegram Bots</a></li>
<li><a href="../es418907/index.html">C√≥mo ense√±arle a Zabbix a enviar notificaciones de problemas directamente al escritorio</a></li>
<li><a href="../es418909/index.html">Python Leads: qui√©n y por qu√© lo usa</a></li>
<li><a href="../es418911/index.html">[DotNetBook] Span: Nuevo tipo de datos .NET</a></li>
<li><a href="../es418915/index.html">Equilibrar el tr√°fico entre servidores web utilizando IP CEF en equipos de red</a></li>
<li><a href="../es418917/index.html">La seguridad comienza con un enrutador dom√©stico</a></li>
<li><a href="../es418919/index.html">Sobre el crecimiento profesional del dise√±ador y el trabajo con estr√©s. Y c√≥mo encontrar fuerza en los momentos m√°s dif√≠ciles.</a></li>
<li><a href="../es418921/index.html">4 bibliotecas que hacen la vida m√°s f√°cil para un desarrollador de React</a></li>
<li><a href="../es418923/index.html">PWA es solo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>