<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§π üö∑ üññüèæ Radio d√©finie par logiciel - comment √ßa marche? Partie 4 ü•â üë®üèΩ üë®üèæ‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, Habr. 

 La troisi√®me partie a d√©crit comment acc√©der au r√©cepteur SDR √† l'aide de Python. Nous allons maintenant nous familiariser avec le pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Radio d√©finie par logiciel - comment √ßa marche? Partie 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453038/">  Salut, Habr. <br><br>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">troisi√®me partie a</a> d√©crit comment acc√©der au r√©cepteur SDR √† l'aide de Python.  Nous allons maintenant nous familiariser avec le programme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GNU Radio</a> - un syst√®me qui vous permet de cr√©er une configuration assez complexe d'un appareil radio sans √©crire une seule ligne de code. <br><br><img src="https://habrastorage.org/webt/lz/0o/-a/lz0o-askafi53h9qmtsy0ktkdog.png"><br><br>  Par exemple, consid√©rons le probl√®me de la r√©ception parall√®le de plusieurs stations FM sur un m√™me r√©cepteur.  Nous utiliserons le m√™me RTL SDR V3 que le r√©cepteur. <br><br>  Suite sous la coupe. <a name="habracut"></a><br><br><h2>  L'installation </h2><br>  Pour commencer, GNU Radio doit √™tre install√©, le kit de distribution pour Windows peut √™tre t√©l√©charg√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Ce syst√®me est multiplateforme, il existe √©galement des versions pour Linux et OSX (il semble que GNU Radio a √©t√© lanc√© avec succ√®s sur le Raspberry Pi, mais je ne peux pas donner une garantie √† 100%). <br><br>  En fait, GNU Radio est un cadre complet pour le traitement num√©rique du signal, dans lequel le programme est ¬´assembl√©¬ª √† partir de modules s√©par√©s.  Il existe un grand nombre de blocs pr√™ts √† l'emploi, si vous le souhaitez, vous pouvez √©galement cr√©er les v√¥tres.  Les modules eux-m√™mes sont √©crits en C ++ et Python interagit les uns avec les autres.  Ceux qui le souhaitent peuvent regarder l'API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus en d√©tail</a> , mais en pratique, cela n'est probablement pas utile - toutes les actions peuvent √™tre effectu√©es visuellement dans le programme GNU Radio Companion. <br><br>  Le syst√®me se concentre sur le traitement des flux de donn√©es, de sorte que chaque bloc a g√©n√©ralement une entr√©e et une sortie.  Ensuite, en connectant les blocs dans l'√©diteur, nous obtenons un syst√®me pr√™t √† l'emploi.  L'interface GNU Radio elle-m√™me est assez simple, la difficult√© est de comprendre ce que fait un bloc.  Comme mentionn√© pr√©c√©demment, le travail de bas niveau avec SDR a un seuil d'entr√©e √©lev√© et n√©cessite des connaissances en DSP et en math√©matiques.  Mais nous consid√©rerons une t√¢che simple pour laquelle aucune connaissance particuli√®re n'est requise.  Commen√ßons donc. <br><br><h2>  Pour commencer </h2><br>  Nous lan√ßons le GNU Radio Companion, cr√©ons un nouveau projet, s√©lectionnons le type de projet WX GUI, ajoutons √† l'√©cran et connectons les deux blocs, comme indiqu√© dans la capture d'√©cran. <br><br><img src="https://habrastorage.org/webt/ap/zm/d5/apzmd5drzq9g-0fkn2yzeosagz0.png"><br><br>  Nous voyons deux types de blocs - Source (source) et Sink (sortie, "drain").  RTL-SDR est notre r√©cepteur, FFT GUI est un analyseur de spectre virtuel. <br><br>  La variable Sample Rate est d√©finie sur 2048000, c'est la fr√©quence d'√©chantillonnage de notre r√©cepteur.  La fr√©quence RTL-SDR par d√©faut est de 100 MHz. <br><br>  Nous commen√ßons le projet - tout fonctionne, nous voyons une gamme de stations FM.  Le premier programme pour GNU Radio est pr√™t! <br><br><img src="https://habrastorage.org/webt/cg/ii/mu/cgiimukqq7tujdtv-mprdvtl8wc.png"><br><br>  Si nous regardons le journal, nous verrons de telles lignes. <br><br>  <i>G√©n√©ration: 'D: \\ MyProjects \\ GNURadio \\ top_block.py'</i> <i><br></i>  <i>Ex√©cution: C: \ Python27 \ python.exe -u D: \ MyProjects \ GNURadio \ top_block.py</i> <br><br>  Oui, nous pouvons voir le fichier top_block.py que GNU Radio Companion a g√©n√©r√© pour nous.  True Jedi peut √©crire directement en Python, mais le code requis, comme nous le voyons, est assez volumineux.  Nous l'avons cr√©√© en 1 minute. <br><br><div class="spoiler">  <b class="spoiler_title">top_blocks.py</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python2 # -*- coding: utf-8 -*- ################################################## # GNU Radio Python Flow Graph # Title: Top Block # Generated: Wed May 22 22:05:14 2019 ################################################## if __name__ == '__main__': import ctypes import sys if sys.platform.startswith('linux'): try: x11 = ctypes.cdll.LoadLibrary('libX11.so') x11.XInitThreads() except: print "Warning: failed to XInitThreads()" from gnuradio import eng_notation from gnuradio import gr from gnuradio import wxgui from gnuradio.eng_option import eng_option from gnuradio.fft import window from gnuradio.filter import firdes from gnuradio.wxgui import fftsink2 from grc_gnuradio import wxgui as grc_wxgui from optparse import OptionParser import osmosdr import time import wx class top_block(grc_wxgui.top_block_gui): def __init__(self): grc_wxgui.top_block_gui.__init__(self, title="Top Block") ################################################## # Variables ################################################## self.samp_rate = samp_rate = 2048000 ################################################## # Blocks ################################################## self.wxgui_fftsink2_0 = fftsink2.fft_sink_c( self.GetWin(), baseband_freq=0, y_per_div=10, y_divs=10, ref_level=0, ref_scale=2.0, sample_rate=samp_rate, fft_size=1024, fft_rate=15, average=False, avg_alpha=None, title='FFT Plot', peak_hold=False, ) self.Add(self.wxgui_fftsink2_0.win) self.rtlsdr_source_0 = osmosdr.source( args="numchan=" + str(1) + " " + '' ) self.rtlsdr_source_0.set_sample_rate(samp_rate) self.rtlsdr_source_0.set_center_freq(100e6, 0) self.rtlsdr_source_0.set_freq_corr(0, 0) self.rtlsdr_source_0.set_dc_offset_mode(0, 0) self.rtlsdr_source_0.set_iq_balance_mode(0, 0) self.rtlsdr_source_0.set_gain_mode(False, 0) self.rtlsdr_source_0.set_gain(10, 0) self.rtlsdr_source_0.set_if_gain(20, 0) self.rtlsdr_source_0.set_bb_gain(20, 0) self.rtlsdr_source_0.set_antenna('', 0) self.rtlsdr_source_0.set_bandwidth(0, 0) ################################################## # Connections ################################################## self.connect((self.rtlsdr_source_0, 0), (self.wxgui_fftsink2_0, 0)) def get_samp_rate(self): return self.samp_rate def set_samp_rate(self, samp_rate): self.samp_rate = samp_rate self.wxgui_fftsink2_0.set_sample_rate(self.samp_rate) self.rtlsdr_source_0.set_sample_rate(self.samp_rate) def main(top_block_cls=top_block, options=None): tb = top_block_cls() tb.Start(True) tb.Wait() if __name__ == '__main__': main()</span></span></code> </pre> <br></div></div><br>  Cependant, si nous supprimons l'initialisation fastidieuse, nous verrons qu'il n'y a pas autant de lignes de code cl√©s. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> gnuradio <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gr <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> gnuradio.wxgui <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fftsink2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> osmosdr <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">top_block</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(grc_wxgui.top_block_gui)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> grc_wxgui.top_block_gui.__init__(self, title=<span class="hljs-string"><span class="hljs-string">"Top Block"</span></span>) self.samp_rate = samp_rate = <span class="hljs-number"><span class="hljs-number">2048000</span></span> self.wxgui_fftsink2_0 = fftsink2.fft_sink_c(...) self.Add(self.wxgui_fftsink2_0.win) self.rtlsdr_source_0 = osmosdr.source(args=<span class="hljs-string"><span class="hljs-string">"numchan="</span></span> + str(<span class="hljs-number"><span class="hljs-number">1</span></span>) + <span class="hljs-string"><span class="hljs-string">" "</span></span> + <span class="hljs-string"><span class="hljs-string">''</span></span> ) self.connect((self.rtlsdr_source_0, <span class="hljs-number"><span class="hljs-number">0</span></span>), (self.wxgui_fftsink2_0, <span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(top_block_cls=top_block, options=None)</span></span></span><span class="hljs-function">:</span></span> tb = top_block_cls() tb.Start(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) tb.Wait()</code> </pre><br>  Donc, fondamentalement, il peut √™tre √©crit manuellement.  Mais c'est encore plus rapide avec une souris.  Bien que la possibilit√© de modifier le code puisse parfois √™tre utile si vous souhaitez ajouter une logique non standard. <br><br><h2>  Recevoir la radio FM </h2><br>  Essayez maintenant de prendre l'une des stations.  Comme on l'a vu sur les captures d'√©cran, la fr√©quence centrale du r√©cepteur est de 100 MHz et la bande passante est d'environ 2 MHz.  Dans le spectre, nous voyons deux stations, √† 100,1 MHz et 100,7 MHz, respectivement. <br><br>  La premi√®re √©tape consiste √† transf√©rer le spectre de la station au centre, maintenant il est de 100KHz √† droite.  Pour ce faire, nous rappelons la formule de l'√©cole pour multiplier les cosinus - en cons√©quence, il y aura deux fr√©quences, la somme et la diff√©rence - la station souhait√©e se d√©placera vers le centre, ce dont nous avons besoin (et nous filtrons l'exc√©dent). <br><br>  Nous cr√©ons deux variables pour stocker les fr√©quences freq_center = 100000000 et freq_1 = 100100000, nous ajoutons √©galement un g√©n√©rateur de signal avec la fr√©quence freq_center - freq_1. <br><br><img src="https://habrastorage.org/webt/mz/kc/lq/mzkclq8dusvoy7kxqqcrbajlxzc.png"><br><br>  Parce que  Comme le syst√®me est bas√© sur Python, nous pouvons utiliser des expressions dans les champs de saisie des param√®tres, ce qui est assez pratique. <br><br>  Le diagramme devrait ressembler √† ceci: <br><br><img src="https://habrastorage.org/webt/b0/yl/7z/b0yl7z1omt-7kidj7i863nc2exq.png"><br><br>  Vous devez maintenant ajouter plusieurs blocs √† la fois - r√©duisez la fr√©quence d'horloge du signal d'entr√©e (c'est 2048KHz), filtrez le signal, appliquez-le au d√©codeur FM, puis r√©duisez √† nouveau la fr√©quence d'horloge √† 48KHz. <br><br>  Le r√©sultat est montr√© dans l'image: <br><br><img src="https://habrastorage.org/webt/8n/wq/ht/8nwqhtrflggwkkdia9xhbuok2io.png"><br><br>  Nous r√©fl√©chissons attentivement.  Nous divisons la vitesse d'horloge de 2048 KHz par 4 fois avec le bloc Rational Resampler (nous obtenons 512 KHz), puis apr√®s le filtre passe-bas, il y a un d√©codeur WBFM avec d√©cimation 10 (nous obtenons 51,2 KHz).  En principe, ce signal peut d√©j√† √™tre envoy√© √† la carte son, mais la hauteur sera l√©g√®rement diff√©rente.  Encore une fois, nous modifions la fr√©quence d'horloge √† 48/51, par cons√©quent, la fr√©quence d'horloge sera de 48,2 KHz, la diff√©rence peut d√©j√† √™tre n√©glig√©e. <br><br>  Le deuxi√®me point important est le type d'entr√©es.  Un signal IQ <i>complexe</i> (entr√©es / sorties en bleu) est re√ßu du r√©cepteur, un signal <i>r√©el</i> est √©mis par le d√©codeur FM - les entr√©es et sorties sont jaunes.  Si m√©lang√©, rien ne fonctionnera.  Plus √©tait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©j√† sur Habr√©</a> , il nous suffit de comprendre le principe g√©n√©ral. <br><br>  En g√©n√©ral, ex√©cutez, assurez-vous que tout fonctionne.  Vous pouvez ex√©cuter le programme et √©couter la radio.  Nous irons plus loin - nous avons toujours la radio <i>Software Defined</i> - nous ajouterons la r√©ception simultan√©e de la deuxi√®me station. <br><br><h2>  R√©ception multicanal </h2><br>  Le deuxi√®me r√©cepteur est ajout√© par votre m√©thode de programmation pr√©f√©r√©e - Ctrl + C / Ctrl + V.  Ajoutez la variable freq_2, copiez les blocs et connectez-les de la m√™me mani√®re. <br><br><img src="https://habrastorage.org/webt/wb/8-/do/wb8-dowoop7frpjeigt1pmb0_jo.png"><br><br>  Le r√©sultat est assez surr√©aliste - vous pouvez √©couter deux stations FM simultan√©ment.  En utilisant la m√™me m√©thode (Ctrl + V), vous pouvez ajouter une troisi√®me station. <br><br><h2>  Record </h2><br>  √âcouter deux stations de mani√®re originale, mais en pratique n'est pas tr√®s utile.  Nous ferons quelque chose de plus n√©cessaire, par exemple, ajouter un enregistrement sonore √† des fichiers s√©par√©s.  Cela peut √™tre tr√®s pratique - plusieurs canaux peuvent √™tre enregistr√©s simultan√©ment √† partir d'un seul r√©cepteur physique. <br><br>  Ajoutez un composant File Sink √† chaque sortie, comme indiqu√© dans la capture d'√©cran. <br><br><img src="https://habrastorage.org/webt/dv/-z/ah/dv-zahcv6ushuetsll7by3jyvki.png"><br><br>  La version Windows pour une raison quelconque n√©cessite des chemins de fichier absolus, sinon l'enregistrement ne fonctionne pas.  Nous commen√ßons, nous sommes convaincus que tout est normal.  La taille des fichiers enregistr√©s est assez grande, car  le format par d√©faut est float.  L'entr√©e au format int laissera les lecteurs comme devoirs. <br><br>  Les fichiers r√©sultants peuvent √™tre ouverts dans Cool Edit et assurez-vous que le son est enregistr√© normalement. <br><br><img src="https://habrastorage.org/webt/zo/oz/lx/zoozlx5plq7aw_jftgdc-ddyrl0.png"><br><br><img src="https://habrastorage.org/webt/p9/z9/tu/p9z9tuscd-0w3fa_tkdqq0qii68.png"><br><br>  Bien s√ªr, le nombre de canaux enregistr√©s peut √™tre augment√©, il n'est limit√© que par la bande passante du r√©cepteur et la puissance de l'ordinateur.  En plus de File Sink, UDP Sink peut √©galement √™tre utilis√©, de sorte que le programme peut √™tre utilis√© pour une diffusion sur le r√©seau. <br><br><h2>  Ex√©cuter √† partir de la ligne de commande </h2><br>  Et le dernier.  Si vous utilisez le programme de mani√®re autonome, par exemple, pour l'enregistrement multicanal, l'interface utilisateur, en principe, n'est pas n√©cessaire.  Dans le bloc sup√©rieur gauche d'Options, changez le param√®tre Run Options en No UI.  Ex√©cutez √† nouveau le programme, assurez-vous que tout fonctionne.  Maintenant, nous enregistrons le fichier g√©n√©r√© top_block.py - nous pouvons simplement l'ex√©cuter √† partir de la ligne de commande, par exemple √† partir d'un fichier bat ou de la console. <br><br><img src="https://habrastorage.org/webt/yp/gn/qy/ypgnqytpqchjfwsk_fung67k5ck.png"><br><br>  Si quelqu'un est int√©ress√©, le fichier g√©n√©r√© est enregistr√© sous un spoiler. <br><div class="spoiler">  <b class="spoiler_title">recorder.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python2 # -*- coding: utf-8 -*- ################################################## # GNU Radio Python Flow Graph # Title: Top Block # Generated: Fri May 24 21:47:03 2019 ################################################## from gnuradio import analog from gnuradio import audio from gnuradio import blocks from gnuradio import eng_notation from gnuradio import filter from gnuradio import gr from gnuradio.eng_option import eng_option from gnuradio.filter import firdes from optparse import OptionParser import osmosdr import time class top_block(gr.top_block): def __init__(self): gr.top_block.__init__(self, "Top Block") ################################################## # Variables ################################################## self.samp_rate = samp_rate = 2048000 self.freq_center = freq_center = 100000000 self.freq_2 = freq_2 = 100700000 self.freq_1 = freq_1 = 100100000 ################################################## # Blocks ################################################## self.rtlsdr_source_0 = osmosdr.source( args="numchan=" + str(1) + " " + '' ) self.rtlsdr_source_0.set_sample_rate(samp_rate) self.rtlsdr_source_0.set_center_freq(freq_center, 0) self.rtlsdr_source_0.set_freq_corr(0, 0) self.rtlsdr_source_0.set_dc_offset_mode(0, 0) self.rtlsdr_source_0.set_iq_balance_mode(0, 0) self.rtlsdr_source_0.set_gain_mode(False, 0) self.rtlsdr_source_0.set_gain(10, 0) self.rtlsdr_source_0.set_if_gain(20, 0) self.rtlsdr_source_0.set_bb_gain(20, 0) self.rtlsdr_source_0.set_antenna('', 0) self.rtlsdr_source_0.set_bandwidth(0, 0) self.rational_resampler_xxx_1_0 = filter.rational_resampler_fff( interpolation=48, decimation=51, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_1 = filter.rational_resampler_fff( interpolation=48, decimation=51, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_0_0 = filter.rational_resampler_ccc( interpolation=1, decimation=4, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_0 = filter.rational_resampler_ccc( interpolation=1, decimation=4, taps=None, fractional_bw=None, ) self.low_pass_filter_0_0 = filter.fir_filter_ccf(1, firdes.low_pass( 1, samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.low_pass_filter_0 = filter.fir_filter_ccf(1, firdes.low_pass( 1, samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.blocks_multiply_xx_0_0 = blocks.multiply_vcc(1) self.blocks_multiply_xx_0 = blocks.multiply_vcc(1) self.blocks_file_sink_0_0 = blocks.file_sink(gr.sizeof_float*1, 'D:\\Temp\\1\\audio2.snd', False) self.blocks_file_sink_0_0.set_unbuffered(False) self.blocks_file_sink_0 = blocks.file_sink(gr.sizeof_float*1, 'D:\\Temp\\1\\audio1.snd', False) self.blocks_file_sink_0.set_unbuffered(False) self.audio_sink_0 = audio.sink(48000, '', True) self.analog_wfm_rcv_0_0 = analog.wfm_rcv( quad_rate=samp_rate/4, audio_decimation=10, ) self.analog_wfm_rcv_0 = analog.wfm_rcv( quad_rate=samp_rate/4, audio_decimation=10, ) self.analog_sig_source_x_0_0 = analog.sig_source_c(samp_rate, analog.GR_COS_WAVE, freq_center - freq_2, 1, 0) self.analog_sig_source_x_0 = analog.sig_source_c(samp_rate, analog.GR_COS_WAVE, freq_center - freq_1, 1, 0) ################################################## # Connections ################################################## self.connect((self.analog_sig_source_x_0, 0), (self.blocks_multiply_xx_0, 1)) self.connect((self.analog_sig_source_x_0_0, 0), (self.blocks_multiply_xx_0_0, 1)) self.connect((self.analog_wfm_rcv_0, 0), (self.rational_resampler_xxx_1, 0)) self.connect((self.analog_wfm_rcv_0_0, 0), (self.rational_resampler_xxx_1_0, 0)) self.connect((self.blocks_multiply_xx_0, 0), (self.rational_resampler_xxx_0, 0)) self.connect((self.blocks_multiply_xx_0_0, 0), (self.rational_resampler_xxx_0_0, 0)) self.connect((self.low_pass_filter_0, 0), (self.analog_wfm_rcv_0, 0)) self.connect((self.low_pass_filter_0_0, 0), (self.analog_wfm_rcv_0_0, 0)) self.connect((self.rational_resampler_xxx_0, 0), (self.low_pass_filter_0, 0)) self.connect((self.rational_resampler_xxx_0_0, 0), (self.low_pass_filter_0_0, 0)) self.connect((self.rational_resampler_xxx_1, 0), (self.audio_sink_0, 0)) self.connect((self.rational_resampler_xxx_1, 0), (self.blocks_file_sink_0, 0)) self.connect((self.rational_resampler_xxx_1_0, 0), (self.audio_sink_0, 1)) self.connect((self.rational_resampler_xxx_1_0, 0), (self.blocks_file_sink_0_0, 0)) self.connect((self.rtlsdr_source_0, 0), (self.blocks_multiply_xx_0, 0)) self.connect((self.rtlsdr_source_0, 0), (self.blocks_multiply_xx_0_0, 0)) def get_samp_rate(self): return self.samp_rate def set_samp_rate(self, samp_rate): self.samp_rate = samp_rate self.rtlsdr_source_0.set_sample_rate(self.samp_rate) self.low_pass_filter_0_0.set_taps(firdes.low_pass(1, self.samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.low_pass_filter_0.set_taps(firdes.low_pass(1, self.samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.analog_sig_source_x_0_0.set_sampling_freq(self.samp_rate) self.analog_sig_source_x_0.set_sampling_freq(self.samp_rate) def get_freq_center(self): return self.freq_center def set_freq_center(self, freq_center): self.freq_center = freq_center self.rtlsdr_source_0.set_center_freq(self.freq_center, 0) self.analog_sig_source_x_0_0.set_frequency(self.freq_center - self.freq_2) self.analog_sig_source_x_0.set_frequency(self.freq_center - self.freq_1) def get_freq_2(self): return self.freq_2 def set_freq_2(self, freq_2): self.freq_2 = freq_2 self.analog_sig_source_x_0_0.set_frequency(self.freq_center - self.freq_2) def get_freq_1(self): return self.freq_1 def set_freq_1(self, freq_1): self.freq_1 = freq_1 self.analog_sig_source_x_0.set_frequency(self.freq_center - self.freq_1) def main(top_block_cls=top_block, options=None): tb = top_block_cls() tb.start() try: raw_input('Press Enter to quit: ') except EOFError: pass tb.stop() tb.wait() if __name__ == '__main__': main()</span></span></code> </pre><br></div></div><br>  Il est √©galement pratique que le syst√®me soit multiplateforme et que le programme r√©sultant puisse s'ex√©cuter sur Linux, Windows et OSX. <br><br><h2>  Conclusion </h2><br>  Nous pouvons dire que GNU Radio est un syst√®me assez compliqu√©, non pas en termes de blocs de dessin bien s√ªr, mais en termes de compr√©hension de la fa√ßon dont tout cela fonctionne.  Mais faire des choses simples est tout √† fait r√©alisable et int√©ressant.  La radio GNU est √©galement utilis√©e comme un ¬´laboratoire virtuel¬ª pour la formation - vous pouvez connecter un oscilloscope virtuel ou un analyseur de spectre √† n'importe quelle partie du circuit et voir √† quoi ressemble le signal. <br><br>  S'il n'y a pas de souhait individuel, le sujet de la r√©ception SDR peut probablement √™tre ferm√© - tous les points principaux ont d√©j√† √©t√© pris en compte, et le nombre de vues de la premi√®re √† la troisi√®me partie diminue <a href="">presque exponentiellement</a> (bien que vous puissiez toujours √©crire sur le transfert, mais cela n√©cessite un prix plus √©lev√© " mat√©riel ¬ªpour les tests que RTL SDR).  N√©anmoins, j'esp√®re qu'une certaine compr√©hension de la fa√ßon dont cela fonctionne reste avec les lecteurs.  Eh bien, toutes les exp√©riences r√©ussies. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453038/">https://habr.com/ru/post/fr453038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453026/index.html">Comment augmenter la productivit√© de l'√©quipe plusieurs fois</a></li>
<li><a href="../fr453028/index.html">Aide visuelle sur le microcircuit de l'appareil</a></li>
<li><a href="../fr453030/index.html">√Ä l'aide d'une imprimante 3D, il a √©t√© possible de sauver la voiture qui a particip√© au Grand Prix de 1914</a></li>
<li><a href="../fr453032/index.html">We play adult cars-2: comment nous sommes devenus un fournisseur de t√©l√©matique pour le covoiturage et avons ouvert 5 bureaux √† travers le monde</a></li>
<li><a href="../fr453034/index.html">P√®re a cr√©√© une proth√®se bionique pour son fils √† l'aide d'une imprimante 3D et d'une X-Box</a></li>
<li><a href="../fr453042/index.html">FAQ sur Windows Terminal Build 2019</a></li>
<li><a href="../fr453044/index.html">Le pas tant attendu vers des documents structur√©s de mani√®re complexe (+ vid√©o)</a></li>
<li><a href="../fr453046/index.html">Utilisation de toutes les fonctionnalit√©s des index dans PostgreSQL</a></li>
<li><a href="../fr453056/index.html">Prototypage d'un jeu mobile, par o√π commencer et comment le faire. Partie 1</a></li>
<li><a href="../fr453058/index.html">L'IA a appris √† cr√©er une vid√©o √† partir d'une image. De vieilles peintures peuvent maintenant √™tre rendues vivantes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>