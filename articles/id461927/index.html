<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤛🏿 📥 📺 Pembelajaran Peringkat Aktif 💂 👨‍🏭 ☮️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dengan posting ini saya membuka seri di mana kolega saya dan saya akan memberi tahu Anda bagaimana ML digunakan dalam Pencarian Mail.ru. Hari ini saya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembelajaran Peringkat Aktif</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/461927/">  Dengan posting ini saya membuka seri di mana kolega saya dan saya akan memberi tahu Anda bagaimana ML digunakan dalam Pencarian Mail.ru.  Hari ini saya akan menjelaskan bagaimana peringkat diatur dan bagaimana kami menggunakan informasi tentang interaksi pengguna dengan mesin pencari kami untuk membuat mesin pencari lebih baik. <br><br><h2>  Tugas peringkat </h2><br>  Apa yang dimaksud dengan tugas peringkat?  Bayangkan bahwa dalam sampel pelatihan ada sejumlah pertanyaan yang urutan dokumen berdasarkan relevansinya diketahui.  Misalnya, Anda tahu dokumen mana yang paling relevan, mana yang paling relevan kedua, dll.  Dan Anda perlu memulihkan pesanan ini untuk seluruh populasi.  Artinya, untuk semua permintaan dari populasi umum, tempat pertama adalah meletakkan dokumen yang paling relevan, dan yang terakhir - yang paling tidak relevan. <br><br>  Mari kita lihat bagaimana masalah tersebut diselesaikan di mesin pencari besar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f7/a52/6c3/7f7a526c333c1e49c186b045e8dc86f6.png" width="600"></div><a name="habracut"></a><br>  Kami memiliki indeks pencarian - ini adalah database dari banyak miliaran dokumen.  Ketika permintaan datang, kami pertama-tama membuat daftar kandidat untuk peringkat akhir menggunakan model teks sederhana.  Opsi termudah adalah mengambil dokumen yang pada prinsipnya mengandung kata-kata dari permintaan.  Mengapa langkah ini perlu?  Faktanya adalah bahwa tidak mungkin bagi semua dokumen yang tersedia untuk membuat tanda-tanda dan membuat perkiraan model akhir.  Setelah kita sudah menghitung tanda-tandanya.  Tanda-tanda apa yang bisa kita ambil?  Misalnya, jumlah kemunculan kata dari kueri dalam dokumen atau jumlah klik pada dokumen yang diberikan.  Anda dapat menggunakan faktor rumit yang dilatih mesin: kami dalam Pencarian menggunakan jaringan saraf memprediksi relevansi dokumen sesuai permintaan dan memasukkan perkiraan ini dengan kolom baru di ruang fitur kami. <br><br>  Kenapa kita melakukan semua ini?  Kami ingin memaksimalkan metrik pengguna sehingga pengguna dapat menemukan hasil yang relevan dalam hasil kami semudah mungkin dan kembali kepada kami sesering mungkin. <br><br>  Model akhir kami menggunakan ansambel pohon keputusan yang dibangun menggunakan gradient boosting.  Ada dua opsi untuk membangun metrik target untuk pelatihan: <br><br><ul><li>  Kami menciptakan departemen penilai - orang-orang yang terlatih secara khusus kepada siapa kami memberikan pertanyaan dan mengatakan: "Kawan, evaluasi seberapa relevan penerbitan kami."  Mereka akan merespons dengan angka yang mengukur relevansi.  Mengapa pendekatan ini buruk?  Dalam hal ini, kami akan memaksimalkan model sehubungan dengan pendapat orang-orang yang bukan pengguna kami.  Kami tidak akan mengoptimalkan untuk metrik yang ingin kami optimalkan. <br></li><li>  Karena alasan ini, kami menggunakan pendekatan kedua untuk variabel target: kami menunjukkan hasil kepada pengguna, melihat ke dokumen mana mereka lolos, mana yang dilewati.  Dan kemudian kita menggunakan data ini untuk melatih model akhir. <br></li></ul><br><h2>  Bagaimana masalah peringkat diselesaikan? </h2><br>  Ada tiga pendekatan untuk menyelesaikan masalah peringkat: <br><br><ul><li>  <b>Searah</b> , itu <b>searah</b> .  Kami akan mempertimbangkan relevansi sebagai ukuran absolut dan akan mendenda model untuk perbedaan absolut antara relevansi yang diprediksi dan yang kami ketahui dari sampel pelatihan.  Sebagai contoh, penilai memberi dokumen peringkat 3, dan kami akan mengatakan 2, jadi kami mendenda model tersebut dengan 1. <br></li><li>  <b>Berpasangan</b> , berpasangan.  Kami akan membandingkan dokumen satu sama lain.  Misalnya, dalam sampel pelatihan ada dua dokumen, dan kami tahu mana yang lebih relevan untuk permintaan ini.  Maka kami akan mendenda model jika menempatkan perkiraan lebih rendah dari yang kurang relevan, yaitu, pasangan tersebut diatur secara tidak benar. <br></li><li>  <b>Listwise</b> .  Ini juga didasarkan pada relevansi relatif, tetapi tidak di dalam pasangan: kami peringkat seluruh masalah dengan model dan mengevaluasi hasilnya - jika dokumen yang paling relevan tidak di tempat pertama, kami mendapatkan denda yang besar. <br></li></ul><br>  Pendekatan mana yang lebih baik digunakan untuk variabel target kami?  Untuk melakukan ini, ada baiknya membahas pertanyaan penting: "dapatkah klik digunakan sebagai ukuran relevansi absolut suatu dokumen?"  Itu tidak mungkin, karena mereka bergantung pada posisi dokumen dalam masalah ini.  Setelah menerima masalah, Anda kemungkinan besar mengklik dokumen yang akan lebih tinggi, karena bagi Anda tampaknya dokumen pertama lebih relevan. <br><br>  Bagaimana hipotesis semacam itu dapat diverifikasi?  Kami mengambil dua dokumen di bagian atas masalah dan menukarnya.  Jika klik adalah ukuran relevansi absolut, maka jumlah mereka hanya akan bergantung pada dokumen itu sendiri, dan bukan pada posisi.  Tapi ini tidak benar.  Dokumen di atas selalu mendapat lebih banyak klik.  Oleh karena itu, klik tidak pernah dapat digunakan sebagai ukuran relevansi absolut.  Oleh karena itu, Anda dapat menggunakan salah satu dari keduanya secara berpasangan atau dengan arah daftar. <br><br><h2>  Kami mengumpulkan dataset </h2><br>  Sekarang kita mengekstrak data untuk set pelatihan.  Kami memiliki sesi ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9e/3c4/81c/a9e3c481c03dfce37e71ffc73485afc3.png" width="200"></div><br>  Dari empat dokumen, ada klik pada yang kedua dan keempat.  Sebagai aturan, orang menonton hasilnya dari atas ke bawah.  Anda melihat dokumen pertama, Anda tidak suka, mengklik yang kedua.  Kemudian mereka kembali ke pencarian, melihat yang ketiga dan mengklik yang keempat.  Jelas, Anda menyukai yang kedua lebih dari yang pertama, dan yang keempat lebih dari yang pertama dan ketiga.  Ini adalah pasangan yang kami hasilkan untuk semua permintaan dan kami menggunakan model untuk pelatihan. <br><br>  Segalanya tampak baik-baik saja, tetapi ada satu masalah: orang hanya mengklik dokumen dari bagian paling atas masalah.  Oleh karena itu, jika Anda membuat sampel pelatihan hanya dengan cara ini, maka distribusi di dalamnya akan sama persis dengan sampel uji.  Penting untuk menyelaraskan distribusi.  Kami melakukan ini dengan menambahkan contoh negatif: ini adalah dokumen yang berada di bawah peringkat, pengguna pasti tidak melihatnya, tetapi kami tahu bahwa itu buruk. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fc4/a4e/993/fc4a4e993e6c5611ffb36af4385fed7b.png" width="300"></div><br>  Jadi, kami mendapat skema pelatihan peringkat seperti itu: menunjukkan kepada pengguna hasil, mengumpulkan klik dari mereka, menambahkan contoh negatif untuk menyelaraskan distribusi, dan melatih kembali model peringkat.  Dengan demikian, kami memperhitungkan reaksi pengguna terhadap peringkat Anda saat ini, memperhitungkan kesalahan dan meningkatkan peringkat tersebut.  Kami mengulangi prosedur ini berkali-kali hingga konvergensi.  Penting untuk dicatat bahwa kita mencari tidak hanya oleh web, tetapi juga oleh video, gambar, dan skema yang dijelaskan bekerja dengan baik di semua jenis pencarian.  Akibatnya, metrik perilaku tumbuh sangat banyak.  Pada iterasi kedua, itu sedikit lebih kecil, pada iterasi ketiga itu bahkan lebih kecil, dan sebagai hasilnya konvergen ke optimum lokal. <br><br>  Mari kita pikirkan mengapa kita bertemu pada optimum lokal, dan bukan pada optimum global. <br><br>  Misalkan Anda adalah penggemar sepak bola dan pada malam hari tidak punya waktu untuk menonton pertandingan tim favorit Anda.  Bangun di pagi hari dan masukkan nama tim di bilah pencarian untuk mengetahui hasil pertandingan.  Lihat tiga dokumen pertama - ini adalah halaman resmi tentang klub, tidak ada informasi berguna.  Anda tidak akan membuka seluruh masalah, tidak akan mengambil permintaan lain.  Mungkin Anda bahkan mengklik beberapa dokumen yang tidak relevan.  Tapi sebagai hasilnya, kesal, tutup SERP dan buka mesin pencari lainnya. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f2/fdf/388/1f2fdf3881703461703e82dd9881c673.png"><br><br>  Meskipun masalah ini tidak hanya ditemukan dalam pencarian, itu sangat relevan di sini.  Bayangkan sebuah toko online, yang merupakan satu pita besar tanpa kemampuan untuk mengatakan kategori produk mana yang ingin Anda lihat.  Inilah yang terjadi dengan hasil pencarian: setelah mengirim permintaan, Anda tidak dapat lagi menjelaskan apa yang benar-benar Anda butuhkan: informasi tentang tim sepak bola atau skor pertandingan terakhir. <br><br>  Bayangkan bahwa beberapa pria brutal pergi ke toko online yang aneh, yang terdiri dari satu rekaman rekomendasi, dan dalam rekomendasinya dia hanya melihat barang-barang wanita.  Mungkin dia bahkan mengklik beberapa gaun, karena dikenakan pada seorang gadis cantik.  Kami akan mengirimkan klik ini ke set pelatihan dan memutuskan bahwa pria itu menyukai gaun ini lebih dari sepon.  Ketika dia kembali ke sistem kami, dia sudah akan melihat beberapa gaun.  Awalnya, kami tidak memiliki produk yang valid untuk pengguna, jadi pendekatan ini tidak akan memungkinkan kami untuk memperbaiki kesalahan ini.  Kami berada dalam kondisi lokal yang optimal, di mana orang miskin tidak dapat lagi memberi tahu kami bahwa ia tidak menyukai spons atau pakaian.  Seringkali masalah ini disebut masalah umpan balik positif. <br><br><h2>  Perbaikan lebih lanjut </h2><br>  Bagaimana cara membuat mesin pencari lebih baik?  Bagaimana cara keluar dari optimal lokal?  Faktor-faktor baru perlu ditambahkan.  Misalkan kita membuat faktor yang sangat bagus bahwa, atas permintaan dengan nama tim sepak bola, akan memunculkan dokumen yang relevan, yaitu, hasil pertandingan terakhir.  Apa yang bisa menjadi masalah di sini?  Jika Anda melatih model pada data lama, pada data offline, maka ambil dataset lama dengan klik dan tambahkan atribut ini di sana.  Ini mungkin relevan, tetapi Anda belum menggunakannya di peringkat sebelumnya, dan karena itu orang tidak mengklik pada dokumen-dokumen yang atributnya baik.  Itu tidak berkorelasi dengan variabel target Anda, jadi itu tidak akan digunakan oleh model. <br><br>  Dalam kasus seperti itu, kami sering menggunakan solusi ini: melewati model terakhir, kami memaksa peringkat kami untuk menggunakan fitur ini.  Kami secara paksa menunjukkan hasil pertandingan terakhir berdasarkan permintaan dengan nama tim, dan jika pengguna mengkliknya, maka bagi kami ini adalah informasi yang memungkinkan kami untuk memahami bahwa tandanya baik. <br><br>  Mari kita lihat sebuah contoh.  Baru-baru ini kami membuat foto-foto indah untuk dokumen Instagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/229/b9f/da0/229b9fda0570937619fc62b946ff81cb.png"><br><br>  Tampaknya gambar-gambar indah seperti itu harus memuaskan pengguna kami sebanyak mungkin.  Jelas, kita perlu membuat tanda bahwa dokumen tersebut memiliki gambar seperti itu.  Kami menambah dataset, melatih model pemeringkatan dan melihat bagaimana fitur ini digunakan.  Dan kemudian kami menganalisis perubahan dalam metrik perilaku.  Mereka sedikit membaik, tetapi apakah ini solusi terbaik? <br><br>  Tidak, karena untuk banyak permintaan Anda tidak menampilkan gambar yang indah.  Anda tidak memberikan kesempatan kepada pengguna untuk menunjukkan bagaimana dia menyukai mereka.  Untuk mengatasi masalah ini, untuk beberapa permintaan yang melibatkan memperlihatkan dokumen-dokumen Instagram, dengan paksa melewati model kami menunjukkan gambar-gambar indah dan melihat apakah mereka mengkliknya.  Segera setelah pengguna menghargai inovasi, mereka mulai melatih kembali model pada dataset, di mana pengguna memiliki kesempatan untuk menunjukkan pentingnya faktor ini.  Setelah prosedur ini, pada dataset baru, faktor mulai digunakan berkali-kali lebih sering dan secara signifikan meningkatkan metrik pengguna. <br><br><hr><br>  Jadi, kami memeriksa pernyataan masalah peringkat dan membahas jebakan yang akan menunggu Anda saat mempelajari umpan balik dari pengguna.  Hal utama yang harus Anda ambil dari artikel ini: menggunakan umpan balik sebagai target pelatihan, ingatlah bahwa pengguna dapat meninggalkan umpan balik ini hanya jika model saat ini memungkinkannya.  Umpan balik semacam itu dapat mempermainkan Anda ketika mencoba membangun model pembelajaran mesin baru. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461927/">https://habr.com/ru/post/id461927/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461907/index.html">Analitik produk di studio siklus penuh</a></li>
<li><a href="../id461913/index.html">Kegunaan seluler dalam e-Commerce: analisis toko online TOP-20 di Rusia</a></li>
<li><a href="../id461919/index.html">Menggunakan kembali formulir pada Bereaksi</a></li>
<li><a href="../id461921/index.html">HDMI-LVDS. Pengembangan pada TSUMV59 dari MStar</a></li>
<li><a href="../id461923/index.html">JetBrains Open Day di St. Petersburg: video</a></li>
<li><a href="../id461929/index.html">Memantau dan memeriksa status SSD di Linux</a></li>
<li><a href="../id461935/index.html">Cara bekerja dengan Postgres in Go: praktik, fitur, nuansa</a></li>
<li><a href="../id461937/index.html">Hukum Parkinson dan cara melanggarnya</a></li>
<li><a href="../id461939/index.html">Tahun petualangan dengan graphene-python</a></li>
<li><a href="../id461941/index.html">Pijat itu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>