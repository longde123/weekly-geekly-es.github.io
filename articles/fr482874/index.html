<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧‍👦 🛋️ 🕞 La mort de Koshchei dans la liste des recommandations (pouvez-vous rendre YouTube confortable et sûr?) 👩‍👦 🕵🏿 👩🏿‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'introduction est courte: je veux parler du lecteur en ligne YouTube pour Android avec des listes de lecture, des chaînes et des recommandations loca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La mort de Koshchei dans la liste des recommandations (pouvez-vous rendre YouTube confortable et sûr?)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482874/"><p>  L'introduction est courte: je veux parler du lecteur en ligne YouTube pour Android avec des listes de lecture, des chaînes et des recommandations locales. </p><br><p><img src="https://habrastorage.org/webt/v6/gi/jr/v6gijredqlwmps9caerjcock7hi.png"></p><br><h4 id="vstuplenie-razvernutoe">  L'introduction est détaillée </h4><br><p>  Il y a quelque temps, j'ai rencontré exactement le même problème que l'auteur de la merveilleuse application <a href="https://habr.com/ru/post/421451/">Channel Whitelist</a> , et j'ai déterminé exactement la même attitude à son égard: je veux pouvoir donner à mon enfant une tablette ou un smartphone avec des dessins animés de temps en temps, mais je ne suis pas du tout content, où en 2-3 clics, l'enfant obtient une liste de recommandations dans les applications standard - clients YouTube. </p><br><p>  Malheureusement, après avoir installé l'application Channel Whitelist, il a déjà découvert une autre faille plus prosaïque, mais toujours fatale - <s>NIH</s> (et, surtout, son fils) n'a pas trouvé son interface très pratique, surtout après avoir l'habitude d'utiliser le lecteur YouTube Kids. </p><br><p>  En général, après un certain temps, j'ai mûri pour faire ma mise en œuvre.  Après un certain temps, il est devenu possible de mettre le tag sur la première version. </p><br><p>  Caractéristiques clés: </p><br><ul><li>  Ajoutez vos chaînes et listes de lecture préférées - elles seront enregistrées et indexées dans la base de données locale </li><li>  Désactivez les vidéos supplémentaires dans les listes de lecture ajoutées si vous n'en avez pas besoin </li><li>  La liste des recommandations est générée aléatoirement uniquement à partir des chaînes et des listes de lecture ajoutées à l'application. </li></ul><br><p>  Les sources sont ouvertes, licence GPLv3: <a href="https://github.com/sadr0b0t/yashlang/">https://github.com/sadr0b0t/yashlang/</a> </p><br><p>  Découvrez plus en détail les principales fonctionnalités, ainsi que quelques détails techniques sur la façon de lire des vidéos YouTube dans votre application Android sans utiliser les API Google et les wrappers Web. </p><a name="habracut"></a><br><h3 id="na-glavnom-ekrane-i-na-ekrane-pleera-sluchaynye-rekomendacii-iz-nesluchaynyh-kanalov">  Sur l'écran principal et sur l'écran du lecteur: recommandations aléatoires de canaux non aléatoires </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/xm/4a/xq/xm4axqnezlqjwvp9wvli8jqwzlg.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/ty/zu/p2/tyzup21qm5fqylfdbeusvaksfts.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/o9/ot/xv/o9otxvwiwfps_acte3fjlw-yzao.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/w2/tc/ko/w2tckomrdku1pbpcp0owbwlwnbq.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/q7/xq/nc/q7xqncnblxcnqg2mkvg2s_pfb_o.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nf/vw/lx/nfvwlx-kkiwjzshn4qimtjiq65c.png" width="600"></a> </p><br><h3 id="mgnovennyy-poisk-po-lokalnoy-baze">  Recherche de base de données locale instantanée </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/nv/p8/ga/nvp8gak5tcomv-ybxxnumk3-wfo.png" width="190"></a>  =&gt; <a href=""><img src="https://habrastorage.org/webt/v6/gi/jr/v6gijredqlwmps9caerjcock7hi.png" width="560"></a> </p><br><h3 id="dobavit-novyy-kanal-ili-pleylist">  Ajouter une nouvelle chaîne ou liste de lecture </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/qc/1e/p6/qc1ep6rpukdgrbfmiwaivprjx1w.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/3c/y3/qm/3cy3qmvnqncbg-cmxfdll7xtgog.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/u8/ki/xf/u8kixf0ygibuyaahrbjjfl0obcq.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/x8/c0/kx/x8c0kx1f8tbsqov0fgu4lpejzbs.png" width="190"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/mr/er/it/mreritulfhtlbskcxchxzh-4qti.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/vo/ao/jn/voaojnv-b7kfdperixfcm618_tg.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/hu/ad/3t/huad3tbkk36d3udfwpfhgozfhfu.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/fe/2x/1p/fe2x1pyha_ccukl_mvweghasmqy.png" width="190"></a> </p><br><p>  Recherchez par nom en ligne ou insérez une adresse connue.  La liste des clips de chaîne ou de playlist est enregistrée dans la base de données locale, les icônes ne sont pas mises en cache. </p><br><h3 id="dinamicheskiy-pleylist--igrat-rezultaty-poiska">  Liste de lecture dynamique - lecture des résultats de recherche </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/mw/bb/su/mwbbsuevmg76hrqojuw_hy25rrk.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/zq/wi/bd/zqwibdvjxb-lu8wgkmz96mhjsye.png" width="200"></a>  =&gt; <a href=""><img src="https://habrastorage.org/webt/av/du/mq/avdumqw_ak4pjgiqpjpseqpluky.png" width="200"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/yp/u_/8h/ypu_8hv-3avu1eodjuckeuat-sg.png" width="600"></a> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/ka/lq/f7/kalqf78l73h7fraeb8lh3z5vtbe.png" width="600"></a> </p><br><p>  Dans les recommandations ci-dessous, la vidéo ne contiendra que des vidéos répondant à la requête de recherche. </p><br><p>  De même, si vous ouvrez une vidéo à partir des paramètres de la liste de lecture, seuls les clips de la même liste de lecture seront dans la liste des recommandations. </p><br><h3 id="pleylisty-i-kanaly-mozhno-vremenno-vyklyuchat-i-snova-vklyuchat">  Les listes de lecture et les chaînes peuvent être temporairement désactivées puis réactivées </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/tz/64/9z/tz649zfck92hi9jtpd1lbln4u1k.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/p5/om/38/p5om38mwyx6kil7qufh9jzqjbf0.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/1x/zo/n6/1xzon61-sbzhypdbvfvspnmrgsm.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/af/3d/lw/af3dlwczwlmfjkbvacyombog0fa.png" width="190"></a> </p><br><p>  <em>Remarque: les vidéos de la liste de lecture désactivée disparaîtront également des résultats de recherche, de l'historique de navigation et de votre liste de favoris.</em>  <em>Mais ne vous inquiétez pas, ils réapparaîtront immédiatement après la réactivation de la liste de lecture.</em> </p><br><h3 id="vnesti-rolik-v-chernyy-spisok">  Liste noire </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/de/yg/fa/deygfamvxtgx4vexzp4b7rvclwg.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/pc/p9/_0/pcp9_0bp_zsgfaaf9q6wetmh988.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/go/k0/26/gok026tul7xfp8y76jtb8_ay9a0.png" width="200"></a> </p><br><p>  Un clip bloqué n'apparaîtra pas dans les recommandations, dans les résultats de recherche, disparaîtra de votre liste de favoris et de votre historique de navigation.  La vidéo sera toujours visible dans les paramètres de la playlist. </p><br><p>  Affichez la liste noire et réactivez les éléments bloqués par erreur: <br>  <em>Paramètres&gt; menu d'en-tête&gt; Liste noire</em> </p><br><p> <a href=""><img src="https://habrastorage.org/webt/6t/ew/-r/6tew-rtkldkr8wb2ps0tf9co3qk.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/kn/6v/ke/kn6vke96-92lpkwopb58z0tlmyo.png" width="200"></a> </p><br><h3 id="lyubimye-roliki-i-istoriya-prosmotrov">  Vidéos favorites et historique des vidéos regardées </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/qp/iy/9m/qpiy9mzysnj_q9yxcuohsochhh0.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/f-/ka/vz/f-kavza5992wz030cq0ef6rodjk.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/r-/wz/za/r-wzza9nzhzez17vzkbubiel528.png" width="200"></a> </p><br><p>  Les vidéos favorites sur l'écran du lecteur sont marquées d'un astérisque dans le coin supérieur droit. </p><br><h3 id="kontekstnye-menyu-v-zagolovke-ekrana-i-po-dolgomu-kliku-v-galereyah-i-spiskah">  Menus contextuels dans le titre de l'écran et clic long dans les galeries et les listes </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/3f/pg/4a/3fpg4a-zqgn0h10pft56x6p_-fi.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/ju/zg/-a/juzg-a9o97kykwzriroe_lnukt4.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/ie/fb/-7/iefb-7yqxaym3ristff37huzz4s.png" width="190"></a> <a href=""><img src="https://habrastorage.org/webt/nl/uf/-w/nluf-w464pfo-fmle_qn0xm9gpk.png" width="190"></a> </p><br><p>  Copiez le nom ou l'adresse de la vidéo ou de la liste de lecture sur l'écran de visualisation ou dans n'importe quelle liste. </p><br><h2 id="bystryy-start--dobavit-rekomendovannye-kanaly-i-pleylisty">  Démarrage rapide - Ajouter des chaînes et des listes de lecture recommandées </h2><br><p> <a href=""><img src="https://habrastorage.org/webt/bb/82/_y/bb82_ydj_6j9qrkwqhdmakps-hc.png" width="200"></a> <a href=""><img src="https://habrastorage.org/webt/nt/6m/hm/nt6mhmnlggxi3n1z43rhprgidh4.png" width="200"></a>  =&gt; <a href=""><img src="https://habrastorage.org/webt/mg/pz/by/mgpzbyxxq2u2ioeqmr2nlkuf_qg.png" width="200"></a> </p><br><p>  L'application ressemblera immédiatement aux captures d'écran ci-dessus. </p><br><p>  Les chaînes et listes de lecture inutiles peuvent être désactivées ou supprimées dans les paramètres. </p><br><h2 id="ustanovka">  L'installation </h2><br><p>  Page du projet: <a href="https://github.com/sadr0b0t/yashlang/">https://github.com/sadr0b0t/yashlang/</a> <br>  en anglais: <a href="">https://github.com/sadr0b0t/yashlang/blob/master/README.en.md</a> <br>  versions: <a href="https://github.com/sadr0b0t/yashlang/releases">https://github.com/sadr0b0t/yashlang/releases</a> </p><br><ul><li>  Il n'y a pas de Google sur et bientôt (Google interdit les applications qui contournent l'API analysant leur site, y compris le Channel Whitelist ou le lecteur NewPipe mentionné) </li><li>  Collecter depuis la source: <a href="https://github.com/sadr0b0t/yashlang/">https://github.com/sadr0b0t/yashlang/</a> </li><li>  Téléchargez l'apk depuis la section des versions: <a href="https://github.com/sadr0b0t/yashlang/releases">https://github.com/sadr0b0t/yashlang/releases</a> </li><li>  J'espère qu'après un certain temps, il apparaîtra dans le catalogue <a href="https://f-droid.org/">F-Droid</a> (la <a href="https://gitlab.com/fdroid/rfp/issues/1162">demande d'ajout semble être approuvée</a> , mais n'a pas évolué depuis près d'un mois), mais pas </li></ul><br><p>  Gardez à l'esprit que le basculement entre différentes versions de différentes sources sur le même appareil ne fonctionnera pas en raison de signatures différentes du fichier apk, avant d'installer la version à partir d'une nouvelle source, vous devrez d'abord supprimer la version installée avec les données - cache de playlist et historique de navigation (ou comprendre comment ceux-ci transfert de données). </p><br><h2 id="tehnicheskie-detali">  Détails techniques </h2><br><p>  Ne nécessite pas de compte Google / YouTube, seul Internet est nécessaire, utilise des bibliothèques: </p><br><ul><li>  <a href="https://github.com/TeamNewPipe/NewPipeExtractor/">NewPipeExtractor</a> pour recevoir des données du service YouTube et </li><li>  <a href="https://exoplayer.dev/">ExoPlayer</a> pour lire des vidéos. </li></ul><br><p>  Open source, licence GPLv3 gratuite. </p><br><p>  <em>Question: Est-il légal d'analyser des sites sans la permission (ou avec une interdiction explicite) des auteurs?</em>  <em><a href="https://channelwhitelist.tilda.ws/">Google supprime les applications de Google</a> qui n'utilisent pas leurs API, mais analysent leurs sites, car</em>  <em>ils violent leur accord d'utilisation.</em> <br>  <em>réponse: bien sûr, légalement, c'est à vous de décider quel outil utiliser pour lire les informations accessibles au public.</em>  <em>De plus: le <a href="https://habr.com/ru/company/globalsign/blog/466911/">tribunal américain a complètement légalisé le grattage de sites Web et a interdit qu'il soit techniquement gêné</a> , mais Gul peut avoir une opinion différente, je n'ai personnellement pas envie d'aller devant le tribunal américain pour les convaincre.</em> </p><br><h2 id="nemnogo-koda">  Du code </h2><br><p>  La bibliothèque <a href="https://github.com/TeamNewPipe/NewPipeExtractor/">NewPipeExtractor</a> est un projet auxiliaire du lecteur <a href="https://github.com/TeamNewPipe/NewPipe">NewPipe</a> qui vous permet de télécharger une liste de clips pour une chaîne ou une liste de lecture spécifiée, de télécharger des informations détaillées sur une vidéo connue (ce qui est visible sur la page Web de la vidéo), de recevoir l'adresse de l'icône vidéo et également de recevoir l'adresse du flux vidéo. </p><br><p>  Le code pour télécharger la playlist est un peu lourd, donc je ne le donnerai pas ici, à quiconque est intéressé - regardez la source, en gros c'est la classe <a href="">ContentLoader</a> . </p><br><p>  Voyons comment obtenir l'adresse du flux vidéo à l'adresse de la page publique de la vidéo et la lire dans le lecteur. </p><br><p>  Connectez la bibliothèque à <br>  <a href="https://github.com/sadr0b0t/yashlang/blob/master/app/build.gradle">app / build.gradle</a> </p><br><pre><code class="json hljs">dependencies { ... // NewPipe: youtube parser // https://github.com/TeamNewPipe/NewPipeExtractor implementation <span class="hljs-string"><span class="hljs-string">"com.github.TeamNewPipe:NewPipeExtractor:v0.17.4"</span></span> ... }</code> </pre> <br><p>  Il est curieux qu’après cela, il ne puisse plus être utilisé, car  les exemples ne jurent que par la classe Downloader manquante.  Il peut être copié dans le projet à partir du catalogue de tests automatiques <a href="">NewPipeExtractor / extractor / src / test / java / org / schabi / newpipe / Downloader.java</a> - fonctionne pour la version 0.17.4 (il semble que dans la nouvelle version de la bibliothèque, cette partie a été refaite, mais encore besoin de vérifier). </p><br><p>  Obtenez l'adresse du flux vidéo à l'adresse de la page vidéo sur le site YouTube: </p><br><p>  <a href="">app / src / main / java / su / sadrobot / yashlang / controller / ContentLoader.java</a> </p><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extractYtStreamUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String ytVidUrl)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ExtractionException, IOException </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// https://github.com/TeamNewPipe/NewPipeExtractor/blob/dev/extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/YoutubeStreamExtractorDefaultTest.java NewPipe.init(Downloader.getInstance(), new Localization("GB", "en")); final YoutubeStreamExtractor extractor = (YoutubeStreamExtractor) YouTube .getStreamExtractor(ytVidUrl); extractor.fetchPage(); final String streamUrl = extractor.getVideoStreams().size() &gt; 0 ? extractor.getVideoStreams().get(0).getUrl() : null; // for (final VideoStream stream : extractor.getVideoStreams()) { // stream.getUrl(); // } return streamUrl; }</span></span></code> </pre> <br><p>  L'adresse vidéo de ytVidUrl peut être l'adresse publique de la page de n'importe quelle vidéo sur le site Web YouTube, par exemple <a href="https://www.youtube.com/watch%3Fv%3Dpd2RlatmNRk">https://www.youtube.com/watch?v=pd2RlatmNRk</a> </p><br><p>  Le joueur sera <a href="https://exoplayer.dev/">ExoPlayer</a> de Google lui-même.  Ce n'est pas un wrapper Web sur YouTube, mais un véritable lecteur intégré pour lire toutes les vidéos, assez flexible et personnalisable.  Y compris la possibilité de lire des flux vidéo à partir de YouTube, si vous spécifiez l'adresse correcte.  Nous venons de recevoir l'adresse du flux, nous allons donc voir comment l'envoyer au lecteur. </p><br><p>  Connectez la bibliothèque au <a href="https://github.com/sadr0b0t/yashlang/blob/master/app/build.gradle">projet app / build.gradle</a> : </p><br><pre> <code class="json hljs">dependencies { ... // google Exoplayer // https://github.com/google/ExoPlayer // https://exoplayer.dev/ implementation 'com.google.android.exoplayer:exoplayer:<span class="hljs-number"><span class="hljs-number">2.10</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span>' ... }</code> </pre> <br><p>  Nous ne prendrons pas en compte toutes les nuances du placement du composant lecteur sur l'écran de l'application (vous pouvez consulter les exemples sur le site Web du projet ou dans le code), nous verrons uniquement comment commencer à lire des vidéos à partir de YouTube dans le lecteur à l'adresse ci-dessus: </p><br><p>  <a href="">app / src / main / java / su / sadrobot / yashlang / WatchVideoActivity.java</a> </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playVideoStream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String streamUrl, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> seekTo)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (streamUrl == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//    ,    videoPlayerView.getPlayer().stop(true); } else { // https://exoplayer.dev/ // https://github.com/google/ExoPlayer final Uri mp4VideoUri = Uri.parse(streamUrl); final MediaSource videoSource = new ProgressiveMediaSource.Factory(videoDataSourceFactory) .createMediaSource(mp4VideoUri); //     ,    if (videoPlayerView.getPlayer().getPlaybackState() != Player.STATE_ENDED) { //       ,      ,  //  ,     STATE_ENDED,     //  . //    getPlayWhenReady()  true,    . // https://github.com/google/ExoPlayer/issues/2272 videoPlayerView.getPlayer().setPlayWhenReady(false); } // Prepare the player with the source. ((SimpleExoPlayer) videoPlayerView.getPlayer()).prepare(videoSource); //        // (  -  -  ,      //  seek  , ,    -   seek   ) // Exoplayer plays new Playlist from the beginning instead of provided position // https://github.com/google/ExoPlayer/issues/4375 // How to load stream in the desired position? #2197 // https://github.com/google/ExoPlayer/issues/2197 //     duration   ,     //if(seekTo &gt; 0 &amp;&amp; seekTo &lt; videoPlayerView.getPlayer().getDuration()) { if (seekTo &gt; 0) { //  5   videoPlayerView.getPlayer().seekTo(seekTo - 5000 &gt; 0 ? seekTo - 5000 : 0); } videoPlayerView.getPlayer().setPlayWhenReady(true); } }</span></span></code> </pre> <br><h2 id="izvestnye-problemy">  Problèmes connus </h2><br><ul><li>  Ne lira pas les vidéos avec des restrictions d'âge qui nécessitent une connexion à votre compte Google / YouTube </li></ul><br><p>  par exemple: <a href="https://www.youtube.com/watch%3Fv%3DhooaKxdXbfM">Ilya Muromets, Mosfilm Film Concern</a> , <a href="https://www.youtube.com/watch%3Fv%3D2UoO2t536Ko">Ruslan et Lyudmila film series 1 / Ruslan et Lyudmila film 1, Mosfilm Film Concern</a> </p><br><p>  <em>astuce: ajoutez de telles vidéos à la liste noire ou demandez à l'auteur de la vidéo de supprimer la restriction définie par erreur.</em> </p><br><ul><li>  Certaines vidéos diffusées pour lesquelles le service renvoie une durée nulle ne seront pas lues (pour ces vidéos, la durée dans les listes et la galerie est marquée comme "[dur undef]") </li></ul><br><p>  Par exemple: <a href="https://www.youtube.com/watch%3Fv%3DfwzpCVt2ExY">attendez une minute!</a>  <a href="https://www.youtube.com/watch%3Fv%3DfwzpCVt2ExY">Tous les numéros Soyuzmultfilm HD (Dessins animés pour enfants), Dessins animés Soyuzmultfilm Studios</a> , <a href="https://www.youtube.com/watch%3Fv%3DXK1_9fw5CwA">Meilleurs dessins animés Soyuzmultfilm, Dessins animés Studios Soyuzmultfilm</a> </p><br><p>  <em>Astuce: ajoutez ces vidéos à la liste noire.</em> </p><br><ul><li>  Les vidéos accessibles uniquement via des liens directs peuvent ne pas entrer dans la liste de lecture locale, même si vous téléchargez toutes les vidéos de l'utilisateur </li></ul><br><p>  par exemple: <a href="https://www.youtube.com/watch%3Fv%3DvwBKEKqLOLY">Taming of Fire 1 series, Mosfilm Film Concern</a> </p><br><ul><li><p>  Si vous voyez une vidéo publique qui ne nécessite pas de connexion, joue dans le navigateur, mais ne joue pas dans le lecteur, envoyez un rapport de bogue (il est fort possible que le problème ait déjà été corrigé dans la nouvelle version de <em>NewPipeExtractor</em> et vous avez seulement besoin de mettre à jour l'assembly avec cette version, <a href="https://github.com/sadr0b0t/yashlang/issues/1">par exemple</a> ). </p><br></li><li><p>  L'interface peut ralentir lorsque Internet est lent (mais pas désactivé) </p><br></li></ul><br><h2 id="v-itoge">  En fin de compte </h2><br><p>  Le fils est passé d'une tablette à un téléviseur intelligent Samsung, qui ne sait pas comment exécuter les applications Android.  Par conséquent, le meilleur contrôle parental est toujours personnel. </p><br><p>  Mais l'application s'est avérée assez pratique pour que je puisse commencer à l'utiliser moi-même.  La première impression des premières versions de travail - est entrée dans un autre monde.  Tout le contenu est téléchargé depuis YouTube, mais ce n'est plus YouTube, mais quelque chose d'autre, sûr et contrôlé, comme s'il enlevait un scolopendre de l'œil et le mettait dans un bocal en verre.  Et c'est dans les recommandations. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482874/">https://habr.com/ru/post/fr482874/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482862/index.html">Y a-t-il un GameDev à Sakhaline? 1.V</a></li>
<li><a href="../fr482864/index.html">Vidéo surveillance à domicile. Schéma de maintenance d'une archive vidéo sans registraire à domicile</a></li>
<li><a href="../fr482866/index.html">Vaut-il la peine d'acheter du Bitcoin l'année prochaine et combien cela coûtera</a></li>
<li><a href="../fr482870/index.html">Comment j'ai acheté un ordinateur portable verrouillé sur eBay et essayé de faire mon AntiTheft basé sur IntelAMT</a></li>
<li><a href="../fr482872/index.html">Des polygones dans un autre monde</a></li>
<li><a href="../fr482876/index.html">Calcul du coût de production d'électricité solaire pour les besoins propres d'un ménage dans le centre de l'Europe</a></li>
<li><a href="../fr482878/index.html">Comment j'ai recherché la définition de «produit»</a></li>
<li><a href="../fr482882/index.html">Le moteur comme frein électromagnétique</a></li>
<li><a href="../fr482884/index.html">Leçon du soir: écriture de la coloration syntaxique</a></li>
<li><a href="../fr482886/index.html">Analyse Habra: la durée de publication est-elle importante?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>