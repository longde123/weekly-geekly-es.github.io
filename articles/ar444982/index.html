<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐พ ๐ฒ๏ธ ๐ง๐ฝ ููููุชู ูููููุฉ ุทุจุฎู ๐คข ๐ ๐ฐ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุญูู ุงููุงุฏุฉ 


 ููุง ูู ุฏููู ุขุฎุฑ ู Mockito. ูู ุฐูู ุ ูู ุฌูุฉ ุ ุญุงููุช ุฃู ุฃุตู ูุธููุฉ ูุฐู ุงูููุชุจุฉ ุญุชู ูุชููู ุงููุงุฑุฆ ุงูุฐู ูุง ูุนุฑููุง ุนูู ุงูููุฑ ูู ูุฑุตุฉ ุงุณุชุฎุฏุงููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุชู ูููููุฉ ุทุจุฎู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444982/" style=";text-align:right;direction:rtl"><h2 id="o-state" style=";text-align:right;direction:rtl">  ุญูู ุงููุงุฏุฉ </h2><br><p style=";text-align:right;direction:rtl">  ููุง ูู ุฏููู ุขุฎุฑ ู Mockito.  ูู ุฐูู ุ ูู ุฌูุฉ ุ ุญุงููุช ุฃู ุฃุตู ูุธููุฉ ูุฐู ุงูููุชุจุฉ ุญุชู ูุชููู ุงููุงุฑุฆ ุงูุฐู ูุง ูุนุฑููุง ุนูู ุงูููุฑ ูู ูุฑุตุฉ ุงุณุชุฎุฏุงููุง ุจุงููุงูู ุ ูููุณ ูุฌุฑุฏ ููุฑุฉ ุนุงูุฉ ุนููุง.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุฃุฑุฏุช ุฃู ุฃุฌุนูู ูุถุบูุทูุง ุจูุง ูููู ูููุธููุง ุญุชู ุฃุชููู ูู ูุฑุงุกุชู ุณุฑูุนูุง ุจุงููุงูู ูุฃุฌุฏ ููู ุดูุฆูุง ูุง ูุฑุฃุชู ุณุฑูุนูุง ุ ููู ูุณูุชู.  ุจุดูู ุนุงู ุ ูุฐู ุงูููุงูุฉ ุ ูุงูุชู ูู ุดุฃููุง ุฃู ุชููู ูููุฏุฉ ูู ุ ุนูุฏูุง ุฌุฆุช ููุชู ูู ูุฐู ุงูููุชุจุฉ ููู ุฃููู ุญููุง ููู ุชุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุชุฑุถ ุฃูู ูููู ุฃู ูููู ูููุฏูุง ูู ุงูุขู - ูุฃุญูุงููุง ุฃูุณู ุจุนุถูุง ูู ูุฐุง ุงูุฃูุฑ ุ ููู ุงูููุงุฆู ููุบุงูุฉ ุฃู ุฃุฐูุฑ ุงูููุงุฏ ููุณ ููููุง ูููุซุงุฆู ุงูุฑุณููุฉ ุฃู ููุงูุงุช ุงูุฃุดุฎุงุต ุงูุขุฎุฑูู ุ ูููู ููููุง ูููุงูุชู ุงูุฎุงุตุฉ ุ ุฏุนูุง ูููู ุงูููุฌุฒ.  ูู ุงูููุช ููุณู ุ ุญุงููุช ุฅูุดุงุก ุงููุต ุจุญูุซ ูุงู ููุงุณุจูุง ูู ุงูููุงู ุงูุฃูู ููุชุนุฑู ุนูู Mockito ูู ุงูุจุฏุงูุฉ ุ ููู ุจุนุถ ุงูุฃูุงูู ููุช ุจุชุญููููุง ุจุงูุชูุตูู ุนูู ูุง ูุจุฏู ุฃุดูุงุก ูุงุถุญุฉ - ูู ุชูู ูููุง ูุงุถุญุฉ ุจุงููุณุจุฉ ูู ููุฐ ุงูุจุฏุงูุฉ. </p><a name="habracut"></a><br><h2 id="soderzhanie" style=";text-align:right;direction:rtl">  ุงููุญุชููุงุช: </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุชู: ูุง ูู ูููุงุฐุง ูู ุถุฑูุฑู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจูุฆุฉ ุ ุงูุฅุตุฏุงุฑุงุช ูุงูุญููุงูุงุช ุงูุชุฌุฑูุจูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุฉ ูุงูุชุฌุณุณ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฏุงุฑุฉ ุงูุณููู</a> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญุฏูุฏ ุดุฑูุท ุงูุงุชุตุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญุฏูุฏ ูุชุงุฆุฌ ุงูุงุชุตุงู</a> </li></ol></li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุชุจุน ุทุฑููุฉ ุงูููุงููุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฆูุงุช ููููุฉ ูููู ููู ูุดุฑูุญ ููููุชู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฑุงุฌุน ุนู ุงูุณููู ุฅูู ุงูุฌูุณุงุช ุงูุงูุชุฑุงุถูุฉ ู Mockito</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฐุง ุจุนุฏุ</a> </li></ol><br><h2 id="mockito-chto-eto-takoe-i-zachem-nuzhno" style=";text-align:right;direction:rtl">  ููููุชู: ูุง ูู ูููุงุฐุง ูู ุถุฑูุฑู </h2><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุ Mockito ูู ุฅุทุงุฑ ูุนุจ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุนูู ุ ุนูุฏ ุงุฎุชุจุงุฑ ุงูููุฏ (ุจุดูู ุฃุณุงุณู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ ุ ูููู ููุณ ููุท) ุ ูุญุชุงุฌ ุงูุนูุตุฑ ููุฏ ุงูุงุฎุชุจุงุฑ ุบุงูุจูุง ุฅูู ุชูููุฑ ูุซููุงุช ูููุตูู ุงูุชู ูุฌุจ ุงุณุชุฎุฏุงููุง ุนูุฏ ุงูุนูู.  ููุน ุฐูู ุ ุบุงูุจูุง ูุง ูุง ูุชุนูู ุนูููู ุฃู ูุนูููุง ุจุดูู ูุงูู - ุจู ุนูู ุงูุนูุณ ุ ูุฌุจ ุนูููู ุงูุชุตุฑู ุจุทุฑููุฉ ูุญุฏุฏุฉ ุจุฏูุฉ ุ ุจุญูุซ ูููู ุณููููู ุจุณูุทูุง ููููู ุงูุชูุจุค ุจู ุชูุงููุง.  ูุทูู ุนูููู ุจุฐุฑุฉ.  ููุญุตูู ุนูููุง ุ ููููู ุฅูุดุงุก ุชุทุจููุงุช ุงุฎุชุจุงุฑ ุจุฏููุฉ ูููุงุฌูุงุช ุ ูุฑุซ ุงููุฆุงุช ุงููุงุฒูุฉ ูุน ุฅุนุงุฏุฉ ุชุนุฑูู ุงููุธููุฉ ุ ููุง ุฅูู ุฐูู ุ ูููู ูู ูุฐุง ุบูุฑ ูุฑูุญ ููุบุงูุฉ ููุชูุฑุฑ ููุญููู ุจุงูุฃุฎุทุงุก.  ุงูุญู ุงูุฃูุซุฑ ููุงุกูุฉ ูู ุฌููุน ุงูููุงุญู ูู ุงูุฃุทุฑ ุงููุชุฎุตุตุฉ ูุฅูุดุงุก ุจุฐุฑุฉ.  ูุงุญุฏ ูู ูุคูุงุก (ูุฑุจูุง ุงูุฃูุซุฑ ุดูุฑุฉ ูุฌุงูุง) ูู Mockito. </p><br><p style=";text-align:right;direction:rtl"> ูุชูุญ ูู Mockito ุฅูุดุงุก ูุง ูุณูู ุจุงูุณุฎุฑูุฉ (ุณุทุฑ ูุดุจู ุฃุณุงุณ ูุนุจ ุงูุฑูุชูู ุงููุทููุจ) ูุฃู ุณุทุฑ ูุฆุฉ ุจุณุทุฑ ูุงุญุฏ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ููุซู ูุฐุง ุงูููุน ูู ุงูุณุฎุฑูุฉ ุ ูุจุงุดุฑุฉ ุจุนุฏ ุงูุฅูุดุงุก ุ ูููู ุงูุณููู ุงูุงูุชุฑุงุถู ุงููุนูู ูููุฒูุง (ุชูุฑุฌุน ุฌููุน ุงูุทุฑู ููููุง ูุนุฑููุฉ ูุณุจููุง - ุนุงุฏุฉู ูุง ุชููู ูุฐู ุงููููุฉ <code>null</code> ุฃู <code>0</code> ).  ููููู ุฅุนุงุฏุฉ ุชุนุฑูู ูุฐุง ุงูุณููู ุจุงูุทุฑููุฉ ุงูุชู ุชุฑูุฏูุง ุ ูุงูุชุญูู ููู ุจุงููุฏุฑ ุงูููุงุณุจ ูู ุงูุชูุงุตูู ุ ูููุฐุง.  ูุชูุฌุฉ ูุฐูู ุ ูุตุจุญ ุงููููุฐุฌ ุฑูุชูููุง ูุน ุงูุฎุตุงุฆุต ุงููุทููุจุฉ.  ุฃุฏูุงู ุณุฃูุงูุด ุจุงูุชูุตูู ููููุฉ ุงูููุงู ุจุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุงุญุธ ุฃูู ูููู ุฃูุถูุง ุฅูุดุงุก ููุงุฐุฌ ููููุฉ ูุชูู ุงููุฆุงุช ุ ุญูุซ ูุง ููููู ุฅูุดุงุก ูุซูู ุฌุฏูุฏ ุจุงููุนู ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ูุน ูุฆุงุช ุฎุงุตุฉ ุญุตุฑููุง ูุซู ูุฆุงุช ููุฑุฏุฉ ููุฆุฉ ูุงุฆุฏุฉ ุ ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุชูููู ุฅุทุงุฑ ุงูุนูู ูุงูุชุนุฏุงุฏุงุช. </p><br><h2 id="okruzhenie-versii-i-podopytnoe-zhivotnoe" style=";text-align:right;direction:rtl">  ุงูุจูุฆุฉ ุ ุงูุฅุตุฏุงุฑุงุช ูุงูุญููุงูุงุช ุงูุชุฌุฑูุจูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ูุชุงุจุฉ ูุฐุง ุงูููุงู ุ ุงุณุชุฎุฏูุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Mockito: 'org.mockito: mockito-core: 2.24.0' (ุฃุญุฏุซ ุฅุตุฏุงุฑ ุซุงุจุช ููุช ูุชุงุจุฉ ูุฐุง ุงูุชูุฑูุฑ) </li><li style=";text-align:right;direction:rtl">  TestNG: 'org.testng: testng: 6.14.3' ูุฅุทุงุฑ ุงุฎุชุจุงุฑ </li><li style=";text-align:right;direction:rtl">  AssertJ: 'org.assertj: assertj-core: 3.11.1' ูุฃุฏุงุฉ ููุชุญูู ูู ุงูุตุญุฉ </li><li style=";text-align:right;direction:rtl">  ูููุจูู: 'org.projectlombok: lombok: 1.18.6' (ููุฑุงุญุฉ ููุท) </li><li style=";text-align:right;direction:rtl">  ุฌุงูุง 8 </li></ul><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุชุฌุงุฑุจู ุงููุงุฅูุณุงููุฉ ุ ูุชุจุช ูุงุฌูุฉ ูุฐู ุงูุฎุฏูุฉ ุงูุชู ุชููุฑ ุงููุตูู ุฅูู ุจูุงูุงุช ูุนููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; dataToSave)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id, Supplier&lt;String&gt; calculateIfAbsent)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataListByIds</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; idList)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataByRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataSearchRequest request)</span></span></span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฐุง (ููููู ูู ุฃุฌู ุงููุธุงู) ุฑูุฒ ูุฆุฉ ุงูุทูุจ ุชูุฑูุฑูุง ุฅูู ุขุฎุฑ ุฃุณุงููุจ ูุงุฌูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataSearchRequest</span></span></span><span class="hljs-class"> </span></span>{ String id; Date updatedBefore; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญุฏูุฏ ูุญุฏุงุช ุงูุจูุงูุงุช ุจูุงุณุทุฉ ุงููุนุฑู ูููุง ุจุนุถ ุงูุฎุตุงุฆุต ุ ูููู ูุจุงุดุฑุฉ ูู ุงููููุฐุฌ ุงูุฐู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุงูุฎุฏูุฉ ุ ููู ุณูุงุณู ุ ูููุณ ุจุนุถ ุงููุงุฆูุงุช ุงูุฃูุซุฑ ุชุนููุฏูุง.  ูุง ุฃูุชูุฏ ุฃู ุดูุก ููู ุ ูุงูุฃูุซูุฉ ุฃุจุณุท ูุฃูุซุฑ ูุถูุญูุง. </p><br><p style=";text-align:right;direction:rtl">  ุณุฃูุงุญุธ ุนูู ุงูููุฑ: ูู ุงูุฃูุซูุฉ ุฃุฏูุงู ุ ุฃุฏุนู ูุจุงุดุฑุฉ ุงูุฃุณุงููุจ ุงููุชุฌุงููุฉ ูููุงุฆูุงุช ุงูุตูุฑูุฉ ุงูุฎุงุตุฉ ุจู ูู ุฃุฌู ุงููุถูุญ ุ ููู ูุน ุงูุงุฎุชุจุงุฑ ุงูุญูููู ุ ุงูููุฑุฉ ููุณุช ุนูู ุงูุฅุทูุงู!  ูู ูุฐุง ุงูุงุฎุชุจุงุฑ ุ ุณุฃููู ุฏุงุฆููุง ุจูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููู ููููุฉ ุฎุฏูู ุญุณุจ ุงูุญุงุฌุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููููุง (ุนูู ุงูุฃุฑุฌุญ ุ ุนุจุฑ ุงููููุดุฆ) ุฅูู ูุซูู ููุฆุฉ ุฃุฎุฑู ุชุณุชุฎุฏูู (ูููุชุฑุถ ุฃูู ูุญุชูู ุนูู ููุน ูู ููุทู ุงูุฃุนูุงู ุจุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูููุฏูุฉ ูู <code>DataService</code> ) ุ ูุงูุชู <code>DataService</code> ุจุงููุนู ุ </li><li style=";text-align:right;direction:rtl">  ุชูููู ูุธููุฉ ุงููุฆุฉ ุงุฎุชุจุงุฑ ูุงูุชุญูู ูู ุงููุชุงุฆุฌ ุ </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููุช ุฃุชุญูู ูู ุนุฏุฏ ูุชุฑุชูุจ ุงูููุงููุงุช ุฅูู ุทุฑููุฉ (ุทุฑู) ููููุฉ ุจูุฏู ุ ูุงูุชู ูุงู ููุจุบู ุฃู ูููู ุฏุนุง ูู ูุจู ุงูุทุจูุฉ ุงููุฎุชุจุฑุฉ ูุชูุฌุฉ ููุฅุฌุฑุงุก ุงูุณุงุจู. </li></ul><br><h2 id="mock-i-spy" style=";text-align:right;direction:rtl">  ููููุฉ ูุงูุชุฌุณุณ </h2><br><p style=";text-align:right;direction:rtl">  ุงููุฆุฉ ุงููุฑูุฒูุฉ ูู Mockito ุ ูุงูุชู ูููุชุฑุถ ูู ุฎูุงููุง ุงููุตูู ุฅูู ูุนุธู ุงููุธุงุฆู ุ ูู ูู ุงููุงูุน ูุฆุฉ ุชูุฏุนู <code>Mockito</code> (ููุงู ุฃูุถูุง ูุฆุฉ <code>BDDMockito</code> ุงูุชู ุชููุฑ ููุณ ุงูุฅููุงููุงุช ูู ูููุฐุฌ ุฃูุซุฑ ููุงุกูุฉ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BDD</a> ุ ููููู ูู ุฃุชููู ุนูุฏ ูุฐุง ุงูุญุฏ) .  ูุชู ุชูููุฐ ุงููุตูู ุฅูู ูุธููุฉ ูู ุฎูุงู ุฃุณุงููุจ ุซุงุจุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก ูุณุฎุฉ ููููุฉ ูู ูุฆุฉ <code>DataService</code> ุ ูุง ุจุฏ ูู ูู ุงูููุงู ุจูุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">DataService dataServiceMock = Mockito.mock(DataService.class);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชู - ุญุตูุช ุนูู ูุซูู ูููุฆุฉ ุงูุชู ุงุญุชุงุฌูุง.  ุณูุชู ูุจูููุง ุจูุงุณุทุฉ ุฃู ุทุฑููุฉ ุฃู ูููุดุฆ ูุชุทูุจ ูุนููุฉ ูู ูุฐุง ุงูููุน (ุนูู ุณุจูู ุงููุซุงู ุ ูููุดุฆ ุงููุฆุฉ ุงูุชู ุฃุฑูุฏ ุงุฎุชุจุงุฑูุง).  ุญุชู ุฅุฐุง ูุงู ูุญุต ุงูุฅุฏูุงู ููุชุธุฑู ูุงุญููุง ุ ูุณูู ููุฌุญ ูู ุฐูู: ููุณ ููุท <code>instanceof DataService</code> ุณูุนูุฏ <code>true</code> ุ ูููู ุฃูุถูุง <code>dataServiceMock.getClass()</code> - ููู <code>DataService.class</code> .  ุจุทุฑููุฉ ูุง ุ ุชุจูู ุฃู ุงูุชูููุฒ ุจูู ูุงุฆู ูููู ูุจุฑูุฌู ุนู ูุงุฆู ุนุงุฏู ูููุฉ ุตุนุจุฉ ุฅูู ุญุฏ ูุง ุ ููู ุฃูุฑ ููุทูู: ุจุนุฏ ูู ุดูุก ุ ุงููุฏู ุงูุฃูู ูู ูุฌุฑุฏ ุชูููุฒู ุนู ุงูุขุฎุฑ.  ููุน ุฐูู ุ Mockito ูุฏูู ุฃุฏุงุฉ ููุฐุง - ุฃุณููุจ <code>Mockito.mockingDetails</code> .  ุจุชูุฑูุฑู ูุงุฆู ุชุนุณูู ุ ุฃุญุตู ุนูู ูุงุฆู ูู ุงููุฆุฉ <code>MockingDetails</code> .  ุฃูู ูุญุชูู ุนูู ูุนูููุงุช ุญูู ูุง ููุซูู ูุฐุง ุงููุงุฆู ูู ูุฌูุฉ ูุธุฑ Mockito: ูุง ุฅุฐุง ูุงูุช ููููุฉ ุ ุชุฌุณุณ (ุงูุธุฑ ุฃุฏูุงู) ุ ูููู ุชู ุงุณุชุฎุฏุงูู ุ ูููู ุชู ุฅูุดุงุคู ูููู ุฌุฑุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฌุฏูุฑ ุจุงูููุงุญุธุฉ ูู ุงููููู ุนูุฏูุง ุฃุญุงูู ุฅูุดุงุก ูููุฐุฌ ููููุฉ ูููุฆุฉ ุงูููุงุฆูุฉ ุฃู ูุณุฎุฉ ููููุฉ ูู ุงูุชุนุฏุงุฏ ุฃู ูุชุฌุงูุฒ ุณููู ุงูุทุฑููุฉ ุงูููุงุฆูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุน ุงูุณููู ุงูุงูุชุฑุงุถู ูู Mockito ุ ูุฑูุถ ุงูุฑูุฒ ุฃุนูุงู ุงูุนูู ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ูุฐุง ุงูุธุฑู ุจุงูุชุญุฏูุฏ.  ููุน ุฐูู ุ ูููู ุชุบููุฑ ุฐูู - ููุท ูู ุจุฅูุดุงุก ููู <code>test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> ูู ุงููุดุฑูุน (ุจุงุณุชุฎุฏุงู ุงูุฌูุงุฒ ุงูููุงุณู ูุดุฌุฑุฉ ุฏููู ุงููุดุฑูุน) ูุฃุฏุฎู ุงูุณุทุฑ ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mock-maker-inline</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููููู ูุญุงูุงุฉ ุงูุทุจูุงุช ุงูููุงุฆูุฉ ูุงูุชุนุฏุงุฏุงุช ุจุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ ุ ููุฐูู ุชุฌุงูุฒ ุงูุทุฑู ุงูููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููููุฐุฌ ุงูุฐู ุญุตูุช ุนููู ูู ุงูุนูู ูุง ูููุฒู ูุฏุฑ ุงูุฅููุงู: ูู ูููู ูุฃู ุทุฑููุฉ ูุงุญุฏุฉ ุฃู ุชุฃุซูุฑ ุนูู ุฃู ุดูุก ุ ูุณุชููู ุงููููุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง <code>null</code> ูุฃููุงุน ุงููุงุฆูุงุช ู <code>0</code> ููุฃููุงุน ุงูุจุฏุงุฆูุฉ.  ูุฑุฌู ููุงุญุธุฉ: ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุชูุฑุฌุน ูุฌููุนุฉ ุ ููู ููุฑุฌุน ุงููููุฐุฌ ุงูุงูุชุฑุงุถู ูููุฉ <code>null</code> ุ ูููู ุณููุธูุฑ ูุซููุงุช ูุงุฑุบุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ <code>List</code> ุณูุชุญูู ูุฐุง ุฅูู ูุงุฆูุฉ <code>LinkedList</code> ูุงุฑุบุฉ <code>LinkedList</code> ุจุบุถ ุงููุธุฑ ุนู ุงูุทุฑููุฉ ุงูุญููููุฉ ุงูุชู ูุฌุจ ุฃู ุชูุฑุฌุน ุฅูููุง.  ููู ูููู ุงููุตูููุงุช ุ ุจุฏุงุฆูุฉ ุฃู ูุงุฆู ุ ุฃุดุนุฑ <code>null</code> .  ูููู ุชุบููุฑ ุงูุณููู ุงูุงูุชุฑุงุถู (ูููุณ ููุท) ุจุงุณุชุฎุฏุงู ูุธููุฉ ูุฆุฉ <code>MockSettings</code> ุ ูููู ูุฐุง ูุงุฏุฑูุง ูุง ูููู ุถุฑูุฑููุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูู ุฃุญุชุงุฌ ูู ูุนุธู ุงูุญุงูุงุช ุฅูู ุงูุณููู ุงูุงูุชุฑุงุถู ุ ููู ุงููุณู ุงูุชุงูู ุณุฃุญูู ุจุงูุชูุตูู ููููุฉ ุชุนููู ูุง ูู ูุทููุจ ุจุฏูุงู ูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุงุฐุง ูู ููุช ุฃุฑุบุจ ูู ุงุณุชุฎุฏุงู ูุงุฆู ูุฆุฉ ุญููููุฉ ูุน ุงููุธููุฉ ุงููุชุงุญุฉ ูุนูุตุฑ ูุนุจ ุ ูุฅุนุงุฏุฉ ุชุญุฏูุฏ ุนูููุฉ ุฌุฒุก ููุท ูู ุฃุณุงููุจูุงุ  ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ ุ ูุฅู ูุซู ูุฐู ุงูุญุงุฌุฉ ุนุงุฏุฉ (ูููู ููุณ ุฏุงุฆููุง) ุชุดูุฑ ุฅูู ุฃู ุงููุดุฑูุน ูุง ูุชูุงุณุจ ุชูุงููุง ูุน ุงูุชุตููู ุ ููู ุญูุซ ุงููุจุฏุฃ ุ ูุง ููุตู ุจุฐูู.  ููุน ุฐูู ุ ููุงู ุญุงูุงุช ุนูุฏูุง ูุง ูููู ุชุฌูุจ ูุฐุง ูุณุจุจ ูุง.  ููุฐู ุงูุญุงูุฉ ุ Mockito ูุฏูู ุฌุงุณูุณ ูุณูู "ุฌูุงุณูุณ".  ุนูู ุนูุณ mocks ุ ูููู ุฅูุดุงุคูุง ุจูุงุกู ุนูู ููู ูู ุงููุฆุฉ ูุงููุงุฆู ุงูููุงุฆู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">DataService dataServiceSpy = Mockito.spy(DataService.class); <span class="hljs-comment"><span class="hljs-comment">// or DataService dataService = new DataService(); dataServiceSpy = Mockito.spy(dataService);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ุฌุงุณูุณ ุจูุงุกู ุนูู ูุตู ุฏุฑุงุณู ุ ูุฅุฐุง ูุงู ููุนู ุนุจุงุฑุฉ ุนู ูุงุฌูุฉ ุ ูุณูุชู ุฅูุดุงุก ูุงุฆู ูููู ุนุงุฏู ุ ูุฅุฐุง ูุงู ุงูููุน ุนุจุงุฑุฉ ุนู ูุฆุฉ ุ ูุณูุญุงูู Mockito ุฅูุดุงุก ูุซูู ุจุงุณุชุฎุฏุงู ุงููููุดุฆ ุงูุงูุชุฑุงุถู (ุจุฏูู ูุนููุงุช).  ูููุท ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ูููุดุฆ ูู ูุฐุง ุงููุจูู ุ ุณูุญุฏุซ ุฎุทุฃ ููู ููุฌุญ ุงูุงุฎุชุจุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุดุจู ุณููู ูุงุฆูุงุช ุงูุชุฌุณุณ ุงูุชุฑุงุถููุง ุณููู ูุซูู ูุฆุฉ ุนุงุฏู ุ ููุน ุฐูู ููู ุชููุฑ ูู ููุณ ุฅููุงููุงุช ุงููุงุฆูุงุช ููููุฉ: ููู ุชุณูุญ ูู ุจุฅุนุงุฏุฉ ุชุนุฑูู ุณููููุง ููุฑุงูุจุฉ ุงุณุชุฎุฏุงููุง (ุฑุงุฌุน ุงูุฃูุณุงู ุงูุชุงููุฉ).  ููุทุฉ ูููุฉ: ุงูุชุฌุณุณ ููุณ ุบูุงููุง ุญูู ุงููุซูู ุงูุฐู ุชู ุฅูุดุงุคู ุนููู!  ูุฐูู ุ ูู ูุคุซุฑ ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุชุฌุณุณ ุนูู ุญุงูุฉ ุงููุซูู ุงูุฃุตูู. </p><br><h2 id="upravlenie-povedeniem" style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุงูุณููู </h2><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุนูู ููููุฉ ุงูุญุตูู ุนูู ููููุฉ ุฃู ุชุฌุณุณ ููุนู ูุง ุฃุญุชุงุฌ ุฅููู.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณุฃูุชุจ ุฏุงุฆููุง ุจุจุณุงุทุฉ "ููููุฉ" ูู ูู ููุงู - ููุฐุง ูุนูู "ููููุฉ ุฃู ุชุฌุณุณ" ุ ูุง ูู ููุต ุตุฑุงุญุฉ ุนูู ุฎูุงู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุฅู ุงูุชุญูู ูู ุณููู ุงูุฌุณู ุงูุฒุงุฆู ูุฃุชู ุฅูู ููููู ูุงุญุฏ ูุงุถุญ: ุนูุฏูุง ูุชุฃุซุฑ ุงูุตุฎุฑ ุงูุฒูุชู ุจูุฐู ุงูุทุฑููุฉ (ุฃู ุ ููุฏ ุงุณุชูุฏุนูุช ูุฐู ุงูุทุฑููุฉ ุจูุฐู ุงูุญุฌุฌ ููุฐุง) ุ ููุจุบู ุฃู ุชุณุชุฌูุจ ุจูุฐู ุงูุทุฑููุฉ ููุซู ูุฐู ุงูุทุฑููุฉ.  ูุญุชูู ูุฐุง ุงูููููู ุนูู ุชุทุจูููู ุฏุงุฎู ูุฆุฉ Mockito - ุงูุชุทุจูู ุงูุฑุฆูุณู ุ ุงูููุตู ุจู ูู ููุจู ุงููุทูุฑูู ููุงุณุชุฎุฏุงู ุญูุซูุง ูุงู ุฐูู ูููููุง ุ ูุงูุขุฎุฑ ุจุฏูู ุ ุญูุซ ูุชู ุงุณุชุฎุฏุงู ุงูุชุทุจูู ุงูุฑุฆูุณู ูู ููุงู ุบูุฑ ููุงุณุจ. </p><br><p style=";text-align:right;direction:rtl">  ูุนุชูุฏ ุงูุชุทุจูู ุงูุฑุฆูุณู ุนูู ุฃุณููุจ <code>Mockito.when</code> .  ุชุฃุฎุฐ ูุฐู ุงูุทุฑููุฉ "ูุนููุฉ" ุงุณุชุฏุนุงุก ููุทุฑููุฉ <code>OngoingStubbing</code> ูููุงุฆู ููููุฉ (ูุจูุฐู ุงูุทุฑููุฉ ูุชู ุฅุตูุงุญ ุงูุฅุฌุฑุงุก ุงูุฐู ุชู ุงูุชุดุงูู) ูุฅุฑุฌุงุน ูุงุฆู ูู ุงูููุน <code>OngoingStubbing</code> ุ ูุงูุฐู ูุณูุญ ุจุงุณุชุฏุนุงุก ุฅุญุฏู ุฃุณุงููุจ ุนุงุฆูุฉ <code>Mockito.then...</code> (ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูุชู ุจูุง ุถุจุท ุฑุฏ ุงููุนู ุนูู ูุฐุง ุงูุชุฃุซูุฑ).  ูุนูุง ุ ูู ุฃุจุณุท ุงูุญุงูุงุช ุ ูุจุฏู ุงูุฃูุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.when(dataService.getAllData()).thenReturn(data);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ูุฐู ุงูุนูููุฉ ุ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>getAllData()</code> ุนูู ูุงุฆู <code>getAllData()</code> ุ ุฃุญุตู ุนูู ุงููุงุฆู ุงููุญุฏุฏ ูู ุงูุณุทุฑ ุงูุฃูู ูู ุงููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุ ูุฏ ูุนุทู ุงูุญุฏุณ ุงููุฃููู "ุงูููุฌู ูุญู ุงููุงุฆูุงุช" ููุนูุง ูู ุงูุฎูู ุ ูุฐูู ูุฅู ุงูุฃูุฑ ูุณุชุญู ูุฒูุฏูุง ูู ุงูุชูุตูู.  ูู ูุฌูุฉ ูุธุฑ ุจูุงุก ุฌููุฉ Java ุ ูุฅู ุงููููุฉ ุงูุชู ูุชู ุชูุฑูุฑูุง ุฅูู <code>when</code> ุงูุทุฑููุฉ ููุนููุฉ ูู ุ ุจุงูุทุจุน ุ ุงููููุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุงูุทุฑููุฉ ุงูุชู ุชู ุชุฌุงูุฒูุง.  ุจุงููุณุจุฉ ููุณุฎุฑูุฉ ุ ูุฐู ูููุฉ ูุงุฑุบุฉ ุ ุจุงููุณุจุฉ ููุชุฌุณุณ ุ ูุฐู ูู ุงููููุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุทุฑููุฉ ุงููุงุฆู ุงูุญูููู.  ูููู ุจูุถู ุงูุชูุซูู ุงูุณุญุฑู "ุชุญุช ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ" ูู Mockito ุ ุณุชุนูู ุงูุทุฑููุฉ <code>when</code> ุชุนูู ุจุดูู ุทุจูุนู (ููู ุชุชุนุทู ุนูุฏ ุฅุทูุงููุง ูุน ูุฌูุฏ ุฎุทุฃ) ููุท ุฅุฐุง ูุงูุช ุงุณุชุฏุนุงุก ุฃุณููุจ ุงููุงุฆู ุงูุตูุฑู ุฏุงุฎู ุงูุฃููุงุณ ุจุนุฏ <code>when</code> . </p><br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชุนูู ุงูุฅูุฏููููุฌูุฉ ุงูููุงุซูุฉ ุนูุฏ ุชุญุฏูุฏ ุณููู ุงููุณุชูุฒุฆ ูู ููููุชู: ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุทุฑููุฉ (ูุงุฆู ููููุฉ ุฃู ูุฆุฉ ูู <code>Mockito</code> ) ุ ุฃุญุงูู ุฃูุง ุฃุญุตู ุนูู ุงููููุฉ ุงููุฑุฌุนุฉ <code>Mockito</code> ุ ููู ุชุคุซุฑ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุนูู ุงูููุงููุฉ ุงููุญุชููุฉ ูุทุฑููุฉ ุงููุงุฆู ููููุฉ ุงูุฐู ุฃุนูู ูุนู: ุญุฏุฏ ุญุฏูุฏูุง ุ ุชุนููู ุงููุชูุฌุฉ ุ ุฅูุดุงุก ูุฑุงูุจุฉ ูุชุญุฏูุงุชูุง ูููู ุฌุฑุง.  ุฃุนุชุฑู ุฃู ุงูุฃูุฑ ูุจุฏู ุถุจุงุจููุง ููููุงู ุ ููุจุฏู ุฃูู ุนูุฏ ุงูุงุตุทุฏุงู ุงูุฃูู ุบุฑูุจ ุ ูููู ุ ุจุนุฏ ุฃู ุงูุชุดูุชู ุ ุณุฑุนุงู ูุง ุจุฏุฃุช ุชุดุนุฑ ุฃู ูุฐุง ุงูููุฌ ุทุจูุนู ุชูุงููุง ูู ุณูุงู ุงูุชุนุงูู ูุน ุจุฐุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุทุจูู ุจุฏูู ูุฑุจุท ุงูุดุฑุท ููุชูุฌุฉ ุงูููุงููุฉ ูู ุฃุณุงููุจ ุนุงุฆูุฉ <code>Mockito.do...</code>  ุชุณูุญ ูู ูุฐู ุงูุทุฑู ุจุถุจุท ุงูุณููู ุจุฏุกูุง ูู ูุชูุฌุฉ ุงูููุงููุฉ ูุฅุนุงุฏุฉ ูุงุฆู ูู ูุฆุฉ <code>Stubber</code> ุ ูุงูุฐู ููููู ุจุงููุนู ุถุจุท ุงูุดุฑุท ุนููู.  ูุจุฏู ุงูุงุฑุชุจุงุท ููุณู ููุง ูู ูุฐููุฑ ุฃุนูุงู ุจูุฐู ุงูุทุฑููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.doReturn(data).when(dataService).getData()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงููุฑู ุ ููุงุฐุง ูุนุชุจุฑ ุงูุฑุจุท ูู ุฎูุงู <code>Mockito.when</code> ูุนุชุจุฑ ุงูุฃูุถู ูุนูุฏูุง ูุง ูุฒุงู ูุชุนูู ุนููู ุงุณุชุฎุฏุงู ุฃุณุงููุจ <code>Mockito.do...</code> ุ  ูุฑุฌู ููุงุญุธุฉ: ุนูุฏ ุงูุชูููุฐ ุงูุฃูู ุ ุนูุฏ ุชุนููู ุณููู ุงูุทุฑููุฉ (ูู ูุฐู ุงูุญุงูุฉ ุ <code>getAllData()</code> ) ุ ูุชู ุชูููุฐ ุงูููุงููุฉ ุฅูู ุงูุฅุตุฏุงุฑ ุงูุฐู ูู ูุชู ุฅุนุงุฏุฉ ุชุนุฑููู ุฃููุงู ุ ูุจุนุฏ ุฐูู ููุท ุ ูู ุฃุญุดุงุก Mockito ุ ูุญุฏุซ ุชุฎุทู.  ูู ุงูุญุงูุฉ ุงูุซุงููุฉ ุ ูุง ูุชู ุฅุฌุฑุงุก ูุซู ูุฐู ุงูููุงููุฉ - <code>Stubber.when</code> ุชูุฑูุฑ ุงูุฃุณููุจ <code>Stubber.when</code> ูุจุงุดุฑุฉ ุฅูู ุทุฑููุฉ <code>Stubber.when</code> ุ ููุชู <code>Stubber.when</code> ูุงุฆู ูู ููุณ ุงูููุน ูุชู ุฅุฑุฌุงุนู ุจูุงุณุทุฉ ูุฐู ุงูุทุฑููุฉ ูููู ุฐุงุช ุทุจูุนุฉ ูุฎุชููุฉ ุจุฃุณููุจ ูุงุจู ููุงุณุชุจุฏุงู.  ูุฐุง ุงูุงุฎุชูุงู ูุญุฏุฏ ูู ุดูุก.  ุงูุฑุจุท ุนุจุฑ <code>Mockito.do...</code> ูุง ูุชุญูู ูุทูููุง ูู ูุฑุญูุฉ ุงูุชุฌููุน ุจุงูุทุฑููุฉ ุงูุชู ูููู ุฅุนุงุฏุฉ ุชุนุฑูููุง ูุงูุชู ุณุฃุชุตู ุจูุง ููุง ุฅุฐุง ูุงูุช ูุชูุงููุฉ ูู ุงููุชุงุจุฉ ูุน ูููุฉ ุงูุฅุฑุฌุงุน ุงููุญุฏุฏุฉ.  ูุฐูู ุ ุนุงุฏุฉ <code>Mockito.when</code> ุงูุฃูุถู - ูุง ูููู ุฃู ูููู ููุงู ุฎุทุฃ ูู ูุฐุง.  ูููู ูุฏ ุชููู ููุงู ุญุงูุงุช ุนูุฏูุง ุฃุฑุบุจ ูู ุชุฌูุจ ุงูุงุชุตุงู ุจุฃุณููุจ ูุชุฌุงููุฒ ุ ูุจุงููุณุจุฉ ุฅูู ูููู ุชู ุฅูุดุงุคู ุญุฏูุซูุง ุ ุชููู ูุฐู ุงูููุงููุฉ ููุจููุฉ ุชูุงููุง ุ ููู ุฅุฐุง ููุช ูุฏ ููุช ุจุงููุนู ุจุฅุนุงุฏุฉ ุชุนุฑูู ูุฐู ุงูุทุฑููุฉ ุฃู ุชุนุงููุช ูุน ุงูุฌุงุณูุณ ุ ููุฏ ูููู ุฐูู ุบูุฑ ูุฑุบูุจ ููู ุ ูุฑูุถ ุงุณุชุซูุงุก ูู ูุณูุญ ุจุฅุนุงุฏุฉ ุงูุชุนุฑูู ุงูุถุฑูุฑูุฉ ุนูู ุงูุฅุทูุงู .  ูููุง ููุฒูุฉ ูู ุฎูุงู <code>Mockito.do...</code> ูุฃุชู ุฅูู <code>Mockito.do...</code> </p><br><p style=";text-align:right;direction:rtl">  ูููู ุขุฎุฑ ุญูุซ ูุง ููููู ุงูุงุณุชุบูุงุก ุนู ุฃุณุงููุจ <code>Mockito.do...</code> ูู ุชุฌุงูุฒ ุงูุทุฑููุฉ ุงูุชู <code>Mockito.when</code> <code>void</code> : ุงููุนููุฉ <code>Mockito.when</code> ุงููุนููุฉ ูุง ูููู ุฃู ุชุนูู ูุน ูุซู ูุฐู ุงูุทุฑููุฉ.  <code>Mockito.doReturn</code> ุ ุจุทุจูุนุฉ ุงูุญุงู ุ <code>Mockito.doReturn</code> ุนู ุงูุนูู ุ ูููู ููุงู <code>Mockito.doThrow</code> ู <code>Mockito.doAnswer</code> ููุงุฏุฑุงู ูุง ูููู <code>Mockito.doNothing</code> ูุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุฃุฏุฑุณ ุจุงูุชูุตูู ุจุนุถ ุงูุดูุก ููููุฉ ุชุนููู ุดุฑูุท ููุชุงุฆุฌ ุงูููุงููุงุช.  ุณูู ุฃููุฑ ููุฒูุฉ ููุท ูู ุฎูุงู <code>Mockito.when</code> - ุทุฑููุฉ ุจุฏููุฉ ุชูุฑูุจุง ููุงุซูุฉ ุชูุงูุง ูู ุงูุชุนุงูู ูุนูุง. </p><br><h3 id="zadanie-usloviy-vyzova" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุดุฑูุท ุงูุงุชุตุงู </h3><br><p style=";text-align:right;direction:rtl">  ุงููุซุงู ุฃุนูุงู ูุชุนูู ุจุทุฑููุฉ ุจุฏูู ูุนููุงุช ุ ูุญุงูุฉ ุงูููุงููุฉ ุงููุฑุชุจุทุฉ ุฃูุฑ ูุงุญุฏ ูููู - ุญูููุฉ ุงูููุงููุฉ.  ุจูุฌุฑุฏ ุธููุฑ ุงููุนููุงุช ุ ูุตุจุญ ุงููููู ุฃูุซุฑ ุชุนููุฏูุง.  ูุญุฏ ุฃุฏูู ุ ูุงุณุชุฏุนุงุก ุทุฑููุฉ ุฃููู ุจุถุจุท ุณููููุง ุ ุฃุญุชุงุฌ ุฅูู ุชูุฑูุฑ ุดูุก ุฅูููุง.  ูููู ููุงู ุดูุฆูุง ุขุฎุฑ ุฃูุซุฑ ุฃูููุฉ: ููุฏ ูุชุถุญ ุฃููู ูุง ุฃุฑูุฏ ุฏุงุฆููุง ุงูุญุตูู ุนูู ุฑุฏ ูุนู ูุนูู ุ ูููู ููุท ุนูุฏูุง ุฃุณูููุง ุจูุนููุงุช ุชูู ุจูุชุทูุจุงุช ูุนููุฉ.  <code>DataService</code> ูุฐู ุงูุทุฑููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataItemById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// some code... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุนููู ุงุณุชุฌุงุจุฉ ูุฃู ููุงููุฉ ููุฐู ุงูุทุฑููุฉ ุจุบุถ ุงููุธุฑ ุนู ุงููุณูุทุงุช ุ ููุฌุจ ุฃู <code>Mockito.any</code> ุทุฑููุฉ <code>Mockito.any</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataItemById(any())) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ูุณุชุฌูุจ ุงููููุฐุฌ ููููุฉ ููุท ุจูููุฉ ูุนููุฉ ูู ุงููุณูุทุฉ ุ ููููู ุงุณุชุฎุฏุงู ูุฐู ุงููููุฉ ูุจุงุดุฑุฉ ุฃู ุฃุณุงููุจ <code>Mockito.eq</code> (ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ุงูุชูุงูุค) ุฃู <code>Mockito.same</code> (ุฅุฐุง ูุงูุช ููุงุฑูุฉ ุงูุงุฑุชุจุงุท ูุทููุจุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataItemById(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>)) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// or Mockito.when(dataService.getDataItemById(Mockito.eq("idValue"))) .thenReturn("dataItem");</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฅุฐุง ุฃุฑุฏุช ุฃู ุชูู ุงููุณูุทุฉ ุจุจุนุถ ุงููุชุทูุจุงุช ุ ูููุงู ุนุฏุฏ ูู ุงูุฃุณุงููุจ ุงูุซุงุจุชุฉ ุงููุชุฎุตุตุฉ ูู ููุณ ูุฆุฉ <code>Mockito</code> (ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุงูุชุญูู ูู ุงูุณูุงุณู ุจุญุซูุง ุนู ูุญุชููุงุช ูู ุจุฏุงูุฉ ุฃู ูู ููุงูุฉ ุชุณูุณู ูุนูู ูู ุงูุฃุญุฑู ุ ููุทุงุจูุฉ ุงูุฃููุงุท ุ ููุง ุฅูู ุฐูู).  ููุงู ุฃูุถูุง ุทุฑููุฉ ุนุงูุฉ Mockito.argThat (ููุธุงุฆุฑูุง ููุฃููุงุน ุงูุจุฏุงุฆูุฉ) ุงูุชู ุชูุจู ุชูููุฐ ูุงุฌูุฉ ArgumentMatcher ุงููุธูููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataById( Mockito.argThat(arg -&gt; arg == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || arg.length() &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>))) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุณูุญ ูู ูุฆุงุช <code>ArgumentMatchers</code> ู <code>ArgumentMatchers</code> ุจุงูุนูู ูุน ุจุนุถ ุงูุชุทุจููุงุช ุงููููุฏุฉ ุงูุฌุงูุฒุฉ ููุฐู ุงููุงุฌูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุชูุญ ูู ExtraMatchers.or ู ExtraMatchers.and ุงูุฌูุน ุจูู ุงููุทุงุจูุงุช ุงูุฃุฎุฑู (ููุงุญุธุฉ: ุงูุฃุณุงููุจ ุงูุซุงุจุชุฉ ููุฐู ุงููุฆุงุช ูุง ุชูุฑุฌุน ูุซููุงุช ุงููุทุงุจูุงุช ุ ููู ููุท ุงููุตูู ุฅูููุง!) </p><br><p style=";text-align:right;direction:rtl">  ูููุณ ุงูุทุฑููุฉ ุ ููููู ุถุจุท ุงูุณููู ุนุฏุฉ ูุฑุงุช ูุน ูุชุทูุจุงุช ูุฎุชููุฉ ูููุณุงุฆุท ุ ูุฌููุน ููุงุฐุฌ ุงูุณููู ุงููุญุฏุฏุฉ ุจูุฐู ุงูุทุฑููุฉ ุณุชุนูู ูู ููุช ูุงุญุฏ.  ุจุงูุทุจุน ุ ูู ุจุนุถ ุงูุญุงูุงุช ุ ูุฏ ุชุชูุงุทุน - ุนูู ุณุจูู ุงููุซุงู ุ ุณุฃุทูุจ ุฅุฑุฌุงุน ูุชูุฌุฉ ูุงุญุฏุฉ ุนูุฏูุง ุชููู ูููุฉ <code>int</code> ูููุนููุฉ ุฃูู ูู 5 ูุงูุขุฎุฑ ุนูุฏ ุชููู ุงููููุฉ ุงูุฒูุฌูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ููุณููู ุงููุญุฏุฏ ูุงุญููุง ุงูุฃุณุจููุฉ.  ูุฐูู ุ ุนูุฏ ุชุญุฏูุฏ ุฃููุงุท ุงูุณููู ุงููุนูุฏุฉ ุ ูุฌุจ ุฃู ุชุจุฏุฃ ุจูุชุทูุจุงุช ุฃุถุนู (ูู ุงูุญุฏ - <code>any()</code> ) ุซู ุชูุชูู ุฅูู ุฃููุงุท ุฃูุซุฑ ุชุญุฏูุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุนูู ูุน ุฃุณุงููุจ ุชุญุชูู ุนูู ุฃูุซุฑ ูู ูุณูุทุฉ ูุงุญุฏุฉ ุ ูุชู ุงูุฌูุน ุจูู ุงููุชุทูุจุงุช ุงููุญุฏุฏุฉ ููููุง ููููุทููุฉ AND ุ ุฃู ููุญุตูู ุนูู ุงููุชูุฌุฉ ุงููุนุทุงุฉ ุ ูุฌุจ ุฃู ุชูู ูู ุงููุณุงุฆุท ุจุงููุชุทูุจุงุช ุงููุญุฏุฏุฉ.  ูู ุฃุฌุฏ ุทุฑููุฉ ูุถุจุท ุทุฑููุฉ ุชุนุณููุฉ ููุฌูุน ุจููููุง ุ ุนูู ุงูุฑุบู ูู ูุฌูุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏ ุชุญุฏูุฏ ุณููู ูุซู ูุฐู ุงูุทุฑููุฉ ุ ูุง ูููู ุงูุฌูุน ุจูู ุฃุณุงููุจ <code>Mockito</code> ุงูุซุงุจุชุฉ <code>Mockito</code> ูููู ุงูููู ุงููุจุงุดุฑ.  ุงุณุชุฎุฏู <code>Mockito.eq</code> ุฃู <code>Mockito.same</code> . </p><br><h3 id="zadanie-rezultatov-vyzova" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ูุชุงุฆุฌ ุงูุงุชุตุงู </h3><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงููุงุฆู ุงูุตูุฑู ุ ูุฌุจ ุฃู ูุณุชุฌูุจ ุงููุงุฆู ููููุงููุฉ.  ุชุชูุซู ุงูุนูุงูุจ ุงููุญุชููุฉ ุงูุฑุฆูุณูุฉ ูู ุฅุนุงุฏุฉ ุงููุชูุฌุฉ ูุฅููุงุก ุงุณุชุซูุงุก ุ ูุนูู ูุฐู ุงูุฎูุงุฑุงุช ุจุงูุชุญุฏูุฏ ุ ุชู ุชุตููู ูุฌููุนุฉ ุฃุฏูุงุช Mockito ูู ุงูููุงู ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุจุณุท ุงูุญุงูุงุช ุงูููุถุญุฉ ุฃุนูุงู ุ ูุฅู ุงุณุชุฌุงุจุฉ ุงูููุงููุฉ ูู ุฅุฑุฌุงุน ูููุฉ.  ุณุฃูุฏู ุฑูุฒู ูุฑุฉ ุฃุฎุฑู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.when(dataService.getAllData()).thenReturn(data);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ: ููููู ููุท ุฅุฑุฌุงุน ูุงุฆู ุ ูุง ุชูุฌุฏ ุทุฑู ูููุตูุฉ ููุฃูููุงุช.  ูุฐูู ุ ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุชูุฑุฌุน ุงููููุฉ ุงูุจุฏุงุฆูุฉ ุ ูู ูุซู ูุฐู ุงูุญุงูุฉ ุ ุณุชุญุฏุซ un / boxing.  ูู ูุนุธู ุงูุญุงูุงุช ุ ูุง ูุชุฏุงุฎู ูุฐุง ุ ูููู ุฅุฐุง ููุฑ ุงููุชุฑุฌู ุจุฎูุงู ุฐูู ุ ูุณูู ูุชุนูู ุนููู ุงูุงุชูุงู ูุนู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ... ุฃู ุชุญูู ุชุญุฐูุฑุงุชู. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช ุงูุฑูู ููุณุช ุฃุตุนุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"invalidId"</span></span>)) .thenThrow(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IllegalArgumentException());</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุฉ ุฃุฎุฑู: ููููู ุฅูุดุงุก ูุงุฆู ุงุณุชุซูุงุก ูุฑููู ูุจุงุดุฑุฉ ุ ุฃู ููููู ุชุฒููุฏ Mockito ุจูุฆุฉ ุงุณุชุซูุงุก ููุท ุจุญูุซ ูุชู ุฅูุดุงุคูุง ุชููุงุฆููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"invalidId"</span></span>)) .thenThrow(IllegalArgumentException.class);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ููุชุง ุงูุญุงูุชูู ุ ูุณูุญ ูู ุจูุงุก ุงูุฌููุฉ ุจุงุณุชุฎุฏุงู ุงูุงุณุชุซูุงุกุงุช ูุงูุชุญูู ูููุง ุ ููู Mockito ูู ูุณูุญ ูู ุจุฅุฌุฑุงุก ูุซู ูุฐุง ุงูุงุฎุชุจุงุฑ ุฅุฐุง ูุงู ููุน ุงูุงุณุชุซูุงุก ูุง ูุชุทุงุจู ูุน ุงูุทุฑููุฉ ุงูุชู ุฃุฑุบุจ ูู ูุฑุถ ูุฐุง ุงูุงุณุชุซูุงุก ุนูููุง. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู ูุฆุฉ ููุนููุฉ ุ ูุชู ุชุฌุงูู ุงูููุดุฆุงุช (ุญุชู ุจุฏูู ุงููุนููุงุช) ุ ููุฐูู ุงูุชููุฆุฉ ุงููุจุงุดุฑุฉ ููุญูู - ูุชู ุฅูุดุงุก ุงููุงุฆู ุจุชุฌุงูุฒูุง (ุจุนุฏ ูู ุดูุก ุ ูุฐุง ูู Mockito!) ุ ุจุญูุซ ุชููู ุฌููุน ุญููู ุงูุงุณุชุซูุงุก ุงูุฐู ุชู ุทุฑุญู <code>null</code> .  ูุฐูู ุ ุฅุฐุง ูุงู ูุญุชูู ุงูุงุณุชุซูุงุก ููููุง ูู (ุนูู ุณุจูู ุงููุซุงู ุ ุจุนุถ ุญููู <code>type</code> ุงูุชู ููุง ูููุฉ ุงูุชุฑุงุถูุฉ) ุ ูุณูุชุนูู ุนููู ุงูุชุฎูู ุนู ูุฐู ุงูุทุฑููุฉ ูุฅูุดุงุก ุงุณุชุซูุงุกุงุช ูุฏูููุง. </p><br><p style=";text-align:right;direction:rtl">  ุชููู ุฎูุงุฑุงุช ุฑุฏ ุงููุนู ูุฐู ููุงุณุจุฉ ุ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฏุงุฆููุง ุฅูู ุฅุฑุฌุงุน ูููุฉ ูุนููุฉ ุ ุฃู ุฏุงุฆููุง ููุณ ุงููููุฉ ูููุชูุฌุฉ ุ ุฃู ุงูุฑุฏ ุฏุงุฆููุง ุนูู ููุณ ุงูุงุณุชุซูุงุก ุ ููู ูุนุธู ุงูุญุงูุงุช ุชููู ูุฐู ุงููุฏุฑุงุช ูุงููุฉ ุชูุงููุง.  ููู ูุงุฐุง ูู ูุงูุช ุงููุฑููุฉ ูุทููุจุฉุ  ุงูุชุฑุถ ุฃู ุทุฑููุชู ุชูุจู ูุฌููุนุฉ ูู ุงูููู ุ ูุชูุฑุฌุน ูุฌููุนุฉ ุฃุฎุฑู ูู ุงูููู ุงููุฑุชุจุทุฉ ูู ุงูุฃูู ุฅูู ูุงุญุฏ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูุญุตูู ุนูู ูุฌููุนุฉ ูู ูุงุฆูุงุช ุงูุจูุงูุงุช ุจูุงุณุทุฉ ูุฌููุนุฉ ูุนุฑูุงุชูุง) ุ ูุฃุฑูุฏ ุงุณุชุฎุฏุงู ูุฐุง ุงููุงุฆู ููููุฉ ุจุดูู ูุชูุฑุฑ ูุน ูุฌููุนุงุช ูุฎุชููุฉ ูู ุงููุฏุฎูุงุช ูู ุงูุงุฎุชุจุงุฑ ุงูุจูุงูุงุช ุ ูุงูุญุตูู ูู ูู ูุฑุฉ ุงููุชูุฌุฉ ุงูููุงุจูุฉ.  ููููู ุจุงูุทุจุน ูุตู ุฑุฏ ุงููุนู ุจุดูู ูููุตู ููู ูุฌููุนุฉ ูุญุฏุฏุฉ ูู ุงููุนููุงุช ุ ูููู ููุงู ุญููุง ุฃูุซุฑ ููุงุกูุฉ - ุทุฑููุฉ <code>Mockito.thenAnswer</code> ุ ููุนุฑู ุฃูุถูุง ุจุงุณู <code>Mockito.then</code> .  ููุจู ุชุทุจูู ุงููุงุฌูุฉ ุงููุธูููุฉ <code>Answer</code> ุ ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูููุง ูู ุชููู ูุงุฆู ูู ูุฆุฉ <code>InvocationOnMock</code> .  ูู ุงูุฃุฎูุฑ ุ ูููููู ุทูุจ ูุนููุงุช ุงุณุชุฏุนุงุก ุงูุฃุณููุจ (ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ุฃู ูููุง ูุฑุฉ ูุงุญุฏุฉ ูู ุดูู ุตููู) ูุงูุชุตุฑู ูุนูู ููุง ุฃุฑูุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงูุญุตูู ุนูู ูููุฉ ููุงุจูุฉ ููู ุนูุตุฑ ูู ุนูุงุตุฑ ูุฌููุนุชู ุ ูุชุดููู ูุฌููุนุฉ ุฌุฏูุฏุฉ ูููุง ูุฅุนุงุฏุชูุง (ููุงุญุธุฉ: ูุชู ุฅุฑุฌุงุน ุงููุชูุฌุฉ ุงููุฑุบูุจุฉ ุจุจุณุงุทุฉ ุ ููุง ุชุชู ูุชุงุจุชูุง ูู ุญูู ูุง ูู ูุงุฆู ุงููุนููุฉ ุ ููุง ูุฏ ุชุชููุน): </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataByIds(Mockito.any())) .thenAnswer(invocation -&gt; invocation .&lt;List&lt;String&gt;&gt;getArgument(<span class="hljs-number"><span class="hljs-number">0</span></span>).stream() .map(id -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"a"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"dataItemA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"b"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"dataItemB"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }) .collect(Collectors.toList()));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุงุญูุฉ ุงูุฃูุฏููููุฌูุฉ ุ ูุฐุง ุดูุก ูุซู ูุชุงุจุฉ ูููุฐุฌ ูุทุฑููุฉ ุญููููุฉ: ุงูุญุตูู ุนูู ุงููุนููุงุช ููุนุงูุฌุชูุง ูุฅุฑุฌุงุน ุงููุชูุฌุฉ.          -  ,    - ,      ,     ,    mock-    . </p><br><p style=";text-align:right;direction:rtl">     <code>Answer</code> ,     , โ , <code>AnswersWithDelay</code> , <code>ReturnsElementsOf</code>  . . </p><br><p style=";text-align:right;direction:rtl">  :  <code>InvocationOnMock</code>   โ       <code>Object[]</code> ,  generic-. </p><br><p style=";text-align:right;direction:rtl">        โ <code>thenCallRealMethod</code> .    .     mock-,    spy-.   mock   ,      ,  -   <code>null</code> .  spy   <code>thenCallRealMethod</code>     spy  ;    ,     -      . </p><br><p style=";text-align:right;direction:rtl">        <code>thenAnswer</code> :  <code>InvocationOnMock</code>   <code>callRealMethod()</code> โ   ,   ""    -  . </p><br><p style=";text-align:right;direction:rtl">    <code>OngoingStubbing</code>    <code>OngoingStubbing</code> ,  ,   ,     .            ,   .  <code>thenReturn</code>  <code>thenThrow</code>   ,  varargs.       . </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)) .thenReturn(<span class="hljs-string"><span class="hljs-string">"valueA1"</span></span>, <span class="hljs-string"><span class="hljs-string">"valueA2"</span></span>) .thenThrow(IllegalArgumentException.class);</code> </pre> <br><p style=";text-align:right;direction:rtl">         <code>"valueA1</code> ,  โ <code>"valueA2</code> ( ),   (  )    <code>IllegalArgumentException</code> . </p><br><h2 id="slezhenie-za-vyzovami-metodov" style=";text-align:right;direction:rtl">     </h2><br><p style=";text-align:right;direction:rtl">        :          (mock'    ),     .   ,     :   ,          ,       .      <code>verify</code> . </p><br><p style=";text-align:right;direction:rtl">  ,           ,  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Mockito.verify(dataService).getDataById(Mockito.any());</code> </pre> <br><p style=";text-align:right;direction:rtl">      ,            <code>getDataById</code> ,  ,           . ,             Mockito,      <code>when</code> ,   ,  ,         mock-. , ,  ,      <code>when</code>  , โ      mock',       (. ). </p><br><p style=";text-align:right;direction:rtl">           : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Mockito.verify(dataService, Mockito.times(1)) .getDataById(Mockito.any());</code> </pre> <br><p style=";text-align:right;direction:rtl">           <code>Mockito.times</code> ;       <code>Mockito.never</code> .    <code>Mockito.atLeast</code> (  <code>Mockito.atLeastOnce</code>   1)  <code>Mockito.atMost</code> ,       ,    <code>Mockito.only</code> , ,         mock-  (. .     ). </p><br><p style=";text-align:right;direction:rtl">  ,         <code>Mockito</code> ,     <code>VerificationAfterDelay</code>  <code>VerificationWithTimeout</code> ,    <code>Mockito.after</code>  <code>Mockito.timeout</code> .  ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Mockito.verify(dataService, Mockito.after(1000).times(1)) .getDataById(Mockito.any());</code> </pre> <br><p style=";text-align:right;direction:rtl">    ,    mock   ,      ,              ,       .        .   <code>after</code>  <code>timeout</code>  ,          ,    ,    โ   ,     .  ,   <code>timeout</code>         โ       .   <code>VerificationWithTimeout</code>   <code>never</code>  <code>atMost</code> :         . </p><br><p style=";text-align:right;direction:rtl">  ,             <code>Mockito.any()</code> .          ,   ,     โ    Mockito       ,    ,     . Mock-     ,        ,   , , : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"b"</span></span>); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">2</span></span>)).getDataById(Mockito.any()); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); Mockito.verify(dataService, Mockito.never()).getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); Mockito.verifyNoMoreInteractions(dataService);</code> </pre> <br><p style=";text-align:right;direction:rtl">      <code>verifyNoMoreInteractions</code> (  <code>verifyZeroInteractions</code> ) โ    -  (            <code>verify</code> )    mock- โ    .  :   varargs,     ,     ,         <strong> </strong> ! </p><br><p style=";text-align:right;direction:rtl">       ,   ,      ,     .   ,    <code>InOrder</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">InOrder inOrder = Mockito.inOrder(dataService);</code> </pre> <br><p style=";text-align:right;direction:rtl">     varargs;     โ    mock-   ,    <code>InOrder</code>                .     <code>verify</code>    ,   <code>Mockito.verify</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">inOrder.verify(dataService, times(<span class="hljs-number"><span class="hljs-number">2</span></span>)).saveData(any()); inOrder.verify(dataService).getData();</code> </pre> <br><p style=";text-align:right;direction:rtl">       ,         <code>saveData</code> , <strong> </strong>  โ <code>getData</code> .  ,   <code>InOrder</code>    ,      โ     . </p><br><p style=";text-align:right;direction:rtl">       ,   ,       โ , .      -      ,    ,      โ  ,     ,    .     <code>ArgumentCaptor</code>    <code>capture()</code> .  ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">DataSearchRequest request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DataSearchRequest(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(System.currentTimeMillis()), <span class="hljs-number"><span class="hljs-number">50</span></span>); dataService.getDataByRequest(request); ArgumentCaptor&lt;DataSearchRequest&gt; requestCaptor = ArgumentCaptor.forClass(DataSearchRequest.class); Mockito.verify(dataService, times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataByRequest(requestCaptor.capture()); assertThat(requestCaptor.getAllValues()).hasSize(<span class="hljs-number"><span class="hljs-number">1</span></span>); DataSearchRequest capturedArgument = requestCaptor.getValue(); assertThat(capturedArgument.getId()).isNotNull(); assertThat(capturedArgument.getId()).isEqualTo(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>); assertThat(capturedArgument.getUpdatedBefore()).isAfterYear(<span class="hljs-number"><span class="hljs-number">1970</span></span>); assertThat(capturedArgument.getLength()).isBetween(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl"> <code>ArgumentCaptor</code>       ,      <strong> </strong> ,   <code>ArgumentCaptor</code>  . <code>getValue()</code>    , <code>getAllValues()</code> โ     .   ,         ,   . </p><br><h2 id="mock-obekty-kak-znacheniya-poley-i-annotacii-mockito" style=";text-align:right;direction:rtl"> Mock-      Mockito </h2><br><p style=";text-align:right;direction:rtl">      ,     mock-   ,      โ     <code>@Mock</code>   -       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">MockitoAnnotations.initMocks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl"> (  ,       mock',       ) </p><br><p style=";text-align:right;direction:rtl">  spy   <code>@Spy</code> โ     <code>@Mock</code> โฆ   spy   ,      , ?          ,      โ  spy     . </p><br><p style=";text-align:right;direction:rtl">   <code>@Captor</code>    <code>ArgumentCaptor</code> โ   , ,    . </p><br><p style=";text-align:right;direction:rtl">   <code>@InjectMocks</code> .       -  Mockito,          .       mock-   ,   .        ,    .  -     ,     <code>null</code> ,   -     .         (      )  dependency injection. </p><br><h2 id="otkat-povedeniya-k-defoltnomu-i-sessii-mockito" style=";text-align:right;direction:rtl">       Mockito </h2><br><p style=";text-align:right;direction:rtl">         ,  :   mock (spy, argument captor...),   ,    , .    ,  mock' โ    ,    . JUnit           ,      ,    TestNG   โ       . , ,   mock'    ,     ,   ,         . .  ,  ,  โ  ,          . </p><br><p style=";text-align:right;direction:rtl">   ,             mock-    .  TestNG     <code>@BeforeMethod</code> ( <code>@AfterMethod</code>  ).           mock'   ,        ,           (    JUnit โ      <code>@Before</code> ). </p><br><p style=";text-align:right;direction:rtl">   ,     , โ   <code>Mockito.reset</code>  <code>Mockito.clearInvocations</code> .   varargs,      mock'.      ,    .     :     (,              )  ,   /   mock'    , โ       .     ,    mock'       . .      , ,             . </p><br><p style=";text-align:right;direction:rtl">       (,  ) โ     <code>MockitoAnnotations.initMocks(this);</code>  .    ""  ,   Mockito. </p><br><p style=";text-align:right;direction:rtl">    โ     Mockito.    .     mock- ,          ( mock'      ).          ,      <code>MockitoSession</code> ,           .     TestNG: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Mock</span></span> DataService dataService; MockitoSession session; <span class="hljs-meta"><span class="hljs-meta">@BeforeMethod</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ session = Mockito.mockitoSession() .initMocks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .startMocking(); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// some code using the dataService field } @AfterMethod public void afterMethod() { session.finishMocking(); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ,        โ  ,  "" (,     )  ,   . </p><br><h2 id="chto-eschyo" style=";text-align:right;direction:rtl">  ? </h2><br><p style=";text-align:right;direction:rtl">      Mockito:  mock  spy-,        .      ,       .  ,  , : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Mockito   mock-   <code>MockSettings</code> (      โ ,   mock'    -  ); </li><li style=";text-align:right;direction:rtl">     mock-,   <code>MockingDetails</code> ; </li><li style=";text-align:right;direction:rtl">   <code>BDDMockito</code>   <code>Mockito</code> ; </li><li style=";text-align:right;direction:rtl">     (    JUnit       Mockito,     ). </li></ul><br><p style=";text-align:right;direction:rtl">         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  Mockito</a> .           javadoc'  <code>Mockito</code> . </p><br><p style=";text-align:right;direction:rtl"> , ,  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar444982/">https://habr.com/ru/post/ar444982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar444972/index.html">ูุนุงูุฌุงุช Intel Gen11 GPU ูุจุทุงูุฉ ุงูุฑุณููุงุช ุงููููุตูุฉ ูู Intel</a></li>
<li><a href="../ar444974/index.html">ุงูุชุดููุฑ ูู ุฌุงูุง. MessageDigest ุงูุฏุฑุฌุฉ</a></li>
<li><a href="../ar444976/index.html">Quester - ุงููุธุงู ุงูุฃุณุงุณู ูุฅูุดุงุก ูุฅููุงู ุงูููุงู (ุชุฌุฑูุจูุฉ)</a></li>
<li><a href="../ar444978/index.html">ูุฑุถุช ุณูุทุงุช ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจู ุบุฑุงูุฉ ูุฏุฑูุง 1.7 ูููุงุฑ ุฏููุงุฑ ุนูู Google ูุญุธุฑ ุฅุนูุงูุงุช ุงูููุงูุณูู</a></li>
<li><a href="../ar444980/index.html">ุชุญููู ุฎุทุฃ ูุงุฏุญ ูู ุฎูุงุฑุฒููุฉ ุชุดููุฑ KIB SEARCHINFORM</a></li>
<li><a href="../ar444984/index.html">ูู ุฃูู ุชุฃุชู ุงูุตูุฑ ูุงุฎุชุจุงุฑ ุฃูุธูุฉ ุงูุชุนุฑู ุนูู ุงููุฌููุ</a></li>
<li><a href="../ar444986/index.html">IETF ุชูุงูู ุนูู ACME - ูุฐุง ูู ุงููุนูุงุฑ ููุนูู ูุน ุดูุงุฏุงุช SSL</a></li>
<li><a href="../ar444992/index.html">ุงูุฃุฎุทุงุก ุงููุถููุฉ ูู ุงููุธุงู: ุฏูุฑูุง ูู ุงูุฅุญุตุงุกุงุช</a></li>
<li><a href="../ar444994/index.html">ุญูู ูุญุฑูุงุช ุงูุฃูุฑุงุต ูุงุณุชุฎุฏุงููุง ุนูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุญุฏูุซุฉ</a></li>
<li><a href="../ar444996/index.html">ุชุฏููุงุช Redis ููููู ุจูุงูุงุช ูุธูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>