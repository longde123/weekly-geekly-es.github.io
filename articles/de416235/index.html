<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèº üë∞üèø üë† Erstellen benutzerdefinierter Komponenten f√ºr Bootstrap 4 ‚úèÔ∏è üë∞üèº üßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die √∂ffentliche Meinung hat Bootstrap in die Kategorie der legend√§ren Frameworks der Vergangenheit √ºbersetzt, aber es ist immer noch sehenswert. Boots...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen benutzerdefinierter Komponenten f√ºr Bootstrap 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416235/"><p><img src="https://habrastorage.org/webt/gm/os/o0/gmoso05v9ay78e90jed0lo0jqz4.jpeg"></p><br><p>  Die √∂ffentliche Meinung hat Bootstrap in die Kategorie der legend√§ren Frameworks der Vergangenheit √ºbersetzt, aber es ist immer noch sehenswert.  Bootstrap 4 ist ein hervorragender Navigator f√ºr ein sicheres Layout. Vor allem zeigt ein Beispiel f√ºr einen <strong>HTML-√ºber-JS-</strong> Ansatz zum Erstellen von Webanwendungen die vorhandenen Funktionen von HTML zur deklarativen Beschreibung der Benutzeroberfl√§che. </p><br><p> Und wie sich JavaScript-Framework-Code entwickelt, ist auch n√ºtzlich, um eine Idee zu haben.  Die Architektur von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jQuery-</a> Plugins wird weiterhin verwendet, wird jedoch ab Version 4 von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rollup</a> in die mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Babel6</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">transformierten</a> Paket- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ES6-</a> Klassen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eingeschlossen</a> .  jQuery wird wahrscheinlich nicht in K√ºrze <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verf√ºgbar</a> sein - dazu sp√§ter mehr -, aber zun√§chst werden am Beispiel des Erstellens eines eigenen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BsMultiSelect-</a> Plug-Ins auf demselben Stack wie <strong>Boostrap 4</strong> die Entwicklungsfunktionen des Frameworks enth√ºllt. </p><a name="habracut"></a><br><h2 id="pochemu-kazhdyy-programmist-dolzhen-napisat-svoy-">  Warum " <em>jeder Programmierer sollte sein eigenes schreiben ...</em> " </h2><br><p> " <em>Verbesserung der guten nur Beute</em> ."  Die Notwendigkeit zu verstehen, was neues Bootstrap bekam, war die √úbertragung seiner Komponenten auf den neuen Stapel und wie viel einfacher es jetzt ist, Komponenten h√∂herer Ordnung zu erstellen.  Alles schien einfach zu sein: Kombinieren Sie <code>.form-control</code> , <code>.badge</code> und <code>.dropdown-menu</code> und Sie erhalten ganz einfach eine Mehrfachauswahl ... </p><br><p><img src="https://habrastorage.org/webt/tu/-9/mu/tu-9munyxhcouzrd0vjvzvfzlg0.png"></p><br><h2 id="konflikt-arhitektur-s-poroga">  Konflikt der Architektur von der T√ºr </h2><br><p>  Das resultierende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BsMultiSelect-</a> Plugin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verwendet nicht</a> direkt den JS- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bootstrap.js-</a> Code, sondern die Abh√§ngigkeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">popper.js</a> (Vanille-Popup-Framework).  Dies liegt daran, dass die <a href="">Dropdown-Komponente von bootstrap.js</a> w√§hrend der Initialisierung im DOM das sogenannte Umschaltelement finden muss (in dem speziellen Fall ist es eine Schaltfl√§che, die das Men√º √∂ffnet). Wenn sie es nicht findet, st√ºrzt sie mit einem Fehler ab (da ich direkt aus js erstelle, habe ich "Schaltfl√§chen"). nat√ºrlich nicht).  Fazit: Komponenten, die unter "HTML √ºber JS" gesch√§rft wurden, k√∂nnen nicht (oder nachteilig) direkt aus JS erstellt werden.  Fazit Nummer zwei: Sie m√ºssen benutzerdefinierte Komponenten so programmieren, dass unter der Komponente "HTML √ºber JS" immer eine leichtere Komponente von "reinem JS" vorhanden ist.  Ich habe diese <a href="">MulitSelect.js</a> nicht nur vom Code, sondern auch von den Bootstrap-Stilen vollst√§ndig gel√∂scht.  MulitSelect.js spielt f√ºr BsMulitSelect.js dieselbe Rolle wie popper.js f√ºr dropdown.js. </p><br><h2 id="dva-slova-o-popperjs">  Zwei Worte zu popper.js </h2><br><p>  Tolle Bibliothek - eine Funktion.  DropDown.js wiederholt sich, bietet jedoch eine vollst√§ndig eingeschr√§nkte Schnittstelle (da in "HTML √ºber JS" nicht die gesamte API ben√∂tigt wird).  Popper hat mehr offene Fragen als wir m√∂chten.  Ich war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">entt√§uscht,</a> dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unter IE11 Ereignisse ver√∂ffentlicht werden, die nicht wie unter Chrome sind</a> . </p><br><h2 id="o-perehode-ot-iife-k-classam">  √úber den √úbergang von IIFE zu Klassen </h2><br><p>  <a href="">Das Standard-Boilerplate</a> f√ºr <a href="">jQuery-Plugins</a> besteht darin, die Konstruktorfunktion in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IIFE</a> zu definieren.  Dies ist eine Klasse innerhalb von IIFE.  √ñffnen: Alte funktionale Methoden f√ºr private Methoden stehen im Konflikt mit dem ES6-Lambda, sodass sie in Bootstrap "aufgegeben" wurden.  Alle Methoden sind √∂ffentlich, w√§hrend pseudo-privaten Methoden _ vorangestellt wird, d.h.  Unterstrich.  Ich verstehe, dass ich falsch liege, aber ich folge meinen Konventionen - "√∂ffentliche Methoden mit Gro√übuchstaben".  In allem anderen hat BsMultiSelect die Annahme der Vereinbarung der "Standard" DropDown.js geschaffen, d. H.  Ich m√∂chte ihn als eine Art Boilerplate mit Fleisch darstellen. </p><br><div class="spoiler">  <b class="spoiler_title">Ein weiterer Unterschied, da es ein Rollup gibt, habe ich die Dateien getroffen.</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> $ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AddToJQueryPrototype <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./AddToJQueryPrototype'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MultiSelect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./MultiSelect'</span></span> <span class="hljs-comment"><span class="hljs-comment">// ... ( (window, $) =&gt; { AddToJQueryPrototype('BsMultiSelect', (element, optionsObject, onDispose) =&gt; { // ... return new MultiSelect(element, optionsObject, onDispose, facade, window, $); }, $); } )(window, $)</span></span></code> </pre> </div></div><br><p>  Die neue Vereinbarung: ein Plugin <a href="">zu ver√∂ffentlichen Constructor</a> - die nicht ist der Designer innerhalb IIFE zu verlieren.  Ja, ein IIFE sollte verbleiben - niemand hat die Aufgabe entfernt, die Fenster-, $ und Popper-Abh√§ngigkeiten (f√ºr diejenigen, die "nicht in Module" k√∂nnen) auf standardm√§√üige Weise zu definieren. </p><br><h2 id="konfiguracii-linterov-eslint-i-stylelint">  Eslint- und Stylelint-Linter-Konfigurationen </h2><br><p>  Ich f√ºhlte mich nicht verpflichtet, die drakonischen Regeln f√ºr das Styling von Bootstrap-Code zu befolgen.  Sicherlich schreiben sie in einer Umgebung, die ihnen beim Einstellen von R√§umen und bei der strengen Kontrolle der Quellcodeverwaltung hilft, aber es f√§llt mir schwer, jede Sekunde auf die Trauer des Linter in VS Code zu h√∂ren.  Wenn Sie Ihr eigenes Plugin schreiben, k√∂nnen und sollten die Regeln stark gelockert werden. </p><br><p>  Eslint, Stylelint kommt vielleicht nicht zu oft heraus, aber es besteht kein Wunsch, sich die neuen Regeln anzuschauen.  In jeder Hinsicht nervt mich diese Leistung mehr. </p><br><h2 id="organizaciya-koda-i-rollup">  Organisationscode und Rollup </h2><br><p>  Der verteilbare ES6-Code von Bootstrap wird durch Rollup in zwei Versionen gepackt: Standalone <strong>bootstrap.js</strong> und Bundle <strong>bootstrap.bundle.js</strong> - letzteres enth√§lt popper.js. </p><br><p>  Der Autor von rollup.config.js hat mir fremde Instinkte.  <a href="">All diese Konfigurationstransformationen</a> durch Push und Pop, abh√§ngig von der erforderlichen Version von Standalone oder Bundle, sehen aufwendig und einsch√ºchternd aus. Zum Gl√ºck ben√∂tigen Sie zum Schreiben eines Plugins nur eine Art von Bundle "Standalone", und ich muss nicht beweisen, dass ich es besser machen kann. </p><br><p>  Eine eigenst√§ndige Version von Bootstrap wird auch im Hauptfeld des Pakets angezeigt, d.h.  npm-Abh√§ngigkeiten werden in dieselbe Datei aufgel√∂st, die Benutzer √ºber <code>&lt;script&gt;</code> laden.  Dies ist keine eindeutige L√∂sung, aber mein <strong>BsMultiSelect-</strong> Plugin <strong>ist</strong> denselben Weg <strong>gegangen</strong> .  In diesem Fall k√∂nnen <a href="">babel-Helfer</a> in das <a href="">Plugin aufgenommen werden</a> , obwohl sie auch in bootsrap.js enthalten sind.  Vervielf√§ltigung ist irgendwie nicht richtig ... </p><br><p>  Interessant ist, dass Bootstrap unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jspm</a> eine parallele Konfiguration <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hat - der native Browser-ES-Modullader</a> und sein Hauptfeld besteht bereits aus sauberem Remote-Code, 12 Komponenten, die nicht geb√ºndelt, sondern separat im Verzeichnis js / dist gespeichert sind.  Hier enth√§lt jede Datei Babel Helfer.  Jspm befindet sich jetzt an einem Scheideweg. Wenn Sie also BsMultiselect erstellen, ignorieren Sie es. </p><br><blockquote>  Und doch ist es interessant, Kenner zu fragen, ob jspm alle 12-mal duplizierten Helfer-Helfer in den Browser bringt. </blockquote><p>  Ein gro√ües Plus an Rollup wurde entdeckt - seine Pakete sind im Gegensatz zu Webpacks lesbar. </p><br><h2 id="bootsrap-4-ispolzuet-babel-6-a-plagin-bsmultiselect--babel-7">  Bootsrap 4 verwendet Babel 6 und das BsMultiSelect Babel 7-Plugin </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BsMultiSelect konnte</a> mithilfe des aktualisierten Rollup-Babel-Plugins (auch in der Beta) problemlos auf die Beta von Babel 7 migriert werden.  <strong>Es lohnt sich, jetzt auf Babel 7 umzusteigen,</strong> da das neue <code>@babel/preset-env</code> (die Konfiguration des Transpilers, "auf welchen Browsern der Code ausgef√ºhrt wird").  Allein √ºber das Internet wurde es ziemlich schwierig zu verstehen, wie ES6-Voreinstellungen funktionieren. Sie haben eine lange Entwicklung durchlaufen und viele veraltete Konfigurationen haben sich angesammelt.  Wetten Sie besser sofort auf Babel 7 + <code>@babel/preset-env</code> </p><br><p>  Trotzdem mussten die Beta-Fehler von babel nicht lange warten: [... nodeList] wurde in nodeList.concat () √ºbertragen.  Ich habe es lange nicht verstanden, den Code in JQuery-Aufrufe zu √ºbersetzen (dies ist immer noch notwendig, aber dazu sp√§ter mehr), um das Problem zu l√∂sen.  Fragen Sie: "Warum dann √ºberhaupt Babel, wenn Sie nicht mit ihm zu tun haben?", Die Antwort: "Importe und Lambda." </p><br><h2 id="prakticheskie-aspekty">  Praktische Aspekte </h2><br><p>  In Bootstrap 4 und dessen Plug-in (wie jedes js - Code), gibt es zwei Varianten der Laden im Browser: <strong>durch das Skript / Stil</strong> (eine ‚ÄûSeite‚Äú zu schaffen), und <strong>durch eine Montage node / webpack</strong> (create ‚ÄûAnwendung‚Äú, so dass ich diese beiden fortsetzen im Prinzip sehr unterschiedliche Situationen und bezeichnen: "Seite" und "Anwendung"). <br>  F√ºr die Seite und f√ºr die Anwendung wird dieselbe Bootstrap- "Verteilungsdatei" verwendet.  Dies ist keine offensichtliche und nicht die einzige L√∂sung (zum Beispiel wird f√ºr <code>jspm</code> und f√ºr <code>mocha</code> Tests anderer Code verwendet), aber wenn Sie ein eigenes Plugin erstellen, m√ºssen Sie dieser Konvention nur folgen und auf ihre Optimalit√§t hoffen. </p><br><p>  <strong>Das Gleichgewicht zwischen der Erf√ºllung zweier Anforderungen mit demselben Code f√ºr zwei verschiedene Downloadoptionen zu finden: "Seiten" und "Anwendungen" ist die Hauptaufgabe der Architektur f√ºr den Plug-In-Entwickler.</strong> </p><br><p>  Schlie√ülich kann das Bootstrap-Plugin auch direkt in Ihrer Anwendung <em>ad hoc</em> erstellt werden.  In diesem Fall k√∂nnen Sie den Plug-In-Code mit allen Freuden schreiben: Polyphile und Zugriff auf SASS-Variablen des Schemas.  Wenn Sie sich jedoch auf die Wiederverwendung verlassen, m√ºssen Sie das Plugin in ein eigenes npm-Paket √ºbertragen. Die oben genannten Vorteile fallen in die Kategorie der Probleme: Sie verlieren den Zugriff auf SASS-Variablen und m√ºssen die Ersteller der "Seiten" ber√ºcksichtigen, die das Plugin √ºber das Skript verbinden (wo befinden sich meine Polydateien?). </p><br><h2 id="dostup-k-sass-peremennym-stilya-bootstrap-4">  Zugriff auf SASS Bootstrap 4-Stilvariablen </h2><br><p>  Ich m√∂chte Bootstrap-CSS-Klassen / Selektoren zum Schreiben des Plugins schreiben.  In diesem Fall k√∂nnen Sie beim Anpassen des Bootstrap-Themas erwarten, dass sich das Plugin ohne zus√§tzlichen Aufwand anpasst. </p><br><p>  F√ºr ein selbst ver√∂ffentlichtes Plugin gibt es keinen Zugriff auf SASS-Variablen. </p><br><p>  Bestehende CSS-Klassen / Selektoren - decken nicht alle f√ºr BsMutliSelect erforderlichen Stile ab. Sie ben√∂tigen beispielsweise die <code>ul.form-control</code> f√ºr die <code>ul.form-control</code> , wenn in bootstrap.css nur ein <code>input.form-control</code> Selektor mit der H√∂he f√ºr die <code>input.form-control</code> Sie k√∂nnen ihn nicht anwenden f√ºr <code>ul</code> .  Andere vorhandene Klassen / Selektoren bringen viele √ºberfl√ºssige Stile mit sich: Was ist, wenn Sie einem Element beispielsweise Farbe von .form-control zuweisen m√∂chten, ohne eine Klasse <code>.form-control</code> ?  Dies funktioniert nicht, da es keine Klasse wie <code>.input-color</code> in der die Variable <a href="">$ input-color</a> "getrennt" von allem ver√∂ffentlicht w√ºrde. </p><br><p>  Au√üerdem ist es nicht m√∂glich, den Entscheidungen des Bootstrap-Teams zu folgen: Sie haben kein solches Problem, wenn sie m√ºssen - sie erstellen eine CSS-Klasse / Selektor mit der gew√ºnschten Variablen und bearbeiten sie.  Wenn Sie diskutieren m√∂chten, m√ºssen Sie mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mark Otto</a> erkl√§ren, dass es im BS-Team ein ungew√∂hnlich hohes Ma√ü an Entscheidungsfindung gibt, selbst bei kosmetischen √Ñnderungen bei CSS-Selektoren, wenn Anfragen in die Kategorie "Angebot" fallen. </p><br><p>  Ich schlage die folgende L√∂sung vor. </p><br><p>  F√ºr eine Seite (ein Plug-In √ºber ein <code>script</code> ) m√ºssen Sie sich mit der Unzug√§nglichkeit von Variablen abfinden.  Es ist jedoch nicht erforderlich, den Umgang mit CSS anzubieten - unzug√§ngliche Variablen k√∂nnen angeboten werden, um √ºber js-Parameter angepasst zu werden, da es nicht viele von ihnen gibt (und nicht alle von einem Schema ge√§ndert werden).  F√ºr BsMultiSelect waren die problematischen: deaktivierte Farbe, Eingabefarbe, fokussierter Kontrollschatten (usw. nur 10 Stile, die meisten √§ndern selten das Schema) ... </p><br><div class="spoiler">  <b class="spoiler_title">Zum einen ist dies eine Deklaration aller Stile, von denen das Plugin abh√§ngt ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">selectedPanelDefMinHeight</span></span>: <span class="hljs-string"><span class="hljs-string">'calc(2.25rem + 2px)'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// default size selectedPanelLgMinHeight: 'calc(2.875rem + 2px)', // LG size selectedPanelSmMinHeight: 'calc(1.8125rem + 2px)', // SM size selectedPanelDisabledBackgroundColor: '#e9ecef', // disabled background selectedPanelFocusBorderColor: '#80bdff', // focus border selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)', // foxus shadow selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)', // valid foxus shadow selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)', // invalid foxus shadow inputColor: '#495057', // color of keyboard entered text selectedItemContentDisabledOpacity: '.65' // btn disabled opacity used });</span></span></code> </pre> </div></div><br><p>  F√ºr eine Anwendung mit SASS und dem Collector k√∂nnen Sie jedoch anbieten, <a href="">BsMultiSelect.scss</a> in sich selbst zu kopieren und den Pfad zu Ihrer _variables.scss darin zu korrigieren.  Somit "empf√§ngt" das Plugin die variablen Variablen. </p><br><div class="spoiler">  <b class="spoiler_title">Alles durch CSS ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"> $(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">useCss</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre> </div></div><br><p>  Diese beiden Methoden werden explizit in meinen JS-Code √ºber zwei ‚ÄûAdapter‚Äú geschrieben.  BsMultiSelect besteht eigentlich aus zwei Plugins in einem.  <a href="">Einer</a> , der mit den Arten der Variablen js arbeitet, eine <a href="">andere</a> delegieren diese Aufgabe css. </p><br><p>  Gleichzeitig muss ich direkt sagen, dass die Arbeit mit CSS auch dann erforderlich sein kann, wenn die √úbertragung von benutzerdefinierten Stilen √ºber JS-Parameter verwendet wurde, einfach weil die Autoren der Schemata ihre Arbeit normalerweise sehr grob ausf√ºhren.  Oder seltsam.  Zum Beispiel hat das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Skethy-</a> Schema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aus</a> irgendeinem Grund entschieden, dass das Men√º keinen Hover-Effekt ben√∂tigt.  Features m√ºssen abgelegt werden. </p><br><p>  Aber mit dem skizzenhaften Beispiel hoffe ich, dass Sie sehen k√∂nnen, wie sich das Plug-In relativ leicht an die schwere Schaltung anpasst (es war notwendig, die Werte von nur drei Stilen durch js-Parameter zu √ºberladen). </p><br><div class="spoiler">  <b class="spoiler_title">Anpassung an das Schema durch js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">selectedPanelFocusBoxShadow</span></span>:<span class="hljs-string"><span class="hljs-string">"0px 0px 0px 0.2rem rgba(51,51,51,0.25)"</span></span>, <span class="hljs-attr"><span class="hljs-attr">selectedPanelFocusBorderColor</span></span>:<span class="hljs-string"><span class="hljs-string">"#333"</span></span>, <span class="hljs-attr"><span class="hljs-attr">selectedPanelDisabledBackgroundColor</span></span>: <span class="hljs-string"><span class="hljs-string">"#f7f7f9"</span></span> });</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ez/tg/0y/eztg0yrp2tdyhkbsgxzw2_rtyqw.png"></p><br><p>  Dies ist das Maximum, das mit den "Standard" <code>.form-control</code> Klassen <code>.bage</code> , <code>.form-control</code> , <code>.close</code> usw. erreicht werden kann.  Fast alles passte sich dem Schema an, aber nicht alles. </p><br><p>  Es ist nat√ºrlich schade, dass Sie nicht von diesen drei Parametern abweichen k√∂nnen. Nicht auf alle Variablen im Schema-Stil kann √ºber CSS-Selektoren / Klassen zugegriffen werden (ich l√ºge, Sie k√∂nnen es verlassen, wenn Sie BsMultiSelect.scss f√ºr sich selbst kopieren und die Schaltungsvariablen dazu bringen k√∂nnen, aber dies ist nicht vollst√§ndig zufriedenstellend , wie alle Entscheidungen, die mit den Worten "kopiere zu dir selbst" beginnen). </p><br><p>  Klicken Sie hier: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://dashboardcode.github.io/BsMultiSelect/indexsketchy.html</a> </p><br><h2 id="polyfilly">  Polyfills </h2><br><p>  Im Szenario ‚ÄûIch schreibe ein Ad-hoc-Plugin in die Anwendung‚Äú verwenden Sie <code>@babel/polyfill</code> ohne Probleme und patchen das DOM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">polyfill.io,</a> da es in Ihrer Anwendung bereits vorhanden ist. </p><br><p>  Wenn ein Plugin in ein externes npm-Modul verschoben wird, verschwindet die ganze Freude, da Bootstrap-Benutzer nicht entschieden haben, die langen Listen der erforderlichen Polyfills in der Dokumentation zu ber√ºcksichtigen. </p><br><p>  L√∂sung: Alles, was babel nicht transponiert, sondern Polyphilen √ºberl√§sst, verhindert dies, knirscht mit den Z√§hnen, um es in jQuery-Aufrufe umzuwandeln (z. B. Node.closest in $ .closest).  Dieser Ansatz wird in Bootstrap 4 selbst √ºbernommen und ist offensichtlich ein Kampf gegen Schwellungen.  √úberraschung  jQuery ist eine Polyf√ºllung. </p><br><p>  Ich bin damit einverstanden, dass das Programmieren mit Babel mit Blick auf CanIUse.com und MDN.com keinen Spa√ü macht.  Und der Code ist (f√ºr mich) umst√§ndlich. </p><br><p>  Hier ist es notwendig, die Situation noch einmal von oben hervorzuheben.  Bootstrap verwendet zwei jQuery- und popper.js-Bibliotheken.  Popper.js ist ein Doppel-Vanille-Framework, es hat keine Babel-, JQuery- oder externen Polyfills f√ºr sich.  JQuery wird von Grunzen bereits mit Babel verpackt, aber irgendwie magisch ohne seine Polyfills und Helfer.  Ein Bootstrap-Plugin eines Drittanbieters (wie BsMultiSelct) verwendet Babel 7. Ihr Produkt verwendet m√∂glicherweise noch etwas anderes.  Es gibt keine einzelne polyphile Plattform, es wird eine mehrfache Codeduplizierung erwartet, es werden vier Implementierungen derselben am <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">n√§chsten</a> in den Browser geladen.  Daran kann aber nichts ge√§ndert werden. </p><br><p>  Wenn Sie beim Erstellen Ihres eigenen Plugins dennoch Polydateien verwendet haben, m√ºssen Sie sich daran erinnern, dass die Anwendung Inline-Skripte enth√§lt (d. H. <code>&lt;script&gt;$( function() {/*..*/}) &lt;/script&gt;</code> ) Sie m√ºssen Polyfiles nur synchron herunterladen (andernfalls kann der Inline-Code fr√ºher als beim Laden des Plugins ausgef√ºhrt werden).  Das hei√üt,  Zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webpack-Polyfill-Injektor</a> (der reichste mir bekannte Polyphil-Injektor) Ich muss ihn so steuern, dass er nicht entscheidet, Polyphile asynchron zu laden (Standardverhalten). </p><br><h2 id="no-jquery">  Keine jQuery </h2><br><p>  jQuery f√ºhlt sich etwas giftig an, konkurriert mit Babel / ES6 und verdeckt es, aber es ist nicht f√ºr immer.  Es gibt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zweig v4-whithout-jquery</a> , es ist bereits in der Pool-Anfrage, es ist geplant, <strong><code>bootstrap-nojquery</code> c Version 4.3 zu ver√∂ffentlichen</strong> .  Bisher wurde der Namespace von Ereignissen als das gr√∂√üte Problem beim Ablehnen von jquery bezeichnet, obwohl es offensichtlich ist, dass Sie ohne sie schreiben k√∂nnen (BsMultiSelect verzichtete darauf).  Anscheinend entschieden. </p><br><p>  Auch bekannt , dass <strong>Version 4.3</strong> werden die urspr√ºnglichen Komponenten k√∂nnen in separaten Browser (nur f√ºr die ‚ÄûAnwendung‚Äú -Szenario) versendet werden.  Werden die Originalkomponenten dann "wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BsMultiSelect</a> "?  Nein.  Wenn das BS-Team einige SASS-Variablen ben√∂tigt, erstellt es CSS-Klassen / Selektoren f√ºr sich selbst und bearbeitet sie von JS ("funktionales CSS").  Benutzer von benutzerdefinierten Funktionen sind nicht verf√ºgbar. </p><br><p>  Der m√∂gliche √úbergang von sass zu <strong>post-css</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/twbs/bootstrap/projects/11</a> <strong>in der 5. Version</strong> √§ndert grunds√§tzlich nichts.  Oder √§ndert alles: "JS over HTML". </p><br><p>  <strong>Bootstrap 5</strong> muss Empfehlungen zur Integration in Babel-Polydateien und zum Patchen des DOM enthalten.  Hier ist die Prognose mehr oder weniger klar: Seitenerstellern und Anwendungserstellern werden v√∂llig unterschiedliche Baugruppen angeboten. </p><br><h2 id="itogi">  Zusammenfassung </h2><br><p>  W√§hrend Sie Bootstrap 4-Komponenten mit der <em>Ad-hoc-</em> Methode auf Babel schreiben, ohne √ºber die Wiederverwendung nachzudenken, dh √ºber Polyphile, und wo Sie die Stilvariablen erhalten, wissen Sie nichts √ºber Trauer. </p><br><p>  Wenn Sie das Plugin jedoch zu einem separaten npm-Paket machen - und mit dem Wunsch, eine Entscheidung im Geiste von Bootstrap 4 selbst zu treffen, wird das Vergn√ºgen geringer, denken Sie √∂fter und l√§nger.  Sie m√ºssen wahrscheinlich sofort entscheiden, wer Ihre Benutzer sind, und verschiedene Builds anbieten, einen f√ºr diejenigen, die die Anwendung in Bundles erstellen, den anderen zum Schreiben von Seiten, d. H.  Laden des Plugin-Skripts. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416235/">https://habr.com/ru/post/de416235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416215/index.html">Food Design Digest Juni 2018</a></li>
<li><a href="../de416217/index.html">Wie ich Computer und Benutzer mit Netzwerkger√§teports im Netzwerk-MACMonitor-√úberwachungsprogramm verbunden habe</a></li>
<li><a href="../de416219/index.html">Yandex begann, Google Text & Tabellen mit Passw√∂rtern zu indizieren</a></li>
<li><a href="../de416229/index.html">10 B√ºcher √ºber Marketing und verwandte Themen, die ein Designer lesen sollte</a></li>
<li><a href="../de416231/index.html">√úberwachung der Zadarma Zabbix-R√§ume</a></li>
<li><a href="../de416237/index.html">Designer werden: von freiberuflich in einem Hostel √ºber die Zusammenarbeit mit Top-Unternehmen bis hin zur Einf√ºhrung Ihres Produkts</a></li>
<li><a href="../de416239/index.html">Die Rolle und Funktionen von PMO in Designunternehmen</a></li>
<li><a href="../de416241/index.html">Abrufen von Levels von Super Mario Bros mit Python</a></li>
<li><a href="../de416243/index.html">Alternativen zu Kobalt, diesem blutigen Diamanten aus Batterien</a></li>
<li><a href="../de416245/index.html">Wir erstellen einen Bot auf Aimylogic, um den Online-Shop zu automatisieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>