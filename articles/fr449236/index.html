<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ä üöä ü§¥ Ok Google: Comment puis-je passer par le captcha? üï∂Ô∏è üíù üßïüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour Je m'appelle Ibadov Ilkin, je suis √©tudiant √† l'Universit√© f√©d√©rale de l'Oural. 

 Dans cet article, je veux parler de mon exp√©rience avec la ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ok Google: Comment puis-je passer par le captcha?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449236/">  Bonjour  Je m'appelle Ibadov Ilkin, je suis √©tudiant √† l'Universit√© f√©d√©rale de l'Oural. <br><br>  Dans cet article, je veux parler de mon exp√©rience avec la solution automatis√©e pour captcha de Google - "reCAPTCHA".  Je tiens √† avertir le lecteur √† l'avance qu'au moment de la r√©daction de l'article, le prototype ne fonctionne pas aussi efficacement qu'il pourrait sembler d'apr√®s le titre, cependant, le r√©sultat d√©montre que l'approche mise en ≈ìuvre est capable de r√©soudre le probl√®me. <br><a name="habracut"></a><br>  Probablement tout le monde dans sa vie est tomb√© sur un captcha: saisir du texte √† partir d'une image, r√©soudre une expression simple ou une √©quation complexe, choisir des voitures, des bornes d'incendie, des passages pour pi√©tons ... La protection des ressources contre les syst√®mes automatis√©s est n√©cessaire et joue un r√¥le important dans la s√©curit√©: le captcha prot√®ge contre les attaques DDoS , les enregistrements et les publications automatiques, l'analyse, emp√™che la s√©lection du spam et du mot de passe pour les comptes. <br><br><img src="https://habrastorage.org/webt/kw/la/yu/kwlayu1_wxfwcrknvshirpv8dtw.png"><br>  <font color="#999999"><i>Le formulaire d'inscription sur "Habr√©" pourrait √™tre avec un tel captcha.</i></font> <br><br>  Avec le d√©veloppement des technologies d'apprentissage automatique, les performances du captcha peuvent √™tre menac√©es.  Dans cet article, je d√©cris les points cl√©s d'un programme qui peut r√©soudre le probl√®me de la s√©lection manuelle d'images dans Google reCAPTCHA (heureusement, pas toujours jusqu'√† pr√©sent). <br><br>  Pour traverser le captcha, il est n√©cessaire de r√©soudre des probl√®mes tels que: d√©terminer la classe de captcha requise, d√©tecter et classer les objets, d√©tecter les cellules de captcha, imiter les activit√©s humaines pour r√©soudre le captcha (mouvement du curseur, cliquez). <br><br>  Pour rechercher des objets dans une image, des r√©seaux de neurones entra√Æn√©s peuvent √™tre t√©l√©charg√©s sur un ordinateur et reconna√Ætre des objets dans des images ou des vid√©os.  Mais pour r√©soudre le captcha, il ne suffit pas de d√©tecter des objets: vous devez d√©terminer la position des cellules et savoir quelles cellules vous souhaitez s√©lectionner (ou ne pas s√©lectionner de cellules du tout).  Pour cela, des outils de vision par ordinateur sont utilis√©s: dans ce travail, il s'agit de la c√©l√®bre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que OpenCV</a> . <br><br>  Pour trouver des objets dans l'image, premi√®rement, l'image elle-m√™me est requise.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">J'obtiens</a> une capture d'√©cran d'une partie de l'√©cran en utilisant le module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PyAutoGUI</a> avec des dimensions suffisantes pour d√©tecter des objets.  Dans le reste de l'√©cran, j'affiche des fen√™tres de d√©bogage et de surveillance des processus du programme. <br><br><h2>  D√©tection d'objets </h2><br>  La d√©tection et la classification des objets est ce que fait le r√©seau neuronal.  La biblioth√®que qui nous permet de travailler avec des r√©seaux de neurones s'appelle " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tensorflow</a> " (d√©velopp√©e par Google).  Aujourd'hui, <a href="">il existe de nombreux mod√®les form√©s diff√©rents pour</a> votre choix <a href="">sur diff√©rentes donn√©es</a> , ce qui signifie que tous peuvent renvoyer un r√©sultat de d√©tection diff√©rent: certains mod√®les d√©tecteront mieux les objets et d'autres moins. <br><br>  Dans cet article, j'utilise le mod√®le ssd_mobilenet_v1_coco.  Le mod√®le s√©lectionn√© a √©t√© form√© sur l'ensemble de donn√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><abbr title="Objets communs en contexte">COCO</abbr></a> , qui met en √©vidence 90 classes diff√©rentes (des personnes et des voitures aux brosses √† dents et peignes).  Maintenant, il existe d'autres mod√®les qui sont form√©s sur les m√™mes donn√©es, mais avec des param√®tres diff√©rents.  De plus, ce mod√®le a des param√®tres de performance et de pr√©cision optimaux, ce qui est important pour un ordinateur de bureau.  La source indique que le temps de traitement d'une image de 300 x 300 pixels est de 30 millisecondes.  Sur le "Nvidia GeForce GTX TITAN X". <br><br>  Le r√©sultat du r√©seau neuronal est un ensemble de tableaux: <br><br><ul><li>  avec une liste des classes d'objets d√©tect√©s (leurs identifiants); </li><li>  avec une liste des √©valuations des objets d√©tect√©s (en pourcentage); </li><li>  avec une liste de coordonn√©es des objets d√©tect√©s ("cases"). </li></ul><br>  Les indices des √©l√©ments dans ces tableaux correspondent les uns aux autres, c'est-√†-dire que le troisi√®me √©l√©ment du tableau des classes d'objets correspond au troisi√®me √©l√©ment du tableau des "bo√Ætes" des objets d√©tect√©s et le troisi√®me √©l√©ment du tableau des √©valuations d'objets. <br><br><img src="https://habrastorage.org/webt/g4/po/kt/g4poktayba4n3mwspffduto6d1k.png"><br>  <font color="#999999"><i>Le mod√®le s√©lectionn√© vous permet de d√©tecter des objets de 90 classes en temps r√©el.</i></font> <br><br><h2>  D√©tection cellulaire </h2><br>  ¬´OpenCV¬ª nous permet de fonctionner avec des entit√©s appel√©es ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">circuits</a> ¬ª: elles ne peuvent √™tre d√©tect√©es que par la fonction ¬´findContours ()¬ª de la biblioth√®que ¬´OpenCV¬ª.  Il est n√©cessaire de soumettre une image binaire √† l'entr√©e d'une telle fonction, qui peut √™tre obtenue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">par la fonction de transformation de seuil</a> : <br><br><pre><code class="python hljs">_retval, binImage = cv2.threshold(image,<span class="hljs-number"><span class="hljs-number">254</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,cv2.THRESH_BINARY) contours = cv2.findContours(binImage, cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  Apr√®s avoir d√©fini les valeurs extr√™mes des param√®tres de la fonction de transformation de seuil, nous nous d√©barrassons √©galement de divers types de bruit.  De plus, pour minimiser la quantit√© de petits √©l√©ments inutiles et le bruit, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des transformations morphologiques</a> peuvent √™tre appliqu√©es: fonctions d'√©rosion (compression) et d'accumulation (expansion).  Ces fonctions font √©galement partie d'OpenCV.  Apr√®s les transformations, les contours sont s√©lectionn√©s dont le nombre de sommets est de quatre (ayant pr√©c√©demment effectu√© la fonction d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">approximation</a> sur les contours). <br><br><img src="https://habrastorage.org/webt/mo/d3/j7/mod3j7vkdav-bchdnbxl2lycz18.png"><br>  <font color="#999999"><i>Dans la premi√®re fen√™tre, le r√©sultat de la transformation de seuil.</i></font>  <font color="#999999"><i>Le second est un exemple de transformation morphologique.</i></font>  <font color="#999999"><i>Dans la troisi√®me fen√™tre, les cellules et le capuchon captcha sont d√©j√† s√©lectionn√©s: mis en surbrillance en couleur par programmation.</i></font> <br><br>  Apr√®s toutes les transformations, les contours qui ne sont pas des cellules tombent toujours dans le tableau final avec des cellules.  Afin de filtrer les bruits inutiles, je s√©lectionne en fonction des valeurs de la longueur (p√©rim√®tre) et de l'aire des contours. <br><br>  Il a √©t√© r√©v√©l√© exp√©rimentalement que les valeurs des circuits d'int√©r√™t se situent dans la plage de 360 ‚Äã‚Äã√† 900 unit√©s.  Cette valeur est s√©lectionn√©e √† l'√©cran avec une diagonale de 15,6 pouces et une r√©solution de 1366 x 768 pixels.  En outre, les valeurs indiqu√©es des contours peuvent √™tre calcul√©es en fonction de la taille de l'√©cran de l'utilisateur, mais il n'existe aucun lien de ce type dans le prototype en cours de cr√©ation. <br><br>  Le principal avantage de l'approche choisie pour d√©tecter les cellules est que nous ne nous soucions pas √† quoi ressemblera la grille et combien de cellules seront affich√©es sur la page captcha: 8, 9 ou 16. <br><br><img src="https://habrastorage.org/webt/oo/er/tt/ooerttikg_xree5wlre88cljjtq.png"><br>  <font color="#999999"><i>L'image montre une vari√©t√© de filets captcha.</i></font>  <font color="#999999"><i>Veuillez noter que la distance entre les cellules est diff√©rente.</i></font>  <font color="#999999"><i>S√©parer les cellules les unes des autres permet une compression morphologique.</i></font> <br><br>  Un avantage suppl√©mentaire de la d√©tection des contours est qu'OpenCV nous permet de d√©tecter leurs centres (nous en avons besoin pour d√©terminer les coordonn√©es de mouvement et de clic de souris). <br><br><h2>  S√©lection des cellules √† s√©lectionner </h2><br>  Ayant une matrice avec des contours propres de cellules CAPTCHA sans circuits de bruit inutiles, nous pouvons parcourir chaque cellule CAPTCHA (¬´circuit¬ª dans la terminologie ¬´OpenCV¬ª) et v√©rifier si elle croise la ¬´bo√Æte¬ª d√©tect√©e de l'objet re√ßu du r√©seau neuronal. <br><br>  Pour √©tablir ce fait, le transfert de la ¬´bo√Æte¬ª d√©tect√©e vers un circuit similaire aux cellules a √©t√© utilis√©.  Mais cette approche s'est av√©r√©e erron√©e, car le cas o√π l'objet se trouve √† l'int√©rieur de la cellule n'est pas consid√©r√© comme une intersection.  Naturellement, ces cellules ne se d√©marquent pas dans le captcha. <br><br>  Le probl√®me a √©t√© r√©solu en redessinant le contour de chaque cellule (avec remplissage blanc) sur une feuille noire.  De fa√ßon similaire, une image binaire d'un cadre avec un objet a √©t√© obtenue.  La question se pose - comment √©tablir maintenant le fait de l'intersection de la cellule avec le cadre ombr√© de l'objet?  A chaque it√©ration d'un tableau avec des cellules, une op√©ration de disjonction (logique ou) est effectu√©e sur deux images binaires.  En cons√©quence, nous obtenons une nouvelle image binaire dans laquelle les zones intersect√©es seront mises en √©vidence.  Autrement dit, s'il existe de telles zones, la cellule et le cadre de l'objet se croisent.  Par programmation, une telle v√©rification peut √™tre effectu√©e en utilisant la m√©thode ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.any ()</a> ¬ª: elle retournera ¬´True¬ª si le tableau a au moins un √©l√©ment √©gal √† un ou ¬´False¬ª s'il n'y a pas d'unit√©s. <br><br><img src="https://habrastorage.org/webt/cg/8u/pb/cg8upb6izzlfukmfunjgjrzwl2y.gif"><br>  <font color="#999999"><i>La fonction ¬´any ()¬ª pour l'image ¬´OU logique¬ª dans ce cas retournera vrai et √©tablira ainsi le fait de l'intersection de la cellule avec la zone de trame de l'objet d√©tect√©.</i></font> <br><br><h2>  La gestion </h2><br>  Le contr√¥le du curseur dans ¬´Python¬ª devient disponible gr√¢ce au module ¬´win32api¬ª (cependant, il s'est av√©r√© plus tard que le ¬´PyAutoGUI¬ª d√©j√† import√© dans le projet sait aussi comment faire).  Appuyer et rel√¢cher le bouton gauche de la souris, ainsi que d√©placer le curseur sur les coordonn√©es souhait√©es, est effectu√© par les fonctions correspondantes du module win32api.  Mais dans le prototype, ils √©taient envelopp√©s dans des fonctions d√©finies par l'utilisateur afin de fournir une observation visuelle du mouvement du curseur.  Cela affecte n√©gativement les performances et a √©t√© impl√©ment√© uniquement √† des fins de d√©monstration. <br><br>  Au cours du processus de d√©veloppement, l'id√©e est venue de choisir les cellules dans un ordre al√©atoire.  Il est possible que cela ne soit pas logique (pour des raisons √©videntes, Google ne nous donne pas de commentaires et de descriptions des m√©canismes de fonctionnement du captcha), mais d√©placer le curseur √† travers les cellules de mani√®re chaotique semble plus amusant. <br><br><img src="https://habrastorage.org/webt/p0/zh/g8/p0zhg8ii2gn0a76yj1h0vp5q5mg.gif"><br>  <font color="#999999"><i>Sur l'animation, le r√©sultat est "random.shuffle (boxesForSelect)".</i></font> <br><br><h2>  Reconnaissance de texte </h2><br>  Afin de combiner tous les d√©veloppements disponibles en un seul ensemble, un lien suppl√©mentaire est n√©cessaire: une unit√© de reconnaissance pour la classe requise du captcha.  Nous savons d√©j√† reconna√Ætre et distinguer diff√©rents objets dans l'image, nous pouvons cliquer sur des cellules captcha arbitraires, mais nous ne savons pas sur quelles cellules cliquer.  L'une des fa√ßons de r√©soudre ce probl√®me consiste √† reconna√Ætre le texte de l'en-t√™te captcha.  Tout d'abord, j'ai essay√© d'impl√©menter la reconnaissance de texte √† l'aide de l'outil de reconnaissance optique de caract√®res " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tesseract-OCR</a> ". <br><br>  Dans les derni√®res versions, il est possible d'installer des modules linguistiques directement dans la fen√™tre du programme d'installation (auparavant cela se faisait manuellement).  Apr√®s avoir install√© et import√© Tesseract-OCR dans mon projet, j'ai essay√© de reconna√Ætre le texte de l'en-t√™te captcha. <br><br>  Le r√©sultat, malheureusement, ne m'a pas du tout impressionn√©.  J'ai d√©cid√© que le texte dans l'en-t√™te √©tait mis en surbrillance en gras et fusionn√© pour une raison, j'ai donc essay√© d'appliquer diverses transformations √† l'image: binarisation, r√©tr√©cissement, expansion, flou, distorsion et redimensionnement.  Malheureusement, cela n'a pas donn√© un bon r√©sultat: dans le meilleur des cas, seule une partie des lettres de classe a √©t√© d√©termin√©e, et lorsque le r√©sultat a √©t√© satisfaisant, j'ai appliqu√© les m√™mes transformations, mais pour d'autres majuscules (avec un texte diff√©rent), et le r√©sultat s'est r√©v√©l√© √† nouveau mauvais. <br><br><img src="https://habrastorage.org/webt/mm/5o/zf/mm5ozfhoq5cmrwiitaig_di7ntu.png"><br>  <font color="#999999"><i>La reconnaissance des bouchons Tesseract-OCR a g√©n√©ralement conduit √† des r√©sultats insatisfaisants.</i></font> <br><br>  Il est impossible de dire sans √©quivoque que ¬´Tesseract-OCR¬ª ne reconna√Æt pas bien le texte, ce n‚Äôest pas le cas: l‚Äôoutil s‚Äôadapte bien mieux aux autres images (pas aux majuscules captcha). <br><br>  J'ai d√©cid√© d'utiliser un service tiers qui offrait une API pour travailler avec elle gratuitement (l'enregistrement et la r√©ception d'une cl√© pour une adresse e-mail sont requis).  Le service a une limite de 500 reconnaissances par jour, mais pour toute la p√©riode de d√©veloppement, je n'ai rencontr√© aucun probl√®me de limitations.  Au contraire: j'ai soumis l'image originale de l'en-t√™te au service (sans appliquer absolument aucune transformation) et le r√©sultat m'a impressionn√© agr√©ablement. <br><br>  Les mots du service ont √©t√© retourn√©s pratiquement sans erreur (g√©n√©ralement m√™me ceux √©crits en petits caract√®res).  De plus, ils sont revenus dans un format tr√®s pratique - coup√© par ligne avec des caract√®res de saut de ligne.  Dans toutes les images, je ne m'int√©ressais qu'√† la deuxi√®me ligne, donc j'y ai directement acc√©d√©.  Cela ne pouvait que se r√©jouir, car un tel format me lib√©rait de la n√©cessit√© de pr√©parer une ligne: je n'avais pas √† couper le d√©but ou la fin de tout le texte, faire des "trims", des remplacements, travailler avec des expressions r√©guli√®res et effectuer d'autres op√©rations sur la ligne, visant √† mettre en √©vidence un mot (et parfois deux!) - un joli bonus! <br><br><pre> <code class="python hljs">text = serviceResponse[<span class="hljs-string"><span class="hljs-string">'ParsedResults'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'ParsedText'</span></span>] <span class="hljs-comment"><span class="hljs-comment">#   JSON lines = text.splitlines() #   print("Recognized " + lines[1]) #  !</span></span></code> </pre> <br>  Le service qui a reconnu le texte n'a presque jamais fait d'erreur avec le nom de la classe, mais j'ai quand m√™me d√©cid√© de laisser une partie du nom de la classe pour une √©ventuelle erreur.  C'est facultatif, mais j'ai remarqu√© que ¬´Tesseract-OCR¬ª dans certains cas reconnaissait incorrectement la fin d'un mot commen√ßant par le milieu.  De plus, cette approche √©limine l'erreur d'application dans le cas d'un nom de classe long ou d'un nom √† deux mots (dans ce cas, le service renverra non pas 3, mais 4 lignes, et je ne trouve pas le nom complet de la classe dans la deuxi√®me ligne). <br><br><img src="https://habrastorage.org/webt/6o/3v/nq/6o3vnqamplfdhd9byanlv4c55xw.png"><br>  <font color="#999999"><i>Un service tiers reconna√Æt bien le nom de la classe sans aucune transformation sur l'image.</i></font> <br><br><h2>  Fusion </h2><br>  Obtenir du texte depuis l'en-t√™te ne suffit pas.  Il doit √™tre compar√© aux identificateurs des classes de mod√®le disponibles, car dans le tableau de classes, le r√©seau neuronal renvoie exactement l'identifiant de classe, et non son nom, comme cela peut sembler.  Lors de la formation du mod√®le, en r√®gle g√©n√©rale, un fichier est cr√©√© dans lequel les noms de classe et leurs identificateurs sont compar√©s (alias ¬´carte d'√©tiquettes¬ª).  J'ai d√©cid√© de le faire plus facilement et de sp√©cifier les identificateurs de classe manuellement, car captcha n√©cessite toujours des classes en russe (√† propos, cela peut √™tre modifi√©): <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> query: <span class="hljs-comment"><span class="hljs-comment">#       classNum = 3 #   "label map"  elif "" in query: classNum = 10 elif "" in query: classNum = 11 ...</span></span></code> </pre> <br>  Tout ce qui est d√©crit ci-dessus est reproduit dans le cycle de programme principal: les cadres de l'objet, la cellule, leurs intersections sont d√©termin√©s, le curseur se d√©place et clique.  Lorsqu'un en-t√™te est d√©tect√©, la reconnaissance de texte est effectu√©e.  Si le r√©seau neuronal ne peut pas d√©tecter la classe requise, un d√©calage arbitraire de l'image est effectu√© jusqu'√† 5 fois (c'est-√†-dire que l'entr√©e sur le r√©seau neuronal est modifi√©e), et si la d√©tection ne se produit toujours pas, le bouton ¬´Ignorer / Confirmer¬ª est cliqu√© (sa position est d√©tect√©e de la m√™me mani√®re d√©tecter les cellules et les bouchons). <br><br>  Si vous r√©solvez souvent le captcha, vous pouvez observer l'image lorsque la cellule s√©lectionn√©e dispara√Æt, et une nouvelle appara√Æt lentement et lentement √† sa place.  √âtant donn√© que le prototype est programm√© pour passer instantan√©ment √† la page suivante apr√®s avoir s√©lectionn√© toutes les cellules, j'ai d√©cid√© de faire des pauses de 3 secondes pour exclure de cliquer sur le bouton "Suivant" sans d√©tecter d'objets sur la cellule apparaissant lentement. <br><br>  L'article ne serait pas complet s'il ne contenait pas une description de la chose la plus importante - une coche pour r√©ussir le captcha.  J'ai d√©cid√© qu'une simple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comparaison de mod√®les</a> pourrait le faire.  Il convient de noter que la correspondance de motifs est loin d'√™tre la meilleure fa√ßon de d√©tecter des objets.  Par exemple, j'ai d√ª r√©gler la sensibilit√© de d√©tection sur ¬´0,01¬ª pour que la fonction arr√™te de voir les tiques dans tout, mais la voit quand il y a vraiment une tique.  De m√™me, j'ai agi avec une case √† cocher vide qui rencontre l'utilisateur et √† partir de laquelle le captcha d√©marre (il n'y a eu aucun probl√®me de sensibilit√©). <br><br><h2>  R√©sultat </h2><br>  Le r√©sultat de toutes les actions d√©crites est une application dont j'ai test√© les performances sur le " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toaster</a> ": <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wfl1K0bqBWQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Il convient de reconna√Ætre que la vid√©o n'a pas √©t√© tourn√©e du premier coup, car j'ai souvent √©t√© confront√© √† la n√©cessit√© de choisir des classes qui ne sont pas dans le mod√®le (par exemple, les passages pour pi√©tons, les escaliers ou les vitrines). <br><br>  "Google reCAPTCHA" renvoie une certaine valeur au site, montrant comment "Vous √™tes un robot", et les administrateurs du site, √† leur tour, peuvent d√©finir un seuil pour passer cette valeur.  Il est possible qu'un seuil de captcha relativement bas ait √©t√© d√©fini sur le grille-pain.  Cela explique le passage assez facile du captcha par le programme, malgr√© le fait qu'il se soit tromp√© deux fois, ne voyant pas le feu de circulation de la premi√®re page et la bouche d'incendie de la quatri√®me page du captcha. <br><br>  En plus du grille-pain, des exp√©riences ont √©t√© men√©es sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page de d√©monstration</a> officielle de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reCAPTCHA</a> .  En cons√©quence, il a √©t√© remarqu√© qu'apr√®s plusieurs d√©tections erron√©es (et non-d√©couvertes), la capture d'un captcha devient extr√™mement difficile m√™me pour une personne: de nouvelles classes sont n√©cessaires (comme les tracteurs et les palmiers), des cellules sans objets apparaissent dans les √©chantillons (couleurs presque monotones) et le nombre de pages augmente consid√©rablement, passer. <br><br>  Cela a √©t√© particuli√®rement visible lorsque j'ai d√©cid√© d'essayer de cliquer sur des cellules al√©atoires en cas de non-d√©tection d'objets (en raison de leur absence dans le mod√®le).  Par cons√©quent, nous pouvons affirmer avec certitude que les clics al√©atoires ne permettront pas de r√©soudre le probl√®me.  Pour se d√©barrasser d'un tel ¬´blocage¬ª par l'examinateur, nous avons reconnect√© la connexion Internet et effac√© les donn√©es du navigateur, car il est devenu impossible de passer un tel test - c'√©tait presque sans fin! <br><br><img src="https://habrastorage.org/webt/xk/xe/5u/xkxe5uanfylidi1jgteyb3svyoc.png"><br>  <font color="#999999"><i>Si vous doutez de votre humanit√©, un tel r√©sultat est possible.</i></font> <br><br><h2>  D√©veloppement </h2><br>  Si l'article et l'application suscitent l'int√©r√™t du lecteur, je continuerai volontiers sa mise en ≈ìuvre, ses tests et la suite de la description sous une forme plus d√©taill√©e. <br><br>  Il s'agit de trouver des classes qui ne font pas partie du r√©seau actuel, cela am√©liorera consid√©rablement l'efficacit√© de l'application.  √Ä l'heure actuelle, il est urgent de reconna√Ætre au moins des classes telles que: passages pour pi√©tons, vitrines et chemin√©es - je vais vous dire comment recycler le mod√®le.  Pendant le d√©veloppement, j'ai fait une courte liste des classes les plus courantes: <br><br><ul><li>  passages pour pi√©tons; </li><li>  bornes d'incendie; </li><li>  vitrines </li><li>  chemin√©es; </li><li>  les voitures; </li><li>  Autobus </li><li>  feux de circulation; </li><li>  v√©los </li><li>  moyens de transport; </li><li>  escaliers </li><li>  signes. </li></ul><br>  Il est possible d'am√©liorer la qualit√© de la d√©tection d'objets en utilisant plusieurs mod√®les en m√™me temps: cela peut d√©grader les performances mais augmenter la pr√©cision. <br><br>  Une autre fa√ßon d'am√©liorer la qualit√© de d√©tection des objets est de changer l'entr√©e d'image sur le r√©seau neuronal: dans la vid√©o, vous pouvez voir que lorsque des objets ne sont pas d√©tect√©s, je fais un d√©calage d'image arbitraire plusieurs fois (√† moins de 10 pixels horizontalement et verticalement), et souvent cette op√©ration vous permet de voir des objets qui √©taient auparavant n'ont pas √©t√© d√©tect√©s. <br><br>  Une augmentation de l'image d'un petit carr√© √† un grand (jusqu'√† 300 x 300 pixels) conduit √©galement √† la d√©tection d'objets non d√©tect√©s. <br><br><img src="https://habrastorage.org/webt/01/sd/eh/01sdehtdkgz_a-5gtsxh1-auhoq.png"><br>  <font color="#999999"><i>Aucun objet n'a √©t√© trouv√© sur la gauche: carr√© d'origine avec 100 pixels de c√¥t√©.</i></font>  <font color="#999999"><i>A droite, un bus est d√©tect√©: un carr√© agrandi jusqu'√† 300 x 300 pixels.</i></font> <br><br>  Une autre transformation int√©ressante est la suppression de la grille blanche sur l'image √† l'aide des outils OpenCV: il est possible que la bouche d'incendie n'ait pas √©t√© d√©tect√©e dans la vid√©o pour cette raison (cette classe est pr√©sente dans le r√©seau neuronal). <br><br><img src="https://habrastorage.org/webt/m_/7p/zu/m_7pzu93h3jqw3doy3flbtlymee.png"><br>  <font color="#999999"><i>A gauche se trouve l'image d'origine et √† droite celle modifi√©e dans l'√©diteur graphique: la grille est supprim√©e, les cellules sont d√©plac√©es les unes vers les autres.</i></font> <br><br><h2>  R√©sum√© </h2><br>  Avec cet article, je voulais vous dire que le captcha n'est probablement pas la meilleure protection contre les bots, et il est fort possible que dans un proche avenir, il y aura un besoin de nouveaux moyens de protection contre les syst√®mes automatis√©s. <br><br>  Le prototype d√©velopp√©, m√™me dans un √©tat inachev√©, d√©montre qu'avec les classes requises dans le mod√®le de r√©seau neuronal et en appliquant des transformations sur les images, il est possible de r√©aliser l'automatisation d'un processus qui ne devrait pas √™tre automatis√©. <br><br>  Je voudrais √©galement attirer l'attention de Google sur le fait qu'en plus de la m√©thode de contournement du captcha d√©crite dans cet article, il existe √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une autre mani√®re</a> de <abbr title="Le processus de traduction de l'audio en texte">transcrire</abbr> un √©chantillon audio.  √Ä mon avis, il est maintenant n√©cessaire de prendre des mesures li√©es √† l'am√©lioration de la qualit√© des logiciels et des algorithmes contre les robots. <br><br>  D'apr√®s le contenu et l'essence du mat√©riel, il peut sembler que je n'aime pas Google et, en particulier, reCAPTCHA, mais c'est loin d'√™tre le cas, et s'il y a une prochaine mise en ≈ìuvre, je vous dirai pourquoi. <br><br>  D√©velopp√© et d√©montr√© afin d'am√©liorer l'√©ducation et d'am√©liorer les m√©thodes visant √† assurer la s√©curit√© de l'information. <br><br>  Merci de votre attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449236/">https://habr.com/ru/post/fr449236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449218/index.html">10 comp√©tences essentielles pour chaque ing√©nieur DevOps</a></li>
<li><a href="../fr449220/index.html">DrumHero: Comment j'ai cr√©√© le premier jeu de ma vie</a></li>
<li><a href="../fr449224/index.html">√Ä propos du biais de l'intelligence artificielle</a></li>
<li><a href="../fr449232/index.html">Surveillance de la consommation d'√©nergie solaire par ordinateur / serveur</a></li>
<li><a href="../fr449234/index.html">Service VPN Wireguard gratuit sur AWS</a></li>
<li><a href="../fr449240/index.html">L'histoire d'un jeune service Daida (abonnement art)</a></li>
<li><a href="../fr449246/index.html">AX200 - Intel Wi-Fi 6</a></li>
<li><a href="../fr449248/index.html">IDE moderne. Certainement D, dans une certaine mesure E, et certainement pas moi</a></li>
<li><a href="../fr449252/index.html">Projets Zombie - fusionnez les donn√©es des utilisateurs m√™me apr√®s sa mort</a></li>
<li><a href="../fr449254/index.html">FAQ sur l'architecture et le travail VKontakte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>