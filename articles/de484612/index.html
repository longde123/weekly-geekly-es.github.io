<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✒️ 🔦 🌔 Optimierung der Projekterstellungszeit 😨 👩🏾‍⚕️ 👩🏾‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wo ich arbeite (im Startup Spot.IM , dessen Größe irgendwo zwischen klein und mittel liegt), wird Webpack verwendet, um verschiedene Projekte zu erste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimierung der Projekterstellungszeit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/484612/">  Wo ich arbeite (im Startup <a href="https://www.spot.im/">Spot.IM</a> , dessen Größe irgendwo zwischen klein und mittel liegt), wird Webpack verwendet, um verschiedene Projekte zu erstellen.  Nach 4-jähriger Arbeit an unserem Hauptprodukt, bei der so viele Leute zu seinem Code beigetragen haben, dass er nicht gezählt werden kann, betrug die Zeit für die Erstmontage exorbitante 90 Sekunden und die Zeit für die erneute Montage - 14. <br><br>  Nach jedem Klick auf die Schaltfläche "Speichern" dauert es ungefähr 14 Sekunden, bis der Vorgang abgeschlossen ist. <br><br>  Nachdem wir auf einige einfache Optimierungen zurückgegriffen hatten, wie sie jeder in seinem Projekt anwenden kann, konnten wir die obigen Zahlen für die Montage auf 20 Sekunden und für die Neuerstellung des Projekts auf 1 Sekunde reduzieren. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/484612/"><img src="https://habrastorage.org/webt/d9/jb/sc/d9jbscezozngccwtdz8pkqlvmh8.png"></a> <br><br>  In diesem Artikel möchte ich auf einige einfache Änderungen eingehen, durch die das Projekt seine Montagezeit erheblich verkürzen kann.  Beachten Sie, dass dieser Artikel für Sie möglicherweise nicht besonders nützlich ist, wenn Sie <a href="https://github.com/facebook/create-react-app">CreateReactApp</a> (oder einen anderen modischen Anwendungsgenerator) verwenden.  Wenn Sie jedoch so etwas nicht verwenden, kann das, was hier besprochen wird, für Sie sehr nützlich sein. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Messung der Zeit, die zum Erstellen eines Projekts benötigt wird</font> </h2><br>  Lassen Sie uns vor jeder Optimierung eine Messung der Indikatoren einrichten, anhand derer wir die Arbeitsergebnisse beurteilen können.  Verwenden Sie dazu das Paket <a href="https://www.npmjs.com/package/speed-measure-webpack-plugin">speed-measure-webpack-plugin</a> (SMP): <br><br><pre><code class="plaintext hljs">const webpackConfig = require('./webpack.config') const SpeedMeasurePlugin = require('speed-measure-webpack-plugin') const smp = new SpeedMeasurePlugin({   disable: !process.env.MEASURE, }) module.exports = smp.wrap(webpackConfig)</code> </pre> <br>  Wir legen die Webpack-Konfigurationsdatei in den SMP-Wrapper ein (starten den Mechanismus zur Leistungsmessung unter Verwendung der Umgebungsvariablen) und übergeben anschließend das Webpack-Konfigurationsobjekt.  Danach steht uns ein ansprechender Bericht zur Verfügung, mit dem wir herausfinden können, wie viel Zeit während der Montage für jeden Bootloader aufgewendet wird.  Mit SMP erhalten wir doppelte Vorteile.  Erstens können wir nach einer gewissen Verbesserung sofort herausfinden, wie sich dies auf die Erstellungszeit des Projekts ausgewirkt hat.  Zweitens haben wir sofort einen vollständigen Bericht über die Zeit, die jeder Bootloader benötigt (genauer gesagt die „Bootloader-Kette“). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f15/e08/8ee/f15e088ee6791f9b4cc0d2449773cf10.png"></div><br>  <i><font color="#999999">Bericht erstellt mit Speed-Measure-Webpack-Plugin</font></i> <br><br><h2>  <font color="#3AC1EF">Verbesserung der anfänglichen Erstellungszeit eines Projekts</font> </h2><br>  Nach dem Start von SMP hatten wir Informationen darüber, wie sich die Erstellungszeit des Projekts ändert, wenn Verbesserungen am Erstellungsprozess vorgenommen wurden.  Das erste, was wir zu optimieren begannen, war die anfängliche Erstellungszeit (dh die Zeit, die Webpack benötigte, um das Paket zu erstellen, nachdem es initialisiert wurde).  Um den anfänglichen Erstellungsprozess zu beschleunigen, haben wir uns für den Bootloader mit <code>cache-loader</code> . <br><br>  <a href="https://github.com/webpack-contrib/cache-loader">Cache-Loader</a> ist ein Loader, der die Ergebnisse der Arbeit der darauf folgenden Loader zwischenspeichert und auf der Festplatte (oder Datenbank) speichert.  Dies bedeutet, dass Sie beim nächsten Start von Webpack eine deutliche Verbesserung der Build-Geschwindigkeit feststellen können, oder zumindest hoffen können, dass dies der Fall ist. <br><br>  Hier ist ein Beispiel: <br><br><pre> <code class="plaintext hljs">{  rules: [    {      test: /\.jsx?$/,      use: [        'cache-loader',        'babel-loader',      ],    },    {      test: /\.scss$/,      use: [        'style-loader',        'cache-loader',        'css-loader',        'postcss-loader',        'sass-loader',      ],    },  ] }</code> </pre> <br>  Durch das Hinzufügen des <code>cache-loader</code> vor dem CSS <a href="https://www.npmjs.com/package/css-loader">-Loader</a> (für CSS) und vor dem <a href="https://www.npmjs.com/package/babel-loader/">Babel-Loader</a> (für JS) konnten 75 Sekunden der Zeit eingespart werden, die für die erstmalige Erstellung des Projekts aufgewendet wurde. <br><br>  Nun arbeiten wir an der Zeit für den Zusammenbau.  Wir werden versuchen, diese Zeit durch Ändern der <code>devtool</code> Eigenschaft zu verbessern. <br><br><h2>  <font color="#3AC1EF">Webpack-Codekarten</font> </h2><br>  In den Webpack-Einstellungen finden Sie die <a href="https://webpack.js.org/configuration/devtool/">devtool-</a> Eigenschaft, mit der Sie gemäß der Dokumentation den Stil für die Erstellung von Codekarten auswählen können, die zur Verbesserung der Debugging-Funktionen verwendet werden.  Die Sollwerte können die Geschwindigkeit der Montage und des Zusammenbaus stark beeinflussen. " <br><br>  Mit anderen Worten, das Ändern der <code>devtool</code> Eigenschaft wirkt sich darauf aus, welche Codekarte dem Entwickler nach dem <code>devtool</code> des Projekts zur Verfügung steht.  Dies hängt wiederum davon ab, wie viel Zeit für die Erstellung einer solchen Codekarte erforderlich ist. <br><br>  Experimente mit dieser Eigenschaft können das Leben eines Programmierers nachhaltig verändern.  Dies hat enorme Auswirkungen auf die Erstellungsgeschwindigkeit des Projekts.  Wir haben nämlich den <code>devtool</code> Wert von <code>source-map</code> (wahrscheinlich ist dies der langsamste Modus) auf <code>eval-source-map</code> geändert und konnten die Zeit für das Zusammenbauen des Projekts von 14 auf 3,5 Sekunden reduzieren: <br><br><pre> <code class="plaintext hljs">{  devtool: process.env.NODE_ENV === 'development'    ? 'eval-source-map'    : 'source-map' }</code> </pre> <br>  Die Eigenschaft <code>devtool</code> akzeptiert 12 <code>devtool</code> .  CreateReactApp verwendet zum Beispiel eine <a href="">billige Modul-</a> Quellzuordnung.  Wenn Sie diese Eigenschaft konfigurieren möchten, sollten Sie daher experimentieren und den für Sie am besten geeigneten Wert finden. <br><br>  Es ist zu beachten, dass sich die Qualität der resultierenden Karten verschlechtert, wenn schnelle Methoden zum Erstellen von Codekarten verwendet werden.  Diese Verschlechterungen können durch Starten des Debuggens festgestellt werden.  Glücklicherweise können moderne Browser mit dem TC39 mithalten.  Infolgedessen besteht (zumindest während der Entwicklung) kein wirklicher Bedarf für die Transpilation großer Codemengen.  Wenn Sie Babel so konfigurieren, dass dieses Tool JavaScript auf ein Niveau transportiert, das die neueste Version des Browsers versteht (wie in <a href="">CRA</a> ), sollte beim Code-Debugging alles in Ordnung sein, da sich die Codezuordnungen nicht zu sehr vom Code selbst unterscheiden. <br><br>  So sollte <code>babel.config.js</code> aussehen, wenn Sie sich dafür entscheiden, den Code in einen Zustand zu <code>babel.config.js</code> , der für die neuesten Versionen verschiedener Browser eindeutig ist: <br><br><pre> <code class="plaintext hljs">module.exports = {  presets: [    [      '@babel/preset-env',      {        targets: [          'last 1 chrome version',          'last 1 safari version',          'last 1 firefox version',        ].join(', '),      },    ],  ],  // ... }</code> </pre> <br>  Das ist alles.  In drei einfachen Schritten konnte die Bauzeit unseres Projekts erheblich reduziert werden. <br><br>  Ich möchte darauf hinweisen, dass jemand, der anfängt, ein ähnliches Problem zu lösen, möglicherweise den Wunsch hat, zunächst die Webpack-Dokumentation zu lesen.  Dies ist jedoch nicht die einzige Wissensquelle. <br><br>  Ich habe einen anderen Ansatz gefunden, um wertvolle Informationen über Bauprojekte zu finden.  Dieser Ansatz hat sich in der Praxis bewährt.  Es besteht darin, die <code>webpack.config</code> Dateien bestehender Open Source-Projekte zu analysieren.  Insbesondere die <a href="">CreateReactApp-</a> Projektdatei.  Wenn Sie diese Datei gründlich lesen, können Sie viele nützliche Dinge herausfinden. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Ein aufmerksamer Leser konnte feststellen, dass es gleich zu Beginn darum ging, die Montagezeit auf 1 Sekunde zu verkürzen.  Und der beste Wert dieses im Text erwähnten Indikators war 3,5 Sekunden.  Offensichtlich wurde etwas weggelassen, als der Optimierungsfortschritt des Montageprozesses beschrieben wurde.  So ist es auch.  Dank subtiler Optimierungen, die sehr stark von den Funktionen eines bestimmten Projekts abhängen, nämlich Spot.IM, konnte die Zeit für die erneute Montage des Projekts auf 1 Sekunde verkürzt werden, indem weitere 2,5 Sekunden gewonnen wurden.  Daher wird hier keine Beschreibung dieser Verbesserungen bereitgestellt. <br><br>  <b>Sehr geehrte Leser!</b>  Optimieren Sie die Erstellungszeit Ihrer Projekte? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484612/">https://habr.com/ru/post/de484612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484596/index.html">Blazor Client Side Online Store: Teil 1 - Autorisierung oidc (oauth2) + Identity Server4</a></li>
<li><a href="../de484600/index.html">Microsoft Ignite The Tour Prague - Technische Konferenz</a></li>
<li><a href="../de484602/index.html">Buch „Entwicklung mobiler Anwendungen in C # für iOS und Android“</a></li>
<li><a href="../de484604/index.html">Neues Jahr, neuer Browser: Microsoft Edge ist noch nicht fertig und kann jetzt heruntergeladen werden</a></li>
<li><a href="../de484610/index.html">Auf Wiedersehen sauberer Code</a></li>
<li><a href="../de484614/index.html">6 Empfehlungen für die Entwicklung sicherer Go-Anwendungen</a></li>
<li><a href="../de484616/index.html">6 Erkenntnisse aus Node.js Erfahrung in der Optimierung der Serviceleistung</a></li>
<li><a href="../de484618/index.html">Angular 9 und Ivy: Faulen Laden von Komponenten</a></li>
<li><a href="../de484620/index.html">Neuer PS1-Grafik-Renderer für Omega Red Emulator</a></li>
<li><a href="../de484624/index.html">Intervall-Fasten und Lebensverlängerungsmuster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>