<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö≠ üõÖ üí¶ Julia no labirinto üßöüèº üßí üë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Analisando um problema das olimp√≠adas, percorreremos os corredores sinuosos da gera√ß√£o de labirintos e sua passagem, e tamb√©m veremos que na linguagem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia no labirinto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451460/"><p><img src="https://habrastorage.org/webt/u8/d5/ql/u8d5qlyaxgezwbkmz-ybdtbj6r8.png"></p><br><p>  Analisando um problema das olimp√≠adas, percorreremos os corredores sinuosos da gera√ß√£o de labirintos e sua passagem, e tamb√©m veremos que na linguagem Julia a simplicidade da implementa√ß√£o de algoritmos limita seu pseudo-c√≥digo. </p><a name="habracut"></a><br><h1 id="zadacha">  Desafio </h1><br><p>  O labirinto √© um quadrado quadriculado de 10 por 10, em algumas c√©lulas existem obst√°culos e em uma c√©lula h√° uma sa√≠da.  O rob√¥ est√° em um labirinto e pode executar 4 comandos: mover uma c√©lula para baixo, para cima, direita ou esquerda.  Se o rob√¥ tentar ir al√©m dos limites do labirinto ou entrar na gaiola com um obst√°culo, ele permanecer√° no lugar.  Se o rob√¥ entra na sa√≠da, sai do labirinto e ignora outros comandos.  Escreva um programa para o rob√¥, executando o qual o rob√¥ chegue √† sa√≠da, independentemente da c√©lula em que estava localizado no in√≠cio.  O programa deve consistir em n√£o mais que 1000 equipes. </p><br><p><img src="https://habrastorage.org/webt/q4/k4/u3/q4k4u30s2syto7bpzmxysbrsymi.png"></p><br><h3 id="format-vvoda">  Formato de entrada </h3><br><p>  N√£o h√° entrada.  Voc√™ precisa escrever um programa para uma condi√ß√£o espec√≠fica especificada <br>  o labirinto. <br>  A vers√£o do labirinto que voc√™ pode copiar.  0 - c√©lula livre, 1 - obst√°culo, x - <br>  sa√≠da. </p><br><pre><code class="plaintext hljs">0011010011 0100001000 0110x00000 0010000100 0000111000 0000100100 0000010010 0100101010 0011001010 1000011000</code> </pre> <br><h3 id="format-vyvoda">  Formato de sa√≠da </h3><br><p>  Uma linha composta por caracteres U, D, R, L de comprimento n√£o superior a 1000 </p><br><h2 id="podgotovka">  Prepara√ß√£o </h2><br><p>  Quem n√£o trabalhou com gr√°ficos em Julia precisa baixar pacotes </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Pkg Pkg.add(<span class="hljs-string"><span class="hljs-string">"Plots"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"Colors"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>) Pkg.build(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>) <span class="hljs-comment"><span class="hljs-comment">#    </span></span></code> </pre> <br><p>  √â mais conveniente trabalhar em Jupyter, pois as imagens ser√£o exibidas diretamente durante o trabalho.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aqui voc√™ encontra informa√ß√µes</a> sobre a instala√ß√£o, al√©m de uma introdu√ß√£o e tarefas para iniciantes. </p><br><p>  Na condi√ß√£o de nossa tarefa, h√° uma vers√£o do labirinto para c√≥pia </p><br><pre> <code class="julia hljs">S0 = <span class="hljs-string"><span class="hljs-string">"0011010011 0100001000 0110x00000 0010000100 0000111000 0000100100 0000010010 0100101010 0011001010 1000011000"</span></span></code> </pre> <br><p>  Para desenhar um labirinto, voc√™ precisa fazer uma matriz.  Como n√£o queremos colocar espa√ßos manualmente, trabalharemos com a linha: </p><br><pre> <code class="julia hljs">S1 = prod(s-&gt; s*<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'['</span></span>*S0*<span class="hljs-string"><span class="hljs-string">']'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># prod(fun, arr)    arr #     fun #  julia  *   "[ 0 0 1 1 0 1 0 0 1 1 \n 0 1 0 0 0 0 1 0 0 0 \n 0 1 1 0 x 0 0 0 0 0 \n 0 0 1 0 0 0 0 1 0 0 \n 0 0 0 0 1 1 1 0 0 0 \n 0 0 0 0 1 0 0 1 0 0 \n 0 0 0 0 0 1 0 0 1 0 \n 0 1 0 0 1 0 1 0 1 0 \n 0 0 1 1 0 0 1 0 1 0 \n 1 0 0 0 0 1 1 0 0 0 ] "</span></span></code> </pre> <br><p>  Substituindo a letra estranha <em>x</em> por um n√∫mero e analisando a string, obtemos uma matriz inteira definindo nosso labirinto.  Ent√£o, para maior comodidade, troque os para zeros e os para zeros, e coloque o labirinto na parede: </p><br><pre> <code class="julia hljs">S2 = replace(S1, <span class="hljs-string"><span class="hljs-string">'x'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'9'</span></span>) M0 = S2 |&gt; Meta.parse |&gt; eval m,n = size(M0) M1 = replace(M0, <span class="hljs-number"><span class="hljs-number">1</span></span>=&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) M = zeros(<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,m+<span class="hljs-number"><span class="hljs-number">2</span></span>,n+<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:m+<span class="hljs-number"><span class="hljs-number">1</span></span>, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:n+<span class="hljs-number"><span class="hljs-number">1</span></span> M[i,j] = M1[i-<span class="hljs-number"><span class="hljs-number">1</span></span>,j-<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> M <span class="hljs-comment"><span class="hljs-comment"># Maze map matrix 12√ó12 Array{Int64,2}: 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 0 1 1 0 0 0 0 1 0 1 1 1 1 0 1 1 1 0 0 1 0 0 1 9 1 1 1 1 1 0 0 1 1 0 1 1 1 1 0 1 1 0 0 1 1 1 1 0 0 0 1 1 1 0 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 1 1 1 0 1 1 0 1 0 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 0 0 1 1 0 1 0 1 0 0 0 1 1 1 1 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0</span></span></code> </pre> <br><p>  Na matriz </p><br><pre> <code class="julia hljs">length(M) <span class="hljs-number"><span class="hljs-number">144</span></span></code> </pre> <br><p>  c√©lulas e a partir deles </p><br><pre> <code class="julia hljs">sum(M)-<span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span></code> </pre> <br><p>  em que voc√™ pode andar, ou seja, poss√≠veis posi√ß√µes iniciais.  Voc√™ pode exibir o resultado construindo um histograma bidimensional </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Plots heatmap(M, yaxis = :flip) <span class="hljs-comment"><span class="hljs-comment"># flip -  </span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/ua/xq/lb/uaxqlbjtneuolospp0kwc-bujbk.png"></p><br><h2 id="proverka-resheniya">  Verifica√ß√£o da solu√ß√£o </h2><br><p>  Primeiro de tudo, voc√™ precisa elaborar procedimentos que verifiquem a exatid√£o da solu√ß√£o proposta.  Defina o tipo composto <code>Point</code> para usar a terminologia de pontos e coordenadas: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point x::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> <span class="hljs-comment"><span class="hljs-comment"># vertical y::Int64 # horisont Point(x, y) = new(x, y) end</span></span></code> </pre> <br><p>  E agora voc√™ precisa aprender como converter uma sequ√™ncia de comandos que sejam compreens√≠veis para o rob√¥ em c√≥digo. </p><br><p>  A ideia √© bem simples: existe uma coordenada inicial, uma linha surge com um algoritmo que diz como andar.  Pegamos uma letra e olhamos para qual das c√©lulas vizinhas pisar.  √Ä coordenada atual, adicionamos o valor armazenado nesta c√©lula.  Ou seja, se houver zero (parede), n√£o nos movemos para lugar algum; caso contr√°rio, demos um pequeno passo na dire√ß√£o necess√°ria. </p><br><p>  Usando o poder da metaprograma√ß√£o, voc√™ pode substituir a sequ√™ncia de instru√ß√µes recebida por um c√≥digo uniforme e volumoso e execut√°-lo </p><br><pre> <code class="julia hljs">S = <span class="hljs-string"><span class="hljs-string">"RRLDUURULDDRDDRRRUUU"</span></span> S1 = replace(S , <span class="hljs-string"><span class="hljs-string">"R"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"c.y+=M[cx, c.y+1];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"L"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"cy-=M[cx, cy-1];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"U"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"c.x+=M[c.x+1, cy];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"D"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"cx-=M[cx-1, cy];"</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  - start point Sp = eval( Meta.parse(S1) )</span></span></code> </pre> <br><p>  Mas esse m√©todo tem uma s√©rie de inconvenientes, portanto, usaremos os operadores condicionais cl√°ssicos.  A prop√≥sito, o fato de a sa√≠da ser indicada pelo n√∫mero 9 √© um pequeno truque: para n√£o verificar cada c√©lula e se √© a sa√≠da, iniciamos o movimento adicionando o valor armazenado em uma c√©lula espec√≠fica.  Quando o rob√¥ pisa na sa√≠da, um n√∫mero deliberadamente grande √© adicionado √† sua coordenada, de forma que o rob√¥ voe al√©m dos limites da matriz, o que pode ser detectado como um erro usando o bloco: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-comment"><span class="hljs-comment">#     catch #       end</span></span></code> </pre> <br><p>  Assim, implementamos uma fun√ß√£o que verifica se o rob√¥ alcan√ßa a sa√≠da a partir do ponto <code>c</code> executando comandos a partir da string <code>str</code> : </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> isexit(str, c) scatter!([cy],[cx]) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> str <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s == <span class="hljs-string"><span class="hljs-string">'R'</span></span> c.y+=M[cx, c.y+<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'L'</span></span> cy-=M[cx, cy-<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'U'</span></span> c.x+=M[c.x+<span class="hljs-number"><span class="hljs-number">1</span></span>, cy]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'D'</span></span> cx-=M[cx-<span class="hljs-number"><span class="hljs-number">1</span></span>, cy]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> println(<span class="hljs-string"><span class="hljs-string">"Error! Use only R, L, U, D"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Vamos coletar uma fun√ß√£o que ir√° percorrer todas as posi√ß√µes iniciais </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> test(Str) k = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:m+<span class="hljs-number"><span class="hljs-number">1</span></span>, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> M[i,j] == <span class="hljs-number"><span class="hljs-number">1</span></span> c = Point(i, j) a = isexit(S,c) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a k +=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">#println(a) end end end println(k, " test completed from ", sum(M)-9) end</span></span></code> </pre> <br><p>  Verifique os comandos: </p><br><pre> <code class="julia hljs">S = <span class="hljs-string"><span class="hljs-string">"RRRLDUUURRRUUURRRRLLLRRUULDDDDRRRRDDDRRRUUU"</span></span> heatmap(M, yaxis = :flip) test(S) <span class="hljs-comment"><span class="hljs-comment"># 10 test completed from 70 plot!(legend = false)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/6p/hc/pt/6phcptlpnrfctsa7qmpdvhm5ele.png"><br>  Todos os pontos de partida foram testados e apenas 10 levaram √† sa√≠da.  √â necess√°rio construir rotas de cada ponto at√© a sa√≠da. </p><br><p>  Antes de mergulhar na gera√ß√£o e passagem dos labirintos, salvaremos nossos resultados.  Usaremos o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Images.jl que</a> oferece muitas possibilidades no campo de processamento de imagens (um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bom exemplo</a> ).  Uma de suas ferramentas de suporte √© o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Colors.jl</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">que</a> expande a capacidade de Julia de trabalhar com cores. </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Images clrs(x) = x==<span class="hljs-number"><span class="hljs-number">9</span></span> ? RGB(<span class="hljs-number"><span class="hljs-number">1.</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) : RGB(x,x,x) maze = clrs.(M) <span class="hljs-comment"><span class="hljs-comment"># maze = Gray.(maze) # save("D:/dat/maze12x12.png", maze)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/br/yu/ut/bryuutpq3-vfqn0upm3s536lwhe.png"></p><br><h2 id="poisk-v-glubinu">  Pesquisa em profundidade </h2><br><p>  Implementou a ideia de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo no Habr</a> . <br>  A ideia √© simples: criar uma grade de paredes </p><br><pre> <code class="julia hljs">M = <span class="hljs-number"><span class="hljs-number">10</span></span> N = <span class="hljs-number"><span class="hljs-number">10</span></span> A = [ i&amp;j&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:N, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:M ] <span class="hljs-comment"><span class="hljs-comment"># isodd(i) &amp; isodd(j) &amp; 1 Gray.(A) # from Images.jl</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/rj/9s/bc/rj9sbcpu5inbjiqvaphxnwaw10u.png"></p><br><p>  depois, percorrendo o caminho, rompemos a rota e os galhos.  Definimos uma fun√ß√£o que encontra √°reas vizinhas n√£o visitadas (n√≥s as designaremos, digamos, por um empate) e retorna um desses vizinhos (se n√£o houver vizinhos n√£o visitados, ele retornar√° um sinalizador): </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> neighbours2(A,p, n, m) nbrs = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-2), # down Point(px-2, py), # left Point(p.x+2, py)] # right goal = [] for a in nbrs if 0&lt;ax&lt;=n &amp;&amp; 0&lt;ay&lt;=m &amp;&amp; A[ax,ay]==2 push!(goal, a) end end length(goal) != 0 ? rand(goal) : Point(-1,-1) end</span></span></code> </pre> <br><p>  Vamos quebrar as paredes assim: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> breakwall(A, newp,oldp) <span class="hljs-comment"><span class="hljs-comment">#  : x = (newp.x + oldp.x) &gt;&gt; 1 #   y = (newp.y + oldp.y) &gt;&gt; 1 A[x,y] = 1 end</span></span></code> </pre> <br><h4 id="algoritm">  Algoritmo </h4><br><ol><li>  Atualize a c√©lula inicial e marque-a como visitada. </li><li>  Enquanto houver c√©lulas n√£o visitadas <br>  1. Se a c√©lula atual tiver "vizinhos" n√£o visitados <br>  1. Empurre a c√©lula atual para a pilha <br>  2. Selecione uma c√©lula aleat√≥ria da vizinha <br>  3. Remova a parede entre a c√©lula atual e a c√©lula selecionada. <br>  4. Atualize a c√©lula selecionada e marque-a como visitada. <br>  2. Caso contr√°rio, se a pilha n√£o estiver vazia <br>  1. Puxe a gaiola para fora da pilha <br>  2. Fa√ßa atual <br>  3. Caso contr√°rio <br>  1. Selecione uma c√©lula n√£o visitada aleat√≥ria, atualize-a e marque-a como visitada. </li></ol><br><div class="spoiler">  <b class="spoiler_title">C√≥digo do programa</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> amazeng(n, m) M = [ <span class="hljs-number"><span class="hljs-number">2</span></span>(i&amp;j&amp;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:n, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:m ]; p = Point(<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   lifo = [] #   push!(lifo, p) #i = 0 while length(lifo) != 0 #     M[px,py] = 1 #     np = neighbours2(M, p, n, m) # new point #    -   if np.x == np.y == -1 p = pop!(lifo) else push!(lifo, p) breakwall(M, np, p) p = np #i+=1 #maze = Gray.(M/2) #save("D:/dat/maze$i.png", maze) end end M[1,2] = 1 #  M[n,m+1] = 1 #  Gray.(M) end</span></span></code> </pre> </div></div><br><pre> <code class="julia hljs">lbrnt = amazeng(<span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>) <span class="hljs-comment"><span class="hljs-comment"># save("D:/dat/maze111.png", lbrnt)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/c0/v7/ss/c0v7sspjrcruoda7auy6h-rj_9o.gif"></p><br><p><img src="https://habrastorage.org/webt/oe/hg/ao/oehgao7ny8sinfbnogcorqdfdsk.png"></p><br><h4 id="algoritm-poiska-puti-bektrekingom">  Retrocedendo o algoritmo de pesquisa de caminho: </h4><br><ol><li>  Atualize a c√©lula inicial e marque-a como visitada. </li><li>  At√© que uma solu√ß√£o seja encontrada <br>  1. Se a c√©lula atual tiver "vizinhos" n√£o visitados <br>  1. Empurre a c√©lula atual para a pilha <br>  2. Selecione uma c√©lula aleat√≥ria da vizinha <br>  3. Atualize a c√©lula selecionada e marque-a como visitada. <br>  2. Caso contr√°rio, se a pilha n√£o estiver vazia <br>  1. Puxe a gaiola para fora da pilha <br>  2. Fa√ßa atual <br>  3. Caso contr√°rio, n√£o h√° sa√≠da. </li></ol><br><p>  Estamos procurando vizinhos, pelo contr√°rio, dentro do raio de uma c√©lula, e n√£o atrav√©s de uma: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> neighbours1(A, p, n, m) nbrs = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-1), # down Point(px-1, py), # left Point(p.x+1, py)] # right goal = [] for a in nbrs if 0&lt;ax&lt;=n &amp;&amp; 0&lt;ay&lt;=m &amp;&amp; A[ax,ay]==1 push!(goal, a) end end length(goal) != 0 ? rand(goal) : Point(0,0) end</span></span></code> </pre> <br><p>  Defina um algoritmo para passar o labirinto desenhando a rota e tentativas malsucedidas </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> amazeng(img, start, exit) M = <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>.(channelview(img)) n, m = size(M) p = start M[exit.x,exit.y] = <span class="hljs-number"><span class="hljs-number">1</span></span> lifo = [] push!(lifo, p) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> px != exit.x || py != exit.y M[px,py] = <span class="hljs-number"><span class="hljs-number">0.4</span></span> np = neighbours1(M, p, n, m) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> np.x == np.y == <span class="hljs-number"><span class="hljs-number">0</span></span> M[px,py] = <span class="hljs-number"><span class="hljs-number">0.75</span></span> p = pop!(lifo) <span class="hljs-comment"><span class="hljs-comment">#  -  ,    #      else push!(lifo, p) p = np end end Gray.(M) end</span></span></code> </pre> <br><p>  Como alguns notaram, tamb√©m √© chamada uma fun√ß√£o, como a que os algoritmos geram (agendamento m√∫ltiplo).  Quando voc√™ o chama com dois n√∫meros, ele elaborar√° o m√©todo de constru√ß√£o do labirinto, mas se voc√™ o especificar, especificando a imagem e dois pontos (as coordenadas da entrada e da sa√≠da) como argumento, na sa√≠da, obteremos uma imagem com o labirinto passado </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze111.png"</span></span>) amazeng(img0)</code> </pre> <br><p><img src="https://habrastorage.org/webt/kx/2n/zl/kx2nzlhw-bylb1wjdjifjxvmfsq.png"></p><br><p>  Vamos tentar no nosso labirinto: </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze12x12.png"</span></span>) n, m = size(img0) amazeng(img0, Point(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>), Point(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>) )</code> </pre> <br><p><img src="https://habrastorage.org/webt/oy/uo/lm/oyuolmopr9kmvmx07nn3kfdhufi.png"></p><br><p>  Mesmo se voc√™ modificar a fun√ß√£o para que a rota seja lembrada, o algoritmo ainda ser√° ineficaz devido aos espa√ßos abertos.  Mas os labirintos saem √≥timos. </p><br><h3 id="randomizirovannyy-algoritm-prima">  Algoritmo aleat√≥rio de Prim </h3><br><p>  Assim que voc√™ come√ßa a desenhar labirintos, voc√™ n√£o para.  Vamos executar outro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algoritmo</a> interessante: </p><br><ul><li>  Comece com uma grade cheia de paredes. </li><li>  Selecione uma c√©lula, marque-a como parte do labirinto.  Adicione paredes celulares √† lista de paredes. </li><li>  Enquanto houver paredes na lista: <br><ul><li>  Selecione uma parede aleat√≥ria da lista.  Se apenas uma das duas c√©lulas que o muro compartilha for visitada, ent√£o: <br><ul><li>  Fa√ßa uma passagem na parede e marque a c√©lula n√£o visitada como parte do labirinto. </li><li>  Adicione paredes celulares adjacentes √† lista de paredes. </li></ul></li><li>  Remova a parede da lista. </li></ul></li></ul><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs">neighbors(p::Point) = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-1), # down Point(px-1, py), # left Point(p.x+1, py)] # right function newalls!(walls, p, maze, n, m) nbrs = neighbors(p) for a in nbrs if 1&lt;ax&lt;n-1 &amp;&amp; 1&lt;ay&lt;m-1 &amp;&amp; !maze[ax,ay] push!(walls, a) #       . end end end function breakwall!(p, maze, n, m) nbrs = neighbors(p) #       if sum( a-&gt; maze[ax,ay], nbrs) == 1 for a in nbrs if maze[ax,ay] # true =  px == ax ? nx = px : px&gt;ax ? nx = p.x+1 : nx = px-1 py == ay ? ny = py : py&gt;ay ? ny = p.y+1 : ny = py-1 maze[px,py] = true #   maze[nx,ny] = true px = nx py = ny return true end end else return false end end function prim(n, m) M = falses(n,m); #    p = Point(2, 2) M[px,py] = true walls = [] newalls!(walls, p, M, n, m) while length(walls) != 0 p = splice!( walls, rand(1:length(walls)) ) if breakwall!(p, M, n, m) newalls!(walls, p, M, n, m) end end M end</span></span></code> </pre> </div></div><br><pre> <code class="julia hljs">primaze = prim(<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>); Gray.(primaze)</code> </pre> <br><p><img src="https://habrastorage.org/webt/p_/dz/uf/p_dzufexrrmrvhmzxiwyh_nsfdc.gif"></p><br><p>  Acontece mais ramificado e n√£o menos impressionante, especialmente o processo de montagem. </p><br><p>  E agora implementamos o algoritmo mais comum para encontrar a rota mais curta: </p><br><h3 id="metod-a">  M√©todo A * </h3><br><ul><li>  2 listas de v√©rtices s√£o criadas - pendentes e j√° revisadas.  Um ponto inicial √© adicionado aos pendentes; a lista de revisados ‚Äã‚Äãat√© o momento est√° vazia. </li><li>  Para cada ponto √© calculado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> H </script>  - a dist√¢ncia aproximada do ponto ao alvo. </li><li>  Na lista de pontos a serem considerados, o ponto com o menor valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> H </script>  .  Deixe ela <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> X </script>  . </li><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-7"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> X </script>  - o objetivo, ent√£o encontramos a rota. </li><li>  N√≥s carregamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> X </script>  da lista pendente para a lista de j√° revisados. </li><li>  Para cada um dos pontos adjacentes a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> X </script>  (denotar esse ponto vizinho <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhjENF-bvqPFql8eewFIb9VeQAB0Sg#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> Y </script>  ), fa√ßa o seguinte: <br><ul><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> Y </script>  j√° est√° na revis√£o - pule. </li><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> Y </script>  ainda n√£o est√° na lista de espera - adicione-o l√°. </li></ul></li><li>  Se a lista de pontos a considerar estiver vazia, mas ainda n√£o atingimos a meta, a rota n√£o existe. </li></ul><br><p>  Para come√ßar, vamos definir o "ponto" da classe que saber√° a que dist√¢ncia est√° do alvo: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point_h x::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> <span class="hljs-comment"><span class="hljs-comment"># horisont y::Int64 # vertical h::Float64 Point_h(x, y) = new(x, y, 0.) end</span></span></code> </pre> <br><p>  Agora, definimos uma opera√ß√£o de compara√ß√£o para a estrutura, um m√©todo para estabelecer a presen√ßa de um elemento em uma matriz, bem como a fun√ß√£o de remover um elemento, encontrar a dist√¢ncia entre pontos e listar vizinhos: </p><br><div class="spoiler">  <b class="spoiler_title">Escondido</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Base: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>, == ==(a::Point_h, b::Point_h) = ax==bx &amp;&amp; ay==by <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>(p::Point_h, Arr::<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{Point_h,<span class="hljs-number"><span class="hljs-number">1</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Arr <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == p <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> splicemin!(Arr)<span class="hljs-comment"><span class="hljs-comment">#::Array{Point_h,1} i = argmin( [ah for a in Arr] ) splice!(Arr, i) end dista(u,v) = hypot(vx-ux, vy-uy) # &lt;=&gt; sqrt( (vx-ux)^2 + (vy-uy)^2 ) neighbors(p::Point_h) = [Point_h(px, p.y+1), # up Point_h(px, py-1), # down Point_h(px-1, py), # left Point_h(p.x+1, py)] # right</span></span></code> </pre> </div></div><br><p>  Como sempre, operadores obscuros podem ser esclarecidos usando o comando <code>?</code>  por exemplo <code>?splice</code> <code>?argmin</code> . </p><br><p>  E, na verdade, o pr√≥prio m√©todo A * </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> astar(M, start, final) <span class="hljs-comment"><span class="hljs-comment">#   -       isgood(p) = 1&lt;px&lt;n &amp;&amp; 1&lt;py&lt;m &amp;&amp; M[px,py] != 0 n, m = size(M) #       start.h = dista(start,final) closed = [] opened = [] push!(opened, start) while length(opened) != 0 X = splicemin!(opened) if X in closed continue end if X == final break end push!(closed, X) nbrs = neighbors(X) ygrex = filter(isgood, nbrs) for Y in ygrex if Y in closed continue else Yh = dista(Y, final) push!(opened, Y) end end end #    closed # return end</span></span></code> </pre> </div></div><br><p>  Carregamos a imagem com o labirinto e a apresentamos na forma de uma matriz: </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze0.png"</span></span>) mazematrix = <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>.(channelview(img0))</code> </pre> <br><p>  E n√≥s constru√≠mos uma rota para sair de um ponto arbitr√°rio: </p><br><pre> <code class="julia hljs">s = Point_h(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>) <span class="hljs-comment"><span class="hljs-comment"># start f = Point_h(4,6) # finish M = copy(mazematrix) route = astar(M, s, f) i = 1 for c in route #   M[cx,cy] = 0.7 #save("D:/dat/Astar$i.png", M) i+=1 end Gray.(M)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/sk/ok/v6/skokv6txgvsowgjewyqaht9ffb4.png"></p><br><p>  Uma pesquisa de todas as posi√ß√µes √© assim: </p><br><p><img src="https://habrastorage.org/webt/xf/ba/jv/xfbajvk-jw2iokdrizmq8suncik.gif"></p><br><p>  Visto que o agente <del>  correndo </del>  sempre tende para o lado da sa√≠da e geralmente se transforma em becos sem sa√≠da, o que d√° origem a etapas desnecess√°rias, e todo o percurso √© lembrado.  Isso √© evitado por uma vers√£o um pouco mais complexa do algoritmo A *. </p><br><ul><li>  2 listas de v√©rtices s√£o criadas - pendentes e j√° revisadas.  Um ponto inicial √© adicionado aos pendentes; a lista de revisados ‚Äã‚Äãat√© o momento est√° vazia. </li><li>  Para cada ponto √© calculado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-19"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">F</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">G</span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> F = G + H </script>  . <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> G </script>  - dist√¢ncia do in√≠cio ao ponto, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> H </script>  - a dist√¢ncia aproximada do ponto ao alvo.  Cada ponto tamb√©m armazena um link para o ponto de onde veio. </li><li>  Na lista de pontos a serem considerados, o ponto com o menor valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">F</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> F </script>  .  Deixe ela <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> X </script>  . </li><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> X </script>  - o objetivo, ent√£o encontramos a rota. </li><li>  N√≥s carregamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> X </script>  da lista pendente para a lista de j√° revisados. </li><li>  Para cada um dos pontos adjacentes a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> X </script>  (denotar esse ponto vizinho <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> Y </script>  ), fa√ßa o seguinte: <br><ul><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> Y </script>  j√° est√° na revis√£o - pule. </li><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> Y </script>  ainda n√£o est√° na lista de espera - adicione-o, lembrando o link para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> X </script>  e tendo calculado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">Y</span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> Y.G </script>  (isto √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">X</span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> X.G </script>  + dist√¢ncia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> Y </script>  ) e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">Y</span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> Y.H </script>  . </li><li>  Se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> Y </script>  na lista para considera√ß√£o - verifique se <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">X</span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> X.G </script>  + dist√¢ncia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> Y </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">Y</span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> <Y.G </script>  ent√£o chegamos ao ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> Y </script>  maneira mais curta, substitua <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">Y</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> Y.G </script>  em <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">X</span><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> X.G </script>  + dist√¢ncia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> Y </script>  e o ponto de onde eles vieram <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> Y </script>  em <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> X </script>  . </li></ul></li><li>  Se a lista de pontos a considerar estiver vazia, mas ainda n√£o atingimos a meta, a rota n√£o existe. </li></ul><br><p>  Por√©m, mesmo com etapas desnecess√°rias, nossa op√ß√£o est√° dentro dos limites da tarefa; portanto, modificar os programas ser√° sua tarefa. </p><br><p>  At√© o final da Olimp√≠ada, n√£o havia mais nada, mas ainda precisamos aprender a traduzir os resultados de nossos algoritmos em comandos do formato <code>"RRLUUDL..."</code> </p><br><p>  E depois de todas essas caminhadas pelos labirintos, podemos assumir que a solu√ß√£o √© muito mais simples.  <em>De fato, uma op√ß√£o simples implora imediatamente, mas eu realmente queria fazer coisas bonitas</em> . </p><br><p>  Se colocarmos nosso artista em uma √°rea aberta e iniciarmos passeios aleat√≥rios, ele hesitar√° perto de sua posi√ß√£o inicial.  Mas com a introdu√ß√£o das paredes, parte das dire√ß√µes come√ßar√° a desaparecer, os graus de liberdade se tornar√£o menores e, com os mesmos dados de entrada, o agente se mover√° uma dist√¢ncia maior. </p><br><p>  Aqui est√° a nossa vers√£o de verificar as equipes quanto √† adequa√ß√£o para resgatar um rob√¥ de um labirinto: </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs">M = [ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point <span class="hljs-comment"><span class="hljs-comment"># point x::Int64 # vertical y::Int64 # horisont Point(x, y) = new(x, y) end function isexit(str, c) try for s in str if s == 'R' c.y+=M[cx, c.y+1]; elseif s == 'L' cy-=M[cx, cy-1]; elseif s == 'U' c.x+=M[c.x+1, cy]; elseif s == 'D' cx-=M[cx-1, cy]; else println("Error! Use only R, L, U, D") end end catch return true end return false end function test(Str) k = 0 n, m = 10,10 for i in 2:m+1, j in 2:n+1 if M[i,j] == 1 c = Point(i, j) a = isexit(S,c) if a k +=1 #println(a) end end end println(k, " test completed from ", sum(M)-9) end</span></span></code> </pre> </div></div><br><p>  Agora √© suficiente gerar linhas aleat√≥rias at√© voc√™ obter uma que funcione para todas as posi√ß√µes iniciais: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Random S = randstring(<span class="hljs-string"><span class="hljs-string">"RLUD"</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-string"><span class="hljs-string">"RDRRRDLRLUULURUDUUDLLLLLULLUDRRURDLDLULLRLUUUDURUUUULRUDUURUUDLRLLULRLUDRRLRRULLDULRRRRULRLLDULRLDRUDURDRUUDUUDDDDDLURRRRDRDURRRDDLLDUURRRLDRUDLRLLRDDRLRRRDDLLLRUURDRLURDLLUULLLLUURLLULUDULDDLDLLRLDUD"</span></span> test(S) <span class="hljs-number"><span class="hljs-number">41</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span></code> </pre> <br><p>  Al√©m disso, foi poss√≠vel n√£o se preocupar com o teste.  Foi o suficiente para ler a tarefa e gerar uma sequ√™ncia aleat√≥ria com a condi√ß√£o m√°xima permitida: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span> S = randstring(<span class="hljs-string"><span class="hljs-string">"RLUD"</span></span>,<span class="hljs-number"><span class="hljs-number">1000</span></span>) test(S) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">55</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span><span class="hljs-comment"><span class="hljs-comment"># 65 test completed from 70# 70 test completed from 70 70 test completed from 70 38 test completed from 70# 70 test completed from 70 70 test completed from 70 56 test completed from 70# 70 test completed from 70 70 test completed from 70 70 test completed from 70 16 test completed from 70# 70 test completed from 70 24 test completed from 70# 70 test completed from 70 70 test completed from 70</span></span></code> </pre> <br><p>  Ou seja, com uma probabilidade de 70%, a linha passaria nos testes. </p><br><p>  Isso √© tudo.  Desejo ao leitor uma aleatoriedade, paci√™ncia e intui√ß√£o bem-sucedidas para solu√ß√µes √≥bvias. </p><br><p>  Para os curiosos - links para aprofundar o t√≥pico: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A excurs√£o mais completa √† gera√ß√£o do labirinto</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vers√£o russa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todos Times</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dois m√©todos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algoritmo de Eller</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gerador online</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todos para encontrar o caminho entre pontos online</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algoritmo do caminho de pesquisa do ponto de salto</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A * na Wikipedia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o ao A *</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o ao Algoritmo A *</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Explica√ß√£o do algoritmo de caminho</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fonte da arte</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt451460/">https://habr.com/ru/post/pt451460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt451448/index.html">Por que n√£o rastrear pode ser necess√°rio</a></li>
<li><a href="../pt451452/index.html">Build2019, compreendendo o que vimos</a></li>
<li><a href="../pt451454/index.html">Alteramos o conte√∫do do aplicativo de notifica√ß√£o iOS</a></li>
<li><a href="../pt451456/index.html">Armazenamento russo AERODISK: teste de carga. Espremendo IOPS</a></li>
<li><a href="../pt451458/index.html">N√≥s fabricamos um desenvolvedor de jogos. Parte 1</a></li>
<li><a href="../pt451462/index.html">Escreva menos c√≥digo duplicado usando binders no Laravel</a></li>
<li><a href="../pt451464/index.html">Frontend Weekly Digest (6-12 maio 2019)</a></li>
<li><a href="../pt451466/index.html">graphql - armadilhas</a></li>
<li><a href="../pt451468/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 364 (6 a 12 de maio de 2019)</a></li>
<li><a href="../pt451476/index.html">LLVM em termos de Go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>