<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏻 🤚🏾 ⛹🏽 SP701 + PCAM-5C + 15分钟+ VITIS = FPGA上的简易MIPI 🧘🏾 ⛸️ 🕯️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注解 
 如今，MIPI接口正在成为连接摄像机和显示器的越来越流行的接口。 因此，越来越多的基于FPGA的调试套件在板上包含MIPI接口连接器-用于连接摄像机和显示器。 为了开始使用新技术或只是了解它的外观，开发人员正在尝试在Internet上找到合适的指南，以描述工作的细微差别。 一方面，测试用例...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SP701 + PCAM-5C + 15分钟+ VITIS = FPGA上的简易MIPI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476620/"><h2> 注解 </h2><br> 如今，MIPI接口正在成为连接摄像机和显示器的越来越流行的接口。 因此，越来越多的基于FPGA的调试套件在板上包含MIPI接口连接器-用于连接摄像机和显示器。 为了开始使用新技术或只是了解它的外观，开发人员正在尝试在Internet上找到合适的指南，以描述工作的细微差别。 一方面，测试用例应该简单地放在调试工具包中，另一方面，它应该对测试用例中发生的事情有一个相当简单而广泛的理解。 <br><br>  <b>本文的目的</b>是展示如何使用Xilinx- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SP701</a>的最新调试之一，来自Digilent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PCAM-5C的</a>具有MIPI接口的摄像机以及来自Xilinx的Vivado + VITIS开发环境（SDK）来开始使用MIPI接口。 <br><br><img src="https://habrastorage.org/webt/jy/-y/sa/jy-ysacn2v1otw1rtw8_029srlg.jpeg"><br><a name="habracut"></a><br><h2> 设备清单 </h2><br> 从第一个VITIS和Vivado 2019.2版本开始，赛灵思为开发人员提供了生成测试用例的机会，以使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SP701</a>板上的MIPI接口。 以前，该项目可用于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ZCU102</a>板，但是，由于该示例需要相当特殊的摄像机，因此我们没有机会运行测试项目。 随着预算<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SP701</a>的发布，该预算也连接了预算摄像机PCAM-5C，出现了这样的机会。 <br><br>  <i>PS0：该指南不会告诉您什么是MIPI，它由什么组成或在互联网上可以找到的任何其他理论。</i>  <i>在这里，我们将重点介绍如何生成测试项目。</i>  <i>此外，使用该项目，您自己可以固定项目参考范围中指定的其他模块和视频处理。</i> <i><br></i>  <i>PS1：我们不会大声疾呼，而是专注于行动。</i>  <i>只有图片，只有铁杆。</i> <br><br> 让我们开始吧。 <br><br><h2> 必备软件 </h2><br> 对于本指南，我们需要从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a>下载的Vivado 2019.2和VITIS。  VITIS包含Vivado，因此无需下载VITIS和Vivado，只需下载并安装VITIS。  Vivado将自动安装。 <br><br><img src="https://habrastorage.org/webt/ys/e0/yg/yse0ygvqxqpstb11di-cxb6zwck.png"><br><br><h3> 步骤1：创建一个Vivado项目 </h3><br>  1.启动Vivado 2019.2 <br><br><img src="https://habrastorage.org/webt/yb/j2/62/ybj2620jr6viuslq5r6yktqj_10.png"><br><br>  2.单击“创建项目”（1）::单击“下一步”（2） <br><br><img src="https://habrastorage.org/webt/un/wa/xo/unwaxorjnotttje2h9jmd2qu4m4.jpeg"><br><br>  3.指定“项目名称”（1）::指定项目目录（2）::选中复选框（3）::单击“下一步”（4） <br><br><img src="https://habrastorage.org/webt/zr/qs/ve/zrqsvep1887deaweze6h1hhdwdi.png"><br><br>  4.选择项目类型（1）::设置复选框（2）::单击“下一步”（3） <br><br><img src="https://habrastorage.org/webt/bd/hk/jp/bdhkjp0__31bxlpnqe9twrztraw.png"><br><br>  5.转到“ Boards”选项卡（1）::查找并选择SP701（2）::单击“ Next”（3） <br><br><img src="https://habrastorage.org/webt/3c/qo/mj/3cqomjrq9depcimcrq6a11bsk2a.png"><br><br>  6.单击“完成”（1） <br><br><img src="https://habrastorage.org/webt/pa/ng/sq/pangsqtcar54zr6sqdrfux1h1za.png"><br><br><h3> 步骤2：安装许可证 </h3><br> 考虑到我们将使用IP核，这需要许可证，因此我们需要生成并安装它们。 测试项目使用IP连接摄像机（MIPI CSI-Rx）和显示器（MIPI DSI-Tx），Xilinx为此提供了120天的试用许可证。 <br><br>  PS：在测试项目中，图像输出被复制到HDMI接口，不需要带有MIPI接口的显示器，但是需要DSI-Tx许可证。 <br><br>  7.通过单击<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a>并单击“评估IP”获得CSI-Rx（摄像机连接）的许可证。 然后按照说明进行操作。 <br><br><img src="https://habrastorage.org/webt/mg/ad/rv/mgadrvdqpju8xe8fq3u_edeh6s0.png"><br><br><img src="https://habrastorage.org/webt/fb/4c/ks/fb4cksdjtyujwg8pyynwk3q8j5s.png"><br><br>  8.单击<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a>获得DSI-Tx（显示连接）许可证，然后单击“评估IP”。 然后按照说明进行操作。 <br><br><img src="https://habrastorage.org/webt/sw/ws/fv/swwsfveazvgnrz3avl0dbmi3uf4.png"><br><br><img src="https://habrastorage.org/webt/bm/tz/tx/bmtztxtpr3_m1jjebv-6d8wti0s.png"><br><br>  9.下载许可证文件。 <br><br>  10.在Vivado窗口中，单击“帮助”（1）::选择“管理许可证”（2） <br><br><img src="https://habrastorage.org/webt/zb/cb/q4/zbcbq4ofrjedau9gknfsr_zfn34.jpeg"><br><br>  11.在许可证管理器中，选择“加载许可证”（1）::然后选择“复制许可证”（2）。 为CSI和DSI IP内核选择下载的.lic许可证 <br><br><img src="https://habrastorage.org/webt/z0/ar/od/z0aroddbnyffaxcia62cxot2jbq.png"><br><br>  12.在许可证管理器中，选择“查看许可证状态”（1）::确保已正确提取许可证（2） <br><br><img src="https://habrastorage.org/webt/fo/bk/m7/fobkm7suhdl9ywtea27c1cqrxda.jpeg"><br><br><h3> 步骤3：创建一个测试项目 </h3><br>  13.在Vivado中，单击“创建块设计”（1）::单击“确定”（2） <br><br><img src="https://habrastorage.org/webt/4y/ho/nu/4yhonue7dwol1jcjhwfaisfvo-u.png"><br><br>  14.在IP Integrator字段上，单击“ +”或“ ctrl + i”（1）::在“ Search”字段中键入“ mipi”（2）::双击“ MIPI CSI-2 Rx Subsystem”（3） <br><br><img src="https://habrastorage.org/webt/v2/5l/zv/v25lzvkk07amh5fvgw2ssymhn6g.png"><br><br>  15.右键单击创建的IP（1）::选择“自定义块”（2） <br><br><img src="https://habrastorage.org/webt/gd/l6/z7/gdl6z7ylzjvbowbwbcudqidsnqo.png"><br><br>  16.转到“应用程序示例设计”选项卡（1）::选择“ SP701”（2）::单击“确定”（3） <br><br><img src="https://habrastorage.org/webt/sf/ja/yk/sfjaykzdosm3qj7rjhpbt9tc1de.jpeg"><br><br>  17.右键单击IP（1）::选择“打开示例设计”（2） <br><br><img src="https://habrastorage.org/webt/ur/4f/4s/ur4f4squw_y_qxy7fyduehwg_-i.png"><br><br>  18.单击“确定”保存项目更改。 <br><br><img src="https://habrastorage.org/webt/ac/fi/y5/acfiy5ssfelrkthxnrsqffkjweq.png"><br><br>  19.指定测试项目所在的目录（请注意，对于Windows用户，该文件夹的路径应尽可能短，否则，该项目的内部IP内核的路径可能会超过260个字符，这将在创建项目时导致错误） （1）::安装复选框（2）::单击“确定”（3）::单击“确定”（4） <br><br><img src="https://habrastorage.org/webt/ux/5i/gi/ux5igihyreb11hxjzwjxeuixsim.png"><br><br>  20.测试项目将在新的Vivado窗口中打开。 等待直到创建项目。 这需要几分钟。 <br><br><img src="https://habrastorage.org/webt/fe/pf/kp/fepfkpgsalurmccfvw4xqogfpyy.png"><br><br>  21.在测试项目窗口中，单击“生成比特流”（1）::单击“是”（2） <br><br><img src="https://habrastorage.org/webt/ra/oi/f_/raoif__toyxls8yjc-sug-wse1c.png"><br><br>  22.选择同时合成的IP的首选数量（1）::单击“确定” <br><br><img src="https://habrastorage.org/webt/rm/9k/t2/rm9kt26ndchqivorcjeyqhzkouy.png"><br><br>  23.等待，直到创建FPGA固件文件（位流）为止 <br><br><h3> 步骤4：设定和连线 </h3><br>  24.将PCAM-5C摄像机连接到SP701板上的MIPI CSI连接器 <br><br>  25.将HDMI监视器和/或MIPI显示器连接到SP701 <br><br>  26.将uUSB电缆连接到SP701板 <br><br>  27.开启SP701的电源 <br><br>  28.打开串行端口的终端应用程序（例如Tera Term）。 由于在Tera Term中可以识别三个不同的COM端口，因此我们打开了三个不同的Tera Term会话。 消息流的UART速度为9600（检查测试项目中的IP uartlite设置） <br><br><h3> 启动和调试 </h3><br>  29.从Vivado启动VITIS。 单击“工具”（1）::单击“启动VITIS”（2） <br><br><img src="https://habrastorage.org/webt/jp/8r/da/jp8rdadr1meqbmckmdwufzzcmpe.png"><br><br>  30.指定工作目录。 它位于测试项目的目录“ mipi_ex :: mipi_csi2_rx_subsystem_0_ex :: SW :: xmipi_app”中（在我们的案例中为1）：：单击“启动”（2） <br><br><img src="https://habrastorage.org/webt/dc/gd/kr/dcgdkrxo_c9czkbrphibvukvd0a.png"><br><br>  31.关闭VITIS中的“欢迎”标签 <br><br><img src="https://habrastorage.org/webt/pp/7x/b7/pp7xb7onwcp0kl84zxv4sco0zxg.png"><br><br>  32.现在我们可以访问项目的软件组件，即  MicroBlaze软件处理器的程序。 如果需要，请检查代码。 <br><br><img src="https://habrastorage.org/webt/sr/p-/3o/srp-3od0jpy-xaydz01jfb9_lsg.png"><br><br>  33.单击错误图标旁边的箭头（1）::单击“调试配置”（2） <br><br><img src="https://habrastorage.org/webt/uk/tz/ez/uktzez5nntynsxxhdsqoyruvcs8.png"><br><br>  34.双击“单一应用程序调试（GDB）”（1）::选择“可执行的调试器”（2）::指定由Vivado创建的FPGA固件文件（.bit）（3）::安装复选框（4）： ：单击“调试”（5） <br><br><img src="https://habrastorage.org/webt/zk/8r/lb/zk8rlb7dz2ruyntrk605h4smc7e.jpeg"><br><br>  35.按开始按钮，然后按照Tera Term终端中显示的说明进行操作 <br><br><img src="https://habrastorage.org/webt/kw/kw/1p/kwkw1pbm5bc2gha5xfquiohwyku.jpeg"><br><br>  36.就这样（别忘了从相机上取下保护盖；） <br><br><img src="https://habrastorage.org/webt/us/2j/j4/us2jj4158gwypwatvtwkixk8wr8.jpeg"><br><br><h2> 结论 </h2><br> 如我们所见，使用MIPI界面创建测试项目非常简单。 仅花费了VITIS / Vivado以及适当的硬件（板卡和摄像头）的可用性。  Xilinx的几乎所有IP内核都具有生成测试项目的能力，在本文中，我们演示了如何执行此操作。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN476620/">https://habr.com/ru/post/zh-CN476620/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN476592/index.html">CLRium＃6：还有9天的时间</a></li>
<li><a href="../zh-CN476594/index.html">外国客户和俄罗斯联邦程序员收入的合法化。 应该做什么，要花多少钱？</a></li>
<li><a href="../zh-CN476596/index.html">西门子建立了一个由风车提供动力的钢铁生产电解工厂</a></li>
<li><a href="../zh-CN476610/index.html">一点业务流程理论</a></li>
<li><a href="../zh-CN476618/index.html">我如何设计对焦套件</a></li>
<li><a href="../zh-CN476624/index.html">移动开发中的质量管道，第1部分：Android</a></li>
<li><a href="../zh-CN476626/index.html">云中的PVS-Studio：GitLab CI / CD</a></li>
<li><a href="../zh-CN476628/index.html">PVS-Studio走向云端：GitLab CI / CD</a></li>
<li><a href="../zh-CN476636/index.html">调整Firebird和Linux，以容纳691 GB的数据库，可容纳1000多个用户</a></li>
<li><a href="../zh-CN476640/index.html">保护Zimbra OSE免受暴力和DoS攻击</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>