<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎮 ▪️ 😅 "5 sen" untuk berbicara tentang Macam 🐩 🚵🏿 👩🏻‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebagai kelanjutan dari topik saya ingin membagikan kode saya, yang menyalip std::sort() dari versi saat ini dari GNU C ++ Library dan (kurang-lebih, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"5 sen" untuk berbicara tentang Macam</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469471/"><p> Sebagai kelanjutan dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">topik</a> saya ingin membagikan kode saya, yang menyalip <code>std::sort()</code> dari versi saat ini dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GNU C ++ Library</a> dan (kurang-lebih, tidak ada data pasti) mengulangi hasil dari "Sort Alexandrescu" dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CppCon 2019</a> . </p><a name="habracut"></a><br><h3 id="usloviya-vozniknoveniya-zadachi">  Kondisi tugas </h3><br><p>  Dalam kode <code></code> (bukan <code>C++</code> ), perlu upaya yang wajar untuk menyortir tidak lebih buruk daripada <code>std::sort()</code> untuk menyingkirkan overhead menggunakan perpustakaan <code>qsort()</code> .  Karena itu, termasuk menggunakan makro, bukan templat. <br>  Pada gilirannya, jika Anda mengurutkan "tikus" daripada "gajah", maka biaya <code>qsort()</code> cukup besar: aritmatika alamat tambahan dan panggilan tidak langsung ke fungsi pembanding. </p><br><h3 id="rezultat">  Hasil </h3><br><p>  Menurut informasi yang tersedia, <a href="">kombinasi</a> algoritma dan fitur implementasi ini lebih cepat daripada banyak opsi lain dalam arti praktis: </p><br><ul><li>  dengan jumlah perbandingan dan gerakan (diukur dengan mengganti kelas <code>C++</code> untuk menghitung perbandingan dan tugas). </li><li>  oleh volume kode mesin (membutuhkan sedikit ruang dalam cache). </li><li>  oleh volume kode sumber dan transparansi. </li><li>  pada urutan acak panjang, kenaikan cenderung 3-5%, tergantung pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SORT_THRESHOLD</a> . </li><li>  hingga 1,5-2-3 kali lebih cepat dengan data yang dipesan atau didominasi dipesan. </li><li>  sedikit kerugian hanya pada urutan yang sangat singkat dalam urutan terbalik. </li></ul><br><p>  Sangat mungkin bahwa opsi ini sedikit lebih cepat dan / atau sedikit lebih lambat daripada sebagian besar jenisnya, tetapi menemukan ini secara harfiah adalah karya raksasa yang tidak mampu saya beli. </p><br><p>  Sangat menarik jika seseorang membandingkan opsi ini dengan opsi saat ini di Tarantool, PostgreSQL, SQLite, dan MySQL.  Saya harap <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">kaamo</a> tidak akan bisa lewat dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SysBench</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nya</a> . </p><br><h3 id="kak-tam-aleksandresku">  Bagaimana Alexandrescu? </h3><br><p>  Dalam komentar pertama dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">RPG18,</a> ada tautan ke kinerja baru-baru ini oleh Andrei Alexandrescu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Kecepatan Ditemukan Dalam Pikiran Orang"</a> , di mana ia mengarah ke ide yang hampir serupa, tetapi pergi ke heap_sort lebih dekat ke final. </p><br><p>  Pertunjukan itu terasa agak lama bagi saya (jika <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">olegbunin</a> telah memberikan 90 menit setidaknya sekali ...), tetapi jumlahnya tidak cukup.  Secara khusus, saya ingin melihat perilaku penyortiran dengan meningkatnya <code>N</code> , karena peningkatan ambang penyelesaian QuickSort mengarah ke akselerasi pada ukuran besar dan perlambatan ke yang kecil, dll. </p><br><p>  Namun demikian, dilihat dari angka-angka yang dikutip Alexandrescu, opsi yang dijelaskan tiba-tiba memberikan percepatan yang sama.  Namun, sampai saya menemukan kode yang ditampilkan ke Alexandrescu dalam bentuk selesai, untuk "mengambil dan membandingkan", dan tidak ada waktu untuk menyandikan dengan video (tulis jika Anda menemukan atau melakukannya). </p><br><h3 id="ideynaya-storona">  Sisi ideologis </h3><br><p>  Sisi teoretis dan ideologis dari "algoritma" ini cukup sederhana: </p><br><ol><li>  Untuk urutan non-pendek, kami menggunakan QuickSort dengan semua optimasi yang dapat diterima: <br><ul><li>  Tidak secara rekursif menggunakan tumpukan posisi internal pada pointer. </li><li>  Sebagai elemen pendukung, kami menggunakan median elemen pertama, tengah, dan terakhir. </li><li>  Kami tidak mengurutkan porsi kecil, kami meninggalkannya untuk ShellSort. </li><li>  Setelah pemisahan, kami selalu menempatkan bagian terbesar di tumpukan, akibatnya, tumpukan tidak bisa lebih dalam dari <code>Log2(N)</code> . </li></ul></li><li>  Tambah-urutkan data menggunakan ShellSort: <br><ul><li>  jumlah minimum yang dilewati. </li><li>  langkah pada lintasan pertama berkorelasi dengan ukuran maksimum segmen yang tidak disortir. </li><li>  total hanya dua operan dengan langkah 8 dan (mau tidak mau) 1. </li></ul></li><li>  Menggunakan ShellSort memungkinkan Anda untuk secara relatif meningkatkan ambang keluar untuk QuckSort.  Sebagai hasilnya, kami memiliki kombinasi salah satu opsi QuickSort terbaik dengan penghematan karena jalan keluar sebelumnya dan penyortiran yang sedikit lebih cepat. </li></ol><br><p>  Perlu dicatat bahwa tergantung pada arsitektur prosesor dan kondisi aplikasi, Anda dapat meningkatkan gain pada urutan panjang hingga 10-15% dengan memilih <code>SORT_THRESHOLD</code> dalam 128-256.  Namun, ini memperlambat pemrosesan urutan dengan urutan terbalik dan dekat dengannya. <br>  Namun demikian, ini adalah bonus yang baik jika Anda memahami bahwa urutan terbalik tidak mungkin dalam data Anda, atau jika Anda dapat dengan murah mendeteksi kasus-kasus seperti itu dan menjalankan cabang dengan <code>SORT_THRESHOLD</code> kecil. </p><br><blockquote>  PS <br>  Opsi pengurutan yang dijelaskan adalah "redone" untuk proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libmdbx</a> saya (basis data nilai kunci yang disematkan dengan ACID), di mana deskripsi README dan API yang lain diperbarui (sebenarnya ditulis ulang).  Oleh karena itu, saya akan berterima kasih atas koreksi kesalahan ketik dan untuk saran dan saran.  Dirinya, sebagai aturan, tidak terlihat kurangnya beberapa informasi. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469471/">https://habr.com/ru/post/id469471/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469459/index.html">Menghubungkan perangkat IoT di Kota Cerdas</a></li>
<li><a href="../id469461/index.html">"To the Stars": Anti-Cosmic "Apocalypse Today"</a></li>
<li><a href="../id469463/index.html">Tren dan Prakiraan dalam Pemrosesan Bahasa Alami</a></li>
<li><a href="../id469465/index.html">Inisialisasi dalam C ++ modern</a></li>
<li><a href="../id469467/index.html">C ++ vs C #</a></li>
<li><a href="../id469475/index.html">Naik turunnya Flash, plugin menjengkelkan yang membentuk web modern</a></li>
<li><a href="../id469477/index.html">Waktu Apple untuk berhenti membandingkan iPad dengan PC</a></li>
<li><a href="../id469479/index.html">Dari mana datangnya probabilitas kuantum</a></li>
<li><a href="../id469487/index.html">Mengkonfigurasi top di GNU / Linux</a></li>
<li><a href="../id469491/index.html">Interaksi dengan server Asterisk dari aplikasi Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>