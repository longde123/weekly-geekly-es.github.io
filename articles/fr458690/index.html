<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñ≤Ô∏è ‚òÉÔ∏è üëâüèø Automatisez-le! Comment nous avons am√©lior√© les tests d'int√©gration üë©üèº‚Äçüéì üë©üèø‚Äçüåæ üíë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Autrefois, nous n'avions que quelques services et la mise √† jour de plusieurs d'entre eux en production en une journ√©e a √©t√© un grand succ√®s . Puis le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisez-le! Comment nous avons am√©lior√© les tests d'int√©gration</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yamoney/blog/458690/">  Autrefois, nous n'avions que quelques services et la mise √† jour de plusieurs d'entre eux en production en une journ√©e a √©t√© un grand <s>succ√®s</s> .  Puis le monde s'est acc√©l√©r√©, le syst√®me est devenu plus complexe et nous nous sommes transform√©s en une organisation avec une architecture de microservices.  Nous avons maintenant une centaine de services, et avec l'augmentation de leur nombre, la fr√©quence des sorties augmente √©galement - il y en a plus de 250 par semaine. <br><br>  Et si de nouvelles fonctionnalit√©s sont test√©es au sein des √©quipes produit, alors la t√¢che de l'√©quipe de test d'int√©gration est de v√©rifier que les modifications incluses dans la version ne cassent pas la fonctionnalit√© du composant, du syst√®me et d'autres fonctionnalit√©s. <br><br><img src="https://habrastorage.org/webt/uf/se/rm/ufsermb8tifgozgjgtfs3cdcbk8.jpeg"><br><br>  Je travaille en tant qu'ing√©nieur en automatisation des tests chez Yandex.Money. <br>  Dans cet article, je parlerai de l'√©volution des tests d'int√©gration des services Web, ainsi que de l'adaptation du processus pour augmenter le nombre de composants du syst√®me et augmenter la fr√©quence des versions. <br><a name="habracut"></a><br>  √Ä propos des changements dans le cycle de publication et le d√©veloppement du m√©canisme de calcul ont √©t√© d√©crits par ops et dev dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un des articles pr√©c√©dents</a> .  Je vais vous parler de l'historique des changements dans les processus de test au cours de cette transformation. <br><br>  Nous avons maintenant environ 30 √©quipes de d√©veloppement.  L'√©quipe comprend g√©n√©ralement le chef de produit, le chef de projet, les d√©veloppeurs et testeurs frontaux et principaux.  Ils sont unis par le travail sur des t√¢ches pour un produit sp√©cifique.  En r√®gle g√©n√©rale, une √©quipe est responsable du service, qui y apporte le plus souvent des modifications. <br><br><h2>  Test d'acceptation de bout en bout </h2><br>  Il n'y a pas si longtemps, avec la sortie de chaque composant, seuls des tests unitaires et des composants √©taient ex√©cut√©s, et apr√®s cela, seuls quelques-uns des scripts de bout en bout les plus importants √©taient ex√©cut√©s sur un environnement de test √† part enti√®re avant de mettre le service en production.  Parall√®lement √† l'augmentation du nombre de composants, le nombre de connexions entre eux a commenc√© √† cro√Ætre de fa√ßon exponentielle.  Souvent - des connexions compl√®tement non triviales.  Je me souviens comment l'indisponibilit√© du service pour l'√©mission de donn√©es marketing a compl√®tement interrompu l'inscription des utilisateurs (bien s√ªr, pendant une courte p√©riode). <br><br>  Cette approche de v√©rification des modifications a commenc√© √† √©chouer de plus en plus souvent - elle n√©cessitait de couvrir tous les sc√©narios d'entreprise critiques avec des autotests et de les ex√©cuter sur un environnement de test √† part enti√®re avec une version de composant pr√™te √† √™tre publi√©e. <br><br>  D'accord, des autotests pour des sc√©narios critiques sont apparus - mais comment les ex√©cuter?  Il y avait une t√¢che √† int√©grer dans le cycle de publication, affectant au minimum sa fiabilit√© avec de fausses baisses de test.  En revanche, je souhaitais r√©aliser l'√©tape de test d'int√©gration le plus rapidement possible.  Il y avait donc une infrastructure pour effectuer des tests d'acceptation. <br><br>  Nous avons essay√© d'utiliser au maximum les outils d√©j√† utilis√©s pour ex√©cuter le composant sur le cycle de publication et les t√¢ches de lancement: Jira et Jenkins, respectivement. <br><br><h3>  Cycle de test d'acceptation </h3><br>  Pour effectuer les tests d'acceptation, nous avons d√©termin√© le cycle suivant: <br><ol><li>  suivi des t√¢ches entrantes pour les tests d'acceptation d'une version, <br></li><li>  l'ex√©cution du travail Jenkins pour installer la version de build sur un environnement de test, <br></li><li>  v√©rifier que le service a augment√©, <br></li><li>  lancer le job Jenkins avec des tests d'int√©gration, <br></li><li>  analyse des r√©sultats de l'analyse, <br></li><li>  test r√©p√©t√© (si n√©cessaire), <br></li><li>  mise √† jour de l'√©tat de la t√¢che - termin√©e ou interrompue, en indiquant la raison dans le commentaire. <br></li></ol><br>  Le cycle entier a √©t√© effectu√© manuellement √† chaque fois.  En cons√©quence, d√©j√† √† la dixi√®me sortie par jour, je voulais jurer d'ex√©cuter les m√™mes t√¢ches, au mieux, sous mon souffle, en me serrant la t√™te et en exigeant de la <s>bi√®re de</s> val√©riane. <br><br><h2>  Moniteur Bot </h2><br>  Nous avons r√©alis√© que le suivi et la g√©n√©ration de rapports sur les nouvelles t√¢ches dans Jira sont des processus importants qui sont rapides et faciles √† automatiser.  Il y avait donc un bot qui fait √ßa. <br><br>  Les donn√©es pour g√©n√©rer des alertes se pr√©sentent sous la forme de notifications push de Jira.  Apr√®s le lancement du bot, nous avons cess√© de mettre √† jour la page du tableau de bord avec les t√¢ches d'acceptation, et la largeur du sourire de l'automate a l√©g√®rement augment√©. <br><br><h2>  Pinger </h2><br>  Nous avons d√©cid√© de simplifier la v√©rification que lors du d√©ploiement dans l'environnement de test, aucune erreur d'assemblage ou d'installation ne s'est produite et que la version souhait√©e du composant a √©t√© g√©n√©r√©e, et pas une autre.  Le composant donne sa version et son statut via HTTP.  Et v√©rifier que le service renvoie la version correcte serait simple et compr√©hensible si diff√©rents composants n'√©taient pas √©crits dans des langages diff√©rents - certains en Node.js, certains en C #.  De plus, nos services les plus populaires en Java ont √©galement fourni la version dans un format diff√©rent. <br><br>  De plus, je voulais avoir des informations et des notifications en temps r√©el non seulement sur les changements de version, mais aussi sur les changements dans la disponibilit√© des composants dans le syst√®me.  Pour r√©soudre ce probl√®me, le service Pinger est apparu, qui collecte des informations sur l'√©tat et la version des composants en les interrogeant de mani√®re cyclique. <br><br>  Nous utilisons un mod√®le push de remise des messages - un agent est d√©ploy√© sur chaque instance de l'environnement de test, qui collecte des informations sur les composants de cet environnement et stocke les donn√©es sur un n≈ìud central toutes les 10 secondes.  Nous allons √† ce n≈ìud pour l'√©tat actuel - cette approche nous permet de prendre en charge plus d'une centaine de bancs d'essai. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/666/dfe/88a/666dfe88ade7ac5107ec244103a2b0d7.png"><br><br><h2>  Casier </h2><br>  Le temps est venu pour des t√¢ches plus complexes - mise √† jour automatique des composants et ex√©cution de tests.  A cette √©poque, notre √©quipe disposait d√©j√† de 3 bancs de test dans OpenStack pour les tests d'acceptation, et il fallait d'abord r√©soudre le probl√®me de gestion des ressources des bancs de test: il serait d√©sagr√©able que la mise √† jour de la prochaine version ¬´roule¬ª lors de l'ex√©cution des tests sur le syst√®me.  Il arrive √©galement que le banc de test soit d√©bogu√©, et vous ne devez donc pas l'utiliser pour l'acceptation. <br>  Je voulais pouvoir voir le statut de l'emploi et, si n√©cessaire, verrouiller manuellement le stand pendant la dur√©e de l'analyse des tests tomb√©s ou jusqu'√† la fin des autres travaux. <br><br>  Pour tout cela, le service Locker est apparu.  Il maintient le statut du banc de test pendant une longue p√©riode (¬´occup√©¬ª / ¬´gratuit¬ª), vous permet de sp√©cifier un commentaire sur ¬´occup√©¬ª, de sorte qu'il est clair que nous d√©boguons maintenant, recr√©ons une copie de l'environnement de test ou ex√©cutons des tests pour la prochaine version.  Nous avons √©galement commenc√© √† bloquer les stands la nuit - sur eux les administrateurs effectuent des travaux selon un calendrier, tels que les sauvegardes et la synchronisation de la base de donn√©es. <br><br>  Lors du blocage, l'heure est toujours d√©finie apr√®s laquelle le verrou expire - maintenant, les gens n'ont plus besoin de participer au retour des stands dans le pool disponible, et la machine fait tout. <br><br><h2>  Devoir </h2><br>  Pour r√©partir uniform√©ment la charge entre les membres de l'√©quipe pour analyser les r√©sultats des tests, nous avons propos√© des √©quipes quotidiennes.  Le pr√©pos√© travaille avec les t√¢ches de test d'acceptation des versions, analyse les autotests tomb√©s et signale les bogues.  Si le pr√©pos√© comprend qu'il ne g√®re pas le d√©roulement des t√¢ches, il peut demander de l'aide √† l'√©quipe.  √Ä l'heure actuelle, le reste de l'√©quipe est engag√© dans des t√¢ches qui ne sont pas li√©es aux versions. <br><br>  Avec l'augmentation du nombre de versions, le r√¥le du deuxi√®me op√©rateur est apparu, qui se connecte √† la principale s'il y a des blocages ou s'il y a des versions critiques dans la file d'attente.  Afin de fournir des informations sur l'avancement des tests des versions, nous avons cr√©√© une page avec le nombre de t√¢ches dans les √©tats ¬´ouvert¬ª / ¬´en cours¬ª / ¬´en attente d'une r√©ponse en service¬ª, l'√©tat du blocage des bancs d'essai et les composants inaccessibles sur les stands: <br><img src="https://habrastorage.org/webt/mi/am/v0/miamv0ugxbwqruuip9quxjjk45g.png"><br><br>  Le travail de l'officier de service n√©cessite de la concentration, il a donc un chignon - le jour de son devoir, il peut choisir un endroit pour d√©jeuner pour toute l'√©quipe pr√®s du bureau.  Les pots-de-vin dans le style sont particuli√®rement amusants: "laissez-moi vous aider √† trier les t√¢ches, et aujourd'hui nous irons √† <i>mon</i> endroit pr√©f√©r√©" =) <br><br><h2>  Journaliste </h2><br>  L'une des t√¢ches que nous avons rencontr√©es lors de l'introduction de la montre √©tait la n√©cessit√© de transf√©rer les connaissances d'un officier √† un autre, par exemple, sur les tests tombant sur une nouvelle version ou les sp√©cificit√©s de la mise √† jour d'un composant. <br><br>  De plus, nous avons de nouvelles fonctionnalit√©s de travail. <br><br><ol><li>  Il y avait une cat√©gorie de tests qui tombaient avec une fr√©quence plus ou moins grande en raison de probl√®mes avec les bancs de test.  Des chutes peuvent survenir en raison de l'augmentation du temps de r√©ponse de l'un des services ou du long chargement des ressources dans le navigateur.  Je ne veux pas d√©sactiver les tests, les moyens raisonnables pour augmenter leur fiabilit√© ont √©t√© √©puis√©s. <br></li><li>  Nous avons eu un deuxi√®me projet exp√©rimental avec autotests, et le besoin s'est fait sentir d'analyser les cycles de deux projets √† la fois, en examinant les rapports Allure. <br></li><li>  Un test peut prendre jusqu'√† 20 minutes et vous souhaitez commencer √† analyser les r√©sultats imm√©diatement apr√®s le d√©but des premi√®res gouttes.  Surtout si la t√¢che est critique et que les membres de l'√©quipe responsable de la lib√©ration se tiennent derri√®re vous <s>, tenant le couteau √† la gorge</s> avec des yeux pitoyables. <br></li></ol><br>  C'est ainsi qu'est n√© le service Reporter.  Nous y repoussons les r√©sultats du test en temps r√©el pendant le processus de test.  Le service dispose d'une base de donn√©es de probl√®mes ou bogues connus li√©s √† un test sp√©cifique.  En outre, une publication a √©t√© publi√©e sur le portail wiki de la soci√©t√© d'un rapport de synth√®se sur les r√©sultats de la course du journaliste.  Ceci est pratique pour les gestionnaires qui ne veulent pas plonger dans les d√©tails techniques avec lesquels l'interface Reporter ou Allure regorge. <br><br>  Si le test se bloque, vous pouvez rechercher dans le Reporter une liste de bogues associ√©s ou corriger des t√¢ches.  Ces informations raccourcissent le temps d'analyse et facilitent l'√©change de connaissances sur les probl√®mes entre les membres de notre √©quipe.  Les enregistrements des t√¢ches termin√©es sont archiv√©s, mais si n√©cessaire, vous pouvez les ¬´extraire¬ª dans une liste distincte.  Afin de ne pas charger les services internes pendant les heures ouvrables, nous interviewons Jira la nuit et archivons les entr√©es pour les probl√®mes avec le statut final. <br><br>  Un avantage de l'introduction de Reporter √©tait l'√©mergence d'une base de donn√©es d'ex√©cution, sur la base de laquelle vous pouvez analyser la fr√©quence des chutes, classer les tests selon leur niveau de stabilit√© ou leur ¬´utilit√©¬ª en termes de nombre de bogues trouv√©s. <br><br><h2>  Autorun </h2><br>  Ensuite, nous sommes pass√©s √† l'automatisation du lancement des tests lorsque le probl√®me des tests d'acceptation de la version arrive au traqueur de probl√®mes.  √Ä cet effet, le service Autorun a √©t√© √©crit, qui v√©rifie s'il existe de nouvelles t√¢ches d'acceptation dans Jira et, dans l'affirmative, il d√©termine le nom du composant et sa version en fonction du contenu de la t√¢che. <br><br>  Pour la t√¢che, plusieurs √©tapes sont effectu√©es: <br><br><ol><li>  prendre la serrure de l'un des bancs d'essai gratuits du service Locker, <br></li><li>  d√©marrer l'installation du composant n√©cessaire dans Jenkins, attendre que le composant soit mont√© avec la version requise, <br></li><li>  ex√©cuter des tests <br></li><li>  attendre la fin du test, au cours de leur ex√©cution, tous les r√©sultats sont envoy√©s √† Reporter, <br></li><li>  nous demandons √† Reporter le nombre de tests qui ont √©chou√©, √† l'exclusion de ceux qui sont tomb√©s en raison de probl√®mes connus, <br></li><li>  si 0 est tomb√© - nous transf√©rons la t√¢che de test d'acceptation √† ¬´Terminer¬ª et finissons de travailler avec.  Tout est pr√™t =) <br></li><li>  s'il y a des tests "rouges" - nous traduisons la t√¢che en "En attente" et allons √† Reporter pour les analyser. <br></li></ol><br>  La commutation entre les √©tapes est organis√©e par le principe d'une machine √† √©tats finis.  Chaque √©tape elle-m√™me conna√Æt les conditions du passage √† la suivante.  Les r√©sultats de l'√©tape sont stock√©s dans le contexte de la t√¢che, ce qui est courant pour les √©tapes d'une t√¢che. <br><br><img src="https://habrastorage.org/webt/dw/dp/iy/dwdpiy0irgtip9wdw0z_v5gnsue.png"><br><br>  Tout cela vous permet de transf√©rer automatiquement les versions le long du pipeline de d√©ploiement, selon lesquelles 100% des tests sont verts.  Mais qu'en est-il de l'instabilit√© caus√©e non pas par des probl√®mes dans le composant, mais par les caract√©ristiques "naturelles" des tests d'interface utilisateur ou par l'augmentation des retards du r√©seau dans le banc de test? <br><br>  Pour ce faire, nous avons mis en place un m√©canisme de nouvelle tentative, que de nombreuses personnes utilisent, mais peu le reconnaissent.  Les retrays sont organis√©s comme une s√©rie s√©quentielle de tests dans le pipeline Jenkins. <br><br>  Apr√®s l'ex√©cution, nous demandons une liste des tests ayant √©chou√© √† Reporter de Jenkins - et red√©marrons uniquement ceux qui ont √©chou√©.  De plus, nous r√©duisons le nombre de threads au d√©marrage.  Si le nombre de tests abandonn√©s n'a pas diminu√© par rapport √† l'ex√©cution pr√©c√©dente, nous mettons imm√©diatement fin √† Job.  Dans notre cas, cette approche de red√©marrage nous permet d'augmenter le succ√®s des tests d'acceptation d'environ 2 fois. <br><br><h2>  Blocage rapide </h2><br>  Le syst√®me de test d'acceptation qui en r√©sulte nous a permis de r√©aliser plus de 60% des rejets sans intervention humaine.  Mais que faire du reste?  Si n√©cessaire, l'op√©ratrice cr√©e un rapport de bogue sur le composant sous test ou la t√¢che de fixer les tests √† l'√©quipe de d√©veloppement.  Parfois - √©tablit un bug de la configuration du banc de test pour le service d'exploitation. <br><br>  Les t√¢ches de correction des tests bloquent souvent le bon passage des tests automatiques, car les tests non pertinents seront toujours ¬´rouges¬ª.  Les testeurs des √©quipes de d√©veloppement sont responsables de la r√©daction de nouveaux tests et de la mise √† jour des tests existants - en apportant des modifications par le biais de requ√™tes d'extraction au projet avec des tests automatiques.  Ces modifications sont soumises √† une r√©vision obligatoire, ce qui n√©cessite un certain temps de la part du r√©viseur et de l'auteur, et je souhaite bloquer temporairement les tests non pertinents jusqu'√† ce que la t√¢che soit traduite dans son √©tat final. <br><br>  Tout d'abord, nous avons impl√©ment√© un m√©canisme d'arr√™t bas√© sur les annotations des m√©thodes de test.  Par la suite, il s'est av√©r√© qu'en raison de la pr√©sence d'une r√©vision obligatoire du code, le blocage du code n'est pas toujours pratique et peut prendre plus de temps que nous le souhaiterions. <br><br>  Par cons√©quent, nous avons d√©plac√© la liste des t√¢ches bloquant les tests vers un nouveau service avec une page Web - Quick-block.  Ainsi, les membres de l'√©quipe responsable du composant peuvent rapidement bloquer le test.  Avant l'ex√©cution, nous allons √† ce service et obtenons une liste de tests en quarantaine, que nous traduisons en statut ignor√©. <br><br><h2>  R√©sum√© </h2><br>  Nous sommes pass√©s de l'acceptation des versions en mode manuel √† un processus presque enti√®rement automatique, capable de mener √† bien des tests d'acceptation de plus de 50 versions par jour.  Cela permet √† l'entreprise de r√©duire le temps n√©cessaire pour publier des modifications, et notre √©quipe peut trouver des ressources pour exp√©rimenter et d√©velopper des outils de test. <br><br>  √Ä l'avenir, nous pr√©voyons d'augmenter la fiabilit√© du processus, par exemple, en r√©partissant les demandes entre une paire d'instances de chaque service de la liste ci-dessus.  Cela vous permettra de mettre √† jour les outils sans temps d'arr√™t et d'inclure de nouvelles fonctionnalit√©s uniquement pour une partie des tests d'acceptation.  De plus, nous veillons √† stabiliser les tests eux-m√™mes.  En d√©veloppement, un g√©n√©rateur de tickets pour refactoriser les tests avec le plus faible taux de r√©ussite. <br><br>  L'am√©lioration de la fiabilit√© des tests augmentera non seulement leur confiance, mais acc√©l√©rera √©galement les tests des versions en raison du manque de red√©marrage des scripts tomb√©s. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458690/">https://habr.com/ru/post/fr458690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458676/index.html">Comment tirer le meilleur parti de l'enseignement de l'informatique</a></li>
<li><a href="../fr458680/index.html">Pourquoi avons-nous besoin d'UML? Ou comment √©conomiser vos nerfs et votre temps</a></li>
<li><a href="../fr458684/index.html">L'ICANN supprime le seuil de prix pour le domaine .org - pourquoi la communaut√© informatique s'y oppose et que se passera-t-il ensuite</a></li>
<li><a href="../fr458686/index.html">@Pythonetc juin 2019</a></li>
<li><a href="../fr458688/index.html">Trucs et astuces de ma cha√Æne Telegram @pythonetc, juin 2019</a></li>
<li><a href="../fr458692/index.html">"Peut-√™tre" monade via async / attendre en C # (pas de t√¢ches!)</a></li>
<li><a href="../fr458694/index.html">Python GIL est-il vraiment mort?</a></li>
<li><a href="../fr458696/index.html">Texturation, ou ce que vous devez savoir pour devenir un artiste de surface. Partie 3. PBR et mat√©riaux</a></li>
<li><a href="../fr458698/index.html">Le chemin de la paix et le chemin de la guerre dans les projets informatiques</a></li>
<li><a href="../fr458702/index.html">Chiens de tra√Æneau: ce que vous devez savoir √† leur sujet et comment ils ont √©t√© amen√©s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>