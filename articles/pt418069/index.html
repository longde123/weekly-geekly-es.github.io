<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèª üåÅ ü§æ Resolvendo palavras cruzadas em cores japonesas na velocidade da luz ü§õüèø üíñ üë©üèº‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Palavras cruzadas em japon√™s (tamb√©m nonograms) s√£o quebra-cabe√ßas l√≥gicos nos quais uma imagem de pixel √© criptografada. Voc√™ precisa resolver as pal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Resolvendo palavras cruzadas em cores japonesas na velocidade da luz</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418069/"><p>  Palavras cruzadas em japon√™s (tamb√©m nonograms) s√£o quebra-cabe√ßas l√≥gicos nos quais uma imagem de pixel √© criptografada.  Voc√™ precisa resolver as palavras cruzadas usando n√∫meros localizados √† esquerda das linhas e acima das colunas. </p><br><p>  O tamanho das palavras cruzadas pode atingir at√© 150 x 150.  O jogador usa l√≥gica especial para calcular a cor de cada c√©lula.  A solu√ß√£o pode levar alguns minutos em palavras cruzadas para iniciantes e dezenas de horas em quebra-cabe√ßas complexos. </p><br><p>  Um bom algoritmo pode resolver o problema muito mais rapidamente.  O texto descreve como escrever uma solu√ß√£o que funciona quase instantaneamente usando os algoritmos mais adequados (que geralmente levam a uma solu√ß√£o), bem como suas otimiza√ß√µes e o uso de recursos do C ++ (que reduzem o tempo de execu√ß√£o por v√°rias dezenas de vezes). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w1/tw/-c/w1tw-caq1d9vswcrqfapdufcbfk.gif"></div><a name="habracut"></a><br><p>  <em>Na vers√£o m√≥vel do Habr, as f√≥rmulas no texto podem n√£o ser exibidas (n√£o em todos os navegadores m√≥veis) - use a vers√£o completa ou outro navegador m√≥vel, se detectar problemas com as f√≥rmulas</em> </p><br><h2 id="pravila-igry">  Regras do jogo </h2><br><p>  Inicialmente, a tela de palavras cruzadas √© branca.  Para palavras cruzadas em preto e branco, voc√™ precisa restaurar o local das c√©lulas negras. </p><br><p>  Nas palavras cruzadas em preto e branco, o n√∫mero de n√∫meros de cada linha (√† esquerda da tela) ou de cada coluna (parte superior da tela) mostra quantos grupos de c√©lulas pretas est√£o na linha ou coluna correspondente e os pr√≥prios n√∫meros mostram quantas c√©lulas mescladas cada um desses grupos cont√©m.  Conjunto de n√∫meros <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mo" id="MJXp-Span-2" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="MJXp-mn" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font></span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.66ex" viewBox="0 -832 2948.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-33" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-32" x="1224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2C" x="1724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-35" x="2169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-5D" x="2670" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> [3, 2, 5] </script>  significa que em uma determinada linha existem tr√™s grupos consecutivos de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mn" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-33" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 3 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-32" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> 2 </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-35" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> 5 </script>  c√©lulas pretas seguidas.  Os grupos podem ser organizados em uma fileira aleatoriamente, sem violar a ordem relativa (os n√∫meros especificam seu comprimento e a posi√ß√£o deve ser adivinhada), mas devem ser separados por pelo menos uma c√©lula branca. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bl/w9/zt/blw9ztswh2gvpy0lfqr76ei_xcq.png"></div><br><p>  <em>Exemplo correto</em> </p><br><p>  Nas palavras cruzadas em cores, cada grupo ainda tem sua pr√≥pria cor - qualquer, exceto o branco, √© uma cor de fundo.  Grupos vizinhos de cores <em>diferentes</em> podem ficar lado a lado, mas para grupos vizinhos das <em>mesmas</em> cores, a separa√ß√£o por pelo menos uma c√©lula branca ainda √© necess√°ria. </p><br><h2 id="chto-ne-yavlyaetsya-yaponskim-krossvordom">  O que n√£o √© uma palavra cruzada japonesa </h2><br><p>  Cada imagem de pixel pode ser criptografada como um jogo de palavras cruzadas.  Mas pode n√£o ser poss√≠vel restaur√°-lo de volta - o quebra-cabe√ßa resultante pode ter mais de uma solu√ß√£o ou uma solu√ß√£o, mas n√£o pode ser resolvido logicamente.  Em seguida, as c√©lulas restantes no jogo devem ser adivinhadas usando a tecnologia xam√¢nica usando <s>computadores qu√¢nticos</s> . </p><br><p>  Tais palavras cruzadas n√£o s√£o palavras cruzadas, mas graphomania.  Acredita-se que as palavras cruzadas corretas sejam tais que, de maneira l√≥gica, voc√™ possa encontrar uma solu√ß√£o √∫nica. </p><br><p>  O "caminho l√≥gico" √© a capacidade de restaurar cada c√©lula uma por uma, considerando a linha / coluna separadamente ou sua interse√ß√£o.  Se isso n√£o for poss√≠vel, o n√∫mero de op√ß√µes de resposta consideradas pode ser muito, muito mais do que uma pessoa pode calcular por si mesma. </p><br><img src="https://habrastorage.org/webt/qs/nu/2m/qsnu2mmr0lutke0xzprtow8jv-i.png"><br><p>  <em>O nonograma errado √© a √∫nica solu√ß√£o, mas √© imposs√≠vel resolver normalmente.</em>  <em>C√©lulas "insol√∫veis" rotuladas em laranja.</em>  <em>Retirado da Wikipedia.</em> </p><br><p>  Essa restri√ß√£o √© explicada da seguinte maneira - no caso mais geral, as palavras cruzadas japonesas s√£o um problema de NP-completo.  No entanto, adivinhar n√£o se torna uma tarefa completa de NP, se houver um algoritmo que, a cada instante, indique inequivocamente quais c√©lulas abrir mais.  Todas as palavras cruzadas usadas por seres humanos (exceto pelo m√©todo <del>  Monte Carlo </del>  tentativa e erro) s√£o baseados nisso. </p><br><p>  A maioria das palavras cruzadas ortodoxas divide-se por 5 larguras e alturas, n√£o h√° linhas que possam ser contadas instantaneamente (aquelas em que c√©lulas coloridas obstruem todos os lugares ou elas n√£o existem) e o n√∫mero de cores complementares √© limitado.  Esses requisitos n√£o s√£o necess√°rios. </p><br><p>  As palavras cruzadas erradas mais simples: </p><br><pre><code class="bash hljs">|1 1| --+---+ 1| | 1| | --+---+</code> </pre> <br><p>  Freq√ºentemente, a arte pixel codificada, que usa um padr√£o de "tabuleiro de damas" para simular um gradiente, n√£o √© resolvida ao contr√°rio.  √â melhor entender se voc√™ digitar "gradiente de pixelart" na pesquisa.  O gradiente √© como estas palavras cruzadas 2x2 fayl. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oz/mm/sj/ozmmsj7dzmqdn0dwgmspwymmohy.gif"></div><br><h2 id="vozmozhnye-varianty-resheniy">  Poss√≠veis solu√ß√µes </h2><br><p>  Temos o tamanho das palavras cruzadas, uma descri√ß√£o das cores e todas as linhas e colunas.  Como montar uma imagem a partir disso: </p><br><h4 id="polnyy-perebor">  Pesquisa completa </h4><br><p>  Para cada c√©lula, classificamos todos os estados poss√≠veis e verificamos se √© satisfat√≥rio.  A complexidade dessa solu√ß√£o para palavras cruzadas em preto e branco <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-22"><span class="MJXp-mrow" id="MJXp-Span-23" style="margin-right: 0.05em;"><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-25" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.881ex" height="2.901ex" viewBox="0 -935.7 7698.6 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="2263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4D" x="2986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="4260" y="0"></use><g transform="translate(4982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4D" x="1389" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-29" x="7309" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> O (N * M * {2} ^ {N * M}) </script>  para cor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-34" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mrow" id="MJXp-Span-38" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-44" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-48" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.075ex" height="2.901ex" viewBox="0 -935.7 9504.6 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="2263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4D" x="2986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="4260" y="0"></use><g transform="translate(4982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-6F" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-72" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-65" x="1370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-73" x="1837" y="0"></use><g transform="translate(2306,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMATHI-4D" x="1389" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhhtmHrA64nhFrLGxGq4ISEwbQBo3g#MJMAIN-29" x="9115" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> O (N * M * {cores} ^ {N * M}) </script>  .  Por analogia com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classifica√ß√£o de palha√ßos,</a> essa solu√ß√£o tamb√©m pode ser chamada de palha√ßo.  √â adequado para o tamanho 5x5. </p><br><h4 id="backtracking">  Backtracking </h4><br><p>  Todos os m√©todos poss√≠veis de organizar grupos horizontais de c√©lulas s√£o resolvidos.  Colocamos um grupo de c√©lulas em uma linha, verifique se ele n√£o quebra a descri√ß√£o dos grupos de colunas.  Se quebrar, colocamos mais uma c√©lula, verificamos novamente.  Set - v√° para o pr√≥ximo grupo.  Se voc√™ n√£o pode colocar um grupo de forma alguma, revertemos dois grupos, reorganizamos o grupo anterior e assim por diante, at√© colocarmos o √∫ltimo grupo com √™xito. </p><br><h4 id="otdelno-dlya-kazhdogo-ryada">  Separadamente para cada linha </h4><br><p>  Esta decis√£o √© muito melhor e √© verdadeiramente verdadeira.  Podemos analisar cada linha e cada coluna individualmente.  Cada linha tentar√° revelar o m√°ximo de informa√ß√µes. </p><br><p>  O algoritmo de cada c√©lula da linha obt√©m mais informa√ß√µes - pode ser imposs√≠vel colorir a c√©lula com alguma cor, os grupos n√£o convergir√£o.  Voc√™ n√£o pode expandir completamente a linha imediatamente, mas as informa√ß√µes recebidas "ajudar√£o" a se abrir melhor para v√°rias colunas e, quando come√ßarmos a analis√°-las, elas "ajudar√£o" novamente as linhas, e assim por diante por v√°rias itera√ß√µes, at√© que todas as c√©lulas tenham uma cor poss√≠vel. </p><br><h2 id="istinno-vernoe-reshenie">  Decis√£o verdadeiramente verdadeira </h2><br><h4 id="odna-stroka-dva-cveta">  Uma linha, duas cores </h4><br><p>  A adivinha√ß√£o eficaz da ‚Äúlinha √∫nica‚Äù em preto e branco, para a qual algumas c√©lulas j√° adivinharam, √© uma tarefa muito dif√≠cil.  Ela conheceu em lugares como: </p><br><ul><li>  <em>Quartas de final do ACM ICPC 2006</em> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™ pode tentar resolver o problema sozinho</a> .  O limite de tempo √© de 1 segundo, o limite para o n√∫mero de grupos √© 400 e o comprimento da s√©rie tamb√©m √© 400. Ele possui um n√≠vel muito alto de complexidade em compara√ß√£o com outras tarefas. </li><li>  <em>Olimp√≠ada Internacional de Inform√°tica 2016</em> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">condi√ß√£o</a> para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">passar a tarefa</a> .  O limite de tempo √© de 2 segundos, o limite do n√∫mero de grupos √© 100, o comprimento da linha √© 200'000.  Essas limita√ß√µes s√£o um exagero, mas a solu√ß√£o de um problema com restri√ß√µes do ACM ganha 80/100 pontos nesse problema.  Aqui, tamb√©m, o n√≠vel n√£o decepcionou, crian√ßas de todo o mundo com um n√≠vel de QI cruel treinam h√° v√°rios anos para resolver truques diferentes, depois v√£o para esta Olimp√≠ada (apenas 4 pessoas do pa√≠s devem passar), decidem 2 rodadas de 5 horas <del>  e, no caso da vit√≥ria √©pica (bronze em anos diferentes, para 138-240 pontos em 600), a admiss√£o em Oxford e, em seguida, oferece de empresas claras ao departamento de busca, uma vida longa e feliz abra√ßada com dakimakura. </del></li></ul><br><p>  A linha √∫nica monocrom√°tica tamb√©m pode ser resolvida de diferentes maneiras e, por <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-49"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-54"><span class="MJXp-mn" id="MJXp-Span-55" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-56" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> O (N * 2 ^ N) </script>  (enumerando todas as op√ß√µes, verificando a corre√ß√£o, selecionando c√©lulas que t√™m a mesma cor em todas as op√ß√µes) e, de alguma forma, menos est√∫pida. </p><br><p>  A id√©ia principal √© usar um an√°logo de retorno, mas sem c√°lculos desnecess√°rios.  Se de alguma forma configuramos v√°rios grupos e agora estamos em algum tipo de c√©lula, precisamos descobrir se √© poss√≠vel colocar os demais grupos, come√ßando na c√©lula atual. </p><br><div class="spoiler">  <b class="spoiler_title">Pseudo c√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EpicWin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(group, cell)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cell &gt;= last_cell: <span class="hljs-comment"><span class="hljs-comment">#   return group == group_size win = False #        if group &lt; group_size #    and CanInsertBlack(cell, len[group]) #    and CanInsertWhite(cell + len[group], 1) #    and EpicWin(group + 1, cell + len[group] + 1): #    win = True can_place_black[cell .. (cell + len[group] - 1)] = True can_place_white[cell + len[group]] = True; #         if CanInsertWhite(cell, 1) and EpicWin(group, cell + 1): win = True can_place_white[cell] = True return win EpicWin(0, 0)</span></span></code> </pre> </div></div><br><p>  Essa abordagem √© chamada de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programa√ß√£o din√¢mica</a> .  O pseudoc√≥digo √© simplificado e at√© os valores calculados n√£o s√£o armazenados l√°. </p><br><p>  As <code>CanInsertBlack/CanInsertWhite</code> s√£o necess√°rias para verificar se √© teoricamente poss√≠vel colocar um grupo do tamanho certo no lugar certo.  Tudo o que eles precisam fazer √© verificar se n√£o h√° c√©lula ‚Äú100% branca‚Äù (para a primeira fun√ß√£o) ou ‚Äú100% preta‚Äù (para a segunda) no intervalo de c√©lulas indicado.  Para que eles possam trabalhar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-61"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-62" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> O (1) </script>  , isso pode ser feito usando valores parciais: </p><br><div class="spoiler">  <b class="spoiler_title">CanInsertBlack</b> <div class="spoiler_text"><pre> <code class="python hljs">white_counter = [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, ..., <span class="hljs-number"><span class="hljs-number">0</span></span> ] <span class="hljs-comment"><span class="hljs-comment">#   n def PrecalcWhite(): for i in range(0, (n-1)): if is_anyway_white[i]: # 1,  i-  100%  white_counter[i]++ if i &gt; 0: white_counter[i] += white_counter[i - 1] def CanInsertBlack(cell, len): #     [cell, cell + len - 1] ans = white_counter[cell + len - 1] if cell &gt; 0: ans -= white_counter[cell - 1] #  ans -     cell  (cell + len - 1) return ans == 0</span></span></code> </pre> </div></div><br><p>  A mesma feiti√ßaria com somas parciais aguarda uma linha do formul√°rio </p><br><pre> <code class="python hljs">can_place_black[cell .. (cell + len[group] - <span class="hljs-number"><span class="hljs-number">1</span></span>)] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Aqui podemos, em vez de <code>= True</code> aumentar o n√∫mero em 1. E se precisarmos fazer muitas adi√ß√µes em um segmento em uma determinada matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> array </script>  e, al√©m disso, n√£o usamos essa matriz antes de adi√ß√µes diferentes (eles dizem que essa tarefa foi "resolvida offline") e, em vez de um loop: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     for i in range(L, R + 1): array[i]++</span></span></code> </pre> <br><p>  Voc√™ pode fazer isso: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     array[L]++ array[R + 1]-- #    for i in range(1, n): array[i] += array[i - 1]</span></span></code> </pre> <br><p>  Assim, todo o algoritmo trabalha em <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> O (k * n) </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> k </script>  - o n√∫mero de grupos de c√©lulas negras, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> n </script>  √â o comprimento da string.  E vamos √† semifinal do ACM ICPC ou obtemos o bronze do interneur.  <a href="">Solu√ß√£o ACM (Java)</a> .  <a href="">Solu√ß√£o IOI (C ++)</a> . </p><br><h4 id="odna-stroka-mnogo-cvetov">  Uma linha, muitas cores </h4><br><p>  Quando mudamos para nonogramas multicoloridos, que ainda n√£o est√£o claros como resolver, aprendemos uma verdade terr√≠vel - acontece que todas as colunas s√£o magicamente afetadas por todas as colunas!  Isso √© mais claro atrav√©s de um exemplo: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6m/ve/_d/6mve_d8spu5wyqai1osmtppdgr8.png"></div><br><p>  <em>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todos para resolver palavras cruzadas em japon√™s</a></em> </p><br><p>  Enquanto os nonogramas de duas cores normalmente ficavam sem ele, eles n√£o precisavam olhar para os amigos ortogonais. <br>  A figura mostra que, no exemplo da esquerda, as tr√™s c√©lulas da extrema direita est√£o vazias, porque a configura√ß√£o √© interrompida se voc√™ colorir essas c√©lulas em <del>  aquelas cores nas quais voc√™ se pinta </del>  cor n√£o branca. </p><br><p>  Mas essa piada √© matematicamente decid√≠vel - cada c√©lula deve receber um n√∫mero, onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eu</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> i </script>  o i-√©simo bit significa se essa c√©lula pode ser fornecida <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eu</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> i </script>  ¬™ cor.  Inicialmente, todas as c√©lulas t√™m um valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-msubsup" id="MJXp-Span-85"><span class="MJXp-mn" id="MJXp-Span-86" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-87" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mn" id="MJXp-Span-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> 2 ^ {cores} - 1 </script>  .  A decis√£o da din√¢mica n√£o mudar√° muito. </p><br><p>  Voc√™ pode observar o seguinte efeito: no mesmo exemplo √† esquerda, de acordo com a vers√£o das linhas, a c√©lula na extremidade direita pode ter a cor azul ou branca. <br>  De acordo com a vers√£o das colunas, essa c√©lula tem a cor verde ou branca. <br>  De acordo com a vers√£o de senso comum, essa c√©lula ter√° apenas a cor branca.  E ent√£o continuamos a calcular a resposta. </p><br><p>  Se considerarmos o bit zero como "branco", o primeiro "azul", o segundo "verde", a linha calcular√° o estado da √∫ltima c√©lula <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mn" id="MJXp-Span-96"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">011</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> 011 </script>  e a coluna <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-97"><span class="MJXp-mn" id="MJXp-Span-98"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">101</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> 101 </script>  .  Isso significa que o estado dessa c√©lula √© real <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-99"><span class="noError" id="MJXp-Span-100" style="display: inline-block;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">011 \ &amp; 101 = 001</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> 011 \ & 101 = 001 </script></p><br><div class="spoiler">  <b class="spoiler_title">Pseudo c√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs">source = [...] <span class="hljs-comment"><span class="hljs-comment">#   result = [0, 0, ..., 0] #   len = [...] #    clrs = [...] #    def CanInsertColor(color, cell, len): for i in range(cell, cell + len): if (source[i] &amp; (1 &lt;&lt; color)) == 0: #     color    return False; return True def PlaceColor(color, cell, len): for i in range(cell, cell + len): result[i] |= (1 &lt;&lt; color) #   color  OR def EpicWinExtended(group, cell): if cell &gt;= last_cell: #   return group == group_size win = False #        if group &lt; group_size #    and CanInsertColor(clrs[group], cell, len[group]) #    and SequenceCheck() #       ,  #         and EpicWin(group + 1, cell + len[group]): #    win = True PlaceColor(clrs[group], cell, len[group]) PlaceColor(0, cell + len[group], 1) #   -    #         #   -  0 if CanInsertWhite(0, cell, 1) and EpicWinExtended(group, cell + 1): win = True PlaceColor(0, cell, 1) return win</span></span></code> </pre> </div></div><br><h4 id="mnogo-strok-mnogo-cvetov">  Muitas linhas, muitas cores </h4><br><p>  Fazendo constantemente a atualiza√ß√£o dos estados de todas as linhas e colunas, descritas no √∫ltimo par√°grafo, at√© que n√£o haja uma √∫nica c√©lula com mais de um bit.  Em cada itera√ß√£o, ap√≥s atualizar todas as linhas e colunas, atualizamos o estado de todas as c√©lulas nelas por meio de AND m√∫tuo. </p><br><h2 id="pervye-rezultaty">  Primeiros resultados </h2><br><p>  Suponha que n√£o escrevemos o c√≥digo como pica-paus, ou seja, n√£o copiamos objetos em lugar nenhum por engano, em vez de passarmos por refer√™ncia, n√£o inventamos bicicletas em lugar algum, n√£o inventamos bicicletas, para opera√ß√µes de bit usamos <code>__builtin_popcount</code> e <code>__builtin_ctz</code> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recursos do gcc</a> ), tudo √© limpo e arrumado. </p><br><p>  Vamos dar uma olhada na hora do programa, que l√™ o quebra-cabe√ßa do arquivo e o resolve completamente.  Vale a pena avaliar as vantagens da m√°quina na qual todas essas coisas foram escritas e testadas: </p><br><div class="spoiler">  <b class="spoiler_title">Especifica√ß√£o do motor para minha motocicleta cl√°ssica Harley Davidson Modelo B 1932</b> <div class="spoiler_text"><pre> <code class="bash hljs">RAM - 4GB  - AMD E1-2500,  1400MHz  L1 - 128KiB, 1GHz  L2 - 1MiB, 1GHz  - 2,  - 2   ¬´ SoC   ¬ª   2013    28 </code> </pre> </div></div><br><p>  √â claro que esse supercomputador foi escolhido porque as otimiza√ß√µes nele t√™m um efeito maior do que em uma m√°quina shaitan voadora. </p><br><p>  Portanto, depois de executar nosso algoritmo no mais complicado jogo de palavras cruzadas (de acordo com nonograms.ru), obtemos um resultado n√£o muito bom - de <strong>47</strong> a <strong>60</strong> segundos (isso inclui a leitura de um arquivo e uma solu√ß√£o).  Note-se que a "complexidade" no site foi bem calculada - as mesmas palavras cruzadas em todas as vers√µes do programa tamb√©m foram as mais dif√≠ceis, e outras palavras-chave mais complexas, na opini√£o do arquivo, foram mantidas em tempo integral. </p><br><div class="spoiler">  <b class="spoiler_title">Palavras cruzadas cor n√∫mero 9596, a maior dificuldade</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ar/7n/rx/ar7nrxtbzch1wk8bsihz0puldt8.png"></div></div></div><br><p>  Para testes r√°pidos, foi feita a funcionalidade do benchmark.  Para obter dados para ele, eu usei um script especial e os salvei em um formato que o programa entende.  Podemos supor que essas palavras cruzadas s√£o uma amostra aleat√≥ria; portanto, o benchmark mostraria valores m√©dios adequados.  Al√©m disso, o n√∫mero de algumas das palavras cruzadas mais "complexas" (tamb√©m as maiores em tamanho e n√∫mero de cores) foi registrado em um script para carregar canetas. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/xt/nd/oxxtnd1jdlth72q0zqnj3ic1kew.png"></div><br><h2 id="optimizaciya">  Otimiza√ß√£o </h2><br><p>  Aqui voc√™ pode ver as poss√≠veis t√©cnicas de otimiza√ß√£o que foram feitas (1) durante a grava√ß√£o de todo o algoritmo, (2) para reduzir o tempo de trabalho de meio minuto para uma fra√ß√£o de segundo, (3) as otimiza√ß√µes que podem ser √∫teis ainda mais. </p><br><h4 id="vo-vremya-napisaniya-algoritma">  No momento da escrita do algoritmo </h4><br><ul><li>  Fun√ß√µes especiais para opera√ß√µes de bit, no nosso caso <code>__builtin_popcount</code> para contar unidades em uma nota√ß√£o bin√°ria de um n√∫mero e <code>__builtin_ctz</code> para o n√∫mero de zeros antes da primeira unidade menor.  Tais fun√ß√µes podem n√£o aparecer em alguns compiladores.  Para o Windows, esses an√°logos s√£o adequados: </li></ul><br><div class="spoiler">  <b class="spoiler_title">Popcount do Windows</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _MSC_VER # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;intrin.h&gt; # define __builtin_popcount __popcnt #endif</span></span></span></span></code> </pre> </div></div><br><ul><li>  Organiza√ß√£o de matrizes - um tamanho menor √© o primeiro.  Por exemplo, √© melhor usar a matriz [2] [3] [500] [1024] do que [1024] [500] [3] [2]. </li><li>  O mais importante √© a adequa√ß√£o geral do c√≥digo e a preven√ß√£o de preocupa√ß√µes desnecess√°rias nos c√°lculos. </li></ul><br><h4 id="chto-umenshaet-vremya-raboty">  O que reduz o tempo de trabalho </h4><br><ul><li>  O sinalizador -O2 ao compilar. </li><li>  Para n√£o lan√ßar a linha / coluna completamente resolvida no algoritmo novamente, voc√™ pode definir os sinalizadores para cada linha em um std :: vector / array separado, marc√°-los com uma solu√ß√£o completa e n√£o deixar ir, se n√£o houver mais nada a resolver. </li><li>  As especificidades de uma solu√ß√£o de repeti√ß√£o m√∫ltipla de um problema din√¢mico sugerem que uma matriz especial que contenha sinalizadores marcando partes j√° "calculadas" do problema seja redefinida toda vez que uma nova solu√ß√£o for feita.  No nosso caso, esse √© um vetor / array bidimensional, em que a primeira dimens√£o √© o n√∫mero de grupos, a segunda √© a c√©lula atual (consulte o pseudoc√≥digo EpicWin acima, onde esse array n√£o √©, mas a id√©ia √© clara).  Em vez de zerar, voc√™ pode fazer isso - vamos ter uma vari√°vel "timer", e a matriz consiste em n√∫meros que mostram a √∫ltima "hora" em que essa pe√ßa foi recontada pela √∫ltima vez.  Ao iniciar uma nova tarefa, o "timer" aumenta em 1. Em vez de verificar o sinalizador booleano, voc√™ deve verificar a igualdade do elemento da matriz e o "timer".  Isso √© eficaz, especialmente nos casos em que longe de todos os estados poss√≠veis s√£o cobertos pelo algoritmo (o que significa que zerar a matriz "j√° consideramos isso" leva um bom tempo). </li><li>  Substituindo opera√ß√µes simples do mesmo tipo (loops com atribui√ß√£o, etc.) por an√°logos em STL ou coisas mais adequadas.  √Äs vezes, funciona mais r√°pido que uma bicicleta. </li><li>  <code>std::vector&lt;bool&gt;</code> em C ++ compacta todos os valores booleanos em bits individuais em n√∫meros, o que funciona no acesso um pouco mais lento do que se fosse um valor regular no endere√ßo.  Se um programa usa esses valores com muita frequ√™ncia, a substitui√ß√£o de bool por um tipo inteiro pode ter um bom efeito no desempenho. </li><li>  Outras fraquezas podem ser buscadas atrav√©s dos criadores de perfil e edit√°-las.  Eu mesmo uso o Valgrind, sua an√°lise de desempenho √© conveniente para examinar o kCachegrind.  Os criadores de perfil s√£o incorporados a muitos IDEs. </li></ul><br><p>  Essas edi√ß√µes foram suficientes para obter esses dados no benchmark: </p><br><div class="spoiler">  <b class="spoiler_title">Nonogramas coloridos</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/source2/ -e [2018-08-04 22:57:40.432] [Nonograms] [info] Starting a benchmark... [2018-08-04 22:58:03.820] [Nonograms] [info] Average time: 0.00497556, Median time: 0.00302781, Max time: 0.215925 [2018-08-04 22:58:03.820] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 22:58:03.820] [Nonograms] [info] 0.215925 seconds, file 9596 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.164579 seconds, file 4462 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.105828 seconds, file 15831 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.08827 seconds, file 18353 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0874717 seconds, file 10590 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0831248 seconds, file 4649 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0782811 seconds, file 11922 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0734325 seconds, file 4655 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.071352 seconds, file 10828 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0708263 seconds, file 11824</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Nonogramas em preto e branco</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/<span class="hljs-built_in"><span class="hljs-built_in">source</span></span>/ -e -b [2018-08-04 22:59:56.308] [Nonograms] [info] Starting a benchmark... [2018-08-04 23:00:09.781] [Nonograms] [info] Average time: 0.0095679, Median time: 0.00239274, Max time: 0.607341 [2018-08-04 23:00:09.781] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 23:00:09.781] [Nonograms] [info] 0.607341 seconds, file 5126 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.458932 seconds, file 19510 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.452245 seconds, file 5114 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.19975 seconds, file 18627 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.163028 seconds, file 5876 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.161675 seconds, file 17403 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.153693 seconds, file 12771 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.146731 seconds, file 5178 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.142732 seconds, file 18244 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.136131 seconds, file 19385</code> </pre> </div></div><br><p>  Voc√™ pode notar que, em m√©dia, as palavras cruzadas em preto e branco s√£o "mais dif√≠ceis" do que as coloridas.  Isso confirma as observa√ß√µes dos amantes de jogos, que tamb√©m acreditam que a "cor" √© resolvida em m√©dia com mais facilidade. </p><br><p>  Portanto, sem altera√ß√µes radicais (como reescrever todo o c√≥digo em C ou inser√ß√µes de assembler com chamada r√°pida e abaixar o ponteiro do quadro), voc√™ pode obter alto desempenho em um computador muito modesto.  O princ√≠pio de Pareto pode ser aplic√°vel √†s otimiza√ß√µes - verifica-se que a otimiza√ß√£o menor influencia fortemente, porque esse trecho de c√≥digo √© cr√≠tico e √© chamado com muita frequ√™ncia. </p><br><h4 id="dalneyshaya-optimizaciya">  Otimiza√ß√£o adicional </h4><br><p>  Os m√©todos a seguir podem melhorar muito o desempenho do programa.  Alguns deles n√£o funcionam em todos os casos, mas sob certas condi√ß√µes. </p><br><ul><li>  Reescrevendo o c√≥digo no estilo C e outros 1972.  Substitu√≠mos ifstream pelo equivalente anal√≥gico, vetores por arrays, aprendemos todas as op√ß√µes do compilador e lutamos por cada ciclo de clock do processador. </li><li>  Paraleliza√ß√£o.  Por exemplo, no c√≥digo, h√° uma parte em que as linhas s√£o atualizadas seq√ºencialmente e as colunas: </li></ul><br><div class="spoiler">  <b class="spoiler_title">bool Puzzle :: UpdateState (...)</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_rows, row_groups, row_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_cols, col_groups, col_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> </div></div><br><p>  Essas fun√ß√µes s√£o independentes umas das outras e n√£o possuem mem√≥ria compartilhada, exceto pelo solucionador de vari√°veis ‚Äã‚Äã(tipo OneLineSolver), para que voc√™ possa criar dois objetos do solucionador (aqui, obviamente, apenas um √© solucionador) e iniciar dois threads na mesma fun√ß√£o.  O efeito √© o seguinte: nas palavras cruzadas coloridas, o ‚Äúmais dif√≠cil‚Äù √© resolvido duas vezes mais r√°pido, em preto e branco o mesmo √© um ter√ßo mais r√°pido e o tempo m√©dio aumentou, devido ao custo relativamente alto da cria√ß√£o de threads. </p><br><p>  Mas, em geral, eu n√£o recomendaria faz√™-lo corretamente no programa atual e us√°-lo com calma - em primeiro lugar, criar threads √© uma opera√ß√£o cara, voc√™ n√£o deve constantemente criar threads para tarefas de microssegundos e, em segundo lugar, com alguma combina√ß√£o de argumentos do programa, os threads podem se referir a quais mem√≥ria externa, por exemplo, ao criar imagens de uma solu√ß√£o - isso deve ser levado em considera√ß√£o e protegido. </p><br><p>  Se a tarefa fosse s√©ria e eu tivesse muitos dados e m√°quinas com v√°rios n√∫cleos, iria ainda mais longe - voc√™ pode criar v√°rios encadeamentos constantes, cada um com seu pr√≥prio objeto OneLineSolver e outra estrutura segura de encadeamento que controla a distribui√ß√£o do trabalho e sob demanda fornece uma refer√™ncia para a pr√≥xima linha / coluna da solu√ß√£o.  Os threads ap√≥s resolver outro problema se voltam para a estrutura novamente para resolver outra coisa.  Em princ√≠pio, um problema de n√£o programa pode ser iniciado sem concluir o anterior, por exemplo, quando essa estrutura est√° envolvida no AND m√∫tuo de todas as c√©lulas, e ent√£o alguns fluxos s√£o livres e n√£o fazem nada.  Mais paralelismo pode ser feito na GPU via CUDA - h√° muitas op√ß√µes. </p><br><ul><li>  Usando estruturas de dados cl√°ssicas.  Observe que, quando mostrei o pseudoc√≥digo da solu√ß√£o para nonograms de cores, as fun√ß√µes CanInsertColor e PlaceColor n√£o funcionam de todo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-103" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-105" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> O (1) </script>  , diferentemente dos nonogramas em preto e branco.  Parece que isso em um programa: </li></ul><br><div class="spoiler">  <b class="spoiler_title">CanPlaceColor e SetPlaceColor</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> OneLineSolver::CanPlaceColor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; cells, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> color, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lbound, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rbound) { <span class="hljs-comment"><span class="hljs-comment">// Went out of the border if (rbound &gt;= cells.size()) { return false; } // We can paint a block of cells with a certain color if and only if it is // possible for all cells to have this color (that means, if every cell // from the block has color-th bit set to 1) int mask = 1 &lt;&lt; color; for (int i = lbound; i &lt;= rbound; ++i) { if (!(cells[i] &amp; mask)) { return false; } } return true; } void OneLineSolver::SetPlaceColor(int color, int lbound, int rbound) { // Every cell from the block now can have this color for (int i = lbound; i &lt;= rbound; ++i) { result_cells_[i] |= (1 &lt;&lt; color); } }</span></span></code> </pre> </div></div><br><p>  Ou seja, funciona para a linha, para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">O</span><span class="MJXp-mo" id="MJXp-Span-108" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">N</span><span class="MJXp-mo" id="MJXp-Span-110" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> O (N) </script>  (Posteriormente, haver√° uma explica√ß√£o do significado de um c√≥digo assim). </p><br><p>  Vamos ver como voc√™ pode obter a melhor complexidade.  Tome <code>CanPlaceColor</code> .  Esta fun√ß√£o verifica que entre todos os n√∫meros do vetor no segmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-111"><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">o</span><span class="MJXp-mo" id="MJXp-Span-122" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">o</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> [vinculado, vinculado] </script>  n√∫mero de bit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> cor </script>  definido como 1. Equivalente a isso, voc√™ pode <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">D</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> AND </script>  <strong>todos os</strong> n√∫meros deste segmento e verifique o n√∫mero do bit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> cor </script>  .  Usando o fato de que a opera√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">D</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> AND </script>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comutativa</a> , bem como soma, m√≠nimo / m√°ximo, produto ou opera√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">X</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> Xou </script>  , para contagem r√°pida <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-153"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">D</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> AND </script>        ,      . : </p><br><ol><li> SQRT-.  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">O</span><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-160"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28">O(\sqrt{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">O</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-166"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29">O(\sqrt{N})</script>  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> . </li><li>  .  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">O</span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">N</span><span class="MJXp-mi" id="MJXp-Span-173">log</span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">N</span></span><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-178"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">O</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-181">log</span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">N</span></span><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">O(\log{N})</script>  .    . </li><li>   (Sparse Table).  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-186"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">O</span><span class="MJXp-mo" id="MJXp-Span-188" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">N</span><span class="MJXp-mi" id="MJXp-Span-190">log</span><span class="MJXp-mo" id="MJXp-Span-191" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">N</span></span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">O</span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-198">1</span><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33">O(1)</script>  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . </li></ol><br><p>  ,      -   ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">O</span><span class="MJXp-mo" id="MJXp-Span-202" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">N</span><span class="MJXp-mo" id="MJXp-Span-204" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34">O(N)</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-205"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">O</span><span class="MJXp-mo" id="MJXp-Span-207" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-208">1</span><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">O(1)</script> )  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,  ,       <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-210"><span class="MJXp-mtext" id="MJXp-Span-211">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ varphi </script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-218"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">œÜ</span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">Œ±</span><span class="MJXp-mo" id="MJXp-Span-222" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">Œ≤</span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0.333em; margin-right: 0.333em;">‚àà</span><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">Œ±</span><span class="MJXp-mo" id="MJXp-Span-228" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">Œ≤</span><span class="MJXp-mo" id="MJXp-Span-230" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">\varphi(\alpha, \beta) \in \{\alpha, \beta\}</script> ,      ‚Äî    (,   ...) </p><br><p>   <code>SetPlaceColor</code> .       .      SQRT-       (  " ").         - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>      . </p><br><p>       -  ‚Äî     . </p><br><p> ,   ‚Äî <em></em>        ,    ?     : </p><br><ol><li>        .   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-231"><span class="MJXp-mi" id="MJXp-Span-232">log</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38">\log</script>    ,  ,    ‚Äî         (   magic number  ,     ). ,   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-233"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">N</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-236"><span class="MJXp-mn" id="MJXp-Span-237" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-238" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-239">5</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39">N=10^{5}</script> ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">O</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-243"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-245" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-246" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40">O(N^2)</script>    10 ,    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">O</span><span class="MJXp-mo" id="MJXp-Span-249" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">N</span><span class="MJXp-mi" id="MJXp-Span-251">log</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">N</span></span><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41">O(N\log{N})</script>   0.150 ,        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-256"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> N </script> ,     .  ,            ( ): <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-258"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">O</span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">N</span><span class="MJXp-msqrt" id="MJXp-Span-262"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43">O(N\sqrt{N})</script> versus <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">O</span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">N</span><span class="MJXp-msubsup" id="MJXp-Span-269"><span class="MJXp-mi" id="MJXp-Span-270" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-271" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">N</span></span><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">O(N\log^2{N})</script>  .    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> N </script> ( )   ‚Äî    15-30. </li><li>     ,         . </li></ol><br><p>     ‚Äî                  ,      -   ‚Äî   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> N </script>      ,    .     ,        ~25%  ~11%  ,          .     -      ,  ,        ,          . </p><br><p>        ‚Äî      ,        .     . </p><br><ul><li>  .   ,            ,   - .       :   ,        ,        ""  ? ,      ,    !       .      ,       . </li><li>    (,     1337    1000x1000)   .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">std::bitset</a> ,   ‚Äî    ,   . </li></ul><br><p>  ,    . ""          .      ,         C++ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rope</a> ,       ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> hashtable</a> ,   3-6    /   4-10   /,  unordered_map.         ,   boost. </p><br><h2 id="rofl-omitting-format-language"> ROFL Omitting Format Language </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/vp/jm/rcvpjmbinhow4aakwya-xgt3rm4.png"></div><br><p>         ,           ,       ,       -. </p><br><p> ROFL ‚Äî  ,   "GNU's Not Unix". ,    ,       ,  ,   ,    .    Omitting   ‚Äî          (, ,     :          ‚Äî   ). </p><br><p> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Matroska</a> ‚Äî    4  [52][4F][46][4C],         ,   ,  ,   3 ,      ‚Äî ,    . </p><br><p>  ,  MIT,    ‚Äî   ,  . </p><br><h2 id="ishodniki">  </h2><br><p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> .      ,    ,     (,         ).    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Magick++</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">args</a> . </p><br><p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,    (    ).    nonograms.ru      ,    ,             . </p><br><p>      nonograms.ru  .. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">KyberPrizrak</a> ,   ,          ,       !         nonograms.ru,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/es/zg/il/eszgil8btd-jjgaszlinfz2oodm.png"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418069/">https://habr.com/ru/post/pt418069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418057/index.html">‚ÄúAprenda, estude e estude novamente‚Äù: as principais confer√™ncias deste outono para desenvolvedores m√≥veis</a></li>
<li><a href="../pt418059/index.html">OpenSource APM Pinpoint</a></li>
<li><a href="../pt418063/index.html">O Intel Core i7-8086K (parte 4)</a></li>
<li><a href="../pt418065/index.html">2018 MBLT DEV Conference News: Faixa para Android</a></li>
<li><a href="../pt418067/index.html">Como prototipar aplicativos rapidamente com uma grade CSS e vari√°veis ‚Äã‚ÄãCSS</a></li>
<li><a href="../pt418071/index.html">Setor de TI para o povo: TechTrain Festival em S√£o Petersburgo</a></li>
<li><a href="../pt418075/index.html">As 5 principais coisas que podem ser impressas em uma impressora 3D [v√≠deo]</a></li>
<li><a href="../pt418077/index.html">Acidentes de ‚Äún√£o assista‚Äù: uma justificativa estat√≠stica para o modo operacional de suporte t√©cnico 24/7</a></li>
<li><a href="../pt418079/index.html">As linguagens de programa√ß√£o mais populares - 2018</a></li>
<li><a href="../pt418081/index.html">Organiza√ß√£o de testes seguros na produ√ß√£o. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>