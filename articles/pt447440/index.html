<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèæ‚Äçü§ù‚Äçüßëüèº üòï üëÇüèº RBKmoney Payments under the hood - a l√≥gica da plataforma de pagamento ‚õ≤Ô∏è üïû ü§πüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Continuo publicando o ciclo sobre o interior da plataforma de pagamento RBK.money, iniciada neste post . Hoje falaremos sobre o esquema de p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RBKmoney Payments under the hood - a l√≥gica da plataforma de pagamento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rbkmoney/blog/447440/"><p><img src="https://habrastorage.org/webt/ao/li/cv/aolicvi50stowouvsmwppnyc7qk.jpeg"></p><br><p>  Ol√° Habr!  Continuo publicando o ciclo sobre o interior da plataforma de pagamento RBK.money, iniciada neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post</a> .  Hoje falaremos sobre o esquema de processamento l√≥gico, microsservi√ßos espec√≠ficos e seu relacionamento um com o outro, como os servi√ßos que processam cada parte da l√≥gica de neg√≥cios s√£o separados logicamente, por que o n√∫cleo de processamento n√£o sabe nada sobre os n√∫meros de seus cart√µes de pagamento e como os pagamentos s√£o executados dentro da plataforma.  Al√©m disso, um pouco mais detalhadamente, revelarei o t√≥pico de como fornecemos alta disponibilidade e dimensionamento para lidar com altas cargas. </p><a name="habracut"></a><br><h2 id="obzornaya-logicheskaya-shema-i-obschie-podhody">  L√≥gica geral e abordagens gerais </h2><br><p>  Em geral, o esquema dos elementos b√°sicos da parte do processamento respons√°vel pelos pagamentos √© semelhante a esse. </p><br><p><img src="https://habrastorage.org/webt/r8/ee/bz/r8eebzud9-g1muc_xguixpokwfc.png"></p><br><p>  Logicamente, dentro de n√≥s mesmos, dividimos as √°reas de responsabilidade em tr√™s dom√≠nios: </p><br><ul><li>  zona externa, entidades que est√£o na Internet, como aplicativos JS do nosso formul√°rio de pagamento (voc√™ digita os detalhes do seu cart√£o), back-end de nossos clientes comerciais, al√©m de gateways de processamento de nossos bancos parceiros e fornecedores de outros m√©todos de pagamento; </li><li>  uma zona interna altamente acess√≠vel, os microsservi√ßos vivem l√°, que fornecem diretamente o trabalho do gateway de pagamento e gerenciam o d√©bito de dinheiro, levando-os em considera√ß√£o em nosso sistema e outros servi√ßos on-line, caracterizados pelo requisito "sempre deve estar dispon√≠vel, apesar de qualquer falha em nossos CDs"; <br><ul><li>  existe uma √°rea separada de servi√ßos que trabalha diretamente com os dados completos dos titulares de cart√£o, e esses servi√ßos t√™m requisitos separados apresentados pelo Minist√©rio das Ferrovias e sujeitos a certifica√ß√£o obrigat√≥ria sob os padr√µes PCI-DSS.  Explicaremos mais detalhadamente por que essa separa√ß√£o abaixo; </li></ul></li><li>  a zona interna, onde existem requisitos menores para a disponibilidade dos servi√ßos prestados ou o tempo de resposta, no sentido cl√°ssico - esse √© um back office.  Embora, √© claro, aqui tamb√©m tentemos garantir o princ√≠pio de ‚Äúsempre dispon√≠vel‚Äù, apenas gastamos menos esfor√ßo nisso; </li></ul><br><p> Dentro de cada zona, existem microsservi√ßos que executam suas partes do processamento da l√≥gica de neg√≥cios.  Eles recebem chamadas RPC na entrada e na sa√≠da, geram dados processados ‚Äã‚Äãusando algoritmos incorporados, que tamb√©m s√£o executados como chamadas de outros microsservi√ßos ao longo da cadeia. </p><br><p>  Para garantir escalabilidade, tentamos armazenar estados no menor n√∫mero de lugares poss√≠vel.  Os servi√ßos sem estado no diagrama n√£o t√™m conex√µes com armazenamentos persistentes, com estado, respectivamente, est√£o conectados a eles.  Em geral, usamos v√°rios servi√ßos limitados para armazenamento de estado persistente - para a parte principal do processamento, esses s√£o clusters Riak KV, para servi√ßos relacionados - PostgreSQL, para processamento de fila ass√≠ncrona que usamos Kafka. </p><br><p>  Para garantir alta disponibilidade, implantamos servi√ßos em v√°rias inst√¢ncias, geralmente de 3 a 5. </p><br><p>  √â f√°cil dimensionar servi√ßos sem estado, simplesmente aumentamos o n√∫mero de inst√¢ncias que precisamos em diferentes m√°quinas virtuais, elas est√£o registradas no Consul, est√£o dispon√≠veis para resolu√ß√£o atrav√©s do DNS do console e come√ßam a receber chamadas de outros servi√ßos, processando os dados recebidos e enviando-os ainda mais. </p><br><p>  Os servi√ßos com estado, ou melhor, √© o principal e mostrado no diagrama como metralhadora, implementam uma interface altamente acess√≠vel (a arquitetura distribu√≠da √© baseada na distribui√ß√£o Erlang) e a sincroniza√ß√£o via Consul KV √© usada para garantir o enfileiramento e o bloqueio distribu√≠do.  Esta √© uma descri√ß√£o curta e detalhada estar√° em um post separado. </p><br><p>  Pronto para uso, o Riak fornece um armazenamento masterless persistente altamente acess√≠vel, n√£o o preparamos de forma alguma, a configura√ß√£o est√° quase no padr√£o.  Com o perfil de carregamento atual, temos 5 n√≥s no cluster implantados em hosts separados.  Uma observa√ß√£o importante - praticamente n√£o usamos √≠ndices e grandes amostras de dados, trabalhamos com chaves espec√≠ficas. </p><br><p>  Onde √© muito caro implementar o esquema KV, usamos os bancos de dados PostgeSQL com replica√ß√£o ou at√© solu√ß√µes monomodo, pois sempre podemos fazer o upload dos eventos necess√°rios no caso de uma falha da parte online via Machinegun. </p><br><p>  A separa√ß√£o de cores dos microsservi√ßos no diagrama indica os idiomas em que s√£o gravados - verde claro - esses s√£o aplicativos Java, azul claro - Erlang. </p><br><p>  Todos os servi√ßos funcionam em cont√™ineres Docker, que s√£o artefatos de constru√ß√£o de IC e est√£o localizados no Docker Registry local.  Implanta servi√ßos na produ√ß√£o SaltStack, cuja configura√ß√£o est√° no reposit√≥rio privado do Github. </p><br><p>  Os desenvolvedores solicitam mudan√ßas de forma independente neste reposit√≥rio, onde descrevem os requisitos para o servi√ßo - indicam a vers√£o e os par√¢metros desejados, como o tamanho da mem√≥ria alocada para o cont√™iner, transferidos para vari√°veis ‚Äã‚Äãde ambiente e outras coisas.  Al√©m disso, ap√≥s a confirma√ß√£o manual da solicita√ß√£o de altera√ß√£o por funcion√°rios autorizados (temos DevOps, suporte e seguran√ßa da informa√ß√£o), o CD lan√ßa automaticamente as inst√¢ncias do cont√™iner com as novas vers√µes para os hosts do ambiente do produto. </p><br><p><img src="https://habrastorage.org/webt/31/ec/iy/31eciyvgovypqogaegextoyyuf0.jpeg"></p><br><p>  Al√©m disso, cada servi√ßo grava logs em um formato compreens√≠vel para o Elasticsearch.  Os arquivos de log s√£o selecionados pelo Filebeat, que os grava no cluster Elasticsearch.  Portanto, apesar de os desenvolvedores n√£o terem acesso ao ambiente do produto, eles sempre t√™m a oportunidade de depurar e ver o que acontece com seus servi√ßos. </p><br><h2 id="vzaimodeystvie-s-vneshnim-mirom">  Intera√ß√£o com o mundo exterior </h2><br><p><img src="https://habrastorage.org/webt/nd/wp/lw/ndwplwol-avyp6uixovsla-otfq.jpeg"></p><br><p>  Qualquer altera√ß√£o no estado da plataforma conosco ocorre exclusivamente atrav√©s de chamadas para os m√©todos correspondentes de APIs p√∫blicas.  Na verdade, n√£o usamos aplicativos da Web cl√°ssicos e gera√ß√£o de conte√∫do no servidor; tudo o que voc√™ v√™ como interface do usu√°rio s√£o visualiza√ß√µes JS em nossas APIs p√∫blicas.  Em princ√≠pio, qualquer a√ß√£o na plataforma pode ser executada com uma cadeia de chamadas curl do console, que usamos.  Em particular, para escrever testes de integra√ß√£o (n√≥s os escrevemos em JS como uma biblioteca), que no CI, durante cada montagem, verifica todos os m√©todos p√∫blicos. </p><br><p>  Al√©m disso, essa abordagem resolve todos os problemas de integra√ß√£o externa com nossa plataforma, permitindo que voc√™ obtenha um √∫nico protocolo para o usu√°rio final na forma de uma bela forma de inserir dados de pagamento e host-to-host para integra√ß√£o direta com processamento de terceiros usando exclusivamente a intera√ß√£o entre servidores. </p><br><p>  Al√©m da cobertura completa dos testes de integra√ß√£o, usamos as abordagens de atualiza√ß√£o tempor√°ria; em uma arquitetura distribu√≠da, √© bastante f√°cil fazer isso, por exemplo, lan√ßando apenas um servi√ßo de cada grupo em uma passagem, seguido de uma pausa e an√°lise de logs e gr√°ficos. </p><br><p>  Isso nos permite implantar quase o tempo todo, incluindo as noites de sexta-feira, lan√ßar algo inoperante sem muito medo ou retroceder rapidamente, fazendo com que uma revers√£o simples seja confirmada com uma altera√ß√£o, at√© que ningu√©m perceba. </p><br><h2 id="registraciya-v-platforme-i-publichnye-api">  Registro de plataforma e APIs p√∫blicas </h2><br><p><img src="https://habrastorage.org/webt/tw/m4/0l/twm40lykiloaelwx8elbj6shjge.jpeg"></p><br><p>  Antes de qualquer chamada ao m√©todo p√∫blico, precisamos autorizar e autenticar o cliente.  Para que um cliente apare√ßa na plataforma, voc√™ precisa de um servi√ßo que cuide de toda a intera√ß√£o com o usu√°rio final, forne√ßa interfaces para registrar, inserir e redefinir senhas, controle de seguran√ßa e outras liga√ß√µes. </p><br><p>  Aqui, n√£o inventamos uma bicicleta, apenas integramos a solu√ß√£o de c√≥digo aberto da Redhat - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Keycloak</a> .  Antes de iniciar qualquer intera√ß√£o conosco, voc√™ precisar√° se registrar na plataforma, o que, de fato, acontece atrav√©s do Keycloak. </p><br><p>  Ap√≥s a autentica√ß√£o bem-sucedida no servi√ßo, o cliente recebe um JWT.  N√≥s o usaremos posteriormente para autoriza√ß√£o - no lado Keycloak, voc√™ pode especificar campos arbitr√°rios que descrevem fun√ß√µes que ser√£o incorporadas como uma estrutura json simples no JWT e assinadas com a chave privada do servi√ßo. </p><br><p>  <em>Uma das caracter√≠sticas do JWT √© que essa estrutura √© assinada pela chave privada do servidor; portanto, para autorizar a lista de fun√ß√µes e seus outros objetos, n√£o precisamos acessar o servi√ßo de autoriza√ß√£o, o processo √© completamente dissociado.</em>  <em>Os servi√ßos CAPI na inicializa√ß√£o leem a chave p√∫blica Keycloak e a utilizam para autorizar chamadas para m√©todos de API p√∫blica.</em> </p><br><p>  <em>Como criamos o principal esquema de revoga√ß√£o, a hist√≥ria √© separada e digna de seu pr√≥prio post.</em> </p><br><p>  Assim, recebemos o JWT, podemos us√°-lo para autentica√ß√£o.  Aqui o grupo de APIs comuns de microsservi√ßos entra em cena, no diagrama indicado como CAPI e CAPI-DSS, implementando as seguintes fun√ß√µes: </p><br><ul><li>  autoriza√ß√£o de mensagens recebidas.  Cada chamada p√∫blica da API √© precedida por um cabe√ßalho HTTP Authorizaion: Bearer {JWT}.  Os servi√ßos do grupo API Comum o utilizam para verificar os dados assinados com a chave p√∫blica existente do servi√ßo de autoriza√ß√£o; </li><li>  valida√ß√£o dos dados recebidos.  Como o esquema √© descrito como uma especifica√ß√£o OpenAPI, tamb√©m conhecida como Swagger, a valida√ß√£o de dados pode ser muito f√°cil e com poucas chances de receber comandos de controle no fluxo de dados.  Isso tem um efeito positivo na seguran√ßa do servi√ßo como um todo; </li><li>  tradu√ß√£o de formatos de dados de JSON REST p√∫blico para Thrift bin√°rio interno; </li><li>  enquadrando a liga√ß√£o de transporte com dados como um trace_id exclusivo e passando o evento ainda mais dentro da plataforma para um servi√ßo que gerencia a l√≥gica de neg√≥cios e sabe o que √©, por exemplo, o pagamento. </li></ul><br><p>  Temos muitos desses servi√ßos, eles s√£o bastante simples e o carvalho, n√£o armazena nenhum estado; portanto, para o dimensionamento linear do desempenho, simplesmente os implantamos em capacidades livres nas quantidades necess√°rias. </p><br><h3 id="pci-dss-i-otkrytye-kartochnye-dannye">  PCI-DSS e dados abertos do cart√£o </h3><br><p><img src="https://habrastorage.org/webt/ak/fh/x-/akfhx-regosuv_tbadtr-x2p6uo.jpeg"></p><br><p>  Como voc√™ pode ver no diagrama, temos dois desses grupos de servi√ßos - o principal, a API comum, √© respons√°vel pelo processamento de todos os fluxos de dados que n√£o possuem dados abertos do titular do cart√£o e o segundo, a API comum do PCI-DSS, que trabalha diretamente com esses cart√µes.  No interior, eles s√£o exatamente iguais, mas n√≥s os separamos fisicamente e os organizamos em diferentes peda√ßos de ferro. </p><br><p>  Isso √© feito para minimizar o n√∫mero de locais para armazenamento e processamento de dados do cart√£o, reduzir os riscos de vazamento desses dados e da √°rea de certifica√ß√£o PCI-DSS.  E isso, acredite, √© um processo bastante demorado e caro - como empresa de pagamento, somos obrigados a receber uma certifica√ß√£o paga para conformidade com os padr√µes MPS a cada ano, e quanto menos servidores e servi√ßos envolvidos nele, mais r√°pido e f√°cil √© concluir esse processo.  Bem, na seguran√ßa, isso se reflete da maneira mais positiva. </p><br><h2 id="obrabotka-platezhnyh-dannyh-i-tokenizaciya">  Faturamento e tokeniza√ß√£o </h2><br><p><img src="https://habrastorage.org/webt/2y/ya/cm/2yyacmg2lhhzmvnbjv0azaei8gi.jpeg"></p><br><p>  Portanto, queremos iniciar o pagamento e cancelar o dinheiro do cart√£o do pagador. </p><br><p>  Imagine que a solicita√ß√£o para isso veio na forma de uma cadeia de chamadas para os m√©todos de nossa API p√∫blica, que foi iniciada por voc√™ como pagador depois de acessar a loja on-line, coletar uma cesta de mercadorias, clicar em "Comprar", inserir os detalhes do cart√£o em nosso pagamento e clique no bot√£o "Pagar". </p><br><p>  <em>Fornecemos v√°rios processos de neg√≥cios para baixa de dinheiro, mas o mais interessante √© o processo usando contas a pagar.</em>  <em>Em nossa plataforma, voc√™ pode criar uma fatura para pagamento ou uma fatura que ser√° um cont√™iner para pagamentos.</em> </p><br><p>  <em>Em uma fatura, voc√™ pode tentar pag√°-la uma a uma, ou seja, criar pagamentos at√© o pr√≥ximo pagamento ser bem-sucedido.</em>  <em>Por exemplo, voc√™ pode tentar pagar uma fatura de diferentes cart√µes, carteiras e outros m√©todos de pagamento.</em>  <em>Se n√£o houver dinheiro em um dos cart√µes, voc√™ pode tentar outro e assim por diante.</em> </p><br><p>  <em>Isso tem um efeito positivo na convers√£o e na experi√™ncia do usu√°rio.</em> </p><br><h3 id="konechnyy-avtomat-invoysa">  M√°quina do estado da fatura </h3><br><p><img src="https://habrastorage.org/webt/gh/u0/ld/ghu0ld9cimq5z13mc1blstsuycy.jpeg"></p><br><p>  Dentro da plataforma, essa cadeia se transforma em intera√ß√µes ao longo da seguinte rota: </p><br><ul><li>  Antes de entregar o conte√∫do ao seu navegador, nosso cliente-comerciante se integrou √† nossa plataforma, registrou-se conosco e recebeu um JWT para autoriza√ß√£o; </li><li>  a partir de seu back-end, o comerciante chamou o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todo createInvoice ()</a> , ou seja, ele criou uma fatura para pagamento em nossa plataforma.  De fato, o back-end do comerciante enviou uma solicita√ß√£o HTTP POST do seguinte conte√∫do ao nosso endpoint: </li></ul><br><pre><code class="bash hljs">curl -X POST \ https://api.rbk.money/v2/processing/invoices \ -H <span class="hljs-string"><span class="hljs-string">'Authorization: Bearer {JWT}'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'Content-Type: application/json; charset=utf-8'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'X-Request-ID: 1554417367'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'cache-control: no-cache'</span></span> \ -d <span class="hljs-string"><span class="hljs-string">'{ "shopID": "TEST", "dueDate": "2019-03-28T17:41:32.569Z", "amount": 6000, "currency": "RUB", "product": "Order num 12345", "description": "Delicious meals", "cart": [ { "price": 5000, "product": "Sandwich", "quantity": 1, "taxMode": { "rate": "10%", "type": "InvoiceLineTaxVAT" } }, { "price": 1000, "product": "Cola", "quantity": 1, "taxMode": { "rate": "18%", "type": "InvoiceLineTaxVAT" } } ], "metadata": { "order_id": "Internal order num 13123298761" } }'</span></span></code> </pre> <br><p>  A solicita√ß√£o foi equilibrada em um dos aplicativos erlang do grupo Common API, que verificou sua validade, foi para o servi√ßo Bender, onde recebeu a chave de idempot√™ncia, transferiu-a para a plataforma e enviou uma solicita√ß√£o ao grupo de servi√ßos Hellgate.  A inst√¢ncia do Hellgate realizou verifica√ß√µes comerciais, por exemplo, para garantir que o propriet√°rio desse JWT n√£o seja bloqueado em princ√≠pio, possa criar faturas e geralmente interagir com a plataforma e come√ßar a criar uma fatura. </p><br><p>  <em>Podemos dizer que o Hellgate √© o n√∫cleo do nosso processamento, j√° que √© ele quem opera com entidades comerciais, sabe como lan√ßar um pagamento, quem precisa ser chutado para que esse pagamento se transforme em uma cobran√ßa em dinheiro real, como calcular a rota desse pagamento, quem deve ser instru√≠do a cancelar o pagamento refletidos nos balan√ßos, calcule as comiss√µes e outras obriga√ß√µes.</em> </p><br><p>  <em>Normalmente, ele tamb√©m n√£o armazena nenhum estado e tamb√©m √© facilmente escal√°vel.</em>  <em>Mas n√£o queremos perder a fatura ou receber uma cobran√ßa dupla em dinheiro no cart√£o no caso de uma divis√£o da rede ou falha do Hellgate por qualquer motivo.</em>  <em>√â necess√°rio salvar persistentemente esses dados.</em> </p><br><p>  A√≠ vem o terceiro microsservi√ßo, a metralhadora.  O Hellgate envia √† Machinegun uma chamada para "criar um aut√¥mato" com uma carga √∫til na forma de par√¢metros de consulta.  Metralhadora organiza solicita√ß√µes simult√¢neas e, usando o Hellgate, cria o primeiro evento a partir dos par√¢metros - InvoiceCreated.  Que ent√£o ele mesmo e escreve em Riak e filas.  Depois disso, uma resposta bem-sucedida √© retornada na ordem inversa √† solicita√ß√£o inicial na cadeia. </p><br><p>  <em>Em resumo, o Machinegun √© um DBMS com timers sobre qualquer outro DBMS, na vers√£o atual da plataforma - sobre o Riak.</em>  <em>Ele fornece uma interface que permite controlar m√°quinas independentes e fornece garantias de idempot√™ncia e ordem de grava√ß√£o.</em>  <em>√â MG que n√£o permitir√° que o evento seja gravado automaticamente da fila se v√°rios HGs chegarem a ele de repente com essa solicita√ß√£o.</em> </p><br><p>  <em>Um aut√¥mato √© uma entidade exclusiva dentro da plataforma, composta por um identificador, um conjunto de dados na forma de uma lista de eventos e um cron√¥metro.</em>  <em>O estado final do aut√¥mato √© calculado a partir do processamento de todos os seus eventos que iniciam sua transi√ß√£o para o estado correspondente.</em>  <em>Usamos essa abordagem para trabalhar com entidades comerciais, descrevendo-as como m√°quinas de estados finitos.</em>  <em>De fato, todas as faturas criadas por nossos comerciantes, bem como os pagamentos nelas, s√£o m√°quinas de estados finitos com sua pr√≥pria l√≥gica de transi√ß√£o entre estados.</em> </p><br><p>  <em>A interface para trabalhar com temporizadores no Machinegun permite que voc√™ receba uma solicita√ß√£o do formul√°rio "Desejo continuar processando esta m√°quina em 15 anos" de outro servi√ßo, juntamente com eventos para grava√ß√£o.</em>  <em>Essas tarefas pendentes s√£o implementadas em timers internos.</em>  <em>Na pr√°tica, eles s√£o usados ‚Äã‚Äãcom muita frequ√™ncia - chamadas peri√≥dicas ao banco, a√ß√µes autom√°ticas com pagamentos devido √† inatividade prolongada, etc.</em> </p><br><p>  <em>A prop√≥sito, os c√≥digos-fonte de metralhadora est√£o abertos sob a licen√ßa Apache 2.0 em nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reposit√≥rio p√∫blico</a> .</em>  <em>Esperamos que este servi√ßo possa ser √∫til √† comunidade.</em> </p><br><p>  <em>Uma descri√ß√£o detalhada do trabalho da Metralhadora e, em geral, como preparamos o sistema de distribui√ß√£o, √© puxada para um grande poste separado, para que eu n√£o pare aqui com mais detalhes.</em> </p><br><h3 id="nyuansy-avtorizacii-vneshnih-klientov">  As nuances da autoriza√ß√£o de clientes externos </h3><br><p><img src="https://habrastorage.org/webt/-l/4v/zo/-l4vzorvyofnp2f4cb9xq6n3oky.jpeg"></p><br><p>  Ap√≥s um salvamento bem-sucedido, o Hellgate retorna os dados para o CAPI, ele converte a estrutura de desvio bin√°rio em um JSON lindamente projetado, pronto para ser enviado ao backend do comerciante: </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"invoice"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"amount"</span></span>: <span class="hljs-number"><span class="hljs-number">6000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cart"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"cost"</span></span>: <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sandwich"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxMode"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"rate"</span></span>: <span class="hljs-string"><span class="hljs-string">"10%"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"InvoiceLineTaxVAT"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"cost"</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cola"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxMode"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"rate"</span></span>: <span class="hljs-string"><span class="hljs-string">"18%"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"InvoiceLineTaxVAT"</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"createdAt"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-04-04T23:00:31.565518Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"currency"</span></span>: <span class="hljs-string"><span class="hljs-string">"RUB"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Delicious meals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dueDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-04-05T00:00:30.889000Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"18xtygvzFaa"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"metadata"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"order_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"Internal order num 13123298761"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Order num 12345"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shopID"</span></span>: <span class="hljs-string"><span class="hljs-string">"TEST"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"status"</span></span>: <span class="hljs-string"><span class="hljs-string">"unpaid"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"invoiceAccessToken"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"payload"</span></span>: <span class="hljs-string"><span class="hljs-string">"{JWT}"</span></span> } }</code> </pre> <br><p>  Parece que voc√™ pode enviar conte√∫do ao pagador no navegador e iniciar o processo de pagamento, mas aqui pensamos que nem todos os comerciantes estariam prontos para implementar de forma independente a autoriza√ß√£o no lado do cliente, por isso n√≥s mesmos o implementamos.  A abordagem √© que o CAPI gera outro JWT que permite iniciar os processos de tokeniza√ß√£o do cart√£o, gerenciar uma fatura espec√≠fica e adicion√°-la √† estrutura da fatura retornada. </p><br><p>  Um exemplo das fun√ß√µes descritas em um JWT semelhante: </p><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"resource_access"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"common-api"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"roles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa.payments:read"</span></span>, <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa.payments:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa:read"</span></span>, <span class="hljs-string"><span class="hljs-string">"payment_resources:write"</span></span> ] } }</code> </pre> <br><p>  Esse JWT tem um n√∫mero limitado de tentativas de uso e a vida √∫til que configuramos, o que permite a publica√ß√£o no navegador do pagador.  Mesmo se for interceptado, o m√°ximo que um invasor pode fazer √© pagar pela fatura de outra pessoa ou ler seus dados.  Al√©m disso, como a m√°quina de pagamento n√£o opera com dados abertos do cart√£o, o m√°ximo que um invasor pode ver √© um n√∫mero de cart√£o mascarado do tipo <code>4242 42** **** 4242</code> , o valor do pagamento e, opcionalmente, uma cesta de mercadorias. </p><br><p>  A fatura criada e a chave de acesso permitem iniciar o processo de neg√≥cios de pagamento.  Fornecemos o ID da fatura e seu JWT ao navegador pagador e transferimos o controle para nossos aplicativos JS. </p><br><p>  Nosso aplicativo Checkout JS implementa uma interface para interagir com voc√™ como pagador - desenha um formul√°rio de entrada de dados de pagamento, inicia um pagamento, recebe seu status final, mostra um ponto engra√ßado ou triste. </p><br><h3 id="tokenizaciya-i-kartochnye-dannye">  Tokeniza√ß√£o e dados do cart√£o </h3><br><p><img src="https://habrastorage.org/webt/gq/1d/gb/gq1dgbxkq1ewsfohsytcdvnotzs.jpeg"></p><br><p>  Mas o Google Checkout n√£o funciona com dados do cart√£o.  Como mencionado acima, queremos armazenar dados confidenciais na forma de dados do titular do cart√£o no menor n√∫mero poss√≠vel de lugares.  Para fazer isso, implementamos a tokeniza√ß√£o. </p><br><p>  √â aqui que a biblioteca JS do Tokenizer entra em cena.  Quando voc√™ insere seu cart√£o nos campos de entrada e clica em "Pagar", ele intercepta esses dados e os envia de forma ass√≠ncrona para processamento, chamando o m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">createPaymentResource ()</a> . </p><br><p>  Essa solicita√ß√£o √© equilibrada para aplicativos CAPI-DSS individuais, que tamb√©m autorizam a solicita√ß√£o, apenas verificando a JWT da fatura, validando os dados e enviando-os por tront ao servi√ßo de armazenamento de dados do cart√£o.  No diagrama, √© indicado como CDS - Cart√£o de armazenamento de dados. </p><br><p>  Os principais objetivos deste servi√ßo: </p><br><ul><li>  receber dados confidenciais em uma entrada, no nosso caso - dados do seu cart√£o; </li><li>  criptografar esses dados com uma chave de criptografia de dados; </li><li>  gerar algum valor aleat√≥rio usado como chave; </li><li>  salve os dados criptografados nessa chave no seu cluster Riak; </li><li>  retorne a chave na forma de um token de dados de pagamento para o servi√ßo CAPI-DSS. </li></ul><br><p>  Ao longo do caminho, o servi√ßo resolve v√°rias tarefas importantes, como gerar chaves para criptografar chaves, inserir essas chaves com seguran√ßa, criptografar dados, controlar o apagamento do CVV ap√≥s o pagamento e assim por diante, mas isso est√° al√©m do escopo desta publica√ß√£o. </p><br><p>  <em>N√£o foi sem prote√ß√£o contra a possibilidade de dar um tiro no pr√≥prio p√©.</em>  <em>H√° uma probabilidade diferente de zero de que uma JWT privada, projetada para autorizar solicita√ß√µes do back-end, seja publicada na Web no navegador do cliente.</em>  <em>Para evitar que isso aconte√ßa, criamos uma prote√ß√£o - voc√™ pode chamar o m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">createPaymentResource ()</a> apenas com a chave de autoriza√ß√£o da fatura.</em>  <em>Ao tentar usar uma plataforma JWT privada, retornar√° um erro HTTP / 401.</em> </p><br><p>  Depois de concluir a solicita√ß√£o de tokeniza√ß√£o, o Tokenizer retorna o token recebido ao Checkout e termina seu trabalho. </p><br><h3 id="biznes-process-platezhnogo-avtomata">  Processo de neg√≥cios da m√°quina de pagamento </h3><br><p><img src="https://habrastorage.org/webt/ai/9s/7j/ai9s7jsxfzkuoume64zcw_chcks.png"></p><br><p>  O checkout inicia o processo de pagamento, ou seja, chama o m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">createPayment ()</a> , passando o token do cart√£o recebido anteriormente como argumento e inicia o processo de pesquisa de eventos, na verdade, chamando o m√©todo da API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getInvoiceEvents ()</a> uma vez por segundo. </p><br><p>  Essas solicita√ß√µes por meio do CAPI se enquadram no Hellgate, que come√ßa a implementar um processo comercial de pagamento, sem usar dados do cart√£o: </p><br><ul><li>  Em primeiro lugar, o Hellgate vai para o servi√ßo de gerenciamento de configura√ß√£o - Dominante e recebe a revis√£o atual da configura√ß√£o do dom√≠nio.  Ele cont√©m todas as regras pelas quais esse pagamento ser√° efetuado, em qual banco ele ser√° autorizado, quais taxas de transa√ß√£o ser√£o registradas etc. <br><ul><li>  do servi√ßo de gerenciamento de membros, agora faz parte da HG, aprende dados sobre os n√∫meros internos das contas do comerciante em favor dos quais o pagamento √© feito, aplica o valor das taxas, prepara o plano de postagem e o coloca no servi√ßo Shumway.  Este servi√ßo √© respons√°vel por gerenciar informa√ß√µes sobre a movimenta√ß√£o de dinheiro nas contas dos participantes de uma transa√ß√£o ao efetuar um pagamento.  O plano de lan√ßamento cont√©m a instru√ß√£o "para congelar a poss√≠vel movimenta√ß√£o de fundos nas contas dos participantes na transa√ß√£o especificada no plano"; </li><li>  enriquece os dados de pagamento consultando servi√ßos adicionais, por exemplo, na Binbase, a fim de descobrir o pa√≠s do banco emissor que emitiu o cart√£o e seu tipo, por exemplo, ‚Äúouro, cr√©dito‚Äù; </li><li>  chama o servi√ßo do inspetor, como regra, √© o Antifraud para receber a pontua√ß√£o do pagamento e decidir sobre a escolha de um terminal que cubra o n√≠vel de risco emitido pela pontua√ß√£o.  Por exemplo, um terminal sem 3D-Secure pode ser usado para pagamentos de baixo risco, e um pagamento que recebeu um n√≠vel de risco fatal encerrar√° sua vida; </li><li>  chama o servi√ßo de detec√ß√£o de erros, o Detector de falhas e, com base nos dados recebidos, seleciona a rota de pagamento - o adaptador de protocolo do banco, que atualmente possui o menor n√∫mero de erros e a maior probabilidade de pagamento bem-sucedido; </li><li>  envia uma solicita√ß√£o ao adaptador de protocolo banc√°rio selecionado, seja o adaptador YellowBank ", autorize a quantidade especificada desse token" nesse caso. </li></ul></li></ul><br><p>  O adaptador de protocolo para o token recebido vai para o CDS, recebe os dados do cart√£o descriptografado, transfere-os para um protocolo espec√≠fico do banco e, em geral, recebe autoriza√ß√£o - confirma√ß√£o do banco adquirente de que o montante indicado foi congelado na conta do pagador. </p><br><p>  √â nesse momento que voc√™ recebe um SMS com uma mensagem sobre o d√©bito de fundos do seu cart√£o no seu banco, embora, na verdade, os fundos tenham sido congelados na sua conta. </p><br><p>  O adaptador notifica HG da autoriza√ß√£o bem-sucedida, seu c√≥digo CVV √© removido do servi√ßo CDS e este √© o fim do est√°gio de intera√ß√£o.  A ger√™ncia retorna √† HG. </p><br><p><img src="https://habrastorage.org/webt/jv/mm/cu/jvmmcuhwjxslwo0rvu5w-lsfsyy.jpeg"></p><br><p>  Dependendo da chamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">createPayment ()</a> especificada pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comerciante do</a> processo de neg√≥cios de pagamento, a HG espera chamadas da API externa para o m√©todo de captura de autoriza√ß√£o, ou seja, confirma√ß√£o da retirada de dinheiro do seu cart√£o ou imediatamente por conta pr√≥pria, se o comerciante escolheu o esquema pagamento de est√°gio √∫nico. </p><br><p>  <em>Como regra, a maioria dos comerciantes usa um pagamento em uma etapa; no entanto, existem categorias de neg√≥cios que, no momento da autoriza√ß√£o, ainda n√£o sabem o valor total debitado.</em>  <em>Isso geralmente acontece no setor de turismo quando voc√™ reserva uma excurs√£o por um valor e, ap√≥s confirmar a reserva, o valor √© especificado e pode diferir daquele que foi autorizado no in√≠cio.</em> </p><br><p>  <em>Apesar do fato de que a quantidade de confirma√ß√£o pode ser exclusivamente igual ou menor que a quantidade de autoriza√ß√£o, existem armadilhas aqui.</em>  <em>Imagine que voc√™ paga por um produto ou servi√ßo de um cart√£o em uma moeda diferente da moeda da sua conta banc√°ria √† qual o cart√£o est√° vinculado.</em> </p><br><p>  <em>No momento da autoriza√ß√£o, o valor bloqueado na sua conta com base na taxa de c√¢mbio no dia da autoriza√ß√£o.</em>  <em>Como o pagamento pode estar no status de "autorizado" (apesar de o Minist√©rio das Ferrovias ter recomenda√ß√µes por um per√≠odo m√°ximo de 3 dias) por alguns dias, a captura da autoriza√ß√£o ser√° realizada na taxa do dia em que foi feita.</em> </p><br><p>  <em>Assim, voc√™ assume riscos cambiais, que podem ser a seu favor e contra voc√™, especialmente em uma situa√ß√£o de alta volatilidade no mercado de moedas.</em> </p><br><p>  Para capturar a autoriza√ß√£o, o mesmo processo de comunica√ß√£o com o adaptador de protocolo ocorre como para o recebimento e, se for bem-sucedido, o HG aplica o plano de lan√ßamento da conta no Shumway e transfere o pagamento para o status "Pago".  √â neste momento que n√≥s, como sistema de pagamento, temos obriga√ß√µes financeiras com os participantes da transa√ß√£o. </p><br><p>  Tamb√©m √© importante notar que quaisquer altera√ß√µes no estado da m√°quina da fatura, que incluem o processo de pagamento, s√£o registradas pelo Hellgate em Machinegun, garantindo a persist√™ncia dos dados e enriquecendo a fatura com novos eventos. </p><br><h3 id="sinhronizaciya-sostoyaniy-avtomata-platezha-i-ui">  Sincroniza√ß√£o de estado de uma m√°quina de pagamento e interface do usu√°rio </h3><br><p><img src="https://habrastorage.org/webt/o7/hf/iz/o7hfizxfqdiyz_5xlxugdhc_fsq.jpeg"></p><br><p>  Enquanto o processo de pagamento em segundo plano est√° ocorrendo dentro da plataforma, o Checkout realiza o processamento solicitando eventos.  Ap√≥s o recebimento de determinados eventos, ele desenha o estado atual do pagamento de uma maneira que seja compreens√≠vel para uma pessoa - desenha um pr√©-carregador, exibe a tela "Seu pagamento foi processado com sucesso" ou "O pagamento n√£o foi recebido" ou redireciona o navegador para a p√°gina do seu banco emissor para inserir a senha 3D-Secure; </p><br><p>  Se falhar, o Google Checkout oferecer√° a voc√™ uma outra forma de pagamento ou tente novamente, iniciando um novo pagamento como parte da fatura. </p><br><p>  Esse esquema com pesquisa de eventos torna poss√≠vel restaurar o estado mesmo ap√≥s o fechamento da guia do navegador - em caso de inicializa√ß√£o repetida, o Checkout receber√° a lista atual de eventos e desenhar√° o cen√°rio atual de intera√ß√£o do usu√°rio, por exemplo, oferecer√° a digita√ß√£o do c√≥digo 3D-Secure ou mostrar√° que o pagamento j√° foi conclu√≠do com √™xito. </p><br><h2 id="replikaciya-sobytiy-v-offline-zone">  Replica√ß√£o de eventos na zona offline </h2><br><p><img src="https://habrastorage.org/webt/ay/rm/sb/ayrmsbidsvdz2c9rxxkgge6easo.jpeg"></p><br><p>  Juntamente com as interfaces de controle da m√°quina, a Machinegun implementa um servi√ßo respons√°vel pelo transbordamento do fluxo de eventos para servi√ßos respons√°veis ‚Äã‚Äãpor outras tarefas menos on-line da plataforma. </p><br><p>  Como intermedi√°rio de filas nas finais, decidimos pelo Kafka, embora j√° tiv√©ssemos implementado essa funcionalidade usando o pr√≥prio Machinegun.  No caso geral, esse servi√ßo √© a preserva√ß√£o de um fluxo de eventos ordenado garantido ou a emiss√£o de uma lista espec√≠fica de eventos mediante solicita√ß√£o a outros consumidores. </p><br><p>  Tamb√©m implementamos inicialmente um esquema de deduplica√ß√£o de eventos, fornecendo garantias de que o mesmo evento n√£o seria replicado duas vezes; no entanto, a carga no Riak, gerada por uma similar, nos fez recus√°-lo - afinal, pesquisar por √≠ndices n√£o √© a melhor coisa Capacidade de armazenamento KV.  Agora, cada consumidor de servi√ßo √© respons√°vel pela deduplica√ß√£o de eventos independentemente. </p><br><p>  Em geral, a replica√ß√£o de eventos pelo Machinegun termina com a confirma√ß√£o do armazenamento de dados em Kafka, e os consumidores j√° est√£o conectados aos t√≥picos do Kafka e baixam as listas de eventos que lhes interessam. </p><br><h3 id="shablon-tipichnogo-prilozheniya-offline-zony">  Modelo de aplicativo t√≠pico da zona offline </h3><br><p>  Por exemplo, o servi√ßo Dudoser √© respons√°vel por enviar uma notifica√ß√£o por email de um pagamento bem-sucedido.  Na inicializa√ß√£o, ele elabora uma lista de eventos de pagamentos bem-sucedidos, pega informa√ß√µes sobre o endere√ßo e o valor de l√°, salva em uma inst√¢ncia local do PostgreSQL e a utiliza para processamento adicional da l√≥gica de neg√≥cios. </p><br><p>  Todos os outros servi√ßos semelhantes operam de acordo com a mesma l√≥gica, por exemplo, o servi√ßo Magista, respons√°vel pela pesquisa de faturas e pagamentos na conta pessoal do comerciante ou no servi√ßo Hooker, que envia retornos de chamada ass√≠ncronos ao back-end para comerciantes que, por um motivo ou outro, n√£o podem organizar eventos de pesquisa entrando em contato diretamente para a API de processamento. </p><br><p>  Essa abordagem nos permite liberar a carga no processamento, alocando o m√°ximo de recursos e fornecendo alta velocidade e disponibilidade do processamento de pagamentos, proporcionando alta convers√£o.  Consultas pesadas como "clientes comerciais desejam ver as estat√≠sticas de pagamentos do ano passado" s√£o processadas por servi√ßos que n√£o afetam a carga atual da parte de processamento on-line e, portanto, n√£o afetam voc√™, como pagadores e comerciantes, como nossos clientes. </p><br><p>  Talvez paremos nisso para n√£o tornar o post muito longo.  Em artigos futuros, definitivamente vou falar sobre as nuances de garantir a atomicidade de altera√ß√µes, garantias e pedidos em um sistema distribu√≠do carregado usando metralhadora, Bender, CAPI e Hellgate como exemplos. </p><br><p>  Bem, sobre Salt Stack da pr√≥xima vez <code>¬Ø\_(„ÉÑ)_/¬Ø</code> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447440/">https://habr.com/ru/post/pt447440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447426/index.html">Como, para quem e por que ir √† consultoria? Experi√™ncia pessoal com Big Data</a></li>
<li><a href="../pt447430/index.html">IntelliJ IDEA 2019.1: personaliza√ß√£o de temas de interface, express√µes de switch do Java 12, depura√ß√£o dentro de cont√™ineres do Docker</a></li>
<li><a href="../pt447434/index.html">Com amor de Stepik: plataforma educacional Hyperskill</a></li>
<li><a href="../pt447436/index.html">Webinar "Por que precisamos de testadores?"</a></li>
<li><a href="../pt447438/index.html">Testes unittest e abstract</a></li>
<li><a href="../pt447442/index.html">Apresentando o operador de shell: tornando os operadores do Kubernetes ainda mais f√°ceis</a></li>
<li><a href="../pt447446/index.html">Workshops da IBM: primavera-ver√£o de 2019 - intelig√™ncia artificial, desenvolvimento em nuvem, chat bots, blockchain e outras tecnologias</a></li>
<li><a href="../pt447448/index.html">Evolu√ß√£o da intelig√™ncia: o come√ßo</a></li>
<li><a href="../pt447450/index.html">Quebrando um simples "crack" com Ghidra - Parte 1</a></li>
<li><a href="../pt447452/index.html">Seguran√ßa da cadeia de suprimentos: "Se eu fosse um estado nacional ..."</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>