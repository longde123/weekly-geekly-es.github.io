<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ç üë®‚Äçüè´ üêÇ √â Karma, querida, ou por que o ataque √†s redes sem fio que deveria afundar no esquecimento ainda est√° vivo üñïüèΩ üìå üìö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, os pontos de acesso sem fio nos cercam em todos os lugares: em caf√©s, restaurantes, shopping centers e transportes. Isso deixou de ser algo inco...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√â Karma, querida, ou por que o ataque √†s redes sem fio que deveria afundar no esquecimento ainda est√° vivo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435994/"><p><img src="https://ic.pics.livejournal.com/ibigdan/8161099/9174404/9174404_original.jpg"></p><br><p>  Hoje, os pontos de acesso sem fio nos cercam em todos os lugares: em caf√©s, restaurantes, shopping centers e transportes.  Isso deixou de ser algo incomum, e n√≥s nos conectamos calmamente a uma rede insegura ou mantemos constantemente o modo de busca por pontos familiares.  √â por isso que nos √∫ltimos anos o n√∫mero de ataques direcionados a esse segmento tem aumentado constantemente.  N√£o √© de surpreender que obter acesso ao tr√°fego do usu√°rio abra um enorme campo de a√ß√£o para o invasor.  Hoje eu gostaria de considerar um desses ataques sob o nome prosaico Karma, inventado em 2005, mas no momento ainda √© relevante. <a name="habracut"></a></p><br><p>  Ao mesmo tempo, as conversas sobre o Karma (doravante referido como Karma) eram muito populares entre os c√≠rculos de seguran√ßa, e muitos ouviram falar sobre isso pelo menos de ouvido.  Aqueles que ignoraram esse t√≥pico naquele momento podem estar familiarizados com ele √† revelia, gra√ßas a um dispositivo not√≥rio chamado Abacaxi.  Foi criado especificamente para conduzir o Karma e outros ataques similares em redes sem fio de forma r√°pida e sem muito esfor√ßo. </p><br><p>  Um r√°pido exame do pr√≥prio Karma torna poss√≠vel entender que, na realidade, √© um ataque g√™meo maligno a ester√≥ides, porque, de fato, sua principal parte √© levantar uma c√≥pia de um certo ponto de acesso.  No entanto, o diabo est√° nos detalhes, e s√£o os detalhes que permitem que o ataque, criado 13 anos atr√°s, n√£o perca sua relev√¢ncia e seja usado para realizar protestos at√© hoje. </p><br><h3 id="poperechnyy-razrez-ili-otkuda-nogi-rastut">  Se√ß√£o transversal, ou de onde as pernas crescem </h3><br><p>  Como este dinossauro √© diferente de todos os outros e por que sobreviveu?  O Karma se distingue pelo fato de n√£o se basear nas vulnerabilidades do software de pontos de acesso ou clientes, mas nos recursos do padr√£o 802.11 comumente usado, ou melhor, nos recursos da opera√ß√£o de seu protocolo de autentica√ß√£o.  Para uma compreens√£o completa do dispositivo Karma, o pr√≥prio processo de autentica√ß√£o ser√° discutido em detalhes abaixo.  Os leitores familiarizados com esse processo podem ignorar esta parte com seguran√ßa. </p><br><p><img src="https://i.pinimg.com/originals/73/7c/9b/737c9bd48cbd7f70080750429eb0610d.png" alt="737c9bd48cbd7f70080750429eb0610d.png"></p><br><p>  Para anunciar sua presen√ßa, o Ponto de Acesso (AP, a seguir denominado AP) transmite os chamados quadros Beacon - pacotes contendo o SSID do ponto de acesso (ou seja, seu identificador, nome da rede), taxas de dados suportadas e o tipo de criptografia que utiliza essa rede sem fio. </p><br><p>  O usu√°rio encontra redes sem fio ouvindo pacotes em busca de quadros Beacon dos APs ao seu redor ou enviando para os pontos de acesso de sua lista de redes preferenciais Quadros de solicita√ß√£o de sonda - pacotes que consistem no SSID que o usu√°rio procura, bem como taxas de transfer√™ncia de dados suportadas pelo usu√°rio dispositivo do usu√°rio.  O SSID pode ser uma cadeia vazia, indicando que esta √© uma solicita√ß√£o de an√°lise nula (uma solicita√ß√£o endere√ßada a todos os pontos de acesso, independentemente do SSID). </p><br><p>  Os pontos de acesso respondem √† solicita√ß√£o do probe que cont√©m seu SSID e √† solicita√ß√£o do probe nulo usando os pacotes de resposta do probe.  O Probe Response cont√©m dados id√™nticos aos dos quadros Beacon: SSIDs, taxas de dados suportadas e criptografia. </p><br><p>  Se a rede sem fio usar criptografia, o dispositivo do usu√°rio dever√° ser autenticado antes da conex√£o.  Este processo ocorre atrav√©s de quadros de autentica√ß√£o.  Se o dispositivo do usu√°rio j√° foi autenticado ou a rede n√£o o exige, o dispositivo enviar√° o ponto de acesso da Solicita√ß√£o de Associa√ß√£o ao qual o AP responde com o quadro de Resposta da Associa√ß√£o.  Depois disso, o usu√°rio pode trabalhar nesta rede sem fio. </p><br><p>  <strong>√â importante observar</strong> : embora o padr√£o defina como um usu√°rio ingressa em um ponto de acesso, a maneira de selecionar esse ponto n√£o est√° definida, n√£o h√° men√ß√£o se a esta√ß√£o base deve ser autenticada ou, por padr√£o, √© confi√°vel.  A solu√ß√£o para esse problema ficou a cargo dos fornecedores de hardware e software do sistema operacional. </p><br><p>  Agora ficou claro como o Karma funciona.  Um invasor dentro do alcance do sinal (que pode potencialmente ser ajudado por antenas de alto ganho e amplificadores de sinal) pode monitorar passivamente um canal sem fio e observar solicita√ß√µes de conex√£o dos usu√°rios a todos os pontos de acesso.  Ele pode usar essas informa√ß√µes para recriar uma lista das redes preferidas da v√≠tima.  Somente os nomes das redes s√£o divulgados nas solicita√ß√µes de conex√£o do usu√°rio, mas o tipo de criptografia n√£o √©.  No entanto, tendo apenas o SSID do ponto de acesso, o invasor pode criar uma c√≥pia com o mesmo nome, aumentando a probabilidade de a v√≠tima se conectar a ele: por exemplo, amplificando o sinal do ponto de acesso (o cliente geralmente se conecta automaticamente ao ponto mais poderoso) ou executando um ataque como " Nega√ß√£o de servi√ßo ‚Äùem rela√ß√£o ao ponto de acesso selecionado.  Se o cliente espera que a rede seja criptografada, a conex√£o n√£o ser√° estabelecida e o invasor poder√° tentar a pr√≥xima rede em sua c√≥pia recriada da lista de redes preferenciais da v√≠tima.  Quando ele se deparar com uma rede que n√£o suporta criptografia, ser√° criada uma rede sem fio, √† qual a v√≠tima se unir√° imediatamente. </p><br><p>  <strong>Um pouco sobre o ataque dos criadores do Wi-Fi Pineapple:</strong> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="http://img.youtube.com/vi/vsOuOlKbjH4/0.jpg" alt="IMAGEM ALT TEXTO AQUI"></a> </p><br><h3 id="old-but-not-obsolete">  "Velho, mas n√£o obsoleto" </h3><br><p>  At√© o momento, o principal problema no padr√£o n√£o foi resolvido e o Karma continua sendo uma amea√ßa real para os usu√°rios.  Por exemplo, para testar redes sem fio, o j√° mencionado WiFi Pineapple, que pode ser adquirido gratuitamente, agora √© usado com frequ√™ncia.  Os criadores deste projeto est√£o apoiando-o ativamente e, com alguma periodicidade, lan√ßam atualiza√ß√µes.  Mais recentemente, uma nova vers√£o do Pineapple foi lan√ßada: Tetra - um roteador completo com tudo que voc√™ precisa, 4 antenas SMA e 2 GB de mem√≥ria flash interna e Nano - uma vers√£o simplificada que possui um formato de adaptador USB com 2 antenas SMA, 16 MB de ROM e um conector em Micro SD. </p><br><p><img src="https://i0.wp.com/d2cpnw0u24fjm4.cloudfront.net/wp-content/uploads/WF-Pineapple-Tetra.jpg?fit=1920%2C1440&amp;ssl=1"></p><br><p>  Para aqueles que gostariam de experimentar o Karma neste maravilhoso dispositivo, gostaria imediatamente de dizer que n√£o faz sentido comprar vers√µes iniciais do tipo Mark V √† m√£o, porque  o fabricante parou de apoi√°-los e a probabilidade de voc√™ simplesmente fazer o download do software necess√°rio atrav√©s da loja interna do dispositivo ou atualizar o dispositivo (o firmware mais recente do Mark V foi lan√ßado em agosto de 2015) tende a zero, mas √© necess√°rio inici√°-lo e acion√°-lo ataque, nem mesmo falando. </p><br><p><img src="https://i.pinimg.com/originals/48/bf/f8/48bff8c04155e312cfbbe38d90a06987.jpg" alt="48bff8c04155e312cfbbe38d90a06987.jpg"></p><br><p>  Depois de vasculhar um pouco o github, voc√™ pode encontrar v√°rias implementa√ß√µes de c√≥digo-fonte aberto do Karma em diferentes n√≠veis de execu√ß√£o: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ab√≥bora de WiFi</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wifiphisher</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mana toolkit</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FruityWifi</a> </li></ul><br><p>  Embora as duas √∫ltimas implementa√ß√µes j√° tenham sido fornecidas, elas n√£o s√£o suportadas, mas o WiFi-Pumpkin e o Wifiphisher ainda est√£o vivos e continuam a se desenvolver.  Minha pesquisa de Karma n√£o come√ßou com eles, mas com Mana e FruityWiFi, que levou muito tempo para analisar.  Eles n√£o conseguiram faz√™-los trabalhar e as tentativas foram abandonadas.  No entanto, em um futuro pr√≥ximo, planejo voltar a esse t√≥pico novamente e experimentar o WiFi-Pumpkin e o Wifiphisher, esses projetos t√™m sua pr√≥pria comunidade pequena e a probabilidade de sucesso neste caso √© muito maior. </p><br><p>  Al√©m disso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este pequeno projeto</a> que implementa um ataque usando o microcontrolador ESP8266 barato e popular pode ser chamado de cereja no bolo e uma implementa√ß√£o interessante do Karma.  O projeto n√£o √© um Karma completamente independente, o usu√°rio deve criar o Rogue AP (ponto de acesso falso), as fun√ß√µes de cria√ß√£o da lista preferida de redes n√£o s√£o fornecidas.  No entanto, esses dois problemas n√£o s√£o t√£o dif√≠ceis de resolver - o ESP √© bastante generoso em termos de recursos para isso e, se desejado, uma boa utilidade pode ser obtida. </p><br><h3 id="borba-s-plohoy-karmoy">  Combate ao mau karma </h3><br><p><img src="https://habrastorage.org/webt/8s/5y/5d/8s5y5d-ynwofhqbm6fhnx39ks7k.jpeg"></p><br><p>  E agora o que fazer com essas informa√ß√µes, como se proteger?  N√£o h√° absolutamente nenhuma m√°gica aqui, as regras de prote√ß√£o contra o Karma s√£o simples: </p><br><ol><li>  Desative o modo de pesquisa Wi-Fi em todos os seus dispositivos at√© que voc√™ precise. </li><li>  N√£o confie em pontos de acesso conhecidos, verifique sempre se esse ponto pode estar aqui (sim, MT_FREE, estou falando de voc√™). </li><li>  Use a VPN em qualquer lugar que voc√™ puder e n√£o puder. <br>  (Tudo aqui funciona da mesma maneira que com um invasor que pode ouvir o tr√°fego em uma rede controlada - ao usar uma VPN, ele simplesmente n√£o pode descriptografar nada). </li><li>  Crie pontos de acesso criptografados e d√™ prefer√™ncia a eles. </li><li>  N√£o efetue login novamente em redes familiares (provavelmente, este √© um ponto de acesso falso para um invasor). </li></ol><br><p>  Apesar do fato de os SOs alvo terem sido atualizados centenas de vezes desde o advento do Karma e os sistemas se tornaram mais seguros, esse ataque est√° vivo e representa uma amea√ßa para os usu√°rios.  N√£o √© necess√°rio esperar que o padr√£o seja corrigido ou adicionado em um futuro pr√≥ximo, para que possamos aderir a essas regras simples e manter os olhos abertos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435994/">https://habr.com/ru/post/pt435994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435984/index.html">Redes neurais e a filosofia da linguagem</a></li>
<li><a href="../pt435986/index.html">O Windows reservar√° 7 GB para atualiza√ß√µes do sistema para evitar a falta de espa√ßo no disco r√≠gido</a></li>
<li><a href="../pt435988/index.html">Uma introdu√ß√£o √†s anota√ß√µes do tipo Python. Continua√ß√£o</a></li>
<li><a href="../pt435990/index.html">Como fazer uma troca?</a></li>
<li><a href="../pt435992/index.html">Jogadores Fallout 76, que ser√£o capturados em um local secreto dos desenvolvedores, ser√£o banidos</a></li>
<li><a href="../pt435996/index.html">Tecnologias AR e VR na educa√ß√£o</a></li>
<li><a href="../pt435998/index.html">Como quebrar um terminal de autoatendimento e por que 80% deles est√£o amea√ßados</a></li>
<li><a href="../pt436000/index.html">Como ordenhar vacas com rob√¥s e fazer disso uma startup industrial. A hist√≥ria do desenvolvimento R-Sept</a></li>
<li><a href="../pt436004/index.html">Os modos s√£o o recurso matador do vim? S√©rio?</a></li>
<li><a href="../pt436006/index.html">286 e a rede</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>