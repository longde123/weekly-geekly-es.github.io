<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТл ЁЯдР ЁЯТП рдореИрдВрдиреЗ рдкреАрдЫреЗ рджреЗрдЦрд╛ рдХрд┐ рд╡рд╣ AWS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ - 2 рдпрд╛ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖрдПрдЧреА ЁЯСС ЁЯЧгя╕П ЁЯШО</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣рдо EC2 Amazon Web Services рд╕реЗрд╡рд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрдо рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рд╕реНрдерд┐рдд рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рдХреЛ Amazon Linux AMI 2018 рдХреЗ рд▓рд┐рдП libreswan , xl2tpd рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдореИрдВрдиреЗ рдкреАрдЫреЗ рджреЗрдЦрд╛ рдХрд┐ рд╡рд╣ AWS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ - 2 рдпрд╛ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖрдПрдЧреА</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470047/"><img src="https://habrastorage.org/webt/hb/3k/nj/hb3knjstg1kmyhx0g_bzk-r5jiu.jpeg" alt="рдЫрд╡рд┐"><br><br>  рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">EC2 Amazon Web Services рд╕реЗрд╡рд╛ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрдо рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рд╕реНрдерд┐рдд рдХрд┐рд╕реА рднреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЗрд╡рд╛</a> рдХреЛ Amazon Linux AMI 2018 рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">libreswan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">xl2tpd</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рдереЛрдбрд╝реА рд╕реА рднреА рд╡рд┐рдХреГрддрд┐ рдХреЗ рд╕рд╛рде ... <br><a name="habracut"></a><br>  рдЕрдиреБрднрд╡ рдХреЗ рд╕рд╛рде рдПрдХ рдкрд╛рд░рдВрдкрд░рд┐рдХ (рдЧреИрд░-рдЖрдИрдЯреА) рд╡реНрдпрд╡рд╕рд╛рдп рдХреЗ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рд╢рд╛рд╕рдХ, рдЖрдорддреМрд░ рдкрд░ рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рдмрд╛рдж, рдЬрдореАрди рдкрд░ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рдвреЗрд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдШрд░ рдкрд░ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рд╕рд░реНрд╡рд░ рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдлрд╛рд░реНрдо рд░рдЦрддреЗ рд╣реИрдВред  рдпрд╣ рдПрдХ рд╡рд┐рддрд░рд┐рдд рдХрд╛рд░реНрдпрд╛рд▓рдп-рд╢рд╛рдЦрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреА рдПрдХ рдирдХрд▓ рдирдХрд▓ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рдПрдХ рдПрдХреАрдХреГрдд рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХрд╛ рдкрд░реАрдХреНрд╖рдг, рдХреБрдЫ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рддреИрдирд╛рддреА, рдЖрджрд┐ред <br><br>  рдмрд╛рд╣рд░реА рд░реВрдк рд╕реЗ, рдпрд╣ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдореЗрдореЛрд░реА-рдкрдВрдк рд╣реЛрдо рдкреАрд╕реА рд╕реЗ рдмрдирд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдмрд┐рд▓реНрдЯ-рдЗрди рд╣рд╛рдЗрдкрд░рд╡рд╛рдЗрдЬрд░ рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛-рдЧреНрд░реЗрдб NAS рдХреЗ рд░реВрдк рдореЗрдВ iSCSI рд╕реНрдЯреЛрд░реЗрдЬ (рдпрд╛ рд╕рдорд╛рди рдкреАрд╕реА рдкрд░ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд░реВрдк рдореЗрдВ) рд╕рд╕реНрддреЗ-рд▓рд┐рдЦрд┐рдд рдирд┐рдпрдВрддреНрд░рдг рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЦрд░реАрджреЗ рдЧрдП рдЫреЛрдЯреЗ-рдЖрдХрд╛рд░ рдХреЗ рд░реИрдХ-рдорд╛рдЙрдВрдЯ рд╕рд░реНрд╡рд░реЛрдВ рд╕реЗ рднрд░рд╛ рд╣реЛред рдкрд╢реНрдЪрд┐рдореА рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рд╕реЗ рдПрдХ рдкреЗрдбрд┐рдЧреНрд░реА рдХреЗ рд╕рд╛рде, рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдмреАрдпреВ рдЯрд┐рд╕реНрдХрд╛ рдХреЗ рд╕рд╛рде рдФрд░ рдлрд╝рд╛рдЗрдмрд░ рдЪреИрдирд▓ рдореЗрдВ рдЕрдЯрдХ рдЧрдпрд╛, рдорд╛рдзреНрдпрдорд┐рдХ рдмрд╛рдЬрд╛рд░ рдПрдирдПрдПрд╕ рдореЗрдВ рдЦрд░реАрджрд╛ рдЧрдпрд╛, рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рд╡рд░реНрдЧред <br><br>  рдмреЗрд╢рдХ, рдмрд╛рджрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реА рджреАрд╡рд╛рдирдЧреА рдХреЗ рдпреБрдЧ рдореЗрдВ, рдкреВрд░реЗ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдХреНрд▓рд╛рдЙрдб рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрднреА рднреА рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ, рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рд▓рд╛рдЧрдд рдХреЗ рдХрд╛рд░рдгред  рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрджрд┐ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рд╕реЗ рдХрдИ рд╣рд▓реНрдХреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рдЖрдкрдХреЛ рдбреНрдпреВрдЯреА рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХрдИ рд╡рд┐рднрд┐рдиреНрди рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрдИ рджрд░реНрдЬрди рдпрд╛ рд╕реИрдХрдбрд╝реЛрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ "рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ" рдХреЛ рдореЛрдбрд╝рдирд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдПрдХ рд╕рдВрдЧреНрд░рд╣ рднреА рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдХрднреА рднреА рд╣реЛ рдПрдХ рдирдореВрдирд╛ рдерд╛ рдЬреЛ рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ / рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдореБрдбрд╝ рдЧрдпрд╛ рдерд╛ред  рдпрд╛ рдореМрдЬреВрджрд╛ рд╡реНрдпрд╛рдкрд╛рд░ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЛ рдЙрд╕реА MS Azure рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ ADDS рдФрд░ ADFS рдХреЗ рдмреАрдЪ рд╕рдорд╛рди рддрд╛рд▓рдореЗрд▓ рдХреЗ рд╕рд╛рде рд╕рднреА рдиреБрдХрд╕рд╛рди рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рд╕рднреА рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХрд╛ рдкреНрд░рдХрд╛рд╢рди (рдЕрдЧреНрд░реЗрд╖рдг) рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ, рддрд╛рдХрд┐ рдЖрдк рдмрд╛рд╣рд░ рд╕реЗ рдЕрдкрдиреЗ рдШрд░ "рд╕рд░реНрд╡рд░ рд╕рд╛рдЗрдЯ" рдпрд╛ рдЕрдкрдиреА рдЦреБрдж рдХреА "рдХреНрд▓рд╛рдЙрдб" рд╕реЗрд╡рд╛рдУрдВ, рдпрд╛ рддреГрддреАрдп-рдкрдХреНрд╖ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг рдЖрджрд┐ рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░ рд╕рдХреЗрдВред <br><br>  рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИ рдЕрдЧрд░ рдШрд░ рдХрд╛ рдХрдиреЗрдХреНрд╢рди рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЯреИрд░рд┐рдл рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд╕рд╛рде рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЖрдИрдкреА рдкрддрд╛ рд▓рдЧрднрдЧ рд╣рдореЗрд╢рд╛ "рд╕рдлреЗрдж", рд╕реНрдерд┐рд░ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рдХрд░реЗрдВ рдЬрдм рд╕рд╛рдорд╛рдиреНрдп "рд╣реЛрдо" рдкреНрд░рджрд╛рддрд╛ рдирд┐рд╡рд╛рд╕ рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдореМрдЬреВрдж рд╣реИ, рдЬреЛ рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХреЗрд╡рд▓ рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдПрдХ рдкрддрд╛ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдпрд╛ рдпрд╣ рдПрдХ рд╕рдлреЗрдж рдкрддрд╛ рджреЗрдЧрд╛, рд▓реЗрдХрд┐рди рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд (&lt;1024) рдкреЛрд░реНрдЯ рд░реЗрдВрдЬ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдХреЛ рдХрд╛рдЯ рджреЗрдЧрд╛?  рдпрд╛ рдЖрдк рдПрдХ рдХреЙрд░реНрдиреА рдЧрд░реАрдм рдЫрд╛рддреНрд░ рд╣реИрдВ рдФрд░ рдХрд╛рдиреВрдиреА рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рдорд╛рд╕рд┐рдХ рджрд░ рдХреЛ рд╡рд╣рди рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред  рдпрд╛ рдХреНрдпрд╛ рдЖрдкрдХреЛ рдЕрдХреНрд╕рд░ рдЕрдкрдиреЗ рд╡рд░реНрдЪреБрдЕрд▓ рд╕рд░реНрд╡рд░ "рд╕рд╛рдорд╛рди" рдХреЛ рдХреВрдмрдбрд╝ рддрдХ рдЦреАрдВрдЪрддреЗ рд╣реБрдП рдЕрдкрдирд╛ рдирд┐рд╡рд╛рд╕ рд╕реНрдерд╛рди рдмрджрд▓рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ?  CIS рдХреЗ рдмрд╛рд╣рд░ рд░рд╣рдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓рд╛ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рднреА рд╣реИ, рдЬрдм рдкреНрд░рджрд╛рддрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрдмрд░рди рдЕрдкрдиреЗ рдЙрдкрдХрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд╣рд╛рдВ рдЖрдк рдХреЗрд╡рд▓ рдЙрди рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдХреА рдЖрдкрдХреЛ рдШрд░ рдЖрднрд╛рд╕реА рдЦреЗрдд рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдПрдХ рд╕рдорд╛рдзрд╛рди рдХрд┐рд╕реА рднреА рддреГрддреАрдп-рдкрдХреНрд╖ рд╡реАрдкреАрдПрди рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╕реБрд░рдВрдЧ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдХрдиреЗрдХреНрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рдпрд╣ рдПрдХ рдЕрд▓рдЧ рднреБрдЧрддрд╛рди рд╕реЗрд╡рд╛ рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдмрд╛рд╣рд░реА рдЖрдИрдкреА рдкрддреЗ рдХреА рдкрд╕рдВрдж рдмрд╣реБрдд рд╕реАрдорд┐рдд рд╣реЛрдЧреА рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рджреЗрд╢ рдореЗрдВ рдмрд╛рд╣рд░реА рдЖрдИрдкреА рдкрддреЗ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдХреЛрдИ рдЧрд╛рд░рдВрдЯреА рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЙрд╕реА рд╕рдордп рдЕрдиреНрдп рд╡реАрдкреАрдПрди рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдЗрд╕ рдкрддреЗ рдкрд░ рд▓рдЯрдХрд╛ рдирд╣реАрдВ рд╣реИред , рдпрд╛ рдпрд╣ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╕реНрдерд┐рд░ рд░рд╣реЗрдЧрд╛, рдЬреЛ DNS рдореЗрдВ рд╕реЗрд╡рд╛ рдЙрдкрдбреЛрдореЗрди рд░рд┐рдХреЙрд░реНрдб рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдпреЛрдЧреНрдп (IMHO), рд╣рд╛рд▓рд╛рдВрдХрд┐ рдХреБрдЫ рд╡рд┐рдХреГрдд рд╡рд┐рдзрд┐рдпрд╛рдВ, рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ "рд╡рд░реНрдЪреБрдЕрд▓" рд░рд╛рдЙрдЯрд░ рдХреЛ рдХреБрдЫ рдмрд╛рд╣рд░реА рдХреНрд▓рд╛рдЙрдб рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИ, рдЬреЛ рдШрд░ рдХреЗ рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдлрд╝рд╛рд░реНрдо рдХреЛ рдХреНрд▓рд╛рдЙрдб рдореЗрдВ рдЗрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╕реЗ рд╡реАрдкреАрдПрди рд╕реБрд░рдВрдЧ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд╕рд╛рде, рдмрд╛рд╣рд░реА рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рдЖрдЧреЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЖрд╡рд╢реНрдпрдХ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рдеред рдмрд╛рджрд▓реЛрдВ рдХреЗ рдШрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рджрд▓ред  рдФрд░ рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдкреВрд░реА рдЪреАрдЬрд╝ рдХреЗ рд▓рд┐рдП рд▓рдЧрднрдЧ рдХреБрдЫ рднреА рдирд╣реАрдВ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдПред <br><br>  рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЕрдкрдиреА рдиреМрдХрд░реА рдЦреЛ рджреА рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдПрдХ рдЧрд░реНрдо рдФрд░ рдЖрд░рд╛рдорджрд╛рдпрдХ рдХреЙрд░реНрдкреЛрд░реЗрдЯ рдкрд░реАрдХреНрд╖рдг рдЦреЗрдд рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ, рд▓реЗрдХрд┐рди рдмрджрд▓реЗ рдореЗрдВ рдореБрдЭреЗ рдЕрдкрдиреЗ рдХреМрд╢рд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЦрд╛рд▓реА рд╕рдордп рдорд┐рд▓рд╛, рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдШрд░ рдХреЗ рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдиреЗрдХреНрд╢рди рджреЗрдЦрдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рджреЗрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред <br><br>  рдЗрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓реЗрдЦрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрд╡рд╕рдВрд░рдЪрдирд╛рддреНрдордХ рд╡рд┐рдХреГрддрд┐рдпреЛрдВ рдХреЛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ"</a> , рдЗрд╕рд▓рд┐рдП, рдПрдХ рдЖрднрд╛рд╕реА рд░рд╛рдЙрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рд▓рд┐рдирдХреНрд╕ рдХреЗ рд▓рд┐рдП рдирд┐: рд╢реБрд▓реНрдХ рдЕрдореЗрдЬрд╝реЕрди рд╡реЗрдм рд╕рд░реНрд╡рд┐рд╕реЗрдЬ (AWS) EC2 t2.micro рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ AWS рдХреЗ рдмрдЬрд╛рдп: VPC (рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ) рдбрд┐рдмрдЧрд┐рдВрдЧ рдФрд░ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рд▓рдЪреАрд▓рд╛рдкрди рджреЗрдЧрд╛ред , рдФрд░ рдЗрд╕ рд╡реАрдкреАрдПрди рд╡рд┐рдХреГрддрд┐ рдХрд╛ рдЯреЛрдкреЛрд▓реЙрдЬреА рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/xs/o5/_k/xso5_kg5gwlm9ozy9pj7udiqxuc.png" alt="рдЫрд╡рд┐"><br><br>  рд╣рдо рдпрд╣рд╛рдБ рдХреНрдпрд╛ рджреЗрдЦрддреЗ рд╣реИрдВ? <br><br>  рд▓рд┐рдирдХреНрд╕ рдкрд░, AWS: EC2 рдореЗрдВ рддреИрдирд╛рдд рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди (рдЙрджрд╛рд╣рд░рдг) рдХреЗ рджреМрд░рд╛рди рдкреНрд░рддрд┐ рдорд╛рд╣ рдПрдХ рдореБрдлрд╝реНрдд (750 рдШрдВрдЯреЗ рдХрд╛ рдХрд╛рдо) рд╣реЛрддрд╛ рд╣реИред  рдЖрдкрдХреА рд╣реЛрдо рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдХреБрдЫ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдЖрдиреЗ рд╡рд╛рд▓реА рдХреЙрд▓реЗрдВ рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА рдХреЗ рдмрд╛рд╣рд░реА рд╕рдлреЗрдж IPv4 рдкрддреЗ рдкрд░ рдЖрддреА рд╣реИрдВ, рдлрд┐рд░ "рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ" рдореЗрдВ рдЗрдирдмрд╛рдЙрдВрдб рдирд┐рдпрдореЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдо рдкреЛрд░реНрдЯ рдХреЛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд▓рд┐рдП рдореИрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдлрд┐рд░ iptables рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрди рдХреЗ рдкреИрдХреЗрдЯ IPSec рд╕реБрд░рдВрдЧ рд╕реЗ рд╣реЛрдХрд░ рдЬрд╛рддреЗ рд╣реИрдВ рд╡рд┐рдВрдбреЛрдЬ 2016 рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди, рдЬрд╣рд╛рдВ, рд░реВрдЯрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЖрд░рдЖрд░рдПрдПрд╕ рд╣реЛрдо рд╡рд░реНрдЪреБрдЕрд▓ рдлрд╛рд░реНрдо рдХреЗ рдЕрдВрджрд░ рд╡рд╛рдВрдЫрд┐рдд рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдПрдХ рд╕рд╛рде рддреАрди рдиреЗрдЯ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдкрд░ рд╡рд┐рд╢реЗрд╖ рдзреНрдпрд╛рди рджреЗрддреЗ рд╣реИрдВ: рдПрдХ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рд▓рд┐рдирдХреНрд╕ рдореЗрдВ, рдПрдХ "рдСрдлрд┐рд╕ рдиреЗрдЯрд╡рд░реНрдХ" рд░рд╛рдЙрдЯрд░ рдкрд░ рдФрд░ рдПрдХ рдЕрдиреНрдп, рд╣реЛрдо рд░рд╛рдЙрдЯрд░ рдкрд░ред <br><br>  рдЗрд╕ (рдореЗрд░реЗ) рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ 2016 рдХреЗ рддрд╣рдд рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдПрдХ рдСрдлрд┐рд╕ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдЙрд╕рдХреЗ рд╕рд░реНрд╡рд░ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд╛рдЙрдЯрд░ рдХреА рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИ, рдПрдордПрд╕ рд╡реИрдк рдХреЛ рдПрдордПрд╕ рдПрдбреАрдПрдлрдПрд╕ рдФрд░ рдЕрдиреНрдп рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд▓рдЧ рдорд╢реАрди рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдХреЗ рд░реВрдк рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдХрд┐рд╕реА рдЕрдиреНрдп рдУрдПрд╕ рдХреЗ рд╕рд╛рде рдмрджрд▓рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕реНрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рдПрдХ рдШрд░ рдХрд╛ рдмрдирд╛ рдЯреБрдХрдбрд╝рд╛ред  рд╡рд┐рдВрдбреЛрдЬ рдЖрд░рдЖрд░рдПрдПрд╕ рдХреЗ рд╕рд╛рде, рд░рд╛рд╕реНрддреЗ рдореЗрдВ рдЪреАрдЬреЗрдВ рдЬрдЯрд┐рд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИрдВ, рдЬрд┐рд╕ рддрд░рд╣ рд╕реЗ рдореБрдЭреЗ рд╡рд┐рднрд┐рдиреНрди рдЕрдкреНрд░рд┐рдп рдХреНрд╖рдгреЛрдВ (рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдиреАрдЪреЗ) рд╕реЗ рдирд┐рдкрдЯрдирд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдПрдХ рд░рд╛рдЙрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдордПрд╕ рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ рдХреЛ рдирд╛рдкрд╕рдВрдж рдХрд░рдирд╛ рдЪреБрдирддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдФрд░ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдпрд╣ рдЖрд╕рд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдпрджрд┐ рдЖрдк рдЕрднреА рднреА рдПрдХ рдирд╣реАрдВ рд╣реИ рддреЛ рдкрд╣рд▓реЗ рд╣рдо AWS рдЦрд╛рддрд╛ рдмрдирд╛рдПрдБрдЧреЗред  рдЦрд╛рддрд╛ рд╕реНрд╡рдпрдВ рдмрдирд╛рдиреЗ рдореЗрдВ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдкреНрд▓рд╛рд╕реНрдЯрд┐рдХ рдХрд╛рд░реНрдб рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ 1 рдпреВрдПрд╕рдбреА рдЪреЗрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдбреЗрдмрд┐рдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рдФрд░ рдлрд┐рд░ рд▓реМрдЯрд╛)ред <br><br>  рдпрд╣рд╛рдВ рдХреЗрд╡рд▓ рджреЛ рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><ol><li>  AWS рдкрд░ рдЬрд╛рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ: IAM (рдкрд╣рдЪрд╛рди рдФрд░ рдЕрднрд┐рдЧрдо рдкреНрд░рдмрдВрдзрди) рдФрд░ рдЕрдкрдиреЗ рдирдП рдЦрд╛рддреЗ рдХреЗ рд▓рд┐рдП MFA (рдорд▓реНрдЯреА-рдлреИрдХреНрдЯрд░ рдСрдереЗрдВрдЯрд┐рдХреЗрд╢рди) рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ, рдпрд╛ рдЗрд╕рд╕реЗ рднреА рдмреЗрд╣рддрд░, рдХреНрдпреЛрдВрдХрд┐ AWS рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддрд╛ рд╣реИ - MFA рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд▓рдЧ рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреЗ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВред рдпрд╣ред  рдЕрдиреНрдпрдерд╛, рдЖрдк рдПрдХ рдЕрдкреНрд░рд┐рдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рдПрдХ рдЯреНрд░реЛрдЬрди рдЖрдкрдХреЗ рдкреАрд╕реА рд╕реЗ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдЪреБрд░рд╛рддрд╛ рд╣реИ рдФрд░, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдорд╣рдВрдЧреА рдЙрдЪреНрдЪ-рдкреНрд░рджрд░реНрд╢рди рдЙрджрд╛рд╣рд░рдг рдпреЛрдЬрдирд╛рдУрдВ рдкрд░ рдЖрдкрдХреЗ рдЦрд░реНрдЪ рдкрд░ рдЖрдкрдХреЗ рджрд┐рд▓ рд╕реЗ рдореЗрд░рд╛ рдХреЛрдИ ... </li><li>  рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдХрд╛рд░рдгреЛрдВ рд╕реЗ, рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЧрдИ рд╣реИ рдХрд┐ рдЖрдк рдПрдХ рдмрдЬрдЯ рдЕрд▓рд░реНрдЯ рд╕реЗрдЯ рдХрд░реЗрдВред  рдпрд╣ рдЦрд╛рддрд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕рдВрдмрдВрдзрд┐рдд рдореЗрдиреВ рдЖрдЗрдЯрдо рдХреЛ "рдмрд┐рд▓рд┐рдВрдЧ рдФрд░ рд▓рд╛рдЧрдд рдкреНрд░рдмрдВрдзрди рдбреИрд╢рдмреЛрд░реНрдб" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЦреБрд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреИрдирд▓ рдореЗрдВ, рдмрд╛рдИрдВ рдУрд░ "рдмрдЬрдЯ" рдЖрдЗрдЯрдо рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рдирд┐рдпреЛрдЬрд┐рдд рдорд╛рд╕рд┐рдХ рдмрдЬрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  рд╡рд╣рд╛рдВ рдПрдХ рдЕрд▓рд░реНрдЯ рд╕реЗрдЯ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВ: рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд░рд╛рд╢рд┐ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЖрдкрдХреЛ рддреБрд░рдВрдд рдПрдХ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реИ рдпрджрд┐ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ AWS рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдЕрдкрдиреЗ рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рджреМрд░рд╛рди рдЧрд▓рддреА рд╕реЗ "рдЧреЛрд▓" рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╕реЗ рдбрд░рддреЗ рд╣реИрдВред </li></ol><br>  рдЕрдЧрд▓рд╛, рд╣рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">AWS рдХреА</a> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">: EC2</a> ред <br><br>  рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЪрд░рдгреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдХреНрд╖реЗрддреНрд░ (рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░) рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдЕрдкрдиреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЛ рддреИрдирд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдкреНрд▓реЗрд╕рдореЗрдВрдЯ рд╕реАрдзреЗ рдЖрдкрдХреЗ "рд╡рд░реНрдЪреБрдЕрд▓ рд░рд╛рдЙрдЯрд░" рдХреА рднреМрдЧреЛрд▓рд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░реЗрдЧрд╛, рдФрд░ рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдиреЗрдЯрд╡рд░реНрдХ рджреЗрд░реАред  рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХреНрдпреЛрдВрдХрд┐  AWS рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рд▓рд╛рдЗрд╡ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ (рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">AWS рд╕рд░реНрд╡рд░ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рд╕реЗрд╡рд╛</a> рдХреЗрд╡рд▓ AWS рдХреНрд▓рд╛рдЙрдб рдкрд░ рд╣реА рдХреБрдЫ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХрд░ рд╕рдХрддреА рд╣реИ) рдФрд░ рдкреНрд▓реЗрд╕рдореЗрдВрдЯ рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдерд╛рди рдореЗрдВ рдлрд┐рд░ рд╕реЗ рдПрдХ рдирдпрд╛ рдЙрджрд╛рд╣рд░рдг рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИред  рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдЖрдкрдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">AWS</a> рдореЗрдВ рдЫрд╡рд┐ (рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд, EC2 рдореЗрдВ рдирд┐рд░реНрдорд┐рдд) рд╕реЗ рдЫрд╡рд┐ рдХреЛ рдирд┐рдХрд╛рд▓рдирд╛ рд╣реЛрдЧрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">: S3</a> (рднрдВрдбрд╛рд░рдг рд╕реЗрд╡рд╛) рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рдЗрд╕ рдЫрд╡рд┐ рдХреЛ рдирдП рдХреНрд╖реЗрддреНрд░ рдореЗрдВ EC2 рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЦреАрдВрдЪреЗрдВред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлреНрд░реИрдВрдХрдлрд░реНрдЯ</a> рдХреНрд╖реЗрддреНрд░ рдХреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛: <br><br><img src="https://habrastorage.org/webt/8c/2s/yh/8c2syhsrly1luamcwjsvbmlnbtg.png" alt="рдЫрд╡рд┐"><br><br>  рд╣рдо рдПрдХ рдирдпрд╛ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВ, рдмрд╛рдИрдВ рдУрд░ <b>"рдлреНрд░реА рдЯрд┐рдпрд░ рдУрдирд▓реА"</b> рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдЬреЛ рдЫрд╡рд┐рдпреЛрдВ рдХреА рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рд╕реВрдЪреА рдХреЛ рдХреЗрд╡рд▓ рдореБрдлреНрдд рдореЗрдВ рд╕реАрдорд┐рдд рдХрд░ рджреЗрдЧрд╛ред  рдореИрдВрдиреЗ <b>"рдЕрдореЗрдЬрд╝реЕрди рд▓рд┐рдирдХреНрд╕ рдПрдПрдордЖрдИ 2018"</b> (рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рд╡рд┐рддрд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдзрд┐рдХ</a> ) рдЪреБрдирд╛, рдХреНрдпреЛрдВрдХрд┐  "Amazon Linux 2 AMI" рдкрд░ xl2tpd рдЕрдореЗрдЬрд╝рди рджреНрд╡рд╛рд░рд╛ рдЗрдХрдЯреНрдареЗ рдХрд┐рдП рдЧрдП рдХрд░реНрдиреЗрд▓ рдХреА рдкреНрд░рдХреГрддрд┐ рдХреЗ рдХрд╛рд░рдг рдареАрдХ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЖрдк рдХрд┐рд╕реА рдЕрдиреНрдп рд▓рд┐рдирдХреНрд╕ рдЫрд╡рд┐ рдХреЛ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рджреА рдЧрдИ рд╕реВрдЪреА рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдорд╛рд░реНрдХреЗрдЯрдкреНрд▓реЗрд╕</a> рдореЗрдВ рднреА рдЧрд╣рд░рд╛рдИ рд╕реЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣рд╛рдВ рд╡реИрдХрд▓реНрдкрд┐рдХ рдЫрд╡рд┐рдпреЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд╕ рд▓рд╛рдЧрдд рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЛ рдзреНрдпрд╛рди рд╕реЗ рдкрдврд╝реЗрдВ: рдЫрд╡рд┐ рд╕реНрд╡рдпрдВ рдФрд░ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди рдореБрдХреНрдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдЖрджрд┐ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рд╣рдо рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдкреНрд░рдХрд╛рд░ <b>"t2.micro" рдХрд╛</b> рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ 1 рд╡реАрд╕реАрдкреАрдпреВ, 1 рдЬреАрдмреА рдореЗрдореЛрд░реА, 8-30 рдЬреАрдмреА (рдПрд╕рдПрд╕рдбреА / рдореИрдЧреНрдиреЗрдЯрд┐рдХ) рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдФрд░ 750 рдШрдВрдЯреЗ рдХрд╛ рдХрд╛рдо рд╣рд░ рдорд╣реАрдиреЗ рдореБрдлреНрдд рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ "рд╡рд░реНрдЪреБрдЕрд▓ рд░рд╛рдЙрдЯрд░" рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдореБрдлреНрдд рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдФрд░ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╕рднреА рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╡рд┐рддреНрддреАрдп рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рдиреЗ / рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдореБрдлреНрдд рдореЗрдВ рдЫреЛрдбрд╝рдХрд░ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рдЦрд░реНрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  "рдЕрдЧрд▓рд╛ ..." рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдореЗрдВ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рддреАрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ рд╣рдо рд╕рднреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ, 4 рд╡реЗрдВ рдкрд░ рд╣рдо SSD рдбрд┐рд╕реНрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЗ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд 8 рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рд╕реЗ рд╕рд╣рдордд рд╣реИрдВ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХреА рд╕рдореАрдХреНрд╖рд╛ рдФрд░ рд▓реЙрдиреНрдЪ рдмрдЯрди рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/ta/dv/of/tadvofw_fyn1iozzpgvxiwaswla.png"><br><br>  рдЙрд╕рдХреЗ рдмрд╛рдж рд╣рдореЗрдВ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдорд╛рд░реЗ рд╕рд╛рде рдЬреБрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдИ рдХреБрдВрдЬреА рдЬреЛрдбрд╝реА рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд┐рдВрдбреЛ рдорд┐рд▓реЗрдЧреА рдФрд░ рдЗрд╕ рдЬреЛрдбрд╝реА рдХреЛ рдирд╛рдо рджреЗрдиреЗ рдФрд░ * .pem рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдирд┐рдЬреА рдХреБрдВрдЬреА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рд╣реЛрдЧрд╛ред  рд╣рдореЗрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рддреБрд░рдВрдд рд╕реБрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдкрд░ рд╕рд╣реЗрдЬрдирд╛ рдЙрдЪрд┐рдд рд╣реИред  рдпрджрд┐ рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдЦреЛ рдЧрдИ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреВрд░рд╕реНрде рд░реВрдк рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдЦреЛ рджреЗрдВрдЧреЗред  EC2 рдореЗрдВ, рдореМрдЬреВрджрд╛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдкреБрдирд░реНрдЬреАрд╡рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ, рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рдЙрджрд╛рд╣рд░рдг рдбрд┐рд╕реНрдХ рдХреЛ рджреВрд╕рд░реЗ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкрд╣реБрдВрдЪ рдФрд░ рдмрд╛рдж рдореЗрдВ рдХреБрдВрдЬреА рд╕рдВрдкрд╛рджрди рд╣реИред <br><br>  рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж, рдЙрджрд╛рд╣рд░рдг рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕рдореЗрдВ рдПрдХ рдЖрдВрддрд░рд┐рдХ (рдирд┐рдЬреА) рдФрд░ рдмрд╛рд╣рд░реА (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ) рдЖрдИрдкреАрд╡реА 4 рдкрддрд╛ рд╣реЛрдЧрд╛, рд╕рд╛рде рд╣реА рджреЛ рд╕рдВрдмрдВрдзрд┐рдд рдбреАрдПрдирдПрд╕ рдирд╛рдо рднреА рд╣реЛрдВрдЧреЗред <br>  рдЕрдкрдиреА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдпрд╛рддрд╛рдпрд╛рдд рдкреНрд░рд╡рд╛рд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ рдХреЛ рддреБрд░рдВрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/ex/rh/7y/exrh7yxlnlqsb36u5pdqifxrdb8.png"><br><br>  рд╣рдореЗрдВ IPSec L2TP рд╡реАрдкреАрдПрди рд╕реБрд░рдВрдЧ, рд╣реЛрдо рдлрд╛рд░реНрдо рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рд▓рд┐рдП HTTP рдФрд░ HTTPS рдХреЗ рдЖрдпреЛрдЬрди рдХреЗ рд▓рд┐рдП рдЦреБрд▓реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ 500, 1701, 4500 UDP рдФрд░ 4500 рдЯреАрд╕реАрдкреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░реА рдкрд╣реБрдВрдЪ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреНрдпреЛрдВрдХрд┐  EC2 рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рд╡реЗрдм рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХрдВрд╕реЛрд▓ рддрдХ рдХреЛрдИ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд░рдЦрддрд╛ рд╣реИред  рдХреЗрд╡рд▓ рд╕реНрдХреНрд░реАрди рджреЗрдЦрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/zr/g4/uw/zrg4uw5t3_nihfjq8qaipfwxfkw.png"><br><br>  рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдШрд░ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рд╕реЗ рд╡реАрдкреАрдПрди рдФрд░ рдПрд╕рдПрд╕рдПрдЪ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╣реИред  рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рдирд┐рдпрдореЛрдВ рдХрд╛ рдХреНрд░рдо рдорд╛рдпрдиреЗ рдирд╣реАрдВ рд░рдЦрддрд╛ред <br><br>  рдЪреВрдВрдХрд┐ рд╣рдо рдХрдИ NAT рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, AWS рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ <b>"рдиреЗрдЯрд╡рд░реНрдХ рд╕реНрд░реЛрдд / рдЧрдВрддрд╡реНрдп рдЬрд╛рдБрдЪ"</b> рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/oa/6m/mg/oa6mmgeh6dyzg6sjxzdj0lkzbne.png"><br><br>  рдЪреВрдВрдХрд┐ рд╣рдо IPSec рдЯрдирд▓рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдФрд░ рдкрд░рд┐рд╡рд╣рди рдирд╣реАрдВ, рдпрд╣ рд╕реЗрдЯрд┐рдВрдЧ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмрд╣реБрдд рдорд╛рдпрдиреЗ рдирд╣реАрдВ рд░рдЦрддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд┐рд░реНрдл рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕реЗ рдмрдВрдж рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред <br><br>  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред  рдпрджрд┐ рдЖрдк рдПрдХ рдЧреНрд░рд╛рдлрд┐рдХрд▓ SSH рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, PuTTY, рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрдиреЗрдХреНрд╢рди рдкрд░ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдорджрдж, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП RMB рджреНрд╡рд╛рд░рд╛ рдмреБрд▓рд╛рдпрд╛ -&gt; рдХрдиреЗрдХреНрдЯ, рдЖрдкрдХреА рдорджрдж рдХрд░реЗрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/dc/tm/s1/dctms1dbkmpble2n5vojwkdq3py.png"><br><br>  рдЕрдореЗрдЬрд╝реЕрди рд▓рд┐рдирдХреНрд╕ рдЖрд░рдПрдЪрдИрдПрд▓ рдФрд░ рд╕реЗрдВрдЯреЛрд╕ рд╕реЗ рдПрдХ рд╡рдВрд╢рд╛рд╡рд▓реА рд░рдЦрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрдо рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рд╕рднреА рдСрдкрд░реЗрд╢рдиреЛрдВ рдХреЛ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЙрдиреНрд╣реЗрдВ рд╕реВрдбреЛ рдХреЗ рд╕рд╛рде рдкрд╣рд▓реЗ рдпрд╛ рдмрд╕ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдкрд╣рд▓рд╛ рдЕрдкрдбреЗрдЯ: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum update</span></span></code> </pre> <br>  рд╡реАрдкреАрдПрди рд╕рд░реНрд╡рд░ рдХреЗ рдЖрдпреЛрдЬрди рдХреЗ рд▓рд┐рдП рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рд▓рд╛рдЗрдмреНрд░реЗрд╢реНрд╡рди рдФрд░ xl2tpd рдХреЗ рд╕рдВрдпреЛрдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдмрд░реЗрд╕реНрд╡рд╛рди</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдУрдкреЗрдВрд╕рд╡рд╛рди рдХрд╛</a> рдХрд╛рдВрдЯрд╛ рдФрд░ рд╕реНрдЯреНрд░рд╛рдВрдЧрд╡рд╛рди рдХрд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ) рд╡реАрдкреАрдПрди IPSec рдФрд░ IKE (рдЗрдВрдЯрд░рдиреЗрдЯ рдХреБрдВрдЬреА рдПрдХреНрд╕рдЪреЗрдВрдЬ) рдХрд╛ рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИред  рдпрд╣ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ NAT рдФрд░ рдЙрдирдХреЗ рд╕рдВрдпреЛрдЬрдиреЛрдВ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдмрд╛рдпрдкрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ IPSec рдЯрдирд▓рд┐рдВрдЧ рдХрд╛ рдЖрдпреЛрдЬрди рдХрд░рддреЗ рд╕рдордп рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">xl2tpd рдХрд╛</a> рд╡реНрдпрд╛рдкрдХ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рд▓рд╛рдн рдкреАрдкреАрдкреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдиреЗрдХреНрд╢рди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдФрд░ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдХреНрд╖рдорддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдИрдкреА рдкрддреЗ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рд░реНрдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕, рдбреАрдПрдирдПрд╕ рд╕рд░реНрд╡рд░, рдЖрджрд┐), рдЬреЛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдбреАрдПрдЪрд╕реАрдкреА рдФрд░ рд░реЗрдбрд┐рдпрд╕ рддреИрдирд╛рддреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред рд╕рд░рд▓ рдХрд╛рд░реНрдпред <br><br>  рдЪреВрдВрдХрд┐ xl2tpd рдорд╛рдирдХ рдЕрдореЗрдЬрд╝реЕрди рд▓рд┐рдирдХреНрд╕ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ EPEL (рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рд▓рд┐рдирдХреНрд╕ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдкреИрдХреЗрдЬ) рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum-config-manager --enable epel</span></span></code> </pre> <br><h3>  рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </h3><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum install libreswan xl2tpd -y</span></span></code> </pre> <br><h3>  рдХрд░реНрдиреЗрд▓ рд╕реНрддрд░ рд░реВрдЯрд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ: </h3><br>  рдлрд╝рд╛рдЗрд▓ рдореЗрдВ <b>/etc/sysctl.conf рд╣рдо</b> рд▓рд┐рдЦрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">net.ipv4.ip_forward = 1 net.ipv4.conf.all.accept_redirects = 0 net.ipv4.conf.all.secure_redirects = 1 net.ipv4.conf.all.send_redirects = 0 net.ipv4.conf.default.accept_redirects = 0 net.ipv4.conf.default.secure_redirects = 0 net.ipv4.conf.default.send_redirects = 0 net.ipv4.conf.lo.accept_redirects = 0 net.ipv4.conf.lo.secure_redirects = 0 net.ipv4.conf.lo.send_redirects = 0 net.ipv4.conf.eth0.accept_redirects = 0 net.ipv4.conf.eth0.secure_redirects = 0 net.ipv4.conf.eth0.send_redirects = 0 net.ipv4.conf.all.rp_filter = 0 net.ipv4.conf.default.rp_filter = 0 net.ipv4.conf.eth0.rp_filter = 0</code> </pre><br>  рд╡рд░реНрддрдорд╛рди рд╕рддреНрд░ рдореЗрдВ <b>rp_filter</b> рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВ рддрд╛рдХрд┐ рд░рд┐рдмреВрдЯ рди тАЛтАЛрд╣реЛ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># for f in /proc/sys/net/ipv4/conf/*/rp_filter ; do # echo 0 &gt; $f # done</span></span></code> </pre><br>  рд╣рдо рд╕реЗрдЯрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд░реВрдЯрд┐рдВрдЧ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># sysctl -p /etc/sysctl.conf # cat /proc/sys/net/ipv4/ip_forward</span></span></code> </pre><br>  рд╣рдореЗрдВ рдЕрдкрдиреЗ рднрд╡рд┐рд╖реНрдп рдХреЗ IPSec рд╕реБрд░рдВрдЧ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ) рдкреИрдХреЗрдЯ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рди рдХреЗрд╡рд▓ рдЗрди рдкреИрдХреЗрдЯреЛрдВ рдХреЛ рдбреА-рдПрдирдПрдЯреА рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдмрд▓реНрдХрд┐ <b>рдкреАрдкреАрдкреА</b> рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ <b>рдорд╕реНрдХрд╛рд░рд┐рдВрдЧ</b> рднреА рдХрд░рдирд╛ рд╣реИред <br>  рд╣рдо рдЗрд╕рдХреЗ рд▓рд┐рдП рдмрд┐рд▓реНрдЯ-рдЗрди <b>iptables</b> рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ рдЕрдореЗрдЬрд╝реЕрди рд▓рд┐рдирдХреНрд╕ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╢реБрд░реВ рдореЗрдВ рдХрд┐рд╕реА рднреА рджрд┐рд╢рд╛ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╢реБрд░реВ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br>  рдЖрд╡рд╢реНрдпрдХ рдкреЛрд░реНрдЯ рдХрд╛ DNAT рдмрдирд╛рдПрдВ: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 80 -j DNAT --to-destination 10.100.0.2:80 # iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 443 -j DNAT --to-destination 10.100.0.2:443</span></span></code> </pre> <br>  рдЙрди рд╕рднреА рдкреИрдХреЗрдЯреЛрдВ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░реЗрдВ рдЬреЛ рдЗрди рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдкрд░ рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдХреЗ рдкрддреЗ рдкрд░ рдЖрдП рдереЗ: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 80 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT # iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 443 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT</span></span></code> </pre> <br>  рдЗрди рдкреИрдХреЗрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рд╕реНрдХрд┐рдВрдЧ рдХрд░реЗрдВ: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE</span></span></code> </pre><br>  рдпрд╣ рд╕рд▓рд╛рд╣ рджреА рдЬрд╛рддреА рд╣реИ рдХрд┐ iptables рдирд┐рдпрдо рдмрдирд╛рдП рд░рдЦреЗрдВ рддрд╛рдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрдиреЗ рдкрд░ рд╡реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд╕ рдЬрд╛рдПрдВ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># service iptables save</span></span></code> </pre> <br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо IPv4 рдкрддреЗ 10.100.0.2 рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ eth0 рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рдЯреАрд╕реАрдкреА рдкреЛрд░реНрдЯ рдХреЗ DNAT (рдбреЗрд╕реНрдЯрд┐рдиреЗрд╢рди NAT) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ рд╣реЛрдо рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рд╣рдорд╛рд░реЗ рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдХреЗ рдЖрд░рдЖрд░рдПрдПрд╕ рд╕реЗрд╡рд╛ рдХреЗ рдкреАрдкреАрдкреА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ рдкрддрд╛ рд╣реИред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдмрд╣реБрдд рд╣реА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рд╣реИ: рдЪреВрдВрдХрд┐ рд╣рд╛рдЗрдкрд░рд╡рд╛рдЗрдЬрд╝рд░ рдХреЗ рдЕрдВрджрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреИрдХреЗрдЯ рднреЗрдЬрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ <b>ppp0</b> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ <b>рдорд╕реНрдХрд╛рд░рд┐рдВрдЧ</b> (рдкреНрд░реЗрд╖рдХ рдкрддреЗ рдХреА рдЬрдЧрд╣) рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЕрдиреНрдпрдерд╛ рдЙрддреНрддрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рджрд┐рд╢рд╛ рдореЗрдВ рдЬрд╛рдПрдЧрд╛: рд╕реЗ IPSec рдЯрдирд▓ рдХреЗ рд╕рд╛рдордиреЗ рд╕реНрдерд┐рдд рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рд╕реАрдзреЗ рдбрд┐рдлреЙрд▓реНрдЯ рд░рд╛рдЙрдЯрд░ (рд╣реЛрдо рд░рд╛рдЙрдЯрд░) рдкрд░ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдпрд╣ рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рдкрд░ рдЧрд┐рд░рд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рдПрдХ рдЕрдирдЪрд╛рд╣реЗ рд╕рдВрд╕рд╛рдзрди рд╕реЗ рдЖрдпрд╛ рд╣реИред  рдпрджрд┐ рд╡реАрдкреАрдПрди рд╕реБрд░рдВрдЧ рдХреЗ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдкрд░ рдкреИрдХреЗрдЯ рд╣реЗрдбрд░ рдореЗрдВ рдорд╕реНрдХрд╛рд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреНрд░реЗрд╖рдХ рдХрд╛ рдкрддрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдХрд╣реАрдВ рдкрддреЗ рд╕реЗ <b>рдмрджрд▓рдХрд░</b> рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдЙрджрд╛рд╣рд░рдг <b>рдХреЗ</b> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ <b>ppp0</b> : EC2, рдЕрд░реНрдерд╛рдд  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ 10.100.0.1 рдкрд░ <br><br>  рдЕрдиреНрдп рд▓рд┐рдирдХреНрд╕ рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрд╢рди рдпрд╛ * NIX рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП iptables рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдк рдЕрдЪреНрдЫреЗ рдкреБрд░рд╛рдиреЗ рд░реИрдиреЗрдЯ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рдпрд╣ рд╕рдм рдЖрдо рддреМрд░ рдкрд░ рдЗрд╕рдХреЗ <b>rinetd.conf рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди</b> рдореЗрдВ рдПрдХ рд▓рд╛рдЗрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">&lt;ip <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;port <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;ip destination&gt; &lt;port destination&gt;</code> </pre> <br>  рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рдХреЛ рд░реВрдЯ / рдПрдирдПрдЯреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред <br><br><h3>  рдпрд╣ рд▓рд╛рдЗрдмреНрд░реЗрд╢реНрд╡рди рдкрдХрд╛рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред </h3><br>  <b>/Etc/ipsec.conf</b> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ <b>/etc/ipsec.d/</b> рд╕реЗ рд╕рднреА .conf рдлрд╝рд╛рдЗрд▓реЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП, рд╣рдо /etc/ipsec.d/aws_vpn.conf рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдПрдХ рдирдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЗрд╕рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">config setup <span class="hljs-comment"><span class="hljs-comment">#       # plutostderrlog=/var/log/pluto.log # logfile=/var/log/pluto.log # plutodebug = all #  NAT-T -   NAT- nat_traversal=yes oe=off protostack=netkey nhelpers=0 interfaces=%defaultroute conn aws_vpn type=tunnel auto=start forceencaps=yes pfs=no fragmentation=yes authby=secret left=%defaultroute #   &lt;тАж&gt;      Elastic IP leftid=&lt;тАж&gt; #   &lt;тАж&gt;     (172...) leftsubnet=&lt;тАж&gt;/32 leftnexthop=%defaultroute leftprotoport=17/1701 rightprotoport=17/%any right=%any rightsubnetwithin=0.0.0.0/0 rightsubnet=vhost:%priv</span></span></code> </pre><br>  рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рд╕рд╛рдЭрд╛ рдХреБрдВрдЬреА (PSK) рдХреЗ рдЖрдзрд╛рд░ рдкрд░ IPSec рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдирд╣реАрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдлрд╝рд╛рдЗрд▓ <b>/etc/ipsec.secrets</b> рдореЗрдВ <b>/etc/ipsec.d/</b> рд╕реЗ рд╕рднреА .secrets рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рд╣реИрдВ, рд╡рд╣рд╛рдВ рд╣рдо рдПрдХ рдирдИ рдлрд╝рд╛рдЗрд▓ <b>/etc/ipsec.d/aws_vpn.secrets рдмрдирд╛рддреЗ рд╣реИрдВ</b> рдФрд░ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЗрд╕рдореЗрдВ PSK рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">&lt;     172...&gt; %any : PSK <span class="hljs-string"><span class="hljs-string">"&lt; PSK&gt;"</span></span></code> </pre> <br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ: <br><br><pre> <code class="bash hljs">172.31.20.120 %any : PSK <span class="hljs-string"><span class="hljs-string">"Pa$</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$w0rd</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  рдЪреВрдВрдХрд┐ IPSec рд╕реБрд░рдВрдЧ рдХреЗ рдЕрдВрджрд░ ppp рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдЗрд╕рдХрд╛ рдЕрдкрдирд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╣реИ, рд╣рдо рдЗрд╕реЗ рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ: <br>  рд╣рдо рдлрд╝рд╛рдЗрд▓ <b>/ рдЖрджрд┐ /</b> рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рджрд░реНрдЬ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">&lt;user&gt; * &lt;password&gt; *</code> </pre> <br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ: <br><br><pre> <code class="bash hljs">aws_user * Pa$<span class="hljs-variable"><span class="hljs-variable">$w0rd</span></span> *</code> </pre> <br>  Ppp рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╕рдордп, рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рдЙрд╕рдХреЗ рднрд╛рдЧ рдХреЗ рд░рд╛рдЙрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдкрд╛рд╕ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред <br><br>  <b>/Etc/ppp/options.xl2tpd</b> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  xl2tpd  ip   ipcp-accept-local ipcp-accept-remote #    defaultroute   Windows-    nodefaultroute noccp auth #   RRAS  Windows-  mschap-v2   require-mschap-v2 #   MTU  MRU mtu 1410 mru 1410 lock</span></span></code> </pre><br>  рдХреНрдпреЛрдВрдХрд┐  рд╣рдореЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдбреАрдПрдирдПрд╕, рдЬреАрдд рдЖрджрд┐ рдХреЛ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реИред  рдмрд╛рддреЗрдВ - рдЕрдиреНрдп рд╕рднреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдХреЙрдиреНтАНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╡рд┐рд╡рд░рдг рдЪрд╛рд╣рд┐рдПред <br><br>  рд╡реАрдкреАрдПрди рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреНрд▓рд╛рдЗрдВрдЯ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдПрдХ рдирдпрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╣реИ, рдЬреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рд╕рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╡реАрдкреАрдПрди рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ "рдЬрд╛рдиреЗ" рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд░рддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдЧрд▓рдд рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдХрд╛ рд▓рдХреНрд╖реНрдп рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рдЗрд╕рдХреЗ рдкреАрдЫреЗ рд╡рд░реНрдЪреБрдЕрд▓ рдСрдлрд┐рд╕ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рд╕рд┐рдореНрдпреБрд▓реЗрдЯреЗрдб рдПрдХреНрд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдФрд░ рдЖрдВрддрд░рд┐рдХ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ AWS: EC2 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдирд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП AWS: EC2 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдбреНрд░рд╛рдЗрд╡ рдХрд░рдирд╛ рддрд░реНрдХрд╣реАрди рд╣реИред  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЖрд░рдЖрд░рдПрдПрд╕ рдореЗрдВ рд╡реАрдкреАрдПрди рдХрдиреЗрдХреНрд╢рди рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рд░реНрдЧ (рдПрдХ рд╣реЛрдо рд░рд╛рдЙрдЯрд░) рдореЗрдВ рдмрджрд▓рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рд╕рд╣реА MTU рдФрд░ MRU рдореВрд▓реНрдпреЛрдВ рдХреЛ рдЪреБрдирдирд╛ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: рд╣рдо IPSec рдЯрдирд▓рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдмрд╣реБрдд рдмрдбрд╝реЗ рдкреЗрд▓реЛрдб рдХрд╛ рдЖрдХрд╛рд░ рдПрдирдХреИрдкреНрд╕реБрд▓реЗрд╢рди рд╕реАрдорд╛ рдореЗрдВ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╡рд┐рдЦрдВрдбрди рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рддреНрд░реБрдЯрд┐ рд╣реЛрдЧреАред  рдпрджрд┐ рдРрд╕рд╛ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 1280 рддрдХред рджрд┐рдП рдЧрдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдП рдЧрдП рдорд╛рди рд╡рд┐рдВрдбреЛрдЬ рд╡реАрдкреАрдПрди рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реИрдВред <br><br><h3>  рдпрд╣ xl2tpd рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИ </h3><br>  рд╣рдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ xl2tpd <b>/etc/xl2tpd/xl2tpd.conf</b> рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдЪреАрдЬрд╝реЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ <b>рдХрд░рддреЗ рд╣реИрдВ</b> : <br><br><pre> <code class="bash hljs">[global] port=1701 ipsec saref = yes ; ,      ;debug tunnel = yes ;debug avp = yes ;debug network = yes ;debug state = yes ;debug tunnel = yes [lns default] name = AWSvpnServer ;       ppp ip range = 10.100.0.2-10.100.0.2 ;    ppp0 AWS:EC2  <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> ip = 10.100.0.1 require authentication = yes require chap = yes refuse pap = yes pppoptfile = /etc/ppp/options.xl2tpd length bit = yes</code> </pre><br><h3>  рд╣рдо рд╡рд╣ рд╕рдм рдХреБрдЫ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдордиреЗ рдХрд┐рдпрд╛ рд╣реИ </h3><br>  рд╣рдо рджреЛрдиреЛрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рдФрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">service ipsec start service xl2tpd start ipsec verify</code> </pre><br>  рд╕реЗрд╡рд╛рдПрдБ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЪрд▓ рд░рд╣реА рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рдЬрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╡реЗ рдмрд╕ рдкреБрдирдГ рдЖрд░рдВрдн рдХреА рдЬрд╛рддреА рд╣реИрдВред <br><br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, рддреЛ ipsec рд╕рддреНрдпрд╛рдкрди рд╕реЗ рдЖрдЙрдЯрдкреБрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдХреЗ рд╕рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/o1/rv/br/o1rvbrchcizb6jn9qewgrj_hrn4.png"><br><br>  рдЖрдк рдЗрд╕реЗ -D рд╕реНрд╡рд┐рдЪ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдХрд░ рдФрд░ <b>рд╕реНрдХреНрд░реАрди</b> рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ SSH рдЯрд░реНрдорд┐рдирд▓ рдХреЗ рдПрдХ рдЕрд▓рдЧ "рд╡рд┐рдВрдбреЛ" рдореЗрдВ рд▓рдЯрдХрд╛рдХрд░ xl2tpd рдХреЛ рдЕрдВрддрдГрдХреНрд░рд┐рдпрд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдбрд┐рдмрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># xl2tpd -D</span></span></code> </pre> <br>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, xl2tpd рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдПрдЧреА, рд▓реЗрдХрд┐рди рдЯрд░реНрдорд┐рдирд▓ рд╕реНрдХреНрд░реАрди рдкрд░ рдЕрдкрдиреА рд╕рднреА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧреАред <br><br>  рдХрд┐рд╕реА рднреА рд╕рдорд╕реНрдпрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди (рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦреЗрдВ) рдореЗрдВ рдбрд┐рдмрдЧрд┐рдВрдЧ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдЕрдирд╕реБрдирд╛ рдХрд░рдиреЗ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рд▓реЙрдЧ рдХреА рд╕рд╛рдордЧреНрд░реА рдФрд░ <b>/var/log/pluto.log</b> рдлрд╝рд╛рдЗрд▓ рдХреЛ рджреЗрдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ <b>/etc/ipsec.conf</b> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ <b>virtual_pStreet / virtual-private</b> рд╡рд┐рдХрд▓реНрдк рдХреА рд╕рд╛рдордЧреНрд░реА рдкрд░ рднреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ, рдпрд╣ IPSec рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛ рдХреЗ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╕рднреА рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдЖрдкрдХрд╛ рдЕрдкрдирд╛ рдкрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕рдлреЗрдж IPv4 рдкрддреЛрдВ рдХреЗ рдЕрдкрдиреЗ рдкреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h3>  рдЪрд▓реЛ рдЕрдВрддрд┐рдо рдЪрд░рдг рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВ - рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдореЗрдВ рдЖрд░рдЖрд░рдПрдПрд╕ рд╕реЗрд╡рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдФрд░ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ </h3><br>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдШрд░ рдХреЗ рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдореЗрдВ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╣реИ рдЬреЛ рд╡рд┐рдВрдбреЛрдЬ 2012R2 рдпрд╛ рдирдИ рдЪрд▓ рд░рд╣реА рд╣реИ, рдЬрд┐рд╕реЗ рдЧреНрд░рд╛рдлрд┐рдХрд▓ (рдбреЗрд╕реНрдХрдЯреЙрдк) рдореЛрдб рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдореЗрдВ рджреЛ рдиреЗрдЯрд╡рд░реНрдХ рдПрдбреЗрдкреНрдЯрд░ рд╣реИрдВ: рдПрдХ "рд╣реЛрдо рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ" рджрд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╣реЛрдо рд░рд╛рдЙрдЯрд░ рд╣реИред рдФрд░ рджреВрд╕рд░рд╛ рдПрдХ рдЖрднрд╛рд╕реА рд╕реНрдерд╛рдиреАрдп "рдХрд╛рд░реНрдпрд╛рд▓рдп" рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ, рдЬрд┐рд╕рдореЗрдВ рдмрд╛рд╣рд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╕реЗрд╡рд╛рдПрдВ рд╣реИрдВред  рдПрдХ рд╡рд┐рдВрдбреЛрдЬрд╝ рдбреЛрдореЗрди рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣реИ, рдЬрдм рддрдХ рдХрд┐ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕реНрд╡рдпрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛред <br><br>  рд╣рдо рд╕рд░реНрд╡рд░ рдкреНрд░рдмрдВрдзрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╛ PowerShell <b>Install-WindowsFeature</b> cmdlet рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рднреВрдорд┐рдХрд╛рдПрдБ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/lv/vw/ul/lvvwull1qus2dpgplvaxfvjv_gq.png"><img src="https://habrastorage.org/webt/pc/ag/80/pcag80h9dc8jq6gtim8jbdoeseq.png"><br><br>  рдпрд╣рд╛рдВ рдореИрдВ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреВрдорд┐рдХрд╛рдУрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реВрдВ, рдХреНрдпреЛрдВрдХрд┐ рддрдм рд╕рд░реНрд╡рд░ рдореИрдиреЗрдЬрд░ рд╕реЗ рд╕реЗрдЯрдЕрдк рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛ рдФрд░ рд╢реЗрдбреНрдпреВрд▓ рдореЗрдВ рд╣реА рдЖрд░рдЖрд░рдПрдПрд╕ рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрдЧрд╛, рдЬреЛ рд╣рдореЗрдВ рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ 2003 рдХреЗ рд╕рдордп рд╕реЗ рдкреБрд░рд╛рдиреЗ рдкреБрд░рд╛рдиреЗ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рдЦреБрд╢ рдХрд░реЗрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/ai/rx/hz/airxhzrmjcbvyopop4rt_rcu4ga.png"><br><br>  рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдЖрд░рдПрдордмреА рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, <b>"рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдФрд░ рд░рд╛рдЙрдЯрд┐рдВрдЧ рдФрд░ рд░рд┐рдореЛрдЯ рдПрдХреНрд╕реЗрд╕ рд╕рдХреНрд╖рдо</b> рдХрд░реЗрдВ <b>"</b> рдЪреБрдиреЗрдВ рдФрд░ рдлрд┐рд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/na/gj/bc/nagjbch0d6jxmyjzgywhnqqe17s.png"><br><br>  рд╕рднреА jackdaws рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ, рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВ рдФрд░ рд╕реЗрд╡рд╛ рд╢реБрд░реВ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/ku/ir/sq/kuirsqjvnmskwfjrikybcl2kacu.png"><br><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЕрдкрдиреЗ рд╡рд░реНрдЪреБрдЕрд▓ рд▓реЛрдХрд▓ рдПрд░рд┐рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдмрд╛рд╣рд░ рдЫреЛрдбрд╝ рджреЗрдВред  рд╣рдо IPv4-&gt; NAT рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдореМрдЬреВрджрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЬрд┐рд╕ рдкрд░ NAT рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдмрд╛рд╣рд░реА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (рдЬреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдореЗрдВ рджрд┐рдЦрддрд╛ рд╣реИ, рдпрд╛ рдЖрдкрдХреЗ рд╣реЛрдо рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ) рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдЗрд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВ рдФрд░ NAT рдХреЛ рдЗрд╕ рдкрд░ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/gk/zh/lx/gkzhlxjyvjsgkhdnfvaqyhcn3xo.png"><img src="https://habrastorage.org/webt/kw/wx/xw/kwwxxw5u1gtezu2moo-3beokuli.png"><br><br>  рд╣рдо рдпрд╣ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдЧреЗрдЯ рд╕реЗ рд╡рд░реНрдЪреБрдЕрд▓ рд▓реИрди рд╕реЗ рдЯреНрд░реИрдлрд┐рдХ рдХреИрд╕реЗ рдирд┐рдХрд▓рддрд╛ рд╣реИред  рд╣рдореЗрдВ рдЕрднреА рддрдХ рд╡рд┐рдВрдбреЛрдЬ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, рддреЛ рд╣рдо рдЕрдВрддрддрдГ рд╡рд╣реА рдмрдирд╛рдпреЗрдВрдЧреЗ рдЬреЛ рд╣рдо рд▓рдбрд╝ рд░рд╣реЗ рдереЗ, рд╣рдорд╛рд░реЗ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╡реАрдкреАрдПрди рдХрдиреЗрдХреНрд╢рди рдФрд░ рд╣рдорд╛рд░реА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред  рд╣рдо рдЖрд░рдЖрд░рдПрдПрд╕ рд╕реНрдиреИрдк-рдЗрди рдореЗрдВ <b>"рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕" рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ</b> рдФрд░ рдПрдХ рдордирдорд╛рдиреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдбрд┐рдорд╛рдВрдб-рдбрд╛рдпрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/-v/04/yx/-v04yxa-najhry2evwovvtydsby.png"><br><br>  L2TP рдХрдиреЗрдХреНрд╢рди рдХрд╛ рддреБрд░рдВрдд рдЪрдпрди рдХрд░реЗрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╛рд░рд╛ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╡реАрдкреАрдПрди рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдпрд╣ рддреЗрдЬреА рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/jg/mw/xb/jgmwxbg1nzbih2grilgopxrlfv8.png"><br><br>  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдореЗрдВ рдЖрдЧреЗ рд╣рдо рдЕрдкрдиреЗ рдХреНрд▓рд╛рдЙрдб (рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА) рдХреЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкрддреЗ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддреЗ рд╣реИрдВред  рдЕрдЧрд▓реЗ рдЪрд░рдгреЛрдВ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдЫреЛрдбрд╝ рджреЛ рдЬреИрд╕рд╛ рд╡рд╣ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рд╣рдореЗрдВ рд╕рд╛рдЗрдЯ-рдЯреВ-рд╕рд╛рдЗрдЯ рдХрдиреЗрдХреНрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/fa/fn/p7/fafnp7fmggqxnbmosjcpdkx1wck.png"><img src="https://habrastorage.org/webt/d1/zc/wm/d1zcwmsgomejupu7if4ynp2rqjk.png"><br><br>  рдЙрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдЬрд┐рд╕рдХреЗ рддрд╣рдд рд╣рдордиреЗ рдкреАрдкреАрдкреА рдХрдиреЗрдХреНрд╢рди (рдлрд╝рд╛рдЗрд▓ <b>/ рдЖрджрд┐ / рдкреАрдкреАрдкреА / рдЪреИрдк-рд░рд╣рд╕реНрдпреЛрдВ рдореЗрдВ</b> ) рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рд╣реИред  рдХреЛрдИ рдбреЛрдореЗрди рдирд╛рдо рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/zc/to/ei/zctoei91of_eyji6fncqhgvcii4.png"><br><br>  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдПрдХ рдирдпрд╛ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рддрд╛ рд╣реИред  рдЕрдм рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдмрд╛рдХреА рд╣реИред  рд╣рдо рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЯрд╛рдЗрдордЖрдЙрдЯ (рдирд┐рд╖реНрдХреНрд░рд┐рдп-рд╕рдордп) рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░реЗрдВрдЧреЗ, рдХреЗрд╡рд▓ MS-CHAPv2 рдХреЗ рдкрдХреНрд╖ рдореЗрдВ рдкреБрд░рд╛рдиреЗ CHAP рдХреЛ рд╣рдЯрд╛ рджреЗрдВ, "рдЙрдиреНрдирдд рдЧреБрдг" рдореЗрдВ PSK рдХреБрдВрдЬреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ (рдЬреЛ рдлрд╝рд╛рдЗрд▓ /etc/ipsec.d/aws_vpn рдореЗрдВ xl2tpd рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХреА рдЧрдИ рдереАред рд░рд╣рд╕реНрдп) рдФрд░ IPv6 рдХреЛ рд╣рдЯрд╛ рджреЗрдВ: <br><br><img src="https://habrastorage.org/webt/a0/qf/tf/a0qftfatglil4qkjv-hyn5hzvlc.png"><img src="https://habrastorage.org/webt/ax/hy/hu/axhyhuwgchr9z2vhmel17jjbx1s.png"><img src="https://habrastorage.org/webt/vq/xl/qz/vqxlqzejzpi3rs0i9x0r5ol9fkg.png"><img src="https://habrastorage.org/webt/km/ro/um/kmroumh0brc2_yq3przzb-a7jm8.png"><br><br>  рдПрдХ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рд╕реНрд╡рдпрдВ RRAS рд╕реЗрд╡рд╛ рдХреЗ рдЧреБрдгреЛрдВ рдореЗрдВ рднреА рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, L2TP рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА IPSec рдиреАрддрд┐ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ рдФрд░ рдЕрдкрдирд╛ PSK рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред  рдЙрдиреНрд╣реЗрдВ RRAS рд╕реЗрд╡рд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/h8/0w/zk/h80wzkz1pfymizhrqruvwrgj9di.png"><br><br>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЙрдард╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдХрд╛рдо рдХрд╛ рдЖрдирдВрдж рд▓реЗ рд╕рдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдирд╣реАрдВред  рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рд╣рдордиреЗ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕: рдИрд╕реА 2 рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдПрдирдПрдЯреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛, рд╡рд┐рдВрдбреЛрдЬ рд╡реАрдкреАрдПрди рдХреНрд▓рд╛рдЗрдВрдЯ рдРрд╕реЗ рдиреЗрдЯ-рдЯреНрд░реИрд╡рд░реНрд╕рд▓ рдиреЛрдб рд╕реЗ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред  рдпрд╣ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ (рд╡рд┐рдВрдбреЛрдЬ 10 рдмрд┐рд▓реНрдб рдХреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд▓реЗрдЦрди рдХреЗ рд╕рдордп рдирд╡реАрдирддрдо рддрдХ) рдФрд░ рд╕рд░реНрд╡рд░ рд╡рд╛рд▓реЗ рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рд╣реИред <br><br>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, IPSec рдиреАрддрд┐ рд╕реЗрд╡рд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рд╕рдВрдкрд╛рджрди рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдПрдХ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕рдорд╛рдзрд╛рди рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдПрдХ рд╡рд┐рджреНрд░реЛрд╣ рд╣реЛрддрд╛ рд╣реИ: <br><br>  рдкрд░ <br>  <b>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Services \ PolicyAgent</b> <br>  DWORD (32-рдмрд┐рдЯ) рдХреБрдВрдЬреА рдмрдирд╛рдПрдБ <br>  <b>рдорд╛рди рд▓реЗрдВ</b> <br>  рдФрд░ рд╣рдорд╛рд░реЗ рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдХреЛ рд░реАрдмреВрдЯ рдХрд░реЗрдВред <br><br>  рдЖрд░рдЖрд░рдПрдПрд╕ рд╕реЗрд╡рд╛ рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдФрд░ рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдЕрдкрдиреА рдорд┐рддрд╡реНрдпрдпрд┐рддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рд┐рджреНрдз рд╣реИ, рдФрд░ рдПрдХ рд░рд┐рдмреВрдЯ рдХреЗ рдмрд╛рдж рднреА, рдпрд╣ рдПрдХ рд╡рд┐рд▓рдВрдмрд┐рдд рд╢реБрд░реБрдЖрдд рдХрд░рддрд╛ рд╣реИред  рддреЛ рдЖрдк рдЗрд╕реЗ рд░рд┐рдмреВрдЯ рдХреЗ рдмрд╛рдж рдЬрд▓реНрджреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХрдиреЗрдХреНрд╢рди 5-10 рд╕реЗрдХрдВрдб рдХреЗ рднреАрддрд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред <br><br>  рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЛ рд╡рд┐рдВрдбреЛрдЬ рдЧреЗрдЯ рдкрд░ рд╣реА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИред <br><br>  рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╣рдо рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХрд╛ рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдорд╛рд░реА IPSec рд╕реБрд░рдВрдЧ рдФрд░ iptables рдирд┐рдпрдо рджреЗрдЦреЗрдВред <br><br>  рдХрд╛рдВрдкрддреЗ рд╣рд╛рдереЛрдВ рд╕реЗ, рд╣рдо рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рдПрдХ рдордирдорд╛рдиреЗ рдкреАрд╕реА рд╕реЗ рдЬрд╛рдБрдЪ рдХрд░рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/ho/yg/c-/hoygc-blrya-dt30hytsmdruezg.png"><img src="https://habrastorage.org/webt/8v/yc/q7/8vycq7c2bsc6dqjcc3t7qzcacje.png"><br><br>  рд╡рд╛рд╣, рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ ... <br><br>  рдЖрд╡рд╢реНрдпрдХ рднреВрдорд┐рдХрд╛рдУрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рджреМрд░рд╛рди, "рдореВрд▓" рдПрдордПрд╕ IIS рдХреЛ рдЬрдмрд░рди рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕реЗ рдФрд░ рднреА рдЖрд╕рд╛рди рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рдВрдбреЛрдЬ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b>рдПрдЪрдПрдлрдПрд╕</b></a> (рдПрдЪрдЯреАрдЯреАрдкреА рдлрд╛рдЗрд▓ рд╕рд░реНрд╡рд░) рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЕрдиреБрдХреВрд▓ рд╣реИ - рдпрд╣ рдореБрдлрд╝реНрдд рд╣реИ, рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреГрд╖реНрда рдФрд░ HTTP рд╣реЗрдбрд░ рджреЗрддрд╛ рд╣реИ, рдПрдХ рдордирдорд╛рдирд╛ рдмрдВрджрд░рдЧрд╛рд╣ рдкрд░ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдпрд╣ 8080 рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ 80 рдХреЛ рдкреБрди: рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛), рдФрд░ рддреБрд░рдВрдд рдЕрдкрдиреЗ рдХрдВрд╕реЛрд▓ рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХрдиреЗрдХреНрд╢рди рдХрд╣рд╛рдВ рд╕реЗ рдЖрдпрд╛ рд╣реИ, рдЬреЛ рд╡рд┐рдВрдбреЛрдЬ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░ рдХрдИ рд╡реЗрдм рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЛ рдбреАрдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЖрд╡рд╢реНрдпрдХ рдкреЛрд░реНрдЯ рд╕реЗ рдПрдореНрдмреЗрдбреЗрдб рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдирд▓рд┐рдорд┐рдЯреЗрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ MS IIS рд╕рд╛рдЗрдЯ рдХреЛ рдмрдВрдж рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЪреВрдВрдХрд┐ рд╣рдо MS IIS рдкреНрд░рдмрдВрдзрди рдХрдВрд╕реЛрд▓ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ (рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, MS IIS 6 рдХрдВрд╕реЛрд▓ рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди IIS 7+ рдХреЛ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ), рд╣рдо рдЗрд╕реЗ PowerShell рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд░реЗрдВрдЧреЗ: <br><br><pre> <code class="bash hljs">Stop-WebSite -Name <span class="hljs-string"><span class="hljs-string">"Default Web Site"</span></span></code> </pre> <br>  рдпрд╛ рдмрд╕ рдЖрдИрд░рд┐рд╕рд╕реЗрдЯ рдкреНрд░рдмрдВрдзрди рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ: <br><br><pre> <code class="bash hljs">iisreset /stop</code> </pre> <br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдлрд╝рд╛рдпрд░рдлрд╝реЙрдХреНрд╕ рдореЗрдВ 80 рдЗрдирдмрд╛рдЙрдВрдб рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  рд╣рдо рдПрдЪрдПрдлрдПрд╕ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/ti/u2/bc/tiu2bcpm3ynhzteryfe9njxvfq4.png"><br><br>  рд╕рдм рдХреБрдЫ рдорд╣рд╛рди рд╣реИред  рд╣рдордиреЗ рдпрд╣ рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдпрд╛ рд╣реИ рдХрд┐ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдХрд╣реАрдВ рд╕реЗ рднреА рдЖрдк рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдорд╛рд░реЗ рдШрд░ рдореЗрдВ рдПрдХ рдЖрднрд╛рд╕реА рдорд╢реАрди рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЕрдирд┐рдпрдВрддреНрд░рд┐рдд рд╣рд╛рдЗрдкрд░рд╡рд╛рдЗрдЬрд╝рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд░рд╣рддрд╛ рд╣реИред <br><br>  рдЕрдВрддрд┐рдо рд╕реНрдкрд░реНрд╢: рд╣рдо рдЖрд░рдЖрд░рдПрдПрд╕ рдХреЛ рдЖрднрд╛рд╕реА рдХрд╛рд░реНрдпрд╛рд▓рдп рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдмрд╛рд╣рд░ рд╕реЗ рдРрд╕реЗ рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рдЦрд╛рддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рдХрд┐рдВрд╡рджрдВрддреА рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдФрд░ рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╣реИред <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдлрд┐рд░ рд╕реЗ рдЖрд░рдкреАрдПрдПрд╕ рдкреНрд░рдмрдВрдзрди рд╕реНрдиреИрдк-рдЗрди IPv4-&gt; рдиреЗрдЯ рдФрд░ рдЖрд░рдПрдордмреА рдкрд░ рдЕрдкрдиреЗ рд╡реАрдкреАрдПрди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╣рдо <b>"рд╕реЗрд╡рд╛ рдФрд░ рдкреЛрд░реНрдЯ"</b> рдЯреИрдм рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╕реВрдЪреА рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЖрдВрддрд░рд┐рдХ рд╡рд░реНрдЪреБрдЕрд▓ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣рдо рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред рдЗрдВрдЯрд░рдиреЗрдЯ: <br><br><img src="https://habrastorage.org/webt/d7/bq/jv/d7bqjv0ir3a2l8w4vzxpdax8nra.png"><br><br>  рдареАрдХ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ ... рд╕рдм рдХреБрдЫ рддреИрдпрд╛рд░ рд╣реИред  рд╣рдо рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ - рд╕рдм рдХреБрдЫ рдареАрдХ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рд╕рд░рд▓ рддрд░реАрдХреЗ рд╕реЗ, рдЖрдк рд╕рд╛рдЗрдЯреЛрдВ, рдореЗрд▓ рд╕рд░реНрд╡рд░реЛрдВ рд╕реЗ рд▓реЗрдХрд░ рдХреБрдЫ рдЬрдЯрд┐рд▓ рдПрдХреАрдХрд░рдг рддрдХ рд▓рдЧрднрдЧ рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рдФрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ DNS рдбреЛрдореЗрди рдХреЗ рд╕рд╛рде рдЙрд╕рдореЗрдВ рдЙрдк-рдбреЛрдореЗрди рдмрдирд╛рдиреЗ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд░рд┐рдХреЙрд░реНрдб рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рд╡реЗрдм рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SSL рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рднреА рдЙрдЪрд┐рдд рд╣реИ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">LetsEncrypt</a> рдФрд░ рдЗрд╕реА рддрд░рд╣ рдХреА рдПрд╕реАрдПрдордИ-рд╕рдВрдЧрдд рд╕реЗрд╡рд╛рдУрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж</a> , рдпрд╣ рд╕рдм рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирд┐: рд╢реБрд▓реНрдХ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрджреНрдпрддрди рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЬрдм рдЖрдк рдЖрд╡реГрддреНрддрд┐ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IPv4 рдкрддрд╛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ - рдХреЗрд╡рд▓ рдЬрдм рдЗрд╕реЗ рд░реЛрдХрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрднреА рднреА AWS: EC2 рдореЗрдВ рдПрдХ рд╕реНрдерд┐рд░ IPv4 рдкрддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣реИред  рдЗрд╕ рдЕрд░реНрде рдореЗрдВ рд╕реНрдерд┐рд░ рд╣реИ рдХрд┐ рдЬрдм рдЖрдк рдЕрдкрдиреЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдЙрд╕реЗ рд╕реМрдВрдкрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рдореБрдХреНрдд рдкреВрд▓ рдореЗрдВ рдирд╣реАрдВ рдЧрд┐рд░реЗрдЧрд╛ред  рдмреЗрд╢рдХ, рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рддрд╛рдХрд┐ рд╣рд░ рдмрд╛рд░ рдбреЛрдореЗрди рдореЗрдВ DNS рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдХреЗ рдкреБрдирд░реНрдЧрдарди рдХреЗ рд╕рд╛рде рдкрд░реЗрд╢рд╛рди рди рдХрд░реЗрдВ, рдФрд░ рдХрд┐рд╕реА рдиреЗ рднреА рдЯреАрдЯреАрдПрд▓ рдХреЛ рдХреЛрдЪрд┐рдВрдЧ рд╕реЗ рд░рджреНрдж рдирд╣реАрдВ рдХрд┐рдпрд╛ред  рдпрд╣ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдкреИрд╕реЗ рдЦрд░реНрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд╣реА рдКрдкрд░ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА</a> <br><br><h3>  рдЖрджрд┐рдо рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реНрд╡рдЪрд╛рд▓рди </h3><br>  рдЕрдВрдд рдореЗрдВ, рдореИрдВ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдХреА рдПрдХ рдФрд░ рдорд╣рд╛рди рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ: рдИрд╕реА 2 - рддреИрдирд╛рддреА рдХреА рддреНрд╡рд░рд┐рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рдиред  AWS рдореЗрдВ рдХрдИ рддреНрд╡рд░рд┐рдд рдкрд░рд┐рдирд┐рдпреЛрдЬрди рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: EC2, рд╡рд┐рд╢реЗрд╖ (рдФрд░ рдмрд▓реНрдХрд┐ рдЬрдЯрд┐рд▓, рд▓реЗрдХрд┐рди рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА) рд╕реЗрд╡рд╛рдУрдВ рддрдХ, рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рд╕рд░рд▓ рдПрдХ рд╣реИ: рддрд▓ рдкрд░ рдПрдХ рдирдпрд╛ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдореЗрдВ рдЪрд░рдг 3 рдкрд░ <b>"рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛"</b> рдлрд╝реАрд▓реНрдб рд╣реИред  рдЖрдк рдЗрд╕рдореЗрдВ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ PowerShell (рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ) рдореЗрдВ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br>  рдпрд╛рдиреА  рдЖрдк рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдЖрджреЗрд╢реЛрдВ рдХреЛ рдереЛрдбрд╝рд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА рдмреИрд╢ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╡рд░реНрдЪреБрдЕрд▓ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕: 2018 рд░рд╛рдЙрдЯрд░ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдЙрдард╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЬрд╛рдиреЗрдВ</a> ред <br><br>  рдЗрд╕ рд▓реЗрдЦ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi470047/">https://habr.com/ru/post/hi470047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi470033/index.html">рдПрдл # 2: рдПрдлрдПрд╕рдЖрдИ рдкрд░реНрдпрд╛рд╡рд░рдг</a></li>
<li><a href="../hi470035/index.html">рднреНрд░рд╛рдВрддрд┐рдкреВрд░реНрдг рдЬрдирд░реЗрдЯрд░: рдПрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рднрд╛рд╖рд╛ рдореЗрдВ рдЧреНрд░рдВрде рдмрдирд╛рдПрдВ</a></li>
<li><a href="../hi470037/index.html">рдПрдл # 3: рдкрд╛рда рд╕реНрд╡рд░реВрдкрдг</a></li>
<li><a href="../hi470043/index.html">рд╣рдорд╛рд░рд╛ рджрд┐рдорд╛рдЧ рдХреИрд╕реЗ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдкреАрдЫреЗ рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рди рдФрд░ рдХреИрд╕реЗ рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА рдФрд░ рд╣рдорд╛рд░рд╛ рдкрд░реНрдпрд╛рд╡рд░рдг рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реИ</a></li>
<li><a href="../hi470045/index.html">рдореИрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ: рдирдП рд╕рдВрдкрд╛рджрдХ рдХреА рд╢реАрд░реНрд╖ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</a></li>
<li><a href="../hi470049/index.html">рдореИрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдореЗрдВ рд╕рдорд╛рдзрд╛рди-рд╕реНрддрд░реАрдп рдиреБрдЧреЗрдЯ рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрди рдХрд╛ рдкрд░рд┐рдЪрдп</a></li>
<li><a href="../hi470051/index.html">рдиреНрдпреВрд░реЛрд╕рд╛рдЗрдВрд╕: рдЬрдм рд╣рдорд╛рд░рд╛ рджрд┐рдорд╛рдЧ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рддрдХрдиреАрдХ рдЗрд╕рдХреА рдорджрдж рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреА рд╣реИ</a></li>
<li><a href="../hi470057/index.html">рдореИрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ: 5 рдирдП рдХреВрд▓ рдлреАрдЪрд░реНрд╕</a></li>
<li><a href="../hi470061/index.html">рдХреИрд╕реЗ рдХрдо рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдЕрдзрд┐рдХ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ</a></li>
<li><a href="../hi470063/index.html">рдПрд╕рдПрдордПрд╕ рдФрд░ рдкрдВрдЬреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛ рд╕рд╛рдЗрдмрд░ рд╢рдмреНрджрд╛рд░реНрде</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>