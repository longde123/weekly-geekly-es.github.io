<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ก ๐ฉ ููููุฉ ุงูุจุฑูุฌุฉ ุจุฃูุงู ูู ุจุงุด ๐ ๐จ ๐ฉ๐พโ๐คโ๐จ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุงุฐุง ุจุงุดุ 
 ููุงู ุตูุงุฆู ููุถุน ุขูู ูู ุจุงุด. ุนูุฏ ุงุณุชุฎุฏุงูู ุจุดูู ุตุญูุญ ุ ูููู bash ูุชุณููุง ุชูุฑูุจูุง ูุน ููุงุฑุณุงุช ุงูุชุฑููุฒ ุงูุขููุฉ. 

 ูู ุงูุตุนุจ ุงุฑุชูุงุจ ุฎุทุฃ ูู ุงูุฃุณูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ุงูุจุฑูุฌุฉ ุจุฃูุงู ูู ุจุงุด</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413117/" style=";text-align:right;direction:rtl"><h1 style=";text-align:right;direction:rtl">  ููุงุฐุง ุจุงุดุ </h1><br>  ููุงู ุตูุงุฆู ููุถุน ุขูู ูู ุจุงุด.  ุนูุฏ ุงุณุชุฎุฏุงูู ุจุดูู ุตุญูุญ ุ ูููู bash ูุชุณููุง ุชูุฑูุจูุง ูุน ููุงุฑุณุงุช ุงูุชุฑููุฒ ุงูุขููุฉ. <br><br>  ูู ุงูุตุนุจ ุงุฑุชูุงุจ ุฎุทุฃ ูู ุงูุฃุณูุงู ุ ูููู ูุง ููุฌุฏ ูุถุน ุขูู.  ูุฐูู ุ ูุฌุจ ุฃู ุชููู ุงูููุงุฐุฌ ุงูุฃูููุฉ ูู ุงูุฃุณูุงู ุซู ุงูุชุฑุฌูุฉ ูู ุงูุฃุณูุงู ุฅูู ุงูุจุงุด ููุฑุฉ ุฌูุฏุฉ ุฅุฐุง ููุช ุชุนุฑู ููููุฉ ุงูููุงู ุจุฐูู ุจุดูู ุตุญูุญ. <br><br><h1 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br>  ูุฑุงูู ูุฐุง ุงูุฏููู ShellHarden ุ ููู ุงููุคูู ููุตู ุฃูุถูุง ุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ShellCheck</a> ุจุญูุซ ูุง ุชุฎุชูู ููุงุนุฏ ShellHarden ุนู ShellCheck. <br><br>  ุฅู ุจุงุด ููุณุช ูุบุฉ ุญูุซ ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ูุญู ูุดููุฉ ูู ููุณ ุงูููุช ูู ุงูุฃุณูู</a> .  ุฅุฐุง ุฃุฌุฑูุช ุงุฎุชุจุงุฑ bash ุงูุขูู ููุจุฑูุฌุฉ ุ ูุณุชููู ุงููุงุนุฏุฉ ุงูุฃููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BashPitfalls</a> ูู: ุงุณุชุฎุฏุงู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุฏุงุฆููุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุฑุฆูุณู ุงูุฐู ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ุนู ุงูุจุฑูุฌุฉ ูู ุจุงุด </h1><br>  <b>ุนูุงูุงุช ุงูุงูุชุจุงุณ ุงูููุณู!</b>  ูุฌุจ ุงุนุชุจุงุฑ ุงููุชุบูุฑ ุบูุฑ ุงูููุชุจุณ ููุจูุฉ ููุฎุฎุฉ: ูููุฌุฑ ุนูุฏ ุงูุชูุงูุณ ูุน ุงููุถุงุก.  ูุนู ุ ูููุฌุฑ ุจูุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุณูู ุณูุณูุฉ ุฅูู ุตููู</a> .  ุนูู ูุฌู ุงูุฎุตูุต ุ ูุชู ุชูุณูู ุงูุงูุชุฏุงุฏุงุช ุงููุชุบูุฑุฉ ูุซู <code>$var</code> ูุงุณุชุจุฏุงูุงุช ุงูุฃูุงูุฑ ูุซู <code>$(cmd)</code> ุนูุฏูุง ูุชู ุชูุณูุน ุงูุณูุณูุฉ ุงูุฏุงุฎููุฉ ุฅูู ูุตูููุฉ ุจุณุจุจ ุงูุงููุณุงู ูู ูุชุบูุฑ <code>$IFS</code> ุงูุฎุงุต ุจูุณุงุญุฉ ุงูุชุฑุงุถูุฉ.  ุนุงุฏุฉ ูุง ูููู ูุฐุง ุบูุฑ ูุฑุฆู ุ ูุฃูู ูู ุงูุบุงูุจ ุชููู ุงููุชูุฌุฉ ุตููููุง ูู ุนูุตุฑ ูุงุญุฏ ุ ูุง ูููู ุชูููุฒู ุนู ุงูุณูุณูุฉ ุงููุชููุนุฉ. <br><a name="habracut"></a><br>  ููุณ ูุฐุง ููุท ููุณุนูุง ุ ูููู ุฃูุถูุง ุฃุญุฑู ุงูุจุฏู ( <code>*?</code> ).  ุชุญุฏุซ ูุฐู ุงูุนูููุฉ ุจุนุฏ ุชูุณูู ุงููููุฉ ุ ูุฐูู ุฅุฐุง ูุงูุช ุงููููุฉ ุชุญุชูู ุนูู ุญุฑู ุจุฏู ูุงุญุฏ ุนูู ุงูุฃูู ุ ุชุชุญูู ุงููููุฉ ุฅูู ุญุฑู ุจุฏู ููุทุจู ุนูู ุฃู ูุณุงุฑุงุช ูููุงุช ููุงุณุจุฉ.  ูุฐูู ุชุจุฏุฃ ูุฐู ุงูููุฒุฉ ููุชุทุจูู ุนูู ูุธุงู ุงููููุงุช! <br><br>  ูููุน ุนุฑุถ ุงูุฃุณุนุงุฑ ุชูุณูู ุงููููุงุช ูุชูุณูุน ุงูููุท ูููุชุบูุฑุงุช ูุงุณุชุจุฏุงู ุงูุฃูุงูุฑ. <br><br>  ููุญู ูุชุบูุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌูุฏ: <code>"$my_var"</code> </li><li style=";text-align:right;direction:rtl">  ุณูุฆ: <code>$my_var</code> </li></ul><br>  ุงุณุชุจุฏุงู ุงูุฃูุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌูุฏ: <code>"$(cmd)"</code> </li><li style=";text-align:right;direction:rtl">  ุณูุก: <code>$(cmd)</code> </li></ul><br>  ููุงู ุงุณุชุซูุงุกุงุช ุจุนูุงูุงุช ุงูุชุจุงุณ ุงุฎุชูุงุฑูุฉ ุ ููู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูู ุชุคุฐู ุฃุจุฏูุง ุ ูุงููุงุนุฏุฉ ุงูุนุงูุฉ ูู ุชูุฎู ุงูุญุฐุฑ ูุนุฏู ุงูุชุจุงุณ ุงููุชุบูุฑุงุช ุบูุฑ ุงููุณุนุฑุฉ ุ ูุฐูู ูู ูุจุญุซ ุนู ุงุณุชุซูุงุกุงุช ุงูุญุฏูุฏ ูุตุงูุญู.  ูุจุฏู ุฎุงุทุฆูุง ุ ูุงูููุงุฑุณุฉ ุงูุฎุงุทุฆุฉ ููุชุดุฑุฉ ุจุดูู ูุงูู ูุฅุซุงุฑุฉ ุงูุดู: ุชู ูุชุงุจุฉ ุงูุนุฏูุฏ ูู ุงููุตูุต ูุน ูุนุงูุฌุฉ ููุณูุฑุฉ ูุฃุณูุงุก ุงููููุงุช ูุงููุณุงูุงุช ูููุง ... <br><br>  ูุฐูุฑ ShellHarden ุงุณุชุซูุงุกุงุช ููููุฉ ููุท - ูู ูุฐู ุงููุชุบูุฑุงุช ุฐุงุช ูุญุชููุงุช ุฑูููุฉ ูุซู <code>$?</code>  ุ <code>$#</code> ู <code>${#array[@]}</code> . <br><br><h3 style=";text-align:right;direction:rtl">  ูู ุฃุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู backticksุ </h3><br>  ูููู ุฃู ุชุญุชูู ุจุฏุงุฆู ุงูุฃูุงูุฑ ุฃูุถูุง ุนูู ุงูุดูู ุงูุชุงูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุตุญูุญ: <code>"`cmd`"</code> </li><li style=";text-align:right;direction:rtl">  ุณูุฆ: <code>`cmd`</code> </li></ul><br>  ุนูู ุงูุฑุบู ูู ุฃูู ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงูููุท ุจุดูู ุตุญูุญ ุ ุฅูุง ุฃูู ูุจุฏู ุฃูู ููุงุกูุฉ ูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูุฃูู ูุงุจููุฉ ูููุฑุงุกุฉ ุนูุฏ ุชุฏุงุฎูู.  ุงูุฅุฌูุงุน ููุง ูุงุถุญ ุฌุฏุง: ุชุฌูุจู. <br><br>  ุชุนูุฏ ShellHarden ูุชุงุจุฉ ูุฐู ุงูุนูุงูุงุช ุจูู ููุณูู ุจุงูุฏููุงุฑ. <br><br><h3 style=";text-align:right;direction:rtl">  ูู ูุฌุจ ุงุณุชุฎุฏุงู ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉุ </h3><br>  ูุชู ุงุณุชุฎุฏุงู ุงูุฃููุงุณ ูุฅูุญุงู ุงูุฃูุชุงุฑ ุ ูุฐูู ุนุงุฏุฉ ูุง ุชููู ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุงูู: <code>some_command $arg1 $arg2 $arg3</code> </li><li style=";text-align:right;direction:rtl">  ุถุนูู ููุทููู: <code>some_command ${arg1} ${arg2} ${arg3}</code> </li><li style=";text-align:right;direction:rtl">  ุฌูุฏ ุ ูููู ูุทููู: <code>some_command "${arg1}" "${arg2}" "${arg3}"</code> </li><li style=";text-align:right;direction:rtl">  ุฌูุฏ: <code>some_command "$arg1" "$arg2" "$arg3"</code> </li></ul><br>  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุง ูุนุฏ ุงุณุชุฎุฏุงู ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ุฏุงุฆููุง ูุดููุฉ ุ ูููู ููููุง ูุชุฌุฑุจุฉ ูุคููู ุ ููุงู ุงุฑุชุจุงุท ุณูุจู ููู ุจูู ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงูุถุฑูุฑู ููุฃููุงุณ ุงููุชุนุฑุฌุฉ ูุงูุงุณุชุฎุฏุงู ุงูุตุญูุญ ูุนูุงูุงุช ุงูุงูุชุจุงุณ - ูุงูุฌููุน ุชูุฑูุจูุง ูุฎุชุงุฑูู "ุงูุณูุฆุฉ ูุงููููุฉ ุงููุทููุฉ" ุจุฏูุงู ูู ุงููููุฐุฌ "ุงูุฌูุฏ ูููู ุงููุทูู"! <br><br>  ูุธุฑูุงุช ูุคููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุณุจุจ ุงูุฎูู ูู ูุนู ุดูุก ุฎุงุทุฆ: ุจุฏูุงู ูู ุงูุฎุทุฑ ุงูุญูููู (ููุต ุนูุงูุงุช ุงูุงูุชุจุงุณ) ุ ูุฏ ูููู ุงููุจุชุฏุฆูู ูู ุฃู ูุชุบูุฑ <code>$prefix</code> ุณูุชุณุจุจ ูู <code>"$prefix_postfix"</code> ูุชุบูุฑ <code>"$prefix_postfix"</code> ุ ููููู ูุง ูุนูู ุจูุฐู ุงูุทุฑููุฉ. </li><li style=";text-align:right;direction:rtl">  ุนุจุงุฏุฉ ุงูุจุถุงุฆุน: ูุชุงุจุฉ ุงูููุฏ ูู ุนูุฏ ุงูุฎูู ุงูุฎุงุทุฆ ุงูุฐู ุณุจูู. </li><li style=";text-align:right;direction:rtl">  ุชุชูุงูุณ ุงูุฃููุงุณ ูุน ุนูุงูุงุช ุงูุงูุชุจุงุณ ููุญุฏ ุงููุณููุญ ุจู ูู ุงูุฅุณูุงุจ. </li></ul><br>  ูุฐูู ุ ุชูุฑุฑ ุญุธุฑ ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ุบูุฑ ุงูุถุฑูุฑูุฉ: ShellHarden ูุณุชุจุฏู ูุฐู ุงูุฎูุงุฑุงุช ุจุฃุจุณุท ุดูู ุฌูุฏ. <br><br>  ูุงูุขู ุญูู ุงุณุชููุงุก ุงูุณูุณูุฉ ุ ุญูุซ ุชููู ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ูููุฏุฉ ุญููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุงูู (ุณูุณูุฉ): <code>$var1"more string content"$var2</code> </li><li style=";text-align:right;direction:rtl">  ุฌูุฏ (ุชุณูุณู): <code>"$var1""more string content""$var2"</code> </li><li style=";text-align:right;direction:rtl">  ุฌูุฏ (ุงูุงุณุชููุงุก): <code>"${var1}more string content${var2}"</code> </li></ul><br>  ุงูุชุณูุณู ูุงูุงุณุชููุงุก ูู ุจุงุด ููุงูุฆ ุญุชู ูู ุงููุตูููุงุช (ููู ุฃูุฑ ูุซูุฑ ููุณุฎุฑูุฉ). <br><br>  ูุธุฑูุง ูุฃู ShellHarden ูุง ูููู ุจุชูุณูู ุงูุฃุดูุงู ุ ููุง ููุชุฑุถ ุชุบููุฑ ุงูุฑูุฒ ุงูุตุญูุญ.  ููุทุจู ูุฐุง ุนูู ุฎูุงุฑ "ุงูุงุณุชููุงุก" ุงูุฌูุฏ: ูู ูุฌูุฉ ูุธุฑ ShellHarden ุ ุณูููู ูุฐุง ูู ุงูุดูู ุงูุตุญูุญ ุงููุงูููู. <br><br>  ุชููู ShellHarden ุงูุขู ุจุฅุถุงูุฉ ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ูุฅุฒุงูุชูุง ุญุณุจ ุงูุญุงุฌุฉ: ูู ูุซุงู ุณูุฆ ุ ูุชู ุชูููุฑ var1 ุจุฃููุงุณ ุ ูููู ูุง ููุณูุญ ุจุงุณุชุฎุฏุงููุง ูู var2 ุญุชู ูู ุญุงูุฉ "good (interpolation)" ุ ูุธุฑูุง ูุนุฏู ุงูุญุงุฌุฉ ุฅูููุง ูู ููุงูุฉ ุงูุณุทุฑ.  ูููู ุนูุณ ุงูุดุฑุท ุงูุฃุฎูุฑ ุจุดูู ุฌูุฏ. <br><br><h4 style=";text-align:right;direction:rtl">  Gotcha: ุงูุญุฌุฌ ุงููุฑููุฉ </h4><br>  ุนูู ุนูุณ ุฃุณูุงุก <i>ูุนุฑูุงุช</i> ุงููุชุบูุฑุงุช ุงูุนุงุฏูุฉ (ูู ุงูุชุนุจูุฑ ุงูุนุงุฏู: <code>[_a-zA-Z][_a-zA-Z0-9]*</code> ) ุ ุชุชุทูุจ ุงููุณูุทุงุช ุงููุฑููุฉ ุฃููุงุณ (ูุง ูุณุชููู ุงูุงุณุชููุงุก).  ูููู ShellCheck: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$10</span></span></span><span class="hljs-string">"</span></span> ^-- SC1037: Braces are required <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> positionals over 9, eg <span class="hljs-variable"><span class="hljs-variable">${10}</span></span>.</code> </pre> <br>  ูุฑูุถ ShellHarden ุฅุตูุงุญู (ูุนุชุจุฑ ุงููุฑู ุฎูููุง ุฌุฏูุง). <br><br>  ุจูุง ุฃู ุงูุฃููุงุณ ูุณููุญ ุจูุง ุญุชู 9 ุ ูุฅู ShellHarden ูุณูุญ ุจูุง ูุฌููุน ุงููุณุงุฆุท ุงููุฑููุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู ุงููุตูููุงุช </h1><br>  ูุชููู ูุงุฏุฑูุง ุนูู ุงูุชุจุงุณ ุฌููุน ุงููุชุบูุฑุงุช ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุตูุงุฆู ุญููููุฉ ุ ูููุณ ุณูุงุณู ุถุฎูุฉ ุฒุงุฆูุฉ ููุตููุฉ ุจูุณุงูุงุช. <br><br>  ุจูุงุก ุงูุฌููุฉ ูุทููู ุ ูููู ูุฌุจ ุนููู ุงูุชุนุงูู ูุนู.  ูุฐุง bashism ูู ุณุจุจ ูุงุญุฏ ููุท ููุชุฎูู ุนู ุชูุงูู POSIX ููุนุธู ุงูุจุฑุงูุฌ ุงููุตูุฉ ุงูุตุฏูุฉ. <br><br>  ุฌูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">array=( a b ) array+=(c) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-variable"><span class="hljs-variable">${#array[@]}</span></span> -gt 0 ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> rm -- <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${array[@]}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  ุณูุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pseudoarray=<span class="hljs-string"><span class="hljs-string">" \ a \ b \ "</span></span> pseudoarray=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pseudoarray</span></span></span><span class="hljs-string"> c"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pseudoarray</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">''</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> rm -- <span class="hljs-variable"><span class="hljs-variable">$pseudoarray</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงููุตูููุงุช ูู ูุธููุฉ ุฃุณุงุณูุฉ ูููุดุฑุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุญุฌุฌ ูู ุงูุฃูุงูุฑ ูู ูู ุงูุฃุณุงุณ ุตูุงุฆู</a> (ููุตูุต ุงููุดุฑุฉ ูู ุฃูุงูุฑ ูุญุฌุฌ).  ูููููุง ุฃู ูููู ุฃู ุงูุตุฏูุฉ ุ ุงูุชู ุชุฌุนู ูู ุงููุณุชุญูู ูุตุทูุนูุง ุชูุฑูุฑ ุงูุนุฏูุฏ ูู ุงูุญุฌุฌ ุ ุณุชููู ููููุฏูุง โโููุง ูููุฉ ููุง.  ุจุนุถ ุงูุฃุตุฏุงู ุงูุดุงุฆุนุฉ ูู ูุฐู ุงููุฆุฉ ุชุดูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Dash</a> ู Busybox Ash.  ูุฐู ูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุฃุตุฏุงู ุงููุชูุงููุฉ ูุน POSIX - ูููู ูุง ุงูุฌูุฏ ูู ุงูุชูุงูู ุฅุฐุง <i>ูู ุชูู</i> ุฃูู ุงูุฃุดูุงุก ููุฌูุฏุฉ ูู POSIXุ <br><br><h3 style=";text-align:right;direction:rtl">  ุญุงูุงุช ุงุณุชุซูุงุฆูุฉ ุนูุฏูุง ุชููู ุญูุงู ูู ูุณุฑ ุงูุฎุท </h3><br>  ูุซุงู ูุน <code>\v</code> ููุงุตู ุจูุงูุงุช (ูุงุญุธ ุงูุชูุฑุงุฑ ุงูุซุงูู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">IFS=$<span class="hljs-string"><span class="hljs-string">'\v'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> -d <span class="hljs-string"><span class="hljs-string">''</span></span> -ra a &lt; &lt;(<span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\v'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$s</span></span></span><span class="hljs-string">"</span></span>) || <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  ุจูุฐู ุงูุทุฑููุฉ ูุชุฌูุจ ุชูุณูุน ุงููุงูุจ ุ ูุชุนูู ุงูุทุฑููุฉ ุญุชู ุฅุฐุง ูุงู ูุงุตู ุงูุจูุงูุงุช <code>\n</code> .  ูุญูู ุงูุชูุฑุงุฑ ุงูุซุงูู ููุงุตู ุงูุจูุงูุงุช ุงูุนูุตุฑ ุงูุฃุฎูุฑ ุฅุฐุง ุชุจูู ุฃูู ูุณุงูุฉ.  ูุณุจุจ ูุง ุ ูุฌุจ ุฃู ูุฐูุจ ุงูุฎูุงุฑ <code>-d</code> ุฃููุงู ุ ูุฐุง <code>-rad ''</code> ุงูุฎูุงุฑุงุช ูู <code>-rad ''</code> ูุบุฑ ุ ูููู ูู ูุนูู.  ูุธุฑูุง ูุฃู ุงููุฑุงุกุฉ ุชุนุฑุถ ูููุฉ ุบูุฑ ุตูุฑูุฉ ูู ูุฐู ุงูุญุงูุฉ ุ ููุฌุจ ุญูุงูุชูุง ูู errexit ( <code>|| true</code> ) ุ ุฅุฐุง ุชู ุชูููููุง.  ุชู ุงูุงุฎุชุจุงุฑ ูู ุจุงุด 4.0 ู 4.1 ู 4.2 ู 4.3 ู 4.4. <br><br>  ุจุฏูู ูุจุงุด 4.4: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">readarray</span></span> -td $<span class="hljs-string"><span class="hljs-string">'\v'</span></span> a &lt; &lt;(<span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\v'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$s</span></span></span><span class="hljs-string">"</span></span>)</code> </pre> <br><h1 style=";text-align:right;direction:rtl">  ุฃูู ุชุจุฏุฃ ูุต ุจุงุด </h1><br>  ูู ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env bash if test "$BASH" = "" || "$BASH" -uc "a=();true \"\${a[@]}\"" 2&gt;/dev/null; then # Bash 4.4, Zsh set -euo pipefail else # Bash 4.3 and older chokes on empty arrays with set -u. set -eo pipefail fi shopt -s nullglob globstar</span></span></code> </pre> <br>  ููุฐุง ูุดูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุดูุจุงูุฌ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุถุงูุง ุงูููู: ุฑุจูุง <code>env</code> ุงููุณุงุฑ ุงููุทูู ุฅูู <code>env</code> ุฃูุถู ูุฅููุงููุฉ ุงูููู ูู ุงููุณุงุฑ ุงููุทูู <code>bash</code> .  ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ูุซุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">NixOS</a> .  ูุชุทูุจ POSIX <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ENV</a> ุ ูููู ููุณ ุจุงุด. </li><li style=";text-align:right;direction:rtl">  ูุถุงูุง ุฃูููุฉ: ูุนุฏู ูุฌูุฏ ูุบุฉ ุ ูู ูุชู ูุจูู ุฎูุงุฑุงุช ูุซู <code>-euo pipefail</code> !  ูุตุจุญ ูุฐุง ูุณุชุญูููุง ุนูุฏ ุงุณุชุฎุฏุงู ุฅุนุงุฏุฉ ุชูุฌูู <code>env</code> ุ ูููู ุญุชู ุฅุฐุง ูุงู shebang ูุจุฏุฃ ุจู <code>#!/bin/bash</code> ุ ููุฐุง ููุณ ูู ุงูููุงู ุงูููุงุณุจ ูููุนููุงุช ุงูุชู ุชุคุซุฑ ุนูู ูููุฉ ุงูุจุฑูุงูุฌ ุงููุตู ุ ูุฃูู ูููู ุชุฌุงูุฒูุง ุ ููุง ุณูุฌุนู ูู ุงููููู ุชูููุฐ ุงูุจุฑูุงูุฌ ุงููุตู ุจุดูู ุบูุฑ ุตุญูุญ.  ููุน ุฐูู ุ ูููุงูุฃุฉ ุ ูููู ุฅุนุงุฏุฉ ุชุญุฏูุฏ ุงูุฎูุงุฑุงุช ุงูุชู ูุง ุชุคุซุฑ ุนูู ูููุฉ ุงูุจุฑูุงูุฌ ุงููุตู ุ ูุซู <code>set -x</code> ุ ุฅุฐุง ุชู ุงุณุชุฎุฏุงููุง. </li></ul></li><li style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูุญุชุงุฌู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุถุน Bash ุงูุตุงุฑู ุบูุฑ ุงูุฑุณูู</a> ุ ูุน ูุญุต ููุฒุฉ <code>set -u</code> .  ูุง ูุญุชุงุฌ ุฅูู ูู ูุถุน Bash ุงูุตุงุฑู ุ ูุฃู ุชูุงูู shellcheck / shellharden ูุนูู ุงูุชุจุงุณ ูู ุดูุก ููู ุดูุก ุฃูุซุฑ ุตุฑุงูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ <b>ูุง ููุจุบู ุงุณุชุฎุฏุงู</b> ุฎูุงุฑ <code>set -u</code> ูู Bash 4.3 ูุงูุฅุตุฏุงุฑุงุช ุงูุฃูุฏู.  ูุธุฑูุง ูุฃู ูุฐุง ุงูุฎูุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนุชุจุฑ ุงููุตูููุงุช ุงููุงุฑุบุฉ ุนูู ุฃููุง ููููุฉ</a> ูู ุชูู ุงูุฅุตุฏุงุฑุงุช ุ ููุง ูููู ุงุณุชุฎุฏุงู ุงููุตูููุงุช ููุฃุบุฑุงุถ ุงูููุถุญุฉ ููุง.  ูุนุฏ ุงุณุชุฎุฏุงู ุงููุตูููุงุช ูู ุซุงูู ุฃูู ูุตูุญุฉ ูู ูุฐุง ุงูุฏููู (ุจุนุฏ ุนูุงูุงุช ุงูุงูุชุจุงุณ) ูุงูุณุจุจ ุงููุญูุฏ ุงูุฐู ูุถุญู ุจุงูุชูุงูู ูุน POSIX ุ ูุฐูู ูุฐุง ุบูุฑ ููุจูู ุนูู ุงูุฅุทูุงู: ุฅูุง ุนุฏู ุงุณุชุฎุฏุงู <code>set -u</code> ุ ุฃู ุงุณุชุฎุฏุงู Bash 4.4 ุฃู ุฃู ูุฐููุฉ ุนุงุฏูุฉ ุฃุฎุฑู ูุซู Zsh.  ููู ูุฐุง ุฃุณูู ูู ูุนูู ุ ูุฃู ููุงู ุงุญุชูุงู ุฃู ูุณุชูุฑ ุดุฎุต ูุง ูู ุชุดุบูู ุงููุต ุงูุฎุงุต ุจู ูู ุงูุฅุตุฏุงุฑ ุงููุฏูู ูู Bash.  ูุญุณู ุงูุญุธ ุ ูู ุดูุก ูุนูู ูุน <code>set -u</code> ุณูุนูู ุจุฏููู ( <code>set -e</code> ูุง ููููู ููู ุฐูู).  ูุฐุง ูู ุงูุณุจุจ ูู ุฃูู ูู ุงูููู ุงุณุชุฎุฏุงู ูุญุต ุงูุฅุตุฏุงุฑ.  ุงุญุฐุฑ ูู ุงูุชุฑุงุถ ุฃู ุงูุงุฎุชุจุงุฑ ูุงูุชุทููุฑ ูุชู ูู ุบูุงู ูุชูุงูู ูุน Bash 4.4 (ูุฐูู ูุชู ุงุฎุชุจุงุฑ ุฌุงูุจ <code>set -u</code> ).  ุฅุฐุง ูุงู ูุฐุง ูุฒุนุฌู ุ ูููุงู ุฎูุงุฑ ุขุฎุฑ ูู ุฑูุถ ุงูุชูุงูู (ููุดู ุงูุจุฑูุงูุฌ ุงููุตู ุนูุฏ ูุดู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ) ุ ุฃู ูุฑูุถ <code>set -u</code> . </li><li style=";text-align:right;direction:rtl">  <code>shopt -s nullglob</code> <code>for f in *.txt</code> ุจุดูู ุตุญูุญ ุฅุฐุง ูู ูุนุซุฑ <code>*.txt</code> ุนูู ุงููููุงุช.  ููุฑุฑ ุงูุณููู ุงูุงูุชุฑุงุถู (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู <i>passglob</i> ) ุงููุงูุจ ุฏูู ุชุบููุฑ ุ ูุงูุฐู ูููู ูู ุญุงูุฉ ุงููุชูุฌุฉ ุงูุตูุฑูุฉ ุฃูุฑูุง ุฎุทูุฑูุง ูุนุฏุฉ ุฃุณุจุงุจ.  ุจุงููุณุจุฉ ุฅูู <i>globstar ุ ูุคุฏู</i> ุฐูู ุฅูู ุชูุดูุท ุงูุจุญุซ <i>ุงูุนูุฏู</i> .  ุงูุงุณุชุจุฏุงู ุฃุณูู ูู <code>find</code> .  ูุฐุง ุงุณุชุฎุฏูู. </li></ul><br>  ููู ููุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">IFS=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -f <span class="hljs-built_in"><span class="hljs-built_in">shopt</span></span> -s failglob</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุนููู <i>ูุญุฏุฏ ุงูุญูู ุงูุฏุงุฎูู ุนูู</i> ุณูุณูุฉ ูุงุฑุบุฉ ูุฌุนู ูู ุงููุณุชุญูู ุชูุณูู ุงููููุฉ.  ูุจุฏู ููุฃูู ุงูุญู ุงููุซุงูู.  ูุณูุก ุงูุญุธ ุ ูุฐุง ุจุฏูู ุบูุฑ ูุงูู ููุงูุชุจุงุณ ูู ุงููุชุบูุฑุงุช ูุงุณุชุจุฏุงู ุงูุฃูุงูุฑ ุ ูุจูุง ุฃูู ุณุชุณุชุฎุฏู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุ ูุฅูู ูุง ูุนุทู ุฃู ุดูุก.  ุงูุณุจุจ ูุฑุงุก ุงุณุชูุฑุงุฑ ุงุณุชุฎุฏุงู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูู ุฃู ุงูุณูุงุณู ุงููุงุฑุบุฉ ุชุตุจุญ ุตูุงุฆู ูุงุฑุบุฉ (ููุง ูู <code>test $x = ""</code> ) ููุง ูุฒุงู ุชูุณูุน ุงููููุฐุฌ ุบูุฑ ุงููุจุงุดุฑ ูููููุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุดุงูู ูุฐุง ุงููุชุบูุฑ ุณุชุณุจุจ ุฃูุถูุง ูุดุงูู ูุน ุฃูุงูุฑ ูุซู <code>read</code> ุ ูุงูุชู ุชูุณุฑ ุงูุฅูุดุงุกุงุช ูุซู <code>cat /etc/fstab | while read -r dev mnt fs opt dump pass; do echo "$fs"; done'</code> <code>cat /etc/fstab | while read -r dev mnt fs opt dump pass; do echo "$fs"; done'</code>  <code>cat /etc/fstab | while read -r dev mnt fs opt dump pass; do echo "$fs"; done'</code> . </li><li style=";text-align:right;direction:rtl">  ุชู ุชุนุทูู ุงูุชุฏุงุฏ ุงููุงูุจ: ููุณ ููุท ุงูุงูุชุฏุงุฏ ุบูุฑ ุงููุจุงุดุฑ ุณูุฆ ุงูุณูุนุฉ ุ ูููู ุฃูุถูุง ุงูุงูุชุฏุงุฏ ุงููุจุงุดุฑ ุงูุฎุงูู ูู ุงููุชุงุนุจ ุ ูุงูุฐู ุ ููุง ููุช ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงูู.  ูุฐุง ูู ุงูุตุนุจ ุงููุจูู.  ููุฐุง ุฃูุถูุง ุงุฎุชูุงุฑู ุชูุงููุง ูููุต ุงูุจุฑูุฌู ุงููุชูุงูู ูุน shellcheck / shellharden. </li><li style=";text-align:right;direction:rtl">  ุนูู ุนูุณ <i>nullglob</i> ุ ููุดู ุงููุดู ูุน ูุชูุฌุฉ ูุงุฑุบุฉ.  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงูุฃูุฑ ููุทูู ููุนุธู ุงูุฃูุงูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>rm -- *.txt</code> (ูุฃูู ูู ูุนุธู ุงูุฃูุงูุฑ ูุง ูุฒุงู ูู ุบูุฑ ุงููุชููุน ุชูููุฐู ุจูุชูุฌุฉ ุตูุฑูุฉ) ุ ูู ุงููุงุถุญ ุฃูู ูุง ูููู ุงุณุชุฎุฏุงู <i>ุงููุดู</i> ุฅูุง ุฅุฐุง ููุช ูุง ุชุชููุน ูุชูุฌุฉ ุตูุฑูุฉ.  ูุฐุง ูุนูู ุฃูู ุนุงุฏุฉ ูู ุชุถุน ููุงูุจ ุงููุฌููุนุฉ ูู ูุณูุทุงุช ุงูุฃูุฑ ูุง ูู ุชูุชุฑุถ ููุณ ุงูุดูุก.  ูููู ูุง ูููู ุฃู ูุญุฏุซ ุฏุงุฆููุง ูู ุงุณุชุฎุฏุงู <i>nullglob</i> ูุชูุณูุน ุงููุงูุจ ุฅูู ูุณูุทุงุช ูุงุฑุบุฉ ูู <i>ุงูุจููุงุช</i> ุงูุชู ูููู ุฃู ุชุฃุฎุฐูุง ุ ูุซู ุญููุฉ ุฃู ุชุนููู ููู ูุตููู ( <code>txt_files=(*.txt)</code> ). </li></ul><br><h1 style=";text-align:right;direction:rtl">  ููู ุชููู ุณูุฑุจุช ุจุงุด </h1><br>  ุญุงูุฉ ุฎุฑูุฌ ุงูุจุฑูุงูุฌ ุงููุตู ูู ุญุงูุฉ ุขุฎุฑ ุฃูุฑ ุชู ุชูููุฐู.  ุชุฃูุฏ ูู ุฃูู ููุซู ูุฌุงุญูุง ุฃู ูุดููุง ุญูููููุง. <br><br>  ุฃุณูุฃ ุดูุก ูู ุชุฑู ุงูุญู ูุดุฑุท ุบูุฑ ุฐู ุตูุฉ ูู ุดูู ูุงุฆูุฉ AND ูู ููุงูุฉ ุงูุจุฑูุงูุฌ ุงููุตู.  ุฅุฐุง ูุงู ุงูุดุฑุท ุฎุทุฃ ุ ูุณูููู ุขุฎุฑ ุฃูุฑ ุชู ุชูููุฐู ูู ุงูุดุฑุท ููุณู. <br><br>  ุจุงููุณุจุฉ ุฅูู errexit ุ ูุง ูุชู ุงุณุชุฎุฏุงู ุงูุดุฑูุท ูู ุดูู ูุงุฆูุฉ AND ูุทูููุง ูู ุงูููุงู ุงูุฃูู.  ุฅุฐุง ูู ูุชู ุงุณุชุฎุฏุงู errexit ุ ูููุฑ ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุญุชู ูู ุงูุฃูุฑ ุงูุฃุฎูุฑ ุ ูุฐุง ูู ูุชู ุฅุฎูุงุก ุญุงูุฉ ุงูุฎุฑูุฌ ุฅุฐุง ุชูุช ุฅุถุงูุฉ ุฑูุฒ ุฅุถุงูู ุฅูู ุงูุจุฑูุงูุฌ ุงููุตู. <br><br>  ุณูุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">condition &amp;&amp; extra_stuff</code> </pre> <br>  ุฌูุฏ (ุฎูุงุฑ errexit): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> extra_stuff <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  ุฌูุฏ (ุฎูุงุฑ ูุนุงูุฌุฉ ุงูุฎุทุฃ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> extra_stuff || <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 0</code> </pre> <br><h1 style=";text-align:right;direction:rtl">  ููููุฉ ุงุณุชุฎุฏุงู errexit </h1><br>  ูุซู <code>set -e</code> . <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฃุฎุฑ ูุณุชูู ุงูุจุฑูุงูุฌ </h3><br>  ุฅุฐุง ูุงู errexit ูุนูู ููุง ููุจุบู ุ ูุงุณุชุฎุฏูู ูุชุซุจูุช ุฃู ุชูุธูู ุถุฑูุฑู ุนูุฏ ุงูุฎุฑูุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">tmpfile=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(mktemp -t myprogram-XXXXXX)</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cleanup</span></span></span></span>() { rm -f <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$tmpfile</span></span></span><span class="hljs-string">"</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">trap</span></span> cleanup EXIT</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงุดุชุนูุช: ูุชู ุชุฌุงูู errexit ูู ุงูุญุฌุฌ ุงูุฃูุฑ </h3><br>  ุฅูููู "ููุจูุฉ" ูุชุดุนุจุฉ ููุบุงูุฉ ุ ููุงู ููููุง ูุณุชุญู ุงููุซูุฑ ุจุงููุณุจุฉ ูู.  ุนูู ุงูุจุฑูุงูุฌ ุงููุตู ููุจูุงุก ุงูุฎุงุต ุจู ุจุดูู ุฌูุฏ ุนูู ุฃุฌูุฒุฉ ุชุทููุฑ ูุฎุชููุฉ ุ ูููู ูุถุน ุฎุงุฏู ุงูุฅูุดุงุก ุนูู ุฑูุจุชูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-comment"><span class="hljs-comment"># Fail if nproc is not installed make -j"$(nproc)"</span></span></code> </pre> <br>  ุตุญูุญ (ุงุณุชุจุฏุงู ุงูุฃูุฑ ูู ุงููููุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-comment"><span class="hljs-comment"># Fail if nproc is not installed jobs="$(nproc)" make -j"$jobs"</span></span></code> </pre> <br>  ุชุญุฐูุฑ: ุชุธู ุงูุฃูุงูุฑ ุงููุถููุฉ <code>local</code> <code>export</code> ุฃูุงูุฑ ุ ูุฐูู ูุง ูุฒุงู ูุฐุง ุฎุทุฃ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-comment"><span class="hljs-comment"># Fail if nproc is not installed local jobs="$(nproc)" make -j"$jobs"</span></span></code> </pre> <br>  ูุญุฐุฑ ShellCheck ููุท ูู ุงูุฃูุงูุฑ ุงูุฎุงุตุฉ ูุซู <code>local</code> ูู ูุฐู ุงูุญุงูุฉ. <br><br>  ูุงุณุชุฎุฏุงู <code>local</code> ุ ุงูุตู ุงูุฅุนูุงู ุนู ุงููุธููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-comment"><span class="hljs-comment"># Fail if nproc is not installed local jobs jobs="$(nproc)" make -j"$jobs"</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงุดุชุนูุช: ูุชู ุชุฌุงูู errexit ุงุนุชูุงุฏูุง ุนูู ุณูุงู ุงููุชุตู </h3><br>  ูู ุจุนุถ ุงูุฃุญูุงู ูููู POSIX ุฑููุจูุง.  ูุชู ุชุฌุงูู Errexit ูู ุงููุธุงุฆู ุ ูุฃูุงูุฑ ุงููุฌููุนุฉ ุ ูุญุชู ุงููุฐุงุฆู ุงููุฑุนูุฉ ุฅุฐุง ุชุญูู ุงููุชุตู ูู ูุฌุงุญู.  ูู ูุฐู ุงูุฃูุซูุฉ ุชุทุจุน <code>Great success</code> ูุง ูููู <code>Unreachable</code> <code>Great success</code> ุ ูููุง ุจุฏุง ุงูุฃูุฑ ุบุฑูุจูุง. <br><br>  ุงููุดุฑุฉ ุงููุฑุนูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">( <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Unreachable ) &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Great success</code> </pre> <br>  ูุฑูู ุงููุฌููุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">{ <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Unreachable } &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Great success</code> </pre> <br>  ุงููุธููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -e <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Unreachable } f &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Great success</code> </pre> <br>  ูุจุณุจุจ ูุฐุง ุ ูุฅู bash with errexit ุบูุฑ ููุงุณุจ ุนููููุง ููุฑุจุท: ูุนู ุ <i>ูู ุงููููู</i> ุงูุชูุงู ูุธุงุฆู errexit ุญุชู ุชุนูู ุ ูููู ููุงู ุดููู ูู ุฃู ุงูุฌููุฏ ุงููุญููุธุฉ (ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุตุฑูุญุฉ) ุชุณุชุญู ุฐูู.  ุจุฏููุง ูู ุฐูู ุ ููุฑ ูู ุงูุชูุณูู ุฅูู ูุตูุต ูุณุชููุฉ ุชูุงููุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุชุฌูุจ ุงุณุชุฏุนุงุก ุงูุตุฏูุฉ ุจุนูุงูุงุช ุงูุชุจุงุณ ุบูุฑ ุตุญูุญุฉ </h1><br>  ุนูุฏ ุงุณุชุฏุนุงุก ุฃูุงูุฑ ูู ูุบุงุช ุจุฑูุฌุฉ ุฃุฎุฑู ุ ูู ุงูุฃุณูู ุงุฑุชูุงุจ ุฎุทุฃ ูุงุณุชุฏุนุงุก ุงูุบูุงู ุจุดูู ุถููู.  ุฅุฐุง ูุงู ุฃูุฑ shell ูุฐุง ุซุงุจุชูุง ุ ููุฐุง ุฌูุฏ - ุฅูุง ุฃูู ูุนูู ุฃู ูุง.  ูููู ุฅุฐุง ูุงู ุจุฑูุงูุฌู ูุนุงูุฌ ุงูุฎุทูุท ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ูุจูุงุก ูุฐุง ุงูุฃูุฑ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูููู - ุฃูุช ุชููู <b>ุจุฅูุดุงุก ุจุฑูุงูุฌ ูุตู shell</b> !  ูุงุฏุฑูุง ูุง ุฃุฑุบุจ ูู ุงูููุงู ุจุฐูู ุ ููู ุงูุตุนุจ ุฌุฏูุง ุชุฑุชูุจ ูู ุดูุก ุจุดูู ุตุญูุญ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุจุณ ูู ุญุฌุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงููุฑูุจ ูู ุงูุฃุญุฑู ุงูููุงุจูุฉ ูู ุงูุญุฌุฌ. </li></ul><br>  ุจุบุถ ุงููุธุฑ ุนู ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุชู ุชููู ุจูุง ุจุฐูู ุ ููุงู ุซูุงุซ ุทุฑู ุนูู ุงูุฃูู ูุจูุงุก ูุฑูู ุจุดูู ุตุญูุญ.  ุจุชุฑุชูุจ ุงูุชูุถูู: <br><br><h3 style=";text-align:right;direction:rtl">  ุฎุทุฉ ุฃ: ุงูุงุณุชุบูุงุก ุนู ูุฐููุฉ </h3><br>  ุฅุฐุง ูุงู ูุฐุง ูุฌุฑุฏ ุฃูุฑ ูุญุชูู ุนูู ูุณูุทุงุช (ุฃู ุฃูู ูุง ุชูุฌุฏ ูุธุงุฆู shell ูุซู ุงูุฃูุงุจูุจ ุฃู ุฅุนุงุฏุฉ ุงูุชูุฌูู) ุ ูุญุฏุฏ ุฎูุงุฑ ุงูุตููู. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณูุก (python3): <code>subprocess.check_call('rm -rf ' + path)</code> </li><li style=";text-align:right;direction:rtl">  Good (python3): <code>subprocess.check_call(['rm', '-rf', path])</code> </li></ul><br>  ุณูุก (C ++): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> cmd = <span class="hljs-string"><span class="hljs-string">"rm -rf "</span></span>; cmd += path; system(cmd);</code> </pre> <br>  ุฌูุฏ (C / POSIX) ุ ูุนุงูุฌุฉ ุงูุฎุทุฃ ูุงูุตูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args[] = {<span class="hljs-string"><span class="hljs-string">"rm"</span></span>, <span class="hljs-string"><span class="hljs-string">"-rf"</span></span>, path, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">pid_t</span></span> child; posix_spawnp(&amp;child, args[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, args, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> status; waitpid(child, &amp;status, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทุฉ ุจ: ูุต ุจุฑูุฌู ุซุงุจุช </h3><br>  ุฅุฐุง ูุงูุช ุงูุตุฏูุฉ ูุทููุจุฉ ุ ุฏุน ุงููุณูุทุงุช ุชููู ุญุฌุฌูุง.  ูุฏ ุชุนุชูุฏ ุฃูู ูุงู ูุฑูููุง ูุชุงุจุฉ ูุต ุจุฑูุฌู ุฎุงุต ูู ูููู ูุงููุตูู ุฅููู ุญุชู ุชุฑู ูุซู ูุฐู ุงูุฎุฏุนุฉ: <br><br>  ุณูุก (python3): <code>subprocess.check_call('docker exec {} bash -ec "printf %s {} &gt; {}"'.format(instance, content, path))</code> <br>  ุฌูุฏ (python3): <code>subprocess.check_call(['docker', 'exec', instance, 'bash', '-ec', 'printf %s "$0" &gt; "$1"', content, path])</code> <br><br>  ูู ููููู ููุงุญุธุฉ ูุต ุงูุตุฏูุฉุ <br><br>  ูุฐุง ุตุญูุญ ุ ูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุฃูุฑ printf.  ุงูุชุจู ุฅูู ุงูุญุฌุฌ ุงููุฑููุฉ ุงูููุชุจุณุฉ ุจุดูู ุตุญูุญ.  ูุง ุจุฃุณ ุจุชูููุฐ ุณูุฑุจุช ุงูุตุฏูุฉ ุงูุซุงุจุช. <br><br>  ุชุนูู ูุฐู ุงูุฃูุซูุฉ ูู Docker ูุฃูู ุจุฎูุงู ุฐูู ูู ุชููู ูููุฏุฉ ููุบุงูุฉ ุ ูููู Docker ูู ุฃูุถูุง ูุซุงู ุฑุงุฆุน ุนูู ุฃูุฑ ูููู ุจุชุดุบูู ุฃูุงูุฑ ุฃุฎุฑู ุจูุงุกู ุนูู ุงููุณูุทุงุช.  ุนูู ุนูุณ Ssh ุ ููุง ุณูุฑู ูุงุญููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุฃุฎูุฑ: ูุนุงูุฌุฉ ุงูุฎุท </h3><br>  ุฅุฐุง ูุงู <i>ูุฌุจ ุฃู</i> ูููู ุณูุณูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุฃูู ูุฌุจ ุฃู ูุนูู ูู ุฎูุงู <code>ssh</code> ) ุ ููุง ูููู ุชุฌุงูุฒู.  ุณูููู ุนููู ุงูุชุจุงุณ ูู ุญุฌุฉ ูุงููุฑูุจ ูู ุฃู ุฃุญุฑู ูุทููุจุฉ ููุฎุฑูุฌ ูู ูุฐู ุงูุงูุชุจุงุณุงุช.  ุฃุณูู ุทุฑููุฉ ูู ุงูุชุจุฏูู ุฅูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุงูููุฑุฏุฉ ุ ูุฃููุง ุชุญุชูู ุนูู ุฃุจุณุท ููุงุนุฏ ุงููุฑูุจ.  ูุงุนุฏุฉ ูุงุญุฏุฉ ููุท: <code>'</code> โ <code>'\"</code> . <br><br>  ุงุณู ุงูููู ุงููููุฐุฌู ุงูููุฑุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Don'</span></span>\<span class="hljs-string"><span class="hljs-string">''</span></span>t stop (12<span class="hljs-string"><span class="hljs-string">" dub mix).mp3'</span></span></code> </pre> <br>  ููููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูุญููุฉ ูุชูููุฐ ุฃูุงูุฑ ssh ุจุฃูุงูุ  ูุฐุง ูุณุชุญูู!  ุญุณููุง ุ ุฅููู ุงูุญู "ุงูุตุญูุญ ุบุงูุจูุง": <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุญู "ุงูุตุญูุญ ุบุงูุจูุง" (python3): <code>subprocess.check_call(['ssh', 'user@host', "sha1sum '{}'".format(path.replace("'", "'\\''"))])</code> </li></ul><br>  ูุฌุจ ุนูููุง ูุญู ุฃููุณูุง ุฃู ูุฌูุน ูู ุงูุญุฌุฌ ูู ุณูุณูุฉ ุญุชู ูุง ุชุฎุทุฆ Ssh ูู ุฐูู: ุฅุฐุง ุญุงููุช ุชูุฑูุฑ ุนุฏุฉ ูุณูุทุงุช ssh ุ ูุณูุจุฏุฃ ูู ุฏูุฌ ุงูุญุฌุฌ ุจุดูู ุฎุงุฏุน ุจุฏูู ุนูุงูุงุช ุงูุชุจุงุณ. <br><br>  ุนุงุฏุฉ ูุง ูููู ูุฐุง ุบูุฑ ูููู ูุฃู ุงููุฑุงุฑ ุงูุตุญูุญ ูุนุชูุฏ ุนูู ุชูุถููุงุช ุงููุณุชุฎุฏู ุนูู ุงูุทุฑู ุงูุขุฎุฑ ุ ุฃู ุงูุบูุงู ุงูุจุนูุฏ ุ ูุงูุฐู ูููู ุฃู ูููู ุฃู ุดูุก.  ูู ุงูุฃุณุงุณ ุ ูููู ุฃู ุชููู ุญุชู ูุงูุฏุชู.  ูู "ุงูุตุญูุญ ุบุงูุจูุง" ุงูุชุฑุงุถ ุฃู ุงููุดุฑุฉ ุงูุจุนูุฏุฉ ูู bash ุฃู ูุดุฑุฉ ุฃุฎุฑู ูุชูุงููุฉ ูุน POSIX ุ ูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃุณูุงู ุบูุฑ ูุชูุงููุฉ ูู ูุฐู ุงููุฑุญูุฉ</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413117/">https://habr.com/ru/post/ar413117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413105/index.html">ููุงุญุธุงุช ูููุฑ ุฅูุชุฑูุช ุงูุฃุดูุงุก. ุงูุชูุดูุท ูุงูุฃูู ูู LoraWAN</a></li>
<li><a href="../ar413107/index.html">ุชุฑุฌูุฉ ูููู ูุดุฑูุน Svelto.ECS. ุฅุทุงุฑ ECS ูู Unity3D</a></li>
<li><a href="../ar413109/index.html">ููููุฉ ุจูุงุก ููุตุฉ ุชูุงูู ููุชุฌุงุช SaaS: ุชุฌุฑุจุฉ ุงูุณุญุจ ุงูุณุญุงุจูุฉ ููููุตู</a></li>
<li><a href="../ar413111/index.html">STM32 + NetBeans =ุ</a></li>
<li><a href="../ar413113/index.html">ูุฆุฉ ุฌุงูุง ุณูุฑูุจุช JavaScript ุฏุนู ุงูุชุณูุณู</a></li>
<li><a href="../ar413119/index.html">ููุฎุต ุงูููุงุฏ ุงูุทุงุฒุฌุฉ ูู ุนุงูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ููุฃุณุจูุน ุงููุงุถู ุฑูู 317 (28 ูุงูู - 3 ููููู 2018)</a></li>
<li><a href="../ar413121/index.html">ุฌููุฉ ุตูุฑูุฉ ูู ููุณูู ููุนูู ุงูุฌูุงุนู # tceh</a></li>
<li><a href="../ar413123/index.html">ุงูุถู ูู ููุงุนุฏ ุจูุงูุงุช NoSQL</a></li>
<li><a href="../ar413125/index.html">ูููุญ ุงูุนูุงุฌ ุงูุฌููู ุงููุฑุถู ุงูุตุบุงุฑ ุงููุตุงุจูู ุจุถููุฑ ุงูุนุถูุงุช ูุฑุตุฉ ููุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉ</a></li>
<li><a href="../ar413127/index.html">ุจุถุน ูููุงุช ุญูู ุงูุฃุฏุงุก ุงูุญูููู ูุจุฑูุงูุฌ Hypervisor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>