<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏿 🏣 🐭 将受控电源，传感器和继电器连接到服务器主板。没有arduino 🌨️ 🤱🏻 🕦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="通过板载控制器（BMC）的IPMI接口，通过I²C总线将各种传感器，传感器，继电器，GPIO扩展器和其他“ Arduino”设施直接连接到服务器主板。 I²C设备的实际示例，并通过命令行实用程序进行操作ipmitool。 SMBus，PMBus和电源管理。没有非常有据可查的限制和安全问题。揭露所有权...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>将受控电源，传感器和继电器连接到服务器主板。没有arduino</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/400729/"><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过板载控制器（BMC）的IPMI接口，通过I²C总线将各种传感器，传感器，继电器，GPIO扩展器和其他“ Arduino”设施直接连接到服务器主板。 I²C设备的实际示例，并通过命令行实用程序进行操作</font></font><code>ipmitool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 SMBus，PMBus和电源管理。没有非常有据可查的限制和安全问题。揭露</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有权</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></blockquote><br>
<img align="left" width="300" height="160" src="https://habrastorage.org/files/74c/158/4d9/74c1584d9f3341ddb97d685b82813161.jpg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以临时设计安装服务器之后，有时您需要将其连接到其他设备：例如，温度，压力，湿度传感器，LCD屏幕甚至PWM电机驱动器。在整个服务器中，有些故障的外部设备必须使用继电器（而非水平）进行远程和硬复位。或者，也许读者只是想要带花环的LED梳状GPIO？如果这不是单板型Raspberry Pi，而是全尺寸服务器，则必须挂起微控制器并对其进行处理：编写固件，测试，与主机建立连接等。有时，这本身很有趣，但是反过来又发生了：如果只有脚本可以运行，编写脚本并运行它会更快。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作者中不常见的铁质连接器总是引起工程技术瘙痒和通风拜物教的混合感觉。</font><font style="vertical-align: inherit;">这些有趣的连接器在这里讨论。</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免责声明</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您在Geektimes门户之外的某个地方阅读本文，建议您在一两个星期内查看一个</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真实的链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">事实是，读者最有趣的评论会出现在插图的此处（即此处），我并不是在说消除缺点和错误。</font><font style="vertical-align: inherit;">碰巧的是，俱乐部的愤怒居民从字面上将一件坏东西撕成碎片，同时将作者送进了业力深渊。</font><font style="vertical-align: inherit;">换句话说，如果</font><font style="vertical-align: inherit;">未打开</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真实的链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么您不应在这个地方读得更多。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作者向远东（直接从北大西洋上空的天空）致以问候，并向受人尊敬的商标的记者道歉：他们不需要太多的广告，因此我想出了漫画的名字。因此，本文适用于Super Miron产品，但作者对Kharlampiy-Pankrat，Ivan Bral Maryu，Iltan，Dolyan等产品上是否存在类似的机制毫不怀疑：娱乐性连接器最常见于电源和磁盘篮。同时，我们将尝试公开广受赞誉的Kobzar Link。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尊敬的服务器平台专家：IPMI，I²C，SMBus和PMBus，如果出现问题，请更正。</font><font style="vertical-align: inherit;">通常，作者对具有创造力的读者表示感激，但要向已经写出感激之情的俱乐部居民表示歉意，只是UFO不下令这样做两次。</font><font style="vertical-align: inherit;">祝您阅读愉快。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从什么</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作者不以一分钱的价格购买二手服务器主板，让他们重生而感到羞耻。</font><font style="vertical-align: inherit;">旧的，嘈杂的服务器技工（带有电源）被废弃，并用新产品代替，尽管属于消费类，但质量高且安静。</font><font style="vertical-align: inherit;">但是，即使从复古系列超米伦X8和X9仍然得到根本</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ofigenskie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NAS为结合enterpise功能文件“时间机器”木马的侵害，勒索和复制在网络上的小型企业...</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模拟黄色程序</font></font></b><div class="spoiler_text">    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FreeNAS</a>        Windows-,        USB-.    ,   1    -,   .   Linux? -  , . , -    1 —   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> (, ).   USB     <code>jail</code>  VirtualBox  ...</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，大约在20年前，对于</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集体农场</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的GPIO，工匠使用了打印机的并行端口，但现在尝试查找它。</font><font style="vertical-align: inherit;">就我而言，世界已经改变了-变得更好了:)</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外观检查</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我已经有了几乎是化石但可以正常工作的产品X9SCM-F（英特尔C204 Express），加上它的弟弟X9SCL-F（C202）已经在附近的工厂工作了几年。如果按照文档中的说明打开产品，使24针ATX电源连接器朝北，则SATA端口将位于Khabarovsk区域中的某处。在东部，例如Petropavlovsk-Kamchatsky，有一对T-SGPIO 1和2连接器以字母“ GPIO”的组合引起人们的注意。作者打开了这种组合，但是化石电子学的地质学家-研究人员的反应却是错误的。实际上这里的关键字是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SGPIO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是使用恒定长度帧的时分双工信令总线。总线依次为每个SATA端口传输三个位：在HBA上-篮的状态，在篮上-磁盘的状态（活动，故障，定位器）。这是过时的技术；现代篮子使用I²C。我没有深入研究，但是似乎板上的6个SATA端口分为两个北部和四个南部一组，每个组都挂有自己的梳状T-SGPIO。笨拙，笨拙，但适合</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集体耕种</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也没用。继续吧，在南萨哈林斯克州有一个小型JWF1连接器，但是SATA DOM驱动器只有5V电源，我没有。在远东地区，无事可做。沿着南部边界延伸出一系列完整的9针USB连接器和第二个RS232端口，使用它们的一切都很清楚。在COM2的西北部，发现了一对JI2C1 / JI2C2跳线，从而可以访问PCIe设备。到目前为止，该工具包仍然是我的一个谜，但是我可以肯定的是，实际上JI2C1 / JI2C2是SCL和SDA的实时输出，它们与3.3V电源和地简单分开，它们已经在PCIe中。现在就离开。 JTPM连接器非常复杂，这很紧急。通过将其连接到光电继电器，只能从前面板连接器JF1挤压UID LED。顺便说一句，这是m。甚至很方便：电路中已经集成了一个终端电阻，打开UID LED-打开（关闭）继电器。进行远程重置</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也许</font><i><font style="vertical-align: inherit;">外部设备</font></i><font style="vertical-align: inherit;">就足够了。最主要的是，一年后，操作员进入BMC Web界面后，并没有像这样打开UID LED，而同时重置了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部设备</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。好的，我们回到</font><font style="vertical-align: inherit;">北端</font><font style="vertical-align: inherit;">的极限</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它位于ATX电源附近，并且JPI2C连接器也已定位。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我必须说，关于JPI2C的文档相当乐观。因此，这是I²C总线的输出，用于监视“本地”电源的运行状况。从物理上讲，JPI2C是5针Molex型SL连接器，其间距为0.1“（2.54mm），并且是</font><font style="vertical-align: inherit;">带相反极性</font><font style="vertical-align: inherit;">的</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">傻瓜</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键，大概是目录代码70543-0004。响应部分（在左下图中）是用于压接的Molex 70066-0179。卷缩机（又名</font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BL-05F</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">我怀疑在所有Super Miron主板上，I²C总线都用于监视服务器电源的运行状况，并且它与5针Molex SL连接器（</font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BL-05M</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">连接</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">展望未来，我要说的是，一些用户已经在逆向工程方面取得了成功，并找到了一种方法，可以从其本地Super Miron电源中移除各种工具，例如温度和伏特安培，请继续阅读。</font></font><br>
<br>
<blockquote><img align="right" width="148" height="182" src="https://habrastorage.org/files/7e9/b96/f08/7e9b96f088bd4bcba512615f7e6be477.png"><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电源I²C连接器</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
位于JPI2C的电源I²C连接器可监视电源状态，风扇和系统温度。</font><font style="vertical-align: inherit;">有关引脚定义，请参见右侧的表。</font></font><br clear="all">
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
空的JPI2C连接器公开地标有标准I²C总线引脚：SCL，SDA，GND和VCC。</font><font style="vertical-align: inherit;">中间是电源故障警报。</font><font style="vertical-align: inherit;">展望未来，我敢建议此电源故障是在不使用外部微控制器的情况下针对外部事件发出警报的唯一方法。</font><font style="vertical-align: inherit;">然后，我们找到了</font><font style="vertical-align: inherit;">日期为2010年3月30日</font><font style="vertical-align: inherit;">的文章</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAQ ID 9492</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该文章明确暗示可能直接从命令行轮询I²C总线。</font><font style="vertical-align: inherit;">由于BMC显然参与监视电源的运行状况，并且团队</font></font><code>ipmitool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显然能够与使用电源的I²C总线进行“交谈”，因此没有任何事情应干扰将其他东西连接到JPI2C。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪个连接器：BL或BLS？</font></font></b><div class="spoiler_text">        MP3,    4- <i></i>,  CD-   . ,   <i></i>      <nobr>BLS-4</nobr>,   CD-          <i></i>,     . , ,       <i></i>     BL-04F,          .  MP3     ,  <i></i>       ...</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我为什么 </font><font style="vertical-align: inherit;">而且，Super Miron板上的JPI2C连接器看上去与旧CD驱动器上的音频连接器完全一样，它只有5个针而不是4个。JPI2C将包括一个简单的单行</font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLS-5</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是最好使用带有物理极性键的连接器类型</font></font><b><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BL-05F</font></font></nobr></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，当与已经安装在机箱中的主板一起使用时，很容易出错。</font><font style="vertical-align: inherit;">节省您的时间。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用回路</font></font></b><div class="spoiler_text"><img width="300" height="238" align="left" src="https://habrastorage.org/files/34f/8f4/335/34f8f4335b8a4b4bafd78c86b3b5ba78.JPG">     «» 40- ,     <i></i>    .     ,    , ..   .        <nobr>BLS-1</nobr> M-F, M-M  F-F.   aliexpress: «dupont cable».</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过命令行使用I²C设备</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将曾经在速卖通上购买的BMP180传感器连接到JPI2C。</font><font style="vertical-align: inherit;">起初，什么都没有。</font><font style="vertical-align: inherit;">整个寻址过程也令人困惑，</font></font><code>bus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从多少根总线中选择一条总线</font><font style="vertical-align: inherit;">的论点</font><font style="vertical-align: inherit;">尚不清楚。</font><font style="vertical-align: inherit;">但是之后，我只是编写了一个脚本来遍历（扫描）总线，并在连接BMP180之前和之后比较其工作结果。</font><font style="vertical-align: inherit;">使用X9SCM-F，立即在3号总线上的地址</font></font><code>0xee</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">处检测到传感器</font></font><code>0xef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请参见下面的注释）。</font><font style="vertical-align: inherit;">有必要将JI2C1 / JI2C2重新排列到ENABLE位置，并查看PCIe卡是否突然响应...</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ipmiscan.sh</font></font></b><div class="spoiler_text">      ,  -  progress bar  ,       (0, 1, 2  3).  bash 3.0+.<pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash
</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> bus <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 0 1 2 3; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
        <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Bus <span class="hljs-variable"><span class="hljs-variable">$bus</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> {16..238..2}; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
                <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> -v args <span class="hljs-string"><span class="hljs-string">"i2c bus=%d 0x%02x 0x01"</span></span> <span class="hljs-variable"><span class="hljs-variable">$bus</span></span> <span class="hljs-variable"><span class="hljs-variable">$i</span></span>
                <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">" 0x%02x"</span></span> <span class="hljs-variable"><span class="hljs-variable">$i</span></span>
                ipmitool <span class="hljs-variable"><span class="hljs-variable">$args</span></span> 2&gt;/dev/null &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"(bus </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$bus</span></span></span><span class="hljs-string">)"</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
        <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该脚本仅枚举偶数地址，不涉及</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保留的地址</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。在I²C中，最低有效位是读写的标志：每个设备似乎占用两个地址（奇数读取，偶数写入）。文章</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAQ ID 9492</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我迷惑，因为民意调查只有偶数。但是在</font></font><code>ipmitool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读写</font><font style="vertical-align: inherit;">的情况下</font><font style="vertical-align: inherit;">，它不是由地址决定的，而是由命令的上下文决定的，对吗？重量级的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPMI 2.0规范</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将所有内容都放在适当的位置：Master Read-Write（</font></font><code>0x06 0x52</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">命令中地址的最低有效位</font><font style="vertical-align: inherit;">通常被保留，应将其重置（等于零）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
连接到X9SCM-F上的JPI2C的BMP180传感器在该地址处响应了（总线= 3）</font></font><code>0xee</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>0xef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管这是相同的）。即设备的逻辑地址原来是</font></font><code>0x77</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为它应该在数据表上（博世抓住了最上面的8位地址）。我最初的错误是在“原始” IPMI地址上寻找BMP180 </font></font><code>0x77</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是不正确的，对于IPMI，您只需将逻辑I²C地址乘以2（向左移动一位）。顺便说一下，在使用I²C时，这是最常见的错误。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
像这样悬挂的I²C总线在空气中变得无趣，在球形真空中更是如此。</font><font style="vertical-align: inherit;">应“ i2c传感器”的要求，一个众所周知的平台将为受尊敬的阅读器提供一系列已经与微型卡绑定的传感器。</font><font style="vertical-align: inherit;">通常，剩下的只是焊接接触梳，为此有足够的需求，并且不需要带有焊料和助焊剂的30W烙铁。</font><font style="vertical-align: inherit;">为了验证这一理论，我决定使用BMP180传感器测量温度，但事实证明它比我想象的要复杂一些：该传感器是一个复杂的有状态设备的示例，并且说``从精密仪表中提取温度和压力读数并考虑校准系数''会更正确。</font><font style="vertical-align: inherit;">但是首先，我们仍然向受人尊敬的供应商致敬。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遥测电源</font></font></b><div class="spoiler_text"> ,    .. , ,          :       ,  ,           ,     ,  .       IPMI,         .  DIY                 .<br>
<br>
 <b>Andrew Grekhov</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>       ,    ,   .  ,   ,           .  ,       <code>ipmitool</code>      ,   -H, -U  -P,   <code><nobr>raw 0x06 0x52 0x07</nobr></code>      <code><nobr>i2c bus=3</nobr></code>, «»   , .   Master Read-Write  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> IPMI</a>.<br>
<br>
   <b>Andrew Grekhov</b>,          (  ) .  ,     PMBus,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>  . .  PMBus     SMBus    ,   SMBus,   ,   I²C.  ,            PMBus.        PMBus  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>,   :    ?  ,   .<br>
<br>
,   ,     (),    , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PMBus rev 1.1</a>.    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.pmbus.org</a>,        PMBus Specification Part II Rev. 1.1.     , .  26   APPENDIX I. Command Summary.  , ,  - 0x78 (STATUS_BYTE), 0x88 (READ_VIN), 0x89 (READ_IIN), 0x95 (READ_FREQUENCY)  :        ,      .    26,     (Read Byte  Read Word)    .    ,       byte  word?<br>
<br>
  :      I²C    0x30 (COEFFICIENTS),     SMBus?  ,   -    ,   ..     ,      SMBus      0x30    2,          (0x88  READ_VIN)   ,       .        1 + 5 + 1    <i>m</i>, <i>B</i>  <i>R</i>,       .   — ,  — PEC ( ). ..    ,      SMBus  I²C, ,  :<br>
<br>
<pre><code class="bash hljs">ipmitool i2c bus=3 0x70 0x07 0x30 0x02 0x88 0x01</code></pre><br>
      <code><nobr>0x30 0x02 0x88 0x01</nobr></code>     <code>0x70</code>,    №3,      7  (    ,   ,   PEC).        (   <code>0x78</code>,   —  ),   7     6 ( PEC).   -      , ,    production,      :)    ,         ,    .</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用BMP180进行温度测量</font></font></b><div class="spoiler_text"><img width="200" height="200" align="left" src="https://habrastorage.org/files/ab5/0cc/82d/ab50cc82d6814350887749017115c4f1.jpg"> BMP180    .       ,        IPMI- <code>0xee</code>       .     BMP180 stateful-, ..    ( ..     ).  BMP180  BMP085,   — BMP280,    .<br clear="all">
     ,      ,   .        <code>0x2e</code>   <code>0xf4</code>:<br>
<br>
<pre><code class="bash hljs">ipmitool i2c bus=3 0xee 0x00 0xf4 0x2e</code></pre><br>
 <code>0x00</code> ,        <code>0xee</code>,     .   4.5   16-  UT (« »)   <code>0xf6</code>  :<br>
<br>
<pre><code class="bash hljs">ipmitool i2c bus=3 0xee 0x02 0xf6</code></pre><br>
     <code>0xf6</code>   <code>0xee</code> (..  <code>0x77</code>,  BMP180),       .  IPMI Master Write-Read     stateful-.<br>
<br>
   UT  <code>0x6a 0x48</code>,    27208 (.. -  27°C  «» ,      BMP180, , ).   UT  <code>0x8000</code>,   ,     .<br>
<br>
       :     AC5, AC6, MC  MD   <code>0xb2, 0xb4, 0xbc</code>  <code>0xbe</code>, ,    <i></i>   (,   !).<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>X</mi><mn>1</mn><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>U</mi><mi>T</mi><mo>&amp;#x2212;</mo><mi>A</mi><mi>C</mi><mn>6</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#xB7;</mo><mi>A</mi><mi>C</mi><mn>5</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>15</mn></mrow></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.533ex" height="3.037ex" viewBox="0 -950 12715.8 1307.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-3D" x="1630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-28" x="2687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-55" x="3076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-54" x="3844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2212" x="4770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-41" x="5771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-43" x="6522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-36" x="7282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-29" x="7783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-22C5" x="8394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-41" x="8895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-43" x="9645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-35" x="10406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2F" x="10906" y="0"></use><g transform="translate(11407,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-35" x="500" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>X</mi><mn>1</mn><mo>=</mo><mo stretchy="false">(</mo><mi>U</mi><mi>T</mi><mo>−</mo><mi>A</mi><mi>C</mi><mn>6</mn><mo stretchy="false">)</mo><mo>·</mo><mi>A</mi><mi>C</mi><mn>5</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>15</mn></mrow></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">X1=(UT-AC6)·AC5/2^{15}</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>X</mi><mn>2</mn><mo>=</mo><mi>M</mi><mi>C</mi><mo>&amp;#xB7;</mo><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>11</mn></mrow></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mn>1</mn><mo>+</mo><mi>M</mi><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.488ex" height="3.037ex" viewBox="0 -950 12265.8 1307.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-32" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-3D" x="1630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-4D" x="2687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-43" x="3738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-22C5" x="4721" y="0"></use><g transform="translate(5222,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2F" x="6530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-28" x="7030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-58" x="7420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2B" x="8995" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-4D" x="9996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-44" x="11047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-29" x="11876" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>X</mi><mn>2</mn><mo>=</mo><mi>M</mi><mi>C</mi><mo>·</mo><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>11</mn></mrow></msup><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mo stretchy="false">(</mo><mi>X</mi><mn>1</mn><mo>+</mo><mi>M</mi><mi>D</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2">X2=MC·2^{11}/(X1+MD)</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>B</mi><mn>5</mn><mo>=</mo><mi>X</mi><mn>1</mn><mo>+</mo><mi>X</mi><mn>2</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.15ex" height="2.211ex" viewBox="0 -772.3 6523 952" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.417ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-35" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-3D" x="1537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-58" x="2594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31" x="3446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2B" x="4169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-58" x="5170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-32" x="6022" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>B</mi><mn>5</mn><mo>=</mo><mi>X</mi><mn>1</mn><mo>+</mo><mi>X</mi><mn>2</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3">B5=X1+X2</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>B</mi><mn>5</mn><mo>+</mo><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msup><mn>2</mn><mn>4</mn></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>10</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.34ex" height="3.174ex" viewBox="0 -1009.3 8757.4 1366.8" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-3D" x="982" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-28" x="2038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMATHI-42" x="2428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-35" x="3187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2B" x="3910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-38" x="4911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-29" x="5411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2F" x="5801" y="0"></use><g transform="translate(6301,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-34" x="707" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-2F" x="7255" y="0"></use><g transform="translate(7756,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/400729/&amp;usg=ALkJrhhgWoqgwVOy5y8w-tY7j6c6pvUOYQ#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo>=</mo><mo stretchy="false">(</mo><mi>B</mi><mn>5</mn><mo>+</mo><mn>8</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msup><mn>2</mn><mn>4</mn></msup><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>10</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4">T=(B5 + 8)/2^4/10</script></p><br>
<br>
    10, ..       .        <i>  </i>,      ,     15      11  . ,      ,            <code>0xf4</code>. ?  ,   :)<br>
<br>
   <b>41j</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>.</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用输入输出</font></font></b><div class="spoiler_text"><img width="300" height="278" align="left" src="https://habrastorage.org/files/f44/adf/b7b/f44adfb7be3544f89ce78626ac54bbfb.JPG">       ,  ,   ,          .  BMP180    I²C     8-  GPIO   PCF8574AT.<br>
 ,  PCF8574A (   PCF8574)     <code>0x38</code> ( PCF8574  <code>0x20</code>),        .  ,  , -      8 ,         .        8 ,   64  GPIO.   , .   I²C   .</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I²C开关</font></font></b><div class="spoiler_text"><img width="300" height="213" align="left" src="https://habrastorage.org/files/062/0b8/71c/0620b871c4984efea9f0f5ecb03c7a4e.JPG"> ,       BMP180,    <code>0x77</code> (.. <code>0xee</code>)  ?      ,   (),       TCA9548A     -  ,    .  ()   8  ,        . <s>       ,          GPIO,     .</s>    : -     I²C SDA  SCL,     .  , ,   8   BMP180,     c    A0-A2      <code>0x70</code> (. <code>0xe0</code>   <code>ipmitool</code>).   A0=A1=A2=1      <code>0x77</code>, , ,    BMP180. ,   TCA9548A,    I²C    56   -.        ,      .  , ,       .</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局限性</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我使用</font></font><code>ipmitool(1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.8.15命令</font><font style="vertical-align: inherit;">进行了所有实验</font><font style="vertical-align: inherit;">，该命令通过FreeBSD 10主机（内核）接口工作，如果在脚本中使用此命令，则必须解析其输出，此外，还解析stderr而不是stdout。在本文中，我特别避免使用解析器。如果有任何读者</font><font style="vertical-align: inherit;">至少在原始命令模式下能够以流行的脚本语言（perl，Python）通过主机接口</font><font style="vertical-align: inherit;">共享</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过验证的</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库，以通过IPMI使用IPMI，</font><font style="vertical-align: inherit;">将不胜感激</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
虽然</font></font><code>ipmitool(1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且可以通过网络（623 / tcp）工作，当JPI2C上的主机关闭时，没有备用电源，总线将断电。我没有尝试单独给传感器供电，并在主机关闭的情况下通过IPMI网络接口对传感器进行讯问。但是，如果您需要连接到网络的自治传感器，则最好使用单板设备，例如相同的Raspberry Prog（对不起，我在我的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文章中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">称Raspberry Pi </font><font style="vertical-align: inherit;">为保护microSD卡免受过早磨损的影响，方法是切换到只读文件系统）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如已经提到的，此处描述的方法没有外部微控制器，实际上消除了对外部事件对中断的反应，除了信号“电源故障”。</font><font style="vertical-align: inherit;">从理论上讲，电源故障信号可以生成SNMP事件，但是我没有尝试过。</font><font style="vertical-align: inherit;">我想再说一遍：如果需要传感器的中断，那么我们需要一个微控制器，或者最糟糕的是，需要一个专用的单板。</font><font style="vertical-align: inherit;">凯撒就是凯撒。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冲突管理I²C</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果I²C总线上没有“本地”电源设备，那么谢天谢地，问题就更少了。但是，如果系统中出现带有I²C接口的“本地”电源设备，则从理论上讲，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在安装了</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应的适配器后</font><font style="vertical-align: inherit;">，禁止并行连接其他设备</font><font style="vertical-align: inherit;">。在这种情况下会发生什么？如果所有设备都位于其地址，则在主机决定严格</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电源</font><font style="vertical-align: inherit;">之前，不会发生任何不良情况</font><font style="vertical-align: inherit;">。如果您不知道自己在做什么，那就限制自己阅读。从</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAQ ID 9492</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来看</font><font style="vertical-align: inherit;">，电源（单，双，三）位于逻辑地址</font></font><code>0x38, 0x39, 0x3a, ...</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这些IPMI地址分为两半）上。</font></font><br>
<br>
<img width="209" height="241" align="left" src="https://habrastorage.org/files/e66/b36/5f5/e66b365f54d548bca3726e6f4458dd30.png"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我有一个关于IPMI及其在访问I²C中的作用的理论：如果所有写入命令仅选择一个寄存器用于后续读取，则与设备的每次交互都适合一个IPMI主写入-读取命令。从非常重要的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPMI 2.0规范中，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我建议您阅读第22.11段，该段描述了此命令。据我了解，</font><font style="vertical-align: inherit;">在I²C总线上的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是将字节序列读取或写入一个地址。但是带有Master Write-Read命令的IPMI规范引入了更多内容：一对读写操作，对传感器很方便，类似于一个完整的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事务</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而且，IPMI规定了最大缓冲区长度（大约30个字节）。我还假设（a）BMC始终是I²C总线上的主要设备，并且（b）BMC具有内置的锁定机制，即在交易过程中，他不会尝试从自己身上坐公共汽车。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
假设IPMI主读写命令确实是一个不可分割的事务，那么BMC所做的不仅仅是显示I²C：它是一个</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事务性加载项</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在I²C上，还具有主机或网络接口。</font><font style="vertical-align: inherit;">换句话说，事实证明它就像是原始的4级协议栈，可通过IPMI接口与I²C传感器配合使用，我敢于绘制。</font><font style="vertical-align: inherit;">如果受人尊敬的读者不喜欢该图片，请想象我是一个艺术家，并且本质上请注意一下这样的世界：）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一下，SMBus总线（除了其他联系人）在批处理模式下与I²C完全不同，并且其中</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了</font><font style="vertical-align: inherit;">写/读操作块 </font><font style="vertical-align: inherit;">但这已经是SMBus总线本身协议的一部分，在这种情况下，IPMI将扮演简单的操作包装程序的角色，而不是事务性外接程序。</font><font style="vertical-align: inherit;">但是，IPMI和SMBus规范中的最大块长度是如此相似，以至于我假设它们之间是直接连接的，甚至没有深入研究该主题。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全性</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
连接到计算机网络的BMC是服务器，并且容易受到攻击。</font><font style="vertical-align: inherit;">例如，这就是为什么有必要在“本地” OS控制台上加强安全措施，该控制台实际上已通过虚拟KVM暴露给网络。</font><font style="vertical-align: inherit;">BMC控制器Super Miron的旧固件包含一个令人不快的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">漏洞</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此操作应从更新BMC固件（除了BIOS）开始。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带反馈的气候控制</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以说，有些制造商在冷却的氛围中将悬挂的想法带到了邪教，并向邪教提供了反馈，而营销则带有保密的面纱，使这种想法变得powder粉：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">魔王崇拜</font></font></b><div class="spoiler_text">   , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>:<br>
<blockquote>In some ways, Corsair Link is one of our best kept secrets. It had a very rocky start, but continued and continuing development has turned it into an extremely useful combination of hardware and software. It allows you to connect several products within our ecosystem to a software-based control panel, but there's so much more to it than that.</blockquote><br>
,      ,       , ,    ,      . ,   <i></i>         <i></i>   .<br>
<br>
,   Corsair Link Commander Mini    USB HID,       SMBus,     «»    PMBus,    .            SMBus,        0x98 (PMBUS_REVISION).    ,  .  PMBus                  .         ,      ,  (  )     .<br>
<br>
,     «»       community-   ,    .   ,     , ..   .  , , .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同时，社区不存在：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">民间食谱</font></font></b><div class="spoiler_text"> <b>Kevin Horton</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  FreeNAS          Perl.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  .         ,   -, ,  X10   .       ,      SMART.      ,   .   .<br>
<br>
         X9 (socket 1155)   :   X9SCL/X9SCM <s>   </s>       «»  «»    BIOS     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>). , IPMI  ...</div></div><br>
<br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD：</font></font></b><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPMII²C的替代产品-接口转换器</font></font></h4><br>
 ,     I²C     ?    USB- I²C/SMBus,    USB HID.<br>
<br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">x893</a>     -: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CP2112</a> - Silicon Labs  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MCP2221A</a> - Microchip.    ,     «A»       460  115.       ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CP2112EK</a>   $40,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ADM00559</a>   MCP2221    . ,    / ,          .<br>
<br>
,    ,  USB   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a>,    USB HID        .      : ,    HID,    ,   CDC, ..  COM-.   USB HID <i></i>      .         ,   ,   Python.      USB HID, Microchip     Linux,     .     ,       :)</blockquote><br>
<br>
<h4></h4><br>
<ul>
<li>         I²C,    IPMI.</li>
<li>  « »    I²C- (, , GPIO),        .</li>
<li> ,         I²C-  ,  IPMI.</li>
<li>BMC-,   IPMI,  <i> </i>  I²C     Master Write-Read,      .</li>
<li>             ,  -        .</li>
<li>          PMBus,     I²C/SMBus.</li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><blockquote>Intelligent Platform Management Interface Specification v2.0<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.intel.com/content/dam/www/public/us/en/documents/product-briefs/second-gen-interface-spec-v2.pdf</a><br>
<br>
IPMItool<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">sourceforge.net/projects/ipmitool</a><br>
<br>
I²C Bus (   telos)<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.i2c-bus.org</a><br>
<br>
System Management Bus (SMBus) description<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.smbus.org/specs/smbdef.htm</a><br>
<br>
PMBus, Power Management Bus<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pmbus.org</a><br>
<br>
FreeNAS, Enterprise-Grade Features, Open Source, BSD Licensed<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.freenas.org</a><br>
<br>
SGPIO, Serial General Purpose Input/Output <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.wikipedia.org/wiki/SGPIO</a><br>
<br>
SuperMicro FAQ ID 9242, Monitoring of PSU using IPMITool<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.supermicro.com/support/faqs/faq.cfm?faq=9492</a><br>
<br>
LM25056, System Power Measurement IC with PMBus<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.ti.com/product/LM25056</a><br>
<br>
PCF8574A, Remote 8-Bit I/O Expander for I2C-Bus<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.ti.com/product/PCF8574A</a><br>
<br>
TCA9548A, Low-Voltage 8-Channel I2C Switch With Reset<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.ti.com/product/TCA9548A</a><br>
<br>
BMP180, Barometric Pressure Sensor<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.bosch-sensortec.com/bst/products/all_products/bmp180</a><br>
<br>
 , BMP180 Barometric Pressure Sensor<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">41j.com/blog/2015/01/bmp180-barometric-pressure-sensor</a><br>
<br>
 ,       .  SuperMicro ( X8)<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3nity.ru/viewtopic.php?p=135736#p135736</a><br>
<br>
 FreeNAS, Script to control fan speed in response to hard drive temperatures<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">forums.freenas.org/index.php?threads/script-to-control-fan-speed-in-response-to-hard-drive-temperatures.41294</a><br>
<br>
Computer Cheese, IPMI Messaging Support commands, <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">computercheese.blogspot.com/2013/05/ipmi-messaging-support-commands.html</a><br>
<br>
Corsair Link<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.corsair.com/en/support/faqs/corsair-link</a><br>
<br>
EEVblog Electronics Community Forum<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.eevblog.com/forum/chat/corsair-link</a><br>
</blockquote></div></div></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN400729/">https://habr.com/ru/post/zh-CN400729/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN400717/index.html">区块链初创企业的11个非常规孵化器</a></li>
<li><a href="../zh-CN400719/index.html">Неизвестный рынок. Как торговля внутриигровыми предметами стала сферой с многомиллионным оборотом</a></li>
<li><a href="../zh-CN400723/index.html">如何在Deep Web上捕获罪犯</a></li>
<li><a href="../zh-CN400725/index.html">总体微信或电子商务的主导地位</a></li>
<li><a href="../zh-CN400727/index.html">Google Home和Amazon Alexa的比较</a></li>
<li><a href="../zh-CN400731/index.html">金属3D打印-技术和打印机</a></li>
<li><a href="../zh-CN400733/index.html">反智能手机是摆脱智能手机成瘾的简单方法。星期五邮报</a></li>
<li><a href="../zh-CN400735/index.html">从地球到月球。历史和数学。第二部分</a></li>
<li><a href="../zh-CN400737/index.html">科学家发现虐待与诚实之间存在联系</a></li>
<li><a href="../zh-CN400739/index.html">Медики из Швейцарии создали автономный кардиостимулятор</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>