<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéç üë®üèæ‚Äçüåæ üë®üèæ‚Äçüåæ Apresentando o InterSystems API Manager üè® üë©üèΩ‚Äçüé® üÖæÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lan√ßamos recentemente o InterSystems API Manager (IAM), um novo componente da InterSystems IRIS Data Platform que fornece monitoramento, controle e co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apresentando o InterSystems API Manager</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intersystems/blog/475670/"><p>  Lan√ßamos recentemente o InterSystems API Manager (IAM), um novo componente da InterSystems IRIS Data Platform que fornece monitoramento, controle e controle de tr√°fego de / para a API da Web na infraestrutura de TI. </p><br><p>  Neste artigo, mostrarei como configurar o IAM e demonstrarei alguns dos muitos recursos dispon√≠veis para o IAM.  O InterSystems API Manager permite: </p><br><ul><li>  Assista √† API, entenda quem est√° usando a API, quais APIs s√£o as mais populares e quais precisam ser aprimoradas </li><li>  Controle quem usa a API e restrinja o uso da API, de simples restri√ß√µes de acesso a restri√ß√µes, dependendo da solicita√ß√£o - voc√™ possui controles personaliz√°veis ‚Äã‚Äãe pode responder rapidamente a altera√ß√µes nos padr√µes de consumo da API. </li><li>  Proteja APIs com mecanismos de seguran√ßa centralizados, como OAuth2.0, LDAP ou autentica√ß√£o de token de chave. </li><li>  Simplifique o trabalho de desenvolvedores de terceiros e ofere√ßa uma excelente experi√™ncia com a API, abrindo um portal especial para desenvolvedores. </li><li>  Escale a API e garanta um atraso m√≠nimo na resposta. </li></ul><br><p>  O gerenciamento da API √© necess√°rio para a transi√ß√£o para a arquitetura SOA ou microsservi√ßo, simplificando a integra√ß√£o entre (micro) servi√ßos individuais, tornando-os acess√≠veis a todos os consumidores externos e internos.  Como resultado, novas APIs est√£o se tornando mais f√°ceis de criar, manter e consumir. </p><a name="habracut"></a><br><p>  Se voc√™ j√° estiver usando o InterSystems IRIS, poder√° adicionar a op√ß√£o IAM √† sua licen√ßa.  A op√ß√£o IAM √© gratuita para os clientes do InterSystems IRIS, mas para come√ßar a usar o IAM, √© necess√°rio solicitar uma nova chave de licen√ßa da InterSystems. </p><br><p>  Se voc√™ ainda n√£o estiver usando o InterSystems IRIS e planeja experimentar o InterSystems API Manager, entre em contato com a InterSystems. </p><br><h1 id="nachalo-raboty-i-ustanovka">  Introdu√ß√£o e instala√ß√£o </h1><br><p>  Os clientes do InterSystems IAM podem fazer o download da se√ß√£o "Software Distribution" no site do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WRC</a> e execut√°-la como um cont√™iner do Docker.  Requisitos m√≠nimos do sistema: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Docker</a> 04.17.0+. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Docker Compose</a> 1.12.0+. </li><li>  InterSystems IRIS 2019.1.1+. </li></ul><br><p>  Inicialmente, √© necess√°rio fazer o download da imagem do Docker (Importante! O arquivo com o WRC n√£o √© uma imagem do Docker, √© necess√°rio descompact√°-lo, dentro da imagem do Docker): </p><br><pre><code class="plaintext hljs">docker load -i iam_image.tar</code> </pre> <br><p>  Este comando disponibilizar√° a imagem do IAM para uso posterior em seu servidor.  O IAM funciona como um cont√™iner separado, para que voc√™ possa dimension√°-lo independentemente do InterSystems IRIS.  Para executar o IAM, voc√™ precisa acessar o InterSystems IRIS para baixar a licen√ßa. </p><br><p>  Configure o InterSystems IRIS: </p><br><ul><li>  Ative o aplicativo Web <code>/api/IAM</code> </li><li>  Habilitar usu√°rio do <code>IAM</code> </li><li>  Alterar senha de usu√°rio do <code>IAM</code> </li></ul><br><p>  Agora execute o cont√™iner do IAM.  No arquivo, voc√™ encontrar√° scripts <code>iam-setup</code> para Windows e Unix (e Mac).  Esses scripts ajudar√£o a configurar vari√°veis ‚Äã‚Äãde ambiente corretamente, permitindo que o cont√™iner do IAM se conecte ao InterSystems IRIS.  Aqui est√° um exemplo de script no Mac: </p><br><pre> <code class="plaintext hljs">source ./iam-setup.sh Welcome to the InterSystems IRIS and InterSystems API Manager (IAM) setup script. This script sets the ISC_IRIS_URL environment variable that is used by the IAM container to get the IAM license key from InterSystems IRIS. Enter the full image repository, name and tag for your IAM docker image: intersystems/iam:0.34-1-1 Enter the IP address for your InterSystems IRIS instance. The IP address has to be accessible from within the IAM container, therefore, do not use "localhost" or "127.0.0.1" if IRIS is running on your local machine. Instead use the public IP address of your local machine. If IRIS is running in a container, use the public IP address of the host environment, not the IP address of the IRIS container. xxx.xxx.xxx.xxx Enter the web server port for your InterSystems IRIS instance: 52773 Enter the password for the IAM user for your InterSystems IRIS instance: Re-enter your password: Your inputs are: Full image repository, name and tag for your IAM docker image: intersystems/iam:0.34-1-1 IP address for your InterSystems IRIS instance: xxx.xxx.xxx.xxx Web server port for your InterSystems IRIS instance: 52773 Would you like to continue with these inputs (y/n)? y Getting IAM license using your inputs... Successfully got IAM license! The ISC_IRIS_URL environment variable was set to: http://IAM:****************@xxx.xxx.xxx.xxx:52773/api/iam/license WARNING: The environment variable is set for this shell only! To start the services, run the following command in the top level directory: docker-compose up -d To stop the services, run the following command in the top level directory: docker-compose down URL for the IAM Manager portal: http://localhost:8002</code> </pre> <br><p>  Como voc√™ pode ver, o nome completo da imagem, o endere√ßo IP, a porta InterSystems IRIS e a senha do usu√°rio do IAM s√£o tudo o que voc√™ precisa para come√ßar. </p><br><p>  Em vez de executar o script, voc√™ pode definir as vari√°veis ‚Äã‚Äãde ambiente manualmente: </p><br><pre> <code class="plaintext hljs">ISC_IAM_IMAGE=intersystems/iam:0.34-1-1 ISC_IRIS_URL=http://IAM:&lt;PASS&gt;@&lt;IP&gt;:&lt;PORT&gt;/api/iam/license</code> </pre> <br><h1 id="zapusk">  Lan√ßamento </h1><br><p>  Agora execute o IAM executando o comando: </p><br><pre> <code class="plaintext hljs">docker-compose up -d</code> </pre> <br><p>  Este comando organiza os cont√™ineres do IAM e garante que tudo seja iniciado corretamente.  O status dos cont√™ineres √© verificado usando o comando: </p><br><pre> <code class="plaintext hljs">docker ps</code> </pre> <br><p>  Abra a interface de administra√ß√£o <code>localhost:8002</code> em um navegador. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/feb/7c8/83c/feb7c883ce4240a907f3a16e40c5bd37.png"></p><br><p>  At√© agora, est√° vazio porque √© um site completamente novo.  Vamos mudar isso.  O IAM suporta o conceito de √°reas de trabalho para dividir a API em m√≥dulos e / ou equipes.  V√° para o espa√ßo de trabalho "padr√£o", que usaremos para nossos experimentos. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/92a/89f/ec2/92a89fec21308f5a8818a667f74124a4.png" alt="Barra de ferramentas da √°rea de trabalho padr√£o"></p><br><p>  O n√∫mero de solicita√ß√µes para este espa√ßo de trabalho ainda √© zero, mas voc√™ ter√° uma id√©ia dos conceitos b√°sicos do IAM no menu √† esquerda.  Os dois primeiros elementos: Servi√ßos e Rotas s√£o os mais importantes: </p><br><ul><li>  Servi√ßo - API, que queremos fornecer acesso aos consumidores.  Portanto, a API REST no InterSystems IRIS √© um servi√ßo, como, por exemplo, a API do Google, se voc√™ quiser us√°-lo. </li><li>  A rota decide para qual servi√ßo as solicita√ß√µes de entrada devem ser redirecionadas.  Cada Rota possui um conjunto espec√≠fico de condi√ß√µes e, se forem atendidas, a solicita√ß√£o √© enviada ao Servi√ßo correspondente.  Por exemplo, uma rota pode corresponder a um IP, dom√≠nio de um remetente, m√©todos HTTP, partes de um URI ou uma combina√ß√£o desses exemplos. </li></ul><br><h2 id="servis">  Servi√ßo </h2><br><p>  Vamos criar o Servi√ßo IRIS da InterSystems, com os seguintes valores: </p><br><div class="scrollable-table"><table><thead><tr><th>  O campo </th><th>  Valor </th><th>  Descri√ß√£o do produto </th></tr></thead><tbody><tr><td>  nome </td><td>  √≠ris </td><td>  Nome do servi√ßo </td></tr><tr><td>  hospedeiro </td><td>  IP </td><td>  Host ou IP do servidor IRIS da InterSystems </td></tr><tr><td>  porta </td><td>  52773 </td><td>  Porta da Web do servidor IRIS da InterSystems </td></tr><tr><td>  caminho </td><td>  / api / atelier </td><td>  Caminho raiz </td></tr><tr><td>  protocolo </td><td>  http </td><td>  Protocolo </td></tr></tbody></table></div><br><p>  Deixe os valores restantes por padr√£o.  Clique no bot√£o <code>Create</code> e anote o ID do servi√ßo criado. </p><br><h2 id="marshrut">  Rota </h2><br><p>  Agora vamos criar uma rota: </p><br><div class="scrollable-table"><table><thead><tr><th>  O campo </th><th>  Valor </th><th>  Descri√ß√£o do produto </th></tr></thead><tbody><tr><td>  caminho </td><td>  / api / atelier </td><td>  Caminho raiz </td></tr><tr><td>  protocolo </td><td>  http </td><td>  Protocolo </td></tr><tr><td>  service.id </td><td>  guia de 3 </td><td>  Servi√ßo (ID da etapa anterior) </td></tr></tbody></table></div><br><p>  Deixe os valores restantes por padr√£o.  Clique no bot√£o <code>Create</code> e anote o ID da rota criada.  Por padr√£o, o IAM escuta solicita√ß√µes de entrada na porta 8000. Agora, as solicita√ß√µes enviadas para <code>http://localhost:8000</code> e iniciando com <code>/api/atelier</code> redirecionadas para o InterSystems IRIS. </p><br><h2 id="testirovanie">  Teste </h2><br><p>  Vamos tentar criar uma solicita√ß√£o em um cliente REST (eu uso o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Postman</a> ). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b83/f1c/480/b83f1c4808a89dc680168ae06248aefe.png" alt="Solicita√ß√£o REST no Postman"></p><br><p>  Enviaremos uma solicita√ß√£o GET para <code>http://localhost:8000/api/atelier/</code> (n√£o esque√ßa <code>/</code> no final) e obteremos uma resposta do InterSystems IRIS.  Cada solicita√ß√£o passa por um IAM que coleta m√©tricas: </p><br><ul><li>  C√≥digo de status HTTP. </li><li>  Atraso </li><li>  Monitoramento (se configurado). </li></ul><br><p>  Fiz v√°rias outras solicita√ß√µes (incluindo duas solicita√ß√µes para terminais inexistentes, como / api / atelier / est /), os resultados s√£o imediatamente vis√≠veis no painel: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a88/413/318/a88413318fa2bfe01827af2d6ee3d925.png" alt="Painel com algumas m√©tricas"></p><br><h1 id="rabota-s-plaginami">  Trabalhar com plugins </h1><br><p>  Agora que temos a rota configurada, podemos controlar nossa API.  Podemos adicionar recursos que complementam nosso servi√ßo. </p><br><p>  A maneira mais comum de alterar o comportamento da API √© adicionar um plug-in.  Os plug-ins isolam a funcionalidade individual e podem ser conectados ao IAM globalmente e apenas a entidades individuais, como Usu√°rio (grupo de usu√°rios), Servi√ßo ou Rota.  Come√ßaremos adicionando o plugin "Rate Limiting" √† rota.  Para estabelecer uma conex√£o entre o plug-in e a rota, precisamos de um identificador exclusivo (ID) para a rota. </p><br><h2 id="ogranichenie-kolichestva-zaprosov">  Limite de solicita√ß√£o </h2><br><p>  Clique em Plugins no menu na barra lateral esquerda.  Voc√™ v√™ todos os plug-ins ativos nessa tela, mas como esse servidor IAM √© novo, ainda n√£o h√° plug-ins ativos.  Ent√£o, prossiga para a pr√≥xima etapa clicando em "Novo plug-in". </p><br><p>  O plug-in que precisamos est√° localizado na categoria "Controle de tr√°fego" e √© chamado de "Limita√ß√£o de taxa".  Escolha.  Existem algumas configura√ß√µes que voc√™ pode definir aqui, mas estamos preocupados apenas com dois campos: </p><br><div class="scrollable-table"><table><thead><tr><th>  O campo </th><th>  Valor </th><th>  Descri√ß√£o do produto </th></tr></thead><tbody><tr><td>  route_id </td><td>  ID </td><td>  ID da rota </td></tr><tr><td>  config.minute </td><td>  5 </td><td>  N√∫mero de solicita√ß√µes por minuto </td></tr></tbody></table></div><br><p>  Isso √© tudo.  O plug-in est√° configurado e ativo.  Observo que podemos escolher diferentes intervalos de tempo, como minutos, horas ou dia.  As configura√ß√µes podem ser combinadas (por exemplo, 1000 solicita√ß√µes por hora e ao mesmo tempo 100 solicita√ß√µes por minuto).  Eu escolhi os minutos, pois isso facilita a verifica√ß√£o do plug-in. </p><br><p>  Se voc√™ enviar a mesma solicita√ß√£o novamente para o Postman, ver√° que a resposta √© retornada com 2 cabe√ßalhos adicionais: </p><br><ul><li>  XRateLimit-Limit-minute: 5 </li><li>  XRateLimit-Resting-minute: 4 </li></ul><br><p>  Isso informa ao cliente que ele pode fazer at√© 5 solicita√ß√µes por minuto e no intervalo de tempo atual, ele pode fazer mais 4 solicita√ß√µes. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/78b/0af/c02/78b0afc0269baad6b56ea4059dbdefe7.png" alt="Limite de velocidade"></p><br><p>  Se voc√™ fizer a mesma solicita√ß√£o repetidamente, no final, voc√™ ficar√° sem a cota dispon√≠vel e receber√° um c√≥digo de status HTTP 429 com o seguinte corpo de resposta: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/dcb/421/6bc/dcb4216bcf373f51ffe49d56d8bef8b4.png" alt="API excedida"></p><br><p>  Aguarde um minuto e voc√™ poder√° enviar solicita√ß√µes novamente. </p><br><p>  Esse √© um mecanismo conveniente que permite: </p><br><ul><li>  Proteja o back-end contra picos de carga. </li><li>  Informe aos clientes quantas solicita√ß√µes eles podem fazer. </li><li>  Monetize API. </li></ul><br><p>  Voc√™ pode definir valores para diferentes intervalos de tempo e, assim, suavizar o tr√°fego da API por um determinado per√≠odo de tempo.  Suponha que voc√™ permita 600 solicita√ß√µes por hora em uma rota espec√≠fica.  H√° uma m√©dia de 10 solicita√ß√µes por minuto.  Mas nada impede que o cliente conclua todas as 600 solicita√ß√µes no primeiro minuto da hora.  Talvez seja isso que voc√™ precisa.  Conv√©m obter uma carga mais uniforme em uma hora.  Ao definir o valor do campo <code>config.minute</code> como 20, voc√™ garante que seus usu√°rios n√£o fa√ßam mais que 20 solicita√ß√µes por minuto e 600 solicita√ß√µes por hora.  Isso permite pequenos saltos no intervalo de minutos, em compara√ß√£o com um fluxo totalmente m√©dio de 10 solicita√ß√µes por minuto, mas os usu√°rios n√£o podem usar a cota hor√°ria por um minuto.  Agora eles precisar√£o de pelo menos 30 minutos para usar todas as suas consultas.  Os clientes receber√£o cabe√ßalhos adicionais para cada intervalo de tempo, por exemplo: </p><br><div class="scrollable-table"><table><thead><tr><th>  Cabe√ßalho HTTP </th><th>  Valor </th></tr></thead><tbody><tr><td>  X-RateLimit-Limit-hour </td><td>  600 </td></tr><tr><td>  Hora restante de X-RateLimit </td><td>  595 </td></tr><tr><td>  X-RateLimit-Limit-minute </td><td>  20 </td></tr><tr><td>  X-RateLimit-Restante-minuto </td><td>  16 </td></tr></tbody></table></div><br><p>  Obviamente, existem muitas maneiras diferentes de personalizar os limites de consulta, dependendo do que voc√™ deseja alcan√ßar. </p><br><h1 id="vyvody">  Conclus√µes </h1><br><p>  Termino com isso, acho que o material √© suficiente para o primeiro artigo sobre o InterSystems API Manager.  Usamos apenas um dos mais de 40 plugins.  Voc√™ pode fazer muitas coisas mais interessantes com o IAM: </p><br><ul><li>  Adicione um mecanismo de autentica√ß√£o central para todas as suas APIs. </li><li>  Escale a carga usando o balanceador para v√°rios servi√ßos. </li><li>  Adicione novas funcionalidades e corre√ß√µes de erros ao p√∫blico-teste antes de uma atualiza√ß√£o completa. </li><li>  Forne√ßa aos desenvolvedores internos e externos um portal da web dedicado, documentando todas as APIs. </li><li>  Solicita√ß√µes de cache para reduzir a lat√™ncia de resposta e reduzir a carga de back-end do sistema. </li></ul><br><h1 id="ssylki">  Refer√™ncias </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Comunicado de imprensa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">V√≠deo de introdu√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">V√≠deo mais detalhado</a> </li><li>  <a href="">A documenta√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Configurando um Balanceador de Carga</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gravando um Webinar sobre Gerenciamento de API</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt475670/">https://habr.com/ru/post/pt475670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt475658/index.html">Por que ir para o DevOpsDays? E por que essa n√£o √© outra confer√™ncia do DevOps</a></li>
<li><a href="../pt475660/index.html">Uma nova palavra em mochila: Conhe√ßa o modelo de tela de pixel - Minha experi√™ncia e impress√µes de LED</a></li>
<li><a href="../pt475662/index.html">Os erros mais vergonhosos da minha carreira como programador (no momento)</a></li>
<li><a href="../pt475666/index.html">50 dicas de experi√™ncia do usu√°rio em realidade virtual</a></li>
<li><a href="../pt475668/index.html">Queime. Recuperar. Comece de novo. Ou n√£o?</a></li>
<li><a href="../pt475672/index.html">Escrevendo um bate-papo em Python e Django</a></li>
<li><a href="../pt475674/index.html">Sobre o mercado de trabalho totalmente remoto sem uma foto da praia</a></li>
<li><a href="../pt475676/index.html">Ser orientado por insights: an√°lise avan√ßada e gerenciamento do ciclo de vida de modelos de aprendizado de m√°quina</a></li>
<li><a href="../pt475678/index.html">Ao ensinarmos fornecedores de conhecimentos inform√°ticos de leite</a></li>
<li><a href="../pt475684/index.html">@Pythonetc compila√ß√£o, outubro 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>