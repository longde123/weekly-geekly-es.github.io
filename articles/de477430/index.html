<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚Ü©Ô∏è üëÇüèø ‚¨úÔ∏è Die Geschichte eines einzelnen Servers mit passiver K√ºhlung ‚åõÔ∏è ü§¢ üÜò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Manchmal entstehen Ideen, die im Anfangsstadium nicht richtig studiert wurden, und diese Ideen erscheinen aufgrund der Glaubw√ºrdigkeit ihres Autors al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte eines einzelnen Servers mit passiver K√ºhlung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477430/"> Manchmal entstehen Ideen, die im Anfangsstadium nicht richtig studiert wurden, und diese Ideen erscheinen aufgrund der Glaubw√ºrdigkeit ihres Autors allen Teammitgliedern sehr vielversprechend.  Vor einiger Zeit kam die Unternehmensgruppe VIT und ComBox Technology auf die Idee, einen Server auf Basis vieler Mikrocomputer zu implementieren.  Der Zweck des Servers ist die Ausf√ºhrung von neuronalen Netzen auf der CPU und der GPU von Mikrocomputern.  Der gesch√§tzte Formfaktor des zuk√ºnftigen Servers betr√§gt 1U, Version f√ºr die Rackmontage.  Und alles w√§re in Ordnung, nur die Idee beinhaltete passive K√ºhlung, da die angek√ºndigte W√§rmeabgabe der zur Nutzung vorgeschlagenen Mikrocomputer 25 W betrug.  Eigentlich war der vorgeschlagene Mikrocomputer f√ºr die Implementierung Intel NUC mit einem Intel Core i5-Prozessor und einer integrierten Iris Plus 655-GPU. 25 W, 1 HE, passive K√ºhlung, ein Server - all das klingt ermutigend, aber es tauchten allm√§hlich Nuancen auf. <br><a name="habracut"></a><br>  Erstens sollten 8 Computer Mikrocomputer im Server sein.  Das hei√üt, die dem Stromverbrauch proportionale W√§rmeabgabe betr√§gt bereits 25 * 8 = 200 Watt.  Und bereits zu diesem Zeitpunkt kann keine passive K√ºhlung gesagt werden, sondern der Versuch wurde fortgesetzt.  Einschlie√ülich aus Gr√ºnden der weiteren Anpassung der Technologie f√ºr die Ausf√ºhrung von Au√üengeh√§usen.  Die Entwicklung der Hardware erfolgte parallel zum OCD unter Einsatz der notwendigen Software.  Wir haben einen Komplex f√ºr die Erkennung und Erkennung von Kennzeichen und Marken / Modellen von VIT-Fahrzeugen namens EDGE verwendet.  Wie sich herausstellte, verbraucht Intel NUC8i5BEK beim Messen des Stromverbrauchs bei 100% Last 46 Watt anstelle der angegebenen 25. Bei diesem Ansatz betr√§gt der Stromverbrauch und die W√§rmeabgabe des Servers bereits 46 * 8 = 368 Watt.  Und das ohne Ber√ºcksichtigung von Netzteilen und Zusatzkomponenten. <br><br>  Als K√ºhlk√∂rper haben wir nach dem Schleifen und Spezialgravieren Kupferplatten verwendet.  Ferner gab die Kupferplatte W√§rme an den Aluminiumw√§rmetauscher oben auf dem Server ab.  Aufgrund fehlerhafter Berechnungen nahm der W√§rmetauscher zwei Drittel der oberen Abdeckung ein und befand sich auf beiden Seiten parallel zu vier Mikrocomputern auf der linken und rechten Seite des Servers.  Im zentralen Bereich befanden sich hinten ein 550-W-Netzteil und vorne ein Mikrotik-1-Gbit-Router. <br><br><img src="https://habrastorage.org/webt/rj/-1/ks/rj-1ksxnpavugjl5uw1oca8ub4m.png" alt="Server Design Phase basierend auf 8 Mikrocomputern"><br>  <i>Server Design Phase basierend auf 8 Mikrocomputern</i> <br><br>  Und das Ergebnis stellte sich heraus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/b68/139/c50b68139d2c00e0870eddcb9de0a9d5.png" alt="NUC Server   " title="NUC Server mit passiver K√ºhlung"><br>  <i>NUC Server mit passiver K√ºhlung</i> <br><br>  Nat√ºrlich funktionierte diese Konstruktion bei mittlerer Last, aber bei 100% erw√§rmte sie sich weiterhin langsam und gab einen erheblichen Teil der W√§rme an die Umgebung ab.  Selbst innerhalb eines Serverschranks mit einem hei√üen und einem kalten Korridor heizte das Design unweigerlich einen h√∂heren ‚ÄûNachbarn‚Äú auf.  Durch die Reduzierung der Anzahl der Mikrocomputer auf 4 St√ºck konnte die Heiztemperatur stabilisiert und eine Drosselung auch bei 100% Last vermieden werden, das Problem eines h√∂heren ‚ÄûNachbarn‚Äú blieb jedoch bestehen. <br><br>  Der technologische L√∂sungsstapel ist in zwei Richtungen auseinander gegangen: <br><br><ul><li>  Passive K√ºhlung von Intel NUC8i5BEK bei externer Nutzung </li><li>  Aktive Luftk√ºhlung im 1U-Servergeh√§use </li></ul><br><h3>  1U-Server mit 8 Core i5-Prozessoren und 8 installierten GPUs </h3><br>  Ja, ja, es ist viel und ja, es ist m√∂glich.  Wie, fragst du?  Durch die Kombination mehrerer Mikrocomputer in einem 1U-Geh√§use auf Netzwerkebene √ºber einen Router.  Insbesondere f√ºr die Implementierung neuronaler Netze und die Verarbeitung eingehender RTSP-Datenstr√∂me ist diese L√∂sung optimal.  Dar√ºber hinaus k√∂nnen Sie skalierbare Systeme auf der Basis einer Reihe von Docker, Docker Swarm und Ansible erstellen. <br><br>  W√§hrend des Entwicklungsprozesses mussten wir verschiedene Versionen entwerfen: <br><br><h4>  Prototyp der zuk√ºnftigen Entscheidung </h4><br>  Die urspr√ºngliche Idee bestand darin, bew√§hrte Kupferk√ºhlk√∂rper und Aluminiumheizk√∂rper zu verwenden, die sich nun jedoch direkt auf jedem Rechenknoten im Geh√§use befinden.  Zur W√§rmeabfuhr wurden 2 L√ºfter verwendet, die vor jedem Computermodul installiert waren und warme Luft von einem kalten Korridor nach hei√ü (von der Vorderseite des Servers) leiteten.  F√ºr die aktive L√ºftersteuerung wurden spezielle Boards entwickelt, die ihre Geschwindigkeit basierend auf den Temperatursensoren der einzelnen Mikrocomputer √§ndern.  Aufgrund des fehlenden PoE-Bedarfs wurde der Router nicht aktiv gek√ºhlt, sondern auf passiv mit einer W√§rmeabgabe von maximal 10 Watt umgestellt.  Das Netzteil in der ersten Version blieb 500 W, wurde jedoch auf speziellen Halterungen mit der M√∂glichkeit des schnellen Austauschs, jedoch mit einem Stromausfall, installiert.  Um den Status der Rechenknoten zu √ºberwachen, wurden auf der Vorderseite 8 Dioden angezeigt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e68/f31/eea/e68f31eeab0da5e600173c8aad55cae5.png" alt="  NUC Server  ComBox Technology, 8 CPU Core i5  8 GPU Iris Plus 655  - 1U" title="NUC Server Prototyp von ComBox Technology, 8 CPU Core i5 und 8 GPU Iris Plus 655 im 1U Formfaktor"><br>  <i>NUC Server Prototyp von ComBox Technology, 8 CPU Core i5 und 8 GPU Iris Plus 655 im 1U Formfaktor</i> <br><br>  Technische Merkmale der ersten Version des Servers unter Intel NUC: <br><br><ul><li>  Intel NUC8i5BEK (ohne Geh√§use mit modifiziertem K√ºhlsystem), 8-tlg. </li><li>  AMD Radeon R7 Performance DDR4 SO-DIMM Speichermodule, 8 GB, 8 Stck. </li><li>  Zus√§tzliche Speichermodule DDR4 SO-DIMM Kingston, 4 GB, 8 Stck. </li><li>  SSD M.2-Laufwerk WD Green, 240 GB, 8 Stk. </li><li>  1HE Koffer (Eigenproduktion) </li><li>  MikroTik RB4011iGS + RM Router (ohne Geh√§use mit modifiziertem K√ºhlsystem), 1 Stck. </li><li>  Verbindungsleitungen (Patchkabel), 11-tlg. </li><li>  BP 94Y8187, 550 Watt. </li></ul><br>  Wie es im Arbeitsprozess aussieht: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Y6u43FeGLXU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Produktionsversion von NUC Server </h4><br>  Die Produktionsversion hat wesentliche √Ñnderungen erfahren.  Anstelle eines Netzteils wurden 2 auf dem Server mit der M√∂glichkeit des Hot-Swappings angezeigt.  Wir haben ein kompaktes Server-Netzteil 600 W von Supermicro verwendet.  F√ºr Computermodule wurden spezielle Footprints und die M√∂glichkeit des Hot-Swappings angezeigt, ohne dass der gesamte Server heruntergefahren werden muss.  Viele Netzwerkschleifen wurden durch feste Stromschienen ersetzt, die an den Sitzen befestigt waren.  Der Nano Pi ARM-Architektur-Mikrocomputer von FriendlyARM wurde hinzugef√ºgt, um den Server zu verwalten. F√ºr diesen wurde Software geschrieben und installiert, um den Status von Rechenknoten zu √ºberpr√ºfen und zu √ºberwachen. Bei Bedarf werden Fehler gemeldet und die Hardware bestimmter Rechenknoten √ºber GPIO zur√ºckgesetzt.  In der Serienversion sind die L√ºfter hinter der Frontplatte in Richtung vom kalten zum hei√üen Korridor installiert, und die Lamellen des Aluminium-W√§rmetauschers sind jetzt nach unten und nicht nach oben gerichtet, wodurch der Speicher und die Festplatten jedes Rechenknotens zug√§nglich wurden. <br><br><h3>  Intel NUC Outdoor-Geh√§use </h3><br>  Da die Mikrocomputer selbst nicht industriell sind, erfordert die Verwendung im Freien nicht nur einen Fall, sondern auch geeignete klimatische Bedingungen.  Wir brauchten Schutz vor Staub und Feuchtigkeit IP66 sowie einen Temperaturbereich von -40 bis +50 Grad Celsius. <br><br>  Wir haben zwei Hypothesen f√ºr eine effiziente W√§rmeableitung getestet: W√§rmerohre und Kupferplatten als K√ºhlk√∂rper.  Letzteres erwies sich als effektiver, wenn auch mit einer gro√üen Fl√§che und teureren L√∂sungen.  Als W√§rmetauscher werden auch allesamt Aluminiumschwellen mit den berechneten Abmessungen der Rippen verwendet. <br><br>  Um das Ger√§t bei Minustemperaturen zu starten, haben wir Keramik zum Heizen verwendet.  Zur Erleichterung der Bedienung und Implementierung in verschiedenen Bereichen wurden Netzteile mit einem weiten Bereich von 6-36 V installiert. <br><br>  Der Hauptzweck des resultierenden Ger√§ts: die Ausf√ºhrung von ressourcenintensiven neuronalen Netzen in unmittelbarer N√§he der Datenquelle.  Zu diesen Aufgaben geh√∂ren die Berechnung des Personenverkehrs in Fahrzeugen (Pkw, Z√ºge) sowie die zentrale Verarbeitung von Daten zur Gesichtserkennung und -erkennung im Industriebetrieb. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b53/11b/7e4/b5311b7e45ae4b033a2f88d5b4cc7557.png" alt="Intel NUC     , IP66   " title="Intel NUC im Au√üengeh√§use, IP66 mit Klimamodul"><br>  <i>Intel NUC im Au√üengeh√§use, IP66 mit Klimamodul</i> <br><br><h3>  Allgemeines hybrides Inferenzschema </h3><br>  In der Regel werden drei Arten von Ger√§ten verwendet: ein Server in einem Rechenzentrum, Kameras mit installierter Software zum Erkennen und Erkennen von Objekten in ihnen sowie Mikrocomputer einer Au√üeninstallation (an die Kameras beispielsweise √ºber einen Switch angeschlossen sind).  Dar√ºber hinaus ist f√ºr mehrere Ger√§te (z. B. 2 Server, 15 Kameras, 30 Mikrocomputer) die Aggregation und Speicherung von Daten (Ereignissen) erforderlich. <br><br>  In unseren L√∂sungen verwenden wir das folgende Schema f√ºr die Datenaggregation und -speicherung mithilfe von Speichersystemen: <br><br><img src="https://habrastorage.org/webt/1a/l-/lz/1al-lzaqrx6bk6jsplwymzhlypu.jpeg" alt="    " title="Das allgemeine Schema der hybriden Inferenz"><br>  <i>Das allgemeine Schema der hybriden Inferenz</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de477430/">https://habr.com/ru/post/de477430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de477414/index.html">Data Engineer - Der sexyste Beruf des 21. Jahrhunderts</a></li>
<li><a href="../de477416/index.html">Wann ist es sch√§dlich f√ºr Hash</a></li>
<li><a href="../de477418/index.html">Dreiseitige Refraktion in drei Schritten</a></li>
<li><a href="../de477426/index.html">Wenn es St√§dte auf dem Mars g√§be ... Was w√ºrden die Leute dort mit HighLoad ++ machen?</a></li>
<li><a href="../de477428/index.html">Bayesianisches Netzwerk, W√§hrungen und die globale Krise</a></li>
<li><a href="../de477434/index.html">Servicegitter f√ºr Microservices. Teil II, die Grundlagen der Arbeit mit Istio</a></li>
<li><a href="../de477436/index.html">So schreiben Sie einen einfachen Client-Server-Rechner (JavaFX + EJB + WildFly)</a></li>
<li><a href="../de477438/index.html">Wie Sie die Kontrolle wiedererlangen und die Abh√§ngigkeit von Smartphones und Benachrichtigungen verringern k√∂nnen</a></li>
<li><a href="../de477440/index.html">Flipper Zero - Tomagotchi Patsan Multitool f√ºr Pentester</a></li>
<li><a href="../de477442/index.html">56 Open-Source-Python-Projekte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>