<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏿 ⏲️ 🥧 Stasiun Cuaca Arduino 👨‍🌾 😪 👨‍👩‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stasiun Cuaca Arduino 


 Saya memutuskan untuk menulis artikel terperinci yang menceritakan semua aspek menciptakan stasiun cuaca Arduino, karena sul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stasiun Cuaca Arduino</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443664/"><h2>  Stasiun Cuaca Arduino </h2><br><p>  Saya memutuskan untuk menulis artikel terperinci yang menceritakan semua aspek menciptakan stasiun cuaca Arduino, karena sulit untuk mencakup keseluruhan proses sekaligus.  Versi saya dari stasiun cuaca nyaman karena datanya disimpan di komputer. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sBqkzON_YKQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><div class="spoiler">  <b class="spoiler_title">Apa yang dibutuhkan</b> <div class="spoiler_text"><ul><li>  jaringan lokal dibangun menggunakan router Wifi </li><li>  sebuah komputer </li><li><img src="https://habrastorage.org/webt/xb/q0/dy/xbq0dy-gp5qjd0j99ezolrwrxz0.jpeg" alt="arduino UNO">  Arduino UNO (Saya menggunakan replika China.) <br></li><li>  Kabel USB untuk menghubungkan ke Arduino. </li><li><img src="https://habrastorage.org/webt/xb/x4/vq/xbx4vqqfnzsavras07uqzi216uq.jpeg">  barometer BME280 5V I2C (suhu, kelembaban, sensor tekanan) <br></li><li>  stasiun solder dengan pengering rambut </li><li>  solder 0,7 mm </li><li>  fluks. </li><li><img src="https://habrastorage.org/webt/lr/ns/vh/lrnsvhg4egw1azrzl9v7zssjfrk.jpeg">  Modul Wi-Fi versi ESP8266 ESP-01 <br></li><li>  4 kabel ibu ke ayah untuk papan tempat memotong roti. </li><li>  4 kabel jantan ke betina untuk papan tempat memotong roti </li><li>  4 kabel sepanjang 50 cm untuk papan tempat memotong roti. </li><li>  8 tabung panas menyusut tipis masing-masing 10 cm. </li><li>  1 tabung heat-shrink besar dengan diameter sedemikian sehingga mencakup "4 kabel sepanjang 50 cm untuk papan tempat memotong roti" bersama dengan tabung heat-shrink lainnya </li></ul><br></div></div><br><h3>  Pengaturan jaringan </h3><br><p>  Setiap komputer di jaringan harus melihat perangkat di mana server berada. Dianjurkan untuk menginstal workgroup yang sama di semua komputer di jaringan. </p><br> <a href=""><img src="https://habrastorage.org/webt/ud/9g/do/ud9gdo-xql0u2zohzhhjggrgggs.jpeg"></a> <p>  <i>Klik untuk memperbesar.</i> </p><br><hr><br><p>  <b>Anda harus menonaktifkan bradmauser dan firewall lain.</b> </p><br><p>  Dalam pengaturan jaringan, di properti adaptor nirkabel, di tab akses, letakkan di awal kotak centang "izinkan pengguna lain untuk mengakses" dan kemudian - klik pada pengaturan; <br>  taruh semua tanda centang di pengaturan, Anda akan melihat nama layanan alih-alih angka. </p><br> <a href=""><img src="https://habrastorage.org/webt/tm/rp/iu/tmrpiumi5cfgy2z__uewznwfsfm.jpeg"></a> <p>  <i>Klik untuk memperbesar.</i> </p><br> <a href=""><img src="https://habrastorage.org/webt/l5/aj/oe/l5ajoew55mnqtr9or8wr5q7gvfq.jpeg"></a> <p>  <i>Klik untuk memperbesar.</i> </p><br><hr><br><p>  Anda harus membuka port <em>80</em> dan <em>3306</em> di router.  Saya akan menunjukkan dengan contoh router Tenda: pertama, cari tahu <em>alamat IP lokal</em> Anda, untuk ini, klik pada ikon jaringan nirkabel.  Selanjutnya, di panel yang terbuka, di sebelah nama jaringan Anda, <em>Properties</em> akan muncul.  Setelah itu, gulir ke bawah. </p><br> <a href=""><img src="https://habrastorage.org/webt/9a/sk/ui/9askui6kcvu7i04omioewoz5cpg.jpeg"></a> <p>  <i>Klik untuk memperbesar.</i> </p><br><hr><br><p>  Selanjutnya, buka halaman web router, saya memilikinya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://192.168.0.1</a> , masukkan kata sandi untuk router, klik Pengaturan lanjutan, lalu Server Virtal.Kemudian masukkan <em>IP Lokal</em> dan port <em>80.</em> Kemudian ulangi operasi, tetapi masukkan port <em>3306</em> . </p><br> <a href=""><img src="https://habrastorage.org/webt/j7/wd/3u/j7wd3umngfpeofjenbduzck8ivq.jpeg"></a> <p>  Klik untuk memperbesar. </p><br> <a href=""><img src="https://habrastorage.org/webt/1o/ji/tt/1ojittsmyle-r6cg36dzxxjyfdw.jpeg"></a> <p>  <i>Klik untuk memperbesar.</i> </p><br><br><hr><br><p>  Kami membutuhkan komponen-komponen berikut: <br><br></p><ul><li>  <em>Apache</em> - data dari stasiun cuaca akan dikirim ke sini. </li><li>  <em>PHP</em> - akan mengambil data dari stasiun cuaca, dan menyimpan basis data. </li><li>  <em>Mysql</em> - basis data di mana suhunya akan disimpan, karena hanya menggunakan PHP berarti tidak mungkin menyediakan tampilan untuk beberapa komputer dan perangkat lain. </li><li>  <em>HeidiSQL</em> adalah <em>penampil</em> dan editor basis data (Anda dapat menggunakan yang lain, misalnya: "PhpMyAdmin"). </li></ul><br><p>  Saya tidak akan menjelaskan secara rinci pengaturan server <em>Apache</em> , karena ada banyak informasi di Internet.Yang paling utama <em>adalah</em> mengkonfigurasi <em>Apache</em> dan <em>MySQL</em> agar terlihat di jaringan lokal. <br><br>  Setelah itu, buat tabel di database - suhunya akan disimpan di sana. <br><br>  Contoh halaman handler saya (pembacaan sensor) di server: </p><br><br><div class="spoiler">  <b class="spoiler_title">Kode PHP</b> <div class="spoiler_text"><pre><code class="php hljs">$link = mysqli_connect(<span class="hljs-string"><span class="hljs-string">"   "</span></span>, <span class="hljs-string"><span class="hljs-string">"root"</span></span>, <span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$link) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">":     MySQL."</span></span> . PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"  errno: "</span></span> . mysqli_connect_errno() . PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"  error: "</span></span> . mysqli_connect_error() . PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"  MySQL !"</span></span> . PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"  : "</span></span> . mysqli_get_host_info($link) . PHP_EOL; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_GET[<span class="hljs-string"><span class="hljs-string">'temp'</span></span>])){ $c=$_GET[<span class="hljs-string"><span class="hljs-string">'temp'</span></span>]; $vlah=$_GET[<span class="hljs-string"><span class="hljs-string">'vlah'</span></span>]; $davlen=$_GET[<span class="hljs-string"><span class="hljs-string">'davlen'</span></span>]; $sql = <span class="hljs-string"><span class="hljs-string">"UPDATE `temp1` SET `C`='$c',`vlah`='$vlah',`davlen`='$davlen' WHERE `id`='1'"</span></span>;<span class="hljs-comment"><span class="hljs-comment">//     mysqli_query($link,$sql); } echo"&lt;br&gt;"; $sql1="SELECT * FROM `temp1`";//  $result = mysqli_query($link,$sql1); $row = mysqli_fetch_all($result,MYSQLI_NUM); echo " "; echo $row[count($row)-1][0]; echo " C"; echo"&lt;br&gt;"; echo " "; echo $row[count($row)-1][1]; echo "hPa"; echo"&lt;br&gt;"; echo " "; echo $row[count($row)-1][2]; echo "%";</span></span></code> </pre> <br></div></div><br><h3>  3. Konfigurasi esp8266 </h3><br><p>  Hubungkan esp-01 ke adaptor dan hubungkan ke Arduino sebagai berikut: <em>Rx-RX, TX-TX, GND-GND, VCC-5V</em> ; <br>  Tempatkan port <em>RESET</em> Arduino ke <em>GND</em> ; </p><br> <a href=""><img src="https://habrastorage.org/webt/na/n8/3k/nan83kwjixwsyljtavnoforknnm.jpeg"></a> <p>  <a href=""><i>Klik untuk memperbesar.</i></a> </p><br><br><p>  Hubungkan Arduino Anda ke komputer Anda, buka <em>Arduino IDE</em> , lalu <em>Serial Monitor</em> , lalu tentukan Rate <em>115200</em> , dan <br>  <em>Baik NL &amp; CR</em> . <br></p><br> <a href=""><img src="https://habrastorage.org/webt/hz/w_/jg/hzw_jgmc7muyjvzrfsq9gvd6zwa.jpeg"></a> <p>  <a href=""><i>Klik untuk memperbesar.</i></a> </p><br><ol><li>  Masukkan perintah <b>AT</b> . </li><li>  Sorot <b>OK</b> . </li><li>  Masukkan <b>AT + RESTORE</b> , itu akan meminta modul untuk pengaturan pabrik. </li><li>  Masukkan <b>AT + CWMODE_CUR = 1</b> , ini akan menempatkan modul ke mode klien. </li><li>  Masukkan <b>AT + CWJAP_CUR = "Network_name", "Password"</b> - koneksi ke wifi. </li><li>  Sorot <b>OK</b> jika koneksi telah terjadi. </li></ol><br><h3>  Konfigurasikan bme280 dan build final </h3><br><p>  Hubungkan kesimpulan sesuai dengan diagram (perhatian pada diagram menunjukkan esp8266 tanpa adaptor, tetapi pada kenyataannya itu perlu dihubungkan ke adaptor, dan sudah dari <br>  4 adapter output memiliki fungsi yang sama seperti yang ditunjukkan pada diagram.  ) </p><br> <a href=""><img src="https://habrastorage.org/webt/2y/gz/8w/2ygz8w6joha1nexv-e5fdezoqus.jpeg"></a> <p>  <a href=""><i>Klik untuk memperbesar.</i></a> </p><br><p>  Buka Arduino IDE dan rekatkan kode berikut: </p><br><div class="spoiler">  <b class="spoiler_title">Kode IDE Arduino</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#include &lt;Wire.h&gt; void setup(){ Wire.begin(); Serial.begin(9600); while (!Serial); Serial.println("\nI2C Scanner"); } void loop(){ byte error, address; int nDevices; Serial.println("Scanning..."); nDevices = 0; for(address = 8; address &lt; 127; address++ ){ Wire.beginTransmission(address); error = Wire.endTransmission(); if (error == 0){ Serial.print("I2C device found at address 0x"); if (address&lt;16) Serial.print("0"); Serial.print(address,HEX); Serial.println(" !"); nDevices++; } else if (error==4) { Serial.print("Unknow error at address 0x"); if (address&lt;16) Serial.print("0"); Serial.println(address,HEX); } } if (nDevices == 0) Serial.println("No I2C devices found\n"); else Serial.println("done\n"); delay(5000);</code> </pre><br></div></div><br><p>  Buka <em>Serial Monitor</em> , dan ingat alamat IC2 yang disorot. <br>  Unduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sensor Library</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sentuh Library Library</a> dan unzip di <em>C: \ Users \ user \ Documents \ Arduino</em> .  Buka <br>  <em>C: \ Users \ user \ Documents \ Arduino \ libraries \ Adafruit_BME280_Library-master</em> dan ubah alamat: </p><br> <a href=""><img src="https://habrastorage.org/webt/6h/zj/wj/6hzjwjvtf2-tqipynjsl6nneqck.jpeg" width="200" height="200"></a> <p>  <a href="">Klik untuk memperbesar.</a> </p><br><p>  Buka IDE Arduino dan masukkan kodenya: </p><br><div class="spoiler">  <b class="spoiler_title">Kode IDE Arduino</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#include &lt;SoftwareSerial.h&gt; #define RX 10//    esp8266 #define TX 11//    esp8266 String AP = "Aleks"; //   String PASS = "1brui47ci881"; //  String HOST = "192.168.0.185";//   String PORT = "80";//  String field = "field1"; int countTrueCommand; int countTimeCommand; boolean found = false; int valSensor = 1; SoftwareSerial esp8266(RX,TX); #include &lt;Wire.h&gt; #include &lt;SPI.h&gt; #include &lt;Adafruit_Sensor.h&gt; #include &lt;Adafruit_BME280.h&gt; #define BME_SCK 13 #define BME_MISO 12 #define BME_MOSI 11 #define BME_CS 10 #define SEALEVELPRESSURE_HPA (1013.25) Adafruit_BME280 bme; // I2C //Adafruit_BME280 bme(BME_CS); // hardware SPI //Adafruit_BME280 bme(BME_CS, BME_MOSI, BME_MISO, BME_SCK); // software SPI unsigned long delayTime; void setup() { Serial.begin(9600); bool status; // default settings // (you can also pass in a Wire library object like &amp;Wire2) status = bme.begin(); if (!status) { Serial.println("Could not find a valid BME280 sensor, check wiring!"); while (1); } esp8266.begin(115200); sendCommand("AT",5,"OK"); sendCommand("AT+CWMODE=1",5,"OK"); sendCommand("AT+CWJAP=\""+ AP +"\",\""+ PASS +"\"",20,"OK"); sendCommand("AT+CIPMUX=1",5,"OK"); } void loop() { float vlah=bme.readPressure() / 100.0F; sendCommand("AT+CIPSTART=0,\"TCP\",\""+ HOST +"\","+ PORT,15,"OK"); String cmd = "GET /?temp="+String(bme.readTemperature())+"&amp;vlah="+String(vlah)+"&amp;davlen="+String(bme.readHumidity())+" HTTP/1.1\r\nHost: 192.168.0.185\r\n\r\n";// GET    ,temp,vlah,davlen           . sendCommand("AT+CIPSEND=0," +String(cmd.length()+4),4,"&gt;"); esp8266.println(cmd);delay(1500);countTrueCommand++; sendCommand("AT+CIPCLOSE=0",5,"OK"); delay(100000); } void printValues() { Serial.print("Temperature = "); Serial.print(bme.readTemperature()); Serial.println(" *C"); Serial.print("Pressure = "); Serial.print(bme.readPressure() / 100.0F); Serial.println(" hPa"); Serial.print("Humidity = "); Serial.print(bme.readHumidity()); Serial.println(" %"); Serial.println(); } void sendCommand(String command, int maxTime, char readReplay[]) { Serial.print(countTrueCommand); Serial.print(". at command =&gt; "); Serial.print(command); Serial.print(" "); while(countTimeCommand &lt; (maxTime*1)) { esp8266.println(command);//at+cipsend if(esp8266.find(readReplay))//ok { found = true; break; } countTimeCommand++; } if(found == true) { Serial.println("OYI"); countTrueCommand++; countTimeCommand = 0; } if(found == false) { Serial.println("Fail"); countTrueCommand = 0; countTimeCommand = 0; } found = false; }</code> </pre> <br></div></div><br><p>  Selesai  Data suhu akan ditransfer sebagai variabel ke basis data. <br><br>  Seperti yang Anda lihat, stasiun cuaca saya membutuhkan pengetahuan awal tentang pemrograman web, tetapi hasilnya sepadan. </p><br><div class="spoiler">  <b class="spoiler_title">Sumber</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instalasi server web.</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apache diatur</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pemindai ic2</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ESP8266</a> <br></li></ol></div></div><p></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443664/">https://habr.com/ru/post/id443664/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443654/index.html">Mengikuti jejak kalkulator: Hitung Ulang</a></li>
<li><a href="../id443656/index.html">Mengikuti Jejak Kalkulator: Hitung Ulang</a></li>
<li><a href="../id443658/index.html">Mengkonfigurasi kluster HA Kubernetes pada logam telanjang, pemantauan, log, dan contoh penggunaan. Bagian 3/3</a></li>
<li><a href="../id443660/index.html">Para ahli: "Pemindai 3D biayanya 10 kali lebih murah daripada kesalahan dengan kontrol kualitas tradisional"</a></li>
<li><a href="../id443662/index.html">Memahami Kode Bersih di Android</a></li>
<li><a href="../id443666/index.html">Pendekatan kami untuk mewarnai benang</a></li>
<li><a href="../id443668/index.html">Kembali ke layanan microser dengan Istio. Bagian 3</a></li>
<li><a href="../id443670/index.html">Kesalahan dalam versi baru Google Chrome (73.0.3683.75)</a></li>
<li><a href="../id443672/index.html">Pengujian Berbasis Risiko</a></li>
<li><a href="../id443676/index.html">Vinyl alih-alih perangko: jarang terjadi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>