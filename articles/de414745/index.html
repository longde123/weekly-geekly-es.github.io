<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÜñÔ∏è üö∫ üíº #BigGun. Der einfachste "Frame" -Chronograph auf Arduino (Messung der Geschossgeschwindigkeit) üë®üèø‚Äçüç≥ üë®üèæ‚Äç‚öñÔ∏è üôçüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Elektrisch besteht das Design des Sensors nur aus Leitern. Grundstufe. 


 Keine Umreifung - im Prinzip - das sind zwei "Tasten" von Masse zu den Port...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>#BigGun. Der einfachste "Frame" -Chronograph auf Arduino (Messung der Geschossgeschwindigkeit)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414745/"><p><img src="https://habrastorage.org/getpro/habr/post_images/893/5b0/6a8/8935b06a8686a88a1e1d9a216abf0a9b.jpg" alt="dumm - sie ist so eine Kugel!"></p><br><p>  Elektrisch besteht das Design des Sensors nur aus Leitern.  Grundstufe. </p><br><p> Keine Umreifung - im Prinzip - das sind zwei "Tasten" von Masse zu den Ports 2 und 3, einfacher als ein Detektorempf√§nger! </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/639/25c/65c/63925c65c475ca05acb6110558093184.jpg" alt="Das Ger√§t wurde im Schutz der Nacht zusammengebaut - f√ºr die Sommerhitze ;-)"></p><br><p>  Ein kleiner Exkurs in die Geschichte (kursiv) - Ich besch√§ftige mich <em>seit mehr als 20 Jahren mit Druckluftwaffen und habe die ganze Zeit √ºber die ballistische Pendelmethode verwendet, um die Geschwindigkeit einer Kugel zu messen.</em> <em><br></em>  <em>Aber die Schrotflinte erschien - Energie gegen Magnum 4,5 mm Kaliber - 100 mal !!!</em>  <em>mehr - verwenden Sie nicht die gleichen Anmeldesuspensionen!</em> </p><br><p>  Zu dieser Zeit wurde ich bereits in die Verwendung von Arduino f√ºr friedliche Zwecke eingef√ºhrt. </p><br><p>  Grundlage war das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Design von Mikhail Shevchenko</a> auf zwei optischen Sensorpaaren. </p><br><p>  Er machte eine Option am Lauf montiert, aber der R√ºcksto√ü der Federpneumatik nach mehreren Sch√ºssen zerst√∂rte die LEDs. </p><br><p>  Ich habe versucht, ein Universalrahmenmonster mit vielen optischen Sensoren zusammenzubauen - FAIL. </p><br><p>  Als ich mich entschied zu vereinfachen, kam ich zu der beschriebenen Konstruktion, es gibt nirgendwo anders zu gehen ;-) </p><br><p>  Das Prinzip der Sensoren wurde von den Machern des Airspeed-Programms (urspr√ºnglich aus den 90er Jahren) √ºbernommen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c76/18e/e28/c7618ee28f7247d4c56643d5e9f43417.gif" alt="Sensorvorrichtung"></p><br><p>  F√ºgen Sie einfach einen Mikrocontroller hinzu (Genauigkeit um eine Gr√∂√üenordnung h√∂her)! </p><br><p>  Das hei√üt, wenn es funktioniert hat, sieht es einfach so aus! </p><br><p>  Im Gegensatz zu Soundkarten musste ich nicht mit einem analogen Signal arbeiten, sondern mit einem √úbergang von einer logischen 1 zu 0. </p><br><p>  Dem Gl√ºck gingen viele Experimente voraus - 2 Optionen f√ºr das Framework, 3 Arten des elektrischen "Umreifens" und 4 Bearbeitungsskizzen (Programme). </p><br><p>  Das Ziehen der Spannung an die digitalen Pins (PULLUP) erwies sich als die wichtigste und stabilste L√∂sung! </p><br><p>  Infolgedessen ist die Wahrscheinlichkeit, bei der Wiederholung dieses Schemas einen Fehler zu machen, gering! </p><br><p>  Alles, es gibt keine Zeit weiter zu erkl√§ren, die Sensoren k√∂nnen einfach durch Betrachten der Fotos zusammengebaut werden. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/78e/af4/1c5/78eaf41c5fcf0ed5380085bcc3e4a2af.jpg" alt="montiertes und gebrauchsfertiges Ger√§t"></p><br><p>  Also beginnen wir das Spiel der FIFA - Ausgangsmaterialien - eine Holzstange 15x10x5cm, zwei St√ºcke Plastikfolie 15x15cm, 2,5mm dick. </p><br><p>  Bei einer gr√∂√üeren Dicke des Rahmens funktionieren die Sensoren m√∂glicherweise nicht, bei einer kleineren Dicke k√∂nnen sie durch eine Brise verk√ºrzt werden. </p><br><p>  Sie k√∂nnen eine 3-mm-Wellpappe, Balsa oder sogar Rahmen aus gew√∂hnlichen Linealen nehmen! </p><br><p>  Die Hauptsache, an die man sich erinnern sollte - 4 mm Dicke - ist schon viel, sie h√∂rt um sechs auf zu arbeiten! </p><br><p>  Die Gr√∂√üe des "Fensters" im Framework - 9x9cm (urspr√ºnglich zehn) ist klein? </p><br><p>  <strong>Wenn Sie im w√∂rtlichen und im √ºbertragenen Sinne nicht in die Top Ten kommen k√∂nnen, ist es zu fr√ºh, um √ºber die Notwendigkeit eines Chronometers zu sprechen!</strong> </p><br><p>  Als n√§chstes schneiden wir 11 x 14 cm gro√üe St√ºcke Lebensmittelfolie aus und befestigen sie mit einem normalen Klebestift vorsichtig auf beiden Seiten an den Rahmen. </p><br><p>  Letztere befestigen wir so an der Basis (Balken), dass der Abstand zwischen ihnen 10 cm betr√§gt (die in die Skizze eingebettete Chronographenbasis). </p><br><p>  Gleichzeitig sollte der Strahl selbst schon 100mm sein.  auf die Dicke eines Rahmens (tats√§chlich nimmt die Gr√∂√üe des Holzes infolge des Austrocknens im Lager selbst ab ;-) </p><br><p>  U-f√∂rmige Rahmen werden aus Gr√ºnden der ‚ÄûWiederverwendbarkeit‚Äú eines ‚ÄûSatzes‚Äú Folie hergestellt. Nach jedem Schuss mit einem Lineal ziehen wir zwischen Plattenpaaren, um den Kontakt im Bereich der Einschussl√∂cher zu √∂ffnen. </p><br><p>  Zur Vereinfachung und Vereinfachung des Kontakts mit der Folie wurden Clips auf der Basis von W√§scheklammern hergestellt: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c8e/15d/8f0/c8e15d8f0a3b59ede268fa42bb74f24d.jpg" alt="Die verf√ºgbaren Materialien kommen ins Spiel - sogar W√§scheklammern waren praktisch!"></p><br><p>  Ich habe ein mehradriges Twisted Pair als Leiter genommen - ich habe alle Enden verzinnt (wir erinnern uns, dass Kupfer und Aluminium nicht direkt miteinander verbunden sind!) </p><br><p>  Also haben wir es herausgefunden. </p><br><p>  Kommen wir nun zum Mikrocontroller - alles wurde auf dem Arduino Uno (Atmega-328) 16Mhz + LCD Keypad Shield debuggt. </p><br><p>  Also der Text der Skizze (Programm): </p><br><pre><code class="hljs pgsql">//   #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;LiquidCrystal.h&gt; //!    -     !!! LiquidCrystal lcd(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>); // : //  unsigned <span class="hljs-type"><span class="hljs-type">int</span></span> data = <span class="hljs-number"><span class="hljs-number">0</span></span>; //     <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> unsigned long <span class="hljs-type"><span class="hljs-type">int</span></span> time1 = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> unsigned long <span class="hljs-type"><span class="hljs-type">int</span></span> time2 = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-type"><span class="hljs-type">void</span></span> setup() { //     LCD lcd.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); //      attachInterrupt(<span class="hljs-number"><span class="hljs-number">0</span></span>, sensor_1, FALLING); attachInterrupt(<span class="hljs-number"><span class="hljs-number">1</span></span>, sensor_2, FALLING); //     -  pinMode(<span class="hljs-number"><span class="hljs-number">2</span></span>, INPUT_PULLUP); pinMode(<span class="hljs-number"><span class="hljs-number">3</span></span>, INPUT_PULLUP); } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() { lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.print("CHRON 100mm base"); //    nogood: //    -  -     #   CHRON <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( digitalRead(<span class="hljs-number"><span class="hljs-number">2</span></span>) == LOW ) { lcd.setCursor(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.print("#"); goto nogood; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { lcd.setCursor(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.print(" "); } //    -  -     #   base <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( digitalRead(<span class="hljs-number"><span class="hljs-number">3</span></span>) == LOW ) { lcd.setCursor(<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.print("#"); goto nogood; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { lcd.setCursor(<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); lcd.print(" "); } lcd.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.print("Speed "); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.print(data); lcd.setCursor(<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.print("M/S"); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( time1 == <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; time2 == <span class="hljs-number"><span class="hljs-number">0</span></span> ) ; delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( time1 != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; time2 != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; time2 &gt; time1 ) { data = <span class="hljs-number"><span class="hljs-number">0.1</span></span> / ((time2 - time1) / <span class="hljs-number"><span class="hljs-number">1000000.0</span></span>); // v = s / t } // <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(data) //      -       LiquidCrystal (lcd), //   - <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println -      Arduino IDE lcd.setCursor(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); lcd.print(data); time1 = <span class="hljs-number"><span class="hljs-number">0</span></span>; time2 = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-type"><span class="hljs-type">void</span></span> sensor_1() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( time1 == <span class="hljs-number"><span class="hljs-number">0</span></span> ) { time1 = micros(); } } <span class="hljs-type"><span class="hljs-type">void</span></span> sensor_2() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( time2 == <span class="hljs-number"><span class="hljs-number">0</span></span> ) { time2 = micros(); } }</code> </pre> <br><p>  Kurz gesagt, das Funktionsprinzip - der PULLUP-Befehl an den Pins 2,3 schaltet die Pull-up-Spannung ein (mit internen Widerst√§nden 20-50 kOhm). <br>  Eine Aufz√§hlungsspanne f√ºhrt zu einem Kurzschluss, der durch Interrupts (Sensor FALLING) erkannt wird, wie bei den schnellsten Arduino-Befehlen. <br>  Bei Kenntnis der Zeitdifferenz und des Abstands zwischen den Sensoren wird die Geschossgeschwindigkeit berechnet. </p><br><p>  <strong>WICHTIGE Reihenfolge der Sensoren - die erste - zu Pin 2!</strong> </p><br><p>  Das ist alles. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b7e/351/16f/b7e35116fc831a155f66b249129106ba.jpg"></p><br><p>  Jemand wird einwenden, dass Energie f√ºr das Durchbrechen der Folie aufgewendet wird und die tats√§chliche Geschwindigkeit der Kugel h√∂her sein wird! </p><br><p>  Zuerst schien alles so zu sein! </p><br><p>  Im Vergleich zu der Geschwindigkeit, die vor anderthalb Jahren von einem Ger√§t mit optischen Sensoren (280 m / s) gemessen wurde - das Ger√§t auf der Folie produzierte 260! </p><br><p>  Energetisch - es sind 22 Joule gegen 19!  - Verlust sofort Treshki! </p><br><p>  Aber sobald ich die Basis auf 100 mm reduzierte, zeigte die ‚ÄûFolie‚Äú das richtige Ergebnis - warum - ein R√§tsel! </p><br><p>  Die Kugeln verwendeten ein Luman FT 0,56 Gramm, Ger√§te, die auf demselben Mikrocontroller basierten. Die Basis ist in beiden F√§llen 100 mm, ein Gewehr </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/21e/9d2/e5c/21e9d2e5c1856c4b809f080339430fe4.jpg" alt="Diana-54 atmet"></p><br><p>  <strong>In Bezug auf die Stabilit√§t der Messwerte - von 5 Aufnahmen ist die ‚ÄûFreigabe‚Äú jeweils nur eine, die Anzahl der anderen - stimmt √ºberein.</strong> </p><br><p>  Ja, und zum Schluss fragen Sie - warum im Zeitalter der Elektronik das Rad neu erfinden? </p><br><p>  Alles ist sehr einfach - die Antwort ist eine Schrotflinte! </p><br><p>  Wenn Sie die Geschwindigkeit einer Ladung bei einer Abfahrt messen - kein Problem -, ist jedes Ger√§t geeignet! </p><br><p>  In einiger Entfernung kann sich der Schuss jedoch zerstreuen (das Standardziel f√ºr die √úberpr√ºfung des Ger√∂lls ist 75 x 75 cm). </p><br><p>  Und stellen Sie sich jetzt die M√∂glichkeit vor, die Ladegeschwindigkeit auf 35 Metern zu messen - wenn sogar ein chinesisches Ger√§t f√ºr 50 US-Dollar auseinandergerissen wird, ist das beleidigend. </p><br><p>  Der Ausweg besteht darin, entweder das Geh√§use und die Sensoren zu ‚Äûbuchen‚Äú (40-mm-Platinen reichen aus) oder Einweg-Sensoren zu verwenden. </p><br><p>  Es gibt was und warum zu messen - nicht weit entfernt ist die Einf√ºhrung eines Verbots der Bleijagd in Gew√§ssern (nach Europa), es wird notwendig sein, Stahlschrot zu verwenden, in Gesch√§ften wird es Linien f√ºr solche Patronen geben (oder einen hohen Preis). </p><br><p>  Bei selbstsammelnden Patronen m√∂chte ich nicht die altmodischen Methoden verwenden, um die Wirksamkeit des Eindringens in ein trockenes Kiefernbrett zu bewerten. </p><br><p>  <strong>Zielgerichtete Sch√ºsse f√ºr Sie und f√ºr J√§ger - nicht Pooh, nicht Feather!</strong> </p><br><p>  <em>Bis wir uns wieder auf Habr treffen, Andrey.</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414745/">https://habr.com/ru/post/de414745/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414735/index.html">IT-Marke. Was mit Menschen auf Konferenzen zu sprechen</a></li>
<li><a href="../de414737/index.html">"Sie haben nicht gewartet, woher": Yahoo wird mit einer Geldstrafe von 250.000 GBP belegt, wenn es gegen die alten Regeln f√ºr die Arbeit mit PD verst√∂√üt</a></li>
<li><a href="../de414739/index.html">Go-Kritiker: Der hartn√§ckigste statische Analysator f√ºr Go</a></li>
<li><a href="../de414741/index.html">Selbst VDS-Anbieter</a></li>
<li><a href="../de414743/index.html">Lokalisierung: Fall locker</a></li>
<li><a href="../de414747/index.html">ZNS, Drogen und Rock'n'Roll: Eine Geschichte √ºber ein Ger√§t, mit dem wir trinken, nicht schlafen und nicht blinzeln konnten</a></li>
<li><a href="../de414749/index.html">Gentleman Sysadmin eingestellt</a></li>
<li><a href="../de414751/index.html">WSUS mit Ansible und mehr z√§hmen</a></li>
<li><a href="../de414753/index.html">PCIe-Bus: Beeinflussen physikalische Einschr√§nkungen die √úbertragungsrate?</a></li>
<li><a href="../de414755/index.html">Hackathon ist die L√∂sung des Problems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>