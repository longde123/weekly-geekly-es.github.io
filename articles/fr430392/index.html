<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèª üè≥Ô∏è üéÇ Comment d√©velopper et tester des API avec mon ¬´v√©lo¬ª PieceofScript üòç üöÅ üç¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PieceofScript est un langage simple pour √©crire des scripts pour le test automatique de l'API HTTP JSON. 

 PieceofScript vous permet de: 



- d√©crir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment d√©velopper et tester des API avec mon ¬´v√©lo¬ª PieceofScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430392/">  PieceofScript est un langage simple pour √©crire des scripts pour le test automatique de l'API HTTP JSON. <br><br>  PieceofScript vous permet de: <br><br><ul><li>  d√©crire les m√©thodes API au format YAML, avec le nom de la m√©thode dans un langage presque naturel, ce qui est pratique pour lire les tests </li><li>  suffisamment flexible pour d√©crire les mod√®les au format YAML et g√©n√©rer des donn√©es al√©atoires √† partir d'eux </li><li>  √©crire des scripts d'appel d'API complexes dans un langage facile √† lire avec une syntaxe simple </li><li>  obtenir les r√©sultats des tests aux formats JUnit et HTML </li></ul><br>  J'ai √©crit ce ¬´v√©lo¬ª parce que l'interface SoapUI m'a conduit vers le bas.  Je voulais d√©crire simplement et clairement les tests dans un √©diteur de texte sans interface graphique sp√©ciale.  De plus, git ne dig√®re pas l'√©norme fichier xml que SoapUI √©met, il est donc difficile de placer des tests pour une t√¢che sp√©cifique dans la m√™me branche o√π la t√¢che elle-m√™me a √©t√© effectu√©e.  L'interface Postman est beaucoup plus agr√©able, mais lors du d√©veloppement, il faut beaucoup de temps pour y composer / modifier des requ√™tes et les r√©p√©ter dans le bon ordre.  Je voulais l'automatiser.  J'ai √©galement √©tudi√© d'autres outils de test, chacun avait un " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©faut fatal</a> ", alors dans le cas du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">syndrome NIH,</a> j'ai ouvert un IDE. <br><br>  Voici ce qui en est ressorti. <br><br><img src="https://habrastorage.org/webt/be/su/_o/besu_olm_gbromxnr34mzcvy8sy.gif"><br><a name="habracut"></a><br>  L'interpr√©teur est √©crit en PHP et est une archive phar; il n√©cessite la version PHP 7.2, bien qu'il puisse √©galement fonctionner sur 7.1.  Code source et documentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/maximw/PieceofScript</a> .  Documentation en d√©veloppement.  Il s'est av√©r√© que c'est la partie la plus difficile et la plus fastidieuse. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Projet de test, sa structure et lancement</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Script de test</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">M√©thodes de test API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Appel de m√©thode API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">G√©n√©ration de mod√®les et de donn√©es de test</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctions int√©gr√©es</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cas de test</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Variables et port√©es</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Types et op√©rations</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Enregistrement de donn√©es entre les ex√©cutions</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sortie vers stdout et rapports</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Exemples</a> - assez de mots, montrez le code! <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Commentaires et plans pour l'avenir, le cas √©ch√©ant</a> <br><br><a name="struct"></a><h2>  Projet de test, sa structure et lancement </h2><br>  Le projet est un r√©pertoire avec un ensemble de fichiers de script, des fichiers de description de m√©thode API et des g√©n√©rateurs de donn√©es de test. <br><br>  Dans la version minimale, le projet ressemble √† ceci: <br><br><pre><code class="plaintext hljs">./tests endpoints.yaml -  API generators.yaml -  start.pos -   </code> </pre> <br>  Le fichier de d√©marrage est le script √† partir duquel le processus de test commence.  Il est d√©fini au d√©marrage: <br><br><pre> <code class="bash hljs">pos.phar run ./start.pos --junit=junit_report.xml -vvv --config=config.yaml</code> </pre> <br>  Tous les chemins relatifs sont lus √† partir du r√©pertoire de travail contenant le fichier de d√©marrage. <br>  Le fichier de configuration peut √™tre sp√©cifi√© sur la ligne de commande avec l'option <i>--config</i> ou mettez <i>config.yaml</i> dans le r√©pertoire de travail.  La configuration est facultative, vous devez y grimper au besoin.  <a href="">En savoir plus sur la config</a> . <br><br><a name="script"></a><h2>  Script de test </h2><br>  Pour ma part, j'ai d√©cid√© d'√©crire des scripts dans des fichiers avec l'extension .pos, afin que vous puissiez effectuer des r√©glages de mise en √©vidence du code dans l'EDI avec une liaison par extension.  Mais l'interpr√®te est compl√®tement indiff√©rent √† l'extension. <br><br>  Voici un exemple de script simple pour un forum imaginaire o√π le test de cr√©ation et de lecture d'un article par diff√©rents utilisateurs est effectu√©. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">"./globals.pos"</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ,  $domain include "./globals_local.pos" //     ,    include "./user/*.pos" //       ./user  ./post include "./post/*.pos" //       var $author = User() var $reader = User() var $banned = User() var $post = Post() Register $author //   API,     must $response.code == 201 //     Register $reader must $response.code == 201 Register $banned must $response.code == 201 Add $banned to blacklist of $author //$banned      $author Create post $post by $author //   API   must $response.code == 201 //    API   201 // ...,   ,       assert $response.body.post.content == $post.content var $postId = $response.body.post.id // Id     Read post $postId by $author //     must $response.code == 200 assert $response.body.post.content == $post.content Read post $postId by $reader //      must $response.code == 200 assert $response.body.post.content == $post.content Read post $postId by $banned //        assert $response.code == 404</span></span></code> </pre><br>  Oui, √ßa n'a pas l'air tr√®s bien sans r√©tro-√©clairage. <br><br>  Chaque ligne du script commence par un op√©rateur ou est un appel √† une m√©thode API.  Si soudainement le nom de la m√©thode API commence par un mot qui correspond √† l'un des op√©rateurs, vous pouvez utiliser le symbole " <i>&gt;</i> ": <br><br><pre> <code class="plaintext hljs">&gt;Include $user to group $userGroup</code> </pre> <br>  Les op√©rateurs ne sont pas sensibles √† la casse.  assert, ASSERT ou aSsErT (mais pourquoi √©crire comme √ßa?) fonctionnera. <br>  Chaque instruction ou appel de m√©thode API doit √™tre sur une ligne distincte.  Mais le retour √† la ligne est √©galement possible si le dernier caract√®re de la cha√Æne est <i>\</i> (bonjour, Python). <br><br><div class="spoiler">  <b class="spoiler_title">D√©tails inint√©ressants sur les sauts de ligne et les retraits</b> <div class="spoiler_text">  Si l'habillage de ligne est utilis√© dans un commentaire, la ligne suivante sera √©galement consid√©r√©e comme faisant partie du commentaire.  Lorsque vous <i>encapsulez des</i> lignes √† l'int√©rieur de blocs ( <i>testcase</i> , <i>if</i> , <i>while</i> , <i>foreach</i> ), il est important de mettre en <i>retrait de</i> sorte que la ligne suivante tombe dans le m√™me bloc. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $n = <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $i = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib1 = <span class="hljs-number"><span class="hljs-number">1</span></span>; \ $fib2 = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> $i &lt;= $n <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib_sum = \ $fib2 + $fib1 <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> toString($i) + <span class="hljs-string"><span class="hljs-string">"  :"</span></span> + \ toString($fib_sum) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib1 = $fib2 <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib2 = $fib_sum <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $i = $i + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Lors de l'ex√©cution d'instructions de bloc ( <i>testcase</i> , <i>if</i> , <i>while</i> , <i>foreach</i> ), un bloc est d√©termin√© par l'indentation de ses lignes.  L'indentation est compt√©e comme le nombre d'espaces au d√©but d'une ligne.  L'espace et les tabulations comptent pour un seul caract√®re, mais les tabulations sont g√©n√©ralement affich√©es dans les √©diteurs comme plusieurs espaces.  Par cons√©quent, pour √©viter toute confusion, il est pr√©f√©rable d'utiliser des tabulations ou des espaces, mais pas tous ensemble. <br></div></div><br><h4>  Liste compl√®te des op√©rateurs </h4><br>  <b>require <i>fileName</i></b> - attachez le fichier √† l'endroit o√π l'op√©rateur est appel√©.  Le fichier joint d√©marrera imm√©diatement √† partir de la premi√®re ligne.  Une fois termin√©, l'interpr√©teur revient √† la ligne suivante du fichier source.  Si le fichier demand√© n'est pas lisible, une erreur sera g√©n√©r√©e.  Le chemin relatif est calcul√© √† partir du r√©pertoire de travail. <br><br>  <b>include <i>fileMask</i></b> - similaire √† require, mais si le fichier demand√© n'est pas lisible, il n'y aura pas d'erreur.  C'est pratique, par exemple, pour cr√©er des param√®tres pour diff√©rents environnements de test.  De plus, include peut connecter tous les fichiers par masque √† la fois.  Ainsi, par exemple, vous pouvez t√©l√©charger des r√©pertoires entiers de fichiers contenant des cas de test.  Mais en m√™me temps, tout ordre de t√©l√©chargement de fichiers n'est pas garanti. <br><br>  <b>var <i>$ variable1 = expression1</i> ;</b>  <b><i>$ variable2 = expression2</i> ; ...;</b>  <b><i>$ variableN = expressionN</i></b> - attribue des valeurs aux variables.  Si la variable n'existe pas d√©j√†, elle sera cr√©√©e dans le contexte courant. <br><br>  <b>let <i>$ variable1 = expression1</i> ;</b>  <b><i>$ variable2 = expression2</i> ; ...;</b>  <b><i>$ variableN = expressionN</i></b> - attribue des valeurs aux variables.  Si la variable n'est pas dans le contexte actuel, il y aura une tentative de cr√©er ou de modifier la variable dans le contexte global. <br><br>  <b>const <i>$ const1 = expression1</i> ;</b>  <b><i>$ const2 = expression2</i> ; ...;</b>  <b><i>$ constN = expressionN</i></b> - d√©finit la valeur des constantes dans le contexte actuel.  La diff√©rence entre les constantes et les variables est seulement qu'elles ne peuvent pas √™tre modifi√©es; lorsque vous essayez d'affecter une valeur √† une constante, un avertissement sera √©mis apr√®s la d√©claration.  S'il existe d√©j√† une variable du m√™me nom, une erreur sera g√©n√©r√©e lors de la tentative de d√©claration de constante.  Sinon, tout ce qui est vrai pour les variables l'est aussi pour les constantes. <br><br>  <b>import <i>$ variable1</i> ;</b>  <b><i>$ variable2</i> ; ...;</b>  <b><i>$ variableN</i></b> - copie les variables du contexte global dans le contexte actuel.  Cela peut √™tre utile si vous devez op√©rer sur la valeur d'une variable globale, mais pas la modifier. <br><br>  <b>testcase <i>testCaseName</i></b> - annonce un cas de test, qui peut ensuite √™tre appel√© en tant qu'unit√© avec l'instruction <i>run</i> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">En savoir plus sur les cas de test plus loin dans l'article</a> . <br><br>  <b>assert <i>expression</i></b> - v√©rifiez que l' <i>expression</i> est <i>vraie</i> , sinon imprimez un rapport sur l'√©chec du test. <br><br>  <b><i>expression</i> doit</b> √™tre identique √† <i>assert</i> , mais si le test √©choue, le sc√©nario de test en cours sera arr√™t√©.  Et en dehors du contexte du sc√©nario de test, le script se terminera compl√®tement.  Il peut √™tre utilis√© si une erreur est d√©tect√©e avec laquelle des v√©rifications suppl√©mentaires n'ont pas de sens. <br><br>  <b>run <i>testCaseName</i></b> - ex√©cutez le <b><i>sc√©nario de</i></b> test sp√©cifi√© pour l'ex√©cution.  <i>ex√©cuter</i> sans sp√©cifier le nom du sc√©nario de test d√©marrera tous les sc√©narios de test d√©clar√©s qui ne n√©cessitent pas d'arguments dans l'ordre de leur d√©claration. <br><br>  <b>while <i>expression</i></b> - une boucle, tandis que <i>expression est</i> vraie, ex√©cute les instructions avec des lignes en retrait plus que <i>while</i> . <br><br>  <b>foreach <i>$ array</i> ;</b>  <b><i>$ element</i></b> - boucle √† travers le tableau, le corps de la boucle est ex√©cut√© pour chaque √©l√©ment suivant du tableau.  Il est √©galement possible d'obtenir la cl√© pour <b>chaque <i>tableau $</i> ;</b>  <b><i>$ key</i> ;</b>  <b><i>$ element</i></b> .  Les variables <i>$ key</i> et <i>$ element</i> sont cr√©√©es / √©cras√©es dans le contexte actuel. <br><br>  <b>if <i>expression</i></b> - si <i>expression est</i> vraie, ex√©cute les instructions avec des lignes en retrait plus que <i>si</i> <br><br>  <b>print <i>expression1</i> ;</b>  <b><i>expression2</i> ; ... <i>expressionN</i></b> - affiche la valeur de <i>expressionM</i> sur stdout.  Il peut √™tre utilis√© pour le d√©bogage, il ne fonctionne qu'avec le niveau de ¬´bavard¬ª <i>--verbosit√© = 1</i> ou <i>-v</i> et plus. <br><br>  <b><i>expression de</i> sommeil</b> - pause pour un nombre donn√©, √©ventuellement un entier, secondes.  Parfois, vous devez donner une pause √† l'API test√©e. <br><br>  <b>pause <i>expression</i></b> - pas en mode interactif (option de ligne de commande <i>-n</i> ) est similaire √† <i>sleep</i> .  <i>L'expression</i> est facultative, dans ce cas il n'y aura pas de pause.  Et en mode interactif, faites une pause avant d'appuyer sur Entr√©e. <br><br>  <b>annuler</b> - terminer les tests.  L'interpr√®te termine le travail, cr√©e des rapports. <br><br><a name="methods"></a><h2>  M√©thodes de test API </h2><br>  C'est en fait ce que vous devez tester - appelez avec certains param√®tres et v√©rifiez si la r√©ponse r√©pond aux attentes. <br><br>  Les m√©thodes API sont d√©crites au format YAML.  Par d√©faut, les descriptions doivent se trouver dans le fichier <i>endpoints.yaml</i> du r√©pertoire actuel et / ou dans les fichiers <i>* .yaml</i> de son sous-r√©pertoire <i>./endpoints</i> .  Avant le test, l'interpr√©teur essaiera de lire tous ces fichiers √† la fois. <br><br>  Exemple de structure <i>endpoints.yaml</i> : <br><br><pre> <code class="plaintext hljs">Auth $user: method: "POST" url: $domain + "/login" headers: Content-Type: "application/json" format: "json" data: login: $user.login password: $user.password after: - assert $response.code == 200 - let $user.auth_token = $response.body.auth_token Create post $post by $user: method: "POST" url: $domain + "/posts" format: "json" data: $post headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 201 Read post $postId by $user: method: "GET" url: $domain + "/posts/" + $postId headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert ($response.code == 200) || ($response.code == 404) Create comment $comment on $post by $user: method: "POST" url: $domain + "/comments/create/" + $post.id format: "json" data: $comment headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 201</code> </pre><br>  Le nom de la m√©thode API (le niveau sup√©rieur de la structure YAML) par laquelle elle peut √™tre appel√©e est une cha√Æne dans un format presque arbitraire. <br><br>  Les arguments peuvent √™tre sp√©cifi√©s n'importe o√π dans le nom.  Ils doivent √™tre s√©par√©s par des espaces du reste des mots.  Par exemple, <i>$ comment</i> , <i>$ post</i> et <i>$ user</i> dans la derni√®re m√©thode. <br><br>  De plus, n'importe o√π dans le nom, vous pouvez sp√©cifier des valeurs de m√©thode facultatives entre crochets doubles. <br><br><pre> <code class="plaintext hljs">Get comments of $post {{$page=1; $perPage=$defaultGlobalPageSize}}: method: "GET" url: $domain + "/comments/" + $post.id query: page: $page per_page: $perPage headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 200</code> </pre> <br>  Dans les expressions qui sp√©cifient des valeurs facultatives, des variables de contexte globales sont disponibles. <br>  Les valeurs facultatives peuvent √™tre utiles afin de ne pas les sp√©cifier chaque fois que vous appelez la m√©thode API.  Si la taille de la page doit √™tre modifi√©e √† un seul endroit, pourquoi l'indiquer √† tous les autres endroits?  Exemples d'appels √† cette m√©thode: <br><br><pre> <code class="plaintext hljs">Get comments of $newPost //     $page  $perPage Get comments of $newPost {{$page=$currentPage+1}} Get comments of {$newPost} {{$perPage=10;$page=100}}</code> </pre><br>  Les autres variables utilis√©es ( <i>$ domain</i> dans l'exemple ci-dessus) seront prises dans le contexte global.  Je vous en dirai plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur les contextes</a> plus tard. <br><br>  Il me semble commode de donner aux m√©thodes API des noms lisibles par l'homme dans un langage naturel, alors le script de test est plus facile √† lire.  Les noms ne respectent pas la casse, c'est-√†-dire que la m√©thode <i>Auth $ User</i> peut √™tre appel√©e en tant <i>qu'auth $ User</i> et en tant que <i>AUTH $ User</i> .  Cependant, les noms de variables sont sensibles √† la casse, plus d'informations <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur les variables</a> ci-dessous. <br><br>  <b>Remarque importante.</b>  Le format YAML vous permet de ne pas mettre de cha√Ænes entre guillemets.  Mais pour l'interpr√©teur, une cha√Æne sans guillemets est une expression qui doit √™tre √©valu√©e.  Par exemple, d√©clarer un champ <code>url: http://example.com/login</code> entra√Ænera une erreur de syntaxe lors de l'ex√©cution.  Par cons√©quent, il sera correct: <code>url: "http://example.com/login"</code> ou <code>url: "http://"+$domain+"/login"</code> <br><br><h4>  Champs de description de la m√©thode API </h4><br>  <i><b>m√©thode</b></i> - m√©thode HTTP requise <br><br>  <i><b>url</b></i> - l'URL r√©elle, obligatoire <br><br>  <i><b>headers</b></i> - liste des en-t√™tes HTTP, facultatif <br><br>  <i><b>cookies</b></i> - liste de cookies facultative <br><br>  <i><b>auth</b></i> - donn√©es pour l'authentification HTTP, facultatif <br><br><pre> <code class="php hljs">auth: login: $login password: $password type: <span class="hljs-string"><span class="hljs-string">"basic"</span></span> <span class="hljs-comment"><span class="hljs-comment">//  "digest"  "ntlm", - "basic"</span></span></code> </pre> <br>  <i><b>requ√™te</b></i> - une liste de param√®tres d'URL, facultatif <br><br>  <i><b>format</b></i> - l'une des valeurs: <br><br><ul><li>  <i>aucun</i> - la demande n'a pas de corps </li><li>  <i>json</i> - envoyer √† JSON </li><li>  <i>raw</i> - envoyer la cha√Æne "telle quelle" </li><li>  <i>formulaire</i> - au format application / x-www-form-urlencoded </li><li>  <i>multipart</i> - au format multipart / form-data </li></ul><br>  Facultatif, <i>aucun</i> par d√©faut <br><br>  <i><b>donn√©es</b></i> - le corps de la demande, sera envoy√© dans le format sp√©cifi√© dans le <i>format</i> , facultatif <br><br><ul><li>  Pour <i>aucun</i> - <i>le</i> format de <i>donn√©es</i> peut √™tre absent, s'il est pr√©sent, sera ignor√© </li><li>  Pour le format <i>json</i> , n'importe quelle valeur </li><li>  Pour <i>le</i> format <i>brut</i> , toute valeur scalaire </li><li>  Pour le format de <i>formulaire</i> , un tableau dont les cl√©s sont des noms de champs: <br><br><pre> <code class="plaintext hljs">data: login: "Bob" password: $password remember_me: 1</code> </pre> </li><li>  Pour le format en plusieurs <i>parties</i> , un tableau de la structure suivante: <br><br><pre> <code class="plaintext hljs">data: user_id: value: 42 headers: X-Baz: "bar" avatar: file: "/path/to/file" photo: file: "http://url.to/file" filename: "custom_filename.jpg"</code> </pre> </li></ul><br>  Les fichiers sp√©cifi√©s dans les champs de <i>fichiers</i> doivent √™tre lisibles.  Si une URL est sp√©cifi√©e, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">allow_url_fopen</a> doit √™tre activ√© dans php.ini <br><br>  <i><b>before</b></i> - instructions qui seront ex√©cut√©es avant la requ√™te HTTP, facultatif <br><br>  <i><b>after</b></i> - instructions qui seront ex√©cut√©es apr√®s la requ√™te HTTP, facultatif <br><br>  L'id√©e des blocs <i>avant</i> et <i>apr√®s</i> dans l'ex√©cution des v√©rifications ou le traitement des donn√©es n√©cessaires √† chaque fois avant ou apr√®s l'ex√©cution de la demande HTTP est dict√©e non pas tant par les besoins de test que par la logique m√©tier.  Par exemple, copier le jeton d'autorisation √©mis dans le champ de la structure $ user pour appeler toutes les m√©thodes API suivantes au nom de cet utilisateur.  Ou pour v√©rifier l'√©tat HTTP de la r√©ponse, afin de ne pas le v√©rifier √† chaque fois apr√®s un appel dans le script. <br><br><a name="call"></a><h2>  Appel de m√©thode API </h2><br>  Pour appeler la m√©thode API dans le script, vous devez sp√©cifier son nom et ses param√®tres, si n√©cessaire.  Voici un exemple d'appel de la derni√®re m√©thode API √† partir de la description ci-dessus: <br><br><pre> <code class="php hljs">Create comment $comments<span class="hljs-number"><span class="hljs-number">.1</span></span> on {$newPost} by {$postAuthor}</code> </pre> <br>  Si le param√®tre est plac√© entre accolades, il sera transmis par valeur - de cette fa√ßon, vous pouvez passer n'importe quelle expression.  Si vous sp√©cifiez un param√®tre sans accolades, il sera transmis par r√©f√©rence - il ne peut s'agir que de variables et d'acc√®s statiques aux √©l√©ments du tableau (via un point, mais pas entre crochets []). <br><br><pre> <code class="php hljs">Create comment {$comments[$i]} on $posts<span class="hljs-number"><span class="hljs-number">.0</span></span> by $users<span class="hljs-number"><span class="hljs-number">.1</span></span> Read post {<span class="hljs-number"><span class="hljs-number">123</span></span>} by $user Get comments of $users<span class="hljs-number"><span class="hljs-number">.1</span></span>.id {{$page = <span class="hljs-number"><span class="hljs-number">2</span></span>}}</code> </pre> <br>  Chaque fois que la m√©thode API est appel√©e dans le contexte de l'appel lui-m√™me (dans les listes d'instructions <i>avant</i> et <i>apr√®s</i> ) et dans le contexte o√π elle a √©t√© appel√©e, les variables <i>$ request</i> et <i>$ response sont cr√©√©es</i> .  Ce sont des noms r√©serv√©s, je ne recommande pas de les utiliser √† d'autres fins.  <i>$ request</i> est disponible dans les blocs <i>avant</i> et <i>apr√®s</i> , et <i>$ response est</i> uniquement dans <i>after</i> , in <i>avant que</i> sa valeur ne devienne <i>Null</i> .  Dans le contexte d'appel, ces variables sont disponibles jusqu'au prochain appel de m√©thode API, o√π elles seront r√©initialis√©es. <br><br><h4>  $ Structure de demande </h4><br>  <b>$ request.method</b> - String - m√©thode HTTP <br>  <b>$ request.url</b> - String - l'URL demand√©e <br>  <b>$ request.query</b> - Array - une liste de param√®tres GET <br>  <b>$ request.headers</b> - Array - liste des en-t√™tes de requ√™te <br>  <b>$ request.cookies</b> - Array - liste des cookies <br>  <b>$ reuqest.auth</b> - Array ou Null - donn√©es pour l'authentification HTTP <br>  <b>$ request.format</b> - String - demande le format des donn√©es <br>  <b>$ request.data</b> - tapez any - ce qui a √©t√© calcul√© dans le champ de <i>donn√©es</i> <br><br><h4>  $ Structure de r√©ponse </h4><br>  <b>$ response.network</b> - Boolean - false si l'erreur √©tait au niveau du r√©seau sous HTTP <br>  <b>$ response.code</b> - Number ou Null - code de r√©ponse, par exemple 200 ou 404 <br>  <b>$ response.status</b> - String ou Null - √©tat de r√©ponse, par exemple, "204 Aucun contenu" ou "401 non autoris√©" <br>  <b>$ response.headers</b> - Array - liste des en-t√™tes de r√©ponse, les noms d'en-t√™te sont en minuscules <br>  <b>$ response.cookies</b> - Array - liste des cookies <br>  <b>$ response.body</b> - tout type - corps de r√©ponse trait√© comme JSON, s'il y a eu une erreur lors de l'analyse, alors l'√©l√©ment <i>body</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n'existera</a> pas du tout: <code>@response.body == null</code> (√† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">propos de la v√©rification de l'existence de variables</a> ) <br>  <b>$ response.raw</b> - String ou Null - le corps de r√©ponse brut <br>  <b>$ response.duration</b> - type Number - dur√©e de la requ√™te en secondes <br><br><a name="generators"></a><h2>  G√©n√©ration de mod√®les et de donn√©es de test </h2><br>  Les g√©n√©rateurs sont utilis√©s pour d√©crire les mod√®les et g√©n√©rer des donn√©es de test √† partir d'eux.  Les descriptions au format YAML doivent se trouver dans le fichier <i>generators.yaml du</i> r√©pertoire de travail et / ou les fichiers <i>* .yaml</i> du sous-r√©pertoire <i>./generators</i> . <br><br><pre> <code class="plaintext hljs">User: body: login: Faker\login() name: Faker\name() email: Faker\email() password: Faker\text(16) child: Child() birthday: dateFormat(Faker\datetime(), "U") settings: notifications_enabled: Faker\boolean() Child: body: name: Faker\name() gender: Faker\integer(1, 2) age: Faker\integer(0, 18) Comment($user): body: content: "Hi! I'm " + $user.name tags: - "tag1" - "tag2"</code> </pre><br>  Dans l'exemple ci-dessus, les trois g√©n√©rateurs <i>User ()</i> , <i>Child ()</i> et <i>Comment () sont</i> d√©clar√©s.  Dans ce cas, ce dernier a l'argument <i>$ user</i> et peut utiliser ces donn√©es lors de la g√©n√©ration.  Les arguments des g√©n√©rateurs sont toujours pass√©s par valeur.  De plus, l'exemple utilise plusieurs autres fonctions int√©gr√©es: <i>Faker \ name ()</i> , <i>Faker \ email ()</i> , <i>dateFormat ()</i> , etc.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Section sur les fonctions int√©gr√©es</a> . <br><br>  Lors de l'appel du g√©n√©rateur <i>User () √†</i> partir de l'exemple ci-dessus, une structure sera g√©n√©r√©e qui ressemble √† ceci en JSON: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"login"</span></span>: <span class="hljs-string"><span class="hljs-string">"fgadrkq"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lucy Cechtelar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"email"</span></span>: <span class="hljs-string"><span class="hljs-string">"tkshlerin@collins.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"password"</span></span>: <span class="hljs-string"><span class="hljs-string">"gbnaueyaaf"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"child"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adaline Reichel"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gender"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"age"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"birthday"</span></span>: <span class="hljs-number"><span class="hljs-number">318038400</span></span>, <span class="hljs-attr"><span class="hljs-attr">"settings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"notifications_enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>  La valeur du champ <i>enfant</i> est le r√©sultat du g√©n√©rateur <i>Child</i> <i>()</i> . <br><br>  Comme dans la description des m√©thodes API, toutes les cha√Ænes qui ne sont pas plac√©es entre guillemets sont trait√©es comme des expressions √† √©valuer.  Cela peut √™tre non seulement un appel √† un autre g√©n√©rateur, mais une expression arbitraire, par exemple, dans le g√©n√©rateur <i>Commentaire ($ utilisateur)</i> , le champ de <i>contenu</i> repr√©sente la concat√©nation de la cha√Æne Hi!  Je suis et le nom est pass√© √† <i>$ user</i> <br><br>  Les noms des g√©n√©rateurs ne respectent pas la casse et doivent commencer par une lettre latine; ils peuvent contenir des lettres latines, des chiffres, des traits de soulignement et des barres obliques inverses. <br><br>  √âtant donn√© que la syntaxe pour appeler les g√©n√©rateurs et les fonctions int√©gr√©es est la m√™me, ils partagent un espace de noms commun.  Par convention, je sugg√®re d'utiliser une barre oblique inverse comme s√©parateur pour sp√©cifier un "fournisseur" ou une biblioth√®que de fonctions int√©gr√©es, telles que les fonctions Faker \ something (), bas√©es sur la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/fzaninotto/Faker</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Les nuances de l'utilisation des g√©n√©rateurs, vous ne pouvez pas lire</b> <div class="spoiler_text">  √Ä l'aide de g√©n√©rateurs, vous pouvez composer des structures de donn√©es: <br><br><pre> <code class="plaintext hljs"># Userredentials     $user Userredentials($user): body: login: $user.email password: $user.password #    .     ,    GlobalSearchResult($posts, $comments, $users): body: posts: title: " " list: $posts comments: title: " " list: $comments users: title: " " list: $users</code> </pre><br>  <i>GlobalSearchResult</i> n'est pas des donn√©es de test envoy√©es dans la demande √† la m√©thode API, mais un mod√®le de r√©ponse qui peut √™tre v√©rifi√© avec ce que l'API enverra, par exemple, en utilisant les fonctions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>similaires ()</i></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>identiques ()</i></a> . <br><br>  Le g√©n√©rateur peut modifier la structure obtenue dans le <i>corps en</i> utilisant des structures calcul√©es dans les champs <i>remplacer</i> et <i>supprimer</i> .  Je vais vous montrer un exemple. <br><br>  Supposons que vous disposez d√©j√† d'un g√©n√©rateur <i>User ()</i> qui cr√©e la structure de donn√©es appropri√©e pour l'utilisateur.  Vous devez maintenant v√©rifier la r√©ponse de l'API si vous fournissez des donn√©es incorrectes.  Vous pouvez proc√©der de deux mani√®res: <br><br><ul><li>  Cr√©ez un "mauvais" g√©n√©rateur d'utilisateurs √† partir de z√©ro.  Mais nous obtiendrons ensuite la duplication de code, et plus tard, par exemple, lorsque vous ajouterez un nouveau champ √† l'utilisateur en fonction des besoins de la logique m√©tier, vous devrez apporter des modifications √† deux endroits.  SEC! </li><li>  Vous pouvez ¬´h√©riter¬ª de la structure User () existante en la d√©finissant dans le <i>corps</i> .  Et dans <i>remplacer</i> et <i>supprimer,</i> d√©finissez les champs qui seront ajout√©s / modifi√©s et supprim√©s. </li></ul><br><pre> <code class="plaintext hljs">#      ,    , #    InvalidUser($user): body: $user replace: email: Faker\String(6, 15) #   password: Faker\String(1, 5) #    new_field: "      ,  " remove: name: size($user.name) &lt; 10 #  ,    10  #      , #        InvalidNewUser: body: User() replace: login: "!@#$%^&amp;*" #   remove: about: true settings: notifications: 100500 #       , #      true</code> </pre><br>  Lorsque le g√©n√©rateur fonctionne, la structure de donn√©es dans le <i>corps est d'</i> abord calcul√©e, puis elle est remplac√©e et compl√©t√©e par des √©l√©ments de <i>replace,</i> puis les champs sp√©cifi√©s dans <i>remove</i> sont supprim√©s si leur valeur est √©quivalente √† <i>true</i> .  Si le r√©sultat du calcul du <i>corps</i> , <i>remplacer</i> ou <i>supprimer n'est</i> pas un tableau, il n'y aura pas d'erreur, mais cela ne sert √† rien non plus, car il n'y aura pas de champs qui pourraient √™tre remplac√©s et supprim√©s. <br></div></div><br><a name="functions"></a><h2>  Fonctions int√©gr√©es </h2><br>  <a href="">Liste compl√®te des fonctions int√©gr√©es</a> .  Par exemple, je n'en donnerai que quelques-uns. <br>  Apr√®s le nom de la fonction et la liste d'arguments, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">type de la</a> valeur renvoy√©e est indiqu√©, s'il est d√©fini. <br><br><h4>  Op√©rations avec variables: </h4><br>  <b>similaire</b> ($ var, $ sample, $ checkTypes) <i>Boolean</i> - renvoie <i>true</i> si les arguments sont du m√™me type, si <i>$ var</i> est un tableau, alors toutes les cl√©s de cha√Æne qui sont dans <i>$ sample</i> doivent √™tre dans <i>$ var</i> , si <i>$ checkTypes est</i> vrai, alors les types des √©l√©ments correspondants doivent correspondre.  En d'autres termes, les √©l√©ments du tableau <i>$ var</i> sont un sous-ensemble des √©l√©ments de <i>$ sample</i> . <br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var, $ sample, $ checkTypes) Le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bool√©en</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un analogue de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">similar ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , avec l'inverse suppl√©mentaire, dans le cas des tableaux, toutes les cl√©s de cha√Æne dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ var</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devraient aussi √™tre dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ sample</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En d'autres termes, les √©l√©ments du tableau </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ var</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont √©gaux aux √©l√©ments du tableau </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ sample</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jusqu'au type d'√©l√©ment. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">max</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) - le maximum des valeurs transmises (si elles peuvent √™tre compar√©es). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">min</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) - le minimum des valeurs transmises. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ condition, $ var1, $ var2) - Si $ condition == true, alors il retournera $ var1, sinon $ var2. Remplacement de l'op√©rateur de coaching (bonjour MySQL). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">choix</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ condition1, $ var1, $ condition2, $ var2, ..., $ conditionN, $ varN) - Renvoie le premier $ varK rencontr√© si $ conditionK == true. </font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Travailler avec des cha√Ænes: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - la longueur de la cha√Æne dans le codage UTF-8. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string, $ regex) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boolean</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - v√©rifie la cha√Æne pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'expression r√©guli√®re</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regexMatch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string, $ regex) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - retournera un tableau de cha√Ænes - correspond aux groupes r√©guliers </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ regex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Traitement de la baie: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cr√©e un tableau √† partir des √©l√©ments pass√©s. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le nombre d'√©l√©ments dans le tableau. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keys</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une liste de cl√©s dans le tableau. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slice</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ offset, $ length) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - partie du tableau √† partir de $ offset de longueur $ length, ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">append</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ value) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ajoute un √©l√©ment √† la fin du tableau. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepend</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ value) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ajoute un √©l√©ment au d√©but du tableau.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Traitement de la date: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dateFormat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ date, $ format) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - formatage de la date, (en savoir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus sur les formats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dateModify</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ date, $ format) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Date</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - modifiez la date, pratique √† utiliser avec les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formats relatifs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> G√©n√©ration al√©atoire de donn√©es de test: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ integer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ min, $ max) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - entier al√©atoire de $ min √† $ max inclus </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ ipv4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - al√©atoire IPv4 </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ arrayElement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©l√©ment al√©atoire du tableau </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ name</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - random name </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ email</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - e-mail al√©atoire</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, il n'y a pas beaucoup de fonctions int√©gr√©es. </font><font style="vertical-align: inherit;">Je n'ai ajout√© que ce qui me semble n√©cessaire lors des tests. </font><font style="vertical-align: inherit;">Vous pouvez ajouter de nouvelles fonctionnalit√©s selon les besoins dans les nouvelles versions. </font><font style="vertical-align: inherit;">Et √† l'avenir, s'il est demand√©, j'ajouterai la possibilit√© de cr√©er des fonctions connect√©es dynamiquement impl√©ment√©es en tant que classes sp√©ciales en PHP.</font></font><br><br><a name="testcases"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cas de test </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un sc√©nario de test est une s√©quence d'instructions qui peut √™tre appel√©e comme une unit√©. </font><font style="vertical-align: inherit;">Un analogue de la proc√©dure dans les langages de programmation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sc√©nario de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> test est cr√©√© par l' </font><i><font style="vertical-align: inherit;">instruction testcase</font></i><font style="vertical-align: inherit;"> , suivi du nom du </font><i><font style="vertical-align: inherit;">sc√©nario</font></i><font style="vertical-align: inherit;"> de test, avec une syntaxe similaire aux noms de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©thode API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les cas de test imbriqu√©s sont interdits.</font></font><br><br><pre> <code class="php hljs">testcase Registration $device <span class="hljs-comment"><span class="hljs-comment">//     var $user = User() Register $user on $device assert $response.code == 201 //        var $user = User() //       InvalidUser() var $user.email = "some_bad_email" Register $user on $device assert $response.code == 400</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'instruction </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">run</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut appeler un sc√©nario de test distinct ou tous les sc√©narios de test qui ne n√©cessitent pas d'arguments.</font></font><br><br><pre> <code class="php hljs">run Get all users <span class="hljs-comment"><span class="hljs-comment">//   -,    run Get user $user_id //   -   run //   -,    </span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'id√©e d'un tel lancement est que les cas de test peuvent √™tre utilis√©s comme des tests ind√©pendants s√©par√©s d'une partie de la logique m√©tier et comme des proc√©dures pour √©viter la duplication de code dans des sc√©narios de test complexes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les arguments sont pass√©s au cas de test par r√©f√©rence ou par valeur dans l'analogie compl√®te du passage d'arguments aux m√©thodes API.</font></font><br><br><a name="vars"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Variables et port√©es </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les noms de variables sont sensibles √† la casse et commencent par un signe </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (oui, oui, je suis pshpshnik). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le type de </font><font style="vertical-align: inherit;">variable de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la matrice</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , l'acc√®s √† des </font><font style="vertical-align: inherit;">champs individuels ou des </font><font style="vertical-align: inherit;">√©l√©ments de valeur est produite par le point: </font></font><code>$users.12.password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Entre les points, seuls les chiffres ou les lettres latines, les traits de soulignement et les chiffres avec la premi√®re lettre latine sont autoris√©s. </font><font style="vertical-align: inherit;">Les noms de champ sont √©galement sensibles √† la casse. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un acc√®s dynamique √† un √©l√©ment du tableau est possible:</font></font><code>$post.comments[$i + 1].content</code> <br><br><a name="contexts"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe quatre types de contextes - la port√©e des variables. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cr√©√© au d√©but, contient toutes les variables d√©clar√©es lors de l'ex√©cution d'instructions en dehors des cas de test et en dehors des appels de m√©thode API. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte du sc√©nario de test</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un nouveau est cr√©√© chaque fois que le sc√©nario de test est ex√©cut√© avec l'instruction </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">run</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte de la m√©thode API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - est cr√©√© lorsque la m√©thode API est appel√©e, lorsque les op√©rateurs sp√©cifi√©s dans les sections </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apr√®s</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont ex√©cut√©s </font><font style="vertical-align: inherit;">. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte du g√©n√©rateur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- il n'y a aucune possibilit√© dans les g√©n√©rateurs de cr√©er de nouvelles variables ou de modifier des variables existantes, donc les variables de contexte global et les arguments sont en lecture seule. </font><font style="vertical-align: inherit;">Les variables sont toujours transmises par valeur au contexte du g√©n√©rateur. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque importante. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans tous les contextes, les variables de contexte global sont disponibles si leurs homonymes ne sont pas cr√©√©s dans le contexte actuel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemples d'op√©rateurs pour travailler avec des variables:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> $a = <span class="hljs-number"><span class="hljs-number">1</span></span> let $a = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">//    var $b = 1 const $b = 3 //    const $c = 3; $c = 4 //   , $c     </span></span></code> </pre><br><pre> <code class="php hljs">let $a = <span class="hljs-number"><span class="hljs-number">1</span></span>; $a = $a + <span class="hljs-number"><span class="hljs-number">1</span></span>; $a = $a + <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $a <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre><br><pre> <code class="php hljs">Testcase Context example changes $argument1, $argument2 <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> $argument3 <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $a = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> let $b = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> $c = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> import $i let $i = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument1 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument2 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument3 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-comment"><span class="hljs-comment">// ,     var $a = "original" var $b = "original" var $i = "original" const $c = "original"; var $paramByRef = "original" var $paramByVal = "original" const $paramConst = "original" run Context example changes $paramByRef, {$paramByVal} and $paramConst //  $a     - print $a // "original" // $b     -,  let    $b print $b // "changed" // $i      print $i // "original" //      ,  var   print $c // "original" //     print $paramByRef // "changed" //     print $paramByVal // "original" //     ,     print $paramConst // "original"</span></span></code> </pre><br><a name="types"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Type Syst√®me et op√©rations </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le typage dynamique laxiste est utilis√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les valeurs sont stock√©es dans des wrappers sur les types PHP correspondants. Pour une meilleure compr√©hension, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le syst√®me de type PHP. J'ai fait un peu moins de libert√© dans la conversion de type dynamique. Par exemple, lors de l'ajout d'une cha√Æne et d'un nombre </font></font><code>"2" + 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, une erreur sera g√©n√©r√©e et PHP effectuera discr√®tement l'ajout. Peut-√™tre aurai-je besoin de r√©viser les r√®gles de la frappe dynamique √† l'avenir, mais jusqu'√† pr√©sent, j'ai essay√© de trouver un √©quilibre entre la commodit√© et la rigueur requises pour des tests fiables. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de donn√©es disponibles dans PieceofScript: </font></font><br><br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est un nombre. Pour des raisons de simplicit√©, je n'ai pas fait de types s√©par√©s pour Integer et Float. La seule diff√©rence significative entre les nombres entiers et r√©els dans PieceofScript est l'utilisation d'un tableau comme cl√©s: les nombres r√©els seront arrondis en entiers. </font></font><br> <code>7 -42 3.14159</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les cha√Ænes entre guillemets, √©ventuellement √©chapp√©es par une barre oblique </font></font><br> <code>"I say \"Hello world!\""</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - d√©finies par une constante </font></font><br> <code>null</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bool√©enne</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> insensible √† la casse </font><font style="vertical-align: inherit;">- sont le r√©sultat d'op√©rations bool√©ennes et d'op√©rations de comparaison, d√©finies par des constantes insensibles √† la casse </font></font><br> <code>true false</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Date</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - date et heure. ¬´Sous le capot¬ª est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DateTime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les constantes sont sp√©cifi√©es entre guillemets simples, dans l'un des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <code>'now', '2008-08-07 18:11:31', 'last day of next month'</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un tableau, le seul type non scalaire. Envelopper</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le tableau</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il n'y a pas de litt√©raux de ce type, mais les tableaux peuvent √™tre le r√©sultat du travail de g√©n√©rateurs, de fonctions int√©gr√©es (par exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bonjour PHP 5.3 et inf√©rieur), ou vous pouvez simplement acc√©der aux cl√©s de variable qui seront cr√©√©es dynamiquement lors de l'affectation.</font></font><br><br><pre> <code class="plaintext hljs">let $a.1 = 100 let $i = 1 let $a[$i + 1] = 200 let $a.sum = $a.1 + $a.2 print " "; $a.sum //  300 var $b = array(true, 3, $a, "Hi") // [true, 3, {1: 100, 2: 200, "sum":300}, "Hi"]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de l'acc√®s √† une variable ou √† un √©l√©ment de tableau inexistant, le script de test sera arr√™t√© et une erreur sera g√©n√©r√©e. </font><font style="vertical-align: inherit;">Mais lors de l'ex√©cution des instructions </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">must</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , si une variable inexistante est acc√©d√©e, il n'y aura pas d'erreur, mais la v√©rification sera consid√©r√©e comme ayant √©chou√©.</font></font><br><br><a name="var_exists"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V√©rification de l'existence et du type d'une variable </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il faut mentionner s√©par√©ment la construction de la v√©rification de l'existence et du type de la variable </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si </font><i><font style="vertical-align: inherit;">@ est</font></i><font style="vertical-align: inherit;"> sp√©cifi√© </font><font style="vertical-align: inherit;">dans le nom de la variable au lieu de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le r√©sultat de cette construction sera l'un de:</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une cha√Æne avec le nom du type de la variable ou le type de l'√©l√©ment du tableau, si des cl√©s ont √©t√© utilis√©es; </font></font></li><li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si la variable n'est pas trouv√©e dans des contextes accessibles ou si l'√©l√©ment avec la cl√© sp√©cifi√©e dans le tableau n'existe pas.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cette conception peut √™tre utile lors de la v√©rification de la structure des r√©ponses HTTP. </font></font><br><br><pre> <code class="plaintext hljs">var $a.string_field = "Hello World" var $a.number_field = 3.14 var $a.bool_field = true var $a.date_field = '+1 day' var $a.null_field = null var $a.array_field = array(1, "2") assert @a.string_field == "String" assert @a.number_field == "Number" assert @a.bool_field == "Boolean" assert @a.date_field == "Date" assert @a.null_field == "Null" assert @a.array_field == "Array" assert @a.array_field.0 == "Number" assert @a.array_field.1 == "String" assert @a.array_field.2 == null assert @notExistedVar == null</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou dans des constructions comme: </font></font><br><br><pre> <code class="php hljs">assert @comment.optional_field &amp;&amp; $comment.optional_field &gt; <span class="hljs-number"><span class="hljs-number">20</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les op√©rations bool√©ennes sont optimis√©es sur le premier op√©rande. </font><font style="vertical-align: inherit;">Si le premier op√©rande est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , l'op√©ration </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'essaiera m√™me pas de calculer le second op√©rande. </font><font style="vertical-align: inherit;">De m√™me avec </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">||</font></font></i>  . <br><br><a name="storage"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enregistrement de donn√©es entre les ex√©cutions </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai utilis√© des scripts s√©par√©s non seulement pour les tests apr√®s la fin de la t√¢che, mais aussi pendant le d√©veloppement. </font><font style="vertical-align: inherit;">J'ai compl√©t√© et modifi√© le script lors de l'impl√©mentation de la fonctionnalit√©. </font><font style="vertical-align: inherit;">Plus tard, ce script est devenu la base pour √©crire un sc√©nario de test, mais pendant le d√©veloppement, il fallait r√©p√©ter les m√™mes appels d'API encore et encore. </font><font style="vertical-align: inherit;">Dans le m√™me temps, √† chaque fois dans le script, il a fallu beaucoup de temps pour cr√©er de nouvelles entit√©s √† partir de z√©ro (par exemple, l'enregistrement des utilisateurs), cr√©√© des ordures dans la base de donn√©es et perturb√© de toutes les mani√®res le d√©veloppement. </font><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√©cid√© d'ajouter la possibilit√© d'enregistrer et de restaurer les valeurs des variables entre les d√©marrages dans le stockage de valeurs-cl√©s. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'enregistrement est activ√© par l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">option de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ligne de commande </font><i><font style="vertical-align: inherit;">--storage</font></i><font style="vertical-align: inherit;"> , qui d√©finit le nom du fichier de stockage:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./start.pos --storage=storage.yaml</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les donn√©es sont enregistr√©es au format YAML, ce qui facilite leur lecture et leur modification. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage \ get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (string $ key, $ defaultValue, boolean $ saveValue = true) - si la cl√© $ key n'existe pas ou si le fichier de stockage n'est pas sp√©cifi√©, retourne $ defaultValue. </font><font style="vertical-align: inherit;">Sinon, il renvoie la valeur stock√©e. </font><font style="vertical-align: inherit;">Si l'argument $ saveValue est vrai et que la cl√© $ key n'a pas √©t√© trouv√©e, $ defaultValue y sera √©crit. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage \ set</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (string $ key, $ value) - enregistre $ value avec la cl√© $ key et renvoie $ value. </font><font style="vertical-align: inherit;">Si le fichier de stockage n'a pas √©t√© d√©fini, il renvoie simplement $ value. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage \ cl√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (cha√Æne $ regexp = null) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- renvoie un tableau de toutes les cl√©s disponibles. </font><font style="vertical-align: inherit;">Si l'argument $ regexp n'est pas nul, alors les cl√©s correspondant √† cette expression r√©guli√®re seront retourn√©es. </font><font style="vertical-align: inherit;">Si le fichier de stockage n'a pas √©t√© d√©fini, il renvoie un tableau vide.</font></font><br><br><a name="output"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sortie vers sortie standard </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PieceofScript peut g√©n√©rer des rapports au format JUnit et HTML. </font><font style="vertical-align: inherit;">Le premier est n√©cessaire pour l'int√©gration avec les syst√®mes CI / CD, par exemple Jenkins. </font><font style="vertical-align: inherit;">La seconde consiste √† visualiser facilement les r√©sultats du test vous-m√™me, par exemple, lors d'un test local. </font><font style="vertical-align: inherit;">Les fichiers de rapport peuvent √™tre d√©finis au d√©marrage:</font></font><pre> <code class="bash hljs">pos.phar run ./start.pos --junit=junit_report.xml --html=report.html</code> </pre> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple de rapport HTML</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diverses informations sur le travail de l'interpr√®te sont affich√©es dans stdout. Il existe 5 niveaux standard de sortie d'informations. Tout ce qui est affich√© au m√™me niveau est √©galement affich√© sur les autres plus ¬´bavards¬ª. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Silencieux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le niveau le plus ¬´silencieux¬ª est d√©fini par l'option de ligne de commande </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce niveau, rien n'est sorti sur stdout, m√™me les erreurs d'interpr√©tation critiques. Mais par le code retour non nul, vous pouvez comprendre que quelque chose s'est mal pass√©. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Normal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le niveau par d√©faut, sans sp√©cifier d'options. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce niveau, des erreurs sont g√©n√©r√©es dans l'interpr√©teur. Demandes erron√©es de m√©thodes API et √©chec de l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et des </font><font style="vertical-align: inherit;">v√©rifications </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obligatoires</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbose</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - d√©fini par option</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce niveau, les r√©sultats de l'instruction d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impression</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont affich√©s </font><font style="vertical-align: inherit;">. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tr√®s verbeux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - d√©fini par l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-vv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce niveau, des avertissements d'interpr√®te sont affich√©s. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©bogage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - d√©fini par l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-vvv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä ce niveau, toutes les lignes de script ex√©cut√©es sont affich√©es. </font><font style="vertical-align: inherit;">Toutes les demandes et r√©ponses des m√©thodes API, les r√©sultats de tous les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">doivent</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> v√©rifier </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="examples"></a><h2>  Des exemples </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le proverbe ¬´Il vaut mieux voir une fois qu'entendre cent fois¬ª est vrai et dans l'interpr√©tation ¬´il vaut mieux voir le code une fois que de lire sa description cent fois¬ª. </font><font style="vertical-align: inherit;">J'ai pr√©par√© et mis les exemples dans le r√©f√©rentiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/maximw/PosExamples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Virustotal </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virustotal.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un service de v√©rification des fichiers et liens malveillants. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Des tests sont effectu√©s pour la partie publique de l'API, √† l'exception des m√©thodes de commentaire, car </font><font style="vertical-align: inherit;">Je ne veux pas jeter dans une v√©ritable API de ¬´combat¬ª avec des donn√©es de test. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour acc√©der √† l'API, vous devez vous </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inscrire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , obtenir la cl√© et l'ajouter au fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virustotal / globals.pos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de tests:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./Virustotal/start.pos</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Che l√†-bas pour un exe-shnik r√©side dans un r√©f√©rentiel?</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les tests, j'ai copi√© hiddeninput.exe √† partir du composant Console du r√©f√©rentiel Symfony. </font><font style="vertical-align: inherit;">Ce fichier peut √™tre supprim√© et pour les tests, utilisez n'importe quelle autre taille jusqu'√† 32 Mo.</font></font><br></div></div><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le monast√®re </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analogue Pasebin. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour acc√©der √† l'API, vous devez vous </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enregistrer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , obtenir la cl√© et l'ajouter au fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastery / globals.pos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de tests:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./Pastery/start.pos</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est √† noter qu'avec ces tests, un bug a √©t√© trouv√© dans la limite du nombre de vues. </font><font style="vertical-align: inherit;">Il a d√©j√† √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corrig√© par les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©veloppeurs de Pastery.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le rick and morty </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je pense que cette s√©rie anim√©e est connue de beaucoup et appr√©ci√©e de beaucoup. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'API se compose de trois sections presque identiques: caract√®re, emplacement et √©pisode. </font><font style="vertical-align: inherit;">Par cons√©quent, les sc√©narios sont presque les m√™mes, et il suffit de regarder les cas de test n'est qu'une des sections. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de tests:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./RickAndMorty/20MinutesTest.pos</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous connaissez une API publique qui serait int√©ressante √† tester de cette mani√®re, veuillez √©crire dans un e-mail personnel. </font></font><br><br><a name="plans"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Commentaires et plans pour l'avenir, le cas √©ch√©ant </font></font></h2><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'ai une liste de petites et grandes am√©liorations dont je n'ai pas encore besoin, mais qui peuvent √™tre utiles.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afficher la liste</font></font></b> <div class="spoiler_text"><ul><li>       Json        </li><li>        <i>body</i>   <i>replace</i>  <i>remove</i> </li><li>         ,         YAML </li><li>     HTTP-    ,        </li><li>     ,     <i>run</i>  .  . </li><li>   HTML-     stdout,       -vvv </li><li>        https </li><li>       application/x-www-form-urlencoded   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CURLFile</a> .        Guzzle 6,       </li><li>        ¬´ ¬ª,           </li><li>       API,             </li><li>  HTML-,         bootstrap- ¬´  ¬ª,     . </li></ul></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour la validation des mod√®les dans les r√©ponses API √† l'aide de g√©n√©rateurs, il n'y a jusqu'√† pr√©sent que deux fonctions - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">similaire ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identique ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La validation avec eux est trop "maladroite". Bien s√ªr, il est d√©j√† possible de valider les r√©ponses ¬´√† la main¬ª, et dans certains cas, ce n'est pas possible autrement, mais je veux le rendre plus pratique et, si possible, √©viter de v√©rifier manuellement la r√©ponse. Il existe quelques id√©es sur la fa√ßon de permettre √† la fois de g√©n√©rer et de valider des mod√®les en utilisant la m√™me description de mod√®le, en √©vitant les doublons. Mais jusqu'√† pr√©sent, ces id√©es n'ont pas √©t√© suffisamment form√©es pour que vous puissiez les impl√©menter dans le code. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Je pense que l'√©chafaudage des m√©thodes API bas√© sur les descriptions dans OpenAPI ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , les collections </font><font style="vertical-align: inherit;">sera tr√®s utile</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facteur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais cela demande beaucoup de travail si PieceofScript en vaut la peine. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ce serait bien de faire des plugins pour certains IDE, avec mise en √©vidence du code et auto-compl√©tion. La saisie automatique des noms de cas de test, des m√©thodes API, des op√©rateurs et des variables serait tout simplement pratique. Mais il n'a pas encore "creus√©" dans cette direction. Comprendre la cr√©ation de surbrillance pour Sublime Text and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Language Server Protocol</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Je serais heureux s'il y avait d√©j√† des gens partageant les m√™mes id√©es qui connaissaient de telles choses. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Je ne sais pas quelle priorit√© mettre la possibilit√© de cr√©er des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">fonctions</font></a><font style="vertical-align: inherit;"> connect√©es dynamiquement</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impl√©ment√© en PHP. D'une part, tout y est simple, il suffit de s'occuper du chargement automatique et de faire une sp√©cification des classes et des espaces de noms utilis√©s. En revanche, les fonctions complexes avec leurs d√©pendances provoqueront in√©vitablement un conflit d'espace de noms entre les d√©pendances (dans le pire des cas, les diff√©rentes versions). Il y a aussi quelque chose √† penser. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5) De</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bons syst√®mes de test ex√©cutent des tests ind√©pendants en parall√®le. Maintenant, cela peut √™tre fait en lan√ßant l'interpr√©teur plusieurs fois avec diff√©rents fichiers de d√©marrage, o√π diff√©rents cas de test sont connect√©s. Mais je pense que nous devons int√©grer cela dans l'interpr√©teur lui-m√™me avec une d√©tection automatique de ce qui peut √™tre lanc√© en parall√®le.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS D'une part, puisque c'est mon "m√©tier", il serait logique de mettre un post dans le hub "Je suis PR". </font><font style="vertical-align: inherit;">Par contre, je ne fais pas de relations publiques, je ne cherche aucun gain commercial, juste un outil que je me suis fait, j'ai d√©cid√© de "peigner" et de le publier publiquement.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430392/">https://habr.com/ru/post/fr430392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430380/index.html">Guide JavaScript Partie 5: Tableaux et boucles</a></li>
<li><a href="../fr430382/index.html">Guide JavaScript Partie 4: Fonctionnalit√©s</a></li>
<li><a href="../fr430384/index.html">Cr√©ation de cartes √† partir d'entit√©s de bruit</a></li>
<li><a href="../fr430386/index.html">Construction d'une centrale de stockage √† semi-conducteurs en Inde</a></li>
<li><a href="../fr430388/index.html">Conf√©rence Web Summit</a></li>
<li><a href="../fr430394/index.html">Impl√©mentation de la recherche instantan√©e dans Android √† l'aide de RxJava</a></li>
<li><a href="../fr430396/index.html">R√©plication de cha√Æne: cr√©ation d'un r√©f√©rentiel KV efficace (partie 1/2)</a></li>
<li><a href="../fr430398/index.html">Comment comprendre que vous n'√™tes pas le bienvenu ou discuter des m√©thodes de retrait des travailleurs de l'entreprise</a></li>
<li><a href="../fr430400/index.html">Exp√©rience de l'utilisation d'un hybride clavier et souris dans la programmation</a></li>
<li><a href="../fr430402/index.html">Qu'est-ce que developer.android.com ne dit rien sur RecyclerView?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>