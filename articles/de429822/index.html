<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧕🏿 👩‍🏭 👨🏼 Special Purpose Debug Board 🏄 🥪 ↗️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einführung 
 Bei der Entwicklung eines Geräts zum Testen seines Stromkreises wird normalerweise eine Debug-Karte verwendet. Unsere Entwickler sind hie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Special Purpose Debug Board</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/readyforsky/blog/429822/"><h3>  Einführung </h3><br>  Bei der Entwicklung eines Geräts zum Testen seines Stromkreises wird normalerweise eine Debug-Karte verwendet.  Unsere Entwickler sind hier keine Ausnahme, der Vorteil der positiven Aspekte dieses Ansatzes liegt auf der Hand: Die Kosten sind geringer als bei der Herstellung eines Prototyps oder einer Testcharge.  Und wenn dabei Fehler auftreten oder für einige Aufgaben neue Lösungen angezeigt werden, sind diese viel einfacher anzuwenden. <br><br>  Wir waren jedoch ziemlich oft mit der Tatsache konfrontiert, dass die auf dem Markt angebotenen Debugs eine erhebliche Verfeinerung und / oder zusätzliche Module erforderten.  Gleichzeitig traten zusätzliche Einschränkungen auf, die von einem bestimmten Gerät abhingen.  Wenn wir eine Steuerplatine und ein Funkmodul von Grund auf neu entwickeln, befindet sich die relative Reihenfolge auf dem Steckbrett. <br><br>  Probleme beginnen, wenn ein zweites und häufigeres Szenario gespielt wird und wir uns mit der Modernisierung einer bereits entwickelten Technik befassen.  Aufgrund des Hauptbeschränkungsfaktors - des Endpreises des Produkts - sollte die Änderung des Stromkreises minimal sein.  In der Phase des Layouts haben viele die „kollektive Farm“ sehr geliebt. <br><br><img src="https://habrastorage.org/webt/l_/p8/xs/l_p8xs1np6taptdzshxddikzogg.jpeg"><br>  <i><font color="gray"><a href="">Quelle</a></font></i> <br><br><h3>  Was zu tun ist? </h3><a name="habracut"></a><br>  Steuerplatinen in Haushaltsgeräten sind normalerweise einfach und Low-Tech - ihre bedruckte Basis ist einlagig, auf einer Seite ohne Metallisierung und Maske.  Die Einfachheit dieser Platinen wird durch den Endpreis der Geräte selbst bestimmt - je komplizierter die Herstellung der Geräte ist, desto teurer muss sie verkauft werden.  Es ist klar, dass der Massenverbraucher Komplikationen nicht wollen und nicht überbezahlen wird. <br><br><img src="https://habrastorage.org/webt/ad/lw/qh/adlwqhcadvh5rkhk_-yjjq4sbu0.jpeg"><br>  <i><font color="gray">Typischer Vertreter der Steuerkarte für Haushaltsgeräte</font></i> <br><br>  Während der Arbeit haben wir mehrere Standard-Funkmodule von RM2 bis RM10 erschienen.  Diese Module, die auf der SoC-Lösung basieren, fungieren als zentrale Steuerung und ermöglichen Ihnen auch die Steuerung des Geräts über die Luft. <br><br>  Diese Reihe von Funkmodulen ist so konzipiert, dass sie auf der Steuerplatine installiert werden können und nur minimal verändert werden.  Um eine hohe Entwicklungsgeschwindigkeit zu gewährleisten, musste dringend ein Debug-Board erstellt werden, in dem bereits alles vorhanden ist, was für intelligente Haushaltsgeräte erforderlich ist. <br><br>  Ein weiteres Argument für die Veröffentlichung des Debug-Boards war die Eröffnung der Ready for Sky-Plattform für Drittentwickler.  Wir erhielten Vorschläge und Anfragen per E-Mail, um unabhängigen Entwicklern oder Heimwerkern den Zugang zur Plattform zu ermöglichen.  Ein ähnliches Angebot kam sogar in Chabrows Ministerpräsident. <br><br><h3>  Debuggen </h3><br>  Also haben wir es geschafft - die erste Version des RFS-DEV001.  Das Herzstück der Debug-Karte ist das RM10-Modul.  Basierend auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nRF52832-</a> Chip, der dem Bluetooth 5-Standard entspricht, unterstützt er Mesh-Netzwerke und Bluetooth Low Energy.  Außerdem wird beim Debuggen eine Echtzeituhr verwendet, drei Energieoptionen sind implementiert (Akku, USB von einem PC, extern von einer Stromquelle).  Zwei Tasten, ein Summer und eine RGB-Diode zum Signalisieren und Blinken.  Alle Komponenten auf der Platine werden aus denen ausgewählt, die jetzt in der Massenproduktion von Haushaltsgeräten verwendet werden. <br><br>  Zusätzlich zum Testen des Steuerungsschemas kann der Entwickler die Kosten für Komponenten sofort ermitteln und optimieren, was sich letztendlich auf den Preis seines Smart-Geräts auswirkt. <br><br><img src="https://habrastorage.org/webt/qj/xn/oj/qjxnojqwddazdxnzgy3gj6len-m.jpeg"><br><br>  Das Board ist praktisch für DIY-Stände, unter denen es auch solche gibt, für die das Programmieren keine Stärke ist oder die gerade erst anfangen zu lernen.  Wir sahen eine Gelegenheit, ihre Arbeit zu erleichtern, zum Beispiel das Board Arduino-kompatibel zu machen.  Es ist klar, dass dies ein Amateur- und Bildungsformat ist, aber seine Verwendung bricht zum einen die professionelle Arbeit mit dem Debuggen nicht ab und zum anderen erhöht es den Komfort von Fachleuten, die in den Beruf eintreten, erheblich. <br><br>  Es wäre durchaus möglich, die Gebühr für den Unterricht von Junior-Studenten auf Universitäten und spezialisierte technische Schulen zu verteilen und so einen Beitrag zu zukünftigen Fachleuten zu leisten. <br><br><div class="spoiler">  <b class="spoiler_title">Liste der garantiert funktionierenden Plug-Ins</b> <div class="spoiler_text"><ul><li>  Atmosphärendruck- und Temperatursensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BMP180</a> </li><li>  Atmosphärendruck- und Temperatursensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BMP280</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Feuchtigkeitssensor</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IR-</a> Sensor </li><li>  Gassensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MQ-135</a> </li><li>  Gassensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MQ-9</a> </li><li>  Bewegungssensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HC-SR505</a> </li><li>  Bewegungssensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HC-SR04</a> </li><li>  Neigungssensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SW-520D</a> </li><li>  Beschleunigungsmesser, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Magnetometer MPU9250</a> </li><li>  Beschleunigungsmesser, Magnetometer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GY-85</a> </li><li>  Licht- und Näherungssensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AP3216</a> </li><li>  Lichtintensitätssensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GY-2561</a> </li><li>  Gestenerkennungsmodul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">APDS-9960</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steuermotor-Steuermodul Arduino Motor Shield</a> </li><li>  Modul zum Anschließen hinzufügen.  USB <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arduino USB Host Shield</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arduino 4 Relais Schild</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Drahtloses SD-</a> Kartenmodul </li><li>  GSM (GPRS) -Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SIM900</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">LC12S</a> Transceiver </li><li>  433/868 MHz <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NRF905-Modul</a> </li><li>  IR-Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XY-MK-5V</a> </li><li>  RFID / NFC-Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PN532</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anzeige</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anzeige</a> </li><li>  GPS-Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIKROE-1032 GPS Klicken Sie auf</a> </li><li>  GLONASS-Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIKROE-1895 GNSS3</a> </li><li>  4x4 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIKROE-86</a> Tastaturmodul </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diodenarray MIKROE-1881</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adafruit NeoPixel Shield für Arduino</a> Diode Array </li><li>  Gleichzeitig planen wir die Freigabe unserer Module, auch auf Basis von Komponenten, die in der Massenproduktion eingesetzt werden.  Wenn Sie Ideen oder Vorschläge haben, schreiben Sie in die Kommentare, welche Module Sie möglicherweise benötigen. </li></ul><br></div></div><br><img src="https://habrastorage.org/webt/3c/wq/2t/3cwq2tm-xkqr-djumc_doqtksba.jpeg"><br><br><h3>  API </h3><br>  Da das Debuggen ohne Programmcode kein nützliches Stück Textolite ist, lohnt es sich, ein wenig über die API zu sprechen, die es dem Entwickler ermöglicht, sich beim Öffnen der Plattform auf die Funktionalität seines Geräts zu konzentrieren und von zahlreichen Bluetooth-Einstellungen usw. zu abstrahieren. <br><br>  Die R4S-API besteht also aus: <br><br><ul><li>  eine Reihe von Bibliotheken, die den Betrieb typischer und spezifischer Dienste ermöglichen, beispielsweise die Hauptbibliothek mit grundlegenden Bluetooth-Einstellungen und Bibliotheken, die sich auf die Funktionalität von Geräten konzentrieren; </li><li>  Beispiele für Geräte oder Funktionen, die in der API implementiert sind; </li><li>  Treiber für an die Debug-Karte angeschlossene Peripheriegeräte finden Sie in der obigen Liste. </li></ul><br>  Sie können sich die API-Funktionen am Beispiel der Erstellung von Lichteffekten mithilfe einer LED-Lampe durch eine sanfte Helligkeitsänderung mithilfe von Bezier-Kurven genauer ansehen. <br><br><img src="https://habrastorage.org/webt/fj/fs/3l/fjfs3lzggmwwcwgcl5fx2cezsbu.gif"><br>  <i><font color="gray">Nach dem Umschalten in den Peyring-Modus ändert die Glühbirne sanft die Farbe des Glühens</font></i> <br><br>  In der Hauptdatei müssen Sie die grundlegenden Informationen, z. B. Informationen zur Firmware, unabhängig ermitteln, die Einstellungen deklarieren (Speicherort des Bootloaders, Puffer zum Aktualisieren der Firmware usw.). <br><br><pre><code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/** Firmware information structure */</span></span> R4S_FW_INFO_DEF(application, <span class="hljs-number"><span class="hljs-number">0x26000</span></span>) = { .version = { .major = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (major) */</span></span> .minor = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (minor) */</span></span> }, .name = { <span class="hljs-comment"><span class="hljs-comment">/** Device name */</span></span> .name = "RGB Lightbulb", .len = sizeof("RGB Lightbulb") - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">/** Without \0 symbol at the end*/</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">/** The init structure with the device information wich required for ReadyForSky library. */</span></span> R4S_CONFIG_DEF(r4s_init_conf) = { .p_fw_info = &amp;application, .production_key = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** * The production key allows integrating the device into ReadyForSky infrastructure. * Contact support to get the production key for your device. */</span></span> .bootloader = { .start_address = <span class="hljs-number"><span class="hljs-number">0x7B000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Bootloader start address */</span></span> .mbr_param_page = <span class="hljs-number"><span class="hljs-number">0x7f000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** MBR param page address */</span></span> .fw_upgrade_buf = { <span class="hljs-comment"><span class="hljs-comment">/** The firmware upgrade buffer is used for background flashing. * The region size should more than softdevice + bootloader + application size + 4096 */</span></span> .p_api = &amp;nrf_fstorage_sd, <span class="hljs-comment"><span class="hljs-comment">/** fstorage api */</span></span> .start_addr = <span class="hljs-number"><span class="hljs-number">0x35000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** start address of firmware upgrade buffer */</span></span> .end_addr = <span class="hljs-number"><span class="hljs-number">0x78000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** end address of firmware upgrade buffer */</span></span> .chunk_size = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** default chunk size */</span></span> } }, .company_info = { .p_company_name = "Imperium of Mankind", }, .watchdog = { .timeout_ms = <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** If loop or priority will not finish after 5 seconds watchdog will reset microcontroller automatically */</span></span> }, .low_power_mode_enable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Low power ble settings */</span></span> }</code> </pre> <br>  Die Entwicklung des Geräts ähnelt der Entwicklung für Arduino.  Es gibt eine Setup-Funktion zum Initialisieren der Hauptmodule und der Schleife, in der die Verarbeitung stattfindet.  Die Anwendungsfunktionalität selbst ist in Module unterteilt - je nach ausgeführten Vorgängen. <br><br><pre> <code class="hljs java"><span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application initialisation * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> none */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ m_pairing_init(m_led_ctrl_pairing_handler); m_led_ctrl_init(); } <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application loop * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> true - sleep is not allowed * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> false - All modules have completed operation, the mcu can enter into sleep mode. (the next loop iteration will be after any interrupt) */</span></span> <span class="hljs-function"><span class="hljs-function">bool </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NRF_LOG_PROCESS(); }</code> </pre><br>  Nachdem die Ressourcen in der Datei („m_resources.c“) deklariert wurden, z. B. Lampenanimationen, Pinbelegungen (mehrere LED-Gruppen), Farben usw., bestimmt die Bibliothek den Rest der Parameter. <br><br><pre> <code class="hljs mel"><span class="hljs-comment"><span class="hljs-comment">/** Animation timer definition for m_rgb */</span></span> APP_TIMER_DEF(animation_timer_id); <span class="hljs-comment"><span class="hljs-comment">/** Leds pin map for m_rgb*/</span></span> static const r4s_rgb_ctrl_led_t m_leds_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_0_PIN, .green_pin = GREEN_LEDS_0_PIN, .blue_pin = BLUE_LEDS_0_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_1_PIN, .green_pin = GREEN_LEDS_1_PIN, .blue_pin = BLUE_LEDS_1_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_2_PIN, .green_pin = GREEN_LEDS_2_PIN, .blue_pin = BLUE_LEDS_2_PIN, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** PWM map for m_rgb */</span></span> static const r4s_rgb_ctrl_pwm_map_elem_t m_pwm_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm0, .p_pwm_green = &amp;pwm0, .p_pwm_blue = &amp;pwm0, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm1, .p_pwm_green = &amp;pwm1, .p_pwm_blue = &amp;pwm1, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm2, .p_pwm_green = &amp;pwm2, .p_pwm_blue = &amp;pwm2, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** RGB lamp definition */</span></span> R4S_RGB_CTRL_DEF(m_rgb, m_leds_map, m_pwm_map, &amp;animation_timer_id, LEDS_COUNT, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre><br>  Nach dem Verkleben empfängt die Anwendung Daten, die das Gerät ausführen kann, in unserem Fall eine Glühbirne, und zeigt die relevanten Informationen an. <br><br><img src="https://habrastorage.org/webt/v9/pt/n7/v9ptn7wkq4rorl-xsajelyco_1g.png" width="350" height="500"><br><br>  Darüber hinaus können Sie über die Anwendung die Parameter steuern - Intensität, Farbe, Temperatur usw. <br><br><img src="https://habrastorage.org/webt/fi/pb/1j/fipb1jnryioge5-h8dwtiik0llu.gif"><br>  <font color="gray"><i>Jetzt wird der Code für das Debuggen des Prototyps ausgearbeitet. Lassen Sie sich also nicht vom Unterschied zwischen der Platine und den oberen Bildern stören.</i></font> <br><br>  Zusätzliche Funktionen umfassen: <br><br><ul><li>  Multiconnect - mehrere Smartphones, die gleichzeitig mit dem Modul verbunden sind.  Diese Funktion verursacht möglicherweise Probleme, wenn Sie versuchen, das Gerät gleichzeitig zu steuern.  Wir haben versucht, diesen Problemen vorzubeugen, auch durch Benachrichtigungen auf allen angeschlossenen Smartphones. Wenn ein Parameter von einem Telefon geändert wird, werden Informationen über den neuen Parameterwert sofort an die anderen gesendet. </li><li>  Schnelles Blinken - Die Größe des über Bluetooth übertragenen Pakets hängt von der <abbr title="Maximale Übertragungseinheit">MTU ab</abbr> .  Mit zunehmender MTU wird der Flash-Prozess schneller, wenn die Paketgröße zunimmt. </li><li>  Eine Liste typischer Fehler, die durch die Funktion des Mikrocontrollers bestimmt werden.  Wenn ein Fehler erkannt wird, wird ein Text wie „Nicht genügend Speicher für Softdevice.  Für weitere Informationen aktivieren Sie das SDM-Debug. ". </li></ul><br>  Um mit dem Debuggen arbeiten zu können, wird eine R4S-Engineering-Anwendung mit den gleichen Funktionen wie normal freigegeben, aber über diese wird die Karte gesteuert.  Im Prinzip können Sie über eine technische Anwendung zusammengebaute Geräte in Ihrer Wohnung verwalten - ein schönes Teil für Heimwerker.  Dies sollte unerfahrenen Entwicklern helfen, das Gerät zu unterstützen.  In der Hauptanwendung von R4S erscheint ein solches Gerät nach Koordination und Qualitätskontrolle unsererseits. <br><br>  Wir werden das Debuggen auch in der täglichen Arbeit des Unternehmens einsetzen, auch bei der Schulung neuer Mitarbeiter.  Habrovchane, wie Sie denken, wird abheben?  Würden Sie daran interessiert sein, mit einem solchen Debugging zu arbeiten? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429822/">https://habr.com/ru/post/de429822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429812/index.html">Apple: Der T2-Coprozessor kann die DIY-Reparatur neuer MacBook und MacMini blockieren</a></li>
<li><a href="../de429814/index.html">Wenn Java endgültig stirbt, was zu tun ist und was mit JPoint geschehen wird</a></li>
<li><a href="../de429816/index.html">OpenSceneGraph: Build aus Quelle und Hello World</a></li>
<li><a href="../de429818/index.html">Intel Vision Accelerator - Deep Learning in jedem Zuhause</a></li>
<li><a href="../de429820/index.html">Das HTTP-over-QUIC-Protokoll wird offiziell zu HTTP / 3</a></li>
<li><a href="../de429824/index.html">CI für Frontend: Gitlab, Traefik, Docker</a></li>
<li><a href="../de429826/index.html">Tragbare „Batterien“: Textile Mikrosuperkondensatoren auf Basis von PEDOT-Cl</a></li>
<li><a href="../de429828/index.html">(Nicht nur) Neuling: Universität. Unterricht 2.0</a></li>
<li><a href="../de429832/index.html">Übersetzung von Andrew Un's Buch, Leidenschaft für maschinelles Lernen, Kapitel 28 - 29</a></li>
<li><a href="../de429836/index.html">Auf Wiedersehen, Electron. Hallo Desktop-PWA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>