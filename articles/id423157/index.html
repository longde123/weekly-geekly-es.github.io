<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✴️ 🧑🏾‍🤝‍🧑🏾 😷 Menggunakan fungsi connect () dari react-redux 🤛🏿 ➰ 🛡️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel, yang kami terbitkan hari ini, akan membahas cara membuat komponen kontainer dalam aplikasi Bereaksi yang terkait dengan keadaan Redux. Materi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menggunakan fungsi connect () dari react-redux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423157/">  Artikel, yang kami terbitkan hari ini, akan membahas cara membuat komponen kontainer dalam aplikasi Bereaksi yang terkait dengan keadaan Redux.  Materi ini didasarkan pada deskripsi mekanisme manajemen negara dalam Bereaksi menggunakan paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">react-redux</a> .  Diasumsikan bahwa Anda sudah memiliki pemahaman dasar tentang arsitektur dan API perpustakaan yang akan kita bicarakan.  Jika tidak, lihat dokumentasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bereaksi</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Redux</a> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/35f/0eb/fea/35f0ebfea2178696cb95ede9f78407c9.jpg" alt="gambar"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Tentang manajemen negara dalam aplikasi JavaScript</font> </h2><br>  Bereaksi menyediakan pengembang dengan dua mekanisme utama untuk mentransfer data ke komponen.  Ini adalah properti (properti) dan status.  Properti hanya baca dan memungkinkan komponen induk meneruskan atribut ke komponen turunan.  Status adalah entitas lokal yang dienkapsulasi dalam komponen yang dapat berubah kapan saja dalam siklus hidup komponen. <br><br>  Karena keadaan adalah mekanisme yang sangat berguna yang digunakan untuk membuat aplikasi Bereaksi dinamis yang kuat, maka perlu untuk mengelolanya dengan baik.  Saat ini ada beberapa perpustakaan yang menyediakan arsitektur yang terstruktur dengan baik untuk mengelola kesehatan aplikasi.  Diantaranya adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Flux</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Redux</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MobX</a> . <br><br>  Redux adalah perpustakaan yang dirancang untuk membuat wadah yang digunakan untuk menyimpan status aplikasi.  Ini menawarkan alat manajemen negara dimengerti pengembang yang berperilaku diprediksi.  Perpustakaan ini cocok untuk aplikasi yang ditulis dalam JavaScript murni, serta untuk proyek dalam pengembangan yang beberapa kerangka kerja digunakan.  Redux berukuran kecil, tetapi memungkinkan Anda untuk menulis aplikasi yang andal yang bekerja di lingkungan yang berbeda. <br><br>  Inilah cara membuat repositori Redux: <br><br><pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStore } from <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = {    auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore((state = initialState, action) =&gt; {    switch (action.type) {        case <span class="hljs-string"><span class="hljs-string">"LOG_IN"</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } };            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;        case <span class="hljs-string"><span class="hljs-string">"LOG_OUT"</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } };            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;        <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state;            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;    }    })</code> </pre> <br><h2>  <font color="#3AC1EF">Paket react-redux</font> </h2><br>  Paket react-redux menyediakan binding Bereaksi untuk wadah negara Redux, membuatnya sangat mudah untuk menghubungkan aplikasi Bereaksi ke repositori Redux.  Ini memungkinkan Anda untuk memisahkan komponen aplikasi Bereaksi berdasarkan hubungannya dengan repositori.  Yaitu, kita berbicara tentang jenis komponen berikut: <br><br><ol><li>  Komponen presentasi.  Mereka hanya bertanggung jawab atas penampilan aplikasi dan tidak mengetahui keadaan Redux.  Mereka menerima data melalui properti dan dapat memanggil panggilan balik, yang juga diteruskan kepada mereka melalui properti. </li><li>  Komponen Kontainer.  Mereka bertanggung jawab atas pengoperasian mekanisme internal aplikasi dan berinteraksi dengan keadaan Redux.  Mereka sering dibuat menggunakan react-redux, mereka dapat mengirim tindakan Redux.  Selain itu, mereka berlangganan perubahan negara. </li></ol><br>  Rincian tentang pendekatan ini dengan pembagian tanggung jawab komponen dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Pada artikel ini, kita terutama akan berbicara tentang komponen kontainer yang terhubung ke kondisi Redux menggunakan react-redux. <br><br>  Paket react-redux memiliki antarmuka yang sangat sederhana.  Secara khusus, hal yang paling menarik tentang antarmuka ini adalah sebagai berikut: <br><br><ol><li>  <code>&lt;Provider store&gt;</code> - memungkinkan Anda membuat pembungkus untuk aplikasi Bereaksi dan membuat status Redux tersedia untuk semua komponen kontainer dalam hierarki. </li><li>  <code>connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])</code> - memungkinkan Anda membuat komponen tingkat tinggi.  Ini diperlukan untuk membuat komponen kontainer berdasarkan komponen Bereaksi dasar. </li></ol><br>  Instal react-redux untuk menggunakan paket ini dalam proyek sebagai berikut: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> react-redux <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br>  Berdasarkan asumsi bahwa Anda telah mengkonfigurasi repositori Redux untuk aplikasi React Anda, berikut adalah contoh menghubungkan aplikasi ke repositori Redux: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Provider } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> createStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./createReduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rootElement = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>); ReactDOM.render(( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">AppRootComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ), rootElement);</code> </pre> <br>  Sekarang Anda dapat membuat komponen kontainer yang terhubung ke repositori Redux.  Ini dilakukan dalam hierarki <code>AppRootComponent</code> menggunakan API <code>connect()</code> . <br><br><h2>  <font color="#3AC1EF">Kapan menggunakan connect ()?</font> </h2><br><h3>  <font color="#3AC1EF">▍Membuat komponen kontainer</font> </h3><br>  Seperti yang telah disebutkan, API reaksi-redux <code>connect()</code> digunakan untuk membuat komponen kontainer yang terhubung ke repositori Redux.  Penyimpanan yang Anda sambungkan diperoleh dari leluhur komponen paling atas menggunakan mekanisme konteks Bereaksi.  Fungsi <code>connect()</code> tidak diperlukan jika Anda hanya membuat komponen presentasi. <br><br>  Jika Anda, dalam komponen Bereaksi, perlu menerima data dari penyimpanan, atau Anda perlu mengirim tindakan, atau Anda perlu melakukan keduanya, Anda dapat mengubah komponen biasa menjadi komponen wadah dengan membungkusnya dalam komponen urutan tinggi yang dikembalikan dengan <code>connect()</code> dari reaksi-redux.  Begini tampilannya: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Profile <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Profile'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ProfileContainer(props) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   props.loggedIn     ? &lt;Profile profile={props.profile} /&gt;     : &lt;div&gt;Please <span class="hljs-keyword"><span class="hljs-keyword">login</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> profile.&lt;/div&gt; ) } const mapStateToProps = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(state) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   profile: state.<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.profile,   loggedIn: state.auth.loggedIn } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(mapStateToProps)(ProfileContainer);</code> </pre> <br><h3>  <font color="#3AC1EF">▍ Menghilangkan kebutuhan untuk berlangganan penyimpanan Redux secara manual</font> </h3><br>  Anda dapat membuat komponen kontainer sendiri dan secara manual menandatangani komponen pada repositori Redux menggunakan perintah <code>store.subscribe()</code> .  Namun, menggunakan fungsi <code>connect()</code> berarti menerapkan beberapa peningkatan kinerja dan optimisasi yang mungkin tidak dapat Anda gunakan saat menggunakan mekanisme lain. <br><br>  Dalam contoh berikut, kami mencoba membuat komponen kontainer secara manual dan menghubungkannya ke repositori Redux dengan berlangganan.  Di sini kami berusaha menerapkan fungsi yang sama seperti yang ditunjukkan pada contoh sebelumnya. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } from <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store from <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Profile from <span class="hljs-string"><span class="hljs-string">'./components/Profile'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProfileContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getCurrentStateFromStore() getCurrentStateFromStore() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {     profile: store.getState().user.profile,     loggedIn: store.getState().auth.loggedIn   } } updateStateFromStore = () =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currentState = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getCurrentStateFromStore();     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state !== currentState) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(currentState);   } } componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.unsubscribeStore = store.subscribe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateStateFromStore); } componentWillUnmount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.unsubscribeStore(); } render() {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { loggedIn, profile } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state;     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     loggedIn       ? &lt;Profile profile={profile} /&gt;       : &lt;div&gt;Please login to view profile.&lt;/div&gt;   ) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> ProfileContainer;</code> </pre> <br>  Selain itu, fungsi <code>connect()</code> memberikan fleksibilitas tambahan kepada pengembang, memungkinkan Anda mengonfigurasi komponen kontainer untuk menerima properti dinamis berdasarkan pada properti yang semula diberikan kepada mereka.  Ini ternyata sangat berguna untuk mendapatkan seleksi dari keadaan berdasarkan properti, atau untuk menghubungkan generator tindakan ke variabel tertentu dari properti. <br><br>  Jika aplikasi Bereaksi Anda menggunakan beberapa repositori Redux, kemudian <code>connect()</code> membuatnya mudah untuk menentukan repositori spesifik tempat komponen kontainer harus dihubungkan. <br><br><h2>  <font color="#3AC1EF">Anatomi terhubung ()</font> </h2><br>  Fungsi <code>connect()</code> disediakan oleh paket react-redux dapat memakan waktu hingga empat argumen, yang masing-masing opsional.  Setelah memanggil fungsi <code>connect()</code> , komponen tingkat tinggi dikembalikan yang dapat digunakan untuk membungkus komponen Bereaksi. <br><br>  Karena fungsi mengembalikan komponen tingkat tinggi, ia perlu dipanggil lagi, melewati komponen Bereaksi dasar untuk mengubahnya menjadi komponen wadah: <br><br><pre> <code class="hljs lisp">const ContainerComponent = connect()(<span class="hljs-name"><span class="hljs-name">BaseComponent</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  Berikut adalah tanda tangan dari fungsi <code>connect()</code> : <br><br><pre> <code class="hljs powershell">connect([<span class="hljs-type"><span class="hljs-type">mapStateToProps</span></span>], [<span class="hljs-type"><span class="hljs-type">mapDispatchToProps</span></span>], [<span class="hljs-type"><span class="hljs-type">mergeProps</span></span>], [<span class="hljs-type"><span class="hljs-type">options</span></span>])</code> </pre> <br><h3>  <font color="#3AC1EF">▍ Argumen mapStateToProps</font> </h3><br>  Argumen <code>mapStateToProps</code> adalah fungsi yang mengembalikan objek biasa atau fungsi lainnya.  Melewati argumen <code>connect()</code> berlangganan komponen container ke pembaruan repositori Redux.  Ini berarti bahwa fungsi <code>mapStateToProps</code> akan dipanggil setiap kali status repositori berubah.  Jika Anda tidak tertarik untuk memantau pembaruan status, berikan <code>connect()</code> sebagai nilai argumen ini ke <code>undefined</code> atau <code>null</code> . <br><br>  Fungsi <code>mapStateToProps</code> dideklarasikan dengan dua parameter, yang kedua adalah opsional.  Parameter pertama adalah keadaan repositori Redux saat ini.  Parameter kedua, jika dilewatkan, adalah objek dari properti yang diteruskan ke komponen: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">profile</span></span>: state.user.profile,   <span class="hljs-attr"><span class="hljs-attr">loggedIn</span></span>: state.auth.loggedIn } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> connect(mapStateToProps)(ProfileComponent);</code> </pre> <br>  Jika objek biasa dikembalikan dari <code>mapStateToProps</code> , maka objek <code>stateProps</code> dikembalikan dikombinasikan dengan properti komponen.  Anda dapat mengakses properti ini di komponen sebagai berikut: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProfileComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   props.loggedIn     ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Profile</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">profile</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{props.profile}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">     : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Please login to view profile.</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) }</span></span></code> </pre> <br>  Jika <code>mapStateToProps</code> mengembalikan fungsi, maka fungsi ini digunakan sebagai <code>mapStateToProps</code> untuk setiap instance komponen.  Ini bisa berguna untuk meningkatkan kinerja rendering dan untuk memoizing. <br><br><h3>  <font color="#3AC1EF">▍ argumen mapDispatchToProps</font> </h3><br>  Argumen <code>mapDispatchToProps</code> bisa berupa objek atau fungsi yang mengembalikan objek biasa atau fungsi lainnya.  Untuk menggambarkan <code>mapDispatchToProps</code> dengan lebih baik, kita membutuhkan generator tindakan.  Misalkan kita memiliki generator berikut: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comment</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ comment, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'WRITE_COMMENT'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> updateComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, comment</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ id, comment, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'UPDATE_COMMENT'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> deleteComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ id, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'DELETE_COMMENT'</span></span> });</code> </pre> <br>  Sekarang pertimbangkan berbagai kegunaan <code>mapDispatchToProps</code> . <br><br><h4>  Implementasi standar bawaan </h4><br>  Jika Anda tidak menggunakan implementasi <code>mapDispatchToProps</code> Anda sendiri, yang diwakili oleh objek atau fungsi, implementasi standar akan digunakan, yang akan mengimplementasikan metode repositori <code>dispatch()</code> sebagai properti untuk komponen.  Anda dapat menggunakan properti ini dalam komponen seperti ini: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { updateComment, deleteComment } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; //    props.dispatch() const editComment = () =&gt; props.dispatch(updateComment(id, content)); const removeComment = () =&gt; props.dispatch(deleteComment(id)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>()(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h4>  Transfer objek </h4><br>  Jika suatu objek digunakan sebagai argumen untuk <code>mapDispatchToProps</code> , maka setiap fungsi dalam objek akan ditafsirkan sebagai generator tindakan Redux dan dibungkus dengan panggilan ke metode repositori <code>dispatch()</code> , yang akan memungkinkannya untuk dipanggil secara langsung.  Objek yang dihasilkan dengan action generator, <code>dispatchProps</code> , akan dikombinasikan dengan sifat-sifat komponen. <br><br>  Contoh berikut menunjukkan contoh membangun argumen <code>mapDispatchToProps</code> , yang merupakan objek dengan generator tindakan, serta bagaimana generator dapat digunakan sebagai properti komponen Bereaksi: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { updateComment, deleteComment } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; // ,   ,   const editComment = () =&gt; props.updatePostComment(id, content); const removeComment = () =&gt; props.deletePostComment(id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } //     const mapDispatchToProps = { updatePostComment: updateComment, deletePostComment: deleteComment } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, mapDispatchToProps)(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h4>  Transfer fungsi </h4><br>  Saat menggunakan fungsi <code>mapDispatchToProps</code> sebagai argumen <code>mapDispatchToProps</code> programmer harus berhati-hati mengembalikan objek <code>dispatchProps</code> , yang mengimplementasikan pengikatan generator tindakan menggunakan metode penyimpanan <code>dispatch()</code> .  Fungsi ini menerima, sebagai parameter pertama, metode <code>dispatch()</code> repositori.  Seperti halnya <code>mapStateToProps</code> , fungsi ini juga dapat menerima parameter opsional <code>ownProps</code> kedua, yang menjelaskan pemetaan dengan properti asli yang diteruskan ke komponen. <br><br>  Jika fungsi ini mengembalikan fungsi lain, maka fungsi yang dikembalikan digunakan sebagai <code>mapDispatchToProps</code> , yang dapat berguna untuk meningkatkan kinerja rendering dan memoisasi. <br><br>  Fungsi pembantu <code>bindActionCreators()</code> dari Redux dapat digunakan di dalam fungsi ini untuk mengikat generator tindakan ke metode repositori <code>dispatch()</code> . <br><br>  Contoh berikut menunjukkan penggunaan, dalam peran <code>mapDispatchToProps</code> , dari suatu fungsi.  Ini juga menunjukkan pekerjaan dengan fungsi bantu <code>bindActionCreators()</code> , yang digunakan untuk mengikat generator tindakan untuk bekerja dengan komentar pada <code>props.actions</code> dari komponen React: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { bindActionCreators } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> commentActions <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; const { updateComment, deleteComment } = props.actions; //    props.actions const editComment = () =&gt; updateComment(id, content); const removeComment = () =&gt; deleteComment(id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } const mapDispatchToProps = (dispatch) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   actions: bindActionCreators(commentActions, dispatch) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, mapDispatchToProps)(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h3>  <font color="#3AC1EF">▍Artumen mergeProps</font> </h3><br>  Jika argumen <code>mergeProps</code> dilewatkan untuk <code>connect()</code> , maka itu adalah fungsi yang mengambil tiga parameter berikut: <br><br><ul><li>  <code>stateProps</code> adalah objek properti yang dikembalikan dari panggilan <code>mapStateToProps()</code> . </li><li>  <code>dispatchProps</code> - objek properti dengan generator tindakan dari <code>mapDispatchToProps()</code> . </li><li>  <code>ownProps</code> - Properti asli yang diperoleh komponen. </li></ul><br>  Fungsi ini mengembalikan objek sederhana dengan properti yang akan diteruskan ke komponen yang dibungkus.  Ini berguna untuk memetakan bagian kondisi repositori Redux atau generator aksi berbasis properti secara kondisional. <br><br>  Jika <code>connect()</code> tidak melewati fungsi ini, maka implementasi standarnya digunakan: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergeProps = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stateProps, dispatchProps, ownProps</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, ownProps, stateProps, dispatchProps) }</code> </pre> <br><h3>  <font color="#3AC1EF">▍Argenda yang merepresentasikan objek dengan parameter</font> </h3><br>  Objek opsional, diteruskan ke fungsi <code>connect()</code> sebagai argumen keempat, berisi parameter yang dirancang untuk mengubah perilaku fungsi ini.  Jadi, <code>connect()</code> adalah implementasi khusus dari fungsi <code>connectAdvanced()</code> , ia menerima sebagian besar parameter yang tersedia untuk <code>connectAdvanced()</code> , serta beberapa parameter tambahan. <br><br>  <a href="">Berikut adalah</a> halaman dokumentasi, setelah membaca yang mana Anda dapat mengetahui parameter apa yang dapat digunakan dengan <code>connect()</code> , dan bagaimana mereka memodifikasi perilaku fungsi ini. <br><br><h2>  <font color="#3AC1EF">Menggunakan Fungsi connect ()</font> </h2><br><h3>  <font color="#3AC1EF">▍Buat penyimpanan</font> </h3><br>  Sebelum mengubah komponen Bereaksi menjadi komponen kontainer menggunakan <code>connect()</code> , Anda perlu membuat repositori Redux yang mana komponen ini akan terhubung. <br><br>  Misalkan kita memiliki komponen wadah <code>NewComment</code> , yang digunakan untuk menambahkan komentar baru ke publikasi, dan, di samping itu, menampilkan tombol untuk mengirim komentar.  Kode yang menggambarkan komponen ini mungkin terlihat seperti ini: <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">React</span></span> from <span class="hljs-symbol"><span class="hljs-symbol">'reac</span></span>t'; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { connect } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-redux'; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewComment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ input = <span class="hljs-literal"><span class="hljs-literal">null</span></span> writeComment = evt =&gt; {   evt.preventDefault();   const comment = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.input.value;     comment &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.dispatch({ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: <span class="hljs-symbol"><span class="hljs-symbol">'WRITE_COMMEN</span></span>T', comment }); } render() {   const { id, content } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.comment;     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;input <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"text"</span></span> ref={e =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.input = e} placeholder=<span class="hljs-string"><span class="hljs-string">"Write a comment"</span></span> /&gt;       &lt;button <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.writeComment}&gt;<span class="hljs-type"><span class="hljs-type">Submit</span></span> <span class="hljs-type"><span class="hljs-type">Comment</span></span>&lt;/button&gt;     &lt;/div&gt;   ) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> connect()(<span class="hljs-type"><span class="hljs-type">NewComment</span></span>);</code> </pre> <br>  Agar komponen ini dapat digunakan dalam aplikasi, perlu untuk menggambarkan repositori Redux yang komponen ini harus terhubung.  Kalau tidak, kesalahan akan terjadi.  Ini dapat dilakukan dengan dua cara, yang sekarang akan kita pertimbangkan. <br><br><h4>  Mengatur properti toko dalam komponen wadah </h4><br>  Cara pertama untuk melengkapi komponen dengan repositori Redux adalah dengan memberikan tautan ke repositori tersebut sebagai nilai properti <code>store</code> komponen: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NewComment <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/NewComment'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommentsApp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">NewComment</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><h4>  Mengatur properti toko di komponen &lt;Provider&gt; </h4><br>  Jika Anda ingin mengatur repositori Redux untuk aplikasi hanya sekali, maka Anda akan tertarik pada metode yang sekarang akan kita pertimbangkan.  Biasanya cocok untuk aplikasi yang hanya menggunakan satu repositori Redux. <br><br>  Paket react-redux memberi pengembang komponen <code>&lt;Provider&gt;</code> , yang dapat digunakan untuk membungkus komponen root aplikasi.  Ia menerima properti <code>store</code> .  Diasumsikan bahwa itu adalah tautan ke repositori Redux yang rencananya akan digunakan dalam aplikasi.  Properti <code>store</code> diteruskan, sesuai dengan hierarki aplikasi, ke komponen kontainer, menggunakan mekanisme konteks Bereaksi: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Provider } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NewComment <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/NewComment'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommentsApp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">NewComment</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> } ReactDOM.render(( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">CommentsApp</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ), document.getElementById('root'))</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍OpenProps Access Organization</font> </h3><br>  Seperti yang telah disebutkan, fungsi <code>mapStateToProps</code> dan <code>mapDispatchToProps</code> <code>mapStateToProps</code> untuk <code>connect()</code> dapat dideklarasikan dengan parameter kedua <code>ownProps</code> , yang merupakan properti komponen. <br>  Namun, ada satu masalah.  Jika jumlah parameter yang diperlukan dari fungsi yang dideklarasikan kurang dari 2, maka <code>ownProps</code> tidak akan dikirimkan.  Tetapi jika suatu fungsi dideklarasikan tanpa parameter yang diperlukan atau dengan setidaknya 2 parameter, <code>ownProps</code> akan diteruskan. <br><br>  Pertimbangkan beberapa opsi untuk bekerja dengan <code>ownProps</code> . <br><br><h4>  Deklarasi fungsi tanpa parameter </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// state console.log(arguments[1]); // ownProps };</span></span></code> </pre> <br>  Dalam situasi ini, <code>ownProps</code> dilewatkan, karena fungsi tersebut dinyatakan tanpa parameter yang diperlukan.  Akibatnya, kode berikut yang ditulis menggunakan sintaks baru untuk parameter ES6 yang tersisa akan berfungsi: <br><br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-rest_arg"><span class="hljs-function"><span class="hljs-params"><span class="hljs-rest_arg">...args</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ console.log(args[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// state console.log(args[1]); // ownProps };</span></span></code> </pre> <br><h4>  Deklarasi fungsi dengan satu parameter </h4><br>  Perhatikan contoh berikut: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(arguments[1]); // undefined };</span></span></code> </pre> <br>  Hanya ada satu parameter, <code>state</code> .  Akibatnya, <code>arguments[1]</code> mengambil nilai yang <code>undefined</code> karena fakta bahwa <code>ownProps</code> tidak ditransmisikan. <br><br><h4>  Deklarasi fungsi dengan parameter default </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, ownProps = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(ownProps); // {} };</span></span></code> </pre> <br>  Hanya ada satu parameter yang diperlukan, <code>state</code> , karena parameter kedua, <code>ownProps</code> , adalah opsional karena memiliki nilai default.  Akibatnya, karena hanya ada satu parameter yang diperlukan, <code>ownProps</code> tidak lulus, dan pemetaan dilakukan dengan nilai default yang ditetapkan untuknya, yaitu, dengan objek kosong. <br><br><h4>  Mendeklarasikan fungsi dengan dua parameter </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, ownProps</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(ownProps); // ownProps };</span></span></code> </pre> <br>  Semuanya diatur dengan sangat sederhana.  Yaitu, dalam situasi seperti itu, transfer <code>ownProps</code> karena fakta bahwa fungsi tersebut dideklarasikan dengan dua parameter yang diperlukan. <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Setelah menguasai materi ini, Anda belajar tentang kapan dan bagaimana menggunakan API <code>connect()</code> disediakan oleh paket react-redux dan dirancang untuk membuat komponen kontainer yang terhubung ke status Redux.  Di sini kami berbicara dalam beberapa detail tentang struktur fungsi <code>connect()</code> dan cara bekerja dengannya, namun, jika Anda ingin mempelajari lebih lanjut tentang mekanisme ini, khususnya, membiasakan diri dengan kasus penggunaannya, lihatlah bagian <a href="">ini</a> pada dokumentasi reux-redux. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda menggunakan react-redux dalam proyek Anda? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423157/">https://habr.com/ru/post/id423157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423147/index.html">Tentang strategi dan format penyimpanan di era Hadoop</a></li>
<li><a href="../id423149/index.html">Perbandingan langsung metode koreksi miopia laser atau apa yang Anda bayar saat memilih ReLEx SMILE</a></li>
<li><a href="../id423151/index.html">Objek global dalam PHP</a></li>
<li><a href="../id423153/index.html">Panduan Node.js, Bagian 2: JavaScript, V8, Beberapa Trik Pengembangan</a></li>
<li><a href="../id423155/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 8: Model Keamanan Jaringan, Bagian 2</a></li>
<li><a href="../id423159/index.html">Selamat Hari Programmer! Cintai pengembang Anda</a></li>
<li><a href="../id423161/index.html">Bisnis menginginkan data pribadi</a></li>
<li><a href="../id423163/index.html">Menghubungkan CryptoPro ke Mono</a></li>
<li><a href="../id423165/index.html">Gambar jala dinamis dalam Mesin Unreal 4</a></li>
<li><a href="../id423167/index.html">Apa yang Mark Zuckerberg bicarakan tentang masalah Facebook. Hal utama dari artikel The New Yorker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>