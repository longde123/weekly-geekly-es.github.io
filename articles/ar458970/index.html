<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ฟ ๐๐ป ๐ ุจุงุณุชุฎุฏุงู UIViewPropertyAnimator ูุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุฎุตุตุฉ ๐๐ฝ ๐ด ๐ฅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุฑุงุฆุน. ุฅููุง ุฌุฒุก ููู ูู ุฅุฑุดุงุฏุงุช ูุงุฌูุฉ ุงูุฅูุณุงู ููุธุงู ุงูุชุดุบูู iOS . ุชุณุงุนุฏ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุฌุฐุจ ุงูุชุจุงู ุงููุณุชุฎุฏู ุฅูู ุงูุฃุดูุงุก ุงููููุฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจุงุณุชุฎุฏุงู UIViewPropertyAnimator ูุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุฎุตุตุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458970/" style=";text-align:right;direction:rtl"> ุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุฑุงุฆุน.  ุฅููุง ุฌุฒุก ููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฑุดุงุฏุงุช ูุงุฌูุฉ ุงูุฅูุณุงู ููุธุงู ุงูุชุดุบูู iOS</a> .  ุชุณุงุนุฏ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุฌุฐุจ ุงูุชุจุงู ุงููุณุชุฎุฏู ุฅูู ุงูุฃุดูุงุก ุงููููุฉ ุฃู ุจุจุณุงุทุฉ ุฌุนู ุงูุชุทุจูู ุฃูู ูููุฉ. <br><br>  ููุงู ุนุฏุฉ ุทุฑู ูุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ูุธุงู iOS.  ุฑุจูุง ุชููู ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนูุง ูู ุงุณุชุฎุฏุงู <i>UIView.animate (withDuration: animations :)</i> .  ููููู ุชุญุฑูู ุทุจูุฉ ุตูุฑุฉ ุจุงุณุชุฎุฏุงู <b>CABasicAnimation</b> .  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุณูุญ ูู UIKit ุจุชูููู ุฑุณูู ูุชุญุฑูุฉ ูุฎุตุตุฉ ูุนุฑุถ ูุญุฏุฉ ุงูุชุญูู ุจุงุณุชุฎุฏุงู <b>UIViewControllerTransitioningDelegate</b> . <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุฃุฑูุฏ ููุงูุดุฉ ุทุฑููุฉ ุฃุฎุฑู ูุซูุฑุฉ ูุชุญุฑูู ุงููุดุงูุฏุงุช - <b>UIViewPropertyAnimator</b> .  ุชููุฑ ูุฐู ุงููุฆุฉ ุงูุนุฏูุฏ ูู ูุธุงุฆู ุงูุฅุฏุงุฑุฉ ุฃูุซุฑ ูู ุณุงุจูุชูุง ุ <i>UIView.animat</i> e.  ุงุณุชุฎุฏููุง ูุฅูุดุงุก ุฑุณูู ูุชุญุฑูุฉ ูุคูุชุฉ ูุชูุงุนููุฉ ูููุงุทุนุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุงููููู ุชุบููุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุณุฑุนุฉ. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุชูุฏูู UIViewPropertyAnimator </h3><br>  ุชู ุชูุฏูู <b>UIViewPropertyAnimator</b> ูู <b>iOS 10</b> .  ุงููุง ุชุณูุญ ูู ูุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุทุฑููุฉ ูุฌูู ุงูููุญู.  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ููุฑุณูู ุงููุชุญุฑูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู <b>UIViewPropertyAnimator</b> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/284/201/7c2/2842017c24a19653c9be8f14b4f13bfc.gif" alt="ุตูุฑุฉ"><br><br>  ููุฐุง ูุงู ุงูุญุงู ุนูุฏ ุงุณุชุฎุฏุงู UIView. <br><br><pre style=";text-align:right;direction:rtl"><code class="swift hljs"><span class="hljs-type"><span class="hljs-type">UIView</span></span>.animate(withDuration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>) { view.frame = view.frame.offsetBy(dx: <span class="hljs-number"><span class="hljs-number">100</span></span>, dy: <span class="hljs-number"><span class="hljs-number">0</span></span>) }</code> </pre> <br>  ูุฅููู ููููุฉ ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู <b>UIViewPropertyAnimator</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> animator = <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration:<span class="hljs-number"><span class="hljs-number">0.3</span></span>, curve: .linear) { view.frame = view.frame.offsetBy(dx:<span class="hljs-number"><span class="hljs-number">100</span></span>, dy:<span class="hljs-number"><span class="hljs-number">0</span></span>) } animator.startAnimation()</code> </pre><br>  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชุญูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุ ููุง ุนููู ุณูู ุฅูุดุงุก ููุนุจ ูุชุดุบูู ุงูุดูุฑุฉ ููุง ูู ููุถุญ ุฃุฏูุงู.  ููุง ุดุธุงูุง ุฑูุฒ ุณูุคุฏู ุฅูู ููุณ ุงููุชูุฌุฉ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1a/1fb/515/f1a1fb51597dadf93c4155dc59d8164d.png" alt="ุตูุฑุฉ"><br><br>  ูุฏ ุชุนุชูุฏ ุฃูู ูู ูุฐุง ุงููุซุงู ูุง ููุฌุฏ ูุฑู ูุจูุฑ.  ููุง ุงููุงุฆุฏุฉ ูู ุฅุถุงูุฉ ุทุฑููุฉ ุฌุฏูุฏุฉ ูุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉุ  ุชุตุจุญ <b>UIViewPropertyAnimator</b> ุฃูุซุฑ ูุงุฆุฏุฉ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุฑุณูู ูุชุญุฑูุฉ ุชูุงุนููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุชูุงุนููุฉ ูุงููุชูุทุนุฉ </h3><br>  ูู ุชุชุฐูุฑ ููุชุฉ "Finger Swipe to Unlock Device" ุงูููุงุณูููุฉุ  ุฃู ุงูุฅููุงุกุฉ "ุญุฑู ุฅุตุจุนู ุนูู ุงูุดุงุดุฉ ูู ุฃุณูู ุฅูู ุฃุนูู" ููุชุญ ูุฑูุฒ ุงูุชุญููุ  ูุฐู ุฃูุซูุฉ ุฑุงุฆุนุฉ ููุฑุณูู ุงููุชุญุฑูุฉ ุงูุชูุงุนููุฉ.  ููููู ุงูุจุฏุก ูู ุชุญุฑูู ุงูุตูุฑุฉ ุจุฅุตุจุนู ุ ุซู ุญุฑุฑูุง ูุณุชุนูุฏ ุงูุตูุฑุฉ ุฅูู ูุถุนูุง ุงูุฃุตูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ุงูุชูุงุท ุงูุตูุฑุฉ ุฃุซูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุชุงุจุนุฉ ุชุญุฑูููุง ุจุฅุตุจุนู. <br><br>  ูุง ุชููุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ UIView ุทุฑููุฉ ุณููุฉ ููุชุญูู ูู ุงููุณุจุฉ ุงููุฆููุฉ ูุฅูุฌุงุฒ ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ูุง ููููู ุฅููุงู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ููุชุตู ุงูุญููุฉ ููุชุงุจุนุฉ ุชูููุฐูุง ุจุนุฏ ุงูููุงุทุนุฉ. <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชุญุฏุซ ุนู <b>UIViewPropertyAnimator</b> .  ุจุนุฏ ุฐูู ุ ุณููุธุฑ ูู ููู ููููู ุจุณูููุฉ ุฅูุดุงุก ุฑุณูู ูุชุญุฑูุฉ ุชูุงุนููุฉ ุจุงููุงูู ูููุงุทุนุฉ ูุงูุนูุงุณ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุฎุทูุงุช ููููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ูุดุฑูุน ุงูุฅุทูุงู </h3><br>  ุชุญุชุงุฌ ุฃููุงู ุฅูู <a href="">ุชูุฒูู ูุดุฑูุน ุจุฏุก ุงูุชุดุบูู</a> .  <b>ุจูุฌุฑุฏ</b> ูุชุญ ุงูุฃุฑุดูู ุ ุณุชุฌุฏ ุชุทุจูู <b>CityGuide</b> ุงูุฐู ูุณุงุนุฏ ุงููุณุชุฎุฏููู ุนูู ุงูุชุฎุทูุท ููุถุงุก ุนุทูุงุชูู.  ูููู ูููุณุชุฎุฏู ุงูุชูุฑูุฑ ุฎูุงู ูุงุฆูุฉ ุงููุฏู ุ ุซู ูุชุญ ูุตู ููุตู ูุน ูุนูููุงุช ููุตูุฉ ุญูู ุงููุฏููุฉ ุงูุชู ูุญุจูุง. <br><br>  ุงููุธุฑ ูู ุดูุฑุฉ ุงููุตุฏุฑ ูููุดุฑูุน ูุจู ุฃู ูุจุฏุฃ ุฎูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฌูููุฉ.  ุฅููู ูุง ููููู ุงูุนุซูุฑ ุนููู ูู ูุดุฑูุน ูู ุฎูุงู ูุชุญู ูู <b>Xcode</b> : <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ViewController.swift</b> : ูุญุฏุฉ ุชุญูู ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ ูุน <b>UICollectionView</b> ูุนุฑุถ ูุฌููุนุฉ ูู ูุงุฆูุงุช <b>ุงููุฏููุฉ</b> . </li><li style=";text-align:right;direction:rtl">  <b>CityCollectionViewCell.swift:</b> ุฎููุฉ ูุนุฑุถ <b>ุงููุฏููุฉ</b> .  ูู ุงููุงูุน ุ ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชู ุชุทุจูู ูุนุธู ุงูุชุบููุฑุงุช ุนูู ูุฐู ุงููุฆุฉ.  ูุฏ ุชูุงุญุธ ุฃู <b>descriptionLabel</b> ู <b>closeButton</b> ุชู <b>ุชุนุฑููููุง</b> ุจุงููุนู ูู ุงููุตู.  ููุน ุฐูู ุ ุจุนุฏ ุจุฏุก ุงูุชุทุจูู ุ ุณูุชู ุฅุฎูุงุก ูุฐู ุงููุงุฆูุงุช.  ูุง ุชููู ุ ุณูู ุชููู ูุฑุฆูุฉ ูู ููุช ูุงุญู ููููุง.  ูุฐู ุงููุฆุฉ ูุฏููุง ุฃูุถุง ุฎุตุงุฆุต <i>ุงูุฌูุน</i> ู <i>ุงูููุฑุณ</i> .  ูู ููุช ูุงุญู ุณูุชู ุงุณุชุฎุฏุงููุง ููุฑุณูู ุงููุชุญุฑูุฉ. </li><li style=";text-align:right;direction:rtl">  <b>CityCollectionViewFlowLayout.swift:</b> ูุฐู ุงููุฆุฉ ูุณุคููุฉ ุนู ุงูุชูุฑูุฑ ุงูุฃููู.  ูู ูุบูุฑูุง ุจุนุฏ. </li><li style=";text-align:right;direction:rtl">  <b>City.swift</b> : ูุญุชูู ุทุฑุงุฒ ุงูุชุทุจูู ุงูุฑุฆูุณู ุนูู ุทุฑููุฉ ุชู ุงุณุชุฎุฏุงููุง ูู ViewController. </li><li style=";text-align:right;direction:rtl">  <b>Main.storyboard:</b> ููุงู ููููู ุงูุนุซูุฑ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ู <b>ViewController</b> ู <b>CityCollectionViewCell</b> . </li></ol><br>  ุฏุนูุง ูุญุงูู ุจูุงุก ูุชุดุบูู ูููุฐุฌ ุงูุชุทุจูู.  ูุชูุฌุฉ ูุฐูู ุ ูุญุตู ุนูู ูุง ููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/313/0ed/3e6/3130ed3e68179c72b4b99e160cc2cb9b.png" alt="cityguideapp-iphone8" width="350" height="614"></div><br><h3 style=";text-align:right;direction:rtl">  ุชูููุฐ ูุดุฑ ูุงูููุงุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ </h3><br>  ุจุนุฏ ุจุฏุก ุงูุชุทุจูู ุ ูุชู ุนุฑุถ ูุงุฆูุฉ ุงููุฏู.  ููู ูุง ูููู ูููุณุชุฎุฏู ุงูุชูุงุนู ูุน ุงููุงุฆูุงุช ูู ุดูู ุฎูุงูุง.  ุชุญุชุงุฌ ุงูุขู ุฅูู ุนุฑุถ ูุนูููุงุช ููู ูุฏููุฉ ุนูุฏูุง ูููุฑ ุงููุณุชุฎุฏู ุนูู ุฅุญุฏู ุงูุฎูุงูุง.  ุฃููู ูุธุฑุฉ ุนูู ุงูุฅุตุฏุงุฑ ุงูููุงุฆู ููุชุทุจูู.  ุฅููู ูุง ููุฒู ูุนูุงู ูุชุทููุฑู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2d1/124/719/2d1124719b8918381a74d1dae192acb5.gif" alt="ุตูุฑุฉ" width="350" height="614"></div><br>  ุงูุฑุณูู ุงููุชุญุฑูุฉ ุชุจุฏู ุฌูุฏุฉ ุ ุฃููุณ ูุฐููุ  ูููู ูุง ููุฌุฏ ุดูุก ุฎุงุต ููุง ุ ุฅูู ูุฌุฑุฏ ุงูููุทู ุงูุฃุณุงุณู ูู <b>UIViewPropertyAnimator</b> .  ุฏุนููุง ูุฑู ููููุฉ ุชูููุฐ ูุฐุง ุงูููุน ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ูู ุจุฅูุดุงุก ุทุฑููุฉ <i>collectionView (_: didSelectItemAt)</i> ุ ุฃุถู ุฌุฒุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงูู ุฅูู ููุงูุฉ ููู <b>ViewController</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collectionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> selectedCell = collectionView.cellForItem(at: indexPath)! <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">CityCollectionViewCell</span></span> selectedCell.toggle() }</code> </pre><br>  ูุญู ุงูุขู ุจุญุงุฌุฉ ุฅูู ุชูููุฐ ุทุฑููุฉ <b>ุงูุชุจุฏูู</b> .  ุฏุนูุง <b>ููุชูู</b> ุฅูู <b>CityCollectionViewCell.swift</b> ูุชูููุฐ ูุฐู ุงูุทุฑููุฉ. <br><br>  ุฃููุงู ุ ุฃุถู ุชุนุฏุงุฏ ุงูุญุงูุฉ ุฅูู ุฃุนูู ุงูููู ุ ูุจุงุดุฑุฉู ูุจู ุฅุนูุงู ูุฆุฉ <b>CityCollectionViewCell</b> .  ุชุณูุญ ูู ูุฐู ุงููุงุฆูุฉ ุจุชุชุจุน ุญุงูุฉ ุงูุฎููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> expanded <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> collapsed <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> change: <span class="hljs-type"><span class="hljs-type">State</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .collapsed <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .expanded } } }</code> </pre><br>  ุฃุถู ุจุนุถ ุงูุฎุตุงุฆุต ููุชุญูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ูุฆุฉ <b>CityCollectionViewCell</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> initialFrame: <span class="hljs-type"><span class="hljs-type">CGRect?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> = .collapsed <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animator: <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>, curve: .easeInOut) }()</code> </pre><br>  <i>ูุชู</i> ุงุณุชุฎุฏุงู ูุชุบูุฑ <i>initialFrame</i> ูุชุฎุฒูู ุฅุทุงุฑ ุงูุฎููุฉ ุญุชู <i>ูุชู ุชุดุบูู</i> ุงูุฑุณูู ุงููุชุญุฑูุฉ.  <b>ูุชู</b> ุงุณุชุฎุฏุงู <b>ุงูุญุงูุฉ</b> ูุชุชุจุน ูุง ุฅุฐุง ูุงูุช ุงูุฎููุฉ ููุณุนุฉ ุฃู ูุทููุฉ.  ููุณุชุฎุฏู ูุชุบูุฑ <b>ุงูุฑุณูู ุงููุชุญุฑูุฉ</b> ููุชุญูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ. <br><br>  ุฃุถู ุงูุขู ุทุฑููุฉ <i>ุงูุชุจุฏูู ูุงุณุชุฏุนููุง</i> ูู ุทุฑููุฉ <i>ุงูุฅุบูุงู</i> ุ ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { toggle() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: collapse() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: expand() } }</code> </pre><br>  ุซู ูุถูู ุทุฑููุชูู ุฃุฎุฑููู: <i>expand ()</i> ู <i>ุทู ()</i> .  ุณููุงุตู ุชูููุฐูุง.  ุฃููุงู ุ ูุจุฏุฃ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <i>expandd ()</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> collectionView = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.collectionView, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } animator.addAnimations { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.initialFrame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.descriptionLabel.alpha = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.closeButton.alpha = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.cornerRadius = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame = <span class="hljs-type"><span class="hljs-type">CGRect</span></span>(x: collectionView.contentOffset.x, y:<span class="hljs-number"><span class="hljs-number">0</span></span>, width: collectionView.frame.width, height: collectionView.frame.height) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> leftCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index - <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { leftCell.center.x -= <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rightCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index + <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { rightCell.center.x += <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layoutIfNeeded() } animator.addCompletion { position <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> position { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .end: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state.change collectionView.isScrollEnabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span> collectionView.allowsSelection = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } } animator.startAnimation() }</code> </pre><br>  ูู ุฑูุฒ.  ุงุณูุญูุง ูู ุฃู ุฃุดุฑุญ ูุง ูุญุฏุซ ุฎุทูุฉ ุจุฎุทูุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุชุญูู ููุง ุฅุฐุง ูุงูุช <i>ูุฌููุนุฉ ุทุฑููุฉ ุงูุนุฑุถ</i> <i>ูุงูููุฑุณ</i> ูุง ุชุณุงูู ุงูุตูุฑ.  ุฎูุงู ุฐูู ุ ูู ูููู ูุงุฏุฑูู ุนูู ุจุฏุก ุงูุฑุณูู ุงููุชุญุฑูุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุงุจุฏุฃ ูู ุฅูุดุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <i>animator.addAnimations</i> . </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุงุญูุธ ุงูุฅุทุงุฑ ุงูุญุงูู ุ ูุงูุฐู ูุณุชุฎุฏู ูุงุณุชุนุงุฏุชู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ. </li><li style=";text-align:right;direction:rtl">  ุซู ูููุง ุจุชุนููู ูููุฉ ุฃููุง <i>ููุตู</i> <i>ูุงุจูู ูุฅุบูุงู ุฒุฑ</i> ูุฌุนููุง ูุฑุฆูุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูู ุจุฅุฒุงูุฉ ุงูุฒุงููุฉ ุงูุฏุงุฆุฑูุฉ ูุชุนููู ุฅุทุงุฑ ุฌุฏูุฏ ููุฎููุฉ.  ุณูุชู ุนุฑุถ ุงูุฎููุฉ ูู ูุถุน ููุก ุงูุดุงุดุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ูููู ุจููู ุงูุฎูุงูุง ุงููุฌุงูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ุงุชุตู ุงูุขู ุจุงูุทุฑููุฉ <i>animator.addComplete ()</i> ูุชุนุทูู ุชูุงุนู ุตูุฑุฉ ุงููุฌููุนุฉ.  ูุฐุง ูููุน ุงููุณุชุฎุฏููู ูู ุงูุชูุฑูุฑ ุฃุซูุงุก ุชูุณูุน ุงูุฎููุฉ.  ูู ุฃูุถูุง ุจุชุบููุฑ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุฎููุฉ.  ูู ุงูููู ุชุบููุฑ ุญุงูุฉ ุงูุฎููุฉ ุ ูุจุนุฏ ุฐูู ุชูุชูู ุงูุฑุณูู ุงููุชุญุฑูุฉ. </li></ol><br>  ุงูุขู ุฅุถุงูุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฅูุชูุงุก.  ุจุงุฎุชุตุงุฑ ุ ูุญู ููุท ูุนูุฏ ุงูุฎููุฉ ุฅูู ุญุงูุชูุง ุงูุณุงุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collapse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> collectionView = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.collectionView, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } animator.addAnimations { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.descriptionLabel.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.closeButton.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.cornerRadius = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.cornerRadius <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.initialFrame! <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> leftCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index - <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { leftCell.center.x += <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rightCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index + <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { rightCell.center.x -= <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layoutIfNeeded() } animator.addCompletion { position <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> position { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .end: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state.change collectionView.isScrollEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span> collectionView.allowsSelection = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } } animator.startAnimation() }</code> </pre><br>  ุญุงู ุงูุขู ููุช ุชุฑุฌูุฉ ุงูุชุทุจูู ูุชุดุบููู.  ุญุงูู ุงูููุฑ ููู ุงูุฎููุฉ ูุณุชุฑู ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ูุฅุบูุงู ุงูุตูุฑุฉ ุ ุงููุฑ ุนูู ุฃููููุฉ ุงูุตููุจ ูู ุงูุฒุงููุฉ ุงููููู ุงูุนููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ูุถููุง ูุนุงูุฌุฉ ููุชุฉ </h3><br>  ููููู ุงููุทุงูุจุฉ ุจุชุญููู ููุณ ุงููุชูุฌุฉ ุจุงุณุชุฎุฏุงู <i>UIView.animate</i> .  ูุง ุงููุฏู ูู ุงุณุชุฎุฏุงู <b>UIViewPropertyAnimator</b> ุ <br><br>  ุญุณููุง ุ ููุฏ ุญุงู ุงูููุช ูุฌุนู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุชูุงุนููุฉ.  ุฃุถู <b>UIPanGestureRecognizer ูุฎุงุตูุฉ</b> ุฌุฏูุฏุฉ ุชุณูู <i>popupOffset</i> ูุชุชุจุน ููุฏุงุฑ ููู ุงูุฎููุฉ.  ุฏุนูุง ูุนูู ูุฐู ุงููุชุบูุฑุงุช ูู ูุฆุฉ <b>CityCollectionViewCell</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> popupOffset: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = (<span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds.height - cellSize.height)/<span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> panRecognizer: <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> recognizer = <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span>() recognizer.addTarget(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(popupViewPanned(recognizer:))) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> recognizer }()</code> </pre><br>  ุซู ุฃุถู ุงูุทุฑููุฉ ุงูุชุงููุฉ ูุชุณุฌูู ุชุนุฑูู ุงูุชูุฑูุฑ ุงูุณุฑูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">awakeFromNib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.addGestureRecognizer(panRecognizer) }</code> </pre><br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ ุทุฑููุฉ <i>popupViewPanned</i> ูุชุชุจุน ููุชุฉ ุงูุชูุฑูุฑ ุงูุณุฑูุน.  ุงูุตู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ูู <b>CityCollectionViewCell</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">popupViewPanned</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer: UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> recognizer.state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: toggle() animator.pauseAnimation() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .changed: <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> translation = recognizer.translation(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: collectionView) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fraction = -translation.y / popupOffset <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> state == .expanded { fraction *= -<span class="hljs-number"><span class="hljs-number">1</span></span> } animator.fractionComplete = fraction <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .ended: animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } }</code> </pre><br>  ููุงู ุซูุงุซ ููุงูุงุช.  ูู ุจุฏุงูุฉ ุงูุฅููุงุกุฉ ุ ูููู ุจุชููุฆุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <i>ุงูุชุจุฏูู ูุฅููุงููุง ุนูู</i> ุงูููุฑ.  ุจูููุง ูููู ุงููุณุชุฎุฏู ุจุณุญุจ ุงูุฎููุฉ ุ ูููู ุจุชุญุฏูุซ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุนู ุทุฑูู ุชุนููู ุฎุตุงุฆุต ูุถุงุนู <i>ุงููุณุฑ</i> .  ูุฐุง ูู ุงูุณุญุฑ ุงูุฑุฆูุณู ููุฑุณูู ุงููุชุญุฑูุฉ ุ ูุงูุฐู ูุณูุญ ููู ุจุงูุชุญูู.  ุฃุฎูุฑูุง ุ ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุจุฅุตุฏุงุฑ ุฅุตุจุนู ุ ูุชู ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ContinueAnimation <i>ููุชุงุจุนุฉ</i> ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ุซู ุณุชูุชูู ุงูุฎููุฉ ุฅูู ุงูููุถุน ุงููุณุชูุฏู. <br><br>  ุจุนุฏ ุจุฏุก ุงูุชุทุจูู ุ ููููู ุณุญุจ ุงูุฎููุฉ ูุฃุนูู ูุชูุณูุนูุง.  ุซู ุงุณุญุจ ุงูุฎููุฉ ุงูููุณุนุฉ ูุฃุณูู ูุทููุง. <br><br>  ุชุจุฏู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุขู ุฌูุฏุฉ ุ ููู ููุงุทุนุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุงููุณุท ุบูุฑ ููููุฉ.  ูุฐูู ุ ูุฌุนู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุชูุงุนููุฉ ุจุงููุงูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ูุธููุฉ ุฃุฎุฑู - ุงูููุงุทุนุฉ.  ูููู ูููุณุชุฎุฏู ุจุฏุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุชูุฏูุฏ / ุงูุงูููุงุฑ ูุงููุนุชุงุฏ ุ ูููู ูุฌุจ ุฅููุงู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุจุงุดุฑุฉู ุจุนุฏ ุฃู ูููุฑ ุงููุณุชุฎุฏู ุนูู ุงูุฎููุฉ ุฃุซูุงุก ุฏูุฑุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ. <br><br>  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุญูุธ ุชูุฏู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุซู ุฃุฎุฐ ูุฐู ุงููููุฉ ูู ุงูุงุนุชุจุงุฑ ูู ุฃุฌู ุญุณุงุจ ุงููุณุจุฉ ุงููุฆููุฉ ูุฅููุงู ุงูุฑุณูู ุงููุชุญุฑูุฉ. <br><br>  ุฃููุงู ุ ุฃุนูู ุฎุงุตูุฉ ุฌุฏูุฏุฉ ูู <b>CityCollectionViewCell</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animationProgress: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  ุซู ูู ุจุชุญุฏูุซ ุงููุชูุฉ <i>.began</i> ููุฃุณููุจ <i>popupViewPanned</i> ุจุณุทุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงูู ูุชุฐูุฑ ุงูุชูุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">animationProgress = animator.fractionComplete</code> </pre><br>  ูู ุงููุชูุฉ <b>.changed</b> ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุซ ุงูุณุทุฑ ุงูุชุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุญุณุงุจ ูุณุจุฉ ุงูุฅููุงู ุจุดูู ุตุญูุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">animator.fractionComplete = fraction + animationProgress</code> </pre><br>  ุงูุขู ุงูุชุทุจูู ุฌุงูุฒ ููุงุฎุชุจุงุฑ.  ูู ุจุชุดุบูู ุงููุดุฑูุน ูุดุงูุฏ ูุง ูุญุฏุซ.  ุฅุฐุง ุชู ุชูููุฐ ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุจุดูู ุตุญูุญ ุจุงุชุจุงุน ุฅุฑุดุงุฏุงุชู ุ ููุฌุจ ุฃู ุชุธูุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุงูุดูู ุงูุชุงูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/eae/b13/8a5eaeb1341638dc9b45cbad05f8a66d.gif" alt="ุตูุฑุฉ" width="350" height="614"></div><br><h3 style=";text-align:right;direction:rtl">  ุนูุณ ุงูุฑุณูู ุงููุชุญุฑูุฉ </h3><br>  ููููู ุงูุนุซูุฑ ุนูู ุฎุทุฃ ููุชูููุฐ ุงูุญุงูู.  ุฅุฐุง ููุช ุจุณุญุจ ุงูุฎููุฉ ููููุงู ุซู ุฅุนุงุฏุชูุง ุฅูู ููุถุนูุง ุงูุฃุตูู ุ ูุณุชุณุชูุฑ ุงูุฎููุฉ ูู ุงูุชูุณุน ุนูุฏ ุชุญุฑูุฑ ุฅุตุจุนู.  ุฏุนููุง ุฅุตูุงุญ ูุฐู ุงููุดููุฉ ูุฌุนู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุชูุงุนููุฉ ุฃูุถู. <br>  ูููู ุจุชุญุฏูุซ <b>.end</b> ุจููู ุทุฑููุฉ <b>popupViewPanned</b> ุ ููุง ูู ููุถุญ ุฃุฏูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> velocity = recognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shouldComplete = velocity.y &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> velocity.y == <span class="hljs-number"><span class="hljs-number">0</span></span> { animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !shouldComplete &amp;&amp; !animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> shouldComplete &amp;&amp; animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> shouldComplete &amp;&amp; !animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !shouldComplete &amp;&amp; animator.isReversed { animator.isReversed = !animator.isReversed } } animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br>  ุงูุขู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุณุฑุนุฉ ุงูุฅููุงุกุฉ ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุฌุจ ุนูุณ ุงูุญุฑูุฉ. <br><br>  ูุฃุฎูุฑูุง ุ ุฃุฏุฎู ุณุทุฑูุง ุขุฎุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงููุชูุฉ <b>.changed</b> .  ุถุน ูุฐุง ุงูุฑูุฒ ุนูู ูููู ุญุณุงุจ <i>animator.fractionComplete</i> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> animator.isReversed { fraction *= -<span class="hljs-number"><span class="hljs-number">1</span></span> }</code> </pre><br>  ูููู ุจุชุดุบูู ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู.  ุงูุขู ูุฌุจ ุฃู ุชุนูู ูู ุดูุก ุฏูู ูุดู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2a0/734/dc7/2a0734dc7012220eef4281c64db0e24b.gif" alt="ุตูุฑุฉ" width="350" height="614"></div><br><h3 style=";text-align:right;direction:rtl">  ุฅุตูุงุญ ููุชุฉ ุนููู </h3><br>  ูุฐูู ุ ุฃููููุง ุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู <b>UIViewPropertyAnimator</b> .  ููุน ุฐูู ุ ููุงู ุฎุทุฃ ูุงุญุฏ ุบูุฑ ุณุงุฑุฉ.  ูุฏ ุชููู ูุงุจูุชูุง ุฃุซูุงุก ุงุฎุชุจุงุฑ ุงูุชุทุจูู.  ุงููุดููุฉ ูู ุฃู ุงูุชูุฑูุฑ ููุฎููุฉ ุฃูููุง ุบูุฑ ูููู.  ุฏุนููุง ูุญุงูู ุงูุชูุฑูุฑ ูุณุงุฑูุง / ูููููุง ุนุจุฑ ุงูุฎูุงูุง ุ ููุญู ููุงุฌู ุงููุดููุฉ. <br><br>  ุงูุณุจุจ ุงูุฑุฆูุณู ูุชุนูู ุจู <b>UIPanGestureRecognizer</b> ุงูุฐู <b>ุฃูุดุฃูุงู</b> .  ููุง ุฃูู ููุณู ุจุงูุฅููุงุกุฉ <b>ุงูุณุฑูุนุฉ</b> ุ <b>ููุชุนุงุฑุถ ูุน ุฃุฏุงุฉ</b> ุงูุชุนุฑู ุนูู ุงูุฅููุงุกุงุช <b>ุงููุฏูุฌุฉ UICollectionView</b> . <br><br>  ุนูู ุงูุฑุบู ูู ุฃูู ูุง ูุฒุงู ุจุฅููุงู ุงููุณุชุฎุฏู ุงูุชูุฑูุฑ ุนุจุฑ ุฃุนูู / ุฃุณูู ุงูุฎูุงูุง ุฃู ุงููุณุงูุฉ ุจูู ุงูุฎูุงูุง ููุชููู ุนุจุฑ ุงููุฏู ุ ุฅูุง ุฃููู ูุง ุฃุฒุงู ุฃุญุจ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุณูุฆุฉ ูุฐู.  ุฏุนููุง ุฅุตูุงุญู. <br><br>  ูุญู ุงูุชุนุงุฑุถุงุช ุ ูุญุชุงุฌ ุฅูู ุชุทุจูู ุทุฑููุฉ ุชูููุถ ุชุณูู <i>gestRecognizerShouldBegin (_ :)</i> .  ุชุชุญูู ูุฐู ุงูุทุฑููุฉ ูููุง ุฅุฐุง ูุงู ูุฌุจ ุนูู ุฃุฏุงุฉ ุงูุชุนุฑู ุนูู ุงูุฅููุงุกุงุช ุงูุงุณุชูุฑุงุฑ ูู ุชูุณูุฑ ุงูููุณุงุช.  ุฅุฐุง ุฑุฌุนุช <b>ุฎุทุฃ</b> ูู ุงูุทุฑููุฉ ุ ูุณูุชุฌุงูู ุฃุฏุงุฉ ุงูุชุนุฑู ุนูู ุงูุฅููุงุกุงุช ุงูููุณุงุช.  ุฅุฐู ูุง ุณููุนูู ูู ุฅุนุทุงุก ุฃุฏุงุฉ ุงูุชุนุฑู ุนูู ุจุงููุฑุงูุง ุงูุฎุงุตุฉ ุจูุง ุงููุฏุฑุฉ ุนูู ุชุฌุงูู ุงูุญุฑูุงุช ุงูุฃูููุฉ. <br><br>  ููููุงู ุจุฐูู ุ ุฏุนูุง ูุนููู <i>ูููุถ</i> ุฃุฏุงุฉ ุงูุชุนุฑู ุนูู ุนููููุง.  ุฃุฏุฎู ุณุทุฑ ุงูููุฏ ุงูุชุงูู ูู ุชููุฆุฉ <b>panRecognizer</b> (ููููู ูุถุน ุงูููุฏ ูุจุงุดุฑุฉู ูุจู ุฃุฏุงุฉ <i>ุงูุชุนุฑู ุนูู ุงูุฅุฑุฌุงุน</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">recognizer.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span></code> </pre><br>  ุจุนุฏ ุฐูู ุ ูุทุจู ุทุฑููุฉ <i>gestRecognizerShouldBegin (_ :)</i> ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gestureRecognizerShouldBegin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> gestureRecognizer: UIGestureRecognizer)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>((panRecognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: panRecognizer.view)).y) &gt; <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>((panRecognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: panRecognizer.view)).x) }</code> </pre><br>  ุณููุชุญ / ูุบูู ุฅุฐุง ูุงูุช ุณุฑุนุชู ุงูุฑุฃุณูุฉ ุฃูุจุฑ ูู ุงูุณุฑุนุฉ ุงูุฃูููุฉ. <br><br>  ุนุธูู!  ุฏุนููุง ุงุฎุชุจุงุฑ ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู.  ููููู ุงูุขู ุงูุชููู ุญูู ูุงุฆูุฉ ุงููุฏู ุนู ุทุฑูู ุชูุฑูุฑ ุงููุณุงุฑ / ุงููููู ุนุจุฑ ุงูุฎูุงูุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dd6/bcb/909/dd6bcb90976b4eaae326027309fda1c6.gif" alt="ุตูุฑุฉ" width="350" height="614"></div><br><h3 style=";text-align:right;direction:rtl">  ุงูููุงูุฃุฉ: ููุฒุงุช ูุฒุงููุฉ ูุฎุตุตุฉ </h3><br>  ูุจู ุงูุงูุชูุงุก ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุฏุนููุง ูุชุญุฏุซ ุนู ูุธุงุฆู ุงูุชูููุช.  ูู ูุง ุฒูุช ุชุชุฐูุฑ ุงูุญุงูุฉ ุนูุฏูุง ุทูุจ ููู ุงููุทูุฑ ุชูููุฐ ูุธููุฉ ูุฒุงููุฉ ูุฎุตุตุฉ ููุฑุณูู ุงููุชุญุฑูุฉ ุงูุชู ุชูุดุฆูุงุ <br><br>  ุนุงุฏุฉ ุ ูุฌุจ ุนููู ุชุบููุฑ <i>UIView.animation</i> ุฅูู <b>CABasicAnimation</b> ุฃู <b>ููู</b> ูู <b>CATransaction</b> .  <b>ูุน UIViewPropertyAnimator ุ</b> ููููู ุจุณูููุฉ ุชูููุฐ ูุธุงุฆู ุชูููุช ูุฎุตุต. <br><br>  ุชูููู <b>ูุธุงุฆู</b> ุงูุชูููุช (ุฃู ูุธุงุฆู ุงูุชุฎููู) ุนูู ุฃููุง ูุธุงุฆู ุณุฑุนุฉ ุงูุญุฑูุฉ ุงูุชู ุชุคุซุฑ ุนูู ูุนุฏู ุชุบููุฑ ุฎุงุตูุฉ ูุชุญุฑูุฉ ุฃู ุฃุฎุฑู.  ููุงู ุฃุฑุจุนุฉ ุฃููุงุน ูุฏุนููุฉ ุญุงูููุง: easInOut ู easin ู easOut ูุฎุทู. <br><br>  ุงุณุชุจุฏุงู ุงูุชููุฆุฉ animator ูุน ูุฐู ูุธุงุฆู ุชูููุช (ุญุงูู ุฑุณู ููุญูู Bezier ููุนุจ ุงูุฎุงุต ุจู) ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animator: <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> cubicTiming = <span class="hljs-type"><span class="hljs-type">UICubicTimingParameters</span></span>(controlPoint1: <span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: <span class="hljs-number"><span class="hljs-number">0.17</span></span>, y: <span class="hljs-number"><span class="hljs-number">0.67</span></span>), controlPoint2: <span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: <span class="hljs-number"><span class="hljs-number">0.76</span></span>, y: <span class="hljs-number"><span class="hljs-number">1.0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>, timingParameters: cubicTiming) }()</code> </pre><br>  ุจุฏูุงู ูู ุฐูู ุ ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ูุนููุงุช ุงูุชุฒุงูู ุงูููุนุจ ุ ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุงูุชุฒุงูู ุงููุงุจุถ ุ ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> springTiming = <span class="hljs-type"><span class="hljs-type">UISpringTimingParameters</span></span>(mass: <span class="hljs-number"><span class="hljs-number">1.0</span></span>, stiffness: <span class="hljs-number"><span class="hljs-number">2.0</span></span>, damping: <span class="hljs-number"><span class="hljs-number">0.2</span></span>, initialVelocity: .zero)</code> </pre><br>  ุญุงูู ุฃู ุชุจุฏุฃ ุงููุดุฑูุน ูุฑุฉ ุฃุฎุฑู ูุดุงูุฏ ูุง ูุญุฏุซ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h3><br>  ูู ุฎูุงู UIViewPropertyAnimator ุ ููููู ุชุญุณูู ุงูุดุงุดุงุช ุงูุซุงุจุชุฉ ูุชูุงุนู ุงููุณุชุฎุฏู ูู ุฎูุงู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุชูุงุนููุฉ. <br><br>  ุฃุนูู ุฃูู ูุง ููููู ุงูุงูุชุธุงุฑ ุญุชู ุชุฏุฑู ูุง ุชุนููุชู ูู ูุดุฑูุนู.  ุฅุฐุง ููุช ุจุชุทุจูู ูุฐุง ุงูููุฌ ูู ูุดุฑูุนู ุ ูุณูููู ุฑุงุฆุนูุง ุ ุงุณูุญูุง ูู ุฃู ุฃุนุฑู ูุฐุง ุนู ุทุฑูู ุชุฑู ุชุนููู ุฃุฏูุงู. <br><br>  ููุฑุฌุน ุ ููููู ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุฒูู ุงููุณูุฏุฉ ุงูููุงุฆูุฉ</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุฃุฎุฑู </h3><br>  <b>ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุงุญุชุฑุงููุฉ ุจุงุณุชุฎุฏุงู UIKit</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://developer.apple.com/videos/play/wwdc2017/230/</a> <br><br>  <b>ูุซุงุฆู UIViewPropertyAnimator ููุทูุฑู Apple</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://developer.apple.com/documentation/uikit/uiviewpropertyanimator</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458970/">https://habr.com/ru/post/ar458970/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458956/index.html">ุงูุชุนูู ุงูุขูู ููุงุจู ุงูููุฌ ุงูุชุญูููู</a></li>
<li><a href="../ar458960/index.html">ุงูุณุนู ุงูุดุฑูุงุช</a></li>
<li><a href="../ar458962/index.html">ุชุญููู ุงูุตูุฑุฉ ุฅูู ุตูุช - ูุงุฐุง ููููู ุฃู ุชุณูุนุ</a></li>
<li><a href="../ar458964/index.html">TestMace. ุจุฏุงูุฉ ุณุฑูุนุฉ</a></li>
<li><a href="../ar458966/index.html">ูุฑู ุงูุนููุงุก ูุฑุคุณุงุก ุดุฑูุงุช ุงูุชูููููุฌูุง ุฃู ุฅุทูุงู ุงููุคุณุณุงุช ุงูุตูุงุนูุฉ ูู ุงููุถุงุก ุญูููุฉ ูุงูุนุฉ</a></li>
<li><a href="../ar458972/index.html">ุฃุฎุจุงุฑ ุงูุฃุณุจูุน: ูุงูุฏูุณ ูููุงูุงุช ุงูุงุณุชุฎุจุงุฑุงุช ุงูุบุฑุจูุฉ ุ FAS ุชุญุงุฑุจ ุงููุงุฒููููุงุช ุนูู ุงูุฅูุชุฑูุช ุ ูุฒุงุฑุฉ ุงูููู ุชูุธู BlaBlaCar</a></li>
<li><a href="../ar458974/index.html">ุญูุงุฉ ูุงููุฉ ุนูู Svelte</a></li>
<li><a href="../ar458982/index.html">ูุตูุงุช Nginx: ุงูุชุญููู ูู HTML ูุนูุงููู URL ุฅูู PDF ู PS</a></li>
<li><a href="../ar458984/index.html">ููููุฉ ุฅูุดุงุก ุงูุชุทุจูู ุงูุฃูู ููุชุฏุงูู ูู ุงูุจูุฑุตุฉ: 3 ุฎุทูุงุช ุฃูููุฉ</a></li>
<li><a href="../ar458986/index.html">ูุตูุงุช PostgreSQL: ุงูุชุญููู ูู HTML ูุนูุงููู URL ุฅูู PDF ู PS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>