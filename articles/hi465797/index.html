<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСЛЁЯП╗ ЁЯИпя╕П ЁЯЩЛЁЯП╛ рдЬреЗрдиреЗрдЯрд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо (рдпрд╛ рдЧреНрд░рд╛рд╣рдХ рд╣рдореЗрд╢рд╛ рд░рд╛рдЬрд╛ рд╣реЛрддрд╛ рд╣реИ - рдФрд░ рдЕрдХреНрд╕рд░ рдореВрд░реНрдЦ рд╣реЛрддрд╛ рд╣реИ) ЁЯС░ЁЯП╜ тП╣я╕П ЁЯжН</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(рд╕рдВрд╕реНрдХрд░рдг 2, рд╕рд╣реА рдЯрд╛рдЗрдкреЛ рдХреЗ рд╕рд╛рде - рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рд╣рд░ рдХреЛрдИ ...) 

 рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! 

 рдЕрдм рд╡рд╣ рдмреИрдард╛ рдерд╛, рдПрдХ рдорд┐рддреНрд░ рдХреЗ рд▓рд┐рдП рдЖрдиреБрд╡рдВрд╢рд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рдердо рдХрд╛ рдПрдХ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЬреЗрдиреЗрдЯрд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо (рдпрд╛ рдЧреНрд░рд╛рд╣рдХ рд╣рдореЗрд╢рд╛ рд░рд╛рдЬрд╛ рд╣реЛрддрд╛ рд╣реИ - рдФрд░ рдЕрдХреНрд╕рд░ рдореВрд░реНрдЦ рд╣реЛрддрд╛ рд╣реИ)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465797/"> (рд╕рдВрд╕реНрдХрд░рдг 2, рд╕рд╣реА рдЯрд╛рдЗрдкреЛ рдХреЗ рд╕рд╛рде - рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рд╣рд░ рдХреЛрдИ ...) <br><br>  рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! <br><br>  рдЕрдм рд╡рд╣ рдмреИрдард╛ рдерд╛, рдПрдХ рдорд┐рддреНрд░ рдХреЗ рд▓рд┐рдП рдЖрдиреБрд╡рдВрд╢рд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рдердо рдХрд╛ рдПрдХ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдмрдирд╛ рд░рд╣рд╛ рдерд╛ред  рдЙрд╕рд╕реЗ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдХреБрдЫ рдЕрдиреНрдп рд╡рд┐рдЪрд╛рд░ ... <br><br>  рджрд┐рдпрд╛ (рдЧреНрд░рд╛рд╣рдХ рдиреЗ рдЖрджреЗрд╢ рджрд┐рдпрд╛): рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд <s>рд░рд╛рдЬреНрдп рдореЗрдВ,</s> рдЧреЛрджрд╛рдо рдореЗрдВ 100 рд╕реЗрд▓ рд╣реИрдВред  рдорд╛рд▓ рдЙрд╕рдореЗрдВ рд╣реИред  рдорд╛рддреНрд░рд╛ рдПрдХреНрд╕ рдХреЛ рдХреИрд╕реЗ рд▓реЗрдВ рддрд╛рдХрд┐ рд╕рднреА рд╢рд╛рдорд┐рд▓ рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рдЕрдВрдд рддрдХ рдЦрд╛рд▓реА рдХрд░ рд╕рдХреЗрдВ?  рдареАрдХ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╕реЗрд▓ рдкреНрд░рдХрд╛рд░ рд╣реИ [34, 10, 32, 32, 33, 41, 44, 4, 28, 23, 22, 28, 29, 14, 28, 15, 38, 49, 30, 24, 24] 18, 9, 15, 8, 17, 9, 2, 7, 30, 29, 29, 2, 28, 23, 19, 4, 15, 30, 38, 3, 14, 21, 43, 50, 29, 29 14, 17, 12, 25, 15, 23, 28, 47, 38, 29, 7, 36, 45, 25, 6, 25, 11, 10, 1, 19, 37, 24, 27, 50, 12, 1, 1, 44, 22, 48, 13, 46, 49, 11, 33, 29, 4, 19, 33, 12, 3, 47, 27, 26, 45, 40, 37, 21, 2, 8, 8 рекрез, рел, рез, реп, рел] - рдХреИрд╕реЗ рдбрд╛рдпрд▓ рдХрд░реЗрдВ, рекреж <br><br>  рдареАрдХ рд╣реИ, рдЖрдк рдмрд╕реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрдХреАрди рд╣реИ рдХрд┐ рдХреБрдЫ рд╕реНрдорд╛рд░реНрдЯ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдЗрд╕реЗ рдПрдХ рдЬреЗрдиреЗрдЯрд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рд╕рд╛рде рд╣рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ ... <br><a name="habracut"></a><br><br>  рдкрд╣рд▓рд╛ рд╕рд╡рд╛рд▓: рдЕрдкрдиреЗ рджрд┐рдорд╛рдЧ рдХреЛ рдХреНрдпреЛрдВ рд╕реБрдЦрд╛рдПрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдЧрд░ рдЖрдк рд╕рд┐рд░реНрдл рд╕реВрдЪреА рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реА рджреЛ рдХреЛрд╢рд┐рдХрд╛рдУрдВ рд╕реЗ рд▓реЗрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ - рджреВрд╕рд░рд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╢реЗрд╖ рд░рд╣реЗрдЧрд╛ред  рдФрд░ рдЖрдкрдХреЛ рдмрд╣реБрдд рджреВрд░ рдирд╣реАрдВ рдЬрд╛рдирд╛ рдкрдбрд╝реЗрдЧрд╛ред  рд▓реЗрдХрд┐рди рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЧреНрд░рд╛рд╣рдХ рдПрдХ рдкреВрд░реНрдгрддрд╛рд╡рд╛рджреА рд╣реИ, рд╡рд╣ рдЪрд╛рд╣рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдлрд╛рд░реНрдореЗрд╕реА рдореЗрдВ рд╣реЛред  рд╕рдВрднрд╡рддрдГ рд╕реЛрдиреЗ рдХреЗ рд╡рдЬрди рдореЗрдВ рдПрдХ рд╕реЗрд▓ рдЧреЛрджрд╛рдо рдореЗрдВред  рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИред <br><br>  рджреВрд╕рд░рд╛ рд╕рд╡рд╛рд▓: рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдмрдврд╝рддреЗ рдХреНрд░рдо рдореЗрдВ рдХреНрд░рдордмрджреНрдз рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рд╕реНрд╡рд╛рдЗрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ ... рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рджрд╕ рд╕реЗ рдХрдо рдХреЛрд╢рд┐рдХрд╛рдУрдВ рд╡рд╛рд▓реЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕реЗрд▓ рд╣реИрдВред  рд╢рд╛рдпрдж, рдЧреНрд░рд╛рд╣рдХ рднреА рдирд╣реАрдВ рдЪрд╛рд╣рддрд╛;) рдореБрдЭреЗ рднреА рдРрд╕реЗ рд▓реЛрдЧ рдорд┐рд▓реЗ: рдореИрдВ рдпрд╣рд╛рдВ рдХрд╛ рдорд╛рд▓рд┐рдХ рд╣реВрдВред  рдЙрдиреНрд╣реЛрдВрдиреЗ рддреБрдорд╕реЗ рдХрд╣рд╛ - рдпрд╣ рдХрд░реЛ, рд╕рд╡рд╛рд▓ рдордд рдкреВрдЫреЛред <br><br>  (рдЦреИрд░, рдореЗрд░реЗ рдореБрд╡рдХреНрдХрд┐рд▓ рдирд╣реАрдВ, рдЕрдиреНрдпрдерд╛ рдореИрдВ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ рдорд╛рдирд╡ рдорди рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдЦреЛ рджреЗрддрд╛ ...) <br><br>  рдЦреИрд░, рднрдЧрд╡рд╛рди рдЙрд╕рдХреЗ рд╕рд╛рде рд░рд╣реЗрдВ, рд╕рднреА рдХреА рдЕрдкрдиреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ рд╣реИрдВ ... рдлрд┐рд░ рд╣рдо рдЖрдиреБрд╡рдВрд╢рд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ - рд╣рдореЗрдВ рдХрд┐рд╕реА рддрд░рд╣ рдЗрд╕реЗ рд╣рд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ ... рд╣рдо рдЬрд╛рд╡рд╛ рдореЗрдВ рд▓рд┐рдЦреЗрдВрдЧреЗред <br><br>  рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд╣рд▓реЗ рдирд╣реАрдВ рд╕реБрдирд╛ рд╣реИ: рдорд╛рддреГ рдкреНрд░рдХреГрддрд┐ рдХреА рдирдХрд▓ рдХрд░реЗрдВред <br><ol><li>  рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рд╛рдВрдХреЗрддрд┐рдХ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдмрджрд▓рдирд╛ </li><li>  рд╣рдо рдпрд╣ рдЬрд╛рдБрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдкрдпреБрдХреНрдд рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХреА рдорджрдж рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдХрд▓реНрдк рдХрд┐рддрдиреА рдЕрдЪреНрдЫреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ </li><li>  рдЕрдЧрд▓реА рдкреАрдврд╝реА рдХреЗ рд▓рд┐рдП рдЙрдирдХреЗ рдЧреБрдгреЛрдВ рдкрд░ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдкрд╛рд╕ </li></ol><br><br>  рдкреНрд░рдХреГрддрд┐ рдореЗрдВ рдЕрдВрддрд┐рдо рдЪрд░рдг рдореЗрдВ, рджреЛ рдШрдЯрдХ рд╣реЛрддреЗ рд╣реИрдВ: рдХреНрд░реЙрд╕рд┐рдВрдЧ рдУрд╡рд░ (рдЧреБрдгрд╕реВрддреНрд░ рдХреЗ рд╕рдорд╛рди рднрд╛рдЧреЛрдВ рдХреЗ рдмреАрдЪ рд╡рд░реНрдгреЛрдВ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди) рдФрд░ рдЙрддреНрдкрд░рд┐рд╡рд░реНрддрди (рдЖрдиреБрд╡рдВрд╢рд┐рдХ рдХреЛрдб рдореЗрдВ рд╕рд╣рдЬ рдкрд░рд┐рд╡рд░реНрддрди)ред  рд╣рд╛рдп, рд╣рд╛рдИ рд╕реНрдХреВрд▓;) <br><br>  рд╢рд╛рдпрдж рдпрд╣реА рд╕рдм рд╣реИред  рд╣рдо рдХреЛрдб рд▓реЗрдВрдЧреЗ рдХрд┐ рдХреМрди рд╕реЗ рд╕реЗрд▓ рд▓реЗрдиреЗ рд╣реИрдВ, рдФрд░ рдХрд┐рд╕ рд╕реЗ рдирд╣реАрдВред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ 100 рдХреЛрд╢рд┐рдХрд╛рдПрдВ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╣рдорд╛рд░рд╛ рдЧреБрдгрд╕реВрддреНрд░ 100 рд╕рдЪреНрдЪреЗ / рдЭреВрдареЗ рддрддреНрд╡реЛрдВ рдХрд╛ рд╣реЛрдЧрд╛, рдЗрд╕рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд▓рд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рд╢реВрдиреНрдп рдФрд░ рд▓рд┐рдЦреЗ рдЬрд╛рдПрдВрдЧреЗред  рд╡реЗ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, 100 рд╣реЛрдВрдЧреЗред <br><br>  рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдкреНрд░рдХреГрддрд┐ рдПрдХ рдЖрд▓рд╛ рдХреА рддрд▓рд╛рд╢ рдореЗрдВ рд╣реИ, рдФрд░ рдХрдВрдкреНрдпреВрдЯрд░ рдкреНрд░рдХреГрддрд┐ рдЗрд╕реЗ рдмреЗрд╡рдХреВрдл рдмрдирд╛рдиреЗ рдФрд░ рдЬреАрд╡рд┐рдд рд░рд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдореЗрдВ рдПрдХ рдЫреЗрдж рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдЧреАред  рдЕрджреНрднреБрдд, рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ ... <br><br>  рд╕рднреА рдиреЗ рдХрд╣рд╛, рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">benchmark</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String chromosome, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> verbose)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>[] cArr = chromosome.toCharArray(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; cnt_bins; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cArr[i] == <span class="hljs-string"><span class="hljs-string">'1'</span></span>) { sum += stock[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (verbose) System.out.println(<span class="hljs-string"><span class="hljs-string">"storage bin "</span></span> + i + <span class="hljs-string"><span class="hljs-string">":\t+"</span></span> + stock[i] + <span class="hljs-string"><span class="hljs-string">"\t= "</span></span> + sum); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sum == target_qty) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.abs(target_qty - sum); }</code> </pre> <br><br>  рд╡рд┐рдЪрд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрдЦреНрдпрд╛ 40 рд╕реЗ рджреВрд░ рд╣реИрдВ, рдЗрд╕рд╕реЗ рднреА рдмрджрддрд░ред  рдпрджрд┐ рд╣рдордиреЗ 40 рдХрд╛ рд╕реНрдХреЛрд░ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рд╣рдо рдЧреБрдгрд╕реВрддреНрд░ рдкрд░ рдЖрдЧреЗ рдирд╣реАрдВ рдмрдврд╝реЗрдВрдЧреЗ, рд╣рдо рдЬреАрдд рдЧрдПред  рд╣рдо рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдмрдврд╝рддреЗ рдХреНрд░рдо рдореЗрдВ - рдХрдо рдкреЗрдирд▓реНрдЯреА рдЕрдВрдХ, рдмреЗрд╣рддрд░ рд╣реЛрдВрдЧреЗред <br><br>  рдкрд╣рд▓реА рдкреАрдврд╝реА рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// create 1st generation for (int i = 0; i &lt; generation_size; i++) { StringWriter sw = new StringWriter(); for (int j = 0; j &lt; cnt_bins; j++) { // take stock from this bin? sw.append(rnd.nextBoolean() ? "1" : "0"); } chromosomes.add(sw.toString()); sw.close(); }</span></span></code> </pre> <br><br>  рдЪреВрдВрдХрд┐ рдЖрдиреБрд╡рдВрд╢рд┐рдХ рдПрд▓реНрдЧреЛрд░рд┐рдердо, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд▓рдХреНрд╖реНрдп рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдореЗрд╢рд╛ рдЗрд╕реЗ рд╣рд╛рд╕рд┐рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреАрдврд╝рд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> generationNo = <span class="hljs-number"><span class="hljs-number">0</span></span>; generationNo &lt; maxGenerationCnt; generationNo++) { <span class="hljs-comment"><span class="hljs-comment">// evaluate List&lt;SimpleEntry&lt;String, Integer&gt;&gt; evaluated = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; chromosomes.size(); i++) { evaluated.add( new SimpleEntry&lt;String, Integer&gt;(chromosomes.get(i), benchmark(chromosomes.get(i), false))); } // ...    , .  ... } System.out.println("No solution found after " + maxGenerationCnt + " iterations");</span></span></code> </pre> <br><br>  рдХреНрд░рдордмрджреНрдз рдХрд░реЗрдВ, рд╕рд░реНрд╡реЛрддреНрддрдо рдЫреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="java hljs">... <span class="hljs-comment"><span class="hljs-comment">// sort evaluated = evaluated.stream().sorted((e1, e2) -&gt; Integer.compare(e1.getValue(), e2.getValue())) .collect(Collectors.toList()); System.out.println("Generation " + generationNo + "; Best / last parent / worst: " + evaluated.get(0).getValue() + " / " + evaluated.get(best_size).getValue() + " / " + evaluated.get(evaluated.size() - 1).getValue()); if (evaluated.get(0).getValue() == 0) { System.out.println("Solution found"); benchmark(evaluated.get(0).getKey(), true); System.exit(0); } // leave only the best evaluated = evaluated.subList(0, best_size); ...</span></span></code> </pre><br><br>  рд╣рдо рдирд╕реНрд▓ рдФрд░ рдЧреБрдгрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЖрдмрд╛рджреА рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣реА рд╣реИ, рд╣рдо рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рд╕рдорд╛рди рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ (рдпрджрд┐ рдЖрдк рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИрдВ - рдПрдХреНрд╕рдЪреЗрдВрдЬ рдлреНрд▓реИрдЧ рджреЗрдЦреЗрдВ), рдореНрдпреВрдЯ рдХрд░реЗрдВ (рдореНрдпреВрдЯреЗрд╢рди рдлреНрд▓реИрдЧ), рдПрдХ рдЪрдорддреНрдХрд╛рд░ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ ... <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// replication List&lt;String&gt; parents = evaluated.stream().map(e -&gt; e.getKey()).collect(Collectors.toList()); chromosomes.clear(); while (chromosomes.size() &lt; generation_size) { int parent1 = rnd.nextInt(evaluated.size()); int parent2 = rnd.nextInt(evaluated.size()); char[] cArr1 = parents.get(parent1).toCharArray(); char[] cArr2 = parents.get(parent2).toCharArray(); for (int i = 0; i &lt; cnt_bins; i++) { boolean exchange = rnd.nextDouble() &lt; exchange_rate; if (exchange) { char c1 = cArr1[i]; char c2 = cArr2[i]; // exchange both values cArr1[i] = c2; cArr2[i] = c1; } // mutation boolean mutation = rnd.nextDouble() &lt; mutation_rate; if (mutation) { cArr1[i] = rnd.nextBoolean() ? '1' : '0'; } mutation = rnd.nextDouble() &lt; mutation_rate; if (mutation) { cArr2[i] = rnd.nextBoolean() ? '1' : '0'; } } chromosomes.add(new String(cArr1)); chromosomes.add(new String(cArr2)); }</span></span></code> </pre><br><br><div class="spoiler">  <b class="spoiler_title">рдЦреИрд░, рдпрд╣рд╛рдБ рдЖрдк рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрдорддреНрдХрд╛рд░ рд╣реИ:</b> <div class="spoiler_text">  рд▓рдХреНрд╖реНрдп рдореВрд▓реНрдп: 40 <br>  рд╕реНрдЯреЙрдХ: [рейрек, резреж, рейреи, рейреи, рейрей, рекрез, рекрек, рек, рек, реи 10, реиреи, реиреи, реи 10, реи реп, резрек, реи 10, рей 10, рек реп, рейреж, реирек, рез 10, реп, резрел, 10 , 17, 9, 2, 7, 30, 29, 29, 2, 28, 23, 19, 4, 15, 30, 38, 3, 14, 21, 43, 50, 29, 14, 17, 12, 25 , 15, 23, 28, 47, 38, 29, 7, 36, 45, 25, 6, 25, 11, 10, 1, 19, 37, 24, 27, 50, 12, 1, 1, 44, 22 , 48, 13, 46, 49, 11, 33, 29, 4, 19, 33, 12, 3, 47, 27, 26, 45, 40, 37, 21, 2, 8, 41, 5, 1, 9 , 5] <br>  рдкреАрдврд╝реА 0;  рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда / рдЕрдВрддрд┐рдо рдорд╛рддрд╛-рдкрд┐рддрд╛ / рд╕рдмрд╕реЗ рдмреБрд░рд╛: 705/991/1580 <br>  рдкреАрдврд╝реА 1;  рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда / рдЕрдВрддрд┐рдо рдорд╛рддрд╛-рдкрд┐рддрд╛ / рд╕рдмрд╕реЗ рдмреБрд░рд╛: 576/846/1175 <br>  рдкреАрдврд╝реА 2;  рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда / рдЕрдВрддрд┐рдо рдорд╛рддрд╛-рдкрд┐рддрд╛ / рд╕рдмрд╕реЗ рдмреБрд░рд╛: 451/722/1108 <br>  рдкреАрдврд╝реА 3;  рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда / рдЕрдВрддрд┐рдо рдорд╛рддрд╛-рдкрд┐рддрд╛ / рд╕рдмрд╕реЗ рдмреБрд░рд╛: 0/613/904 <br>  рд╕рдорд╛рдзрд╛рди рдорд┐рд▓рд╛ <br>  рднрдВрдбрд╛рд░рдг рдмрд┐рди 7: +4 = 4 <br>  рднрдВрдбрд╛рд░рдг рдмрд┐рди 10: 13: = 26 <br>  рднрдВрдбрд╛рд░рдг рдмрд┐рди 13: +14 = 40 <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">рдФрд░ рдпрд╣рд╛рдБ рдкреВрд░рд╛ рдХреЛрдб рд╣реИ</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ypk; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.StringWriter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.AbstractMap.SimpleEntry; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.stream.Collectors; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.ArrayList; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Arrays; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Random; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">YPK</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> generation_size = <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> best_size = <span class="hljs-number"><span class="hljs-number">200</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cnt_bins = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> max_stock = <span class="hljs-number"><span class="hljs-number">50</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> exchange_rate = .<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> mutation_rate = .<span class="hljs-number"><span class="hljs-number">01</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Random rnd = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> target_qty = rnd.nextInt(cnt_bins * max_stock / <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">// some quantity private static List&lt;String&gt; chromosomes = new ArrayList&lt;&gt;(); private static int maxGenerationCnt = 20; private static int[] stock = new int[cnt_bins]; public static void main(String[] args) throws IOException { System.out.println("Target value: " + target_qty); // create sample stock stock = new int[cnt_bins]; for (int i = 0; i &lt; cnt_bins; i++) { stock[i] = rnd.nextInt(max_stock) + 1; } System.out.println("Stock: " + Arrays.toString(stock)); // create 1st generation for (int i = 0; i &lt; generation_size; i++) { StringWriter sw = new StringWriter(); for (int j = 0; j &lt; cnt_bins; j++) { // take stock from this bin? sw.append(rnd.nextBoolean() ? "1" : "0"); } chromosomes.add(sw.toString()); sw.close(); } for (int generationNo = 0; generationNo &lt; maxGenerationCnt; generationNo++) { // evaluate List&lt;SimpleEntry&lt;String, Integer&gt;&gt; evaluated = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; chromosomes.size(); i++) { evaluated.add( new SimpleEntry&lt;String, Integer&gt;(chromosomes.get(i), benchmark(chromosomes.get(i), false))); } // sort evaluated = evaluated.stream().sorted((e1, e2) -&gt; Integer.compare(e1.getValue(), e2.getValue())) .collect(Collectors.toList()); System.out.println("Generation " + generationNo + "; Best / last parent / worst: " + evaluated.get(0).getValue() + " / " + evaluated.get(best_size).getValue() + " / " + evaluated.get(evaluated.size() - 1).getValue()); if (evaluated.get(0).getValue() == 0) { System.out.println("Solution found"); benchmark(evaluated.get(0).getKey(), true); System.exit(0); } // leave only the best evaluated = evaluated.subList(0, best_size); // replication List&lt;String&gt; parents = evaluated.stream().map(e -&gt; e.getKey()).collect(Collectors.toList()); chromosomes.clear(); while (chromosomes.size() &lt; generation_size) { int parent1 = rnd.nextInt(evaluated.size()); int parent2 = rnd.nextInt(evaluated.size()); char[] cArr1 = parents.get(parent1).toCharArray(); char[] cArr2 = parents.get(parent2).toCharArray(); for (int i = 0; i &lt; cnt_bins; i++) { boolean exchange = rnd.nextDouble() &lt; exchange_rate; if (exchange) { char c1 = cArr1[i]; char c2 = cArr2[i]; // exchange both values cArr1[i] = c2; cArr2[i] = c1; } // mutation boolean mutation = rnd.nextDouble() &lt; mutation_rate; if (mutation) { cArr1[i] = rnd.nextBoolean() ? '1' : '0'; } mutation = rnd.nextDouble() &lt; mutation_rate; if (mutation) { cArr2[i] = rnd.nextBoolean() ? '1' : '0'; } } chromosomes.add(new String(cArr1)); chromosomes.add(new String(cArr2)); } } System.out.println("No solution found after " + maxGenerationCnt + " iterations"); } private static int benchmark(String chromosome, boolean verbose) { int sum = 0; char[] cArr = chromosome.toCharArray(); for (int i = 0; i &lt; cnt_bins; i++) { if (cArr[i] == '1') { sum += stock[i]; if (verbose) System.out.println("storage bin " + i + ":\t+" + stock[i] + "\t= " + sum); } if (sum == target_qty) { return 0; } } return Math.abs(target_qty - sum); } }</span></span></code> </pre> <br></div></div><br><br>  рдФрд░ рдЕрдВрдд рдореЗрдВ: рдпрджрд┐ рдЖрдк рдорд╛рдкрджрдВрдбреЛрдВ рд╕реЗ рдЫреЗрдбрд╝рдЫрд╛рдбрд╝ рдХрд░рддреЗ рд╣реИрдВ - рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЙрддреНрдкрд░рд┐рд╡рд░реНрддрди, рдмрд╣реБрдд рдХрдо рдЬрдирд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдЖрдХрд╛рд░, рдЖрджрд┐ред  - рд╕рднреА рдЦрд░рд╛рдм рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕реНрдерд┐рд░ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рджреЗ рджреЗрдВрдЧреЗред <br><br>  рдпрд╣ рд╕рдорд╕реНрдпрд╛, рд╡реИрд╕реЗ, рдЕрдХреНрд╕рд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рд╣рд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ рдФрд░ рдЕрдЧрд▓реА рдкреАрдврд╝рд┐рдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ :) рдпрджрд┐ рдЖрдк рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдЬреАрд╡рди рдХреЛ рдЬрдЯрд┐рд▓ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рд╕реЗ рдЗрд╕ рд╡рд╛рдкрд╕реА рдХреЛ рд╣рдЯрд╛ рджреЗрдВ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sum == target_qty) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br><br>  рдпрд╣ рдХрд╛рд░реНрдп рдХреЛ рдЬрдЯрд┐рд▓ рдХрд░реЗрдЧрд╛ рдФрд░ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдереЛрдбрд╝рд╛ рдиреБрдХрд╕рд╛рди рдкрд╣реБрдВрдЪрд╛рдПрдЧрд╛ ... <br><br>  рд╕реМрднрд╛рдЧреНрдп рд╣реИ <br><br>  m_OO_m </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi465797/">https://habr.com/ru/post/hi465797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi465787/index.html">рдмрдХрд░реА рд╕реЗ рдкреНрд░реЗрдо рдХрд░реЛ</a></li>
<li><a href="../hi465789/index.html">рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╕рд┐рд╕реНрдХреЛ 200-125 CCNA v3.0ред рджрд┐рди 29. рдкреИрдЯ рдФрд░ NAT</a></li>
<li><a href="../hi465791/index.html">рдЦреБрджрд░рд╛ рд╡рд┐рдХреНрд░реЗрддрд╛ рдХрдордЬреЛрд░рд┐рдпрд╛рдВ - рддреАрди рдорд╛рдорд▓реЗ рдЬрд╣рд╛рдВ рдЕрдиреБрд░реЛрдз рдореЗрдВ рдУрдЯреАрдкреА рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ</a></li>
<li><a href="../hi465793/index.html">рдлреНрд░рдВрдЯреЗрдВрдб рд╡реАрдХрд▓реА рдбрд╛рдЗрдЬреЗрд╕реНрдЯ (26 рдЕрдЧрд╕реНрдд - 1 рд╕рд┐рддрдВрдмрд░ 2019)</a></li>
<li><a href="../hi465795/index.html">рдЕрдВрддрд┐рдо рд╕рдкреНрддрд╛рд╣ рд╕рдВред 378 (26 рдЕрдЧрд╕реНрдд - 1 рд╕рд┐рддрдВрдмрд░, 2019) рдХреЗ рд▓рд┐рдП рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рдордиреЗ рд╕реЗ рддрд╛рдЬрд╛ рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдкрд╛рдЪрди</a></li>
<li><a href="../hi465801/index.html">рдлреВрдб рдбрд┐рдЬрд╝рд╛рдЗрди рдбрд╛рдЗрдЬреЗрд╕реНрдЯ, рдЕрдЧрд╕реНрдд 2019</a></li>
<li><a href="../hi465803/index.html">рдЧреЛ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдорд╛рд╡реЗрди-рд╡реЗ</a></li>
<li><a href="../hi465805/index.html">рдЧрд┐рдЧрд╛рдЯреНрд░реЙрди - рдПрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдШрд░ рдХрд╛ рдмрдирд╛ рдорд╛рдЗрдХреНрд░реЛ рдХрдВрдкреНрдпреВрдЯрд░</a></li>
<li><a href="../hi465807/index.html">рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдХрдкреНрд░рд┐рдп рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреА рдХрд╣рд╛рдиреА рдХреИрд╕реЗ рд╢реБрд░реВ рд╣реБрдИ</a></li>
<li><a href="../hi465809/index.html">рд╕рдордп рд╕реЗ рдкрд╣рд▓реЗ рдЕрдиреБрдХреВрд▓рди рдХреЗ рдЬрд╛рд▓ рдореЗрдВ рди рдкрдбрд╝реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>