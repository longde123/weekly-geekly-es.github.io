<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸï¸ ğŸ¤´ğŸ» âœï¸ Kembali ke Masa Depan dengan WebAssembly ğŸ‘‰ğŸ¼ ğŸ™ğŸ½ ğŸ­</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya hadir untuk Anda terjemahan artikel "Kembali Ke Masa Depan Dengan WebAssembly" oleh Attila VÃ¡gÃ³. 

 Posting ini adalah terjemahan dar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kembali ke Masa Depan dengan WebAssembly</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453008/">  Halo, Habr!  Saya hadir untuk Anda terjemahan artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Kembali Ke Masa Depan Dengan WebAssembly"</a> oleh Attila VÃ¡gÃ³. <br><br><h4>  Posting ini adalah terjemahan dari artikel yang membahas tentang properti WebAssemly dan Emscripten.  Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=http://">asli</a> dalam bahasa Inggris. </h4><br>  <i>Penulis artikel, Attila Vago, adalah pengembang perangkat lunak senior di HMH.</i>  <i>Menulis kode, blog, dan hal-hal lain di Internet.</i>  <i>Poliglot bahasa pemrograman, figur pragmatis, dengan hasrat untuk JavaScript dan akses mudah.</i>  <i>Orang yang mudah terinspirasi dan menginspirasi dengan kecanduan yang kuat pada hal-hal untuk kutu buku, makanan enak, bir kerajinan tangan dan Lego.</i>  <i>Digunakan oleh Mac.</i>  <i>Dia berolahraga jam 6 pagi.</i> <br><br><p>  Pada tahun 2011, saya menulis baris independen non-HTML code saya (saya bekerja dengannya pada tahun 2007), dan itu ditulis dalam huruf C kuno yang sangat bagus yang diajarkan oleh Profesor David J. Malan dari Universitas Harvard.  Dia akan selamanya menjadi inspirasiku tidak hanya untuk studi pemrograman, tetapi juga untuk pemikiran terprogram.  Saya juga ingat bahwa membuat sandwich selai kacang hanya untuk saya, tetapi itu adalah tugas yang sangat sulit untuk komputer dan sama sulitnya bagi seseorang yang berpura-pura menjadi komputer. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wEdvGqxafq8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><p>  Jika Anda menonton video, setidaknya 18 menit pertama (saya tahu itu butuh waktu lama, tetapi pemrograman butuh waktu), maka Anda akan mengerti mengapa sampai hari ini C dekat dengan hati saya.  Yang mengecewakan saya, saya tidak pernah mempelajarinya, karena, mari kita hadapi itu, untuk seorang pengembang web, C adalah yang paling tidak prioritas.  Saya tidak pernah memiliki alasan nyata untuk terjun jauh ke dalam bahasa ini, meskipun membeli kursus Udemy dan buku C yang tak terhitung jumlahnya, saya tidak pernah menyentuhnya (menjaga pandangan menghakimi Anda sendiri, Anda juga melakukannya) atau berbohong kepada diri sendiri bahwa jika saya membeli arloji pintar Pebble, yang bekerja di C, maka pastikan untuk menulis kode untuk mereka.  Ya tentu saja!  Tak satu pun dari alasan ini yang cukup baik. </p><br><h4>  Apa itu WebAssembly dan bagaimana cara menyalip JS? </h4><br><p>  WebAssembly (Wasm for short) adalah format instruksi biner untuk mesin virtual yang ditumpuk. </p><blockquote>  "Wasm dikembangkan sebagai platform portabel untuk mengkompilasi bahasa tingkat tinggi seperti C / C ++ / Rust, yang memungkinkan Anda untuk menyebarkan aplikasi klien dan server di Internet" </blockquote>  - mohon jelaskan webassembly.org <p></p><br><p>  Dengan kata lain, hal di atas berarti Anda dapat menulis modul yang berfungsi di Internet di browser / server, tetapi ditulis dalam bahasa seperti C, dikompilasi ke dalam file biner dan karenanya sangat cepat karena mereka bekerja langsung pada perangkat keras mesin.  Dibandingkan dengan mereka, bahasa scripting seperti JavaScript memiliki beberapa tingkat abstraksi antara kode dan perangkat keras, yang, antara lain, membuatnya lambat.  Tentu saja, ini tidak selalu penting, dan masing-masing memiliki tempat sendiri dalam program atau bahkan ekosistem web. </p><br><p>  Berdasarkan hal ini, Wasm by structure (awalnya) hanya mendukung bilangan bulat dan angka floating-point, yang memberikan kekuatan komputasi yang besar dan, oleh karena itu, sering digunakan untuk implementasi tipe kanvas.  Penting untuk dipahami bahwa WebAssembly bukan ancaman bagi JavaScript - setidaknya untuk saat ini - dan, seperti yang akan Anda lihat nanti dalam artikel ini, C dan JavaScript sebenarnya dapat hidup sangat bahagia dalam proyek yang sama dan dapat menjalankan kode masing-masing.  Ya, sesuatu seperti itu. </p><br><br><h4>  Emscripten "lem" C dan JS </h4><br><p>  Sekarang tunggu!  Saya tahu apa yang saya katakan.  Anda tidak bisa mengatakan hal-hal seperti "jalankan C di JS dan sebaliknya" dan berharap dunia tidak bereaksi. Betapapun anehnya kedengarannya, saya tidak bodoh. Ternyata Emscripten adalah rangkaian alat untuk menyusun di asm.js dan WebAssembly, dirancang menggunakan LLVM (Ya Tuhan, saya belajar setengah dari hal-hal ini saat mengetik teks artikel), yang memungkinkan Anda untuk menjalankan C dan C ++ di Internet pada kecepatan yang hampir asli tanpa plug-in. </p><br><p>  Nah, inilah yang perlu Anda soroti dari sini untuk diri Anda sendiri.  Emscripten membantu Anda mengkompilasi kode C di WebAssembly, menyediakan alat tambahan untuk memudahkan pemuatan pada pengembang saat berkomunikasi antara dua bahasa, dan membantu meluncurkan Wasm dalam proyek web Anda.  Perintah kompilasi dasar untuk Emscripten adalah sebagai berikut: </p><br><pre><code class="plaintext hljs">emcc lib/strings.c -s WASM=1 -o public/strings.js</code> </pre> <br>  Sementara perintah non-dasar berjalan seperti ini: <br><br><pre> <code class="plaintext hljs">emcc lib/imports.c -s WASM=1 -s EXPORTED_FUNCTIONS="['_getNum', '_main', '_getDoubleNum', '_greet']" -o public/imports.js</code> </pre> <br><p>  Menyiapkan Emscripten bukan hal termudah, tetapi tidak meluncurkan roket.  Satu-satunya hal yang mempersulit pengaturan adalah bahwa ia memiliki banyak dependensi seperti Python, Node, xCode, Git, dan cMake.  Semua instruksi dapat ditemukan di halaman instalasi dan mudah diikuti. <br>  Karena itu Emscripten: <br><br></p><ul><li>  adalah alat yang hebat untuk porting, memungkinkan Anda untuk mengkompilasi proyek yang ada ditulis dalam C atau C ++ dan menjalankannya di semua browser modern.  <i>Keluar dari sini, Internet Explorer!</i> </li><li>  bagus untuk API karena ia mengubah OpenGL ke WebGL dan memungkinkan Anda untuk menggunakan API yang sudah dikenal seperti SDL atau langsung HTML5.  <i>Oh ya!</i> </li><li>  Dan ini sangat cepat: terima kasih kepada LLVM, Emscripten, asm.js dan WebAssembly, kodenya berjalan hampir dengan kecepatannya sendiri.  <i>Lari, kelinci, lari!</i> <br></li></ul><p></p><br><p>  Catatan: Anda tidak perlu Emscripten untuk menghasilkan Wasm, karena semua browser baru memiliki API untuk mendukung Wasm di jendela yang sama, yang menjalankan Emscripten sebagai lapisan teratas, yang membuat kehidupan pengembang lebih mudah.  Sebagai contoh, Emscripten akan menyesuaikan jumlah memori untuk Anda, yang bisa membosankan melalui C. </p><br><h4>  Contoh ... contoh ada di mana-mana! </h4><br><p>  Anda tahu, seperti kata mereka, <i>â€œsatu baris kode bernilai ribuan kataâ€</i> , - OK, ini adalah hak prerogatif narator dan semua itu, jadi tanpa basa-basi lagi, mari kita lihat beberapa kode asli.  Komentar di luar topik: hari itu saya tidak bisa mengatasi sintaks C. Itu tidak mengkompilasi separuh waktu, karena kode saya akan goyah.  Dan setelah delapan tahun saya suka ini: <i>"Ya, sepertinya JavaScript</i> . <i>"</i> </p><br><p>  Guys, jika seseorang mulai melihat kode C di React saya, bawa saya kembali ke kenyataan, oke? </p><br><p>  Sedikit topik, inilah kode C saat ini: </p><br><img src="http://habrastorage.org/webt/ck/lg/et/cklgetgfjlx_kvbbco7_mfazc7w.png" alt="gambar"><br><br><p>  Dan, karenanya, dalam JavaScript: </p><br><img src="http://habrastorage.org/webt/tt/co/wk/ttcowkhhzlmtmqlqgst67lulqbg.png" alt="gambar"><br><br><p>  Oke, apa sebenarnya yang terjadi pada file-file ini?  Sebenarnya cukup banyak, jadi saya akan daftar. <br></p><ol><li>  Penting untuk memahami bahwa <b>main ()</b> , kecuali ditentukan lain, selalu dimulai terlebih dahulu dan juga dikompilasi secara default.  Jika Anda ingin mengkompilasi fungsi lain, Anda harus mengaturnya secara khusus di flag array <b>EXPORTED_FUNCTIONS</b> , seperti yang ditunjukkan pada bagian sebelumnya. </li><li>  Anda menulis kode C, seperti biasa, mengimpor perpustakaan regulernya, tetapi di atas ini Anda mendapatkan gula sintaksis Emscripten, serta lebih banyak metode / fungsi daripada dengan alat lain. </li><li>  File <b>import.js</b> (namanya sewenang-wenang, tetapi selalu sama dengan file C) yang dirujuk oleh HTML tidak lebih dari "lem" Emscripten, yang secara otomatis dihasilkan saat kompilasi.  Tidak perlu khawatir, pastikan saja benar-benar direferensikan. </li><li>  <b>Printf</b> hanyalah pernyataan C biasa yang mendaftarkan string pada konsol.  Tidak ada yang istimewa, teruskan. </li><li>  Baris 14 dan 17 adalah anti-pola, tetapi contoh yang baik untuk menjalankan JS dalam kode C. Satu-satunya perbedaan nyata antara <b>emscripten_run_script</b> dan <b>emscripten_async_run_script</b> adalah bahwa yang terakhir memungkinkan Anda untuk menjalankan JS di C secara tidak sinkron.  Sebagian besar dengan <b>setTimeout ()</b> .  Alasan saya mengatakan bahwa ini adalah anti-pola karena memang begitu.  Seluruh gagasan WebAssembly adalah menjalankan C di JS, bukan JS di C, dan karenanya ... </li><li>  Baris 20 dan 24 dan fungsi JS terkait di file <b>index.html</b> mewakili templat yang benar, yaitu mendeklarasikan JS Anda di JS Anda dan mengembalikan sesuatu untuk C. </li><li>  <b>EM_JS</b> , yang kemudian meluncurkan <b>jsFunction</b> , adalah cara yang lebih mudah - untuk mencapai tujuan yang sama seperti pada poin 4 dan 5. </li></ol><br><p>  Hasil prediksi di atas adalah sebagai berikut: </p><br><img src="http://habrastorage.org/webt/xd/lp/ew/xdlpewar42x522efjks9j2tdii4.png" alt="gambar"><br><br><p></p><h4>  Wanita di depan! </h4><p></p><br><p>  Seperti halnya kode apa pun, WebAssembly juga memiliki perintah yang sedang berjalan.  Jangan main-main dengan antrian!  Pesanan dalam hal ini adalah standar untuk pesanan C.  Semuanya dimulai pada Main () dan kapan pun <b>main ()</b> siap, Wasm siap.  Namun, apa yang terjadi jika Anda memerlukan fungsi statis untuk memanggil saat runtime?  Yah, hanya sedikit gula sintaksis Emscripten, dan semuanya berjalan seperti jarum jam: </p><br><img src="http://habrastorage.org/webt/ak/vg/vy/akvgvyjdhbok35-ggr2ktamzsys.png" alt="gambar"><br><br><h4>  Kami mengumpulkan lalat dari kue </h4><br><p>  Ini adalah kode yang ditulis dengan baik, terutama hal-hal sederhana yang diilustrasikan pada bagian sebelumnya, tetapi kita semua tahu bahwa dunia nyata jauh lebih besar daripada "Hello World", dan setengah dari waktu masing-masing pengembang dihabiskan untuk mencari tahu mengapa kode tidak melakukan apa seharusnya.  Bug tidak bisa dihindari dan dalam arti adalah bagian dari kehidupan. </p><br><p>  Ketika Anda menjalankan C di JS atau Wasm apa pun, dalam hal ini, semuanya bisa menjadi lebih menyedihkan.  Untungnya, Emscripten kembali menyelamatkan dengan menyediakan dua metode debug yang sangat berguna: </p><br><pre> <code class="plaintext hljs">// browser debugger gets triggered emscripten_debugger(); // browser console warning with stack-trace emscripten_log(EM_LOG_WARN, â€œ'param' your messageâ€);</code> </pre> <br><h4>  Gonzalez Cepat bergegas membantu </h4><br>  Percaya atau tidak, pencipta Emscripten telah memikirkan segalanya.  Satu fitur besar - dan yang terakhir yang akan saya sebutkan dalam artikel ini, karena terlalu banyak untuk menempatkan semuanya dalam satu - adalah dasar untuk pengembangan dan pengujian yang cepat.  Anda dapat mengkompilasi Wasm Anda, membangun sebuah proyek dan memulai server dalam satu gerakan: <p></p><br><pre> <code class="plaintext hljs">emrun --port 7777 --no_browser public/index.html Now listening at http://localhost:7777/</code> </pre> <br>  Halaman html yang Anda jalankan tidak mampu emrun.  Pengambilan stdout, stderr dan exit (returncode) tidak akan berfungsi.  Kompilasi ulang aplikasi dengan flag --emrun linker untuk mengaktifkan ini, atau meneruskan --no_emrun_detect ke emrun untuk menyembunyikan pemeriksaan ini. <br><p>  Oke, dalam dua orang ... contoh di atas berfungsi, tetapi yang berikutnya berfungsi lebih baik, yang menjelaskan kesalahan yang ditampilkan. </p><br><pre> <code class="plaintext hljs">&lt;b&gt;// compile as emrun project emcc lib/strings.c -s WASM=1 --emrun -o public/index.html // run the emrun server again emrun --port 7777 --no_browser public/index.html&lt;/b&gt;</code> </pre> <br><p>  Saya biarkan begitu saja.  Mempelajari WebAssembly, saya merayakan Hari St. Patrick dan hari berikutnya.  Tidak yakin apa yang akan terjadi selanjutnya, tetapi saya cukup senang duduk di depan monitor selama dua hari, mencoba masuk ke dasar-dasar WebAssebly, dan itu harus berarti sesuatu, bukan?  Ini adalah kode C yang saya tulis sejak 2011, dan rasanya luar biasa.  Saya pikir WebAssembly memiliki masa depan yang nyata, tetapi saya tidak yakin apakah itu benar-benar akan mengambil alih jaringan dan membunuh JS, seperti yang diberitakan beberapa orang.  Apa yang kamu pikirkan </p><br><img src="https://cdn-images-1.medium.com/max/800/1*PM2kQWEmOeAsRwenG-bDAA.png" alt="gambar"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id453008/">https://habr.com/ru/post/id453008/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452998/index.html">Android Widget dinamis dalam bentuk kartu berdasarkan StackView (sesuatu seperti Tinder)</a></li>
<li><a href="../id453000/index.html">Toko Koper: BUgHunting. Cara menemukan 200 bug per hari</a></li>
<li><a href="../id453002/index.html">Terminal Windows Baru: Jawaban atas Pertanyaan Anda</a></li>
<li><a href="../id453004/index.html">Kami mengirim Habr ke Mars, Anda juga bisa terbang</a></li>
<li><a href="../id453006/index.html">Istilah IT sebagai contoh dari proses penanaman kentang</a></li>
<li><a href="../id453010/index.html">Perbandingan 10 lampu halogen H4 Philips, Osram, PIAA, Koito, Bosch. Hasilnya mengejutkan.</a></li>
<li><a href="../id453012/index.html">Sebuah cerita foto pendek tentang perjalanan ke Caucasus Mountain Observatory</a></li>
<li><a href="../id453014/index.html">EyeWire - terus mempelajari rahasia otak</a></li>
<li><a href="../id453016/index.html">Akademi 3D Top mengundang untuk bertukar program pengalaman di pabrik Foliplast</a></li>
<li><a href="../id453018/index.html">Studi pengaruh berbagai reflektor dan hamburan pada bentuk balok cahaya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>