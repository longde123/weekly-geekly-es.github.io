<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèª üöÑ üßîüèº WebRTC √ºber Kurento: Test- und Implementierungserfahrung ‚òÑÔ∏è üçû ü¶ã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich meine Erfahrungen mit der WebRTC-Technologie und dem Kurento-Medienserver w√§hrend der Test- und Implementierungsphase teil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WebRTC √ºber Kurento: Test- und Implementierungserfahrung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/478536/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gp/n6/4m/gpn64m3nht-yuv6pzbeye6d8zv0.png"></div><br>  In diesem Artikel werde ich meine Erfahrungen mit der WebRTC-Technologie und dem Kurento-Medienserver w√§hrend der Test- und Implementierungsphase teilen.  Ich erz√§hle Ihnen, auf welche Probleme ich gesto√üen bin und wie ich sie gel√∂st habe.  Ich werde nicht dar√ºber sprechen, wie man eine Anwendung von Grund auf neu entwickelt, aber ich werde viele n√ºtzliche Links geben.  Ich bin mir sicher, dass meine Geschichte f√ºr diejenigen n√ºtzlich sein wird, die mit WebRTC arbeiten werden. <br><a name="habracut"></a><br><h3>  Einleitung </h3><br>  Das Medical Information System (MIS), das von unserem Unternehmen entwickelt wird, ist bereits zu einem riesigen Unternehmensprojekt mit vielen Mikrodiensten, Messaging-Bussen, mobilen Kunden usw. gewachsen.  Einige Teile des Systems m√ºssen f√ºr die Entwicklung und Unterst√ºtzung von Drittanbieterorganisationen bereitgestellt werden, da sie nicht unser Profil sind. <br><br>  Der Telemedizin-Dienst ist eines dieser MIS-Module.  Es gab keine Erfahrung mit der Entwicklung von Videokonferenzen und der Verwendung von WebRTC, und der Auftrag wurde delegiert.  Aufgrund verschiedener Umst√§nde wurde die Unterst√ºtzung von Videokonferenzen nach einiger Zeit eingestellt.  Ohne Unterst√ºtzung wurde dieser Dienst deaktiviert und sammelt Staub im Repository. <br><br>  Und jetzt ist es Zeit, diesen Mikrodienst wiederzubeleben.  Es wurde beschlossen, Telemedizin selbstst√§ndig neu zu starten.  Unser Unternehmen ist gewachsen, es sind mehr Spezialisten hinzugekommen - es ist m√∂glich und notwendig, neue Themen f√ºr die Entwicklung zu beherrschen.  Ich war bisher noch nicht mit der Video√ºbertragung befasst, aber es war sehr interessant, eine so vielversprechende Technologie wie WebRTC zu verstehen und zu studieren. <br><br>  Hier sind einige sehr n√ºtzliche Links zur WebRTC-Technologie und zum Kurento-Server, die mir am Anfang geholfen haben: <br><br><ul><li>  <a href="https://habr.com/ru/post/435580/">Java, Spring, Kurento und Media Services</a> </li><li>  <a href="https://habr.com/ru/company/Voximplant/blog/344794/">WebRTC: Wie sich zwei Browser auf Sprach- und Videoanrufe einigen</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/324914/">Wir entwickeln einen Video-Chat zwischen dem Browser und der mobilen Anwendung</a> </li></ul><br><h3>  Erste Schritte </h3><br>  Die Aufgabe war einfach: Das vorhandene Videokonferenzsystem wiederherzustellen, eine Bestandsaufnahme der bereits durchgef√ºhrten Vorg√§nge zu erstellen und gegebenenfalls nach den W√ºnschen der Benutzer zu √§ndern.  Die ersten Tests auf virtuellen Maschinen und realen Computern waren erfolgreich.  Die Bereitstellung des Systems beim Kunden brachte jedoch gro√üe Probleme mit sich. <br><br>  Ich m√∂chte Sie daran erinnern, dass der Kunde bereits √ºber ein medizinisches Informationssystem (MIS) verf√ºgt, das eine Vielzahl von Aufgaben abdeckt: von der elektronischen Warteschlange √ºber den Arbeitsplatz des Arztes, Dokumentenmanagement und PACS bis hin zum Teilsystem f√ºr das Management medizinischer Ger√§te. <br><br>  Als es notwendig wurde, Videokonferenzfunktionen zu entwickeln, um medizinisches Personal von Diagnosezentren (im Folgenden als DC bezeichnet) mit entfernten Patienten zu verbinden, wurden zwei Voraussetzungen festgelegt: <br><br>  Alle Konferenzen sollten aufgezeichnet und auf dem Server gespeichert werden. <br><br>  Patienten sollten keine zus√§tzlichen Programme auf ihren Ger√§ten installieren, mit Ausnahme des Browsers, der in den meisten F√§llen bereits vorinstalliert ist. <br><br>  WebRTC funktioniert √ºber einen Browser ohne zus√§tzliche Programme oder Plugins.  Und Kurento kann alles aufzeichnen, was es durchl√§uft.  Au√üerdem verf√ºgt dieser Medienserver √ºber eine Reihe vorgefertigter Bibliotheken f√ºr die Arbeit mit seiner API √ºber Java und JavaScript, was die Entwicklung erheblich vereinfacht. <br><br>  Die Entwicklung des Serverteils bzw. dessen Basis, noch bevor ich mit der Aufgabe begonnen habe, wurde vom Kunden an ein Outsourcing-Unternehmen an ein Drittunternehmen √ºbertragen.  Es gab also einen "Managing Server" (CSS) - eine fertige Serverbasis, die ich zur Implementierung bekam. <br><br><h4>  Die allgemeine Idee der Interaktion sah anfangs so aus: </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/y-/qt/uey-qt4cvt81f4clyn6e0kdp4s4.png"></div><br>  Im Laufe der weiteren Arbeit hat sich das gesamte System ge√§ndert und ist komplizierter geworden. <br><br><h3>  Erste Reanimationserfahrung </h3><br>  Nach dem Einsatz in einem Testnetzwerk auf virtuellen Maschinen und auf mehreren "Live" -Computern wurden viele Tests und Experimente durchgef√ºhrt - alles hat einwandfrei funktioniert.  Dementsprechend ist es an der Zeit, sich in ein echtes, funktionierendes Netzwerk einzuf√ºgen. <br><br>  Zum Testen wurde ein verantwortliches Opfer in Form eines Arztes und seines Arbeitsplatzes beauftragt, mir zu helfen.  Und der zweite Anruf √ºber den Telemedizin-Mikrodienst st√ºrzte ab! <br><br>  Es ist gut, dass dies w√§hrend des Betatests passiert ist, und au√üer mir und einem Arzt, der mit den Abenteuern zufrieden war, hat dies niemand gesehen. <br><br>  Was passiert und warum die Verbindung nicht hergestellt wird, war sehr schwer zu verstehen.  WebRTC zeigt keinen Fehler an - es wartet nur auf das Erscheinen eines Signals.  Das Debuggen war unwissentlich sehr schwierig: Der Serverteil funktioniert gut, Kurento schweigt in den Protokollen, Clients warten auf den Stream, aber es passiert nichts. <br><br>  Habr half (Lob sei ihm): <br><br><ul><li>  <a href="https://habr.com/ru/company/Voximplant/blog/417869/">Wie man WebRTC debuggt.</a> </li><li>  <a href="https://habr.com/ru/company/Voximplant/blog/351234/">5 Fehler beim Entwickeln von WebRTC-Aufrufen aus dem Browser</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/419951/">Erfahrung mit WebRTC.</a>  <a href="https://habr.com/ru/company/yandex/blog/419951/">Yandex Vortrag</a> </li></ul><br>  Es ist bedauerlich, dass ich diese Werkzeuge vorher nicht gekannt habe. <br><br>  Nach der Analyse der Protokolldaten und der √úberwachung des Status der Verbindungen wurde klar, dass sowohl die serverseitigen als auch die Clientskripte nicht auf Ereignisse im WebRTC-System reagierten.  Und wo bekommt man diese Events? <br><br>  Die Entwickler des kurento-Servers stellen eine sehr praktische JavaScript-Bibliothek f√ºr die Arbeit mit WebRTC zur Verf√ºgung: kurento-utils.js. <br><br>  Um schnell zu beginnen, erstellen Sie einfach ein Objekt: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly(options, callback());</code> </pre> <br>  Um auf Ereignisse zugreifen zu k√∂nnen, m√ºssen die internen Methoden der Bibliothek neu definiert werden.  Ich habe den Code so weit wie m√∂glich vereinfacht, um ihn klarer zu machen: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    WebRtcPeerRecvonly var options = { //      peerConnection: getRTCPeerConnection(videoId), remoteVideo: videoElement, // //  ICE  onicecandidate: function (candidate) { onIceCandidate(candidate, videoId, true); }, onerror: onError, //   mediaConstraints: { //  video: true, audio: true} }; //  WebRTC incomeWebRtc[videoId] = new kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly( options, function (error) { if (error) { return console.error(error); } this.generateOffer( function (error, sdpOffer) { //  }); }); //      function getRTCPeerConnection( videoId ){ var configuration = { "iceServers": [ {"url": "stun:" + stunServer}, {"url": "turn:" + turnServer, credential: turnCredential, username: turnUsername} ] }; var mypc = new RTCPeerConnection(configuration); //      mypc.oniceconnectionstatechange = function(){ state = this.iceConnectionState; console.info("### iceConnectionState " + videoId + " &gt; " + this.iceConnectionState); }; mypc.onsignalingstatechange = function(){ state = this.signalingState || this.readyState; console.info("### SignalingState " + videoId + " &gt; " + state); }; mypc.onconnectionstatechange = function(){ console.info("### ConnectionState " + videoId + " &gt; " + this.connectionState); }; return mypc; }</span></span></code> </pre><br><h3>  Apropos Zertifikate </h3><br>  Da es sich bei dem Artikel um meine Erfahrungen handelt, werde ich Informationen weitergeben, die moderne Browser in Bezug auf die Sicherheit sehr streng haben.  Wenn die Ressource √ºber ein selbstsigniertes Zertifikat verf√ºgt, untersagt der Browser auch mit besonderer Erlaubnis den Zugriff auf Computerperipherieger√§te. <br><br>  Sie k√∂nnen ein Zertifikat f√ºr kostenlose Ressourcen im Internet erstellen und ein lokales Netzwerk f√ºr dessen Verwendung konfigurieren oder Firefox ab Version 65 herunterladen. Klicken Sie in dieser Version einfach auf die Schaltfl√§che, die ich mit den Risiken von selbstsignierten Zertifikaten und dem Zugriff auf Kameras und Mikrofone einverstanden bin. <br><br>  Dieser Weg schien mir einfacher. <br><br><h3>  Zweiter Test (schon vorsichtig) </h3><br>  Es schien mir, dass der Arzt Popcorn holen w√ºrde, wenn er mich beim n√§chsten Test sah.  Er genoss es offensichtlich, mir beim Kampf mit moderner Technologie zuzusehen. <br><br>  Tats√§chlich war dieses Systemupdate keine Ver√∂ffentlichung, da ich nichts behoben habe und nicht einmal die Ursache der Probleme kannte.  Ich wiederhole, dass im B√ºro alles perfekt funktioniert hat.  Die Reaktionen auf alle Ereignisse, die von WebRTC und Kurento generiert wurden und nach denen ich griff, wurden dem Code hinzugef√ºgt, und all dies wurde sehr detailliert in die Protokolle geschrieben.  Ich habe meine Protokolle sogar in separaten Dateien abgelegt, damit sie nicht mit den Hauptprotokollen in der IIA verwechselt werden. <br><br>  Zusammen mit einem begeisterten Arzt und Systemadministrator des Kunden haben wir das System ausprobiert.  Sie haben nicht einmal getestet, n√§mlich "gefoltert".  Wir haben Videokonferenzen in allen m√∂glichen Modi und auf allen verf√ºgbaren Ger√§ten erstellt.  Andere √Ñrzte und ein Teil des Personals der Au√üenstelle waren an diesem Spiel beteiligt. <br><br>  Die Hauptsache war nicht, das System zu √ºberpr√ºfen (es hat nicht funktioniert), sondern so viele Daten wie m√∂glich zu sammeln.  Als Ergebnis stellte sich heraus, dass: <br><br><ol><li>  Ungef√§hr 80% der Versuche, eine Videokonferenz zu erstellen, sind erfolgreich. </li><li>  Einige Verbindungen mit ICE-Kandidaten f√ºr IPv6 funktionieren nicht. </li><li>  Von 5 Mobilfunkbetreibern arbeiteten nur 2. </li></ol><br><h3>  Es hat sich herausgestellt, dass alles einfach ist. Mit Google allein k√∂nnen Sie nicht weiterkommen </h3><br>  Die Analyse der gesammelten Informationen hat ergeben, dass die Verbindung √ºber den TURN-Server von Google instabil ist.  Entweder ist die Last auf ihnen gro√ü, oder es ist nur ein Demo-Server f√ºr diejenigen, die gerade erst anfangen, die Technologie zu lernen.  Fakt ist aber: sehr h√§ufige Ausf√§lle.  Ben√∂tigen Sie Ihren eigenen TURN / STUN-Server! <br><br>  Der zweite Grund f√ºr die Fehler sind die IPv6.local-Adressen.  Der kurento-Server akzeptiert keine ICE-Kandidaten mit diesen Adressen.  Es ist gut, dass ich vor dem Versenden aller ICE-Kandidaten den Code in meinen H√§nden durchgesehen habe und nur IPv6.local herausgefiltert habe. <br><br>  Mit seinem TURN / STUN-Server ist das Problem der Mobilfunkbetreiber wieder gel√∂st. <br>  Bei drei von f√ºnf Mobilfunkbetreibern ist NAT symmetrisch, und WebRTC kann nicht durchbrechen.  Weitere Details finden Sie hier: <a href="https://habr.com/ru/post/150298/">Ist Symmetric NAT schrecklich?</a> <br><br>  Schade, dass mein pers√∂nliches Handy mit einer SIM-Karte eines Betreibers funktioniert, der sich nicht um symmetrischen Schutz gek√ºmmert hat.  Daher haben meine ersten Tests dieses Problem nicht aufgedeckt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9b/g4/ie/9bg4ieg5oblnd8f24osrtmwetws.png"></div><br><h3>  TURN / STUN-Server </h3><br>  Das Paket resiprocate-turn-server wurde als Server ausgew√§hlt. <br><br>  Sie haben sich lange Zeit nicht daf√ºr entschieden - es befindet sich im Standard-Ubuntu-Repository - einfache Installation und automatische Updates.  Es ist jedoch nicht sehr praktisch, mit Konten zu arbeiten, um eine Verbindung herzustellen: Anmeldungen und Kennw√∂rter werden nur aus der Datei √ºbernommen. Aus diesem Grund m√ºssen Sie ein zus√§tzliches Dienstprogramm oder Skript erstellen, um sie aus der Datenbank des Hauptservers zu exportieren. <br><br>  Momentan wird diese Datei von Hand generiert und die Konten werden √ºber einen einfachen Kennwortpool verteilt.  Die Autorisierung wird √ºber den MIS-Hauptserver implementiert, sodass die Sicherheit nicht beeintr√§chtigt wird.  Aber die Gesamtstruktur des gesamten Systems sieht h√§sslich aus.  Die Pl√§ne f√ºr diesen Moment neu zu machen. <br><br><h3>  Dritte Reise zum Kunden </h3><br>  Ich habe den Code korrigiert, meinen TURN / STUN-Server installiert und konfiguriert, einen Pool von Passw√∂rtern erstellt und diese zu Beginn einer Videokonferenz an die Kunden verteilt. Nach der Aktualisierung der Produktionsserver bin ich zu einem Arzt gegangen, den ich bereits kannte. <br><br>  Es funktioniert  Hurra!  Alle Konferenzstarts sind von allen Ger√§ten und in allen Modi erfolgreich: Der Patient aus dem pers√∂nlichen Konto kann den Arzt anrufen, der Therapeut w√§hrend des Empfangs kann den Funktionsdiagnostiker zur zus√§tzlichen Beratung anrufen, und die √Ñrzte k√∂nnen selbst eine Mehrbenutzer-Videokonferenz aus verschiedenen Filialen aus der ganzen Stadt arrangieren. <br><br>  Bereits aus bitterer Erfahrung gelernt, haben wir akribische Tests mit der k√ºnstlichen Erzeugung von Notsituationen durchgef√ºhrt.  Aus dem Thema dieses Artikels hebe ich die Notwendigkeit hervor, ein Limit f√ºr die Verbindungswartezeit festzulegen.  WebRTC und Kurento warten darauf, dass die √úbertragung unendlich lange dauert, und hoffen, dass die Videobytes bald verf√ºgbar sind.  Ich musste einen Timer f√ºr 10 Sekunden einstellen, der dem verwaltenden Server einen Fehler anzeigt, wenn die Bytes nie angekommen sind. <br><br><h3>  Nach all den Verbesserungen </h3><br>  Schlie√ülich funktioniert das System und funktioniert gut.  Die ersten Bewertungen wurden von Nutzern im Feld gesendet.  Und sofort tauchten eine Vielzahl von W√ºnschen und Vorschl√§gen f√ºr Design, Zusatzfunktionen und sonstige Weiterentwicklungspl√§ne auf.  Die Arbeit begann mit neuer Kraft zu kochen! <br><br>  Nun sieht die vollst√§ndige Systemtopologie folgenderma√üen aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mr/ev/kn/mrevknsr8bnuhpmsnaowtthxd6m.png"></div><br><h3>  ERGEBNISSE: </h3><br>  Abschlie√üend m√∂chte ich Folgendes sagen: <br><br>  Erstens ist WebRTC eine exzellente Technologie mit guten Aussichten, aber es ist sehr schwierig, sie zu testen und zu debuggen.  Bevor Sie mit der Entwicklung beginnen, m√ºssen Sie unbedingt ein Netzwerk mit allen Arten von Verbindungen bereitstellen, √ºber die der Client m√∂glicherweise verf√ºgt.  Das Debuggen √ºber das Browser-Informationsfenster ist kein besonders praktisches Tool. <br><br>  Zweitens, Lob an Habru!  W√§hrend der Arbeit an diesem Projekt habe ich viele Informationen zu dieser Ressource gefunden.  Alle Links in diesem Artikel f√ºhren dorthin. <br><br>  Es wurde beschlossen, das Videokonferenzprojekt f√ºr Telemedizin f√ºr Support und Entwicklung in unserer Organisation zu belassen, wir werden es nicht auslagern.  Auch in Zukunft gibt es noch viel Arbeit: <br><br><ul><li>  Das Aufkleben der aufgenommenen Videos ist abgeschlossen.  Ich werde mich wieder an Habr wenden, ich habe bereits einen Artikel gefunden: <a href="https://habr.com/ru/post/277179/">Videofragmente von mehreren Kameras kombinieren und zeitlich synchronisieren.</a> </li><li>  Das Benutzerregistrierungssystem auf dem Verwaltungsserver, dem Haupt-MIS-Server und dem Turn-Server muss neu gestaltet werden. </li><li>  Und die Frage ist offen, was den Durchsatz des gesamten Systems angeht.  Stresstests wurden noch nicht durchgef√ºhrt.  Vorbereiten, nochmal lesen Habr: <a href="https://habr.com/ru/company/Voximplant/blog/346924/">Wie viele Teilnehmer k√∂nnen an einem WebRTC-Anruf teilnehmen?</a> </li></ul><br><h3>  ALLES </h3><br>  Ich bin mir sicher, dass meine Erfahrung nicht nur f√ºr Entwickler unter WebRTC + Kurento von Nutzen sein wird, sondern auch f√ºr diejenigen, die gleicherma√üen komplexe Projekte umsetzen werden.  Achten Sie mehr auf Tests unter Bedingungen, die der Realit√§t m√∂glichst nahe kommen. <br><br>  Ber√ºcksichtigen Sie auch das Risiko, dass die Support-Teams f√ºr Ihre Microservices pl√∂tzlich ‚Äûverschwinden‚Äú - eine sehr unerwartete und unangenehme Aufgabe. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de478536/">https://habr.com/ru/post/de478536/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de478522/index.html">Gib es zu, Watson, bist du v√∂llig verbl√ºfft?</a></li>
<li><a href="../de478528/index.html">Haustier (eine fantastische Geschichte)</a></li>
<li><a href="../de478530/index.html">TechnoText-2019: Wer hat am Ende gewonnen und wof√ºr waren sie?</a></li>
<li><a href="../de478532/index.html">Wie Apple verdient: Die 5 profitabelsten Gesch√§ftsbereiche des Unternehmens und wie viel bringen sie dazu?</a></li>
<li><a href="../de478534/index.html">DevFest Sibirien 2019: Ein Blick auf Trends aus dem Outback</a></li>
<li><a href="../de478538/index.html">So √ºberpr√ºfen Sie Ihren Reisepass auf G√ºltigkeit</a></li>
<li><a href="../de478540/index.html">Vorbereitungen f√ºr das zehnte Forum ‚ÄûPositive Hack Days 10: Getting Started‚Äú</a></li>
<li><a href="../de478542/index.html">FigmaGen: Style Automation in der iOS App</a></li>
<li><a href="../de478544/index.html">Vue Storefront: Verzeichnis aus Magento 2 importieren</a></li>
<li><a href="../de478546/index.html">Websockets Erfahrung in Entwicklung und Betrieb. Wir modifizieren den Kunden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>