<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚öñÔ∏è üö∏ ‚ôÄÔ∏è Laissez le concours ATM seul les PHDays 8 üèì üëâüèº üìñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au Positive Hack Days 8, la bonne vieille comp√©tition pour le piratage Laisser les distributeurs automatiques de billets s'est √† nouveau tenue. Il y a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Laissez le concours ATM seul les PHDays 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/412735/">  Au Positive Hack Days 8, la bonne vieille comp√©tition pour le piratage Laisser les distributeurs automatiques de billets s'est √† nouveau tenue.  Il y avait deux distributeurs automatiques de billets √† la disposition des participants, le mat√©riel a √©t√© fourni par notre partenaire de s√©curit√© bancaire Alfa-Bank.  Surtout pour la concurrence, nous avons mis en place des distributeurs automatiques de billets et y avons mis des vuln√©rabilit√©s.  En 15 minutes, il a fallu contourner l'√©quipement de protection et retirer de l'argent de l'appareil.  La dotation s'√©levait √† 40 000 ‚ÇΩ.  Une quarantaine de participants sont venus tenter de contourner la d√©fense.  Leonid Krolle, organisateur du concours et sp√©cialiste du d√©partement de recherche sur la s√©curit√© des syst√®mes bancaires de Positive Technologies, a expliqu√© comment c'√©tait et analys√© les t√¢ches en d√©tail. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/lu/c9/cf/luc9cf7_e31tyqi6v7ejrodfxly.png"></a> <br><br>  <i>Laisser les concurrents ATM seuls</i> <br><br>  Les participants disposaient de deux distributeurs automatiques de billets.  Sur l'un d'eux, un logiciel de contr√¥le des applications de nos partenaires est install√©, ce qui emp√™che le lancement d'applications non fiables.  Il ne vous permet pas d'ex√©cuter toute application dont vous avez besoin pour retirer de l'argent (bonjour, Cutlet Maker, BubbleMaker et nemagiya!). <br><br>  Le deuxi√®me GAB est connect√© via le r√©seau pour tester le traitement, ce qui vous permet d'effectuer une op√©ration de retrait d'esp√®ces (disponible au GAB).  Cependant, le traitement envoie un signal √† √©mettre depuis la cassette dans laquelle il n'y a pas d'argent.  Par cons√©quent, la t√¢che des participants est de remplacer la r√©ponse de traitement pour √©mettre de l'argent √† partir de la bonne cassette. <br><br>  Les c√¢bles de connexion de l'ATM et du traitement de test sont situ√©s √† l'ext√©rieur, avec la possibilit√© de s'y connecter √† l'aide d'un c√¢ble r√©seau (LAN). <br><br>  Les joueurs ont retir√© tout l'argent retir√© du syst√®me. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/vh/g8/io/vhg8iogibjgk2plut3n6lmlxywu.png"><br><br>  <i>Distributeurs automatiques de billets √† deux jours du forum: ils √©taient tristes et seuls</i> <br><br><h2>  Contr√¥le d'application </h2><br>  Il existe plusieurs fa√ßons de v√©rifier si une application correspond √† une liste blanche donn√©e - de la v√©rification du chemin d'acc√®s au fichier ex√©cutable ou de son hachage √† l'analyse de la signature num√©rique et de l'extension.  Les outils de contr√¥le des applications sont le plus souvent utilis√©s pour fournir une protection suppl√©mentaire aux ordinateurs clients (ils interdisent le lancement de logiciels ne figurant pas sur la liste blanche) et pour s√©curiser les syst√®mes isol√©s, tels que les distributeurs automatiques de billets, qui n'impliquent pas une intervention op√©rationnelle constante. <br><br>  Si la liste noire des extensions √† bloquer est plus ou moins universelle et facile √† configurer, alors la liste blanche de ce qui est autoris√© √† s'ex√©cuter est redondante par d√©faut - elle inclut souvent toutes les applications du syst√®me d'exploitation au moment de la configuration. <br><br>  Au cours des derni√®res ann√©es, de nombreuses m√©thodes ont √©t√© d√©crites pour contourner le contr√¥le des applications √† l'aide d'outils Microsoft Windows (par exemple, ¬´rundll32¬ª, ¬´regsvr32¬ª), dont le simple blocage perturbe le fonctionnement normal du syst√®me d'exploitation.  Par cons√©quent, affiner le contr√¥le de l'application est un travail complexe et minutieux, dont le r√©sultat a √©t√© donn√© aux participants du concours de d√©chirure.  Notez que dans le monde r√©el, les attaquants n'ont pas autant de temps pour contourner le contr√¥le des applications. <br><br><h2>  Premier jour de comp√©tition </h2><br><img src="https://habrastorage.org/webt/xt/t6/f3/xtt6f3h0h1wgy5oy1ccte4rbqri.png"><br><br>  <i>La v√©rit√© de la vie :)</i> <br><br>  Le d√©but de la premi√®re journ√©e du concours a √©t√© marqu√© par un flux dense de participants au forum venus tenter le contournement du contr√¥le des applications et remplacer la r√©ponse du traitement - plus de 40 personnes au total. <br><br><img src="https://habrastorage.org/webt/yl/tq/96/yltq96ue_yjtqhenqxfjvzweoic.png"><br><br>  <i>Premiers participants</i> <br><br>  Au total, 15 minutes ont √©t√© allou√©es pour contourner la protection d'un GAB avec contr√¥le des applications: pendant ce temps, vous avez d√ª r√©ussir √† ex√©cuter votre code.  Malheureusement, le premier jour, toutes les tentatives des participants pour lancer leur exploit ont √©chou√©.  Cependant, un participant a r√©ussi √† trouver un √©trange appareil install√© sur un GAB.  C'√©tait un skimmer - un lecteur portable miniature qui peut √™tre connect√© √† un guichet automatique.  De tels appareils aident les fraudeurs √† voler les donn√©es des cartes bancaires: d√©tails, code PIN - toutes les informations enregistr√©es sur la bande magn√©tique. <br><br><img src="https://habrastorage.org/webt/sz/kd/sk/szkdskly0ge1n-elb3hiaz5d3ku.png"><br><br>  <i>Skimmer</i> <br><br>  Apr√®s avoir d√©tect√© l'√©cumoire, il a fallu en extraire les donn√©es de la carte: lors de la pr√©paration de la comp√©tition, les organisateurs y ont √©crit une d√©charge d'une carte inexistante avec un certain nombre. <br><br><div class="spoiler">  <b class="spoiler_title">Parlons un peu de la pr√©paration d'un skimmer pour une comp√©tition.</b> <div class="spoiler_text">  L'√©cumoire se compose d'une t√™te magn√©tique pour la lecture et d'un appareil pour enregistrer une piste audio (parfois avec Wi-Fi ou Bluetooth).  Cette instance peut √™tre r√©alis√©e sur la base d'un lecteur-enregistreur Explay ou d'un enregistreur vocal USB similaire.  Exemples <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  En termes de taille, ils s'ins√®rent simplement dans le rev√™tement de l'anti-skimmer et il y a encore de la place pour une batterie, car le mini de Frankenstein a d√ª √™tre pr√©par√© et relanc√©: un test de performance a √©t√© effectu√© sur un appareil similaire d'un autre mod√®le ATM.  Pour √©conomiser de l'espace, le tampon de montage du port USB est coup√©, j'ai donc d√ª faire l'adaptateur moi-m√™me. <br><br><img src="https://habrastorage.org/webt/e7/eu/ux/e7euux45y66_irhfyfm6te8sphy.png"><br><br>  <i>Faire un adaptateur</i> <br><br>  Nous avons test√© l'inclusion correcte du joueur de skimmer selon les instructions du joueur sur Internet (il n'y avait aucun signe sur les boutons, car ils restaient sur le bo√Ætier) et avons not√© la carte et le num√©ro que les participants devaient retirer du skimmer. <br><br><img src="https://habrastorage.org/webt/vw/cc/o7/vwcco7dgqrukqqn6gvzkty9x-14.png"><br><br>  Voici √† quoi ressemble une carte avec de la poudre magn√©tique appliqu√©e </div></div><br>  Les informations sur la bande magn√©tique de la carte sont enregistr√©es en utilisant un codage de fr√©quence F / 2F (avec ce qu'elles sont consomm√©es et comment elles peuvent √™tre d√©cod√©es - lire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ) et repr√©sentent des caract√®res alphanum√©riques en codage 7 bits ou des caract√®res num√©riques en codage 5 bits.  Pour d√©terminer les erreurs de lecture, un contr√¥le de parit√© et de redondance longitudinale (ou contr√¥le de veille longitudinal - LRC) est utilis√©. <br><br>  Les donn√©es sur n'importe quelle piste doivent commencer par le d√©but du symbole de service et se terminer par la fin du symbole de service.  Ces symboles sont choisis de mani√®re √† permettre de d√©terminer le d√©but d'un bloc d'informations utiles, de d√©terminer le sens de lecture de la carte et m√™me le format d'encodage des informations (5 bits ou 7 bits). <br><br>  Les caract√®res de contr√¥le sont con√ßus pour contr√¥ler le mat√©riel et ne peuvent pas √™tre utilis√©s pour transmettre des informations (contenu de donn√©es).  Les s√©parateurs sont utilis√©s pour s√©parer les champs de donn√©es sur la carte. <br><br>  Dans un codage 7 bits, les caract√®res [\] sont r√©serv√©s √† des caract√®res nationaux suppl√©mentaires et ne doivent pas √™tre utilis√©s dans le cadre de l'√©change international d'informations, le caract√®re # est r√©serv√© √† des caract√®res graphiques suppl√©mentaires arbitraires. <br>  Voici un exemple de ce √† quoi cela pourrait ressembler: <br><br>  - voie ISO 2 standard: <br><br>  <b>; XXXXXXXXXXXXXXXX = YYYYYYYYYYYYYYYYY? Z</b> - 37 caract√®res <br><br>  X ... X - num√©ro de carte, Z - LRC (les donn√©es commencent par le caract√®re de d√©but et se terminent par le caract√®re de fin, le num√©ro de carte est √† 16 chiffres, LRC est pr√©sent) <br><br><img src="https://habrastorage.org/webt/zt/l7/tm/ztl7tmpmtzjao3ulrofqqbnlv80.png"><br><br>  <i>Le moment des tests et du dumping</i> <br><br>  En fait, vous pouvez copier des donn√©es du lecteur sous la forme d'un fichier MP3, trouver o√π la piste est enregistr√©e, l'agrandir dans l'√©diteur audio et analyser peu √† peu, mais il existe des m√©thodes plus simples. <br><br>  Par exemple: <br><br><ul><li>  SWipe est une application pour lire des cartes √† bande magn√©tique sur un port audio. </li><li>  D√©codeur √† bande magn√©tique.  Un programme pour d√©coder une carte √† bande magn√©tique, recevoir les donn√©es brutes de la bande magn√©tique via la carte son. </li></ul><br>  Ils vous permettent de convertir plus ou moins pr√©cis√©ment les donn√©es de la piste audio en ASCII (donn√©es d√©crypt√©es). <br><br>  Apr√®s environ une heure, les donn√©es de la carte enregistr√©es dans l'√©cumoire ont √©t√© fournies.  Le prix d'honneur de la sympathie des spectateurs a trouv√© son propri√©taire.  F√©licitations √† Maxim Vikhlyantsev! <br><br>  Le reste des participants a continu√© √† se battre pour les principaux prix t√©l√©charg√©s sur les distributeurs automatiques de billets :) Quelqu'un a essay√© de pirater la d√©fense, mais il y avait ceux qui √©taient fatigu√©s et ont perdu l'espoir d'un enrichissement rapide.  N√©anmoins, le premier jour a √©t√© houleux, bien que le gros lot principal soit rest√© aux organisateurs ... <br><br><img src="https://habrastorage.org/webt/a7/jv/qk/a7jvqksrhcpyx7mhu-l7uzuy1_m.png"><br><br><h2>  Deuxi√®me jour </h2><br><img src="https://habrastorage.org/webt/6t/st/ep/6tstepatpvygffsz1gjbyaxk6x0.png"><br><br>  <i>Rest√© le plus persistant</i> <br><br>  Le deuxi√®me jour de la comp√©tition sur le terrain pour le piratage ATM, on a pu observer tous les m√™mes participants.  La pers√©v√©rance et la pers√©v√©rance √† essayer de trouver un vecteur pour contourner la protection ne sont pas rest√©es vaines, et ici - Stanislav Povolotsky a contourn√© la d√©fense en toute s√©curit√© et, en ex√©cutant un code non sign√©, a remport√© le prix en esp√®ces dans le premier guichet automatique. <br><br><img src="https://habrastorage.org/webt/sn/9s/wd/sn9swddlya06o70a50iycymfvkg.png"><br><br>  <i>D√©monstration d'un emploi r√©ussi</i> <br><br>  L'essence de l'attaque r√©seau contre le deuxi√®me ATM √©tait la suivante: dans l'ATM, il y avait un ordinateur portable avec un logiciel install√© qui √©mulait le traitement. <br><br><img src="https://habrastorage.org/webt/c2/rk/_i/c2rk_ihnvcu7psjkghgf_srh6iw.png"><br><br>  <i>√âmulateur de traitement</i> <br><br>  L'√©mulateur a √©t√© configur√© pour √©mettre de l'argent avec n'importe quelle carte ins√©r√©e, sans code PIN, mais la cassette dont la commande envoy√©e par l'√©mulateur en r√©ponse √† la demande √©tait vide.  Pour r√©soudre ce probl√®me, il fallait: <br><br><ul><li>  intercepter le paquet de r√©ponse de l'√©mulateur de traitement; </li><li>  d√©montez l'emballage et formez le v√¥tre - uniquement avec le bon num√©ro de cartouche; </li><li>  ins√©rer une carte et, lors de l'envoi d'une demande de traitement, r√©pondre au GAB avec les donn√©es modifi√©es; </li><li>  √† l'aide des outils tcpdump, Wireshark, Scapy ou Ettercap, effectuez une attaque de relecture ou une attaque d'usurpation de donn√©es modifi√©es afin de r√©pondre √† l'ATM. </li></ul><br>  tcpdump est un utilitaire UNIX qui poss√®de un clone pour Windows et vous permet d'intercepter et d'analyser le trafic r√©seau passant par l'ordinateur sur lequel ce programme s'ex√©cute. <br><br>  Wireshark est un utilitaire similaire, mais plus "charg√©", avec une interface graphique. <br><br>  scapy est un shell interactif et une biblioth√®que de logiciels pour manipuler les paquets r√©seau dans le langage de programmation Python. <br><br>  ettercap est un utilitaire pour analyser le trafic r√©seau passant par une interface informatique, mais avec des fonctionnalit√©s suppl√©mentaires.  Le programme vous permet d'effectuer des attaques comme "l'homme au milieu" pour forcer un autre ordinateur √† transmettre des paquets non pas au routeur, mais √† l'attaquant. <br><br><img src="https://habrastorage.org/webt/4_/zf/gq/4_zfgqlxjev9u55wt0dz4tojhz0.png"><br><br>  <i>En fait, rien ne change</i> <br><br>  Avec une approche aussi difficile, les participants ont eu des difficult√©s, mais ils les ont surmont√©es.  Le prix pour la falsification de la r√©ponse du traitement au deuxi√®me guichet automatique a √©t√© re√ßu par l'√©quipe - Information et public, Centre de s√©curit√© et Ouzb√©kistan.  Avec ce que nous les f√©licitons!  La liste compl√®te des gagnants se trouve sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la page du concours</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr412735/">https://habr.com/ru/post/fr412735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr412721/index.html">Trois espoirs de l'humanit√© pour la d√©couverte des extraterrestres</a></li>
<li><a href="../fr412723/index.html">√Ä la recherche d'une nouvelle couleur d'un milliard de dollars</a></li>
<li><a href="../fr412725/index.html">Comment rendre votre infrastructure informatique ennuyeuse</a></li>
<li><a href="../fr412727/index.html">Comment choisir un outil de prototypage en 2018?</a></li>
<li><a href="../fr412729/index.html">GDPR. Faut-il l'ex√©cuter en Russie?</a></li>
<li><a href="../fr412737/index.html">Protection des donn√©es personnelles de 3 milliards de personnes - similitudes et diff√©rences de l√©gislation dans les pays BRICS</a></li>
<li><a href="../fr412739/index.html">Chien de berger</a></li>
<li><a href="../fr412741/index.html">Comment arr√™ter d'avoir peur que l'intelligence artificielle vous laisse sans travail</a></li>
<li><a href="../fr412743/index.html">Profession: Cyber ‚Äã‚Äãd√©tective</a></li>
<li><a href="../fr412747/index.html">MIS. Stockage de donn√©es m√©dicales</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>