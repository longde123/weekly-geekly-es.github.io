<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊🏾 👨‍👨‍👦 🙌🏿 在MikroTik路由器上从Rostelecom设置IPTV 🤴🏼 ⚽️ 🏉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="有一次，当我购买MikroTik路由器时，除了基本的Internet设置外，我还负责确保IPTV的运行，直到那时，我才由Rostelecom安装了D-link。 Mikrotik本身的基本Internet设置花费了我大约10分钟的时间，但是我不得不修改IPTV。 那时，我读回的所有手册都没有考虑到我...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在MikroTik路由器上从Rostelecom设置IPTV</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437734/"> 有一次，当我购买MikroTik路由器时，除了基本的Internet设置外，我还负责确保IPTV的运行，直到那时，我才由Rostelecom安装了D-link。  Mikrotik本身的基本Internet设置花费了我大约10分钟的时间，但是我不得不修改IPTV。 那时，我读回的所有手册都没有考虑到我通过选择长期受苦的D-link设置所获得的许多要点，否则，在这种方案下电视将无法正常工作。 在本文中，我想指定在这种情况下收到的通用说明。 <br><a name="habracut"></a><br><br> 首先，将固件更新到最新版本。 我们通过Winbox连接到路由器，转到[系统]-&gt; [包]-&gt; [检查更新]。 如果发布的Routeros版本比设备上安装的版本新，请单击“下载并安装”，然后下载新版本，然后路由器将重新启动。 <br><br><img width="500" height="1020" src="https://habrastorage.org/webt/qk/d8/zc/qkd8zclahba6a9vcw2lyjae6exe.png" alt="图片"><br><br> 完成这些步骤后，我们转到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处，</a>然后选择要为您的设备下载的软件包，在我的情况下是haP系列，我选择了当前版本的额外软件包（在撰写本文时为6.43.4）。 <br><br><img src="https://habrastorage.org/webt/wu/0w/af/wu0waf863ycrg4qncv0hwrnr0aq.png" alt="图片"><br><br> 将下载一个存档，您需要从该存档解压缩多播文件，在winbox中打开files项，然后将我们解压缩的文件拖到此处。 之后，有必要重新启动路由器（转到[系统]-&gt; [重新启动]）。 <br><br><img src="https://habrastorage.org/webt/ko/tt/2g/kott2g0edwigbpqwqpxiueiapkq.png" alt="图片"><br><br> 重新启动后，“ IGMP代理”项应出现在“路由”部分，如果没有发生，请检查前面的步骤-我们是否安装了必要的软件包（有关设备是否已下载，固件版本）。 如果成功，请继续。 <br><br><img src="https://habrastorage.org/webt/ha/vo/aa/havoaaj9uhahsc5fjhtbuzgpmw4.png" alt="图片"><br><br> 在IGMP代理中的第一个选项卡上，单击[+]符号以创建所谓的上游。 在接口部分，我们选择插入供应商电缆的端口，即使您使用PPPoE连接，我们也选择物理端口，这是非常重要的一点。 我们选中上游复选框，并在备用子网中设置0.0.0.0/0，然后单击确定。 为“下游”创建第二条规则。 在界面中，选择全部，不要在上游打勾，这里不需要任何其他操作，只需单击确定即可。 <br><br> 下一步是配置防火墙。 我们转到[IP]-&gt; [Firewall]和[+]，创建一个新规则Chain-&gt;转发，protocol-&gt; udp，在interface-&gt; ether1（连接提供商电缆的端口）中。 动作-&gt;接受。 <br><br><img width="500" height="1100" src="https://habrastorage.org/webt/zn/bx/9u/znbx9ujyy9jkljangmuofsmvjby.png" alt="图片"><br><br> 为IGMP创建第二条规则。 该链还保持转发状态，协议-&gt; igmp，在接口-&gt; ether1，操作-&gt;接受。 将创建的规则拖到禁止的规则上方。 <br><br> 接下来，您需要阻止多播的传递-到无线网络的流量。 转到[桥]-&gt;“过滤器”选项卡-&gt; [+]。 选择输出链。 接口-&gt; wlan1，即我们所需的无线网络。 在数据包类型的“高级”选项卡上，选择“多播”，然后在“操作”选项卡上分配丢弃操作，即禁止。 不要忘记单击“确定”以保存设置。 <br><br><img src="https://habrastorage.org/webt/cj/xa/6u/cjxa6ubhyk1y_-wjq4qe5xnlzoi.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/je/cs/uo/jecsuoumdssmuzokwzf-zyfzfmk.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/tr/yq/xr/tryqxrjt6fo7ohthczrxdopgydg.png" alt="图片"><br><br> 这也许是最重要的时刻，如果您的Internet连接通过PPPoE，那么您需要在连接来自提供商的电缆的物理接口上添加带有30位掩码的IP 1.0.0.1。 顺便说一句，这是我第一次设置Mikrotik时遇到的问题，如果没有此IP，一切都将无效，并且我发现通过打开D-link设置确实需要进行什么操作。 转到[IP]-&gt; [地址]和[+]，然后添加以下设置。 如果使用直接连接而不增加任何隧道（称为IPoE），则前面的步骤就足够了，请跳过此项目。 <br><br><img src="https://habrastorage.org/webt/43/3n/lf/433nlffmfkmjayev7qz3xduqewe.png" alt="图片"><br><br> 我提请您注意非常重要的一点，在完成所有步骤之后，如果控制台已打开，则必须重新启动控制台，然后检查设置结果。 如果出现问题，首先，我建议您检查防火墙中的规则。 <br><br> 运营商也可以使用使用VLAN的方案，在这种情况下，您需要在提供方电缆的端口上创建一个带有vlan传输iptv的子接口，您可以尝试通过技术支持找出其编号。 我们转到[接口]-&gt; [VLAN]，然后按[+]创建一个新名称，并指定名称，这没关系，为了方便起见，我们需要进行管理，我们需要指定提供商提供的VLAN ID，例如，在接口中输入234提供者的电缆连接到的端口。 单击确定。 <br><br><img src="https://habrastorage.org/webt/vg/to/bc/vgtobcufcgwnoqooxzniysyfiuu.png" alt="图片"><br><br> 然后，我们创建一个新的网桥，并在其中添加创建的VLAN和机顶盒所连接的端口，首先，您需要从另一个网桥中删除该端口（如果其中涉及）。 <br><br><img src="https://habrastorage.org/webt/bs/af/d6/bsafd6xvn0w02g1kelpedcwcj8e.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/mq/v-/jk/mqv-jkw7tdi_ab090_c4odfv0sc.png" alt="图片"><br><br> 在网桥本身的属性中，建议在出现问题时将STP设置为none。 <br><br> 原则上，我描述了有关此主题的非常详细的说明。 仅此而已。 如果您有任何问题和评论，请写评论，我随时可以回答。 <br><br><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN437734/">https://habr.com/ru/post/zh-CN437734/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN437722/index.html">美国停战的宇宙后果</a></li>
<li><a href="../zh-CN437724/index.html">OpenSceneGraph：几何和状态属性的过程动画</a></li>
<li><a href="../zh-CN437726/index.html">用Kotlinx序列化Kotlin.Serialization</a></li>
<li><a href="../zh-CN437730/index.html">我们如何在不添加字节的情况下解决PostgreSQL中的内存问题</a></li>
<li><a href="../zh-CN437732/index.html">MakeX M-One Pro 70 DLP打印机概述</a></li>
<li><a href="../zh-CN437736/index.html">我们如何通过Moon和OpenShift自动执行硒测试的启动</a></li>
<li><a href="../zh-CN437738/index.html">植物化学家的笔记。 土豆 第二部分 关于马铃薯脂肪的故事或“生食主义者的日子”</a></li>
<li><a href="../zh-CN437740/index.html">Haxe：跨平台开发的大秘密</a></li>
<li><a href="../zh-CN437742/index.html">1月28日至2月3日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN437744/index.html">3CX v16中C＃中的新语音应用程序</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>