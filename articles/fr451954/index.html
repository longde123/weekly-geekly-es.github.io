<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš ğŸ‘©ğŸ»â€âš•ï¸ ğŸŒ² Plus de tÃ©lÃ©grammes secrets ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ¾ ğŸ‘©ğŸ¼â€ğŸ­ ğŸ•›</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout le monde est habituÃ© Ã  considÃ©rer les tÃ©lÃ©grammes comme un moyen fiable et sÃ»r d'envoyer des messages de toute nature. Cependant, sous le capot, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Plus de tÃ©lÃ©grammes secrets</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451954/"><p>  Tout le monde est habituÃ© Ã  considÃ©rer les tÃ©lÃ©grammes comme un moyen fiable et sÃ»r d'envoyer des messages de toute nature.  Cependant, sous le capot, il a une combinaison tout Ã  fait ordinaire de cryptage a et symÃ©trique, ce qui n'est pas du tout intÃ©ressant.  Et Ã  la fin, pourquoi devriez-vous confier explicitement vos messages Ã  un tiers? <br><img src="https://habrastorage.org/webt/fj/xl/ka/fjxlkasq2yqy1vfjle83rlnc4js.png" alt="CAPA par Antonio ProhÃ­as"><br>  TL; DR - inventez un canal cachÃ© privÃ© grÃ¢ce au blocage mutuel des utilisateurs. </p><a name="habracut"></a><br><h2 id="skrytyy-kanal">  ChaÃ®ne cachÃ©e </h2><br><p> Il existe de nombreuses solutions de contournement pour le transfert de donnÃ©es entre deux utilisateurs, en Ã©vitant les contacts explicites.  Vous pouvez utiliser des intermÃ©diaires, la cryptographie et la stÃ©ganographie, des rÃ©seaux de relais de diffusion et d'autres modules complÃ©mentaires sur les protocoles existants.  Mais il est parfois utile de pouvoir prendre contact en utilisant uniquement les capacitÃ©s officielles dÃ©clarÃ©es.  Autrement dit, organiser une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chaÃ®ne secrÃ¨te</a> . </p><br><p>  Un exemple simple et comprÃ©hensible d'un canal cachÃ© pour un lecteur russophone est une fleur dans la fenÃªtre d'apparition de dix-sept moments du printemps.  En soi, il peut se tenir debout ou ne pas se tenir debout sur la fenÃªtre - une telle symbiose est tout Ã  fait normale et ne parle que de l'amour du propriÃ©taire de l'appartement pour les fleurs.  Seule une interprÃ©tation prÃ©dÃ©terminÃ©e distingue les informations transmises par un Ã©claireur de celles obtenues par un passant alÃ©atoire. </p><br><p><img src="https://habrastorage.org/webt/xq/z2/bs/xqz2bs06a68qp9m11r-fpqgy6fo.jpeg" alt="Fleur dans la fenÃªtre"></p><br><h2 id="cvetochno-okonnye-kanaly-telegrama">  TÃ©lÃ©gramme de canaux de fenÃªtre </h2><br><p>  Pour organiser votre chaÃ®ne cachÃ©e selon un tel exemple, seulement deux choses sont conceptuellement nÃ©cessaires: une fenÃªtre et une fleur.  La fenÃªtre dÃ©crit l'objet disponible pour changer et dÃ©terminer l'Ã©tat, et la fleur dÃ©crit les valeurs possibles et la mÃ©thode pour les changer. </p><br><p>  Qu'est-ce qu'une Alice peut changer dans un tÃ©lÃ©gramme, qui peut Ãªtre consultÃ© par un certain Bob?  Oui, beaucoup de choses: avatars, noms d'utilisateur, heure de la derniÃ¨re visite et bien plus encore.  Cependant, ils sont gÃ©nÃ©ralement disponibles pour tout le monde immÃ©diatement, ce qui limite la confidentialitÃ© d'un Ã©ventuel dialogue - toute personne connaissant la mÃ©thode de transmission pourra Ã©couter les messages envoyÃ©s.  Curieusement, cette restriction peut Ãªtre contournÃ©e sans recourir Ã  la cryptographie. </p><br><h3 id="v-chernom-chernom-spiske">  Liste noire </h3><br><p>  Chaque utilisateur a sa propre liste noire unique, et si le lecteur y est allÃ© au moins une fois, il aurait dÃ» remarquer que la date de la derniÃ¨re visite du dÃ©linquant est passÃ©e Ã  "vue pour la derniÃ¨re fois il y a longtemps" avec un avatar vide.  En fait, l'utilisateur pouvait Ãªtre en ligne il y a au moins une seconde et changer une centaine de scellÃ©s dans son profil, mais l'API Telegram ne renvoie tout simplement pas ces donnÃ©es Ã  l'application.  Ainsi, il protÃ¨ge votre vie personnelle des personnes indÃ©sirables, en retour leur faisant comprendre qu'elles sont bloquÃ©es. </p><br><p>  Alors, quel est le rÃ©sultat de la chose commune entre la fleur dans la fenÃªtre et Ãªtre dans la liste de blocage?  Cela et un autre peuvent Ãªtre vÃ©rifiÃ©s Ã  un certain moment, aprÃ¨s avoir reÃ§u un bit d'information selon que vous Ãªtes dans la liste noire ou non.  Un bonus supplÃ©mentaire est le fait que les tÃ©lÃ©grammes ne stockent probablement pas dans leurs journaux (et s'ils le font, alors pas longtemps uniquement Ã  des fins de journalisation) l'historique des blocages des utilisateurs. </p><br><h2 id="organizovyvaem-bity">  Organisez les battements </h2><br><p>  La capacitÃ© de transmettre et de recevoir des bits est, bien sÃ»r, bonne, mais vous devez toujours dÃ©crire un mÃ©canisme Ã  part entiÃ¨re pour son fonctionnement.  Telegram n'envoie pas de notifications aux utilisateurs lorsqu'ils sont ajoutÃ©s Ã  la liste noire, la rÃ©ception de chaque bit doit donc Ãªtre initiÃ©e par le destinataire (Bob) et ne pas dÃ©pendre de l'expÃ©diteur (Alice).  Il s'ensuit Ã©galement qu'Alice et Bob doivent rÃ©pondre aux demandes avec la mÃªme frÃ©quence, de sorte que chaque cycle d'horloge de l'expÃ©diteur correspond Ã  un cycle d'horloge du destinataire. </p><br><p>  L'algorithme d'Ã©change lui-mÃªme sur chaque mesure ressemble Ã  ceci: </p><br><ul><li>  A vÃ©rifie le bit envoyÃ© et, s'il est nÃ©cessaire d'envoyer un signal, alors, en fonction de sa valeur: <br><ul><li>  A -&gt; T: bloc B; </li><li>  A -&gt; T: dÃ©verrouillez B. </li></ul></li><li>  B obtient un peu: <br><ul><li>  B -&gt; T: demande de l'utilisateur A; </li><li>  T -&gt; B: informations disponibles sur A; </li><li>  B: vÃ©rifie si les informations reÃ§ues ont le statut: <br><ul><li>  B: s'il y a -&gt; il n'est pas bloquÃ© et a reÃ§u 0 </li><li>  B: sinon -&gt; il est bloquÃ© et reÃ§u 1 </li></ul></li></ul></li></ul><br><p>  La plupart des processeurs utilisateur modernes ont de bons gÃ©nÃ©rateurs de frÃ©quence intÃ©grÃ©s (au moins l'horloge systÃ¨me), de sorte que les horloges peuvent Ãªtre synchronisÃ©es avec elles sans utiliser le canal de donnÃ©es lui-mÃªme.  Il convient de noter que les demandes Ã  l'API de tÃ©lÃ©gramme sont rÃ©seau et ne se prÃ©cipitent pas pour fonctionner rapidement, ce qui n'aide pas le fait de son blocage en FÃ©dÃ©ration de Russie et la nÃ©cessitÃ© d'utiliser des procurations.  Mais la durÃ©e du cycle devrait en moyenne dÃ©passer le temps nÃ©cessaire pour rÃ©pondre Ã  ces demandes, de sorte que la frÃ©quence et la vitesse de transfert des donnÃ©es sont extrÃªmement faibles. </p><br><h3 id="kodiruem-soobscheniya">  Nous encodons des messages </h3><br><p>  Les textes en langage naturel ont une redondance assez Ã©levÃ©e, donc les messages reÃ§us avec des erreurs seront toujours souvent comprÃ©hensibles pour les humains.  Et comme le tÃ©lÃ©gramme est toujours un messager, malgrÃ© les tentatives de lui attacher toutes sortes de gadgets graphiques-audio-vidÃ©o, la correction d'erreur peut Ãªtre nÃ©gligÃ©e, limitant les donnÃ©es transmises aux messages texte. </p><br><p>  En raison du faible dÃ©bit du canal cachÃ©, vous devez utiliser le codage le plus efficace pour les messages possibles.  Heureusement, le nom du messager nous rappelle l'Ã©poque oÃ¹ de tels problÃ¨mes Ã©taient monnaie courante. </p><br><p>  Par consÃ©quent, alors qu'au XXIe siÃ¨cle, nous coderons les textes avec l'une des mÃ©thodes les plus efficaces Ã  la disposition des tÃ©lÃ©graphistes il y a un siÃ¨cle - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le code Bodo</a> .  Plus prÃ©cisÃ©ment, sa derniÃ¨re variation de ITA-2 a Ã©tÃ© Ã©crite par Murray pour effectuer moins d'appels API sur les personnages courants.  Vous pouvez vous plaindre du manque de la langue russe, mais Ã  mon avis, la translittÃ©ration est un moyen plus simple que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sacrifice de caractÃ¨res supplÃ©mentaires Ã  n'importe quel Yu et Sch</a> . </p><br><p>  Il ne reste plus qu'Ã  dÃ©terminer le dÃ©but et la fin de chaque session de transfert de donnÃ©es, afin que le cÃ´tÃ© rÃ©cepteur parmi le grand flux puisse mettre en Ã©vidence les messages qui lui sont transmis.  Avant le dÃ©but du transfert, Bob est sur liste noire ou Ã  l'extÃ©rieur.  Puis Alice signale le dÃ©but du transfert, changeant cet Ã©tat d'un battement Ã  l'opposÃ©.  Ã€ la fin du programme, elle dÃ©verrouille simplement Bob.  Il continue de recevoir des caractÃ¨res nuls jusqu'Ã  ce qu'il se soit accumulÃ© suffisamment pour indiquer de maniÃ¨re fiable la fin de la transmission. </p><br><p><img src="https://habrastorage.org/webt/ci/pw/2a/cipw2arrv1vwonj6r0iyzwgkzda.png" alt="Sur la chronologie"></p><br><p>  L'inconvÃ©nient de cette approche est l'impossibilitÃ© pratique de se connecter (plus prÃ©cisÃ©ment, vous pouvez vous connecter, mais vous devez bricoler avec une correction d'erreur manuelle) Ã  la diffusion et Ã  la sÃ©paration en cours des caractÃ¨res zÃ©ro reÃ§us par erreur des caractÃ¨res rÃ©ellement transmis.  Cependant, c'est dÃ©jÃ  un problÃ¨me d'implÃ©mentation. </p><br><h2 id="vysokie-tehnologii">  Haute technologie </h2><br><p>  AprÃ¨s plusieurs heures Ã  essayer d'utiliser la bibliothÃ¨que officielle pour interagir avec l'API, j'ai crachÃ© et Ã©crit tout ce dont j'avais besoin en python en utilisant un tÃ©lÃ©thon plus humain.  L'auteur prÃ©sente mÃªme l'API dans un style synchrone, qui pour une raison quelconque est devenu une terrible raretÃ©.  J'ai dÃ» Ã©crire l'encodage des messages en utilisant ITA-2 moi-mÃªme sur mon genou, car je n'ai vraiment rien trouvÃ© de prÃªt. </p><br><p>  La synchronisation des frÃ©quences se produit sur l'horloge systÃ¨me (et oui, le programme s'endort! Ã€ intervalles), ce qui est assez prÃ©cis si vous prenez en compte le temps nÃ©cessaire pour terminer les requÃªtes API, qui est stable pendant plus d'un dixiÃ¨me de seconde.  L'utilisateur peut rÃ©gler la vitesse de transmission comme il le souhaite, cependant, j'utilise le principe Â«plus de requÃªtes par secondeÂ» pour Ã©viter Ã  la fois les erreurs et le gel des spams avec le mÃªme type de requÃªte.  Telegram, en gÃ©nÃ©ral, s'est avÃ©rÃ© trÃ¨s difficile Ã  utiliser son API, gelant l'accÃ¨s au compte via un jour, mÃªme avec seulement trois autorisations (en outre, rÃ©ussies) d'affilÃ©e, ainsi que des verrous alÃ©atoires Ã  court terme pour des raisons inconnues. </p><br><p>  Si les utilisateurs Ã©changent des tÃ©lÃ©grammes via un canal cachÃ©, ils n'ont pas vraiment besoin d'une interface graphique.  Oui et pas partout oÃ¹ il se trouve, il a donc Ã©crit l'utilitaire de console habituel.  Il vous permet d'attendre et de recevoir un message Ã  l'ID utilisateur spÃ©cifiÃ© en une seule fois, ou de l'envoyer en lisant les arguments de la ligne de commande.  Personne, bien sÃ»r, n'interdit d'utiliser plusieurs canaux Ã  la fois, et aussi de recevoir et de transmettre des messages en parallÃ¨le, il vous suffit d'exÃ©cuter plusieurs instances en parallÃ¨le. </p><br><h3 id="primer-ispolzovaniya">  Exemple d'utilisation </h3><br><p>  Pour l'utiliser, vous devez obtenir votre api_id et api_hash du tÃ©lÃ©gramme conformÃ©ment Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette instruction</a> et dÃ©finir les valeurs reÃ§ues dans le fichier 'covertele.py'.  Les arguments de la ligne de commande indiquent l'action souhaitÃ©e, son identifiant, l'identifiant du destinataire, ainsi que le message Ã  transmettre s'il s'agit de l'expÃ©diteur.  Tout ressemble Ã  ceci: </p><br><pre><code class="plaintext hljs"> :  : Enter your phone number: XXX | Enter your phone number: XXX Enter auth code: YYY | Enter auth code: YYY Started message transmission... | Listening for the message... ---++ ('O', '9') | ---++ ('O', '9') --+-+ ('H', '#') | --+-+ ('H', '#') +++++ (1, 1) | +++++ (1, 1) --++- ('N', ',') | --++- ('N', ',') --+-- (' ', ' ') | --+-- (' ', ' ') ++-++ (0, 0) | ++-++ (0, 0) --+-+ ('H', '#') | --+-+ ('H', '#') -++-- ('I', '8') | -++-- ('I', '8') --+-- (' ', ' ') | --+-- (' ', ' ') --+++ ('M', '.') | --+++ ('M', '.') ++--- ('A', '-') | ++--- ('A', '-') -+-+- ('R', "'") | -+-+- ('R', "'") ++++- ('K', '(') | ++++- ('K', '(') +++++ (1, 1) | +++++ (1, 1) +-++- ('F', '!') | +-++- ('F', '!') --+++ ('M', '.') | --+++ ('M', '.') --+++ ('M', '.') | --+++ ('M', '.') Done, exiting... | ----- ('', '') | ----- ('', '') | Automatically decoded: OH, HI MARK!..</code> </pre> <br><p>  Le texte est dÃ©codÃ© automatiquement, mais les fans qui recherchent des erreurs Ã  la main, lisent en dÃ©placement et suivent la progression peuvent tout faire en utilisant la sortie des codes envoyÃ©s et reÃ§us. </p><br><p>  Si quelqu'un le souhaite, vous pouvez Ã©galement utiliser l'API simple fournie: </p><br><pre> <code class="plaintext hljs">from covertele import TelegramBlockingAPI from cochannel import CovertChannel friend = input("     :") #           #  ,     -,      id = input("  :") api = TelegramBlockingAPI(id) #        friend = input("Enter your friend's id:") channel = CovertChannel(api, friend) #    channel.receive()  channel.send()     channel.send("Bork, bork!") print(channel.receive) #       ,       _raw codes = channel.receive_raw() for code in codes: check(code) channel.send_raw([19, 24, 24, 13])</code> </pre> <br><h2 id="za-predelami-telegrama">  Au-delÃ  du tÃ©lÃ©gramme </h2><br><p>  Il est clair qu'un tel canal peut Ãªtre organisÃ© au-dessus de n'importe quel messager dans lequel il existe une mÃ©thode pour dÃ©terminer si d'autres utilisateurs se bloquent.  Dans le mÃªme temps, des interfaces similaires sont facilement implÃ©mentÃ©es et remplacÃ©es de maniÃ¨re similaire dans le code.  Donc, s'il y a un dÃ©sir - vous pouvez utiliser le codage fini, et non pas Ã©crire Ã  partir de zÃ©ro.  Heureusement, un python lent est peu susceptible d'interfÃ©rer avec la transmission bit par bit Ã  de telles vitesses. </p><br><p>  PS Un merci spÃ©cial Ã  ma passion pour l'amour de me jeter en cas d'urgence. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La version anglaise sur Habr</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Version anglaise sur support</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Github</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451954/">https://habr.com/ru/post/fr451954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451938/index.html">Go Bitmap Indexes: Recherche sauvage</a></li>
<li><a href="../fr451942/index.html">Comment le bourdonnement en Afrique sauve des milliers de vies</a></li>
<li><a href="../fr451944/index.html">2019: annÃ©e de DEX (Ã©changes dÃ©centralisÃ©s)</a></li>
<li><a href="../fr451948/index.html">L'histoire des trois cartouches</a></li>
<li><a href="../fr451950/index.html">Centrales virtuelles. Est-il possible de gÃ©rer les sources d'Ã©nergie "verte"?</a></li>
<li><a href="../fr451956/index.html">Utilisation d'AppDynamics avec Red Hat OpenShift v3</a></li>
<li><a href="../fr451958/index.html">Nous regardons des torrents sur smart TV sans SMS ni inscription</a></li>
<li><a href="../fr451960/index.html">90 vulnÃ©rabilitÃ©s d'exÃ©cution de code Ã  distance dans la mise Ã  jour de mai mardi</a></li>
<li><a href="../fr451962/index.html">CrÃ©er des outils dans des projets d'apprentissage automatique, un aperÃ§u</a></li>
<li><a href="../fr451966/index.html">Les pÃ©riphÃ©riques d'E / S modernes sont plus rapides que les processeurs. PrÃ©sentation de l'article</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>