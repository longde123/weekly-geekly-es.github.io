<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüé® üî≤ ‚öîÔ∏è Von SQL Server Data Warehouse Fast Track (DWFT) zertifizierte Architektur: Was dies bedeutet und wie es funktioniert ‚¨ÖÔ∏è ‚è≤Ô∏è üåØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gro√üe Hersteller beliebter Software k√ºmmern sich auf unterschiedliche Weise um ihre Kunden. Eine M√∂glichkeit besteht darin, ein Zertifizierungsprogram...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Von SQL Server Data Warehouse Fast Track (DWFT) zertifizierte Architektur: Was dies bedeutet und wie es funktioniert</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bull/blog/438356/">  Gro√üe Hersteller beliebter Software k√ºmmern sich auf unterschiedliche Weise um ihre Kunden.  Eine M√∂glichkeit besteht darin, ein Zertifizierungsprogramm zu erstellen.  Wenn Kunden in Gedanken zwischen Hardware-Konfigurationen f√ºr eine bestimmte Software wechseln, kann der Hersteller dieser Software mit einem Finger mit Zuversicht darauf hinweisen: ‚ÄûNehmen Sie dies und alles wird gut.‚Äú <br><br>  Ein solches Programm f√ºr seinen SQL Server wurde von Microsoft entwickelt - SQL Server Fast Track (DWFT).  Es zertifiziert die Konfigurationen von Data Warehouses - solche, die den Anforderungen der Arbeitslast entsprechen und mit weniger Risiko, Kosten und Komplexit√§t implementiert werden k√∂nnen.  Es klingt gut, aber es ist interessant, diese Kriterien in der Praxis zu bewerten.  Zu diesem Zweck analysieren wir detailliert eine der Konfigurationen mit SQL Server Data Warehouse Fast Track-Zertifizierung. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12e/15b/2a9/12e15b2a946ab669b59875e70afb9210.png"><br><a name="habracut"></a><br>  F√ºr den Anfang - ein bisschen mehr √ºber DWFT.  Dieses Programm umfasst nicht nur die Zertifizierung von Referenzarchitekturen von Systemlieferanten, sondern auch eine Reihe von Best-Practice-Handb√ºchern - wenn Sie etwas Eigenes erstellen m√∂chten.  Microsoft aktualisiert das Programm f√ºr die Entwicklung neuer Funktionen und basiert auf Kundenfeedback. <br><br>  Mit DWFT-kompatiblem Speicher k√∂nnen Sie sicher sein, dass alle Funktionen von SQL Server verf√ºgbar sind.  In-Memory-Spaltenspeichertechnologien verbessern die Leistung bei Transaktions- und Analyse-Workloads.  Es werden sowohl traditionelle strukturierte relationale als auch unstrukturierte Big Data unterst√ºtzt - in Hadoop, Spark oder Azure Data Lake.  Mit der SQL Server PolyBase-Funktion k√∂nnen Sie Big Data in SQL Server Universe kombinieren, sowohl relationale als auch unstrukturierte Daten abfragen und zusammenf√ºhren, ohne sie verschieben zu m√ºssen. <br><br>  Eine allgemeine Liste zertifizierter Architekturen finden Sie am Ende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser Seite</a> .  Als n√§chstes werden wir einen von ihnen vorstellen. <br><br><h2>  "Referenz" -Architektur </h2><br>  Nun zum Parsen einer der von DWFT zertifizierten Architekturen.  Es basiert auf unseren BullSequana S400- und S800-Servern und dem Dell EMC VMAX-Speicher.  Der Speicher kann auf bis zu 4 PB erh√∂ht werden, wenn Sie den BullSequana S-Server auf 32 Prozessoren skalieren. <br><br>  Um eine hohe Datenbankverf√ºgbarkeit sicherzustellen, wird zus√§tzlich Windows Failover Clustering empfohlen.  Das hei√üt, die Verwendung von mindestens zwei Servern.  √úber Microsoft-Clusterdienste wird ein Datenbankserver als prim√§rer (aktiver) Server und der zweite als sekund√§rer (passiver) Server konfiguriert.  Der passive Server muss dieselbe Konfiguration wie der prim√§re Server haben. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f35/1eb/de5/f351ebde5469e6765a5a12651a1c4b6d.png"><br>  <i>Liste und Merkmale der Infrastrukturkomponenten</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/088/6ed/f56/0886edf56802b4666692121973837d1b.png"><br>  <i>Allgemeiner √úberblick √ºber zwei Konfigurationen</i> <br><br><h2>  Hardwarekomponenten </h2><br><h3>  BullSequana S800 Server </h3><br>  Der BullSequana S800-Server ist ein Server mit acht Prozessoren, bis zu 12 TB Speicher, erweiterten E / A- und Modulzus√§tzen mit SSD / HDD / NVMe-Speicher oder mit NVidia Tesla-GPUs. <br><br>  Die BullSequana S-Linie ist in Optionen vom S200 mit zwei Prozessoren bis zum S3200 mit 32 Prozessoren erh√§ltlich.  Der Skalierungsschritt der Linie besteht aus zwei Prozessoren.  F√ºr die DWFT-Architektur von SQL Server 2017 sind die Modelle S200, S400 und S800 gleicherma√üen zertifiziert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/446/511/28e/44651128e0526bf86c0665139ced4b2b.png"><br><br><h3>  Host-Bus-Adapter Emulex LPe31002-M6 16 Gbit / s </h3><br>  Im Vergleich zu fr√ºheren Generationen bieten die Emulex Gen 6 FC-Adapter mit dynamischer Multi-Core-Architektur eine h√∂here Leistung, geringere Latenz, bessere Diagnose und Verwaltbarkeit.  Es bietet Geschwindigkeiten von bis zu 12.800 MB / s (zwei 32-GFC-Ports oder vier 16-GFC-Ports), ein Durchsatz von 1,6 Millionen IOPS pro Adapter.  Die Vier-Port-Version des LPe32004 bietet bis zu 3,2 Millionen IOPS pro Adapter. <br><br><h3>  Brocade 6510 Schalter </h3><br>  Der Brocade 6510-Switch von Broadcom ist ein Server-Fibre-Channel-Switch mit 1 HE und 48 Ports. <br><ul><li>  Fibre Channel-Leistung: 16 Gbit / s <br></li><li>  Bis zu 48 Ports mit einem Gesamtdurchsatz von 768 Gbit / s <br></li><li>  Frame-Trunking mit bis zu 128 Gbit / s <br></li><li>  Stromverbrauch: 14 W / Gb / s <br></li></ul><br><h3>  Dell EMC VMAX 250F </h3><br>  VMAX All Flash konzentriert sich auf Petabyte-Datenmengen und die Verarbeitung gro√üer Transaktionen.  VMAX All Flash skaliert und integriert Hunderte von Intel Multi-Core-Prozessoren f√ºr dynamische gemischte Workloads.  Das Kernelement von VMAX All Flash ist V-Brick - es ist m√∂glich, bis zu acht V-Bricks als ein einziges System mit vollst√§ndig getrennten Konnektivit√§ts-, Verarbeitungs- und Bandbreitenfunktionen zu kombinieren.  Jeder V-Brick unterst√ºtzt bis zu 72 Prozessorkerne, um die Leistung zu skalieren - bis zu 576 Kerne pro Array.  F√ºr die Skalierung werden Flash Capacity Packs-Module verwendet. <br><br>  Der Speicher sollte eindeutig die Anforderungen f√ºr hochpr√§zise Echtzeit-Transaktionsverarbeitung (OLTP), virtualisierte Anwendungen sowie Oracle- und SQL-Datenbanken erf√ºllen.  Die Anforderungen werden f√ºr Millionen von IOPS, Petabyte-Durchsatz und vorhersehbarer Leistung (Reaktionszeit von 350 Œºs) erf√ºllt. <br><br>  Schlie√ülich sollte die Architektur eine verbesserte Fehlerisolierung, zuverl√§ssige √úberpr√ºfung der Datenintegrit√§t und bew√§hrte ausfallsichere Hardware- und Software-Updates aufweisen.  Eine weitere Anforderung: Verf√ºgbarkeit f√ºr 24x7-Operationen mit SRDF-Software. <br><br><h2>  Wie der Speicher verbunden ist </h2><br>  VMAX 250F-Konfiguration (alle Flash): <br><br><ul><li>  2 vBrick mit 2 TB Cache pro Block. <br></li><li>  32 * 16 Gbit / s Host-FC-Ports <br></li><li>  64 * 3,84 TB Flash (Raid5-7 + 1) + Reserve <br></li></ul><br>  Aussehen von VMAX vBricks in einem Rack: <br><br><img src="https://habrastorage.org/webt/yb/aw/tg/ybawtgjefv2ri-qv9yh-ka_0rlo.jpeg"><br><br>  Hafenstandorte: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/902/5c3/d8c/9025c3d8cc9f68e072c8a29fe4e400ff.png"><br><br>  Die logische Array-Konfiguration in einer zertifizierten Architektur entspricht der Dell EMC-Konfiguration und den Best Practices. <br><br><ul><li>  HyperMaxOS Version: 5977.1131.1131 <br></li><li>  Verschl√ºsselung: Aktiviert <br></li><li>  Komprimierung: Deaktiviert <br></li><li>  Systemleistungsprofil: Grundlegend <br></li></ul><br>  Hauptverteilung: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a4/e37/d6f/9a4e37d6fe21659c149817c2039458af.png" width="550" height="284"><br><img src="https://habrastorage.org/getpro/habr/post_images/f03/548/2e3/f035482e3c58abe81d2c92d5cc28e44d.png" width="550" height="353"><br><br><h3>  LUN-Konfiguration </h3><br>  Alle LUNs sind als D√úNNE LUNs in einem virtuellen Pool konfiguriert, der auf 64 Laufwerken erstellt wurde.  Die Daten werden auf allen vBricks auf alle Flash-Laufwerke verteilt.  Auf dem Dell EMC VMAX sind insgesamt 35 LUNs definiert: <br><br><ul><li>  16 8-TB-LUNs f√ºr Benutzerdaten (insgesamt 128 TB) <br></li><li>  16 LUN oder 2 TB f√ºr Tempdb (insgesamt 32 TB) <br></li><li>  2 LUN-Gr√∂√üe von 2 TB f√ºr das Magazin (insgesamt 4 TB) <br></li></ul><br>  Die Front-End-Ports des Fibre Channel (FC) sind f√ºr die Verwendung von vier Failover-Dom√§nen im virtuellen Portmodus konfiguriert.  Jeder Port ist eins zu eins mit einem Port auf dem VMAX verbunden, der nur eine Daten-LUN und eine Tempdb-LUN bedient.  F√ºr jeden von ihnen gibt es eine LUN, um die Lese- und Schreibvorg√§nge auf der LUN zu trennen (bei der Ausf√ºhrung von GROUP BY oder ORDER BY werden die Daten zuerst in Tempdb geschrieben, bevor sie in einem anderen Teil der Abfrage verwendet oder dem Benutzer pr√§sentiert werden).  Jede LUN ist vier FA-Ports zugeordnet und auf vier Arten zug√§nglich. <br><br>  Portzuordnung: <br><br><img src="https://habrastorage.org/webt/27/qx/w7/27qxw7rwce63tllr2-sx0xfef10.png"><br><br><h3>  VMAX-Speichergruppen (SG) </h3><br>  Die folgenden Speichergruppen wurden erstellt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19e/02a/f23/19e02af23e89d960a182d53196d0c2b8.png"><br><br><h3>  Cache lesen und schreiben </h3><br>  Der VMAX-Cache ist global und wird dynamisch zum Lesen und Schreiben verwendet.  Die Standardeinstellungen werden verwendet, um das Warten auf die Aufzeichnung im System zu begrenzen.  Da das System nur eine Anwendung verwendet, m√ºssen keine Cache-Partitionen erstellt werden. <br><br><h3>  Stellen Sie eine Verbindung zu Server und MPIO her </h3><br>  Windows Server 2016 verwendete ein eigenes MPIO.  Die Alternative ist die PowerPath-Software f√ºr Dell EMC-Anwendungen. <br><br><h3>  Kabelf√ºhrung </h3><br>  Die oberen Ports der Brocade-Switches werden zum Verbinden des BullSequana S800-Servers verwendet.  Jeder gerade Port von Emulex HBA ist mit den oberen Ports links vom Brocade-Switch verbunden.  Jeder der Outbus Emulex HBA-Ports ist mit den oberen Ports links vom Brocade_2-Switch verbunden.  Die unteren Ports werden nur zum Anschlie√üen der Dell EMC VMAX FC-Ports verwendet. <br><br><h3>  Einzelserverkonfiguration </h3><br>  Das folgende Diagramm zeigt die Verkabelung zwischen dem BullSequana S800 und dem Dell EMC VMAX 250F.  Die HBA-Platzierung kann je nach Platzierung der HBA-Module variieren. <br><br><img src="https://habrastorage.org/webt/tp/v_/n2/tpv_n21oqa-0yj-yjgjgddzt6sa.png"><br><br><h3>  Kabelverbindungen in hochverf√ºgbarer Serverkonfiguration </h3><br>  Das folgende Diagramm zeigt, wie zwei BullSequana S800-Server in einer Hochverf√ºgbarkeitskonfiguration mit einem Dell EMC VMAX 250F verbunden werden.  Auch hier kann die Platzierung des HBA abh√§ngig von der Platzierung der HBA-Module variieren. <br><br><img src="https://habrastorage.org/webt/p0/la/qp/p0laqpph-_vtnh5brejensuzfb8.png"><br><br>  Oben auf der linken Seite des Brocade-Switches ist die linke H√§lfte der Ports f√ºr den ersten S800-Server hervorgehoben, und auf der rechten Seite des Bildes befinden sich die rechten Ports, und der zweite S800-Server ist mit ihnen verbunden. <br><br><h2>  BullSequana S800 Serverkonfiguration </h2><br><h3>  System-BIOS </h3><br>  Alle Parameter au√üer der BMC-Netzwerkkonfiguration wurden auf den werkseitigen Standardeinstellungen belassen.  Die Einstellung Logischer Prozessor im Abschnitt Prozessoreinstellungen bleibt standardm√§√üig aktiviert.  Dadurch wird die Intel Hyper-Threading-Technologie aktiviert, mit der die Anzahl der f√ºr SQL Server verf√ºgbaren logischen Prozessoren maximiert wird. <br><br><h3>  Emulex LPe31002-M6 16 Gbit / s </h3><br>  Alle Emulex-HBAs sind √ºber den Emulex OneCommand Manager verf√ºgbar.  Die Firmware- und Treiberversionen, die w√§hrend der Microsoft DWH Fast Track-Zertifizierung verwendet werden, sind 12.0.193.13. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/447/81a/349/44781a34977a699e1b070560f0feb19f.png"><br><br>  Es ist wichtig, dass alle HBAs dieselbe Firmware haben.  Die neueste Firmware kann von der Broadcom-Website heruntergeladen werden.  Firmware-Upgrades k√∂nnen √ºber die Schaltfl√§che "Firmware herunterladen" in Emulex OneCommand Manager durchgef√ºhrt werden.  Das √Ñndern des Treibers und / oder der Firmware erfordert m√∂glicherweise einen Neustart des Servers. <br><br>  Mit Ausnahme des QueryDept-Parameters, der von 32 auf 64 ge√§ndert wurde, blieben alle anderen Host- und HBA-Parameter standardm√§√üig erhalten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/2b9/26f/5762b926fabf810b5bfbcfc136c2b25a.png"><br><br><h2>  Windows Server 2016-Konfiguration </h2><br><h3>  Installation </h3><br>  Die Windows-Installation wurde mit den Standardeinstellungen durchgef√ºhrt.  Nach der Installation wurde die Windows MPIO-Funktion aktiviert (siehe Abbildung unten). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0f/432/266/d0f432266c604ae29130377f0fb24ca3.png"><br><br>  Nach der Installation der MPIO-Funktion muss Windows neu gestartet werden. <br><br><h3>  Treiber und Pakete installieren </h3><br>  Es ist wichtig, Treiber und Pakete auf dem USB-Speicher zu haben, da diese nicht im Windows-Treiberkatalog auf der Installations-DVD enthalten sind (Netzwerkadapter sind neuer als Windows Server 2016).  Nach der Installation von Windows und MPIO wurden die folgenden Treiber und Pakete installiert (in der angegebenen Reihenfolge): <br><br><ol><li>  Intel INF-Chipsatz Version 10.1.17711.8088_PV oder h√∂her (Neustart erforderlich) </li><li>  MegaRAID-Treiber f√ºr Windows 2016 Version 6.14-6.714.05.00-WHQL (Neustart erforderlich) </li><li>  PROWinx64 f√ºr Intel XL7xx Family Version 23_2 oder h√∂her </li><li>  OneInstall-Setep-12.0.193.18.exe oder h√∂her </li></ol><br><h3>  Energieeinstellungen </h3><br>  Um die Leistung zu maximieren, wurde der Server f√ºr die Verwendung eines Hochleistungsplans konfiguriert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/ecb/ff8/c3aecbff80d68ec3fc5ae422d9ac7cc9.png"><br><br><h3>  Seiten im Speicher sperren </h3><br>  Um zu verhindern, dass das Windows-Betriebssystem Datenseiten an den virtuellen Speicher auf der Festplatte sendet und SQL Server den Prozess zum Speichern von Daten im physischen Speicher (RAM) verwenden kann, wurde die Option Seiten im Speicher sperren f√ºr das SQL Server-Dienstkonto aktiviert.  Sie m√ºssen SQL Server neu starten, damit diese Option wirksam wird. <br><br><h3>  Windows-Laufwerke </h3><br>  Nachdem das Zoning in VMAX- und LUN-Switches abgeschlossen ist, werden sie in der Windows-Datentr√§gerverwaltung angezeigt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46d/83a/b05/46d83ab059f166a677bd464779d7f0f1.png" width="500" height="366"><br><br>  Wenn alle Laufwerke korrekt formatiert sind, zeigt die Windows-Datentr√§gerverwaltung die folgende Liste an: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2f/f25/ccb/f2ff25ccba6e28ddcdb71ada57164c1c.png"><br><br>  Insgesamt gibt es 34 LUNs: <br><br><ul><li>  16 8-TB-LUNs f√ºr Benutzerdaten (insgesamt 128 TB) <br></li><li>  16 LUN oder 2 TB f√ºr Tempdb (insgesamt 32 TB) <br></li><li>  2 LUN-Gr√∂√üe von 2 TB f√ºr das Magazin (insgesamt 4 TB) <br></li></ul><br>  F√ºr DWFT-Referenzarchitekturen empfehlen Dell EMC und ich, Mount-Punkte f√ºr Volumes anstelle von Laufwerksbuchstaben zu verwenden.  Wir empfehlen, dass Sie geeignete Datentr√§ger- und Bereitstellungspunktnamen zuweisen, um die Fehlerbehebung und Leistungsanalyse zu vereinfachen.  Im Idealfall sollten Mountpunktnamen so zugewiesen werden, dass die Identifizierung des VMAX-Volumes f√ºr dieses Windows-Volume vereinfacht wird. <br><br>  Die folgende Tabelle zeigt die Datentr√§gerbezeichnungen und Zugriffspfade, die f√ºr die Referenzkonfiguration verwendet werden: <br><br><img src="https://habrastorage.org/webt/9a/g1/sp/9ag1sppoc0gc9op8bzaxc8cjalg.png"><br><br>  Nachdem alle LUNs bereit sind, sieht das Verzeichnis C: \ Storage folgenderma√üen aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fb/109/afd/2fb109afdaf5d746922ae22c1bc042df.png"><br><br><h3>  MPIO </h3><br>  Die MPIO-Richtlinie f√ºr alle Volumes wird im Abschnitt "Abteilung f√ºr die geringste Warteschlange" festgelegt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdc/503/c25/cdc503c25e2efa569bd7fc1f73792a06.png" width="550" height="655"><br><h3>  Windows Defender-Konfiguration </h3><br>  Windows Defender ist eine Standardkomponente f√ºr Virenschutz und Spam.  Um zu verhindern, dass SQL Server-Daten und -Protokolldateien (auf Leistung) gescannt werden, m√ºssen die folgenden Ausnahmen hinzugef√ºgt werden. <br><br>  Ordner auf einem Server: <br><br><ul><li>  C: \ Programme (x86) \ Microsoft SQL Server <br></li><li>  C: \ Programme \ Microsoft SQL Server <br></li><li>  C: \ Storage (Einzelserverl√∂sung) <br></li></ul><br>  Ordner in einer Hochverf√ºgbarkeitsl√∂sung (HA): <br><ul><li>  C: \ Programme (x86) \ Microsoft SQL Server <br></li><li>  C: \ Programme \ Microsoft SQL Server <br></li><li>  C: \ ClusterStorage (kosteng√ºnstige L√∂sung) <br></li><li>  C: \ Windows \ Cluster <br></li><li>  Quorum Drive <br></li><li>  MSDTC-Laufwerk <br></li></ul><br>  Dateitypen: <br><ul><li>  .ldf <br></li><li>  .mdf <br></li><li>  .ndf <br></li></ul><br><h2>  SQL Server 2017 Enterprise Edition-Konfiguration </h2><br>  Die Installation erfolgt haupts√§chlich mit den Standardeinstellungen.  Einige Ausnahmen sind unten aufgef√ºhrt.  W√§hrend der Installation von SQL Server 2017 ist die Option Leistungswartungsaufgabe ausf√ºhren ausgew√§hlt. <br><br><h3>  Tempdb-Konfiguration </h3><br>  Die Tempdb-Datenbank ist so konfiguriert, dass 16 Dateien derselben Gr√∂√üe verwendet werden.  Tempdb-Datendateien befinden sich auf 16 Volumes.  Die Tempdb-Transaktionsprotokolldatei wird auf der Festplatte abgelegt, auf der die Protokolle aufbewahrt werden.  Der automatische Zoom ist aktiviert. <br><br><h3>  Startoptionen f√ºr eine Instanz von SQL Server </h3><br>  SQL Server 2017 setzt automatisch die Ablaufverfolgungsflags -T1117 und -T1118, sodass Sie sie nicht mehr zu den Startoptionen der Instanz hinzuf√ºgen m√ºssen.  Wenn Sie das Trace-Flag -T834 nicht verwenden, wird eine bessere Leistung erzielt.  Microsoft empfiehlt, dieses Flag nicht zu verwenden, wenn Clustered Column Storage-Indizes verwendet werden. <br><br>  Der einzige Startparameter ist das Flag -E: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e4/b12/008/4e4b120089f219131f2105e7bcfd56f4.png"><br><br>  Weitere Informationen zu diesem Thema finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Startoptionen f√ºr</a> Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DBCC TRACEON - Trace Flags</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Database Engine Service</a> . <br><br><h3>  Maximaler SQL Server-Speicher </h3><br>  Der maximale Serverspeicher f√ºr diese Referenzarchitektur sollte auf 11.534.336 MB oder 11.264 GB festgelegt werden, wobei dem Betriebssystem 1.024 GB zugewiesen sind.  Wenn zus√§tzliche Anwendungen den Server gemeinsam nutzen, m√ºssen Sie die f√ºr das Betriebssystem verf√ºgbare Speichermenge anpassen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11f/8bd/a17/11f8bda17baade55cca173555e3ee99c.png"><br><br><h3>  Maximale Parallelit√§t (MAXDOP) </h3><br>  Der maximale Parallelit√§tsgrad ist auf 448 festgelegt, was der Anzahl der auf dem Server verf√ºgbaren logischen Kerne entspricht. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f9/648/f9e/2f9648f9e3adfac0b1aa229c29c6c78e.png"><br><br><h3>  Ressourcenmanagement </h3><br>  Abh√§ngig von der Art der verwendeten Arbeitslast - dem Speicher mit der gr√∂√üten Anzahl von Zeilen (RS) oder dem Clustered Column Storage (CS) - m√ºssen Sie den Resource Governor entsprechend konfigurieren. <br><br>  F√ºr den Zeichenfolgenspeicher wird der Parameter f√ºr den Ressourcenregler, mit dem die maximale Speichermenge begrenzt wird, auf 12 Prozent festgelegt. <br><br><pre><code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=12); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br>  F√ºr die Spaltenspeicherung wird die Ressourcencontrollereinstellung zum Begrenzen der maximalen Speichermenge auf 25 Prozent festgelegt. <br><br><pre> <code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=25); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br><h3>  Datenbankeinrichtung </h3><br>  Die Data Warehouse-Datenbank wurde f√ºr die Verwendung mehrerer Dateigruppen konfiguriert, von denen jede 16 Dateien enth√§lt, die gleichm√§√üig auf 16 Datenvolumes verteilt sind.  Alle Dateien d√ºrfen automatisch wachsen.  Dateigruppen wurden mit dem Parameter AUTOGROW_ALL_FILES konfiguriert, um sicherzustellen, dass alle Dateien in einer bestimmten Dateigruppe gleich bleiben. <br><br><pre> <code class="plaintext hljs">ALTER DATABASE &lt;database name&gt; MODIFY FILEGROUP &lt;file group name&gt; AUTOGROW_ALL_FILES;</code> </pre> <br><h3>  Add-Ons f√ºr die Hochverf√ºgbarkeits-Link-Architektur (HA) </h3><br>  Die HA-Referenzarchitektur verwendet Windows Failover Clustering, um eine hohe Verf√ºgbarkeit bereitzustellen.  Das Konfigurieren eines Windows-Failoverclusters weist zus√§tzliche Speicherprobleme auf.  Die empfohlene Konfiguration erm√∂glicht es allen Cluster-Stimmen, f√ºr das Quorum zu stimmen und die Festplatte zu verwenden. <br><br>  Ein zus√§tzliches Volume muss erstellt und als Zeugenfestplatte konfiguriert werden.  Dell EMC empfiehlt die Verwendung von 2 GB Festplattenspeicher.  Alle Volumes m√ºssen jedem Clusterknoten zugeordnet, als Clusterressource konfiguriert und der SQL Server-Clusterressourcengruppe hinzugef√ºgt werden. <br><br><h2>  Fazit </h2><br>  Abschlie√üend werden wir wahrscheinlich den wichtigsten Vorteil der Konfiguration herausgreifen - die M√∂glichkeit, eine gro√üe Anzahl von HBA-Adaptern anzuschlie√üen.  Auf diese Weise k√∂nnen Sie die Zunahme der Speichermodule mit diesen ausgleichen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86e/f69/784/86ef697842f322cc25e54c25a3ebe296.png"><br>  <i>Dies ist das Zertifikat f√ºr die Konfiguration des ATOS BullSequana S800 und des Dell EMC VMAX 250F.</i>  <i>Sie k√∂nnen darin Testmetriken sehen.</i> <br><br>  In naher Zukunft planen wir, L√∂sungen auf die Architektur von Cascade Lake zu √ºbertragen.  Dies wird zum Start einer neuen Zertifizierung f√ºhren, die die derzeitige Zertifizierung erg√§nzt.  Gerne beantworten wir Ihre Fragen zur Zertifizierung und zu unserer Architektur in den Kommentaren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438356/">https://habr.com/ru/post/de438356/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438346/index.html">Wie machen sie das? √úbersicht √ºber Kryptow√§hrungs-Anonymisierungstechnologien</a></li>
<li><a href="../de438348/index.html">Wie man lernt, mit 9 Jahren selbst√§ndig zu programmieren</a></li>
<li><a href="../de438350/index.html">Vollst√§ndiger Leitfaden zur professionellen Suche nach versteckten Kameras und Spionageger√§ten</a></li>
<li><a href="../de438352/index.html">Video des Abstiegs des Rovers "Yutu-2", seiner ersten Meter auf der Mondoberfl√§che. Der zweiw√∂chige Schlaf auf dem Mond ist vorbei</a></li>
<li><a href="../de438354/index.html">Vue, Storybook, TypeScript - Starten eines neuen Projekts unter Ber√ºcksichtigung der Best Practices</a></li>
<li><a href="../de438358/index.html">Ehemalige NSA-Mitarbeiter spionieren die von den VAE in Auftrag gegebenen iPhones der Opfer aus</a></li>
<li><a href="../de438362/index.html">Wie wir die Konfiguration unserer Services von XML nach YAML √ºbersetzt haben</a></li>
<li><a href="../de438364/index.html">Replikation des weltweit ersten digitalen Voice Scramblers</a></li>
<li><a href="../de438366/index.html">Noch eine √úberpr√ºfung der OATH-Hardware-Token-Funktion in Azure Cloud MFA</a></li>
<li><a href="../de438368/index.html">Intelligente Gl√ºhbirnen, die in den M√ºll geworfen werden, sind eine wertvolle Quelle f√ºr pers√∂nliche Informationen.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>