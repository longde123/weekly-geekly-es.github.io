<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍💻 👩🏻‍🤝‍👨🏽 🍓 Entwicklung einer listigen KI in einem taktischen Spiel, das auf Heuristiken und Mutationen basiert 🙌🏻 ▪️ 👩🏼‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In taktischen Spielen ist KI sehr wichtig. Wenn KI als „künstlicher Idiot“ angesehen wird, kann das Spiel durch erstaunlichen Multiplayer, Handlung, A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklung einer listigen KI in einem taktischen Spiel, das auf Heuristiken und Mutationen basiert</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461287/"> In taktischen Spielen ist KI sehr wichtig.  Wenn KI als „künstlicher Idiot“ angesehen wird, kann das Spiel durch erstaunlichen Multiplayer, Handlung, Atmosphäre und Grafik gerettet werden (dies ist ungenau).  Die Lösung liegt auf der Hand: Machen Sie eine gute KI, was könnte das Problem sein? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/qq/i1/wfqqi1td-4drykncjmdv7eeqyec.gif" alt="Cat Terminator von CoolAI"></div><br>  Im Detail.  Im Folgenden sind meine Schritte zum Aufbau einer starken KI mit Charakter aufgeführt.  Nicht super stark [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> ], aber in der Lage, schnell lokal in einem gefräßigen Browser eines mittelschwachen PCs zu arbeiten.  Ich habe den Ansatz von Expertensystemen unter Verwendung einer Reihe von Heuristiken und Mutationen angewendet.  Es werden 15 Schritte der schrittweisen Transformation der KI beschrieben, wobei jeder der Schritte zu spüren ist. <br><a name="habracut"></a><br><h3>  Kurzbeschreibung </h3><br>  In einem experimentellen Browsergame basiert die KI auf der Erzeugung vieler möglicher Zustände - den Ergebnissen des aktuellen Zuges.  <i>(Aufgrund der Spielspezifikationen und der Bequemlichkeit werden diese resultierenden Zustände im Artikel je nach Kontext entweder Turn-Szenarien oder KI-Strategien genannt</i> .)  Dann werden die Szenarien des Kurses mutiert.  Gemäß den erhaltenen Szenarien werden die Schätzungen des "Erfolgs" berechnet.  Am erfolgreichsten und von einem Computer-Spieler durchgeführt. <br><br>  Beispielsweise werden drei Strategien generiert: <br><br><ol><li>  Laufen Sie hektisch vorwärts und greifen Sie alle an, die den Arm hochdrehen.  Punkte des Endzustands: 37000 Punkte. </li><li>  Greife Bogenschützen aus sicherer Entfernung an, während sich der Rest in den Ecken versteckt.  45000 Punkte. </li><li>  Alle ziehen sich zurück, gruppieren sich und verstecken sich vor Feinden.  Wenn Sie einen Feind aus sicherer Entfernung verletzen können, greifen Sie an.  18000 Punkte. </li><li>  In diesem Fall wird die 2. Strategie ausgewählt. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4n/yr/6q/4nyr6q29l8vaeemg-fo5a_hylme.gif"></div><br>  Nun, alles scheint Standard zu sein.  Nicht wirklich. <br><br>  Der gesamte Zellstoff ist, wie die Skripte generiert werden und wie der Wertkoeffizient des Skripts berechnet wird.  In einem von ihnen auferlegen, und das Ergebnis wird Sie traurig machen. <br><br><h3>  Spielregel </h3><br>  Der Spieler und die KI haben anfangs 6 identische Einheiten an den Ecken.  Jedes Team wechselt sich abwechselnd mit allen Einheiten gleichzeitig ab.  Optionen für den Fortschritt jeder Einheit: <br><br><ul><li>  einen Zug überspringen; </li><li>  bewege dich und überspringe; </li><li>  Bewegen Sie sich und greifen <i>Sie an</i> ( <i>Sie können und müssen manchmal Ihre eigenen angreifen</i> ). </li></ul><br>  Das Spielfeld und die Zusammensetzung des Teams werden prozedural generiert ( <i>dh zufällig, jedoch mit Durchgängigkeitsprüfungen und akzeptablem "Takt"</i> ).  Einheitentypen: <br><br><ol><li>  Fighter F, Nahkampfeinheit mit der größten Überlebensfähigkeit, dem größten Schaden und der größten Mobilität.  Eine Art Panzer + Schaden. </li><li>  Bogenschütze A, der niedrigste Schaden, aber der Angriff erfolgt in einer geraden Linie in einer Entfernung von 1-7. </li><li>  Zauberer W stirbt mit einem Schlag eines Kämpfers, aber der Angriff erfolgt in einer Entfernung von 1-5 in einer geraden Linie durch alle Einheiten. </li></ol><br>  Das Spielfeld ist immer 10 * 10 groß. <br><br>  Mögliche Felder auf der Karte: <br><br><ul><li>  Erde - legt keine Einschränkungen fest. </li><li>  Wand - durch sie kann man weder schießen noch passieren. </li><li>  Wasser - es ist unmöglich, es zu passieren, aber ein Bogenschütze kann hindurchschießen (ein <i>feuriger Magier kann es nicht</i> ). </li></ul><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/zb/wo/gr/zbwogrulofgpixaxvlfrtnqlmuc.png"></a> </div><br><br>  Das Spiel ist vollständig bestimmt, das heißt, es enthält kein Zufallselement (100% Trefferchance, kein kritischer Schaden usw.).  Es ist auch ein Spiel mit vollständigen Informationen, dh Rivalen wissen zu jeder Zeit alles über den Zustand der Truppen des jeweils anderen.  Wie bei Dame. <br><br>  KI ist stärker als ein Fleischspieler, aber letzterer auf der ersten Ebene hat ein Handicap in Form einer Einheit.  Am 3. hat der Spieler im Gegenteil ein Handicap von einer Einheit und es ist viel schwieriger zu gewinnen (ich habe ungefähr 15% der Siege in dieser Phase).  Dann kommt die eher zufällige Version von Game +. <br><br><div class="spoiler">  <b class="spoiler_title">Abgebrochenes Gameplay</b> <div class="spoiler_text">  <i>Anfangs wurde ein anderer Spielplan in Form eines „Swings“ entwickelt als in der Gesamtwertung, aber am Ende der Entwicklung habe ich ihn als schwach motivierend aufgegeben.</i>  <i>Der Punkt war, dass wenn ein Team verliert, es auf der nächsten Karte +1 Einheit erhält und so weiter bis zu maximal 10 gegen 6. Wenn und dann das Team es geschafft hat zu verlieren, dann haben seine Einheiten die Eigenschaften erhöht.</i> <br></div></div><br>  Das Spiel wurde auf nativem Javascript entwickelt: auf Divs und CSS-Stilen, und dies war die unglücklichste mögliche Lösung [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">2</a> ].  Dies ist ein Browsergame.  Der Motor wurde nicht benutzt.  Das einzige Ziel des Projekts ist es, einen starken Computerspieler „mit Charakter“ zu schaffen und diesen Charakter zu ändern (Berechnung von Cyborgs, aggressiven Orks, tückischen Elfen, dummen Zombies). <br><br>  Um den "Computerstil" des Feindes zu reduzieren, wurden einige Tricks angewendet: <br><br><ul><li>  Der Spieler wartet nach seinem Zug nicht, bis die KI über seinen Zug nachdenkt.  Der Feind beginnt „sofort“, seine Bewegungen auszuführen ( <i>in Wirklichkeit ist dies eine Illusion</i> ). </li><li>  Der Computerspieler steuert die Einheiten auch mit seinem Cursor ( <i>und dies ist auch eine Illusion, der Cursor fliegt nur zur gleichen Zeit wie die Einheitenanimationen</i> ). </li><li>  KI kann heimtückische Köder verwenden, um einen Kampf zu erzwingen ( <i>alles ist fair</i> ). </li></ul><br><h3>  Und was ist so kompliziert? </h3><br>  Auf den ersten Blick scheint alles einfach zu sein: Sie können einfach alle Optionen aller Züge sortieren und die beste auswählen.  Aber sehr bald wird klar, dass alles sehr schwierig ist. <br>  Eine vollständige Aufzählung ist aufgrund des kombinatorischen Explosionseffekts [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">3</a> ] nicht möglich. Dies besteht darin, dass die Komplexität der Berechnungen mit zunehmender Anzahl der in den Szenarien überprüften Elemente exponentiell zunimmt.  Als nächstes werde ich beschreiben, was dies in meinem speziellen Spiel bedeutet. <br><br>  Erstens, weil  In jeder Runde <u>gehen</u> die <u>Teameinheiten alle auf einmal</u> , dann kann ihre Reihenfolge unterschiedlich sein.  Und mit 6 Einheiten im Team solcher Kombinationen wird <u>720</u> (1 * 2 * 3 * 4 * 5 * 6).  Wenn es mehr Einheiten geben wird, wird es eine große Anzahl von Kombinationen geben (bei 7 - 5040, bei 8 - 40320 ...).  Wenn Sie das maximale Ergebnis nicht berücksichtigen, riskiert der Spieler, das Vergnügen in Erwartung des nächsten Zuges für 5-10 Minuten auszuprobieren ( <i>und wenn er hartnäckig ist, wird die Verzögerung auf Millionen von Jahren anwachsen, nicht jeder wird leiden</i> ).  Aufgrund dieser Eigenschaft ist meine KI zu Beginn des Kampfes weniger effektiv als am Ende.  Gegen Ende ist bereits die Hälfte des Teams gestorben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/wb/mz/tewbmzh3ouw8pi0dxfprbotd2vo.jpeg" alt="Keine Einheit - kein Problem"></div><br>  Zweitens kann sich jede Einheit <u>zu verschiedenen Punkten der Karte bewegen</u> .  Kämpfer mit einem Bewegungsbereich von 4 können 1-41 verschiedenen Positionen ähneln.  Für Zauberer und Bogenschützen mit einer Bewegung in 3 beträgt die mögliche Anzahl von Zügen 1-25.  Zum Beispiel kann die Zusammensetzung des Teams sein: 4 Kämpfer, 1 Magier und 1 Bogenschütze.  Wir erhalten die Summe der verschiedenen Kombinationen von Zügen für diesen Gegenstand: 41 * 41 * 41 * 41 * 25 * 25 = 1766100625. In der Realität gibt es aufgrund gegenseitiger Schnittpunkte und unpassierbarem Gelände weniger Kombinationen, aber in einer seltenen Situation mit „Streuung auf der Karte“ wird die Anzahl der Kombinationen sein nähere dich dieser Zahl. <br><br>  Drittens kann jede Einheit nach der Bewegung eine Bewegung überspringen oder in eine von vier Richtungen angreifen.  Das heißt, wir haben <u>5 mögliche endgültige Aktionen</u> pro Einheit.  Gesamtkombinationen: 5 ^ 6 = 15625. <br><br><img src="https://habrastorage.org/webt/p-/jo/b3/p-job32djmlchdun3h0ozsscvkq.gif" align="right">  Gesamtkombinationen: 720 * 1766100625 * 15625 = 19868632031250000. <br><br>  Und in jeder gültigen Kombination müssen die Punkte des resultierenden Zustands berechnet werden.  Die Bewertungsfunktion umfasst: Nachahmung von Bewegungen, Angriff, Verursachen von Schaden, Tod von Einheiten und Zählen der verbleibenden Trefferpunkte von Überlebenden.  Natürlich ist die Anzahl der Kombinationen überbewertet, weil  Unter realen Bedingungen nimmt die Variabilität aufgrund der Grenzen und Hindernisse auf der Karte ab, es handelt sich jedoch immer noch um eine unerträgliche Anzahl von Kombinationen.  Und das alles passiert schließlich in einem normalen Browser. <br><br><h3>  Wie wird es gemacht? </h3><br>  Um ein ähnliches Problem zu lösen, wurde ein heuristischer Ansatz verwendet, dessen verallgemeinerter Algorithmus wie folgt beschrieben werden kann: <br><br><ol><li>  Generieren Sie verschiedene Szenarien basierend auf vordefinierten Strategien (~ 20 Teile). </li><li>  Solange Zeit bleibt, mutieren Sie die Skripte und lassen Sie die profitabelsten übrig. </li><li>  Wählen Sie am Ende das Szenario mit der höchsten Bewertung aus. </li><li>  Führen Sie den ersten Zug der Einheit aus dem Skript aus, aber gehen Sie den Rest nicht.  Starten Sie die Animation des ersten Zuges und verbessern Sie die Skripte für die verbleibenden Einheiten, während die Animation angezeigt wird. </li><li>  Wiederholen Sie dies für die verbleibenden Einheiten ab Schritt 1. </li></ol><br>  <i>Die heuristische Methode ist eine Methode, die funktionieren kann (nach McConnell [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4</a> ]).</i>  <i>Mehr und strenger auf Wikipedia [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">5</a> ].</i> <br><br>  Die wichtigsten Punkte in diesem Algorithmus sind: Szenarioerstellung, Mutationen und die korrekte Bewertung der Rentabilität des Staates.  Jeder dieser Punkte verwendet seine eigenen lokalen Heuristiken.  Trotzdem wurden nach Möglichkeit Algorithmen mit einem garantiert optimalen Ergebnis verwendet, beispielsweise A * zum Auffinden des Pfades [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">6</a> ]. <br><br>  Der evolutionäre Ansatz, den ich verwendet habe, kann nicht als vollwertiges Gen bezeichnet werden [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7</a> ], weil  Ich habe nur Mutationen und das Überleben des „Stärksten“ von ihm verwendet und die Einflusskoeffizienten der einzelnen Heuristiken manuell angepasst.  Algorithmen zur Bildung von Populationen und Kreuzen wurden nicht verwendet.  Nach der Mutation überlebt nur eine: entweder eine Mutante oder ein Elternteil. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7i/re/rz/7irerzupfcgvrcheefio0acopvs.png"></div><br><br>  Ich habe aufgrund der Art des Problems keine neuronalen Netze [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8</a> ] verwendet.  Erstens aufgrund der Komplexität ihrer erfolgreichen Implementierung in einem sich ständig ändernden Umfeld (das Aufkommen neuer Mechaniken, Fähigkeiten, Fertigkeiten).  Zweitens aufgrund der Komplexität ihrer kontrollierten Personalisierung (wenn Sie zwei Verhaltensweisen vornehmen möchten: schnelles Suworow und vorsichtiges Kutuzow [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">9</a> ]). <br><br><h3>  Die Entwicklung eines künstlichen Idioten zur künstlichen Intelligenz </h3><br>  0) Zunächst wurden in der KI nur 3 Strategien mit <b>zufälligen Bewegungen</b> eingeführt.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 0</a></i> }.  Die Zustandsbewertung war nur eine Zufallszahl.  Und da KI nicht das einzige Entwicklungselement ist, musste ich mich lange mit dem Verhalten verrückter Fische abfinden. <br><br>  1) Bei der Berechnung der Bewertung der Strategie wurden dann die <b>Überprüfungen der verbleibenden Einheiten und ihres Lebens</b> mit der KI und dem Spieler hinzugefügt.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 10</a></i> }.  Für eine tote Einheit erhielt das Team 0 Punkte.  Für völlig gesunde X-Punkte (zum Beispiel 100.000 für Kämpfer F, 70.000 für Bogenschütze A, 85.000 für Zauberer W).  Für die Verwundeten wurden 50% des Kernwerts und die restlichen 50% im Verhältnis zu den verbleibenden Leben des Maximums berechnet.  Dank dessen war es für die KI rentabler, Feinde zu töten, und wenn er nur verletzen konnte, wählte er Gegner mit weniger Leben - verletzlicher. <br><br>  Zufällige Bewegungen wurden bedeutungsvoller - KI gab manchmal etwas zurück. <br><br>  2) Dann wurde eine aussagekräftigere Startstrategie hinzugefügt: <br>  <b>max_agro</b> - Alle Soldaten rannten so nah wie möglich an die Feinde <b>heran</b> und versuchten <b>, so viel Schaden wie möglich zuzufügen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 20</a></i> }.  Eine Strategie verwendete die ursprüngliche Zugreihenfolge der Einheit, die zweite ging in umgekehrter Reihenfolge vor. <br><br>  AI begann sich in taktischen Spielen wie der primitivste künstliche Idiot zu verhalten.  Und ziemlich oft wird eine solche KI in taktischen Spielen verwendet.  Es ist beliebt wegen seiner Zuverlässigkeit und Einfachheit.  Dieser kann sogar gewinnen - aber sehr selten. <br><br>  Genau so sieht KI-Verhalten im fehlgeschlagenen Spiel Master of Monsters - Disciples of Gaia aus, was es mühsam macht, darin zu spielen [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">10</a> ]. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pj/oy/qh/pjoyqhp3dlshnyes9tn_bm6ueo8.jpeg" alt="Meister der Monster - Schüler von Gaia"></div><br>  3) Dann wurden Strategien hinzugefügt, die <b>möglichen Schaden durch Feinde</b> während der Bewegung berücksichtigen und diejenigen Bewegungen auswählen, die zur geringsten Gefahr führten - vorzugsweise Null.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 30</a></i> }.  Und die KI wurde sofort übermäßig feige und vermied jegliche Nähe zum Feind - es ist besser wegzulaufen als anzugreifen und zu verletzen, weil der Feind mehr Veränderung geben kann! <br><br>  Daher begann die Bewertung der Bedingungen auch, den <b>möglichen Schaden für den Feind</b> zu berücksichtigen.  Strafpunkte aus potenziellem Schaden durch Feinde wurden mit einem abnehmenden Koeffizienten von 0,20 berechnet (der <i>Koeffizient wurde ständig neu konfiguriert</i> ).  Dies zwang die KI, bei der Wahl zwischen Angriff oder Flug eine aggressive Option zu wählen, da sie fünfmal mehr Punkte als der Flug brachte.  Aber die KI blieb noch lange feige, denn um in eine Situation der Wahl zu gelangen, sollte der Feind bereits in Reichweite sein, und die KI selbst wird sich mit solchen Einschätzungen niemals zuerst angreifen.  Das heißt, es wird nicht zur Annäherung gehen.  Natürlich wird sich der Spieler betrogen fühlen, weil die KI unendlich viel Geduld hat und für immer vor der Gefahr davonlaufen kann, was den Spieler zur Aggression zwingt. <br><br>  Es ist zu beachten, dass solche Berechnungen möglicher Schäden ohne die Verwendung eines Caches sehr lang sind.  Eine vollständige Fehleinschätzung einer Strategie ohne Optimierungen dauerte zunächst 700 Millisekunden.  Aber ich habe eine Begrenzung für den gesamten Verlauf einer Einheit ~ 4000 ms!  Nach Optimierungen und verbrauchten Caches verringert sich diese Zeit mit sehr ähnlichen Strategien auf 20 Millisekunden ( <i>leider kann der Cache aufgrund des kombinatorischen Explosionseffekts nicht alle im Voraus berechnet werden, sodass nicht immer 20 ms erreicht werden</i> ). <br><br>  Als ich die Berechnungstechnologie mit der <b>Vorhersage mehrerer Züge vor</b> mir einführte, dauerte die Berechnungszeit für eine Tiefe von nur 2 Zügen (Feind und KI) bereits +700 Millisekunden.  In diesem Fall wird die Optimierung verwendet, indem die "schwachen" Zweige abgeschnitten werden.  Wenn wir hierfür die primitive max_agro-Strategie verwenden, betrug der Zeitanstieg +30 Millisekunden, und das Caching hat diesen Unterschied fast nicht verringert ( <i>da die Position auf der Karte völlig neu war</i> ). <br><br>  Infolgedessen habe ich 5 verschiedene Ansätze zur Entwicklung dieses Ansatzes gemacht, aber am Ende habe ich ihn komplett aufgegeben, weil  Mutationen mit Heuristiken ergaben bessere und schnellere Ergebnisse. <br><br>  4) Die folgenden Strategien zielten darauf ab, die anfängliche Vielfalt der Strategien zu erweitern: <br>  <b>far_attack_and_hide</b> - Einheiten versuchen, so weit wie möglich vom Feind entfernt anzugreifen. Wenn sie nicht angreifen, verstecken sie sich vor jedem Angriff. <br><br>  <b>close_group_flee</b> - Einheiten ziehen sich aus dem Kampf zurück und gruppieren sich so nah wie möglich beieinander.  Wenn Sie den Feind gleichzeitig sicher angreifen können, greifen Sie an. <br>  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 40</a></i> }. <br><br>  Dies verbesserte den Prozess des Kampfes selbst, aber der Beginn des Kampfes war für die KI immer unrentabel: Es zog sich ständig zurück, aber es konnte in den Angriff gelockt und abgeschreckt werden, so dass die KI-Gruppe in mehrere kleine Gruppen aufgeteilt wurde, die separat zerstört werden konnten. <br><br>  5) <b>Dann ist es Zeit für Mutationen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 50</a></i> }. <br><br>  Der Mutationsalgorithmus war sehr einfach: <br><br><ul><li>  Beim Durchlaufen der ausgewählten Strategien wurde eine Kopie der Strategie erstellt. </li><li>  in dieser Kopie wurde eine Mutation des Kurses gemacht; </li><li>  Wenn der Zug ungültig wurde, wurde er gemäß einer der Standardstrategien auf mindestens einen gültigen korrigiert. </li><li>  Punkte der mutierten Strategie wurden berechnet; </li><li>  Wenn der Mutant mehr Punkte hatte, ersetzte der Mutant seinen Elternteil. </li></ul><br>  Gleichzeitig haben Außenstehende die Strategie nicht gelöscht und sich auch an Mutationen beteiligt, weil  Es war immer eine spürbare Wahrscheinlichkeit für eine sehr erfolgreiche Reihe von Mutationen. <br><br>  Zunächst wurde der primitivste Mutationstyp implementiert: 1 bis 3 Bewegungen wurden durch zufällige ersetzt, die Reihenfolge der Bewegungen blieb gleich.  Während einer Iteration von Berechnungen wurden durchschnittlich etwa 5 bis 15 Mutationen für jede Strategie erstellt.  Darüber hinaus war im Durchschnitt jede fünfte Mutation rentabler und ersetzte die Strategie der Eltern. <br><br>  6) <b>Heuristischer Köder</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 60</a></i> }. <br><br>  Diese Heuristik wiederholte die Taktik, mit der ich die KI dazu verleitete, mit einer Einheit anzugreifen, um sie einzeln zu töten.  Dieser Trick wurde auch der KI beigebracht. <br><br>  Dazu wird bei der Berechnung von Punkten für den Zustand der Strategie geprüft, ob der aktuelle Zustand der Situation des Köders entspricht: <br><br><ul><li>  Es kann nur ein KI-Soldat angegriffen werden. </li><li>  Nur ein Feind kann eine gekrochene Einheit angreifen. </li><li>  Die Einheit des Computerspielers muss nach diesem Angriff überleben. </li><li>  Mindestens zwei Einheiten des Computers können als Reaktion darauf angreifen.  Je mehr solche Bestrafungseinheiten, desto mehr Punkte für die Heuristik. </li></ul><br>  Der Effekt erwies sich als ausgezeichnet: Es wird für den Spieler einfacher, den Kampf selbst zu beginnen.  Darüber hinaus ist es für den Spieler meistens immer noch rentabler, sich auf diesen Köder zu setzen, da er nach einem Gegenangriff mit seinem gesamten Kader auf die KI fallen kann ( <i>dies ist der</i> Fall, <i>wenn er vorher vernünftig gruppiert ist</i> ).  Und dort werden alle kompetenten lokalen taktischen Entscheidungen alles lösen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/av/sz/hgavszrvvpifoflsjerdxzfxncq.png"></div><br>  7) Dann fiel mir auf, dass sich KI-Kämpfer ständig <b>wie Kakerlaken zerstreuen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 70</a></i> }.  Außerdem könnten sich Soldaten in einer Ecke verstecken oder in enge Tunnel gehen, in denen die KI bei der Sortierung möglicher Angriffe stark an Wirksamkeit verloren hat. <br>  Daher wurden der Bewertungsfunktion Heuristiken zur Schätzung der Entfernungen zwischen Einheiten und Kartentopographie mit den folgenden Annahmen hinzugefügt: <br><br><ul><li>  Je näher die Verbündeten "im Durchschnitt" beieinander sind, desto besser (die Einheiten begannen sich seltener in verschiedene Teile der Karte zu zerstreuen). </li><li>  Je näher die KI-Soldaten den „durchschnittlichen“ Soldaten des Feindes sind, desto besser (ich brauchte eine offensive KI). </li><li>  Je größer der maximale Abstand zwischen zwei Verbündeten ist, desto schlechter.  Gleichzeitig wird eine Entfernung von 4 nicht bestraft, und alles, was größer ist, wird exponentiell bestraft (dies hat aufgehört, Soldaten in gefährdete Reihen zu ziehen). </li><li>  Wenn ein KI-Soldat nicht in mindestens zwei Runden rennen und den Feind angreifen kann, muss er mit einer Geldstrafe belegt werden (dies zwingt ihn, voranzukommen, aber nicht selbst angegriffen zu werden). </li><li>  Wenn sich innerhalb eines Radius von 2 Schritten vom Soldaten zu viele Sperrpositionen befinden, wird eine Geldstrafe verhängt (seltener stießen sie auf Tunnel). </li><li>  Wenn sich ein Soldat am Rand der Karte befindet, wird er noch härter bestraft.  Infolgedessen nahm die Manövrierfähigkeit der KI stark zu  Eine Einheit kann von einem offenen Bereich zu einer viel größeren Anzahl von Positionen laufen als von einer Ecke oder einem Tunnel. </li></ul><br>  8) Dann ist es Zeit, Strategien zu erweitern.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 80</a></i> }.  Ich konnte keine vollständige Aufzählung der möglichen Reihenfolge der Einheitenbewegungen hinzufügen, aber ich konnte <b>ihre Bewegungen nach Typ</b> auflisten: Kämpfer, Bogenschütze, Zauberer.  Daher erschienen Strategien für die Abfolge von Zügen der Form W_A_F: zuerst gehen alle Zauberer, dann alle Bogenschützen, dann alle Kämpfer. <br><br>  Somit wurden 6 neue Strategien hinzugefügt: W_A_F, W_F_A, A_W_F, A_F_W, F_A_W, F_W_A.  Sie haben nicht alle Probleme gelöst, aber die Qualität des Spiels erheblich verbessert. <br><br>  9) Ich hatte Mutationen, aber sie waren von geringem Nutzen.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 90</a></i> }.  Meist verbesserten sie schwache Strategien, während erfolgreiche sich selten verbesserten.  Daher wurden die <b>Mutationen modifiziert</b> und jedes Mal funktionierte eine der zufälligen Arten von Mutationen: <br><br><ul><li>  1 bis 3 Bewegungen wurden durch zufällige ersetzt, die Reihenfolge der Züge blieb gleich (alter Weg); </li><li>  Tauschen Sie die Bewegungsreihenfolge von zwei zufälligen Einheiten aus.  Lassen Sie sie unverändert, auch wenn sie nicht optimal sind.  Wenn die Bewegung nicht wiederholt werden kann, wird sie zufällig durch eine der üblichen Strategien in einen gültigen Zustand versetzt. </li><li>  Vertauschen Sie die Reihenfolge der Züge zweier zufälliger Einheiten und erzählen Sie ihre Züge erneut.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alle fehlgeschlagenen Bewegungen in nachfolgenden Einheiten werden durch zufällige konventionelle Strategien repariert. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Einführung dieser Mutationen begann ernsthaft die Unmöglichkeit zu kompensieren, alle Kombinationen von Einheitenbewegungen vollständig aufzuzählen. </font><font style="vertical-align: inherit;">Obwohl er aufgrund seiner Zufälligkeit keine Garantie dafür gibt, dass ein Coup in der verfügbaren begrenzten Zeit gefunden wird. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10) Dann wurden </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">weitere halbzufällige Strategien</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzugefügt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 100</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">Die Reihenfolge der Züge wurde zufällig generiert und die Züge selbst wurden nach den folgenden Prinzipien ausgewählt (um ihre Bedeutung zu verringern):</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maximalen Schaden zufügen; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> als Reaktion so wenig Schaden wie möglich nehmen; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gehen Sie Ihren Feinden so nahe wie möglich. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe hier keine spürbare Verbesserung gesehen, aber das Projekt ist bereits so weit fortgeschritten, dass jede Verbesserung zu weniger spürbaren reproduzierbaren Effekten führt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11) Ich hatte die krassen Fehler der KI satt, als er meine Soldaten angriff, während er mit seinem Zauberer angriff, aber gleichzeitig seine Verbündeten verwundete. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 110</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">Obwohl er vorher tatsächlich mit ihnen herumlaufen und sie aus der Schusslinie entfernen konnte. </font><font style="vertical-align: inherit;">Daher wurde eine hart generierte </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strategie mit manuellen Überprüfungen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erstellt </font><font style="vertical-align: inherit;">:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn es einen Zauberer gibt, dann finde einen Ort, an dem er maximalen Schaden zufügt. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn es an diesem Ort oder auf dem Weg des Streiks Verbündete gibt, erinnere dich an sie. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erstens gehen alle Verbündeten, an die sie sich erinnern, und können keine vom Zauberer reservierten Positionen einnehmen (dh den Weg frei machen). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Zauberer geht; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die restlichen Einheiten gehen. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Strategie lässt sich leicht in Worten beschreiben, ist aber für die Programmierung cool. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12) Manchmal " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flüchteten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Einheiten </font><font style="vertical-align: inherit;">kurz vor Beginn der Feindseligkeiten </font><b><font style="vertical-align: inherit;">in die Büsche</font></b><font style="vertical-align: inherit;"> . { </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 120</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. Infolgedessen konnten zu Beginn des Angriffsaustauschs eine oder sogar zwei Einheiten zu weit von militärischen Operationen entfernt sein und den Verbündeten nicht helfen. Wenn dies passierte, war mir fast garantiert, dass ich die KI schlagen würde. Wenn es nicht passiert ist, habe ich oft verloren. Ich habe dies beseitigt, indem ich eine neue Heuristik eingeführt habe, um die resultierenden Punkte der Strategie zu bewerten. Für jede Einheit wurde eine Überprüfung durchgeführt: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Wenn die Einheit in diesem Zug angegriffen hat, erhielt sie +1500 Punkte.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Wenn Sie nicht angegriffen haben, wurden die Positionen berechnet, von denen aus die Feinde den Verbündeten Schaden zufügen konnten. Zählen Sie weiter, wenn mehr als 0 solcher Positionen vorhanden sind (N&gt; 0). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1. Wenn eine Einheit keine Position erreichen und schlagen kann (n = 0), erhält sie eine Strafe von -1000 Punkten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2. Wenn eine Einheit alle Positionen erreichen kann, erhält sie +1200 Punkte. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3. Wenn eine Einheit bis zu bestimmten Positionen angreifen kann, erhält sie + (n / N) * 1000 Punkte.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies hat den „Zusammenhalt“ der KI-Einheiten erheblich verbessert. </font><font style="vertical-align: inherit;">Leider tauchten Fälle von „einem Deserteur“ auf, als eine der verwundeten Einheiten es vorzog, sich in einer verlorenen Situation hinter dem Rücken ihrer Kameraden zu verstecken, anstatt einen Beitrag zu leisten, indem sie den Feind angriffen. </font><font style="vertical-align: inherit;">Es sah lächerlich aus, wenn der Computer nur noch 2 Einheiten hatte und der Spieler 3 oder mehr. </font><font style="vertical-align: inherit;">Eine zusätzliche Korrekturheuristik ist die folgende Regel:</font></font><br><br><pre><code class="plaintext hljs">IF ("   ,   " AND "    3 ") THEN "      "</code> </pre> <br>  13) Am Ende der Einführung der Strategien hatten sie bereits weniger als 25 Stück.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 130</a></i> }. <br><br>  Die Mutation jedes einzelnen von ihnen ist zu teuer geworden.  Daher wurde beschlossen, die erfolglosesten zu entfernen und nur 8 Stück zu belassen.  Von Anfang an wollte ich diesen Ansatz nicht in der Erwartung verwenden, dass die Mutation von Außenstehenden zu einem unerwartet hervorragenden Ergebnis führen kann, anstatt nur zu einem guten.  Die Eingabe dieser Verarbeitung führte letztendlich zu einer Verbesserung des KI-Spiels. <br><br>  14) Zu Beginn gab es noch eine interessante Überarbeitung.  Zunächst wurde der Wert des Szenarios als Differenz der Punktesumme berechnet: <br><br><pre> <code class="plaintext hljs">_ = _ - _</code> </pre> <br>  Aber nach mehreren Verbesserungen fiel mir ein, dass dies nicht die beste Lösung ist, weil  dann sind für AI die Situationen "2 Soldaten gegen 1 einzelnen Soldaten" und "4 Soldaten gegen 3 Soldaten" gleich.  Daher wurden Punkte als Verhältnis berechnet: <br><br><pre> <code class="plaintext hljs">_ = _ / _</code> </pre> <br>  Die Änderung ist gering und das Ergebnis ist sehr ernst.  Ohne Änderung war der Preis eines Fehlers mit erhöhtem Risiko immer der gleiche.  Nach der Verfeinerung begann die KI gegen Ende des Kampfes weniger nachlässig zu riskieren, was sie deutlich stärkte. <br><br>  Ich möchte darauf hinweisen, dass all diese Verbesserungen schrittweise eingeführt wurden, wenn auch in der angegebenen Reihenfolge, aber viele von ihnen wurden verbessert, verarbeitet und aufgrund von Fehlern in einer chaotischeren Reihenfolge korrigiert.  Es gab mehr als 100 echte Iterationen. <br><br>  So spielt die endgültige KI { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeitsgrad des Spiels # 9999</a></i> }: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/WkeFo53ycSc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  AI geht sofort und verschwendet keine Zeit mit Nachdenken </h3><br>  Um die Berechnungen selbst zu beschleunigen, wurden Optimierungsalgorithmen aktiv in Form von Partitionen verschachtelter Schleifen in sequentielle Schleifen ( <i>Reduzierung der Komplexität</i> ) und der Einführung mehrerer Arrays mit zwischengespeicherten vorläufigen Berechnungen ( <i>und anschließender Optimierung dieser Caches</i> ) verwendet.  Nach meinen Schätzungen könnten weitere Optimierungen zu einer doppelten (oder sogar größeren) Geschwindigkeitssteigerung führen, dies würde jedoch zu einer ungerechtfertigten Erhöhung der Zeitkosten und einem weiteren noch größeren Verlust der Lesbarkeit des Codes führen. <br><br>  Die Haupttechnologie der Hochgeschwindigkeit sind vorläufige Berechnungen während der Ausfallzeit.  Diese Methode besteht darin, den Prozess in zwei Teile zu unterteilen: die Berechnungen selbst und die Animation der Berechnungsergebnisse: <br><br><ul><li>  Berechnungen des Verlaufs der ersten Einheit beginnen unmittelbar nach dem Zug des Spielers, während ein Fenster herausfliegt, in dem der Zug des Gegners beginnt.  Und das sind bis zu 4 Sekunden, die der Spieler nicht als leere Erwartung wahrnimmt. </li><li>  Die Berechnungen des zweiten und der nachfolgenden Züge beginnen, wenn die Animation des Verlaufs der letzten Einheit erst beginnt (dh wenn der KI-Cursor gerade seine Bewegung beginnt).  Und die Zeit aller Animationen beträgt bereits 4,5 Sekunden.  Es wäre zwar richtiger, dies nicht die Berechnung des nächsten Schrittes zu nennen, sondern die Verbesserung der bereits entwickelten früheren Strategie und die Suche nach einer neuen, weil  Bei jeder Iteration werden die Bewegungen des gesamten Teams berechnet. </li><li>  Wenn sich die animierende KI zu beweglichen Einheiten bewegt, fliegt der KI-Cursor, der vorgibt, auf sie zu klicken.  Der Cursor fliegt so schnell wie möglich, damit der Komfort der Verfolgung erhalten bleibt.  Darüber hinaus konnte durch Hinzufügen eines Cursors nicht nur die Rechenzeit von 2 Sekunden auf 4,5 Sekunden erhöht werden, sondern auch der Fortschritt des Computers für eine Person komfortabler angezeigt werden. </li><li>  Die Zugzeit des Spielers wird ebenfalls nicht verschwendet.  Solange der Spieler denkt, werden fast keine Berechnungen durchgeführt, so dass zu diesem Zeitpunkt mögliche Caches für den zukünftigen Zug des Computergegners intensiv berechnet werden. </li></ul><br>  Um zu verhindern, dass all dies im Browser zurückbleibt und mit einem relativ stabilen FPS arbeitet, werden die Berechnungen vom Worker ( <b>Web Worker</b> ) asynchron durchgeführt [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">11</a> ]. <br><br>  Auf diese Weise wollte ich das nervige Wartefenster „Computer-Spaziergänge“ loswerden.  Solch ein unangenehmer Würfel ist in vielen guten Spielen zu finden, zum Beispiel bei Xenonauts [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">12</a> ].  Ich glaube, dass ich dieses Problem bewältigen konnte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/pr/wi/heprwi7w8vrfta6cdb0hzv1ga-0.jpeg" alt="Xenonauten - versteckte Bewegung"></div><br>  Daher verbringt die KI immer die gleiche Zeit damit, über ihren Umzug nachzudenken - unabhängig von ihrer Komplexität.  Ein sehr <i>merkwürdiges Merkmal</i> dieses Ansatzes ist, dass je stärker der Spieler einen Computer hat, desto mehr KI-Mutationen Zeit zum Aussortieren haben und daher umso stärker und leistungsfähiger der Computer des Spielers ist.  Ich habe diesen Effekt zuerst entfernt, indem ich die Laufzeit festgelegt und die Geschwindigkeit des Computers vorberechnet habe.  Allerdings habe ich dann diese Fixierung entfernt, weil  Besitzer von leistungsstarken Computern können so mit "ihrem" Computer kämpfen, anstatt mit dem durchschnittlichen. <br><br><h3>  Was ist das Ergebnis und was sind die Nachteile </h3><br>  Somit weiß der resultierende Computergegner, wie man würdig kämpft und nutzt die Versehen eines Spielers gut aus und macht nicht zu viele seiner eigenen.  Trotzdem kenne ich alle Merkmale seiner Arbeit, wenn auch mit Spannung, aber ich besiege ihn fast immer (unter gleichen Bedingungen).  Aber ich möchte das Gegenteil: Selbst wenn ich über seine Eigenschaften Bescheid weiß, verliere ich fast immer gegen ihn.  KI ist alles andere als ideal, da die von mir verwendeten Heuristiken zu einer synergistischen Überlappung von "Fehlern meiner Wahrnehmung" führen.  Diese Fehler sind: <br><br><ol><li>  Aufgrund der Unvollkommenheit und Unvollständigkeit meiner eigenen Strategie kenne ich nicht alle besten Strategien und kann sie daher nicht identifizieren und im Spiel umsetzen. </li><li>  Effizienzverlust (was nicht so ideal ist) von ausgearbeiteten Heuristiken bei der Übertragung auf Programmcode.  Zum Beispiel meine menschliche Heuristik: „Einheiten bleiben in der Nähe, aber nicht zu nahe, um doppelten Schaden durch Magier zu vermeiden und nicht in engen Passagen stecken zu bleiben.“  Diese Heuristik hilft mir, die KI zu besiegen, aber wenn ich sie meinem Computergegner beibringe, muss ich eine qualitative Beschreibung in eine algorithmische mit quantitativen Schätzungen übersetzen, und hier ist Datenverlust möglich. </li><li>  Gegenseitige Konflikte zwischen Heuristiken.  Wenn zu viele Heuristiken vorhanden sind, beginnen sie sich allmählich zu überlappen.  Infolgedessen kann eine unerwartete Verstärkung aufgrund einer versteckten Doppelzählung oder einer teilweisen Verdoppelung auftreten.  Oder irgendeine Art von Heuristik wird aufhören, irgendetwas zu beeinflussen, weil  sein Beitrag wird durch große konkurrierende Koeffizienten vollständig blockiert. </li><li>  Enge Zeitbeschränkungen und schrittweise Verbesserungen der gewählten Strategien führen dazu, dass der erste Schritt immer weniger durchdacht ist.  Dies bedeutet, dass ein erfolgloser erster Zug die offensichtlich effektiveren Züge der verbleibenden Einheiten des Teams blockieren kann.  Dies drückt sich in der Tatsache aus, dass der erste Kämpfer F, anstatt sich zu entfernen, den Feind ironisch angreifen kann und dann sein Verbündeter W seinen eigenen verletzen muss, um den Feind zu erledigen. </li></ol><br>  Vollwertige genetische Algorithmen würden es höchstwahrscheinlich ermöglichen, optimalere Koeffizienten in der Heuristik auszuwählen, anstatt sie mit dem Auge abzugleichen.  Dies ist jedoch bereits eine Aufgabe für zukünftige vollwertige Projekte - ich möchte nicht lange an einem Prototyp hängen bleiben.  Ich bin sehr zufrieden mit der aktuellen KI: Sie ist umsichtig, ein wenig heimtückisch, ziemlich aggressiv und erlaubt dem Spieler nicht, sich trocken zu besiegen ( <i>in Wirklichkeit ist es äußerst selten, dies zuzulassen</i> ). <br><br><h3>  Zusätzliche Funktionen </h3><br>  Mit dieser Implementierungsmethode können Sie zusätzliche Boni in der Spieleentwicklung erzielen ( <i>in vielerlei Hinsicht aus Sicht des Entwicklers und seiner brennenden Bedingungen</i> ): <br><br><ol><li>  <b>Das Erscheinen neuer Mechaniken</b> im Spiel wird die Stärke des Computerspielers nicht zerstören, obwohl es ihn im Vergleich zum Spieler allmählich schwächt.  Diese Schwächung kann durch die Einführung zusätzlicher Heuristiken ausgeglichen werden.  Damit dies nicht zu fortschreitenden Ressourcenausgaben führt, können diese neuen Heuristiken nur angewendet werden, wenn diese neuen Mechaniken im aktuellen Kampf vorhanden sind. </li><li>  Wirklich intelligente <b>Schwierigkeitsgrade</b> .  Grundsätzlich bestimmt der Schwierigkeitsgrad, welche Boni ein Computerspieler als Ressourcen erhält ( <i>mehr Gold zu Beginn oder ein Bonus im Bergbau</i> ) oder wie viel seine Soldaten schlagen ( <i>+ 50% Schaden</i> ).  Es funktioniert, aber Sie können die KI ein wenig weniger intelligent machen, indem Sie einige Heuristiken schrittweise deaktivieren, wenn die Komplexität abnimmt. </li><li>  In der Fortsetzung des zweiten Absatzes können Sie <b>verschiedene Rassen / Fraktionen von Computergegnern</b> erstellen: Nur aggressive Strategien funktionieren für Orks;  in Massen von Zombies rennen nur die Primitiven „vorwärts und greifen an“;  und Cyborgs nutzen die volle Kraft der KI.  Dank dieses Spielers muss vor dem Angriff nicht nur die Anzahl der Gegner, sondern auch deren Intelligenz bewertet werden. </li></ol><br>  All dies klingt vielversprechend, aber Sie sollten sich daran erinnern, dass all dies auf dem Papier schön ist und in einem echten Spiel möglicherweise nicht funktioniert, sich als uninteressant oder sogar für den Spieler unsichtbar herausstellt.  Dies ist jedoch ein guter Grund zum Experimentieren. <br><br><h3>  Wo zu fühlen </h3><br>  Sie können die Leistung dieser KI im taktischen KI-Rumpelbrowser testen.  Testperson “kostenlos auf Websites wie itch.io [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">13</a> ].  Der GET-Parameter ai (Werte von 0 bis 140 in Schritten von 10) verringert die Komplexität der KI. <br><br>  Nach meinen Erwartungen wird es für Sie sehr, sehr schwierig sein, KI zu gleichen Bedingungen zu besiegen.  Auch nachdem man sich an die Spielregeln gewöhnt hat.  Ich empfehle, dieses Spiel als Prototyp zu betrachten, was es im Wesentlichen ist (es enthält keine <i>Musik, Sounds und</i> keinen <i>Preis</i> ). <br><br>  Bitte hinterlassen Sie Ihre Meinung in den Kommentaren zur Interessantheit der KI, Tipps und Kritik zur möglichen Implementierung der KI mit verschiedenen Lehrmethoden.  Wenn Sie sich plötzlich für meine anderen Forschungsergebnisse interessieren, können Sie hier mein Konto abonnieren. <br><br><h3>  Referenzliste </h3><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeepMind - Artikel über Habré</a> . <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">HTML5-Spiele: Canvas vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">SVG vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">div on stackoverflow</a> . <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Kombinatorische Explosion - Wikipedia</a> . <br>  4. Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">perfekte Steve McConnell-Code ist Habr</a> . <br>  5. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Heuristische Methoden - Wikipedia</a> . <br>  6. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">A * - Red Blob-Spiele</a> . <br>  7. Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">genetische Algorithmus.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fast das Schwierige - Habr</a> . <br>  8. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Acht erstaunliche Spiele mit künstlicher Intelligenz von der Firma Google - Habr</a> . <br>  9. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ganz kurz über Suworow und Kutusow</a> . <br>  10. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Meister der Monster - Schüler von Gaia - Rückblick auf IGN</a> . <br>  11. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Eine detaillierte Erklärung der JavaScript-Spielschleifen und des Timings</a> . <br>  12. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Xenonauten und ein langer AI-Standby-Bildschirm</a> . <br>  13. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">KI taktisches Grollen.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Testperson - auf itch.io.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461287/">https://habr.com/ru/post/de461287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461277/index.html">Übersicht über das kostenlose SQLIndexManager-Tool</a></li>
<li><a href="../de461279/index.html">So erstellen Sie einen einfachen Microservice für Golang und gRPC und containerisieren ihn mit Docker</a></li>
<li><a href="../de461281/index.html">Exemplarische Vorgehensweise zum Einrichten eines BIND-DNS-Servers in einer Chroot-Umgebung für Red Hat (RHEL / CentOS) 7</a></li>
<li><a href="../de461283/index.html">Softwarearchitektur und Systemdesign: Das Big Picture and Resource Guide</a></li>
<li><a href="../de461285/index.html">5 Haupt-Sampling-Algorithmen</a></li>
<li><a href="../de461289/index.html">CLion 2019.2 veröffentlicht: Unterstützung für eingebettete Entwicklung, Debugger für MSVC, Suche nach nicht verwendeten Header-Dateien</a></li>
<li><a href="../de461291/index.html">Golang: spezifische Leistungsprobleme</a></li>
<li><a href="../de461297/index.html">Wie moderne gezielte Angriffe aussehen</a></li>
<li><a href="../de461299/index.html">Wie der PC die Medienbranche mit erfolgreicher Software eroberte: Erörterung von Pro Tools und Media Composer</a></li>
<li><a href="../de461303/index.html">Verwendung der Troika-Karte als obligatorische Krankenversicherung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>