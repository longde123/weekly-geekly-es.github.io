<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüíª üë©üèª‚Äçü§ù‚Äçüë®üèΩ üçì Entwicklung einer listigen KI in einem taktischen Spiel, das auf Heuristiken und Mutationen basiert üôåüèª ‚ñ™Ô∏è üë©üèº‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In taktischen Spielen ist KI sehr wichtig. Wenn KI als ‚Äûk√ºnstlicher Idiot‚Äú angesehen wird, kann das Spiel durch erstaunlichen Multiplayer, Handlung, A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklung einer listigen KI in einem taktischen Spiel, das auf Heuristiken und Mutationen basiert</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461287/"> In taktischen Spielen ist KI sehr wichtig.  Wenn KI als ‚Äûk√ºnstlicher Idiot‚Äú angesehen wird, kann das Spiel durch erstaunlichen Multiplayer, Handlung, Atmosph√§re und Grafik gerettet werden (dies ist ungenau).  Die L√∂sung liegt auf der Hand: Machen Sie eine gute KI, was k√∂nnte das Problem sein? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/qq/i1/wfqqi1td-4drykncjmdv7eeqyec.gif" alt="Cat Terminator von CoolAI"></div><br>  Im Detail.  Im Folgenden sind meine Schritte zum Aufbau einer starken KI mit Charakter aufgef√ºhrt.  Nicht super stark [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> ], aber in der Lage, schnell lokal in einem gefr√§√üigen Browser eines mittelschwachen PCs zu arbeiten.  Ich habe den Ansatz von Expertensystemen unter Verwendung einer Reihe von Heuristiken und Mutationen angewendet.  Es werden 15 Schritte der schrittweisen Transformation der KI beschrieben, wobei jeder der Schritte zu sp√ºren ist. <br><a name="habracut"></a><br><h3>  Kurzbeschreibung </h3><br>  In einem experimentellen Browsergame basiert die KI auf der Erzeugung vieler m√∂glicher Zust√§nde - den Ergebnissen des aktuellen Zuges.  <i>(Aufgrund der Spielspezifikationen und der Bequemlichkeit werden diese resultierenden Zust√§nde im Artikel je nach Kontext entweder Turn-Szenarien oder KI-Strategien genannt</i> .)  Dann werden die Szenarien des Kurses mutiert.  Gem√§√ü den erhaltenen Szenarien werden die Sch√§tzungen des "Erfolgs" berechnet.  Am erfolgreichsten und von einem Computer-Spieler durchgef√ºhrt. <br><br>  Beispielsweise werden drei Strategien generiert: <br><br><ol><li>  Laufen Sie hektisch vorw√§rts und greifen Sie alle an, die den Arm hochdrehen.  Punkte des Endzustands: 37000 Punkte. </li><li>  Greife Bogensch√ºtzen aus sicherer Entfernung an, w√§hrend sich der Rest in den Ecken versteckt.  45000 Punkte. </li><li>  Alle ziehen sich zur√ºck, gruppieren sich und verstecken sich vor Feinden.  Wenn Sie einen Feind aus sicherer Entfernung verletzen k√∂nnen, greifen Sie an.  18000 Punkte. </li><li>  In diesem Fall wird die 2. Strategie ausgew√§hlt. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4n/yr/6q/4nyr6q29l8vaeemg-fo5a_hylme.gif"></div><br>  Nun, alles scheint Standard zu sein.  Nicht wirklich. <br><br>  Der gesamte Zellstoff ist, wie die Skripte generiert werden und wie der Wertkoeffizient des Skripts berechnet wird.  In einem von ihnen auferlegen, und das Ergebnis wird Sie traurig machen. <br><br><h3>  Spielregel </h3><br>  Der Spieler und die KI haben anfangs 6 identische Einheiten an den Ecken.  Jedes Team wechselt sich abwechselnd mit allen Einheiten gleichzeitig ab.  Optionen f√ºr den Fortschritt jeder Einheit: <br><br><ul><li>  einen Zug √ºberspringen; </li><li>  bewege dich und √ºberspringe; </li><li>  Bewegen Sie sich und greifen <i>Sie an</i> ( <i>Sie k√∂nnen und m√ºssen manchmal Ihre eigenen angreifen</i> ). </li></ul><br>  Das Spielfeld und die Zusammensetzung des Teams werden prozedural generiert ( <i>dh zuf√§llig, jedoch mit Durchg√§ngigkeitspr√ºfungen und akzeptablem "Takt"</i> ).  Einheitentypen: <br><br><ol><li>  Fighter F, Nahkampfeinheit mit der gr√∂√üten √úberlebensf√§higkeit, dem gr√∂√üten Schaden und der gr√∂√üten Mobilit√§t.  Eine Art Panzer + Schaden. </li><li>  Bogensch√ºtze A, der niedrigste Schaden, aber der Angriff erfolgt in einer geraden Linie in einer Entfernung von 1-7. </li><li>  Zauberer W stirbt mit einem Schlag eines K√§mpfers, aber der Angriff erfolgt in einer Entfernung von 1-5 in einer geraden Linie durch alle Einheiten. </li></ol><br>  Das Spielfeld ist immer 10 * 10 gro√ü. <br><br>  M√∂gliche Felder auf der Karte: <br><br><ul><li>  Erde - legt keine Einschr√§nkungen fest. </li><li>  Wand - durch sie kann man weder schie√üen noch passieren. </li><li>  Wasser - es ist unm√∂glich, es zu passieren, aber ein Bogensch√ºtze kann hindurchschie√üen (ein <i>feuriger Magier kann es nicht</i> ). </li></ul><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/zb/wo/gr/zbwogrulofgpixaxvlfrtnqlmuc.png"></a> </div><br><br>  Das Spiel ist vollst√§ndig bestimmt, das hei√üt, es enth√§lt kein Zufallselement (100% Trefferchance, kein kritischer Schaden usw.).  Es ist auch ein Spiel mit vollst√§ndigen Informationen, dh Rivalen wissen zu jeder Zeit alles √ºber den Zustand der Truppen des jeweils anderen.  Wie bei Dame. <br><br>  KI ist st√§rker als ein Fleischspieler, aber letzterer auf der ersten Ebene hat ein Handicap in Form einer Einheit.  Am 3. hat der Spieler im Gegenteil ein Handicap von einer Einheit und es ist viel schwieriger zu gewinnen (ich habe ungef√§hr 15% der Siege in dieser Phase).  Dann kommt die eher zuf√§llige Version von Game +. <br><br><div class="spoiler">  <b class="spoiler_title">Abgebrochenes Gameplay</b> <div class="spoiler_text">  <i>Anfangs wurde ein anderer Spielplan in Form eines ‚ÄûSwings‚Äú entwickelt als in der Gesamtwertung, aber am Ende der Entwicklung habe ich ihn als schwach motivierend aufgegeben.</i>  <i>Der Punkt war, dass wenn ein Team verliert, es auf der n√§chsten Karte +1 Einheit erh√§lt und so weiter bis zu maximal 10 gegen 6. Wenn und dann das Team es geschafft hat zu verlieren, dann haben seine Einheiten die Eigenschaften erh√∂ht.</i> <br></div></div><br>  Das Spiel wurde auf nativem Javascript entwickelt: auf Divs und CSS-Stilen, und dies war die ungl√ºcklichste m√∂gliche L√∂sung [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">2</a> ].  Dies ist ein Browsergame.  Der Motor wurde nicht benutzt.  Das einzige Ziel des Projekts ist es, einen starken Computerspieler ‚Äûmit Charakter‚Äú zu schaffen und diesen Charakter zu √§ndern (Berechnung von Cyborgs, aggressiven Orks, t√ºckischen Elfen, dummen Zombies). <br><br>  Um den "Computerstil" des Feindes zu reduzieren, wurden einige Tricks angewendet: <br><br><ul><li>  Der Spieler wartet nach seinem Zug nicht, bis die KI √ºber seinen Zug nachdenkt.  Der Feind beginnt ‚Äûsofort‚Äú, seine Bewegungen auszuf√ºhren ( <i>in Wirklichkeit ist dies eine Illusion</i> ). </li><li>  Der Computerspieler steuert die Einheiten auch mit seinem Cursor ( <i>und dies ist auch eine Illusion, der Cursor fliegt nur zur gleichen Zeit wie die Einheitenanimationen</i> ). </li><li>  KI kann heimt√ºckische K√∂der verwenden, um einen Kampf zu erzwingen ( <i>alles ist fair</i> ). </li></ul><br><h3>  Und was ist so kompliziert? </h3><br>  Auf den ersten Blick scheint alles einfach zu sein: Sie k√∂nnen einfach alle Optionen aller Z√ºge sortieren und die beste ausw√§hlen.  Aber sehr bald wird klar, dass alles sehr schwierig ist. <br>  Eine vollst√§ndige Aufz√§hlung ist aufgrund des kombinatorischen Explosionseffekts [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">3</a> ] nicht m√∂glich. Dies besteht darin, dass die Komplexit√§t der Berechnungen mit zunehmender Anzahl der in den Szenarien √ºberpr√ºften Elemente exponentiell zunimmt.  Als n√§chstes werde ich beschreiben, was dies in meinem speziellen Spiel bedeutet. <br><br>  Erstens, weil  In jeder Runde <u>gehen</u> die <u>Teameinheiten alle auf einmal</u> , dann kann ihre Reihenfolge unterschiedlich sein.  Und mit 6 Einheiten im Team solcher Kombinationen wird <u>720</u> (1 * 2 * 3 * 4 * 5 * 6).  Wenn es mehr Einheiten geben wird, wird es eine gro√üe Anzahl von Kombinationen geben (bei 7 - 5040, bei 8 - 40320 ...).  Wenn Sie das maximale Ergebnis nicht ber√ºcksichtigen, riskiert der Spieler, das Vergn√ºgen in Erwartung des n√§chsten Zuges f√ºr 5-10 Minuten auszuprobieren ( <i>und wenn er hartn√§ckig ist, wird die Verz√∂gerung auf Millionen von Jahren anwachsen, nicht jeder wird leiden</i> ).  Aufgrund dieser Eigenschaft ist meine KI zu Beginn des Kampfes weniger effektiv als am Ende.  Gegen Ende ist bereits die H√§lfte des Teams gestorben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/wb/mz/tewbmzh3ouw8pi0dxfprbotd2vo.jpeg" alt="Keine Einheit - kein Problem"></div><br>  Zweitens kann sich jede Einheit <u>zu verschiedenen Punkten der Karte bewegen</u> .  K√§mpfer mit einem Bewegungsbereich von 4 k√∂nnen 1-41 verschiedenen Positionen √§hneln.  F√ºr Zauberer und Bogensch√ºtzen mit einer Bewegung in 3 betr√§gt die m√∂gliche Anzahl von Z√ºgen 1-25.  Zum Beispiel kann die Zusammensetzung des Teams sein: 4 K√§mpfer, 1 Magier und 1 Bogensch√ºtze.  Wir erhalten die Summe der verschiedenen Kombinationen von Z√ºgen f√ºr diesen Gegenstand: 41 * 41 * 41 * 41 * 25 * 25 = 1766100625. In der Realit√§t gibt es aufgrund gegenseitiger Schnittpunkte und unpassierbarem Gel√§nde weniger Kombinationen, aber in einer seltenen Situation mit ‚ÄûStreuung auf der Karte‚Äú wird die Anzahl der Kombinationen sein n√§here dich dieser Zahl. <br><br>  Drittens kann jede Einheit nach der Bewegung eine Bewegung √ºberspringen oder in eine von vier Richtungen angreifen.  Das hei√üt, wir haben <u>5 m√∂gliche endg√ºltige Aktionen</u> pro Einheit.  Gesamtkombinationen: 5 ^ 6 = 15625. <br><br><img src="https://habrastorage.org/webt/p-/jo/b3/p-job32djmlchdun3h0ozsscvkq.gif" align="right">  Gesamtkombinationen: 720 * 1766100625 * 15625 = 19868632031250000. <br><br>  Und in jeder g√ºltigen Kombination m√ºssen die Punkte des resultierenden Zustands berechnet werden.  Die Bewertungsfunktion umfasst: Nachahmung von Bewegungen, Angriff, Verursachen von Schaden, Tod von Einheiten und Z√§hlen der verbleibenden Trefferpunkte von √úberlebenden.  Nat√ºrlich ist die Anzahl der Kombinationen √ºberbewertet, weil  Unter realen Bedingungen nimmt die Variabilit√§t aufgrund der Grenzen und Hindernisse auf der Karte ab, es handelt sich jedoch immer noch um eine unertr√§gliche Anzahl von Kombinationen.  Und das alles passiert schlie√ülich in einem normalen Browser. <br><br><h3>  Wie wird es gemacht? </h3><br>  Um ein √§hnliches Problem zu l√∂sen, wurde ein heuristischer Ansatz verwendet, dessen verallgemeinerter Algorithmus wie folgt beschrieben werden kann: <br><br><ol><li>  Generieren Sie verschiedene Szenarien basierend auf vordefinierten Strategien (~ 20 Teile). </li><li>  Solange Zeit bleibt, mutieren Sie die Skripte und lassen Sie die profitabelsten √ºbrig. </li><li>  W√§hlen Sie am Ende das Szenario mit der h√∂chsten Bewertung aus. </li><li>  F√ºhren Sie den ersten Zug der Einheit aus dem Skript aus, aber gehen Sie den Rest nicht.  Starten Sie die Animation des ersten Zuges und verbessern Sie die Skripte f√ºr die verbleibenden Einheiten, w√§hrend die Animation angezeigt wird. </li><li>  Wiederholen Sie dies f√ºr die verbleibenden Einheiten ab Schritt 1. </li></ol><br>  <i>Die heuristische Methode ist eine Methode, die funktionieren kann (nach McConnell [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4</a> ]).</i>  <i>Mehr und strenger auf Wikipedia [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">5</a> ].</i> <br><br>  Die wichtigsten Punkte in diesem Algorithmus sind: Szenarioerstellung, Mutationen und die korrekte Bewertung der Rentabilit√§t des Staates.  Jeder dieser Punkte verwendet seine eigenen lokalen Heuristiken.  Trotzdem wurden nach M√∂glichkeit Algorithmen mit einem garantiert optimalen Ergebnis verwendet, beispielsweise A * zum Auffinden des Pfades [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">6</a> ]. <br><br>  Der evolution√§re Ansatz, den ich verwendet habe, kann nicht als vollwertiges Gen bezeichnet werden [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7</a> ], weil  Ich habe nur Mutationen und das √úberleben des ‚ÄûSt√§rksten‚Äú von ihm verwendet und die Einflusskoeffizienten der einzelnen Heuristiken manuell angepasst.  Algorithmen zur Bildung von Populationen und Kreuzen wurden nicht verwendet.  Nach der Mutation √ºberlebt nur eine: entweder eine Mutante oder ein Elternteil. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7i/re/rz/7irerzupfcgvrcheefio0acopvs.png"></div><br><br>  Ich habe aufgrund der Art des Problems keine neuronalen Netze [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8</a> ] verwendet.  Erstens aufgrund der Komplexit√§t ihrer erfolgreichen Implementierung in einem sich st√§ndig √§ndernden Umfeld (das Aufkommen neuer Mechaniken, F√§higkeiten, Fertigkeiten).  Zweitens aufgrund der Komplexit√§t ihrer kontrollierten Personalisierung (wenn Sie zwei Verhaltensweisen vornehmen m√∂chten: schnelles Suworow und vorsichtiges Kutuzow [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">9</a> ]). <br><br><h3>  Die Entwicklung eines k√ºnstlichen Idioten zur k√ºnstlichen Intelligenz </h3><br>  0) Zun√§chst wurden in der KI nur 3 Strategien mit <b>zuf√§lligen Bewegungen</b> eingef√ºhrt.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 0</a></i> }.  Die Zustandsbewertung war nur eine Zufallszahl.  Und da KI nicht das einzige Entwicklungselement ist, musste ich mich lange mit dem Verhalten verr√ºckter Fische abfinden. <br><br>  1) Bei der Berechnung der Bewertung der Strategie wurden dann die <b>√úberpr√ºfungen der verbleibenden Einheiten und ihres Lebens</b> mit der KI und dem Spieler hinzugef√ºgt.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 10</a></i> }.  F√ºr eine tote Einheit erhielt das Team 0 Punkte.  F√ºr v√∂llig gesunde X-Punkte (zum Beispiel 100.000 f√ºr K√§mpfer F, 70.000 f√ºr Bogensch√ºtze A, 85.000 f√ºr Zauberer W).  F√ºr die Verwundeten wurden 50% des Kernwerts und die restlichen 50% im Verh√§ltnis zu den verbleibenden Leben des Maximums berechnet.  Dank dessen war es f√ºr die KI rentabler, Feinde zu t√∂ten, und wenn er nur verletzen konnte, w√§hlte er Gegner mit weniger Leben - verletzlicher. <br><br>  Zuf√§llige Bewegungen wurden bedeutungsvoller - KI gab manchmal etwas zur√ºck. <br><br>  2) Dann wurde eine aussagekr√§ftigere Startstrategie hinzugef√ºgt: <br>  <b>max_agro</b> - Alle Soldaten rannten so nah wie m√∂glich an die Feinde <b>heran</b> und versuchten <b>, so viel Schaden wie m√∂glich zuzuf√ºgen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 20</a></i> }.  Eine Strategie verwendete die urspr√ºngliche Zugreihenfolge der Einheit, die zweite ging in umgekehrter Reihenfolge vor. <br><br>  AI begann sich in taktischen Spielen wie der primitivste k√ºnstliche Idiot zu verhalten.  Und ziemlich oft wird eine solche KI in taktischen Spielen verwendet.  Es ist beliebt wegen seiner Zuverl√§ssigkeit und Einfachheit.  Dieser kann sogar gewinnen - aber sehr selten. <br><br>  Genau so sieht KI-Verhalten im fehlgeschlagenen Spiel Master of Monsters - Disciples of Gaia aus, was es m√ºhsam macht, darin zu spielen [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">10</a> ]. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pj/oy/qh/pjoyqhp3dlshnyes9tn_bm6ueo8.jpeg" alt="Meister der Monster - Sch√ºler von Gaia"></div><br>  3) Dann wurden Strategien hinzugef√ºgt, die <b>m√∂glichen Schaden durch Feinde</b> w√§hrend der Bewegung ber√ºcksichtigen und diejenigen Bewegungen ausw√§hlen, die zur geringsten Gefahr f√ºhrten - vorzugsweise Null.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 30</a></i> }.  Und die KI wurde sofort √ºberm√§√üig feige und vermied jegliche N√§he zum Feind - es ist besser wegzulaufen als anzugreifen und zu verletzen, weil der Feind mehr Ver√§nderung geben kann! <br><br>  Daher begann die Bewertung der Bedingungen auch, den <b>m√∂glichen Schaden f√ºr den Feind</b> zu ber√ºcksichtigen.  Strafpunkte aus potenziellem Schaden durch Feinde wurden mit einem abnehmenden Koeffizienten von 0,20 berechnet (der <i>Koeffizient wurde st√§ndig neu konfiguriert</i> ).  Dies zwang die KI, bei der Wahl zwischen Angriff oder Flug eine aggressive Option zu w√§hlen, da sie f√ºnfmal mehr Punkte als der Flug brachte.  Aber die KI blieb noch lange feige, denn um in eine Situation der Wahl zu gelangen, sollte der Feind bereits in Reichweite sein, und die KI selbst wird sich mit solchen Einsch√§tzungen niemals zuerst angreifen.  Das hei√üt, es wird nicht zur Ann√§herung gehen.  Nat√ºrlich wird sich der Spieler betrogen f√ºhlen, weil die KI unendlich viel Geduld hat und f√ºr immer vor der Gefahr davonlaufen kann, was den Spieler zur Aggression zwingt. <br><br>  Es ist zu beachten, dass solche Berechnungen m√∂glicher Sch√§den ohne die Verwendung eines Caches sehr lang sind.  Eine vollst√§ndige Fehleinsch√§tzung einer Strategie ohne Optimierungen dauerte zun√§chst 700 Millisekunden.  Aber ich habe eine Begrenzung f√ºr den gesamten Verlauf einer Einheit ~ 4000 ms!  Nach Optimierungen und verbrauchten Caches verringert sich diese Zeit mit sehr √§hnlichen Strategien auf 20 Millisekunden ( <i>leider kann der Cache aufgrund des kombinatorischen Explosionseffekts nicht alle im Voraus berechnet werden, sodass nicht immer 20 ms erreicht werden</i> ). <br><br>  Als ich die Berechnungstechnologie mit der <b>Vorhersage mehrerer Z√ºge vor</b> mir einf√ºhrte, dauerte die Berechnungszeit f√ºr eine Tiefe von nur 2 Z√ºgen (Feind und KI) bereits +700 Millisekunden.  In diesem Fall wird die Optimierung verwendet, indem die "schwachen" Zweige abgeschnitten werden.  Wenn wir hierf√ºr die primitive max_agro-Strategie verwenden, betrug der Zeitanstieg +30 Millisekunden, und das Caching hat diesen Unterschied fast nicht verringert ( <i>da die Position auf der Karte v√∂llig neu war</i> ). <br><br>  Infolgedessen habe ich 5 verschiedene Ans√§tze zur Entwicklung dieses Ansatzes gemacht, aber am Ende habe ich ihn komplett aufgegeben, weil  Mutationen mit Heuristiken ergaben bessere und schnellere Ergebnisse. <br><br>  4) Die folgenden Strategien zielten darauf ab, die anf√§ngliche Vielfalt der Strategien zu erweitern: <br>  <b>far_attack_and_hide</b> - Einheiten versuchen, so weit wie m√∂glich vom Feind entfernt anzugreifen. Wenn sie nicht angreifen, verstecken sie sich vor jedem Angriff. <br><br>  <b>close_group_flee</b> - Einheiten ziehen sich aus dem Kampf zur√ºck und gruppieren sich so nah wie m√∂glich beieinander.  Wenn Sie den Feind gleichzeitig sicher angreifen k√∂nnen, greifen Sie an. <br>  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 40</a></i> }. <br><br>  Dies verbesserte den Prozess des Kampfes selbst, aber der Beginn des Kampfes war f√ºr die KI immer unrentabel: Es zog sich st√§ndig zur√ºck, aber es konnte in den Angriff gelockt und abgeschreckt werden, so dass die KI-Gruppe in mehrere kleine Gruppen aufgeteilt wurde, die separat zerst√∂rt werden konnten. <br><br>  5) <b>Dann ist es Zeit f√ºr Mutationen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 50</a></i> }. <br><br>  Der Mutationsalgorithmus war sehr einfach: <br><br><ul><li>  Beim Durchlaufen der ausgew√§hlten Strategien wurde eine Kopie der Strategie erstellt. </li><li>  in dieser Kopie wurde eine Mutation des Kurses gemacht; </li><li>  Wenn der Zug ung√ºltig wurde, wurde er gem√§√ü einer der Standardstrategien auf mindestens einen g√ºltigen korrigiert. </li><li>  Punkte der mutierten Strategie wurden berechnet; </li><li>  Wenn der Mutant mehr Punkte hatte, ersetzte der Mutant seinen Elternteil. </li></ul><br>  Gleichzeitig haben Au√üenstehende die Strategie nicht gel√∂scht und sich auch an Mutationen beteiligt, weil  Es war immer eine sp√ºrbare Wahrscheinlichkeit f√ºr eine sehr erfolgreiche Reihe von Mutationen. <br><br>  Zun√§chst wurde der primitivste Mutationstyp implementiert: 1 bis 3 Bewegungen wurden durch zuf√§llige ersetzt, die Reihenfolge der Bewegungen blieb gleich.  W√§hrend einer Iteration von Berechnungen wurden durchschnittlich etwa 5 bis 15 Mutationen f√ºr jede Strategie erstellt.  Dar√ºber hinaus war im Durchschnitt jede f√ºnfte Mutation rentabler und ersetzte die Strategie der Eltern. <br><br>  6) <b>Heuristischer K√∂der</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 60</a></i> }. <br><br>  Diese Heuristik wiederholte die Taktik, mit der ich die KI dazu verleitete, mit einer Einheit anzugreifen, um sie einzeln zu t√∂ten.  Dieser Trick wurde auch der KI beigebracht. <br><br>  Dazu wird bei der Berechnung von Punkten f√ºr den Zustand der Strategie gepr√ºft, ob der aktuelle Zustand der Situation des K√∂ders entspricht: <br><br><ul><li>  Es kann nur ein KI-Soldat angegriffen werden. </li><li>  Nur ein Feind kann eine gekrochene Einheit angreifen. </li><li>  Die Einheit des Computerspielers muss nach diesem Angriff √ºberleben. </li><li>  Mindestens zwei Einheiten des Computers k√∂nnen als Reaktion darauf angreifen.  Je mehr solche Bestrafungseinheiten, desto mehr Punkte f√ºr die Heuristik. </li></ul><br>  Der Effekt erwies sich als ausgezeichnet: Es wird f√ºr den Spieler einfacher, den Kampf selbst zu beginnen.  Dar√ºber hinaus ist es f√ºr den Spieler meistens immer noch rentabler, sich auf diesen K√∂der zu setzen, da er nach einem Gegenangriff mit seinem gesamten Kader auf die KI fallen kann ( <i>dies ist der</i> Fall, <i>wenn er vorher vern√ºnftig gruppiert ist</i> ).  Und dort werden alle kompetenten lokalen taktischen Entscheidungen alles l√∂sen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/av/sz/hgavszrvvpifoflsjerdxzfxncq.png"></div><br>  7) Dann fiel mir auf, dass sich KI-K√§mpfer st√§ndig <b>wie Kakerlaken zerstreuen</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 70</a></i> }.  Au√üerdem k√∂nnten sich Soldaten in einer Ecke verstecken oder in enge Tunnel gehen, in denen die KI bei der Sortierung m√∂glicher Angriffe stark an Wirksamkeit verloren hat. <br>  Daher wurden der Bewertungsfunktion Heuristiken zur Sch√§tzung der Entfernungen zwischen Einheiten und Kartentopographie mit den folgenden Annahmen hinzugef√ºgt: <br><br><ul><li>  Je n√§her die Verb√ºndeten "im Durchschnitt" beieinander sind, desto besser (die Einheiten begannen sich seltener in verschiedene Teile der Karte zu zerstreuen). </li><li>  Je n√§her die KI-Soldaten den ‚Äûdurchschnittlichen‚Äú Soldaten des Feindes sind, desto besser (ich brauchte eine offensive KI). </li><li>  Je gr√∂√üer der maximale Abstand zwischen zwei Verb√ºndeten ist, desto schlechter.  Gleichzeitig wird eine Entfernung von 4 nicht bestraft, und alles, was gr√∂√üer ist, wird exponentiell bestraft (dies hat aufgeh√∂rt, Soldaten in gef√§hrdete Reihen zu ziehen). </li><li>  Wenn ein KI-Soldat nicht in mindestens zwei Runden rennen und den Feind angreifen kann, muss er mit einer Geldstrafe belegt werden (dies zwingt ihn, voranzukommen, aber nicht selbst angegriffen zu werden). </li><li>  Wenn sich innerhalb eines Radius von 2 Schritten vom Soldaten zu viele Sperrpositionen befinden, wird eine Geldstrafe verh√§ngt (seltener stie√üen sie auf Tunnel). </li><li>  Wenn sich ein Soldat am Rand der Karte befindet, wird er noch h√§rter bestraft.  Infolgedessen nahm die Man√∂vrierf√§higkeit der KI stark zu  Eine Einheit kann von einem offenen Bereich zu einer viel gr√∂√üeren Anzahl von Positionen laufen als von einer Ecke oder einem Tunnel. </li></ul><br>  8) Dann ist es Zeit, Strategien zu erweitern.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 80</a></i> }.  Ich konnte keine vollst√§ndige Aufz√§hlung der m√∂glichen Reihenfolge der Einheitenbewegungen hinzuf√ºgen, aber ich konnte <b>ihre Bewegungen nach Typ</b> auflisten: K√§mpfer, Bogensch√ºtze, Zauberer.  Daher erschienen Strategien f√ºr die Abfolge von Z√ºgen der Form W_A_F: zuerst gehen alle Zauberer, dann alle Bogensch√ºtzen, dann alle K√§mpfer. <br><br>  Somit wurden 6 neue Strategien hinzugef√ºgt: W_A_F, W_F_A, A_W_F, A_F_W, F_A_W, F_W_A.  Sie haben nicht alle Probleme gel√∂st, aber die Qualit√§t des Spiels erheblich verbessert. <br><br>  9) Ich hatte Mutationen, aber sie waren von geringem Nutzen.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 90</a></i> }.  Meist verbesserten sie schwache Strategien, w√§hrend erfolgreiche sich selten verbesserten.  Daher wurden die <b>Mutationen modifiziert</b> und jedes Mal funktionierte eine der zuf√§lligen Arten von Mutationen: <br><br><ul><li>  1 bis 3 Bewegungen wurden durch zuf√§llige ersetzt, die Reihenfolge der Z√ºge blieb gleich (alter Weg); </li><li>  Tauschen Sie die Bewegungsreihenfolge von zwei zuf√§lligen Einheiten aus.  Lassen Sie sie unver√§ndert, auch wenn sie nicht optimal sind.  Wenn die Bewegung nicht wiederholt werden kann, wird sie zuf√§llig durch eine der √ºblichen Strategien in einen g√ºltigen Zustand versetzt. </li><li>  Vertauschen Sie die Reihenfolge der Z√ºge zweier zuf√§lliger Einheiten und erz√§hlen Sie ihre Z√ºge erneut.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alle fehlgeschlagenen Bewegungen in nachfolgenden Einheiten werden durch zuf√§llige konventionelle Strategien repariert. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Einf√ºhrung dieser Mutationen begann ernsthaft die Unm√∂glichkeit zu kompensieren, alle Kombinationen von Einheitenbewegungen vollst√§ndig aufzuz√§hlen. </font><font style="vertical-align: inherit;">Obwohl er aufgrund seiner Zuf√§lligkeit keine Garantie daf√ºr gibt, dass ein Coup in der verf√ºgbaren begrenzten Zeit gefunden wird. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10) Dann wurden </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">weitere halbzuf√§llige Strategien</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzugef√ºgt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 100</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">Die Reihenfolge der Z√ºge wurde zuf√§llig generiert und die Z√ºge selbst wurden nach den folgenden Prinzipien ausgew√§hlt (um ihre Bedeutung zu verringern):</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maximalen Schaden zuf√ºgen; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> als Reaktion so wenig Schaden wie m√∂glich nehmen; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gehen Sie Ihren Feinden so nahe wie m√∂glich. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe hier keine sp√ºrbare Verbesserung gesehen, aber das Projekt ist bereits so weit fortgeschritten, dass jede Verbesserung zu weniger sp√ºrbaren reproduzierbaren Effekten f√ºhrt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11) Ich hatte die krassen Fehler der KI satt, als er meine Soldaten angriff, w√§hrend er mit seinem Zauberer angriff, aber gleichzeitig seine Verb√ºndeten verwundete. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 110</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">Obwohl er vorher tats√§chlich mit ihnen herumlaufen und sie aus der Schusslinie entfernen konnte. </font><font style="vertical-align: inherit;">Daher wurde eine hart generierte </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strategie mit manuellen √úberpr√ºfungen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erstellt </font><font style="vertical-align: inherit;">:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn es einen Zauberer gibt, dann finde einen Ort, an dem er maximalen Schaden zuf√ºgt. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn es an diesem Ort oder auf dem Weg des Streiks Verb√ºndete gibt, erinnere dich an sie. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erstens gehen alle Verb√ºndeten, an die sie sich erinnern, und k√∂nnen keine vom Zauberer reservierten Positionen einnehmen (dh den Weg frei machen). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Zauberer geht; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die restlichen Einheiten gehen. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Strategie l√§sst sich leicht in Worten beschreiben, ist aber f√ºr die Programmierung cool. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12) Manchmal " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fl√ºchteten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Einheiten </font><font style="vertical-align: inherit;">kurz vor Beginn der Feindseligkeiten </font><b><font style="vertical-align: inherit;">in die B√ºsche</font></b><font style="vertical-align: inherit;"> . { </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwierigkeit des Spiels # 120</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. Infolgedessen konnten zu Beginn des Angriffsaustauschs eine oder sogar zwei Einheiten zu weit von milit√§rischen Operationen entfernt sein und den Verb√ºndeten nicht helfen. Wenn dies passierte, war mir fast garantiert, dass ich die KI schlagen w√ºrde. Wenn es nicht passiert ist, habe ich oft verloren. Ich habe dies beseitigt, indem ich eine neue Heuristik eingef√ºhrt habe, um die resultierenden Punkte der Strategie zu bewerten. F√ºr jede Einheit wurde eine √úberpr√ºfung durchgef√ºhrt: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Wenn die Einheit in diesem Zug angegriffen hat, erhielt sie +1500 Punkte.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Wenn Sie nicht angegriffen haben, wurden die Positionen berechnet, von denen aus die Feinde den Verb√ºndeten Schaden zuf√ºgen konnten. Z√§hlen Sie weiter, wenn mehr als 0 solcher Positionen vorhanden sind (N&gt; 0). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1. Wenn eine Einheit keine Position erreichen und schlagen kann (n = 0), erh√§lt sie eine Strafe von -1000 Punkten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2. Wenn eine Einheit alle Positionen erreichen kann, erh√§lt sie +1200 Punkte. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3. Wenn eine Einheit bis zu bestimmten Positionen angreifen kann, erh√§lt sie + (n / N) * 1000 Punkte.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies hat den ‚ÄûZusammenhalt‚Äú der KI-Einheiten erheblich verbessert. </font><font style="vertical-align: inherit;">Leider tauchten F√§lle von ‚Äûeinem Deserteur‚Äú auf, als eine der verwundeten Einheiten es vorzog, sich in einer verlorenen Situation hinter dem R√ºcken ihrer Kameraden zu verstecken, anstatt einen Beitrag zu leisten, indem sie den Feind angriffen. </font><font style="vertical-align: inherit;">Es sah l√§cherlich aus, wenn der Computer nur noch 2 Einheiten hatte und der Spieler 3 oder mehr. </font><font style="vertical-align: inherit;">Eine zus√§tzliche Korrekturheuristik ist die folgende Regel:</font></font><br><br><pre><code class="plaintext hljs">IF ("   ,   " AND "    3 ") THEN "      "</code> </pre> <br>  13) Am Ende der Einf√ºhrung der Strategien hatten sie bereits weniger als 25 St√ºck.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeit des Spiels # 130</a></i> }. <br><br>  Die Mutation jedes einzelnen von ihnen ist zu teuer geworden.  Daher wurde beschlossen, die erfolglosesten zu entfernen und nur 8 St√ºck zu belassen.  Von Anfang an wollte ich diesen Ansatz nicht in der Erwartung verwenden, dass die Mutation von Au√üenstehenden zu einem unerwartet hervorragenden Ergebnis f√ºhren kann, anstatt nur zu einem guten.  Die Eingabe dieser Verarbeitung f√ºhrte letztendlich zu einer Verbesserung des KI-Spiels. <br><br>  14) Zu Beginn gab es noch eine interessante √úberarbeitung.  Zun√§chst wurde der Wert des Szenarios als Differenz der Punktesumme berechnet: <br><br><pre> <code class="plaintext hljs">_ = _ - _</code> </pre> <br>  Aber nach mehreren Verbesserungen fiel mir ein, dass dies nicht die beste L√∂sung ist, weil  dann sind f√ºr AI die Situationen "2 Soldaten gegen 1 einzelnen Soldaten" und "4 Soldaten gegen 3 Soldaten" gleich.  Daher wurden Punkte als Verh√§ltnis berechnet: <br><br><pre> <code class="plaintext hljs">_ = _ / _</code> </pre> <br>  Die √Ñnderung ist gering und das Ergebnis ist sehr ernst.  Ohne √Ñnderung war der Preis eines Fehlers mit erh√∂htem Risiko immer der gleiche.  Nach der Verfeinerung begann die KI gegen Ende des Kampfes weniger nachl√§ssig zu riskieren, was sie deutlich st√§rkte. <br><br>  Ich m√∂chte darauf hinweisen, dass all diese Verbesserungen schrittweise eingef√ºhrt wurden, wenn auch in der angegebenen Reihenfolge, aber viele von ihnen wurden verbessert, verarbeitet und aufgrund von Fehlern in einer chaotischeren Reihenfolge korrigiert.  Es gab mehr als 100 echte Iterationen. <br><br>  So spielt die endg√ºltige KI { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Schwierigkeitsgrad des Spiels # 9999</a></i> }: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/WkeFo53ycSc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  AI geht sofort und verschwendet keine Zeit mit Nachdenken </h3><br>  Um die Berechnungen selbst zu beschleunigen, wurden Optimierungsalgorithmen aktiv in Form von Partitionen verschachtelter Schleifen in sequentielle Schleifen ( <i>Reduzierung der Komplexit√§t</i> ) und der Einf√ºhrung mehrerer Arrays mit zwischengespeicherten vorl√§ufigen Berechnungen ( <i>und anschlie√üender Optimierung dieser Caches</i> ) verwendet.  Nach meinen Sch√§tzungen k√∂nnten weitere Optimierungen zu einer doppelten (oder sogar gr√∂√üeren) Geschwindigkeitssteigerung f√ºhren, dies w√ºrde jedoch zu einer ungerechtfertigten Erh√∂hung der Zeitkosten und einem weiteren noch gr√∂√üeren Verlust der Lesbarkeit des Codes f√ºhren. <br><br>  Die Haupttechnologie der Hochgeschwindigkeit sind vorl√§ufige Berechnungen w√§hrend der Ausfallzeit.  Diese Methode besteht darin, den Prozess in zwei Teile zu unterteilen: die Berechnungen selbst und die Animation der Berechnungsergebnisse: <br><br><ul><li>  Berechnungen des Verlaufs der ersten Einheit beginnen unmittelbar nach dem Zug des Spielers, w√§hrend ein Fenster herausfliegt, in dem der Zug des Gegners beginnt.  Und das sind bis zu 4 Sekunden, die der Spieler nicht als leere Erwartung wahrnimmt. </li><li>  Die Berechnungen des zweiten und der nachfolgenden Z√ºge beginnen, wenn die Animation des Verlaufs der letzten Einheit erst beginnt (dh wenn der KI-Cursor gerade seine Bewegung beginnt).  Und die Zeit aller Animationen betr√§gt bereits 4,5 Sekunden.  Es w√§re zwar richtiger, dies nicht die Berechnung des n√§chsten Schrittes zu nennen, sondern die Verbesserung der bereits entwickelten fr√ºheren Strategie und die Suche nach einer neuen, weil  Bei jeder Iteration werden die Bewegungen des gesamten Teams berechnet. </li><li>  Wenn sich die animierende KI zu beweglichen Einheiten bewegt, fliegt der KI-Cursor, der vorgibt, auf sie zu klicken.  Der Cursor fliegt so schnell wie m√∂glich, damit der Komfort der Verfolgung erhalten bleibt.  Dar√ºber hinaus konnte durch Hinzuf√ºgen eines Cursors nicht nur die Rechenzeit von 2 Sekunden auf 4,5 Sekunden erh√∂ht werden, sondern auch der Fortschritt des Computers f√ºr eine Person komfortabler angezeigt werden. </li><li>  Die Zugzeit des Spielers wird ebenfalls nicht verschwendet.  Solange der Spieler denkt, werden fast keine Berechnungen durchgef√ºhrt, so dass zu diesem Zeitpunkt m√∂gliche Caches f√ºr den zuk√ºnftigen Zug des Computergegners intensiv berechnet werden. </li></ul><br>  Um zu verhindern, dass all dies im Browser zur√ºckbleibt und mit einem relativ stabilen FPS arbeitet, werden die Berechnungen vom Worker ( <b>Web Worker</b> ) asynchron durchgef√ºhrt [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">11</a> ]. <br><br>  Auf diese Weise wollte ich das nervige Wartefenster ‚ÄûComputer-Spazierg√§nge‚Äú loswerden.  Solch ein unangenehmer W√ºrfel ist in vielen guten Spielen zu finden, zum Beispiel bei Xenonauts [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">12</a> ].  Ich glaube, dass ich dieses Problem bew√§ltigen konnte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/pr/wi/heprwi7w8vrfta6cdb0hzv1ga-0.jpeg" alt="Xenonauten - versteckte Bewegung"></div><br>  Daher verbringt die KI immer die gleiche Zeit damit, √ºber ihren Umzug nachzudenken - unabh√§ngig von ihrer Komplexit√§t.  Ein sehr <i>merkw√ºrdiges Merkmal</i> dieses Ansatzes ist, dass je st√§rker der Spieler einen Computer hat, desto mehr KI-Mutationen Zeit zum Aussortieren haben und daher umso st√§rker und leistungsf√§higer der Computer des Spielers ist.  Ich habe diesen Effekt zuerst entfernt, indem ich die Laufzeit festgelegt und die Geschwindigkeit des Computers vorberechnet habe.  Allerdings habe ich dann diese Fixierung entfernt, weil  Besitzer von leistungsstarken Computern k√∂nnen so mit "ihrem" Computer k√§mpfen, anstatt mit dem durchschnittlichen. <br><br><h3>  Was ist das Ergebnis und was sind die Nachteile </h3><br>  Somit wei√ü der resultierende Computergegner, wie man w√ºrdig k√§mpft und nutzt die Versehen eines Spielers gut aus und macht nicht zu viele seiner eigenen.  Trotzdem kenne ich alle Merkmale seiner Arbeit, wenn auch mit Spannung, aber ich besiege ihn fast immer (unter gleichen Bedingungen).  Aber ich m√∂chte das Gegenteil: Selbst wenn ich √ºber seine Eigenschaften Bescheid wei√ü, verliere ich fast immer gegen ihn.  KI ist alles andere als ideal, da die von mir verwendeten Heuristiken zu einer synergistischen √úberlappung von "Fehlern meiner Wahrnehmung" f√ºhren.  Diese Fehler sind: <br><br><ol><li>  Aufgrund der Unvollkommenheit und Unvollst√§ndigkeit meiner eigenen Strategie kenne ich nicht alle besten Strategien und kann sie daher nicht identifizieren und im Spiel umsetzen. </li><li>  Effizienzverlust (was nicht so ideal ist) von ausgearbeiteten Heuristiken bei der √úbertragung auf Programmcode.  Zum Beispiel meine menschliche Heuristik: ‚ÄûEinheiten bleiben in der N√§he, aber nicht zu nahe, um doppelten Schaden durch Magier zu vermeiden und nicht in engen Passagen stecken zu bleiben.‚Äú  Diese Heuristik hilft mir, die KI zu besiegen, aber wenn ich sie meinem Computergegner beibringe, muss ich eine qualitative Beschreibung in eine algorithmische mit quantitativen Sch√§tzungen √ºbersetzen, und hier ist Datenverlust m√∂glich. </li><li>  Gegenseitige Konflikte zwischen Heuristiken.  Wenn zu viele Heuristiken vorhanden sind, beginnen sie sich allm√§hlich zu √ºberlappen.  Infolgedessen kann eine unerwartete Verst√§rkung aufgrund einer versteckten Doppelz√§hlung oder einer teilweisen Verdoppelung auftreten.  Oder irgendeine Art von Heuristik wird aufh√∂ren, irgendetwas zu beeinflussen, weil  sein Beitrag wird durch gro√üe konkurrierende Koeffizienten vollst√§ndig blockiert. </li><li>  Enge Zeitbeschr√§nkungen und schrittweise Verbesserungen der gew√§hlten Strategien f√ºhren dazu, dass der erste Schritt immer weniger durchdacht ist.  Dies bedeutet, dass ein erfolgloser erster Zug die offensichtlich effektiveren Z√ºge der verbleibenden Einheiten des Teams blockieren kann.  Dies dr√ºckt sich in der Tatsache aus, dass der erste K√§mpfer F, anstatt sich zu entfernen, den Feind ironisch angreifen kann und dann sein Verb√ºndeter W seinen eigenen verletzen muss, um den Feind zu erledigen. </li></ol><br>  Vollwertige genetische Algorithmen w√ºrden es h√∂chstwahrscheinlich erm√∂glichen, optimalere Koeffizienten in der Heuristik auszuw√§hlen, anstatt sie mit dem Auge abzugleichen.  Dies ist jedoch bereits eine Aufgabe f√ºr zuk√ºnftige vollwertige Projekte - ich m√∂chte nicht lange an einem Prototyp h√§ngen bleiben.  Ich bin sehr zufrieden mit der aktuellen KI: Sie ist umsichtig, ein wenig heimt√ºckisch, ziemlich aggressiv und erlaubt dem Spieler nicht, sich trocken zu besiegen ( <i>in Wirklichkeit ist es √§u√üerst selten, dies zuzulassen</i> ). <br><br><h3>  Zus√§tzliche Funktionen </h3><br>  Mit dieser Implementierungsmethode k√∂nnen Sie zus√§tzliche Boni in der Spieleentwicklung erzielen ( <i>in vielerlei Hinsicht aus Sicht des Entwicklers und seiner brennenden Bedingungen</i> ): <br><br><ol><li>  <b>Das Erscheinen neuer Mechaniken</b> im Spiel wird die St√§rke des Computerspielers nicht zerst√∂ren, obwohl es ihn im Vergleich zum Spieler allm√§hlich schw√§cht.  Diese Schw√§chung kann durch die Einf√ºhrung zus√§tzlicher Heuristiken ausgeglichen werden.  Damit dies nicht zu fortschreitenden Ressourcenausgaben f√ºhrt, k√∂nnen diese neuen Heuristiken nur angewendet werden, wenn diese neuen Mechaniken im aktuellen Kampf vorhanden sind. </li><li>  Wirklich intelligente <b>Schwierigkeitsgrade</b> .  Grunds√§tzlich bestimmt der Schwierigkeitsgrad, welche Boni ein Computerspieler als Ressourcen erh√§lt ( <i>mehr Gold zu Beginn oder ein Bonus im Bergbau</i> ) oder wie viel seine Soldaten schlagen ( <i>+ 50% Schaden</i> ).  Es funktioniert, aber Sie k√∂nnen die KI ein wenig weniger intelligent machen, indem Sie einige Heuristiken schrittweise deaktivieren, wenn die Komplexit√§t abnimmt. </li><li>  In der Fortsetzung des zweiten Absatzes k√∂nnen Sie <b>verschiedene Rassen / Fraktionen von Computergegnern</b> erstellen: Nur aggressive Strategien funktionieren f√ºr Orks;  in Massen von Zombies rennen nur die Primitiven ‚Äûvorw√§rts und greifen an‚Äú;  und Cyborgs nutzen die volle Kraft der KI.  Dank dieses Spielers muss vor dem Angriff nicht nur die Anzahl der Gegner, sondern auch deren Intelligenz bewertet werden. </li></ol><br>  All dies klingt vielversprechend, aber Sie sollten sich daran erinnern, dass all dies auf dem Papier sch√∂n ist und in einem echten Spiel m√∂glicherweise nicht funktioniert, sich als uninteressant oder sogar f√ºr den Spieler unsichtbar herausstellt.  Dies ist jedoch ein guter Grund zum Experimentieren. <br><br><h3>  Wo zu f√ºhlen </h3><br>  Sie k√∂nnen die Leistung dieser KI im taktischen KI-Rumpelbrowser testen.  Testperson ‚Äúkostenlos auf Websites wie itch.io [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">13</a> ].  Der GET-Parameter ai (Werte von 0 bis 140 in Schritten von 10) verringert die Komplexit√§t der KI. <br><br>  Nach meinen Erwartungen wird es f√ºr Sie sehr, sehr schwierig sein, KI zu gleichen Bedingungen zu besiegen.  Auch nachdem man sich an die Spielregeln gew√∂hnt hat.  Ich empfehle, dieses Spiel als Prototyp zu betrachten, was es im Wesentlichen ist (es enth√§lt keine <i>Musik, Sounds und</i> keinen <i>Preis</i> ). <br><br>  Bitte hinterlassen Sie Ihre Meinung in den Kommentaren zur Interessantheit der KI, Tipps und Kritik zur m√∂glichen Implementierung der KI mit verschiedenen Lehrmethoden.  Wenn Sie sich pl√∂tzlich f√ºr meine anderen Forschungsergebnisse interessieren, k√∂nnen Sie hier mein Konto abonnieren. <br><br><h3>  Referenzliste </h3><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeepMind - Artikel √ºber Habr√©</a> . <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">HTML5-Spiele: Canvas vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">SVG vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">div on stackoverflow</a> . <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Kombinatorische Explosion - Wikipedia</a> . <br>  4. Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">perfekte Steve McConnell-Code ist Habr</a> . <br>  5. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Heuristische Methoden - Wikipedia</a> . <br>  6. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">A * - Red Blob-Spiele</a> . <br>  7. Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">genetische Algorithmus.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fast das Schwierige - Habr</a> . <br>  8. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Acht erstaunliche Spiele mit k√ºnstlicher Intelligenz von der Firma Google - Habr</a> . <br>  9. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ganz kurz √ºber Suworow und Kutusow</a> . <br>  10. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Meister der Monster - Sch√ºler von Gaia - R√ºckblick auf IGN</a> . <br>  11. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Eine detaillierte Erkl√§rung der JavaScript-Spielschleifen und des Timings</a> . <br>  12. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Xenonauten und ein langer AI-Standby-Bildschirm</a> . <br>  13. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">KI taktisches Grollen.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Testperson - auf itch.io.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461287/">https://habr.com/ru/post/de461287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461277/index.html">√úbersicht √ºber das kostenlose SQLIndexManager-Tool</a></li>
<li><a href="../de461279/index.html">So erstellen Sie einen einfachen Microservice f√ºr Golang und gRPC und containerisieren ihn mit Docker</a></li>
<li><a href="../de461281/index.html">Exemplarische Vorgehensweise zum Einrichten eines BIND-DNS-Servers in einer Chroot-Umgebung f√ºr Red Hat (RHEL / CentOS) 7</a></li>
<li><a href="../de461283/index.html">Softwarearchitektur und Systemdesign: Das Big Picture and Resource Guide</a></li>
<li><a href="../de461285/index.html">5 Haupt-Sampling-Algorithmen</a></li>
<li><a href="../de461289/index.html">CLion 2019.2 ver√∂ffentlicht: Unterst√ºtzung f√ºr eingebettete Entwicklung, Debugger f√ºr MSVC, Suche nach nicht verwendeten Header-Dateien</a></li>
<li><a href="../de461291/index.html">Golang: spezifische Leistungsprobleme</a></li>
<li><a href="../de461297/index.html">Wie moderne gezielte Angriffe aussehen</a></li>
<li><a href="../de461299/index.html">Wie der PC die Medienbranche mit erfolgreicher Software eroberte: Er√∂rterung von Pro Tools und Media Composer</a></li>
<li><a href="../de461303/index.html">Verwendung der Troika-Karte als obligatorische Krankenversicherung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>