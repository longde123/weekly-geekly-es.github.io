<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤚🏾 ™️ 🖇️ H2 evolution - fonctions de fenêtre, CTE, JSON / XML dans une base de données embarquée 👨🏾‍🏭 ☝️ 🖕🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe des projets open source qui sont devenus des succès commerciaux courants, tels que PostgreSQL / Elasticsearch. D'autres, par exemple Rethink...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>H2 evolution - fonctions de fenêtre, CTE, JSON / XML dans une base de données embarquée</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446380/">  Il existe des projets open source qui sont devenus des succès commerciaux courants, tels que PostgreSQL / Elasticsearch.  D'autres, par exemple RethinkDB, ont perdu le marché et arrêté le développement.  Et le projet de base de données H2 d'une base de données embarquée écrite en java se développe et vit dans sa niche. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zl/co/o1/zlcoo1mzsn8lw4svhnre9ew5ekc.png"></div><br>  Pour démontrer les fonctionnalités de SonarQube, Jira, Confluence, la base de données H2 est utilisée au premier démarrage.  H2 est la base pour exécuter des tests SQL en mémoire dans presque tous les projets JVM.  Il existe un exemple d'application moins connue des utilisateurs - c'est l'utilisation de H2 dans un ignite-sql distribué et c'est déjà un script prêt pour la production pour utiliser une base de données intégrée dans le cadre d'une autre solution.  Il y a moins d'un mois, la version <a href="">1.4.199 a été publiée</a> dans laquelle vous pouvez désormais écrire des requêtes SQL assez complexes. <br><a name="habracut"></a><br>  Dans les projets, je ne me suis jamais appuyé sur H2 comme base de données complète avec sauvegarde des données sur disque.  Plutôt, comme module de transformation de données dans la mémoire JVM, avec une bonne prise en charge SQL.  Mais pour cette application, elle était grandement limitée par le manque de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctions</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fenêtre</a> .  Et maintenant, après plus de six mois depuis le début du développement de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctionnalité</a> , H2database a maintenant rattrapé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SQLite</a> .  Et cela est dû au grand mérite de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yevgeny Ryazanov</a> d'Irkoutsk - je n'ai jamais vu un rythme de développement comme le sien dans les projets open source à but non lucratif.  De plus, les engagements d'autres contributeurs russophones apparaissent régulièrement dans le référentiel du projet.  Et au moment de la sortie - le fondateur du projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thomas Mueller</a> . <br><br>  H2 prend en charge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les requêtes récursives (CTE)</a> .  Il s'agit de la méthode standard en SQL pour travailler avec des données hiérarchiques dans les tables et la décomposition des requêtes (ici, vous pouvez marcher sur le rake du planificateur).  Les requêtes récursives sont décrites <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la publication</a> avec des exemples. <br><br>  Pour travailler avec des données mal structurées, une implémentation prochaine de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">norme SQL / JSON</a> apparaîtra.  Entre-temps, pour ses besoins, il a étendu H2 avec l'aide d'un processeur XQuery 3.1 de fonction personnalisée basé sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BaseX</a> .  Le code est disponible dans le projet github <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">H2XQueryAdapter</a> .  Il s'agit d'une fonction de table qui peut extraire des données du format XML ou JSON à l'aide de XQuery et vérifier le type et la restriction de non null pour les valeurs renvoyées par la fonction.  De plus, toute la puissance des expressions SQL est disponible pour transformer le résultat d'une transformation XQuery en mémoire de processus JVM. <br><br>  La fonction de table xquery () est surchargée et dispose de deux options - avec un paramètre xQuery query et une avec xQuery query et la seconde - sql query string pour former les paramètres de xQuery lui-même. <br><br>  Une approche avec de telles transformations s'est avérée excellente dans un projet de traitement d'un volume de pétaoctets de données brutes dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un</a> projet de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage de données biomédicales</a> . <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> xresult (GR <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">500</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>,AR <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>, VER <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">50</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xquery(<span class="hljs-string"><span class="hljs-string">'declare variable $getHeader as xs:boolean external := false(); declare variable $getData as xs:boolean external := true(); &lt;csv&gt; { if($getHeader) then( &lt;record&gt;&lt;mavengr&gt;VARCHAR(500) not null&lt;/mavengr&gt;&lt;artifactname&gt;varchar&lt;/artifactname&gt;&lt;versionname&gt;VARCHAR(50)&lt;/versionname&gt;&lt;/record&gt; ), if($getData) then(( for $row in doc("http://central.maven.org/maven2/org/springframework/spring-context/5.1.4.RELEASE/spring-context-5.1.4.RELEASE.pom")//*:dependency return &lt;record&gt;&lt;mavengr&gt;{$row/*:groupId/text()}&lt;/mavengr&gt;&lt;artifactname&gt;{$row/*:artifactId/text()}&lt;/artifactname&gt;&lt;versionname&gt;{$row/*:version/text()}&lt;/versionname&gt;&lt;/record&gt; )) } &lt;/csv&gt;'</span></span>)</code> </pre> <br>  Cette implémentation a des limites sur le format de la requête xquery. <br><br><ul><li>  Tout d'abord, vous devez déclarer deux variables externes getHeader et getData - cela est nécessaire pour que la fonction de table ne provoque pas la transformation de données plusieurs fois, en éliminant les résultats inutiles afin d'obtenir uniquement les noms et le type de colonnes.  Les appels de fonctions multiples sont des fonctionnalités de la base H2 fonctionnant avec des fonctions java renvoyant une liste de valeurs. </li><li>  Deuxièmement, le format du résultat devrait être comme pour la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sérialisation csv</a> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">csv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">csv</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </li><li>  Troisièmement, vous devez déclarer le type de données, la dimension et les champs obligatoires, par exemple: décimal (20,4) non nul </li></ul><br>  Avec l'analyse de type de données de colonne, j'ai essayé de réutiliser l'analyseur SQL de H2, mais il s'est avéré être si fortement connecté à d'autres objets de base de données qu'il a refusé de fonctionner sans créer de base de données et de session.  Je me console en pensant que les développeurs l'ont fait pour simplifier la conception de l'application et non pour faire un analyseur pour toutes les occasions pour les grammaires BNF. <br><br>  Vous pouvez exécuter <a href="">cet exemple</a> en mode de débogage java.  De nouvelles règles de transformation peuvent être développées dans l'éditeur xquery familier ou dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interface graphique</a> Open Source <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BaseX</a> . <br><br>  Il est possible de transformer presque n'importe quelle collection java ou POJO en une table virtuelle H2.  <a href="">Code de</a> projet <a href="">H2POJOTable</a> sur github.  Dans l'exemple, par référence, le MemoryManagerMXBeans basé sur la plateforme se transforme en une fonction de table H2.  Peut-être que l'approche sera un peu réconfortante pour ceux qui sont tristes du manque de LINQ et du support pour les opérations sur les ensembles en Java. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Statement statement = connection.createStatement()) { String pojoTableAlias = <span class="hljs-string"><span class="hljs-string">"create alias MemoryManagerMXBeans as $$ \n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.lang.management.ManagementFactory;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.lang.management.MemoryManagerMXBean;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import org.h2.expression.function.pojo.*;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.sql.*;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.util.Collections;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"@CODE\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" ResultSet getRuntimeStat(Connection connection) throws Exception{\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" return H2PojoAdapter.toTable(connection, new CollectionWraper&lt;&gt;(MemoryManagerMXBean.class,"</span></span> + <span class="hljs-string"><span class="hljs-string">" ManagementFactory::getMemoryManagerMXBeans, Collections.emptyMap()));\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"\n$$"</span></span>; statement.executeUpdate(pojoTableAlias); } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Statement statement = connection.createStatement()) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (ResultSet resultSet = statement.executeQuery(<span class="hljs-string"><span class="hljs-string">"select * from MemoryManagerMXBeans()"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> columnCount = assertResultSet(resultSet, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[]{<span class="hljs-string"><span class="hljs-string">"memoryPoolNames"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"valid"</span></span>}); assertThat(columnCount).isGreaterThan(<span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br>  Parfois, l'ancienne fonctionnalité de H2 tombe en panne et n'est pas tellement demandée par les utilisateurs.  Par exemple, dans mes projets de travail, les programmes lisent des données à partir de l'URL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AWS S3</a> .  Par conséquent, j'espère que l'erreur connue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sera toujours corrigée</a> en acceptant ma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demande d'extraction</a> .  Sur le chemin de la correction de cette erreur, des tests instables pour TLS, qui ne fonctionnent pas non plus sous Java 11. <br><br>  H2 vous permet d'utiliser le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pilote ODBC PostgreSQL</a> émulant un sous-ensemble de son protocole réseau.  Ce qui vous permet également théoriquement de le lier via FDW dans PostgreSQL. <br><br>  En plus de la base de données elle-même, la livraison de H2 comprend également une console Web minimaliste avec prise en charge de l'auto-complétion lors de l'édition, de la servlet ou de l'option de démarrage autonome.  H2 ressemble à un «couteau suisse» pour les développeurs - un outil compact et polyvalent si votre projet utilise déjà la JVM.  Lorsque vous essayez d'utiliser cette console avec un pilote jdbc "tordu", le SGBD Redshift a fait sa première demande d'extraction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aux yeux rouges</a> dans le projet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Noel Grandin</a> , l'un des participants au projet, m'a aidé à réviser le code et a accepté les corrections. <br><br>  Si vous avez besoin d'un analogue de Berkeley DB Java Edition - le projet a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVStore</a> - un stockage persistant pour les données de valeur-clé et, en combinaison avec MVCC, le "moteur" par défaut dans les versions récentes de la base de données.  Il est frappant de constater que la base de données a même un support de base pour les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">géofonctions</a> et la recherche en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">texte intégral</a> . <br><br>  Grâce aux contributeurs H2database, tout le monde utilise cette base de données et signale les erreurs!  La base de données H2 se développe depuis 2005 et prend désormais en charge les fonctions de fenêtre, les requêtes récursives, c'est l'un des "moteurs" SQL les plus puissants pour le traitement des données dans la mémoire JVM et est étendu par des fonctions de table pour travailler avec des données peu structurées. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446380/">https://habr.com/ru/post/fr446380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446364/index.html">Blagues et références des Simpsons en anglais à expliquer</a></li>
<li><a href="../fr446366/index.html">ZX Spectrum 128k faites-le vous-même. 2e partie</a></li>
<li><a href="../fr446370/index.html">"Eh bien, encore une fois, la station météo"? Pas vraiment</a></li>
<li><a href="../fr446372/index.html">Aimer les quêtes, aimer et retrouver vos données personnelles en public</a></li>
<li><a href="../fr446378/index.html">Le problème du passage à l'heure d'hiver et d'été pour une seule école Skype</a></li>
<li><a href="../fr446384/index.html">Conseils pour développer de très gros projets dans Revit</a></li>
<li><a href="../fr446388/index.html">L'industrie pétrolière et gazière comme exemple pour les systèmes de cloud périphériques</a></li>
<li><a href="../fr446390/index.html">Bombe oublie-moi de mémorisation</a></li>
<li><a href="../fr446394/index.html">5. Check Point Getting Started R80.20. Gaia & CLI</a></li>
<li><a href="../fr446396/index.html">Réinitialisation du compteur hebdomadaire GPS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>