<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‼️ 🎱 📭 PhotoScan: So machen Sie Fotos ohne Blendung 🧑🏿‍🤝‍🧑🏽 👨‍👨‍👦‍👦 ❕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 19. April 2017 haben wir ein Update für PhotoScan veröffentlicht , unsere mobile Anwendung für iOS und Android, mit der Sie Papierfotos mit nur ein...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PhotoScan: So machen Sie Fotos ohne Blendung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403389/">  Am 19. April 2017 haben wir ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Update für PhotoScan veröffentlicht</a> , unsere mobile Anwendung für iOS und Android, mit der Sie Papierfotos mit nur einem Smartphone digitalisieren können.  Eines der Hauptmerkmale von PhotoScan ist die Möglichkeit, Blendung von Fotos (die häufig auf glänzendem, stark reflektierendem Papier gedruckt werden) sowie von Seiten mit Plastikalben oder Fotos unter Glas zu entfernen.  Zu diesem Zweck haben wir eine einzigartige Kombination aus Computer Vision und Bildverarbeitungstechnologie entwickelt, mit der mehrere leicht unterschiedliche Bilder des Fotos genau kombiniert und kombiniert werden können, um das Highlight vom Bild selbst auf dem Foto zu trennen. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/121/b1e/f1c/121b1ef1c5199b8c5022e1375717252a.png" alt="Bild"><br><a name="habracut"></a><br>  Aus einem Bild ist es sehr schwierig, automatisch zu bestimmen, welche Teile des Bildes das Originalfoto und welche das Highlight sind.  Darüber hinaus kann die Blendung Bereiche des Fotos beleuchten, wodurch es unmöglich ist, den Teil des Fotos wiederherzustellen, der unter der Blendung verborgen ist.  Wenn Sie jedoch mehrere Aufnahmen des Fotos machen, indem Sie die Kamera bewegen, ändert sich das Objektiv - es bewegt sich durch verschiedene Teile des Fotos.  In den meisten Fällen wird nicht jedes einzelne Pixel zumindest in einem der Bilder aufflackern.  Obwohl keines der Bilder blendfrei ist, können wir mehrere Bilder des gedruckten Fotos aus verschiedenen Winkeln kombinieren und so die Blendung entfernen.  Die Schwierigkeit besteht darin, dass die Bilder sehr genau ausgerichtet sein müssen, damit sie korrekt kombiniert werden. Diese Verarbeitung sollte auf dem Smartphone schnell genug durchgeführt werden, um ein fast sofortiges Ergebnis zu erzielen. <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/a34/502/009/a34502009b1dfac0607f1de8f5d2f35b.gif"></div></div><br><br>  Unsere Technologie wurde von unserer früheren Arbeit inspiriert, die auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SIGGRAPH 2015 veröffentlicht wurde</a> und die wir als „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">obstruktionsfreie Fotografie</a> “ bezeichneten.  Es verwendet ähnliche Prinzipien, um verschiedene Interferenzen aus dem Sichtfeld zu entfernen.  Der ursprüngliche Algorithmus basierte jedoch auf einem generativen Modell, in dem die Bewegung und das Erscheinungsbild der Hauptszene sowie die Interferenz bewertet wurden.  Die Fähigkeiten dieses Modells sind großartig und es kann eine Vielzahl von Störungen beseitigen - aber es ist zu rechenintensiv, um auf Smartphones verwendet zu werden.  Aus diesem Grund haben wir ein vereinfachtes Modell entwickelt, das die Fackel als eine Art Anomalie bezeichnet und versucht, das Bild darunter zu erkennen.  Obwohl das Modell vereinfacht ist, ist es immer noch eine sehr schwierige Aufgabe - die Erkennung muss genau und zuverlässig sein. <br><br><h2>  Wie funktioniert es? </h2><br>  Wir beginnen mit einer Reihe von Schnappschüssen des Fotos, das von dem Benutzer aufgenommen wurde, der die Kamera bewegt hat.  Der erste Schnappschuss - „Referenzrahmen“ - bestimmt das gewünschte endgültige Aussehen des Schnappschusses.  Dem Benutzer wird dann empfohlen, vier zusätzliche Bilder aufzunehmen.  In jedem Frame bestimmen wir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schlüsselpunkte</a> (wir berechnen die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eigenschaften der ORBs</a> unter den mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem Harris-Algorithmus</a> bestimmten Winkeln) und verwenden sie, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Homographen</a> zu bestimmen, die jeden nachfolgenden Frame dem Referenzframe zuordnen. <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/03b/7be/25b/03b7be25b83e8ece727ce2e2eb4d27b7.gif"></div></div><br><br>  Die Technologie scheint unkompliziert zu sein, hat aber einen Haken: Homographen können nur flache Bilder vergleichen.  Papierfotos sind jedoch oft nicht flach (wie im obigen Beispiel).  Wir verwenden den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">optischen Fluss</a> - eine grundlegende Darstellung der Bewegung in der Bildverarbeitung, die eine pixelweise Entsprechung zwischen zwei Bildern herstellt und Abweichungen von der Ebene korrigiert.  Wir beginnen mit Bildern, die mithilfe der Homografie ausgerichtet sind, und zählen die „Flussfelder“, um die Bilder zu begradigen und weiter anzupassen.  Bitte beachten Sie, dass sich im folgenden Beispiel die Ecken des linken Fotos ein wenig bewegen, nachdem Frames nur mit Homografie definiert wurden.  Rechts sehen Sie, wie das Foto nach dem Anwenden des optischen Flusses besser ausgerichtet ist. <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/827/b49/85e/827b4985e1fdd1a18f41bed01ff463ab.gif"></div></div><br><br>  Der Unterschied ist nicht sehr auffällig, beeinflusst aber das Endergebnis erheblich.  Achten Sie darauf, wie sich kleine Abweichungen in Form von doppelten Bildfragmenten manifestieren und wie diese Fehler durch zusätzliche Verfeinerung mithilfe von Streams beseitigt werden. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/427/96a/5cb/42796a5cbf0548ca409434771022a16f.png"><br><br>  In diesem Fall bestand die Schwierigkeit darin, den anfangs langsam arbeitenden optischen Flussalgorithmus auf einem Smartphone schneller arbeiten zu lassen.  Anstelle der herkömmlichen Berechnung des Flusses für jedes Pixel (die Anzahl der Vektoren entspricht der Anzahl der Pixel) konstruieren wir das Flussfeld unter Verwendung einer kleineren Anzahl von Kontrollpunkten und zeichnen die Bewegung jedes Pixels im Bild als Funktion der Bewegung der Kontrollpunkte auf.  Wir teilen nämlich jedes Bild in disjunkte Zellen, die ein grobkörniges Gitter bilden, und stellen den Pixelstrom in einer separaten Zelle als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bilineare Kombination des</a> Stroms und der vier Ecken der Zelle dar, die ihn enthält. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d4c/c27/97a/d4cc2797ae9627e9ee166be11e8b12d9.png"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/79d/9b7/f51/79d9b7f515784254e406361bba5ca10f.png"><br><br>  Dann bleibt ein einfacheres Problem zu lösen, da die Anzahl der Strömungsvektoren jetzt gleich der Anzahl der Gitterpunkte ist, die normalerweise viel kleiner als Pixel sind.  Dieser Vorgang ähnelt der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Splining-Bildverarbeitung</a> .  Mit diesem Algorithmus konnten wir die Berechnungszeit für den optischen Fluss auf dem Pixel-Telefon um das 40-fache reduzieren! <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/f7c/ac0/316/f7cac0316cb25966db02f2dce50a2edf.gif"></div></div><br><br>  Um das endgültige Bild ohne Blendung zu erstellen, nehmen wir für jeden Teil des Rahmens die Pixelwerte und berechnen das „weiche Minimum“, um die dunkelste der Optionen zu finden.  Insbesondere berechnen wir die erwartete Mindesthelligkeit aus den verfügbaren Frames und weisen Pixeln, die näher an den gekrümmten Kanten der Bilder liegen, kleinere Gewichte zu.  Wir verwenden diese Methode, anstatt das Minimum direkt zu berechnen, da dieselben Pixel in unterschiedlichen Frames möglicherweise eine unterschiedliche Helligkeit haben.  Das Pixel-für-Pixel-Minimum kann aufgrund starker Intensitätsänderungen an den Grenzen überlappender Bilder zum Auftreten sichtbarer Gelenke führen. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/16a/95a/311/16a95a31193a215c9617c9f24e0d5a7a.png"><br><br>  Der Algorithmus kann unter verschiedenen Scanbedingungen arbeiten - matte und glänzende Fotos, Fotos in Alben und ohne sie Magazin-Cover. <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/5c3/032/dd9/5c3032dd96cc68aea7f240a4dbacb299.gif"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/437/4b3/be6/4374b3be6aac2e6a16f086f16c62ec6d.gif"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4ba/124/d96/4ba124d9610ece18f12265b466d602fb.gif"><br></div></div><br><br>  Um das Endergebnis zu berechnen, hat unser Team eine Methode entwickelt, die automatisch die Grenzen des Bildes bestimmt und es zu einer rechteckigen Ansicht führt.  Aufgrund der perspektivischen Verzerrung wird ein gescanntes rechteckiges Foto normalerweise zu einem nicht rechteckigen Viereck.  Die Methode analysiert Bildsignale, Farben und Kanten, um herauszufinden, wohin die genauen Ränder des Originalfotos führen, und wendet dann geometrische Transformationen an, um das Bild zu begradigen.  Das Ergebnis ist eine hochwertige digitale Version der Papierfotografie ohne Blendung. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7b9/5ee/532/7b95ee532f40a5dcbf73e12052c8606e.png"><br><br>  Im Allgemeinen passieren viele Dinge unter der Haube, und all dies funktioniert fast sofort auf Ihrem Telefon!  Sie können PhotoScan ausprobieren, indem Sie die Version der Anwendung für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Android</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">iOS</a> herunterladen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de403389/">https://habr.com/ru/post/de403389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de403377/index.html">Überprüfung der DECT IP Phone Yealink W56P</a></li>
<li><a href="../de403379/index.html">Plastc Smart Credit Card Developer erhält 9 Millionen US-Dollar Vorbestellungen und Insolvenz angekündigt</a></li>
<li><a href="../de403381/index.html">Jenseits des Arbeitsplatzes: Wie sonst kann ein Coworking Freelancer nützlich sein?</a></li>
<li><a href="../de403383/index.html">Informationsphilosophie, Kapitel 3. Gründe</a></li>
<li><a href="../de403385/index.html">Elektronik für Rollenspiele im Jahr 2016</a></li>
<li><a href="../de403393/index.html">Unbemannte Fahrzeuge lehren Fahrtricks bei Grand Theft Auto V.</a></li>
<li><a href="../de403397/index.html">Aus irgendeinem Grund korreliert das Trinken von Limonaden mit dem Gehirnvolumen.</a></li>
<li><a href="../de403399/index.html">YouTube-Mitarbeiter suchen im Video nach Hass. KI beobachtet und lernt</a></li>
<li><a href="../de403401/index.html">Großbritannien lebte zum ersten Mal seit 1882 einen Tag ohne Kohle als Stromquelle</a></li>
<li><a href="../de403403/index.html">Onion sammelt keine Spenden mehr für Omega 2-Mikrocomputer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>