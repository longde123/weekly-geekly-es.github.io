<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÅ üöó üë¥üèΩ Prueba de participaci√≥n: Mirada interior ü§µüèª üë®‚Äçüöí üë©üèº‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hay muchos art√≠culos y debates filisteos en Internet, pero no hay suficiente informaci√≥n sobre los m√©ritos. En alg√∫n momento, el autor se dio cuenta d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prueba de participaci√≥n: Mirada interior</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442862/"><p><img src="https://habrastorage.org/webt/yj/8k/rq/yj8krqpp54tlsgp9p1vupdz-ofi.jpeg"></p><br><blockquote>  Hay muchos art√≠culos y debates filisteos en Internet, pero no hay suficiente informaci√≥n sobre los m√©ritos.  En alg√∫n momento, el autor se dio cuenta de que la mec√°nica y muchos matices de seguridad relacionados no son completamente entendidos incluso por muchos desarrolladores de criptomonedas.  Esto se revel√≥ en un caso real de portar la implementaci√≥n de PoS para una de las criptomonedas y en la publicaci√≥n posterior de informaci√≥n sobre las vulnerabilidades encontradas por expertos de terceros. </blockquote><p>  Este art√≠culo ser√° √∫til para todos los desarrolladores que ya han encontrado vulnerabilidades de PoS o que a√∫n est√°n por venir. </p><br><p>  Horrorizado bajo el corte. </p><a name="habracut"></a><br><h2 id="krupica-istorii">  Un grano de historia </h2><br><p> En Internet, el surgimiento de la Prueba de participaci√≥n (PoS) en Peercoin se rastrea despu√©s de una discusi√≥n en uno de los foros en 2011, su posterior uso en NovaCoin y su posterior distribuci√≥n en PIVX y otras horquillas de Bitcoin.  Se llev√≥ una l√≥gica PoS bastante primitiva al <code>kernel.cpp</code> <code>kernel.h</code> / <code>kernel.cpp</code> , que recorre los espacios de las bifurcaciones en forma de varios m√≥dulos de Frankenstein. </p><br><p>  El algoritmo PoS pas√≥ por varias etapas de desarrollo, alguien les da versiones.  Ahora las opciones de PoS se dividen por razones naturales, DPoS ha aparecido.  Una de las soluciones m√°s avanzadas es el protocolo Casper en Ethereum. </p><br><p>  Cualquier blockchain requiere la generaci√≥n de bloques y alguien deber√≠a tener el derecho de construir un nuevo bloque.  Si el autor lo hace sin mucha competencia en una cadena de bloques como el sistema de control de versiones Git, entonces en las criptomonedas hay una lucha feroz por la recompensa del bloque dentro del marco de Prueba de trabajo (PoW): encontrar una combinaci√≥n de par√°metros de entrada variables seleccionando eso da un resultado correspondiente a determinado por un objetivo determinado (miner√≠a, miner√≠a). </p><br><p>  PoS reemplaza la Prueba de trabajo (PoW) para evitar el desperdicio de recursos en la miner√≠a.  En cambio, todos los par√°metros de entrada est√°n estrictamente definidos con una caracter√≠stica constante basada en los ahorros existentes de los titulares de monedas.  Por lo tanto, se requiere PoW como punto de partida para PoS, si no recurre a varias opciones para el enriquecimiento hipotecado inicial de los creadores de la moneda. </p><br><h2 id="zachem">  Por qu√© </h2><br><p>  Ahorrar energ√≠a es tan importante para los desarrolladores y poseedores de monedas como limitar las emisiones de gases de efecto invernadero para productores y consumidores.  La cruel verdad es diferente: </p><br><ol><li>  Los proyectos basados ‚Äã‚Äãen PoW est√°n sujetos a los llamados  "51 por ciento de ataques": los atacantes pueden aprovechar grandes poderes, crear una cadena paralela y luego publicarla de repente con un movimiento de monedas diferente (es decir, doble desperdicio), </li><li>  Los mineros de PoW deben cubrir sus costos e invertir en el desarrollo de capacidades: esta es una salida directa de capital de los proyectos, </li><li>  los propietarios de los ahorros desean mantener su poder adquisitivo mediante el aumento de capital, en lugar de considerar la inflaci√≥n natural. </li></ol><br><p>  <em>En un ejemplo vivo: en noviembre-diciembre de 2018 hubo intentos de ataques;</em>  <em>luego, en diciembre-febrero, hubo un gran revuelo como la moneda m√°s rentable para extraer en tarjetas de video;</em>  <em>la tasa baj√≥ de 2+ a 0.5 USD;</em>  <em>Despu√©s de cambiar a PoS, la tasa aument√≥ a 1 USD en una semana y la afluencia de inversiones aument√≥.</em> </p><br><hr><br><h2 id="tehnicheskie-momenty">  Puntos t√©cnicos </h2><br><p>  <strong>Atenci√≥n: en esta secci√≥n, estamos hablando del PoS "tradicional" en la forma como est√° en Peercoin, PIVX y sus tenedores.</strong> </p><br><p>  Debe comprender que no hay centralizaci√≥n y contabilidad para los "puntos".  En esta versi√≥n, funciona el mismo principio de suerte que en PoW. </p><br><h3 id="1-terminologiya">  1. Terminolog√≠a </h3><br><p>  La terminolog√≠a es relativamente general, pero en diferentes implementaciones sus matices son: </p><br><ul><li>  <strong>Objetivo PoW</strong> - objetivo = objetivo base, generalmente 2 ^ 240 (0x0000ffff ...) dividido por la complejidad del bloque (aumenta el n√∫mero de ceros al frente). </li><li>  <strong>Dificultad del bloque</strong> : la complejidad del bloque en relaci√≥n con el objetivo base, determinado de manera determinante en funci√≥n de la tasa de crecimiento de la cadena actual. </li><li>  <strong>UTXO</strong> - Salida de transacci√≥n no <strong>gastada</strong> , un par de un hash de transacci√≥n y un n√∫mero de salida. </li><li>  <strong>CoinBase</strong> es una transacci√≥n especial con √≠ndice 0 en el bloque que contiene la recompensa. </li><li>  <strong>Stake</strong> o <strong>CoinStake</strong> es una transacci√≥n especial con el √≠ndice 1 en un bloque. </li><li>  <strong>Entrada de</strong> apuesta: UTXO que cumple con los requisitos para una apuesta por tama√±o y edad. </li><li>  <strong>Modificador de juego</strong> : un par√°metro calculado determin√≠sticamente especial para cada <strong>entrada de juego</strong> . </li><li>  <strong>Stake Hash</strong> es un resultado hash que deber√≠a ser aritm√©ticamente menor que <strong>Stake Target</strong> . </li><li>  <strong>Objetivo de estaca</strong> : lo mismo que el objetivo de PoW, pero aumentado proporcionalmente por la cantidad de <strong>Entrada</strong> de <strong>estaca en</strong> relaci√≥n con la oferta m√≠nima. </li><li>  <strong>Firma de bloque</strong> - <strong>Firma de bloque</strong> . </li><li>  <strong>Tenedor</strong> : una cadena ramificada. </li><li>  <strong>Split</strong> : uso compartido de red. </li><li>  <strong>Hu√©rfanos</strong> : bloques descartados debido a la elecci√≥n de otra alternativa. </li></ul><br><h3 id="2-anatomiya">  2. Anatom√≠a </h3><br><p>  Proceso de generaci√≥n: </p><br><ol><li>  Encontramos todos los UTXO que cumplen con los requisitos de entrada de estaca </li><li>  Encuentra el modificador de estaca. </li><li>  Multiplicar objetivo PoW por entrada de estaca <br><ul><li>  <em>en millon√©simas de hecho, es por eso que el hashrate de 1 MH PoW sale experimentalmente igual a una moneda.</em> </li></ul></li><li>  Obtenemos <code>Stake Hash = H(Stake Modifier, Stake Block Time, UTXO output index, UTXO txid, Current Block Time)</code> . <br><ul><li>  <em>solo par√°metro variable Tiempo de bloqueo actual</em> </li></ul></li><li>  Si <code>Stake Hash &gt;= Stake Target</code> , intente encontrar el <code>Current Block Time</code> en el rango aceptable. <br><ul><li>  <em>debe considerar la posibilidad de desbordamientos de Stake Target cuando se multiplica por la cantidad de Stake Input seg√∫n la implementaci√≥n.</em> </li></ul></li><li>  Ponemos Coinbase en tx [0] y CoinStake en tx [1]. <br><ul><li>  <em>El beneficiario de Coinbase es el mismo script (direcci√≥n) que Stake Input.</em> </li></ul></li><li>  Firmamos el bloque. </li></ol><br><h4 id="21-vremya-bloka">  2.1.  Tiempo de bloqueo: </h4><br><p>  Es f√°cil ver que una estafa puede dar alg√∫n beneficio con el tiempo.  El consenso est√°ndar limita los l√≠mites inferior y superior. </p><br><p>  Los m√°s bajos siempre establecen el tiempo promedio de los bloques en los √∫ltimos N bloques, generalmente m√°s de 11. Esta es la tolerancia a la inexactitud de tiempo en la generaci√≥n de nodos. </p><br><p>  El l√≠mite superior hist√≥rico se estableci√≥ para PoW con un dedo hacia el cielo a las 2 en punto.  Aumentar los intervalos reduce la complejidad y hace que la rama sea menos atractiva; por lo tanto, no tiene sentido.  Pero para PoS, tiene sentido. </p><br><p>  PIVX y otros limitan el tiempo futuro a un m√°ximo de 3 minutos.  Algunos ponen una restricci√≥n m√°s severa, pero esto crea problemas para los usuarios.  Algunas implementaciones de PoS han decidido cambiar los intervalos m√≠nimos de tiempo de bloqueo actual de un segundo a 15-16 segundos. </p><br><h4 id="22-stake-modifier">  2.2.  Modificador de apuesta: </h4><br><p>  El Stake Modifier fue concebido como un medio para dificultar la predicci√≥n y construir la cadena por delante, pero algo sali√≥ mal ... </p><br><p>  Hay varias opciones para calcularlo: los √∫ltimos bits de bloque hash en los extremos de intervalos de tiempo especificados progresivamente, [valores no muy mal predichos de bloques anteriores, etc.  En algunos lugares, parece m√°s un c√≥digo ofuscador que algo cuerdo. </p><br><p>  El original toma un espacio de 64 intervalos.  Esta brecha se divide progresivamente en 64 partes desiguales.  Las fronteras se redondean a minutos.  En los bordes, se seleccionan los bloques existentes y se les quita un √∫ltimo bit.  Entonces resulta un n√∫mero de 64 bits, algo similar a Nonce. </p><br><p>  El intervalo en Peercon es de 20 minutos, pero los muchachos de PIVX decidieron que el intervalo de 1 minuto, redondeado al minuto, era lo que orden√≥ el m√©dico. </p><br><p>  En general, en algunas implementaciones como Blackcoin V2 +, todo est√° arreglado y el Modificador de apuesta se cuenta desde la cabeza, mientras que en Peercoin V03, PIVX, Blackcoin V1 y otras desde el bloque de Entrada de apuesta.  Este √∫ltimo destruye casi por completo el significado.  Hay una suposici√≥n de que la confusi√≥n se debi√≥ al problema banal de nombrar variables, metamorfosis adicionales y copiar y pegar sin pensar.  Y el propio autor descubri√≥ el problema bastante tarde, mientras que toda su atenci√≥n se centr√≥ en la protecci√≥n contra DoS.  ¬°No te dejes atrapar! </p><br><h4 id="23-podpis-bloka">  2.3.  Firma de bloque </h4><br><p>  Dado que el hash de bloque ya no sirve como prueba de trabajo, y cualquiera puede tomar la transacci√≥n CoinStake firmada del bloque de otra persona, es necesario verificar que el bloque sea creado por el propietario de Stake.  Por lo tanto, el encabezado se firma con la misma clave privada que CoinStake. </p><br><h4 id="24-skript-vyhoda-coinbase-i-coinstake">  2.4.  Script de salida de CoinBase y CoinStake </h4><br><p>  Los mismos scripts de salida, o como las personas llaman a las direcciones de billetera, son necesarios para preservar la privacidad y evitar vincular direcciones individuales en una billetera. </p><br><h4 id="25-chto-i-kuda">  2.5 ¬øQu√© y d√≥nde? </h4><br><p>  Existen diferentes variaciones sobre c√≥mo manejan las cantidades en CoinBase y CoinStake.  L√≥gica y motivaci√≥n en un caso particular: </p><br><ol><li>  Las cantidades deben mantenerse separadas para evitar incluso la menor p√©rdida posible de fondos de los usuarios debido a errores de procesamiento. </li><li>  CoinBase conserva sus 100 confirmaciones, pero CoinStake se puede gastar de inmediato, lo que por supuesto deja el riesgo de doble gasto. <br><ul><li>  ajustarse a la profundidad de los bloques tambi√©n contradice la calificaci√≥n de edad para su uso como entrada de estaca. </li></ul></li><li>  CoinBase y CoinStake nunca deber√≠an entrar en mempool, y todas las transacciones basadas en ellas deber√≠an eliminarse durante la reconstrucci√≥n de la cadena. </li></ol><br><h3 id="3-polnye-bloki-protiv-zagolovkov">  3. Bloques completos contra encabezados </h3><br><p>  La entrada de un nodo completo en la red comienza con la sincronizaci√≥n.  En Bitcoin, la sincronizaci√≥n se basa principalmente en encabezados de bloque, como  Contienen informaci√≥n suficiente para la verificaci√≥n preliminar del consenso.  Primero, se extraen encabezados relativamente peque√±os y se controlan en lotes de hasta 2000 piezas desde un nodo lateral.  Si la verificaci√≥n inicial fue exitosa, todos los bloques se extraen en paralelo de todos los nodos conectados. </p><br><p>  La protecci√≥n contra inundaciones se basa en el hecho de que el nodo local compara el encabezado m√°s conocido con el que tiene y solicita toda la cadena de encabezados.  A medida que descarga, todo se verifica por el bajo costo del espacio en disco y la inform√°tica.  Las cadenas se comparan en peso seg√∫n una caracter√≠stica como el trabajo en <strong>cadena</strong> , que es la suma de la complejidad de cada bloque individual.  Construir una cadena alternativa tan fuerte requerir√° inversiones de recursos extremadamente grandes, lo que hace que los ataques sean poco prometedores. </p><br><p>  Con PoS, este enfoque no funciona, porque  Para verificar los bloques, debe procesar los bloques anteriores completos al menos hasta la edad m√≠nima de Estaca.  Las implementaciones vistas por el autor no comenzaron a pervertirse, sino que simplemente se negaron a trabajar con encabezados. </p><br><p>  <strong>Por lo tanto, el</strong> autor implement√≥ una descarga oportunista paralela de bloques siguiendo los encabezados, lo que aumenta significativamente la velocidad de sincronizaci√≥n debido al uso de todas las conexiones.  Los retrasos menores ocurren solo si los pares est√°n en diferentes cadenas; luego, la conexi√≥n se interrumpe despu√©s de un ligero tiempo de espera como en el esquema est√°ndar.  Como punto negativo, la tendencia a elegir una cadena falsa en el momento de la sincronizaci√≥n. </p><br><p>  <em>Por cierto, el cliente est√°ndar de Bitcoin y sus horquillas han estado recogiendo el n√∫mero m√≠nimo est√°ndar de conexiones salientes durante 8 el tiempo suficiente si algunos de ellos fallan por varias razones.</em>  <em>Esto se ha resuelto mediante conexiones salientes asincr√≥nicas.</em> </p><br><h3 id="4-forki-splity-i-orfany">  4. Tenedores, divisiones y hu√©rfanos. </h3><br><p>  Con la competencia de construcci√≥n de bloques, las cadenas alternativas de 1-2 enlaces son relativamente comunes.  Las bifurcaciones m√°s largas en redes desarrolladas ocurren naturalmente solo con fallas √©picas en el consenso debido a un error de programaci√≥n o una interrupci√≥n global de Internet. </p><br><p>  Incluso con la separaci√≥n, generalmente no existe una amenaza para la integridad del procesamiento de transacciones, ya que  al separar bloques, todas las transacciones vuelven a mempool y ya est√°n incluidas en otros bloques.  Mempool es un repositorio temporal de transacciones despu√©s de que se crean.  Mempool se guarda en el disco en versiones recientes.  La recompensa por el bloque se destruye.  Es por eso que se establece el n√∫mero m√≠nimo de confirmaciones (profundidad) para los premios. </p><br><p>  Sucede que los segmentos de la red local pierden su conexi√≥n con el mundo exterior y contin√∫an minando, suponiendo que haya una conexi√≥n con la red principal.  Tales ramas generalmente no representan una amenaza debido a su debilidad natural. </p><br><p>  El principal ataque del 51% para PoW ya se ha descrito anteriormente: es extremadamente intensivo en recursos, pero para PoS se est√° volviendo relativamente asequible.  Por esta raz√≥n, se hace t√©cnicamente posible producir muchas ramas de varios eslabones de la cadena.  Una de las soluciones cl√°sicas es prohibir las horquillas por debajo de cierta profundidad. </p><br><p>  El principal problema de dicha protecci√≥n es la incapacidad de los nodos de los segmentos de ermita√±o para regresar independientemente al circuito principal despu√©s de un reinicio. </p><br><p>  <strong>Por lo tanto</strong> , se implement√≥ un enfoque para prohibir las horquillas anteriores a un cierto per√≠odo de tiempo solo si la parte superior de la cadena es bastante joven. </p><br><p>  <em>Con un intervalo objetivo de bloques de 1 minuto, el criterio de la bifurcaci√≥n anterior se eligi√≥ a la 1 hora, que corresponde aproximadamente al 60% de las confirmaciones de CoinBase, y el criterio para la juventud de la corona a los 15 minutos es m√°s de 3 veces mayor que el retraso m√°ximo del bloque estad√≠stico.</em> </p><br><h3 id="5-hesh-bloka-i-splity">  5. Bloquear y dividir hash </h3><br><p>  En PoW, un hash de bloque cubre completamente todos los datos.  Tambi√©n se utiliza para verificar el objetivo.  En PoS, Stake Hash es un valor separado porque  Es necesario excluir la posibilidad de su selecci√≥n.  Esto abre la amenaza principal: la capacidad de producir una cantidad ilimitada de versiones diferentes del bloque basadas en la misma Estaca coincidente, que es f√°cil de inundar y colocar la red o sus nodos individuales. </p><br><p>  Los enfoques de defensa ingenuos dan lugar a vulnerabilidades divididas a√∫n m√°s graves.  Uno de estos enfoques en diferentes variaciones es permitir el uso de la entrada de estaca solo una vez.  Un ataque simple es enviar diferentes bloques a diferentes nodos, lo que inmediatamente crea una divisi√≥n suave. </p><br><p>  Es a√∫n m√°s fatal exacerbar esto con una prohibici√≥n de DoS, que dividir√° no solo las cadenas, sino la red misma en diferentes segmentos. </p><br><p>  Surgen otros problemas: la incapacidad de usar Stake desde un bloque ca√≠do. </p><br><p>  <strong>Por lo tanto</strong> , se eligi√≥ el m√©todo del acelerador como la soluci√≥n m√°s segura: la misma apuesta no se puede usar m√°s de una vez por minuto.  La l√≥gica es simple: un ataque puede durar solo en el intervalo de 1 hora (ver la bifurcaci√≥n anterior), para lo cual es posible inundar no m√°s de 60 bloques.  En el mejor de los casos, en el siguiente bloque, la red ya se mover√° a un solo circuito.  En el peor de los casos, con un ataque continuo, esto suceder√° en una hora.  La probabilidad del peor de los casos: encontrar varios bloques en una fila, se est√° derritiendo exponencialmente. </p><br><p>  <em>De todos modos, quedan algunos puntos en los que los nodos son vulnerables a una inundaci√≥n moderada hasta el momento de la sincronizaci√≥n completa</em> . </p><br><h3 id="6-minimalnyy-vozrast">  6. Edad m√≠nima </h3><br><p>  Para algunos, esta limitaci√≥n es desconcertante, pero es extremadamente importante para la estabilidad de la red, ya que  Este par√°metro est√° directamente relacionado con la longitud m√°xima de la red alternativa, que el nodo local podr√° verificar sin distorsiones t√©cnicas serias. </p><br><p>  Como se mencion√≥ anteriormente, el nodo local debe procesar todos los bloques hasta el l√≠mite de tiempo para poder verificar que la Entrada de estaca a) tiene un lugar para estar b) es realmente UTXO y no se ha gastado. </p><br><p>  Verifique que esto sea posible solo a trav√©s de la funcionalidad del llamado.  CoinView, que es el estado de movimiento de las monedas en el momento de un bloque en particular: la parte superior de la cadena principal en la comprensi√≥n del nodo local. </p><br><p>  La implementaci√≥n de una prueba completa de circuitos alternativos a intervalos de tiempo o incluso de una manera especial guardada por CoinView parece poco prometedora, porque  El n√∫mero de estas cadenas alternativas es infinitamente grande. </p><br><p>  Una barra demasiado grande para el l√≠mite de edad de UTXO afecta negativamente a los usuarios que desean gastar o combinar parte de sus monedas. </p><br><p>  Si especifica este borde en la profundidad de los bloques, entonces es posible una situaci√≥n hipot√©tica de estancamiento de una parada de cadena completa debido al hecho de que no hay un UTXO adecuado.  En el caso de las unidades de tiempo, se produce al menos alg√∫n movimiento. </p><br><p>  <strong>Por lo tanto</strong> , se utiliza una opci√≥n equilibrada de 1 hora en otras redes en unidades absolutas de tiempo, en lugar de la profundidad de los bloques. </p><br><h3 id="7-chto-luchshe-n-utxo-po-minimalnoy-summe-ili-odin-utxo-s-n-summoy">  7. ¬øQu√© es mejor que N UTXO por la cantidad m√≠nima o un UTXO con N total? </h3><br><p>  Aqu√≠ la analog√≠a se plantea a s√≠ misma: lo mejor es una pistola con una precisi√≥n de 0.9 o tres pistolas con una precisi√≥n de 0.3, pero con probabilidades del orden de 1/2 ^ 20, los resultados de tales c√°lculos parecer√≠an nivelados.  Un peque√±o mapa confunde la madurez de calificaci√≥n. </p><br><p>  La creencia actual de que muchas transacciones peque√±as encuentran m√°s bloques probablemente se remonta a cuando la edad de la entrada de estaca tambi√©n se tuvo en cuenta para determinar el peso.  En aquel entonces, las peque√±as transacciones viejas realmente ten√≠an mucho sentido. </p><br><p>  Por el momento, en base a experimentos pr√°cticos y c√°lculos te√≥ricos, los grupos agrupados en grandes UTXO traen m√°s bloques.  Adem√°s, menos UTXO requiere menos trabajo de CPU.  Alguien dice lo contrario. </p><br><p>  <strong>As√≠ que</strong> piensa por ti mismo. </p><br><h3 id="8-zabeganie-blokov-vperyod">  8. Ejecuci√≥n de bloques hacia adelante </h3><br><p>  Los mineros de PoS naturalmente superan un poco los tiempos de bloqueo.  Esto afecta la complejidad de la red para peor.  El c√≥digo est√°ndar de Bitcoin selecciona el primer bloque recibido, independientemente del tiempo indicado en √©l.  La mayor√≠a de las implementaciones de PoS hacen lo mismo. </p><br><p>  <strong>Por lo tanto, la</strong> l√≥gica del minero PoS se modific√≥ para comenzar la selecci√≥n a partir del tiempo promedio de los bloques si el tiempo del bloque actual avanzaba.  Al mismo tiempo, antes de comparar el orden, los nodos comparan el tiempo indicado de los bloques.  El minero PoS env√≠a el bloque encontrado a la red incluso si ve que est√° generando una bifurcaci√≥n. </p><br><p>  De esta manera, la red tambi√©n est√° protegida contra bloques hipot√©ticos enviados prematuramente cuya entrada de estaca no se puede usar en los pr√≥ximos 60 segundos con el mismo modificador de estaca debido a la protecci√≥n DoS.  Como un doble castigo por hacer trampa con el tiempo. </p><br><h3 id="9-nebolshoy-cheklist">  9. Una peque√±a lista de verificaci√≥n </h3><br><ol><li>  La entrada de apuesta debe ser UTXO v√°lida antes del punto de bifurcaci√≥n: <br><ul><li>  en el caso de la cadena principal, el punto de horquilla es la punta, </li><li>  en el caso de un circuito alternativo: UTXO despu√©s del punto de bifurcaci√≥n puede conducir a auto-DoS al cambiar, </li><li>  UTXO no debe estar en mempool por s√≠ mismo. </li></ul></li><li>  No acepte CoinStake en mempool al reconstruir el circuito principal: <br><ul><li>  Lo mismo sucede con CoinBase, </li><li>  Esto puede destruir la cadena de transacciones (poco probable). </li></ul></li><li>  No acepte tenedores de bloques viejos si la parte superior est√° bastante viva. </li><li>  El l√≠mite de edad en unidades de tiempo absoluto para la entrada de estaca es necesario para la estabilidad y la seguridad. </li><li>  Stake Hash solo debe cambiar a partir del tiempo de bloqueo. </li><li>  El modificador de estaca no debe estar vinculado al bloque de entrada de estaca. </li><li>  Trabajar con encabezados de bloque requiere un procesamiento especial en la red y durante la reindexaci√≥n. </li><li>  CoinStake se registran en la billetera local y requieren algunos cambios para mostrar correctamente a los hu√©rfanos. </li><li>  Los mineros de PoS probablemente tengan suficientes jambas y necesiten finalizar con un archivo. </li><li>  Re-indexar necesita ser mejorado, porque  Funciona por analog√≠a con los encabezados: primero carga y verifica solo el √≠ndice de bloques, y luego solo trata de procesar los bloques. </li><li>  Si la transici√≥n a PoS no est√° codificada, sino a trav√©s de spork, entonces debe atraparlo en el arranque, porque  los sporks no se guardan. </li><li>  Los puntos de control en Dash y Bitcoin son casi una farsa y requieren una revisi√≥n muy seria. </li><li>  Si la bifurcaci√≥n Dash es hasta la versi√≥n 0.13, entonces hay problemas con el procesamiento de datos de masternode en el modo de usuario simple. <br><ul><li>  Con el reinicio frecuente del cliente, la vista de red se distorsiona. </li><li>  Es mejor ignorar el cach√© si se ejecuta en modo gr√°fico. </li></ul></li><li>  Cambie la selecci√≥n del mejor bloque teniendo en cuenta el tiempo de bloqueo. </li><li>    Bitcoin          . </li><li>         mempool CoinStake  . </li></ol><br><hr><br><p><img src="https://habrastorage.org/webt/gw/fh/up/gwfhupvzahev6mwinu2-idrfpp8.png"></p><br><h2 id="vnedrenie-v-zhizn">    </h2><br><p>     .   mainnet    PoW       ,    ,      PoS,      . PoS       Ethereum   Casper'. </p><br><p>  GPU        -    ‚Äî ethminer'.           150-200 GH (ethash).  -                PoS  . </p><br><p>       PoS   PIVX 2.x  "   ".  -    PIVX     ,             ,  .         ,     PIVX 2.x    .      Dash         0.12      Bitcoin'. </p><br><p>          ,     PoS      .       ,         ,     . </p><br><h3 id="podgotovitelnye-raboty">   </h3><br><h4 id="dokumentaciya">  La documentaci√≥n </h4><br><p>      .           .   whitepaper    -. </p><br><h4 id="pervoe-priblizhenie">   </h4><br><p>        PoS  PIVX       Bitcoin/Dash.     CoinStake          .      PoS    . </p><br><p>      ,      Stake Modifier   Stake Hash  ,       Stake Input   . -      ,  -    PIVX    . </p><br><h4 id="dinamichnye-chekpoynty">   </h4><br><p>          ‚Äî      .    : </p><br><ol><li>            . </li><li>         . </li><li>       ‚Äî ..    ,       . </li><li>      ,  -      ,         . </li></ol><br><p>            .    spork'    ,       . </p><br><p> <em>,        .    spork'     .</em> </p><br><h4 id="perehod-na-pos-ne-dolzhen-byt-zhyostko-zashit">   PoS      </h4><br><p>              ,   -    .        spork,   ,     . </p><br><h4 id="novaya-versiya-protokola">    </h4><br><p>  , ..              .  ,         . </p><br><h4 id="publichnoe-testirovanie">   </h4><br><p>      testnet,       . </p><br><p>  testnet      3   1   mainnet,        . </p><br><h4 id="kalkulyator-dohodnosti">   </h4><br><p>    PoW ,  PoS     - ,            1e6       PoW. </p><br><p>           .   mainnet          Stake Input. </p><br><p>           . </p><br><h3 id="perehod-na-pos-v-zhizni">   PoS   </h3><br><p>     X   spork    PoS . -       ,      . </p><br><p>             .  ,   .        . </p><br><p>     ,      ,     . </p><br><h3 id="lozhka-dyogtya">   </h3><br><p>      Stake Modifier  .        .    PIVX  - ‚Ä¶ ,     ,        Ethereum,    . </p><br><hr><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>    -      ,          .   ,          PoS   ,        .        . </p><br><p> <em>:       -           .</em> </p><br><p> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  GitHub       </a></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442862/">https://habr.com/ru/post/442862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442846/index.html">Nuestra industria espacial. Una mirada a los problemas de la industria desde la perspectiva de un desarrollador ordinario</a></li>
<li><a href="../442852/index.html">Dell 6000 o hola desde 2005</a></li>
<li><a href="../442854/index.html">¬øC√≥mo hicimos el esquema del metro de Minsk?</a></li>
<li><a href="../442856/index.html">Dos en uno: monitor y reloj de calidad del aire programables por Wi-Fi</a></li>
<li><a href="../442858/index.html">¬øHay demasiados elefantes en √Åfrica? C√≥mo la coexistencia pac√≠fica con las comunidades humanas puede ayudar en esto</a></li>
<li><a href="../442864/index.html">¬øCu√°ntos a√±os tiene tu se√±or?</a></li>
<li><a href="../442866/index.html">La IA entrenada durante d√©cadas de experimentaci√≥n culinaria crea nuevos platos.</a></li>
<li><a href="../442868/index.html">Una breve excursi√≥n a los sistemas de enfriamiento del centro de datos. Pros y contras</a></li>
<li><a href="../442870/index.html">Lo mejor del mundo de Angular para la semana - Digest No. 2 (26 de enero - 7 de marzo)</a></li>
<li><a href="../442872/index.html">C√≥mo encontr√© el huevo de Pascua en la protecci√≥n de Android y no consegu√≠ un trabajo en Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>