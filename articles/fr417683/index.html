<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍛 🚠 🔩 Code obsolète - Code tiers ⚔️ 💃🏿 🥞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe une astuce dans la communauté TDD qui dit que nous ne devons pas utiliser des objets fictifs pour les types que nous ne possédons pas . Je p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Code obsolète - Code tiers</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417683/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/nk/lv/yf/nklvyfdyfnfi1qugodvftzm4wb0.png" alt="image"></div><br>  Il existe une astuce dans la communauté TDD qui dit que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nous ne devons pas utiliser des objets fictifs pour les types que nous ne possédons pas</a> .  Je pense que c'est un bon conseil, et j'essaie de le suivre.  Bien sûr, il y a des gens qui disent que nous ne devons pas du tout utiliser de faux objets.  Quelle que soit votre opinion, le conseil «ne pas imiter ce qui n'est pas le vôtre» contient également un sens caché.  Les gens le dépassent souvent, voyant le mot "faux" et tombant en colère. <br><a name="habracut"></a><br>  Cette signification cachée est que vous devez créer des interfaces, des clients, des ponts, des adaptateurs entre notre application et le code tiers que nous utilisons.  La question de savoir si nous allons créer des objets fictifs de ces interfaces dans nos tests n'est même pas si importante.  L'important est que nous créons et utilisons des interfaces qui séparent mieux notre code du code tiers.  Un exemple classique de cela dans le monde PHP est la création et l'utilisation d'un client HTTP dans notre application qui utilise le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">client HTTP Guzzle</a> , au lieu d'utiliser directement Guzzle. <br><br>  Pourquoi?  Eh bien, pour commencer, Guzzle possède une API beaucoup plus puissante que celle dont votre application a besoin (dans la plupart des cas).  La création de votre propre client HTTP, qui ne fournit que l'ensemble nécessaire des API Guzzle, limitera les développeurs d'applications à ce qu'ils peuvent faire avec ce client.  Si l'API Guzzle change à l'avenir, nous devrons apporter des modifications au même endroit, au lieu de corriger ses appels tout au long de l'application dans l'espoir que rien ne se cassera.  Deux très bonnes raisons, et je n'ai même pas mentionné de faux objets! <br><br>  Je ne pense pas que ce soit difficile à réaliser.  Le code tiers se trouve généralement dans un dossier séparé de notre application, il s'agit souvent d'un <code>vendor/</code> ou d'une <code>library/</code> .  Il réside également dans un espace de noms différent et a une convention de dénomination différente de celle utilisée dans notre application.  Le code tiers est assez facile à identifier et, avec un peu de discipline, nous pouvons rendre notre code d'application moins dépendant de composants tiers. <br><br><h2>  Et si nous appliquons les mêmes règles au code hérité? </h2><br>  Que se passe-t-il si nous examinons notre code hérité ainsi que le tiers?  Cela peut être difficile à faire, voire contre-productif si du code obsolète est utilisé exclusivement en mode support, lorsque nous corrigeons uniquement les bogues et en ajustons un peu les petites parties.  Mais si nous écrivons un nouveau code qui (ré) utilise du code obsolète, je pense qu'il vaut la peine de le considérer de la même manière que le code tiers.  Du moins du point de vue du nouveau code. <br><br>  Si possible, le code obsolète et nouveau doit se trouver dans différents dossiers et espaces de noms.  Cela fait longtemps depuis la dernière fois que j'ai vu le système <i>sans</i> démarrage, c'est donc tout à fait faisable.  Mais au lieu d'utiliser aveuglément le code hérité dans le nouveau code, que se passe-t-il si nous créons des interfaces pour lui et les utilisons? <br><br>  Le code obsolète est souvent plein d'objets «divins» qui font trop de choses.  Ils utilisent un état global, ont des propriétés publiques ou des méthodes magiques qui donnent accès à des propriétés privées comme s'ils étaient publics, ont des méthodes statiques qui sont tout simplement <b>très pratiques pour</b> appeler n'importe qui et n'importe où.  Cette commodité nous a donc conduits à la situation dans laquelle nous nous trouvons. <br><br>  Un autre problème, peut-être encore plus grave, avec le code obsolète est que nous sommes prêts à le changer, à le corriger, à le casser parce que nous ne le considérons pas comme du code tiers.  Que faisons-nous lorsque nous voyons un bogue ou que nous voulons ajouter une nouvelle fonctionnalité au code tiers?  Nous décrivons le problème et / ou créons une pull request.  Ce que nous <b>ne faisons pas,</b> c'est de ne pas aller au <code>vendor/</code> dossier et de ne pas y éditer le code.  Pourquoi faisons-nous cela avec du code hérité?  Et puis nous croisons les doigts et espérons que rien ne s'est cassé. <br><br>  Au lieu d'utiliser aveuglément du code obsolète dans le nouveau code, essayons d'écrire des interfaces qui n'incluront que le sous-ensemble requis de l'API de l'ancien objet «divin».  Supposons que nous ayons un objet <code>User</code> dans le code hérité qui sait tout sur tout.  Il sait comment changer l'email et le mot de passe, comment mettre à niveau les utilisateurs du forum en modérateurs, comment mettre à jour les profils d'utilisateurs publics, définir les préférences de notification, se sauver dans la base de données et bien plus encore. <br><br>  <i>src / Legacy / User.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Legacy</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $email; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $password; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $role; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($newRole)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;role = $newRole; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ db_layer::save(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); } }</code> </pre> <br>  Ceci est un exemple grossier, mais reflète le problème: chaque propriété est publique et peut facilement être modifiée en n'importe quelle valeur, nous devons nous rappeler d'appeler explicitement la méthode <code>save</code> après toute modification à enregistrer, etc. <br><br>  Limitons-nous et interdisons l'accès à ces propriétés publiques et essayons de deviner comment fonctionne un système obsolète tout en augmentant les droits des utilisateurs: <br><br>  <i>src / LegacyBridge / Promoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Promoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $role)</span></span></span></span>; }</code> </pre> <br>  <i>src / LegacyBridge / LegacyUserPromoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LegacyUserPromoter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Promoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $legacyUser; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Legacy\User $user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser = $user; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $newRole)</span></span></span><span class="hljs-function"> </span></span>{ $newRole = (string) $newRole; <span class="hljs-comment"><span class="hljs-comment">//  ,  $role     ?  ! $legacyRoles = [ Role::MODERATOR =&gt; 1, Role::MEMBER =&gt; 2, ]; $newLegacyRole = $legacyRoles[$newRole]; $this-&gt;legacyUser-&gt;promote($newLegacyRole); $this-&gt;legacyUser-&gt;save(); } }</span></span></code> </pre> <br>  Maintenant, lorsque nous voulons augmenter <code>User</code> droits des <code>User</code> dans le nouveau code, nous utilisons l'interface <code>LegacyBridge\Promoter</code> , qui traite de toutes les subtilités de l'augmentation d'un utilisateur dans un système obsolète. <br><br><h2>  Changer la langue d'origine </h2><br>  L'interface pour le code obsolète nous donne la possibilité d'améliorer la conception du système et peut nous sauver d'éventuelles erreurs de nommage qui ont été faites il y a longtemps.  Le processus de changement du rôle d'un utilisateur d'un modérateur à un participant n'est pas une «promotion» (augmentation), mais plutôt une «rétrogradation» (diminution).  Personne ne nous empêche de créer deux interfaces pour ces différentes choses, même si le code hérité est identique. <br><br>  <i>src / LegacyBridge / Promoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Promoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $role)</span></span></span></span>; }</code> </pre><br>  <i>src / LegacyBridge / LegacyUserPromoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LegacyUserPromoter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Promoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $legacyUser; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Legacy\User $user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser = $user; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $newRole)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($newRole-&gt;isMember()) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"Can't promote to a member."</span></span>); } $legacyMemberRole = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser-&gt;promote($legacyMemberRole); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser-&gt;save(); } }</code> </pre> <br>  <i>src / LegacyBridge / Demoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Demoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">demoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $role)</span></span></span></span>; }</code> </pre> <br>  <i>src / LegacyBridge / LegacyUserDemoter.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">LegacyBridge</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LegacyUserDemoter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Demoter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $legacyUser; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Legacy\User $user)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser = $user; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">demoteTo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Role $newRole)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($newRole-&gt;isModerator()) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"Can't demote to a moderator."</span></span>); } $legacyModeratorRole = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser-&gt;promote($legacyModeratorRole); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;legacyUser-&gt;save(); } }</code> </pre> <br><br>  Pas un grand changement, mais le but du code est devenu beaucoup plus clair. <br><br>  Maintenant, la prochaine fois que vous devrez appeler certaines méthodes à partir de code obsolète, essayez de créer une interface pour elles.  Cela peut être impossible, cela peut être trop cher.  Je sais que la méthode statique de cet objet "divin" est vraiment très simple à utiliser et avec son aide, vous pouvez faire le travail beaucoup plus rapidement, mais considérez au moins cette option.  Vous pouvez simplement améliorer légèrement la conception du nouveau système que vous créez. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417683/">https://habr.com/ru/post/fr417683/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417673/index.html">L'enquête mène à Solar Dozor: 5 cas non standard révélés par DLP</a></li>
<li><a href="../fr417675/index.html">Localisation de jeux et d'applications dans Unity. Rapide et facile</a></li>
<li><a href="../fr417677/index.html">Migration d'un projet de yii1 vers yii2 via un travail unique</a></li>
<li><a href="../fr417679/index.html">L'héritage grave du passé. Problèmes de ligne de commande Windows</a></li>
<li><a href="../fr417681/index.html">Immersion en développement sur Ethereum. Partie 5: Oraclize</a></li>
<li><a href="../fr417685/index.html">Webinaires Skillbox Friday: continuer à apprendre gratuitement</a></li>
<li><a href="../fr417687/index.html">Asymétrie de vie</a></li>
<li><a href="../fr417689/index.html">Mobio s'entretient avec le PDG d'Appnext sur le marché du CPI et les tendances des applications mobiles</a></li>
<li><a href="../fr417691/index.html">Notre étagère est un programmeur C #. Et vous?</a></li>
<li><a href="../fr417697/index.html">Éditeur d'images simple sur VueJS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>