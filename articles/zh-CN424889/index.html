<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚅 🔆 👋🏿 查看英特尔8087协处理器内部 👩🏾‍🤝‍👩🏼 📊 🕐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="英特尔生产的八位处理器系列发展的一些历史 
 八位处理器系列始于1972年4月。 Intel 8008最初原计划用于计算器，输入输出设备，但制造商经过一番“反省”后决定为该产品系列找到新的目的地-成为PC的中央处理器。 根据处理器的修改，时钟频率为500或800 KHz，性能为每秒45000-160...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>查看英特尔8087协处理器内部</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424889/"><h3> 英特尔生产的八位处理器系列发展的一些历史 </h3><br> 八位处理器系列始于1972年4月。  <b>Intel 8008</b>最初原计划用于计算器，输入输出设备，但制造商经过一番“反省”后决定为该产品系列找到新的目的地-成为PC的中央处理器。 根据处理器的修改，时钟频率为500或800 KHz，性能为每秒45000-160000次操作。 <br><br><img src="https://habrastorage.org/webt/5t/5w/9o/5t5w9opcwadhfw0hxv6cjs9widm.jpeg"><br>  <i>英特尔C8008</i> <br><a name="habracut"></a><br>  1974年4月，Federico Faggini和Masatoshi Shima开发了新的处理器系列- <b>英特尔8080</b> 。  6,000个晶体管容纳在40引脚陶瓷封装，16位地址总线和8位数据总线，64 KB可寻址存储器中。 时钟频率为2 MHz，性能高达每秒500,000次操作。 为了使处理器变得“舒适”，开发了算术协处理器，时钟发生器，总线整形器，计时器，外围设备控制器等。 <br><br><img src="https://habrastorage.org/webt/e2/gp/v_/e2gpv_26tsa8vamg8usuuyqacd8.jpeg"><br>  <i>英特尔8080A</i> <br><br> 两年后的1976年3月，Intel 8085系列产品亮了起来：将6500个晶体管放置在40引脚陶瓷（或塑料）外壳中。 时钟频率范围为3到8 MHz，数据总线的宽度为8位，地址总线的宽度为16位，可寻址存储器为64 Kb。 这条线已经成功地“介入”了PC或微控制器的形式。 <br><br><img src="https://habrastorage.org/webt/ar/ud/nq/arudnq5qllg4tsjariyab9qccty.jpeg"><br><br>  1978年6月，该公司第一条16位处理器生产线开始生产<b>-Intel 8086</b> ：在5.5 x 5.5 mm芯片上放置了29,000个晶体管。 时钟频率范围为5到10 MHz，性能范围为每秒330到75万次操作，数据总线的宽度为16位，地址总线的宽度为20位。 <br><br><img src="https://habrastorage.org/webt/9m/eg/qs/9megqsqfasldhpiwebbgcgrrxha.jpeg"><br>  <i>英特尔8086</i> <br><br> 一年后的1979年夏天，英特尔发布了<b>8088系列产品</b> -8位和16位处理器之间的过渡链接：29,000个晶体管，时钟频率为5-10 MHz。 但是8088系列由于成本高而没有流行。 <br><br><img src="https://habrastorage.org/webt/w1/1o/rm/w11ormqaxsf2r6ylqba-dtlrnwu.jpeg"><br>  <i>英特尔P8088</i> <br><br><h3> 协处理器8087 </h3><br>  1980年6月，针对80808、8888的英特尔8087系列协处理器发布了。此类协处理器包含45,000个晶体管，各种版本的时钟频率范围为4至10 MHz。 <br><br><img src="https://habrastorage.org/webt/kx/4t/mq/kx4tmqlpnk2xajxxs8mu8wh8clu.jpeg"><br>  <i>英特尔C8087</i> <br><br><blockquote> 数学协处理器是用于执行浮点运算的特殊模块，可与中央处理器配合使用。 </blockquote><br> 为了从协处理器这样的奢侈品中省钱，他们只是拒绝了。 但是，要解决劳动密集型任务（例如，相同的工程计算），则必须提高计算机性能。 由于采用了特殊的模块-数学协处理器，他们设法提高了性能。 <br><br><blockquote> 根据INTEL的说法，数学协处理器可以将完成数学运算（如乘法，除法和乘幂运算）所需的时间减少80％或更多。 执行简单的数学运算（例如加法和减法）的速度不会改变。 </blockquote><br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">英特尔8087</a>微处理器芯片内部 </h3><br> 在Intel 8087浮点内部，我注意到了芯片上一个有趣的功能：基板偏置形成方案。 在本文中，我将解释如何使用模拟和数字电路来产生负电压来实现该电路。 <br><br> 英特尔在1980年开发了8087芯片，目的是在执行浮点运算时提高具有8086/8088线路处理器的PC（例如IBM PC）的性能。 由于第一个微处理器被设计为执行整数运算，因此使用浮点数的运算执行速度很慢，也就是说，关于三角函数或对数等先验运算的性能。 协处理器8087大大提高了执行浮点任务的速度；所有操作的完成速度几乎快100倍。  8087体系结构也在后来的Intel处理器中实现，而8087指令仍在现代x86 PC中使用。 <br><blockquote> 为协处理器引入了60多个新指令，其名称以“ F”开头，以便将它们与Intel 8086的整数指令区分开。 </blockquote> 我打开了8087芯片，并使用高性能显微镜拍摄了照片，由于其布局，我得到了以下图像： <br><br><img src="https://habrastorage.org/webt/jk/b1/cd/jkb1cdtmfdkpq6ntmh2iz8blju8.jpeg"><br><br>  8087晶体非常复杂，包含40,000个晶体管（根据Intel）或45,000个晶体管（根据Wikipedia）。 照片中有芯片的金属层，连接位于芯片的顶部。 最粗的白线为芯片的所有部分提供电源和接地。 在金属层下面是多晶硅或硅，由其形成芯片的晶体管。 <br><br> 芯片的下半部分是扩展的80位算术电路：加法器，寄存器，开关，数学常数。 芯片中间的大矩形是微码，用于实现一组处理器指令。 上部是逻辑电路和与8086处理器配对的总线电路。 <br><br> 照片中芯片周围的黑线是小的热压化合物，它们将IC接触垫（正方形或矩形的金属化导电部分，主要位于晶体或基板的外围）连接到芯片上的40个接触点。 通过研究技术说明8087，不难确定矩阵上的哪个接触区域对应于微电路的哪个接触。 芯片的40个引脚（逆时针编号）连接到芯片上的40个焊盘。 <br><br> 下面是矩阵一部分的放大图，在上面可以更好地考虑接触垫。  （请注意，接地端子和+5 V电源垫同时具有多个连接，这会增加输出的电流量）。 但是这是一个“惊喜”-在接触垫40和1之间有一个附加的接触垫和连接，与微电路的任何触点都不相关。 <br><br><img src="https://habrastorage.org/webt/ar/bf/tw/arbftwglimhic3rd_fszfsdqo1g.png"><br><br> 查看芯片上导线的热压连接（下图），结果发现神秘的接触垫没有连接到任何触点，而是连接到了一个小立方体块。 该“立方体”位于与晶体相同的金属基底上，并连接至芯片的硅基板即板。 <br><br> 我对制造技术进行了工程分析，目的是揭示“公司机密”，并得出结论，这是8087衬底偏置电路的一部分，其中该化合物用于向衬底施加负电压。 该电路如何工作？ <br><br><img src="https://habrastorage.org/webt/gr/tp/5r/grtp5rwi3eewqbhcxdwqrfdawf4.jpeg"><br><br><h3> 什么是基材偏移量？ </h3><br> 在1970年代，高密度集成电路由n-MOS晶体管（具有隔离栅和n型沟道的场效应晶体管）构建而成。 下图清楚地说明了它们的结构。 芯片的底部是硅衬底。 晶体管也由硅制成。 为了改变半导体本体中的电导率的类型和载流子的浓度以获得期望的性质，硅区域被掺杂有杂质以产生具有期望的性质的扩散区域。 晶体管可被视为电阻器，允许电流在源极和漏极的两个扩散区域之间流动。 该晶体管由多晶硅制成的栅极控制。 栅极的输入电压控制电流从源极流到漏极：栅极的高电压信号允许电流从源极流到漏极，而低压信号则阻止电流。 绝缘氧化层将栅极与下面的硅隔开； 稍后将考虑该层的重要性。 这些微小的晶体管可以组合形成逻辑门，微处理器组件和其他数字IC晶体。 <br><br><img src="https://habrastorage.org/webt/s_/32/ws/s_32wsb3hyeddtvvzufap-ucq3y.png"><br><br> 在高性能集成电路中，在基板上使用负的“偏压”是有利的。 为了获得该衬底偏置电压，1970年代的许多芯片都具有连接至-5V的外部触点。 但是，工程师并不喜欢需要额外电压的芯片。 那个时代的芯片通常需要三个电源。 另外，IC上的触点数量受到限制（通常，存储芯片只有18个触点）。 因此，使用两个以上的触点获得额外的电压不是一个好的解决方案。 在1970年代后期发现了部分解决方案：芯片内部产生了负偏置电压。 因此，有些芯片使用了一个方便的+ 5V电源，这显然使工程师变得“更加快乐”。 <br><br><h3> 内部基板偏置电路8087 </h3><br> 您可能想知道芯片如何将正电压变成负电压。 答案是称为电荷泵的电荷泵电路。 使用电容器作为电荷存储设备，使用开关系统将电容器从一个电容器转移到另一个电容器。  8087中的“偏置发生器”依次具有两个电荷泵。 下图显示了一种此类电荷泵的操作。 电荷泵由振荡信号（Q）及其反相（Q）控制。 在第一阶段，上晶体管导通，结果电容器相对于地充电至5伏。 第二阶段是魔术发生的地方。 通过将电容器的高压侧接地将下晶体管导通。 由于电容器仍在充电至5伏，因此电容器的底部现在应为-5伏，从而产生所需的负输出电压。 当振荡器再次翻转时，顶部晶体管导通，循环重复。 电荷泵之所以得名，是因为它将电荷从出口泵送到地面。 补油泵类似于手动水泵。 <br><br><img src="https://habrastorage.org/webt/xz/aj/xu/xzajxu-osr28kjcsaaqz-rjreie.png"><br><br> 我在显微镜下检查了芯片。 金属层将下面的晶体管隐藏起来，因此很难查看电路。 但是，在用盐酸去除了金属层之后，我进入了多晶硅和硅层，“发现了”晶体管和电容器，如下所示（彩色区域只是噪声，因为某些氧化物并未完全去除）。 下图显示了两个电荷泵：一个在接触垫的左侧，另一个在下面。 根据该方案的每个电荷泵具有两个二极管，一个大电容器和两个晶体管。 <br><br><img src="https://habrastorage.org/webt/jj/mv/9h/jjmv9hg6lo6j0szmrvwayjsk33u.jpeg"><br><br> 电容器是基板偏置电路最引人注目的“功能”。 尽管实际上它们的尺寸是微小的，但是按照用于测量芯片尺寸的标准，它们是巨大的。 电容器区域大约类似于72位寄存器存储器（超过400个晶体管）。 每个电容器由在由绝缘氧化物隔开的硅部分上的多晶硅组成； 多晶硅和硅形成电容器极板。 照片中的电容器上标有正方形。 这些正方形是多晶硅（或硅）与顶部金属层之间的接触点。  （金属层不可见，因为已将其删除）。 <br><br> 四个控制晶体管是高功率晶体管。 它们的尺寸优于常规晶体管。 红线是形成百叶窗的多晶硅化合物。 绿线-接触金属层，将晶体管连接至+5 V或接地。 当栅极和漏极连接时，接触垫附近的二极管由晶体管形成。 <br><br> 电荷泵由圆形振荡器驱动，如下图所示。 该圆形振荡器由五个短路的反相器组成。 由于逆变器的数量为奇数，因此系统不稳定且会振荡。 例如，如果第一个反相器的输入为0，则第五个反相器的输出将为1。为减慢振荡速度，圆中有两个电阻电容电路。 由于给电容器充电和放电需要一些时间，因此振荡将减慢，这将为电荷泵工作提供时间。 <br><br><img src="https://habrastorage.org/webt/g3/jr/pu/g3jrpuvwtlh5oijrnebyfs_barm.png"><br><br> 在将信息分解为圆形振荡器之前，我将演示如何实现硅中的标准NMOS反相器。 下面显示的是逆变器，其示意图以及如何在芯片上实现。 逆变器使用晶体管和负载电阻（实际上是晶体管）。 如果输入信号为低电平，则晶体管截止，然后负载电阻提供高达+5 V的电压。如果输入信号为高电平，则晶体管导通，输出电压提供至地。 因此，电路将输入反相。 <br><br><img src="https://habrastorage.org/webt/rh/fk/it/rhfkitykuj1yogfndygkujhcr-e.png"><br><br> 图像中的掺杂硅是米色的大面积区域。 紫色的旁边是黄色的薄黄色补丁，是多晶硅。 输入是多晶硅线。 在与掺杂硅相交的地方，它在接地（输入下方）和输出（输入上方）之间形成晶体管栅极。 负载电阻器在栅极和漏极连接在一起的晶体管中实现； 该接触在晶体管多晶硅栅极与其硅漏极之间形成这种连接。 多晶硅也形成输出线。 因此，芯片上的反相器由两个晶体管实现。 <br><br><img src="https://habrastorage.org/webt/23/1a/cb/231acbx-krina5vfwbqdaubfz-c.png"><br><br> 上图显示了如何在晶体上形成圆形振荡器。 显示了所有五个逆变器。 每个逆变器都有不同的方向，从而优化了结构，还指出了RC电路的电阻器和电容器。 电阻只是源极与漏极之间距离较远的晶体管，可减少电流的移动。 电容器被设计为电荷泵电容器，但尺寸要小得多。 底部的硅和顶部的多晶硅形成电容器板，该电容器板被薄的绝缘氧化层隔开。 <br><br><h3> 结论 </h3><br>  8087芯片上的衬底偏置电压发生器是数字电路（由反相器形成的圆形振荡器）和模拟电荷泵的有趣组合。 衬底偏置电压发生器电路是在1970年代末推出的，这使得存储芯片和微处理器可以在单个+5 V电源上工作，这比使用三种不同的电压源要方便得多。 衬底偏置发生器使用电荷泵从正电源电压产生负电压。 <br><br> 尽管电压偏置发生器在1970年代的计算机历史上似乎是一个晦涩的时刻，但该过程仍然是现代集成电路的一部分，尽管一切都变得更加复杂。 <br><br> 尽管英特尔8087浮点芯片是38年前开发并投入运行的，但今天它的“影响力”仍然显而易见。 由于其外观，采用了IEEE 754标准，即“ IEEE标准，描述了表示浮点数的格式。 它用于算术运算（数学运算）的软件（来自不同编程语言的编译器）和硬件（CPU和FPU）的实现中。”  8087指令仍然是x86处理器的一部分。 <br><br><img src="https://habrastorage.org/webt/i3/lt/h9/i3lth9_yogdvg5ek1qucyydx6nk.jpeg"><br><br><h3> 注释和链接 </h3><br>  1.为协处理器引入了60多个新指令，其名称以“ F”开头，以便与整数的Intel 8086指令区分开，例如，8087中ADD / MUL / CMP命令的类似物看起来像FADD / FMUL / FCOM 。 这些指令是使用8086 ESC“转义”命令实现的，该命令旨在使8086处理器与协处理器进行通信。 <br><br> 协处理器的出现导致了1985年针对浮点算法的IEEE 754标准的创建。 <br><br>  2.将负偏压施加到衬底具有多个优点。 减小的杂散电容加快了芯片的工作速度，使晶体管的阈值电压更加可预测，并降低了泄漏电流。 <br><br>  3.以前，DRAM和微处理器芯片通常需要三个电压源：+ 5 V（Vcc），+ 12V（Vdd）和-5V（Vbb）。  1970年代后期，先进的芯片技术实现了单电源的使用。 例如，Mostek的MK4116（自1977年以来为16千字节DRAM）需要三个电压源，而先进的MK4516（1981）仅以+5 V的电压工作，从而简化了硬件设计。 英特尔芯片也发生了同样的事情：使用三个电压的2116 DRAM（16K，1977）和改进的2118（1979）-一个电压。 著名的微处理器Intel 8080（1974）使用的晶体管工作在富集模式，因此需要三个电压。 改进版8085（1976）使用了耗尽型晶体管，并由一个+5 V单电源供电。 <br><br>  4.旧芯片中的第三个（+12 V）电源与衬底偏置无关。 使用该源是因为在早期的MOS集成电路中，存在以富集模式工作的晶体管，从而增加了栅极的电压。         +5 ,       +12 .   1970-    ( )       ,   +12   . <br><br> 5.        . -      , ,   -3 ,   -5 .        .         ,       . <br><br> ,    .    ?     ?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a> (   RAID1  RAID10,  24    40GB DDR4). <br><br> <b>VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps   </b>      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . <br><br> <b>Dell R730xd  2  ?</b>    <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2  Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100   $249</a>    !</b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN424889/">https://habr.com/ru/post/zh-CN424889/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN424873/index.html">NET中HttpClient的陷阱</a></li>
<li><a href="../zh-CN424877/index.html">液压制动冷却系统</a></li>
<li><a href="../zh-CN424879/index.html">接口可用性 Yandex讲座</a></li>
<li><a href="../zh-CN424881/index.html">Newtoo-在2018年从头开发完整的浏览器引擎？</a></li>
<li><a href="../zh-CN424887/index.html">Lida沉默的是：开发人员职业的开始。 原理或如何成为Middl</a></li>
<li><a href="../zh-CN424891/index.html">使用Enron数据集识别欺诈。 第1部分，数据准备和入学选择</a></li>
<li><a href="../zh-CN424893/index.html">工匠为1989年的型号Macintosh SE / 30创建了一个WiFi模块。</a></li>
<li><a href="../zh-CN424895/index.html">键入：使无效状态不可表达</a></li>
<li><a href="../zh-CN424897/index.html">一次意外的会议。 第18章</a></li>
<li><a href="../zh-CN424899/index.html">关于音频的聆听内容：15个播客</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>