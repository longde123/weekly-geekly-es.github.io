<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê™ ‚ù§Ô∏è üç• Incorpore a an√°lise est√°tica ao processo, n√£o procure bugs com ele üë©üèæ‚Äçüç≥ üßëüèø‚Äçü§ù‚Äçüßëüèª üßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fui solicitado a escrever este artigo com uma grande quantidade de materiais sobre an√°lise est√°tica, que cada vez mais chamam minha aten√ß√£o. Primeiro,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Incorpore a an√°lise est√°tica ao processo, n√£o procure bugs com ele</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436868/"> Fui solicitado a escrever este artigo com uma grande quantidade de materiais sobre an√°lise est√°tica, que cada vez mais chamam minha aten√ß√£o.  Primeiro, este √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">blog</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PVS-studio</a> , que est√° se promovendo ativamente no Habr√© com a ajuda de an√°lises de erros encontradas por sua ferramenta em projetos de c√≥digo aberto.  Recentemente, o PVS-studio implementou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte para Java</a> e, √© claro, os desenvolvedores do IntelliJ IDEA, cujo analisador embutido √© provavelmente o mais avan√ßado para Java atualmente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o puderam ficar de fora</a> . <br><br>  Ao ler essas resenhas, parece que estamos falando de um elixir m√°gico: clique no bot√£o e aqui est√° - uma lista de defeitos diante de seus olhos.  Parece que, √† medida que os analisadores melhoram, mais e mais erros s√£o encontrados automaticamente, e os produtos verificados por esses rob√¥s se tornam cada vez melhores, sem nenhum esfor√ßo de nossa parte. <br><br>  Mas n√£o h√° elixires m√°gicos.  Eu gostaria de falar sobre algo que geralmente n√£o √© mencionado em posts como ‚Äúestas s√£o as coisas que nosso rob√¥ pode encontrar‚Äù: o que os analisadores n√£o podem fazer, qual √© o seu real papel e lugar no processo de entrega do software e como implement√°-los corretamente. <br><br><img src="https://habrastorage.org/webt/ey/2o/ta/ey2otantl8aitotp4_lojjuscn4.png" width="500"><br>  <i>Catraca (fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> ).</i> <br><a name="habracut"></a><br><h2>  O que os analisadores est√°ticos nunca podem </h2><br>  O que √©, do ponto de vista pr√°tico, a an√°lise do c√≥digo fonte?  Submetemos algumas fontes √† entrada e, na sa√≠da em um curto espa√ßo de tempo (muito menor que a execu√ß√£o do teste), obtemos algumas informa√ß√µes sobre nosso sistema.  A limita√ß√£o fundamental e matematicamente intranspon√≠vel √© que s√≥ podemos obter uma classe de informa√ß√µes bastante restrita dessa maneira. <br><br>  O exemplo mais famoso de um problema que n√£o pode ser resolvido com a ajuda da an√°lise est√°tica √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o problema de desligamento</a> : este √© um teorema que prova que √© imposs√≠vel desenvolver um algoritmo geral que determinaria pelo c√≥digo fonte de um programa se ele repetir ou terminar em um tempo finito.  Uma extens√£o desse teorema √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o teorema de Rice,</a> que afirma que, para qualquer propriedade n√£o trivial de fun√ß√µes comput√°veis, determinar se um programa arbitr√°rio calcula uma fun√ß√£o com essa propriedade √© um problema algoritmicamente insol√∫vel.  Por exemplo, √© imposs√≠vel escrever um analisador que determine por qualquer c√≥digo fonte se o programa que est√° sendo analisado √© uma implementa√ß√£o de um algoritmo que calcula, digamos, o quadrado de um n√∫mero inteiro. <br><br>  Assim, a funcionalidade dos analisadores est√°ticos tem limita√ß√µes intranspon√≠veis.  Em todos os casos, o analisador est√°tico nunca poder√° detectar coisas como, por exemplo, a ocorr√™ncia de uma "exce√ß√£o de ponteiro nulo" em idiomas anul√°veis ‚Äã‚Äãou em todos os casos determinar√° a ocorr√™ncia de um "atributo n√£o encontrado" em idiomas dinamicamente digitados.  Tudo o que o analisador est√°tico mais avan√ßado pode fazer √© destacar casos particulares, cujo n√∫mero entre todos os poss√≠veis problemas com o seu c√≥digo-fonte √©, sem exagero, uma queda no balde. <br><br><h2>  A an√°lise est√°tica n√£o √© uma pesquisa de bug </h2><br>  A conclus√£o segue do exposto acima: a an√°lise est√°tica n√£o √© um meio de reduzir o n√∫mero de defeitos em um programa.  Atrevo-me a afirmar: quando aplicado pela primeira vez ao seu projeto, ele encontrar√° lugares "ocupados" no c√≥digo, mas provavelmente n√£o encontrar√° defeitos que afetem a qualidade do seu programa. <br><br>  Os exemplos de defeitos encontrados automaticamente pelos analisadores s√£o impressionantes, mas n√£o devemos esquecer que esses exemplos foram encontrados ao digitalizar um grande conjunto de grandes bases de c√≥digos.  Pelo mesmo princ√≠pio, os crackers com a capacidade de enumerar algumas senhas simples em um grande n√∫mero de contas acabam encontrando as contas que possuem uma senha simples. <br><br>  Isso significa que a an√°lise est√°tica n√£o precisa ser aplicada?  Claro que n√£o!  E exatamente pelo mesmo motivo que vale a pena verificar cada nova senha para acessar a lista de senhas "simples". <br><br><h2>  A an√°lise est√°tica √© mais do que a busca de bugs </h2><br>  De fato, as tarefas praticamente resolvidas pela an√°lise s√£o muito mais amplas.  De fato, em geral, a an√°lise est√°tica √© qualquer verifica√ß√£o das fontes realizadas antes de serem lan√ßadas.  Aqui est√£o algumas coisas que voc√™ pode fazer: <br><br><ul><li>  Verifica√ß√£o do estilo de codifica√ß√£o no sentido amplo da palavra.  Isso inclui verificar a formata√ß√£o e procurar o uso de colchetes vazios / extras, definir valores de limite para m√©tricas como o n√∫mero de linhas / complexidade ciclom√°tica do m√©todo etc. - tudo o que potencialmente dificulta a leitura e a manuten√ß√£o do c√≥digo.  Em Java, essa ferramenta √© o Checkstyle, em Python - flake8.  Programas desta classe s√£o geralmente chamados de linters. </li><li>  N√£o apenas o c√≥digo execut√°vel pode ser analisado.  Arquivos de recursos como JSON, YAML, XML, .properties podem (e devem!) Ser verificados automaticamente quanto √† validade.  Afinal, √© melhor descobrir que, devido a algumas cota√ß√µes n√£o emparelhadas, a estrutura JSON √© violada no est√°gio inicial da verifica√ß√£o autom√°tica de solicita√ß√£o por solicita√ß√£o do que na execu√ß√£o de testes ou no tempo de execu√ß√£o?  Ferramentas relevantes est√£o dispon√≠veis: por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YAMLlint</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JSONLint</a> . </li><li>  A compila√ß√£o (ou an√°lise de linguagens de programa√ß√£o din√¢micas) tamb√©m √© uma forma de an√°lise est√°tica.  Como regra, os compiladores podem emitir avisos sinalizando problemas com a qualidade do c√≥digo-fonte e n√£o devem ser ignorados. </li><li>  √Äs vezes, compila√ß√£o n√£o √© apenas compila√ß√£o de c√≥digo execut√°vel.  Por exemplo, se voc√™ tiver documenta√ß√£o no formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AsciiDoctor</a> , no momento da convers√£o em HTML / PDF, o manipulador AsciiDoctor ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plug-in Maven</a> ) poder√° emitir avisos, por exemplo, sobre links internos quebrados.  E esse √© um bom motivo para n√£o aceitar a solicita√ß√£o de recebimento com altera√ß√µes na documenta√ß√£o. </li><li>  A verifica√ß√£o ortogr√°fica tamb√©m √© uma forma de an√°lise est√°tica.  O utilit√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aspell</a> √© capaz de verificar a ortografia n√£o apenas na documenta√ß√£o, mas tamb√©m nos c√≥digos-fonte dos programas (coment√°rios e literais) em v√°rias linguagens de programa√ß√£o, incluindo C / C ++, Java e Python.  Um erro de ortografia na interface do usu√°rio ou na documenta√ß√£o tamb√©m √© um defeito! </li><li>  Testes de configura√ß√£o (para o que √© - veja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> relat√≥rio), embora sejam executados em um ambiente de tempo de execu√ß√£o para testes de unidade como pytest, tamb√©m s√£o de fato um tipo de an√°lise est√°tica, porque eles n√£o executam c√≥digos-fonte durante sua execu√ß√£o . </li></ul><br>  Como voc√™ pode ver, a busca por bugs nesta lista tem o papel menos importante e todo o resto est√° dispon√≠vel atrav√©s do uso de ferramentas gratuitas de c√≥digo aberto. <br><br>  Qual desses tipos de an√°lise est√°tica deve ser usado no seu projeto?  Claro, tudo, quanto mais - melhor!  O principal √© implement√°-lo corretamente, o que ser√° discutido mais adiante. <br><br><h2>  Pipeline de entrega como filtro de v√°rios est√°gios e an√°lise est√°tica como sua primeira cascata </h2><br>  A met√°fora cl√°ssica da integra√ß√£o cont√≠nua √© o pipeline atrav√©s do qual as altera√ß√µes fluem - da altera√ß√£o do c√≥digo-fonte √† entrega √† produ√ß√£o.  A sequ√™ncia padr√£o de etapas neste pipeline √© a seguinte: <br><br><ol><li>  an√°lise est√°tica </li><li>  compila√ß√£o </li><li>  testes de unidade </li><li>  testes de integra√ß√£o </li><li>  Testes de interface do usu√°rio </li><li>  verifica√ß√£o manual </li></ol><br>  Altera√ß√µes rejeitadas no en√©simo est√°gio do transportador n√£o s√£o transferidas para o est√°gio N + 1. <br><br>  Por que sim, e n√£o o contr√°rio?  Na parte de teste do pipeline, os testadores reconhecem a bem conhecida pir√¢mide de teste. <br><br><img src="https://habrastorage.org/webt/hr/41/ut/hr41utwuuzfwoe_3pkr6xm7rcwo.png" width="400"><br>  <i>Pir√¢mide de teste.</i>  <i>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo de</a> Martin Fowler.</i> <br><br>  Na parte inferior desta pir√¢mide, existem testes mais f√°ceis de escrever, mais r√°pidos de executar e sem tend√™ncia a falsos positivos.  Portanto, deve haver mais, eles devem cobrir mais c√≥digo e ser executados primeiro.  No topo da pir√¢mide, tudo √© o contr√°rio, ent√£o o n√∫mero de testes de integra√ß√£o e interface do usu√°rio deve ser reduzido ao m√≠nimo necess√°rio.  A pessoa nesta cadeia √© o recurso mais caro, lento e n√£o confi√°vel; portanto, ele est√° no final e faz o trabalho apenas se as etapas anteriores n√£o revelarem defeitos.  No entanto, de acordo com os mesmos princ√≠pios, um transportador √© constru√≠do em pe√ßas que n√£o est√£o diretamente relacionadas aos testes! <br><br>  Eu gostaria de oferecer uma analogia na forma de um sistema de filtragem de √°gua em v√°rios est√°gios.  √Ågua suja (altera√ß√µes com defeitos) √© fornecida √† entrada; na sa√≠da, precisamos obter √°gua limpa, na qual toda a polui√ß√£o indesej√°vel √© eliminada. <br><br><img src="https://habrastorage.org/webt/nf/2n/gi/nf2ngidmm_2_aaiye4c52ol0fr0.jpeg" width="400"><br>  <i>Filtro de v√°rios est√°gios.</i>  <i>Fonte: <a href="">Wikimedia Commons</a></i> <br><br>  Como voc√™ sabe, os filtros de limpeza s√£o projetados para que cada cascata subsequente possa filtrar uma fra√ß√£o cada vez menor de contaminantes.  Ao mesmo tempo, cascatas mais grossas t√™m maior produtividade e menor custo.  Em nossa analogia, isso significa que os port√µes de qualidade de entrada t√™m maior velocidade, exigem menos esfor√ßo para iniciar e s√£o mais despretensiosos em seu trabalho - e √© nessa sequ√™ncia que eles s√£o constru√≠dos.  O papel da an√°lise est√°tica, que, como agora entendemos, √© capaz de eliminar apenas os defeitos mais grosseiros, √© o papel da grade da ‚Äúarmadilha de sujeira‚Äù no in√≠cio da cascata do filtro. <br><br>  A an√°lise est√°tica por si s√≥ n√£o melhora a qualidade do produto final, assim como um coletor de lama n√£o produz √°gua pot√°vel.  No entanto, em conjunto com outros elementos do transportador, sua import√¢ncia √© √≥bvia.  Embora no filtro de v√°rios est√°gios os est√°gios de sa√≠da sejam potencialmente capazes de capturar tudo da mesma forma que os de entrada, √© claro que consequ√™ncias a tentativa de fazer com est√°gios finos sem est√°gios de entrada levar√° a ele. <br><br>  O objetivo do "coletor de sujeira" √© aliviar as cascatas subsequentes de capturar defeitos muito graves.  Por exemplo, pelo menos a pessoa que faz a revis√£o do c√≥digo n√£o deve ser distra√≠da pelo c√≥digo formatado incorretamente e pela viola√ß√£o dos padr√µes de codifica√ß√£o estabelecidos (como colchetes extras ou ramifica√ß√µes aninhadas muito profundamente).  Erros como o NPE devem ser detectados por testes de unidade, mas, mesmo antes do teste, o analisador nos diz que o erro deve acontecer inevitavelmente, isso acelerar√° significativamente sua corre√ß√£o. <br><br>  Acredito que agora esteja claro por que a an√°lise est√°tica n√£o melhora a qualidade do produto, se aplicada esporadicamente, e deve ser usada continuamente para detectar altera√ß√µes com defeitos graves.  A quest√£o √© se o uso de um analisador est√°tico melhorar√° a qualidade do seu produto. √â aproximadamente equivalente √† pergunta "as qualidades de beber da √°gua retirada de um reservat√≥rio sujo melhorar√£o se for passada por uma peneira?" <br><br><h2>  Implementa√ß√£o em um projeto legado </h2><br>  Uma quest√£o pr√°tica importante: como integrar a an√°lise est√°tica ao processo de integra√ß√£o cont√≠nua como um ‚Äúport√£o da qualidade‚Äù?  No caso de testes autom√°ticos, tudo √© √≥bvio: h√° um conjunto de testes, a queda de qualquer um deles √© uma raz√£o suficiente para acreditar que a montagem n√£o passou pela barreira da qualidade.  Uma tentativa de configurar o port√£o da mesma maneira com base nos resultados da an√°lise est√°tica falha: h√° muitos avisos de an√°lise no c√≥digo legado, voc√™ n√£o deseja ignor√°-los completamente, mas √© imposs√≠vel interromper a entrega do produto apenas porque ele cont√©m avisos do analisador. <br><br>  Quando aplicado pela primeira vez, o analisador gera um grande n√∫mero de avisos em qualquer projeto, a grande maioria dos quais n√£o est√° relacionada ao bom funcionamento do produto.  √â imposs√≠vel corrigir todas essas observa√ß√µes de uma s√≥ vez, e muitas n√£o s√£o necess√°rias.  No final, sabemos que nosso produto como um todo funciona e antes da introdu√ß√£o da an√°lise est√°tica! <br><br>  Como resultado, muitos se limitam ao uso epis√≥dico da an√°lise est√°tica ou apenas no modo de informa√ß√£o, quando o relat√≥rio do analisador √© simplesmente emitido durante a montagem.  Isso √© equivalente √† aus√™ncia de qualquer an√°lise, porque se j√° temos muitos avisos, o surgimento de outro (arbitrariamente s√©rio) ao alterar o c√≥digo passa despercebido. <br><br>  Os seguintes m√©todos de administra√ß√£o de portas de qualidade s√£o conhecidos: <br><br><ul><li>  Definir um limite para o n√∫mero total de avisos ou o n√∫mero de avisos dividido pelo n√∫mero de linhas de c√≥digo.  Isso funciona mal, pois esse port√£o ignora livremente as altera√ß√µes com novos defeitos at√© que seu limite seja excedido. </li><li>  Corrigindo, em um determinado momento, todos os avisos antigos no c√≥digo como ignorados e recusando a cria√ß√£o quando novos avisos ocorrem.  Essa funcionalidade √© fornecida pelo PVS-studio e alguns recursos online, por exemplo, Codacy.  N√£o pude trabalhar no PVS-studio. Quanto √† minha experi√™ncia com o Codacy, o principal problema √© que determinar o que √© ‚Äúvelho‚Äù e o que √© ‚Äúnovo‚Äù √© um algoritmo bastante complicado e nem sempre funciona, especialmente se arquivos s√£o fortemente modificados ou renomeados.  Na minha mem√≥ria, o Codacy poderia pular novos avisos na solicita√ß√£o de recebimento e, ao mesmo tempo, n√£o pular a solicita√ß√£o de recebimento devido a avisos n√£o relacionados a altera√ß√µes no c√≥digo deste PR. </li><li>  Na minha opini√£o, a solu√ß√£o mais eficaz √© descrita no livro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Entrega cont√≠nua</a> "catraca" ("catraca").  A id√©ia principal √© que a propriedade de cada release seja o n√∫mero de avisos de an√°lise est√°tica, e somente essas altera√ß√µes s√£o permitidas que n√£o aumentem o n√∫mero total de avisos. </li></ul><br><h2>  Catraca </h2><br>  Funciona assim: <br><br><ol><li>  No est√°gio inicial, o n√∫mero de avisos no c√≥digo encontrado pelos analisadores √© registrado nos metadados sobre o lan√ßamento.  Portanto, ao criar a ramifica√ß√£o principal, n√£o apenas a "vers√£o 7.0.2", mas a "vers√£o 7.0.2, contendo 100500 avisos do estilo de verifica√ß√£o" s√£o gravadas no seu gerenciador de reposit√≥rio.  Se voc√™ usar um gerenciador de reposit√≥rio avan√ßado (como o Artifactory), ser√° f√°cil salvar esses metadados sobre sua libera√ß√£o. </li><li>  Agora, cada solicita√ß√£o de recebimento durante a montagem compara o n√∫mero de avisos recebidos com o n√∫mero na libera√ß√£o atual.  Se o PR levar a um aumento nesse n√∫mero, o c√≥digo n√£o passar√° pela porta da qualidade para an√°lise est√°tica.  Se o n√∫mero de avisos diminuir ou n√£o mudar, ele passa. </li><li>  No pr√≥ximo release, o n√∫mero contado de avisos ser√° reescrito nos metadados do release. </li></ol><br>  Pouco a pouco, mas de forma constante (como na catraca), o n√∫mero de avisos tender√° a zero.  Obviamente, o sistema pode ser enganado introduzindo um novo aviso, mas corrigindo o de outra pessoa.  Isso √© normal, porque a longa dist√¢ncia d√° o resultado: os avisos s√£o geralmente corrigidos, n√£o individualmente, mas imediatamente por um grupo de um determinado tipo, e todos os avisos facilmente eliminados s√£o rapidamente eliminados. <br><br>  Este gr√°fico mostra o n√∫mero total de avisos do Checkstyle por meio ano trabalhando com uma catraca em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um de nossos projetos OpenSource</a> .  O n√∫mero de avisos diminuiu em uma ordem de magnitude, e isso aconteceu naturalmente, paralelamente ao desenvolvimento do produto! <br><br><img src="https://habrastorage.org/webt/ye/wa/u5/yewau5w494aa0vpkaevdydizoqm.png" width="500"><br><br>  Eu uso uma vers√£o modificada desse m√©todo, contando separadamente avisos divididos por m√≥dulos de projeto e ferramentas de an√°lise; o arquivo YAML gerado com metadados de montagem √© semelhante a este: <br><br><pre><code class="plaintext hljs">celesta-sql: checkstyle: 434 spotbugs: 45 celesta-core: checkstyle: 206 spotbugs: 13 celesta-maven-plugin: checkstyle: 19 spotbugs: 0 celesta-unit: checkstyle: 0 spotbugs: 0</code> </pre> <br>  Em qualquer sistema avan√ßado de CI, o "catraca" pode ser implementado para qualquer ferramenta de an√°lise est√°tica, sem depender de plug-ins e ferramentas de terceiros.  Cada um dos analisadores produz seu relat√≥rio em um formato simples de texto ou XML, f√°cil de analisar.  Resta registrar apenas a l√≥gica necess√°ria no script do IC.  Voc√™ pode ver como isso √© implementado em nossos projetos de c√≥digo aberto baseados em Jenkins e Artifactory <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Ambos os exemplos dependem da biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ratchetlib</a> : o m√©todo <code>countWarnings()</code> conta as tags xml nos arquivos gerados pelo Checkstyle e Spotbugs, e <code>compareWarningMaps()</code> implementa a mesma catraca, <code>compareWarningMaps()</code> um erro quando o n√∫mero de avisos em qualquer uma das categorias aumenta. <br><br>  Uma implementa√ß√£o interessante da catraca √© poss√≠vel analisar a ortografia dos coment√°rios, literais de texto e documenta√ß√£o usando o aspell.  Como voc√™ sabe, ao verificar a ortografia, nem todas as palavras desconhecidas no dicion√°rio padr√£o est√£o incorretas; elas podem ser adicionadas ao dicion√°rio do usu√°rio.  Se voc√™ tornar um dicion√°rio personalizado parte do c√≥digo-fonte do projeto, a porta de qualidade para ortografia pode ser formulada da seguinte maneira: executar o aspell com um dicion√°rio padr√£o e personalizado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o deve</a> encontrar nenhum erro ortogr√°fico. <br><br><h2>  Sobre a import√¢ncia de corrigir a vers√£o do analisador </h2><br>  Em conclus√£o, o seguinte deve ser observado: n√£o importa como voc√™ integra a an√°lise ao seu pipeline de entrega, a vers√£o do analisador deve ser corrigida.  Se voc√™ permitir que o analisador atualize espontaneamente, ao montar a pr√≥xima solicita√ß√£o pull, poder√£o surgir novos defeitos que n√£o est√£o relacionados √† altera√ß√£o do c√≥digo, mas est√£o relacionados ao fato de que o novo analisador simplesmente consegue encontrar mais defeitos - e isso interromper√° o processo de recebimento de solicita√ß√µes pull. .  A atualiza√ß√£o do analisador deve ser uma a√ß√£o consciente.  No entanto, a corre√ß√£o rigorosa da vers√£o de cada componente do assembly geralmente √© um requisito necess√°rio e um t√≥pico para uma conversa em separado. <br><br><h2>  Conclus√µes </h2><br><ul><li>  A an√°lise est√°tica n√£o encontrar√° erros e n√£o melhorar√° a qualidade do seu produto como resultado de um √∫nico aplicativo.  Um efeito positivo na qualidade √© fornecido apenas pelo seu uso constante no processo de entrega. </li><li>  Procurar bugs n√£o √© a principal tarefa da an√°lise, a grande maioria das fun√ß√µes √∫teis est√° dispon√≠vel nas ferramentas de c√≥digo-fonte aberto. </li><li>  Implemente port√µes de qualidade com base nos resultados da an√°lise est√°tica no primeiro est√°gio do pipeline de entrega, usando catraca para o c√≥digo legado. </li></ul><br><h2>  Refer√™ncias </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Entrega cont√≠nua</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A. Kudryavtsev: An√°lise de programas: como entender que voc√™ √© um bom</a> relat√≥rio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programador</a> sobre diferentes m√©todos de an√°lise de c√≥digo (n√£o apenas est√°tico!) </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436868/">https://habr.com/ru/post/pt436868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436858/index.html">Esperanto, Elven e Klingon</a></li>
<li><a href="../pt436860/index.html">Dell e Alienware na CES 2019: um guia para todas as principais inova√ß√µes</a></li>
<li><a href="../pt436862/index.html">AMD Ryzen Matisse de terceira gera√ß√£o: Octa-Core Zen 2 com PCIe 4.0 para desktop</a></li>
<li><a href="../pt436864/index.html">Como testar sua pr√≥pria distribui√ß√£o de SO</a></li>
<li><a href="../pt436866/index.html">Como reconhecer projetos Agile falsos</a></li>
<li><a href="../pt436872/index.html">PGConf.Russia 2019 em breve</a></li>
<li><a href="../pt436874/index.html">Dan√ßas de ano novo em torno do adaptador FC ou uma hist√≥ria sobre qu√£o longe as causas do problema est√£o dos sintomas</a></li>
<li><a href="../pt436876/index.html">[SAP] SAPUI5 para manequins parte 1: um exerc√≠cio completo passo a passo</a></li>
<li><a href="../pt436878/index.html">O BERT √© um modelo de linguagem de ponta para 104 idiomas. Tutorial para iniciar o BERT localmente e no Google Colab</a></li>
<li><a href="../pt436880/index.html">No√ß√µes b√°sicas de modelo C ++: modelos de fun√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>