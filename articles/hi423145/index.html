<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯШИ ЁЯЪЧ ЁЯЪУ рдПрдХреНрд╕рдЯреЗрдВрд╢рди PHP рдФрд░ рдХреЛрдЯрд▓рд┐рди рдиреЗрдЯрд┐рд╡ред рднрд╛рдЧ рддреАрди, рд╢рд╛рдпрдж рдЕрдВрддрд┐рдо ЁЯШС ЁЯЪЕ ЁЯСйЁЯП╜тАНЁЯТ╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд╣рд▓реЗ рднрд╛рдЧ рдореЗрдВ , рдЙрдкрдХрд░рдг рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╛рдлреА рдмреБрдирд┐рдпрд╛рджреА рдмрд╛рддреЗрдВ рдмрддрд╛рдИ рдЧрдИ рд╣реИрдВред 

 рджреВрд╕рд░рд╛ рднрд╛рдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХреНрд╕рдЯреЗрдВрд╢рди PHP рдФрд░ рдХреЛрдЯрд▓рд┐рди рдиреЗрдЯрд┐рд╡ред рднрд╛рдЧ рддреАрди, рд╢рд╛рдпрдж рдЕрдВрддрд┐рдо</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/423145/"><img align="right" src="https://habrastorage.org/webt/o7/db/cw/o7dbcwsbe8kad4jkw84guc_2n4m.png">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣рд▓реЗ рднрд╛рдЧ рдореЗрдВ</a> , рдЙрдкрдХрд░рдг рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╛рдлреА рдмреБрдирд┐рдпрд╛рджреА рдмрд╛рддреЗрдВ рдмрддрд╛рдИ рдЧрдИ рд╣реИрдВред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреВрд╕рд░рд╛ рднрд╛рдЧ рдХреЗ</a> рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓, рд╡рд┐рдЪрд╛рд░реЛрдВ, рдпреЛрдЬрдирд╛рдУрдВ, рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдгред <br><br>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рд╕реА рдФрд░ рдХреЗ / рдПрди рдЗрдВрдЯрд░реЛрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рдФрд░ рдХрдЯреНрдЯрд░ рд╣реЛрдЧрд╛, рдмрд╣реБрдд рдореИрдХреНрд░реЛрдЬрд╝, рджрд░реНрдж, рдирд┐рд░рд╛рд╢рд╛ рдФрд░ "рдЕрдЪреНрдЫрд╛рдИ рдХреА рдХрд┐рд░рдгреЗрдВ"ред  рдмреЗрд╢рдХ рдЙрдкрд▓рдмреНрдзрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдХрд╣рд╛рдиреА рдХреЗ рд╕рд╛рде рдПрдХ рдЕрдзреНрдпрд╛рдп рд╣реЛрдЧрд╛ (рдЖрдкрдиреЗ рдЦреБрдж рдХреА рдкреНрд░рд╢рдВрд╕рд╛ рдирд╣реАрдВ рдХреА ... рдФрд░ рдПрдХ рдмреЛрдирд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рдПрдХ рдорд╣рд╛рдХрд╛рд╡реНрдп рдЬрд╛рдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдХрд╣рд╛рдиреАред <br><a name="habracut"></a><br>  <b>рдЕрд╕реНрд╡реАрдХрд░рдг:</b> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рднреА рдХреЛ PHP рдХреЗ рд▓рд┐рдП рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><h2>  рдЕрдзреНрдпрд╛рдп рдПрдХ  рдЕрдВрддрд░реНрдпрд╛рдореА рднреЛрд▓реЗ </h2><br>  рд╕реА рдореЗрдВ рдХреЗ / рдПрди рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ рдЪрдХреНрд░ рдХреЗ рдкрд╣рд▓реЗ рднрд╛рдЧ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИред  рддрджрдиреБрд╕рд╛рд░, рдпрд╣рд╛рдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ K / N рдореЗрдВ C рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВред <br><br>  <a href="">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ</a> рдмрд▓реНрдХрд┐ рдХрдВрдЬреВрд╕ рдФрд░ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕рд░рд▓ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХрд╛рдлреА рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред <br><br>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдЖрдкрдХреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди <b>.def рдХреЗ</b> рд╕рд╛рде рдПрдХ рд╡рд┐рд╢реЗрд╖ рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдиреЗ рдФрд░ рдЙрд╕рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">headers</span></span> = php.h</code> </pre> <br>  рдлрд┐рд░ рдЗрд╕реЗ <b>рд╕рд┐рдиреЗрдЯрд░реЙрдк</b> рдирд╛рдордХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдореЗрдВ <b>рдЦрд┐рд▓рд╛рдПрдВ</b> ред <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># cinterop -def php.def -o php</span></span></code> </pre><br>  рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ, рдЖрдкрдХреЛ <b>libvp.klib</b> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдорд┐рд▓реЗрдЧреА рдЬрд┐рд╕рдореЗрдВ llvm рдмрд┐рдЯрдХреЛрдб рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдореЗрдЯрд╛-рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрдЧреАред <br><br>  рдлрд┐рд░ рдЖрдк рд╕рдВрдХрд▓рди рдЪрд░рдг рдореЗрдВ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рднреВрд▓рдХрд░, рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ ( <code>#define</code> ) рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдФрд░ рдореИрдХреНрд░реЛрдЬрд╝ рдХрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># kotlinc -opt -produce static ${SOURCES} -l libphp.klib -o myLib</span></span></code> </pre><br>  рд▓реЗрдХрд┐рди рдПрдХ рдЕрддрд┐ рд╕реВрдХреНрд╖реНрдо рдЕрдВрддрд░ рд╣реИред  рдФрд░ рдПрдХ рдирд╣реАрдВред <br><br><h3>  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд░реВрдк рдореЗрдВ, рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рдЗрдХрдЯреНрдард╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </h3><br>  рдХреНрдпреЛрдВ?  рд▓реЗрдХрд┐рди рдХреНрдпреЛрдВрдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрдВрдХреНрддрд┐рдпрд╛рдБ php.h рдореЗрдВ рдореМрдЬреВрдж рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"php_version.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"zend.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"zend_sort.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"php_compat.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"zend_API.h"</span></span></span></span></code> </pre><br>  рдпрд╣рд╛рдВ рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ llvm рдЕрднреА рднреА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд▓рдЧрд╛ рд╣реБрдЖ рд╣реИ, рдФрд░ рдЗрд╕рдореЗрдВ <b>-I рд╕реНрд╡рд┐рдЪ рд╣реИ</b> , рдФрд░ рд╕рд┐рдВрдЯрд░рдЯреЙрдк рдореЗрдВ <b>-copt рд╕реНрд╡рд┐рдЪ рд╣реИ</b> ред  рдЦреИрд░, рдЖрдк рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВред  рдирддреАрдЬрддрди, рдЗрд╕ рддрд░рд╣ рдХреА рдХрдорд╛рдВрдб <b>php.h</b> рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред <br><br><pre> <code class="hljs mel"># cinterop -def my.def -o myLib -I${PHP_LIB_ROOT} -copt -I${PHP_LIB_ROOT} \ -copt -I${PHP_LIB_ROOT}/main \ -copt -I${PHP_LIB_ROOT}/Zend \ -copt -I${PHP_LIB_ROOT}/TSRM</code> </pre><br><h3>  рдореИрдХреНрд░реЛред  рдореИрдВ рддреБрдорд╕реЗ рдкреНрдпрд╛рд░ рдХрд░рддрд╛ рд╣реВрдБ рдФрд░ рдирдлрд░рдд рдХрд░рддрд╛ рд╣реВрдБ!  рдирд╣реАрдВ, рдореБрдЭреЗ рдЗрд╕рд╕реЗ рдирдлрд╝рд░рдд рд╣реИред </h3><br>  рдЖрдкрдХреЛ C&gt; K / N <code>#define</code> рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ <code>#define</code> рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ <br><blockquote>  рдкреНрд░рддреНрдпреЗрдХ C рдореИрдХреНрд░реЛ рдЬреЛ рдХрд┐рд╕реА рд╕реНрдерд┐рд░рд╛рдВрдХ рддрдХ рдлреИрд▓рддрд╛ рд╣реИ, рдХреЛ рдХреЛрдЯрд▓рд┐рди рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдиреНрдп рдореИрдХреНрд░реЛрдЬрд╝ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИрдВред </blockquote><br>  рдФрд░ рдлрд┐рд░ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ PHP рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдореИрдХреНрд░реЛ рдкрд░ рдПрдХ рдореИрдХреНрд░реЛ рд╣реИ рдФрд░ рдореИрдХреНрд░реЛ рдбреНрд░рд╛рдЗрд╡ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд░реЛрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реИред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЗ рдЗрд░реНрдж-рдЧрд┐рд░реНрдж рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, K / N рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ <b>рдХрд╕реНрдЯрдо рдШреЛрд╖рдгрд╛рдУрдВ рдХреЛ</b> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрд▓реЗ рдмрд┐рдЬрд▓реА рдХреЗ рдЯреЗрдк рдХрд╛ рдПрдХ рд░реЛрд▓ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдХреНрд░реЛ <code>Z_TYPE_P</code> ) <br><br><pre> <code class="cpp hljs">headers = php.h --- <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> zend_uchar __zp_get_arg_type(zval *z_value) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Z_TYPE_P(z_value); }</code> </pre> <br>  рдЕрдм K / N рдХреЛрдб рдореЗрдВ <code>__zp_get_arg_type</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ <br><br><h2>  рдЕрдзреНрдпрд╛рдп рджреЛ  PHP INI- рд╕реЗрдЯрд┐рдВрдЧ рдпрд╛ рдПрдХ рд╕рдм-рд╕рдм рдореИрдХреНрд░реЛред </h2><br>  рдпрд╣ PHP рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдХреА рдУрд░ рдПрдХ "рдЕрдЪреНрдЫреА рдХрд┐рд░рдг" рд╣реИред <br><br>  рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП 4 рдореИрдХреНрд░реЛ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs">INI_INT(val) INI_FLT(val) INI_STR(val) INI_BOOL(val)</code> </pre><br>  рдЬрд╣рд╛рдВ <code>val</code> рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИред <br><br>  рдЕрдм рдЖрдЗрдП <code>INI_STR</code> рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рдореИрдХреНрд░реЛ рдХреИрд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> INI_STR(name) zend_ini_string_ex((name), sizeof(name)-1, 0, NULL)</span></span></code> </pre> <br>  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдкрдиреЗ "рдШрд╛рддрдХ рджреЛрд╖" рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛? <br><br>  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛ рджреВрдВ - рдпрд╣ <code>sizeof</code> рд╕рдорд╛рд░реЛрд╣ рд╣реИред  рдЬрдм рдЖрдк рд╕реАрдзреЗ рдореИрдХреНрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ: <br><br><pre> <code class="cpp hljs">php_printf(<span class="hljs-string"><span class="hljs-string">"The value is : %s"</span></span>, INI_STR(<span class="hljs-string"><span class="hljs-string">"my.ini"</span></span>));</code> </pre> <br>  рдЬрдм рдЖрдк <b>.def</b> рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкреНрд░реЙрдХреНрд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЧрд╛рдбрд╝реА рдХрджреНрджреВ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреА рд╣реИ, рдФрд░ <b>рдЖрдХрд╛рд░ (рдирд╛рдо)</b> рд╕реВрдЪрдХ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рджреЗрддрд╛ рд╣реИред  рдЪреЗрдХрдореЗрдЯ рдХреЛрдЯрд▓рд┐рди рдиреЗрдЯрд┐рд╡ред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЪрдХреНрдХрд░ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рджреЛ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВред <br><br><ol><li>  рдореИрдХреНрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рдХрд╛рд░реНрдп рдЬреЛ рд╡реЗ рд╕рдВрд▓рдЧреНрди рд╣реИрдВред </li><li>  рд╣рд╛рд░реНрдбрдХреЛрдб рдЖрд╡рд░рдг рдкреНрд░рддреНрдпреЗрдХ рдЖрд╡рд╢реНрдпрдХ рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </li></ol><br>  рдкрд╣рд▓рд╛ рд╡рд┐рдХрд▓реНрдк рджреВрд╕рд░реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╕рднреА рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╣реИ, рдПрдХ рдмрд┐рдВрджреБ рдХреЛ рдЫреЛрдбрд╝рдХрд░ - рдХреЛрдИ рднреА рдЧрд╛рд░рдВрдЯреА рдирд╣реАрдВ рджреЗрдЧрд╛ рдХрд┐ рдореИрдХреНрд░реЛ рдШреЛрд╖рдгрд╛ рдирд╣реАрдВ рдмрджрд▓реЗрдЧреАред  рдЗрд╕рд▓рд┐рдП, рдореЗрд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ, рдЧрд╣рд░реА рдЕрд╕рдВрддреЛрд╖ рдХреА рднрд╛рд╡рдирд╛ рдХреЗ рд╕рд╛рде, рджреВрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк рдЪреБрдирд╛ред <br><br><h2>  рдЕрдзреНрдпрд╛рдп рддреАрди  рдбрд┐рдмрдЧ?  рдХреНрдпрд╛ рдбреАрдмрдЧ? </h2><br><h3>  рдПрдХреНрдЯ 1 - рдЗрдВрдЯрд░реЛрдкред </h3><br>  рдПрдХ рдмрд┐рдВрджреБ рдкрд░, 20 рд▓рдЧрд╛рддрд╛рд░ рдкреНрд░реЙрдХреНрд╕реА рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреА рдлрд╝рд╛рдЗрд▓ рдХреЛ рдмреНрд▓реВ рдЯреЗрдк рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореБрдЭреЗ рдПрдХ рдЕрджреНрднреБрдд рддреНрд░реБрдЯрд┐ рдорд┐рд▓реАред <br><br><pre> <code class="hljs powershell">Exception <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thread <span class="hljs-string"><span class="hljs-string">"main"</span></span> java.lang.Error: /tmp/tmp399964332777824085.c:<span class="hljs-number"><span class="hljs-number">103</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span>: error: too many arguments to <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">2</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">have</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">3</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexer</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UtilsKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ensureNoCompileErrors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Utils.kt:137)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexer</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IndexerKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexDeclarations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Indexer.kt:902)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexer</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IndexerKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildNativeIndexImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Indexer.kt:892)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexer</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NativeIndexKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildNativeIndex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(NativeIndex.kt:56)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gen</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jvm</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">processCLib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(main.kt:283)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">native</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gen</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jvm</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(main.kt:38)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cli</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">utilities</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InteropCompilerKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">invokeInterop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InteropCompiler.kt:100)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">at</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">org</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jetbrains</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kotlin</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cli</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">utilities</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainKt</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(main.kt:29)</span></span></span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m_/sg/xb/m_sgxb-qifca4cx1tccuvbxa6ra.png"></div><br>  рдЖрдзрд╛ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рдХрд░реЗрдВ, рдлрд┐рд░ рд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ, рдпрджрд┐ рдмрд╛рдХреА рдХреЗ рдЖрдзреЗ рд╣рд┐рд╕реНрд╕реЗ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рджреЛрд╣рд░рд╛рдИ рдЬрд╛рддреА рд╣реИ, рддреЛ рд╣рдо рдПрдХрддреНрд░ рдХрд░рддреЗ рд╣реИрдВ ... рдФрд░ рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рд╣реЗрдбрд░ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛рдлреА рд▓рдВрдмреА рд╣реИ ... (рд╣рд╛рдБ, рдпрд╣ рдПрдХ рджрд░реНрдЬрди рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдкрд░ рдЪрдврд╝рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬреА рд╕реЗ рд▓рдЧ рд░рд╣рд╛ рдерд╛ рдФрд░ рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рдЖрд╡рд░реНрдзрдХ рдЧреНрд▓рд╛рд╕, рд╕рд╛рдордВрдЬрд╕реНрдп рдХреЗ рд╕рд╛рде)ред <br><br>  рджреВрд╕рд░рд╛ "рд░реЗ рдХреА рдЧреБрдб" рдЬреЗрдЯрдмреНрд░реЗрди рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q0/9u/dd/q09uddpi04rrxoc76xnk5meecow.png"></div><br><h3>  рдЕрдзрд┐рдирд┐рдпрдо 2 - рдХреНрд░рдоред </h3><br>  рдореБрдЭреЗ рд░рдирдЯрд╛рдЗрдо <b>рд╕реЗрдЧрдореЗрдВрдЯреЗрд╢рди рдореЗрдВ рдЦрд░рд╛рдмреА рд╣реИ</b> ред  рдЕрдЪреНрдЫрд╛ рдареАрдХ рд╣реИ, рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИред  рдореИрдВ рдбрд┐рдмрдЧрд░ рдореЗрдВ рдЪрдврд╝ рд░рд╣рд╛ рд╣реВрдВред  рдЙрдореНрдореНрдо ... рдПрд╕рдЯреАрдП? <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">received</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">signal</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SIGSEGV</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Segmentation</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">fault</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">kfun</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:kotlinx.cinterop.toKString</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">kotlinx</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">cinterop</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">CPointer</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">kotlinx</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">cinterop</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">ByteVarOf</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">kotlin</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Byte</span></span>&gt;&gt;.()<span class="hljs-keyword"><span class="hljs-keyword">kotlin</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">String</span></span> () at /opt/buildAgent/work/<span class="hljs-number"><span class="hljs-number">4</span></span>d622a065c544371/Interop/Runtime/src/main/kotlin/kotlinx/cinterop/Utils.kt:<span class="hljs-number"><span class="hljs-number">402</span></span> <span class="hljs-number"><span class="hljs-number">402</span></span> /opt/buildAgent/work/<span class="hljs-number"><span class="hljs-number">4</span></span>d622a065c544371/Interop/Runtime/src/main/kotlin/kotlinx/cinterop/Utils.kt: No such file or directory.</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cr/nq/ek/crnqekwr9fheufvuxcc9ixhnsjc.png"></div><br><h2>  рдЕрдзреНрдпрд╛рдп рдЪрд╛рд░  рдореИрдВрдиреЗ рдЖрдкрдХреА рдЪрд╛рдп рдореЗрдВ рдЪрд╛рдп рдбрд╛рд▓реА рддрд╛рдХрд┐ рдЖрдк рдЪрд╛рдп рдкреАрддреЗ рд╕рдордп рдЪрд╛рдп рдкреА рд╕рдХреЗрдВред </h2><br>  рдпрд╣рд╛рдВ рдпрд╣ рдмрддрд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдореИрдВ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рд╕реЗ рдмрдХрд╡рд╛рд╕ рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдореИрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВред <br><br>  рдЖрдк рднрд╡рд┐рд╖реНрдп рдХреЗ рдкреАрдПрдЪрдкреА рд╡рд┐рд╕реНрддрд╛рд░ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реБрдП рдПрдХ рдбреАрдПрд╕рдПрд▓ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдлрд╝рдВрдХреНрд╢рди, рдХрдХреНрд╖рд╛рдУрдВ рдФрд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕рд╛рде рдХреЗ / рдПрди рдХреЛрдб рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдлрд┐рд░ <code>make</code> рд░рди рдХрд░рддреЗ <code>make</code> рдФрд░ рдЪрдорддреНрдХрд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ, рдПрдХ рддреИрдпрд╛рд░-рдирд┐рд░реНрдорд┐рдд рдкреБрд╕реНрддрдХрд╛рд▓рдп рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдкреАрдПрдЪрдкреА рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЛ 4 рдЪрд░рдгреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><ol><li>  C рдФрд░ K / N (рд╕рдорд╛рди <code>cinterop</code> ) рдХреЗ рдмреАрдЪ рдПрдХ рдкрд░рдд рдмрдирд╛рдирд╛ </li><li>  рд╡рд┐рд╕реНрддрд╛рд░ рд╕реА рдХреЛрдб рдкреАрдврд╝реА </li><li>  рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рди </li><li>  рд▓рдХреНрд╖реНрдп рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рд╕рдВрдХрд▓рди </li></ol><br>  рд▓рдХреНрд╖реНрдп K / N рдХреЛрдб рдореЗрдВ рдПрдХ PHP рд╡рд░реНрдЧ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝рдирд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рддрд╛рдХрд┐ рд╡рд░реНрдЧ <code>getInstance()</code> рд╡рд┐рдзрд┐ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХреЗред  рдФрд░ рдореИрдВ рдЗрд╕реЗ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рддрд╛рдХрд┐ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛред <br><br>  рд╕реА рдореЗрдВ, рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдПрдХ рдпрд╛ рджреЛ рдмрд╛рд░ рд╣рд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИред <br><br><pre> <code class="cpp hljs">zval *obj = <span class="hljs-built_in"><span class="hljs-built_in">malloc</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(zval)); object_init_ex(obj, myClass);</code> </pre> <br>  рдпрд╣ рд╕рд░рд▓ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ - рдЗрд╕реЗ рд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдХреЗ / рдПрди рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ <code>myClass</code> ... <br><br>  рд▓реЗрдХрд┐рди <code>zend_class_entry*</code> рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рд╡реИрд╢реНрд╡рд┐рдХ рдЪрд░ рд╣реИ, рдЬреЛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд╕реА рдХреЛрдб рдореЗрдВ рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рдЕрдЬреНрдЮрд╛рдд рдирд╛рдо рдХреЗ рд╕рд╛рде рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рдЕрдкрдиреЗ рд╣рд╛рде рджреЗрдЦреЛред  рдЖрдкрдХреЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ K / N рдХреЛрдб рд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрдЧрд╛ рдЬрд┐рд╕реЗ <code>myClass</code> рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреЛ рдЙрддреНрдкрдиреНрди рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИ, рд▓реЗрдХрд┐рди рд╕реА-рдХреЛрдб рд╕рдВрдХрд▓рд┐рдд рдирд╣реАрдВ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рддрдм рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЕрдВрддрдд: рдЗрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рд╕реЗ рджреЛ рдирдИ рдХрд▓рд╛рдХреГрддрд┐рдпреЛрдВ рдХрд╛ <b>рд╕рдорд╛рд╡реЗрд╢</b> рд╣реБрдЖ: <b>.h</b> рдФрд░ <b>.kt</b> рдХреЛрдб рдЬрдирд░реЗрд╢рди рдХреЗ рдЪрд░рдг рдореЗрдВ, рд╕рд┐рдВрдЯрд░рдЯреЙрдк рдЪрд░рдг рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдФрд░ рдПрдкрд┐рдХ рдлреЗрдХреИрдк, рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореИрдВ рдмрд╣реБрдд рдЕрдВрдд рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред <br><br><h2>  рдЕрдзреНрдпрд╛рдп рдкрд╛рдБрдЪ  рдореЗрд░реЗ рдирд╛рдо рдореЗрдВ рдХреНрдпрд╛ рд╣реИ? </h2><br>  рдХреНрдпреЛрдВ рдХреА рдХрдерд╛: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ArgumentType</span></span> { PHP_STRING, PHP_LONG, PHP_DOUBLE, PHP_NULL, ... }</code> </pre> <br>  рдЗрд╕рд╕реЗ рдмреЗрд╣рддрд░: <br><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArgumentType</span></span></span><span class="hljs-class"> {</span></span> STRING, LONG, DOUBLE, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ... }</code> </pre> <br>  рд╣рд╛рдВ, рдЗрд╕реЗ рд╕рдордЭрд╛рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╡рд╣реА рд╣реИ рдЬреЛ <code>ArgumentType.NULL</code> рдХреЛрдЯрд▓рд┐рди рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреА рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> extension_kt_kref_php_extension_dsl_ArgumentType (*get)(); <span class="hljs-comment"><span class="hljs-comment">/* enum entry for NULL. */</span></span> } <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>;</code> </pre> <br>  рдФрд░ рдпрд╣ рдХреИрд╕реЗ gcc рдЗрд╕ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="hljs pgsql">/root/simpleExtension/phpmodule/extension_kt_api.h:<span class="hljs-number"><span class="hljs-number">113</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>: error: expected identifier <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">'('</span></span> <span class="hljs-keyword"><span class="hljs-keyword">before</span></span> <span class="hljs-string"><span class="hljs-string">'void'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; ^</code> </pre><br>  рдкрд░реНрджрд╛!  рдирд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рд╣рд░ рджреЗрдЦреЛред <br><br><h2>  рддрдкрд╕реНрдпрд╛ рдЕрдзреНрдпрд╛рдпред  рдЖрдк рдЦреБрдж рдХреА рдкреНрд░рд╢рдВрд╕рд╛ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ - рдХреЛрдИ рднреА рдЖрдкрдХреА рдкреНрд░рд╢рдВрд╕рд╛ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред </h2><br>  рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░, рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд▓рдХреНрд╖реНрдп рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд▓рд┐рдП рд╣реИрдВред  рдЗрд╕ рд╡рд┐рд╖рдп рдореЗрдВ рдбреВрдмреЗ, рдХреЛрдЯрд▓рд┐рди рдиреЗрдЯрд┐рд╡ рдкрд░ PHP рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП "рд░реВрдкрд░реЗрдЦрд╛" рддреИрдпрд╛рд░ рд╣реИред  рдпрд╣ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг, рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдФрд░ рдкреЙрд▓рд┐рд╢ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдирд╣реАрдВ рд╣реИред <br><br>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЦреБрдж рдФрд░, рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛ рдкреНрд░рд▓реЗрдЦрди, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм рдкрд░</a> рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдореИрдВ K / N рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ?  рдХреЗрд╡рд▓ рдЕрдЪреНрдЫрд╛ рд╣реИред  рдЗрд╕ рдкрд░ рд▓рд┐рдЦрдирд╛ рдПрдХ рдЦреБрд╢реА рд╣реИ, рдФрд░ рдЫреЛрдЯреЗ рд╢реЛрд▓реЗ рдФрд░ рдЦреБрд░рджрд░рд╛рдкрди рдХреЛ рдЗрд╕ рддрдереНрдп рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдард╣рд░рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдХреНрд░реИрдбрд▓ рд╕реЗ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдирд┐рдХрд▓рд╛ рд╣реИ :) <br><br><h2>  рдЖрдЦрд┐рд░реА рдЕрдзреНрдпрд╛рдпред  рдмрд┐рдирд╛ рдХреЛрдЯреНрд╕ рдХреЗ, рдЕрдЪреНрдЫреА рдХреА рдХрд┐рд░рдгреЗрдВред </h2><br>  рдФрд░ рдЕрдм, рдкреВрд░реА рдЧрдВрднреАрд░рддрд╛ рд╕реЗ рдФрд░ рдЧрд╣рд░реЗ рд╕рдореНрдорд╛рди рдХреЗ рд╕рд╛рде, рдореИрдВ JetBrains рдХреЗ рд▓реЛрдЧреЛрдВ рдФрд░ Kotlin рдиреЗрдЯрд┐рд╡ рд╕реНрд▓реИрдм рдЪреИрдирд▓ рдХреЗ рдирд┐рд╡рд╛рд╕рд┐рдпреЛрдВ рдХреЛ рдзрдиреНрдпрд╡рд╛рдж рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдЖрдк рд╕реБрдкрд░ рд╣реИрдВ! <br><br>  рдФрд░ <b>рдирд┐рдХреЛрд▓рд╕ рдЗрдЧреЛрдЯреА</b> рдХреЛ рд╡рд┐рд╢реЗрд╖ рдзрдиреНрдпрд╡рд╛рджред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/gr/px/tngrpxjotuvwziojqifyaxff5-y.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d1/5r/sn/d15rsndzgsxzin-aeglanekvtv4.png"></div><br><h2>  рдмреЛрдирд╕ред  рдорд╣рд╛рдХрд╛рд╡реНрдп рдлрдХрдкред </h2><br>  рдЪреМрдереЗ рдЕрдзреНрдпрд╛рдп рдореЗрдВ рдкреНрд░рд╕рдВрдЧ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рджрд░рдЕрд╕рд▓, рдЬрдм рд╕рдм рдХреБрдЫ рдПрдХ рдРрд╕реА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛ рдЬрд┐рд╕рдореЗрдВ рдЗрд╕реЗ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдПрдХ рд╕рдорд╕реНрдпрд╛ рдкреИрджрд╛ рд╣реБрдИ - рдкрд░реАрдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди, PHP рдиреЗ рдореБрдЭреЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдкрд░рд┐рдЪрд┐рдд рдкрдХреНрд╖ рд╕реЗ рдЦреЛрд▓рд╛ред <br><br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># php -dextension=./phpmodule/modules/extension.so -r </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"var_dump(ExampleClass::getInstance());"</span></span></span><span class="hljs-meta"> *RECURSION* #</span></span></code> </pre><br>  "Figase!"  - рдореИрдВрдиреЗ рд╕реЛрдЪрд╛, рдореИрдВ PHP рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рдорд┐рд▓рд╛ рдФрд░ рдРрд╕рд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛ рдорд┐рд▓рд╛ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> IS_OBJECT: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Z_IS_RECURSIVE_P(struc)) { PUTS(<span class="hljs-string"><span class="hljs-string">"*RECURSION*\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre> <br>  рдбрд┐рдмрдЧрд┐рдВрдЧ рдЬреЛрдбрд╝рдирд╛: <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%u"</span></span>, Z_IS_RECURSIVE_P(struc))</code> </pre> <br>  рдХреЗ рдиреЗрддреГрддреНрд╡ рдореЗрдВ: <br><br><pre> <code class="hljs pgsql">undefined symbol: Z_IS_RECURSIVE_P <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Unknown</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  "Figase!"  рдореИрдВрдиреЗ рдлрд┐рд░ рд╕реЛрдЪрд╛ред <br><br>  рдЙрд╕ рд╕рдордп, рдЬрдм рдореИрдВрдиреЗ php.h (7.1.8) рдХреЛ рджреЗрдЦрдиреЗ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛ рдерд╛, рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рд╣реЛрд╕реНрдЯ рдкрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рди рдХрд┐ рдорд╛рд╕реНрдЯрд░ рдмреНрд░рдВрдЪ (7.3.x) рд╕реЗ рдЬреАрдердм рд╕реЗ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛ рдПрдХ рджрд┐рдиред  рд╕реАрдзреЗ рд▓рдЬреНрдЬрд┐рдд рд╣реБрдПред <br><br>  рд▓реЗрдХрд┐рди, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛, рдпрд╣ рдПрдХ рдЕрдЯреЗрд░рди рдирд╣реАрдВ рдерд╛ред <br><br>  рдореИрдВрдиреЗ рдЬрд┐рд╕ рд╡рд╕реНрддреБ рдХреЗ рдЬреАрд╡рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛, рдЙрд╕рдХреЗ рд╕рднреА рдЪрд░рдгреЛрдВ рдореЗрдВ рд╕рд╣реА рдкреБрдирд░рд╛рд╡рд░реНрддрди рдЬрд╛рдБрдЪ рдХреЛрдб, рдиреЗ рдмрддрд╛рдпрд╛ рдХрд┐ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдФрд░ рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЙрди рдЬрдЧрд╣реЛрдВ рдХреЛ рдзреНрдпрд╛рди рд╕реЗ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд┐рдиреНрд╣реЗрдВ рдореИрдВ рдирд┐рдпрдВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реВрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдПрдХ рдРрд╕реА рдЪреАрдЬ рдереА - рдЬрд┐рд╕рдореЗрдВ рдореЗрд░рд╛ рдСрдмреНрдЬреЗрдХреНрдЯ <code>var_dump</code> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ рд╣реИ <br><br><pre> <code class="cpp hljs">RETURN_OBJ( example_symbols()-&gt;kotlin.root.php.extension.proxy.objectToZval( example_symbols()-&gt;kotlin.root.exampleclass.getInstance(<span class="hljs-comment"><span class="hljs-comment">/* */</span></span>) ) )</code> </pre> <br>  рдореИрдХреНрд░реЛ RETURN_OBJ рдХреЛ рдЕрдВрдд рддрдХ рдЦреЛрд▓реЗрдВред  рддрдВрддреНрд░рд┐рдХрд╛ рдФрд░ рдЧрд░реНрднрд╡рддреА рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдиреЗ рд╕реЗ рджреВрд░! <br><br><pre> <code class="cpp hljs"><span class="hljs-number"><span class="hljs-number">1</span></span>) RETURN_OBJ(r) <span class="hljs-number"><span class="hljs-number">2</span></span>) { RETVAL_OBJ(r); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-number"><span class="hljs-number">3</span></span>) { ZVAL_OBJ(return_value, r); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-number"><span class="hljs-number">4</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { zval *__z = (return_value); Z_OBJ_P(__z) = (r); Z_TYPE_INFO_P(__z) = IS_OBJECT_EX; } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-number"><span class="hljs-number">5</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { zval *__z = (return_value); Z_OBJ(*(__z)) = (r); Z_TYPE_INFO(*(__z)) = (IS_OBJECT | (IS_TYPE_REFCOUNTED &lt;&lt; Z_TYPE_FLAGS_SHIFT)); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-number"><span class="hljs-number">6</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { zval *__z = (return_value); (*(__z)).value.obj = (r); (*(__z)).u1.type_info = (<span class="hljs-number"><span class="hljs-number">8</span></span> | ((<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;<span class="hljs-number"><span class="hljs-number">0</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre> <br>  рдпрд╣рд╛рдВ рддрдм рдореБрдЭреЗ рджреВрд╕рд░реА рдмрд╛рд░ рд╢рд░реНрдо рдорд╣рд╕реВрд╕ рд╣реБрдИред  рдореИрдВ, рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдкрдиреА рдиреАрд▓реА рдЖрдБрдЦ рдкрд░, <code>zval*</code> <code>zend_object*</code> рдЗрдВрддрдЬрд╝рд╛рд░ рдХрд░ рд░рд╣рд╛ <code>zend_object*</code> рдФрд░ рд▓рдЧрднрдЧ рджреЛ рджрд┐рди рддреНрд░реБрдЯрд┐ рдХреА рдЦреЛрдЬ рдореЗрдВ рдмрд┐рддрд╛рдПред <br><br>  рд╕рднреА рдХреЛ рдХреЛрдЯрд▓рд┐рди рдХрд╛ рд╢реБрдХреНрд░рд┐рдпрд╛!  :) <br><br>  рдкреБрдирд╢реНрдЪред  рдпрджрд┐ рдПрдХ рджрдпрд╛рд▓реБ рдЖрддреНрдорд╛ рд╣реИ рдЬреЛ рдореЗрд░реА рдЕрдирд╛рдбрд╝реА рдЕрдВрдЧреНрд░реЗрдЬреА рдкрдврд╝рддреА рд╣реИ рдФрд░ рдкреНрд░рд▓реЗрдЦрди рдХреЛ рдареАрдХ рдХрд░рддреА рд╣реИ - рддреЛ рдореЗрд░реА рдХреГрддрдЬреНрдЮрддрд╛ рдХреА рдХреЛрдИ рд╕реАрдорд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi423145/">https://habr.com/ru/post/hi423145/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi423135/index.html">рд╣реИрдкреНрдкреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдбреЗ: рдмрдЪреНрдЪреЛрдВ рдХреЗ рд▓рд┐рдП рдХрдИ рд╢реИрдХреНрд╖рд┐рдХ рд░реЛрдмреЛрдЯ рдбрд┐рдЬрд╛рдЗрдирд░</a></li>
<li><a href="../hi423137/index.html">рдЖрдкрдХреА рдЙрддреНрдкрд╛рджрдХрддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП GitHub рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди</a></li>
<li><a href="../hi423139/index.html">рдмрд╛рдбрд╝ рдореЗрдВ рдЫреЗрдж, рдкреНрд░рднрд╛рд╡реА рдкреНрд░рдмрдВрдзрдХреЛрдВ рдФрд░ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ</a></li>
<li><a href="../hi423141/index.html">рдХреНрд▓рд╛рдЙрдб рд╢реИрдирди: рдПрдХ рдкреНрд░рддрд┐рднрд╛ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХреИрд╕реЗ рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi423143/index.html">рдЕрдХреНрдЯреВрдмрд░ рд╕реНрд▓рд░рдо: рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкрд░ рдЧрд╣рди</a></li>
<li><a href="../hi423147/index.html">рд╣рдбреЛрдк рдпреБрдЧ рдореЗрдВ рднрдВрдбрд╛рд░рдг рд░рдгрдиреАрддрд┐ рдФрд░ рдкреНрд░рд╛рд░реВрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi423149/index.html">рд░реАрдПрд▓рдПрдХреНрд╕ рдПрд╕рдПрдордИрдПрд▓ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╕рдордп рд▓реЗрдЬрд░ рдорд╛рдпреЛрдкрд┐рдпрд╛ рд╕реБрдзрд╛рд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдпрд╛ рдЖрдк рдЬреЛ рднреБрдЧрддрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдЙрд╕рдХреА рдкреНрд░рддреНрдпрдХреНрд╖ рддреБрд▓рдирд╛</a></li>
<li><a href="../hi423151/index.html">PHP рдореЗрдВ рд╡реИрд╢реНрд╡рд┐рдХ рд╡рд╕реНрддреБрдПрдБ</a></li>
<li><a href="../hi423153/index.html">Node.js рдЧрд╛рдЗрдб, рднрд╛рдЧ 2: рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ, V8, рдХреБрдЫ рд╡рд┐рдХрд╛рд╕ рдЯреНрд░рд┐рдХреНрд╕</a></li>
<li><a href="../hi423155/index.html">рдПрдордЖрдИрдЯреА рдкрд╛рдареНрдпрдХреНрд░рдо "рдХрдВрдкреНрдпреВрдЯрд░ рд╕рд┐рд╕реНрдЯрдо рд╕реБрд░рдХреНрд╖рд╛"ред рд╡реНрдпрд╛рдЦреНрдпрд╛рди 8: рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдореЙрдбрд▓, рднрд╛рдЧ 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>