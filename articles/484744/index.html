<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤ ‚è≥ üï∫üèª Como hice sombras 2D en Unity üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® üë©üèº‚Äç‚öïÔ∏è üíë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øQu√© viene a la mente de un desarrollador de juegos independiente cuando se enfrenta a la necesidad de agregar una caracter√≠stica que no tiene idea so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como hice sombras 2D en Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484744/">  ¬øQu√© viene a la mente de un desarrollador de juegos independiente cuando se enfrenta a la necesidad de agregar una caracter√≠stica que no tiene idea sobre la implementaci√≥n?  Por supuesto, va a buscar rastros de aquellos que ya han recorrido este camino y se han molestado en escribir su experiencia.  As√≠ lo hice hace alg√∫n tiempo, comenzando a crear sombras en mi juego.  Encontrar la informaci√≥n correcta, en forma de art√≠culos, lecciones y gu√≠as, no fue dif√≠cil.  Sin embargo, para mi sorpresa, descubr√≠ que ninguna de las soluciones descritas simplemente me conven√≠a.  Por lo tanto, habiendo realizado el m√≠o, decid√≠ contarle al mundo sobre eso. <br><br>  Vale la pena advertir de antemano que este texto no pretende ser una especie de gu√≠a de ultim√°tum o clase magistral.  El m√©todo que utilic√© puede no ser universal, lejos de ser el m√°s efectivo y no cubre la tarea de crear sombras bidimensionales en su totalidad.  Es m√°s bien una historia sobre los trucos a los que un desarrollador inexperto tuvo que recurrir para lograr un resultado que satisfaga sus requisitos. <br><br>  El resultado en s√≠ mismo est√° ante ti: <br><br> <a href=""><img src="https://habrastorage.org/webt/-y/kc/nf/-ykcnfou6b_na1a44jvq-v3-nts.png"></a> <br><br>  Y los detalles del camino hacia su logro te est√°n esperando bajo el corte. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Un poco sobre el juego en s√≠</b> <div class="spoiler_text">  Dwarfinator es un juego de disparos de defensa lateral / desplazamiento lateral bidimensional desarrollado con un ojo puesto en los segmentos m√≥viles y de escritorio.  La jugabilidad consiste en la destrucci√≥n sistem√°tica de las olas enemigas en dos modos alternos: defensa y persecuci√≥n.  La progresi√≥n de un jugador implica bombear un "tanque" mejorando y reemplazando varios elementos del mismo, como armas, motores y ruedas, as√≠ como elevando el nivel y aprendiendo habilidades activas y pasivas.  La progresi√≥n del entorno implica un aumento constante en el n√∫mero de mobs en la ola, la adici√≥n de nuevos tipos de enemigos a la ola a medida que avanzan a trav√©s de la ubicaci√≥n y el cambio sucesivo de varias ubicaciones, cada una de las cuales tiene su propio conjunto de oponentes. <br></div></div><br><h3>  Declaraci√≥n del problema. </h3><br>  Entonces, en el momento de la decisi√≥n de agregar sombras al juego, ten√≠a: <br><br><ul><li>  ubicaci√≥n en forma de dos sprites, uno para mostrar detr√°s de mobs y otras entidades, el segundo para mostrar delante de ellos; </li></ul><br> <a href=""><img src="https://habrastorage.org/webt/7e/e7/8s/7ee78soifwhkx6g3bgetf4nvfhy.png"></a> <br><br><ul><li>  mobs y objetos destructibles est√°ticos, constantemente animados y consistentes en sprites separados en una cantidad de unas pocas a unas pocas docenas; </li></ul><br><img src="https://habrastorage.org/webt/yp/ea/my/ypeamyommcilthpim0gr2o820mu.png"><br><br><ul><li>  proyectiles, propios y enemigos, representados en la mayor√≠a de los casos por un sprite o un sistema de part√≠culas, en este √∫ltimo caso no se requer√≠a sombra; </li></ul><br><img src="https://habrastorage.org/webt/bt/9n/ml/bt9nmlkym2iuq6qtrqntzkzil7s.png"><br><br><ul><li>  un tanque que consta de varias partes ensambladas de acuerdo con el mismo esquema que las turbas; </li></ul><br><img src="https://habrastorage.org/webt/uv/1y/ed/uv1yedokb8lqcxfwmt788egsvne.png"><br><br><ul><li>  paredes con varios estados fijos, que, nuevamente, son un conjunto de sprites separados. </li></ul><br><img src="https://habrastorage.org/webt/3f/we/7s/3fwe7srgtopajqnn6rvg3kyoiq4.png"><br><br>  Para todo esto, se necesitaban las sombras m√°s simples, repitiendo los contornos del objeto y proyectados desde una √∫nica fuente de luz fija. <br><br>  Al mismo tiempo, uno debe tener una actitud entusiasta hacia la productividad.  Debido a los detalles del g√©nero y las peculiaridades de su implementaci√≥n, la mayor√≠a de los objetos que proyectan sombras se encuentran directamente en la pantalla en cualquier momento.  Y su n√∫mero total puede ser m√°s de cien, si hablamos de entidades de juego, y un par de miles, si hablamos de sprites individuales. <br><br><h3>  Implementaci√≥n </h3><br>  En realidad, el problema principal result√≥ ser que Dwarfinator, en t√©rminos generales, es un juego 2.5D.  La gran mayor√≠a de los objetos existen en el espacio bidimensional con los ejes X e Y, y el eje Z se usa extremadamente raramente.  Visualmente, y en parte en el juego, el eje Y se usa para mostrar tanto la altura como la profundidad, dividi√©ndose de la misma manera en los ejes virtuales Y y Z. No era posible usar herramientas est√°ndar de Unity en tal situaci√≥n para crear sombras. <br><br>  Pero, de hecho, no necesitaba una iluminaci√≥n honesta, era suficiente para poder crear manualmente una sombra para cada objeto.  Por lo tanto, lo m√°s simple que se me ocurri√≥ fue simplemente colocar una copia detr√°s de cada entidad, rotada en un espacio tridimensional para simular una ubicaci√≥n en la superficie.  Todos los sprites de esta pseudo-sombra se pusieron en negro, mientras que la estructura jer√°rquica del propietario de la sombra se conserv√≥, lo que permiti√≥ que el mismo animador lo animara en sincronizaci√≥n con el propietario. <br><br>  Tal animaci√≥n sincr√≥nica se parec√≠a a esto: <br><br><img src="https://habrastorage.org/webt/wv/on/vc/wvonvcn2zlzubgo5orcwcjjuu5e.gif"><br><br>  Sin embargo, la sombra requer√≠a transparencia.  La soluci√≥n m√°s simple era configurarlo para cada objeto de sombra.  Pero tal implementaci√≥n no parec√≠a satisfactoria: los sprites se superpon√≠an entre s√≠, formando √°reas menos transparentes en el sitio de superposici√≥n. <br><br>  La captura de pantalla siguiente muestra c√≥mo se ve la sombra de varios segmentos transl√∫cidos.  Los par√°metros de distorsi√≥n de sombra utilizados tambi√©n son visibles: la rotaci√≥n a lo largo del eje X en -50 grados, la rotaci√≥n a lo largo del eje Y en -140 grados, y la escala a lo largo del eje X, aument√≥ 1.3 veces en relaci√≥n con el objeto padre. <br><br><img src="https://habrastorage.org/webt/6w/2k/m-/6w2km-vc4g_hhblm2fz3tofrdzq.png"><br><br>  Se hizo evidente que la transparencia deber√≠a imponerse a la sombra como un objeto s√≥lido.  El primer experimento sobre este tema fue colgar en la sombra de la c√°mara, renderizando esta sombra en RenderTexture, que luego se us√≥ como material adjunto al padre de la sombra del Plano.  Ya pod√≠a establecer la transparencia sin ning√∫n problema.  Las sombras mismas estaban fuera del marco para evitar la superposici√≥n de las √°reas de captura de la c√°mara.  El enfoque funcion√≥, pero result√≥ que ya un par de docenas de sombras causaron serios problemas de rendimiento, principalmente debido a la cantidad de c√°maras en el escenario.  Adem√°s, una serie de animaciones asumieron un movimiento significativo de sprites de mafia individuales dentro del marco de su objeto ra√≠z, debido a lo cual se debe ubicar un √°rea de c√°mara que exceder√≠a significativamente el tama√±o de la imagen real en un momento determinado. <br><br>  La soluci√≥n se encontr√≥ r√°pidamente: si no puede dibujar cada sombra con una c√°mara separada, ¬øpor qu√© no dibujar todas las sombras con una c√°mara?  Todo lo que ten√≠a que hacer era colocar un √°rea separada de la escena bajo la sombra, ligeramente m√°s alta que el campo de visi√≥n de la c√°mara principal, dirigir una c√°mara adicional a esta √°rea y mostrar su salida entre la ubicaci√≥n y otras entidades. <br><br>  A continuaci√≥n puede ver un ejemplo de la salida de esta c√°mara: <br><br> <a href=""><img src="https://habrastorage.org/webt/in/bt/vm/inbtvmwj2slb2wn8f8wqqqkhbke.png"></a> <br><br>  La productividad de tal implementaci√≥n sufri√≥ mucho menos, por lo que la soluci√≥n se consider√≥ funcional y se aplic√≥ a todos los mobs, objetos est√°ticos y proyectiles.  Esto fue seguido por la ubicaci√≥n del sprite.  Era imposible usar un sprite en todos los objetos, ya que se implement√≥ anteriormente.  Usar una copia de un objeto como su sombra solo funciona bien siempre que el objeto sea completamente plano.  Incluso al crear sombras para las turbas, se not√≥ que los puntos de contacto con la superficie espaciados a lo largo de la tercera coordenada violan la correcci√≥n de la sombra en relaci√≥n con estos puntos. <br><br>  La siguiente captura de pantalla muestra un ejemplo de tal violaci√≥n.  El tal√≥n de la mafia se toma como el punto de contacto con la superficie, pero las sombras de los pies ya est√°n m√°s all√° de los pies. <br><br><img src="https://habrastorage.org/webt/-d/zu/an/-dzuan6-5vwdisaiafgysqizvnc.png"><br><br>  Y si en el caso de las patas del ogro a√∫n puede cambiar ligeramente la posici√≥n de la sombra y enmascarar el problema, entonces, para varias docenas de troncos de √°rboles, no hay posibilidad.  Todos los objetos de ubicaci√≥n que se supon√≠a que proyectaban una sombra deber√≠an hacerse GameObject por separado.  Esto es exactamente lo que hice al colocar copias de los objetos destructibles correspondientes en la ubicaci√≥n prefabricada y deshabilitar los scripts que no se usan en esta posici√≥n.  Al mismo tiempo, gracias a esto, se hizo posible incluirlos en la clasificaci√≥n general de los objetos de la escena, y los proyectiles que volaban fuera de la ubicaci√≥n ya no se dibujaban estrictamente sobre todos los objetos, sino que volaban entre ellos.  Adem√°s, se hizo posible animar los propios objetos. <br><br>  Pero entonces un nuevo problema me esperaba.  Con sombras y docenas de nuevos objetos, el n√∫mero m√°ximo de GameObjects simult√°neamente en el escenario, y con ellos los componentes Animator y SpriteRenderer, se duplic√≥.  Cuando lanc√© toda la ola de mobs a la ubicaci√≥n, que ascend√≠a a unas 150 piezas, Profiler me mostr√≥ con reproche unos 40 ms, que solo fueron para renderizado y animaci√≥n, y la velocidad de fotogramas en su conjunto vari√≥ alrededor de 10. Optimic√© desesperadamente mis propios guiones, luchando por cada milisegundo, Pero eso no fue suficiente. <br><br>  En la b√∫squeda de herramientas de optimizaci√≥n adicionales, me encontr√© con la vasta documentaci√≥n y gu√≠as para el procesamiento por lotes din√°mico. <br><br><div class="spoiler">  <b class="spoiler_title">Un poco m√°s sobre el procesamiento por lotes</b> <div class="spoiler_text">  En resumen, el procesamiento por lotes es un mecanismo para minimizar el n√∫mero de llamadas de extracci√≥n y, con ello, el tiempo que se dedica al momento de representar el marco en la interacci√≥n entre la CPU y la GPU.  Cuando se usa en lugar de enviar cada elemento individualmente para la representaci√≥n, los elementos similares se agrupan y dibujan juntos a la vez.  En el caso de Unity, el motor en s√≠ mismo intenta aprovechar al m√°ximo este mecanismo y casi no se requiere ninguna acci√≥n adicional por parte del desarrollador. <br></div></div><br>  Frame Debugger demostr√≥ que tengo, en el mejor de los casos, los detalles de cada objeto o mafia por separado.  Despu√©s de haber creado sprites para el primer y segundo para el atlas, logr√© sombrear las sombras con solo unas pocas llamadas, pero los propietarios de estas sombras se negaron obstinadamente a luchar contra ellos mismos. <br><br>  Los experimentos en una escena separada mostraron que los lotes din√°micos se rompen cuando los objetos tienen un componente SortingGroup, que utilic√© para ordenar la visualizaci√≥n de entidades en la pantalla.  Sin embargo, en teor√≠a era posible prescindir de √©l, sin embargo, establecer los valores de clasificaci√≥n para cada sprite y sistema de part√≠culas en un objeto por separado podr√≠a resultar a√∫n m√°s costoso que la falta de procesamiento por lotes. <br><br>  Pero algo me persegu√≠a.  El objeto de sombra, al ser un descendiente del objeto anfitri√≥n en la escena real, t√©cnicamente pertenec√≠a al mismo grupo de clasificaci√≥n, sin embargo, no hubo problemas con el sombreado din√°mico de objetos de sombra.  La √∫nica diferencia era que los objetos anfitriones fueron dibujados directamente en la pantalla por la c√°mara principal, y los objetos de sombra se renderizaron primero en RenderTexture. <br><br>  Esta fue la trampa.  La raz√≥n exacta de este comportamiento es desconocida para Internet, pero al renderizar las im√°genes de la c√°mara en RenderTexture, SortingGroup ya no interrumpi√≥ el procesamiento por lotes.  La decisi√≥n parec√≠a muy extra√±a, il√≥gica y, en general, la m√°s muleta.  Pero al implementar el renderizado de entidades usando el mismo m√©todo que el renderizado de sombras, y habiendo obtenido, adem√°s de la capa de sombra, una capa de entidad, ya he logrado valores de rendimiento bastante aceptables. <br><br>  La captura de pantalla siguiente muestra un ejemplo de representaci√≥n de una capa de entidad. <br><br> <a href=""><img src="https://habrastorage.org/webt/vn/q_/r3/vnq_r3631min5ao58fksxjgcmt0.png"></a> <br><br>  Entonces, en general, la representaci√≥n de una determinada entidad en la coordenada Y se ve as√≠: <br><br><ol><li>  La entidad se coloca en Y - 20; </li><li>  Una entidad representa una entidad observando esta coordenada en una RenderTexture para entidades; </li><li>  La sombra de la entidad se coloca en Y + 20; </li><li>  Una c√°mara dibuja la sombra de una entidad observando esta coordenada en una RenderTexture para sombras; </li><li>  La c√°mara principal dibuja el sprite de ubicaci√≥n principal en la pantalla, el √∫nico elemento que actualmente se representa directamente en la pantalla; </li><li>  La c√°mara principal dibuja un plano en la pantalla con sombras de RenderTexture como material; </li><li>  La c√°mara principal dibuja un Plano en la pantalla con una RenderTextura de entidades como material. </li></ol><br>  Tal pastel de capas. <br><br>  En la captura de pantalla a continuaci√≥n, la c√°mara del editor est√° configurada en modo tridimensional para demostrar la ubicaci√≥n de las capas entre s√≠. <br><br> <a href=""><img src="https://habrastorage.org/webt/pz/ix/0v/pzix0vcz_uw8gh4yppbukrsujjw.png"></a> <br><br><h3>  Matices </h3><br>  Pero como result√≥ durante el proceso de replicar la decisi√≥n a otras entidades, el caso general no cubri√≥ todos los escenarios posibles.  Por ejemplo, hab√≠a entidades que estaban a cierta altura en relaci√≥n con la superficie, en particular, conchas y algunos caracteres de escena.  Adem√°s, los proyectiles tambi√©n ten√≠an la capacidad de rotar dependiendo de la direcci√≥n de su movimiento en la pantalla, debido a lo cual, adem√°s de establecer el punto de intersecci√≥n del objeto y su sombra, era necesario seleccionar la parte giratoria como un objeto secundario separado, para corregir la l√≥gica de rotaci√≥n del proyectil y su animaci√≥n. <br><br>  La siguiente captura de pantalla muestra un ejemplo de la rotaci√≥n de conchas y sus sombras. <br><br><img src="https://habrastorage.org/webt/53/a1/dm/53a1dm21tezb3p8wktfmfyibubu.png"><br><br>  Los personajes voladores, como las turbas voladoras planificadas, tambi√©n pueden moverse dentro de sus coordenadas Y virtuales, lo que requiere la creaci√≥n de un mecanismo para calcular la posici√≥n de la sombra desde la posici√≥n de su propietario en el eje Y virtual. <br><br>  El siguiente GIF muestra un ejemplo de mover un objeto en altura. <br><br><img src="https://habrastorage.org/webt/wh/m8/vz/whm8vzwjlsobsbyhzeapuggku4s.gif"><br><br>  Otro caso que sali√≥ del concepto general fue un tanque.  A diferencia de todas las otras entidades, el tanque tiene un tama√±o muy sustancial a lo largo del eje Z virtual, y la implementaci√≥n general de las sombras, como ya se mencion√≥, requiere que el objeto sea casi plano.  La forma m√°s f√°cil de evitar esto era dibujar manualmente formas de sombra para partes individuales del tanque, ya que pod√≠a colocar cualquier cosa en la capa de sombra. <br><br>  Para la construcci√≥n correcta de sombras dibujadas a mano, tuve que armar un dise√±o de l√≠neas basado en una captura de pantalla de una sombra existente, que se puede ver en la captura de pantalla a continuaci√≥n. <br><br><img src="https://habrastorage.org/webt/md/of/np/mdofnpoa7xwtlus9bkqvnalzpri.png"><br><br>  Si escala y coloca esta estructura de tal manera que la parte superior estar√° en alg√∫n punto del objeto principal y la parte inferior estar√° en el punto de contacto con la superficie, la esquina derecha de la estructura mostrar√° el lugar donde deber√≠a estar el punto de sombra correspondiente.  Habiendo proyectado varios puntos clave de esta manera, no es dif√≠cil construir toda la sombra sobre ellos. <br><br>  Adem√°s, las partes individuales del tanque podr√≠an tener diferentes alturas para unir partes secundarias, lo que, como en el caso de los personajes voladores y las turbas, requer√≠a un ajuste de la posici√≥n de las sombras de cada parte espec√≠fica. <br><br>  La siguiente captura de pantalla muestra el tanque, su ensamblaje de sombra y tambi√©n est√° en forma de partes separadas. <br><br><img src="https://habrastorage.org/webt/67/bu/5m/67bu5mgmclx_x53nv2efh9mxnqe.png"><br><br>  Las sombras de las paredes resultaron ser un dolor aparte.  En el momento del comienzo del trabajo en las sombras, las paredes eran de la misma naturaleza que los detalles del tanque: un objeto de varias docenas de sprites separados.  Sin embargo, las paredes ten√≠an varios estados controlados por el animador. <br><br>  Pensando mucho sobre qu√© hacer con ellos, llegu√© a la conclusi√≥n de que el concepto de muros debe cambiarse.  Como resultado, los muros se dividieron en secciones, cada una de las cuales tiene su propio conjunto de estados, su propio animador y su propia sombra.  Esto permiti√≥ utilizar el mismo enfoque para crear sombras para mobs paralelos al eje X, como con los mobs, y para aquellas secciones que no se ajustaban a esta regla, tuvieron que idear algo propio.  En algunos casos, tuve que crear mi propio animador para la sombra de la secci√≥n y establecer manualmente la posici√≥n de los sprites. <br><br>  Por ejemplo, en el caso de la secci√≥n que se muestra en la captura de pantalla a continuaci√≥n, la sombra se crea aplicando distorsi√≥n para cada registro individual en lugar de la secci√≥n completa. <br><br><img src="https://habrastorage.org/webt/bc/ef/sm/bcefsmatcqoghwbttkwfhbrpeme.png"><br><br><h3>  Conclusi√≥n </h3><br>  Eso, de hecho, es todo.  A pesar de todos los matices anteriores, la tarea original se complet√≥ por completo, y ahora mi proyecto cuenta con sombras bastante decentes, aunque de origen algo dudoso.  Espero que, gracias a este art√≠culo, para el pr√≥ximo desarrollador independiente que me hizo una pregunta similar, Internet sea un poco m√°s √∫til, si no como un ejemplo a seguir, al menos como un error de otra persona para su propio aprendizaje. </div></div><p>Source: <a href="https://habr.com/ru/post/484744/">https://habr.com/ru/post/484744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../484732/index.html">¬øQu√© es VMware y por qu√© es importante su compatibilidad con SSD?</a></li>
<li><a href="../484734/index.html">Lo que podr√≠a haberse presentado en el CES en los siglos XIX y XX.</a></li>
<li><a href="../484736/index.html">Linux: eliminar el grupo de bloqueo / dev / random</a></li>
<li><a href="../484738/index.html">Tutorial de integraci√≥n continua para Laravel 6 en Google Cloud Run</a></li>
<li><a href="../484740/index.html">Semana de la seguridad 04: problemas de cifrado en Windows 10</a></li>
<li><a href="../484750/index.html">Esquizofrenia: un cuidado</a></li>
<li><a href="../484752/index.html">Escribir un controlador de computadora port√°til para divertirse y obtener ganancias, o C√≥mo comprometerse con el kernel incluso si no es tan inteligente</a></li>
<li><a href="../484754/index.html">Intel no puede decidir qui√©n es m√°s r√°pido: Comet Lake o Ice Lake</a></li>
<li><a href="../484756/index.html">Teor√≠a de la informaci√≥n visual (parte 2)</a></li>
<li><a href="../484758/index.html">Lo que es com√∫n entre programar y comenzar un negocio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>