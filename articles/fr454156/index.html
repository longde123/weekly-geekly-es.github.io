<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧛🏽 💛 🤵🏿 Pneus et protocoles en automatisation industrielle: comment tout cela fonctionne 😿 🤸🏼 👩🏿‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Certes, beaucoup de gens vous connaissent ou ont même vu comment les gros objets automatisés sont gérés, par exemple, une centrale nucléaire ou une us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pneus et protocoles en automatisation industrielle: comment tout cela fonctionne</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454156/"><img src="https://habrastorage.org/webt/hr/zi/hu/hrzihuinrzvoeiifwgci9x5lo2y.jpeg"><br><br>  Certes, beaucoup de gens vous connaissent ou ont même vu comment les gros objets automatisés sont gérés, par exemple, une centrale nucléaire ou une usine avec de nombreuses lignes technologiques: l'action principale se déroule souvent dans une grande pièce, avec un tas d'écrans, de lumières et de télécommandes.  Ce complexe de contrôle est généralement appelé la salle de contrôle principale - le panneau de contrôle principal pour surveiller l'installation de production. <br><br>  Vous vous demandiez sûrement comment tout cela fonctionne en termes de matériel et de logiciels, et quel type de protocoles de transfert de données y sont utilisés.  Dans cet article, nous examinerons comment diverses données parviennent au panneau de commande principal, comment les commandes d'équipement sont envoyées et ce qui est nécessaire pour gérer une station de compression, une unité de production de propane, une chaîne de montage automobile ou même un système de pompage des eaux usées. <br><a name="habracut"></a><br><h2>  Le niveau inférieur ou le bus de terrain est l'endroit où tout commence </h2><br>  Cet ensemble obscur de mots est utilisé lorsqu'il est nécessaire de décrire les moyens de communication des appareils de commande avec des équipements subordonnés, par exemple des modules d'entrée-sortie ou des appareils de mesure. <br><br>  Par dispositifs de contrôle, nous entendons PLC, c'est-à-dire  contrôleurs logiques programmables (PLC anglais), ou PKA, c.-à-d.  contrôleurs d'automatisation programmables (Eng. PAC).  Il existe quelques différences entre PLC et PKA, cependant, dans le cadre de cet article, elles ne sont pas significatives, par conséquent, pour simplifier, nous utiliserons le terme général «contrôleur». <br><br>  Dans la communauté russophone des asushniks, le canal de communication entre le contrôleur et les autres appareils est généralement appelé "bus de terrain", car il est responsable du transfert des données provenant du "terrain". <br><br>  «Champ» est un terme professionnel profond pour désigner le fait que certains équipements (par exemple, capteurs ou actionneurs) avec lesquels le contrôleur interagit sont situés quelque part loin, très loin, dans la rue, dans les champs, à l'abri de la nuit.  Et peu importe que le capteur puisse être situé à un demi-mètre du contrôleur et mesurer, par exemple, la température dans l'armoire d'automatisation, il est toujours considéré comme «sur le terrain».  Le plus souvent, les signaux des capteurs arrivant aux modules d'E / S couvrent encore des distances de plusieurs dizaines à plusieurs centaines de mètres (et parfois plus), collectant des informations à partir de sites ou d'équipements distants.  En fait, par conséquent, le bus d'échange à travers lequel le contrôleur reçoit des valeurs de ces mêmes capteurs est généralement appelé un bus de terrain ou moins souvent un bus de niveau inférieur ou un bus industriel. <br><br>  Il convient de noter ici qu'en Europe et aux États-Unis, seuls les appareils situés «sur le terrain», mais pas le support de transmission de données, sont considérés comme étant au niveau du champ.  Dans les réalités russes, le terme «bus de terrain» ou «bus de niveau inférieur» est peut-être un peu flou et désigne une méthode de transfert de données des modules d'E / S vers le contrôleur et vice versa. <br><br><img src="https://habrastorage.org/webt/nc/wy/7v/ncwy7vvwgkgdgvgttmjig3nn2we.png"><br>  <i>Schéma général d'automatisation d'une installation industrielle</i> <br><br>  Ainsi, le signal électrique du capteur passe une certaine distance le long des lignes de câbles (le plus souvent le long du câble en cuivre habituel avec un certain nombre de noyaux), auquel plusieurs capteurs sont connectés.  Ensuite, le signal entre dans le module de traitement (module d'E / S), où il est converti en un langage numérique que le contrôleur comprend.  De plus, ce signal est envoyé directement au contrôleur via le bus de terrain, où il est déjà complètement traité.  Sur la base de ces signaux, la logique du contrôleur lui-même est construite.  Il y a un chemin de retour: depuis le contrôleur, la commande de contrôle via le bus de terrain arrive au module de sortie, où elle est convertie du numérique en analogique et transmise via les lignes de câble aux actionneurs et divers appareils (non représentés dans le diagramme ci-dessus). <br><br><h2>  Niveau supérieur: de la guirlande à l'ensemble du poste de travail </h2><br>  Le niveau supérieur se réfère à tout ce qui peut être touché par l'opérateur mortel ordinaire qui contrôle le processus.  Dans le cas le plus simple, le niveau supérieur est un ensemble d'ampoules et de boutons.  Les ampoules signalent à l'opérateur certains événements dans le système, les boutons servent à envoyer des commandes au contrôleur.  Un tel système est souvent appelé "guirlande" ou "arbre de Noël" car il ressemble beaucoup (comme vous pouvez le voir sur la photo au début de l'article). <br><br>  Si l'opérateur a plus de chance, il obtiendra le panneau de commande comme un niveau supérieur - une sorte d'ordinateur à écran plat qui, d'une manière ou d'une autre, reçoit les données à afficher du contrôleur et les affiche à l'écran.  Un tel panneau est généralement monté sur l'armoire d'automatisation elle-même, vous devez donc généralement interagir avec lui en position debout, ce qui cause des inconvénients, ainsi que la qualité et la taille de l'image - s'il s'agit d'un panneau de petit format - laisse beaucoup à désirer. <br><br><img src="https://habrastorage.org/webt/mx/ul/kg/mxulkgubdy6n5pkm7suvnovrtoe.jpeg"><br><br>  Et enfin, une attraction d'une générosité sans précédent - un poste de travail (ou même plusieurs doublons), qui est un ordinateur personnel ordinaire. <br><br>  Pour afficher visuellement des informations sur les postes de travail et les ordinateurs à écran plat à l'aide de logiciels spécialisés - systèmes SCADA.  SCADA est traduit en langage humain comme un système de contrôle de supervision et de collecte de données.  Il comprend de nombreux composants, tels qu'une interface homme-machine qui visualise les processus technologiques, un système de contrôle de ces processus, un système d'archivage des paramètres et de journalisation des événements, un système de gestion des alarmes, etc.  Tout cela donne à l'opérateur une image complète des processus se produisant dans la production, ainsi que la capacité de les gérer et de réagir rapidement aux écarts par rapport au processus. <br><br>  L'équipement de haut niveau doit interagir d'une manière ou d'une autre avec le contrôleur (sinon pourquoi est-il nécessaire?).  Pour cette interaction, des protocoles de haut niveau et certaines technologies de transmission, par exemple Ethernet ou UART, sont utilisés.  Dans le cas de l'arbre de Noël, bien sûr, vous n'avez pas besoin d'une telle sophistication, les ampoules sont allumées à l'aide de lignes physiques conventionnelles, il n'y a pas d'interfaces et de protocoles sophistiqués. <br><br>  En général, ce niveau supérieur est moins intéressant que le bus de terrain, car ce niveau supérieur peut ne pas exister du tout (il n'y a rien que l'opérateur puisse voir dans la série, le contrôleur trouvera quoi et comment faire). <br><br><h2>  Protocole de données ancien: Modbus et HART </h2><br>  Peu de gens le savent, mais le septième jour de la création du monde, Dieu ne s'est pas reposé, mais a créé Modbus.  Avec le protocole HART, Modbus est peut-être le plus ancien protocole de transfert de données industriel; il est déjà apparu en 1979. <br><br>  L'interface série a été initialement utilisée comme support de transmission, puis Modbus a été implémenté sur TCP / IP.  Il s'agit d'un protocole synchrone selon le schéma maître-esclave (maître-esclave), dans lequel le principe de requête-réponse est utilisé.  Le protocole est plutôt lourd et lent, le taux de change dépend des caractéristiques du récepteur et de l'émetteur, mais généralement le décompte est de près de centaines de millisecondes, notamment dans la mise en œuvre via une interface série. <br><br>  De plus, le registre de transfert de données Modbus est de 16 bits, ce qui impose immédiatement des restrictions sur la transmission des types réel et double.  Ils sont transmis soit en partie, soit avec perte de précision.  Bien que Modbus soit encore largement utilisé dans les cas où un taux de change élevé n'est pas nécessaire et la perte de données transmises n'est pas critique.  De nombreux fabricants de divers appareils aiment étendre le protocole Modbus à leur manière exclusive et très originale, en ajoutant des fonctionnalités non standard.  Par conséquent, ce protocole présente de nombreuses mutations et écarts par rapport à la norme, mais vit toujours avec succès dans le monde moderne. <br>  Le protocole HART existe également depuis les années 80, il s'agit d'un protocole industriel d'échange sur une ligne de boucle de courant à deux fils, qui connecte directement des capteurs 4-20 mA et d'autres appareils prenant en charge le protocole HART. <br><br>  Pour commuter les lignes HART, des appareils spéciaux, appelés modems HART, sont utilisés.  Il existe également des convertisseurs qui, à la sortie, fournissent à l'utilisateur, par exemple, le protocole Modbus. <br><br>  HART est peut-être remarquable en ce qu'en plus des signaux analogiques des capteurs 4-20 mA, un signal numérique du protocole lui-même est également transmis dans le circuit, ce qui vous permet de connecter les parties numériques et analogiques sur une seule ligne de câble.  Les modems HART modernes peuvent être connectés au port USB du contrôleur, connectés via Bluetooth ou à l'ancienne via le port série.  Il y a dix ans, par analogie avec le Wi-Fi, la norme WirelessHART, fonctionnant dans la bande ISM, est apparue. <br><br><h2>  Protocoles de deuxième génération ou bus ISA, PCI (e) et VME moins industriels </h2><br>  Les protocoles Modbus et HART ont été remplacés par des bus pas tout à fait industriels, tels que ISA (MicroPC, PC / 104) ou PCI / PCIe (CompactPCI, CompactPCI Serial, StacPC), ainsi que VME. <br><br>  L'ère des calculatrices disposant d'un bus de transfert de données universel est arrivée, où diverses cartes (modules) peuvent être connectées pour traiter un certain signal unifié.  En règle générale, dans ce cas, le module processeur (calculatrice) est inséré dans la trame dite, qui assure la communication par bus avec d'autres appareils.  Le châssis, ou, comme les ingénieurs d'automatisation banals aiment l'appeler, «caisse», est complété par les cartes d'E / S nécessaires: analogiques, discrètes, d'interface, etc., ou tout cela est collé sous la forme d'un sandwich sans cadre - une carte au-dessus de l'autre.  Après cela, ce manifold sur le bus (ISA, PCI, etc.) échange des données avec le module processeur, qui reçoit ainsi des informations des capteurs et met en œuvre une certaine logique. <br><br><img src="https://habrastorage.org/webt/rt/op/am/rtopam03dvzkz3bkv9kpkywcks8.png"><br>  <i>Contrôleur et modules d'E / S dans le châssis PXI sur le bus PCI.</i>  <i>Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">National Instruments Corporation</a></i> <br><br>  Tout irait bien avec ces bus ISA, PCI (e) et VME, surtout à cette époque: la vitesse d'échange ne dérange pas et les composants du système sont situés dans un seul cadre, compact et pratique, il n'y a peut-être pas de carte d'E / S remplaçable à chaud, mais toujours pas vraiment envie. <br><br>  Mais il y a une mouche dans la pommade, et pas une.  Un système distribué est assez difficile à construire dans une telle configuration, le bus local est échangeable, vous devez inventer quelque chose pour échanger des données avec d'autres nœuds subordonnés ou homologues, le même Modbus au-dessus de TCP / IP ou un autre protocole, en général, il n'y a pas beaucoup de commodité.  Eh bien, la seconde n'est pas très agréable: les cartes d'E / S attendent généralement qu'un signal unifié entre, et elles n'ont pas d'isolation galvanique avec un équipement de terrain, vous devez donc clôturer le jardin de divers modules de conversion et circuits intermédiaires, ce qui complique considérablement la base de l'élément. <br><br><img src="https://habrastorage.org/webt/je/ve/ez/jeveezwwyc-moqceoxeike2-0ka.jpeg"><br>  <i>Modules de conversion de signaux intermédiaires avec isolation galvanique.</i>  <i>Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DataForth Corporation</a></i> <br><br>  "Et qu'en est-il du protocole d'échange sur le bus industriel?"  - demandez-vous.  Mais rien.  Il n'y en a pas dans une telle implémentation.  Grâce aux câbles, le signal passe des capteurs aux convertisseurs de signal, les convertisseurs fournissent la tension à une carte d'E / S discrète ou analogique, et les données de la carte sont déjà lues via les ports d'E / S à l'aide des outils du système d'exploitation.  Et pas de protocoles spécialisés. <br><br><h2>  Fonctionnement des pneus et protocoles industriels modernes </h2><br>  Et maintenant?  À ce jour, l'idéologie classique de la construction de systèmes automatisés a quelque peu changé.  De nombreux facteurs ont joué un rôle, à commencer par le fait que l'automatisation devrait également être pratique, et se terminant par la tendance vers des systèmes automatisés distribués avec des nœuds éloignés les uns des autres. <br><br>  Peut-être pouvons-nous dire qu'il existe aujourd'hui deux concepts de base pour les systèmes d'automatisation des bâtiments: les systèmes automatisés localisés et distribués. <br><br>  Dans le cas de systèmes localisés, où la collecte et le contrôle des données sont centralisés à un endroit particulier, le concept d'un certain ensemble de modules d'entrée-sortie interconnectés par un bus rapide commun, y compris un contrôleur avec son propre protocole de communication, est demandé.  De plus, en règle générale, les modules d'entrée-sortie comprennent à la fois un convertisseur de signal et une isolation galvanique (bien que, bien sûr, pas toujours).  Autrement dit, il suffit que le consommateur final comprenne quels types de capteurs et de mécanismes seront présents dans le système automatisé, compte le nombre de modules d'entrée-sortie requis pour différents types de signaux et les connecte en une seule ligne commune avec le contrôleur.  Dans ce cas, en règle générale, chaque fabricant utilise son protocole de communication préféré entre les modules d'entrée-sortie et le contrôleur, et il peut y avoir beaucoup d'options. <br><br>  Dans le cas des systèmes distribués, tout ce qui est dit sur les systèmes localisés est vrai, en outre, il est important que les composants individuels, par exemple, un ensemble de modules d'entrée-sortie plus un dispositif de collecte et de transmission d'informations, ne soient pas un contrôleur très intelligent, qui est situé quelque part dans la cabine de le champ, à côté de la grue qui bloque le pétrole, pourrait interagir avec les mêmes nœuds et avec le contrôleur principal à grande distance avec un taux de change effectif. <br><br>  Comment les développeurs choisissent-ils un protocole pour leur projet?  Tous les protocoles d'échange modernes offrent une vitesse assez élevée, donc souvent le choix d'un fabricant n'est pas dû au taux de change sur ce même bus industriel.  La mise en œuvre du protocole lui-même n'est pas si importante, car, du point de vue du développeur du système, ce sera toujours une boîte noire qui fournira une sorte de structure d'échange interne et qui n'est pas conçue pour les interférences extérieures.  Le plus souvent, ils prêtent attention aux caractéristiques pratiques: les performances de la calculatrice, la commodité d'appliquer le concept du fabricant à la tâche, la présence des types de modules d'E / S nécessaires, la possibilité de remplacer à chaud les modules sans casser le bus, etc. <br><br>  Les équipementiers populaires proposent leurs propres implémentations de protocoles industriels: par exemple, la célèbre société Siemens développe sa propre série de protocoles Profinet et Profibus, B&amp;R - protocole Powerlink, Rockwell Automation - protocole EtherNet / IP.  La solution domestique dans cette liste d'exemples: la version du protocole FBUS de la société russe Fastwel. <br><br>  Il existe des solutions plus universelles qui ne sont pas liées à un fabricant spécifique, comme EtherCAT et CAN.  Nous analyserons ces protocoles en détail dans la suite de l'article et découvrirons ceux qui conviennent le mieux à des applications spécifiques: les industries automobile et aérospatiale, l'électronique, les systèmes de positionnement et la robotique.  Restez en contact! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454156/">https://habr.com/ru/post/fr454156/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454138/index.html">10 juin, Deworkacy - QA Good Communication</a></li>
<li><a href="../fr454140/index.html">D'un avocat à un testeur à Yandex. L'histoire de mon stage</a></li>
<li><a href="../fr454144/index.html">Dans Java 13, ils veulent ajouter des «blocs de texte»</a></li>
<li><a href="../fr454148/index.html">Vérification des performances SOC</a></li>
<li><a href="../fr454154/index.html">"Branches de l'enfer": contrôle des nuages ​​des décharges illégales et des décharges dangereuses</a></li>
<li><a href="../fr454160/index.html">Utilisation de PowerShell pour augmenter les privilèges des comptes locaux</a></li>
<li><a href="../fr454164/index.html">Comment fonctionnent les tests A / B dans Avito?</a></li>
<li><a href="../fr454166/index.html">6 juin - VeeamON Forum à Moscou</a></li>
<li><a href="../fr454168/index.html">L'arène principale du pays. Comment Luzhniki a-t-il été mis à jour avant la Coupe du monde</a></li>
<li><a href="../fr454170/index.html">Bienvenue au Meetup DroidHeads le 8 juin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>