<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíà üë®‚Äçüåæ üß¢ C√≥mo romper un iPhone y ejecutar un servicio para 15 millones de usuarios ü§µüèª üë∏üèø üö¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el verano de 2014, mis amigos y yo salimos a caminar y sucedi√≥ un hecho hist√≥rico. Mientras filmaba el video, de repente, el iPhone 5C cay√≥ de las ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo romper un iPhone y ejecutar un servicio para 15 millones de usuarios</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/405437/">  En el verano de 2014, mis amigos y yo salimos a caminar y sucedi√≥ un hecho hist√≥rico.  Mientras filmaba el video, de repente, el iPhone 5C cay√≥ de las manos de mi esposa y se estrell√≥ contra el piso de concreto. <br><br>  En ese momento, me pareci√≥ una situaci√≥n triste.  Pero este fue precisamente el impulso para lanzar el servicio, que ahora atiende a m√°s de 15 millones de usuarios. <br><br>  ¬øQu√© tiene que ver el iPhone con √©l?  Que tipo de servicio  ¬øC√≥mo est√° todo esto conectado?  Respuestas debajo del corte! <br><br><img src="https://habrastorage.org/web/905/ba3/631/905ba3631ca6438784c1d73556f914c2.jpg"><a name="habracut"></a><br><br><h3>  Pr√≥logo </h3><br>  En este art√≠culo quiero compartir con ustedes los eventos que comenzaron en 2014.  Te contar√© todo como estaba mientras mi memoria est√° fresca, y tambi√©n compartir√© informaci√≥n que a√∫n no se ha publicado en ning√∫n lado. <br><br><h3>  Reparaci√≥n </h3><br>  Como cualquiera que sintiera la amargura de los vidrios rotos en su dispositivo favorito, quer√≠a arreglar esto lo m√°s r√°pido posible.  La pantalla en s√≠ no sufri√≥ da√±os y la reparaci√≥n es solo un reemplazo para el cristal de la pantalla t√°ctil.  Un amigo me recomend√≥ SC en Kiev, y envi√© un tel√©fono all√≠.  Lo volvieron a pegar y me lo devolvieron.  No pod√≠a esperar para recibir el tel√©fono por correo. <br><br>  Tan pronto como lo recib√≠, otra decepci√≥n me esperaba.  Se reemplaz√≥ la pantalla t√°ctil, pero hab√≠a manchas amarillas en los bordes de la pantalla.  En el SC, me prometieron arreglarlo o reemplazarlo con el original junto con la pantalla.  Como todav√≠a encontr√© rasgu√±os debajo del cristal, decid√≠ reemplazar completamente la pantalla. <br><br>  Una semana despu√©s, recuper√© el tel√©fono, result√≥ que la pantalla no era original.  Incluso en la superficie misma, estaba claro que estaba en √°ngulo con el cuerpo.  Y los colores eran m√°s tenues, lo que distingu√≠a claramente la pantalla del original.  Result√≥ que las pantallas originales para el iPhone son dif√≠ciles de encontrar.  Decid√≠ soportar esta situaci√≥n y, en alg√∫n momento en el futuro, cambiar el iPhone a un modelo m√°s nuevo. <br><br>  Pasaron unos d√≠as, me acostumbr√© lentamente a la exhibici√≥n china.  Estaba sentado en un sill√≥n y el tel√©fono se me escap√≥ del bolsillo.  Cay√≥ al suelo de madera, el cristal volvi√≥ a romperse.  El tel√©fono con el cristal original se cay√≥ muchas veces, pero no se estrell√≥ hasta el combate de hormig√≥n.  Pero los chinos, vidrios encolados, se rompieron en el primer intento. <br><br><img src="https://habrastorage.org/web/e30/41c/ae7/e3041cae7e0d452d94bb97b377e7d6a5.jpg"><br><br>  La constataci√≥n de que no pod√≠a comprar el vidrio original me hizo pensar en encontrar un donante.  Empec√© a buscar un iPhone que se vendiera en olx por partes.  Result√≥ que hay muchos que tienen un problema con la funci√≥n iCloud Find My iPhone.  Estos tel√©fonos no se pueden activar y permanecen inactivos hasta que ingrese la ID de Apple del propietario, o si el propietario retira el tel√©fono de su cuenta. <br><br>  Encontr√© un donante, el iPhone 5C est√° en excelentes condiciones, est√° bloqueado bajo el operador y bajo iCloud.  La pantalla se acerc√≥ con √©xito a mi tel√©fono y finalmente todo encaj√≥.  Decid√≠ mantener el iPhone verde, por si acaso, como donante.  Finalmente, pude calmarme y olvidarme de este problema. <br><br><h3>  Que sigue </h3><br>  Pasaron varias semanas, el iPhone 5C verde yac√≠a en mi escritorio debajo del monitor.  Pero de vez en cuando lo recordaba, porque por costumbre no me gustan las cosas que est√°n inactivas.  Por lo tanto, el tel√©fono estaba atado a un operador desconocido, e incluso con vidrios rotos, el iCloud no ten√≠a sentido.  Pero la idea de que el tel√©fono en teor√≠a se puede desbloquear, a√∫n de una manera desconocida, no me dej√≥. <br><br><h3>  doulCi </h3><br>  En general, comenc√© a buscar en Google, leer los foros.  Encontr√© informaci√≥n sobre doulCi (el nombre no es extra√±o, pero es casi al rev√©s iCloud).  Fue un equipo de entusiastas quienes lanzaron un servidor para evitar FMI para el firmware iOS temprano. Lanzaron MITM e intercambiaron paquetes de un iPhone desbloqueado a uno bloqueado.  En general, en ese momento Apple no verific√≥ el cumplimiento de los paquetes con Serial / IMEI y doulCi lo us√≥ con √©xito.  No trabajaron para su servidor durante mucho tiempo, pero lograron desbloquear alrededor de 70 mil dispositivos.  Aquellos que lograron conectarse a su servidor recibieron un dispositivo en funcionamiento en el que la tarjeta SIM no funcionaba.  Luego, uno de su equipo filtr√≥ la fuente a Internet, y Apple parch√≥ con √©xito ese agujero.  En esta etapa, su equipo se separ√≥, y todos fueron de diferentes maneras.  Su servidor ya no funcionaba. <br><br>  Por supuesto que no lo sab√≠a entonces.  Fui a su sitio web oficial y vi temporizadores all√≠, diciendo "Espere hasta las 16:00 del viernes, luego iniciaremos el servidor y lo desbloquearemos gratis".  Y hab√≠a campos en todas partes para ingresar al IMEI y el registro.  Entonces decid√≠ esperar esta hora.  Tan pronto como lleg√≥ el momento, puse una alarma para no perder, mantuve el cable USB listo.  Lleg√≥ el momento, fui a su sitio, y all√≠ <s>todo funciona un</s> nuevo momento para iniciar el servidor.  Trat√© de esperar todav√≠a, y todo result√≥ ser una tentaci√≥n publicitaria.  Me molest√≥ bastante, pero no iba a parar. <br><br><h3>  Servidor proxy </h3><br>  M√°s tarde, comenzaron a aparecer noticias sobre los servidores proxy, que dec√≠an que al conectarse a ellos, puede ir a la p√°gina web. <br><br>  En la p√°gina que da Apple <br><br><img src="https://habrastorage.org/web/23f/644/591/23f64459189a4de49342803924e8d54f.png"><br><br>  Al hacer clic en "Ayuda en la activaci√≥n", el usuario fue llevado a una p√°gina con texto.  Pero los desarrolladores de Apple han perdido un peque√±o detalle, el enlace no condujo a HTTPS, sino a una direcci√≥n HTTP. <br> <code>http://static.ips.apple.com/deviceservices/buddy/barney_activation_help_en_us.buddyml</code> <br>  Esto hizo posible interceptar y reemplazar el tr√°fico, ya que no estaba encriptado. <br><br>  Los servidores estaban cayendo constantemente, lo mejor que encontr√© fue el servidor niltpH.  Pero √©l cambiaba constantemente los puertos, ya sea para que los usuarios visitaran su sitio con frecuencia, o el servidor no pod√≠a soportarlo y por eso eliminaba la carga. <br><br>  Constantemente me preguntaba por qu√© hacer un proxy si puedes reenviar consultas DNS. <br>  No habr√° carga pesada, y el servidor siempre estar√° en l√≠nea.  Pero solo hab√≠a servidores proxy. <br><br>  Luego comenz√≥ una ola de estafadores, comenzaron a proxy masivo del servidor. <br>  Al mostrar una p√°gina con el pago de un rastreo completo inexistente, muchas personas sufrieron estos servicios falsos.  Los servidores proxy le permitieron obtener un control total sobre el tr√°fico.  Por lo tanto, los malos robaron contrase√±as y tarjetas de cr√©dito, y los usuarios cre√≠an que esto funcionar√≠a ya que cualquier cambio en su dispositivo era cre√≠ble. <br><br>  Apple no hizo nada para marcar la diferencia, pero lo hice.  Como resultado de mis acciones adicionales, nadie m√°s podr√≠a encontrar a los estafadores del servidor proxy en el motor de b√∫squeda. <br><br><h3>  Primer servidor de omisi√≥n de DNS de iCloud </h3><br>  Resuelto, iniciar√© mi servidor.  Una noche de invierno en diciembre, comenc√© el desarrollo.  Para implementar mi idea, necesitaba un servidor HTTP y un servidor DNS.  Decid√≠ escribir ambos servicios en C ++ usando Visual Studio 2010. Trabajando con sockets directamente byte por byte sin bibliotecas de terceros. <br><br>  El protocolo DNS no es complicado, para una solicitud UDP, una respuesta, con la misma estructura cada vez.  Durante un par de horas escrib√≠ un servidor DNS simple, respondi√≥ con una direcci√≥n IP est√°tica en static.ips.apple.com y el resto lo tom√© con DNS de Google. <br><br>  Entonces comenc√© a escribir un servidor HTTP.  El primer paso fue simplemente producir una p√°gina HTML.  Se carg√≥ en la memoria cuando se inici√≥ el programa, y ‚Äã‚Äãluego se emiti√≥ en paquetes preparados para todos los que enviaron una solicitud al puerto 80.  Entonces, mi programa devolvi√≥ una p√°gina a todos los que enviaron la solicitud, independientemente del host especificado.  Todo funcionaba en el navegador, pero al registrar DNS en la configuraci√≥n de Wi-Fi iOS, al hacer clic en "Ayuda en la activaci√≥n" recib√≠ un error en el tel√©fono. <br><br>  Despu√©s de analizar el tr√°fico, result√≥ que Apple usa archivos XML, generando una interfaz remota para ellos. <br><br>  El c√≥digo de muestra se puede ver en el enlace de ayuda de activaci√≥n: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">static.ips.apple.com/deviceservices/buddy/barney_activation_help_en_us.buddyml</a> <br><br>  Y aqu√≠ est√° la respuesta del servidor que solicita la contrase√±a en el dispositivo bloqueado: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript">&lt;![CDATA[</span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">enableNextButton</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldPassword = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'password'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">if</span></span></span><span class="actionscript"> (fieldPassword &amp;&amp; fieldPassword.length &gt;= </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">) </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">; </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">; } </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">validateForm</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldLogin = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldPassword = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'password'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">if</span></span></span><span class="actionscript"> (fieldLogin == </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'test'</span></span></span><span class="actionscript">) { xmlui.setFieldInvalid(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">, </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">); xmlui.alert(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Test!"</span></span></span><span class="actionscript">); } </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">else</span></span></span><span class="actionscript"> { xmlui.setFieldInvalid(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">, </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">); xmlui.alert(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Value entered is not 'test'."</span></span></span><span class="actionscript">); } }]]&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Activation Lock"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadingTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Activating..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hidesBackButton</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkBarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Next"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/deviceservices/deviceActivation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"blue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enabledFunction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"enableNextButton"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"This iPhone is linked to an Apple ID. Enter the Apple ID and password that were used to set up this iPhone."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  : This iPhone has been lost. Please call me. (123) 456-1234"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footerLinkURL</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://static.ips.apple.com/deviceservices/buddy/barney_activation_help_ru_ru.buddyml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">editableTextRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Apple ID"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example@icloud.com"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableAutocapitalization</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableAutocorrection</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyboardType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">editableTextRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secure</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"password"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">serverInfo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isAuthRequired</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">activation-info-base64</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"      "</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Despu√©s de estudiar la fuente, puede comprender que el c√≥digo tiene JavaScript y funciona dentro de las etiquetas &lt;! [CDATA [..]]&gt; <br><br>  Y en ese momento, los servidores proxy existentes usaban una sola p√°gina con c√≥digo HTML. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Games"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadingTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Loading..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hidesBackButton</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkBarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Next"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/deviceservices/deviceActivation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"blue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enabledFunction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"enableNextButton"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlLabelRow</span></span></span><span class="hljs-tag">&gt;</span></span> &lt;![CDATA[&lt;html&gt;   HTML  &lt;/html&gt;]]&gt;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlLabelRow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  En el tel√©fono, puede ver un sitio simple en lugar del texto de activaci√≥n.  Las cookies funcionaron.  Pero al hacer clic en cualquier enlace externo, todos los estilos se extraviaron y las transiciones posteriores fueron imposibles.  As√≠ funcionaban los servidores proxy en ese momento. <br><br>  Despu√©s de un par de horas, ten√≠a un servidor DNS y HTTP en funcionamiento, que devolvi√≥ 1 p√°gina para cualquier solicitud.  XMLUI result√≥ ser marcado con par√°metros desconocidos que no se pod√≠an encontrar en ning√∫n lado.  Y ahora no hay documentaci√≥n en ning√∫n lado.  Apple lo usa solo dentro de sus productos. <br><br>  De hecho, los elementos est√°ndar de iOS son generados por XMLUI, incluso aquellos que funcionan sin conexi√≥n.  Listas, botones, iconos, la elecci√≥n de fecha y hora, submen√∫s, todo esto es solo el resultado de convertir el XML de un script similar en una interfaz sobre la marcha. <br><br>  La comprensi√≥n de que muchas de las interfaces en iOS se hicieron de una manera tan torpe me decepcion√≥ un poco.  Esto es cuando espera que todo se haya hecho de la manera m√°s √≥ptima posible, y resulta que hay una capa en la capa. <br><br>  Luego me di cuenta de que, en teor√≠a, si conoce el dise√±o de la interfaz, puede generar una interfaz iOS nativa muy c√≥moda con una lista de iconos y enlaces.  Como la configuraci√≥n en iOS.  Y reempl√°celo por completo con el di√°logo de activaci√≥n. <br><br>  Todo lo que entend√≠ del c√≥digo ya guardado es que hay una cierta tabla con la capacidad de agregar una gran cantidad de &lt;pie de p√°gina de secci√≥n, que puede referirse a otros archivos XMLUI.  Es muy posible hacer que su servidor XMLUI tenga alguna informaci√≥n.  Pero quer√≠a obtener exactamente la lista de sitios y poder ir a Google, por ejemplo. <br><br><h3>  ¬øC√≥mo hacer una interfaz de marcado sin conocer los comandos? </h3><br>  Lo primero que se me ocurri√≥ fue que, dado que iOS genera comandos, compara las cadenas de par√°metros XML, por lo que deben almacenarse en alg√∫n lugar del firmware.  Idealmente, encontrar√° un archivo con una lista de comandos que puede intentar agregar al c√≥digo XMLUI, pero no, esto no sucedi√≥. <br><br>  En ese momento, el iPhone 4 ya estaba pirateado por completo.  All√≠, desde debajo del cargador de arranque, puede arrancar y obtener acceso completo al sistema de archivos, no importa si hay una contrase√±a de iOS o no. <br><br>  Encontr√© el firmware de iOS 7 descargado del iPhone 4 y comenc√© a elegirlo.  Recopil√© una lista de palabras famosas de esos archivos XMLUI que recopil√© y comenc√© a buscar palabra por palabra todos los archivos de firmware.  A primera vista, un ejercicio in√∫til, es comparable a encontrar una aguja en un pajar, pero por alguna raz√≥n estaba seguro de que encontrar√≠a algo.  Pas√≥ m√°s de una hora, no pude encontrar nada, pero el archivo dyld_shared_cache_armv7 me llam√≥ la atenci√≥n.  Pesaba tanto como 300 MB, mientras que todo el firmware pesaba aproximadamente 1 GB. <br><br>  Result√≥ ser un "paquete" de bibliotecas din√°micas.  Para no sobrecargar el sistema de archivos, Apple empaqueta todas las bibliotecas din√°micas para todos los programas del sistema en 1 archivo.  Utilizando las herramientas de desarrollador de Apple, descomprim√≠ este archivo y recib√≠ una gran cantidad de archivos.  Comenc√© a buscar nuevamente en sus datos palabras de mi lista, intent√© combinarlas y seleccionarlas.  Comenc√© a buscar ortograf√≠a de estilo similar: unas pocas palabras, la primera con una letra min√∫scula, el resto con may√∫scula, sin espacios ni subrayado. <br><br>  Despu√©s de innumerables intentos, pude encontrar la palabra htmlButtonRow.  Si lo pegas en el c√≥digo, obtienes un error, por lo que de alguna manera influy√≥ y se reconoci√≥.  El siguiente paso fue la selecci√≥n de un lugar, ¬ød√≥nde pegarlo? <br><br>  Finalmente, el c√≥digo funcion√≥ y obtuve la codiciada barra de men√∫: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlButtonRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlButtonRow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Solo se mostr√≥ una l√≠nea y el texto, cuando se presion√≥, no pas√≥ nada.  Pero el nombre de la secci√≥n htmlButtonRow estaba hablando de HTML, lo que significa que probablemente pueda agregar el c√≥digo de la p√°gina all√≠. <br>  Insertar c√≥digo HTML en un bot√≥n usando &lt;! [CDATA funcion√≥.  Incluso se gan√≥ la transici√≥n del bot√≥n al sitio. <br><br>  Obtuve lo que quer√≠a, una forma de mostrar una lista de diferentes sitios e ir a ellos.  Luego comenc√© a desarrollar un motor de generaci√≥n de c√≥digo XMLUI.  Escrib√≠ una lista de los par√°metros necesarios para un bot√≥n, puse un enlace a la imagen, el texto y un enlace al sitio all√≠. <br><br>  El resultado fue un archivo de configuraci√≥n de texto de este tipo: <br><br><pre> <code class="hljs ruby">[Section] Name=Facebook Url=<span class="hljs-symbol"><span class="hljs-symbol">menu:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/https:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/m.facebook.com/</span></span> Img=<span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/iclouddnsbypass.com/</span></span>Icons/B5w8iLX.png</code> </pre> <br>  En √©l, cre√© una lista de sitios populares. <br><br>  Luego, hice plantillas de p√°gina en las que se agregaron botones, todo se almacen√≥ en la memoria de forma est√°tica y se emiti√≥ a pedido sin acceder al disco. <br><br>  Despu√©s de un par de d√≠as, corrig√≠ todos los errores y el servidor estaba listo para un lanzamiento constante.  La primera versi√≥n de iCloud DNS Bypass se lanz√≥ el 25 de diciembre de 2014.  Escrib√≠ la direcci√≥n del servidor DNS en w3bsit3-dns.com en el hilo sobre el desv√≠o de iCloud, el mismo d√≠a que los moderadores del sitio me escribieron y sugirieron crear una rama separada.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">A</a> qui√©n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">le importa</a> , aqu√≠ hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace al hilo del foro w3bsit3-dns.com</a> . <br><br>  Como resultado, todo se ve√≠a as√≠: <br><br><img src="https://habrastorage.org/web/498/569/73e/49856973ee45455d868ba2c0101c7800.jpg"><br><br>  Pero debido a las limitaciones de la interfaz en s√≠, solo fue posible seguir el enlace, y la posterior transici√≥n a sitios de terceros fue imposible.  Como resultado, todos podr√≠an usar solo la lista de sitios que agregu√© al servidor. <br><br><h3>  Solucionar problemas de omisi√≥n de DNS de iCloud </h3><br>  Unos d√≠as despu√©s del lanzamiento, mi amigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Dybik</a> lanz√≥ un sitio con informaci√≥n del servidor.  Cre√© un grupo en VK y habl√© con los usuarios del servidor.  Result√≥ que en el nuevo firmware de iOS, los enlaces de clic HTML ya no funcionan. <br><br>  En ese momento, unos 500 usuarios √∫nicos ya se hab√≠an conectado, y todas las revisiones me ayudaron a creer que estaba haciendo algo √∫til.  Y siempre so√±√© con lanzar un gran proyecto.  Estos pensamientos me dieron la fuerza para no rendirme.  Comenc√© a buscar nuevamente los nombres de valores XMLUI, estaba seguro de que hab√≠a muchos m√°s comandos √∫tiles. <br><br>  Despu√©s de pasar otras 3-4 horas de b√∫squedas diligentes y rebotes, finalmente encontr√© una etiqueta √∫til <br>  &lt;linkRow y su par√°metro accesorio = "revelaci√≥n", haciendo que el bot√≥n sea una subcarpeta.  Esto era justo lo que necesitaba, la lista funcion√≥ en todos los iOS y adquiri√≥ un aspecto m√°s nativo, ya que ya no hab√≠a HTML. <br><br>  El c√≥digo del bot√≥n final fue as√≠: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">accessory</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"disclosure"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">image</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">shouldScaleHTMLPageToFit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://   .buddyml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Comenzaron a enviarme enlaces √∫tiles, que agregu√© al men√∫, y formaron una lista grande.  Tambi√©n enviaron bloqueos, que agregu√© al men√∫, y todos pod√≠an probarlos. <br><br>  Tambi√©n hice un motor de idiomas, con el reemplazo de textos, dependiendo del idioma del usuario.  Invit√≥ a todos a traducir y, con el tiempo, me enviaron traducciones de diferentes pa√≠ses.  Ahora la interfaz del servidor ya se ha traducido a 50 idiomas, gracias a los voluntarios.  Tambi√©n hice restricciones en la lista de sitios para el idioma, por ejemplo, el ruso se muestra para los sitios rusos, chino a chino.  Se agreg√≥ un chat basado en tlk.io, pero luego cre√≥ su propio motor debido a los spammers. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5cc/054/6df/5cc0546df247f681e52a1369c820f818.png" alt="imagen"><img src="https://habrastorage.org/getpro/geektimes/post_images/4c0/be4/647/4c0be4647de0edbfcd5c3eb934c1b89f.png" alt="imagen"><img src="https://habrastorage.org/getpro/geektimes/post_images/eb1/36a/f10/eb136af1009fceebbe36b81d06213f2f.png" alt="imagen"><br><br>  Adem√°s, tambi√©n encontr√© el par√°metro shouldScaleHTMLPageToFit = "true" que trajo la vista del navegador al m√≥vil donde se necesita.  Y en el camino, encontr√© otro par√°metro m√°s importante esModalHTMLView = "true".  Con √©l, pude expandir la p√°gina web a pantalla completa, la rotaci√≥n de la pantalla y todos los clics en enlaces sin errores y restricciones funcionaron all√≠.  Las cookies tambi√©n funcionaron despu√©s de reiniciar, as√≠ que las us√© para contar la cantidad de usuarios.  Por primera vez en el mundo, se hizo posible usar un navegador completo sin pesta√±as en un dispositivo iOS bloqueado. <br><br>  Adem√°s, a trav√©s del bot√≥n de carga de fotos HTML, todos pueden usar la c√°mara y encender la linterna de la misma manera.  Agregu√© una lista de favoritos y podr√≠a agregarla en la interfaz.  Hab√≠a estaciones de radio en el men√∫, era posible abrir m√∫sica, luego abrir otra pesta√±a con un bot√≥n especial, mientras que la anterior funcionaba, y result√≥ la multitarea. <br><br>  Luego result√≥ que algunos usuarios no pueden conectarse al servidor.  La raz√≥n de esto fue enrutadores o proveedores que reemplazaron todas las consultas DNS por las suyas.  Y no fue posible reemplazar el dominio con mi servidor.  Luego desarroll√© un peque√±o programa para Windows que lanza el servidor DNS incorporado, que ayuda a conectarse a la red local. <br><br>  Aqu√≠ hay un video de YouTube del canal EverythingApplePro sobre el desv√≠o de DNS de iCloud, donde puede ver c√≥mo era la interfaz en ese momento. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uSrOGN6K4To" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dos meses despu√©s, m√°s de 200 mil dispositivos ya estaban conectados al servidor. <br><br><img src="https://habrastorage.org/web/fa8/be3/da4/fa8be3da44254b719b7ba344de6d92a5.png"><br><br>  Aqu√≠ hay un video, en tiempo real puede ver las solicitudes en el servidor que estaban en ese momento <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FUysTl-TsIQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Pero para que Apple note que tienen un marcado en el marcado, fue necesario conectar otros 300 mil dispositivos. <br><br><h3>  Otra ola de estafadores </h3><br>  Dos meses despu√©s del lanzamiento en Internet, era imposible encontrar otra cosa sobre una soluci√≥n alternativa que no fuera mi servidor.  Esto puso fin al poder fraudulento que extorsionaba el dinero.  Pero comenz√≥ una ola de anuncios en eBay, comenzaron a vender "bypass de iCloud" por 30-50 USD.  Los propietarios ingenuos y desesperados de los dispositivos bloqueados son f√°ciles de manipular, y los estafadores lo usaron. <br><br>  Habiendo pagado por el "servicio de desbloqueo", los estafadores dieron instrucciones a los compradores sobre c√≥mo conectarse a mi servidor gratuito.  Muchos ni siquiera sospecharon que fueron robados.  Estaba enojado y quer√≠a hacer algo para detenerlos. <br><br>  Escrib√≠ una p√°gina de mensaje en todos los idiomas, para que cuando todos se conectan entiendan que el servidor es gratuito.  Tal inscripci√≥n a√∫n permanece en la interfaz del servidor.  Tambi√©n se quej√≥ de fraude en eBay, pero esta guerra fue interminable. <br><br>  Recib√≠ muchas cartas, desech√© todo lo que encontraron sobre los hacks, publiqu√© en el servidor y prob√© todo.  A veces result√≥ que iba al escritorio, y a veces todo estaba desbloqueado (funcionaba solo con dispositivos borrados a trav√©s del sitio, la interfaz se bloquea y funciona hasta que se reinicia). <br><br>  Usando la informaci√≥n que me enviaron, result√≥ que hay muchas fuentes que ofrecen desbloquear dispositivos por dinero que realmente funcion√≥.  Trat√© de descubrir c√≥mo compartir con toda la comunidad para disipar los conceptos err√≥neos sobre los servicios pagos. <br><br>  Los usuarios reciben un dispositivo bloqueado por los siguientes motivos: <br><br><ul><li>  Olvid√≥ su contrase√±a de ID de Apple y perdi√≥ su cheque </li><li>  Compr√≥ un dispositivo sin saber que est√° bloqueado </li><li>  Se convirtieron en v√≠ctimas de ransomware y perdieron el acceso a su ID de Apple </li><li>  Encontr√≥ el dispositivo en modo de p√©rdida </li></ul><br>  Ahora puedo decir con confianza que solo hay dos formas de desatarlo por completo: <br><br><ul><li>  Suplantaci√≥n de identidad, robo de contrase√±as del propietario y eliminaci√≥n de un dispositivo de su cuenta </li><li>  Despu√©s de recibir el cheque original, una llamada de soporte de Apple desata un dispositivo que no est√° en modo de p√©rdida </li><li>  Soldar un m√©todo de m√≥dem o resistencia para iPad desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Pasha4ur</a> </li></ul><br>  El a√±o pasado, los servicios de phishing se distribuyeron masivamente, y Apple en respuesta incluso elimin√≥ el mensaje del propietario en la pantalla del dispositivo bloqueado.  Pero esta no fue la raz√≥n de la ocurrencia generalizada de ataques de phishing.  Hay fuentes que venden informaci√≥n de la cuenta de ID de Apple por el dinero que se utiliz√≥ para los ataques.  Dejaron de trabajar solo en d√≠as festivos en el calendario chino.  Lo m√°s probable es que estos sean empleados de Apple en China que est√©n copiando informaci√≥n del √°rea de administraci√≥n de Apple Care.  Decid√≠ verificar la informaci√≥n recibida y todo result√≥ ser cierto.  Hab√≠a informaci√≥n de direcci√≥n, n√∫meros de tel√©fono, preguntas de seguridad, sin contrase√±as y sin respuestas.  Luego trat√© de contactar a Apple para averiguar qu√© estaba pasando, y mis cartas fueron ignoradas con √©xito.  As√≠ que cuide su IMEI / UDID lejos de miradas indiscretas, y en Apple ID es mejor no escribir informaci√≥n real. <br><br><h3>  Plan de emergencia </h3><br>  Sospech√© que Apple alguna vez notar√≠a una falla en el enlace HTTPS, y el servidor de omisi√≥n de DNS de iCloud de una vez dejar√≠a de funcionar para todos los dispositivos.  Explorar alternativas me ha llevado a crear el Portal Cautivo.  Este mecanismo se usa en muchos hoteles, aeropuertos, cuando tiene que ingresar su n√∫mero en el sitio, antes de conectarse a Internet. <br><br>  La informaci√≥n sobre el portal cautivo tambi√©n fue dif√≠cil de encontrar.  Nadie ha intentado lanzar un portal de autorizaci√≥n a trav√©s de un servidor DNS.  Despu√©s de varios d√≠as de investigaci√≥n, logr√© lanzar con √©xito mi propio portal cautivo.  Todo funcion√≥ como en un navegador normal, al hacer clic en todos los enlaces funcion√≥ sin restricciones.  En general, estaba listo para que Apple corrigiera el defecto, pero el hecho de que las cookies se borraran cuando se cerr√≥ el portal me confundi√≥. <br><br>  En ese momento, el m√©todo XMLUI funcionaba perfectamente, respond√≠a correos electr√≥nicos, estaba interesado en comunicarme con la gente.  En YouTube, muchos grabaron un video sobre mi servidor, y todos compartieron informaci√≥n sobre las b√∫squedas de un rastreo completo. <br><br><h3>  Modo sin conexi√≥n, un administrador de archivos completo sin Internet </h3><br>  Ha pasado casi medio a√±o desde que se inici√≥ el servidor y Apple no pens√≥ en corregir la p√°gina de marcado.  No recuerdo exactamente cu√°ndo, pero estaba aburrido y comenc√© a tratar de leer el sistema de archivos iOS a trav√©s de XMLUI.  Tuve √©xito y pude abrir archivos del sistema de archivos, conociendo su ruta de antemano. <br><br>  Ten√≠a una idea, si suelta todos los archivos a trav√©s del programa desde la computadora en las carpetas de escritura en el dispositivo, puede crear un administrador de archivos.  Entonces todav√≠a era posible acceder a los archivos sin confirmaci√≥n en un dispositivo bloqueado, ahora en iOS 10 esto ya no funcionar√°. <br><br>  Hice un campo de entrada de c√≥digo para desbloquear los botones de prueba donde estaba el administrador de archivos e invit√© a varios voluntarios a probar. <br><br><img src="https://habrastorage.org/web/74d/037/1b2/74d0371b252b4e6ba90351265da04a29.jpg"><br><br>  Fue posible cargar archivos de cualquier formato y abrirlos en el dispositivo.  Tambi√©n fusion√© todos los men√∫s y submen√∫s en un solo archivo, lo que permiti√≥ descargarlos al dispositivo 1 vez, y luego usarlos sin Internet.  Quer√≠a compartir nuevas funciones con los usuarios del servidor lo m√°s r√°pido posible.  Primero, era necesario crear un programa que sincronizara la estructura del sistema de archivos con el servidor e identificara al usuario proporcion√°ndole una lista de archivos desde su dispositivo. <br><br>  Estaba muy involucrado y comenc√© a desarrollarme.  Han pasado muchas horas y un reproductor de audio con una lista de reproducci√≥n y la capacidad de seleccionar una pista estaba lista.  A la ma√±ana siguiente, me llovieron correos electr√≥nicos con mensajes de que el servidor estaba ca√≠do.  Revis√© todo, el servidor estaba funcionando, varios cientos de usuarios estaban en l√≠nea.  Pero solo fueron los afortunados los que no abandonaron el servidor. <br>  El 13 de mayo de 2015, los desarrolladores de Apple notaron una falla y arreglaron el texto del enlace de HTTP a HTTPS. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante la noche, todos los dispositivos dejaron de conectarse al servidor y se convirtieron en piezas de hierro in√∫tiles con el logotipo de Apple. Y en un momento, todo el desarrollo del administrador de archivos se volvi√≥ in√∫til. Nadie se enter√≥ de que iba a iniciar este modo. Ahora, para devolver este m√©todo, debe instalar un certificado autofirmado en el dispositivo para el dominio albert.apple.com, hasta ahora esto no ha sido posible. En el momento de corregir el error, debido a que el m√©todo anterior ya no funciona, se conectaron medio mill√≥n de dispositivos √∫nicos. </font></font><br><br><img src="https://habrastorage.org/web/3ca/13b/d68/3ca13bd688dd4968a29cbc8f348189c2.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inmediatamente comenc√© a lanzar el Portal cautivo y a mover todo el men√∫ a la opci√≥n web. La interfaz est√° basada en Framework7, la adapt√© al antiguo archivo de configuraci√≥n del men√∫. El mismo d√≠a, el servidor se lanz√≥ con un nuevo aspecto, en el que todav√≠a se encuentra.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/kPmFFAwWp2c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En Facebook, ten√≠a una p√°gina de omisi√≥n de DNS de iCloud donde publicaba solo noticias y actualizaciones del servidor. Ha pasado m√°s de un a√±o. Por alguna raz√≥n, a Apple no le gust√≥ y un d√≠a (bien) vi el siguiente mensaje sin ninguna advertencia: m√°s </font></font><br><br><img src="https://habrastorage.org/web/5b3/c31/db0/5b3c31db04134ced819c9741a3819866.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarde CloudFlare envi√≥ un correo electr√≥nico con el mensaje de que alguien de la unidad de Apple solicit√≥ la direcci√≥n IP real de mi sitio, ya que infringe sus derechos de autor derecho Aunque no entend√≠ cu√°l fue la violaci√≥n, me alegr√© de que todo esto fuera limitado. Durante todo el tiempo, Apple nunca ha tratado de contactar directamente y pedir eliminar lo que no les gusta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tal iron√≠a del destino, si mi esposa no hubiera dejado caer el tel√©fono, si no me hubiera distra√≠do del proyecto principal para relajarme y hacer realidad mi idea, entonces el servidor iCloud DNS Bypass no existir√≠a hoy.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora el n√∫mero de usuarios √∫nicos ha cruzado la frontera de 15 millones. 50-60 mil dispositivos √∫nicos est√°n conectados por d√≠a. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La versi√≥n actual del servidor funciona en todos los iOS existentes actualmente. Y todav√≠a no hay alternativas a la omisi√≥n de DNS de iCloud basada en el portal cautivo. El servidor ha estado trabajando las 24 horas desde su lanzamiento y las donaciones son suficientes para alquilar equipos. Hasta ahora, todas las conexiones HTTP son atendidas por un solo programa escrito en C ++. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ hay estad√≠sticas de los pa√≠ses con los dispositivos Apple m√°s bloqueados que se han conectado a iCloud DNS Bypass. Total actualmente 15,3 millones.</font></font><br><br><img src="https://habrastorage.org/web/a3a/cfc/9cd/a3acfc9cd1cd4fd4b3070572e29598e2.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y s√≠, puede probar el Portal cautivo en su dispositivo no bloqueado haciendo todo de acuerdo con las instrucciones del video de este art√≠culo. </font><font style="vertical-align: inherit;">Y tambi√©n puede simplemente pasar por cualquier navegador a la p√°gina </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ui.iclouddnsbypass.com</font></font></a> <br><br><h3>  Ep√≠logo </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero no haberte aburrido con mi historia, y fue interesante para ti. </font><font style="vertical-align: inherit;">No hay reglas en nuestro universo, y un proyecto en el que has estado trabajando durante un par de a√±os puede cubrirse con una cuenca de cobre, y un pasatiempo en el que pasas dos semanas puede convertirse en un servicio que sirve a millones de personas. </font><font style="vertical-align: inherit;">Deseo que no te aburras en tu trabajo y que a menudo te distraigas con lo que realmente te gusta.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es405437/">https://habr.com/ru/post/es405437/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es405423/index.html">Team Media Player Classic anunci√≥ la posible muerte del proyecto</a></li>
<li><a href="../es405425/index.html">Ciencia sobre el mundo, parte 2</a></li>
<li><a href="../es405431/index.html">No habr√° "aterrizaje jet" en Dragon</a></li>
<li><a href="../es405433/index.html">Fibra √≥ptica: pasado y presente</a></li>
<li><a href="../es405435/index.html">Impresoras con un alma amplia. Gu√≠a r√°pida de impresi√≥n de gran formato de Canon</a></li>
<li><a href="../es405439/index.html">Paleont√≥logos: un hombre podr√≠a escapar de un tiranosaurio si lo intentara</a></li>
<li><a href="../es405441/index.html">Bloqueo de mensajeros y anonimizadores aprobados por la Duma del Estado, en el oto√±o habr√° un cambio en las redes sociales</a></li>
<li><a href="../es405443/index.html">La ruta de Westeros y Essos: cartograf√≠a de mundos ficticios y reales</a></li>
<li><a href="../es405445/index.html">Bombillas LED inteligentes Xiaomi Yeelight</a></li>
<li><a href="../es405447/index.html">Elon Musk afirma haber recibido permiso para construir un t√∫nel desde Nueva York a Washington</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>