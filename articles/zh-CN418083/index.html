<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜™ ğŸ”¦ ğŸ‘©ğŸ»â€ğŸš’ ä½¿ç”¨GraphQLè€Œä¸æ˜¯RESTçš„ç®€å•æœåŠ¡å™¨ï¼Œç”¨Javaå®ç° ğŸ‘¨ğŸ¾â€ğŸ’» ğŸ¡ ğŸšª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘è¢«æä¾›å»ç†Ÿæ‚‰GraphQLã€‚ çœ‹çœ‹æ‚¨æ˜¯å¦å¯ä»¥ç”³è¯·å·¥ä½œã€‚ æœç´¢ä¹‹åï¼Œæˆ‘æ„è¯†åˆ°å¤§å¤šæ•°ä¿¡æ¯éƒ½æ˜¯è‹±æ–‡çš„ï¼Œè€Œä¸”éƒ¨åˆ†æ˜¯æ—§çš„ï¼Œè¯¥åº“æœ‰3ä¸ªç‰ˆæœ¬ï¼Œå·²ç»æœ‰5ä¸ªç‰ˆæœ¬ã€‚ æˆ‘æƒ³å¡«è¡¥è¿™ä¸ªç©ºç™½ã€‚ åœ¨æ­¤é€‰é¡¹ä¸­ï¼Œå°†æœ‰ä¸€ä¸ªå…³äºservletçš„ç¤ºä¾‹ï¼Œå³ æ²¡æœ‰å¼¹ç°§ï¼Œæ²¡æœ‰å¼¹ç°§é´ã€‚ 

 ç†è®ºéƒ¨åˆ†ï¼š 
 GraphQL-APIçš„æ–°å¤–è§‚ã€‚ V...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨GraphQLè€Œä¸æ˜¯RESTçš„ç®€å•æœåŠ¡å™¨ï¼Œç”¨Javaå®ç°</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418083/"><img src="https://habrastorage.org/webt/pq/5p/zi/pq5pzi6p0ornjxnnom8kzgtcnpu.jpeg"><br> æˆ‘è¢«æä¾›å»ç†Ÿæ‚‰GraphQLã€‚ çœ‹çœ‹æ‚¨æ˜¯å¦å¯ä»¥ç”³è¯·å·¥ä½œã€‚ æœç´¢ä¹‹åï¼Œæˆ‘æ„è¯†åˆ°å¤§å¤šæ•°ä¿¡æ¯éƒ½æ˜¯è‹±æ–‡çš„ï¼Œè€Œä¸”éƒ¨åˆ†æ˜¯æ—§çš„ï¼Œè¯¥åº“æœ‰3ä¸ªç‰ˆæœ¬ï¼Œå·²ç»æœ‰5ä¸ªç‰ˆæœ¬ã€‚ æˆ‘æƒ³å¡«è¡¥è¿™ä¸ªç©ºç™½ã€‚ åœ¨æ­¤é€‰é¡¹ä¸­ï¼Œå°†æœ‰ä¸€ä¸ªå…³äºservletçš„ç¤ºä¾‹ï¼Œå³ æ²¡æœ‰å¼¹ç°§ï¼Œæ²¡æœ‰å¼¹ç°§é´ã€‚ <br><a name="habracut"></a><br> ç†è®ºéƒ¨åˆ†ï¼š <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GraphQL-APIçš„æ–°å¤–è§‚ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">VladimirZaetsçš„</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬1éƒ¨åˆ†</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RESTå’Œ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">GraphQLçš„</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®Œç¾å¯¹æ¯”</a> <br><br> æˆ‘å°†ç«‹å³å‘æ‚¨æ˜¾ç¤ºä»£ç ï¼Œå› ä¸ºGraphQLæ˜¯ä¸€ç§æŠ½è±¡ã€‚ å¦‚æœé•¿æ—¶é—´è®¨è®ºæŠ½è±¡ï¼Œæ‚¨å¯èƒ½ä¼šè¿·è·¯ã€‚ åŸæ¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™é‡Œ</a> ã€‚ <br><br> æˆ‘æ›´æ”¹äº†ä»£ç ï¼Œå› ä¸º è¾ƒæ–°çš„ç‰ˆæœ¬æ²¡æœ‰æŸäº›ç±»ã€‚ <br><br> åˆ›å»ºä¸€ä¸ªç©ºçš„Mavené¡¹ç›®ã€‚ å°†ä¾èµ–é¡¹æ·»åŠ åˆ°é‡é¤ï¼š <br><br><pre><code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">8.0</span></span>&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">5.0</span></span>.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java-servlet&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">5.0</span></span>.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">3.0</span></span>.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;</code> </pre> <br> ä¸ºäº†ä¸è€ƒè™‘æœåŠ¡å™¨ï¼Œè¯·é‡‡å–ç å¤´è¡ŒåŠ¨ï¼š <br><br><pre> <code class="java hljs"> &lt;plugin&gt; &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt; &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">9.4</span></span>.6.v20170531&lt;/version&gt; &lt;/plugin&gt;</code> </pre> <br> ä¸æœ¬æ•™ç¨‹çš„åŒºåˆ«ï¼š <br><br><ol><li> ç°åœ¨å·²â€œå¼ƒç”¨â€ä»SimpleGraphQLServletè°ƒç”¨æ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨builderï¼Œè€Œç»§æ‰¿æ˜¯ä¸å¯èƒ½çš„ï¼Œè¯·ä½¿ç”¨ç»„åˆã€‚ </li><li> åœ¨Servletä¸­ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªSimpleGraphQLServletå¯¹è±¡ã€‚ </li><li>  GraphQLRootResolver-ä¸å†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„ï¼šGraphQLMutationResolverå’ŒGraphQLQueryResolver </li></ol><br> åŸºé‡‘ä¼šå·²å‡†å¤‡å°±ç»ªã€‚ æˆ‘ä»¬å°†æ ¹æ®æ•™ç¨‹è¿›è¡Œæ“ä½œï¼Œè€Œæ— éœ€springæˆ–JAX-RSã€‚ é€šå¸¸ï¼Œå¸¸è§„servletï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@WebServlet</span></span>(urlPatterns = <span class="hljs-string"><span class="hljs-string">"/graphql"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLEndpoint</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpServlet</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SimpleGraphQLServlet graph; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GraphQLEndpoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ graph = SimpleGraphQLServlet.builder(buildSchema()).build(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> GraphQLSchema </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildSchema</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ LinkRepository linkRepository = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LinkRepository(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SchemaParser.newParser() .file(<span class="hljs-string"><span class="hljs-string">"schema.graphqls"</span></span>) .resolvers(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Query(linkRepository), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mutation(linkRepository)) .build() .makeExecutableSchema(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">service</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ServletException, IOException </span></span>{ graph.service(req, resp); } }</code> </pre> <br> åœ¨å…¶ä¸­ï¼ŒæœåŠ¡æ–¹æ³•å°†æ•°æ®ä¼ é€’åˆ°SimpleGraphQLServletã€‚ æˆ‘ä»¬ä¸šåŠ¡çš„ä¸€åˆ‡éƒ½ç»“æŸäº†ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å¸¸è§„ä»£ç ï¼ˆé“¾æ¥å’Œé“¾æ¥å­˜å‚¨åº“ï¼‰</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Link</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String url; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String description; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Link</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url, String description)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.url = url; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> url; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> description; } }</code> </pre> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinkRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Link&gt; links; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LinkRepository</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ links = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">//add some links to start off with links.add(new Link("http://howtographql.com", "Your favorite GraphQL page")); links.add(new Link("http://graphql.org/learn/", "The official docks")); } public List&lt;Link&gt; getAllLinks() { return links; } public void saveLink(Link link) { links.add(link); } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç°åœ¨ï¼Œè¯·æ±‚ä»£ç ï¼ˆRESTä¸­çš„GETè¯·æ±‚ï¼‰å’Œå˜å¼‚ï¼ˆæ›´æ”¹è¯·æ±‚ï¼‰</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.coxautodev.graphql.tools.GraphQLQueryResolver; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Query</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLQueryResolver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> LinkRepository linkRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Query</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LinkRepository linkRepository)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linkRepository = linkRepository; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Link&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">allLinks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> linkRepository.getAllLinks(); } }</code> </pre><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.coxautodev.graphql.tools.GraphQLMutationResolver; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mutation</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLMutationResolver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> LinkRepository linkRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mutation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LinkRepository linkRepository)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linkRepository = linkRepository; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Link </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createLink</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url, String description)</span></span></span><span class="hljs-function"> </span></span>{ Link newLink = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Link(url, description); linkRepository.saveLink(newLink); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> newLink; } }</code> </pre><br></div></div><br> æˆ‘ä»¬ä»ç å¤´å¼€å§‹ï¼šå¥”è·‘ï¼Œç„¶åæŠ›å‡ºè¯·æ±‚ï¼š <br><br><pre> <code class="xml hljs">http://localhost:8080/graphql?query={allLinks{url}}</code> </pre> <br> æˆ‘ä»¬å¾—åˆ°ç­”æ¡ˆï¼š <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"data"</span></span>: {<span class="hljs-string"><span class="hljs-string">"allLinks"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://howtographql.com"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://graphql.org/learn/"</span></span>} ] } }</code> </pre> <br> è¿™æ˜¯ç¬¬ä¸€ä¸ªè¦ç‚¹ï¼šæˆ‘ä»¬æœ‰2ä¸ªå­—æ®µï¼Œå³urlå’Œdescriptionï¼Œå¹¶ä¸”ä»…æ”¶åˆ°urlä½œä¸ºå“åº”ã€‚ æ²¡é”™ï¼Œå› ä¸ºæˆ‘ä»¬åªåœ¨è¯·æ±‚ä¸­ä½¿ç”¨urlå¹¶è¦æ±‚{allLinks {url}}ã€‚ å¦‚æœæ‚¨å°†è¯·æ±‚æ›´æ”¹ä¸ºï¼š <br><br><pre> <code class="xml hljs">http://localhost:8080/graphql?query={allLinks{url,description}}</code> </pre> <br> ç­”æ¡ˆæ˜¯ï¼š <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"data"</span></span>: {<span class="hljs-string"><span class="hljs-string">"allLinks"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://howtographql.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>:<span class="hljs-string"><span class="hljs-string">"Your favorite GraphQL page"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://graphql.org/learn/"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>:<span class="hljs-string"><span class="hljs-string">"The official docks"</span></span> } ] } }</code> </pre> <br> ç°åœ¨æˆ‘ä»¬æœ‰äº†ç½‘å€å’Œæè¿°ã€‚ éƒ½æ˜¯å› ä¸ºæˆ‘ä»¬é—®äº†ä»–ä»¬ã€‚ <br><br> è¯·æ±‚æ›´æ”¹æ•°æ®ã€‚ <br><br>  UIå®ç”¨ç¨‹åºæœ‰ç‚¹å¤æ‚ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå®¹æ˜“å¾—å¤šã€‚ <br><br>  1.æˆ‘ä»¬å»çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ°å€</a> <br>  2.å¤åˆ¶æ•´ä¸ªindex.htmlæ–‡ä»¶ <br>  3.æ›¿æ¢2è¡Œï¼š <br><br> è¿™äº›æ˜¯ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./node_modules/graphiql/graphiql.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./node_modules/graphiql/graphiql.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br> åœ¨è¿™äº›ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//cdn.jsdelivr.net/npm/graphiql@0.11.2/graphiql.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//cdn.jsdelivr.net/npm/graphiql@0.11.2/graphiql.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  4.ç”¨åˆšåˆšæ³¨é”€çš„é¡¹ç›®æ›¿æ¢é¡¹ç›®ä¸­çš„index.html ... \ src \ main \ webapp \ index.htmlã€‚ <br><br> æˆ‘ä»¬é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œè½¬åˆ°<i>localhostï¼š8080</i>å¹¶è½¬åˆ°è¿™æ ·çš„é¡µé¢ <br><br><img src="https://habrastorage.org/webt/ut/yj/lg/utyjlgvopre8skdthwq-rxawmqe.jpeg"><br> ç¬¬ä¸€ä¸ªå¥½å¤„ï¼šå·¦ä¾§æ˜¯â€œæ–‡æ¡£â€æŒ‰é’®ï¼Œè¯¥æŒ‰é’®éšè—äº†é¡¹ç›®çš„ç°æˆæ–‡æ¡£ã€‚ å¯ä»¥è¯·æ±‚çš„å­—æ®µï¼Œå¯ä»¥è°ƒç”¨çš„æ–¹æ³•ä»¥åŠè¦ä¼ é€’çš„å†…å®¹æ•°é‡ä¸å¤šã€‚ <br><br><img src="https://habrastorage.org/webt/oo/tw/_p/ootw_pzjaljr1l-rb-6lny6nq_m.jpeg"><br><br> å®ƒè¿˜æä¾›äº†æ‚¨æœ€å–œæ¬¢çš„æ±½è½¦ã€‚ <br><br><img src="https://habrastorage.org/webt/i0/mi/lb/i0milb5ihkt1c5miqfeo9tjj2-s.jpeg"><br><br> ç°åœ¨ï¼Œæˆ‘ä»¬å°†å‘é€ä¸€ä¸ªå˜å¼‚è¯·æ±‚ã€‚ æˆ‘ä»¬æœ‰ä¸€ä¸ªå˜å¼‚ï¼Œå³â€œæ·»åŠ é“¾æ¥â€ã€‚ <br><br><img src="https://habrastorage.org/webt/3v/c-/yb/3vc-yb0jjrcehlce6i7k9kznqpu.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">æŸ¥è¯¢æ–‡å­—ï¼š</b> <div class="spoiler_text"><pre> <code class="javascript hljs">mutation createLink{ createLink(url:<span class="hljs-string"><span class="hljs-string">"http://test.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">description</span></span>:<span class="hljs-string"><span class="hljs-string">"test mutation"</span></span>){ url description } }</code> </pre> <br> è¿‡äº†ä¸€ä¼šå„¿ï¼Œæˆ‘å‘ç°å˜è¯è¿™ä¸ªè¯å°±è¶³å¤Ÿäº†ï¼ˆä¸éœ€è¦å†™ååˆ›å»ºé“¾æ¥ï¼‰ <br><br><pre> <code class="javascript hljs">mutation { createLink(url:<span class="hljs-string"><span class="hljs-string">"http://test.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">description</span></span>:<span class="hljs-string"><span class="hljs-string">"test mutation"</span></span>){ url description } }</code> </pre> <br><br></div></div><br> å³ æˆ‘ä»¬åªæ˜¯é€šè¿‡åç§°æ¥è°ƒç”¨è¯¥æ–¹æ³•å¹¶å°†å‚æ•°ä¼ é€’ç»™å®ƒã€‚ æ‚¨è¿˜å¯ä»¥å‡ºå–æˆ‘ä»¬æƒ³è·å¾—çš„ä¿¡æ¯ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å¦‚ä½•æŸ¥çœ‹çªå˜è¯·æ±‚</b> <div class="spoiler_text">  1.æ‰“å¼€F12å¼€å‘äººå‘˜é€‰é¡¹å¡å¹¶æ‰“å¼€ç½‘ç»œï¼Œæˆ‘ä»¬å‘é€è¯·æ±‚ã€‚ <br><br><img src="https://habrastorage.org/webt/oq/zf/0v/oqzf0vmpkf1oil2cfp8dwrvheim.jpeg"><br><br>  2.åœ¨æäº¤çš„è¯·æ±‚ä¸­ï¼ŒRMB-&gt;å¤åˆ¶-&gt;å¤åˆ¶ä¸ºcURLï¼ˆbashï¼‰ <br><br><img src="https://habrastorage.org/webt/kh/kh/ig/khkhigyuoa_tv3xjnxzvmwr80j0.jpeg"><br><br>  2.1ã€‚ å¯¹äºé‚£äº›ä½¿ç”¨curlçš„äººæ¥è¯´ï¼Œè¿™å°±è¶³å¤Ÿäº†ï¼Œå¯¹äºé‚£äº›å¸Œæœ›çœ‹åˆ°é‚®é€’å‘˜èµ°å¾—æ›´è¿œçš„äºº <br><br>  3.æ‰“å¼€é‚®é€’å‘˜ï¼Œç„¶åå•å‡»å·¦ä¸Šè§’çš„å¯¼å…¥ã€‚ <br><br><img src="https://habrastorage.org/webt/ix/gl/nm/ixglnmzt2ehziujmz7teumj9soc.jpeg"><br><br>  4.åœ¨æ‰“å¼€çš„çª—å£ä¸­ï¼Œé€‰æ‹©â€œç²˜è´´åŸå§‹æ–‡æœ¬â€ï¼Œç„¶åå°†å¤åˆ¶çš„curlè¯·æ±‚ç²˜è´´åˆ°æ­¤å¤„ <br><br><img src="https://habrastorage.org/webt/s7/dt/pw/s7dtpwb4g6vpafvsm9yyhhf6ju0.jpeg"><br><br> æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯·æ±‚æ­£æ–‡ï¼š <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"query"</span></span>:<span class="hljs-string"><span class="hljs-string">"mutation createLink{\n createLink(url:\"http://test.com\", description:\"test mutation\"){\n\t\turl\n description\n }\n}"</span></span>,<span class="hljs-string"><span class="hljs-string">"variables"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>,<span class="hljs-string"><span class="hljs-string">"operationName"</span></span>:<span class="hljs-string"><span class="hljs-string">"createLink"</span></span>}    â€œ\nâ€.</code> </pre> <br></div></div><br> åœ¨æ­¤é˜¶æ®µï¼Œå·²ç»æœ‰ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼Œé‚£é‡Œæœ‰å­˜å‚¨ï¼Œæˆ‘ä»¬ä¸ºè¯·æ±‚è®¾ç½®äº†URLã€‚ <br><br> æˆ‘å–œæ¬¢è¿™ä¸ªä¸»æ„ã€‚ å‰å°æœ¬èº«å¯ä»¥ç¡®å®šå½“å‰éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Œä»¥åŠå¦‚ä½•èŠ‚çœæµé‡ã€‚ å½“æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œæ—§åŠŸèƒ½å°†ç»§ç»­å·¥ä½œï¼Œå‰ç«¯å°†ä»…æ¥æ”¶å…¶éœ€è¦çš„å†…å®¹ï¼Œä»…æ­¤è€Œå·²ã€‚ <br><br>  Githubç¤ºä¾‹ä»£ç  <br>  2ä¸ªåˆ†æ”¯ï¼š <br><br> å¤§å¸ˆ-å¦‚ä½•åœ¨å®˜æ–¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ•™ç¨‹ä¸­å®Œæˆ</a> <br><br>  update_versionæ˜¯æ›´æ–°ç‰ˆæœ¬ï¼Œå…·æœ‰æ–°ç‰ˆæœ¬çš„ä¾èµ–å…³ç³»ã€‚ <br><br> å‚è€ƒæ–‡çŒ®ï¼š <br><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç å¤´</a> <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹æ•™ç¨‹ï¼ˆé’ˆå¯¹ä¸åŒè¯­è¨€ï¼‰</a> <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆæ­¥äº†è§£</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN418083/">https://habr.com/ru/post/zh-CN418083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN418071/index.html">ä¸ºäººä»¬æœåŠ¡çš„ITè¡Œä¸šï¼šåœ£å½¼å¾—å ¡çš„TechTrainéŸ³ä¹èŠ‚</a></li>
<li><a href="../zh-CN418075/index.html">å¯ä»¥åœ¨3Dæ‰“å°æœºä¸Šæ‰“å°çš„5ä»¶äº‹[è§†é¢‘]</a></li>
<li><a href="../zh-CN418077/index.html">â€œä¸æ³¨æ„â€äº‹æ•…ï¼š24/7æŠ€æœ¯æ”¯æŒæ“ä½œæ¨¡å¼çš„ç»Ÿè®¡ä¾æ®</a></li>
<li><a href="../zh-CN418079/index.html">æœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€-2018</a></li>
<li><a href="../zh-CN418081/index.html">åœ¨ç”Ÿäº§ä¸­ç»„ç»‡å®‰å…¨æµ‹è¯•ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN418085/index.html">åœ¨JavaScriptä¸­ä½¿ç”¨Promises</a></li>
<li><a href="../zh-CN418087/index.html">80ï¼…çš„è‡ªåŠ©å¼é€€æˆ¿æœ‰é£é™©</a></li>
<li><a href="../zh-CN418089/index.html">SolidCraft CNCé“£åºŠæ¦‚è¿°</a></li>
<li><a href="../zh-CN418091/index.html">æœ‰å…³NASçš„æ–‡ç« å’Œæ–‡çŒ®æ¸…å•</a></li>
<li><a href="../zh-CN418093/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ ç¬¬3è®²ï¼šç¼“å†²åŒºæº¢å‡ºï¼šæ¼æ´åˆ©ç”¨å’Œä¿æŠ¤ï¼Œç¬¬2éƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>