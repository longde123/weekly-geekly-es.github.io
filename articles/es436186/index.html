<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåà üë©üèª‚Äçüéì üïú Qu√© pensar durante la entrevista NALSD üë©üèº‚Äçüé® üë©‚Äçüëß‚Äçüë¶ ‚ôâÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hay muchas publicaciones sobre c√≥mo es una t√≠pica entrevista de codificaci√≥n en Google. Pero, aunque no es tan ampliamente descrito y discutido, a men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qu√© pensar durante la entrevista NALSD</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/google/blog/436186/">  Hay muchas publicaciones sobre c√≥mo es una t√≠pica entrevista de codificaci√≥n en Google.  Pero, aunque no es tan ampliamente descrito y discutido, a menudo tambi√©n hay una entrevista de dise√±o del sistema.  Para una posici√≥n SRE es NALSD: dise√±o de sistema grande no abstracto.  La diferencia clave entre las entrevistas SWE y SRE consiste en estas dos letras: NA. <br><br><img src="https://habrastorage.org/webt/zr/dx/lz/zrdxlzdyc1xmixaibmzonhnkup0.jpeg" align="right" width="400" title="Biblioteca en Google-Zurich">  Entonces, ¬øcu√°l es la diferencia?  ¬øC√≥mo estar preparado para esta entrevista?  Seamos no abstractos y usemos un ejemplo.  Para ser m√°s no abstractos, tomemos algo del mundo material, de modo que no se le pregunte exactamente lo mismo en la entrevista real (al menos, no en la entrevista de Google) :) <br><br>  Entonces, dise√±emos un sistema de biblioteca p√∫blica.  Para los libros de papel, como has visto en todas partes.  El texto completo a continuaci√≥n fue escrito de una vez en aproximadamente una hora, para mostrarle aproximadamente las √°reas que deber√≠a poder cubrir / tocar durante la entrevista.  Por favor, disculpe alg√∫n desorden, as√≠ es como pienso (por lo tanto, soy). <br><a name="habracut"></a><blockquote><h4>  Entrevista NALSD: dise√±o de un sistema de biblioteca p√∫blica. </h4>  En primer lugar, reunimos caracter√≠sticas de carga, ya sea a trav√©s de preguntas al entrevistador, o haciendo una suposici√≥n razonable (sin olvidar decirlo en voz alta).  Dado que la entrevista se refiere a sistemas escalables, esperamos una ciudad con una gran poblaci√≥n (digamos, 1M +).  Tenemos algunas opciones: un gran edificio o bibliotecas locales m√°s almacenamiento.  Creo que esto √∫ltimo es m√°s razonable, ya que tambi√©n nos permite expandir el sistema a m√∫ltiples ciudades. <br><br>  Ahora centr√©monos en el sistema para una sola ciudad;  deber√≠amos poder aplicar el mismo dise√±o (con correcciones menores) nuevamente para expandirlo a nivel de pa√≠s.  Entonces, tenemos una ciudad con m√°s de 1 mill√≥n de habitantes.  Para facilitar los c√°lculos, redondeemos a 1 mill√≥n de posibles lectores.  Todo lector quiere leer algo independientemente del otro lector, en momentos arbitrarios en el tiempo.  Entonces podemos modelar el flujo de lectores como un proceso de Poisson.  Hacer las matem√°ticas correctamente es un poco dif√≠cil durante el per√≠odo de la entrevista, as√≠ que simplifiquemos una vez m√°s, y solo digamos que aproximadamente el 1% de los posibles lectores vendr√≠an a tomar un libro todos los d√≠as.  Por lo tanto, presumir 10000 solicitudes de libros por d√≠a. <br><br>  Entonces, nuestra tarea ahora se convirti√≥ en: proporcionar la capacidad de entregar 10000 libros por d√≠a (eso tambi√©n significa que necesitamos poder recuperar estos 10000 libros alg√∫n d√≠a m√°s tarde) en una ciudad de 1M +.  Esta estimaci√≥n muestra que la soluci√≥n de construcci√≥n √∫nica no se mantendr√° (para proporcionar los libros para las personas de 1M +, nuestra biblioteca debe ser accesible dentro de un per√≠odo de tiempo razonable, de lo contrario su voluntad de tomar un libro se agota en el embotellamiento).  Entonces, intentemos adivinar cu√°l es un tama√±o razonable para las bibliotecas locales que tenemos que construir.  Una estimaci√≥n absolutamente correcta implicar√≠a la densidad de poblaci√≥n, latencias de accesibilidad, etc., pero como esto no afectar√° el dise√±o general, nuevamente podemos simplificarlo considerando una distribuci√≥n uniforme de unidades similares.  Todav√≠a no sabemos qu√© tan grandes deber√≠an ser las unidades; por ejemplo, podr√≠amos distribuir 10000 bibliotecas con 1 libro en toda la ciudad, pero obviamente no funcionar√°.  Yendo un nivel m√°s bajo. <br><br>  Una sola unidad de biblioteca local.  Para que sea √∫til, la mayor√≠a de los visitantes deber√≠an poder encontrar el libro que desean.  Eso significa que necesitamos rastrear el uso y pronosticar la demanda de las solicitudes m√°s populares para estar listos para atenderlas.  Adem√°s, deber√≠amos tener una amplia gama de art√≠culos menos populares.  Mi suposici√≥n aproximada es una biblioteca con menos de 1000 nombres de libros, con docenas de copias para los m√°s populares y piezas sueltas para las colas.  El tiempo promedio para leer un libro en nuestra biblioteca var√≠a de 3 d√≠as a 2 semanas (por supuesto, el tiempo real depende del libro en s√≠, lo que en un caso real requerir√≠a un an√°lisis adicional);  vamos a estimar como 1 semana por libro.  Eso significa que un libro que se entreg√≥ volver√° en 1 semana, por lo que deber√≠amos tener el suministro de los mejores libros para 1 semana (despu√©s de una semana se reponen de las devoluciones). <br><br>  Supongamos un factor de expansi√≥n promedio de 6, que nos llevar√≠a a una capacidad de almacenamiento de 6000 libros.  Menos almacenamiento significar√≠a una escasez en los nombres m√°s populares (bueno, las unidades m√°s peque√±as a√∫n podr√≠an ser √∫tiles, como un peque√±o kiosco de centro comercial con "Crep√∫sculo", pero manteng√°moslo fuera de nuestro dise√±o ahora). <br><br>  En un estado estable, los retornos y los pr√©stamos todos los d√≠as son casi similares (con cierta dispersi√≥n), pero tambi√©n debemos planificar los retornos m√°ximos (que podr√≠an ser eventos de sincronizaci√≥n externos: vacaciones, tendencias, etc.).  La forma correcta es hacer y ejecutar un modelo estad√≠stico.  Pero por ahora, mantengamos ‚Öì como un b√∫fer.  Eso significa que deber√≠amos tener 6000 libros listos para repartir m√°s espacio para el 2000. <br><br>  En resumen: necesitamos una unidad de biblioteca con 8000 libros de almacenamiento.  Se espera que sea costoso reabastecerlo todos los d√≠as, por lo que deber√≠amos esperar que esto sea suficiente durante una o dos semanas.  Dos semanas, 6000 libros, con posibles retornos sesgados, son alrededor de 300 libros por d√≠a.  Para el d√≠a de apertura, podemos llenar todo el almacenamiento (8000 libros) para sembrar el volumen inicial de 2000 de libros.  2000 en 3 d√≠as = 600 libros al d√≠a, con b√∫fer de inclinaci√≥n = 800 libros al d√≠a. <br><br>  Calculemos el rendimiento y las limitaciones de nuestro almacenamiento.  1 libro tiene alrededor de 2 cm lineales de espacio, 8000 libros = 160 metros.  Podemos doblarlo verticalmente 4 veces, por lo que son 40 metros lineales.  Si lo dividimos en bastidores de ~ 5 metros, obtendremos 8 bastidores con 4 estantes, cada uno de 5 metros de largo.  Un bibliotecario (o robo-bibliotecario) deber√≠a poder trabajar con dos bastidores;  la extracci√≥n de un solo libro tomar√°: 5 segundos para caminar hacia los estantes, 5 segundos para agarrar / poner el libro en su lugar, 5 segundos para caminar de regreso (15 segundos en total).  4 bibliotecarios nos dar√°n un rendimiento m√°ximo de 15 libros por minuto.  Por lo tanto, un manejo de 900 libros por hora como m√°ximo. <br><br>  Si tambi√©n tenemos en cuenta el tiempo de manejo de la solicitud (10s), el tiempo de b√∫squeda (5s), el tiempo de seguimiento en el sistema (2s), obtendremos un pico de 400 libros / hora.  Por lo tanto, deber√≠amos poder manejar nuestra estimaci√≥n de 800 libros al d√≠a en 2 horas. <br><br>  Calculemos otros aspectos: para poder entregar 400 libros / hora por 4 bibliotecarios, necesitamos tener suficiente espacio para 100 personas esperando en la fila, y las puertas de entrada deben permitir que 400 personas / hora pasen en ambas direcciones. .  Eso significa que nuestro principal estrangulamiento ser√≠a el espacio de espera y las puertas del edificio. <br><br>  Eso significa que deber√≠amos poder encontrar un equilibrio √≥ptimo entre el espacio de almacenamiento y el √°rea de espera durante los c√°lculos adecuados para el dise√±o real. <br><br>  Eso es todo para este nivel, es hora de seguir adelante.  Tenemos una estimaci√≥n de las demandas generales de la red de bibliotecas como 10000 libros / d√≠a.  Una unidad es de 800 libros / d√≠a, por lo que necesitamos 12.5 unidades.  Si hacemos una distribuci√≥n geogr√°fica uniforme, cada lector debe estar dentro del rango de 1-2 unidades (en el l√≠mite de la ciudad) y 3-4 (dentro de la ciudad).  Eso le dar√≠a la capacidad de suavizar un poco los picos y / o cubrir la escasez de los mejores libros. <br><br>  Tambi√©n sabemos que todas las bibliotecas se pueden cerrar en cualquier momento (incendio, inspecci√≥n, repintado de manijas de las puertas del refrigerador, etc.), y que cuantas m√°s unidades tengamos, mayor ser√° la probabilidad de coincidencia de estos eventos.  Por lo tanto, necesitamos 1 unidad redundante por cada 5-6 unidades.  Entonces, en total, necesitamos 15 unidades para cumplir con las demandas de nuestra ciudad, si mantenemos el suministro requerido dentro de cada unidad. <br><br>  Como ya pensamos anteriormente, necesitamos reponer el almacenamiento cada semana o dos (antes adivinamos dos): alrededor de la mitad del almacenamiento debe reemplazarse, para seguir las tendencias, etc.  Entonces 4000 libros de nueva entrega y 4000 libros eliminados de √©l.  En cada reabastecimiento, necesitamos extraer 4000 libros e insertar 4000 nuevas entradas.  Con nuestro rendimiento de 400 libros / hora, un reabastecimiento ser√° de 10 horas muy intensas.  Bueno, todav√≠a parece estar bien, especialmente porque las operaciones masivas suelen ser m√°s baratas;  pero de todos modos, debemos tener en cuenta que la operaci√≥n de reposici√≥n es 5 veces m√°s costosa que solo servir. <br><br>  Un libro promedio (2cm * 20cm * 30cm) tiene 1.5 litros de volumen, entonces 4000 libros = 6 metros c√∫bicos.  Esto deber√≠a caber en un solo veh√≠culo de carga ligera promedio.  1 metro c√∫bico de papel pesa 600 kg, 6 m ^ 3 = 3.6 toneladas.  Un veh√≠culo de carga liviano promedio puede manejar ~ 1.5 toneladas, por lo que necesitamos 3 de ellos.  M√°s uno para redundancia.  Tenemos 15 unidades de biblioteca que se actualizan una vez cada 2 semanas, lo que significa que este ser√≠a un horario apretado, por lo que necesitamos un autom√≥vil m√°s. <br><br>  <i>Y todav√≠a no pensamos c√≥mo y de d√≥nde mover√≠an estos autos los libros, por lo que nuestro dise√±o tambi√©n necesitar√° almacenes de proveedores y puntos de recolecci√≥n de basura para libros que ya no son populares ...</i> <br></blockquote><br>  Se acab√≥ el tiempo.  Entonces, ¬øqu√© tiene de especial la pregunta NALSD?  Se espera escalabilidad de cualquier dise√±o de sistema grande.  Pero en una entrevista NALSD, uno tiene que ser <b>espec√≠fico</b> . <br><br>  Puede ver arriba muchas suposiciones y suposiciones, pero todos los c√°lculos se basaron en n√∫meros realizados previamente.  Tambi√©n he tratado de explicar c√≥mo llegar al n√∫mero correcto, pero es f√°cil cansarse / aburrirse y comenzar a fallar para hacerlo.  Adem√°s, es f√°cil quedarse con alg√∫n n√∫mero de su memoria, sin proporcionar una buena explicaci√≥n de sus razones ... Pero dado que el dise√±o es muy espec√≠fico, si comete un error con cualquier n√∫mero, puede cambiar el n√∫mero y volver a calcular el resto. <br><br>  <i>Todav√≠a recuerdo c√≥mo durante mi entrevista NALSD me qued√© con IOPS de un solo HDD igual a 600, solo porque hab√≠a trabajado recientemente en la optimizaci√≥n de una matriz de incursiones, donde toda la matriz ten√≠a 600 IOPS ... El entrevistador se sorprendi√≥ un poco: 600 IOPS por conducir?</i>  <i>: D</i> <br><br>  Durante la entrevista, el entrevistador podr√≠a corregir cualquiera de sus suposiciones y conjeturas.  Adem√°s, el entrevistador podr√≠a agregar algunas restricciones adicionales (que olvid√≥, no sab√≠a, no pregunt√≥ o simplemente ajust√≥ la tarea porque le gustar√≠a o cree que esta es una mejor manera de continuar).  Como est√° operando √∫nicamente con n√∫meros espec√≠ficos, eso requerir√≠a peque√±as actualizaciones de n√∫meros siguiendo las ecuaciones ya dadas. <br><br>  Si la correcci√≥n de una suposici√≥n requiere un redise√±o completo del sistema, es un error de dise√±o o una correcci√≥n incorrecta, o la nueva suposici√≥n nos lleva m√°s all√° de la aplicabilidad del dise√±o (y no es tan raro en la vida real).  Es importante no perderse este hecho: debe validar los n√∫meros que obtiene, para asegurarse de que sean realistas, tanto durante el dise√±o como despu√©s de cualquier correcci√≥n. <br><br>  Como SRE, tenemos que pensar en la escalabilidad de los sistemas reales dentro de las limitaciones de las limitaciones reales del hardware.  Podr√≠a haber un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo</a> hermoso que intercambia una complejidad de tiempo gigantesca a una cierta cantidad de RAM ... Pero a√∫n as√≠, 1PiB de RAM por 1 CPU no es algo que podamos construir hoy.  Entonces, si tenemos 1 PiB de RAM, tambi√©n tenemos alrededor de 10k CPU.  O 20k.  O incluso 30k.  Eso significa que debemos centrarnos en el √≥ptimo real (local), accesible hoy en realidad, y no en el √≥ptimo global accesible en condiciones ideales. <br><br>  No debe recordar n√∫meros precisos, pero debe poder aplicar reglas generales para obtener √≥rdenes de magnitud.  Como, IOPS: HDD es de alrededor de 100s, SSD es de alrededor de 100s miles.  Pero estos miles de miles vienen con una diferencia de precio entre HDD y SSD, como 1: 3 o 1: 4.  Tambi√©n est√° ignorando todo: espacio en bastidor, blades para las unidades, puertos de red y otras cosas, que ya no son baratas una vez que trabajas en peta y exa-escalas. <br><br>  Ahora p√≥ngase c√≥modo en su silla, rel√°jese e intente dise√±ar un sistema de crecimiento y entrega de huevos de gallina frescos con suscripci√≥n. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436186/">https://habr.com/ru/post/es436186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436176/index.html">C√≥mo configurar un proyecto front-end con formato automatizado, linting, pruebas y documentaci√≥n autogenerada</a></li>
<li><a href="../es436178/index.html">An√°lisis √°gil. Mitos y realidad</a></li>
<li><a href="../es436180/index.html">Cosas que debe saber si desea cambiar de PHP a Python</a></li>
<li><a href="../es436182/index.html">Otro evento para la posici√≥n CSS: pegajoso</a></li>
<li><a href="../es436184/index.html">Slack planea hacer p√∫blico eludiendo el mecanismo tradicional de OPI</a></li>
<li><a href="../es436188/index.html">Libertad para volar a tu alcance con el DJI Smart Controller</a></li>
<li><a href="../es436192/index.html">Simulaci√≥n del navegador de f√≠sica</a></li>
<li><a href="../es436194/index.html">C√≥mo funciona el sistema de videovigilancia Ivideon: descripci√≥n general de la aplicaci√≥n m√≥vil</a></li>
<li><a href="../es436196/index.html">Voyeurismo probador: c√≥mo espiar a las personas correctamente y por qu√© es necesario</a></li>
<li><a href="../es436198/index.html">Generador de mazmorras de nodo gr√°fico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>