<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå∫ üññüèø üêù Automa√ß√£o de ilumina√ß√£o de um terreno em uma vila ou o primeiro passo para uma casa inteligente üí™üèª üèë üë©üèæ‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante muito tempo, escrevi sobre minha casa inteligente, e aqui vieram umas f√©rias longas, pelas quais n√£o fui a lugar nenhum e h√° uma boa raz√£o par...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automa√ß√£o de ilumina√ß√£o de um terreno em uma vila ou o primeiro passo para uma casa inteligente</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388711/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante muito tempo, escrevi sobre minha casa inteligente, e aqui vieram umas f√©rias longas, pelas quais n√£o fui a lugar nenhum e h√° uma boa raz√£o para cumprir meu plano. Estou pensando em dividir o texto em v√°rios pequenos artigos que ser√£o mais f√°ceis de ler (e provavelmente escrever√£o tamb√©m). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, o pre√¢mbulo. Tudo come√ßou com o fato de eu colocar alguns postes no local da vila e instalar ilumina√ß√£o neles. Depois disso, tive a ideia de automatizar, de alguma forma, ligar e desligar a luz.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A op√ß√£o simples de acender a luz √† noite e apag√°-la de manh√£ com a ajuda de um retransmissor de foto n√£o se encaixava, pois a luz entrava nas janelas da casa e impedia o sono. </font><font style="vertical-align: inherit;">A fam√≠lia disse a esta op√ß√£o um n√£o amig√°vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pr√≥xima op√ß√£o foi um cron√¥metro com um calend√°rio REV-302 da Novatek-Electro. </font><font style="vertical-align: inherit;">A desvantagem dessa op√ß√£o era que ela mais ou menos permitia acender a luz no crep√∫sculo (calend√°rio crepuscular), mas era definitivamente imposs√≠vel determinar quando era necess√°rio desligar a luz - √†s vezes fomos dormir em aldeias √†s 22h, √†s vezes √† 1 da manh√£ - sem modo! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei a pensar em poss√≠veis cen√°rios. </font><font style="vertical-align: inherit;">Na primeira vers√£o (bastante desajeitada), havia tr√™s modos:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dia - a luz est√° apagada</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crep√∫sculo - a luz est√° acesa</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noite - a luz acende por um tempo pelo sensor de movimento.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A altern√¢ncia entre os modos diurno e crepuscular foi obviamente implementada usando um retransmissor de foto. </font><font style="vertical-align: inherit;">O conceito de troca da noite crepuscular deveria ser realizado depois de um certo tempo (30 ou 60 minutos) ap√≥s as luzes no terra√ßo se apagarem. </font><font style="vertical-align: inherit;">O terra√ßo da vila √© um lugar onde todos sempre ficam e, quando todos v√£o para a cama, a luz apaga. </font><font style="vertical-align: inherit;">Os sensores de movimento deveriam estar nas sa√≠das da casa ou no corredor e acender as luzes no local quando algu√©m vai ao banheiro √† noite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse cen√°rio me pareceu muito complicado e simplifiquei-o abandonando os sensores de movimento. </font><font style="vertical-align: inherit;">De uma forma simplificada, o script ficou assim:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a luz acende quando o crep√∫sculo se inicia (rel√© fotogr√°fico)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a luz apaga quando a manh√£ chega (tamb√©m retransmiss√£o de fotos)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a luz pode ser ligada e desligada a qualquer momento por um interruptor.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar da simplicidade do script, era imposs√≠vel implement√°-lo sem dispositivos especiais. Aqui em um dos f√≥runs, eles sugeriram o uso do rel√© program√°vel √Åries PR110. </font></font><br>
<br>
<img src="https://habrastorage.org/files/d0b/d0d/7bc/d0bd0d7bc8d54d3e9c83144a6aadeece.jpg" alt="imagem" width="250"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de estudar a documenta√ß√£o do rel√©, decidi que era exatamente isso que eu precisava. A prop√≥sito (pensei sobre isso muito mais tarde), esse rel√© permite implementar o primeiro cen√°rio. A √∫nica coisa que foi um pouco embara√ßosa - me pareceu que usar um revezamento para uma tarefa t√£o simples era como um canh√£o de pardal, mas, por falta de outras op√ß√µes, decidi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O rel√© √© programado no ambiente visual especial OWEN Logic, no qual o programa √© criado na forma de diagramas de blocos. A abordagem visual da programa√ß√£o tamb√©m desempenhou um papel - eu n√£o queria me lembrar de linguagens de programa√ß√£o, mas tudo parecia simples (muito depois mudei um pouco minha atitude em rela√ß√£o √† programa√ß√£o visual - isso √© realmente bom para tarefas muito simples, mas, assim que a complexidade aumenta, a programa√ß√£o visual se torna um fardo ) Nesse ambiente, implementei minha l√≥gica e verifiquei no modo de emula√ß√£o - tudo funciona exatamente como eu queria. </font></font><br>
<img src="https://habrastorage.org/files/d50/203/37a/d5020337acc742d58306ea25cae90be8.png" alt="imagem"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainda n√£o tenho certeza de qu√£o otimizado o algoritmo √© implementado, mas como tudo funciona, n√£o h√° nada para tocar))</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi poss√≠vel passar √† pr√°tica. Comprei um rel√© program√°vel, um rel√© fotogr√°fico e um interruptor de bot√£o. Eu tamb√©m tive que comprar um dispositivo especial para conectar ao computador para carregar os programas no rel√© e para depura√ß√£o. N√£o havia nada especialmente para depurar, mas era imposs√≠vel carregar sem ele. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ab1/de7/d15/ab1de7d157ab4207b5bffa9773ce2278.jpg" alt="imagem"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banco de ensaio montado na cozinha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em maio, quando fomos √† vila, instalei um rel√©, carreguei o programa e, h√° dois anos, tudo est√° funcionando bem, sem uma √∫nica interven√ß√£o.</font></font><br>
<img src="https://habrastorage.org/files/269/a5f/b1f/269a5fb1f1e74352a2f3f838f43230e4.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poderia ser encontrada uma solu√ß√£o mais ideal para esta tarefa? </font><font style="vertical-align: inherit;">Provavelmente sim, se voc√™ mesmo soldar o circuito de controle. </font><font style="vertical-align: inherit;">Essa op√ß√£o tamb√©m foi considerada, mas meu conhecimento claramente n√£o era suficiente para criar um circuito por conta pr√≥pria e, embora eu saiba como soldar, n√£o gosto muito. </font><font style="vertical-align: inherit;">Desde ent√£o, conheci e estudei diferentes controladores, mas para tarefas simples, ainda acho que os rel√©s program√°veis ‚Äã‚Äãs√£o uma boa alternativa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste ver√£o, comecei a refazer toda a fia√ß√£o da casa e, finalmente, pretendo colocar tudo em uma caixa organizada)))</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt388711/">https://habr.com/ru/post/pt388711/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt388697/index.html">Quanto os astronautas e os astronautas recebem</a></li>
<li><a href="../pt388699/index.html">Saturno 5: como voc√™ pode perder a tecnologia de foguetes</a></li>
<li><a href="../pt388703/index.html">Cientistas finlandeses viram o grande futuro da R√∫ssia no uso de energia renov√°vel</a></li>
<li><a href="../pt388705/index.html">Ask Ethan No. 41: Uma Data com uma Parte Remota do Universo</a></li>
<li><a href="../pt388707/index.html">Htm e texto</a></li>
<li><a href="../pt388713/index.html">O s√©timo per√≠odo da tabela peri√≥dica est√° agora preenchido, e isso √© oficialmente</a></li>
<li><a href="../pt388715/index.html">Na nova vers√£o do Android N, o Google mudar√° para o OpenJDK</a></li>
<li><a href="../pt388719/index.html">A l√≥gica do pensamento - spin-off</a></li>
<li><a href="../pt388723/index.html">Morreu Peter Naur, um dos criadores de Algol e a nota√ß√£o BNF</a></li>
<li><a href="../pt388725/index.html">A l√≥gica do spin-off 2: alguns algoritmos de encadeamento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>