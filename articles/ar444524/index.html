<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๏ธ ๐ถ๐พ ๐ณ Lambdas: ูู C ++ 11 ุฅูู C ++ 20. ุงูุฌุฒุก 1 ๐คธ๐ฝ ๐๏ธ ๐คฐ๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุณุงุก ุงูุฎูุฑ ุฃููุง ุงูุฃุตุฏูุงุก. ููุฏ ุฃุนุฏุฏูุง ูู ุงูููู ุชุฑุฌูุฉ ููุฌุฒุก ุงูุฃูู ูู ุงูููุงู "Lambdas: ูู C ++ 11 ุฅูู C ++ 20" . ุชู ุชูููุช ูุดุฑ ูุฐู ุงููุงุฏุฉ ูุชุชุฒุงูู ูุน ุฅุทูุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lambdas: ูู C ++ 11 ุฅูู C ++ 20. ุงูุฌุฒุก 1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/444524/" style=";text-align:right;direction:rtl"> ูุณุงุก ุงูุฎูุฑ ุฃููุง ุงูุฃุตุฏูุงุก.  ููุฏ ุฃุนุฏุฏูุง ูู ุงูููู ุชุฑุฌูุฉ ููุฌุฒุก ุงูุฃูู ูู ุงูููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Lambdas: ูู C ++ 11 ุฅูู C ++ 20"</a> .  ุชู ุชูููุช ูุดุฑ ูุฐู ุงููุงุฏุฉ ูุชุชุฒุงูู ูุน ุฅุทูุงู ุงูุฏูุฑุฉ ุงูุชุฏุฑูุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"C ++ Developer"</a> ุ ูุงูุชู ุชุจุฏุฃ ุบุฏูุง. <br><br>  ุชุนุฏ ุชุนุจูุฑุงุช Lambda ูุงุญุฏุฉ ูู ุฃููู ุงูุฅุถุงูุงุช ูู C ++ 11 ูุชุณุชูุฑ ูู ุงูุชุทูุฑ ูุน ูู ูุนูุงุฑ ูุบุฉ ุฌุฏูุฏ.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุชุนุฑู ุนูู ุชุงุฑูุฎูู ููููู ูุธุฑุฉ ุนูู ุชุทูุฑ ูุฐุง ุงูุฌุฒุก ุงูููู ูู C ++ ุงูุญุฏูุซ. <br><br><img src="https://habrastorage.org/webt/s8/xa/l8/s8xal8zqrhmjeh-omwslxujvsmw.png"><br><br>  ุงูุฌุฒุก ุงูุซุงูู ูุชุงุญ ููุง: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lambdas: ูู C ++ 11 ุฅูู C ++ 20 ุ ุงูุฌุฒุก 2</a> <br><a name="habracut"></a><br>  <b>ุฏุฎูู</b> <br><br>  ูู ุงุฌุชูุงุน ูุญูู ููุฌููุนุฉ C ++ ุ ูุงู ูุฏููุง ุฌูุณุฉ ุจุฑูุฌุฉ ูุจุงุดุฑุฉ ุญูู "ุชุงุฑูุฎ" ุชุนุจูุฑุงุช lambda.  ูุงุฏ ุงููุญุงุฏุซุฉ ุฎุจูุฑ C ++ ุ Tomasz Kamiลski ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุธุฑ ููู ุชุนุฑูู Linkedin ุงูุฎุงุต ุจู Thomas</a> ).  ููุง ูู ุงูุญุฏุซ: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lambdas: ูู C ++ 11 ุฅูู C ++ 20 - C ++ User Group Krakow</a> <br><br>  ูุฑุฑุช ุฃู ุชุฃุฎุฐ ุงูุฑูุฒ ูู ุชููุงุณ (ุจุฅุฐูู!) ุ ุตูู ูุฅูุดุงุก ููุงูุฉ ูููุตูุฉ. <br><br>  ุณูุจุฏุฃ ุจุงุณุชูุดุงู C ++ 03 ูุงูุญุงุฌุฉ ุฅูู ุชุนุจูุฑุงุช ูุธูููุฉ ูุญููุฉ ูุถุบูุทุฉ.  ุซู ููุชูู ุฅูู C ++ 11 ู C ++ 14.  ูู ุงูุฌุฒุก ุงูุซุงูู ูู ุงูุณูุณูุฉ ุ ุณูุฑู ุชุบููุฑุงุช ูู C ++ 17 ูุญุชู ูููู ูุธุฑุฉ ุนูู ูุง ุณูุญุฏุซ ูู C ++ 20. <br><br>  <b>Lambdas ูู C ++ 03</b> <br><br>  ูู ุงูุจุฏุงูุฉ ุ ูููู ุฃู ุชุฃุฎุฐ <code>std::algorithms</code> ุ ูุซู <code>std::sort</code> ุ ุฃู ูุงุฆู ูุณูู ูุชุทูู ุนููู ุนูุงุตุฑ ุงูุญุงููุฉ.  ููุน ุฐูู ุ ูู C ++ 03 ุ ุชุถูู ูุฐุง ูุคุดุฑุงุช ููุท ุฅูู ุงููุธุงุฆู ูุงูููุนุงูููุงุช. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;algorithm&gt; #include &lt;vector&gt; struct PrintFunctor { void operator()(int x) const { std::cout &lt;&lt; x &lt;&lt; std::endl; } }; int main() { std::vector&lt;int&gt; v; v.push_back(1); v.push_back(2); std::for_each(v.begin(), v.end(), PrintFunctor()); }</span></span></span></span></code> </pre> <br>  ุฑูุฒ ุงูุชุดุบูู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  ููู ุงููุดููุฉ ุชููู ูู ุฃูู ูุงู ุนููู ูุชุงุจุฉ ูุธููุฉ ูููุตูุฉ ุฃู ุนุงูู ุชูุฌูู ูู ูุทุงู ูุฎุชูู ุ ูููุณ ูู ูุทุงู ุงุณุชุฏุนุงุก ุงูุฎูุงุฑุฒููุฉ. <br><br>  ูุญู ูุญุชูู ุ ูุฏ ุชููุฑ ูู ูุชุงุจุฉ ูุตู ุฏุฑุงุณู ูุญูู - ูุฃู C ++ ูุฏุนู ุจูุงุก ุงูุฌููุฉ ูุฐุง ุฏุงุฆููุง.  ููููุง ูุง ุชุนูู ... <br><br>  ุฃููู ูุธุฑุฉ ุนูู ูุฐุง ุงูููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PrintFunctor</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; } }; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; v; v.push_back(<span class="hljs-number"><span class="hljs-number">1</span></span>); v.push_back(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::for_each(v.begin(), v.end(), PrintFunctor()); }</code> </pre> <br>  ุญุงูู ุชุฌููุนู ูุน <code>-std=c++98</code> ูุณุชุฑู ุงูุฎุทุฃ ุงูุชุงูู ูู GCC: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">error: <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> argument <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">'template&lt;class _IIter, class _Funct&gt; _Funct std::for_each(_IIter, _IIter, _Funct)'</span></span> uses local type <span class="hljs-string"><span class="hljs-string">'main()::PrintFunctor'</span></span></code> </pre> <br>  ุจุดูู ุฃุณุงุณู ุ ูู C ++ 98/03 ุ ูุง ููููู ุฅูุดุงุก ูุซูู ููุงูุจ ุจููุน ูุญูู. <br>  ูุธุฑูุง ููู ูุฐู ุงููููุฏ ุ ุจุฏุฃุช ุงููุฌูุฉ ูู ุชุทููุฑ ููุฒุฉ ุฌุฏูุฏุฉ ูููููุง ุฃู ูุทูููุง ููุทูู ุนูููุง "ูู ุงูููุงู" ... "ุชุนุจูุฑุงุช lambda"! <br><br>  ุฅุฐุง ูุธุฑูุง ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">N3337</a> - ุงูุฅุตุฏุงุฑ ุงูุฃุฎูุฑ ูู C ++ 11 ุ ูุณูุฑู ูุณููุง ูููุตููุง ุนู lambdas: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda]</a> . <br><br>  <b>ุจุฌุงูุจ C ++ 11</b> <br><br>  ุฃุนุชูุฏ ุฃูู ุชูุช ุฅุถุงูุฉ lambdas ุฅูู ุงููุบุฉ ุจุญููุฉ.  ูุณุชุฎุฏููู ุจูุงุก ุงูุฌููุฉ ุงูุฌุฏูุฏ ุ ููู ุงููุชุฑุฌู "ููุชุฏ" ุฅูู ูุฆุฉ ุญููููุฉ.  ูุจุงูุชุงูู ุ ูุฏููุง ูู ุงููุฒุงูุง (ูุฃุญูุงููุง ุงูุนููุจ) ููุบุฉ ููุชูุจุฉ ุจุตุฑุงูุฉ ุญููููุฉ. <br><br>  ูููุง ููู ูุซุงู ูุฑูุฒ ุฃุณุงุณู ููุธูุฑ ุฃูุถูุง ูุงุฆู functor ุงููุญูู ุงููุทุงุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;algorithm&gt; #include &lt;vector&gt; int main() { struct { void operator()(int x) const { std::cout &lt;&lt; x &lt;&lt; '\n'; } } someInstance; std::vector&lt;int&gt; v; v.push_back(1); v.push_back(2); std::for_each(v.begin(), v.end(), someInstance); std::for_each(v.begin(), v.end(), [] (int x) { std::cout &lt;&lt; x &lt;&lt; '\n'; } ); }</span></span></span></span></code> </pre> <br>  ูุซุงู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">WandBox</a> <br><br>  ููููู ุฃูุถูุง ุงูุชุญูู ูู CppInsights ุ ูุงูุฐู ููุถุญ ููููุฉ ููุงู ุงููุชุฑุฌู ุจุชูุฏูุฏ ุงูููุฏ: <br><br>  ุฃููู ูุธุฑุฉ ุนูู ูุฐุง ุงููุซุงู: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CppInsighs: ุงุฎุชุจุงุฑ ูุงูุฏุง</a> <br><br>  ูู ูุฐุง ุงููุซุงู ุ ูุญูู ุงููุชุฑุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">[] (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; }</code> </pre> <br><br>  ูู ุดูุก ูุดุงุจู ููุฐุง (ุดูู ูุจุณุท): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; } } someInstance;</code> </pre> <br>  ุจูุงุก ุฌููุฉ ุงูุชุนุจูุฑ Lambda: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">[] () { ; } ^ ^ ^ | | | | | : <span class="hljs-keyword"><span class="hljs-keyword">mutable</span></span>, exception, trailing <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>, ... | | |   |     </code> </pre><br>  ุจุนุถ ุงูุชุนุงุฑูู ูุจู ุฃู ูุจุฏุฃ: <br><br>  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda # 2]</a> : <br><br>  ุชูููู ุชุนุจูุฑ lambda ููุชุฌ ุนูู ูููุฉ ูุคูุชุฉ.  ูุณูู ูุฐุง ุงููุงุฆู ุงููุคูุช ูุงุฆู <i>ุฅุบูุงู</i> . <br><br>  ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda # 3]</a> : <br><br>  ููุน ุชุนุจูุฑ lambda (ูุงูุฐู ูู ุฃูุถูุง ููุน ูุงุฆู ุงูุฅุบูุงู) ูู ููุน ูุฑูุฏ ูู ููุนู ุจุฏูู ุงุชุญุงุฏ ูู ุงููุฆุฉ ูุณูู <i>ููุน ุงูุฅุบูุงู</i> . <br><br>  ุจุนุถ ุงูุฃูุซูุฉ ุนูู ุชุนุจูุฑุงุช ูุงูุฏุง: <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">[](<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a*f; } [](MyClass t) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> a = t.compute(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a &lt; b; }</code> </pre> <br>  <b>ููุน ูุงูุฏุง</b> <br><br>  ูุธุฑูุง ูุฃู ุงููุชุฑุฌู ูููุฏ ุงุณููุง ูุฑูุฏูุง ููู ูุงูุฏุง ุ ูุง ูููู ูุนุฑูุฉ ุฐูู ููุฏููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> myLambda = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2.0</span></span> * a; }</code> </pre> <br>  ุนูุงูุฉ ุนูู ุฐูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda]</a> : <br>  ูุญุชูู ููุน ุงูุฅุบูุงู ุงููุฑุชุจุท ุจุชุนุจูุฑ lambda ุนูู ูููุดุฆ ุงูุชุฑุงุถู ุนู ุจูุนุฏ ([dcl.fct.def.delete]) ููุดุบู ุชุนููู ุนู ุจูุนุฏ. <br><br>  ูุฐูู ุ ูุง ููููู ุงููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [&amp;x, &amp;y]() { ++x; ++y; }; <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(foo) fooCopy;</code> </pre> <br>  ุณูุคุฏู ุฐูู ุฅูู ุญุฏูุซ ุงูุฎุทุฃ ุงูุชุงูู ูู GCC: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">error: use of deleted function <span class="hljs-string"><span class="hljs-string">'main()::&lt;lambda()&gt;::&lt;lambda&gt;()'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(foo) fooCopy; ^~~~~~~ note: a lambda closure type has a deleted <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> constructor</code> </pre> <br>  <b>ุงุณุชุฏุนุงุก ุงููุดุบู</b> <br><br>  ุชุชู ุชุฑุฌูุฉ ุงูููุฏ ุงูุฐู ุชุถุนู ูู ูุต lambda ุฅูู ุฑูุฒ ุงููุดุบู () ูู ููุน ุงูุฅุบูุงู ุงูููุงุจู. <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุฐู ุทุฑููุฉ ุซุงุจุชุฉ ูุถููุฉ.  ููููู ุชุบููุฑู ุนู ุทุฑูู ุชุญุฏูุฏ mutable ุจุนุฏ ุฅุนูุงู ุงููุนููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> myLambda = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a) <span class="hljs-keyword"><span class="hljs-keyword">mutable</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; a; }</code> </pre> <br>  ุนูู ุงูุฑุบู ูู ุฃู ุงูุทุฑููุฉ ุงูุซุงุจุชุฉ ููุณุช "ูุดููุฉ" ูุงูุฏุง ุฏูู ูุฌูุฏ ูุงุฆูุฉ ุงูุชูุงุท ูุงุฑุบุฉ ... ุฅููุง ูููุฉ ุนูุฏูุง ุชุฑูุฏ ุงูุชูุงุท ุดูุก ูุง. <br><br>  <b>ุฃุณุฑ</b> <br><br>  [] ูุง ููุฏู lambda ูุญุณุจ ุ ุจู ูุญุชูู ุฃูุถูุง ุนูู ูุงุฆูุฉ ุจุงููุชุบูุฑุงุช ุงูุชู ุชู ุงูุชูุงุทูุง.  ููุฐุง ูุง ูุณูู ูุงุฆูุฉ ุงููุจุถ. <br><br>  ุนู ุทุฑูู ุงูุชูุงุท ูุชุบูุฑ ุ ููููู ุฅูุดุงุก ุนุถู ูุณุฎุฉ ูู ูุฐุง ุงููุชุบูุฑ ูู ููุน ุงูุฅุบูุงู.  ุซู ุฏุงุฎู ุฌุณู ูุงูุฏุง ููููู ุงููุตูู ุฅููู. <br><br>  ุจูุงุก ุงูุฌููุฉ ุงูุฃุณุงุณู ูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  [&amp;] - ุงูุชูุงุท ุญุณุจ ุงููุฑุฌุน ุ ูุชู ุงูุฅุนูุงู ุนู ูุทุงู ุฌููุน ุงููุชุบูุฑุงุช ูู ุงูุชุฎุฒูู ุงูุชููุงุฆู </li><li style=";text-align:right;direction:rtl">  [=] - ุงูุงูุชูุงุท ุญุณุจ ุงููููุฉ ุ ูุชู ูุณุฎ ุงููููุฉ </li><li style=";text-align:right;direction:rtl">  [xุ &amp; y] - ููุชูุท x ุจุดูู ุตุฑูุญ ุจุงููููุฉ ุ ู y ุจุงูุฑุฌูุน ุฅูููุง </li></ul><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span>, y = <span class="hljs-number"><span class="hljs-number">1</span></span>; { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [&amp;x, &amp;y]() { ++x; ++y; }; foo(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }</code> </pre><br>  ููููู ุงููุนุจ ูุน ุงููุซุงู ุงููุงูู ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ุชุญุฏูุฏ <code>[=]</code> ุฃู <code>[&amp;]</code> ูููู ุฃู ูููู ููุงุฆููุง - ูุธุฑูุง ูุฃูู ููุชูุท ุฌููุน ุงููุชุบูุฑุงุช ูู ุงูุชุฎุฒูู ุงูุชููุงุฆู ุ ุฅูุง ุฃูู ูู ุงููุงุถุญ ุงูุชูุงุท ุงููุชุบูุฑุงุช ุจูุถูุญ.  ูุจุงูุชุงูู ุ ูููู ูููุชุฑุฌู ุฃู ูุญุฐุฑู ูู ุงูุชุฃุซูุฑุงุช ุบูุฑ ุงููุฑุบูุจ ูููุง (ุงูุธุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุงุญุธุงุช ุนูู ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ูุงูุซุงุจุชุฉ) <br><br>  ููููู ุฃูุถูุง ูุฑุงุกุฉ ุงููุฒูุฏ ูู ุงูููุฑุฉ 31 ูู Effective Modern C ++ ุจูุงุณุทุฉ Scott Meyers: "ุชุฌูุจ ุฃูุถุงุน ุงูุงูุชูุงุท ุงูุงูุชุฑุงุถูุฉ". <br><br>  ูุงูุชุจุงุณ ููู: <br><blockquote style=";text-align:right;direction:rtl">  ุฅุบูุงู C ++ ูุง ุชุฒูุฏ ูู ุนูุฑ ุงูุงุฑุชุจุงุทุงุช ุงูููุชูุทุฉ. </blockquote><br><br>  <b>ูุชููุจ</b> <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูููู ุนุงูู ููุน ุงูุฅุบูุงู () ุซุงุจุชูุง ุ ููุง ููููู ุชุนุฏูู ุงููุชุบูุฑุงุช ุงูุชู ุชู ุงูุชูุงุทูุง ุฏุงุฎู ูุต ุชุนุจูุฑ lambda. <br>  ุฅุฐุง ููุช ุชุฑูุฏ ุชุบููุฑ ูุฐุง ุงูุณููู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ ุงููููุฉ ุงูุฃุณุงุณูุฉ ุงููุงุจูุฉ ููุชุบููุฑ ุจุนุฏ ูุงุฆูุฉ ุงููุนููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span>, y = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [x, y]() <span class="hljs-keyword"><span class="hljs-keyword">mutable</span></span> { ++x; ++y; }; foo(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;</code> </pre> <br>  ูู ุงููุซุงู ุฃุนูุงู ุ ูููููุง ุชุบููุฑ ููู x ู y ... ููู ูุฐู ููุณุช ุณูู ูุณุฎ x ู y ูู ุงููุทุงู ุงููุฑูู. <br><br>  <b>ุงูุชูุงุท ูุชุบูุฑ ุนุงููู</b> <br><br>  ุฅุฐุง ูุงู ูุฏูู ูููุฉ ุนููููุฉ ุซู ุงุณุชุฎุฏูุช [=] ูู lambda ุ ููุฏ ุชุนุชูุฏ ุฃู ุงููููุฉ ุงูุนุงูุฉ ูุชู ุงูุชูุงุทูุง ุฃูุถูุง ูู ุฎูุงู ุงููููุฉ ... ูููููุง ููุณุช ูุฐูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> global = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; global &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [=] () <span class="hljs-keyword"><span class="hljs-keyword">mutable</span></span> { ++global; }; foo(); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; global &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; [] { ++global; } (); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; global &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; [global] { ++global; } (); }</code> </pre> <br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br>  ูุชู ุงูุชูุงุท ุงููุชุบูุฑุงุช ููุท ูู ุงูุชุฎุฒูู ุงูุชููุงุฆู.  ูุฏ ูุตุฏุฑ ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู ุงูุชุญุฐูุฑ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">warning: capture of variable <span class="hljs-string"><span class="hljs-string">'global'</span></span> with non-automatic storage duration</code> </pre> <br>  ุณูุธูุฑ ูุฐุง ุงูุชุญุฐูุฑ ููุท ุฅุฐุง ููุช ุจุงูุชูุงุท ุงููุชุบูุฑ ุงูุนุงู ุจุดูู ุตุฑูุญ ุ ูุฐูู ุฅุฐุง ููุช ุชุณุชุฎุฏู <code>[=]</code> ุ ููู ูุณุงุนุฏู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู. <br>  ุงููุญูู ุงูุจุฑูุฌู Clang ูููุฏ ุฃูุซุฑ ูุฃูู ููุดุฆ ุฎุทุฃ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">error: <span class="hljs-string"><span class="hljs-string">'global'</span></span> cannot be captured because it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> have automatic storage duration</code> </pre> <br>  ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  <b>ุงูุชูุงุท ูุชุบูุฑุงุช ุซุงุจุชุฉ</b> <br><br>  ุงูุชูุงุท ุงููุชุบูุฑุงุช ุงูุซุงุจุชุฉ ูุดุจู ุงูุงูุชูุงุท ุงูุนุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; void bar() { static int static_int = 10; std::cout &lt;&lt; static_int &lt;&lt; std::endl; auto foo = [=] () mutable { ++static_int; }; foo(); std::cout &lt;&lt; static_int &lt;&lt; std::endl; [] { ++static_int; } (); std::cout &lt;&lt; static_int &lt;&lt; std::endl; [static_int] { ++static_int; } (); } int main() { bar(); }</span></span></span></span></code> </pre> <br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  ุงูุงุณุชูุชุงุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span></code> </pre> <br>  ููุฑุฉ ุฃุฎุฑู ุ ุณูู ูุธูุฑ ุชุญุฐูุฑ ููุท ุฅุฐุง ููุช ุจุงูุชูุงุท ุตุฑุงุญุฉ ูุชุบูุฑ ุซุงุจุช ุ ูุฐูู ุฅุฐุง ููุช ุชุณุชุฎุฏู <code>[=]</code> ุ ููู ูุณุงุนุฏู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู. <br><br>  <b>ุงููุจุถ ุนูู ุนุถู ุงูุตู</b> <br><br>  ูู ุชุนุฑู ูุง ูุญุฏุซ ุจุนุฏ ุชูููุฐ ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;functional&gt; struct Baz { std::function&lt;void()&gt; foo() { return [=] { std::cout &lt;&lt; s &lt;&lt; std::endl; }; } std::string s; }; int main() { auto f1 = Baz{"ala"}.foo(); auto f2 = Baz{"ula"}.foo(); f1(); f2(); }</span></span></span></span></code> </pre><br>  ุฑูุฒ ุชุนูู ูุงุฆู Baz ุซู ุงูููุงููุงุช <code>foo()</code> .  ูุงุญุธ ุฃู <code>foo()</code> ุชูุฑุฌุน lambda (ุงููุฎุฒูุฉ ูู <code>std::function</code> ) ุงูุชู ุชูุชูุท ุนุถููุง ูู ุงููุตู. <br><br>  ูุธุฑูุง ูุฃููุง ูุณุชุฎุฏู ูุงุฆูุงุช ูุคูุชุฉ ุ ูุง ูููููุง ุงูุชุฃูุฏ ูู ูุง ุณูุญุฏุซ ุนูุฏ ุงุณุชุฏุนุงุก f1 ู f2.  ูุฐู ูุดููุฉ ุงุฑุชุจุงุท ูุชุฏูู ูุคุฏู ุณููู ุบูุฑ ูุนุฑูู. <br><br>  ูุจุงููุซู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function">&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s; }; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> s; }; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp;&amp; f1 = Bar{<span class="hljs-string"><span class="hljs-string">"ala"</span></span>}.foo(); <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br>  ูุนุจ ูุน ุฑูุฒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  ูุฑุฉ ุฃุฎุฑู ุ ุฅุฐุง ุญุฏุฏุช ุงูุงูุชูุงุท ุจุดูู ุตุฑูุญ ([ุตูุฑ]): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::function&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>()&gt; foo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [s] { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; s &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }; }</code> </pre><br>  ุงููุชุฑุฌู ุณูููุน ุงูุฎุทุฃ ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">In member function <span class="hljs-string"><span class="hljs-string">'std::function&lt;void()&gt; Baz::foo()'</span></span>: error: capture of non-variable <span class="hljs-string"><span class="hljs-string">'Baz::s'</span></span> error: <span class="hljs-string"><span class="hljs-string">'this'</span></span> was <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> captured <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> lambda function ...</code> </pre> <br>  ุงูุธุฑ ูุซุงู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  <b>ูุงุฆูุงุช ูุงุฏุฑุฉ ุนูู ุงูุชุญุฑู ููุท</b> <br><br>  ุฅุฐุง ูุงู ูุฏูู ูุงุฆู ูุง ูููู ูููู (ุนูู ุณุจูู ุงููุซุงู ุ unique_ptr) ุ ููุง ููููู ูุถุนู ูู ูุงูุฏุง ููุชุบูุฑ ุชู ุงูุชูุงุทู.  ูุง ูุนูู ุงูุงูุชูุงุท ุญุณุจ ุงููููุฉ ุ ูุฐุง ูุง ููููู ุงูุชูุงุทู ุฅูุง ุจุงูุฑุฌูุน ุฅููู ... ููุน ุฐูู ุ ูู ูููู ูุฐุง ุงูุชุญููู ุฅููู ุ ูุฑุจูุง ูุฐุง ููุณ ูู ูุง ุชุฑูุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unique_ptr</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; p(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">10</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [p] () {}; <span class="hljs-comment"><span class="hljs-comment">//  ....</span></span></code> </pre><br>  <b>ุฅููุงุฐ ุงูุซูุงุจุช</b> <br><br>  ุฅุฐุง ููุช ุจุงูุชูุงุท ูุชุบูุฑ ุซุงุจุช ุ ูุณูุชู ุงูุญูุงุธ ุนูู ุงูุซุจุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [x] () <span class="hljs-keyword"><span class="hljs-keyword">mutable</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_const&lt;<span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(x)&gt;::value &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; x = <span class="hljs-number"><span class="hljs-number">11</span></span>; }; foo();</code> </pre> <br>  ุงูุธุฑ ุงูููุฏ: <br><br>  <b>ููุน ุงูุนูุฏุฉ</b> <br><br>  ูู C ++ 11 ุ ููููู ุชุฎุทู <code>trailing</code> ููุน ุงูุฅุฑุฌุงุน lambda ุ ููู ุซู ูููู ุงููุญูู ุงูุจุฑูุฌู ุจุฅุฎุฑุงุฌู ูู. <br><br>  ูู ุงูุจุฏุงูุฉ ุ ุงูุชุตุฑ ุฅุฎุฑุงุฌ ููุน ุงููููุฉ ุงููุฑุฌุนุฉ ุนูู lambdas ุงูุชู ุชุญุชูู ุนูู ุนุจุงุฑุฉ ุฅุฑุฌุงุน ูุงุญุฏุฉ ุ ูููู ุชูุช ุฅุฒุงูุฉ ูุฐุง ุงูุชูููุฏ ุจุณุฑุนุฉ ุ ูุฃูู ูู ุชูู ููุงู ูุดุงูู ูู ุชุทุจูู ุฅุตุฏุงุฑ ุฃูุซุฑ ููุงุกูุฉ. <br><br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุงุฑูุฑ C ++ ุงูููุงุณูุฉ ุนู ุนููุจ ุงููุบุฉ ูุงููุดููุงุช ุงูููุจููุฉ</a> (ุดูุฑูุง ูุชููุงุณ ููุนุซูุฑ ุนูู ุงูุฑุงุจุท ุงูุตุญูุญ!) <br><br>  ูุจุงูุชุงูู ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ C ++ 11 ุ ูููู ูุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุงุณุชูุชุงุฌ ููุน ูููุฉ ุงูุฅุฑุฌุงุน ุฅุฐุง ูุงู ูููู ุชุญููู ุฌููุน ุนุจุงุฑุงุช ุงูุฅุฑุฌุงุน ุฅูู ููุณ ุงูููุน. <br><blockquote style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ูู ุนุจุงุฑุงุช ุงูุฅุฑุฌุงุน ุชูุฑุฌุน ุงูุชุนุจูุฑ ูุฃููุงุน ุงูุฅุฑุฌุงุน ุจุนุฏ ุชุญููู ุงููููุฉ ุฅูู ูููุฉ rvalue (7.1 [conv.lval]) ูุงูุตููู ุฅูู ุงููุคุดุฑ (7.2 [conv.array]) ูุงูุฏุงูุฉ ุฅูู ุงููุคุดุฑ (7.3 [conv. func]) ูู ููุณ ุงูููุน ุงูุนุงู ุ <br></blockquote><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> baz = [] () { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( x &lt; <span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x * <span class="hljs-number"><span class="hljs-number">1.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x * <span class="hljs-number"><span class="hljs-number">2.1</span></span>; };</code> </pre><br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  ููุงู <code>return</code> ูู lambda ุฃุนูุงู ุ ููููู ุฌููุนุง ูุดูุฑูู ุฅูู <code>double</code> ุ ูุฐูู ูููู ูููุชุฑุฌู ุฃู ูุณุชูุชุฌ ุงูููุน. <br><br>  <b>IIFE - ุงุณุชุฏุนุงุก ุฏุงูุฉ ููุฑูุง ุงูุชุนุจูุฑ</b> <br><br>  ูู ุงูุฃูุซูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ููุช ุจุชุนุฑูู lambda ุซู ุณููุชู ุจุงุณุชุฎุฏุงู ูุงุฆู ุงูุฅุบูุงู ... ูููู ูููู ุฃูุถูุง ุงุณุชุฏุนุงุคู ุนูู ุงูููุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span>, y = <span class="hljs-number"><span class="hljs-number">1</span></span>; [&amp;]() { ++x; ++y; }(); <span class="hljs-comment"><span class="hljs-comment">// &lt;-- call () std::cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y &lt;&lt; std::endl;</span></span></code> </pre> <br>  ูููู ุฃู ูููู ูุซู ูุฐุง ุงูุชุนุจูุฑ ูููุฏูุง ูู ุงูุชููุฆุฉ ุงููุนูุฏุฉ ูููุงุฆูุงุช ุงูุซุงุจุชุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> val = []() { <span class="hljs-comment"><span class="hljs-comment">/*   ... */</span></span> }();</code> </pre> <br>  ููุฏ ูุชุจุช ุงููุฒูุฏ ุญูู ูุฐุง ุงูููุถูุน ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">IIFE ููุฑุญูุฉ ุงูุชููุฆุฉ ุงููุนูุฏุฉ</a> . <br><br>  <b>ุชุญููู ุฅูู ูุคุดุฑ ูุธููุฉ</b> <br><blockquote style=";text-align:right;direction:rtl">  ูุญุชูู ููุน ุงูุฅุบูุงู ูุชุนุจูุฑ lambda ุจุฏูู ุงูุชูุงุท ุนูู ูุธููุฉ ุถูููุฉ ููุชูุญุฉ ุบูุฑ ุงูุชุฑุงุถูุฉ ูุชุญููู ุซุงุจุช ุฅูู ูุคุดุฑ ุฅูู ุฏุงูุฉ ููุง ููุณ ุงููุนููุฉ ูุฃููุงุน ุงูุฅุฑุฌุงุน ููุดุบู ูุงุณุชุฏุนุงุก ุฏุงูุฉ ูู ููุน ุงูุฅุบูุงู.  ูุฌุจ ุฃู ุชููู ุงููููุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุฏุงูุฉ ุงูุชุญููู ูุฐู ูู ุนููุงู ุงููุธููุฉ ุ ูุงูุชู ุนูุฏ ุงุณุชุฏุนุงุก ููุง ููุณ ุชุฃุซูุฑ ุงุณุชุฏุนุงุก ุงููุดุบู ููุธููุฉ ูู ููุน ูุดุงุจู ูููุน ุงูุฅุบูุงู. </blockquote>  ุจูุนูู ุขุฎุฑ ุ ููููู ุชุญููู lambdas ุฏูู ุงูุงูุชูุงุท ุฅูู ูุคุดุฑ ุฏุงูุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; void callWith10(void(* bar)(int)) { bar(10); } int main() { struct { using f_ptr = void(*)(int); void operator()(int s) const { return call(s); } operator f_ptr() const { return &amp;call; } private: static void call(int s) { std::cout &lt;&lt; s &lt;&lt; std::endl; }; } baz; callWith10(baz); callWith10([](int x) { std::cout &lt;&lt; x &lt;&lt; std::endl; }); }</span></span></span></span></code> </pre> <br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  <b>ุชุญุณููุงุช ูู C ++ 14</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">N4140</a> ุงูููุงุณูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฏุง</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda]</a> . <br><br>  ุฃุถุงู C ++ 14 ุชุญุณูููู ููููู ุฅูู ุชุนุจูุฑุงุช lambda: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุชูุท ูุน ูููุฆ </li><li style=";text-align:right;direction:rtl">  ูุงูุฏุง ุงููุดุชุฑูุฉ </li></ul><br>  ูุฐู ุงูููุฒุงุช ุญู ุงูุนุฏูุฏ ูู ุงููุดุงูู ุงูุชู ูุงูุช ูุฑุฆูุฉ ูู C ++ 11. <br><br>  <b>ููุน ุงูุนูุฏุฉ</b> <br><br>  ุชู ุชุญุฏูุซ ุฅุฎุฑุงุฌ ููุน ุงููููุฉ ุงููุฑุชุฏุฉ ูู ุชุนุจูุฑ lambda ููุชูุงูู ูุน ููุงุนุฏ ุงูุฅุฎุฑุงุฌ ุงูุชููุงุฆู ูููุธุงุฆู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda # 4]</a> <br><blockquote style=";text-align:right;direction:rtl">  ููุน ุงูุฅุฑุฌุงุน ูู lambda ูู ุชููุงุฆู ุ ูุชู ุงุณุชุจุฏุงูู ุจููุน ุงูุฅุฑุฌุงุน ุงูุฎููู ุ ุฅุฐุง ุชู ุชูููุฑู ู / ุฃู ุงุณุชูุชุงุฌู ูู ุนุจุงุฑุงุช ุงูุฅุฑุฌุงุน ุ ููุง ูู ููุถุญ ูู [dcl.spec.auto]. </blockquote>  <b>ููุชูุท ูุน ูููุฆ</b> <br><br>  ุจุงุฎุชุตุงุฑ ุ ูููููุง ุฅูุดุงุก ูุชุบูุฑ ุนุถู ุฌุฏูุฏ ูู ููุน ุงูุฅุบูุงู ุซู ุงุณุชุฎุฏุงูู ุฏุงุฎู ุชุนุจูุฑ lambda. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">11</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [z = x+y]() { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; z &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; }; foo(); }</code> </pre> <br>  ูููู ุฃู ูุญู ูุฐุง ุงูุนุฏูุฏ ูู ุงููุดููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุน ุงูุฃููุงุน ุงููุชููุฑุฉ ููุท ููุชููู. <br><br>  <b>ุงูุฅุฒุงุญุฉ</b> <br><br>  ุงูุขู ูููููุง ููู ุงููุงุฆู ุฅูู ุนุถู ูู ููุน ุงูุฅุบูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;memory&gt; int main() { std::unique_ptr&lt;int&gt; p(new int[10]); auto foo = [x=10] () mutable { ++x; }; auto bar = [ptr=std::move(p)] {}; auto baz = [p=std::move(p)] {}; }</span></span></span></span></code> </pre> <br>  <b>ุงูุฃูุซู</b> <br><br>  ููุฑุฉ ุฃุฎุฑู ูู ุงุณุชุฎุฏุงูู ูุฃุณููุจ ุชุญุณูู ูุญุชูู.  ุจุฏูุงู ูู ุญุณุงุจ ุจุนุถ ุงููููุฉ ูู ูู ูุฑุฉ ูุณูููุง lambda ุ ูููููุง ุญุณุงุจูุง ูุฑุฉ ูุงุญุฏุฉ ูู ุงูููููุฆ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;algorithm&gt; #include &lt;vector&gt; #include &lt;memory&gt; #include &lt;iostream&gt; #include &lt;string&gt; int main() { using namespace std::string_literals; std::vector&lt;std::string&gt; vs; std::find_if(vs.begin(), vs.end(), [](std::string const&amp; s) { return s == "foo"s + "bar"s; }); std::find_if(vs.begin(), vs.end(), [p="foo"s + "bar"s](std::string const&amp; s) { return s == p; }); }</span></span></span></span></code> </pre> <br>  <b>ุงูุชูุงุท ูุชุบูุฑ ุนุถู</b> <br><br>  ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุชููุฆุฉ ูุงูุชูุงุท ูุชุบูุฑ ุนุถู.  ุซู ูููููุง ุงูุญุตูู ุนูู ูุณุฎุฉ ูู ูุชุบูุฑ ุงูุนุถู ููุง ุชููู ุจุดุฃู ุงูุฑูุงุจุท ุงููุชุฏููุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Baz</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [s=s] { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; s &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }; } <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> s; }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> f1 = Baz{<span class="hljs-string"><span class="hljs-string">"ala"</span></span>}.foo(); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> f2 = Baz{<span class="hljs-string"><span class="hljs-string">"ula"</span></span>}.foo(); f1(); f2(); }</code> </pre> <br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br><br>  ูู <code>foo()</code> ููุชูุท ูุชุบูุฑ ุงูุนุถู ุจูุณุฎู ุฅูู ููุน ุงูุฅุบูุงู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญู ูุณุชุฎุฏู auto ูุฅุฎุฑุงุฌ ุงูุทุฑููุฉ ุจุงููุงูู (ุณุงุจููุง ุ ูู C ++ 11 ุ ูููููุง ุงุณุชุฎุฏุงู <code>std::function</code> ). <br><br>  <b>ุชุนุจูุฑุงุช ูุงูุฏุง ุงูุนุงูุฉ</b> <br><br>  ุชุญุณู ูุจูุฑ ุขุฎุฑ ูู ูุงูุฏุง ุงููุนูู. <br>  ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ C ++ 14 ุ ููููู ุงููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> foo = [](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> x) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; }; foo(<span class="hljs-number"><span class="hljs-number">10</span></span>); foo(<span class="hljs-number"><span class="hljs-number">10.1234</span></span>); foo(<span class="hljs-string"><span class="hljs-string">"hello world"</span></span>);</code> </pre> <br>  ูุฐุง ููุงูุฆ ุงุณุชุฎุฏุงู ุฅุนูุงู ูุงูุจ ูู ุจูุงู ููุงููุฉ ูู ููุน ุงูุฅุบูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T x)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; x &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; } } someInstance;</code> </pre><br>  ูุซู ูุฐุง ุงูููุจุง ุงููุนูู ูููู ุฃู ูููู ูููุฏูุง ุฌุฏูุง ุนูุฏูุง ูููู ูู ุงูุตุนุจ ุงุณุชูุชุงุฌ ููุน ูุง. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; numbers { { <span class="hljs-string"><span class="hljs-string">"one"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> }, {<span class="hljs-string"><span class="hljs-string">"two"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span> }, { <span class="hljs-string"><span class="hljs-string">"three"</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">//      pair&lt;const string, int&gt;! std::for_each(std::begin(numbers), std::end(numbers), [](const std::pair&lt;std::string, int&gt;&amp; entry) { std::cout &lt;&lt; entry.first &lt;&lt; " = " &lt;&lt; entry.second &lt;&lt; '\n'; } );</span></span></code> </pre><br>  ูู ุฃูุง ูุฎุทุฆ ููุงุ  ูู ูุญุชูู ุงูุฅุฏุฎุงู ุนูู ุงูููุน ุงูุตุญูุญุ <br>  . <br>  . <br>  . <br>  ุฑุจูุง ูุง ุ ูุธุฑูุง ูุฃู ููุน ุงููููุฉ std :: map ูู <code>std::pair&lt;const Key, T&gt;</code> .  ูุฐูู ูุฅู ุงูููุฏ ุงูุฎุงุต ุจู ุณูููู ุจุนูู ูุณุฎ ุฅุถุงููุฉ ูู ุงูุฎุทูุท ... <br>  ูููู ุฅุตูุงุญ ูุฐุง ูุน <code>auto</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::for_each(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::begin(numbers), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::end(numbers), [](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; entry) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; entry.first &lt;&lt; <span class="hljs-string"><span class="hljs-string">" = "</span></span> &lt;&lt; entry.second &lt;&lt; <span class="hljs-string"><span class="hljs-string">'\n'</span></span>; } );</code> </pre> <br>  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ุงูููุฏ ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Wandbox</a> <br><br>  <b>ุงุณุชูุชุงุฌ</b> <br><br>  ูุง ููุง ูู ูุตุฉ! <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุจุฏุฃูุง ูู ุงูุฃูุงู ุงูุฃููู ูุชุนุจูุฑุงุช lambda ูู C ++ 03 ู C ++ 11 ูุงูุชูููุง ุฅูู ุฅุตุฏุงุฑ ูุญุณูู ูู C ++ 14. <br><br>  ููุฏ ุฑุฃูุช ููููุฉ ุฅูุดุงุก ูุงูุฏุง ุ ููุง ูู ุงููููู ุงูุฃุณุงุณู ููุฐุง ุงูุชุนุจูุฑ ุ ููุง ูู ูุงุฆูุฉ ุงูุงูุชูุงุท ุ ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. <br><br>  ูู ุงูุฌุฒุก ุงูุชุงูู ูู ุงูููุงูุฉ ุ ุณููุชูู ุฅูู C ++ 17 ูุงูุชุนุฑู ุนูู ุงูููุฒุงุช ุงููุณุชูุจููุฉ ูู C ++ 20. <br><br>  ุงูุฌุฒุก ุงูุซุงูู ูุชุงุญ ููุง: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lambdas: ูู C ++ 11 ุฅูู C ++ 20 ุ ุงูุฌุฒุก 2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br><br>  ูุฑุงุฌุน <br><br>  C ++ 11 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda]</a> <br>  C ++ 14 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[expr.prim.lambda]</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนุจูุฑุงุช Lambda ูู C ++ |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุงุช ูุงููุฑูุณููุช</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฒุงูุฉ ุงูุบููุถ ุนู C ++ lambdas - ูุซูุงุจ ูุซุจุช - ุจุฏุนู ูู Feabhas ุ ูุซุจุช ูุซูุงุจ - ุจุฏุนู ูู Feabhas</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br><br>  ูุญู ูู ุงูุชุธุงุฑ ุชุนูููุงุชูู ูุฏุนูุฉ ุฌููุน ุงูููุชููู ูู ุงูุฏูุฑุฉ ุงูุชุฏุฑูุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"C ++ Developer"</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar444524/">https://habr.com/ru/post/ar444524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar444514/index.html">ูุฏูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช "ุงูุฃูู ูู ุชุนูู ุงูุขูุฉ: ุงููุดููุงุช ุงูุทุจูุนูุฉ ููุฐูุงุก ุงูุงุตุทูุงุนู"</a></li>
<li><a href="../ar444516/index.html">Wolfenstein 3D: ุชุชุจุน ุงูุฃุดุนุฉ ุจุงุณุชุฎุฏุงู WebGL1</a></li>
<li><a href="../ar444518/index.html">ูุญู ูุธุฑูุฉ ุฃุณุงุณูุฉ ูููุนู</a></li>
<li><a href="../ar444520/index.html">2. ุชุญูู ููุทุฉ ุงูุจุฏุก R80.20. ููุฏุณุฉ ุงูุญููู</a></li>
<li><a href="../ar444522/index.html">ูุชู ุฅูุบุงุก ููุงูุฉ ุงูุนุงูู</a></li>
<li><a href="../ar444526/index.html">DOTS Stack: C ++ & C #</a></li>
<li><a href="../ar444528/index.html">ุงููููู: ูุฏ ุชุญุฏ ุงููุงุจุงู ูู ุชูุฒูู ุงููุญุชูู ูู ุงูุดุจูุฉ - ูุญู ูููู ูููุงูุด</a></li>
<li><a href="../ar444530/index.html">ูุณุชูุจู ุญูู ุงูุชุจุนูุฉ ูู Android</a></li>
<li><a href="../ar444534/index.html">ูุณุญ ุงูุซุบุฑุงุช ูุงูุชูููุฉ ุงูุขููุฉ. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar444536/index.html">MVCC-2. ุทุจูุงุช ุ ูููุงุช ุ ุตูุญุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>