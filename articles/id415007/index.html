<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¨Ô∏è üè≠ üòß Cara mengatur Bluetooth di Linux dengan cara yang rumit üë¶üèæ üß† üíÉüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam persiapan untuk forum TI tahunan, muncul ide untuk membuat manipulator sederhana yang dikendalikan oleh gamepad nirkabel untuk menunjukkan kemam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara mengatur Bluetooth di Linux dengan cara yang rumit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415007/"><p><img src="https://habrastorage.org/webt/wq/9u/sv/wq9usvb7w6-8_c5p_dhrrkom_qa.jpeg"></p><br><p> Dalam persiapan untuk forum TI tahunan, muncul ide untuk membuat manipulator sederhana yang dikendalikan oleh gamepad nirkabel untuk menunjukkan kemampuan mikrokontroler dan komputer papan tunggal.  Di tangan adalah pengontrol TRIC, beberapa servomotors, konstruktor besi, dan sebulan sebelum dimulainya forum. </p><br><p>  "Semuanya berjalan sesuai rencana," tetapi tidak dalam kasus ini. </p><a name="habracut"></a><br><h1 id="etap-1-podgotovka">  Tahap 1. Persiapan </h1><br><p>  TRIC di atas Linux adalah penghalang bagi manipulator semacam itu, tetapi "masalahnya adalah kegunaan dan pemeliharaan dangkal" ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">ClusterM</a> mengutip tentang Linux dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">interkom pintar</a> ). </p><br><p>  Setelah membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasinya</a> , diketahui bahwa ia memiliki Bluetooth.  Jika Anda bekerja dengan pengontrol ini, maka Anda tahu bahwa transfer program adalah melalui Wi-Fi dan tidak ada cara lain yang nyaman untuk berkomunikasi dengannya.  Tidak disebutkan Bluetooth dalam menu.  Tapi bagaimana caranya? </p><br><p>  Berbekal SSH, obeng dan rasa ingin tahu, saya mulai mencari Bluetooth.  Sistem ini termasuk hcitool, hciconfig, dan daemon bluetoothd.  Mereka semua berkata bahwa dia tidak ada di sana. </p><br><pre><code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hcitool dev Devices:</span></span></code> </pre> <br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hciconfig hci0 Can't get device info: No such device</span></span></code> </pre> <br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># bluetoothd -n &amp; [1] 5449 root@trik-7dda93:~# bluetoothd[5449]: Bluetooth daemon 4.101 bluetoothd[5449]: Starting SDP server bluetoothd[5449]: Bluetooth Management interface initialized</span></span></code> </pre> <br><p>  Menelepon teman untuk mencari modul USB eksternal, saya terus mencari. </p><br><p>  Setelah membongkar controller, modul Jorjin WG7311-0A ditemukan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Spesifikasi</a> menyatakan bahwa sebenarnya ada Wi-Fi, Bluetooth dan bahkan radio FM.  Antarmuka untuk berkomunikasi dengan Bluetooth adalah UART, dan dihidupkan melalui BT_EN. </p><br><p><img src="https://habrastorage.org/webt/de/5d/qh/de5dqhz_nocaef_cwt0fh_d5umc.jpeg"></p><br><p>  Setelah membaca bagaimana modul Bluetooth terhubung melalui UART melalui hcitool, saya mencoba keberuntungan saya dan tidak melakukan apa pun.  Dua dari tiga port UART gratis tidak bersuara. </p><br><p>  Tapi kami sudah menghubungi BT_EN!  Mungkin saja modul dimatikan dan tidak menanggapi permintaan.  Setelah memeriksa perangkat kernel Linux untuk perangkat ARM, sebuah file ditemukan di mana semua kontak yang digunakan oleh SoC terdaftar.  Dengan membuka <code>arch/arm/mach-davinci/board-da850-trik.c</code> dalam kode sumber kernel, kontak GPIO untuk Bluetooth benar-benar ditemukan.  Kemenangan!  Saya pikir. </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> da850_trik_bluetooth_pins[] __initconst = { DA850_GPIO6_11, <span class="hljs-comment"><span class="hljs-comment">/*BT_EN_33 */</span></span> DA850_GPIO6_10, <span class="hljs-comment"><span class="hljs-comment">/*BT_WU_33*/</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> };</code> </pre> <br><h1 id="etap-2-nastuplenie">  Tahap 2. Menyinggung </h1><br><p>  Untuk mengaktifkan kontak melalui GPIO, Anda perlu menemukan nomor seri ujung ke ujung.  Kami menemukan baris berikut dalam kode kernel dengan permintaan untuk menginisialisasi kontak BT_EN_33 di <code>arch/arm/mach-davinci/board-da850-trik.c</code> : </p><br><pre> <code class="hljs lisp">ret = gpio_request_one(<span class="hljs-name"><span class="hljs-name">GPIO_TO_PIN</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>), GPIOF_OUT_INIT_LOW, <span class="hljs-string"><span class="hljs-string">"BT_EN_33"</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><p>  Ini menggunakan GPIO_TO_PIN makro.  Lihat deskripsi makro di <code>arch/arm/mach-davinci/include/mach/gpio-davinci.h</code> : </p><br><pre> <code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">/* Convert GPIO signal to GPIO pin number */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GPIO_TO_PIN(bank, gpio) (16 * (bank) + (gpio))</span></span></code> </pre> <br><p>  Dengan menggunakannya, Anda dapat menemukan nomor kontak ujung ke ujung.  Kami mendapatkan bahwa 16 * 6 + 11 = 107. Sekarang kita beralih ke pencantuman kontak. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt;&gt; /sys/devices/virtual/gpio/gpio107/value</code> </pre> <br><p>  0 atau 1 dalam perintah echo adalah status kontak. </p><br><p>  Jalankan perintah untuk menghubungkan dan ... </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hciattach /dev/ttyS0 texas Found a Texas Instruments' chip! Firmware file : /lib/firmware/TIInit_7.6.15.bts can't open firmware file: No such file or directory Warning: cannot find BTS file: /lib/firmware/TIInit_7.6.15.bts Device setup complete</span></span></code> </pre> <br><p>  tidak dapat dipahami oleh kami (saat ini) pesan kesalahan.  Kami mencoba mengonfigurasi perangkat melalui hcitool: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hcitool dev Devices:</span></span></code> </pre> <br><p>  Tidak ada perangkat, meskipun inisialisasi diduga disahkan.  Kami mencoba menghubungkan kedua kalinya, tetapi dengan jenis adaptor yang berbeda: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hciattach /dev/ttyS0 texasalt Texas module LMP version : 0x06 Texas module LMP sub-version : 0x1f0f internal version freeze: 15 software version: 6 chip: wl1271 (7) Opening firmware file: /etc/firmware/wl1271.bin Could not open firmware file /etc/firmware/wl1271.bin: No such file or directory (2). Device setup complete</span></span></code> </pre> <br><p>  Dan lagi, tidak ada.  Mari kita kembali ke kesalahan pertama dan menerapkan pengetahuan bahasa Inggris: </p><br><pre> <code class="bash hljs">Warning: cannot find BTS file: /lib/firmware/TIInit_7.6.15.bts</code> </pre> <br><p>  Kami membuka folder / lib / firmware dengan firmware dan tidak menemukan file yang kami butuhkan.  Setelah lama mencari di Internet, kami menemukan file yang diinginkan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori TI</a> dan mengunduhnya.  Versi lain dari file yang sama menolak untuk berfungsi. </p><br><pre> <code class="bash hljs">curl -k https://git.ti.com/wilink8-bt/ti-bt-firmware/blobs/raw/45897a170bc30afb841b1491642e774f0c89b584/TIInit_7.6.15.bts &gt; TIInit_7.6.15.bts cp TIInit_7.6.15.bts /lib/firmware/TIInit_7.6.15.bts</code> </pre> <br><p>  Kami me-reboot controller dan menyambung kembali: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># echo 1 &gt;&gt; /sys/devices/virtual/gpio/gpio107/value root@trik-7dda93:~# hciattach /dev/ttyS0 texas Found a Texas Instruments' chip! Firmware file : /lib/firmware/TIInit_7.6.15.bts Loaded BTS script version 1 Device setup complete</span></span></code> </pre> <br><p>  Hore!  Firmware telah di-boot.  Memeriksa hciconfig: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># hciconfig hci0: Type: BR/EDR Bus: UART BD Address: 78:**:**:**:**:B3 ACL MTU: 1021:4 SCO MTU: 180:4 DOWN RX bytes:509 acl:0 sco:0 events:21 errors:0 TX bytes:388 acl:0 sco:0 commands:21 errors:0</span></span></code> </pre> <br><p>  Kami memulai layanan bluetoothd, memindai perangkat, dan mendeteksi modul kami: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># bluetoothd -n &amp; [1] 4689 bluetoothd[4689]: Bluetooth daemon 4.101 bluetoothd[4689]: Starting SDP server bluetoothd[4689]: Bluetooth Management interface initialized bluetoothd[4689]: Parsing /etc/bluetooth/serial.conf failed: No such file or directory bluetoothd[4689]: Could not get the contents of DMI chassis type bluetoothd[4689]: Adapter /org/bluez/4689/hci0 has been enabled root@trik-7dda93:~# hciconfig hci0 piscan</span></span></code> </pre> <br><p>  Pencarian komputer menemukan perangkat: </p><br><p><img src="https://habrastorage.org/webt/vs/bz/mb/vsbzmb32vz8tbechhhpuroku9qs.png"></p><br><p>  Untuk mengaktifkan Bluetooth, Anda dapat membuat skrip: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash case "$1" in start) echo 1 &gt;&gt; /sys/devices/virtual/gpio/gpio107/value bluetoothd -n &amp; hciattach /dev/ttyS0 texas hciconfig hci0 piscan ;; stop) ;; restart) ;; status) ;; *) ;;</span></span></code> </pre> <br><p>  Dan tambahkan ke autorun: </p><br><pre> <code class="bash hljs">cp init-bluetooth /etc/init.d/init-bluetooth update-rc.d init-bluetooth <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> 99</code> </pre> <br><p>  Restart dan shutdown modul berperilaku tidak terduga, oleh karena itu opsi stop dan restart tidak memiliki perintah. </p><br><h1 id="etap-3-proverka-svyazi">  Tahap 3. Pemeriksaan komunikasi </h1><br><p>  Cara termudah untuk memverifikasi komunikasi di kedua arah adalah layanan port COM.  Dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beberapa perintah,</a> hidupkan: </p><br><pre> <code class="bash hljs">root@trik-7dda93:~<span class="hljs-comment"><span class="hljs-comment"># sdptool add --channel=3 SP Serial Port service registered root@trik-7dda93:~# mknod -m 666 /dev/rfcomm0 c 216 0 root@trik-7dda93:~# rfcomm watch /dev/rfcomm0 3 /sbin/getty rfcomm0 115200 linux Waiting for connection on channel 3</span></span></code> </pre> <br><p>  Kami terhubung dari telepon dan melihat undangan untuk masuk ke sistem: </p><br><p><img src="https://habrastorage.org/webt/0i/lw/p9/0ilwp9kassasp_xfmvc3xhcwvl8.png"></p><br><p>  Tidak ada terminal yang diuji yang diizinkan memasukkan kata sandi pengguna kosong, jadi saya harus mengirim informasi masuk menggunakan pengalihan utas dalam sesi SSH. </p><br><h1 id="etap-4-configure--make">  Tahap 4. ./configure &amp;&amp; make </h1><br><p>  Mengikuti instruksi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">untuk menghubungkan gamepad ke Linux,</a> kami menghadapi masalah berikut: </p><br><ul><li>  BlueZ dalam distribusi sudah usang dan tidak mengerti perintah dari daemon sixad, yang membuat koneksi dengan gamepad </li><li>  Versi BlueZ baru dari sumber menolak untuk dikompilasi karena banyak dependensi </li><li>  BlueZ Fresh Debian membutuhkan udev dan systemd, yang hilang dari distribusi saat ini </li></ul><br><p>  Satu-satunya ketergantungan yang dapat memuaskan adalah modul kernel uinput. </p><br><p>  Untuk melakukan ini: </p><br><ul><li>  dapatkan konfigurasi kernel saat ini di perangkat </li></ul><br><pre> <code class="bash hljs">cp /proc/config.gz config.gz gunzip config.gz</code> </pre> <br><ul><li>  unduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kode kernel</a> </li><li>  unduh dan instal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">toolchain</a> </li><li>  salin konfigurasi kernel ke folder dengan kode kernel </li><li>  tambahkan modul uinput ke konfigurasi </li></ul><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"CONFIG_INPUT_UINPUT=m"</span></span> &gt;&gt; config</code> </pre> <br><ul><li>  mulai perakitan dengan terlebih dahulu menyalakan toolchain </li></ul><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">source</span></span> /opt/trik-sdk/environment-setup-arm926ejste-oe-linux-gnueabi make</code> </pre> <br><ul><li>  salin modul kernel ke kartu memori </li></ul><br><pre> <code class="bash hljs">make INSTALL_MOD_PATH=/mnt/trik-sd modules_install</code> </pre> <br><ul><li>  buat gambar uBoot dan salin ke / boot </li></ul><br><pre> <code class="bash hljs">make uImage cp arch/arm/boot/uImage /mnt/trik-sd/boot/uImage-3.6.7</code> </pre> <br><p>  Sekarang program tidak bersumpah pada kurangnya modul kernel, tetapi kemudian kita tidak dapat melakukan apa-apa.  Instruksi untuk gamepad akan berguna nanti. </p><br><h1 id="etap-5-varim-kashu-iz-topora">  Tahap 5. Masak bubur dari kapak </h1><br><p>  Mencapai rencana "tyap-blooper."  Karena tidak ada cara mudah untuk meletakkan program yang diperlukan pada distribusi asli, kami akan meletakkan sesuatu yang populer.  Prosesor ini memiliki arsitektur ARMv5TE, yang berarti ada distribusi untuk itu. </p><br><p>  Kami mencoba membongkar dan menjalankan Arch Linux universal untuk ARM dan ketika memuat di konsol kami melihat bahwa systemd membutuhkan versi kernel yang lebih baru, yang tidak kami miliki.  Upaya untuk mentransfer kernel 4,16 tidak berhasil dan butuh terlalu banyak waktu. </p><br><p>  Kami beralih ke opsi lain - Debian.  Ada disk image dengan sistem yang terinstal untuk ARM, tetapi lebih baik menempatkan sistem yang bersih dengan paket dan pengaturan yang diperlukan untuk kita. </p><br><h2 id="ustanovka-v-qemu">  Instalasi di QEMU </h2><br><p>  Unduh gambar instalasi (tautan ke <a href="">.iso</a> ) dan instal QEMU. <br>  Kita juga memerlukan kernel dan imej initrd untuk mem-boot instalasi, yang dapat diunduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> . </p><br><p>  Buat gambar kartu memori dengan ukuran kartu memori nyata (dalam hal ini 4 GB): </p><br><pre> <code class="bash hljs">qemu-img create -f raw debian.img 4G</code> </pre> <br><p>  Kami memulai instalasi: </p><br><pre> <code class="bash hljs">qemu-system-arm -M versatilepb -kernel vmlinuz-3.2.0-4-versatile -initrd initrd.gz -hda debian.img -cdrom debian-7.11.0-armel-CD-1.iso</code> </pre> <br><p>  Jika Anda akan membuat tata letak disk dari distribusi asli relatif non-standar, maka tinggalkan partisi root terlebih dahulu, jika tidak, Anda harus mengubah parameter boot kernel di uBoot.  Ada sejumlah partisi tempat sistem file root berada. </p><br><p>  Markup standar berisi: </p><br><ol><li>  Partisi EXT4 untuk file 1,3 GB sistem file root </li><li>  Partisi FAT32 untuk menyimpan data pengguna ‚âà berukuran 500 MB </li></ol><br><p>  Output fdisk untuk gambar distribusi asli: </p><br><pre> <code class="hljs powershell">Disk: trik<span class="hljs-literal"><span class="hljs-literal">-distro</span></span>.img geometry: <span class="hljs-number"><span class="hljs-number">893</span></span>/<span class="hljs-number"><span class="hljs-number">64</span></span>/<span class="hljs-number"><span class="hljs-number">63</span></span> [<span class="hljs-number"><span class="hljs-number">3604478</span></span> <span class="hljs-type"><span class="hljs-type">sectors</span></span>] Signature: <span class="hljs-number"><span class="hljs-number">0</span></span>xAA55 Starting Ending <span class="hljs-comment"><span class="hljs-comment">#: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ 1: 83 1023 3 32 - 1023 3 32 [ 1040382 - 2564096] Linux files* 2: 0C 64 0 1 - 1023 3 32 [ 8192 - 1032190] Win95 FAT32L 3: 00 0 0 0 - 0 0 0 [ 0 - 0] unused 4: 00 0 0 0 - 0 0 0 [ 0 - 0] unused</span></span></code> </pre><br><p>  Setelah mengatur parameter, kami pergi minum beberapa cangkir teh, karena  emulator tidak jauh lebih cepat daripada prosesor ARM nyata. </p><br><p>  Untuk memulai sistem yang terinstal, Anda memerlukan gambar initrd lain, yang dapat diambil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> . </p><br><p>  Kami memulai sistem: </p><br><pre> <code class="bash hljs">qemu-system-arm -M versatilepb -kernel vmlinuz-3.2.0-4-versatile -initrd initrd.img-3.2.0-4-versatile -hda debian.img -append <span class="hljs-string"><span class="hljs-string">"root=/dev/sda1"</span></span></code> </pre> <br><h2 id="nastroyka-sistemy">  Pengaturan sistem </h2><br><p>  Setelah memulai, kita memasuki superuser, memeriksa koneksi ke Internet, memperbarui repositori dan sistem, menempatkan sekumpulan minimum program: </p><br><pre> <code class="bash hljs">apt-get update apt-get upgrade apt-get install curl git mc htop joystick</code> </pre> <br><h3 id="terminaly">  Terminal </h3><br><p>  Kami mengedit <code>/etc/inittab</code> , menghapus terminal yang tidak perlu, menyalakan UART yang kami butuhkan untuk kami dan menambahkan input otomatis untuk pengguna yang tepat (gunakan root hanya saat debugging).  Input otomatis berguna jika Anda berencana menjalankan shell untuk kontrol pada controller. </p><br><pre> <code class="hljs ruby"><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">2345</span></span><span class="hljs-symbol"><span class="hljs-symbol">:respawn</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/sbin/getty</span></span> <span class="hljs-number"><span class="hljs-number">38400</span></span> tty1 --autologin root <span class="hljs-comment"><span class="hljs-comment">#2:23:respawn:/sbin/getty 38400 tty2 #3:23:respawn:/sbin/getty 38400 tty3 #4:23:respawn:/sbin/getty 38400 tty4 #5:23:respawn:/sbin/getty 38400 tty5 #6:23:respawn:/sbin/getty 38400 tty6 uart:12345:respawn:/sbin/getty -L 115200 ttyS1</span></span></code> </pre> <br><h3 id="bluetooth-i-wi-fi">  Bluetooth dan wifi </h3><br><p>  Instal bluez-utils dan wpasupplicant untuk mengakses Wi-Fi dan Bluetooth. </p><br><pre> <code class="bash hljs">apt-get install bluez-utils wpasupplicant</code> </pre> <br><p>  Kami menonaktifkan antarmuka eth0 dan mengkonfigurasi antarmuka wlan1 di <code>/etc/network/interfaces</code> : </p><br><pre> <code class="hljs kotlin"># /etc/network/interfaces -- configuration file <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ifup(<span class="hljs-number"><span class="hljs-number">8</span></span>), ifdown(<span class="hljs-number"><span class="hljs-number">8</span></span>) # The loopback <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">iface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inet</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">loopback</span></span></span><span class="hljs-class"> # </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Wireless</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interfaces</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wlan1</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">iface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wlan1</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inet</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dhcp</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wireless_mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">managed</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wireless_essid</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">any</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wpa</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">driver</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wext</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wpa</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">conf</span></span></span><span class="hljs-class"> /</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">etc</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wpa_supplicant</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">conf</span></span></span></span></code> </pre> <br><p>  Tambahkan jaringan terlebih dahulu ke <code>/etc/wpa_supplicant.conf</code> , karena  melakukan ini pada controller itu sendiri tidak begitu nyaman: </p><br><pre> <code class="bash hljs">wpa_passphrase ssid password &gt;&gt; /etc/wpa_supplicant.conf</code> </pre> <br><p>  Jika Anda tidak memiliki akses Wi-Fi, Anda dapat menggunakan UART untuk konfigurasi lebih lanjut, tetapi perlu diingat bahwa secara default kernel menampilkan semua kesalahan ke terminal ini.  Karena itu, selama operasi, pesan mendadak dari kernel atau layanan dapat mengganggu Anda. </p><br><p>  Tambahkan skrip untuk mengaktifkan Bluetooth.  Kali ini, ubah <code>/etc/init.d/bluetooth</code> : </p><br><pre> <code class="bash hljs"> 139: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-variable"><span class="hljs-variable">$1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> start) <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> 1 &gt;&gt; /sys/devices/virtual/gpio/gpio107/value  168: hciattach /dev/ttyS0 texas log_end_msg 0 ;;</code> </pre><br><p>  Dengan demikian, semua layanan yang memerlukan layanan Bluetooth akan menjalankan perintah yang diperlukan untuk menginisialisasi. </p><br><h3 id="vzmah-vlevo-vzmah-vpravo">  Geser ke kiri, geser ke kanan </h3><br><p>  Kami menghapus program dan layanan yang tidak perlu yang dapat dilihat menggunakan htop, karena mereka menempati tempat yang berharga di RAM: </p><br><p><img src="https://habrastorage.org/webt/4e/rg/av/4ergavw2trhiiyvvlnmdtc1luhk.png"></p><br><p>  Dalam hal ini, layanan ConsoleKit memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">banyak proses</a> .  Pindahkan file layanan ini ke folder root jika terjadi pemulihan: </p><br><pre> <code class="bash hljs">mv /usr/share/dbus-1/system-services/org.freedesktop.ConsoleKit.service /root/</code> </pre> <br><p>  Sebelum mematikan layanan, konsumsi RAM adalah 19 MB, dan setelah - 16 MB. </p><br><h3 id="razdely-sistemy">  Bagian sistem </h3><br><p>  Meskipun uBoot mentransfer ke kernel perangkat tempat partisi root berada, ada baiknya menuliskannya di <code>/etc/fstab</code> untuk keandalan.  Kami mengubah baris pertama yang bertanggung jawab untuk bagian root: </p><br><pre> <code class="hljs mel">/dev/mmcblk0p1 / auto defaults <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> defaults <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> devpts /dev/pts devpts mode=<span class="hljs-number"><span class="hljs-number">0620</span></span>,gid=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> usbdevfs /<span class="hljs-keyword"><span class="hljs-keyword">proc</span></span>/bus/usb usbdevfs noauto <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> tmpfs /run tmpfs mode=<span class="hljs-number"><span class="hljs-number">0755</span></span>,nodev,nosuid,strictatime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> tmpfs /var/volatile tmpfs defaults <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p>  Jika Anda tidak menjadikan partisi root sebagai yang pertama, jangan lupa untuk menentukan nomor partisi yang diinginkan. </p><br><p>  Jika Anda meninggalkan partisi FAT kedua untuk data pengguna, maka Anda perlu membuat folder untuk memasang partisi di dalamnya </p><br><pre> <code class="bash hljs">mkdir /usr/share/trik</code> </pre> <br><p>  dan tulis bagian di <code>/etc/fstab</code> : </p><br><pre> <code class="bash hljs">/dev/mmcblk0p2 /usr/share/trik vfat defaults 0 0</code> </pre> <br><h1 id="etap-6-probuem-nashu-kashu">  Tahap 6. Kami mencoba bubur kami </h1><br><p>  Setelah mengkonfigurasi gambar sistem, Anda harus memasangnya untuk menginstal modul kernel dan kernel itu sendiri: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ,     (start) fdisk -l debian.img mount -o loop,offset=NNNN debian.img /mnt/debian</span></span></code> </pre> <br><p>  di mana, NNNN = ukuran sektor * awal bagian.  Ukuran sektor default adalah 512 byte. </p><br><p>  Kami juga memasang distribusi asli: </p><br><pre> <code class="bash hljs">fdisk -l trik-distro.img mount -o loop,offset=NNNN trik-distro.img /mnt/trik-clean</code> </pre> <br><p>  Kami menghapus kernel untuk QEMU dan modul-modulnya, seperti  mereka tidak dimaksudkan untuk platform kami.  Kami menyalin kernel dan modul baru, seperti pada distribusi asli. </p><br><pre> <code class="hljs powershell">rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /mnt/debian/boot/ rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /mnt/debian/lib/modules/<span class="hljs-number"><span class="hljs-number">3.2</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-literal"><span class="hljs-literal">-4</span></span><span class="hljs-literal"><span class="hljs-literal">-versatile</span></span> rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /mnt/debian/lib/modules/<span class="hljs-number"><span class="hljs-number">3.2</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-literal"><span class="hljs-literal">-5</span></span><span class="hljs-literal"><span class="hljs-literal">-versatile</span></span> mkdir /mnt/debian/boot/ cp arch/arm/boot/uImage /mnt/debian/boot/ make INSTALL_MOD_PATH=/mnt/debian modules_install</code> </pre> <br><p>  Kami membutuhkan firmware untuk modul Wi-Fi, yang ada dalam distribusi asli di folder / lib / firmware dan firmware Bluetooth yang kami temukan sebelumnya. </p><br><pre> <code class="hljs ruby">cp /mnt/trik-clean/lib/firmware/* <span class="hljs-regexp"><span class="hljs-regexp">/mnt/debian</span></span><span class="hljs-regexp"><span class="hljs-regexp">/lib/firmware</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ cp TIInit_7.6.15.bts /mnt</span></span><span class="hljs-regexp"><span class="hljs-regexp">/debian/lib</span></span><span class="hljs-regexp"><span class="hljs-regexp">/firmware/</span></span></code> </pre> <br><p>  Putuskan sambungan gambar disk: </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">umount</span></span> /mnt/trik-clean umount /mnt/debian</code> </pre> <br><p>  Dan mulai menyalin gambar ke kartu memori menggunakan dd: </p><br><pre> <code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#    ( ) lsblk dd </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta">=debian.img of=/dev/sdX bs=4M</span></span></code> </pre> <br><h1 id="etap-7-finishnaya-pryamaya">  Tahap 7. Garis finish </h1><br><p>  Kami mengkompilasi program untuk menghubungkan gamepad pada sistem baru dan menginstal daemon sixad. </p><br><p>  Kami menghubungkan gamepad melalui USB ke controller dan menjalankan program untuk membuat pasangan: </p><br><pre> <code class="bash hljs">root@trik:~/bt<span class="hljs-comment"><span class="hljs-comment"># ./sixpair Current Bluetooth master: 78:**:**:**:**:b9 Setting master bd_addr to 78:**:**:**:**:b9</span></span></code> </pre> <br><p>  Ketika gamepad terhubung, tidak ada yang terjadi dan layanan keenam diam: </p><br><pre> <code class="bash hljs">sixad-bin[2675]: started sixad-bin[2675]: sixad started, press the PS button now sixad-bin[2675]: unable to connect to sdp session</code> </pre> <br><p>  Namun komunitas Raspberry Pi telah membuat "penopang" untuk memperbaiki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">koneksi</a> . </p><br><p>  Kami membangun kembali program dan bersukacita. </p><br><pre> <code class="hljs powershell">sixad<span class="hljs-literal"><span class="hljs-literal">-bin</span></span>[<span class="hljs-number"><span class="hljs-number">2833</span></span>]: started sixad<span class="hljs-literal"><span class="hljs-literal">-bin</span></span>[<span class="hljs-number"><span class="hljs-number">2833</span></span>]: sixad started, press the PS button now sixad<span class="hljs-literal"><span class="hljs-literal">-bin</span></span>[<span class="hljs-number"><span class="hljs-number">2833</span></span>]: unable to connect to sdp session sixad<span class="hljs-literal"><span class="hljs-literal">-sixaxis</span></span>[<span class="hljs-number"><span class="hljs-number">2836</span></span>]: started sixad<span class="hljs-literal"><span class="hljs-literal">-sixaxis</span></span>[<span class="hljs-number"><span class="hljs-number">2836</span></span>]: Connected <span class="hljs-string"><span class="hljs-string">'PLAYSTATION(R)3 Controller (00:**:**:**:**:09)'</span></span> [<span class="hljs-type"><span class="hljs-type">Battery</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span>]</code> </pre> <br><p>  Sekarang gamepad tersedia untuk sistem sebagai perangkat input dan program jstest akan menunjukkan status semua tombol dan sensor analog: </p><br><pre> <code class="hljs apache"><span class="hljs-attribute"><span class="hljs-attribute">root</span></span>@trik:~# ls /dev/input/ by-path event0 event1 event2 event3 js0 js1 js2 mice root@trik:~# jstest --normal /dev/input/jsX Driver version is 2.1.0. Joystick (PLAYSTATION(R)3 Controller (00:**:**:**:**:09)) has 29 axes (X, Y, Z, Rx, Ry, Rz, Throttle, Rudder, Wheel, Gas, Brake, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, (null), (null), (null), (null), (null), (null), (null), (null)) and 17 buttons (Trigger, ThumbBtn, ThumbBtn2, TopBtn, TopBtn2, PinkieBtn, BaseBtn, BaseBtn2, BaseBtn3, BaseBtn4, BaseBtn5, BaseBtn6, BtnDead, BtnA, BtnB, BtnC, BtnX). Testing ... (interrupt to exit) Axes: 0: 0 1: 0 2: 0 3: 0 4: -7150 5: -7746 6:-32767 7: 0 8: 0 9: 0 10: 0 11: 0 12: 0 13: 0 14: 0 15: 0 16: 0 17: 0 18: 0 19: 0 20: 0 21: 0 22: 0 23: 0 24: 0 25: 0 26: 0 27: 0 28: 0 Buttons: 0:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 1:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 2:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 3:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 4:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 5:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 6:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 7:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 8:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 9:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 10:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 11:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 12:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 13:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 14:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 15:<span class="hljs-literal"><span class="hljs-literal">off</span></span> 16:<span class="hljs-literal"><span class="hljs-literal">off</span></span></code> </pre> <br><p>  di mana X adalah nomor perangkat dalam sistem, secara default - 2. Jumlah tombol dan sumbu dapat dilihat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </p><br><h1 id="ispolzuem-na-praktike">  Gunakan dalam praktek </h1><br><p>  Video yang menampilkan gamepad di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">YouTube</a> . </p><br><div class="spoiler">  <b class="spoiler_title">Foto-foto distribusi</b> <div class="spoiler_text"><p>  Pemuatan kernel: <br><img src="https://habrastorage.org/webt/aj/mx/xt/ajmxxtarcapbe4hwfefj5-v83ws.jpeg"><br>  Terminal berjalan pada X11: <br><img src="https://habrastorage.org/webt/bi/gn/vk/bignvkyajckcuobz8rzgyf5priw.jpeg"></p><br><p><img src="https://habrastorage.org/webt/cp/6k/pu/cp6kpumd7uxcxnlyc3jg7mpmn2m.jpeg"><br>  Dan menurut tradisi: <br><img src="https://habrastorage.org/webt/9f/et/xk/9fetxkfu74mdacfatuwnaodrmj8.jpeg"></p><br><p><img src="https://habrastorage.org/webt/qw/mi/1h/qwmi1hncq77acchz8dfjfpzs334.jpeg"></p></div></div><br><h3 id="poleznye-ssylki">  Tautan yang bermanfaat </h3><br><p>  Program untuk menghubungkan gamepad Dualshock 3 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sixpair</a> dan <a href="">sixad</a> . </p><br><p>  Untuk gamepad dan perangkat input lainnya, ada pustaka C yang ringan - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libenjoy</a> . </p><br><p>  Kode sumber program untuk mengendalikan servomotors dan motor adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori GitHub</a> . </p><br><p>  Semua file konfigurasi dari artikel untuk distribusi yang dibuat sendiri - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori GitHub</a> . </p><br><p>  Sumber kernel adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori GitHub</a> . </p><br><h1 id="interesnye-fakty-o-kontrollere">  Fakta menarik tentang controller </h1><br><ul><li>  Spesifikasi menyatakan bahwa RAM adalah 256 MB.  Tetapi jika Anda menjalankan htop, Anda akan melihat bahwa hanya 128 MB yang tersedia.  Ini dibatasi oleh opsi kernel yang dapat dilihat di konsol uBoot: </li></ul><br><pre> <code class="bash hljs">mem=128M console=ttyS1,115200n8 rw noinitrd rootwait root=/dev/mmcblk0p1 vt.global_cursor_default=0 consoleblank=0</code> </pre> <br><p>  Chip memori ditandai 3PC22 D9MTD yang diproduksi oleh Micron.  Itu tidak mungkin untuk menemukan informasi tentang volume saat ini. </p><br><ul><li>  uBoot disimpan pada memori flash SPI di mana kernel juga terhubung, dan tidak digunakan.  Anda dapat mencoba menggunakan tempat ini untuk tugas-tugas Anda atau menyalin kernel baru dan mengkonfigurasi ulang uBoot sehingga menggunakannya. </li></ul><br><p>  Alamat gambar dari dmesg: </p><br><pre> <code class="bash hljs">[ 11.598170] 0x000000000000-0x000000040000 : <span class="hljs-string"><span class="hljs-string">"uboot"</span></span> [ 11.642985] 0x000000040000-0x000000080000 : <span class="hljs-string"><span class="hljs-string">"uboot-env1"</span></span> [ 11.706256] 0x000000080000-0x0000000c0000 : <span class="hljs-string"><span class="hljs-string">"uboot-env2"</span></span> [ 11.761827] 0x0000000c0000-0x000000100000 : <span class="hljs-string"><span class="hljs-string">"config-periph"</span></span> [ 11.805129] 0x000000100000-0x000000400000 : <span class="hljs-string"><span class="hljs-string">"kernel"</span></span> [ 11.861864] 0x000000400000-0x000001000000 : <span class="hljs-string"><span class="hljs-string">"RootFS"</span></span></code> </pre> <br><ul><li>  Layar pengontrol, meskipun kecil, sebenarnya memiliki sensor resistif.  Apakah sensor itu sendiri terhubung tidak diketahui. </li><li>  Dualshock 3 memiliki LED di konektor USB yang menunjukkan jumlah gamepad / joystick.  Ada satu gamepad di video, tetapi jumlahnya 3. Ini bukan kesalahan, karena  ada dua "joystick" dalam sistem: accelerometer dan giroskop. </li></ul><br><h1 id="problemy-voznikshie-pri-ispolzovanii">  Terjadi masalah saat menggunakan </h1><br><ul><li>  Robot kadang-kadang hang ketat, tanpa mematikan servomotors, yang memungkinkan mereka untuk mengubah posisi mereka dari noise pada jalur data.  Ini telah terlihat bahkan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">distribusi standar</a> . </li><li>  Dimasukkannya pengontrol PWM berbeda dari apa yang tertulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> .  Setidaknya dalam C murni ini tidak berhasil. </li><li>  USB terkadang berhenti bekerja pada Debian. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id415007/">https://habr.com/ru/post/id415007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414997/index.html">ML-Blitz: analisis tugas babak kualifikasi pertama</a></li>
<li><a href="../id414999/index.html">3D Watchman and Thermistor Tester</a></li>
<li><a href="../id415001/index.html">Operator mobil robot Uber, yang menembak jatuh pengendara sepeda, menyaksikan Voice show pada saat tabrakan</a></li>
<li><a href="../id415003/index.html">Upload File Tidak Terbatas di Apple.com</a></li>
<li><a href="../id415005/index.html">Panel surya, perintah suara, dan balap off-road: sepeda listrik saat ini dan masa depan</a></li>
<li><a href="../id415009/index.html">Perekrutan Siapa Itu di Amerika Utara - Bagian 1</a></li>
<li><a href="../id415011/index.html">Laporan Club of Rome 2018, Bab 3.10: ‚ÄúPajak Atas Ketukan‚Äù</a></li>
<li><a href="../id415015/index.html">Peringkat pengusaha TI di Nizhny Novgorod: studi tentang preferensi siswa spesialisasi teknis</a></li>
<li><a href="../id415017/index.html">Produk .NET yang menyelamatkan nyawa</a></li>
<li><a href="../id415019/index.html">Pemasaran. Hampir rumit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>