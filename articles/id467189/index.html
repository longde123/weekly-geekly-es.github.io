<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼â€ğŸ³ ğŸšš ğŸ“ Sampling suhu âš°ï¸ ğŸ‘‰ğŸ¾ ğŸ”„</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini saya menemukan sebuah pertanyaan dalam obrolan ODS : mengapa algoritma huruf per huruf tidak mengambil sampel huruf dari p (vektor proba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sampling suhu</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467189/"><p> Baru-baru ini saya menemukan sebuah pertanyaan dalam obrolan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ODS</a> : mengapa algoritma huruf per huruf tidak mengambil sampel huruf dari <code>p</code> (vektor probabilitas huruf berikutnya yang diprediksi oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">model bahasa</a> ), tetapi dari <code>p'=softmax(log(p)/t)</code> ( di mana <code>t</code> adalah beberapa skalar positif aneh lainnya)? </p><br><p>  Jawaban cepat dan tidak dapat dimengerti: <code>t</code> adalah "suhu", dan memungkinkan Anda untuk mengontrol berbagai teks yang dihasilkan.  Dan demi jawaban yang panjang dan terperinci, sebenarnya, pos ini ditulis. <br><img src="https://habrastorage.org/webt/nw/u4/hi/nwu4hij857cmhtehwk6ewq4es5m.png"></p><a name="habracut"></a><br><h4 id="nemnozhko-matematiki">  Sedikit matematika </h4><br><p>  Pertama, <code>softmax(x)=exp(x)/sum(exp(x))</code> mengingatkan Anda bahwa <code>softmax(x)=exp(x)/sum(exp(x))</code> (exp, log, dan pembagian vektor adalah komponen).  Ternyata jika <code>t=1</code> , maka logaritma dan eksponen saling dimusnahkan, dan kita mendapatkan <code>p'=p</code> .  Yaitu, dengan suhu satuan, transformasi ini tidak mengubah apa pun. </p><br><p>  Apa yang terjadi jika Anda membuat suhunya sangat tinggi?  Softmax mendapatkan (hampir) nol, dan pada output kita mendapatkan (hampir) angka yang sama, sekitar <code>1/n</code> , di mana <code>n</code> adalah dimensi <code>p</code> (jumlah huruf dalam alfabet).  Yaitu, pada suhu yang sangat tinggi, kami menekankan pada apa yang diprediksi oleh model bahasa, dan sampel semua huruf sama-sama memungkinkan. </p><br><p>  Dan jika kita mengatur suhu mendekati nol, maka masing-masing komponen <code>p'</code> akan menjadi eksponen yang sangat besar dibagi dengan jumlah eksponen yang sangat besar.  Dalam batas itu, huruf itu, yang sesuai dengan nilai <code>p</code> , akan mendominasi yang lain, dan <code>p'</code> akan cenderung menyatu untuknya dan nol untuk semua huruf lainnya.  Artinya, pada suhu yang sangat rendah, kami selalu memilih huruf yang paling mungkin (bahkan jika probabilitas absolutnya tidak begitu tinggi - katakanlah, hanya 5%). </p><br><h4 id="osnovnoy-vyvod">  Kesimpulan utama </h4><br><p>  Yaitu, pengambilan sampel suhu adalah pandangan umum dari berbagai jenis pengambilan sampel, dengan mempertimbangkan prediksi model dengan berbagai tingkat.  Ini diperlukan untuk bermanuver antara model kepercayaan dan keragaman.  Anda dapat menaikkan suhu untuk menghasilkan teks yang lebih beragam, atau menurunkannya untuk menghasilkan teks yang rata-rata modelnya lebih percaya diri.  Dan, tentu saja, semua ini berlaku tidak hanya untuk generasi teks, tetapi secara umum untuk model probabilistik. </p><br><p>  Gambar di atas menunjukkan contoh pengambilan sampel pada suhu yang berbeda dari model GPT-2, melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman yang luar biasa ini</a> didukung oleh kelompok Wajah Memeluk.  GPT-2 menghasilkan teks bukan dengan huruf atau kata-kata, tetapi oleh token BPE (urutan huruf yang dipilih secara khusus), tetapi esensi dari ini tidak benar-benar berubah. </p><br><h4 id="nemnozhko-fiziki">  Sedikit fisika </h4><br><p>  Dan apa hubungannya suhu dengan itu, Anda mungkin bertanya.  Jawabannya adalah referensi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">distribusi Boltzmann yang</a> digunakan dalam termodinamika.  Distribusi ini menggambarkan probabilitas keadaan di mana sistem berada (misalnya, beberapa molekul gas terkunci dalam botol), tergantung pada suhu sistem dan tingkat energi potensial yang sesuai dengan keadaan ini.  Setelah transisi dari negara berenergi tinggi ke keadaan berenergi rendah, dilepaskan (diubah menjadi panas), tetapi sebaliknya, dihabiskan.  Oleh karena itu, sistem akan lebih sering berakhir dalam keadaan energi rendah (lebih mudah untuk masuk ke dalamnya, lebih sulit untuk pergi, <del>  dan mustahil untuk dilupakan </del>  ), tetapi semakin tinggi suhunya, semakin sering sistem masih akan beralih ke keadaan berenergi tinggi juga.  Boltzmann, pada kenyataannya, menggambarkan keteraturan ini dengan rumus, dan mendapat <code>p=softmax(-energy/t)</code> . </p><br><p>  Saya sudah menulis dalam esai saya tentang entropi ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">3</a> ), tetapi tidak benar-benar menjelaskan bagaimana statistik entropi terkait dengan konsep entropi dalam fisika.  Tetapi sebenarnya, melalui distribusi Boltzmann, mereka tampaknya terhubung.  Tapi di sini saya lebih baik mengirim Anda pergi untuk membaca karya fisika, dan saya sendiri akan melangkah lebih jauh dengan NLP.  Rendah untuk Anda kebingungan! </p><br><p>  PS Teks ini ditulis pada suhu sekitar 38 Â°, jadi jangan heran jika ini sedikit lebih acak daripada yang Anda harapkan <code>Â¯\_(ãƒ„)_/Â¯</code> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id467189/">https://habr.com/ru/post/id467189/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id467179/index.html">Samsung Compiler Bootcamp: mengajarkan untuk membuat "program pemrograman"</a></li>
<li><a href="../id467181/index.html">Mencoba membuat analog ASH untuk PostgreSQL</a></li>
<li><a href="../id467183/index.html">Pelajari 50 platform obrolan bot teratas dan asisten virtual di 2019</a></li>
<li><a href="../id467185/index.html">Gradien menurun</a></li>
<li><a href="../id467187/index.html">Buat perpustakaan teknologi terbaru</a></li>
<li><a href="../id467191/index.html">Bagaimana kami membuat Vivaldi untuk Android</a></li>
<li><a href="../id467193/index.html">Virus penambang dengan "Gerbang Surga"</a></li>
<li><a href="../id467197/index.html">Bagaimana polimorfisme diimplementasikan di dalam JVM</a></li>
<li><a href="../id467199/index.html">Tom Hunter Diary: The Hound of the Baskervilles</a></li>
<li><a href="../id467201/index.html">Eksperimen CacheBrowser: Memotong Firewall Cina tanpa Proxy Menggunakan Caching Konten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>