<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤´ğŸ» ğŸ™ŒğŸ¼ ğŸ”“ Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªÙ‡ÙŠØ¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø´Ø¨ÙƒØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙƒÙˆÙŠÙ† Ù…Ø¹ Nornir ğŸ§”ğŸ½ ğŸˆ ğŸ‘ŒğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù…Ø±Ø­Ø¨Ø§ ÙŠØ§ Ù‡Ø¨Ø±! 


 ÙÙŠ Ø§Ù„Ø¢ÙˆÙ†Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© ØŒ ØªØ±Ø§Ø¬Ø¹ Ù…Ù‚Ø§Ù„ Ù„Ù…ÙƒØ±ÙˆØªÙŠÙƒ ÙˆÙ„ÙŠÙ†ÙƒØ³ Ù‡Ù†Ø§ . Ø§Ù„Ø±ÙˆØªÙŠÙ†ÙŠØ© ÙˆØ§Ù„Ø£ØªÙ…ØªØ© Ø­ÙŠØ« ØªÙ… Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ù…Ù…Ø§Ø«Ù„Ø© Ø¨Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø­ÙÙˆØ±ÙŠØ©. Ø¹Ù„Ù‰ Ø§Ù„Ø±ØºÙ… Ù…Ù† Ø£Ù† Ø§...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªÙ‡ÙŠØ¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø´Ø¨ÙƒØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙƒÙˆÙŠÙ† Ù…Ø¹ Nornir</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482194/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7z/bp/zt/7zbpztvjkn5yfvxwcxudhj7hrja.png"></p><br><p style=";text-align:right;direction:rtl">  Ù…Ø±Ø­Ø¨Ø§ ÙŠØ§ Ù‡Ø¨Ø±! </p><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ø§Ù„Ø¢ÙˆÙ†Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© ØŒ ØªØ±Ø§Ø¬Ø¹ Ù…Ù‚Ø§Ù„ <a href="https//habr.com/en/post/480404/" rel="nofollow">Ù„Ù…ÙƒØ±ÙˆØªÙŠÙƒ ÙˆÙ„ÙŠÙ†ÙƒØ³</a> Ù‡Ù†Ø§ <a href="https//habr.com/en/post/480404/" rel="nofollow">.</a>  <a href="https//habr.com/en/post/480404/" rel="nofollow">Ø§Ù„Ø±ÙˆØªÙŠÙ†ÙŠØ© ÙˆØ§Ù„Ø£ØªÙ…ØªØ©</a> Ø­ÙŠØ« ØªÙ… Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ù…Ù…Ø§Ø«Ù„Ø© Ø¨Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø­ÙÙˆØ±ÙŠØ©.  Ø¹Ù„Ù‰ Ø§Ù„Ø±ØºÙ… Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ù‡Ù…Ø© Ù†Ù…ÙˆØ°Ø¬ÙŠØ© ØªÙ…Ø§Ù…Ù‹Ø§ ØŒ Ø¥Ù„Ø§ Ø£Ù†Ù‡ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ù…Ù…Ø§Ø«Ù„ ÙÙŠ Ø­Ø¨Ø±ÙŠ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹.  Ø£Ø¬Ø±Ø¤ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø¯Ø±Ø§Ø¬ØªÙŠ Ù„Ù…Ø¬ØªÙ…Ø¹ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø°ÙŠ Ø§Ù„Ø³Ù…Ø¹Ø© Ø§Ù„Ø·ÙŠØ¨Ø©. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  Ù„ÙŠØ³Øª Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©.  ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ Ù‚Ø¨Ù„ Ø¹Ø¯Ø© Ø³Ù†ÙˆØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¥ØµØ¯Ø§Ø± ansible 1.x.x.  Ù†Ø§Ø¯Ø±Ø§ Ù…Ø§ ÙƒØ§Ù†Øª ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ø§Ù„ØµØ¯Ø£ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±.  Ø¨Ù…Ø¹Ù†Ù‰ Ø£Ù† Ø§Ù„Ù…Ù‡Ù…Ø© Ù†ÙØ³Ù‡Ø§ Ù„Ø§ ØªØ­Ø¯Ø« ÙÙŠ ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø­ÙŠØ§Ù† Ù…Ø«Ù„ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ù…Ù† <em>ansible</em> .  ÙˆÙÙŠ ÙƒÙ„ Ù…Ø±Ø© ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ø°Ù‡Ø§Ø¨ ØŒ Ø³ÙˆÙ ØªØ³Ù‚Ø· Ø§Ù„Ø³Ù„Ø³Ù„Ø© ØŒ ÙˆØ³ÙˆÙ ØªØ³Ù‚Ø· Ø§Ù„Ø¹Ø¬Ù„Ø©.  ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ ÙØ¥Ù† Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ ØŒ ÙˆÙ‡Ùˆ ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª - ÙŠØ¹Ù…Ù„ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­ Ù„Ù„ØºØ§ÙŠØ© ØŒ Ø­ÙŠØ« ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­Ø±Ùƒ Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø© Ù…Ù† Ø£Ø¬Ù„ <em>jinja2</em> .  Ù„ÙƒÙ† Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø·Ø±Ø­ Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª ØŒ ÙƒÙ‚Ø§Ø¹Ø¯Ø© Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙØ§Ø¬Ø¢Øª.  ÙˆØ¨Ù…Ø§ Ø£Ù†Ù‡ Ù„Ø§ Ø¨Ø¯ Ù„ÙŠ Ù…Ù† Ø·Ø±Ø­ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù† Ø¨Ø¹Ø¯ Ø¹Ù„Ù‰ Ø£Ø±Ø¶ÙŠØ© Ù…Ø¦Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ØŒ Ø¨Ø¹Ø¶Ù‡Ø§ Ø¹Ù„Ù‰ Ø¨Ø¹Ø¯ Ø¢Ù„Ø§Ù Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±Ø§Øª ØŒ ÙÙ‚Ø¯ ÙƒØ§Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ø£Ù…Ø±Ù‹Ø§ Ù…Ø²Ø¹Ø¬Ù‹Ø§ Ø¨Ø¹Ø¶ Ø§Ù„Ø´ÙŠØ¡. </p><br><p style=";text-align:right;direction:rtl">  Ù‡Ù†Ø§ ÙŠØ¬Ø¨ Ø£Ù† Ø£Ø¹ØªØ±Ù Ø£Ù† Ø§Ù†Ø¹Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ù† Ù„Ø¯ÙŠ ØŒ ÙŠÙƒÙ…Ù† ÙÙŠ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¥Ù„ÙØ© Ù…Ø¹ <em>Ø£Ù†Ø³Ø¨Ù„</em> Ù„ÙŠ Ø£ÙƒØ«Ø± Ù…Ù† Ø¹ÙŠÙˆØ¨Ù‡.  ÙˆÙ‡Ø°Ù‡ ØŒ Ø¨Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ØŒ Ù‡ÙŠ Ù†Ù‚Ø·Ø© Ù…Ù‡Ù…Ø©.  <em>ansible</em> Ù‡Ùˆ Ù…Ø¬Ø§Ù„ Ù…Ø¹Ø±ÙØ© Ù…Ù†ÙØµÙ„ ØªÙ…Ø§Ù…Ù‹Ø§ Ø¹Ù† Ø·Ø±ÙŠÙ‚ DSL (Ù„ØºØ© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¬Ø§Ù„) ØŒ ÙˆØ§Ù„ØªÙŠ ÙŠØ¬Ø¨ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„ÙŠÙ‡Ø§ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…ÙˆØ«ÙˆÙ‚.  Ø­Ø³Ù†Ù‹Ø§ ØŒ Ø§Ù„Ù„Ø­Ø¸Ø© Ø§Ù„ØªÙŠ <em>ÙŠØªØ·ÙˆØ±</em> ÙÙŠÙ‡Ø§ <em>ansible</em> Ø¨Ø³Ø±Ø¹Ø© ÙƒØ¨ÙŠØ±Ø© ØŒ ÙˆØ¯ÙˆÙ† Ø£ÙŠ Ø§Ø¹ØªØ¨Ø§Ø± Ø®Ø§Øµ Ù„Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ØŒ Ù„Ø§ ØªØ¶ÙŠÙ Ø§Ù„Ø«Ù‚Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ù„Ø°Ù„Ùƒ ØŒ Ù…Ù†Ø° ÙˆÙ‚Øª Ù„ÙŠØ³ Ø¨Ø¨Ø¹ÙŠØ¯ ØŒ ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©.  Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø© ÙÙŠ <em>Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†</em> ØŒ Ø£Ùˆ Ø¨Ø§Ù„Ø£Ø­Ø±Ù‰ ØŒ ÙÙŠ Ø¥Ø·Ø§Ø± Ù…ÙƒØªÙˆØ¨ ÙÙŠ <em>Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†</em> <a href="https://nornir.readthedocs.io/" rel="nofollow">ÙˆÙ„Ø«Ø¹Ø¨Ø§Ù†</a> ÙŠØ³Ù…Ù‰ <a href="https://nornir.readthedocs.io/" rel="nofollow">Ù†ÙˆØ±Ù†ÙŠØ±</a> </p><br><p style=";text-align:right;direction:rtl">  So - <em>Nornir</em> Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ø¹Ù…Ù„ <em>Ù…ØµØºØ±</em> Ù…ÙƒØªÙˆØ¨ Ø¨Ù„ØºØ© <em>Ø§Ù„Ø«Ø¹Ø¨Ø§Ù†</em> <em>ÙˆÙ„Ø«Ø¹Ø¨Ø§Ù†</em> Ø§Ù„Ù…Ø¹Ø¯Ø© Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¢Ù„ÙŠ.  ÙƒÙ…Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ ÙÙŠ <em>ansible</em> ØŒ Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª ØŒ ÙŠÙ„Ø²Ù… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ© Ù‡Ù†Ø§ ØŒ Ø£ÙŠ  Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø¶ÙŠÙÙŠÙ† ÙˆÙ…Ø¹Ù„Ù…Ø§ØªÙ‡Ù… ØŒ ÙˆÙ„ÙƒÙ† Ù„Ø§ ÙŠØªÙ… ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠØ© Ø¹Ù„Ù‰ DSL Ù…Ù†ÙØµÙ„ ØŒ ÙˆÙ„ÙƒÙ† ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù†ÙØ³ Ù†ØºÙ…Ø© [Ùˆ | Ø¢Ù‡] Ù„ÙŠØ³Øª Ù‚Ø¯ÙŠÙ…Ø© Ø¬Ø¯Ù‹Ø§ ØŒ ÙˆÙ„ÙƒÙ† Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ù‹Ø§. </p><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ù„Ù‚ÙŠ Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ Ù…Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ÙÙŠ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø­ÙŠ Ø§Ù„ØªØ§Ù„ÙŠ. </p><br><p style=";text-align:right;direction:rtl">  Ù„Ø¯ÙŠÙ‘ Ø´Ø¨ÙƒØ© ÙØ±ÙˆØ¹ Ù„Ù‡Ø§ Ø¹Ø´Ø±Ø§Øª Ø§Ù„Ù…ÙƒØ§ØªØ¨ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¨Ù„Ø§Ø¯.  ÙÙŠ ÙƒÙ„ Ù…ÙƒØªØ¨ ØŒ ÙŠÙˆØ¬Ø¯ Ø¬Ù‡Ø§Ø² ØªÙˆØ¬ÙŠÙ‡ WAN ÙŠÙ†Ù‡ÙŠ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ù† Ù…Ø´ØºÙ„ÙŠÙ† Ù…Ø®ØªÙ„ÙÙŠÙ†.  Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù‡Ùˆ BGP.  ÙŠÙˆØ¬Ø¯ Ù†ÙˆØ¹Ø§Ù† Ù…Ù† Ø£Ø¬Ù‡Ø²Ø© ØªÙˆØ¬ÙŠÙ‡ WAN: Cisco ISG Ø£Ùˆ Juniper SRX. </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ø¢Ù†: Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ ØªÙƒÙˆÙŠÙ† Ø´Ø¨ÙƒØ© ÙØ±Ø¹ÙŠØ© Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ù…Ù†ÙØ° Ù…Ù†ÙØµÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø£Ø¬Ù‡Ø²Ø© ØªÙˆØ¬ÙŠÙ‡ Ø´Ø¨ÙƒØ© WAN Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„ÙØ±Ø¹ÙŠØ© - Ø£Ø¹Ù„Ù† Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„ÙØ±Ø¹ÙŠØ© ÙÙŠ BGP - Ù‚Ù… Ø¨ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø³Ø±Ø¹Ø© Ù„Ù„Ù…Ù†ÙØ° Ø§Ù„Ù…Ø®ØµØµ. </p><br><p style=";text-align:right;direction:rtl">  Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ø«Ù†ÙŠÙ† Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ ØŒ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„ Ù„Ù€ Cisco Ùˆ Juniper.  ÙˆÙ…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙƒÙ„ Ù†Ù‚Ø·Ø© ÙˆÙ…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ Ø£ÙŠ  Ù„Ø¬Ù…Ø¹ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† </p><br><p style=";text-align:right;direction:rtl">  Ù‚Ø§Ù„Ø¨ Ø¬Ø§Ù‡Ø² Ù„Ù€ Cisco: </p><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ cat templates/ios/base.j2 class-map match-all VIDEO_SURV match access-group 111 policy-map VIDEO_SURV class VIDEO_SURV police 1500000 conform-action transmit exceed-action drop interface {{ host.task_data.ifname }} description VIDEOSURV ip address 10.10.{{ host.task_data.ipsuffix }}.254 255.255.255.0 service-policy input VIDEO_SURV router bgp {{ host.task_data.asn }} network 10.40.{{ host.task_data.ipsuffix }}.0 mask 255.255.255.0 access-list 11 permit 10.10.{{ host.task_data.ipsuffix }}.0 0.0.0.255 access-list 111 permit ip 10.10.{{ host.task_data.ipsuffix }}.0 0.0.0.255 any</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø¹Ø±Ø¹Ø±: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ cat templates/junos/base.j2 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> interfaces {{ host.task_data.ifname }} unit 0 description <span class="hljs-string"><span class="hljs-string">"Video surveillance"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> interfaces {{ host.task_data.ifname }} unit 0 family inet filter input <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span>-in <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> interfaces {{ host.task_data.ifname }} unit 0 family inet address 10.10.{{ host.task_data.ipsuffix }}.254/24 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> policy-options policy-statement export2bgp term 1 from route-filter 10.10.{{ host.task_data.ipsuffix }}.0/24 exact <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> security zones security-zone WAN interfaces {{ host.task_data.ifname }} <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1m <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-exceeding bandwidth-limit 1m <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1m <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-exceeding burst-size-limit 187k <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1m <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> discard <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1.5m <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-exceeding bandwidth-limit 1500000 <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1.5m <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-exceeding burst-size-limit 280k <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall policer policer-1.5m <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> discard <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall filter <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span>-in term 1 <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> policer policer-1.5m <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> firewall filter <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span>-in term 1 <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> count limiter</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ù„Ø§ ØªØ¤Ø®Ø° Ù…Ù† Ø§Ù„Ø³Ù‚Ù.  Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„Ø¹Ù…Ù„ - Ù„Ù‚Ø¯ Ø£ØµØ¨Ø­ Ø¨Ø¹Ø¯ Ø­Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¹Ù„Ù‰ Ø§Ø«Ù†ÙŠÙ† Ù…Ù† Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ù† Ù†Ù…Ø§Ø°Ø¬ Ù…Ø®ØªÙ„ÙØ©. </p><br><p style=";text-align:right;direction:rtl">  Ù…Ù† Ù‚ÙˆØ§Ù„Ø¨Ù†Ø§ ØŒ Ù†Ø±Ù‰ Ø£Ù†Ù‡ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù†Ø§ Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ØŒ Ù‡Ù†Ø§Ùƒ Ù…Ø¹Ù„Ù…ØªØ§Ù† Ù„Ù€ Juniper Ùˆ 3 Ù…Ø¹Ù„Ù…Ø§Øª Ù„Ù€ Cisco ÙƒØ§ÙÙŠØ©.  Ù‡Ø§ Ù‡Ù…: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ifname </li><li style=";text-align:right;direction:rtl">  ipsuffix </li><li style=";text-align:right;direction:rtl">  ASN </li></ul><br><p style=";text-align:right;direction:rtl">  Ù†Ø­ØªØ§Ø¬ Ø§Ù„Ø¢Ù† Ø¥Ù„Ù‰ ØªØ¹ÙŠÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù„ÙƒÙ„ Ø¬Ù‡Ø§Ø² ØŒ Ø£ÙŠ  ØªÙØ¹Ù„ Ù†ÙØ³ <em>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</em> . </p><br><p style=";text-align:right;direction:rtl">  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© <em>Ù„Ù„Ù…Ø®Ø²ÙˆÙ† ØŒ</em> Ø³Ù†ØªØ¨Ø¹ Ø¨ÙˆØ¶ÙˆØ­ ÙˆØ«Ø§Ø¦Ù‚ <a href="https://nornir.readthedocs.io/en/latest/tutorials/intro/initializing_nornir.html" rel="nofollow">ØªÙ‡ÙŠØ¦Ø© Nornir.</a> </p><br><p style=";text-align:right;direction:rtl">  Ø£ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù†ÙØ³ Ù‡ÙŠÙƒÙ„ Ø¹Ø¸Ù…ÙŠ Ù„Ù„Ù…Ù„Ù: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">. â”œâ”€â”€ config.yaml â”œâ”€â”€ inventory â”‚ â”œâ”€â”€ defaults.yaml â”‚ â”œâ”€â”€ groups.yaml â”‚ â””â”€â”€ hosts.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù…Ù„Ù Config.yaml - Ù…Ù„Ù Ø§Ù„ØªÙƒÙˆÙŠÙ† nornir Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ cat config.yaml --- core: num_workers: 10 inventory: plugin: nornir.plugins.inventory.simple.SimpleInventory options: host_file: "inventory/hosts.yaml" group_file: "inventory/groups.yaml" defaults_file: "inventory/defaults.yaml"</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>Ø³Ù†Ø­Ø¯Ø¯</em> Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ù…Ù„Ù <em>hosts.yaml</em> ØŒ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© (ÙÙŠ Ø­Ø§Ù„ØªÙŠ Ù‡Ø°Ù‡ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† / ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±) ÙÙŠ <em>groups.yaml</em> ØŒ ÙˆÙ„Ù† Ù†Ø­Ø¯Ø¯ Ø£ÙŠ Ø´ÙŠØ¡ ÙÙŠ <em>defaults.yaml</em> ØŒ Ù„ÙƒÙ† ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø¥Ø¯Ø®Ø§Ù„ Ø«Ù„Ø§Ø«Ø© Ø³Ù„Ø¨ÙŠØ§Øª Ù‡Ù†Ø§Ùƒ - Ù„Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù† Ù‡Ø°Ø§ Ù…Ù„Ù <em>yaml</em> ÙˆØ¥Ù† ÙƒØ§Ù† ÙØ§Ø±ØºØ§. </p><br><p style=";text-align:right;direction:rtl">  Ù‡Ø°Ø§ Ù…Ø§ ÙŠØ´Ø¨Ù‡ hosts.yaml: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- srx-test: hostname: srx-test groups: - juniper data: task_data: ifname: fe-0/0/2 ipsuffix: 111 cisco-test: hostname: cisco-test groups: - cisco data: task_data: ifname: GigabitEthernet0/1/1 ipsuffix: 222 asn: 65111</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙ‡Ù†Ø§ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª. yaml: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- cisco: platform: ios username: admin1 password: cisco1 juniper: platform: junos username: admin2 password: juniper2</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù‡Ù†Ø§ Ù‡Ùˆ <em>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</em> Ù„Ù…Ù‡Ù…ØªÙ†Ø§.  Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ØŒ ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù…Ù† Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¥Ù„Ù‰ Ø·Ø±Ø§Ø² ÙƒØ§Ø¦Ù† <strong>InventoryElement</strong> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯ ØŒ Ø±Ø³Ù… ØªØ®Ø·ÙŠØ·ÙŠ Ù„Ù†Ù…ÙˆØ°Ø¬ InventoryElement</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">print(json.dumps(InventoryElement.schema(), indent=<span class="hljs-number"><span class="hljs-number">4</span></span>)) { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"InventoryElement"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hostname"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hostname"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"port"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Port"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"integer"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"username"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Username"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"password"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"platform"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Platform"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"groups"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Groups"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Data"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"connection_options"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Connection_Options"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"additionalProperties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/definitions/ConnectionOptions"</span></span> } } }, <span class="hljs-attr"><span class="hljs-attr">"definitions"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ConnectionOptions"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"ConnectionOptions"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hostname"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hostname"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"port"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Port"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"integer"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"username"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Username"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"password"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"platform"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Platform"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"extras"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Extras"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> } } } } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù‚Ø¯ ÙŠØ¨Ø¯Ùˆ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ø±Ø¨ÙƒÙ‹Ø§ Ø¨Ø¹Ø¶ Ø§Ù„Ø´ÙŠØ¡ ØŒ Ø®Ø§ØµØ©Ù‹ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©.  Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ ÙÙŠ <strong>ipython</strong> ÙŠØ³Ø§Ø¹Ø¯ ÙƒØ«ÙŠØ±Ø§ ÙÙŠ Ù…Ø¹Ø±ÙØ© Ø°Ù„Ùƒ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"> $ ipython3 Python 3.6.9 (default, Nov 7 2019, 10:44:02) Type <span class="hljs-string"><span class="hljs-string">'copyright'</span></span>, <span class="hljs-string"><span class="hljs-string">'credits'</span></span> or <span class="hljs-string"><span class="hljs-string">'license'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information IPython 7.1.1 -- An enhanced Interactive Python. Type <span class="hljs-string"><span class="hljs-string">'?'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>. In [1]: from nornir import InitNornir In [2]: nr = InitNornir(config_file=<span class="hljs-string"><span class="hljs-string">"config.yaml"</span></span>, dry_run=True) In [3]: nr.inventory.hosts Out[3]: {<span class="hljs-string"><span class="hljs-string">'srx-test'</span></span>: Host: srx-test, <span class="hljs-string"><span class="hljs-string">'cisco-test'</span></span>: Host: cisco-test} In [4]: nr.inventory.hosts[<span class="hljs-string"><span class="hljs-string">'srx-test'</span></span>].data Out[4]: {<span class="hljs-string"><span class="hljs-string">'task_data'</span></span>: {<span class="hljs-string"><span class="hljs-string">'ifname'</span></span>: <span class="hljs-string"><span class="hljs-string">'fe-0/0/2'</span></span>, <span class="hljs-string"><span class="hljs-string">'ipsuffix'</span></span>: 111}} In [5]: nr.inventory.hosts[<span class="hljs-string"><span class="hljs-string">'srx-test'</span></span>][<span class="hljs-string"><span class="hljs-string">'task_data'</span></span>] Out[5]: {<span class="hljs-string"><span class="hljs-string">'ifname'</span></span>: <span class="hljs-string"><span class="hljs-string">'fe-0/0/2'</span></span>, <span class="hljs-string"><span class="hljs-string">'ipsuffix'</span></span>: 111} In [6]: nr.inventory.hosts[<span class="hljs-string"><span class="hljs-string">'srx-test'</span></span>].platform Out[6]: <span class="hljs-string"><span class="hljs-string">'junos'</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  Ø­Ø³Ù†Ù‹Ø§ ØŒ Ø£Ø®ÙŠØ±Ù‹Ø§ ØŒ Ø¯Ø¹Ù†Ø§ Ù†Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ù†ÙØ³Ù‡.  Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø®Ø§Øµ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠ Ù„Ø£ÙƒÙˆÙ† ÙØ®ÙˆØ±Ø§Ù‹.  Ø£Ø®Ø°Øª Ù„Ù„ØªÙˆ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† <a href="https://nornir.readthedocs.io/en/latest/tutorials/intro/grouping_tasks.html" rel="nofollow">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</a> ÙˆØ§Ø³ØªØ®Ø¯Ù…ØªÙ‡ Ù…Ø¹ Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª ØªÙ‚Ø±ÙŠØ¨Ø§.  Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙŠ ÙŠØ¨Ø¯Ùˆ Ø¨Ù‡Ø§ Ù†Øµ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> nornir <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> InitNornir <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> nornir.plugins.tasks <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> networking, text <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> nornir.plugins.functions.text <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_title, print_result <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">config_and_deploy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(task)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Transform inventory data to configuration via a template file r = task.run(task=text.template_file, name="Base Configuration", template="base.j2", path=f"templates/{task.host.platform}") # Save the compiled configuration into a host variable task.host["config"] = r.result # Save the compiled configuration into a file with open(f"configs/{task.host.hostname}", "w") as f: f.write(r.result) # Deploy that configuration to the device using NAPALM task.run(task=networking.napalm_configure, name="Loading Configuration on the device", replace=False, configuration=task.host["config"]) nr = InitNornir(config_file="config.yaml", dry_run=True) # set dry_run=False, cross your fingers and run again # run tasks result = nr.run(task=config_and_deploy) print_result(result)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ø§Ø­Ø¸ <em>dry_run = True</em> Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙÙŠ Ø³Ø·Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ù„Ù„ÙƒØ§Ø¦Ù† <strong>nr</strong> . <br>  Ù‡Ù†Ø§ ØŒ ØªÙ…Ø§Ù…Ù‹Ø§ ÙƒÙ…Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ ÙÙŠ <em>ansible</em> ØŒ ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØªÙ… Ù…Ù† Ø®Ù„Ø§Ù„Ù‡ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ÙˆØ¬Ù‡ ØŒ ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø© ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­ØªÙ‡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù‡Ø§Ø² (Ù„ÙƒÙ† Ù‡Ø°Ø§ Ù„ÙŠØ³ Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ Ø› Ù‡Ø°Ø§ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¯Ø¹Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØªÙ†ÙÙŠØ° Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ´ØºÙŠÙ„ ÙÙŠ NAPALM) ØŒ Ù„ÙƒÙ† Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ø§ ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹ .  Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ØªØ§Ù„ÙŠ ØŒ ÙŠØ¬Ø¨ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø© <em>dry_run</em> Ø£Ùˆ ØªØºÙŠÙŠØ± Ù‚ÙŠÙ…ØªÙ‡Ø§ Ø¥Ù„Ù‰ <em>False</em> . </p><br><p style=";text-align:right;direction:rtl">  Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ ØŒ ÙŠØ¹Ø±Ø¶ Nornir Ø³Ø¬Ù„Ø§Øª Ù…ÙØµÙ„Ø© Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯ ØŒ ÙŠØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„Ù‚ØªØ§Ù„ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²ÙŠ Ø§Ø®ØªØ¨Ø§Ø±:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">config_and_deploy*************************************************************** * cisco-test ** changed : True ******************************************* vvvv config_and_deploy ** changed : True vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv INFO ---- Base Configuration ** changed : True ------------------------------------- INFO class-map match-all VIDEO_SURV match access-group 111 policy-map VIDEO_SURV class VIDEO_SURV police 1500000 conform-action transmit exceed-action drop interface GigabitEthernet0/1/1 description VIDEOSURV ip address 10.10.222.254 255.255.255.0 service-policy input VIDEO_SURV router bgp 65001 network 10.10.222.0 mask 255.255.255.0 access-list 11 permit 10.10.222.0 0.0.0.255 access-list 111 permit ip 10.10.222.0 0.0.0.255 any ---- Loading Configuration on the device ** changed : True --------------------- INFO +class-map match-all VIDEO_SURV + match access-group 111 +policy-map VIDEO_SURV + class VIDEO_SURV +interface GigabitEthernet0/1/1 + description VIDEOSURV + ip address 10.10.222.254 255.255.255.0 + service-policy input VIDEO_SURV +router bgp 65001 + network 10.10.222.0 mask 255.255.255.0 +access-list 11 permit 10.10.222.0 0.0.0.255 +access-list 111 permit ip 10.10.222.0 0.0.0.255 any ^^^^ END config_and_deploy ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ * srx-test ** changed : True ******************************************* vvvv config_and_deploy ** changed : True vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv INFO ---- Base Configuration ** changed : True ------------------------------------- INFO set interfaces fe-0/0/2 unit 0 description "Video surveillance" set interfaces fe-0/0/2 unit 0 family inet filter input limit-in set interfaces fe-0/0/2 unit 0 family inet address 10.10.111.254/24 set policy-options policy-statement export2bgp term 1 from route-filter 10.10.111.0/24 exact set security zones security-zone WAN interfaces fe-0/0/2 set firewall policer policer-1m if-exceeding bandwidth-limit 1m set firewall policer policer-1m if-exceeding burst-size-limit 187k set firewall policer policer-1m then discard set firewall policer policer-1.5m if-exceeding bandwidth-limit 1500000 set firewall policer policer-1.5m if-exceeding burst-size-limit 280k set firewall policer policer-1.5m then discard set firewall filter limit-in term 1 then policer policer-1.5m set firewall filter limit-in term 1 then count limiter ---- Loading Configuration on the device ** changed : True --------------------- INFO [edit interfaces] + fe-0/0/2 { + unit 0 { + description "Video surveillance"; + family inet { + filter { + input limit-in; + } + address 10.10.111.254/24; + } + } + } [edit] + policy-options { + policy-statement export2bgp { + term 1 { + from { + route-filter 10.10.111.0/24 exact; + } + } + } + } [edit security zones] security-zone test-vpn { ... } + security-zone WAN { + interfaces { + fe-0/0/2.0; + } + } [edit] + firewall { + policer policer-1m { + if-exceeding { + bandwidth-limit 1m; + burst-size-limit 187k; + } + then discard; + } + policer policer-1.5m { + if-exceeding { + bandwidth-limit 1500000; + burst-size-limit 280k; + } + then discard; + } + filter limit-in { + term 1 { + then { + policer policer-1.5m; + count limiter; + } + } + } + } ^^^^ END config_and_deploy ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</code> </pre> </div></div><br><h3 id="pryachem-paroli-v-ansible_vault" style=";text-align:right;direction:rtl">  Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ ansible_vault </h3><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ù„ ØŒ ÙˆØ§Ø¬Ù‡Øª <em>Ø¨Ø¹Ø¶ Ø§Ù„Ø´ÙŠØ¡</em> ØŒ Ù„ÙƒÙ† Ù„ÙŠØ³ ÙƒÙ„ Ø´ÙŠØ¡ Ø³ÙŠØ¡ Ù„Ù„ØºØ§ÙŠØ© Ù‡Ù†Ø§Ùƒ.  Ø£Ø­Ø¨ Ø­Ù‚Ù‹Ø§ <strong>Ù‚Ø¨ÙˆÙ‡Ù…</strong> Ø§Ù„Ù…ØµÙ…Ù… Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ø¹Ù† Ø§Ù„Ø£Ù†Ø¸Ø§Ø±.  ÙˆØ±Ø¨Ù…Ø§ Ù„Ø§Ø­Ø¸ Ø§Ù„ÙƒØ«ÙŠØ±ÙˆÙ† Ø£Ù† Ù„Ø¯ÙŠÙ†Ø§ Ø¬Ù…ÙŠØ¹ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† / ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ø¬Ù…ÙŠØ¹ Ø£Ø¬Ù‡Ø²Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© ØªØªØ£Ù„Ù‚ ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…ÙØªÙˆØ­ ÙÙŠ Ù…Ù„Ù <em>groups.yaml</em> .  Ø§Ù†Ù‡Ø§ Ù‚Ø¨ÙŠØ­Ø© ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹.  Ø¯Ø¹ÙˆÙ†Ø§ Ø­Ù…Ø§ÙŠØ© Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ <strong>Ù‚Ø¨Ùˆ</strong> . </p><br><p style=";text-align:right;direction:rtl">  Ù†Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù…Ù† groups.yaml Ø¥Ù„Ù‰ creds.yaml ØŒ ÙˆÙ†Ø´ÙÙ‘Ø±Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… AES256 Ø¨ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù…Ø¤Ù„ÙØ© Ù…Ù† 20 Ø±Ù‚Ù…Ù‹Ø§: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> inventory $ cat creds.yaml --- cisco: username: admin1 password: cisco1 juniper: username: admin2 password: juniper2 $ pwgen 20 -N 1 &gt; vault.passwd ansible-vault encrypt creds.yaml --vault-password-file vault.passwd Encryption successful $ cat creds.yaml <span class="hljs-variable"><span class="hljs-variable">$ANSIBLE_VAULT</span></span>;1.1;AES256 39656463353437333337356361633737383464383231366233386636333965306662323534626131 3964396534396333363939373539393662623164373539620a346565373439646436356438653965 39643266333639356564663961303535353364383163633232366138643132313530346661316533 6236306435613132610a656163653065633866626639613537326233653765353661613337393839 62376662303061353963383330323164633162386336643832376263343634356230613562643533 30363436343465306638653932366166306562393061323636636163373164613630643965636361 34343936323066393763323633336366366566393236613737326530346234393735306261363239 35663430623934323632616161636330353134393435396632663530373932383532316161353963 31393434653165613432326636616636383665316465623036376631313162646435</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§  ÙŠØ¨Ù‚Ù‰ Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ <em>Nornir</em> Ù„Ø¯ÙŠÙ†Ø§ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. <br>  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ ÙÙŠ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ù„Ø¯ÙŠÙ†Ø§ ØŒ Ø¨Ø¹Ø¯ Ø³Ø·Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø© <em>nr = InitNornir (config_file = ...</em> Ø£Ø¶Ù Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØªØ§Ù„ÙŠ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span>nr = InitNornir(config_file=<span class="hljs-string"><span class="hljs-string">"config.yaml"</span></span>, dry_run=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment"># set dry_run=False, cross your fingers and run again # enrich Inventory with the encrypted vault data from ansible_vault import Vault vault_password_file="inventory/vault.passwd" vault_file="inventory/creds.yaml" with open(vault_password_file, "r") as fp: password = fp.readline().strip() vault = Vault(password) vaultdata = vault.load(open(vault_file).read()) for a in nr.inventory.hosts.keys(): item = nr.inventory.hosts[a] item.username = vaultdata[item.groups[0]]['username'] item.password = vaultdata[item.groups[0]]['password'] #print("hostname={}, username={}, password={}\n".format(item.hostname, item.username, item.password)) # run tasks ...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ù„Ø§ ÙŠÙ†Ø¨ØºÙŠ Ø£Ù† ÙŠÙ‚Ø¹ vault.passwd Ø¨Ø¬ÙˆØ§Ø± creds.yaml ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ.  ÙˆÙ„ÙƒÙ† Ù„Ù„Ø¹Ø¨ Ø³ÙˆÙ ØªÙØ¹Ù„. </p><br><p style=";text-align:right;direction:rtl">  Ù‡Ø°Ø§ ÙƒÙ„ Ø´ÙŠØ¡ Ø§Ù„Ø¢Ù†.  ØªÙ… Ø·Ø±Ø­ Ù…Ù‚Ø§Ù„ØªÙŠÙ† Ø­ÙˆÙ„ Cisco + Zabbix ØŒ Ù„ÙƒÙ† Ù‡Ø°Ø§ Ù„ÙŠØ³ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù† Ø§Ù„Ø£ØªÙ…ØªØ©.  ÙˆÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ù‚Ø±ÙŠØ¨ ØŒ Ø£Ø®Ø·Ø· Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù† RESTCONF ÙÙŠ Cisco. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482194/">https://habr.com/ru/post/ar482194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482170/index.html">Ø­Ø±ÙˆØ¨ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬. Ù‚ØµØ© Ø§Ù„Ø£Ø±Ù†Ø¨ Ø§Ù„Ø£Ø²Ø±Ù‚ ÙˆØ§Ù„Ø³Ù„Ø­ÙØ§Ø© Ø§Ù„Ø­Ù…Ø±Ø§Ø¡</a></li>
<li><a href="../ar482182/index.html">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ Ø£ÙˆØ§Ø¬Ù‡Ù‡Ø§ Ø¥Ø°Ø§ Ù†Ø§Ø¶Ù„Øª Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù†Ø³ÙŠÙ† ÙÙŠ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŸ</a></li>
<li><a href="../ar482186/index.html">Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ùˆ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ØªÙŠ ØªØ±ÙƒØª ÙÙŠÙ‡Ø§ ÙˆØ¸ÙŠÙØªÙŠ Ø§Ù„Ø£Ø®ÙŠØ±Ø©</a></li>
<li><a href="../ar482188/index.html">Ø§Ø³ØªØ·Ù„Ø§Ø¹ Ø§Ù„Ø¬Ù…Ø¹Ø© Ø­ÙˆÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª</a></li>
<li><a href="../ar482190/index.html">ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ù…Ø­ØªÙˆÙ‰ Durex Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙÙŠ Ø§Ù„ØµÙŠÙ†</a></li>
<li><a href="../ar482196/index.html">Ù…Ø§ Ù‡Ùˆ Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆÙ„Ù…Ø§Ø°Ø§ Ù‡Ùˆ Ù…Ø·Ù„ÙˆØ¨ØŸ</a></li>
<li><a href="../ar482198/index.html">ÙƒÙŠÙÙŠØ© Ø¬Ø¹Ù„ autoscaler Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</a></li>
<li><a href="../ar482200/index.html">Blockchain Ù„Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ: Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª ÙˆØ§Ù„ÙˆØ§Ù‚Ø¹</a></li>
<li><a href="../ar482202/index.html">Ø·Ø±Ù‚ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ´ÙÙŠØ± Ø¹Ù„Ù‰ Ø£Ø¬Ù‡Ø²Ø© Check Point Ø¥Ù„Ù‰ GOST 2012</a></li>
<li><a href="../ar482206/index.html">ÙƒÙŠÙÙŠØ© Ø¬Ø¹Ù„ Ø¥Ù†ØªØ§Ø¬ 3D Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø§Ù„Ø·Ø§Ø¦Ø±Ø§Øª Ø£ÙƒØ«Ø± Ø§Ù‚ØªØµØ§Ø¯Ø§</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>