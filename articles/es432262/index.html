<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèΩ üòÉ üò¥ Hacemos nuestra tarjeta de sonido USB con aislamiento galv√°nico üìõ ü§¥üèø ‚ûñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todo comenz√≥ como de costumbre, por nefig do por exceso de tiempo libre, decid√≠ hacer algo as√≠. Entonces record√© que mis amigos se quejaban de mi micr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hacemos nuestra tarjeta de sonido USB con aislamiento galv√°nico</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432262/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zd/we/vh/zdwevhixe3tigzgz9q7oqv6v9mg.png"></div><br>  Todo comenz√≥ como de costumbre, <s>por nefig do</s> por exceso de tiempo libre, decid√≠ hacer algo as√≠.  Entonces record√© que mis amigos se quejaban de mi micr√≥fono en una discordia, se escuchaba alg√∫n tipo de ruido digital, y si comenzabas a copiar archivos a una computadora, entonces, en absoluto.  ¬øComprar una tarjeta de sonido normal?  Esto no se trata de nosotros. <br><br>  Estoy interesado en alguien debajo del gato. <br><a name="habracut"></a><br><h3>  Selecci√≥n de chip de c√≥dec </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bf/yx/vo/bfyxvosk2wy9p0y3topxttwgznm.png"></div><br>  En general, no soy fan√°tico de hacer productos electr√≥nicos a partir de nada, incluso para m√≠, especialmente de componentes chinos con ali, para esto primero vamos a digikey y buscamos algo.  El primer pensamiento fue tomar un chip de c√≥dec completo y conectarlo al <i>STM32</i> , y desde √©l al <i>USB</i> .  En principio, esto no es dif√≠cil, pero en alg√∫n momento me di cuenta de que no quer√≠a molestarme tanto y decid√≠ encontrar algo "todo en uno".  Google emiti√≥ persistentemente <i>CM108</i> de <i>C-Media Electronics</i> , el fabricante en Taiw√°n.  Bueno entonces, bueno, que as√≠ sea <br><br><img src="https://habrastorage.org/webt/dw/nw/fh/dwnwfhui0rti_a-0jstcq4x-lzs.png"><br><br>  El c√≥dec requiere una <i>EEPROM</i> , e incluso ofrece una espec√≠fica, un an√°logo de <i>STMicroelectronics M93C46-WMN6TP se</i> encontr√≥ r√°pidamente en el mismo digikey (Circuitos integrados (IC)&gt; Memoria).  Por si acaso, conect√© su potencia a trav√©s del filtro para que no nos traiga nada malo a la potencia del c√≥dec. <br><br>  Tambi√©n cuarzo, y porque  Soy fan√°tico de hacer que todo sea m√°s peque√±o y compacto, puse la serie <i>ABM3</i> ( <i>ABM3-12.000MHZ-B2-T</i> ) <i>5</i> en <i>3.2</i> mm (no coloque el <i>HC-49</i> gigante) <br><br><h3>  Conectores de audio </h3><br><img src="https://habrastorage.org/webt/g2/4c/at/g24catxvxd2w0nr-gz6ir1bzl0y.png"><br><br>  Luego buscamos los conectores de auriculares y micr√≥fono.  Personalmente, prefiero <i>CUI</i> para audio y conectores de alimentaci√≥n dom√©sticos simples <i>5.5</i> , siempre los pongo, por supuesto, buscar en digikey (Conectores, Interconexiones&gt; Barril - Conectores de audio). <br><br>  En mi caso, ya ten√≠a un componente en la biblioteca bajo <i>SJ2-3574A-SMT</i> listo porque  Lo us√© antes, pod√≠a elegir los multicolores ( <i>CUI</i> tiene uno), pero no quer√≠a (lo estoy haciendo por m√≠ mismo, lo resolver√© de alguna manera). <br><br>  Por lo general, colocan condensadores en <i>serie</i> ( <i>0,47 uF</i> o 1 <i>uF</i> , puede <i>4,7 uF</i> ), puede ser de tantalio o cer√°mica, pero es mejor usar pel√≠cula.  En el esquema de referencia en la hoja de datos, ofrecen <i>470uF</i> , que es demasiado, elegimos <i>0.47uF</i> (si necesita graves muy bajos, tambi√©n puede <i>1uF</i> ).  Los condensadores de pel√≠cula est√°n en cajas <i>SMD</i> , lo cual es muy conveniente, puse el <i>ECP-U1C474MA5</i> en la caja <i>1206</i> . <br><br><h3>  Aislamiento nutricional </h3><br>  Y ahora la parte divertida <br><br><img src="https://habrastorage.org/webt/ol/7h/rp/ol7hrpatmnwgehalytm5qnl5ftm.png"><br><br>  <i>El CM108</i> tiene 2 modos, <i>100mA</i> y <i>500mA</i> , por supuesto, eleg√≠ m√°s gordo, por lo que a gran escala, <i>500mA * 5V = 2.5W</i> , con un margen, necesitamos encontrar una uni√≥n en alg√∫n lugar a <i>3W</i> , establecer los par√°metros (en Fuentes de alimentaci√≥n - Montaje en placa&gt; DC DC Converters) y vea qu√© es m√°s barato, solo recuerde eliminar a los fabricantes en los que realmente no conf√≠a.  La elecci√≥n recay√≥ en el <i>CC3-0505SF-E</i> de <i>TDK</i> (¬°aunque realmente quer√≠a ponerlo en <i>Murat</i> !).  Cuesta valientemente, 11 d√≥lares, pero no hay nada que hacer. <br><br>  Despu√©s de eso, configur√© el filtro, sin olvidar los <i>condensadores de</i> <i>0.01uF</i> y <i>0.001uF</i> para <i>filtrar</i> cualquier herej√≠a de alta frecuencia porque  incluso se arrastra por galvanoplastia.  Otro electrolito de <i>100uF</i> , definitivamente no ser√° superfluo. <br><br><h4>  Desacoplamiento de interfaz </h4><br><img src="https://habrastorage.org/webt/7n/8i/bu/7n8ibugv6dcdr55eel3cchtdh58.png"><br><br>  Desacoplar la alimentaci√≥n es bueno, pero no est√° de m√°s desacoplar la interfaz <i>USB</i> .  En la secci√≥n Aisladores digitales (Aisladores&gt; Aisladores digitales) puede encontrar uno adecuado, eleg√≠ <i>ADUM4160</i> de <i>Analog Devices</i> . <br><br>  No olvide tirar de <i>DATA P</i> en la interfaz <i>USB</i> a <i>3.3V</i> , porque  esto le dice al host (PC) que el dispositivo estaba enchufado al puerto y que deber√≠amos comenzar a trabajar con √©l, en el buen sentido este microcircuito deber√≠a tener un interior, pero por alguna raz√≥n no lo est√°. <br><br><h3>  Bueno las cositas </h3><br><img src="https://habrastorage.org/webt/s_/kl/ty/s_kltyf8we3lh0xmv9tzdhii81k.png"><br><br>  El <i>conector USB en</i> s√≠ es, por supuesto, de <i>Molex</i> , a√∫n puede hacerlo desde <i>TE</i> o <i>Wurth</i> .  O mira a los dem√°s, pero creo que es mejor elegir estos conectores entre los tres, el resto son buenos, pero en el otro. <br><br><img src="https://habrastorage.org/webt/qd/5u/_6/qd5u_6qb1z9psnkvstgwxib97vy.png"><br><br>  Tambi√©n decid√≠ que si se gastaba tanto dinero en alimentos limpios, entonces todo deber√≠a hacerse bien hasta el final, y el desacoplamiento de la tierra digital y anal√≥gica no es una excepci√≥n.  Adem√°s, en lugar del puente habitual en la placa, instal√© un filtro <i>BLM15</i> (al cablear la placa, es mejor <i>mover la</i> separaci√≥n de la tierra m√°s cerca de la tierra principal, es decir, al terminal <i>GND</i> de nuestro aislador de potencia, la tierra digital y anal√≥gica debe divergir all√≠) <br><br><h3>  Conclusi√≥n </h3><br><img src="https://habrastorage.org/webt/ar/iu/fz/ariufzigwozythclj-53m0tgsdc.png"><br><br>  Bueno, eso es todo, extend√≠ el tablero en 4 capas de la clase est√°ndar, despu√©s de la preparaci√≥n de la producci√≥n costar√° alrededor de 130 rublos.  Adem√°s, 4 capas son mejores en t√©rminos del hecho de que los pol√≠gonos de poder, tierra y tierra digital son mejores para hacer pol√≠gonos adecuados, en el buen sentido cada capa tiene su propia capa, pero tengo energ√≠a y tierra digital en una. <br><br>  Tom√≥ aproximadamente una hora y media desde la idea hasta el cableado completo.  El tablero sali√≥ en tama√±o <i>22</i> por <i>66</i> mm. <br><br>  Honestamente, mientras escrib√≠a el art√≠culo, ya me cans√© de pedir una tarifa (bueno, como siempre), as√≠ que al menos sea un art√≠culo. <br><br>  PD: A menudo mato el tiempo de esta manera, distribuyendo varios proyectos, desde simples cargadores inal√°mbricos hasta el cableado del procesador y ... los dejo desempolvando en la carpeta del disco duro porque  Pierdo inter√©s en la mayor√≠a de los casos (y como es gratis, no es necesario gastar dinero en componentes).  Si est√° interesado en dichos art√≠culos, puede ofrecer sus ideas para los siguientes proyectos. <br><br>  PPS Debido al hecho de que el tablero no est√° ordenado y no verific√≥ posibles errores. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432262/">https://habr.com/ru/post/es432262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432250/index.html">Rust News # 3 (noviembre de 2018)</a></li>
<li><a href="../es432252/index.html">¬øC√≥mo ganar m√°s en el sector de TI en Rusia?</a></li>
<li><a href="../es432256/index.html">Agravaci√≥n de oto√±o: c√≥mo los piratas inform√°ticos RTM lanzaron un ataque masivo contra bancos y empresas en nombre de agencias gubernamentales</a></li>
<li><a href="../es432258/index.html">U-NOVUS 2018: taller</a></li>
<li><a href="../es432260/index.html">Cambio de la configuraci√≥n global en los servidores de comandos locales en la infraestructura utilizando Gitlab CI y Ansible [Concept]</a></li>
<li><a href="../es432264/index.html">GitLab 11.5 lanzado con paneles de control para operadores y especialistas en seguridad y control de acceso GitLab Pages</a></li>
<li><a href="../es432268/index.html">C√≥mo convertir un cliente en datos: cambiamos la videovigilancia y la anal√≠tica de video para el comercio minorista</a></li>
<li><a href="../es432270/index.html">HappySecretSantaBot - Bot de Telegram para el juego "Secret Santa"</a></li>
<li><a href="../es432272/index.html">C√≥mo preparamos las tiendas para el nuevo a√±o.</a></li>
<li><a href="../es432276/index.html">Errores al compilar UTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>