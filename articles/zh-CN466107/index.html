<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤳🏻 📮 🚭 自己动手的智能家居系统 👩🏾‍💻 😺 🏡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="几周前，在我们的聊天中，此消息出现了： 




 再过一会儿-这是： 




 消息的作者是Zhenya，他是程序员，培训部门负责人和电子工程师。 他在5岁那年注意到，如果您从录音机中拉出电动机，将灯泡连接到它上并开始打开它，则指示灯会亮起。 在6点-如果电动机反转连接的极性，它将沿另一个方向旋...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>自己动手的智能家居系统</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466107/"><p> 几周前，在我们的聊天中，此消息出现了： </p><br><img src="https://habrastorage.org/webt/ni/dd/qm/niddqmikqhhsrblqn-qhkoc3op4.png"><br><br><p> 再过一会儿-这是： </p><br><img src="https://habrastorage.org/webt/lk/wy/cj/lkwycjpelrlydc_hiarpfgnnuxq.png"><br><br><p> 消息的作者是Zhenya，他是程序员，培训部门负责人和电子工程师。 他在5岁那年注意到，如果您从录音机中拉出电动机，将灯泡连接到它上并开始打开它，则指示灯会亮起。 在6点-如果电动机反转连接的极性，它将沿另一个方向旋转。  18岁时，他进入了理工学院测量创新技术。  24岁时，他来到Sibiriks工作。 </p><br><p> 这是因为整个任务的目标不是Smart House和气象站。 目的是划伤您的手（因为手痒）并防止其氧化（由于金合金）。 因此，每个想知道为什么花时间才能买到这样的设备的人都去了森林-DNCom。 对于那些对DIY电子产品（或同样不丢脸的DIY电子产品）感兴趣的人，您可以进一步滚动。 </p><br><a name="habracut"></a><br><blockquote>  <i>在我看来，除了工作之外，任何人都应该有某种爱好。</i>  <i>用自己的双手做些事情。</i>  <i>这是一种很好的情绪释放（主要的事情不是变成日常工作-在工作中，甚至像编程一样有趣和有趣），日常工作几乎是不可避免的，对您的业余爱好来说是对的。</i>  <i>当您的爱好变得有用并需要业务时，最有趣的是共生。</i> <br><p>  -Sibiriks工作室负责人Vladimir Zavertylov </p></blockquote><br><br><h2>  Arduino的 </h2><br><p> 两年半前，Zhenya在arduino上制作了智能家居的第一个版本。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Arduino</a>是一块带有微控制器，存储器和触点的小型电路板，您可以将灯泡，电机，传感器以及通常所有可以用电的东西连接到板上。 您编写一个C ++程序，将其加载到arduino微控制器的内存中，并控制所有连接的设备。 这就是创建酷炫小工具的方式-例如，夏季小屋的浇水系统，或带拖鞋的机器人。 </p><br><img src="https://habrastorage.org/webt/vy/ol/0u/vyol0uzkcrgrjpbbyuu9s6jt6bu.jpeg"><br><br><p> 尤金在arduino上制作的第一个主题是玩具。 两个传感器，两个参与者。 每个传感器都握住其传感器。 当玩具泡菜时，您需要将手急剧移开。 玩具会测量最多100秒的反应时间，并说出冠军是谁。 和妻子一起砍死。 方便-输掉的人都会洗碗。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/4MOCF-ts8Ks" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><p> 当arduino使一切变得清晰时，Eugene当然决定制造一个Smart House（电子工程师）。 我将安全系统（运动传感器和开门传感器）和温度计（DHT11温湿度传感器）连接到arduino，但并不满意。 所有设备之间的通信都是通过433 MHz无线电信道进行的，并且不稳定。  Zhenya在第2个月的无线电信号中苦苦挣扎，然后决定不打架，而是在Raspberry Pi上重新制作智能家庭服务器。 </p><br><br><h2> 树莓派 </h2><br><p>  Raspberry Pi已经是一台成熟的计算机。 是的，单板。 是的，信用卡的大小。 是的，它在功能上不如现代大型计算机。 但是它可以运行Linux操作系统。 这意味着您可以从C ++切换到高级语言-Java脚本，PHP。 这些是振亚人的母语。 但最重要的是，Raspberry Pi使您能够摆脱433个无线电信号，转而使用所有稳定运行的著名和最受欢迎的wi-fi。 </p><br><img src="https://habrastorage.org/webt/l_/l1/i0/l_l1i0mbdfejahxh09h7dn1rsgy.jpeg"><br><br><h2> 设计方案 </h2><br><p> 通常您是电子工程师或设计师。 我们记得，尤金（Eugene）早在5岁时就决定了这一点，因此设计存在麻烦。 但时间不长。 因为很快他去了Sibiriks的首席执行官并寻求帮助。 一个月后，我们的设计师已经绘制了智能家居的界面。 </p><br><img src="https://habrastorage.org/webt/gg/m4/ij/ggm4ijjiwoil_iap5roiq3g3rbk.png"><br><br><img src="https://habrastorage.org/webt/jj/oa/ik/jjoaikgafgeshkqwn736q-ujekg.png"><br><br><img src="https://habrastorage.org/webt/ht/--/di/ht--diuu6hpkpj6pj-rpkesblz8.png"><br><br><img src="https://habrastorage.org/webt/j3/kp/nx/j3kpnxwdnugkuc2l1vq8g78je1g.png"><br><br><img src="https://habrastorage.org/webt/fr/hp/yt/frhpytuv3y0v2j04dhgs27uyjli.png"><br><br><img src="https://habrastorage.org/webt/h9/oe/ta/h9oetaqv617zepgb5k6w5eliyfc.png"><br><br><img src="https://habrastorage.org/webt/2o/nt/qe/2ontqeyvewgcwrojve3fqsiszns.png"><br><br><img src="https://habrastorage.org/webt/co/ni/2_/coni2_ipzm85cjxyo0nvylhs_g4.png"><br><br><img src="https://habrastorage.org/webt/ge/o4/hj/geo4hj8bgbua0yej6ewdq8gorqe.png"><br><br><h2> 系统 </h2><br><p>  Zhenya在4个月内编写了该系统。 每天工作约2.5个小时。 上班前一个半小时（我起得很早，因为晚上我有一个儿子，做家务，和我的妻子一起玩文明游戏），上班时间是一个小时。 </p><br><p> 想法是让系统无限扩展。 他现在是一个简单的人，并且只需要智能房屋中的基本功能（气象站，安全系统，视频监控）。 但是，如果明天他厌倦了按按钮和开关，并且想要照明跟随他，炉子打开了棉花，并且窗户上的自动百叶窗在阳光下关闭了，那么他应该能够固定所有这些功能。 </p><br><p> 因此，系统是以这种方式组织的：您可以在Smart Home中使用模块创建一个文件夹，描述其操作，并且可以轻松地将其集成到系统中。 现在有9个模块。 有物理模块（具有物理设备的模块）和逻辑模块（系统工作所需的逻辑模块）。 </p><br><br><h2> 功能性 </h2><br><p>  <b>气象站</b> </p><br><p> 对于气象站，Zhenya采用了4个主要参数来了解您是否死亡（温度，湿度，大气压力，空气中的二氧化碳浓度）。 气象站的创建是由该工作室的总经理赞助的，条件是真亚将在该工作室再制作一个这样的气象站（已经完成）。 通过我们，它不是通过wi-fi连接到Smart Home，而是通过Zabbix连接到服务器监视系统，该服务器监视系统监视从硬盘驱动器的温度到网络负载的各种参数，并以精美的图形形式显示所有内容。 现在还有办公室温度的图表。 </p><br><blockquote>  <i>我们计划将CO2传感器连接到我们的Zabbix，将其输出到等离子并监控大气。</i>  <i>最初的实验表明，固定螺丝制造商马马虎虎地将水流入了我们。</i>  <i>使用电子内窥镜，我们发现流入的水流穿过建筑物的壁板中的一条小裂缝（相对较新）。</i>  <i>诅咒淫秽的文字，我们调整了塔楼，并重新安装了所有的人为物品。</i>  <i>现在，在早晨，传感器显示的CO2在500左右，晚餐时会升高到800，这通常是正常的。</i> <br><p>  -Sibiriks工作室负责人Vladimir Zavertylov </p></blockquote><br><p>  <b>视频监控</b> </p><br><p> 当他们在真宁的房屋上安装闭路电视摄像机时，可以通过电话应用程序对其进行监控，结果证明，它们是通过非常受欢迎的服务-宏观镜制成的，并且可以访问api。  Zhenya已将监控摄像头连接到他的Smart Home。 有趣的是，它们在Smart House中的性能比在应用程序中更好。 该应用程序是愚蠢的。 在智能家居中，摄像机打开。 </p><br><p>  <b>安全性</b> </p><br><p> 最后离开房间的人按下按钮，系统启动。 当有人到达时，运动传感器就会明白这一点。系统开始进行选择，例如停用安全性或我现在正在尖叫。 要停用安全性，您需要附加电子钥匙，系统会识别它并使其平静下来。 </p><br><br><p>  <b>大事记</b> </p><br><p> 系统注册的所有事件均显示在此处。 </p><br><br><p>  <b>系统</b> </p><br><p> 在这里，您可以看到系统参数：处理器温度图，IP地址，处理器负载，电池。 </p><br><p>  <b>情境</b> </p><br><p> 它包含系统对事件的反应。 反应是通过计算机设置的。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://player.vimeo.com/video/357523690" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2> 房屋 </h2><br><p> 情况是被开发了5个小时，被印刷了28个小时的东西。 它是在旧的家用3d打印机上打印的。 供参考-如果打印持续约4个小时，则已经花费了很长时间。 而这里-28。花了16个小时才到达案件的底部。 在顶部-6。这是一整天的聚会-启动3D打印机并进行打印，您不能中断。 例如，如果灯在打印的98％时熄灭，则只需将塑料扔15个小时即可。 幸运的是，这没有发生。 发生了另一件事：由于设计中的缺陷（扬声器的图中孔壁太薄），必须重新打印盖子。 也就是说，整个打印过程大约需要28个小时。 几乎整个塑料线圈都没了。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://player.vimeo.com/video/357525642" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2> 声音 </h2><br><p>  <b>语音转文字</b> </p><br><p> 系统可以讲话并理解您在说什么。 按下一个按钮，说出一个短语，然后<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将其转换为文本</a> 。 将语音转换为文本是一项非常困难的任务。  Google知道该怎么做，但要花钱。  DIY项目的首要原则是不收取月费。 事实证明，最新版的chrome具有内置的语音识别工具。 唯一需要注意的是，该连接必须是https或localhost。 智能家居就是这样一个系统：客户端和服务器位于同一台计算机上，因此可以通过本地主机进行连接。 </p><br><p>  <b>团队回应</b> </p><br><p> 第二项服务称为dialogflow。 诀窍是您设置短语模板，例如：“明天的天气如何？” 并且您指出明天一词是date类型的变量。 现在您可以提出任何问题：“ 9月20日的天气如何？”，“后天的天气如何？”，“三天的天气如何？” 并且系统了解到这是数据类型-日期，将其转换为程序日期并对它做出反应。 整个主题都在神经网络上，并且是可训练的。 如果您说：“今天的天气如何？” 然后系统听不懂，说“我听不懂”，然后您去服务器直接用手教它，这句话的意思是“天气怎么样？”，它会记住。 神经网络培训是通过访问进行的：在服务上进行注册时，会发出api的访问密钥，可以访问代理的个人帐户，您可以培训该代理，并可以授予某人使用该代理的权利。 </p><br><p> 对话流中还有一个很酷的话题-微对话。 您问一个问题，例如，“你好吗？” 并询问答案的模式：“直到我生完孩子”，“一切都是巧克力，甚至是陈列品”，“我们经商，检察官有事要做”，“哦，就是这样”，系统每次都会从这些选项中随机选择答案这个问题。 </p><br><p> 事实证明，该服务将触发器本身发送到智能家居，该智能家居必须执行并提供可能的答案短语，众议院抓住该短语，然后任务反之亦然：tts，即文本到语音。 </p><br><p>  <b>文字转语音</b> </p><br><p>  Yandex擅长于此。 在这里，您不仅可以选择声音（针对男性和女性声音的几种选择），还可以选择情绪（滑稽，悲伤，愤怒，中性）。  Yandex具有非常简单的共享软件api（每天最多可转换1万次）。 </p><br><p> 这样就形成了一个循环：您说出一个短语，系统便会理解它，然后说出一些响应来执行某些动作。 因此，例如，通过语音设置警报是可行的。 您说：“在星期二7点设置闹钟。” 在星期二的7点，智能房屋将唤醒您。 </p><br><h2> 简讯 </h2><br><p> 如果您不在家时智能房屋可以通知您起火或开门，那是很好的，对吗？ 有一个这样的模块-称为sim800L。 这是一个gps调制解调器，是一部成熟的电话。 他知道如何拨打电话，接听电话，发送/接收短信，使用gprs访问Internet，使用手机信号塔确定位置等。想法是：订购此模块，将SIM卡插入智能家居，设置一些一定的关税，这样根本就没有订阅费，在那里放下500卢布，直到用完为止（每条SMS 1卢布），这至少一年都没有了。 </p><br><p> 但是事实证明，在搜索网络时，这种披肩在峰值时消耗2安培的电流。  Smart House有一个电源模块，电源线进入那里，有一个电池，电池为系统供电。 电池最多可提供3安培的输出。 即，整个系统恒定消耗的3安培是边缘。 并且，如果将此gsm模块添加到树莓派中，它将被缩减。 她没有足够的电流，她只是出去。 解决此问题的唯一方法是将SMS发送模块单独包装。 然后，您可以为2安培提供不间断电源。 只需通过Wi-Fi连接到智能家居即可。 即，智能家居告诉模块：“发送这样的文本消息”，然后模块发送。 现在，Zhenya需要购买几块铁，模块才能准备就绪。 </p><br><br><div class="spoiler">  <b class="spoiler_title">费用</b> <div class="spoiler_text"><ul><li> 树莓派-1500卢布。 </li><li> 显示-2500卢布。 </li><li> 气象站详细信息-1,500卢布。  （最昂贵的部分是二氧化碳传感器，1100卢布。） </li><li> 任何琐事，例如麦克风，电脑扬声器，小巧的台式电脑，是从那儿获得耳放的最便宜的-让它变成500卢布。 </li><li> 备用电源费-1500卢布。 </li><li> 印刷一个重300克的箱子（每克2卢布，考虑到塑料和电力的消耗）-600卢布。 如果您按订单打印，这将花费更多，约1,500卢布。 </li></ul><br><p> 总计：8,100卢布。 </p><br></div></div><br><h2> 最后一点歌词 </h2><br><p> 电子工程师是对显示器上的三位数数字着迷的人，他们说： <br>  -看起来好酷！ <br> 您看相同的数字并不确定地说： <br>  -酷，是的... <br>  “你看到了什么？”  -他们测试你。 <br> 您尝试： <br>  -328？ <br> 当然你不明白。 因为它不仅是328。这是一个了不起的动态显示。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN466107/">https://habr.com/ru/post/zh-CN466107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN466093/index.html">kubectl exec如何工作？</a></li>
<li><a href="../zh-CN466097/index.html">监视.NET应用程序</a></li>
<li><a href="../zh-CN466099/index.html">测试用于视频服务的Web应用程序的功能</a></li>
<li><a href="../zh-CN466103/index.html">云安全监控</a></li>
<li><a href="../zh-CN466105/index.html">使用RoadRunner对Magento Rest API超频</a></li>
<li><a href="../zh-CN466109/index.html">使用pwnable.kr 22解决问题-Brainfuck。 Ret2libc攻击</a></li>
<li><a href="../zh-CN466111/index.html">培训Cisco 200-125 CCNA v3.0。 第32天。密码恢复，XMODEM / TFTPDNLD和思科许可证激活</a></li>
<li><a href="../zh-CN466113/index.html">在PHP中定义文本编码，而不是mb_detect_encoding</a></li>
<li><a href="../zh-CN466121/index.html">使用支持复音的波表方法在AVR微控制器上生成声音</a></li>
<li><a href="../zh-CN466123/index.html">成长。 重量 三个邻居</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>