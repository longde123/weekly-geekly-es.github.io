<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧠 👨‍👨‍👦‍👦 👩🏼‍✈️ WavesKit - Framework de chaîne de blocs PHP Waves 👩‍🍳 🤢 🍾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'aime PHP pour sa rapidité de développement et son excellente portabilité. C'est très bien quand il y a toujours un outil prêt à résoudre les problèm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WavesKit - Framework de chaîne de blocs PHP Waves</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446110/"><p>  J'aime <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PHP</a> pour sa rapidité de développement et son excellente portabilité.  C'est très bien quand il y a toujours un outil prêt à résoudre les problèmes dans votre poche. </p><br><p>  C'était plutôt décevant quand, lors de la rencontre avec la blockchain domestique de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plateforme Waves</a> , il n'y avait pas de SDK PHP prêt à l'emploi dans son arsenal.  Eh bien, je devais l'écrire. </p><a name="habracut"></a><br><p>  Au début, j'ai dû utiliser des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nœuds</a> pour signer des transactions.  Donc, pour gérer trois adresses, trois nœuds ont dû être lancés ... C'était un spectacle misérable, bien qu'il ait résolu certains problèmes.  Jusqu'à ce que l'on comprenne que compter sur les nœuds est une impasse.  D'une part, à cause de la fonctionnalité limitée de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> , et d'autre part, à cause de la vitesse (à l'époque, les nœuds étaient très lents). </p><br><p> J'ai commencé deux travaux parallèles.  L'une consiste à créer un navigateur de chaîne de blocs qui sera rapide et complètement indépendant des nœuds API.  La seconde consiste à rassembler toutes les fonctions pour travailler avec la plate-forme Waves en un seul endroit.  Il y avait donc des projets <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">w8io</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WavesKit</a> . </p><br><p>  La première étape dans les coulisses de la blockchain Waves a été <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le navigateur w8io</a> .  Ce n'était pas facile, mais il était toujours possible d'écrire un calcul indépendant de tous les soldes et même de trouver une erreur dans les calculs sur les nœuds d'origine ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le programme bug-bounty, en</a> passant, fonctionne pour eux, ils paient pour les erreurs trouvées).  Vous pouvez en savoir plus sur la fonctionnalité du navigateur w8io dans cette rubrique: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://forum.wavesplatform.com/t/w8io-waves-explorer-based-on-php-sqlite</a> </p><br><p>  Dans le processus de travail sur w8io, j'avais déjà des doutes, mais lorsque le travail a pris fin logiquement et j'ai commencé à créer le SDK, les doutes ont été confirmés.  Je n'ai trouvé aucune fonction nulle part, y compris la plus importante, cryptographique.  J'ai ensuite commencé par créer mes propres briques pour la fondation.  Ils sont donc nés: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ABCode</a> pour encoder en base58 (en fait pour encoder n'importe quel alphabet dans n'importe quel), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Curve25519</a> pour créer et vérifier des signatures compatibles (avec des options <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur les stéroïdes</a> ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blake2b</a> pour calculer l'un des hachages (qui n'était disponible qu'à partir de PHP 7.2) etc. </p><br><p>  Ici, je dois remercier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Inal Kardanov</a> pour quelques précieux conseils qui m'ont orienté vers le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compositeur</a> au lieu des fichiers d'inclusion habituels, mais obsolètes. </p><br><p>  Après quelques mois, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WavesKit a vu le jour</a> , a quitté la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version bêta</a> et est maintenant prêt à fonctionner avec toutes les fonctionnalités standard de la plateforme Waves.  Toutes les transactions disponibles sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">réseau principal</a> peuvent être facilement créées, signées et envoyées à l'aide d'un seul package fonctionnant sur toutes les versions 64 bits de PHP à partir de 5.6 inclus. </p><br><p>  Nous connectons WavesKit à notre projet: </p><br><pre><code class="php hljs">composer <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> deemru/waveskit</code> </pre> <br><p>  Nous utilisons: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">deemru</span></span>\<span class="hljs-title"><span class="hljs-title">WavesKit</span></span>; $wk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WavesKit( <span class="hljs-string"><span class="hljs-string">'T'</span></span> ); $wk-&gt;setSeed( <span class="hljs-string"><span class="hljs-string">'manage manual recall harvest series desert melt police rose hollow moral pledge kitten position add'</span></span> ); $tx = $wk-&gt;txBroadcast( $wk-&gt;txSign( $wk-&gt;txTransfer( <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> ) ) ); $tx = $wk-&gt;ensure( $tx );</code> </pre> <br><p>  Dans l'exemple ci-dessus, nous créons un objet WavesKit qui s'exécute sur le réseau de test "T".  Définissez la phrase de départ à partir de laquelle les clés et l'adresse du compte sont automatiquement calculées en fonction de la clé publique.  Ensuite, nous créons une transaction de transfert de 0,00000001 Waves de la phrase d'adresse calculée automatiquement par seed vers l'adresse d'alias "test", la transférons à la signature avec une clé privée et l'envoyons au réseau.  Après cela, nous vérifions que la transaction a été confirmée avec succès par le réseau. </p><br><p>  Le travail avec les transactions est concentré dans les <a href="">fonctions commençant par tx</a> .  Pour une meilleure compréhension de l'utilisation des transactions, vous pouvez étudier la <a href="">documentation WavesKit</a> ou vous tourner immédiatement vers des exemples visuels dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des tests d'intégration continue</a> . </p><br><p>  Étant donné que WavesKit s'est développé dans des conditions réelles, il dispose déjà de fonctionnalités avancées.  La première caractéristique de tueur est <a href="">la fonction assurer</a> , qui contrôle la réalisation du niveau requis de confiance que la transaction n'a pas été perdue, mais a plutôt été confirmée et a atteint le nombre requis de confirmations sur le réseau. </p><br><p>  Un autre mécanisme à l'épreuve des balles est la façon dont WavesKit communique avec les nœuds.  Dans des conditions de serre, le framework ne fonctionne qu'avec le nœud principal, en maintenant une connexion constante avec lui, mais en cas d'erreur, il peut automatiquement basculer vers les nœuds de sauvegarde.  Si vous installez un tableau de nœuds de sauvegarde, vous pouvez appeler la fonction <a href="">setBestNode</a> pour déterminer le meilleur nœud comme principal par la valeur maximale de la hauteur et de la vitesse de réponse actuelles.  Ajoutez maintenant à cela le cache de requête interne et sentez l'attention des utilisateurs et des propriétaires de nœuds. </p><br><p>  L'un des derniers mécanismes avancés est la fonction <a href="">txMonitor</a> .  Elle est apparue en lien avec la nécessité de répondre aux transactions entrantes en temps réel.  Cette fonction résout complètement toutes les nuances associées au traitement des transactions dans la blockchain.  Plus de douleur, installez simplement votre fonction de rappel avec les options souhaitées et attendez de nouvelles transactions qui démarreront vos processus.  Par exemple, mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">autre</a> projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VECRO est</a> entièrement construit autour de cette fonction, vous pouvez facilement apprendre comment il fonctionne directement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le code du projet</a> . </p><br><p>  J'aime l'open source, c'est l'une des plus grandes réalisations de l'humanité.  Étant donné que je suis le seul développeur et que j'ai atteint le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">point</a> où tous mes besoins ont été résolus, je vous invite à utiliser et à contribuer à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WavesKit</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446110/">https://habr.com/ru/post/fr446110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446098/index.html">Centre de contrôle de vol soviétique de l'époque de "Vostok" et "Sunrise"</a></li>
<li><a href="../fr446100/index.html">Créez automatiquement des fichiers de localisation Android et iOS à partir d'une feuille de calcul Excel</a></li>
<li><a href="../fr446104/index.html">Le paradoxe Python</a></li>
<li><a href="../fr446106/index.html">Oleg Shelaev à propos de GraalVM sur jug.msk.ru</a></li>
<li><a href="../fr446108/index.html">Blocs de construction d'applications distribuées. Première approche</a></li>
<li><a href="../fr446112/index.html">WavesKit - Framework PHP pour travailler avec Waves Platform</a></li>
<li><a href="../fr446114/index.html">Un modem de 50 ans: un regard intérieur</a></li>
<li><a href="../fr446116/index.html">Une sélection de livres sur la façon d'apprendre, de penser et de prendre des décisions efficaces</a></li>
<li><a href="../fr446118/index.html">Open Rack v3: à quoi s'attendre de la nouvelle norme d'architecture de rack de serveur</a></li>
<li><a href="../fr446120/index.html">Télécoms américaines pour lutter contre le spam téléphonique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>