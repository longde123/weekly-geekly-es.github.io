<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí¢ üòö ‚óºÔ∏è Comment j'ai combin√© les donn√©es du plugin Tempo pour Jira Server et Jira Cloud et les ai migr√©es vers Jira Cloud üï∫üèº ‚ûñ üâë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 

 Les plugins Tempo pour Atlassian Jira sont install√©s sur un grand nombre d'instances Jira dans le cloud et les serveurs. J'ai d√ª co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai combin√© les donn√©es du plugin Tempo pour Jira Server et Jira Cloud et les ai migr√©es vers Jira Cloud</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425613/">  Bonjour √† tous! <br><br>  Les plugins Tempo pour Atlassian Jira sont install√©s sur un grand nombre d'instances Jira dans le cloud et les serveurs.  J'ai d√ª combiner les donn√©es du cloud et du serveur Jira et red√©finir les donn√©es combin√©es sur le cloud.  En plus des donn√©es Jira standard, j'avais √©galement besoin de combiner les donn√©es du plugin Tempo.  Dans cet article, je vais vous expliquer comment j'ai effectu√© l'union et la migration des donn√©es Tempo. <br><a name="habracut"></a><br><h3>  Donn√©es de tempo que j'ai migr√©es: </h3><br><ul><li>  Comptes Tempo (comptes) </li><li>  √âquipes de tempo (√©quipes) </li><li>  Les valeurs des champs Compte et √âquipe pour tous les ishui dans Jira </li><li>  Journaux de travail </li></ul><br><h3>  Le processus d'int√©gration et de migration: </h3><br>  J'ai pris deux Jira avec la configuration suivante: Jira Software 7.11.2 et Jira Service Desk 3.14.2.  Ensuite, j'ai supprim√© la sauvegarde de Jira Cloud et l'ai install√©e sur la premi√®re instance, puis j'ai supprim√© la sauvegarde de Jira Server et l'ai install√©e sur la deuxi√®me instance.  Apr√®s cela, j'ai transf√©r√© les donn√©es de la deuxi√®me instance √† la premi√®re √† l'aide du plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Configuration Manager</a> (bien qu'il soit possible d'utiliser le plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Project Configurator</a> ). <br><br>  En cons√©quence, j'ai constat√© qu'√† la premi√®re instance, o√π les donn√©es combin√©es √©taient d√©j√† localis√©es, pr√™tes √† √™tre transf√©r√©es vers le cloud, les donn√©es suivantes du plugin Tempo √©taient manquantes: <br><br><ul><li>  Informations sur le compte Tempo </li><li>  donn√©es sur les √©quipes Tempo </li><li>  valeurs dans l'isch pour les champs Compte et √âquipe </li><li>  auteurs de documents de travail ish t√©l√©charg√©s depuis Jira Cloud </li></ul><br>  Il a √©t√© n√©cessaire de renseigner ces donn√©es lors de la migration. <br><br><h3>  Comment j'ai migr√© les donn√©es du plugin Tempo </h3><br><h4>  Comptes </h4><br>  J'ai eu de la chance avec les comptes.  Le plugin Tempo a une fonctionnalit√© int√©gr√©e pour exporter et importer des comptes. <br><br>  Tout ce que j'avais √† faire √©tait d'exporter les comptes de Jira Cloud et de Jira Server vers des fichiers avant d'installer les donn√©es combin√©es dans Jira Cloud, puis, apr√®s avoir charg√© les donn√©es combin√©es dans Jira Cloud, importer ces fichiers dans Cloud. <br><br>  Il n'y avait qu'un seul probl√®me: certaines des cl√©s de compte dans Jira Cloud et Jira Server √©taient identiques, j'ai donc d√ª modifier ces cl√©s dans l'un de leurs fichiers.  Sinon, lors de l'importation de donn√©es de compte avec les m√™mes cl√©s, les comptes seront soit mis √† jour soit archiv√©s, mais aucune de ces options ne me convenait. <br><br><h4>  √âquipes </h4><br>  Avec les √©quipes, c'√©tait plus difficile.  Il n'y a pas de fonctionnalit√© int√©gr√©e pour transf√©rer des commandes.  Par cons√©quent, j'ai d√ª utiliser Tempo Rest Api pour obtenir des donn√©es sur les commandes, puis cr√©er ces commandes dans Jira Cloud. <br><br>  J'ai utilis√© les appels Rest suivants: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©quipes</a> - pour recevoir des donn√©es sur les √©quipes et cr√©er des √©quipes </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">team-membership</a> - pour ajouter des membres d'√©quipe </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">team_links</a> - pour ajouter un lien vers une √©quipe sur un projet ou un forum </li></ul><br>  Je voulais √©galement utiliser Tempo Rest Api pour d√©finir les autorisations de la commande, mais j'ai trouv√© un bogue dans cette Api. <br><br><h4>  D√©finition des valeurs correctes dans les champs Compte et √âquipe pour tous </h4><br>  Comme il n'y avait aucune information sur la signification des champs Compte et √âquipe sur l'instance Jira combin√©e, j'ai d√ª enregistrer ces informations avant de migrer. <br><br>  Pour Jira Cloud, j'ai utilis√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jira Rest Api pour rechercher</a> tous les √©l√©ments contenant des champs Compte ou √âquipe.  Ensuite, j'ai enregistr√© tous ces ishs avec des valeurs de champ dans un fichier. <br><br>  Pour Jira Server, j'ai utilis√© l'API Java Jira pour obtenir les valeurs des champs Compte et √âquipe. <br>  En cons√©quence, j'ai obtenu deux fichiers avec des informations sur les comptes et les commandes pour ish de Jira Cloud et Jira Server. <br><br>  Le probl√®me √©tait qu'apr√®s avoir migr√© les donn√©es combin√©es vers Jira Cloud et cr√©√© les comptes et les √©quipes, les ID d'√©quipe et de compte ne co√Øncidaient pas avec les anciens ID, donc quand j'ai d√©fini les valeurs correctes d'√©quipe et de compte pour Ishu, j'ai d√ª remapper les anciens id dans les nouveaux. <br><br>  Pour mettre √† jour les champs Compte et √âquipe, j'ai utilis√© l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API Jira Core Rest</a> standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour mettre √† jour Ishu</a> . <br><br><h4>  Enregistrements d'emploi </h4><br>  Il n'y a eu aucun probl√®me avec les enregistrements de travail provenant de ish avec Jira Server.  Tout a √©t√© report√© sans aucune correction, mais il y avait des probl√®mes avec les enregistrements concernant le travail √† partir de ish avec Jira Cloud. <br><br>  Cela est d√ª au fait que lorsqu'un enregistrement de travail dans Jira Cloud est ajout√© √† l'aide du plug-in Tempo, cet enregistrement est ajout√© par l'utilisateur du plug-in Tempo, et non par l'utilisateur qui effectue cet enregistrement.  Par cons√©quent, afin d'obtenir le bon utilisateur, vous devez obtenir cet utilisateur de la base de donn√©es du plugin Tempo. <br><br>  Pour cette raison, j'ai d√ª obtenir les bons utilisateurs des enregistrements de travail Jira Cloud avant de proc√©der √† la migration. <br><br>  Cela a √©t√© fait comme suit: <br><br><ol><li>  J'ai tout trouv√© dans Jira Cloud, o√π l'utilisateur de l'enregistrement de travail √©tait un utilisateur du plugin Tempo.  Je l'ai fait en utilisant l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">appel</a> standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jira Core Rest</a> . </li><li>  Ensuite, j'ai obtenu tous les enregistrements de travail d'identification Jira de ceux re√ßus par Ish √† l'√©tape 1 √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet appel Rest</a> . </li><li>  Ensuite, j'ai re√ßu des donn√©es du plugin Tempo pour tous les enregistrements de travail obtenus √† l'√©tape 2 et enregistr√©s dans un fichier.  J'ai re√ßu des donn√©es avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tempo Rest Api</a> . </li></ol><br>  Ensuite, apr√®s avoir install√© la sauvegarde avec les donn√©es combin√©es, j'ai supprim√© tous les enregistrements de travail qui ont √©t√© ajout√©s par l'utilisateur standard du plug-in Tempo et ajout√© les enregistrements du fichier que j'ai re√ßu √† l'√©tape 3. <br><br>  Il est √©galement pr√©f√©rable de d√©finir le champ Estimation restante lors de l'ajout d'un enregistrement de travail √† facultatif.  Dans ce cas, il ne sera pas n√©cessaire d'obtenir la valeur actuelle du champ Estimation restante pour chaque fois que vous ajoutez une entr√©e de travail. <br><br><h3>  Probl√®mes inattendus </h3><br>  1. Lorsque vous installez le plug-in Tempo Timesheets dans Jira Cloud, une connexion est cr√©√©e entre Jira Cloud et la base de donn√©es Tempo, ce qui est n√©cessaire pour que lorsque vous recevez des donn√©es du plug-in Tempo, il obtienne les donn√©es de votre instance Jira. <br><br>  Le probl√®me est que si vous restaurez Jira Cloud √† partir de la sauvegarde, cette connexion n'est plus visible depuis Jira Cloud et vous devez donc r√©installer le plug-in Tempo, et donc une nouvelle connexion est √©tablie entre Jira Cloud et Tempo.  Cependant, l'ancien lien existe r√©ellement dans la base de donn√©es Tempo. <br><br>  Par cons√©quent, lorsque vous commencez √† travailler avec ish, les donn√©es sont extraites de l'ancienne et de la nouvelle connexion, et l'ancienne connexion est principale (par exemple, si dans l'ancienne base de donn√©es Tempo, il existe une commande avec le m√™me identifiant que dans la nouvelle, le nom de cette commande sera extrait de l'ancienne DB Tempo).  Mais si vous entrez dans l'administration des √©quipes et des comptes via l'interface utilisateur de l'administrateur, nous verrons les donn√©es correctes de la derni√®re connexion.  Et si nous cr√©ons un rapport de tempo personnalis√©, nous verrons √©galement les donn√©es correctes.  Par cons√©quent, l'ancienne connexion doit √™tre supprim√©e et vous ne pouvez la supprimer qu'en contactant le support Tempo.  V√©ritable soutien Tempo a travaill√© tr√®s rapidement et je lui en suis reconnaissant. <br><br>  2. Apr√®s avoir migr√© les enregistrements de travail avec Jira Server, certains enregistrements de travail avaient une date de d√©duction un jour plus t√¥t que n√©cessaire.  Cela √©tait d√ª au fuseau horaire de l'utilisateur et √† la date de d√©bit.  J'ai d√ª √©crire un programme pour trouver tous ces enregistrements de travail et changer la date. <br><br>  En g√©n√©ral, c'est tout ce que vous devez faire et savoir pour r√©ussir le transfert de donn√©es √† partir du plugin Tempo.  J'esp√®re que ces informations vous seront utiles. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425613/">https://habr.com/ru/post/fr425613/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425603/index.html">Recherche de cheminement de carri√®re</a></li>
<li><a href="../fr425605/index.html">Acceptation des paiements d'une carte sans jur. visages sur Yandex.Money</a></li>
<li><a href="../fr425607/index.html">Identifiez la fraude √† l'aide de l'ensemble de donn√©es Enron. Partie 2, trouver le meilleur mod√®le</a></li>
<li><a href="../fr425609/index.html">Th√©orie des jeux: prise de d√©cision avec exemples √† Kotlin</a></li>
<li><a href="../fr425611/index.html">Architecture frontale de niveau sup√©rieur. Conf√©rence Yandex</a></li>
<li><a href="../fr425619/index.html">Le probl√®me des bandits √† bras multiples - Comparez la strat√©gie Epsilon-Greedy et l'√©chantillonnage de Thompson</a></li>
<li><a href="../fr425621/index.html">Une entreprise qui utilise le dioxyde de carbone atmosph√©rique lance la production de m√©thane</a></li>
<li><a href="../fr425623/index.html">Visite photo de coworking ¬´Key¬ª</a></li>
<li><a href="../fr425625/index.html">D√©pens√©, ou pourquoi les localisateurs traduisent mal les jeux</a></li>
<li><a href="../fr425627/index.html">IaaS pour le d√©veloppement de services: qui et pourquoi sont pass√©s √† une infrastructure virtuelle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>