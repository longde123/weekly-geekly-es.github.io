<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤵🏿 🛎️ 🕍 Algoritmo de Pesquisa Difusa do TextRadar - Abordagens básicas 👩‍👧‍👦 🤐 🛒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Algoritmo de Pesquisa Difusa do TextRadar - Abordagens básicas 
 Diferentemente das comparações de cadeias difusas, quando as duas cadeias comparadas ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algoritmo de Pesquisa Difusa do TextRadar - Abordagens básicas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474706/"><h2>  Algoritmo de Pesquisa Difusa do TextRadar - Abordagens básicas </h2><br>  Diferentemente das comparações de cadeias difusas, quando as duas cadeias comparadas são equivalentes, a cadeia de pesquisa e a cadeia de dados são destacadas na tarefa de pesquisa difusa, e é necessário determinar não o grau de similaridade das duas cadeias, mas o grau de presença da cadeia de pesquisa na cadeia de dados. <br><br><h3>  Declaração do problema </h3><br>  Uma cadeia de dados e uma cadeia de pesquisa são fornecidas como conjuntos de caracteres arbitrários que consistem em palavras - grupos de caracteres separados por espaços. <br><br>  É necessário encontrar na linha de dados o conjunto de fragmentos mais próximo da linha de pesquisa pela composição e posição relativa dos caracteres. <br><br>  Para avaliar a qualidade do resultado da pesquisa, calcule o coeficiente de relevância, cujo valor deve estar no intervalo de 0 a 1, em que 0 deve corresponder à ausência completa de caracteres da linha de pesquisa na linha de dados e 1 deve corresponder à presença da linha de pesquisa na linha de dados na forma sem distorção. <br><br>  A busca deve ser realizada pela análise caractere por caractere das linhas de origem, levando em consideração o arranjo mútuo de caracteres e palavras nas linhas, mas sem levar em consideração a sintaxe e a morfologia da linguagem. <br><br><h3>  Descrição do algoritmo </h3><br>  A pesquisa é realizada em várias etapas. <br><br><h4>  Construção de uma matriz de coincidências </h4><br>  A matriz de correspondência (M) é uma matriz bidimensional, cujo número de colunas corresponde ao comprimento da cadeia de dados e o número de linhas ao comprimento da cadeia de pesquisa.  Os elementos da matriz de coincidência assumem os valores 0 ou 1, dependendo se os caracteres correspondentes das linhas coincidem ou não, com exceção dos espaços (separadores de palavras). <br>  A matriz de correspondência para a cadeia de dados "ABCD EF" e a cadeia de pesquisa "ABC" tem o formato: <br><br><img src="https://habrastorage.org/webt/n4/5k/2b/n45k2bgdhjb2xxhkfgptt2jdvhc.png" alt="imagem"><br><a name="habracut"></a><br>  Elemento da matriz de correspondência m (i, j) = 1 se d (i) = s (j), em que D é uma matriz de caracteres da sequência de dados, S é uma matriz de caracteres da sequência de pesquisa, i é um número da coluna da matriz de correspondência M (número de caracteres da sequência de dados ), j é o número da linha da matriz de correspondências (o número do caractere na cadeia de pesquisa).  Em outros casos, m (i, j) = 0. Correspondências de separadores de palavras (no nosso caso, espaços) não são levadas em consideração, ou seja: m (i, j) = 0 se d (i) = s (j) = '' . <br><br><h4>  Diagonais da matriz de correspondência </h4><br>  Elementos da matriz de coincidência M formam diagonais.  Os elementos da matriz estão na mesma diagonal se seus índices iej diferirem simultaneamente por +1 ou por - 1. <br><br><img src="https://habrastorage.org/webt/l-/nj/e5/l-nje5r1j-cuqdo554oqcmtawjo.png" alt="imagem"><br><br>  As diagonais correspondem às posições da sequência de pesquisa na sequência de deslocamentos ao longo da sequência de dados. <br><br><img src="https://habrastorage.org/webt/rv/d_/2_/rvd_2_a5zyd29t-57spwjz8lm_g.png" alt="imagem"><br><br>  Os elementos de uma das diagonais e a mudança correspondente na figura acima são destacados em azul. <br><br>  <i>A idéia de usar uma sequência de mudanças de linha entre si em um problema de busca difusa remonta à técnica conhecida para detectar sinais de radar contra um fundo de interferência, que envolve o cálculo da função de correlação mútua de sinais de rádio.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">A função de correlação cruzada</a> determina o grau de similaridade das cópias de dois sinais diferentes v (t) e u (t), deslocados pelo tempo τ em relação um ao outro e é definido como a integral:</i> <br><br><img src="https://habrastorage.org/webt/nu/f8/mf/nuf8mflhx4spdg3pgunkc3nvopq.png" alt="imagem"><br><br>  O número total de diagonais é calculado pela fórmula: <br><br><img src="https://habrastorage.org/webt/hi/sz/ef/hiszefekip7x_xm6p3z9pj5rdna.png" alt="imagem"><br><br>  Os comprimentos das diagonais são iguais ao comprimento da string de pesquisa. <br><br><h4>  Grupos de jogos </h4><br>  As unidades que seguem sucessivamente nas diagonais da matriz de coincidência formam grupos de correspondências.  Abaixo estão os grupos correspondentes para a sequência de dados “ABCD DEF JH” e a sequência de pesquisa “ABC DE J” - 4 grupos localizados em diagonais diferentes. <br><br><img src="https://habrastorage.org/webt/_l/xw/pm/_lxwpm9gu8qayrn0w9eb2k2wxoe.png" alt="imagem"><br><br><h4>  Matrizes de projeção </h4><br>  As diagonais da matriz de correspondências e os grupos de correspondências contidos nelas são mapeados para as seções correspondentes da cadeia de pesquisa e linha de dados, formando duas matrizes de projeção - a barra de pesquisa e a linha de dados, respectivamente.  Para o nosso exemplo, as matrizes de projeção terão a seguinte aparência: <br><br><img src="https://habrastorage.org/webt/le/2l/rc/le2lrcywckhszuaatpn4b0l9r88.png" alt="imagem"><br><br>  Na figura acima, à direita da matriz de correspondências está a matriz de projeções na cadeia de pesquisa - MPS, abaixo - a matriz de projeções na cadeia de dados MPD.  O número de colunas MPS é igual ao número de linhas MPD e igual ao número de diagonais da matriz de correspondências - no nosso exemplo, existem 18. <br><br><h4>  Pesquise um conjunto de resultados de grupos </h4><br>  Para resolver o problema, é necessário encontrar um conjunto de grupos que “cubra” mais a sequência de pesquisa, com o mínimo de fragmentação (o maior número possível de partes), sem interseções mútuas nas matrizes de projeção e cujo mapeamento para a sequência de dados será o mais próximo da sequência de pesquisa “original” . <br><br>  <i><b>Interseção de grupos na matriz de projeção</b></i> <br><br>  No nosso exemplo, existem grupos que se cruzam na matriz MPS - na figura abaixo, eles são destacados em vermelho.  Além disso, na matriz MPD, esses mesmos grupos não se cruzam, na figura são destacados em verde. <br><br><img src="https://habrastorage.org/webt/c1/5g/nk/c15gnkuccnnijq8zxi9pptqopu8.png" alt="imagem"><br><br>  A busca pelo conjunto de grupos resultante implica que nem todos os grupos serão incluídos nele e que alguns dos grupos restantes poderão ser modificados (truncados) ao analisar interseções mútuas de grupos em projeções. <br><br>  A pesquisa do conjunto de resultados pode ser realizada percorrendo o ciclo “infinito” (o número de iterações do ciclo não excede o número de grupos) da <i><b>tabela de todos os grupos</b></i> , nos quais os grupos da matriz de correspondências são inicialmente colocados, a cada iteração da qual as seguintes ações serão executadas: <br><br><ol><li>  Escolhendo o melhor de acordo com determinados parâmetros (dependendo do contexto do problema que está sendo resolvido) - no caso mais simples, pode ser a escolha do primeiro grupo do maior tamanho encontrado; </li><li>  Posicionamento do melhor grupo na <b><i>tabela de grupos de resultados</i></b> e sua remoção da tabela de todos os grupos (cujas linhas são rastreadas); </li><li>  Removendo (ou truncando) da tabela de grupos que se cruzam com o melhor grupo selecionado nas matrizes de grupos de projeção. </li></ol><br>  O conjunto ideal de grupos para o nosso exemplo é apresentado na figura abaixo - os grupos definidos são destacados em laranja. <br><br><img src="https://habrastorage.org/webt/l-/cc/tx/l-cctxrcreuy6uobi2m16ihb0ka.png" alt="imagem"><br><br>  O grupo excluído durante o processamento da interseção (interseção na matriz MPS com o melhor grupo da segunda iteração) é destacado em vermelho. <br><br>  O resultado da pesquisa na linha de dados terá a seguinte aparência: <br><br><img src="https://habrastorage.org/webt/ig/oi/ex/igoiexsrojwyihvet39zxeyr-jq.png"><br><br><h4>  Cálculo do coeficiente de relevância </h4><br>  Para quantificar os resultados da pesquisa, os comprimentos dos grupos encontrados são comparados com os comprimentos das palavras da sequência de pesquisa (avaliação da composição do grupo), bem como o comprimento total da sequência de pesquisa com o comprimento dos grupos encontrados na sequência de dados.  Supõe-se que o significado da avaliação da composição dos grupos encontrados seja superior ao significado da estimativa de extensão na linha de dados, que é levada em consideração nos coeficientes de ponderação da fórmula para o cálculo do coeficiente de relevância: <br><br><img src="https://habrastorage.org/webt/lr/k_/-z/lrk_-ztm7-w3v2rkckwaczqcgay.png" alt="imagem"><br><br>  Onde o coeficiente de composição do grupo é calculado como a razão entre a soma dos comprimentos quadrados dos grupos encontrados e a soma dos comprimentos quadrados das palavras da string de pesquisa: <br><br><img src="https://habrastorage.org/webt/2y/qs/f7/2yqsf7w8fmub2mwspkatldro4sg.png" alt="imagem"><br><br>  O fator de comprimento é a proporção entre o comprimento da cadeia de pesquisa e o comprimento total dos grupos encontrados na cadeia de dados.  Se o valor obtido dessa maneira for maior que 1, seu valor inverso será obtido: <br><br><img src="https://habrastorage.org/webt/yl/zl/c9/ylzlc9emdopb79y2awkdilqzscm.png" alt="imagem"><br><br>  Para o nosso exemplo: <br><br><img src="https://habrastorage.org/webt/ao/a4/0z/aoa40zn4zstzycivlund0m9vcwe.png" alt="imagem"><br><br><h4>  Escopo estimado da computação </h4><br>  As operações mais intensivas em recursos são: <br><br><ul><li>  determinação da matriz de correspondência M - o número de elementos da matriz é definido como o produto do comprimento da cadeia de pesquisa pelo comprimento da cadeia de dados: L * L; </li><li>  definição de matrizes de projeção nos dados e nas seqüências de busca - o número de elementos da matriz será para MPS: (L + L - 1) * L, para MPD: (L + L - 1) * ; </li><li>  a formação da tabela de todos os grupos - o número de grupos não excederá o valor L * L / 2; </li><li>  procure o conjunto de grupos resultante - o número de iterações do ciclo não excede o número inicial de grupos, ou seja, L * L / 2. </li></ul><br>  Assim, a quantidade total de cálculos será um múltiplo do produto do comprimento da cadeia de pesquisa pelo comprimento da cadeia de dados: <br><br><img src="https://habrastorage.org/webt/wq/wa/2r/wqwa2rmv0z80pt5kxnjvtliumkq.png" alt="imagem"><br><br>  A linearidade da quantidade de computação em relação ao tamanho dos dados de origem é um argumento importante a favor da aplicação prática do algoritmo. <br><br><h4>  Não linearidade </h4><br>  Vale ressaltar que a linearidade se deve a um procedimento simplificado para encontrar o conjunto de grupos resultante.  No caso geral, se considerarmos todas as opções possíveis para colocar grupos em uma linha de dados, levando em consideração possíveis opções de processamento de interseção e selecionar o melhor <b><i>conjunto de grupos</i></b> do conjunto possível, em vez de escolher <b><i>um grupo</i></b> a cada iteração do ciclo, a quantidade de cálculos deixará de ser linear em relação ao tamanho dados de origem.  A dependência não linear da quantidade de computação no tamanho dos dados de origem limita muito as possibilidades de aplicação prática. <br><br><h4>  Encontre o equilíbrio </h4><br>  Para garantir o equilíbrio ideal entre a qualidade da pesquisa e a necessidade de recursos, é importante escolher a metodologia de pesquisa correta para o conjunto de grupos resultante, que, como regra, pode ser feito usando os recursos de contexto do problema que está sendo resolvido. <br><br>  Um suporte de demonstração <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">foi</a> implementado no site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">textradar.ru</a> , onde você pode testar a operação do algoritmo. <br><br>  Comparação com análogos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Comparação do algoritmo de pesquisa difusa TextRadar com análogos: Lucene, Sphinx, Yandex, 1C</a> <br><br><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474706/">https://habr.com/ru/post/pt474706/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474696/index.html">Bilhete de petróleo ou Rosneft para o Desafio Sísmico</a></li>
<li><a href="../pt474698/index.html">Usando janelas modais em interfaces com o usuário</a></li>
<li><a href="../pt474700/index.html">Nuvem Smart Home. Parte 2: Serviço em nuvem</a></li>
<li><a href="../pt474702/index.html">Programação funcional do ponto de vista do EcmaScript. Funções puras, lambdas, imunidade</a></li>
<li><a href="../pt474704/index.html">Entrevista Playboy: Steve Jobs, Parte 2</a></li>
<li><a href="../pt474708/index.html">A Internet está mais fragmentada do que nunca: de onde vêm mais de um milhão de novos usuários diariamente? Parte 1</a></li>
<li><a href="../pt474710/index.html">c.tech: Frontend Meetup # 2</a></li>
<li><a href="../pt474712/index.html">Udalenka em TI: experiência pessoal</a></li>
<li><a href="../pt474714/index.html">Características do varejo nacional ou Como testei a força da tecnologia francesa</a></li>
<li><a href="../pt474716/index.html">Erros C ++ 20. Resultados da reunião em Belfast</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>