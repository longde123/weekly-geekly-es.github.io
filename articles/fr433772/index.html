<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äç‚öñÔ∏è üìù üà≤ Outil d'annotation de vision par ordinateur: balisage de donn√©es unique üëá üëêüèª üë®üèø‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le bureau d'Intel √† Nijni Novgorod, entre autres, d√©veloppe des algorithmes de vision par ordinateur bas√©s sur des r√©seaux de neurones profonds. Beauc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Outil d'annotation de vision par ordinateur: balisage de donn√©es unique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/433772/"> Le bureau d'Intel √† Nijni Novgorod, entre autres, d√©veloppe des algorithmes de vision par ordinateur bas√©s sur des r√©seaux de neurones profonds.  Beaucoup de nos algorithmes sont publi√©s dans le r√©f√©rentiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Open Model Zoo</a> .  La formation aux mod√®les n√©cessite un grand nombre de donn√©es balis√©es.  Th√©oriquement, il existe de nombreuses fa√ßons de les pr√©parer, mais la disponibilit√© de logiciels sp√©cialis√©s acc√©l√®re ce processus √† plusieurs reprises.  Ainsi, afin d'am√©liorer l'efficacit√© et la qualit√© du balisage, nous avons d√©velopp√© notre propre outil - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Computer Vision Annotation Tool (CVAT)</a> . <br><br><img src="https://habrastorage.org/webt/cv/du/hz/cvduhzr0pnmfv8hmiqysajpzseo.jpeg"><br><a name="habracut"></a><br>  Bien s√ªr, sur Internet, vous pouvez trouver beaucoup de donn√©es annot√©es, mais il y a quelques probl√®mes.  Par exemple, de nouvelles t√¢ches surgissent constamment pour lesquelles il n'existe tout simplement pas de telles donn√©es.  Un autre probl√®me est que toutes les donn√©es ne conviennent pas au d√©veloppement de produits commerciaux, en raison de leurs accords de licence.  Ainsi, en plus du d√©veloppement et de la formation d'algorithmes, notre activit√© comprend √©galement le balisage de donn√©es.  Il s'agit d'un processus assez long et long, qui serait d√©raisonnable √† mettre sur les √©paules des d√©veloppeurs.  Par exemple, pour former l'un de nos algorithmes, environ 769 000 objets ont √©t√© balis√©s pendant plus de 3 100 heures-homme. <br><br>  Il existe deux solutions au probl√®me: <br><br><ul><li>  La premi√®re consiste √† transf√©rer les donn√©es de balisage √† des soci√©t√©s tierces, avec la sp√©cialisation appropri√©e.  Nous avons v√©cu une exp√©rience similaire.  Il convient de noter le processus complexe de validation et de re-partitionnement des donn√©es, ainsi que la pr√©sence de la bureaucratie. </li><li>  La seconde, plus pratique pour nous, est la cr√©ation et le support de notre propre √©quipe d'annotation.  La commodit√© r√©side dans la capacit√© √† d√©finir rapidement de nouvelles t√¢ches, √† g√©rer l'avancement de leur mise en ≈ìuvre et √† faciliter l'√©quilibre entre prix et qualit√©.  De plus, il est possible d'impl√©menter des algorithmes d'automatisation personnalis√©s et d'am√©liorer la qualit√© du balisage. </li></ul><br>  Initialement, l'outil d'annotation de vision par ordinateur a √©t√© d√©velopp√© sp√©cifiquement pour notre √©quipe d'annotation. <br><br><img src="https://habrastorage.org/webt/81/7o/ya/817oyak9ssk-qa4i-fxowpo-k14.jpeg"><br><br>  Bien s√ªr, notre objectif n'√©tait pas de cr√©er la ¬´15e norme¬ª.  Dans un premier temps, nous avons utilis√© une solution pr√™te √† l'emploi - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vatic</a> , mais dans le processus, les √©quipes d'annotation et d'algorithmique ont pr√©sent√© de nouvelles exigences, dont la mise en ≈ìuvre a finalement conduit √† une r√©√©criture compl√®te du code du programme. <br><br>  Plus loin dans l'article: <br><br><ul><li>  Informations g√©n√©rales (fonctionnalit√©, applications, avantages et inconv√©nients de l'outil) </li><li>  Histoire et √©volution (une courte histoire sur la fa√ßon dont CVAT a v√©cu et d√©velopp√©) </li><li>  P√©riph√©rique interne (description de l'architecture de haut niveau) </li><li>  Directions de d√©veloppement (un peu sur les objectifs que j'aimerais atteindre et les moyens possibles pour les atteindre) </li></ul><br><h3>  <font color="#0071c5">Informations g√©n√©rales</font> </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'outil d'annotation de vision par ordinateur</a> (CVAT) est un outil open source pour le balisage d'images et de vid√©os num√©riques.  Sa t√¢che principale est de fournir √† l'utilisateur des moyens pratiques et efficaces de marquer les ensembles de donn√©es.  Nous cr√©ons CVAT en tant que service universel qui prend en charge diff√©rents types et formats de balisage. <br><br>  Pour les utilisateurs finaux, CVAT est une application Web bas√©e sur un navigateur.  Il prend en charge divers sc√©narios de travail et peut √™tre utilis√© √† la fois pour le travail personnel et en √©quipe.  Les principales t√¢ches de l'apprentissage automatique avec un enseignant dans le domaine du traitement d'image peuvent √™tre divis√©es en trois groupes: <br><br><ul><li>  D√©tection d'objets </li><li>  Classification d'image </li><li>  Segmentation d'image </li></ul><br>  La CVAT convient √† tous ces sc√©narios. <br><br>  <b>Avantages:</b> <br><br><ul><li>  Manque d'installation par les utilisateurs finaux.  Pour cr√©er une t√¢che ou annoter des donn√©es, ouvrez simplement un lien sp√©cifique dans le navigateur. </li><li>  La capacit√© de travailler ensemble.  Il est possible de mettre la t√¢che √† la disposition du public et de parall√©liser le travail sur celle-ci. </li><li>  Facile √† d√©ployer.  L'installation de CVAT sur le r√©seau local est un couple de commandes via l'utilisation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker</a> . </li><li>  Automatisation du processus de balisage.  L'interpolation, par exemple, vous permet d'obtenir un balisage sur de nombreuses images, avec un travail r√©el uniquement sur certaines images cl√©s. </li><li>  L'exp√©rience des professionnels.  L'outil a √©t√© d√©velopp√© avec la participation d'annotations et de plusieurs √©quipes algorithmiques. </li><li>  La capacit√© √† s'int√©grer.  CVAT peut √™tre int√©gr√© dans une plateforme plus large.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Onepanel</a> . </li><li>  Prise en charge facultative de divers outils: <br><br><ul><li>  Deep Learning Deployment Toolkit (composant faisant partie d'OpenVINO) </li><li>  API de d√©tection d'objets Tensorflow (API TF OD) </li><li>  Syst√®me d'analyse ELK (Elasticsearch + Logstash + Kibana) </li><li>  NVIDIA CUDA Toolkit </li></ul></li><li>  Prise en charge de divers sc√©narios d'annotation. </li><li>  Open source sous une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">licence MIT</a> simple et gratuite. </li></ul><br>  <b>Inconv√©nients:</b> <br><br><ul><li>  Prise en charge limit√©e du navigateur.  Les performances de la partie client sont garanties uniquement dans le navigateur Google Chrome.  Nous ne testons pas CVAT dans d'autres navigateurs, mais th√©oriquement, l'outil peut fonctionner dans Opera, Yandex Browser et autres avec le moteur Chromium. </li><li>  Le syst√®me de tests automatiques n'a pas √©t√© d√©velopp√©.  Tous les contr√¥les de sant√© sont effectu√©s manuellement, ce qui ralentit consid√©rablement le d√©veloppement.  Cependant, nous travaillons d√©j√† sur une solution √† ce probl√®me en collaboration avec les √©tudiants de l'UNN eux.  Lobachevsky dans le cadre du projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IT Lab</a> . </li><li>  Aucune documentation de code source disponible.  S'impliquer dans le d√©veloppement peut √™tre assez difficile. </li><li>  Limitations de performances.  Avec les demandes croissantes sur le volume de balisage, nous avons √©t√© confront√©s √† divers probl√®mes, tels que la limitation du Chrome Sandbox √† l'utilisation de la RAM. </li></ul><br>  Bien entendu, ces listes ne sont pas exhaustives, mais contiennent des dispositions de base. <br><br>  Comme mentionn√© pr√©c√©demment, CVAT prend en charge un certain nombre de composants suppl√©mentaires.  Parmi eux: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Deep Learning Deployment Toolkit</a> dans le cadre de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenVINO Toolkit</a> - est utilis√© pour acc√©l√©rer le lancement du mod√®le d'API TF OD en l'absence d'un GPU.  Nous travaillons sur quelques autres utilisations utiles de ce composant. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API Tensorflow Object Detection</a> - utilis√©e pour marquer automatiquement les objets.  Par d√©faut, nous utilisons le mod√®le Faster RCNN Inception Resnet V2, form√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">COCO</a> (80 classes), mais il ne devrait y avoir aucune difficult√© √† connecter d'autres mod√®les. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Logstash, Elasticsearch, Kibana</a> - vous permettent de visualiser et d'analyser les journaux accumul√©s par les clients.  Cela peut √™tre utilis√©, par exemple, pour surveiller le processus de balisage ou rechercher des erreurs et les causes de leur occurrence. <br><br><img src="https://habrastorage.org/webt/ji/ps/dh/jipsdhgbmv5mdz5xg9zcdlehvc0.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NVIDIA CUDA Toolkit</a> - un ensemble d'outils pour effectuer des calculs sur le processeur graphique (GPU).  Il peut √™tre utilis√© pour acc√©l√©rer la mise en page automatique avec l'API TF OD ou dans d'autres modules compl√©mentaires personnalis√©s. <br><br><h4>  <font color="#0071c5">Balisage des donn√©es</font> </h4><br><ol><li>  Le processus commence par l'√©nonc√© du probl√®me de la mise en page.  La mise en sc√®ne comprend: <br><ul><li>  Sp√©cification d'un nom de t√¢che </li><li>  √ânum√©ration des classes √† baliser et de leurs attributs </li><li>  Sp√©cification des fichiers √† t√©l√©charger <br><ul><li>  Les donn√©es sont t√©l√©charg√©es √† partir du syst√®me de fichiers local ou d'un syst√®me de fichiers distribu√© mont√© dans un conteneur </li><li>  Une t√¢che peut contenir une archive avec des images, une vid√©o, un ensemble d'images et m√™me une structure de r√©pertoire avec des images lors du t√©l√©chargement via le stockage distribu√© </li></ul><br></li><li>  D√©finissez √©ventuellement: <br><ul><li>  Lien vers les sp√©cifications de balisage d√©taill√©es, ainsi que toute autre information suppl√©mentaire (Bug Tracker) </li><li>  Lien vers un r√©f√©rentiel Git distant pour stocker des annotations (r√©f√©rentiel de jeux de donn√©es) </li><li>  Faire pivoter toutes les images de 180 degr√©s (Flip Images) </li><li>  Prise en charge des couches pour les t√¢ches de segmentation (Z-Order) </li><li>  Taille de segment  Une t√¢che t√©l√©chargeable peut √™tre divis√©e en plusieurs sous-t√¢ches pour un travail parall√®le </li><li>  Zone d'intersection de segment (chevauchement).  Utilis√© en vid√©o pour fusionner des annotations dans diff√©rents segments </li><li>  Niveau de qualit√© lors de la conversion d'images (Qualit√© d'image) </li></ul><br></li></ul><br><img src="https://habrastorage.org/webt/f6/cm/aw/f6cmaw990imxl1p7hti0qoqjpga.jpeg"><br></li><li>  Apr√®s avoir trait√© la demande, la t√¢che cr√©√©e appara√Ætra dans la liste des t√¢ches. <br><br><img src="https://habrastorage.org/webt/qh/k6/9a/qhk69afukjxpdtwe37ttbtpxima.jpeg"><br></li><li>  Chacun des liens de la section Emplois correspond √† un segment.  Dans ce cas, la t√¢che n'√©tait pas segment√©e auparavant.  Un clic sur l'un des liens ouvre la page de balisage. <br><br><img src="https://habrastorage.org/webt/bj/l2/gz/bjl2gzyiftncpmkjdijdyal3lzg.jpeg"><br></li><li>  Ensuite, les donn√©es sont directement balis√©es.  Les rectangles, les polygones (principalement pour les t√¢ches de segmentation), les polylignes (peuvent √™tre utiles, par exemple, pour le marquage routier) et de nombreux points (par exemple, le marquage des rep√®res de face ou l'estimation de la pose) sont fournis comme primitives. <br><br><img src="https://habrastorage.org/webt/xb/ks/yo/xbksyo5brlzgxqun7q62g2tprsy.jpeg"><br><br>  Divers outils d'automatisation sont √©galement disponibles (copie, multiplication vers d'autres images, interpolation, marquage pr√©liminaire avec TF OD API), param√®tres visuels, nombreuses touches de raccourci, recherche, filtrage et autres fonctionnalit√©s utiles.  Dans la fen√™tre des param√®tres, vous pouvez modifier un certain nombre de param√®tres pour un travail plus confortable. <br><br><img src="https://habrastorage.org/webt/gu/lj/77/gulj77fqjkufvwbc1bfysmmloh0.jpeg"><br><br>  La bo√Æte de dialogue d'aide contient de nombreux raccourcis clavier pris en charge et quelques autres conseils. <br><br><img src="https://habrastorage.org/webt/qz/1t/gb/qz1tgbca457ylk4wqduofcfhpse.jpeg"><br><br>  Le processus de balisage peut √™tre vu dans les exemples ci-dessous. <br><br>  CVAT peut interpoler lin√©airement des rectangles et des attributs entre des images cl√©s dans une vid√©o.  Pour cette raison, l'annotation sur l'ensemble de cadres s'affiche automatiquement. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/U3MYDhESHo4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le mode d'annotation d'attribut a √©t√© d√©velopp√© pour le sc√©nario de classification, ce qui vous permet d'acc√©l√©rer l'annotation d'attributs en concentrant le balisage sur une propri√©t√© sp√©cifique.  De plus, le balisage se produit ici gr√¢ce √† l'utilisation de "touches de raccourci". <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UPNfWl8Egd8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Les polygones prennent en charge les scripts de segmentation s√©mantique et de segmentation d'instance.  Diff√©rents param√®tres visuels facilitent le processus de validation. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6IJ0QN7PBKo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></li><li>  Recevoir une annotation <br>  Le fait d'appuyer sur le bouton ¬´Dump Annotation¬ª lance le processus de pr√©paration et de chargement des r√©sultats de balisage dans un seul fichier.  Un fichier d'annotation est un fichier <a href="">.xml sp√©cifi√©</a> qui contient certaines m√©tadonn√©es de t√¢che et l'annotation enti√®re.  Le balisage peut √™tre t√©l√©charg√© directement dans le r√©f√©rentiel Git, si ce dernier √©tait connect√© lors de la cr√©ation de la t√¢che. </li></ol><br><h3>  <font color="#0071c5">Histoire et √©volution</font> </h3><br>  Au d√©but, nous n'avions pas d'unification, et chaque t√¢che de balisage a √©t√© r√©alis√©e avec ses propres outils, principalement √©crits en C ++ √† l'aide de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que OpenCV</a> .  Ces outils ont √©t√© install√©s localement sur les machines des utilisateurs finaux, il n'y avait pas de m√©canisme de partage des donn√©es, un pipeline commun pour d√©finir et marquer les t√¢ches, beaucoup de choses devaient √™tre faites manuellement. <br><br>  Le point de d√©part de l'histoire de la CVAT peut √™tre consid√©r√© fin 2016, lorsque le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vatican a</a> √©t√© pr√©sent√© comme un outil de mise en page, dont l'interface est pr√©sent√©e ci-dessous.  Vatic √©tait open source et a introduit de grandes id√©es g√©n√©rales, telles que l'interpolation du balisage entre les images cl√©s dans une architecture d'application vid√©o ou client-serveur.  Cependant, en g√©n√©ral, il fournissait une fonctionnalit√© de balisage plut√¥t modeste, et nous avons fait beaucoup de travail par nous-m√™mes. <br><br><img src="https://habrastorage.org/webt/ag/ze/et/agzeet_35gfb2io-dqo36vtf6jg.jpeg"><br><br>  Ainsi, par exemple, pour les six premiers mois, la possibilit√© d'annoter des images a √©t√© mise en ≈ìuvre, des attributs utilisateurs d'objets ont √©t√© ajout√©s, une page a √©t√© d√©velopp√©e avec une liste de t√¢ches existantes et la possibilit√© d'en ajouter de nouvelles via l'interface Web. <br><br>  Au cours du second semestre 2017, nous avons introduit l'API de d√©tection d'objets Tensorflow comme m√©thode d'obtention d'un balisage pr√©liminaire.  Il y a eu de nombreuses am√©liorations mineures au client, mais √† la fin nous avons √©t√© confront√©s au fait que la partie client a commenc√© √† fonctionner tr√®s lentement.  Le fait √©tait que la taille des t√¢ches augmentait, le temps de leur ouverture augmentait proportionnellement au nombre de trames et de donn√©es marqu√©es, l'interface utilisateur ralentissait en raison de la pr√©sentation inefficace des objets marqu√©s, les progr√®s √©taient souvent perdus au cours des heures de travail.  La productivit√© a principalement fl√©chi sur les t√¢ches avec des images, car la fondation de l'architecture de cette √©poque a √©t√© initialement con√ßue pour fonctionner avec la vid√©o.  Il y avait un besoin d'un changement complet de l'architecture client, avec lequel nous avons r√©ussi √† faire face.  La plupart des probl√®mes de performances √† ce moment-l√† avaient disparu.  L'interface Web est devenue beaucoup plus rapide et plus stable.  Le marquage de t√¢ches plus importantes est devenu possible.  Au cours de la m√™me p√©riode, on a tent√© d'introduire des tests unitaires pour assurer, dans une certaine mesure, l'automatisation des v√©rifications lors des modifications.  Cette t√¢che n'a pas √©t√© r√©solue avec autant de succ√®s.  Nous avons configur√© QUnit, Karma, Headless Chrome dans le conteneur Docker, √©crit quelques tests, lanc√© tout cela sur CI.  Cependant, une √©norme partie du code est rest√©e, et reste toujours, d√©couverte par des tests.  Une autre innovation a √©t√© un syst√®me de journalisation des actions des utilisateurs avec recherche et visualisation ult√©rieures bas√©es sur ELK Stack.  Il vous permet de surveiller le processus des annotateurs et de rechercher des sc√©narios d'action qui conduisent √† des exceptions logicielles. <br><br>  Au premier semestre 2018, nous avons √©tendu nos fonctionnalit√©s client.  Le mode d'annotation d'attributs a √©t√© ajout√©, qui impl√©mente un script efficace pour marquer les attributs, dont nous avons emprunt√© l'id√©e √† nos coll√®gues et g√©n√©ralis√©;  Vous pouvez maintenant filtrer les objets en fonction d'un certain nombre de signes, connecter un stockage commun pour t√©l√©charger des donn√©es lors de la d√©finition des t√¢ches en les visualisant via un navigateur, et bien d'autres.  Les t√¢ches sont devenues plus volumineuses et des probl√®mes de performances ont recommenc√© √† se poser, mais cette fois, la partie serveur √©tait le goulot d'√©tranglement.  Le probl√®me avec Vatic √©tait qu'il contenait beaucoup de code auto-√©crit pour des t√¢ches qui pourraient √™tre r√©solues plus facilement et plus efficacement en utilisant des solutions pr√™tes √† l'emploi.  Nous avons donc d√©cid√© de refaire le c√¥t√© serveur.  Nous avons choisi Django comme infrastructure de serveur, en grande partie en raison de sa popularit√© et de la disponibilit√© de nombreuses choses, comme on dit, pr√™tes √† l'emploi.  Apr√®s la modification de la partie serveur, alors qu'il ne restait plus rien de Vatic, nous avons d√©cid√© que nous avions d√©j√† fait pas mal de travail, qui peut √™tre partag√© avec la communaut√©.  Il a donc √©t√© d√©cid√© de passer √† l'open source.  Obtenir la permission pour cela au sein d'une grande entreprise est un processus plut√¥t √©pineux.  Il existe une grande liste d'exigences pour cela.  Y compris, il fallait trouver un nom.  Nous avons esquiss√© des options et men√© une s√©rie d'enqu√™tes aupr√®s de nos coll√®gues.  En cons√©quence, notre outil interne a √©t√© nomm√© CVAT, et le 29 juin 2018, le code source a √©t√© publi√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub dans l'organisation OpenCV</a> sous la licence MIT et avec la version initiale 0.1.0.  La poursuite du d√©veloppement a eu lieu dans un r√©f√©rentiel public. <br><br>  Fin septembre 2018, la version majeure 0.2.0 est sortie.  Il y a eu beaucoup de petits changements et corrections, mais l'objectif principal √©tait de prendre en charge de nouveaux types d'annotations.  Ainsi, un certain nombre d'outils pour marquer et valider la segmentation sont apparus, ainsi que la possibilit√© d'annoter avec des polylignes ou des points. <br><br>  La prochaine version, tout comme un cadeau de No√´l, est pr√©vue pour le 31 d√©cembre 2018.  Les points les plus importants ici sont l'int√©gration facultative de la bo√Æte √† outils de d√©ploiement Deep Learning dans le cadre d'OpenVINO, qui est utilis√©e pour acc√©l√©rer le lancement de l'API TF OD en l'absence d'une carte graphique NVIDIA;  syst√®me d'analyse des journaux d'utilisateurs qui n'√©tait pas disponible auparavant dans la version publique;  nombreuses am√©liorations c√¥t√© client. <br><br>  Nous avons r√©sum√© l'historique de la CVAT √† ce jour (d√©cembre 2018) et pass√© en revue les √©v√©nements les plus importants.  Vous pouvez toujours en savoir plus sur l'historique des modifications dans le <a href="">journal des</a> modifications. <br><br><h3>  <font color="#0071c5">Dispositif interne</font> </h3><br><img src="https://habrastorage.org/webt/le/ae/7l/leae7ly26adciu2xh8ik8r52p9a.jpeg"><br><br>  Pour simplifier l'installation et le d√©ploiement, CVAT utilise des conteneurs Docker.  Le syst√®me se compose de plusieurs conteneurs.  Un processus de supervision est ex√©cut√© dans le conteneur CVAT, qui g√©n√®re plusieurs processus Python dans l'environnement Django.  L'un d'eux est le serveur wsgi, qui g√®re les demandes des clients.  D'autres processus, rq workers, sont utilis√©s pour traiter les ¬´longues¬ª t√¢ches des files d'attente Redis: par d√©faut et faible.  Ces t√¢ches incluent celles qui ne peuvent pas √™tre trait√©es dans une seule demande utilisateur (d√©finition d'une t√¢che, pr√©paration d'un fichier d'annotation, balisage avec TF OD API, etc.).  Le nombre de travailleurs peut √™tre configur√© dans le fichier de configuration de supervord. <br><br>  L'environnement Django interagit avec deux serveurs de base de donn√©es.  Le serveur Redis stocke l'√©tat des files d'attente de t√¢ches et la base de donn√©es CVAT contient toutes les informations sur les t√¢ches, les utilisateurs, les annotations, etc.  PostgreSQL (et SQLite 3 en cours de d√©veloppement) est utilis√© comme SGBD pour CVAT.  Toutes les donn√©es sont stock√©es sur une partition enfichable (volume cvat db).  Les sections sont utilis√©es lorsque cela est n√©cessaire pour √©viter la perte de donn√©es lors de la mise √† jour du conteneur.  Ainsi, les √©l√©ments suivants sont mont√©s dans le conteneur CVAT: <br><br><ul><li>  Section avec vid√©o et images (volume de donn√©es cvat) </li><li>  Section avec cl√©s (volume des cl√©s cvat) </li><li>  Section avec journaux (volume de journaux cvat) </li><li>  Stockage de fichiers partag√© (volume partag√© cvat) </li></ul><br>  Le syst√®me d'analyse se compose d'Elasticsearch, Logstash et Kibana emball√©s dans des conteneurs Docker.  Lors de l'enregistrement du travail sur le client, toutes les donn√©es, y compris les journaux, sont transf√©r√©es vers le serveur.  Le serveur, √† son tour, les envoie √† Logstash pour filtrage.  De plus, il est possible d'envoyer automatiquement des notifications par e-mail en cas d'erreur.  Ensuite, les journaux tombent dans Elasticsearch.  Ce dernier les enregistre sur une partition enfichable (volume d'√©v√©nements cvat).  Ensuite, l'utilisateur peut utiliser l'interface Kibana pour afficher les statistiques et les journaux.  Dans le m√™me temps, Kibana interagira activement avec Elasticsearch. <br><br>  Au niveau source, CVAT comprend de nombreuses applications Django: <br><br><ul><li>  authentification - authentification des utilisateurs dans le syst√®me (de base et LDAP) </li><li>  moteur - une application cl√© (mod√®les de base de donn√©es de base; chargement et enregistrement de t√¢ches; chargement et d√©chargement d'annotations; interface client de balisage; interface serveur pour cr√©er, modifier et supprimer des t√¢ches) </li><li>  tableau de bord - interface client pour cr√©er, modifier, rechercher et supprimer des t√¢ches </li><li>  documentation - affichage de la documentation utilisateur dans l'interface client </li><li>  tf_annotation - annotation automatique avec l'API de d√©tection d'objets Tensorflow </li><li>  log_viewer - envoi de journaux du client √† Logstash lors de l'enregistrement d'une t√¢che </li><li>  log_proxy - Connexion proxy CVAT ‚Üí Kibana </li><li>  git - Int√©gration du r√©f√©rentiel Git pour le stockage des annotations </li></ul><br>  Nous nous effor√ßons de cr√©er un projet avec une structure flexible.  Pour cette raison, les applications facultatives n'ont pas d'int√©gration de code dur.  Malheureusement, bien que nous ne disposions pas d'un prototype id√©al du syst√®me de plug-in, mais progressivement, avec le d√©veloppement de nouvelles applications, la situation ici s'am√©liore. <br><br>  La partie client est impl√©ment√©e sur des mod√®les JavaScript et Django.    JavaScript  ,  , -   (   )   model-view-controller. ,      (, , )     ,      .       (    -   UI),     (, ,    :      , ,   models, views  controllers). <br><br><h3> <font color="#0071c5"> </font> </h3><br>   open source,        . ,    .      .   ,           CVAT.  ,  , .    : <br><br><ul><li>  CVAT  ,  ,   , ,  .       UI         . </li><li>     . ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>      . </li><li>     ,  .         ,        . </li><li>     .   deep learning ,  .  ,  Deep Learning Deployment Toolkit      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  OpenVINO  -  .       ,           .  ,      . </li><li>  demo- CVAT,  ,           ,     .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> demo-</a>  Onepanel,  CVAT              . </li><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon Mechanical Turk</a>  CVAT      .     SDK   . </li></ul><br>       ,     .  ,   ,     .            open source .        ‚Äì     ,  .   <a href=""></a>      ,    PR   .    ,     ,             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gitter</a> .  ,   !  ! <br><br><h3>  <font color="#0071c5">Les r√©f√©rences</font> </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub CVAT</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gitter Chat</a> </li><li> <a href="">Changelog</a> </li><li> <a href="">Contributing</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenVINO</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pretrained models</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433772/">https://habr.com/ru/post/fr433772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433760/index.html">√âlections, √©lections ...</a></li>
<li><a href="../fr433762/index.html">Comment choisissez-vous les produits en magasin?</a></li>
<li><a href="../fr433764/index.html">Nous cr√©ons des outils pour une analyse approfondie de la notation des applications dans le Google Play Store</a></li>
<li><a href="../fr433768/index.html">Pourquoi les d√©veloppeurs Android d√©testent Google</a></li>
<li><a href="../fr433770/index.html">La science de la recherche d'emploi, partie VII: seulement 50% des ¬´exigences¬ª d'un poste vacant doivent √™tre √©gal√©es</a></li>
<li><a href="../fr433774/index.html">Qui fait TeamLead Conf et pourquoi</a></li>
<li><a href="../fr433776/index.html">Tutoriel du pilote MongoDB Go</a></li>
<li><a href="../fr433780/index.html">Transition du kit d'interface utilisateur au syst√®me de conception dans QIWI</a></li>
<li><a href="../fr433782/index.html">Un exemple pratique de cr√©ation de votre propre composant View</a></li>
<li><a href="../fr433786/index.html">Fintech Digest: la crypto-monnaie est la propri√©t√©, un nombre record de cartes de cr√©dit ont √©t√© √©mises en F√©d√©ration de Russie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>