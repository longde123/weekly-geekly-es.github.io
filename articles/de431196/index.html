<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏻 👩🏽‍🔬 🛑 Wie Yandex.Taxi die Lieferzeit von Autos mithilfe von maschinellem Lernen vorhersagt 🙋🏼 ☝🏾 👩🏾‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stellen Sie sich vor, Sie müssen ein Taxi rufen. Sie öffnen die Anwendung, sehen, dass das Auto in etwa sieben Minuten ankommt, klicken auf "Bestellen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie Yandex.Taxi die Lieferzeit von Autos mithilfe von maschinellem Lernen vorhersagt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431196/">  Stellen Sie sich vor, Sie müssen ein Taxi rufen.  Sie öffnen die Anwendung, sehen, dass das Auto in etwa sieben Minuten ankommt, klicken auf "Bestellen" - und ... das Auto ist, wenn überhaupt, 15 Minuten von Ihnen entfernt.  Einverstanden, unangenehm? <br><br>  Im Rahmen des Schnitts werden wir darüber sprechen, wie Methoden des maschinellen Lernens Yandex.Taxi dabei helfen, die ETA (geschätzte Ankunftszeit - erwartete Ankunftszeit) besser vorherzusagen. <br><br><img src="https://habrastorage.org/webt/bf/5e/aq/bf5eaq56xusobc6hswfokurhe0u.png"><br><a name="habracut"></a><br>  Denken Sie zunächst daran, dass der Benutzer vor der Bestellung Folgendes in der Anwendung sieht: <br><br><img width="300" src="https://habrastorage.org/webt/xk/qf/cg/xkqfcgfun58vtoyhun-ldoq-wra.png"><br><br>  Auf der Karte zeigt Blau die optimalen Punkte für das Einsteigen in ein Taxi an.  Roter Stift - der Punkt, zu dem der Benutzer ein Taxi ruft.  Der Stift zeigt an, wie lange das Auto ankommen wird.  In einer perfekten Welt.  In der realen Welt nennen sich andere Personen in der Nähe über die Yandex.Taxi-Anwendung auch ein Auto.  Und wir wissen nicht, welches Auto an wen geht, weil sie erst nach Bestellung verteilt werden.  Wenn das Auto bereits zugewiesen wurde, verwenden wir für die Vorhersage das Yandex.Maps-Routing und die Zeit, wenn wir uns auf dem optimalen Pfad bewegen.  Dieses Mal (möglicherweise mit einem kleinen Rand) zeigen wir den Benutzer sofort nach der Bestellung.  Die Frage bleibt: Wie kann man ETA vor der Bestellung vorhersagen? <br><br>  Und hier erscheint maschinelles Lernen.  Wir treffen eine Auswahl mit Objekten und den richtigen Antworten und bringen dem Algorithmus bei, die Antwort gemäß den Eigenschaften des Objekts zu erraten.  In unserem Fall sind die Objekte Benutzersitzungen, die Antworten sind die Zeit, nach der das Auto tatsächlich angekommen ist.  Zeichen des Objekts können numerische Parameter sein, die vor der Bestellung bekannt sind: die Anzahl der Fahrer und Benutzer der Anwendung neben dem Stift, die Entfernung zu den nächsten Servicefahrzeugen und andere potenziell nützliche Werte. <br><br><h2>  Warum ist das wichtig? </h2><br><br>  In einer idealen Welt tun die Menschen alles im Voraus und planen ihre Zeit immer genau.  Aber wir leben in der realen Welt.  Wenn eine Person zu spät zur Arbeit oder, schlimmer noch, zum Flughafen kommt, ist es wichtig zu verstehen, ob sie rechtzeitig zum Verlassen und Erreichen ihres Ziels kommt. <br>  Bei der Entscheidung, was bestellt werden soll, wird der zukünftige Passagier unter anderem von der Wartezeit geleitet.  Es kann in verschiedenen Anwendungen für das Anrufen eines Taxis und in verschiedenen Tarifen einer Anwendung sehr unterschiedlich sein.  Damit der Benutzer die Auswahl nicht bereut, ist es sehr wichtig, die genaue ETA anzuzeigen. <br><br>  Alles scheint einfach zu sein.  Überlegen Sie sich mehr Schilder, trainieren Sie ein Modell wie CatBoost, sagen Sie die Zeit vor der Ankunft des Autos voraus - und Sie können dort enden.  Die Erfahrung zeigt jedoch, dass es besser ist, nicht zu hetzen und sorgfältig nachzudenken und es dann zu tun. <br><br>  Zunächst hatten wir keinen Zweifel daran, dass es notwendig war, die Zeit vorherzusagen, in der der Fahrer tatsächlich zum Benutzer gelangen würde.  Ja, wir wissen nicht genau, welches Auto vor der Bestellung zugewiesen wird.  Wir können die ETA jedoch anhand von Daten vorhersagen, die sich nicht auf einen bestimmten Fahrer beziehen, sondern auf die Fahrer in der Nähe der Bestellung.  Natürlich muss die Prognose ehrlich genug sein, damit der Benutzer die Zeit planen kann. <br><br>  Aber was bedeutet "ehrlich"?  Schließlich ist jeder Prognosealgorithmus schlecht oder nur statistisch gut.  Es gibt sowohl erfolgreiche als auch ehrlich gesagt schlechte Ergebnisse, aber Sie müssen "durchschnittlich" sein, um nicht wesentlich von den richtigen Antworten abzuweichen.  Es versteht sich, dass "im Durchschnitt" anders ist.  Der Durchschnitt besteht beispielsweise aus mindestens drei statistischen Konzepten: Erwartung, Median und Mode.  Das Bild aus Darrell Huffs großartigem Buch "Wie man mit Statistiken lügt" zeigt perfekt den Unterschied: <br><br><img width="600" src="https://habrastorage.org/webt/lu/i4/ia/lui4iawdwfbczidpq-rcivxyrr4.png"><br><br>  Wir möchten, dass das Modell im Durchschnitt nur wenige Fehler macht.  Abhängig vom Wert des "Durchschnitts" gibt es zwei Möglichkeiten, die Qualität der Prognosen zu bewerten.  Die erste Möglichkeit besteht darin, dem Benutzer die mathematische Erwartung der Zeit vor dem Eintreffen des Taxis anzuzeigen.  Als Ergebnis wird ein Modell trainiert, das das mittlere Quadrat des Prognosefehlers minimiert (Mean Squared Error, MSE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">E</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">c</span><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12">1</span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">n</span></span><span class="MJXp-mtext" id="MJXp-Span-15">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">u</span><span class="MJXp-msubsup" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">i</span><span class="MJXp-mo" id="MJXp-Span-22">=</span><span class="MJXp-mn" id="MJXp-Span-23">1</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-31">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">t</span><span class="MJXp-msubsup" id="MJXp-Span-35"><span class="MJXp-mrow" id="MJXp-Span-36" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-38" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-41" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-42">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.112ex" height="3.262ex" viewBox="0 -987.6 23298.2 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-53" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-45" x="1697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-3D" x="2739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-66" x="4045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="4596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="5047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-63" x="5577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-31" x="6010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="6511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-73" x="7361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-75" x="7831" y="0"></use><g transform="translate(8403,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-28" x="10530" y="0"></use><g transform="translate(10920,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-2212" x="11977" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-68" x="13228" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="13804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-74" x="14334" y="0"></use><g transform="translate(14695,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-342"></use></g><g transform="translate(15530,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="16623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="17075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-67" x="17420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-68" x="17901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-74" x="18477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="18839" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="19368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="19820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6F" x="20271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-77" x="20757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6D" x="21473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="22352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="22697" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> MSE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} (y_i - \ hat {y} _i) ^ 2 \ rightarrow min </script></p><br><br>  Hier <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-56"><span class="MJXp-msubsup" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-59" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.939ex" height="1.817ex" viewBox="0 -520.7 834.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> y_i </script>  - richtige Antworten, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">t</span><span class="MJXp-msubsup" id="MJXp-Span-65"><span class="MJXp-mrow" id="MJXp-Span-66" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-68" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.928ex" height="2.539ex" viewBox="0 -780.1 2552.3 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-74" x="1356" y="0"></use><g transform="translate(1717,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-342"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ hat {y} _i </script>  - Modellvorhersagen. <br><br>  Eine andere Option ist nicht mit der ETA-Prognose zu verwechseln, hauptsächlich in eine Richtung, nach oben oder unten.  In diesem Fall zeigen wir dem Benutzer den Median der Zeitverteilung vor dem Eintreffen des Taxis.  Als Ergebnis wird ein Modell trainiert, das das Durchschnittsmodul des Prognosefehlers optimiert (Mean Absolute Error, MAE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">E</span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-74">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">c</span><span class="MJXp-mrow" id="MJXp-Span-79"><span class="MJXp-mn" id="MJXp-Span-80">1</span></span><span class="MJXp-mrow" id="MJXp-Span-81"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">n</span></span><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">u</span><span class="MJXp-msubsup" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">i</span><span class="MJXp-mo" id="MJXp-Span-90">=</span><span class="MJXp-mn" id="MJXp-Span-91">1</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-98" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">t</span><span class="MJXp-msubsup" id="MJXp-Span-104"><span class="MJXp-mrow" id="MJXp-Span-105" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-108"><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-110">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.786ex" height="2.901ex" viewBox="0 -832 22727.3 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-41" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-45" x="1802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-3D" x="2844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-66" x="4150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="4701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="5152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-63" x="5682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-31" x="6115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="6616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-73" x="7466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-75" x="7936" y="0"></use><g transform="translate(8508,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-7C" x="10635" y="0"></use><g transform="translate(10914,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-2212" x="11971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-68" x="13222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="13798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-74" x="14328" y="0"></use><g transform="translate(14689,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="693" y="-342"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMAIN-7C" x="15524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="16052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="16504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-67" x="16849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-68" x="17330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-74" x="17906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-61" x="18268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="18797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-72" x="19249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6F" x="19700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-77" x="20186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6D" x="20902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-69" x="21781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgfFf3X86v11dFvUIcV50VZGbjpsA#MJMATHI-6E" x="22126" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> MAE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} | y_i - \ hat {y} _i | \ rightarrow min </script></p><br><br>  Aber wir stellten fest, dass wir uns ein bisschen voraus waren. <br><br><h2>  Die Aussage des Problems überdenken </h2><br>  Nach dem Termin wissen wir, welche Art von Auto an den Benutzer geht, was bedeutet, dass wir seine Reisezeit auf Yandex.Maps schätzen können.  Diese Zeit wird im Pin nach der Bestellung angezeigt.  Einerseits haben wir jetzt mehr Informationen und die Prognose wird genauer sein, andererseits ist dies auch eine Schätzung mit einem Fehler. <br><br>  Das war der Haken in der ETA-Pin-Aufgabe.  Während der Fahrer nicht zugewiesen ist, muss <b>genau die Zeit</b> vorhergesagt werden <b>, die das Yandex.Mart-Routing dann anzeigt,</b> und nicht die tatsächliche Zeit, bevor das Auto ausgeliefert wurde. <br><br>  Es scheint, was für ein Unsinn: Anstelle des genauen Wertes eine andere Prognose als Ziel nehmen?  Aber das macht Sinn, und hier ist der Grund.  Auf dem Weg zu Ihnen kann das angegebene Auto verweilen.  Der Fahrer geriet auf der Straße, im Stau aufgrund eines Unfalls in eine gefährliche Situation oder ging hinaus, um Wasser zu kaufen.  Solche Verzögerungen sind schwer vorherzusagen.  Sie erzeugen zusätzliches Rauschen in der Zielvariablen, wodurch die ohnehin schwierige Aufgabe, die ETA im Pin vorherzusagen, noch schwieriger wird. <br><br>  Wie Lärm loswerden?  Vorhersage der geglätteten Zielvariablen - die Zeit, die angezeigt wird, nachdem die Maschine basierend auf der Route zum Benutzer zugewiesen wurde. <br><br>  Dies ist die Logik aus geschäftlicher Sicht: Sie können die Zeit auf der Straße ohnehin nicht auf den optimalen Weg von ETA bringen, aber zusätzliche Verzögerungen können durch die Arbeit mit Fahrern verringert werden. <br><br><h2>  Qualitätsmetriken, Daten, Modell und Schulung </h2><br>  Wir haben herausgefunden, dass für ETA im Pin nicht die tatsächliche Zeit vorhergesagt werden muss, sondern die Zeit, die empfangen wird, nachdem die Maschine entlang der Route zugewiesen wurde.  Von den beiden Qualitätsmetriken MAE und MSE haben wir MAE ausgewählt.  Unter dem Gesichtspunkt der Intuitivität der Prognose ist es möglicherweise logischer, die mittlere Erwartung (MSE) zu bewerten, als den Median (MAE).  Aber MAE hat eine nette Eigenschaft: Das Modell ist unter Trainingsbeispielen widerstandsfähiger gegen Ausreißer. <br><br>  Zeichen sind in Gruppen unterteilt: <br>  - nach aktueller Zeit gebaut; <br>  - Geo (Koordinaten, Entfernung zum Stadtzentrum und wichtige Objekte auf der Karte); <br>  - Stift (wie viele und welche Autos in der Nähe sind, deren Dichte unterschiedlich berechnet wird); <br>  - Statistiken über die Zone (wie üblich machen wir Fehler, wie viel wir vorhersagen); <br>  - Daten über die nächstgelegenen Fahrer (wie lange sie erreichen, wie weit der erste näher als der zweite ist usw.). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Natürlich</a> wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CatBoost</a> auf diese Zeichen geschult.  Das entscheidende Argument war, dass sich die in CatBoost über ausgeglichene Bäume implementierte Gradientenverstärkung seit langem als sehr leistungsfähige Methode des maschinellen Lernens etabliert hat und sich die Methode zum Codieren kategorialer Merkmale in CatBoost regelmäßig für unsere Aufgaben auszahlt.  Ein weiteres nettes Feature der Bibliothek ist das schnelle Lernen auf der GPU. <br><br>  Nun ein paar Worte darüber, welche Modelle verglichen wurden.  Die anfängliche ETA (bevor sie durch maschinelles Lernen festgelegt wurde) wurde basierend auf der Zeit berechnet, für die die Maschine, die dem Benutzer am nächsten ist, ankommen konnte.  Das aktuelle Modell (das jetzt in der Anwendung verwendet wird) hat sich als maschinelles Lernen herausgestellt und <b>worum es in diesem Artikel geht.</b>  Darüber hinaus wird in Kürze ein neues Modell in Produktion gehen.  Sie verwendet um eine Größenordnung bedeutendere Merkmale, um das Problem zu lösen.  Die folgende Tabelle zeigt die Qualitätsmessungen dieser Modelle anhand historischer Daten.  Übrigens haben wir noch viele Pläne - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kommen Sie, um zu helfen</a> . <br><br>  <b>Vorhersagequalität für die ETA-Validierung *</b> <br><br><div class="scrollable-table"><table><tbody><tr><td><br></td><td>  Mittlerer absoluter Fehler <br></td><td>  Fehler länger als 1 Minute <br></td><td>  Fehler länger als 2 Minuten <br></td><td>  Fehler länger als 5 Minuten <br></td></tr><tr><td width="124"><p>  Original ETA </p><br></td><td width="125"><p>  82.082 </p><br></td><td width="125"><p>  29,95 </p><br></td><td width="125"><p>  18.12 </p><br></td><td width="125"><p>  3,7 </p><br></td></tr><tr><td width="124"><p>  Aktuelles Modell </p><br></td><td width="125"><p>  79,276 (–3,4) </p><br></td><td width="125"><p>  29,33 (–2,1) </p><br></td><td width="125"><p>  16,98 (–6,3) </p><br></td><td width="125"><p>  3 (–19,2) </p><br></td></tr><tr><td width="124"><p>  Neues Modell </p><br></td><td width="125"><p>  78,414 (–4,5) </p><br></td><td width="125"><p>  28,95 (–3,4) </p><br></td><td width="125"><p>  16,62 (–8,2) </p><br></td><td width="125"><p>  2,8 (–23,2) </p><br></td></tr></tbody></table></div><br><br>  * Prozentsatz (in Klammern die Änderung gegenüber der ursprünglichen ETA angeben). <br><br>  Durch maschinelles Lernen konnten wir etwa zwei Sekunden oder 3,4% der durchschnittlichen Prognoseabweichung gewinnen.  Und im neuen Modell - fast eine weitere Sekunde, insgesamt 4,5%.  Aus diesen Zahlen ist jedoch schwer zu verstehen, dass sich die ETA erheblich verbessert hat.  Um die Vorteile des maschinellen Lernens zu spüren, sollten Sie auf die letzte Spalte achten.  Fehlschläge mit einer Prognose von mehr als 5 Minuten wurden 19,2% und im neuen Modell sogar 23,2% weniger!  Solche Fehler treten übrigens nur in 3 und 2,8% der Fälle in Modellen mit maschinellem Lernen auf. <br><br><h2>  Zusammenfassung </h2><br>  Wir haben die ETA hauptsächlich im Pin angegeben, um den Benutzern eine zuverlässige Prognose zu liefern.  Bei jeder Anwendung des maschinellen Lernens in der Wirtschaft ist es natürlich unerlässlich, die wirtschaftlichen Auswirkungen zu bewerten.  Und verstehen Sie, ob es mit den Kosten für die Erstellung und Implementierung von Modellen vergleichbar ist.  Nach dem Online-A / B-Test stellte sich heraus, dass wir mithilfe von maschinellem Lernen einen statistisch signifikanten Anstieg der Conversion von einer Bestellung zu einer Reise (schließlich kann eine Bestellung storniert werden) und einen Anstieg der Conversion von einer Benutzersitzung zu einer Bestellung erhalten haben. <br><br>  In beiden Fällen handelt es sich um einen Effekt in der Größenordnung von 0,1 Prozentpunkten.  Dies widerspricht übrigens nicht der statistischen Signifikanz: Bei unseren Datenmengen wird auch ein solcher Unterschied in 2–4 Wochen zuverlässig festgestellt.  Und mit geschäftlicher Relevanz ist in der Tat auch nicht alles schlecht: Es stellte sich heraus, dass die Kosten für die Klärung der ETA durch die Zunahme der Umstellung in nur wenigen Monaten gedeckt werden. <br><br>  Als Ergebnis haben wir einen nützlichen und anschaulichen Fall erhalten.  Die Verfeinerung der ETA im Pin ist zu einer lehrreichen Geschichte über die sorgfältige Auswahl der Zielvariablen geworden.  Auf der Produktseite ist dies ein sehr motivierendes Beispiel: Wir haben die Anwendung verbessert und festgestellt, dass die Benutzer sie schätzen.  Wir hoffen, dass die verfeinerte ETA unseren Passagieren hilft, Meetings, Züge und Flugzeuge häufiger zu treffen. <br><br>  PS Wenn Sie an anderen Yandex.Taxi-Technologien interessiert sind, empfehlen wir einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beitrag zur dynamischen Preisgestaltung</a> , den mein Kollege kürzlich veröffentlicht hat. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431196/">https://habr.com/ru/post/de431196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431186/index.html">Entwurf nach Typen: So machen Sie ungültige Zustände in C # unaussprechlich</a></li>
<li><a href="../de431188/index.html">Technische Aspekte der Blockierung des Internets in Russland. Herausforderungen und Perspektiven</a></li>
<li><a href="../de431190/index.html">Wie man das Niveau eines SEO-Unternehmens bewertet, ohne eine Vereinbarung damit zu schließen</a></li>
<li><a href="../de431192/index.html">AWC führt Firecracker ein - Mikrovirtualisierung für Linux</a></li>
<li><a href="../de431194/index.html">Warmer Röhren-Hardcore. Wie war DotNext 2018 Moskau</a></li>
<li><a href="../de431198/index.html">So funktioniert der Dispatcher</a></li>
<li><a href="../de431200/index.html">Godot: Zum Thema der regelmäßigen Verwendung von statischen Code-Analysatoren</a></li>
<li><a href="../de431202/index.html">Debian und Devuan schließen sich für Sysvinit zusammen</a></li>
<li><a href="../de431204/index.html">Backdoor in einer der Abhängigkeiten der EventStream-Bibliothek</a></li>
<li><a href="../de431208/index.html">Splunk mit den Augen eines Neulings: Wie wir ein Lagerinventarsystem erstellt haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>