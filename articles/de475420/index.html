<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìé üå≤ üçÑ Wie funktionieren Kugeln in Videospielen? ü§ö üßöüèº üìß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="FPS-Spiele (Ego-Shooter, Ego-Shooter) sind seit dem Aufkommen des beliebtesten Wolfenstein 3D im Jahr 1992 ein fester Bestandteil der Videospielbranch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie funktionieren Kugeln in Videospielen?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475420/">  FPS-Spiele (Ego-Shooter, Ego-Shooter) sind seit dem Aufkommen des beliebtesten <em>Wolfenstein 3D</em> im Jahr 1992 ein fester Bestandteil der Videospielbranche geworden.  Seitdem hat sich das Genre weiterentwickelt: Die Grafik hat sich verbessert, die Entwicklungsbudgets sind gestiegen und das E-Sports-√ñkosystem hat sich entwickelt.  Aber was ist mit ihrer Schie√ümechanik?  Wie war die Entwicklung an dieser Front?  Warum scheinen Waffen in manchen Spielen real und in anderen wie Spielzeug? <br><br><h1>  Hitscan </h1><br>  In der Vergangenheit verwendeten viele Spiele zum Rendern von 3D-Szenen in 2D-Bilder eine als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener nofollow">Raycasting bezeichnete</a> Technik.  Durch Raycasting kann die Engine das erste Objekt bestimmen, mit dem sich der Strahl schneidet.  Aber dann stellten die Entwickler die Frage: ‚ÄûWas ist, wenn Sie einen Strahl aus dem Lauf der Waffe werfen, um eine Kugel zu simulieren?‚Äú Dank dieser Idee entstand ein Treffer-Scan (‚Äûhit scanning‚Äú). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edd/52e/e9f/edd52ee9f987eed8d495a47b5cb300d1.gif" width="557" height="200"></div><br>  <i>Raycasting-Beispiel</i> <br><br>  In den meisten Implementierungen von Waffen mit Treffern f√ºhrt die physische Engine beim Feuern eines Spielers die folgenden Vorg√§nge aus: <br><br><ul><li>  Definiert die Richtung, in die die Waffe zeigt. </li><li>  L√∂st einen Strahl aus einem Waffenrohr in einem vorgegebenen Abstand aus. </li><li>  Verwendet Raycasting, um festzustellen, ob ein Strahl das Objekt getroffen hat. </li></ul><br>  Wenn der Motor feststellt, dass sich das Objekt in der Schusslinie befindet, informiert er ihn dar√ºber und sagt, dass die Kugel ihn ‚Äûgetroffen‚Äú hat.  Dann kann das Ziel alle notwendigen Berechnungen durchf√ºhren, um den Schaden aufzuzeichnen. <a name="habracut"></a><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/b25/587/d00b2558736abf59879e8ae221070557.png" width="1280" height="720"></div><br>  <i>Aus der <strong>Einheit</strong> .</i>  <i>Punkt A bezeichnet eine Waffe, die einen Strahl bis zum Maximalpunkt B abgibt. Der Strahl kollidiert mit einem W√ºrfel, gegen den der Motor einen Treffer meldet.</i> <br><br>  Hitscan ist von Natur aus einfach, aber es k√∂nnen viele verschiedene √Ñnderungen vorgenommen werden, um andere Logik hinzuzuf√ºgen: <br><br><ul><li>  Wenn wir den Strahl √ºber das erste Objekt hinaus fortsetzen, auf das er trifft, k√∂nnen wir mehrere Objekte auf der Linie durchsto√üen, z. B. die Railgun in <em>Quake</em> </li><li>  Wenn wir die maximale Reichweite vom Strahl entfernen, erhalten wir einen Laser, der f√ºr immer fliegt, bis er auf etwas trifft </li><li>  Sie k√∂nnen einige Oberfl√§chen programmgesteuert reflektieren lassen, sodass Kugeln von ihnen abprallen </li></ul><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//7fY4Lgw/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>  <i><strong>Overwatch.</strong></i>  <i>Die F√§higkeit zur Ablenkung von Genji-Zeichen ist ein Beispiel f√ºr eine reflektierende Oberfl√§che.</i> <br><br>  Der Hauptvorteil von Raycasting ist die enorme Verarbeitungsgeschwindigkeit.  Es ist schnell berechnet und ben√∂tigt keinen zus√§tzlichen Speicher oder Prozessorzeit, um ein neues physisches Objekt zu erstellen.  Dies bedeutet, dass der Netzwerkcode, der zum Synchronisieren mehrerer Clients erforderlich ist, minimal ist, da der Server nur die Richtung des Strahls verfolgen muss.  R√ºcksto√ü ist auch einfach zu realisieren, um diesen Effekt zu simulieren, gen√ºgt es, eine leichte Abweichung im Blickfeld der Waffe hinzuzuf√ºgen. <br><br>  Daher ist es nicht verwunderlich, dass Treffer in der Schie√ülogik vieler Spiele verwendet werden.  Klassische Beispiele sind <em>Wolfenstein 3D</em> und <em>Doom</em> , aber diese Technologie wird auch in modernen Spielen verwendet.  Charaktere wie Soldier 76, McCree und die <em>Overwatch</em> Doom Widow verwenden Waffen mit Treffer-Scan, und die meisten Waffen in <em>Call of Duty basieren</em> ebenfalls auf Treffer-Scan. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//GJlka1y/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed//IeCD3nN/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed//1mOUKye/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><strong>Overwatch, Call of Duty, Wolfenstein 3D</strong></i> <br><br>  Warum wird dieser Ansatz nicht in allen Spielen verwendet? <br><br>  Erstens haben die Strahlen, wie Sie wahrscheinlich bemerkt haben, eine unendlich hohe Bewegungsgeschwindigkeit, dh sie erreichen sofort den Endpunkt.  Es ist keine Zeit f√ºr die Bewegung einer Kugel zwischen dem Abschuss einer Kugel und dem Auftreffen auf ein Objekt.  Das hei√üt, wenn ein Strahl auf ein Objekt trifft, ist es unm√∂glich, einer Kugel auszuweichen, auch wenn sich das Ziel mehrere Kilometer vom Spieler entfernt befindet. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//w9eDJ1u/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><strong>Halo.</strong></i>  <i>Beachten Sie, dass der M√ºndungsblitz und die Auswirkungen eines Aufpralls gleichzeitig auftreten.</i> <br><br>  Zweitens verwenden die meisten Hitscan-Implementierungen direkte Strahlen.  Dies bedeutet, dass es schwierig ist, Wind, Schwerkraft und andere √§u√üere Faktoren zu ber√ºcksichtigen, die die Kugel nach dem Herausfliegen aus dem Kofferraum beeinflussen k√∂nnen.  Programmierer k√∂nnen alle Arten von Tricks hinzuf√ºgen, damit der Strahl echte Kugeln imitiert. Sobald der Spieler den Strahl "abschie√üt", besteht jedoch keine M√∂glichkeit, seinen Pfad in der Mitte zu √§ndern. <br><br>  In vielen Casual Games wird noch immer Hitscan verwendet, da es den meisten neuen Spielern die Lernkurve erleichtert.  Aber was ist mit Spielen, die das "echte" Gef√ºhl des Schie√üens vermitteln sollen?  Mit solchen Einschr√§nkungen ist dies unm√∂glich zu erreichen, so dass eine andere Methode erforderlich ist. <br><br><h1>  Ballistik eines Flugobjekts </h1><br>  Dieser Begriff mag kompliziert erscheinen, auf abstrakter Ebene ist die Idee jedoch recht einfach.  Jede Kugel oder jedes Projektil, die von einer Waffe abgefeuert wird, erzeugt ein neues physisches Objekt in der Szene.  Es hat eine eigene Masse, Geschwindigkeit und Begrenzungsbox des Kontakts (Hitbox), die von der Game-Engine verfolgt werden. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//Ta02qiP/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Max Payne 3</strong> <br><br>  Die Vorteile der Ballistik kommen in Spielen voll zum Tragen, in denen der Realismus die h√∂chste Priorit√§t hat.  Da jedes Flugobjekt f√ºr sich existiert, k√∂nnen wir den Einfluss von Wind, Reibung, Schwerkraft und Temperatur ber√ºcksichtigen - jede Kraft, die auf die Kugel einwirken sollte.  Jetzt, da wir in der Lage sind, die Physik zu √§ndern, k√∂nnen die Spieler verschiedenste Waffen verwenden, nicht nur einfache Pistolen und Laser.  Wir k√∂nnen Granaten und Raketen in unser Arsenal aufnehmen. <br><br>  Da sich Kugeln in einem solchen System nicht mit Lichtgeschwindigkeit bewegen, ist es auch m√∂glich, zeitliche Eigenschaften zu realisieren: <br><br><ul><li>  Bullet Time von <em>Max Payne</em> , <em>Sniper Elite</em> und <em>Superhot</em> . </li><li>  Die Verweildauer des Geschosses, das hei√üt, wenn auf gro√üe Entfernungen geschossen wird (oder wenn ein sich langsam bewegendes Projektil abgefeuert wird), wird die Vorrangstellung kritisch. </li><li>  Verz√∂gerte Granatenexplosionen wie Granaten </li></ul><br>  Aufgrund dieser zus√§tzlichen Berechnungen wird die Verarbeitung teurer als die Verwendung von Hitscan.  Um die Synchronisation zu gew√§hrleisten, m√ºssen Server viel mehr Arbeit leisten. Es ist notwendig, Unstimmigkeiten oder Konflikte in der Logik auf der Clientseite zu beseitigen, damit sich alle Spieler auf demselben Server unter den gleichen Bedingungen befinden. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//RqTJFm3/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed//XZ4Smxa/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed//qsfueqP/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Superhot, Battlefield 1, Overwatch</strong> <br><br>  Es gibt viele Problemumgehungen, um die Produktivit√§t zu maximieren.  Beispielsweise kann die Engine einen Pool von Objekten speichern, die vor dem Start des Spiels geladen wurden, und diese bei Bedarf aktivieren.  Nach dem Auftreffen auf der Oberfl√§che k√∂nnen Sie die Animation der Ballistik abspielen und die Kugel ausschalten, um sie f√ºr die Zukunft zu speichern.  Mit dieser Methode k√∂nnen Sie Rechenressourcen und Speicher einsparen, die durch die mehrfache Erstellung und Zerst√∂rung von Objekten belegt werden. <br><br>  Es gibt auch viele M√∂glichkeiten, Berechnungen durchzuf√ºhren, aber auf einer hohen Ebene liegt der Unterschied darin, wo sie sich entscheiden, den "Takt" des Spiels zu verarbeiten - eine Zeiteinheit: <br><br><ul><li>  Die Uhr wird separat von der Renderlogik berechnet, dh das Spiel gibt Objekte auch dann genauer wieder, wenn Frames √ºbersprungen werden.  Es ist mehr Logik erforderlich, um die genaue Zeit zu berechnen, die seit dem vorherigen Rendern vergangen ist. </li><li>  Berechnung eines Ma√ües in jedem Rahmen;  Physik an Bildrate binden.  Wenn Sie die Beschr√§nkung der maximalen Framerate deaktivieren oder das Spiel beginnt, Frames zu √ºberspringen, beschleunigt oder verlangsamt sich die Physik der Welt. </li></ul><br>  Die Auswirkungen der Verkn√ºpfung von Bewegung mit Takten sind deutlich sichtbar, wenn sich die Muscheln schnell genug bewegen, um eine relativ gro√üe Distanz zwischen Takten zur√ºckzulegen.  Situationen k√∂nnen entstehen, wenn Objekte sich gegenseitig "passieren", weil sie sich im Motor nie √ºberschneiden. <br><br>  Das alles scheint kompliziert, so viele Leute denken, dass dies eine relativ neue Methode ist;  es kam jedoch tats√§chlich vor hitscan zustande!  Vor den FPS-Spielen gab es viele Top-Down-Sch√ºtzen wie <em>Asteroids</em> , <em>Space Invaders</em> oder <em>Galaxian</em> .  Dies sind Arcade-Spiele der 70er Jahre, in denen die Ballistik von Muscheln bereits implementiert wurde, wenn auch recht primitiv. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//P7jEjjn/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><strong>Asteroiden.</strong></i>  <i>Muscheln sind ziemlich schwer zu sehen, aber sie sind es!</i> <br><br>  Aber trotz all dieser Eigenschaften k√∂nnen wir kein realistisches Modell der realen Welt erstellen.  Gibt es eine M√∂glichkeit, beide Methoden zu nutzen? <br><br><h1>  Hybride Systeme </h1><br>  Die meisten Spiele-Engines k√∂nnen beide Arten von Geschosssimulationen verarbeiten: Trefferabtastung und Ballistik.  Auf diese Weise k√∂nnen Sie eine riesige Auswahl an Waffen realisieren.  Spiele wie <em>Halo</em> , <em>GTA</em> und <em>Half-Life</em> haben Waffen, die beide Arten von Physik unterst√ºtzen k√∂nnen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//61FC8Xd/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed//JmAm4jc/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><strong>Halo.</strong></i>  <i>Das Sturmgewehr verwendet einen Treffer-Scan.</i>  <i>Needler verwendet eine Projektilballistik</i> <br><br>  Entwickler k√∂nnen auch beide Techniken mischen, um die Schw√§chen jedes Systems zu decken und ein realistischeres Verhalten zu erzielen.  Um beispielsweise das Problem des gegenseitigen Durchdringens von Objekten zu beseitigen, kann jede Kugel in jedem Zyklus des Motors einen Strahl abgeben.  Auf diese Weise kann der Motor feststellen, ob sich die Strahlen zwischen den Messungen kreuzen und in der Luft kollidieren. <br><br>  Sie k√∂nnen auch kombiniert werden, um die Funktionen des Spiels zu verbessern.  Ein gutes Beispiel daf√ºr ist die <em>Sniper Elite-</em> Serie.  Nach dem Dr√ºcken des Abzugs ermittelt die Engine anhand des Trefferscans, ob der Schuss nahe genug an einem erkennbaren Objekt liegt, um eine Zeitlupe auszul√∂sen.  Wenn ja, wird eine Kugel mit der Berechnung der Ballistik im "Kugel-Zeit" -Modus abgefeuert. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed//OAbRWU1/embed?ref=https" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><strong>Scharfsch√ºtzenelite</strong></i> <br><br>  Also haben wir die Grundlagen des Verhaltens von Kugeln in Videospielen untersucht!  Interessanterweise liegen die Verbesserungen in diesem Bereich haupts√§chlich in kleinen Optimierungen und Verbesserungen und nicht in der Verarbeitung in gro√üem Ma√üstab.  Nach der Ver√∂ffentlichung der ersten revolution√§ren Spiele haben wir keine wesentlichen Schritte oder Durchbr√ºche gemacht. <br><br>  Was kommt als n√§chstes  Wie wird sich dieser Bereich in Zukunft entwickeln? <br><br>  Ich denke nicht, dass der hybride Ansatz in naher Zukunft verschwinden wird, da er zus√§tzliche Vorteile bietet.  Ich gehe jedoch davon aus, dass sich die Ballistik der Granaten erheblich verbessern wird.  Die Taktberechnungsfrequenz nimmt weiter zu (schlie√ülich steigt die CPU-Leistung), und wir k√∂nnen uns der asymptotischen Grenze der Simulation der Kugel der ‚Äûrealen Welt‚Äú n√§hern. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475420/">https://habr.com/ru/post/de475420/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475404/index.html">BLoC-Muster mit einem einfachen Beispiel</a></li>
<li><a href="../de475406/index.html">Als ich den Bot f√ºr die Schule geschrieben habe d / z und die Datenbank ge√§ndert habe</a></li>
<li><a href="../de475408/index.html">Merkmale der Steuerzahlung durch freiberufliche IT-Freiberufler</a></li>
<li><a href="../de475416/index.html">KI im eigenen SOC: Tr√§umen die Leiter von √úberwachungszentren f√ºr Cyberangriffe von elektrischer Analytik?</a></li>
<li><a href="../de475418/index.html">Diskussion: Warum popul√§res Video-Hosting zunehmend Inhalte mit Hacker-Anleitungen l√∂scht</a></li>
<li><a href="../de475424/index.html">Fliegen Sie mit einem Dosimeter in der Tasche</a></li>
<li><a href="../de475426/index.html">BIM, CAD oder MCAD? Architektonisches Design neu denken</a></li>
<li><a href="../de475430/index.html">Mission: Arbeit vom College finden</a></li>
<li><a href="../de475432/index.html">Die Geschichte von einem Hack oder √Ñrger den Programmierer nicht</a></li>
<li><a href="../de475434/index.html">- Wir rufen Sie zur√ºck</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>